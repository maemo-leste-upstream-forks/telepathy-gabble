commit a1b20303ad25d7d3c52f2cabfc4f72d84f699f23
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jan 28 15:58:56 2010 +0000

    Version 0.9.4

 NEWS         |   43 +++++++++++++++++++++++++++++++++++++++++--
 configure.ac |    4 ++--
 2 files changed, 43 insertions(+), 4 deletions(-)

commit 03379adfc79f09dbcbba1e69a9146e6fd64b023c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jan 28 12:45:11 2010 +0000

    Add Call interfaces to EXTRA_DIST

 extensions/Makefile.am |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 7a859d2944da798a22b79a1b94b7d1ba6b1a94d5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jan 28 12:41:03 2010 +0000

    Use the Glorious XIncludator, not identity.xsl

 extensions/Makefile.am |    4 ++--
 tools/Makefile.am      |    4 ++--
 tools/identity.xsl     |    7 -------
 tools/xincludator.py   |   39 +++++++++++++++++++++++++++++++++++++++
 4 files changed, 43 insertions(+), 11 deletions(-)

commit 2dabba9c31fc6e81fce8d52f39cab18ab8f7ac68
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jan 27 17:06:41 2010 +0000

    Add a --disable-channel-type-call configure switch

 configure.ac                            |   11 +++++++
 src/media-factory.c                     |    4 ++-
 tests/twisted/Makefile.am               |    7 ++++
 tests/twisted/jingle/call-basics.py     |    5 +++
 tests/twisted/jingle/call-codecoffer.py |    6 ++++
 tests/twisted/jingle/stun-server.py     |   47 ++++++++++++++++++------------
 6 files changed, 60 insertions(+), 20 deletions(-)

commit d4ef47aca699ac72716a03269a2f53dcbb01f02c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jan 27 14:28:49 2010 +0000

    Don't crash on disco requests with no id=''
    
    It's illegal to send <iq/> stanzas without an id='' (per the first rule
    of IQ Semantics in XMPP Core
    <http://xmpp.org/rfcs/rfc3920.html#stanzas-semantics-iq>), but neither
    ejabberd nor Loudmouth filters them out before they reach Gabble. If
    passed an IQ with no id='', lm_iq_message_make_result() returns NULL;
    connection_iq_disco_cb() assumed that it returned a valid message, and
    hence crashed.
    
    Other places which call lm_iq_message_make_result() already check if the
    result was NULL, so this is the only place that needed fixing.
    
    Fixes: fd.o#26271
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

 src/connection.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit da5cb49ad68609e30348771c4b25d5892d03d66e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Jan 27 14:46:40 2010 +0000

    Update wocky snapshot

 lib/ext/wocky |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit aa90a8e299ed3774b7c7acc429b39fd65eb392c4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jan 27 12:35:45 2010 +0000

    Use XEP-0276 Temporary Presence Sharing, instead of our prototype version
    
    Also improve jingle/decloak-peer.py to make better assertions about the
    presence stanza we use to decloak a peer.

 src/connection.c                     |    4 ++--
 src/namespaces.h                     |    2 +-
 src/presence-cache.c                 |    4 ++--
 tests/twisted/jingle/decloak-peer.py |   10 ++++++++--
 tests/twisted/ns.py                  |    2 +-
 tests/twisted/presence/decloak.py    |    2 +-
 6 files changed, 15 insertions(+), 9 deletions(-)

commit 679cfc5c6cf8d79a70cfc54d36803c258d9a3d5c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jan 27 12:16:25 2010 +0000

    Remove decloaking proto-XEP; it's now XEP-0276

 docs/Makefile.am                                   |    1 -
 docs/decloak.xml                                   |  273 --------------------
 extensions/Connection_Interface_Gabble_Decloak.xml |    7 +-
 3 files changed, 4 insertions(+), 277 deletions(-)

commit fa4c21f2a6275ae85f7985b23713df67d25b4f83
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jan 25 14:46:03 2010 +0000

    Correct attribute name for Contact Capabilities
    
    /caps is wrong; /capabilities is right. Fixes fd.o#26210.

 src/connection.c                                   |    2 +-
 tests/twisted/caps/tube-caps.py                    |    8 ++++----
 tests/twisted/constants.py                         |    2 ++
 .../file-transfer/test-caps-file-transfer.py       |    4 ++--
 4 files changed, 9 insertions(+), 7 deletions(-)

commit e520f52d0dedff11527e00264c602aaeb0228c1d
Merge: b559624 b04a052
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 22 16:08:30 2010 +0000

    Merge branch 'decloak-api'
    
    Reviewed-by: Vivek Dasmohapatra
    Conflicts:
    	extensions/all.xml
    	tests/twisted/Makefile.am

commit b55962469416da2ffd9350d6017a6f421df541fb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 22 15:49:01 2010 +0000

    fd.o #26170: correctly NULL-terminate muc_tubes_channel_allowed_properties
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

 src/muc-factory.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 780375d88e9af9e8bd70216d38d03c8200dd09c2
Merge: d619840 afbbb05
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Jan 22 14:50:58 2010 +0000

    Merge remote branch 'maiku/implement-ensure'

commit d619840d391bd6939fbe2113a7565c289697c32e
Merge: 20d5afe 3e94d46
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Jan 22 14:50:36 2010 +0000

    Merge remote branch 'maiku/replace-codecoffers'
    
    Conflicts:
    	src/call-content.c
    	src/call-content.h

commit 20d5afee894774296021cd4f48946b2cc42baeef
Merge: 7dba588 e005d04
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Jan 22 14:41:31 2010 +0000

    Merge remote branch 'maiku/handle-new-content'

commit 7dba588d8fba926fe0084b9345eb19e3171ec5d1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Jan 22 11:49:33 2010 +0000

    Add --enable-is-a-phone
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

 NEWS             |    8 ++++++++
 configure.ac     |    9 +++++++++
 src/connection.c |    4 ++++
 3 files changed, 21 insertions(+), 0 deletions(-)

commit afbbb05d6be544074fabbdad6e25641c16cb74f4
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Thu Jan 21 20:51:19 2010 -0600

    Test Ensuring channels that are most likely still being created.

 tests/twisted/jingle/outgoing-ensure.py |   57 +++++++++++++++++++++++++++++++
 1 files changed, 57 insertions(+), 0 deletions(-)

commit 2b273508acf36ffa0ed2f06f8faca83fe560be20
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Thu Jan 21 20:49:33 2010 -0600

    Update the outgoing-ensure test to test the Call interface too.

 tests/twisted/jingle/outgoing-ensure.py |   46 ++++++++++++++++---------------
 1 files changed, 24 insertions(+), 22 deletions(-)

commit 8a5a81a6be253c423527ab0852f8f7e2015fc900
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Thu Jan 21 20:40:21 2010 -0600

    Add the MediaChannelRequest into pending_call_channels.
    
    This looks like it was a typo. Another place in the code tries to
    remove a MediaChannelRequest from pending_call_channels, but the
    only place that inserts anything into pending_call_channels inserts
    a channel. Inserting the MediaChannelRequest makes more sense as
    then you can add request tokens to it.

 src/media-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9c8abea8af92b059ee25c7e93775dc09fa4c782d
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Thu Jan 21 20:38:06 2010 -0600

    CallChannel uses "handle" instead of "peer".
    
    The StreamedMedia interface used "peer" to fetch the target handle.
    CallChannel provides "handle" instead.

 src/media-factory.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit 3e94d46057eb68963016e666ea06b35870575372
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Thu Jan 21 17:24:28 2010 -0600

    Keep count of the pending CodecOffers.
    
    Only free CallContent once all of its pending CodecOffers have been
    freed.

 src/call-content.c |   25 +++++++++++++++++++++----
 1 files changed, 21 insertions(+), 4 deletions(-)

commit 5b5e88df16ac072f9119991f1e143e84268db540
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Jan 21 16:02:50 2010 +0000

    Mention we do file transfer in the README

 README |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 5179e40604425fc0b3dddf5fe36bd0bce17d951e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Jan 21 15:55:34 2010 +0000

    Stop referring to Loudmouth in the README

 README |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 189d080d560c450f2b23ad6802e5e70fc7d56569
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jan 21 15:05:00 2010 +0000

    I noticed the extra newline only after pushing :(

 gabble/telepathy-gabble-uninstalled.pc.in |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 57e99f97bd380fc92d49c70e8d2936d63fa2b849
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   Thu Jan 21 14:21:33 2010 +0000

    Update wocky (openssl backend now offers deflate compression)

 lib/ext/wocky |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8a4eb423bbf6196cfb93cc06463cfa7e8eb640cd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jan 21 12:57:41 2010 +0000

    Add a version to the gateways plugin.
    
    I'm deliberately not setting a version on the test plugin to make sure
    Gabble copes with it being NULL.

 plugins/gateways.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 40768280a76471e4fd6784c52eafa5ff40b3c6f4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jan 21 12:53:53 2010 +0000

    Show plugins' version in debug output

 src/plugin-loader.c |    8 ++++++--
 1 files changed, 6 insertions(+), 2 deletions(-)

commit 49aa6a73cb7de004a77780730bc128b33125e47d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jan 21 12:49:50 2010 +0000

    Add a version field to GabblePluginInterface.

 gabble/plugin.h |    8 ++++++++
 src/plugin.c    |    8 ++++++++
 2 files changed, 16 insertions(+), 0 deletions(-)

commit 1223803555fe45ea5caa4300ec75fd422dd4de0a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jan 21 12:05:33 2010 +0000

    Add a variable with the path to Gabble to .pc files
    
    Tests for out-of-tree Gabble plugins need to know where Gabble lives in
    order to set its working directory and environment variables, etc. It's
    possible to set the latter on the tests' dbus-daemon, but having the
    path to Gabble allows plugins' test framework look more like Gabble's
    (with their own directory of D-Bus services, rather than relying on the
    installed set).
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 gabble/telepathy-gabble-uninstalled.pc.in |    2 ++
 gabble/telepathy-gabble.pc.in             |    2 ++
 2 files changed, 4 insertions(+), 0 deletions(-)

commit f8c039df16769d01e1fad39506ee6c2484e2bda8
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Wed Jan 20 22:53:59 2010 -0600

    In EnsureChannel, check pending call channels as well.
    
    If there's a pending call channel, the EnsureChannel request can
    piggy-back on that request and simply add its request_token to the
    list in the MediaChannelRequest.

 src/media-factory.c |   17 +++++++++++++++++
 1 files changed, 17 insertions(+), 0 deletions(-)

commit f4f1f376bd74ff58bcaa2a6cec0e57fbca21d28d
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Wed Jan 20 21:59:20 2010 -0600

    Unregister Contents and their Streams from DBus ASAP after deiniting.

 src/call-content.c |   14 ++++++++++++++
 1 files changed, 14 insertions(+), 0 deletions(-)

commit 83e832241863218b35d0f5879b4cd9e62126ae81
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Wed Jan 20 21:42:33 2010 -0600

    Skip setting codecs if the offer is invalid.
    
    After cancelling an AsyncResult, it can potentially still return
    successfully. This code assumed it would always return an error.
    This patch makes it skip setting codecs if there was an error,
    the content was deinited, or the offer that finished isn't current.

 src/call-content.c |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

commit 6816b1e823b0a839126c02cf001a32c5cbbaf09b
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Wed Jan 20 21:24:54 2010 -0600

    Unleak when switching CodecOffers.

 src/call-content-codecoffer.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 8b10d54037ba7a0a07013c2044129711b2c378c1
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Wed Jan 20 20:11:45 2010 -0600

    Unregister CodecOffer from the bus immediately when cancelled.

 src/call-content-codecoffer.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 8c6624c9743fac3981e1039b8ee27494acd0dd42
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Wed Jan 20 19:43:46 2010 -0600

    Make sure the NewChannels signal contains the Call.
    
    A race was happening where the testcase was failing due to the
    NewChannels signal from the contact list being caught instead of
    the one for the Call. This caused the rest of the test case to
    continue before the Call was ready and would fail when trying
    to retrieve the Contents property.

 tests/twisted/jingle/call-codecoffer.py |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit a416cf558ce810afd6cdd0c2c74a63e5a0b4248c
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Wed Jan 20 17:24:24 2010 -0600

    Remove AsyncResult dispose code from CodecOffer.
    
    AsyncResult will have a ref to the CodecOffer.

 src/call-content-codecoffer.c |   17 -----------------
 1 files changed, 0 insertions(+), 17 deletions(-)

commit 747ff23ed8d3dd0d4bbd954f2ebed7f912603f52
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Mon Jan 18 20:32:19 2010 -0600

    Add test for CodecOffer's Reject method.

 tests/twisted/jingle/call-codecoffer.py |    9 ++++-----
 1 files changed, 4 insertions(+), 5 deletions(-)

commit da2f212d18ac83d521b0f2e9e1a87d9a929c6b20
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Mon Jan 18 20:31:20 2010 -0600

    Implement Reject on CallContentCodecoffer.

 src/call-content-codecoffer.c |   28 ++++++++++++++++++++++++++++
 1 files changed, 28 insertions(+), 0 deletions(-)

commit 600011fd50f651168c66f8de15a6aa4ff0eada73
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Mon Jan 18 18:49:59 2010 -0600

    Add testcase to make sure CodecOffers are freed when CallContent is freed.

 tests/twisted/jingle/call-codecoffer.py |   27 +++++++++++++++++++++++++++
 1 files changed, 27 insertions(+), 0 deletions(-)

commit 4ea81b3a3f48596382c97d6e7a6f904383568eae
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Wed Jan 20 17:27:29 2010 -0600

    Add a _deinit function to CallContent.
    
    Using _deinit, CallContent will wait for its CodecOffer (if any) to
    be freed before allowing itself to be freed.

 src/call-channel.c |    2 +-
 src/call-content.c |   20 +++++++++++++++++++-
 src/call-content.h |    1 +
 3 files changed, 21 insertions(+), 2 deletions(-)

commit 961f1972f5df63196896bcdde0414575db4e86db
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Wed Jan 20 16:20:52 2010 -0600

    Add debug messages for unexpected events in Accept().

 src/call-channel.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 1458db7a77aaa1d4e8428350b0e9964c73a66f75
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Wed Jan 20 16:06:36 2010 -0600

    Modify error message wording.

 src/media-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e005d0407ce6560a2206c4645dc664a374500bb9
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Wed Jan 20 15:53:11 2010 -0600

    Use a function to get the local sending state.

 src/call-content.c |   14 ++------------
 src/call-stream.c  |   17 +++++++++++++++++
 src/call-stream.h  |    1 +
 3 files changed, 20 insertions(+), 12 deletions(-)

commit c04ad7ea628c6131da2da818b2d53aeff6637b90
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Wed Jan 20 14:24:58 2010 -0600

    Simplify an if statement.

 src/call-stream.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 7ac7ee278ec1c6a589916adbf74ab16ddc534a96
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Fri Jan 15 17:53:57 2010 -0600

    Set sending state to sending if the local side created it.
    
    When a stream is created by the local side, it should initially be
    in the sending state.

 src/call-stream.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 4d07f4be1777565091bff9f5c5605ee83a609686
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Thu Jan 14 13:41:32 2010 -0600

    In Accept(), set sending state from Pending to Sending automatically.
    
    As per the spec, in Accept(), all streams that are in the pending
    send state and are in contents whose disposition is initial should
    be automatically set to the sending state.

 src/call-channel.c |    2 ++
 src/call-content.c |   29 +++++++++++++++++++++++++++++
 src/call-content.h |    1 +
 3 files changed, 32 insertions(+), 0 deletions(-)

commit 76a0599d4e19d0a2dfb371ba0f382c7b6a5fdd87
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Thu Jan 14 13:08:32 2010 -0600

    Fix SetSending to correctly set senders and update Jingle.

 src/call-stream.c |   73 +++++++++++++++++++++++++++++++++++++++++++++++------
 src/call-stream.h |    1 +
 2 files changed, 66 insertions(+), 8 deletions(-)

commit 6e4d629f4603605e7420273ceb5e16028fc609fc
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Thu Jan 7 21:03:19 2010 -0600

    Handle when the remote end adds a content to the session.

 src/call-channel.c |   26 ++++++++++++++++++++++++++
 1 files changed, 26 insertions(+), 0 deletions(-)

commit 8ade2d1fa5953e492990847771a1244b2392d36b
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Fri Jan 15 16:19:48 2010 -0600

    Add add tests for CodecOffers.

 tests/twisted/Makefile.am               |    1 +
 tests/twisted/jingle/call-codecoffer.py |  114 +++++++++++++++++++++++++++++++
 2 files changed, 115 insertions(+), 0 deletions(-)

commit 33572756db667c2ed002599331758c9661337479
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Fri Jan 15 16:09:09 2010 -0600

    Handle switching CodecOffers in CallContent.

 src/call-content.c |   18 +++++++++++++-----
 1 files changed, 13 insertions(+), 5 deletions(-)

commit 03d33cd391855f3752e55629ceb0f91089ec5c0b
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Fri Jan 15 16:07:23 2010 -0600

    Handle a GCancellable passed to gabble_call_content_codecoffer_offer.

 src/call-content-codecoffer.c |   48 +++++++++++++++++++++++++++++++++++++++++
 1 files changed, 48 insertions(+), 0 deletions(-)

commit d31cd86c2ef2995c44373dde97277450831db1ab
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Mon Jan 18 19:55:44 2010 -0600

    Support EnsureChannel.

 src/media-factory.c |   37 +++++++++++++++++++++++++++++++++----
 1 files changed, 33 insertions(+), 4 deletions(-)

commit cfacc64ba48286023b9fa2bacf2102bee1810f5c
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Mon Jan 18 22:56:22 2010 -0600

    Add a testcase for the Ringing_Locally flag.

 tests/twisted/jingle/call-basics.py |   11 ++++++++++-
 1 files changed, 10 insertions(+), 1 deletions(-)

commit 21c690cb16ed3b4302ca9538ce47994843e4880c
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Mon Jan 18 22:55:33 2010 -0600

    Set the Ringing_Locally flag when Ringing is called.

 src/call-channel.c |   31 +++++++++++++++++++++++++++++--
 1 files changed, 29 insertions(+), 2 deletions(-)

commit 28f901c858bcaebd791a970977783d74e68d9e6e
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Mon Jan 18 21:50:36 2010 -0600

    Ensure Accept isn't called in an invalid state.

 src/call-channel.c |   16 ++++++++++++++++
 1 files changed, 16 insertions(+), 0 deletions(-)

commit 9d4d394e52ad11dca205365602553b708f34dcd1
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Mon Jan 18 21:36:05 2010 -0600

    Return an error if AddContent is called on an ended Call.

 src/call-channel.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 5a7757ca53b83ee6904354f02a4caa0ade0a11eb
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Mon Jan 18 21:14:13 2010 -0600

    Don't send a content-modify message if the content hasn't been sent yet.
    
    This fixes a crash if you SetSending before session-initiate is sent.

 src/jingle-content.c |   11 +++++++----
 1 files changed, 7 insertions(+), 4 deletions(-)

commit 344de4db2a684323083cc3fb8432009f720feb34
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Mon Jan 18 20:17:57 2010 -0600

    Ensure that InitialAudio and/or InitialVideo is set.

 src/media-factory.c |   11 +++++++++--
 1 files changed, 9 insertions(+), 2 deletions(-)

commit 07914e06755374064b50ec7f7d8e46c705301f7e
Merge: 04c6381 0145f36
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Jan 15 16:24:19 2010 +0000

    Merge remote branch 'danni/pmuc'

commit 04c638177e42671a64acc55b9f4141e27bdf4249
Merge: a1f6b57 70b9262
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jan 13 15:52:37 2010 +0000

    Merge branch 'enumtypes'
    
    Reviewed-by: Vivek Dasmohapatra <vivek@collabora.co.uk>

commit 70b926235f24014036ea42d72d1e847eaeefb990
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jan 13 15:44:46 2010 +0000

    fd.o #26027: gibber, loudmouth, src: remove unused rules for *-enumtypes.h
    
    If/when we resurrect these, we should use static pattern rules rather than
    implicit rules, to avoid the bug described in fd.o #26027.

 lib/gibber/Makefile.am    |   18 ------------------
 lib/loudmouth/Makefile.am |   18 ------------------
 src/Makefile.am           |   18 ------------------
 3 files changed, 0 insertions(+), 54 deletions(-)

commit d8452cbe12580af14352e78af4a1d815a24ad3b9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jan 13 15:43:22 2010 +0000

    fd.o#26027-related: update wocky to have less magic in *-enumtypes.h

 lib/ext/wocky |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a1f6b57a49b180cbe2d3d29b2b07e1abdc0a7786
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jan 13 13:53:29 2010 +0000

    Update wocky for working gtkdoc and better enumtypes.h generation

 lib/ext/wocky |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 0145f36d52f54dca7ab56bb48cb27d6140c2c6ab
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   Wed Jan 13 21:33:24 2010 +1100

    Remove requirement that InitialInvitee{IDs,Handles} are mutually exclusive

 src/muc-factory.c |    7 -------
 1 files changed, 0 insertions(+), 7 deletions(-)

commit 0c2492f71f5ee8b8781d72f57b04e60e2b1ce54c
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   Wed Jan 13 21:29:30 2010 +1100

    Use that quirk to decide when to create a chat on Google's server

 src/muc-factory.c |   33 ++++++++++++++++++++++++++-------
 1 files changed, 26 insertions(+), 7 deletions(-)

commit 967e2f391a3f4a8e5cf526b3e9a60d16378fdc64
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   Wed Jan 13 21:28:45 2010 +1100

    Add a quirk capability to detect the Google webmail client from its c@node

 src/capabilities.h   |    2 ++
 src/presence-cache.c |   31 +++++++++++++++++++++++++++++++
 2 files changed, 33 insertions(+), 0 deletions(-)

commit a7fb982744b626772abfcfb1f26dab9a77d8ab56
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jan 12 17:11:24 2010 +0000

    ¬ require-encryption ⇒ ignore-ssl-errors
    
    In Gabble 0.8, setting require-encryption to False implicitly set
    ignore-ssl-errors to True, on the basis that if you're only using TLS
    opportunistically, you don't care about most certificate errors (except
    maybe revocation). There are only three combinations of these two
    settings:
    
     • Don't care about encryption
     • Give me SSL but I don't care about certs
     • Tin-foil hat
    
    Previously in 0.9, the two parameters were just passed as-is to Wocky,
    which does not behave as described above. This patch makes Gabble
    explicitly state this logic.
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

 src/connection.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 7336d67d367d7b7f7c19af78fe51527f214c11f7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jan 12 11:41:41 2010 +0000

    Depend on dbus-glib 0.82 for _unregister_g_object
    
    While this function was introduced in an earlier version, it was not
    exposed in a header file until 0.82.
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

 configure.ac |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit ddaf234d1628e9a464ac37ec719e9845a4615b41
Merge: ed89e24 9254d60
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 11 21:46:28 2010 +0000

    Merge branch 'gateway-reg'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 9254d60e427435824cc4a89701528c4ba88c72ad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 11 20:52:50 2010 +0000

    gateways plugin: put non-WOCKY_XMPP_ERROR errors through gabble_set_tp_error_from_wocky

 plugins/gateways.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 7098fca46292a666b3a8297c07f30f6db310f361
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 4 18:53:56 2010 +0000

    Add a regression test for the gateways plugin
    
    In particular, check that the errors mentioned in XEP-0077 are handled.

 tests/twisted/Makefile.am  |    1 +
 tests/twisted/constants.py |    1 +
 tests/twisted/gateways.py  |   94 ++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 96 insertions(+), 0 deletions(-)

commit 0e4b405ad5393afa134ff867546f0a227e18f6fa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 11 20:37:51 2010 +0000

    plugins: add a gateway-registration plugin

 plugins/Makefile.am |   11 ++
 plugins/gateways.c  |  345 +++++++++++++++++++++++++++++++++++++++++++++++++++
 plugins/gateways.h  |   85 +++++++++++++
 3 files changed, 441 insertions(+), 0 deletions(-)

commit 092af3fb811d6b6d010903835a2c63102ca35543
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 11 15:42:59 2010 +0000

    extensions: add a very simple API for gateway registration

 extensions/Gabble_Plugin_Gateways.xml |   75 +++++++++++++++++++++++++++++++++
 extensions/Makefile.am                |    1 +
 extensions/all.xml                    |    1 +
 3 files changed, 77 insertions(+), 0 deletions(-)

commit 211eb5f45acae1798c401b294a38e23bbc73f49f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 11 20:35:53 2010 +0000

    Add a simple test for gabble_set_tp_error_from_wocky()

 .gitignore                  |    1 +
 tests/Makefile.am           |    8 ++++-
 tests/tp-error-from-wocky.c |   66 +++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 73 insertions(+), 2 deletions(-)

commit 2f837030df081384886d29a006493d964fe73078
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 11 19:54:54 2010 +0000

    Add code to map Wocky errors into Telepathy errors

 gabble/Makefile.am |    1 +
 gabble/error.h     |   27 ++++++++++
 gabble/gabble.h    |    1 +
 src/error.c        |  139 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/error.h        |    2 +
 5 files changed, 170 insertions(+), 0 deletions(-)

commit cb0550043175abff7df36e08d47312a1200fff04
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 11 19:54:10 2010 +0000

    add <gabble/gabble.h> meta-header

 gabble/Makefile.am |    1 +
 gabble/gabble.h    |   32 ++++++++++++++++++++++++++++++++
 2 files changed, 33 insertions(+), 0 deletions(-)

commit ed89e2468db33e18aa796bb2b1aea278262d11d8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 11 15:30:50 2010 +0000

    .gitignore: ignore intermediate files for gcov 4.4
    
    This is basically commit a9cd3574ef61d from telepathy-glib.
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

 .gitignore |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 02d6ca0ff7a19f47b7367eda756a4d5121135b11
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 11 15:27:35 2010 +0000

    Sync glib-ginterface-gen.py from telepathy-glib, fixing method names that are C keywords
    
    This is commit 46dc86715c3ff6b0e from telepathy-glib.
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

 tools/glib-ginterface-gen.py |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit b04a05234d8569c9852611142bfb3ecb6c1a5822
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 11 14:14:59 2010 +0000

    Add a trivial test for SendDirectedPresence()

 tests/twisted/presence/decloak.py |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit bb419aa34f74fcb103f484a04fb3d120c4122d73
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 11 14:11:27 2010 +0000

    Implement conn_presence_send_directed_presence()

 src/conn-presence.c |   32 ++++++++++++++++++++++++++++++--
 1 files changed, 30 insertions(+), 2 deletions(-)

commit 8dbbac825bfa72377cc85c6fbf75e5ba7660fbc3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 11 13:57:26 2010 +0000

    presence/decloak.py: assert that DecloakRequested is emitted

 tests/twisted/presence/decloak.py |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 6c8b6f1172665e43c6186499a32744cc3d4534d7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 11 13:57:16 2010 +0000

    Emit DecloakRequested when appropriate

 src/conn-presence.c  |   10 ++++++++++
 src/conn-presence.h  |    2 ++
 src/presence-cache.c |   12 +++++++++++-
 3 files changed, 23 insertions(+), 1 deletions(-)

commit 85de913c2b4c58e8b11548adff72da2c85f9dc5e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 11 13:46:05 2010 +0000

    Extend presence/decloak.py to test altering DecloakAutomatically at runtime

 tests/twisted/presence/decloak.py |   21 +++++++++++++++++++--
 1 files changed, 19 insertions(+), 2 deletions(-)

commit 4f7d751ccaa4154bb0b580f71cd6f1b6063c2490
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 11 13:38:33 2010 +0000

    Implement the DecloakAutomatically property

 src/connection-manager.c          |   15 +++++++++------
 src/connection.c                  |   27 +++++++++++++++++++--------
 src/presence-cache.c              |    2 +-
 tests/twisted/constants.py        |    1 +
 tests/twisted/presence/decloak.py |    2 +-
 5 files changed, 31 insertions(+), 16 deletions(-)

commit e3f82002b27de0943ee8ab06cb1b00a9488ce316
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 11 13:38:07 2010 +0000

    Add a stub implementation of the Decloak D-Bus API

 src/conn-presence.c |   27 +++++++++++++++++++++++++++
 src/conn-presence.h |    2 ++
 src/connection.c    |    3 +++
 3 files changed, 32 insertions(+), 0 deletions(-)

commit 1e733b4760b85dda0dcd321b101fc1a2fa374772
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 11 13:26:41 2010 +0000

    Add a simple Gabble-specific D-Bus API for decloaking

 extensions/Connection_Interface_Gabble_Decloak.xml |  112 ++++++++++++++++++++
 extensions/Makefile.am                             |    1 +
 extensions/all.xml                                 |    1 +
 3 files changed, 114 insertions(+), 0 deletions(-)

commit 67ff3c952da0685060315a16f9b15650426ba4b1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 8 17:16:00 2010 +0000

    gabble_presence_cache_is_unsure: presences with keep_unavailable don't count
    
    These aren't really presence, but a pseudo-presence-record from some other
    source (currently, a <message>), used to avoid duplicate signals for
    someone's nick if they send it in a message.

 src/presence-cache.c |   20 ++++++++++++++------
 1 files changed, 14 insertions(+), 6 deletions(-)

commit fbaefb943d49560da85d15d83864ecfe823e6e65
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 7 18:05:36 2010 +0000

    jingle/decloak-peer.py: add a test for decloaking people when we call them

 tests/twisted/Makefile.am            |    1 +
 tests/twisted/jingle/decloak-peer.py |   67 ++++++++++++++++++++++++++++++++++
 2 files changed, 68 insertions(+), 0 deletions(-)

commit 6281979aa398c74194e8840bbf512b9abf6d7bf3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 7 18:04:35 2010 +0000

    GabbleMediaChannel: once per call, try to decloak apparently-offline contacts

 src/media-channel-internal.h |    1 +
 src/media-channel.c          |    9 +++++++++
 2 files changed, 10 insertions(+), 0 deletions(-)

commit dda02eda330be0e810f5a31147bab0aa2c39a3c5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 7 18:04:09 2010 +0000

    GabblePresenceCache: add support for de-cloaking contacts

 src/presence-cache.c |  143 ++++++++++++++++++++++++++++++++++++++++++++++++++
 src/presence-cache.h |    3 +
 2 files changed, 146 insertions(+), 0 deletions(-)

commit 516919bbaeaedf0e1b2df41ad32898c3035ca17d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 7 18:02:47 2010 +0000

    gabble_presence_cache_is_unsure: improve diagnostics
    
    Also note a way in which we're too conservative - if we've had the roster,
    we don't need to wait for the unsure-period to end if the handle is not
    on the roster.

 src/presence-cache.c |   16 ++++++++++++++--
 1 files changed, 14 insertions(+), 2 deletions(-)

commit be02fb4b9ad8b9197b5c394cc3b41e6314b52b78
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 7 17:59:32 2010 +0000

    GabbleMediaChannel: delay_stream_request: always subscribe to both signals

 src/media-channel.c |   25 ++++++++-----------------
 1 files changed, 8 insertions(+), 17 deletions(-)

commit 1b356a74904bb25c92108aea29f505b1c411d494
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jan 6 20:39:04 2010 +0000

    gabble_connection_request_decloak: add

 src/connection.c |   28 ++++++++++++++++++++++++++++
 src/connection.h |    3 +++
 2 files changed, 31 insertions(+), 0 deletions(-)

commit db5480a0e2807adeac0bbf05e65b1128b2ca5891
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 7 13:55:39 2010 +0000

    gabble_presence_cache_caps_pending: make static
    
    We no longer need to call this function elsewhere, since is_unsure()
    implies a call to it.

 src/presence-cache.c |    2 +-
 src/presence-cache.h |    3 ---
 2 files changed, 1 insertions(+), 4 deletions(-)

commit 6d0a3314234787494c2ce267966375a02c2b9264
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 7 13:54:52 2010 +0000

    Call gabble_presence_cache_caps_pending from gabble_presence_cache_is_unsure
    
    This will let us extend _is_unsure to cover new and exciting ways to be
    unsure about someone's capabilities, like waiting for them to respond
    to a decloak attempt.

 src/media-channel.c  |   14 +++++---------
 src/presence-cache.c |   23 +++++++++++++++++++++--
 src/presence-cache.h |    3 ++-
 3 files changed, 28 insertions(+), 12 deletions(-)

commit fc3396182ff4fabcec1b0432cb753024193cacea
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jan 6 21:05:00 2010 +0000

    GabbleMediaChannel: listen to GabblePresenceCache::unsure-period-ended
    
    Previously we hard-coded a wait of 5 seconds, but if the call was
    started (say) 2 seconds after the presence cache was created, then a
    3 second wait would be adequate. We might as well let the presence
    cache tell us what it's thinking, rather than duplicating the timeout
    logic.

 src/media-channel.c |   15 ++++++++-------
 1 files changed, 8 insertions(+), 7 deletions(-)

commit d93fd820134cfbcafb7a045f4d292e8783ad5239
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 8 12:58:29 2010 +0000

    GabblePresenceCache: emit a signal on unsure -> sure transition
    
    This also means we don't have to compare GTimeVals in order to see whether
    we're sure yet.

 src/presence-cache.c |   49 ++++++++++++++++++++++++++++++++++++-------------
 1 files changed, 36 insertions(+), 13 deletions(-)

commit 943d8e93f311587b1da9758cc0430ae1dcc64935
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jan 6 18:27:56 2010 +0000

    presence/decloak.py: regression test for de-cloaking (or not)

 tests/twisted/Makefile.am         |    1 +
 tests/twisted/ns.py               |    1 +
 tests/twisted/presence/decloak.py |   50 +++++++++++++++++++++++++++++++++++++
 3 files changed, 52 insertions(+), 0 deletions(-)

commit 14d1cd412220e9d906b67a02862ed8020823108f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jan 6 18:27:40 2010 +0000

    GabblePresenceCache: optionally respond to requests to de-cloak

 src/connection-manager.c |    8 ++++++++
 src/connection.c         |   21 +++++++++++++++++++++
 src/namespaces.h         |    2 ++
 src/presence-cache.c     |   22 ++++++++++++++++++++++
 4 files changed, 53 insertions(+), 0 deletions(-)

commit 39d575c8c2a4333ac87877e0ce819d9f82759a5b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jan 6 17:40:10 2010 +0000

    jingle/outgoing-basics.py: check sending of directed presences

 tests/twisted/jingle/outgoing-basics.py |   27 +++++++++++++++++++++++----
 1 files changed, 23 insertions(+), 4 deletions(-)

commit 8d7ca1ca34a690c7788f8189349e08b80c873885
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jan 6 17:15:47 2010 +0000

    GabbleJingleSession: send directed presence before session-initiate
    
    Only send it if we aren't already visible to the peer. This includes our
    avatar, detailed presence etc. (we could use
    gabble_connection_send_capabilities if this is considered too much of
    a presence leak).

 src/jingle-session.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 17451b23e5a577d7ed736c80f38a6177670a0ccd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jan 6 17:14:29 2010 +0000

    gabble_connection_visible_to: make extern

 src/connection.c |    2 +-
 src/connection.h |    3 +++
 2 files changed, 4 insertions(+), 1 deletions(-)

commit 25d0fad58c9d213c865fa039db341e97e2eebfc6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jan 6 17:12:23 2010 +0000

    _gabble_connection_signal_own_presence: optionally send as directed presence

 src/conn-avatars.c   |    4 ++--
 src/conn-presence.c  |    2 +-
 src/connection.c     |   24 +++++++++++++++++-------
 src/connection.h     |    2 +-
 src/presence-cache.c |    2 +-
 5 files changed, 22 insertions(+), 12 deletions(-)

commit da7ce416da24909566cbe58a52c5df86b19a5de2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jan 6 16:28:44 2010 +0000

    gabble_connection_send_capabilities: add a method to send caps by directed presence

 src/connection.c |   49 +++++++++++++++++++++++++++++++++++++++++++++++++
 src/connection.h |    3 +++
 2 files changed, 52 insertions(+), 0 deletions(-)

commit a80dd813b75295a08e4406f8d337bb405f5373b9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jan 6 16:27:38 2010 +0000

    _gabble_connection_signal_own_presence: factor out gabble_connection_fill_in_caps

 src/connection.c |   52 +++++++++++++++++++++++++++++++---------------------
 1 files changed, 31 insertions(+), 21 deletions(-)

commit 27cba18d0fc9aee67561a9d07eae500803c8a1e3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jan 6 15:15:53 2010 +0000

    Add proto-XEP for de-cloaking

 docs/Makefile.am |    1 +
 docs/decloak.xml |  273 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 274 insertions(+), 0 deletions(-)

commit 3fe08120e1de62687cdd3a75be11a92ba1e2c788
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 8 17:06:24 2010 +0000

    lm_connection_register_message_handler: comment assertion that differs from LM

 lib/loudmouth/lm-connection.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 725dd6cf4fb569e6132df69bd035639cd44cab21
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 8 17:05:45 2010 +0000

    lm_connection_register_message_handler: remove bogus de-duplication
    
    It is incorrect to register the same  twice: it won't work
    with this implementation, and if done after connecting, it'll cause an
    assertion failure. However, the current code silently ignores these
    double-registrations if they happen before the connection is connected,
    and omits the second and subsequent use from the list of delayed
    registrations.
    
    This patch causes both code paths to lead to the assertion failure,
    which means we'll at least spot it if someone gets it wrong again :-)

 lib/loudmouth/lm-connection.c |   19 -------------------
 1 files changed, 0 insertions(+), 19 deletions(-)

commit 148fa831f05619b4020d11787c9e53daee4fdb7c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 8 17:00:40 2010 +0000

    GabblePresenceCache: don't register the same LmMessageHandler twice
    
    The presence cache wants to register the same C callback, with the same
    user data, for two message types. The real Loudmouth allowed it to
    use the same LmMessageHandler for each registration, but our
    compatibility shim for Wocky doesn't support that usage; one of the
    registrations just doesn't get called. In practice, this resulted in
    the callback not being called for LM_MESSAGE_TYPE_MESSAGE.
    
    (I've audited the rest of Gabble and this is the only place where this
    happens.)

 src/presence-cache.c |   26 ++++++++++++++++++++++----
 1 files changed, 22 insertions(+), 4 deletions(-)

commit 0ce9468ed9a70c4ee2a1e88add54fb058e7c4356
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Dec 28 14:18:30 2009 +0000

    Grab UNRELEASED-checking distcheck-hook from tp-glib
    
    Fixes: fd.o#23848
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 Makefile.am        |    5 +++++
 tools/telepathy.am |   12 ++++++++++++
 2 files changed, 17 insertions(+), 0 deletions(-)

commit 1e56a445a34d428c0feefd7423983608bd04919c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jan 11 13:42:39 2010 +0000

    Treat <item-not-found/> as the empty vCard
    
    When we want to update our vCard, we first retrieve our vCard from the
    server. XEP-0054 says that the server MUST return <item-not-found/> if
    you have no vCard set, but we previously assumed that the server would
    return success, with an empty <vCard/> node. Prosody respects the XEP.
    So, let's treat the former case identically to the latter.
    
    Fixes: fd.o#25987
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 src/vcard-manager.c                   |   13 +++++++++-
 tests/twisted/Makefile.am             |    1 +
 tests/twisted/vcard/item-not-found.py |   42 +++++++++++++++++++++++++++++++++
 3 files changed, 55 insertions(+), 1 deletions(-)

commit d902fd929f26f5cecb24ba50303685d46eb500b4
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   Sat Jan 9 14:12:52 2010 +1100

    Make checks for NULLness explicit

 src/muc-channel.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit e42da6e2ad14c712511555c90878f4846c089ef5
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   Sat Jan 9 10:22:17 2010 +1100

    Small style fixes from review.

 src/muc-factory.c |   15 ++++++++-------
 1 files changed, 8 insertions(+), 7 deletions(-)

commit b34f3eddc77999112467098f33ea8f32d3d81beb
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   Sat Jan 9 10:15:56 2010 +1100

    g_warning -> DEBUG

 src/muc-factory.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit 99b587426c4a95da8815a70d0027feb37353eaf4
Merge: 644c748 2e75d50
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Jan 8 17:09:55 2010 +0000

    Merge remote branch 'maiku/freeing-fixes'

commit b4fe3d04f29f6572f0d4635e7397fb48bbdce1fc
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Jan 8 15:03:24 2010 +0000

    Don't free strings not owned by us

 src/muc-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 6b99c9af6ac674710a04f21a3a43555d52934f1d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Jan 8 15:03:06 2010 +0000

    Ensure that the Initial{Channels,Handles} is never NULL

 src/muc-channel.c |    2 ++
 src/muc-factory.c |    6 ++++++
 2 files changed, 8 insertions(+), 0 deletions(-)

commit 644c748ced34ac54eff4f0818d5d9fd42e42c846
Merge: 35f3910 788d787
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 8 13:50:32 2010 +0000

    Merge branch 'trivia-before-decloak'
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit 788d78767b81c83012c35ef4616a34bab94d9fbc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 8 13:45:23 2010 +0000

    COPYING: update details of XEP tools

 COPYING |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 36c723d35353b1ec708c027ea2ea69718e7ca508
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   Sun Dec 27 15:31:35 2009 +1100

    Extend test

 tests/twisted/muc/conference.py |   48 +++++++++++++++++++++++++++++++-------
 1 files changed, 39 insertions(+), 9 deletions(-)

commit 9ca42ee011b7f9ce8a549d97dfc004dd16932ff4
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   Sun Dec 27 15:15:19 2009 +1100

    Beginnings of a PMUC unit test

 tests/twisted/muc/conference.py |   65 +++++++++++++++++++++++++++++++++++++++
 1 files changed, 65 insertions(+), 0 deletions(-)

commit d4f8c583bd9cb478177c2346cf795a18f9aade5b
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   Wed Dec 16 14:31:26 2009 +1100

    Refactor a bit so that the Conference interface on named MUCs
    
    The spec implies that you can create a new named MUC using the Conference
    interface. This currently isn't implemented quite right, because if the MUC
    already exists and you join it, but with properties from the Conference
    interface, these probably won't work the way you think they should. Probably
    needs a stack of tweaking here.

 src/muc-factory.c |  122 ++++++++++++++++++++++++-----------------------------
 1 files changed, 55 insertions(+), 67 deletions(-)

commit 13cf3b90958650fe50847674637aa1737eeea206
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   Wed Dec 16 09:52:26 2009 +1100

    Some small fixes to props

 src/muc-channel.c |   14 +++++++++-----
 src/muc-factory.c |    8 ++------
 2 files changed, 11 insertions(+), 11 deletions(-)

commit 94b7a84ca77489c97c7d6a6aef8d7c232a79fc56
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jan 6 13:48:08 2010 +0000

    Move xep.xsl into docs/ and add xep.dtd, xep.ent, xep.xsd
    
    The .ent and .dtd expect to be used from the same directory as the source.

 docs/Makefile.am  |   19 +-
 docs/xep.dtd      |  140 +++++++
 docs/xep.ent      | 1127 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 docs/xep.xsd      |  429 ++++++++++++++++++++
 docs/xep.xsl      | 1047 +++++++++++++++++++++++++++++++++++++++++++++++++
 tools/Makefile.am |   10 +-
 tools/xep.xsl     |  921 -------------------------------------------
 7 files changed, 2760 insertions(+), 933 deletions(-)

commit 8c957bcc81f36bcf9d54113ed6441736a29e63d4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 7 18:04:48 2010 +0000

    exec-with-log.sh.in: put timestamps in the log

 tests/twisted/tools/exec-with-log.sh.in |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 5c1feb9385aa24636b14593046b6707029fdab48
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 7 17:24:55 2010 +0000

    GabbleMediaChannelPrivate: turn bitfield into genuine booleans

 src/media-channel-internal.h |    8 +++-----
 1 files changed, 3 insertions(+), 5 deletions(-)

commit 59c5fea47d2054f5160dc152142454ade878f32a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 8 12:30:47 2010 +0000

    GabblePresenceCache: assert that caller supplied a connection

 src/presence-cache.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit fab38837b0a6baf7147c7b614f4a37d8b8455196
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 7 18:01:35 2010 +0000

    gabble_presence_cache_set_property: simplify construct-only 'connection'
    
    There's no point in defending against already having presence_handles;
    because connection is construct-only, it can only be set once.

 src/presence-cache.c |   17 +++--------------
 1 files changed, 3 insertions(+), 14 deletions(-)

commit 885c027079e9568fd620f4b9d66a010990a222c5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jan 6 17:10:34 2010 +0000

    JingleTest2: optionally send roster during prepare()

 tests/twisted/jingle/jingletest2.py |   21 +++++++++++++++++++--
 1 files changed, 19 insertions(+), 2 deletions(-)

commit 9821afdc553a513fe1c657dc20e5f2a7d77348bb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jan 6 17:08:39 2010 +0000

    Jingle tests: be robust against receiving NewChannel[s] for contact lists

 tests/twisted/jingle/accept-extra-stream.py        |    3 ++-
 tests/twisted/jingle/call-basics.py                |    4 +++-
 tests/twisted/jingle/google-relay.py               |    9 +++++++--
 tests/twisted/jingle/incoming-basics.py            |    3 ++-
 tests/twisted/jingle/incoming-call-stream-error.py |    3 ++-
 tests/twisted/jingle/initial-audio-video.py        |    4 +++-
 tests/twisted/jingle/outgoing-basics.py            |    7 +++++--
 tests/twisted/jingle/outgoing-ensure.py            |   14 ++++++++++----
 tests/twisted/jingle/outgoing-many-streams.py      |    7 +++++--
 tests/twisted/jingle/session-id-collision.py       |    6 ++++--
 tests/twisted/jingle/stun-server.py                |    3 ++-
 tests/twisted/jingle/test-incoming-iceudp.py       |    3 ++-
 tests/twisted/jingle/test-outgoing-iceudp.py       |    7 +++++--
 13 files changed, 52 insertions(+), 21 deletions(-)

commit d71e033164d5f5e2f9614eebec14bb25a850640b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 7 12:59:49 2010 +0000

    test-wait-for-caps-incomplete.py: don't crash if the test fails at the end
    
    It was using a nonexistent object as the assertion message.

 .../jingle/test-wait-for-caps-incomplete.py        |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 35f391063fd31c0e436ccedac9541620848baa60
Merge: 274ee25 be01642
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 8 13:20:08 2010 +0000

    Merge branch 'bare-jids'
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit 1125f3ffdafc805f327e342c8dad480ad8e77ebb
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   Tue Dec 15 22:49:06 2009 +1100

    Add Conference immutable properties to PROP_CHANNEL_PROPERTIES

 src/muc-channel.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 7e2553e7146bb65b8b5aa2c4177e52385eea5114
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   Tue Dec 15 22:36:53 2009 +1100

    Add Conference properties to GabbleMucChannel

 src/muc-channel.c |   95 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/muc-factory.c |   46 ++++++++++++++++++++++----
 2 files changed, 134 insertions(+), 7 deletions(-)

commit 944001868ae654632c5eeb19dc2dad8f601d36c4
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   Tue Dec 15 09:24:39 2009 +1100

    Add support for <continue/> to invites coming from InitialChannels

 src/conn-olpc.c   |    2 +-
 src/muc-channel.c |   10 ++++-
 src/muc-channel.h |    2 +-
 src/muc-factory.c |   98 ++++++++++++++++++++++++++++++++--------------------
 4 files changed, 70 insertions(+), 42 deletions(-)

commit 6a33b71a82e8adef4351b39acb8afd204caa6d35
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   Mon Dec 14 15:59:00 2009 +1100

    Remove API from GabbleImChannel

 src/im-channel.c |   21 ---------------------
 src/im-channel.h |    5 -----
 2 files changed, 0 insertions(+), 26 deletions(-)

commit c316c817d2a34c5d890c93acc5b734036f4b3952
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   Mon Dec 14 15:56:49 2009 +1100

    Use GObject properties instead of introduced API on GabbleMucChannel

 src/muc-factory.c |   15 ++++++++++-----
 1 files changed, 10 insertions(+), 5 deletions(-)

commit c64e247fd8eef9267767b79a8734f7a80c3e0be1
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   Mon Dec 14 15:07:30 2009 +1100

    Invite initial invitees to MUC

 src/muc-factory.c |   21 ++++++++++++++++++---
 1 files changed, 18 insertions(+), 3 deletions(-)

commit 0f51f4def0b336879d76baef8ea040133ee3f179
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   Mon Dec 14 14:49:01 2009 +1100

    Actually connect to a Google PMUC

 src/muc-factory.c |   61 ++++++++++++++++++++++++++++++++++++++++++++++-------
 1 files changed, 53 insertions(+), 8 deletions(-)

commit c11dce49c1bdbfc592a033f5e5a6d2462824b827
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   Mon Dec 14 13:18:18 2009 +1100

    Process InitialInviteeHandles and InitialInviteeIDs

 src/muc-factory.c |   91 +++++++++++++++++++++++++++++++++++++++++++++++++---
 1 files changed, 85 insertions(+), 6 deletions(-)

commit c01dff2ef4cb114e23417b7301b37d52961a3c09
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   Fri Dec 11 21:49:40 2009 +1100

    Look at InitialChannels and build a set of Handles

 src/im-channel.c  |   21 +++++++++++++++++++++
 src/im-channel.h  |    5 +++++
 src/muc-factory.c |   45 +++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 71 insertions(+), 0 deletions(-)

commit afe42bd4046a57103baa15755eb6de51171d4849
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   Fri Dec 11 17:52:38 2009 +1100

    [MucFactory] detect conference channels and add a stub for handling them

 src/muc-factory.c |   44 ++++++++++++++++++++++++++++++++++++++------
 1 files changed, 38 insertions(+), 6 deletions(-)

commit 52c2ac17274a524cae7b2d3c937c93582a5d09fc
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   Fri Dec 11 17:01:24 2009 +1100

    Include Channel.Interface.Conference draft from tp-spec

 extensions/Channel_Interface_Conference.xml |  400 +++++++++++++++++++++++++++
 extensions/all.xml                          |    1 +
 2 files changed, 401 insertions(+), 0 deletions(-)

commit 274ee25fafc97818a91f9f3b1f2b5881bf70d56a
Merge: bb62f35 ff8b997
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Jan 8 11:52:00 2010 +0000

    Merge branch 'muc'

commit ff8b997a6348a4fc87c832d901c0176958dfded8
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Jan 7 16:03:42 2010 +0000

    Unref the WockyMuc object when disposing the MucChannel

 src/muc-channel.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit ed835404db22113719cfb8235ee628d858e4cb1d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Jan 7 16:03:08 2010 +0000

    Update the presence cache from the cache in muc channels

 src/muc-channel.c |   20 ++++++++++++++++++++
 1 files changed, 20 insertions(+), 0 deletions(-)

commit 174d89b56330e546116c5294e221fea736de4df9
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Jan 7 16:02:16 2010 +0000

    Set object GValues with set_object

 src/muc-channel.c |    5 +----
 1 files changed, 1 insertions(+), 4 deletions(-)

commit 200c2b91f40ea3859d9402c7e2d7d35f9e0433e3
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Jan 7 16:01:11 2010 +0000

    Expose api to pass presence message to the presence cache

 src/presence-cache.c |    7 ++++---
 src/presence-cache.h |    6 ++++++
 2 files changed, 10 insertions(+), 3 deletions(-)

commit e8cb6fa8350fd9fc82b80dd1c33da6c6b02b6818
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Jan 7 13:37:48 2010 +0000

    Handle tube presences in the intial presence

 src/muc-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit f1ef705a545d84fbd92da2e6837bcf2242e544eb
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Jan 7 13:37:26 2010 +0000

    Correct refcounting when requesting multiple tubes from one muc

 src/muc-factory.c |   12 ++++++++----
 1 files changed, 8 insertions(+), 4 deletions(-)

commit 0cd7f9df38066a399fb8abd03ca465e142adaeec
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Jan 7 13:32:47 2010 +0000

    Streamline some code slightly
    
    Instead of jumping through hoops with g_hash_table_foreach, iterate over the
    hashtable. Also no need to assert something is of a certain type, static type
    checking ensures that already and if it's NULL things will explode anyway..

 src/muc-channel.c |   43 ++++++++++++++++---------------------------
 1 files changed, 16 insertions(+), 27 deletions(-)

commit f66b28b14616aa330444956c4d669bc13c404f08
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Jan 7 13:31:09 2010 +0000

    Small race-protection

 tests/twisted/tubes/offer-muc-dbus-tube.py |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 2cba8f33c47389cc5acf126ff455fde2d1aae193
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Jan 7 13:30:41 2010 +0000

    Use the right muc namespace for participants

 tests/twisted/tubes/offer-muc-dbus-tube.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 2c5858e58b8c68eb217311819ba404f58eb5f0e0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Jan 5 18:13:21 2010 +0000

    Explicitely tear down the muc channel
    
    A MucChannel owns the Tubes channel associated with it. The tubes channel uses
    a tp_external_group_mixin, with the MucChannel being the external. Which means
    there is a reference counting loop that must be explicitely broken.

 src/muc-channel.c |    8 ++++++++
 src/muc-channel.h |    1 +
 src/muc-factory.c |    8 ++++++++
 3 files changed, 17 insertions(+), 0 deletions(-)

commit c3790d1cf16ad88d11b1844155206a09e8003a03
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Jan 5 18:04:04 2010 +0000

    The factory should emit new channels, not the text channel

 src/muc-channel.c |   17 ++++++++++++-----
 src/muc-factory.c |   26 ++++++++++++++++++++++++++
 2 files changed, 38 insertions(+), 5 deletions(-)

commit 7e8a6e05b04511526df353fb727a5671a6a5e31e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Jan 4 13:10:53 2010 +0100

    Be resiliant against other group flags changes

 tests/twisted/muc/test-muc-ownership.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit ae4be50782e52dcdea3a6e40e04ef4a43713f8a7
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Jan 4 13:09:40 2010 +0100

    Handle the fill-presence signal

 src/muc-channel.c |   23 ++++++++++++++++++++---
 1 files changed, 20 insertions(+), 3 deletions(-)

commit 526208c2475dc1eaccddc96238f10a2073e6720e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Jan 4 13:08:31 2010 +0100

    Use the right bit of userdata

 src/muc-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 85b79963c03b918834a8ede0a676bb8add7b757c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Jan 4 11:41:14 2010 +0100

    Add status and vcard info to the presence we send to a muc

 src/muc-channel.c |   11 ++++++-----
 1 files changed, 6 insertions(+), 5 deletions(-)

commit 3a5ef8587f9c5808fdc3d8cda71681644acbf968
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Jan 4 11:39:47 2010 +0100

    Set the members of a muc

 src/muc-channel.c |   19 +++++++------------
 1 files changed, 7 insertions(+), 12 deletions(-)

commit 086c53ed3bb32a00aaa14b1389668c1f3c9b40cd
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Jan 4 11:39:04 2010 +0100

    Reset jid when retrying to join

 src/muc-channel.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 96af7bbe896abf2869467d087416d6596022ea98
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Jan 4 11:34:13 2010 +0100

    Factor out code to add the status, caps and vcard to a presence

 src/presence.c |   80 +++++++++++++++++++++++++++++++++----------------------
 src/presence.h |    3 ++
 2 files changed, 51 insertions(+), 32 deletions(-)

commit 6444150d0740eb7d9f7c65a323bfd5430eee1dba
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Jan 4 11:28:16 2010 +0100

    Use assertEquals where applicable

 tests/twisted/muc/name-conflict.py |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)

commit 5307940a67aff7e2d503ded843d86ec553941472
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   Sun Dec 27 19:35:45 2009 +0000

    First attempt at moving the muc backend over to wocky, and moving most of
    the tubes support into the muc-channel object. Builds, most tests fail as
    of this check in.

 src/muc-channel.c | 1396 ++++++++++++++++++++++++++++++++---------------------
 src/muc-channel.h |    9 +
 src/muc-factory.c |  456 +++---------------
 3 files changed, 918 insertions(+), 943 deletions(-)

commit 4117ccd6d750f36933ab2d080e9934a53e987e10
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   Sun Dec 27 19:34:13 2009 +0000

    Change ..._channel_presence_updated to take the LmMessageNode, not LmMessage.

 src/tubes-channel.c |    6 +++---
 src/tubes-channel.h |    2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 0cc0b0a3dc36706805a4f7587fc499d376280f03
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   Sun Dec 27 19:33:11 2009 +0000

    Move GabbleTubesChannel typedef to types.h header to break circular dependdency.

 src/tubes-channel.h |    2 +-
 src/types.h         |    1 +
 2 files changed, 2 insertions(+), 1 deletions(-)

commit ba54c2a031a957d3c2815a2d048efe3180a7ea62
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   Sun Dec 27 19:29:23 2009 +0000

    Expose some utility functions related to gabble/tp specific MUC functionality.

 src/error.c        |   10 +++++-----
 src/error.h        |    2 ++
 src/message-util.c |   34 ++++++++++++++++++++++++++++++++++
 src/message-util.h |    4 ++++
 4 files changed, 45 insertions(+), 5 deletions(-)

commit 765b21af67f0cff378ca8faa65e06e9b506d2229
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   Sun Dec 27 19:28:41 2009 +0000

    Expose underlying wocky porter to things using the connection object.

 src/connection.c |   20 ++++++++++++++++++++
 src/connection.h |    2 ++
 2 files changed, 22 insertions(+), 0 deletions(-)

commit 3cbc88298eb86870c6258a39336d92d3d029212d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Jan 8 11:31:22 2010 +0000

    Update to a wocky snapshot with initial muc support

 lib/ext/wocky |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit be01642d29ebca226c6bbc593e1f71396cdada64
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jan 6 13:16:55 2010 +0000

    Represent bare jids as resource = NULL, not resource = ""
    
    The RFCs don't explicitly say anywhere that the empty string is not a
    valid resource... also, it's cleaner this way. However, this does mean
    changing a couple of function signatures.
    
    Also move the definition of SESSION_MAP_KEY_FORMAT close to its only use.

 src/call-channel.c   |    8 ++----
 src/jingle-factory.c |   29 +++++++++++++++++-------
 src/jingle-session.c |   18 ++++++++++-----
 src/media-channel.c  |    9 +++----
 src/presence.c       |    1 -
 src/util.c           |   59 ++++++++++++++++++++++++++++----------------------
 src/util.h           |    5 ++-
 7 files changed, 75 insertions(+), 54 deletions(-)

commit 2e75d502a47a85bd321acf7e5eef6e957f542a53
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Jan 5 19:40:11 2010 -0600

    Free GabbleCallStream's endpoints when disposing.

 src/call-stream.c |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 2ef7cddac66cd4774c17e920a4476dc3070bc2c8
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Jan 5 19:39:36 2010 -0600

    Free GabbleCallContent's streams when disposing.

 src/call-content.c |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 96f0832a0cb115a6d147b355729bdf1910e30d59
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Jan 5 19:38:02 2010 -0600

    Don't unref an object that isn't owned.

 src/call-stream.c |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit bb51ec50a7355cc8aa63889bc6b9206cb2571a6e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 5 19:29:34 2010 +0000

    various Jingle tests: test calls to/from bare JIDs where we have presence

 tests/twisted/jingle/accept-extra-stream.py   |    8 +++++-
 tests/twisted/jingle/incoming-basics.py       |    6 +++-
 tests/twisted/jingle/outgoing-basics.py       |   32 ++++++++++++++++--------
 tests/twisted/jingle/outgoing-ensure.py       |    5 +++-
 tests/twisted/jingle/outgoing-many-streams.py |   10 ++++---
 5 files changed, 42 insertions(+), 19 deletions(-)

commit b357797a99d19fbbb54040f4f644652362264cbd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 5 19:03:53 2010 +0000

    jingle_pick_best_resource: allow the bare JID (resource = "") to be chosen

 src/util.c |   37 +++++++++++++++++++++++++++++--------
 1 files changed, 29 insertions(+), 8 deletions(-)

commit 2185b62068be9ebfec0b819d7092f1048d3662d9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 5 19:03:24 2010 +0000

    GabbleJingleFactory: allow bare JIDs to call us
    
    Represent them by resource = ""; adjust a debug message to be less
    confusing in the presence of potentially-empty resources.

 src/jingle-factory.c |   13 +++++++------
 1 files changed, 7 insertions(+), 6 deletions(-)

commit 11f1a294df976be6f7bcf19d5d1b1bc18c7e99f5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 5 19:02:09 2010 +0000

    GabbleCallChannel, GabbleMediaChannel: improve debug for existing sessions

 src/call-channel.c  |   11 +++++++++--
 src/media-channel.c |    5 +++++
 2 files changed, 14 insertions(+), 2 deletions(-)

commit 93d4bf4f917007dc10cdbd2d0cbe456c34d2c492
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 5 19:01:16 2010 +0000

    gabble_presence_resource_pick_best_feature: disallow "" as a resource

 src/presence.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit a205d8533786c18f1eac8ee4e3829a16f61b4abb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 5 19:00:51 2010 +0000

    jingle_pick_best_content_type: allow the resource to be "" (bare JID)

 src/util.c |   14 ++++++++++++--
 1 files changed, 12 insertions(+), 2 deletions(-)

commit 25bfdf35f13d8bcfcb47e8a0d930eba9f55c4dc6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 5 19:00:04 2010 +0000

    gabble_presence_pick_best_feature(): add
    
    This is analogous to gabble_presence_resource_pick_best_feature(), but
    checks the aggregated caps of all resources (or, more usefully, the bare
    JID's caps, if there are no resources at all).

 src/presence.c |   23 +++++++++++++++++++++++
 src/presence.h |    5 +++++
 2 files changed, 28 insertions(+), 0 deletions(-)

commit c9ce806c55027c5c9da866b3ba595698717d617b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 5 18:59:09 2010 +0000

    gabble_presence_has_resources(): add
    
    We'll sometimes need to deal with presences that have no resources, just
    presence for the bare JID (like gateway users).

 src/presence.c |    6 ++++++
 src/presence.h |    1 +
 2 files changed, 7 insertions(+), 0 deletions(-)

commit e32d1a34e0e5ada12d80630286adaf3b76b741e3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 5 18:58:09 2010 +0000

    GabbleJingleSession: allow resource to be "" to indicate use of a bare JID
    
    Calling XEP-0100-compliant SIP gateways will require this to work.

 src/jingle-session.c |    9 ++++++---
 1 files changed, 6 insertions(+), 3 deletions(-)

commit db4f843ac9d4b0b6f7e5608a3f1a0d2c6747d667
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 5 18:56:47 2010 +0000

    Jingle tests: get the peer's full and bare JIDs from the JingleTest(2) object

 tests/twisted/jingle/accept-extra-stream.py   |    6 +++---
 tests/twisted/jingle/incoming-basics.py       |   20 ++++++++++----------
 tests/twisted/jingle/outgoing-basics.py       |    6 +++---
 tests/twisted/jingle/outgoing-ensure.py       |    2 +-
 tests/twisted/jingle/outgoing-many-streams.py |    6 +++---
 5 files changed, 20 insertions(+), 20 deletions(-)

commit 5c6a2e027c2db05c7760a2ac58436a21f59cb51c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 5 18:53:22 2010 +0000

    jingletest, jingletest2: also remember the peer's bare JID
    
    This is useful for assertions involving TargetID.

 tests/twisted/jingle/jingletest.py  |    1 +
 tests/twisted/jingle/jingletest2.py |    1 +
 2 files changed, 2 insertions(+), 0 deletions(-)

commit bb62f35a3a916a68f6750f234f2d5cb6b20d3a58
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 4 16:28:25 2010 +0000

    Remove unused register.[ch]
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

 src/Makefile.am  |    2 -
 src/connection.c |    1 -
 src/register.c   |  369 ------------------------------------------------------
 src/register.h   |   69 ----------
 4 files changed, 0 insertions(+), 441 deletions(-)

commit 60681ce1a3418668ec04d4a472bc995a7e399740
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Mon Dec 28 19:36:21 2009 -0600

    Wait for CALL_STATE_PENDING_RECEIVER before sending session-initiate.

 src/jingle-session.c |    6 ++++++
 src/media-channel.c  |    4 ++++
 2 files changed, 10 insertions(+), 0 deletions(-)

commit 3d4e2c865c72bc30db5346fcd84575e88aebcf97
Merge: 52e72ad fd2dd27
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Dec 29 14:11:13 2009 +0100

    Merge branch 'new-media-spec'

commit fd2dd27e7478995631ee0b2815a5c4089a2e4b47
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Dec 29 12:19:51 2009 +0100

    Improve comments

 tests/twisted/jingle/jingletest2.py |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit e51c5d8fe6d89dbc7e8e10dc7dcb9ec3a715e64f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Dec 23 13:13:01 2009 +0000

    Remove the obsolete add_payload argument to generate_contents
    
    Now that generate_contents is only used go generate the content for the
    session-initiate and session-accept stanzas the add_payload argument isn't
    needed anymore.

 tests/twisted/jingle/jingletest2.py |   16 +++++-----------
 1 files changed, 5 insertions(+), 11 deletions(-)

commit 27e9e0e749d723f02863c8cafa48dfbce02ebba3
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Dec 23 13:10:06 2009 +0000

    Call remote-candidates with the stream it should apply to
    
    This allows us to send the transport info per stream we have and makes it send
    the right transport-info stanza. Also tweak the GTalk Content and Jingle
    function so it understands cases without a description correctly

 tests/twisted/jingle/call-basics.py |    2 +-
 tests/twisted/jingle/jingletest2.py |   25 ++++++++++++++++---------
 2 files changed, 17 insertions(+), 10 deletions(-)

commit b4517917e02cb3ea04eef8c982f6bf844c94319b
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Dec 23 13:04:58 2009 +0000

    Make the senders and description argument to Content optional

 tests/twisted/jingle/jingletest2.py |   12 ++++++++----
 1 files changed, 8 insertions(+), 4 deletions(-)

commit 715144e83d0a3a73ce691bcac62c29f8a7b8868b
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Thu Dec 10 19:14:38 2009 -0600

    Convert Content() in JingleTest2 to take transports and descriptions separately.

 tests/twisted/jingle/accept-extra-stream.py        |    8 ++--
 tests/twisted/jingle/hold-av.py                    |    4 +-
 tests/twisted/jingle/jingletest2.py                |   40 ++++++++++---------
 .../twisted/jingle/test-content-adding-removal.py  |    2 +-
 tests/twisted/jingle/test-content-complex.py       |   22 +++++-----
 tests/twisted/jingle/test-description-info.py      |   12 +++---
 tests/twisted/jingle/test-incoming-iceudp.py       |    4 +-
 tests/twisted/jingle/test-outgoing-iceudp.py       |    8 ++--
 8 files changed, 51 insertions(+), 49 deletions(-)

commit 432cea8bd2d6f03414497239b5a43ca6739fcde4
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Dec 8 14:30:41 2009 -0600

    Add a flag to include payloads in generate_contents' output.

 tests/twisted/jingle/jingletest2.py |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit dc74b6dbb8506b9a7c8b7a88e6821fafa5658ff1
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Thu Dec 3 22:54:45 2009 -0600

    Add tests for SelectedCandidate's property and signal.

 tests/twisted/jingle/call-basics.py |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit 0b0a3f3505e1159f29cca78dc04854e13e8102a5
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Thu Dec 3 22:42:52 2009 -0600

    Add a test for the RemoteCandidatesAdded signal.
    
    Because of fdo bug #25426, adding remote candidates using the GTalk v0.4
    doesn't work if Gabble initiated the call. It can't be tested, so just skip
    that mode for now.

 tests/twisted/jingle/call-basics.py |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit b11057f3bee51779944589fb61ba0f33c77b5ec6
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Thu Dec 3 22:38:23 2009 -0600

    Move StreamState related tests out of the incoming condition block.
    
    They are applicable for both incoming and outgoing.

 tests/twisted/jingle/call-basics.py |   16 ++++++++--------
 1 files changed, 8 insertions(+), 8 deletions(-)

commit cc8fc4fb9e58fb99f00f412b48f27208763842d8
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Thu Dec 3 22:19:57 2009 -0600

    Move LocalCandidatesAdded and session-initiate into an expect_many.
    
    Because one is a dbus-signal and the other is an xmpp stream-iq, the order
    wasn't guaranteed. The two signals were sometimes, although rarely, out of
    order, which caused the test to incorrectly fail.

 tests/twisted/jingle/call-basics.py |   18 +++++++++++-------
 1 files changed, 11 insertions(+), 7 deletions(-)

commit 3fd33feeec42f42f3895bc0d857d1f0bd3f2816c
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Thu Dec 3 22:02:07 2009 -0600

    Modify get_call_remote_transports_dbus to reflect what Gabble actually returns.
    
    At least for Google P2P transports.

 tests/twisted/jingle/jingletest2.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 6e2afb4bed192140612dae0ee9514f1092be79ec
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Thu Dec 3 21:59:53 2009 -0600

    Add a remote_candidates function for sending remote candidates to Gabble.

 tests/twisted/jingle/jingletest2.py |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 2afce0f46464468a23db149d43495f57ed64d7f5
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Thu Dec 3 21:55:40 2009 -0600

    Have generate_contents add transports instead of payloads if they're passed.

 tests/twisted/jingle/jingletest2.py |   34 +++++++++++++++++++++-------------
 1 files changed, 21 insertions(+), 13 deletions(-)

commit f2cc24398b6d9290a5df9bf71b551a365a1d62db
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Thu Dec 3 21:41:01 2009 -0600

    Remove GtalkProtocol03's dummy TransportGoogleP2P as it's not valid anymore.
    
    The transport node will be ignored as usual, but if there are candidates,
    the content function will grab those instead.

 tests/twisted/jingle/jingletest2.py |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit f5576e64026785483cd4867d565bc3443da5d78d
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Thu Dec 3 21:50:50 2009 -0600

    Return candidates if they exist in GtalkProtocol03's Content function.

 tests/twisted/jingle/jingletest2.py |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit 54c76cc4de42d56ab6a14e10aa0f5f3d01ac2fec
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Thu Dec 3 21:39:11 2009 -0600

    Fill in GoogleP2P candidate nodes when remote_transports are passed.

 tests/twisted/jingle/jingletest2.py |   28 +++++++++++++++++++++++++---
 1 files changed, 25 insertions(+), 3 deletions(-)

commit 9663eb9cf4fa669b509754e738100d909338f215
Merge: 0042f76 2a8704d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Dec 28 21:24:48 2009 +0100

    Merge branch 'new-media-spec-channel' into new-media-spec

commit 52e72ad406268d096ba2763c72b05ee859110f91
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Dec 28 18:19:10 2009 +0000

    Update Wocky to ship test certs in out-of-tree builds
    
    This makes Gabble distcheck successfully if you build out-of-tree.

 lib/ext/wocky |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 0042f760f5ce99761bf12de4132d5f2d9bd6c8b6
Merge: 59eee74 def0f7a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Dec 25 12:49:41 2009 +0100

    Merge remote branch 'maiku/remote-credentials' into new-media-spec

commit 2a8704dfeedfb8f956ee199e2cb3452ffd655fd6
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Dec 24 17:04:47 2009 +0100

    Use constants

 tests/twisted/jingle/call-basics.py |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit c768af1e0bc9180a7d9c4f2bb82d7b57dfe8e4dd
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Dec 24 17:04:32 2009 +0100

    Webcam streams should be of type Video

 tests/twisted/jingle/call-basics.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a5b39df2b89ea28aca1aefac44a7e7177a3a55b0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Dec 24 17:04:12 2009 +0100

    fix identation

 tests/twisted/jingle/call-basics.py |    9 ++++++---
 1 files changed, 6 insertions(+), 3 deletions(-)

commit 40bca678861e488ddc898f149c5d52e11930eeeb
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Dec 24 17:03:03 2009 +0100

    Fix identation

 src/jingle-session.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 43b567fc61ae7aa20a991b89037d6bfd477577b1
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Dec 24 17:02:48 2009 +0100

    misc tweaks

 src/call-stream.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit ec46d41ddb1fdc23eaacdc3cda1921738124dd88
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Dec 24 17:02:34 2009 +0100

    misc tweaks

 src/call-content.c |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit 0a5b021d9a462b4ba437eeff9218acc4aba91d14
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Dec 24 17:02:19 2009 +0100

    Free all data in finalize

 src/call-channel.c |   13 +++----------
 1 files changed, 3 insertions(+), 10 deletions(-)

commit 94686c7ab29982f17d8f6a559334d4bc352f1a43
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Dec 14 18:23:19 2009 +0000

    Test the CallMembers property a bit

 tests/twisted/constants.py          |    3 +++
 tests/twisted/jingle/call-basics.py |   17 ++++++++++++++++-
 2 files changed, 19 insertions(+), 1 deletions(-)

commit 7dcaf21aa8a0530c4a044d179ac6c1de3b903243
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Dec 14 18:23:07 2009 +0000

    Implement of CallMembers

 src/call-channel.c |   56 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 56 insertions(+), 0 deletions(-)

commit 4e2b39860cfc530a4b31d12dc01ae6a84aa083f5
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Dec 14 16:17:27 2009 +0000

    Correctly implement mutable contents

 src/call-channel.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 03a733985935c1a0cd9b4415fb16485e315b1814
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Dec 14 15:18:03 2009 +0000

    Test the Senders property a bit more

 tests/twisted/jingle/call-basics.py |   27 +++++++++++++++++++++++++++
 1 files changed, 27 insertions(+), 0 deletions(-)

commit 1387e1dfba25d1e0aedc31329d7cddaf96ff8801
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Dec 14 15:14:51 2009 +0000

    SendersChanged should only have updates not the full set

 src/call-stream.c |   26 +++++++++++++++++++-------
 1 files changed, 19 insertions(+), 7 deletions(-)

commit b2b102478c50f5bbe54a658a5b20b883da6349ab
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Dec 14 14:54:10 2009 +0000

    Even if the protocol doesn't have a concept of senders keep our internal state consistent

 src/jingle-content.c |    8 ++++++--
 1 files changed, 6 insertions(+), 2 deletions(-)

commit da1e31643920c29ead48cdc2ee51b9dc09eb694c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Dec 14 14:53:32 2009 +0000

    Implement SetSending and ensure the Senders property stays in sync

 src/call-stream.c |   37 +++++++++++++++++++++++++++++++++++--
 1 files changed, 35 insertions(+), 2 deletions(-)

commit febcc8cbebabf6f3f561aa7dab9c011fefcf59c4
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Dec 14 14:53:00 2009 +0000

    Add a utility function to change the direction to sending from out side

 src/jingle-content.c |   37 +++++++++++++++++++++++++++++++++++++
 src/jingle-content.h |    3 +++
 2 files changed, 40 insertions(+), 0 deletions(-)

commit dfaffe9515cb6ea1284eb01a7dbb3fbdb63d7517
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Dec 14 12:31:55 2009 +0000

    No need to get the GabbleConnection from the JingleContent anymore

 src/call-stream.c |   10 +---------
 1 files changed, 1 insertions(+), 9 deletions(-)

commit 111d79afadd97920803d6d2fbbe8ef573b28f055
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Dec 14 12:31:09 2009 +0000

    Check sender states after stream acceptance

 tests/twisted/jingle/call-basics.py |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit fd22819d6f3e3e6854656779079a4f23e4b8f3f3
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Dec 14 12:30:50 2009 +0000

    Update the sender states whenever the content state changes

 src/call-stream.c |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit 6fb364ddb2ba7c1bd517e11185023c341c5f51d5
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Dec 14 12:04:47 2009 +0000

    Slightly simplify determining the transport type

 src/call-stream.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 51a2f36a94c38097133aa6ed6a2b545bcfcc3871
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Dec 14 11:54:14 2009 +0000

    Add basic testing for the Senders property

 tests/twisted/constants.py          |    4 ++++
 tests/twisted/jingle/call-basics.py |   18 ++++++++++++++++++
 2 files changed, 22 insertions(+), 0 deletions(-)

commit 80fccd484c8584803715155cbca0322ec0dd4ffd
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Dec 14 11:50:59 2009 +0000

    Basic implementation of the Senders property

 src/call-stream.c |   94 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 94 insertions(+), 0 deletions(-)

commit 2230c87670bf197f7c08934685075c7c0e2e28f7
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Dec 14 11:41:46 2009 +0000

    Pass the GabbleConnection on to CallStream objects

 src/call-content.c |    2 ++
 src/call-stream.c  |   20 ++++++++++++++++++++
 2 files changed, 22 insertions(+), 0 deletions(-)

commit f44903097d2f8b372648775e3619f09b72acd38e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Dec 14 11:34:38 2009 +0000

    Add functions to see if the direction is sending or receiving from our pov

 src/jingle-content.c |   37 +++++++++++++++++++++++++++++++++++++
 src/jingle-content.h |    3 +++
 2 files changed, 40 insertions(+), 0 deletions(-)

commit 6d6de3058b6a6ccc76834f1b386da4d27f4031c6
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Dec 11 14:44:22 2009 +0000

    Test Name, Creator and Disposition properties

 tests/twisted/constants.py          |    4 ++++
 tests/twisted/jingle/call-basics.py |   22 ++++++++++++++++++++--
 2 files changed, 24 insertions(+), 2 deletions(-)

commit f988362df3a8c289e4e4e22252968eae26e5c975
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Dec 11 14:37:25 2009 +0000

    Add a name argument to the jingle session
    
    Allow other bits of code to suggest a name when creating a new content
    in a jingle session. Also default audio/video streams to have respectively
    Audio/Video as their default names. In case of content naming colisions
    suffix the suggested/default name with _%d to prevent confusing clients that
    think content names are unique.

 src/call-channel.c                           |    2 +-
 src/jingle-session.c                         |   32 ++++++++++++++++---------
 src/jingle-session.h                         |    7 ++++-
 src/media-channel.c                          |    2 +-
 tests/twisted/jingle/call-state.py           |    2 +-
 tests/twisted/jingle/jingletest.py           |    4 +-
 tests/twisted/jingle/test-outgoing-iceudp.py |    4 +-
 7 files changed, 32 insertions(+), 21 deletions(-)

commit d5153d2576c298bb2c1c209aadbd8a8b584f716d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Dec 11 14:33:35 2009 +0000

    Implement Name, Disposition and Creator properties on Call Content objects

 src/call-channel.c |   19 +++++++++++++---
 src/call-content.c |   56 +++++++++++++++++++++++++++++++++++++++++++++++++++-
 2 files changed, 70 insertions(+), 5 deletions(-)

commit 697b3a565afebd0591613d304f6835ba4ee09275
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Dec 11 12:39:54 2009 +0000

    Test adding a video stream

 tests/twisted/jingle/call-basics.py |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 5d6224f06a815bc7cddb0b589e4a7ff65d6c646f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Dec 11 12:39:23 2009 +0000

    Implement the AddContent method

 src/call-channel.c |   42 ++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 42 insertions(+), 0 deletions(-)

commit 2df8c9711cc2884d0142f2e00d1f3a70b95820a5
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Dec 11 12:37:50 2009 +0000

    Use the first transport of an incoming stream as the default transport

 src/call-channel.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 96fc1af6420668395bebeae767f61353b2eff0ec
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Dec 11 12:33:32 2009 +0000

    Make call_channel_create_content return the object path or an error

 src/call-channel.c |   26 +++++++++++++++++++-------
 1 files changed, 19 insertions(+), 7 deletions(-)

commit 9cf9b5807fa7e2ab4c50ea1c40c2433939969c24
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Dec 10 13:22:36 2009 +0000

    Test Hangup

 tests/twisted/jingle/call-basics.py |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 256c7204de034c4af36bf20c23a0c783ae8497ef
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Dec 10 13:22:20 2009 +0000

    Simple implementation of Hangup

 src/call-channel.c |   24 ++++++++++++++++++++++++
 1 files changed, 24 insertions(+), 0 deletions(-)

commit 8510a2d3a93b2396f48f4c576639546a538a263c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Dec 9 17:20:38 2009 +0000

    Test the CallState tracking

 tests/twisted/constants.py          |    5 +++++
 tests/twisted/jingle/call-basics.py |   26 ++++++++++++++++++++++++++
 2 files changed, 31 insertions(+), 0 deletions(-)

commit b0efecd0abb47f3aaf06b6df9c88095b8a3a5ce6
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Dec 9 17:20:16 2009 +0000

    Implement CallState

 src/call-channel.c |   64 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 64 insertions(+), 0 deletions(-)

commit d5479c33719c44cd5fd9003eac885e001bde0c65
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Dec 9 11:43:45 2009 +0000

    Get all call state properties directly from private fields

 src/call-channel.c |   46 +++++++++++++++++++++++++++-------------------
 1 files changed, 27 insertions(+), 19 deletions(-)

commit 8560c86414e6dd76102abb3999197432d8d8c5a0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Dec 8 17:45:25 2009 +0000

    Implement dummy versions of various properties

 src/call-channel.c                  |   63 +++++++++++++++++++++++++++++++++++
 tests/twisted/jingle/call-basics.py |    5 +++
 2 files changed, 68 insertions(+), 0 deletions(-)

commit 492f580abf7a60036d038ccaf243273a4663d8fb
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Dec 8 15:23:18 2009 +0000

    Implement the HardwareStreaming property

 src/call-channel.c                  |   12 ++++++++++++
 tests/twisted/jingle/call-basics.py |    4 ++++
 2 files changed, 16 insertions(+), 0 deletions(-)

commit af8d7b5130c1a1e8de134792fad85a1793188660
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Dec 8 15:22:44 2009 +0000

    Indentation trivia

 src/call-channel.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit a11a3869957de24d6499872f2d05421451637545
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Dec 8 14:47:34 2009 +0000

    Implement dummy version of Ringing

 src/call-channel.c                  |    9 +++++++++
 tests/twisted/jingle/call-basics.py |    2 ++
 2 files changed, 11 insertions(+), 0 deletions(-)

commit 59eee74f16517a6e616cc894fa0e13765e424bde
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Dec 24 01:10:12 2009 +0100

    Use the protocol parameter from the remote transports array

 tests/twisted/jingle/jingletest2.py |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit 14da889010e8855b299e0dbc88e7cdd4d7b03a8a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Dec 24 01:09:52 2009 +0100

    Fix indentation

 tests/twisted/jingle/call-basics.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 6a138241850759b9486905691513c61e7f696fe1
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Dec 24 01:09:39 2009 +0100

    Also check the removed array

 tests/twisted/jingle/call-basics.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 6f8a50f64fe088652ec18cd3cff436e97828be66
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Dec 24 01:08:42 2009 +0100

    Use assertLength where applicable

 tests/twisted/jingle/call-basics.py |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit f02e8e9a500af3e08acce3c31eaf7bd04da0fee9
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Dec 24 01:06:12 2009 +0100

    Translate the internal media type to the tp media type

 src/call-content.c         |   12 +++++++++++-
 tests/twisted/constants.py |    4 ++--
 2 files changed, 13 insertions(+), 3 deletions(-)

commit 60c84d7bb36651df1bebf9644ce5c89f1768295c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Dec 24 01:01:08 2009 +0100

    Use G_PARAM_STATIC_STRINGS where applicable

 src/call-content.c         |   15 +++------------
 src/call-stream-endpoint.c |   14 +++-----------
 src/call-stream.c          |   10 ++--------
 3 files changed, 8 insertions(+), 31 deletions(-)

commit dc2143525032a8e4f17f6492c69a7b86849223f3
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Dec 24 00:53:40 2009 +0100

    Assert that object patch are non-NULL after setting them

 src/call-content-codecoffer.c |    2 +-
 src/call-content.c            |    2 +-
 src/call-stream-endpoint.c    |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit d858076ae1c30804e10473ab76840840bc275323
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Dec 24 00:49:12 2009 +0100

    Fix various coding style and types, also remove some dead code

 src/call-channel.c                  |    2 +-
 src/call-content-codecoffer.c       |   10 ----------
 src/call-content.c                  |   16 ++--------------
 src/call-stream-endpoint.c          |   16 +++++++---------
 src/call-stream-endpoint.h          |    1 -
 src/call-stream.c                   |    2 --
 src/caps-channel-manager.c          |    2 +-
 tests/twisted/jingle/jingletest2.py |    2 +-
 8 files changed, 12 insertions(+), 39 deletions(-)

commit 457e905ea89139eaceffc19879fefd58e1ccae0f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Dec 23 18:42:59 2009 +0000

    Remove duplicate second definition of TWICE

 src/util.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit def0f7a8cc63ac02eeabdf638614c1667f3cef46
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Wed Dec 23 12:03:39 2009 -0600

    Don't set remote-credentials until we have better Jingle infrastructure for it.

 src/call-stream-endpoint.c |   29 -----------------------------
 1 files changed, 0 insertions(+), 29 deletions(-)

commit 59ee534da955e4c8a2a83d2d35a6ea9005303ada
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Dec 23 15:24:41 2009 +0000

    Fix identation and remove superfluous code

 src/media-factory.c |    7 ++-----
 1 files changed, 2 insertions(+), 5 deletions(-)

commit c949e18f33dbc27733e7a4c3dc816925f568fcb0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Dec 23 15:20:40 2009 +0000

    Fix identation

 src/call-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f6c0a077649de0424dc0747e5e4a9d794b43ed2a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Dec 23 15:17:47 2009 +0000

    Use G_PARAM_STATIC_STRINGS where applicable

 src/call-channel.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit e6e4e07ff245d844a12fa05bcec549b765c92fbb
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Dec 23 14:55:27 2009 +0000

    Fix indentation

 src/call-channel.c |   66 ++++++++++++++++++++++++++--------------------------
 1 files changed, 33 insertions(+), 33 deletions(-)

commit e147bfa89e3335b945f113f3aab1d99d3dfe7c52
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Dec 23 14:36:18 2009 +0000

    No need to check for TARGET_{HANDLE,ID} twice

 tests/twisted/jingle/outgoing-basics.py |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit aa89ff9cb8a984d3e8edd77ee557488d2f3b9ac8
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Dec 23 14:34:24 2009 +0000

    Type fix

 tests/twisted/jingle/outgoing-basics.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit fd63dc3201fc4624bbee916a770c10e1b7dc5c92
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Dec 23 14:08:59 2009 +0000

    Use tp_asv_* to create channel classes

 src/media-factory.c |   36 +++++++++++++++---------------------
 1 files changed, 15 insertions(+), 21 deletions(-)

commit 671acd828790db49845cf4ea4bf098d27ac1e259
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Dec 22 22:37:56 2009 -0600

    Use GABBLE_STRUCT_TYPE_STREAM_CREDENTIALS constant.

 src/call-stream-endpoint.c |   11 ++++-------
 1 files changed, 4 insertions(+), 7 deletions(-)

commit 055748176df1f26d5fb03cb6c78033297fa79237
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Dec 22 22:17:53 2009 -0600

    Initialize remote_credentials in init.
    
    This allows the get handler to be simplified and fixes a possible issue of
    freeing remote_credentials without it necessarily having been set.

 src/call-stream-endpoint.c |   19 ++++++-------------
 1 files changed, 6 insertions(+), 13 deletions(-)

commit 09c50d4b1e9e0dd98646aafae368e0fb7eac11ca
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Thu Dec 10 19:47:49 2009 -0600

    Free remote_credentials on finalize.

 src/call-stream-endpoint.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit b7d4223970c7dbf977e43c58f49cf41ea05d8d63
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Dec 8 15:47:48 2009 -0600

    Fix shadowed variable error from rebasing.

 src/call-stream-endpoint.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 6f09a8b44503f8209a92001babdba6660af91796
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Thu Dec 3 20:23:09 2009 -0600

    Set RemoteCredentials and emit RemoteCredentialsSet.

 src/call-stream-endpoint.c |   30 ++++++++++++++++++++++++++++++
 1 files changed, 30 insertions(+), 0 deletions(-)

commit ce858b243b8fe883898b9bcd1c5f77cf70e211fa
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Mon Nov 30 17:41:01 2009 -0600

    Add the RemoteCredentials property to GabbleCallStreamEndpoint.

 src/call-stream-endpoint.c |   29 +++++++++++++++++++++++++++++
 1 files changed, 29 insertions(+), 0 deletions(-)

commit 72450d40bd46b2bead92f1e1a141c008261b879a
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Sun Nov 29 22:45:00 2009 -0600

    Add a test for GabbleCallStream's LocalCandidatesAdded signal.

 tests/twisted/jingle/call-basics.py |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 03e683794080e1f75d4d4fe3f81272e87053d04d
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Sun Nov 29 22:44:31 2009 -0600

    Emit GabbleCallStream's LocalCandidatesAdded signal.

 src/call-stream.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 460065f9f5d4cfdc022faec360d0612e69a36ff4
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Dec 22 22:03:50 2009 -0600

    Fix some minor style and initialization issues that were caught by make check.

 src/call-stream-endpoint.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 91fc8f1f8e4ea7bcd9e68c1be4aaedb1ef7d0b7b
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Dec 22 21:32:10 2009 -0600

    Initialize selected_candidate to an appropriate value.
    
    This simplifies its get handler and fixes a possible problem of freeing
    regardless of whether or not it was actually set.

 src/call-stream-endpoint.c |   30 +++++++++++-------------------
 1 files changed, 11 insertions(+), 19 deletions(-)

commit 10636a399eeb206494ff1bb10f747d152e21656d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Dec 22 12:47:55 2009 +0000

    Post-release version bump (0.9.3.1)

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8170458b10489bb44a5357a208b588ac553087a1
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Dec 21 14:36:23 2009 +0000

    Bump the version to 0.9.3

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 0da2e837c129da054c1deaab451e76d913e003fd
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Dec 21 16:36:01 2009 +0000

    Update NEWS

 NEWS |   13 ++++++++++++-
 1 files changed, 12 insertions(+), 1 deletions(-)

commit 3cf6b96cd04b6da227e4f9b09ea304cd64f1b61f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Dec 22 12:11:43 2009 +0000

    Update wocky snapshot

 lib/ext/wocky |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 07289e06dfdc6ae581dbb679028211cc09a53d0c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Dec 21 12:21:11 2009 +0000

    Updating the wocky snapshot

 lib/ext/wocky |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8c78a28e070f05dd93a1ba34acd784aced4689ff
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Sun Dec 20 18:01:07 2009 +0000

    Update wocky snapshot

 lib/ext/wocky |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3b02ffcb24b7cd77b503e7f729f9b688d03b102a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Sun Dec 20 17:49:50 2009 +0000

    Update --enable-gtk-doc configure flag name

 Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9e505634f874b1b74d9f50089164ca7241f37558
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Sun Dec 20 17:18:19 2009 +0000

    Test for the source file, not the target file

 tools/Makefile.am |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 1875107f9ed94dfaf8bcdb9347c0aca7dbe29aa0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Sun Dec 20 17:15:43 2009 +0000

    Make AX_CONFIG_DIR_IMPLY AC_DISABLE_OPTION_CHECKING
    
    Turn of warnings about unknown options as this also causes warnings about
    options from submodules. AC_CONFIG_SUBDIRS has the same behaviour

 m4/ax_config_dir.m4 |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 65e4514df2949262d11963f59f205375582533ad
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Sun Dec 20 17:12:44 2009 +0000

    Append configured subdir to _AC_LIST_SUBDIRS
    
    _AC_LIST_SUBDIRS is used to by ./configure --help=recursive to show the
    options of the submodules. AX_CONFIG_DIR should do the same

 m4/ax_config_dir.m4 |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 5211db62c20c9adbb681ce0c56aec29c2ad24fc4
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Sun Dec 20 17:12:12 2009 +0000

    Add ax_config_dir from audacity

 configure.ac        |   39 ++-----------------
 m4/Makefile.am      |    3 +-
 m4/ax_config_dir.m4 |  106 +++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 112 insertions(+), 36 deletions(-)

commit ca188951b8ab8315451893fdc58375cc99d4fbbb
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Sun Dec 20 15:21:46 2009 +0000

    Sync the tests valgrind command with those of the twisted tests

 tests/Makefile.am |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit a857b7e03a43a2108d2690f7e1e205dc86188a2f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Sun Dec 20 15:21:22 2009 +0000

    Disable DBUS mem-pools when valgrinding to prevent false positives

 tests/twisted/tools/exec-with-log.sh.in |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit e0649c2ad46f37c02ff5ba24545f32514750df57
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Sun Dec 20 15:20:40 2009 +0000

    Add gabble specific suppressions file

 tests/suppressions/gabble.supp          |  210 +++++++++++++++++++++++++++++++
 tests/twisted/tools/exec-with-log.sh.in |    1 +
 2 files changed, 211 insertions(+), 0 deletions(-)

commit ffc91551f1857a7b611793256c54bd2f3d318a88
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Sun Dec 20 14:38:37 2009 +0000

    Move the suppression file to a more generic path

 configure.ac                            |    1 +
 tests/Makefile.am                       |    2 +-
 tests/suppressions/Makefile.am          |    2 +
 tests/suppressions/tp-glib.supp         |  250 +++++++++++++++++++++++++++++++
 tests/twisted/tools/exec-with-log.sh.in |    2 +-
 tests/twisted/tools/tp-glib.supp        |  250 -------------------------------
 6 files changed, 255 insertions(+), 252 deletions(-)

commit 796c2ef9fb32300fe70b53294d8ff9f441cc9bf6
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Dec 18 19:49:21 2009 +0000

    Update wocky snapshot

 lib/ext/wocky |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3bb21486495e4bd770e050c580dc6a6c7d0db00e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Dec 18 19:22:49 2009 +0000

    Test that we don't accept open iq for unaccepted bytestreams

 tests/twisted/Makefile.am                         |    1 +
 tests/twisted/file-transfer/test-ibb-too-early.py |   29 +++++++++++++++++++++
 2 files changed, 30 insertions(+), 0 deletions(-)

commit 9b601eb70dc3b160e045a2afce26d114692786c8
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Dec 18 19:21:37 2009 +0000

    Don't accept an open ibb iq if we didn't accept the bytestream yet

 src/bytestream-factory.c |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit e8aaf40b493af783addedb613238236f53c50eb6
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Dec 18 16:10:24 2009 +0000

    Wait for the stream-iq reply before opening the bytestream
    
    We should wait with the accepting side to accept our bytestream before sending
    data over it. Also change things around a bit so a tube with a different id is
    requested every time which makes debugging slightly easier

 tests/twisted/tubes/accept-private-dbus-tube.py |   30 +++++++++++++++-------
 1 files changed, 20 insertions(+), 10 deletions(-)

commit 98ef3cb6dd1d238f1babb4eccca0e69919f05251
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Dec 18 15:28:44 2009 +0000

    Test that the tests waited for the stream-iq reply
    
    By the time a test calls open_bytestream it should have waited for the response
    to the stream-iq. If it doesn't races can occur which are hard to detect and
    debug. So add a small boobytrap in open_bytestream which explodes if a test
    didn't call check_si_reply, which it should have called after getting the reply

 tests/twisted/bytestream.py |   14 +++++++++++++-
 1 files changed, 13 insertions(+), 1 deletions(-)

commit c80cc5490e81dd791a0277a34dd1f11efc93a71a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Dec 18 15:23:41 2009 +0000

    Leave the Disconnect handling to tp-glib

 tests/twisted/main-debug.c |   51 +++++++------------------------------------
 1 files changed, 9 insertions(+), 42 deletions(-)

commit 6c3fee622752404275333df672d0d0970b819cf2
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Dec 18 14:28:02 2009 +0000

    Make sure we only call the callback if it's still alive

 src/bytestream-factory.c |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)

commit 67e61a2f508c9ed75fe7b892c52f7fae53f49cf6
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Dec 18 14:22:26 2009 +0000

    Free some memory allocated by gabble for debugging

 tests/test-presence.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 77d25997f19843f2fb7c685df1fff48e9f717a38
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Dec 18 14:21:08 2009 +0000

    Deinit wocky at the end of the run so it can free some memory

 src/gabble.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 970b3ab0cf5e94aa58d4c90a1b1640ac032eca00
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Dec 18 14:19:46 2009 +0000

    Remove now unused out label

 src/connection.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 661be7bf14fa851f5bd04ebde1fd6e747d854982
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Dec 18 14:19:29 2009 +0000

    Chain up to the parent class so it can free some memory

 src/connection-manager.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit f2caa16d08e8203de9899959814cd3281991e3f6
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Dec 18 14:12:48 2009 +0000

    Fix usage of potentially freed memory
    
    In various error cases the data buffer in the socks5 bytestream gets freed
    directly, in such cases don't try to return the lenght of said buffer. Instead
    return -1, which, in case the buffer isn't freed yet, will erase all the data
    left, which is exactly what we want.

 src/bytestream-socks5.c |   20 ++++++++++----------
 1 files changed, 10 insertions(+), 10 deletions(-)

commit 40f6db89083907719baf0523d7673b13ebb86873
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Dec 18 14:10:46 2009 +0000

    Fail early if we can't get local ip address to prevent leaking memory

 src/bytestream-socks5.c |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit 666feae2d300e2818908d6e60c1a7be7c1c499fa
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Dec 18 14:09:57 2009 +0000

    Don't leak the intset returned by tp_handle_set_update

 src/capabilities.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 45be548bfe8594d805230887f1bb45f6207e9f0b
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Dec 18 14:08:35 2009 +0000

    If there is a destroy notify, call it

 lib/loudmouth/lm-message-handler.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit f69eb69684c17cf0ab363b09dbe231bbe5c119ce
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Dec 18 14:08:15 2009 +0000

    Also unref the LmMessageHandler in error cases

 lib/loudmouth/lm-connection.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit c3929608e3c1a2e3679861c7ede948881fdc7d1c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Dec 18 14:06:53 2009 +0000

    Initialize the buffer used in a cmsg to zero
    
    Initializing the buffer the zero prevents false positives from valgrind. Also
    fixed a small code consistency issue

 lib/gibber/gibber-unix-transport.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 27bb1340e0d4ea8594709bc0d4a5db86106359bb
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Dec 10 20:38:14 2009 -0500

    plug various leaks

 src/bytestream-factory.c |    2 +-
 src/bytestream-socks5.c  |    4 +++-
 src/connection-manager.c |    1 +
 src/connection.c         |    6 +++++-
 src/ft-channel.c         |    9 +++++++++
 src/jingle-content.c     |    6 +++++-
 src/jingle-media-rtp.c   |    6 ++++++
 src/media-channel.c      |    3 +++
 src/media-factory.c      |    3 +++
 src/media-stream.c       |    7 +++++++
 src/presence-cache.c     |    1 +
 src/roster.c             |    1 +
 12 files changed, 45 insertions(+), 4 deletions(-)

commit 8f38439db7085dd668f051d73ed5ebb365fa35d5
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Dec 10 20:32:25 2009 -0500

    update copy of tp-glib.supp

 tests/twisted/tools/tp-glib.supp |  589 ++++++++------------------------------
 1 files changed, 127 insertions(+), 462 deletions(-)

commit 04514132d08651444403f2b0156fff5c5f4717da
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Dec 15 19:01:35 2009 +0000

    NEWS for fd.o#25341

 NEWS |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 244f587f4cd5a21613f17e7b3df234307b9a8655
Merge: fec6a62 1340421
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Dec 15 18:57:41 2009 +0000

    Merge branch 'fd.o#25341'
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit 13404217de857b28e64d2d16a8c012e2d539cb51
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Dec 14 17:55:40 2009 +0000

    Test that the fix for fd.o#25341 works.

 tests/twisted/Makefile.am            |    1 +
 tests/twisted/vcard/redundant-set.py |   47 ++++++++++++++++++++++++++++++++++
 2 files changed, 48 insertions(+), 0 deletions(-)

commit b81ea4e2153f4fed9f81addb4ac7b20c63f23bf8
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   Wed Dec 9 14:15:48 2009 -0300

    vcard-manager: Iterate over hashtable instead of usin g_hash_table_find to check if vcard changed.

 src/vcard-manager.c |   36 ++++++++++++++++++------------------
 1 files changed, 18 insertions(+), 18 deletions(-)

commit 6de8040cbe857f1d5320e27b7401ad2eae23fe2d
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   Wed Dec 9 14:04:42 2009 -0300

    vcard-manager: Do not try to set vcard fields not supported by google servers.

 src/vcard-manager.c |   24 ++++++++++++++++++++++--
 1 files changed, 22 insertions(+), 2 deletions(-)

commit 25f56b84854d239ff542c12467405ccfe606e706
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Dec 8 15:15:44 2009 -0600

    Validate the selected candidate before setting it.

 src/call-stream-endpoint.c |   40 ++++++++++++++++++++++++++++++++++++++++
 1 files changed, 40 insertions(+), 0 deletions(-)

commit f35857131da7584c1c5f97bd37f99fbca5c380c1
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Mon Dec 7 17:31:59 2009 -0600

    Free the selected candidate on finalize.

 src/call-stream-endpoint.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 26e4e1a604a84a6f6f5428f50ccd7c95d63cc123
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Thu Dec 3 20:25:40 2009 -0600

    If the SelectedCandidate is being changed, free the old one so it doesn't leak.

 src/call-stream-endpoint.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 8be13fb65cc2e51ba460caa6c223207426b9caf4
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Sun Nov 29 22:37:05 2009 -0600

    Add a partial test of GabbleCallStreamEndpoint's SelectedCandidate property.
    
    It only tests what it returns when it hasn't been set yet. The tests don't yet
    set remote candidates or the selected candidate anywhere.

 tests/twisted/jingle/call-basics.py |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit b8a3c7a61cc52ab36041c2b4d9266af95d787228
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Sun Nov 29 22:35:20 2009 -0600

    Implement SetSelectedCandidate in GabbleCallStreamEndpoint.

 src/call-stream-endpoint.c |   16 ++++++++++++++++
 1 files changed, 16 insertions(+), 0 deletions(-)

commit 99abaa07fef94649f9bbfb602354d34d2838bdb3
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Sun Nov 29 22:34:24 2009 -0600

    Add the SelectedCandidate property to GabbleCallStreamEndpoint.

 src/call-stream-endpoint.c |   29 +++++++++++++++++++++++++++++
 1 files changed, 29 insertions(+), 0 deletions(-)

commit cf9d4c93f1cd6b97ed4190f51bf163c7f1dfe53c
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Wed Dec 2 20:40:35 2009 -0600

    Escape from the function on error.

 src/call-stream-endpoint.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit f8e7559e7c55099851b264b44f2c64588384edf2
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Wed Dec 2 20:39:18 2009 -0600

    Add the erroneously passed state to the debug message.

 src/call-stream-endpoint.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8fde7fe14a0faed3ba7fc3701d4ee800cb6aeaea
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Wed Dec 2 20:37:33 2009 -0600

    Use g_error_new instead of g_set_error.
    
    This avoids GError complaining if *err is non-NULL and I'm not using an
    existing GError, so it really is a new one.

 src/call-stream-endpoint.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit c8e2cca2caba64f2868d5cf3ded9eb680ff8e8fd
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Dec 1 18:51:43 2009 -0600

    Validate that the stream state being set is within the allowed range.

 src/call-stream-endpoint.c |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit fec6a6215080b612e60bea85558222e0b3848296
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   Tue Dec 8 14:50:04 2009 +0000

    Update wocky to fix OpenSSL infinite pseudo-read loop.

 lib/ext/wocky |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 92c6f043435704a14768bc859729edc10271ecc1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Dec 8 14:01:19 2009 +0000

    Miscellaneous NEWS updates

 NEWS |   13 +++++++++++++
 1 files changed, 13 insertions(+), 0 deletions(-)

commit 61d7c72b2c0a6cde45ec9f343706cdbbc1f3f760
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Dec 7 15:40:12 2009 +0000

    Fix coding style checks for out-of-tree builds

 tools/check-coding-style.mk |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 39c2a3b8779fae2a52a4d301c0b19def546c09d1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Dec 7 15:01:44 2009 +0000

    Move pmuc-v1 #define up with the other bundles'

 src/capabilities.h |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 1aca8d2c74bbd0b7ab2e8e1f7e7fa998ceb8a2b8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Dec 7 14:43:24 2009 +0000

    Fall back to stun.telepathy.im not stun.ccu

 src/connection.h                    |    2 +-
 tests/twisted/jingle/stun-server.py |    4 ++--
 tests/twisted/main-debug.c          |    2 +-
 3 files changed, 4 insertions(+), 4 deletions(-)

commit 5fd8e6f6a177a1a15bcf21ba4dda76029c09f524
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Dec 7 14:08:04 2009 +0000

    test-muc-ownership: Remove magic numbered handles
    
    This makes the test a bit less write-only.

 tests/twisted/muc/test-muc-ownership.py |   64 +++++++++++++++++++------------
 1 files changed, 39 insertions(+), 25 deletions(-)

commit 1b9f931a2946ae1e5c94def5f844c40a9066fa4c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Dec 7 14:06:47 2009 +0000

    Add assertFlags{Set,Unset}

 tests/twisted/servicetest.py |   14 ++++++++++++++
 1 files changed, 14 insertions(+), 0 deletions(-)

commit 32123d640ce85f79d027117e5a65a95a72e1dca9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Dec 7 14:02:55 2009 +0000

    Remove obsolete asynchronousity.

 tests/twisted/muc/test-muc-ownership.py |    7 +------
 1 files changed, 1 insertions(+), 6 deletions(-)

commit 7ede11aab37d9f25f3cda205b6b9d9b0ac2da77b
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Dec 7 18:25:48 2009 +0000

    Update the Call spec to the 0.19.0 version

 extensions/Call_Content.xml                 |   76 ++--
 extensions/Call_Content_Codec_Offer.xml     |    7 +-
 extensions/Call_Content_Interface_Media.xml |  170 ++++++--
 extensions/Call_Stream.xml                  |   78 +++-
 extensions/Call_Stream_Endpoint.xml         |   14 +-
 extensions/Call_Stream_Interface_Media.xml  |  251 +++++++++---
 extensions/Channel_Type_Call.xml            |  631 ++++++++++++++++++++++-----
 extensions/all.xml                          |   17 +
 src/call-channel.c                          |    4 +-
 tests/twisted/constants.py                  |   14 +-
 10 files changed, 990 insertions(+), 272 deletions(-)

commit f474c0bc6827ea0b5b5926b29eca07e9c96eabdc
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Dec 1 18:57:11 2009 -0600

    Use g_assert_not_reached as it's more common in this case.

 src/call-stream-endpoint.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 750b02d1f092afa844ccd6f56c02cd5f3d4c4883
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Mon Nov 23 16:02:16 2009 -0600

    Add a test for GabbleCallStreamEndpoint's Transport property.

 tests/twisted/jingle/call-basics.py |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 059c8756bc929c049c192f7e14096afc4edb3ff3
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Mon Nov 23 16:01:24 2009 -0600

    Add the Transport property to GabbleCallStreamEndpoint.

 src/call-stream-endpoint.c |   33 +++++++++++++++++++++++++++++++++
 1 files changed, 33 insertions(+), 0 deletions(-)

commit a0422b0c6d702d276f2ba89b28df0ef72abded97
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Mon Nov 23 14:59:15 2009 -0600

    Add checks for an endpoint's StreamState and StreamStateChanged.

 tests/twisted/jingle/call-basics.py |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit 85c001df18ac18ecc2869eff7d4dd948b41cd20c
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Mon Nov 23 14:58:24 2009 -0600

    Emit StreamStateChanged on GabbleCallStreamEndpoint.

 src/call-stream-endpoint.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 1e3a0535c6d9bfc9f4364c07dad372d465a7ddb5
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Mon Nov 23 14:57:37 2009 -0600

    Add the StreamState property to GabbleCallStreamEndpoint.

 src/call-stream-endpoint.c |   18 ++++++++++++++++++
 1 files changed, 18 insertions(+), 0 deletions(-)

commit d43783a4d8ff553b92d705fcd770453d23389472
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Fri Nov 20 13:23:32 2009 -0600

    No need to do a runtime check and cast as it's already a GabbleCallStream.

 src/call-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4c48bcf122f881ccc5e0a9d847716e1f4dec84b8
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Fri Nov 20 13:19:33 2009 -0600

    If one block in an if/else has {} then all of them should have it.

 src/call-stream.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit e67255ebab87490e871ce9a6df4ac2444290ebbb
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Thu Nov 19 15:12:56 2009 -0600

    Swap assertEquals parameters as the expected value is first.

 tests/twisted/jingle/stun-server.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 65eafeba2ee906e72c4009241b0fbad7391f10d2
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Thu Nov 19 15:08:48 2009 -0600

    Refer to the got_relay_info boolean for the RetrievedServerInfo property.

 src/call-stream.c |   24 +-----------------------
 1 files changed, 1 insertions(+), 23 deletions(-)

commit 22fa13ce64bfbaf49bdfa77757def16b018bf4a3
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Thu Nov 19 15:08:19 2009 -0600

    Emit ServerInfoRetrieved based on the got_relay_info boolean.

 src/call-stream.c |    6 +-----
 1 files changed, 1 insertions(+), 5 deletions(-)

commit dd32f1059c72bf752288cab99c78f475f44d2870
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Thu Nov 19 15:07:13 2009 -0600

    Add a boolean to keep track of whether or not relay info has been retrieved.

 src/call-stream.c |   10 +++++++++-
 1 files changed, 9 insertions(+), 1 deletions(-)

commit 4ee21bfb9c1d0f9d70f97d15f404079ee0f5729d
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Wed Nov 18 17:36:34 2009 -0600

    Add a test for the ServerInfoRetrieved signal.

 tests/twisted/jingle/stun-server.py |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit a129a741c0c5e6dd5bae0a54326bc9bf90168a0e
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Wed Nov 18 17:35:42 2009 -0600

    Emit the ServerInfoRetrieved signal.

 src/call-stream.c |   13 +++++++++++++
 1 files changed, 13 insertions(+), 0 deletions(-)

commit 06ca9968763354f9014df2ea86e6789b542cc608
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Wed Nov 18 17:33:40 2009 -0600

    Add a test for the RetrievedServerInfo property.

 tests/twisted/jingle/stun-server.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 24589b7a968b0b9df1d258e06bbb1d044235b7e1
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Wed Nov 18 17:30:00 2009 -0600

    Add the RetrievedServerInfo property to GabbleCallStream.

 src/call-stream.c |   38 ++++++++++++++++++++++++++++++++++++++
 1 files changed, 38 insertions(+), 0 deletions(-)

commit 3dd3d1a51f24fcbbf35ba4ec3a346ebc0ce8b310
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Wed Nov 18 16:56:06 2009 -0600

    Update the spec to include ServerInfoRetrieved and RetrievedServerInfo
    
    This also removes STUNServersAdded and RelayInfoAdded.

 extensions/Call_Stream_Interface_Media.xml |   30 +++++++++++++++++----------
 1 files changed, 19 insertions(+), 11 deletions(-)

commit 68b2faf97a9252b9d0f6c4add7cd3bbf92325aea
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Thu Nov 19 13:48:33 2009 -0600

    Swap assertEquals parameters as the expected value comes first.

 tests/twisted/jingle/stun-server.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d02e749db14bcd684b98ccb81046609bfad6fa64
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Wed Nov 18 15:33:27 2009 -0600

    Skip candidates with unhandled candidate types.

 src/call-stream.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit b736f17180b81889bcdc5a68bc3d4f2318c7ccb7
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Nov 17 21:55:46 2009 -0600

    Add a test for the Call.Stream.Interface.Media.Draft's RelayInfo property.

 tests/twisted/jingle/stun-server.py |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit db5729a3b622a50ba0906647892f2f4fd2592276
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Nov 17 17:46:25 2009 -0600

    Translate candidate types between the D-Bus AddCandidate message and Jingle.
    
    At the time of this commit there is no defined standard for candidate types.
    Here I'm using values of FsCandidateType since that's what the new-call-demo
    is passing it.

 src/call-stream.c |   22 +++++++++++++++++++++-
 1 files changed, 21 insertions(+), 1 deletions(-)

commit a03c01995168d3c2cc69442dfc0b79cf36646427
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Nov 17 17:45:23 2009 -0600

    If the call is using Gtalk P2P, retrieve relay-info data.

 src/call-stream.c |   32 ++++++++++++++++++++++++++++++++
 1 files changed, 32 insertions(+), 0 deletions(-)

commit 2cb3db218b0179feb18df532ecb48bcb25035160
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Nov 17 17:35:27 2009 -0600

    Add the RelayInfo property to GabbleCallStream.

 src/call-stream.c |   26 ++++++++++++++++++++++++++
 1 files changed, 26 insertions(+), 0 deletions(-)

commit 8c65c0aee2db204bbeaa265846f5794ad4266a57
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Thu Nov 19 13:42:02 2009 -0600

    Swap assert{,Not}Equals parameters as the expected value comes first.

 tests/twisted/jingle/stun-server.py |   18 +++++++++---------
 1 files changed, 9 insertions(+), 9 deletions(-)

commit 20ee0a051852d9dd1f95ed187b0f481db68e522b
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Wed Nov 18 14:49:30 2009 -0600

    Use the constant CALL_STREAM_TRANSPORT_GOOGLE instead of its value.
    
    Didn't see that constant the first time through. Oops :)

 tests/twisted/jingle/stun-server.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f2cb657cc5e1c8cfd48e7ed6722beb9fb0264b75
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Wed Nov 18 14:45:15 2009 -0600

    Split the Call STUN server tests apart from the StreamedMedia tests.

 tests/twisted/jingle/stun-server.py |   51 ++++++++++++++++++++++++++++------
 1 files changed, 42 insertions(+), 9 deletions(-)

commit 5aa88e73da42faf7529b80e3ee952e70f4d0318c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Dec 8 12:19:38 2009 +0000

    Make log-strip.py process its arguments

 tools/log-strip.py |   14 ++++++++++++--
 1 files changed, 12 insertions(+), 2 deletions(-)

commit 481c0f19df9165f88a80960602cda53bf5f2a076
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Dec 8 12:15:22 2009 +0000

    Make log-strip.py executable

 tools/log-strip.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 69d8880ea0ac8f8ed5b04d621b4becba6078a357
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Dec 8 11:33:13 2009 +0000

    Tidy some assertions in caps_helper.py
    
    These triggered while I was experimenting with different places to put
    the test name, and I thought I'd fix them up.

 tests/twisted/caps_helper.py |   27 ++++++++++++++++-----------
 1 files changed, 16 insertions(+), 11 deletions(-)

commit d7ae6c73bce691170147d56a517e4a8d55a78431
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Dec 8 11:30:17 2009 +0000

    Shove the test name into 'account' as the resource
    
    This means the name of (most) tests appears in gabble-testing.log;
    'resource' takes priority so the test jid still comes out as
    test@localhost/Resource.

 tests/twisted/gabbletest.py |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit ac0d8fde22da281e989e6ae8ddfa6982b516b128
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Dec 8 11:27:32 2009 +0000

    Make 'resource' override a resource in 'account'
    
    This way round makes more sense to me and (empirically) to #telepathy.

 src/connection-manager.c |   18 ++++++++++--------
 1 files changed, 10 insertions(+), 8 deletions(-)

commit f98bb21b2c428958ef800a47747dee98985f1e5e
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Wed Nov 18 14:29:18 2009 -0600

    Break stun server check out into its own function.

 tests/twisted/jingle/stun-server.py |   64 +++++++++++-----------------------
 1 files changed, 21 insertions(+), 43 deletions(-)

commit 787defed096a6293c0dddb7ecc5985524afc57ae
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   Mon Dec 7 11:04:16 2009 -0300

    fd.o#25341: Always sets its own vcard on login
    
    Note that gmail only stores vcard fields FN and PHOTO, so when using empathy the
    nickname (alias) will be updated on every login.

 src/vcard-manager.c |   28 ++++++++++++++++++++++++++++
 1 files changed, 28 insertions(+), 0 deletions(-)

commit d5c20bac9df9e93cf21700fc966abb1a82a86192
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Wed Nov 18 14:03:30 2009 -0600

    Use assertEquals, assertLength, and assertNotEquals where applicable.

 tests/twisted/jingle/stun-server.py |   27 +++++++++++++++------------
 1 files changed, 15 insertions(+), 12 deletions(-)

commit 1a8191c5b30f2cf2d0cf9f5b3e53f79aeb4daaef
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Wed Nov 18 13:54:48 2009 -0600

    Use gabble_value_array_build instead of manually building the ValueArray.

 src/call-stream.c |   14 ++++++--------
 1 files changed, 6 insertions(+), 8 deletions(-)

commit 5e8bdf395a4e981b3edba6977dd795a0b047ac45
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Nov 17 21:55:46 2009 -0600

    Add a test for the Call.Stream.Interface.Media.Draft's STUNServers property.

 tests/twisted/jingle/stun-server.py |   75 +++++++++++++++++++++++++++++++++++
 1 files changed, 75 insertions(+), 0 deletions(-)

commit caa0661d6063b83f95a2b3bd743f37ea79991664
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Nov 17 21:53:13 2009 -0600

    Fix tests/twisted/Makefile.am due to a previously renamed file.

 tests/twisted/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 14e7e3bc01b5758c14b826374b260b7aba8b0b46
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Mon Nov 16 16:51:21 2009 -0600

    Add the STUNServers property to call-stream.c.

 src/call-stream.c |   44 ++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 44 insertions(+), 0 deletions(-)

commit c3fd65ef248969d7752fd53ffca95710d5835165
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Nov 16 15:19:07 2009 +0000

    Implement CandidatesPrepared
    
    For jingle candidates prepared is basically meaningless, so the implementation
    just returns successfully right away

 src/call-stream.c                   |   10 ++++++++++
 tests/twisted/jingle/call-basics.py |    1 +
 2 files changed, 11 insertions(+), 0 deletions(-)

commit 6003f397d551eb98877997ee92528f9cc4095d06
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Nov 16 14:45:25 2009 +0000

    Test both incoming and outgoing calls

 tests/twisted/jingle/call-basics.py          |  188 ++++++++++++++++++++++++++
 tests/twisted/jingle/call-outgoing-basics.py |  136 -------------------
 2 files changed, 188 insertions(+), 136 deletions(-)

commit d2bdf42c1cdc37fadaac4456ca9fb679d09afb07
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Nov 16 14:42:57 2009 +0000

    Add a FIXME for the CodecMap implementation
    
    The ContactCodecMap property always includes both the remote and local codecs,
    while it should only have the remote codecs if we accepted them. Add a FIXME
    for this

 src/call-content.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 3290635d0c9a3e80a586ffde7ba7bd5774c9ae98
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Nov 16 14:42:34 2009 +0000

    (Re)set local codecs as result of an acceptance of a codec offer

 src/call-content.c |   16 ++++++++++++----
 1 files changed, 12 insertions(+), 4 deletions(-)

commit 8d6db8a7456020f5d58c1c5751806f4fa8c55ec6
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Nov 16 14:42:06 2009 +0000

    Spawn a codec offer a result of an incoming call as well

 src/call-content.c |   28 +++++++++++++++++++++-------
 1 files changed, 21 insertions(+), 7 deletions(-)

commit 77dd42ef89d7fc065d1d7839d789539bc72f18cb
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Nov 16 14:41:32 2009 +0000

    Implement the CodecOffer property

 src/call-content.c |   39 +++++++++++++++++++++++++++++++++++++++
 1 files changed, 39 insertions(+), 0 deletions(-)

commit 8636b86452847b36a21a117b2f9bf9a114ebb804
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Nov 16 14:22:25 2009 +0000

    Implement Call.Endpoint.SetStreamState

 src/call-stream-endpoint.c |   20 ++++++++++++++++++++
 1 files changed, 20 insertions(+), 0 deletions(-)

commit 075947fab70ddc0983118a6a4aab6194a3bb477e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Nov 16 14:22:05 2009 +0000

    Impement CallChannel.Accept

 src/call-channel.c |   20 ++++++++++++++++++++
 1 files changed, 20 insertions(+), 0 deletions(-)

commit d43a586dee6d609535bd7dc3b261264092719ae1
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Nov 16 14:18:30 2009 +0000

    Refactor CallContent creation so it works correctly for incoming calls

 src/call-channel.c |   87 +++++++++++++++++++++++++++++++++++++---------------
 1 files changed, 62 insertions(+), 25 deletions(-)

commit 7fe31f016103e4f1802f563f8519e8121dd27879
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Nov 13 17:20:40 2009 +0000

    Update spec draft

 extensions/Call_Content_Interface_Media.xml |   24 +++++++++++++++++++++---
 1 files changed, 21 insertions(+), 3 deletions(-)

commit 7adafb18cd06821fa1cde3010eadb78d88b24aa7
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Nov 11 17:37:35 2009 +0000

    Update the spec snapshot

 extensions/Call_Stream_Endpoint.xml |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit d1444c1a7941722a524bbfada146978246f6bb9a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Nov 11 16:09:16 2009 +0000

    Use constructed instead of constructor

 src/call-channel.c |   15 +++++----------
 1 files changed, 5 insertions(+), 10 deletions(-)

commit d609c350a3cd617a0ee2a3718ea17578ea3c8d93
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Nov 11 16:07:54 2009 +0000

    Use call channels if one client supports it

 src/media-factory.c |   36 ++++++++++++++++++++++++++++++++++--
 1 files changed, 34 insertions(+), 2 deletions(-)

commit 8a0d428240d1fec555557f99bc79caeca3537409
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Nov 11 16:03:44 2009 +0000

    Tell CapChannelManagers that their caps are going to be reset

 src/caps-channel-manager.c |   14 ++++++++++++++
 src/caps-channel-manager.h |    7 +++++++
 src/connection.c           |   11 +++++++++++
 3 files changed, 32 insertions(+), 0 deletions(-)

commit f8d6a5fb853eb1e216778ed73fce120e237831b0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Nov 11 16:06:58 2009 +0000

    Refactor the call channel creation code a bit

 src/media-factory.c |  281 +++++++++++++++++++++++++++------------------------
 1 files changed, 151 insertions(+), 130 deletions(-)

commit 9f232b218bb4f3340a65dba53684365d58adbcf3
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Nov 11 13:21:04 2009 +0000

    Test the implementation of the Transport property

 tests/twisted/constants.py                   |    4 ++++
 tests/twisted/jingle/call-outgoing-basics.py |    6 ++++++
 2 files changed, 10 insertions(+), 0 deletions(-)

commit cbf51c27199ec3d3bdc8478ae12ee5aedde08b1a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Nov 11 13:04:54 2009 +0000

    Implement the Transport property

 src/call-stream.c |   43 +++++++++++++++++++++++++++++++++++++++++--
 1 files changed, 41 insertions(+), 2 deletions(-)

commit 068a2736890609e7ab5349fd417cd0ec6a8df9eb
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Nov 11 12:52:55 2009 +0000

    Check if the Content has the right type

 tests/twisted/constants.py                   |    3 +++
 tests/twisted/jingle/call-outgoing-basics.py |    3 +++
 2 files changed, 6 insertions(+), 0 deletions(-)

commit c249abb214c6e388a2c4adceb82faf7454e02835
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Nov 11 12:51:24 2009 +0000

    Implement the Type property on Content

 src/call-content.c |   16 ++++++++++++++++
 1 files changed, 16 insertions(+), 0 deletions(-)

commit 236a4f41ea7d657c90d8d30950548eca53b43e55
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Nov 9 15:42:27 2009 +0000

    Test the RemoteCandidates property

 tests/twisted/constants.py                   |    2 ++
 tests/twisted/jingle/call-outgoing-basics.py |    6 ++++++
 2 files changed, 8 insertions(+), 0 deletions(-)

commit 2fd57cbf974e106dcb6c1f17421895fc24d5a89c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Nov 9 15:42:03 2009 +0000

    Don't shadow the stream variable

 tests/twisted/jingle/call-outgoing-basics.py |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 928c73e80cf59e2f03b228a79fc07be9aad5fb58
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Nov 9 15:41:28 2009 +0000

    Support RemoteCandidates property and signal new ones

 src/call-stream-endpoint.c |   62 ++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 62 insertions(+), 0 deletions(-)

commit 3e429905b2a3355a49eca62ceb254c3ad96ae1fa
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Nov 9 15:41:00 2009 +0000

    Add a utility function to convert a list of candidates to the a GPtrArray

 src/call-stream.c |   31 ++-----------------------------
 src/util.c        |   39 +++++++++++++++++++++++++++++++++++++++
 src/util.h        |    2 ++
 3 files changed, 43 insertions(+), 29 deletions(-)

commit 6aed79c7dbdfbd02a00abe0f98c46117870e7fd0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Nov 9 14:15:09 2009 +0000

    Test that a stream has an endpoint

 tests/twisted/jingle/call-outgoing-basics.py |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 6df8cdedd408f7e154572294feb7b068527d7930
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Nov 9 14:14:32 2009 +0000

    Add a basic endpoint object

 src/Makefile.am            |    2 +
 src/call-stream-endpoint.c |  236 ++++++++++++++++++++++++++++++++++++++++++++
 src/call-stream-endpoint.h |   77 ++++++++++++++
 src/call-stream.c          |   39 +++++++
 4 files changed, 354 insertions(+), 0 deletions(-)

commit b973d7843474d647a7294fd69ee52970ed05bee7
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Nov 9 13:41:05 2009 +0000

    Use constructed instead of constructor

 src/call-stream.c |   15 +++++----------
 1 files changed, 5 insertions(+), 10 deletions(-)

commit 54052b4ef568c20a9ca3cdfd40702088cfa4f950
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Nov 6 16:53:22 2009 +0000

    Add a test for the codecoffer

 tests/twisted/constants.py                   |    3 +++
 tests/twisted/jingle/call-outgoing-basics.py |   24 ++++++++++++++++++++++++
 2 files changed, 27 insertions(+), 0 deletions(-)

commit 578777311429512af959b2622feacab1af1e5630
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Nov 6 16:52:24 2009 +0000

    Add basic codec offer support

 src/Makefile.am               |    2 +
 src/call-content-codecoffer.c |  319 +++++++++++++++++++++++++++++++++++++++++
 src/call-content-codecoffer.h |   83 +++++++++++
 src/call-content.c            |   75 ++++++++++
 4 files changed, 479 insertions(+), 0 deletions(-)

commit 976334fb14d807367a7d5cb99094772d794410a5
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Nov 6 16:48:24 2009 +0000

    Allow the codecmap to generate both local and remote codecs

 src/call-channel.c |    1 +
 src/call-content.c |   73 +++++++++++++++++++++++++++++++++++++++------------
 2 files changed, 57 insertions(+), 17 deletions(-)

commit c92ce4979f55a65be616dcf6a8731b2b110bf9a7
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Nov 5 14:13:23 2009 +0000

    Factor out converting a codec GList to a GPtrArray

 src/call-content.c |   50 ++++++++++++++++++++++++++++++++------------------
 1 files changed, 32 insertions(+), 18 deletions(-)

commit 78cb3e68e9f88c9debc7daba6d3cb03a9d02c47a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Nov 5 14:07:49 2009 +0000

    Use constructed instead of constructor

 src/call-content.c |   15 +++++----------
 1 files changed, 5 insertions(+), 10 deletions(-)

commit dafa1f4ee34a36ff3add8b05cc49d784e6042607
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Nov 4 18:21:19 2009 +0000

    Test setting candidates and codecs

 tests/twisted/jingle/call-outgoing-basics.py |   37 ++++++++++++++++++++++++++
 1 files changed, 37 insertions(+), 0 deletions(-)

commit 650f6953055a871112fc32a1bd7a70c84c602803
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Nov 4 18:20:54 2009 +0000

    Add convenience function to get codecs and candidates for Call dbus interfaces

 tests/twisted/jingle/jingletest2.py |   32 ++++++++++++++++++++++++++++++++
 1 files changed, 32 insertions(+), 0 deletions(-)

commit 8d6548f4348e7dc2ec84710108a9f3115a8c8465
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Nov 4 18:19:35 2009 +0000

    Add constant for version new call interfaces

 tests/twisted/constants.py |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit e269cfee43739e41141b01b0cc9ee96e993918be
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Nov 4 18:18:20 2009 +0000

    Implement setting and getting codecs

 src/call-content.c |   97 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 97 insertions(+), 0 deletions(-)

commit 9f7d10bb7baf8df6db578d37e3d46a54a68bb15e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Nov 4 18:02:32 2009 +0000

    Add initial implementation of Call.Stream objects

 src/Makefile.am    |    2 +
 src/call-content.c |   63 +++++++++
 src/call-stream.c  |  372 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/call-stream.h  |   64 +++++++++
 4 files changed, 501 insertions(+), 0 deletions(-)

commit ad470f1824e33b607de786e780cde2df41bb69f3
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Nov 4 17:42:57 2009 +0000

    Pass the GabbleConnection to the content

 src/call-channel.c |    1 +
 src/call-content.c |   18 ++++++++++++++++++
 2 files changed, 19 insertions(+), 0 deletions(-)

commit 8dc8c9853fecd17f5d372b722d9fc27bbfc2bf67
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Nov 4 17:40:37 2009 +0000

    Tweak indentation

 src/call-channel.h |    9 ++++++---
 1 files changed, 6 insertions(+), 3 deletions(-)

commit d63c7304160817ca81a00b79c8c081f345073779
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Nov 4 17:40:06 2009 +0000

    Set the dialect on the session

 src/call-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 59154f7c62ce02ddb346cb0dbc83913a1d4ec83f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Nov 3 18:31:36 2009 +0000

    Short-circuit adding no candidates

 src/jingle-content.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 0ffd8e5b5b6e3617c6ce0aa899610bc02417bdd9
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Nov 3 18:31:05 2009 +0000

    Add utility function to build GValueArrays

 src/util.c |   39 +++++++++++++++++++++++++++++++++++++++
 src/util.h |    4 ++++
 2 files changed, 43 insertions(+), 0 deletions(-)

commit da1a3cb3e57ab5afac3b65be70b9afe4450a7540
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Nov 3 18:30:07 2009 +0000

    Make it possible to retrieve our local candidates

 src/jingle-content.c          |    8 ++++++++
 src/jingle-content.h          |    1 +
 src/jingle-transport-google.c |   11 +++++++++++
 src/jingle-transport-iceudp.c |   11 +++++++++++
 src/jingle-transport-iface.c  |   11 +++++++++++
 src/jingle-transport-iface.h  |    2 ++
 src/jingle-transport-rawudp.c |   11 +++++++++++
 7 files changed, 55 insertions(+), 0 deletions(-)

commit ac015dca22a7f6462f21a0495505b3e5442d77ca
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Nov 3 18:24:34 2009 +0000

    Add the ability to retrieve local codecs

 src/jingle-media-rtp.c |    6 ++++++
 src/jingle-media-rtp.h |    1 +
 2 files changed, 7 insertions(+), 0 deletions(-)

commit 429976f0bd4da9b0cb853d8783bea1d447d5d333
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Oct 27 14:51:28 2009 +0000

    Initial dummy version of CallContent objects

 src/Makefile.am    |    2 +
 src/call-channel.c |   54 +++++++++++-
 src/call-content.c |  243 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/call-content.h |   67 ++++++++++++++
 4 files changed, 364 insertions(+), 2 deletions(-)

commit 830e91daf2b35514d5fb11ac803c985a29b7aea3
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Oct 26 16:26:24 2009 +0000

    Create the jingle session and initial streams

 src/call-channel.c |   98 ++++++++++++++++++++++++++++++++++++++++++++++------
 1 files changed, 87 insertions(+), 11 deletions(-)

commit 61bd59de232c53941b21452f2d30fbbe51c356a5
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Oct 26 16:13:14 2009 +0000

    Move _pick_best_content_type to utils.c

 src/media-channel.c |   41 ++++-------------------------------------
 src/util.c          |   36 ++++++++++++++++++++++++++++++++++++
 src/util.h          |    4 ++++
 3 files changed, 44 insertions(+), 37 deletions(-)

commit fd5b9865d38c2b44a5ca155d98561703b66c1c1b
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Oct 26 15:21:54 2009 +0000

    Move jingle resource selection to utils

 src/media-channel.c |  139 +-------------------------------------------------
 src/util.c          |  140 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/util.h          |   11 ++++
 3 files changed, 153 insertions(+), 137 deletions(-)

commit 148664852301f67e8a0f20f40c71bdb4bd260519
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Oct 26 12:35:10 2009 +0000

    Let CallChannel implement GAsyncInitable

 src/call-channel.c  |   36 +++++++++++++++++++++++++++++++
 src/media-factory.c |   58 +++++++++++++++++++++++++++++++++++++++++++--------
 2 files changed, 85 insertions(+), 9 deletions(-)

commit e7c40efe4de218e0b798ccd96ddebd9d68a484e8
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Oct 23 18:02:58 2009 +0100

    Let MediaChannelRequest store a list of tokens

 src/media-factory.c |   23 ++++++++++++-----------
 1 files changed, 12 insertions(+), 11 deletions(-)

commit 63c4ddc7d0836fffe0e9925a9fbe65eb5f503ef7
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Oct 22 19:18:58 2009 +0100

    Add test for basic construction of a Call channel

 tests/twisted/Makefile.am                    |    1 +
 tests/twisted/jingle/call-outgoing-basics.py |   57 ++++++++++++++++++++++++++
 2 files changed, 58 insertions(+), 0 deletions(-)

commit aaa035a9c83b080259bc66b3739d24230682f0d8
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Oct 23 15:05:31 2009 +0100

    Add first dummy implementation of a Call channel

 src/Makefile.am     |    2 +
 src/call-channel.c  |  544 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/call-channel.h  |   64 ++++++
 src/media-factory.c |  107 ++++++++++-
 4 files changed, 715 insertions(+), 2 deletions(-)

commit b32e4791b7b6ac9b2ade86b68abac144404b26ac
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Oct 23 14:47:13 2009 +0100

    Change media channel GPtrArray to a GList

 src/media-factory.c |   40 ++++++++++++++--------------------------
 1 files changed, 14 insertions(+), 26 deletions(-)

commit 9df3c899a69dced5539c4738f7adb6e13caf940c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Oct 22 18:35:28 2009 +0100

    Check for the correct Call channel ContactCaps

 tests/twisted/caps/jingle-caps.py |   36 +++++++++++++++++++++++-------------
 1 files changed, 23 insertions(+), 13 deletions(-)

commit 62b7b6855ec8b69e5caca2ebb1b9906a6cbf61e4
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Oct 22 18:38:10 2009 +0100

    Advertise Call Channel in ContactCaps

 src/media-factory.c |   49 ++++++++++++++++++++++++++++++++++++++++++++-----
 1 files changed, 44 insertions(+), 5 deletions(-)

commit 284a59dfce9cb3b43d448f4e286baba41372c52f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Oct 22 18:31:56 2009 +0100

    More pedantic RCC content testing

 tests/twisted/constants.py              |    1 +
 tests/twisted/jingle/outgoing-basics.py |   22 ++++++++++++++++------
 2 files changed, 17 insertions(+), 6 deletions(-)

commit 1787ed808c2bef25ea755e28bf776a8ad386d0ee
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Oct 22 18:31:48 2009 +0100

    Put MutableContents in the Call channel RCC

 src/media-factory.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit c4b12e9f75315972f20a65752d72384b8d38eccd
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Oct 22 18:15:45 2009 +0100

    Update the spec to the latest version

 extensions/Channel_Type_Call.xml |   23 ++++++++---------------
 1 files changed, 8 insertions(+), 15 deletions(-)

commit f19211f48f93d7619d59cb4bd95498a074bb0db7
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Oct 22 12:39:28 2009 +0100

    Make sure mixed media spec clients don't confuse things

 tests/twisted/caps/advertise-contact-caps.py |   32 ++++++++++++++++++++++++++
 1 files changed, 32 insertions(+), 0 deletions(-)

commit c72ffa3fbc33f17221cf18cecc173422b7dae7b8
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Oct 21 17:56:08 2009 +0100

    Test advertising capabilities for both call channel types

 tests/twisted/caps/advertise-contact-caps.py |   74 +++++++++++++++-----------
 1 files changed, 42 insertions(+), 32 deletions(-)

commit 3161ff7971c81f66dd18756bf4a33d2fb3c8621a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Oct 21 17:55:34 2009 +0100

    Advertise the same caps for StreamedMedia and Call channels

 src/media-factory.c |   48 ++++++++++++++++++++++++++++++------------------
 1 files changed, 30 insertions(+), 18 deletions(-)

commit a51648db3a61dac449a4f893579fe464af0dd686
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Oct 21 17:04:43 2009 +0100

    Test the requestable channel classes contain the new media spec

 tests/twisted/jingle/outgoing-basics.py |   16 ++++++++++++++++
 1 files changed, 16 insertions(+), 0 deletions(-)

commit 279cadff435842ee30572fcc51d2782d9ac46fd3
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Oct 21 17:17:11 2009 +0100

    Announce the new media spec in RequestableChannelClasses

 src/media-factory.c |   40 +++++++++++++++++++++++++++++++++++++---
 1 files changed, 37 insertions(+), 3 deletions(-)

commit 160f29c77de5bc338869d255ad5c362e9565085b
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Oct 21 17:01:10 2009 +0100

    Add various constants for the new media spec

 tests/twisted/constants.py |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit fbf6c504ccbe963450344c17611bea5c5aed86e8
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Oct 21 17:00:45 2009 +0100

    Verify the stream media RCC contains Initial Audio/Video

 tests/twisted/jingle/outgoing-basics.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit bfc1154aef53ac3a06c21bbc463b6c918f3c9bed
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Oct 21 15:53:30 2009 +0100

    Add an early draft of the new call spec

 extensions/Call_Content.xml                 |  125 +++++++
 extensions/Call_Content_Codec_Offer.xml     |   54 +++
 extensions/Call_Content_Interface_Media.xml |  127 +++++++
 extensions/Call_Stream.xml                  |  123 +++++++
 extensions/Call_Stream_Endpoint.xml         |   95 +++++
 extensions/Call_Stream_Interface_Media.xml  |  253 +++++++++++++
 extensions/Channel_Type_Call.xml            |  521 +++++++++++++++++++++++++++
 extensions/all.xml                          |   55 +++
 8 files changed, 1353 insertions(+), 0 deletions(-)

commit 8e0268e4d6e9244468be8af36863d5060f842e78
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Dec 7 18:30:45 2009 +0000

    Update code-gten tools from telepathy-glib 0.9.2

 tools/c-constants-gen.py       |   59 ++++++------
 tools/glib-ginterface-gen.py   |  166 ++++++++++++++++++++++++---------
 tools/glib-gtypes-generator.py |  205 ++++++++++++++++++++++++++--------------
 tools/glib-interfaces-gen.py   |   54 ++++++++---
 tools/libglibcodegen.py        |    5 +-
 tools/libtpcodegen.py          |   36 ++-----
 6 files changed, 337 insertions(+), 188 deletions(-)

commit 3792e0103cb035ecdbce9aa170cb3007a4824662
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Dec 7 18:50:49 2009 +0000

    Add tp:name-for-bindings to the OLPC specs

 extensions/OLPC_Activity_Properties.xml    |    7 ++++---
 extensions/OLPC_Buddy_Info.xml             |   21 ++++++++++++---------
 extensions/OLPC_Channel_Interface_View.xml |    4 ++--
 extensions/OLPC_Gadget.xml                 |    4 ++--
 4 files changed, 20 insertions(+), 16 deletions(-)

commit 908602869f027b92e16c25171b7fd1462b9254bb
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   Mon Dec 7 17:42:08 2009 +0000

    Update wocky to include openssl deadlock and build fixes.

 lib/ext/wocky |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4e7fc410af6ca050a3f57f49e351a904cbb0f596
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Dec 7 15:12:52 2009 +0000

    Remove various bits that were only used for GibberResolver

 configure.ac              |   23 -
 lib/gibber/Makefile.am    |    8 +-
 lib/gibber/asyncns.c      | 1498 ---------------------------------------------
 lib/gibber/asyncns.h      |  163 -----
 lib/loudmouth/Makefile.am |    2 +-
 5 files changed, 3 insertions(+), 1691 deletions(-)

commit dae4f4df74ac7609801ca79e5ca85a85d590931d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Dec 7 15:00:31 2009 +0000

    Tweak coding style

 src/jingle-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b0be95b534330c5538544b779044e4ab96cedffd
Merge: ba33603 0af825f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Dec 7 14:48:21 2009 +0000

    Merge remote branch 'maiku/gresolver'

commit ba3360330c19940a000a3c92c1e7385cceb1600b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Dec 7 11:29:51 2009 +0000

    remove debug message in bytestream_write_blocked_cb
    
    Those flood the debug log and are not that useful.

 src/ft-channel.c |   10 ----------
 1 files changed, 0 insertions(+), 10 deletions(-)

commit c2111a7d8249603d74255262fdc7b00d4b284f40
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 4 18:43:05 2009 +0000

    remove useless \n

 src/bytestream-factory.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 342ae93005022e0110e93b07030e385255a24010
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 4 18:38:38 2009 +0000

    fix typo

 src/bytestream-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4ad9bcd0afa9aad6bb4dccfacacb9c45a3d0a0b9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 4 18:33:24 2009 +0000

    test if bugged proxies are not queried twice

 tests/twisted/test-fallback-socks5-proxy.py |   29 ++++++++++++++++++--------
 1 files changed, 20 insertions(+), 9 deletions(-)

commit 28d344a9d11f0d23eab602f6406fa6c86a08d5d9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 4 18:30:17 2009 +0000

    remove proxy from the list if we receive an IQ error

 src/bytestream-factory.c |   24 ++++++++++++++++++++++++
 1 files changed, 24 insertions(+), 0 deletions(-)

commit eaa219390c1d4347a082579045a69c0e77b3be49
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 4 17:48:12 2009 +0000

    use a timestamp instead of a timer to manage the lifetime of the proxies list

 src/bytestream-factory.c |   41 +++++++++++------------------------------
 1 files changed, 11 insertions(+), 30 deletions(-)

commit 4f39f6e17d991d83442043d27b88af3b9465d2fa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 4 17:22:36 2009 +0000

    connection.h: remove old comments about proxies

 src/connection.h |    9 +--------
 1 files changed, 1 insertions(+), 8 deletions(-)

commit a06796617e51b913dc5d466fb317b178d782f135
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 4 17:22:02 2009 +0000

    proxies_disco_cb: log a debug msg if disco failed

 src/bytestream-factory.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit b43ca913add25cc76ed10e8b6643d866419aa348
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 4 17:16:13 2009 +0000

    Always recycle the socks5_potential_proxies list
    
    We ensure that we won't query twice the same proxy by clamping the number of
    proxy needed to the length of the list of the potential proxies.
    This add the nice side effect of prioritizing a different proxy every time.

 src/bytestream-factory.c |   21 +++++----------------
 1 files changed, 5 insertions(+), 16 deletions(-)

commit bf9b340bfd4333cc8b7c3e797b416724b956d8cc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 4 17:00:35 2009 +0000

    proxies_disco_cb: Replace the old list instead of adding elements to it

 src/bytestream-factory.c |   13 ++++++++-----
 1 files changed, 8 insertions(+), 5 deletions(-)

commit e2c73522d5275d4e787a19fd5d79d97cac898845
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 4 16:46:18 2009 +0000

    add_proxy_to_list: free the oldest proxy once removed

 src/bytestream-factory.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 21ada2f323e7d72d1105b5d006a4753d458dabe6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 4 16:44:29 2009 +0000

    remove double ';'

 src/bytestream-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 92ff1d7aa5fc47859e8b9d4c4746eede46128e55
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 4 15:55:05 2009 +0000

    mark the proxies list has expired after 6 hours

 src/bytestream-factory.c |   40 ++++++++++++++++++++++++++++++++++++++++
 1 files changed, 40 insertions(+), 0 deletions(-)

commit 4d2fd71d7f6a15df9d60ea9e20e224fd452d1c6d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 4 15:04:27 2009 +0000

    Stop hardcoding a list of public proxies
    
    They should now get fetched through proxies.telepathy.im. This allow us a more
    flexible control on the proxies used.

 src/connection.h |   14 +-------------
 1 files changed, 1 insertions(+), 13 deletions(-)

commit e898716d6db952797922f471dd3d7c89d10f06a1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 4 15:04:07 2009 +0000

    test if proxies_telepathy_im is properly queried

 tests/twisted/test-fallback-socks5-proxy.py |   31 ++++++++++++++++++++++++++-
 1 files changed, 30 insertions(+), 1 deletions(-)

commit d225a208a47e985ba3b409a1ac9d866c7a434e3c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 4 15:03:19 2009 +0000

    query proxies.telepathy.im if there is no fallback server
    
    This server returns a list of public proxies that can be used as fallback.

 src/bytestream-factory.c |   70 ++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 68 insertions(+), 2 deletions(-)

commit db14f9c1d46ede49992d89eccf0563af19557d31
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 4 14:03:24 2009 +0000

    check if Gabble requests a new proxy if a reply is an error

 tests/twisted/test-fallback-socks5-proxy.py |   25 ++++++++++++++++++++++++-
 1 files changed, 24 insertions(+), 1 deletions(-)

commit 401fba21bcf41c7c451ec381ddd389269ff884c4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 4 14:02:35 2009 +0000

    remove the sock5 proxies timer; instead request a new proxy if a reply is wrong

 src/bytestream-factory.c |   51 ++++++++++-----------------------------------
 1 files changed, 12 insertions(+), 39 deletions(-)

commit fbe22e6bd43ee62a580511bb8e2545c545ece3a1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 4 13:51:11 2009 +0000

    factor out query_proxies

 src/bytestream-factory.c |   60 ++++++++++++++++++++++++++-------------------
 1 files changed, 35 insertions(+), 25 deletions(-)

commit 6388627d83822a7dc1313c75158a61352b3137e6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 4 13:41:21 2009 +0000

    check that we don't flood proxies with useless requests

 tests/twisted/test-fallback-socks5-proxy.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 539db841f4d0455651565e8cbad33a931c9c9c34
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 4 13:41:09 2009 +0000

    don't recycle proxies list if that doesn't make sense

 src/bytestream-factory.c |   16 ++++++++++++++--
 1 files changed, 14 insertions(+), 2 deletions(-)

commit bb8d5643ed5183828509ca6743cd5c542b66efbd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 4 13:31:36 2009 +0000

    test-fallback-socks5-proxy: test that the list of proxies is recycled

 tests/twisted/test-fallback-socks5-proxy.py |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit f9cec5878b5cbb2d6ec63683353740eb3d230606
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 4 13:30:50 2009 +0000

    recycle the list of potential proxies
    
    This avoid to get stuck with the latest proxies added in the cache once we
    queried all the potential proxies.

 src/bytestream-factory.c |   24 ++++++++++++++++++------
 1 files changed, 18 insertions(+), 6 deletions(-)

commit 6408ae680a85d8b7fc243e5b0eb37f27389881f1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 4 12:27:12 2009 +0000

    test-fallback-socks5-proxy.py: test how gabble manages the proxy cache once it's full

 tests/twisted/test-fallback-socks5-proxy.py |   83 ++++++++++++++++++++++++++-
 1 files changed, 81 insertions(+), 2 deletions(-)

commit 796de2a1e75a683e77876002b7fca3636b9e8b63
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 4 12:27:02 2009 +0000

    test-fallback-socks5-proxy.py: factor out send_file_to_alice

 tests/twisted/test-fallback-socks5-proxy.py |   20 ++++++++------------
 1 files changed, 8 insertions(+), 12 deletions(-)

commit beefba0328a8d2dbcbf0ccb0f94899616360bd49
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 4 12:22:54 2009 +0000

    gabble_bytestream_factory_get_socks5_proxies: stop randomizing proxies
    
    The newer proxies have to be put first in the SOCKS5 stanza.

 src/bytestream-factory.c |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit 7372e05b592298e4478d8f0f975dd72fe47e60d5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 4 11:38:25 2009 +0000

    streamhost are identified by their host
    
    The SOCKS5 reply from the other peer only contains the jid of the streamhost.
    We can't have more than one proxy using the same jid as then we won't be able
    to know which one is used by the peer.

 src/bytestream-factory.c                    |   13 ++-----------
 tests/twisted/test-fallback-socks5-proxy.py |    6 +++---
 2 files changed, 5 insertions(+), 14 deletions(-)

commit 3a3de09a58072192e4423cfa0cf2c1a37bc08650
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Nov 27 14:59:08 2009 +0000

    remove oldest proxy from the cache

 src/bytestream-factory.c |   15 +++++++++++++++
 1 files changed, 15 insertions(+), 0 deletions(-)

commit 4350f0217a7de9bfb94c9d266abc7facaffb0964
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Nov 27 14:46:20 2009 +0000

    move existing proxy to the head of the list when they are re-discovered

 src/bytestream-factory.c |   19 +++++++++++++------
 1 files changed, 13 insertions(+), 6 deletions(-)

commit fbad85953c6791382d204c886f17e1eaa4eba5e5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Nov 27 14:37:59 2009 +0000

    gabble_bytestream_factory_query_socks5_proxies: always request at least one proxy
    
    This ensure to always have at least one fresh proxy in the cache.

 src/bytestream-factory.c |   13 ++++++++-----
 1 files changed, 8 insertions(+), 5 deletions(-)

commit 77c4e09576106791a30409af8e402dc14be1396b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Nov 27 14:19:48 2009 +0000

    test-fallback-socks5-proxy: add wait_si_and_return_proxies returning the list of used proxies

 tests/twisted/test-fallback-socks5-proxy.py |   95 ++++++++++-----------------
 1 files changed, 36 insertions(+), 59 deletions(-)

commit 049cc9a7412698e03160412c68954a121e0f80e8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Nov 27 13:07:39 2009 +0000

    test-fallback-socks5-proxy.py: make send_socks5_reply more generic

 tests/twisted/test-fallback-socks5-proxy.py |   22 +++++++++++-----------
 1 files changed, 11 insertions(+), 11 deletions(-)

commit 76672431edce6b39664cf00da33cc458c54c947b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Nov 27 12:55:45 2009 +0000

    rename NB_SOCKS5_PROXIES_USED to NB_MIN_SOCKS5_PROXIES and decrease it to 3

 src/bytestream-factory.c |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit 93617df81979d0df5afce984c388e361c80f5c97
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Nov 27 11:34:05 2009 +0000

    test-fallback-socks5-proxy.py: check that the same proxy can't be added twice

 tests/twisted/test-fallback-socks5-proxy.py |   48 +++++++++++++++++++++++++++
 1 files changed, 48 insertions(+), 0 deletions(-)

commit 8f6ed3ae5846691a77a4dbb6333ebed91ea74576
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Nov 27 11:33:45 2009 +0000

    add_proxy_to_list: don't add twice the same proxy

 src/bytestream-factory.c |   28 ++++++++++++++++++++++++++++
 1 files changed, 28 insertions(+), 0 deletions(-)

commit e4ba4772d8d3188f041e88e643231139b9e96377
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Nov 27 11:17:22 2009 +0000

    bytestream-factory: factor out add_proxy_to_list

 src/bytestream-factory.c |   38 +++++++++++++++++++++++++-------------
 1 files changed, 25 insertions(+), 13 deletions(-)

commit 8fa20229033e5271f7c059b8741658f7a32d8a94
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 4 16:19:51 2009 +0000

    fd.o #25296: break race in test-send-file-provide-immediately.py and test-send-file-wait-to-provide.py
    
    bytestream.wait_bytestream_closed() may involve waiting for a socket
    disconnection (if using SOCKS5). Waiting for the TransferredBytesChanged
    before calling wait_bytestream_closed is racy as the ordering of socket and
    D-Bus events is not garanteed.
    We break this race by waiting for those signals *after* we called
    wait_bytestream_closed(). As the TransferredBytesChanged signals are
    manually catched using connect_to_signal we'll only wait for them if needed.

 .../twisted/file-transfer/file_transfer_helper.py  |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit 3c42c48013a499c03cb4fcbc343699a655a5e9ec
Merge: 7acfe00 8a54cec
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Dec 3 21:11:51 2009 +0000

    Merge branch 'plugin-headers'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 8a54cec133435f6dd7a1c9d773f8856ba869d536
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Dec 3 21:10:17 2009 +0000

    Adjust test plugin to include plugin.h properly

 plugins/test.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 69a8a0ac8a9ca7698f8f33137fd58f88732767a5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Dec 3 19:32:04 2009 +0000

    Put headers in lib/telepathy-gabble-0/{gabble,wocky}
    
    This isn't part of 'telepathy-1.0', and putting the two directories
    side-by-side (rather than wocky/ being inside gabble/)means that
    including <plugin.h> won't accidentally include gabble/plugin.h because
    gabble/ was in the include path for Wocky's benefit.

 gabble/Makefile.am            |    6 +++---
 gabble/plugin.h               |    2 +-
 gabble/telepathy-gabble.pc.in |    2 +-
 3 files changed, 5 insertions(+), 5 deletions(-)

commit 6c13f0e060ac30b54a89af5dc9bd9d7f72b52244
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Dec 3 18:25:41 2009 +0000

    Include plugin directory in .pc files

 gabble/telepathy-gabble-uninstalled.pc.in |    3 +++
 gabble/telepathy-gabble.pc.in             |    2 ++
 2 files changed, 5 insertions(+), 0 deletions(-)

commit 6927a344fefddf1135a2d409c0368850ea6dd8aa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Nov 30 11:51:13 2009 +0000

    Install plugin and Wocky headers, and a .pc file

 Makefile.am                               |    2 +-
 configure.ac                              |    5 +++-
 gabble/Makefile.am                        |   39 +++++++++++++++++++++++++++++
 gabble/telepathy-gabble-uninstalled.pc.in |   11 ++++++++
 gabble/telepathy-gabble.pc.in             |   11 ++++++++
 5 files changed, 66 insertions(+), 2 deletions(-)

commit 0af825f8b18f3ab8bb4939cdc1de3cfff3cba7b7
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Wed Dec 2 21:41:36 2009 -0600

    Don't use self if it is NULL.
    
    Upon discussion with Sjoerd I learned that it was possible for a GAsync
    function to be cancelled, but still return a valid result. In this case, that
    would mean the GabbleJingleFactory was disposed. With my previous assumption
    that the error handler would have caught any condition where the factory was
    NULL, this could have tried to access the disposed factory. This commit fixes
    that assumption.

 src/jingle-factory.c |   11 ++++++++---
 1 files changed, 8 insertions(+), 3 deletions(-)

commit 40473b675fe013d2eb141155d1507454d99686f9
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Wed Dec 2 21:12:52 2009 -0600

    Use g_hostname_to_ascii unconditionally (instead of removing it).

 tests/twisted/test-resolver.c |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit cae7f901c9798a7d781f8484f2ab519f954384e9
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Dec 1 21:50:31 2009 -0600

    Definitely return NULL on error in the *_finish functions.

 tests/twisted/test-resolver.c |   18 ++++++++++--------
 1 files changed, 10 insertions(+), 8 deletions(-)

commit d4c136a5a6d12b00544e2c158253d2a5b6984383
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Dec 1 21:14:38 2009 -0600

    Simplify the code path in lookup_by_name_async.

 tests/twisted/test-resolver.c |   18 +++++-------------
 1 files changed, 5 insertions(+), 13 deletions(-)

commit 16d1307ce67160caeb904af94e2c4231df20c0ed
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Dec 1 21:10:55 2009 -0600

    Use g_simple_async_result_complete_in_idle instead of the immediate equivalent.

 tests/twisted/test-resolver.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8cba3df4a5a38604626b606513b533b6ca409129
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Dec 1 21:08:47 2009 -0600

    Simplify the code path in lookup_service_async.

 tests/twisted/test-resolver.c |   18 +++++-------------
 1 files changed, 5 insertions(+), 13 deletions(-)

commit 534dc818d26b8c508b3797fcba2f3e37d412e8f1
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Dec 1 20:50:33 2009 -0600

    Use entry != NULL instead of just entry.

 tests/twisted/test-resolver.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 287037d3ce6d36dbf0fa0dbe776872474857a79d
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Dec 1 20:43:34 2009 -0600

    Use fake != NULL and g_list_next to follow Telepathy standards.

 tests/twisted/test-resolver.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 0bf47895312850b1a3434cae87e5c4a1d564108e
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Dec 1 20:39:45 2009 -0600

    Simplify _service_rrname.

 tests/twisted/test-resolver.c |   10 +---------
 1 files changed, 1 insertions(+), 9 deletions(-)

commit ae877e4d6ac750d436b7dbdc1be3113f5c093f07
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Dec 1 20:36:58 2009 -0600

    Define these structs in Telepathy's coding style.

 tests/twisted/test-resolver.c |   13 +++++++++++--
 1 files changed, 11 insertions(+), 2 deletions(-)

commit 8c8bedc59cc4e544aae5bcde4cee69f3208d3832
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Dec 1 20:32:32 2009 -0600

    Remove the real-resolver property from the test-resolver.

 tests/twisted/main-debug.c    |    5 +--
 tests/twisted/test-resolver.c |   59 +----------------------------------------
 2 files changed, 3 insertions(+), 61 deletions(-)

commit 0756b0cdd72485ffca165678c425a4bc16f796c0
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Dec 1 20:18:58 2009 -0600

    Remove the compile-time debugging code.
    
    It shouldn't be a special compile-time function and it's not really needed.

 tests/twisted/test-resolver.c |   28 ----------------------------
 1 files changed, 0 insertions(+), 28 deletions(-)

commit aadc26b3a8fbabf59174468248b8f1333286558b
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Dec 1 20:16:07 2009 -0600

    Add 'stun.collabora.co.uk' to the list of addresses test-resolver handles.
    
    This allows for the fallback server to be tested in stun-server.py. This
    also allows those tests to be run without a network connection.

 tests/twisted/jingle/stun-server.py |   12 ++++--------
 tests/twisted/main-debug.c          |    2 ++
 2 files changed, 6 insertions(+), 8 deletions(-)

commit 16dea4a4a0968b0c28f797350b0726d2a0dcda8d
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Dec 1 20:13:51 2009 -0600

    Add localhost to the set of addresses test-resolver handles.
    
    This is so that GabbleConnection can connect using 'localhost' in the tests.

 tests/twisted/main-debug.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit c787aeb2951b88668b5712783c502039a1eab24a
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Tue Dec 1 19:41:13 2009 -0600

    Resync with wocky master which doesn't chain up to the real resolver.

 tests/twisted/test-resolver.c |   13 ++++++++-----
 1 files changed, 8 insertions(+), 5 deletions(-)

commit 10de892c149a6848bbf4177fc32b36e33a46b3f8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Nov 27 19:29:14 2009 +0000

    Move headers available to plugins to gabble/
    
    This makes it obvious which headers plugins can use, as well as making
    it possible to write both gabble.pc and gabble-uninstalled.pc without
    moving the whole of src/ to gabble/.

 gabble/plugin.h     |  106 +++++++++++++++++++++++++++++++++++++++++++++++++++
 gabble/sidecar.h    |   59 ++++++++++++++++++++++++++++
 plugins/Makefile.am |    2 +-
 src/Makefile.am     |    5 +-
 src/plugin.h        |  106 ---------------------------------------------------
 src/sidecar.h       |   59 ----------------------------
 6 files changed, 169 insertions(+), 168 deletions(-)

commit 7acfe00ef6fb90e236c81aaf4c215cc52af079e9
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Nov 27 18:04:26 2009 +0100

    Remove FT debug messages that get printed repeatedly
    
    Don't use debug message that get printed everytime the internal send of receive
    buffer is full/empty as this isn't very useful and makes the debug log useless.

 src/ft-channel.c |    8 --------
 1 files changed, 0 insertions(+), 8 deletions(-)

commit a15c0121d16fc11c207eb62ab9223e18959e3ebb
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   Fri Nov 27 16:43:17 2009 +0000

    Updated wocky (up to non-normalised-jid in IQ)

 lib/ext/wocky |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b2c3648cb89cc0a88e12f7671f2a5096db270128
Merge: 2059502 5c61965
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Nov 27 16:30:48 2009 +0000

    Merge branch 'plugins'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 5c61965eed786193f7f1cc636127e38421a05843
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Nov 26 20:29:17 2009 +0000

    Make test plugin build out of tree.

 plugins/Makefile.am |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit b9549d801527f1411e992987eab13f4693c8d83f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Nov 26 17:30:53 2009 +0000

    Ship Connection.FUTURE and Gabble.Plugin.Test xml.

 extensions/Makefile.am |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 4667612dfb104b6e2a2d19f0fababe5d755f166f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Nov 26 17:19:20 2009 +0000

    Partly disable sidecar test with --disable-plugins

 tests/twisted/Makefile.am |    7 +++
 tests/twisted/sidecars.py |  110 +++++++++++++++++++++++++-------------------
 2 files changed, 69 insertions(+), 48 deletions(-)

commit 48fd9382544d1582d3d854e65101ae9cbfcf906c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Nov 26 17:03:47 2009 +0000

    Make GabblePluginLoader a mortal singleton
    
    <http://bugs.freedesktop.org/show_bug.cgi?id=25205#c1> points out that
    making it immortal is a pain for valgrinding, and makes the time of
    probing for plugins unpredictable.

 src/gabble.c        |    7 +++++++
 src/plugin-loader.c |   12 ++++++++----
 2 files changed, 15 insertions(+), 4 deletions(-)

commit 0b0506542442aa801fdf21afa5f880cf6320bc05
Merge: 2ee360d 2059502
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Nov 27 12:26:50 2009 +0000

    Merge branch 'master' into plugins

commit 2059502c054f55e332aafe29c2476c5963033dc7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Nov 27 11:47:25 2009 +0000

    Don't distribute config.py in source tarball
    
    config.py is analogous to config.h: it's generated at build time based
    on the arguments passed to configure. Having it in EXTRA_DIST led to the
    interesting situation where `make distcheck` would:
    
    • generate config.py while making the tarball, with DEBUGGING = True;
    • generate it again when building, with DEBUGGING = False, but in
      _build/tests/twisted not in tests/twisted;
    • fail the debugger test because python picked up the config.py from the
      source tree rather than from the build tree, leading to the test
      trying to use the debugger despite Gabble being built without it.
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 tests/twisted/Makefile.am |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 091706982bcfd8fec07a037b7dfc64131863a31e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Nov 26 17:21:55 2009 +0000

    Remove proxy.fsinf.at on their request

 src/connection.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 596d17e6f0ab129b7965464fdc4fdfddf5cfd010
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Nov 26 16:15:46 2009 +0000

    test-fallback-socks5-proxy.py: break potential race in offer_dbus_tube
    
    The ordering of the queries and the return of CreateChannel is not garanteed.

 tests/twisted/test-fallback-socks5-proxy.py |    9 +++++++--
 1 files changed, 7 insertions(+), 2 deletions(-)

commit b3075dc18ecefa0b50e63508c280cf373096937d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Nov 26 16:02:37 2009 +0000

    test-fallback-socks5-proxy.py: test if proxy queries are sent when creating a FT channel

 tests/twisted/test-fallback-socks5-proxy.py |   37 +++++++++++++++++++++++++-
 1 files changed, 35 insertions(+), 2 deletions(-)

commit 467281d12819a483510f3b60ecd80c15628e983b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Nov 26 15:55:03 2009 +0000

    ft-channel: query SOCKS5 proxy when creating an outgoing FT
    
    We'll need proxies when we'll offer the file.

 src/ft-channel.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit ccd5c9bad730de088d7b730e024028d3da2343c1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Nov 26 15:32:40 2009 +0000

    test-fallback-socks5-proxy: test if proxy queries are sent when accepting a stream tube

 tests/twisted/test-fallback-socks5-proxy.py |   51 +++++++++++++++++++++++++++
 1 files changed, 51 insertions(+), 0 deletions(-)

commit 64ac6b9103a899394f4cccb0f68184d865b9165c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Nov 26 15:30:57 2009 +0000

    tube_stream: query SOCKS5 proxy when creating an incoming tube
    
    We'll need proxies when we'll accept the tube.

 src/tube-stream.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit a4cb93a17d9bdd151421118cc18bf4a8a557844e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Nov 26 14:35:50 2009 +0000

    test-fallback-socks5-proxy.py: factor out test so we can easily re-use part of it

 tests/twisted/test-fallback-socks5-proxy.py |   68 ++++++++++++++------------
 1 files changed, 37 insertions(+), 31 deletions(-)

commit b8a4191b5070070c487a58a3b3c9d006d83f124f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Nov 26 13:57:41 2009 +0000

    test-fallback-socks5-proxy.py: test new proxy querying policy
    
    Proxy queries are sent when creating the 1-1 D-Bus tube now.

 tests/twisted/test-fallback-socks5-proxy.py |   23 +++++++++++++++--------
 1 files changed, 15 insertions(+), 8 deletions(-)

commit 5b2d61a703c7b1a5869c08ef049fb65d811a515b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Nov 26 13:56:29 2009 +0000

    tube-dbus: query SOCKS5 proxy when creating a 1-1 D-Bus tube
    
    We'll need proxies when we'll offer the tube.

 src/tube-dbus.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit be8dbdc514ce479c4604e346206613790dba3011
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Nov 26 13:50:23 2009 +0000

    fd.o#21151: Don't query SOCKS5 proxies when we are connected
    
    We should query the SOCKS5 proxies only when we'll actually need them.
    Export the query method so other components will be able to start the querying
    process when needed.

 src/bytestream-factory.c |   11 ++++-------
 src/bytestream-factory.h |    3 +++
 2 files changed, 7 insertions(+), 7 deletions(-)

commit a5bdc7e1b21eb264a449c4c053831b1ec7bedf14
Merge: 96ec6eb 946bfe2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Nov 26 16:09:12 2009 +0000

    Merge branch '09-conditional-ft'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 96ec6eb9ad21715c405795f6d60adede103b10f9
Merge: 6ba702e 2c7bff9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Nov 26 15:09:02 2009 +0000

    Merge branch 'trivia'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 2c7bff966e6f114236b8bd2b6d11cefb64c64083
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Nov 26 15:06:34 2009 +0000

    Unset debug-sender log handler before unreffing the global debug sender
    
    Otherwise, TpProxy destruction messages triggered by the death of the
    global debug sender (as it probably holds the last ref to the
    TpDBusDaemon) will be debug-logged through our custom log handler, which
    asserts that the global debug sender still exists!

 src/gabble.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit cb38a29c521fc6a7f5b91ac707fea75015233c65
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Nov 26 14:50:36 2009 +0000

    autogen.sh: prefer automake 1.11 if available, for silent rules
    
    This mirrors a similar change in telepathy-glib.

 autogen.sh |   13 +++++++------
 1 files changed, 7 insertions(+), 6 deletions(-)

commit 65a732505eb68c66ee11e0b16d7ae7c0d6078fad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Nov 26 14:50:10 2009 +0000

    Run test-debug.py if the debugger is enabled, using an automake conditional
    
    The Makefile rule that generates tests/twisted/config.py was always
    setting DEBUGGING = False there, because ENABLE_DEBUG was not in fact
    set in the Makefile.
    
    Based on a patch from wjt.

 configure.ac              |    1 +
 tests/twisted/Makefile.am |   16 ++++++++++------
 2 files changed, 11 insertions(+), 6 deletions(-)

commit 6ba702eb465e1741f0338de107d82498adc2219f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Nov 20 17:08:02 2009 -0500

    propagate disabling of -Werror to Wocky build configuration
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 configure.ac |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit b9029718e3989e062ad28641a488433f94490a42
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Nov 26 11:26:20 2009 +0000

    Remove proxy.schokokeks.org on their request

 src/connection.h |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 1652c38b0ee930c773d3142212552cf2416eff8d
Merge: 5c44be4 2fd6f76
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Nov 25 18:40:07 2009 +0000

    Merge branch 'coverity'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 5c44be4cd0ffedb7b9aaeae6b8e4455d103b68ee
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Nov 24 18:58:36 2009 +0000

    Make matching of GroupFlagsChanged signals race-free

 tests/twisted/muc/test-muc-ownership.py |   12 +++++++-----
 1 files changed, 7 insertions(+), 5 deletions(-)

commit 24818b8127d386b4d01b9504bd360a42c8deef40
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Nov 24 18:58:13 2009 +0000

    Update wocky snapshot

 lib/ext/wocky |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 310ee5ba0c5f4620f446b76599e5eb126c0d1278
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Nov 23 18:46:18 2009 +0000

    More NEWS
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

 NEWS |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 2fd6f76474eee986862cbbdac339800ee75ce941
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Nov 25 14:07:10 2009 +0000

    Assert that base64_decode parses valid base64.
    
    All the other tests in this file check that base64_decode() returns
    non-NULL, so this one should too.

 tests/test-base64.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 2699778643219a244044fd0698b6b6144dc5c7bc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Nov 25 13:08:49 2009 +0000

    Document a deliberate switch fall-through

 lib/gibber/gibber-fd-transport.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 137284035db3b40aa59b4df4902c9277e6581092
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Nov 25 12:11:44 2009 +0000

    Calling g_time_val_from_iso8601() once is enough.

 src/ft-manager.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 946bfe27846f2f4517285826f4d52939317144e4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Nov 24 13:32:59 2009 +0000

    Remove unused handle parameter from add_file_transfer_channel_class()

 src/ft-manager.c |    9 +++------
 1 files changed, 3 insertions(+), 6 deletions(-)

commit c59b00eeb42ef72bcfa17f0adc7df882957a0c14
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Nov 24 13:26:52 2009 +0000

    fd.o#25243: only advertise FT capability if we have a FT client
    
    Originally from commit 79c625e8ac7108, but more or less rewritten for
    the new capabilities code in 0.9.

 src/capabilities.c                                 |    2 +-
 src/ft-manager.c                                   |   42 ++++++++++++++++---
 tests/twisted/caps/advertise-contact-caps.py       |   19 +++++++++
 tests/twisted/caps/tube-caps.py                    |    2 +-
 tests/twisted/caps_helper.py                       |    3 +-
 .../file-transfer/test-caps-file-transfer.py       |   24 +----------
 6 files changed, 60 insertions(+), 32 deletions(-)

commit f7ea4a25d6b916e3aef91db337afcf59328a09bc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Nov 23 18:42:48 2009 +0000

    NEWS
    
    Reviewed-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 NEWS |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit 416c58eb82d6b8bde664cf561b2aac11ff051b37
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Fri Nov 20 00:45:35 2009 +0000

    connection: ack the pmuc-v1 cap disco request
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/connection.c |   10 +++++++---
 1 files changed, 7 insertions(+), 3 deletions(-)

commit 0a8be4f699fb3cadfe4d6e74cfd5f86942aa5d8a
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Thu Nov 19 23:55:48 2009 +0000

    util: allow GabbleConnection to be NULL in _normalize_room
    
    The handle test, test-handles, has no connection, but calls this
    function.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/util.c |   26 ++++++++++++++++++--------
 1 files changed, 18 insertions(+), 8 deletions(-)

commit 2e2a062f8548ea3d88153d68fc62cdaba33fbb7e
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Wed Oct 7 10:50:19 2009 +0100

    normalize_room: use gabble_decode_jid to shorten the function
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/util.c |   24 +++++-------------------
 1 files changed, 5 insertions(+), 19 deletions(-)

commit 557d0de3b6670e05e3ec662104db876dbbb9e9ad
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Thu Oct 1 18:01:32 2009 +0100

    fd.o#22456: util: get the canonical room name in gabble_normalize_room
    
    This means that both RequestHandles and the TargetID property set
    during a call to CreateChannel will use the canonical room
    name. Previously, it only ever did this in a RequestHandles call.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/connection.c |    2 +-
 src/util.c       |   36 ++++++++++++++++++++++++++----------
 2 files changed, 27 insertions(+), 11 deletions(-)

commit 3095e0dee4d5ff525337363d00c0c9507d20a2ff
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Tue Sep 29 17:53:22 2009 +0100

    fd.o#21152: connection: don't disco rooms in RequestHandles
    
    This is unnecessary as if you join a server which doesn't respond,
    gabble will timeout.
    
    Also make sure all the tests don't expect a disco request, and respond
    to it.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/connection.c                                  |  366 ---------------------
 tests/twisted/gabbletest.py                       |    6 -
 tests/twisted/muc/test-ensure.py                  |    9 -
 tests/twisted/muc/test-muc-ownership.py           |    7 -
 tests/twisted/olpc/gadget-invite.py               |    7 -
 tests/twisted/tubes/accept-muc-stream-tube.py     |    7 -
 tests/twisted/tubes/close-muc-with-closed-tube.py |    7 -
 tests/twisted/tubes/muctubeutil.py                |    7 -
 tests/twisted/tubes/test-get-available-tubes.py   |    7 -
 9 files changed, 0 insertions(+), 423 deletions(-)

commit d43024b0228ece94221f9608a232fc38ca9cbe7e
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Tue Sep 29 14:49:57 2009 +0100

    connection: always set pmuc-v1 capability when sending presence
    
    If you are invited to a Google private MUC, then google's server
    (talk.google.com) will get your caps and if you have the "pmuc-v1" cap
    set as an entity capability element, it will invite you like any
    normal MUC.
    
    Partly fixes fd.o#22768 (as long as discoing chatrooms is
    disabled). This commit enables us to be invited to private MUCs by the
    Google client, but doesn't currently support creating them without
    making the UI terrible.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/connection.c |   25 +++++++++----------------
 1 files changed, 9 insertions(+), 16 deletions(-)

commit 38cfd5883dc4f55389cd3bb013f356569cc4349e
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Tue Sep 29 14:49:27 2009 +0100

    capabilities: define pmuc-v1 cap
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/capabilities.h |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 1b4940738529318e1b093c40c9e3c40909e9b90f
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Tue Sep 29 14:48:45 2009 +0100

    connection: make get_canonical_room_name non-static
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/connection.c |    6 +++---
 src/connection.h |    2 ++
 2 files changed, 5 insertions(+), 3 deletions(-)

commit 4f286a8c1fa52addcdd24b38cac70f78fdcb211d
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Fri Nov 20 16:07:58 2009 -0600

    Remove gibber-resolver.

 lib/gibber/Makefile.am               |    2 -
 lib/gibber/gibber-resolver-asyncns.c |  415 ----------------
 lib/gibber/gibber-resolver-asyncns.h |   59 ---
 lib/gibber/gibber-resolver.c         |  899 ----------------------------------
 lib/gibber/gibber-resolver.h         |  176 -------
 5 files changed, 0 insertions(+), 1551 deletions(-)

commit 35957a040548632fe4f96ffb9a001c163418a0c4
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Fri Nov 20 15:45:09 2009 -0600

    Remove the old fake resolver.

 tests/twisted/resolver-fake.c |  232 -----------------------------------------
 tests/twisted/resolver-fake.h |   61 -----------
 2 files changed, 0 insertions(+), 293 deletions(-)

commit 1889a140d184740deda9cd5d1559b61bb72839f9
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Fri Nov 20 15:41:28 2009 -0600

    Switch the tests to use the test-resolver.

 tests/twisted/Makefile.am  |    5 ++---
 tests/twisted/main-debug.c |   17 +++++++++++++----
 2 files changed, 15 insertions(+), 7 deletions(-)

commit e757c00715fcdc728913d985676515b3784cae20
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Fri Nov 20 15:37:02 2009 -0600

    Copy test-resolver.[ch] from lib/ext/wocky/tests/.

 tests/twisted/test-resolver.c |  335 +++++++++++++++++++++++++++++++++++++++++
 tests/twisted/test-resolver.h |   68 +++++++++
 2 files changed, 403 insertions(+), 0 deletions(-)

commit 9034d0c67a7f2928490f2640f41e8db9c6d13bac
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   Fri Nov 20 15:34:52 2009 -0600

    Convert to use GResolver instead of GibberResolver.

 src/jingle-factory.c |   74 +++++++++++++++++++++++++++----------------------
 1 files changed, 41 insertions(+), 33 deletions(-)

commit 06cb9ae67dd43e89f51e4fd66b89edbebf1492be
Merge: bb1f1fa 8d5b52f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Nov 20 20:11:26 2009 +0000

    Merge branch '09-privates'
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit 8d5b52f77025e5d007fc39305d242f1bb4760e9f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Nov 11 18:48:28 2009 +0000

    GabbleRegister: point to private structure in public struct

 src/register.c |    3 ++-
 src/register.h |    2 ++
 2 files changed, 4 insertions(+), 1 deletions(-)

commit 8356af8af184f5248ea3c16d9ff18da3b4f97c47
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Nov 11 18:45:34 2009 +0000

    GabbleMucFactory: point to private structure in public struct

 src/muc-factory.c |    3 ++-
 src/muc-factory.h |    2 ++
 2 files changed, 4 insertions(+), 1 deletions(-)

commit a444d899bbd801cc53bf5e7ec786efd2fda8757b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Nov 11 18:44:53 2009 +0000

    GabbleConnectionManager: remove unused, uninitialized priv pointer
    
    There is actually no such structure as GabbleConnectionManagerPrivate,
    but having an uninitialized pointer is clearly a trap.

 src/connection-manager.h |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit bb1f1fa5232f02ae2044465581baa8643a42c32e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Oct 15 20:13:54 2009 +0100

    fd.o#24558: Flag the password param as secret, and enhance write-mgr-file to put this in the .manager file
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

 src/connection-manager.c |    4 +++-
 src/write-mgr-file.c     |    5 +++--
 2 files changed, 6 insertions(+), 3 deletions(-)

commit 767b5598af4e775b464b38b2a44accc4feda4e56
Merge: 8bcb431 77bd004
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Nov 20 19:23:25 2009 +0000

    Merge branch 'chat-states'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 2ee360dce6b0ea69d0f4d1fdea4e1148291a13d0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Nov 19 15:25:32 2009 +0000

    Test ensuring a sidecar which pings a server first

 plugins/test.c            |  207 +++++++++++++++++++++++++++++++++++++++++++++
 plugins/test.h            |   34 ++++++++
 tests/twisted/sidecars.py |   32 +++++++-
 3 files changed, 271 insertions(+), 2 deletions(-)

commit 3562de5e5ba3a00f4e9969a69d3771786105edf1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Nov 18 18:13:54 2009 +0000

    Only construct sidecars once we're connected.
    
    Sidecars need access to the WockySession. While we could add an (async)
    accessor to the connection, let's defer that until a plugin needs to be
    able to create a sidecar before the connection becomes Connected.

 src/conn-sidecars.c       |   79 ++++++++++++++++++++++++++++++--------------
 tests/twisted/sidecars.py |   22 ++++++++----
 2 files changed, 68 insertions(+), 33 deletions(-)

commit 7449ee951428772e3ee1b41e77dfb1652bfb09a6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Nov 18 12:15:08 2009 +0000

    Pass TpBaseConn and WockySession to sidecars

 plugins/test.c      |    2 ++
 src/conn-sidecars.c |    4 ++--
 src/plugin-loader.c |    6 ++++--
 src/plugin-loader.h |    6 +++++-
 src/plugin.c        |    5 ++++-
 src/plugin.h        |    8 +++++++-
 6 files changed, 24 insertions(+), 7 deletions(-)

commit f4b8a85615e5d7e7819cb154fe6958648c658a81
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Nov 17 11:55:59 2009 +0000

    Test sidecar support using test plugin

 tests/twisted/Makefile.am    |    5 ++-
 tests/twisted/servicetest.py |    1 +
 tests/twisted/sidecars.py    |   62 ++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 66 insertions(+), 2 deletions(-)

commit e158e16ac14e9420f55fd8a21dfd947bf44675de
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Nov 17 11:55:04 2009 +0000

    Point Gabble at our local plugin dir for tests

 tests/twisted/tools/exec-with-log.sh.in |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit da6412b49f7b4cb24273c4aafc8667e22f0e9064
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Nov 16 19:43:53 2009 +0000

    Load plugins from $GABBLE_PLUGIN_DIR if set

 docs/telepathy-gabble.8.in |    4 ++++
 src/plugin-loader.c        |    9 +++++++--
 2 files changed, 11 insertions(+), 2 deletions(-)

commit cc4df7c513da6de25f8c7de5fb4e7a13e055a97c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Nov 17 17:19:04 2009 +0000

    Add a plugin for use in the test suite

 Makefile.am         |    2 +-
 configure.ac        |    3 +-
 plugins/Makefile.am |   10 +++
 plugins/test.c      |  204 +++++++++++++++++++++++++++++++++++++++++++++++++++
 plugins/test.h      |   89 ++++++++++++++++++++++
 5 files changed, 306 insertions(+), 2 deletions(-)

commit 4263b63f90f947eb6ba33793c4c1d16ac82ff878
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Nov 17 15:46:28 2009 +0000

    Build a stub interface for test sidecars to implement

 extensions/Gabble_Plugin_Test.xml |   27 +++++++++++++++++++++++++++
 extensions/all.xml                |    2 ++
 2 files changed, 29 insertions(+), 0 deletions(-)

commit c33778b9ff3ad3fa85309770ebac3ccf2f86666b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Nov 16 17:28:37 2009 +0000

    Don't spawn the plugin loader on start.
    
    This was mostly for testing purposes while implementing the loader. Now
    that it's dupped as needed to instantiate sidecars, there's no point in
    instantiating it until we need it.

 src/gabble.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit c215290b84f5b660e8145d73214f808d01abd428
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Nov 16 12:47:27 2009 +0000

    Generate and implement Connection.FUTURE.EnsureSidecar()

 extensions/Connection_Future.xml |  110 +++++++++++++
 extensions/all.xml               |    4 +
 src/Makefile.am                  |    2 +
 src/conn-sidecars.c              |  316 ++++++++++++++++++++++++++++++++++++++
 src/conn-sidecars.h              |   35 ++++
 src/connection.c                 |    6 +
 src/connection.h                 |    7 +
 7 files changed, 480 insertions(+), 0 deletions(-)

commit b86e76e48e7bed350b76570d834e1838e65ce476
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Nov 15 21:57:00 2009 +0000

    Add API to request a sidecar from the plugin loader

 src/plugin-loader.c |   80 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/plugin-loader.h |   15 +++++++++
 2 files changed, 95 insertions(+), 0 deletions(-)

commit 16953f13be6352a0fe64729ae8cc32bf9d382c40
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Nov 14 22:27:30 2009 +0000

    Add API to GabblePlugin to create sidecars

 src/plugin.c |   66 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/plugin.h |   28 ++++++++++++++++++++++++
 2 files changed, 94 insertions(+), 0 deletions(-)

commit f406e8a323c0b3e20d56e7496ea01cc630d6945b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Nov 14 15:29:07 2009 +0000

    Add a GObject interface for sidecar implementations

 src/Makefile.am |    2 +
 src/sidecar.c   |   75 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/sidecar.h   |   59 +++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 136 insertions(+), 0 deletions(-)

commit 2413aadac802d1935b81f2bc2395a022568aaa13
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Nov 16 19:39:23 2009 +0000

    Split up the plugin loader a bit
    
    gabble_plugin_loader_probe was ridiculously large. Splitting it into
    directory-scanning and plugin-loading makes it clearer, as does
    introducing some early returns in the latter.

 src/plugin-loader.c |  115 ++++++++++++++++++++++++++-------------------------
 1 files changed, 59 insertions(+), 56 deletions(-)

commit 2c94441c0713c5f20890b71240d2e8e70f815d90
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Nov 15 21:29:03 2009 +0000

    Store loaded plugins in the loader

 src/plugin-loader.c |   21 +++++++++++++++++++--
 1 files changed, 19 insertions(+), 2 deletions(-)

commit 8da134514018668181a2a1c9f474362a3b9de37b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Nov 14 13:15:50 2009 +0000

    Turn the plugin loader into a fully-fledged object
    
    GabblePluginLoader is a singleton, because it doesn't make sense to have
    more than one plugin loader. It keeps a reference to itself once it's
    instantiated, because it doesn't make sense to destroy it (our modules
    can't be unloaded).
    
    If Gabble is built without plugin support, GabblePluginLoader is still
    an immortal singleton, it just doesn't do anything.

 src/gabble.c        |    2 +-
 src/plugin-loader.c |   78 ++++++++++++++++++++++++++++++++++++++++++++++----
 src/plugin-loader.h |   37 +++++++++++++++++++++++-
 3 files changed, 108 insertions(+), 9 deletions(-)

commit 00c39eed295df7f82e8654c4c284bc7298a0b289
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Nov 13 18:36:25 2009 +0000

    Attempt to instantiate a GabblePlugin from modules

 src/plugin-loader.c |   40 +++++++++++++++++++++++++++++++++++++++-
 1 files changed, 39 insertions(+), 1 deletions(-)

commit 7fea8c47ac64bd2377100df57fc1729e1e82fe45
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Nov 17 15:02:35 2009 +0000

    Use -export-dynamic to expose symbols to plugins
    
    I'm not sure why this is needed: the flags from gmodule's pkg-config
    file include this...

 src/Makefile.am           |    2 ++
 tests/twisted/Makefile.am |    2 ++
 2 files changed, 4 insertions(+), 0 deletions(-)

commit 80f4568dadc249b0288acbcd1e299a7c7df5a73b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Nov 13 18:34:54 2009 +0000

    Add a trivial GabblePlugin interface

 src/Makefile.am |    2 +
 src/plugin.c    |   61 ++++++++++++++++++++++++++++++++++++++++++++++
 src/plugin.h    |   72 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 135 insertions(+), 0 deletions(-)

commit 12020afea9ce300f223357a7c4578a63576f4365
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Nov 10 18:52:14 2009 +0000

    Probe for plugins in $(libdir)/telepathy/gabble-0

 src/Makefile.am     |    5 ++-
 src/gabble.c        |    3 ++
 src/plugin-loader.c |   92 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/plugin-loader.h |   25 ++++++++++++++
 4 files changed, 124 insertions(+), 1 deletions(-)

commit d42a037ccdcc55ed57f18f0f6334c28e9643df61
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Nov 10 19:36:10 2009 +0000

    Add a debug flag for plugins

 src/debug.c |    1 +
 src/debug.h |    1 +
 2 files changed, 2 insertions(+), 0 deletions(-)

commit ec0baa4f19d9963cbcfb7fcbdb74b947115fad45
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Nov 10 19:35:00 2009 +0000

    Link against GModule when plugins are enabled.

 configure.ac    |   23 ++++++++++++++---------
 src/Makefile.am |    4 ++--
 2 files changed, 16 insertions(+), 11 deletions(-)

commit 290f7337b7e145f51a6eb61a7318862e0f9055ed
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Nov 13 10:21:21 2009 +0000

    Add a disabled-by-default build option for plugins

 configure.ac |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit 8bcb431db00372745884a46a583db65dd0f5d265
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Nov 17 14:11:40 2009 +0000

    Update manpage to refer to Wocky, not Loudmouth

 docs/telepathy-gabble.8.in |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit fe17fe877b4e1689d79180a8775ef5cac90ba7dc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Nov 13 18:07:10 2009 +0000

    Remove unused vars from gabble_disco_service_find
    
    Given that we don't use the key and value looked up from the features
    hash, and you can just pass NULL to g_hash_table_lookup_extended(), this
    makes the function more regular and easier to read.

 src/disco.c |    9 +++------
 1 files changed, 3 insertions(+), 6 deletions(-)

commit 93551f15942a3eaa7a524a54bb1a9e6dbfed2a7f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Nov 13 10:21:03 2009 +0000

    Work around a syntax highlighting bug in Vim

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4cfc3641d32e4dcae4ecc4e02d3445ffed749d53
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Mon Sep 7 17:19:16 2009 +0100

    debug: use TpDebugSender instead of implementing GabbleDebugger
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 extensions/Debug.xml   |  165 -----------------------------
 extensions/Makefile.am |    1 -
 extensions/all.xml     |    1 -
 src/Makefile.am        |    2 -
 src/debug.c            |   42 ++++----
 src/debugger.c         |  271 ------------------------------------------------
 src/debugger.h         |   88 ----------------
 src/gabble.c           |   30 ++++--
 8 files changed, 44 insertions(+), 556 deletions(-)

commit 379217808bd85e7ada863309fb123cd350a508d9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Nov 12 14:57:34 2009 +0000

    NEWS: mention mitigation of fd.o#13157

 NEWS |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 6d5415a8fec56e596878d10eb070045c97675876
Merge: 3f48773 15197c1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Nov 12 14:46:34 2009 +0000

    Merge branch '09-subject-test'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>
    [but then rebased onto 0.9]

commit 15197c1dd052f72009b487f30e2d3e75dd89a8a4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Nov 12 14:36:46 2009 +0000

    muc/subject.py: explain why I use 12 rooms (fd.o#21152 will fix this)

 tests/twisted/muc/subject.py |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit d46f54766bda5d8f848af24cb558a0b88af72ff8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Nov 12 14:13:26 2009 +0000

    muc/subject.py: new test for the current behaviour of the 'subject' MUC property

 tests/twisted/Makefile.am    |    1 +
 tests/twisted/muc/subject.py |  128 ++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 129 insertions(+), 0 deletions(-)

commit e3af96fe39fc31e96a33dc9f91f8c71a968f32be
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Oct 22 18:12:59 2009 +0100

    mucutil.join_muc: make it possible to control our role in the room

 tests/twisted/mucutil.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit e88ccd53a12cd5674eb0dca5c5a144280eb725ed
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Oct 22 17:53:51 2009 +0100

    mucutil.join_muc: make it possible to capture the disco#info query in a race-free way

 tests/twisted/mucutil.py |   14 +++++++++-----
 1 files changed, 9 insertions(+), 5 deletions(-)

commit 9f863b7a9a64b85d6ad8a2e49048e544bba043c9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Oct 22 17:20:12 2009 +0100

    constants: add PROPERTY_FLAGS_RW for convenience

 tests/twisted/constants.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit b4baf341747766dcdc7d6443bf01cc48ab91c820
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Oct 22 14:05:42 2009 +0100

    GabbleMucChannel: annotate which properties can be changed by who

 src/muc-channel.c |   19 ++++++++++++++++++-
 1 files changed, 18 insertions(+), 1 deletions(-)

commit 7d8eb30e618f5f406722127c818864f54ea2f47b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Oct 22 17:00:53 2009 +0100

    GabbleMucChannel: having special-cased SUBJECT, don't remove the special case again and treat it like part of the room definition!

 src/muc-channel.c |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit b52d0f4f591de3a767307cd0af6435c082ae4d92
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Oct 22 15:22:56 2009 +0100

    gabble_muc_channel_init: initialize self->priv correctly
    
    It was uninitialized, which had never been significant so far because
    all of muc-channel.c redundantly calls GABBLE_MUC_CHANNEL_GET_PRIVATE
    again.

 src/muc-channel.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 3f487738a27917814fc60ca7e8678f3621a2db68
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Nov 9 18:33:24 2009 +0000

    Update NEWS for stable resource fix

 NEWS |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit bd6522afe807be0f8c2a57ed9fbc47a989cfef45
Merge: b45e8ba 9f690c0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Nov 9 11:32:15 2009 +0000

    Merge branch 'stable-resource-0.9'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 9f690c0bb71b5412a3486912877bd2d48f49de3c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Oct 22 12:33:51 2009 +0100

    Use a hash of the machine ID as default resource
    
    Technically the first 8 bytes may not be pseudo-random and so we might
    collide if we just use those rather than (a function of) the full range.
    
    (Cherry-picked from 07d1195.)

 src/connection.c |   19 ++++++++++++-------
 1 files changed, 12 insertions(+), 7 deletions(-)

commit 728deb234286de88b87e0b2f8045f00d1ddd6d98
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Oct 9 14:10:13 2009 +0100

    Use (part of) D-Bus machine ID as default resource.
    
    Previously, Gabble generated a random resource for each connection if no
    resource was explicitly specified. This meant that you could connect to
    the same account with two Telepathy-powered clients at the same time
    (say, your N900 and Empathy on the desktop) without having to change
    your resource on one of them.
    
    However, this is too random: if you lose your network connection without
    telling the server you're leaving, and then reconnect with a new
    resource, the server may still think the old resource is connected
    (until it decides it's timed out) and send messages there rather than to
    your new connection. Ditto your contacts, if they're sending to full
    JIDs. By using the D-Bus machine ID as the default resource, you'll get
    the same resource each time you connect from a particular device, with a
    reasonably good chance that it'll be different on each of your devices.
    
    This has the downside that you can't make two connections to the same
    account on the same bus. I don't think this is a major problem: MC
    should be managing your connections anyway. :-) However, it does mean I
    had to remove the test which checks that you can do that...
    
    (Forward-port of 4a216f6.)

 src/connection.c                                   |   23 +++++++--
 tests/twisted/Makefile.am                          |    1 -
 .../connect/multiple-times-to-same-account.py      |   50 --------------------
 3 files changed, 19 insertions(+), 55 deletions(-)

commit 77bd00436c11941e7c6366dd76f316c563a8fe79
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Nov 7 14:19:14 2009 +0000

    Negotiate chat state support for capsless contacts
    
    XEP-0085 §5.1 defines how to negotiate support for chat states when you
    don't know a contact's caps. Roughly:
    
    • If you don't know whether someone supports them, don't send
      stand-alone notifications, but include <active/> in messages you send;
    • If you receive a chat state, mark the contact as supporting chat
      states;
    • If you receive a message without a chat state, mark the contact as not
      supporting chat states.
    
    This is complicated slightly by multiple resources, but basically we
    follow the above rules, resetting whenever we change which resource
    we're sending to.

 src/im-channel.c                      |   58 ++++++++++--
 src/im-channel.h                      |   15 ++-
 src/im-factory.c                      |    8 +-
 tests/twisted/text/test-chat-state.py |  171 +++++++++++++++++++++++++++++----
 4 files changed, 218 insertions(+), 34 deletions(-)

commit 4f42194a71eca288e34e5663deb31a39ab53412d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Nov 7 13:40:21 2009 +0000

    Send chat state notifications as type='chat'
    
    This has been a SHOULD since 2003-09-18. From XEP-0085 §5.4:
    
        This protocol SHOULD NOT be used with message types other than
        "chat" or "groupchat".

 src/im-channel.c                      |    4 ++--
 tests/twisted/text/test-chat-state.py |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 41736c6f5db36348836384e1fb6208a2ba839068
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Nov 7 13:28:50 2009 +0000

    Refactor determining whether to send chat states

 src/im-channel.c |   89 ++++++++++++++++++++++++++---------------------------
 1 files changed, 44 insertions(+), 45 deletions(-)

commit 711837c67c6d6b6d7b5de244e3fd271c02b1ecdd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Nov 7 11:48:17 2009 +0000

    Tidy up the chat states test a smidge

 tests/twisted/text/test-chat-state.py |   46 ++++++++++++++++++---------------
 1 files changed, 25 insertions(+), 21 deletions(-)

commit b45e8ba34a7fa5ad0ea46246e8f8e0d088b55085
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   Tue Nov 3 16:09:13 2009 +0000

    Update wocky (changes to make the SASL challnge parser more robust).

 lib/ext/wocky |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d879fd98ca9252f4cfd35ca78451b5ad48f94cdc
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Oct 27 17:58:11 2009 +0000

    Post release bump (0.9.2.1)

 NEWS         |    7 +++++++
 configure.ac |    2 +-
 2 files changed, 8 insertions(+), 1 deletions(-)

commit 8835b7af976589de329677e721aca00c75b63b05
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Oct 27 17:12:12 2009 +0000

    Prepare 0.9.2

 NEWS         |    2 +-
 configure.ac |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 6b8efd0db961cb9665907ad4f4d00cdc701ce671
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Oct 27 17:07:43 2009 +0000

    Update NEWS

 NEWS |   16 ++++++++++++++++
 1 files changed, 16 insertions(+), 0 deletions(-)

commit 8a758ada0b9e8249d71bbc80a1730267cc2ac4d1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Oct 7 23:57:51 2009 +0100

    Correct the type of pre-presence's marshaller
    
    The signal's argument is a LmMessage *, which is wider than guint on
    amd64.

 src/muc-channel.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 904af702fbc56dd9216addac9021523ff8943b5a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Oct 6 14:59:01 2009 +0100

    Don't trust <message> ids to be globally unique

 src/im-channel.c                |   25 ++++++++++++-------------
 src/muc-channel.c               |   24 ++++++++++++------------
 tests/twisted/text/test-text.py |   12 +++++++++---
 3 files changed, 33 insertions(+), 28 deletions(-)

commit 452048f06e5a037435747a5122f31ceb25e174b3
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   Fri Oct 23 17:23:36 2009 +0100

    libloudmouth.la was linked against libwocky.la but did not depend on it.
    
    This broken dependency meant symbols from stale copies of libwocky.a could end up linked into the telepathy-gabble and telepathy-gabble-debug binaries, which could be very misleading during the patch/build/test cycle.

 lib/loudmouth/Makefile.am |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit fb462e4687c35e0aaa88da064ca67e081b9af006
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   Fri Oct 23 13:11:53 2009 +0100

    Update wocky to pull in porter-disconnect bug fixes.
    
    Fixes the "undead dbus names" bug correctly, previous [gabble] fix was masking the symptom but not addressing the underling bug (actully an interaction of three bugs) in wocky.

 lib/ext/wocky |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 06a594dabd7fc207ef272a67366d514f21b28afa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Oct 19 18:41:11 2009 +0100

    Don't call shut_down() twice on stream errors.
    
    This essentially reverts 63d0cd4, which papered over a bug in Wocky
    where the callback passed to wocky_porter_force_close_async() would
    never be called in slightly obscure situations.
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 src/connection.c |   42 +++++++++++++++++++++---------------------
 1 files changed, 21 insertions(+), 21 deletions(-)

commit 9b77f35aa8b054a70ff8e2a5e63a3a61f21a9eb2
Merge: 6d46975 bf56a76
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Oct 22 18:54:26 2009 +0100

    Merge branch 'annie-let's-not-wait-0.9'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit 6d46975b1487bc0f5b54f1b6465a3cbaa45ee068
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Oct 22 16:40:35 2009 +0100

    Fix identation

 src/media-factory.c |   52 +++++++++++++++++++++++++-------------------------
 1 files changed, 26 insertions(+), 26 deletions(-)

commit 25d6ba1801ab0be2208f60676e1b9e4f4dfa6c4f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Oct 22 16:11:45 2009 +0100

    Check both old style and new style capabilities

 tests/twisted/caps/jingle-caps.py |   35 +++++++++++++++++++++++++++++++++--
 1 files changed, 33 insertions(+), 2 deletions(-)

commit 9b61197a6961c9d6bab1ea99a0a8597934bd18b2
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Oct 22 16:35:02 2009 +0100

    Put ImmutableStreams in allowed properties if needed

 src/media-factory.c |   38 ++++++++++++++++++++++++++++++++------
 1 files changed, 32 insertions(+), 6 deletions(-)

commit bf56a76f2432114708689e9bf2c21cff49ed4bb2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Oct 19 16:23:09 2009 +0100

    Add and use a canned "any audio/video" caps set

 src/capabilities.c  |   12 ++++++++++++
 src/capabilities.h  |    1 +
 src/media-channel.c |   14 ++++++--------
 3 files changed, 19 insertions(+), 8 deletions(-)

commit c343956a91f972cc7c7cb6c81cc775ad850dcae5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Oct 5 13:14:12 2009 +0100

    Don't wait for a caps if a contact's already callable
    
    This is a version of 801d393, updated to apply to master.

 src/media-channel.c |   48 ++++++++++++++++++++++++------------------------
 1 files changed, 24 insertions(+), 24 deletions(-)

commit de9183149c35d8f7c84cd56b0786442d46138bee
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Oct 19 15:31:11 2009 +0100

    Test Channel.Type.StreamedMedia.ImmutableStreams

 tests/twisted/constants.py                  |    1 +
 tests/twisted/jingle/initial-audio-video.py |    6 ++++++
 2 files changed, 7 insertions(+), 0 deletions(-)

commit 240139a27f4fe7ac704a453a661e401681a95e94
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Oct 19 15:29:51 2009 +0100

    Compile, and actually set ImmutableStreams property
    
    7956fc5 broke the build (sorry!) and didn't actually assign to 'flags'
    so the ImmutableStreams channel property was always false (although the
    capability works).

 src/media-channel.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 5edd11b52b0d2341ba648cbd87e33cb597bb8164
Merge: 9904163 e435baf
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Oct 19 14:57:50 2009 +0100

    Merge branch 'improve-caps-cache-0.9'
    
    Fixes fd.o bug #24377.
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit e435bafcde2fb77a43698ae49c316821eb41f571
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Oct 19 14:56:50 2009 +0100

    Note bug number for satisfying waiters with our own hash

 src/presence-cache.c |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit 990416362eed42781e948fa0537d373375c779fe
Merge: cbe1d31 7956fc5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Oct 19 14:43:17 2009 +0100

    Merge branch 'immutable-streams-0.9'
    
    Fixes fd.o bug #24374.
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit cbe1d31f773b7f92e031814a37c47c7871a9eec2
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   Thu Oct 15 17:08:37 2009 +0100

    Don't care about early state changes in this test, don't check for them.

 tests/twisted/connect/network-error.py |    5 -----
 1 files changed, 0 insertions(+), 5 deletions(-)

commit b77d4a534f5f6435f0f60c0a082b9ae02673d574
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   Thu Oct 15 17:07:17 2009 +0100

    Make sure state change signal to 'disconnected' is also sent.

 tests/twisted/connect/network-error.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 70e80c6c0294b242f3972463769dc4dc47cac2ef
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   Wed Oct 14 18:48:32 2009 +0100

    Enable new TCP disconnect test.

 tests/twisted/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 8cd8dd5777007c3282e7a4264b3d1643b1924df5
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   Wed Oct 14 18:46:01 2009 +0100

    Watch all dbus signals. Check conn object is unregistered on TCP disconnect.

 tests/twisted/connect/network-error.py |   33 ++++++++++++++++++++++++++++++++
 tests/twisted/servicetest.py           |    2 +-
 2 files changed, 34 insertions(+), 1 deletions(-)

commit 63d0cd486c64e24d24199d9df501e69b24a3189b
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   Wed Oct 14 15:35:02 2009 +0100

    The shut_down method should clean up even if the closing flag is already set.
    
    If we don't do this then the name is never removed from dbus if a network
    error occurs, leaving an undead object path registered with the bus.

 src/connection.c |   47 ++++++++++++++++++++++++-----------------------
 1 files changed, 24 insertions(+), 23 deletions(-)

commit 16d4754a716a3dd1d2af2e05afd8f6c219fc264a
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   Wed Oct 14 15:32:46 2009 +0100

    Stop idle/timeout probing for proxies when we are disconnected.

 src/bytestream-factory.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 37731860fc675b1346879ca63ea47c8ec19160bb
Merge: dbd5a13 436754b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Oct 9 11:01:58 2009 +0100

    Merge branch 'avatar-bug23684-0.9'
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit 436754ba93fdba9aa707705ac3a9e7d58b87642a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 8 16:40:15 2009 +0100

    test-avatar-async.py: better explanations of regression test LP#445847, as per wjt's review

 tests/twisted/vcard/test-avatar-async.py |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit b6a70af674553f5cfa6fa3c3c9d30d2abbe88c7f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 8 16:36:52 2009 +0100

    Coding style: avoid too long lines, as per wjt's review

 src/presence-cache.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 8834e43a2f92449e83cc9797483d85349ad843af
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 8 16:36:00 2009 +0100

    src/presence-cache.c: fix leak of presence->avatar_sha1, as per wjt's review

 src/presence-cache.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 42c438f2fcf62d0c3b6592eaa347892f1ecd1ebd
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 8 16:04:03 2009 +0100

    test-avatar-async.py: use constants from cs, and RequestHandles is plural, as per wjt's review

 tests/twisted/vcard/test-avatar-async.py |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 6d208b177cecb8de6e224c970f9723b37786917a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 8 15:51:32 2009 +0100

    request-pipeline.c: Fix assert item->timer_id != 0
    
    See this crash:
    https://bugs.edge.launchpad.net/ubuntu/+source/telepathy-gabble/+bug/445847

 src/request-pipeline.c |    8 +++++---
 1 files changed, 5 insertions(+), 3 deletions(-)

commit e88caa3b70d5e04427d88935cce2d4eaafa056ac
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 8 15:49:20 2009 +0100

    vCard default timer is set to 3 seconds for the unit tests

 src/vcard-manager.c        |   12 +++++++++---
 src/vcard-manager.h        |    1 +
 tests/twisted/main-debug.c |    1 +
 3 files changed, 11 insertions(+), 3 deletions(-)

commit 0d62c36b80568e2f88dd6d86e0cda70fa077cb51
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 8 15:41:51 2009 +0100

    test-avatar-async.py: Regression test for item->timer_id != 0
    
    See this crash:
    https://bugs.edge.launchpad.net/ubuntu/+source/telepathy-gabble/+bug/445847

 tests/twisted/vcard/test-avatar-async.py |   13 +++++++++++++
 1 files changed, 13 insertions(+), 0 deletions(-)

commit 07fbf575b350981783e84fea14144f483245521c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 8 14:03:31 2009 +0100

    presence-cache.c: More DEBUG() during avatar conflict resolution

 src/presence-cache.c |   10 +++++++++-
 1 files changed, 9 insertions(+), 1 deletions(-)

commit a4540d85bb49a1f8db729a0d6129b685adda996c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 8 11:34:18 2009 +0100

    presence-cache.c: Fix avatar loop when there is no avatar

 src/presence-cache.c |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit 7cb4e021f224c1175c88e636bc32afbdf5d6fa5a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 8 11:32:04 2009 +0100

    conn-avatars.c: More assertions on avatar sha1

 src/conn-avatars.c |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 81c730e3d53616d2cfd354ba0f491ea49765c00e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 8 11:56:19 2009 +0100

    test-avatar-async.py: Do not loop when there is no avatar

 tests/twisted/vcard/test-avatar-async.py |   18 +++++++++++++++++-
 1 files changed, 17 insertions(+), 1 deletions(-)

commit f2382f76e3f013408d7c300a5e6e929a5f2c3f92
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 8 11:42:13 2009 +0100

    gabbletest.py: Fix make_presence() to be able to send a presence stanza with an empty <photo/>

 tests/twisted/gabbletest.py |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 8907e3d5cb230ed9eddc35b1124307251591c8e7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Oct 7 13:15:28 2009 +0100

    Make caching-our-own-caps test more explicit

 tests/twisted/caps/trust-thyself.py |   11 ++++++-----
 1 files changed, 6 insertions(+), 5 deletions(-)

commit af55ea3dcc39af01b75dad89fb83898496353ebd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Oct 6 11:01:09 2009 +0100

    Serve disco responses from the cache
    
    We only serve up responses from cache entries added locally, because
    only those are known to be complete. This means we can serve responses
    to people discoing our old caps hashes, rather than returning an error,
    which also works around an iChat issue where it reacts to disco errors
    by re-sending the request again and again.

 src/connection.c                    |   37 ++++++++++++++++++----------------
 tests/twisted/caps/trust-thyself.py |   35 +++++++++++++++++++++++++++++++-
 2 files changed, 53 insertions(+), 19 deletions(-)

commit fab500d3e05e0a8e9ab517d990f2398abc4ee911
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Oct 5 16:44:04 2009 +0100

    Add compatibility bundles to the cache

 src/capabilities.c                  |    9 +++++
 src/presence-cache.c                |   58 +++++++++++++++++++++++++++++++++--
 src/presence-cache.h                |    3 ++
 tests/twisted/caps/trust-thyself.py |   15 ++++++--
 4 files changed, 78 insertions(+), 7 deletions(-)

commit 84c6be681b3ba3a3bef4233e8ec23798ff08cb22
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Oct 3 02:03:38 2009 +0100

    Cache our own caps before announcing them.
    
    Previously, Gabble didn't put its own capabilities in the cache. So,
    when it received its own presence echoed back by the server, it would...
    disco itself.

 src/connection.c                    |    4 ++++
 src/presence-cache.c                |   31 +++++++++++++++++++++++++++++++
 src/presence-cache.h                |    3 +++
 tests/twisted/Makefile.am           |    1 +
 tests/twisted/caps/trust-thyself.py |   33 +++++++++++++++++++++++++++++++++
 5 files changed, 72 insertions(+), 0 deletions(-)

commit 834ed44caea0cd4dee5233fb04b4945581cfc233
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Oct 7 18:09:03 2009 +0100

    Add gabble_presence_peek_caps() to avoid copying

 src/caps-hash.c      |    7 +++----
 src/connection.c     |   22 +++++++---------------
 src/presence-cache.c |   16 +++++++---------
 src/presence.c       |    7 +++++++
 src/presence.h       |    1 +
 5 files changed, 25 insertions(+), 28 deletions(-)

commit b7dbafe87a5b9f5134e0c2934c886cb5c8420d20
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Oct 2 23:04:03 2009 +0100

    Pre-seed more Google Talk capability bundles.

 src/capabilities.c   |   37 ++++++++++++++++++++++++++++++-------
 src/presence-cache.c |    4 +++-
 2 files changed, 33 insertions(+), 8 deletions(-)

commit 7956fc56513eea393728e8ab5b3e5ba6fda394f8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Oct 7 12:48:18 2009 +0100

    Implement StreamedMedia.ImmutableStreams property
    
    This is a version of 56ee6d9, tweaked slightly for 0.9

 src/media-channel-internal.h |    1 +
 src/media-channel.c          |   39 +++++++++++++++++++++++++++++++++++++++
 2 files changed, 40 insertions(+), 0 deletions(-)

commit 06113e1d22947f49aa8faaf4500dff43586ed11a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 25 10:47:23 2009 +0100

    Implement C_Media_Capabilities_Immutable_Streams
    
    The tests needed changing because the definition of the
    Immutable_Streams cap implies that contacts who can only make audio
    calls should have that flag set. Most of the tests were changed to make
    the contacts video capable too; the jingle-caps test checks that Google
    Video contacts (who are capable of both audio and video) have this flag
    set.
    
    This is a version of 744b0d3, modified to work with the refactored
    capabilities code in 0.9

 src/capabilities.c                   |   26 +++++++++++++++++++++
 src/capabilities.h                   |    2 +
 src/media-factory.c                  |   14 ++++++++++-
 tests/twisted/caps/caps-cache.py     |   12 +++++----
 tests/twisted/caps/from-bare-jid.py  |    9 ++++---
 tests/twisted/caps/hashed-caps.py    |   41 ++++++++++++++-------------------
 tests/twisted/caps/jingle-caps.py    |   16 ++++++++++---
 tests/twisted/caps/receive-jingle.py |   18 ++++++++++----
 tests/twisted/constants.py           |    1 +
 9 files changed, 96 insertions(+), 43 deletions(-)

commit dbd5a13f68dc53be9a0c5c8611792d735e241fbd
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   Wed Oct 7 11:59:41 2009 +0100

    Update wocky (allow manual ssl backend selection)

 lib/ext/wocky |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9de1e04a6b222cacf899ae35257bc16a8c3c1a53
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   Mon Oct 5 18:46:32 2009 +0100

    Pass flags to choose wocky tls backend on to embedded wocky configure.

 configure.ac |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit a6c1dfa1cd31fb897ae86eb61c93322f2d0cd5f3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Oct 6 20:04:00 2009 +0100

    Clarify that the vCard changes weren't in 0.9.1

 NEWS |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit fdebc9769b348caddfd2e2efe19e323642f3842d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Sep 8 18:26:53 2009 +0100

    Explain mapping <service-unavailable> to Offline
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 src/message-util.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit d4d381d9ec5ac8c7ffe040e6a312d6e6c195d0f8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Oct 6 17:38:56 2009 +0100

    Update NEWS for vCard fixes and 0.8 releases

 NEWS |   72 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 72 insertions(+), 0 deletions(-)

commit 435920f449a2e7e1fa9771f6bb7f90baa67bc5bd
Merge: dc32477 b219bdf
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Oct 6 17:19:41 2009 +0100

    Merge branch 'vcard-branches'
    
    This is a forward-port of the ranges 7bcf931..43e8643 and
    bc5c549..2634fe8 from telepathy-gabble-0.8, fixing fd.o bug #23684.

commit b219bdf2ec2faeb0b81636114bc9b00bdcd9ed60
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Oct 2 17:17:58 2009 +0100

    Coding style

 src/presence-cache.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9f2add073d7ef101dd358e0766e018a2aab61497
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Oct 2 16:16:09 2009 +0100

    Do not invalidate the cache when we receive our own vCard after conflict resolution

 src/conn-avatars.c   |    2 --
 src/presence-cache.c |    1 +
 2 files changed, 1 insertions(+), 2 deletions(-)

commit b2c01a096a952f51b14fd32dec57d205c386a1ad
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Oct 2 16:15:25 2009 +0100

    test-avatar-async.py: check that the avatar cache still works after conflict resolution

 tests/twisted/vcard/test-avatar-async.py |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 26954e283c2a1ee65d3b6c0d25fc9b3de9d146d8
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Oct 2 15:48:05 2009 +0100

    vcard-manager.c: Remove unused variable (and fix compilation with -Werror)

 src/vcard-manager.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 8a6bfe9a23728088d1fd1ed952ac9217a9b3c40a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Oct 2 13:14:22 2009 +0100

    presence-cache.c: add a FIXME comment about the avatar sha1 being resetted and set in 2 different files

 src/presence-cache.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 96279e67279e99cef88f7c2c095fe69a09ed3729
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 1 19:41:27 2009 +0100

    test-avatar-async.py: Test for the D-Bus signal AvatarUpdated after conflict resolution

 tests/twisted/vcard/test-avatar-async.py |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 544512ed0093b7f189649b8d01bb6a024469b618
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 1 19:38:18 2009 +0100

    Emit the signal AvatarUpdated at the end of the conflict resolution

 src/conn-avatars.c   |   10 +++-------
 src/presence-cache.c |   13 ++++++++++---
 src/vcard-manager.c  |    2 +-
 src/vcard-manager.h  |    2 ++
 4 files changed, 16 insertions(+), 11 deletions(-)

commit 0446a6f4913764b0d1dd15d82acaee040fcba26f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 1 18:04:43 2009 +0100

    vcard-manager.c: Fix: cancel the request in the pipeline on timeout

 src/vcard-manager.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 7576bdcbf27419a19067b0885f7695df5eef3f5a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 1 16:20:00 2009 +0100

    presence-cache.c: add a FIXME about a race

 src/presence-cache.c |   18 ++++++++++++++++--
 1 files changed, 16 insertions(+), 2 deletions(-)

commit 09af0accc58ea7bca88d1d61191e553be1aa7eb6
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 1 16:08:29 2009 +0100

    presence-cache.c: self_avatar_resolve_conflict(): remove unnecessary indentation

 src/presence-cache.c |   44 ++++++++++++++++++++++----------------------
 1 files changed, 22 insertions(+), 22 deletions(-)

commit 1b958d902efabe7b23d41af2cb096ead933b305e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 1 15:36:29 2009 +0100

    presence-cache.c: move code in the new function self_avatar_resolve_conflict() to avoid quadrubly-nested "if" blocks

 src/presence-cache.c |   60 +++++++++++++++++++++++++++++--------------------
 1 files changed, 35 insertions(+), 25 deletions(-)

commit bb9668ae1d7eee1492733659bf9d017fab021f74
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 1 15:17:51 2009 +0100

    test-avatar-multiple-resources.py: Don't expect AvatarUpdated for self_handle before conflict resolution
    
    The D-Bus signal AvatarUpdated is usually emitted as soon as we receive a
    presence stanza from a contact: we don't want to wait to receive the vCard with
    the actual avatar because we don't ask the vCard unless an application
    specifically request it. However, when we receive a presence stanza from
    'ourselves' on another resource, we emit the signal AvatarUpdated only when the
    conflict resolution is finished. This commit change the test to reflect that.

 .../vcard/test-avatar-multiple-resources.py        |    9 +++------
 1 files changed, 3 insertions(+), 6 deletions(-)

commit 4fb28ba7b94e365868eafb1aa664df86b596165a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 1 12:45:48 2009 +0100

    tests: use ns.VCARD_TEMP_UPDATE instead of hard coding 'vcard-temp:x:update'

 tests/twisted/gabbletest.py                        |    2 +-
 tests/twisted/ns.py                                |    1 +
 .../vcard/test-avatar-multiple-resources.py        |    3 ++-
 tests/twisted/vcard/test-avatar-tokens.py          |    2 +-
 4 files changed, 5 insertions(+), 3 deletions(-)

commit 3067462259eba7d1cbae4588505fe2e9c1573ec1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 1 12:11:03 2009 +0100

    test-avatar-async.py: new test cases to prevent recursive conflict resolution

 tests/twisted/gabbletest.py              |    8 +++++-
 tests/twisted/vcard/test-avatar-async.py |   44 +++++++++++++++++++++++++++++-
 2 files changed, 50 insertions(+), 2 deletions(-)

commit bb81008006e459af6518be63685937a958dd49de
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 1 11:55:43 2009 +0100

    presence-cache.c: Fix avatar conflict resolution: Do not confuse self_presence and presence with self_handle from the cache

 src/presence-cache.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 443401251b3bd373f1368f2746e5f50d8d2811fc
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Sep 30 18:27:40 2009 +0100

    Fix gabble_request_pipeline_item_cancel: remove the timer

 src/request-pipeline.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 6577f24bfd907f0cb916aa9523207426f36cab57
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Sep 30 17:35:58 2009 +0100

    Fix a crash in vCard Manager dispose: remove the source of the suspended timeout

 src/vcard-manager.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit f9d4b4d0ad626f6f62942e30ad34280927c13f8c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Sep 30 16:09:25 2009 +0100

    presence-cache.c: Avoid recursive image resetting as per XEP-0153 section 4.4, bug #23684

 src/presence-cache.c |   57 +++++++++++++++++++++++++++++++++++---------------
 1 files changed, 40 insertions(+), 17 deletions(-)

commit 4c8dec4f06070e4411d87a99464c76b4faaa47f7
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Sep 28 19:16:48 2009 +0100

    vcard-manager.c: Add a FIXME: When requesting a vCard, the timeout is not always obeyed

 src/vcard-manager.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 20f3e470fff2589395f914dee03d22e67169ddc7
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Sep 28 19:12:06 2009 +0100

    vcard-manager.c: Rename cache_entry_ensure_queued to request_send

 src/vcard-manager.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 6b9a83d65046205aca2edb67444fa035729ad4d2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Sep 28 16:04:02 2009 +0100

    Make DEBUG output for suspending vCard gets more useful

 src/vcard-manager.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 59ea23026b4b202f268cde2d1c312c3cdc2589dc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Sep 28 16:03:44 2009 +0100

    Clarify FIXME about generalizing error-extracting code

 src/vcard-manager.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 0e46de809acc6054568a8e35429452a8ec40cde2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Sep 28 15:51:41 2009 +0100

    Clarify vCard get error processing

 src/vcard-manager.c |   21 ++++++++++-----------
 1 files changed, 10 insertions(+), 11 deletions(-)

commit 951d00b09f831c18a379bc233e66e20eb6c185b1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Sep 28 13:25:01 2009 +0100

    vcard-manager.c: Suspend vCard request on all "wait" errors from the server, not only resource-constraint

 src/vcard-manager.c |   18 +++++++++++-------
 1 files changed, 11 insertions(+), 7 deletions(-)

commit 31e6e9df79d7b19b17b897993e8f137caf489f2d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Sep 28 13:08:03 2009 +0100

    vcard-manager.c: Add a debug when Gabble suspend a vCard request

 src/vcard-manager.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 95cf6b41151123dd7bcea812076edbd42c12458d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Sep 25 18:08:12 2009 +0100

    vcard-manager.c: Move the timer arming in cache_entry_ensure_queued()
    
    It will fixed the timers override (problem found during Daf's review)

 src/vcard-manager.c |   11 +++++------
 1 files changed, 5 insertions(+), 6 deletions(-)

commit b1d6b34d3864a4978f3fb6d0b99b66eb0aa1f8fd
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Sep 25 18:05:14 2009 +0100

    vcard-manager.c: Add a FIXME to use error.c, as per Daf's review

 src/vcard-manager.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit c096d8e2c6d4c10f977675645349f217ec70b1d2
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Sep 25 18:02:47 2009 +0100

    test-avatar-async.py: coding style and use assertEquals, as per Daf review

 tests/twisted/vcard/test-avatar-async.py |   21 ++++++++++-----------
 1 files changed, 10 insertions(+), 11 deletions(-)

commit dd50e6c25dd280dd054c0532be1060c45b775601
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Sep 25 17:10:27 2009 +0100

    vcard-manager.c: Remove redondant test on suspended_timer_id, add an assert instead

 src/vcard-manager.c |    9 +++------
 1 files changed, 3 insertions(+), 6 deletions(-)

commit 57de8f76150c81d748be97c3c85ffa5386413e8c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Sep 24 18:05:37 2009 +0100

    test-avatar-async.py: test the timer: gabble should reemit the vCard request after waiting

 tests/twisted/vcard/test-avatar-async.py |  107 ++++++++++++++++++++----------
 1 files changed, 73 insertions(+), 34 deletions(-)

commit 817896fbc8552e462463344ebb07cb6c8e8a78d6
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Sep 24 18:05:22 2009 +0100

    Fix timer problem

 src/vcard-manager.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 3fbaeea3f32ba47f6d5f69fe2216accdc275cec1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Sep 24 18:04:27 2009 +0100

    vCard replay timer is set to 3 seconds for the unit tests

 src/vcard-manager.c        |   15 +++++++++++----
 src/vcard-manager.h        |    3 +++
 tests/twisted/main-debug.c |    3 +++
 3 files changed, 17 insertions(+), 4 deletions(-)

commit c8070f35ca62df753c914ae5329d786f86f91c1c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Sep 24 12:59:11 2009 +0100

    test-avatar-async.py: Add avatar test when the server reply busy

 tests/twisted/vcard/test-avatar-async.py |   31 ++++++++++++++++++++++++++++-
 1 files changed, 29 insertions(+), 2 deletions(-)

commit ff801f9163709ba32939cec4b099bd7de8936f9d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Sep 24 16:57:58 2009 +0100

    Bug #23684: Automatically request a vCard after the server replied with the error resource-constraint

 src/vcard-manager.c |   68 ++++++++++++++++++++++++++++++++++++++++++++++++---
 1 files changed, 64 insertions(+), 4 deletions(-)

commit 194392b8d11dac8cdd33b7c35e42ed1d178dff10
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Sep 23 16:17:48 2009 +0100

    Make gabble_request_pipeline_go() private

 src/request-pipeline.c |    3 ++-
 src/request-pipeline.h |    1 -
 2 files changed, 2 insertions(+), 2 deletions(-)

commit dc324773a067232d5eb026e63aa15b03b4b9fd3c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon May 4 12:53:40 2009 +0100

    Delete delete repeated repeated word word.
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

 src/roster.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit e8277c08d49e60039c22ba803bcbcb8407bad95b
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   Mon Oct 5 17:40:11 2009 +0100

    Update wocky to include openssl support + latest certtool build dep fixes.

 lib/ext/wocky |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 5bac8138f1bac7ded209c401afd3ad8b673e4ee3
Merge: caa3274 5b12f6f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Sep 30 17:38:52 2009 +0100

    Merge branch 'getcc-crash'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 5b12f6fa430963f16b23a9ac5beb24561918425e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Sep 30 17:09:55 2009 +0100

    Simplifying freeing contact capabilities

 src/connection.c |   24 +++++++-----------------
 1 files changed, 7 insertions(+), 17 deletions(-)

commit fd3f3f52638be36f0e3bc3d95eaacd8dad6ef86e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Sep 30 13:54:23 2009 +0100

    Test GetCCs for handles with unknown presence

 tests/twisted/caps/tube-caps.py |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit fa32c9a4e9cb5229e4d0c012d7e4aa37bb03fe70
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Sep 30 13:51:22 2009 +0100

    Return an array from get_handle_ccs and build_contact_caps
    
    Creating a new array and passing it in to be filled with caps was pretty
    weird, and made it hard to distinguish between "no caps" and "don't
    know".

 src/connection.c |   59 ++++++++++++++++++++++++-----------------------------
 1 files changed, 27 insertions(+), 32 deletions(-)

commit 941a941f77377b9de2e7ffd243a74b2e7956ea73
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Sep 30 13:37:40 2009 +0100

    Use build_contact_caps to emit ContactCapsChanged
    
    There's no point in looking up the handle's capabilities again, given
    that we already know what the new set of caps is.

 src/connection.c |    5 +----
 1 files changed, 1 insertions(+), 4 deletions(-)

commit 6bf200388248f27b5048a2e6c43d8fe2b70e4a0f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Sep 30 13:33:28 2009 +0100

    Extract turning a caps set into contact caps

 src/connection.c |   42 ++++++++++++++++++++++++++++++------------
 1 files changed, 30 insertions(+), 12 deletions(-)

commit 55665fa263b5b86d47db004cb32985e95dd39f20
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Sep 30 13:12:05 2009 +0100

    Survive GetContactCaps when we don't have presence

 src/connection.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit caa32745011ed8d3ca87b4a3e36df0788f084490
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Sep 29 19:27:02 2009 +0100

    version 0.9.1.1

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2d98bd5cce7d9ff8e3a4f33719cce83fbbb74c32
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Sep 29 16:58:36 2009 +0100

    version 0.9.1

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 870854fa65beb01faaaf8568fd0e5dd4d118a763
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Sep 25 16:14:38 2009 +0100

    add httptest.py to EXTRA_DIST

 tests/twisted/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit e0342aebe2cf355fe2a2514fe6fff9037ea5b25c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Sep 29 17:29:23 2009 +0100

    Update Wocky.
    
    This fixes distcheck.

 lib/ext/wocky |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 803138857f38eae15dd99544778cd304b82d7445
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Sep 29 16:57:11 2009 +0100

    update NEWS

 NEWS |   45 +++++++++++++++++++++++++++++++++++++++++----
 1 files changed, 41 insertions(+), 4 deletions(-)

commit 17054cc65c9c73613dd37abba38c98b85e2b3027
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Sep 29 12:12:00 2009 +0100

    Add the new jingle-caps test to the Makefile

 tests/twisted/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 1adcd646fdcfe067a5477d4aa159bf0ee3a6975a
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Tue Sep 29 09:47:51 2009 +0100

    Sync glib-interfaces-gen.py with tp-glib HEAD to stop spurious lines on building.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 tools/glib-interfaces-gen.py |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit 71faffcf175a1c7114ddafc78f76089facb92c11
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Tue Sep 29 09:46:33 2009 +0100

    Update wocky.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 lib/ext/wocky |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a14e0e30fbd019d8acdaea3c618f7025a9daf6dc
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Tue Sep 29 09:45:46 2009 +0100

    Move from shave to automake 1.11's silent rules.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 .gitignore                      |    2 -
 configure.ac                    |   11 +++--
 data/Makefile.am                |    8 +--
 docs/Makefile.am                |    6 +--
 extensions/Makefile.am          |   22 +++++------
 lib/ext/Makefile.am             |    2 +-
 lib/gibber/Makefile.am          |   10 ++---
 lib/loudmouth/Makefile.am       |   14 +++----
 m4/Makefile.am                  |    3 +-
 m4/shave.m4                     |   77 --------------------------------------
 shave-libtool.in                |   69 ----------------------------------
 shave.in                        |   79 ---------------------------------------
 src/Makefile.am                 |   12 ++---
 tests/twisted/Makefile.am       |    4 +-
 tests/twisted/tools/Makefile.am |    8 ++--
 tools/Makefile.am               |    7 +--
 tools/shave.mk                  |    1 -
 17 files changed, 46 insertions(+), 289 deletions(-)

commit 67f4176af34388de675ab5e4fb4e3b67d0152c23
Merge: f1fe9b6 e98ce12
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Sep 29 00:17:53 2009 +0100

    Merge branch 'stun-fix'
    
    Reviewed-by: Dafydd Harries

commit e98ce126c6c5eef66c616a5d614d8ac60555d86a
Author: David Laban <david.laban@collabora.co.uk>
Date:   Mon Sep 28 17:27:15 2009 +0100

    Use gethostbyname() rather than gethostbyaddr().
    
    Seems that gethostbyaddr() tries to do reverse lookup as well,
    which fails now that stun.collabora.co.uk has moved to its own
    host.

 tests/twisted/jingle/stun-server.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit f1fe9b6a0e93766b5bc2d8fa53b89eefd64faefe
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Sep 28 21:20:09 2009 +0100

    Test various capabilitie sets that should give a media capable client

 tests/twisted/caps/jingle-caps.py |   84 +++++++++++++++++++++++++++++++++++++
 1 files changed, 84 insertions(+), 0 deletions(-)

commit eb4a9ae8f32514bd14d883ad40469cbd928b84b4
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Sep 28 21:17:46 2009 +0100

    Factor a lot of useful code out of the caps-cache into the caps_helper

 tests/twisted/caps/caps-cache.py |   84 +++++++++++--------------------------
 tests/twisted/caps_helper.py     |   47 +++++++++++++++++++++-
 2 files changed, 71 insertions(+), 60 deletions(-)

commit a16a31af1f2d1eefce4eeeca2b042041490578f2
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Sep 28 12:06:04 2009 +0200

    Recognize clients as media capable if they have any supported transport
    
    Before gabble would only regard a client as audio and/or video capable when it
    support Google p2p as a transport. For jingle clients it's ofcouse entirely
    valid to not support Google p2p.
    
    Allow clients to be marked as media capable if they support any of our
    supported protocol (they still need to also advertise jingle/gtalk capabilities
    seperatly. This is correct as we support all our transports as part of a normal
    jingle session and for the google protocol it's not necessary to advertise a
    transport.

 src/media-factory.c |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit da77a925fb6522dccaeeddb6660b0e901d0c38ec
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 25 12:50:25 2009 +0100

    use wocky-pep-service from Wocky instead of our internal copy

 src/Makefile.am         |    2 -
 src/connection.h        |    2 +-
 src/wocky-pep-service.c |  362 -----------------------------------------------
 src/wocky-pep-service.h |   80 -----------
 4 files changed, 1 insertions(+), 445 deletions(-)

commit d92bf9fb7959942dd36141116e93ee0aa6edab86
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 25 12:40:30 2009 +0100

    Sync Wocky

 lib/ext/wocky |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 271fd01cd52576d6ab868f468fb611f17c03cc42
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 25 11:43:36 2009 +0100

    remove NS_DATA as we already have NS_X_DATA for this namespace

 src/bytestream-factory.c |    6 +++---
 src/namespaces.h         |    1 -
 2 files changed, 3 insertions(+), 4 deletions(-)

commit 790a441d21ef8e39c30825604e1ac7c568841135
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 25 10:25:43 2009 +0100

    test-wait-for-caps-incomplete.py: disconnect_conn now returns 2 lists of events

 .../jingle/test-wait-for-caps-incomplete.py        |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit eaff4f3092f6e2e18979eda93f56177facdaf661
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 24 17:22:30 2009 +0100

    use ensure_bare_contact_from_jid

 src/conn-location.c |    5 +----
 src/conn-olpc.c     |   23 ++++-------------------
 2 files changed, 5 insertions(+), 23 deletions(-)

commit 9d931c4e6b3f84aa1dc6fdc22b18297b81906e0d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 24 17:22:09 2009 +0100

    util: add ensure_bare_contact_from_jid

 src/util.c |   10 ++++++++++
 src/util.h |    4 ++++
 2 files changed, 14 insertions(+), 0 deletions(-)

commit a3caf3538d22fdcff152460e996c49eec5e27abd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 24 17:21:51 2009 +0100

    conn-aliasing: rename location_nick_node_changed to pep_nick_node_changed

 src/conn-aliasing.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit eae070cadf57248372d7581cde9bf8f1a44472ba
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 24 16:14:25 2009 +0100

    olpc-buddy-search.py: test that BuddyInfo.GetProperties is completed when conn disconnects
    
    This is to test that D-Bus calls are completed if they are waiting for
    a PEP IQ reply and the connection is disconnected before they receive
    it.

 tests/twisted/olpc/olpc-buddy-search.py |    9 ++++++++-
 1 files changed, 8 insertions(+), 1 deletions(-)

commit fb8823fc1e5b04a2567861c5e8ec32e81ea97ab8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 24 16:13:11 2009 +0100

    add an extra events list to disconnect_conn allowing to catch events after the closing of the stream

 tests/twisted/gabbletest.py |   13 ++++++++-----
 1 files changed, 8 insertions(+), 5 deletions(-)

commit a60dc41e1b7c1e07d4171a87498380d353e25b3d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 24 12:19:08 2009 +0100

    wocky_pep_service_get_async: raise an error if service has not been started

 src/wocky-pep-service.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit be83b030b71a249758b39b7b082471e4ef52e1bb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 24 11:32:23 2009 +0100

    wocky_pep_service_dispose: if a porter has been defined, we registered the handler for sure

 src/wocky-pep-service.c |    8 +++-----
 1 files changed, 3 insertions(+), 5 deletions(-)

commit 4c20da2f88b53a01f5611518a47d3b08bdc618f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 21 15:40:48 2009 +0100

    remove wocky-pubsub

 src/Makefile.am    |    2 -
 src/types.h        |    1 -
 src/wocky-pubsub.c |  418 ----------------------------------------------------
 src/wocky-pubsub.h |   97 ------------
 4 files changed, 0 insertions(+), 518 deletions(-)

commit 0c8133ae217793dfd68ba6c5ec277db5f99b1cd2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 21 15:38:27 2009 +0100

    don't instantiate WockyPubsub anymore

 src/connection.c |   10 ----------
 src/connection.h |    3 +--
 2 files changed, 1 insertions(+), 12 deletions(-)

commit 1794c481da9eea6596cdef01a197cc0707d1b5a9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 21 15:36:00 2009 +0100

    conn-olpc: use wocky_pep_service_make_publish_stanza

 src/conn-olpc.c |   40 +++++++++++++++++++++++++---------------
 1 files changed, 25 insertions(+), 15 deletions(-)

commit 6fd11bd10be04eee0fd6d3d83f65bc7921f358fd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 21 15:24:26 2009 +0100

    conn-olpc: use wocky_pep_service_get_async

 src/conn-olpc.c |   73 +++++++++++++++++++++++++++++++++++-------------------
 1 files changed, 47 insertions(+), 26 deletions(-)

commit fdbc24ec12b1db21baca7c0f44a8e07e5df3efb7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 21 15:07:07 2009 +0100

    conn-olpc: use WockyPepService to get events

 src/conn-olpc.c  |  136 ++++++++++++++++++++++++++++++------------------------
 src/connection.c |   38 +++++++++++----
 src/connection.h |    8 ++--
 3 files changed, 108 insertions(+), 74 deletions(-)

commit e449fcf7dcc9b147403187904b3a803746f7117b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 21 14:33:58 2009 +0100

    conn-aliasing: use WockyPepService API

 src/conn-aliasing.c |   43 ++++++++++++++++++++++---------------------
 src/connection.c    |    9 +++++++--
 src/connection.h    |    2 +-
 3 files changed, 30 insertions(+), 24 deletions(-)

commit 867779ab371143fee533fce55ca88722bb833817
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 21 14:20:25 2009 +0100

    conn-location: use wocky_pep_service_make_publish_stanza instead of pubsub_make_publish_msg

 src/conn-location.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit d7e83937d2301978439f3f33e3869dc90287f484
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 21 14:20:13 2009 +0100

    add wocky_pep_service_make_publish_stanza

 src/wocky-pep-service.c |   20 ++++++++++++++++++++
 src/wocky-pep-service.h |    3 +++
 2 files changed, 23 insertions(+), 0 deletions(-)

commit 2656ebcc21904c9bd713770de59ed30e1fa62457
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 21 14:07:40 2009 +0100

    conn-location: use wocky_pep_service_get_async instead of wocky_pubsub_send_query_async

 src/conn-location.c |   19 +++++++++++++------
 1 files changed, 13 insertions(+), 6 deletions(-)

commit 083503ac58e62277716bca38b7eb3c9e5779d334
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 21 14:06:52 2009 +0100

    add wocky_pep_service_get_{async,finish}

 src/wocky-pep-service.c |   70 +++++++++++++++++++++++++++++++++++++++++++++++
 src/wocky-pep-service.h |   11 +++++++
 2 files changed, 81 insertions(+), 0 deletions(-)

commit b5aa35efe935727d492d078a91d61954f290b642
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 21 13:27:48 2009 +0100

    add TODO about missing PEP subscription support

 src/wocky-pep-service.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 86abd45954b6cca227b0c1f2ca9d7c9173cda2b3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 21 13:26:21 2009 +0100

    Use WockyPepService to catch location changes events

 src/conn-location.c |   32 +++++++++++++++++++-------------
 src/connection.c    |    9 +++++++--
 src/connection.h    |    3 ++-
 3 files changed, 28 insertions(+), 16 deletions(-)

commit f6c1d90daafa02ad5968296b2a1c31a401173971
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 21 13:24:59 2009 +0100

    wocky-pep-service: fire 'changed' signal when an event is received

 src/wocky-pep-service.c |   64 +++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 62 insertions(+), 2 deletions(-)

commit e99bd59e536f6b5ce75cad84d143312014ed1af9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 21 12:02:20 2009 +0100

    add node and subscribe properties to WockyPepService

 src/wocky-pep-service.c |   60 ++++++++++++++++++++++++++++++++++++++++++++++-
 src/wocky-pep-service.h |    3 +-
 2 files changed, 61 insertions(+), 2 deletions(-)

commit ea119163d72065d8ea8f62c9db0939518390093c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 21 11:45:43 2009 +0100

    add stub wocky-pep-service.[ch]

 src/Makefile.am         |    2 +
 src/wocky-pep-service.c |  146 +++++++++++++++++++++++++++++++++++++++++++++++
 src/wocky-pep-service.h |   65 +++++++++++++++++++++
 3 files changed, 213 insertions(+), 0 deletions(-)

commit 8ff7a539b95ac7133609ce68e3253189a2c21ab0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 16 18:01:32 2009 +0100

    stop including util.h

 src/wocky-pubsub.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 98f91bfbe623059acedc9e1901434c2d8645f1ac
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 16 14:31:55 2009 +0100

    Dispatch pubsub events according to the 'node' attribute
    
    The right way to get the 'node' associated with an event is to look at
    the 'node' attribute of the 'items' node.

 src/wocky-pubsub.c |   24 +++++-------------------
 1 files changed, 5 insertions(+), 19 deletions(-)

commit c62527a4ff2eaf6b14e0591f7bbad459161a96ae
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 16 14:22:30 2009 +0100

    rename 'ns' argument to 'node'
    
    In the pubsub world, the right terminology is 'node'. Nodes are
    namespaces only in PEP.

 src/wocky-pubsub.c |   19 ++++++++++---------
 src/wocky-pubsub.h |    4 ++--
 2 files changed, 12 insertions(+), 11 deletions(-)

commit b196b98fa1a220cd7666f0a725c01a50be303b3c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 9 12:44:24 2009 +0100

    unregister pubsub event handlers when disposing

 src/conn-aliasing.c |    4 ++--
 src/conn-location.c |    4 ++--
 src/conn-olpc.c     |   12 ++++++++----
 src/connection.c    |   14 ++++++++++++++
 src/connection.h    |    6 ++++++
 5 files changed, 32 insertions(+), 8 deletions(-)

commit 89ce0d908e2586690abbcb976ee0d6199e69fe37
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 9 12:33:12 2009 +0100

    add wocky_pubsub_unregister_event_handler

 src/wocky-pubsub.c |   19 +++++++++++++++++++
 src/wocky-pubsub.h |    3 +++
 2 files changed, 22 insertions(+), 0 deletions(-)

commit d6b4dca4bada9875edb7fd5b44515f6cffb84d43
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 3 16:16:07 2009 +0100

    remove useless includes

 src/wocky-pubsub.c |    7 -------
 src/wocky-pubsub.h |    3 ++-
 2 files changed, 2 insertions(+), 8 deletions(-)

commit 49f1dde5b6bbd6cd7e069189ec31fededfc91a14
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 3 16:12:47 2009 +0100

    turn pubsub_query to a Wocky-style async function

 src/conn-location.c |   29 ++++--
 src/conn-olpc.c     |  227 +++++++++++++++++++++++++++++++++++----------------
 src/wocky-pubsub.c  |   59 ++++++++++++--
 src/wocky-pubsub.h  |   11 ++-
 4 files changed, 235 insertions(+), 91 deletions(-)

commit 06a37efd619a0f191ea6451bb0ef5d0ed5289858
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 3 14:06:02 2009 +0100

    use wocky namespaces

 src/wocky-pubsub.c |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit e8b5e6eef35304f4673a51f2aa056f564cb44f82
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 3 13:36:31 2009 +0100

    use wocky_strdiff

 src/wocky-pubsub.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit c93de1ef30e780b8d15e1af52629af69d775c16e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 3 13:33:38 2009 +0100

    use Wocky's stanza register

 src/connection.c   |   15 ---------------
 src/wocky-pubsub.c |   46 ++++++++++++++++++++++++++++++++--------------
 src/wocky-pubsub.h |    5 -----
 3 files changed, 32 insertions(+), 34 deletions(-)

commit d7887a74022433c6899f94bbb34bdaa11431c266
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 3 13:27:12 2009 +0100

    register pubsub event handlers in their component

 src/conn-aliasing.c |   13 +++++++++----
 src/conn-aliasing.h |    3 ---
 src/conn-location.c |   13 +++++++++----
 src/conn-location.h |    3 ---
 src/conn-olpc.c     |   49 +++++++++++++++++++++++++++++++++----------------
 src/conn-olpc.h     |   16 ----------------
 src/wocky-pubsub.c  |   26 ++------------------------
 src/wocky-pubsub.h  |    5 +++--
 8 files changed, 56 insertions(+), 72 deletions(-)

commit 505de2338ea276042e9ffcfe45e24479fc900b8a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 3 13:01:31 2009 +0100

    add a wocky_pubsub_start method passing the session instead of passing it to the constructor
    
    This allow us the instantiate the Pubsub object during the construction
    of the connection and so other components can already register their
    event handlers *before* the connection has been connected and so the
    session created.

 src/connection.c   |    4 +++-
 src/wocky-pubsub.c |   45 +++++++++++++--------------------------------
 src/wocky-pubsub.h |    5 ++++-
 3 files changed, 20 insertions(+), 34 deletions(-)

commit b0cccb514179dcb1f78f35759e85e3c4b90f45c7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 3 12:15:03 2009 +0100

    add wocky_pubsub_register_event_handler and store handlers in the Pubsub object

 src/wocky-pubsub.c |  110 ++++++++++++++++++++++++++++++++++++++++------------
 src/wocky-pubsub.h |    7 +++-
 2 files changed, 91 insertions(+), 26 deletions(-)

commit 775793d04aad7d5f1f29208a59164ce85e99bdf2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 3 11:43:39 2009 +0100

    rename GabblePubsubEventHandlerFunction and GabblePubsubEventHandler

 src/wocky-pubsub.c |    8 ++++----
 src/wocky-pubsub.h |    2 +-
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 0f93fff4d37cd2c1ed2c980db419c0397e0d418f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 2 18:03:58 2009 +0100

    connection: instantiate WockyPubsub

 src/connection.c |    8 ++++++++
 src/connection.h |    3 +++
 2 files changed, 11 insertions(+), 0 deletions(-)

commit 08cf3b51837aa4b2ab3d92c7584229c21ffa8f01
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 2 18:02:38 2009 +0100

    rename pubsub.[ch] to wocky-pubsub.[ch]

 src/Makefile.am     |    4 +-
 src/conn-aliasing.c |    2 +-
 src/conn-location.c |    2 +-
 src/conn-olpc.c     |    2 +-
 src/connection.c    |    2 +-
 src/pubsub.c        |  340 ---------------------------------------------------
 src/pubsub.h        |   84 -------------
 src/wocky-pubsub.c  |  340 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/wocky-pubsub.h  |   84 +++++++++++++
 9 files changed, 430 insertions(+), 430 deletions(-)

commit 459cb708aaa149dc1963422deb33a83935ed544b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 2 17:59:01 2009 +0100

    create a WockyPubsub object

 src/pubsub.c |  148 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/pubsub.h |   43 ++++++++++++++--
 src/types.h  |    1 +
 3 files changed, 186 insertions(+), 6 deletions(-)

commit e62c62d827d991982bf372710244102b1dce14e7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 2 17:27:06 2009 +0100

    pubsub_query: use wocky_xmpp_stanza_build

 src/pubsub.c |   17 +++++++++--------
 1 files changed, 9 insertions(+), 8 deletions(-)

commit da62f3202f190a5a9a03f2ddff353f97e25c462d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 2 17:22:07 2009 +0100

    pubsub_make_publish_msg: use wocky_xmpp_stanza_build

 src/pubsub.c |   29 +++++++++++++++--------------
 1 files changed, 15 insertions(+), 14 deletions(-)

commit c67b9867795365d9fb5a5d28e2c28fa0b2461066
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 2 17:13:22 2009 +0100

    use Wocky stanza/node API and pass the item node to gabble_pubsub_event_handler

 src/pubsub.c |   52 +++++++++++++++++++++++++++++-----------------------
 src/pubsub.h |   32 +++++++++++++++++++-------------
 2 files changed, 48 insertions(+), 36 deletions(-)

commit b4c49e0d9531162d5348ed0d3f6b8db892930541
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 2 16:52:09 2009 +0100

    pass a jid instead of a handle to pubsub handlers

 src/conn-aliasing.c |   12 ++++++++++-
 src/conn-aliasing.h |    2 +-
 src/conn-location.c |   15 ++++++++++---
 src/conn-location.h |    2 +-
 src/conn-olpc.c     |   53 ++++++++++++++++++++++++++++++++++++++++++--------
 src/conn-olpc.h     |    8 +++---
 src/pubsub.c        |   17 ++-------------
 src/pubsub.h        |    4 +-
 8 files changed, 77 insertions(+), 36 deletions(-)

commit 038d7baf547fff624925ece3d93ee3227b13ea30
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 2 16:30:05 2009 +0100

    gabble_pubsub_event_handler: no need to be a public function

 src/pubsub.c |    2 +-
 src/pubsub.h |    4 ----
 2 files changed, 1 insertions(+), 5 deletions(-)

commit 76f9f947fabf049b318576cb977260591fc7a4bd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 2 16:28:26 2009 +0100

    no need to define GabblePubsubEventHandler in pubsub.h

 src/pubsub.c |    6 ++++++
 src/pubsub.h |    8 --------
 2 files changed, 6 insertions(+), 8 deletions(-)

commit e1508ddb3eaf235b2848fad22c57c70628bd3953
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 24 18:26:26 2009 +0100

    Sync Wocky
    
    WOCKY_PORTER_ERROR_FORCE_CLOSING has been renamed to WOCKY_PORTER_ERROR_FORCIBLY_CLOSED

 lib/ext/wocky    |    2 +-
 src/connection.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit aeb1eef674df52a424b00d4337e00eefb5d1c3c0
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 23 22:34:05 2009 +0100

    update stream error test to match reason text handling change
    
    Reviewed-by: Will Thompson

 tests/twisted/jingle/incoming-call-stream-error.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4e3dc1c4e404e74b51a4eac13de47dd56e3e38e6
Merge: 5acdcfa d7eec39
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 23 22:58:18 2009 +0100

    Merge branch 'pidgin-interop'
    
    This branch by David was already merged into 0.8.

commit d7eec395cc5fcc9552754bf100a3a233121c7211
Author: David Laban <david.laban@collabora.co.uk>
Date:   Wed Sep 23 18:35:14 2009 +0100

    Test for bug 24043
    
    Added test for http://bugs.freedesktop.org/show_bug.cgi?id=24043
    and also the / 65536 bug I found.

 tests/twisted/jingle/jingletest2.py          |   38 ++++++++++++++++++--
 tests/twisted/jingle/test-outgoing-iceudp.py |   51 +++++++++++++++++++++++++-
 2 files changed, 84 insertions(+), 5 deletions(-)

commit 8913bb7fe20f80e8d05f2f2722ba2c5ca2f0dbb8
Author: David Laban <david.laban@collabora.co.uk>
Date:   Wed Sep 23 18:28:20 2009 +0100

    pref = priority / 65536 and debugging info
    
    Fixed parse_candidates in jingle-transport-iceudp.c
    to divide by 65536 (as inject_candidates multiplies by 65536).
    Also added some more debugging info when candidates are missing
    required attributes.

 src/jingle-transport-iceudp.c |   57 ++++++++++++++++++++++++++++++++--------
 1 files changed, 45 insertions(+), 12 deletions(-)

commit 406e8d3f33b54637894fabcf14bef083f462004c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Sun Sep 20 14:45:02 2009 +0100

    Parse transport node on accept to get candidates

 src/jingle-content.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 5acdcfa0e678dc1544ba2a1ee87b5bca3e565df4
Merge: c4c6f42 e4df02d
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 23 21:37:50 2009 +0100

    Merge branch 'tests-failure-helper'
    
    Reviewed-by: Will Thompson

commit e4df02df6c90c7efcc86d0f39fd813e7efc6543c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 23 20:40:41 2009 +0100

    add test failure debugging helper script

 tests/twisted/tools/failure-helper.sh |  105 +++++++++++++++++++++++++++++++++
 1 files changed, 105 insertions(+), 0 deletions(-)

commit 80aac7042ee727c39621206904e254aa5e13ce06
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 23 20:39:18 2009 +0100

    servicetest.py: better Event.__repr__()

 tests/twisted/servicetest.py |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit 763b5fcf493b83c4df8d3793790d1f5e34518865
Merge: 1688de3 e843fe8
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 23 16:50:48 2009 +0100

    Merge branch 'tests-fix-presence'

commit e843fe8d3068ad5fcb35e169d25e59eee185eb22
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 23 16:29:13 2009 +0100

    presence.py: use presence type constants

 tests/twisted/presence/presence.py |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 71714a372cf4e59e219f02d96453944ade6994e5
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 23 16:27:22 2009 +0100

    presence.py: use make_presence()

 tests/twisted/presence/presence.py |   24 ++++++------------------
 1 files changed, 6 insertions(+), 18 deletions(-)

commit abbc555fd2959e0bad38c37ee4b5cf2e88720002
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 23 16:16:41 2009 +0100

    make_presence(): take an optional show parameter

 tests/twisted/gabbletest.py |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 10d98494acd6169f75deeff64befe453ede4b674
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 23 16:10:22 2009 +0100

    make expects for presence events more specific
    
    This fixes a regression introduced by my initial-contacts-presence branch.

 .../twisted/file-transfer/file_transfer_helper.py  |    6 ++----
 tests/twisted/presence/presence.py                 |    8 ++++----
 2 files changed, 6 insertions(+), 8 deletions(-)

commit c4c6f42f035b62a58cea6dc3a3053f437317d96a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 23 15:20:00 2009 +0100

    Update Wocky

 lib/ext/wocky |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 1688de3c706a8d90654089dc9718167082a88ecf
Merge: 9c938a8 6e0f7cd
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 23 14:31:48 2009 +0100

    Merge branch 'initial-streams-delay'
    
    Reviewed-by: Sjoerd Simons

commit 9c938a82b181b702362a49325a9b0b029dfa3b31
Merge: 0a5557e fabd80f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 23 14:31:40 2009 +0100

    Merge branch 'initial-contact-presence'
    
    Reviewed-by: Sjoerd Simons

commit 0a5557e031a8a1383731d07ee60e55759a08a0c3
Merge: fd0686b e4fe85f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 23 14:31:27 2009 +0100

    Merge branch 'call-error-reason'
    
    Reviewed-by: Sjoerd Simons

commit fd0686be0a1f666459a6c1776009a9f1378b1ee4
Merge: 74946dc a64cfac
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 23 14:31:11 2009 +0100

    Merge branch 'location-language'
    
    Reviewed-by: Sjoerd Simons

commit 6e0f7cdaabb9fe744eb6aea99d4430902ed31743
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Sep 22 15:41:14 2009 +0100

    google-relay.py: test for a regression of #24023
    
    We do this by accepting the call if it's incoming, then making sure that a
    stream appears when the relay info has been sent.

 tests/twisted/jingle/google-relay.py |   19 +++++++++++++++++--
 1 files changed, 17 insertions(+), 2 deletions(-)

commit 01f07f21192b72423b7690796abded447d65ec10
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Sep 22 15:12:26 2009 +0100

    with-tmp-session-bus.sh: add commented out call to dbus-monitor

 tests/twisted/tools/with-session-bus.sh |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit fd86ada7fe6f4f22b91bb294be852452912f4d2e
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Sep 22 15:11:22 2009 +0100

    unwrap(): handle dbus.Boolean correctly

 tests/twisted/servicetest.py |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 7a650c3f0e1b06bcb6f72d8b1f7a46ace0852d7f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Sep 22 13:49:01 2009 +0100

    don't strip common prefix from object paths
    
    It was supposed to make test logs easier to read but ends up making test code
    more complicated.

 tests/twisted/jingle/call-state.py                 |   20 +++++++++-----------
 tests/twisted/jingle/google-relay.py               |    6 +++---
 tests/twisted/jingle/hold-av.py                    |   15 +++++----------
 tests/twisted/jingle/incoming-basics.py            |    6 ++----
 tests/twisted/jingle/initial-audio-video.py        |   10 +++-------
 tests/twisted/jingle/outgoing-many-streams.py      |    6 +++---
 tests/twisted/jingle/preload-caps-crash.py         |    4 +---
 tests/twisted/jingle/stun-server.py                |    4 ++--
 .../twisted/jingle/test-content-adding-removal.py  |    8 ++------
 tests/twisted/jingle/test-content-complex.py       |    9 ++++-----
 tests/twisted/jingle/test-description-info.py      |    6 +++---
 tests/twisted/jingle/test-incoming-call-reject.py  |    5 ++---
 tests/twisted/muc/roomlist.py                      |    9 +++------
 tests/twisted/roster/removed-from-rp-subscribe.py  |   13 ++++++-------
 tests/twisted/servicetest.py                       |    2 +-
 tests/twisted/text/destroy.py                      |    6 +++---
 tests/twisted/text/respawn.py                      |   10 +++++-----
 17 files changed, 57 insertions(+), 82 deletions(-)

commit d3457dbc14961a8d241ba11d309943a48b22ce22
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Sep 21 17:06:59 2009 +0100

    accept-muc-dbus-type.py: make compatible with expect_many() fix

 tests/twisted/tubes/accept-muc-dbus-tube.py |    9 +++++++--
 1 files changed, 7 insertions(+), 2 deletions(-)

commit 7960f0f5fd9b21ea85af71a0045b51ff7f7ff671
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Sep 21 17:01:13 2009 +0100

    accept-muc-dbus-tube.py: use assert* functions

 tests/twisted/tubes/accept-muc-dbus-tube.py |   42 ++++++++++++++-------------
 1 files changed, 22 insertions(+), 20 deletions(-)

commit fa901415af973e46a7507b65a917f98a91b76d65
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Sep 21 15:22:00 2009 +0100

    google-relay.py: factor out repeated code

 tests/twisted/jingle/google-relay.py |   37 +++++++++++++--------------------
 1 files changed, 15 insertions(+), 22 deletions(-)

commit 1a48b6badeab6131d8425d899d633d1c322385da
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Sep 21 14:57:20 2009 +0100

    allow forcing test output colouring

 tests/twisted/gabbletest.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d5498512d6ffe3bbafcc10dd765a6acf8dc89b68
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Sep 21 14:55:02 2009 +0100

    port Google relay test from BaseHTTPServer to twisted.web
    
    I think this makes the test more explicit, and also means that it doesn't
    print HTTP log messages to stdout.

 tests/twisted/httptest.py            |   31 +++++++
 tests/twisted/jingle/google-relay.py |  147 ++++++++++++++++------------------
 2 files changed, 101 insertions(+), 77 deletions(-)

commit d02dc81d607fe8c28b581330b727aa7d85d529f5
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Sep 21 14:53:13 2009 +0100

    expect_many(): log which events are still pending when a timeout occurs

 tests/twisted/servicetest.py |   13 ++++++++++++-
 1 files changed, 12 insertions(+), 1 deletions(-)

commit 6a3117b1da18cd5ba5f5c587d573d80cff254653
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Sep 21 14:47:34 2009 +0100

    expect_many(): ignore patterns that have already matched

 tests/twisted/servicetest.py |   12 +++++++++++-
 1 files changed, 11 insertions(+), 1 deletions(-)

commit 476bca2c75b6dc08895630e8081f8a5a2c91399b
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Sep 16 18:22:32 2009 +0100

    Automatically accept Initial streams when the call is accepted

 src/media-channel.c |   31 ++++++++++++++++++++++++-------
 1 files changed, 24 insertions(+), 7 deletions(-)

commit fabd80fb606a9a51f9e8766fd0bcb76b5c4746a8
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Sep 22 16:28:00 2009 +0100

    got_roster_iq(): add comment clarifying that _SUB_TYPE_RESULT means initial roster

 src/roster.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit f637e11a412659ffed904a95ac0d5403320d7ea4
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Sep 17 20:30:17 2009 +0100

    emit a presence update for subscribed contacts when we get the roster
    
    A GetPresence call for a contact we're subscribed to before we get the roster
    will return unknown; a call after we get the roster will return offline. This
    commit advertises that change to clients.

 src/roster.c                                       |   12 +++++
 tests/twisted/Makefile.am                          |    1 +
 tests/twisted/presence/initial-contact-presence.py |   46 ++++++++++++++++++++
 3 files changed, 59 insertions(+), 0 deletions(-)

commit 9b5bdee9c9fc892e3d0476eef4b0ded42876296e
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Sep 17 20:25:22 2009 +0100

    add presence types to constants.py

 tests/twisted/constants.py |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 117113e9993ee62d6eacea47390c0a3872d968bb
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Sep 17 20:24:46 2009 +0100

    export emit_presence_update

 src/conn-presence.c |   16 +++++++++-------
 src/conn-presence.h |    2 ++
 2 files changed, 11 insertions(+), 7 deletions(-)

commit e4fe85f6c913eb4c7fe2c0106836294c8ad6e697
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Sep 14 21:41:07 2009 +0100

    make MembersChanged have the correct reason when Error is called on a stream
    
    If we had an incoming call with a single mutable stream, the fact that an
    error ocurred would get lost.

 src/media-channel.c                                |   15 ++++--
 tests/twisted/Makefile.am                          |    1 +
 tests/twisted/jingle/incoming-call-stream-error.py |   55 ++++++++++++++++++++
 3 files changed, 67 insertions(+), 4 deletions(-)

commit a64cfac6e7ba653920f2b5803ae1aafc7d8d7002
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Sep 22 16:25:37 2009 +0100

    call DEBUG() in location_set_location() to avoid #define/#undef pairs

 src/conn-location.c |   20 ++++++++------------
 1 files changed, 8 insertions(+), 12 deletions(-)

commit 0886d40d317e1b2816a3ed61a39e5c774cec71c3
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Sep 22 16:23:52 2009 +0100

    remove reduntant check

 src/conn-location.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b096df42a00ebcd24966ccc55305489a6d759d69
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 16 18:41:17 2009 +0100

    fix corner cases in handling of language key for location data
    
    This fixes several problems in add_to_geoloc_node():
    
     - A NULL pointer would be dereferenced if the language value was one of the
       types checked for, but not a string.
     - An assertion would fail if the language value wasn't a string or one of the
       other types checked for.
     - Coverity flagged a possible dereference of the mapping pointer when it was
       NULL, but in practice we'd already returned in that case. Hopefully the
       code should be less confusing for both Coverity and humans now.

 src/conn-location.c |   30 ++++++++++++++++++++----------
 1 files changed, 20 insertions(+), 10 deletions(-)

commit 74946dc149336fe871c5fad52635c05889069656
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 21 21:26:00 2009 +0100

    fix typo in a debug msg

 src/bytestream-socks5.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 66784a2205e2e05fa0c2f7b62cb3b91469185505
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 21 21:14:15 2009 +0100

    remove some debug messages flooding output when using a stream tube

 src/bytestream-socks5.c |   12 ------------
 src/tube-stream.c       |   14 --------------
 2 files changed, 0 insertions(+), 26 deletions(-)

commit 92839b2d78e4ba1b3f73c4754a5111149a6f73bc
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Mon Sep 21 17:45:58 2009 +0100

    Update wocky.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 lib/ext/wocky |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e501e9f13f58c975bd9daa8ee3b7f2d122dac1e7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 21 15:46:33 2009 +0100

    Upgrade Wocky

 lib/ext/wocky |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e9c2b0f19a620bf8da089d1254a2d6035e03996d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Sun Sep 20 13:08:09 2009 +0100

    Redirect wocky debug to the debug interface

 src/connection.c |    3 -
 src/gabble.c     |  114 ++++++++++++++++++++---------------------------------
 src/gabble.h     |    6 ---
 3 files changed, 43 insertions(+), 80 deletions(-)

commit 032991ecfa9069857ea98aa51f69d3cb6fc3586c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Sun Sep 20 13:03:03 2009 +0100

    Sync with wocky master

 lib/ext/wocky |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9a9bc59a68820bade997a8bd7735db1ab273f9a8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 17 11:38:22 2009 +0100

    document FT fix in NEWS

 NEWS |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 8d843655cd6e874328fd5cd52a5960c61c19d20e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 17 11:32:10 2009 +0100

    file_transfer_helper.py: read on the local socket until it's disconnected

 .../twisted/file-transfer/file_transfer_helper.py  |    8 +++++---
 1 files changed, 5 insertions(+), 3 deletions(-)

commit 000f05541c9115e0c0de374598aa46ced8c7954e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Sep 17 00:08:07 2009 +0100

    Disconnect the socket when the file-transfer is done
    
    When a file-tranfer has completed we need to close the socket as an
    indicate to the FT handler.

 src/ft-channel.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit a96313ccaf1df0083a91cc3ec221f471bef37209
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 16 12:24:11 2009 +0100

    start dev of 0.9.1

 NEWS         |    9 +++++++++
 configure.ac |    2 +-
 2 files changed, 10 insertions(+), 1 deletions(-)

commit 39bb61486f9f948e69deca1d24e1ba49f6c8d65d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 16 11:51:54 2009 +0100

    prepare 0.9.0 release

 NEWS         |    4 +++-
 configure.ac |    6 +++---
 2 files changed, 6 insertions(+), 4 deletions(-)

commit dd8dec2f6c34b10c1ee18b63b3db4b7b9a188050
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 16 11:49:58 2009 +0100

    document new user certs directory in NEWS

 NEWS |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 8ec41b6668c1c53de633aaaab2a718ae1831a80c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 16 11:19:58 2009 +0100

    look for user certs in /telepathy/certs

 src/connection.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit db5ef83a13800d79bef997d6881c2fb0ab18b2f3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 16 10:41:27 2009 +0100

    build Gibber with fno-strict-aliasing so asyncns.c build with new gcc (fd.o #23685)

 lib/gibber/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 6a6c2ffe68e38d6d70c21c4f8d511f2106b6efb3
Merge: 25a5df7 375f763
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 15 18:05:02 2009 +0100

    Merge commit 'cassidy/upgrade'

commit 375f76339443e330e4ec70da3fba85fe4efd4bb5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 15 17:57:36 2009 +0100

    Sync Wocky with master

 lib/ext/wocky |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 25a5df765918096e04ec848826cf2672bd50d0c6
Merge: 2943d37 c93fbd7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Sep 14 21:40:01 2009 +0100

    Merge branch 'ccaps-undraft'
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit c93fbd724bb30beb413d1f8fafc1ce41f12c81e8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Sep 14 20:33:49 2009 +0100

    NEWS for extensions-removal

 NEWS |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit 2943d37cbb68ccf21aa12d081cf6f94388270744
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Sep 14 20:26:06 2009 +0100

    fix typos

 tests/twisted/servicetest.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 1879407b2b0ad010f267e370e09f9c31af752ed1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Sep 14 20:22:22 2009 +0100

    extensions: remove ContactCapabilities

 .../Connection_Interface_Contact_Capabilities.xml  |  245 --------------------
 extensions/Makefile.am                             |    1 -
 extensions/all.xml                                 |    2 -
 3 files changed, 0 insertions(+), 248 deletions(-)

commit 1797f1ea756421787dd1a8c915dbaa7a6ba8e4bc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Sep 14 20:22:10 2009 +0100

    GabbleConnection: use the ContactCapabilities interface from telepathy-glib

 src/connection.c |   23 +++++++++++------------
 1 files changed, 11 insertions(+), 12 deletions(-)

commit af174b7d2cba71cb32b651048d66b8fe7eba5dac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Sep 14 20:17:20 2009 +0100

    Remove StreamedMedia.FUTURE from extensions/

 extensions/Channel_Type_Streamed_Media_Future.xml |  151 ---------------------
 extensions/Makefile.am                            |    1 -
 extensions/all.xml                                |    1 -
 3 files changed, 0 insertions(+), 153 deletions(-)

commit f503917fd0b7754a08b56854572631955f778a5f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Sep 14 20:17:05 2009 +0100

    Depend on telepathy-glib 0.7.37 and implement the final version of InitialAudio/InitialVideo

 configure.ac                                |    2 +-
 src/media-channel.c                         |    8 +++-----
 src/media-factory.c                         |   18 ++----------------
 tests/twisted/constants.py                  |    4 ++--
 tests/twisted/jingle/initial-audio-video.py |   10 ++++------
 5 files changed, 12 insertions(+), 30 deletions(-)

commit b702ab858144fc8977e93019d7ac9836495c2f29
Merge: 61d744d 7d52496
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Sep 14 18:38:30 2009 +0100

    Merge branch 'tests'
    
    Reviewed-by: Simon McVittie

commit 7d52496b6159ba9f93e8eddacc0eefdf08d647dc
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Sep 14 17:59:23 2009 +0100

    remove a semicolon

 tests/twisted/servicetest.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7549ba217e2361fc5b0cdb74c8cca68100ee9cc9
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Sep 14 17:58:42 2009 +0100

    clarify assertNotEquals() error message

 tests/twisted/servicetest.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit aa9d49028c5e71d6c78556d60657a82b4d8adc47
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Sep 10 14:37:10 2009 +0100

    servicetest.py: make assert*() not format the values unless necessary

 tests/twisted/servicetest.py |   26 +++++++++++++++-----------
 1 files changed, 15 insertions(+), 11 deletions(-)

commit a470957b10efb16ca7b29ba9a98bbb0350a357d6
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Sep 10 14:31:43 2009 +0100

    servicetest.py: avoid formatting events when not necessary

 tests/twisted/servicetest.py |   18 ++++++++++--------
 1 files changed, 10 insertions(+), 8 deletions(-)

commit fcdcdc8b77e7b5c7f1ac186522fde0175550f784
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Sep 8 11:58:02 2009 +0100

    move install_colourer() to servicetest.py

 tests/twisted/gabbletest.py  |   26 +-------------------------
 tests/twisted/servicetest.py |   25 +++++++++++++++++++++++++
 2 files changed, 26 insertions(+), 25 deletions(-)

commit 337c2bdae9827002297a7c21723e4ea7e51c93d9
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Sep 8 11:33:25 2009 +0100

    remove exec_tests()
    
    It was broken and nothing used it.

 tests/twisted/gabbletest.py |   18 ++++++------------
 1 files changed, 6 insertions(+), 12 deletions(-)

commit ee94ce22a8cf0886a07afd645eff06d967ed14f1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Sep 7 17:39:08 2009 +0100

    hoist import to top of file

 tests/twisted/gabbletest.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 61d744d1d2229cc892987e23a3bbd5e5dc63a5d7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 14 17:00:44 2009 +0100

    add /etc/ssl/certs/ca-certificates.crt as default certificates location

 src/connection.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit fea3b0412abd5f3cd4786a549db5a59c10573c11
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 11 17:07:50 2009 +0100

    connector_error_disconnect: check certificate errors

 src/connection.c |   39 ++++++++++++++++++++++++++++++++++++++-
 1 files changed, 38 insertions(+), 1 deletions(-)

commit 3379bb44855d8f1adfeb6d53819bb3037ed97f50
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 14 16:49:05 2009 +0100

    Sync Wocky

 lib/ext/wocky |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9653c15b2d4605a277c86fd457c1eecc1886e6d2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 14 12:22:56 2009 +0100

    test-send-file-declined: try to provide the file after it has been declined

 .../file-transfer/test-send-file-declined.py       |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 9a4dfd5dbbdaf1270dfe841b27a2efd1e7d97710
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 14 12:22:24 2009 +0100

    gabble_file_transfer_channel_provide_file: check that the channel is in the pending or accepted state
    
    This fix the second part of fd.o #23903.

 src/ft-channel.c |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 66119c053e11b30653dce9d6083cbf47c604f691
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 14 12:09:32 2009 +0100

    test-send-file-provide-immediately: try to accept an outgoing FT

 .../test-send-file-provide-immediately.py          |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit 9db2c1ef685aae963024fd81538a0f5b17cb62d6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 14 12:08:47 2009 +0100

    gabble_file_transfer_channel_accept_file: check that channel is an incoming one
    
    This fix the first part of fd.o #23903.

 src/ft-channel.c |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit c0cf49a7e333758cfb221288ae7418ea0f340799
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Sat Sep 12 22:05:00 2009 +0100

    For gtalk dialects force the uses of google p2p

 src/media-channel.c |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit c7736daa24c2b2b14b3724e18829cf2687ee77e9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 11 18:22:21 2009 +0100

    GabbleMediaFactory: allow requesting initial audio/video the new way
    
    We can't fully support InitialAudio/InitialVideo without a new
    telepathy-glib release, but we can at least allow them in requests.

 src/media-factory.c                         |   10 +++++++++-
 tests/twisted/jingle/initial-audio-video.py |    6 ++++--
 2 files changed, 13 insertions(+), 3 deletions(-)

commit 08e4cf4f2f2430b51bdb12cb410cc0e20cdbb720
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 11 17:55:39 2009 +0100

    Undraft ContactCapabilities

 .../Connection_Interface_Contact_Capabilities.xml  |    6 +-
 src/connection.c                                   |    2 +-
 tests/twisted/Makefile.am                          |    2 +-
 tests/twisted/caps/advertise-contact-caps.py       |  192 ++++++++++++++++++++
 tests/twisted/caps/advertise-draft2.py             |  192 --------------------
 tests/twisted/caps/tube-caps.py                    |    2 +-
 tests/twisted/constants.py                         |    2 +-
 7 files changed, 198 insertions(+), 200 deletions(-)

commit 4640731ecc02ffe35f94be290789f4551ad8ba47
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 2 15:22:31 2009 +0100

    connection: instantiate a WockySession

 src/connection.c |   28 ++++++++++++++++------------
 src/connection.h |    4 +++-
 2 files changed, 19 insertions(+), 13 deletions(-)

commit c418b2d1a226cc0e8698aaa95032373bb083f85a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 11 17:40:03 2009 +0100

    regressions will actually be fixed in next releases

 NEWS |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2bd064255308ae8912708d35c11be3163962d334
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 11 17:35:57 2009 +0100

    purge old NEWS
    
    0.8.0 is a good starting point of the 0.9.x branch.

 NEWS |  939 ------------------------------------------------------------------
 1 files changed, 0 insertions(+), 939 deletions(-)

commit 72df48545c698c64ba35b9e90705586f87dfc458
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 11 17:27:12 2009 +0100

    document the Wocky port in NEWS

 NEWS |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit 55e54a948e5c740b1a786af6f4e91ac8fa822689
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Sep 4 19:01:29 2009 +0100

    Enable wocky gtkdoc on distcheck

 Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c75dd0cc7ad886384189756531247530be4d5f60
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Sep 4 19:01:06 2009 +0100

    don't unconditionally enable wockys gtk doc

 configure.ac |   11 +++++++++--
 1 files changed, 9 insertions(+), 2 deletions(-)

commit affb694f2d8be0734fd4cdd199dae0fe70327cee
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Sep 4 18:47:57 2009 +0100

    Only make clean in wocky if needed

 lib/ext/Makefile.am |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 226f01f3d703587207e53a15d6837618ca9ef5db
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Sep 3 18:01:19 2009 +0100

    When Disconnect is called while connect, handle it async

 src/connection.c |   24 ++++++++++++++++++++++--
 1 files changed, 22 insertions(+), 2 deletions(-)

commit c49bc73c89fca02dd8780d4d5aec103cfefbbdcf
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Sep 2 18:40:13 2009 +0100

    Support building out of tree

 configure.ac |    8 +++++---
 1 files changed, 5 insertions(+), 3 deletions(-)

commit 6c72abf7f01ec6e59f74828211ac4eda320aaf32
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Sep 2 15:13:41 2009 +0100

    Sync wocky master

 lib/ext/wocky |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d227438b24147bf311f0f9e146b73caefc7c1a34
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 2 14:03:57 2009 +0100

    main-debug: unref the TpDBusDaemon once we're done with it

 tests/twisted/main-debug.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 8f3448833281e920a77a01baf63b54226a859734
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 2 13:46:50 2009 +0100

    configure.ac: add Wocky's path to the end of PKG_CONFIG_PATH
    
    That way we can easily override it and use another Wocky tree.

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 801af1fcd6024e3244c3012584323352a610c401
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 26 16:39:39 2009 +0100

    configure Wocky before checking for the lib so wocky-uninstalled.pc has been generated

 configure.ac |   21 ++++++++++-----------
 1 files changed, 10 insertions(+), 11 deletions(-)

commit 9127dabddc682f645d1482845bf1322b4311f505
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 26 16:02:41 2009 +0100

    use PKG_CHECK_MODULES instead of hardcoding Wocky CFLAGS and LIBS

 configure.ac |    6 ++----
 1 files changed, 2 insertions(+), 4 deletions(-)

commit 5364cc6617e99bce1ff72a4ba51212cef4ef24b6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 26 15:16:27 2009 +0100

    No need to run configure when launching Wocky's autogen.sh from Gabble's autogen.sh
    
    Wocky's configure will be run when configuring Gabble

 autogen.sh |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ca5da57887c9fc522aa1d973cf0a1523c516f8c9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 21 16:35:19 2009 +0100

    Always build Wocky with GTK doc support as we need it when doing 'make check'

 configure.ac |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 4598feb1836f5405145ebf88a0513b7ae47e9689
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 20 15:36:39 2009 +0100

    autogen.sh: fetch Wocky submodule if needed

 autogen.sh |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit e50f2d7c8a3a9bb99d884c894f5c4888bd57fca8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 20 15:30:17 2009 +0100

    configure.ac: configure embedded Wocky as well

 configure.ac |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit 528b888754902b4a7c7408f466e640937394e445
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 20 15:16:43 2009 +0100

    autogen.sh: launch Wocky's autogen

 autogen.sh |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit b18474607353ad4fc14f371c3929545e91d348d0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 20 14:55:18 2009 +0100

    add lib/ext/Makefile.am to build wocky automatically

 configure.ac        |    1 +
 lib/Makefile.am     |    2 +-
 lib/ext/Makefile.am |    9 +++++++++
 3 files changed, 11 insertions(+), 1 deletions(-)

commit 11e3dfcfef9df8e4d11a4f6eeb9029751c1b7f3d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 20 14:28:30 2009 +0100

    configure.ac: use our internal copy of Wocky instead of the system one

 configure.ac |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 30f3d9c5e8383faff80bfd1dd4f3c6aa3af5daca
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 25 16:43:23 2009 +0100

    Add wocky as a git submodule to lib/ext

 .gitmodules   |    3 +++
 lib/ext/wocky |    1 +
 2 files changed, 4 insertions(+), 0 deletions(-)

commit 2f563a774827b40c33722095aff3d907c711c890
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 2 10:44:36 2009 +0100

    fix phrasing of some comments

 lib/loudmouth/lm-connection.c   |    2 +-
 lib/loudmouth/lm-message-node.c |    2 +-
 src/connection.c                |    7 ++++---
 3 files changed, 6 insertions(+), 5 deletions(-)

commit b1fb3681434f2bd64e8c26a78d005265240e56a1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 19 11:02:12 2009 +0100

    _gabble_connection_signal_own_presence: don't call gabble_muc_factory_broadcast_presence if we are closing
    
    In that case, the Muc factory is already disposed so we shouldn't try to
    use it anymore.

 src/connection.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit f3ee07472e48ac5824e549a53c2afad013598896
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 19 10:32:06 2009 +0100

    bump telepathy-glib dep to 0.7.35
    
    Disconnecting process is now async to Gabble could still have to use the
    self-handle after Disconnect() has been called. tp-glib used to invalid
    it as soon Disconnect() was called which was a bug that has been fixed
    in tp-glib 0.7.35. Make Gabble depends on this version to avoid crashes.

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 63915772bb4a6954a2db9e6d1cbbc98f0d19f2df
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 17 16:23:12 2009 +0100

    connection.c: include wocky/wocky-xmpp-error.h
    
    XMPP errors moved to this file in Wocky.

 src/connection.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 443e6d01919b9d2aea5013d5bc44550e3745068f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 17 16:22:58 2009 +0100

    lm-message-node: copy_attribute: wocky added a 'prefix' arg

 lib/loudmouth/lm-message-node.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit e0441f15da76e7fcc881a60f94e020ea6d210970
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 6 11:25:35 2009 +0100

    connect.c: connector_error_disconnect use switch/case

 src/connection.c |   70 +++++++++++++++++++++++++++++++----------------------
 1 files changed, 41 insertions(+), 29 deletions(-)

commit 36fb29e8c83b4bb8de245c6c101588831be14364
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 6 11:18:48 2009 +0100

    connect.c: factor out connector_error_disconnect

 src/connection.c |   93 +++++++++++++++++++++++++++++-------------------------
 1 files changed, 50 insertions(+), 43 deletions(-)

commit 8e990b104c1bb09a6e40c5f4f2487d56e642453c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 6 11:13:54 2009 +0100

    connect.c: add registration support

 src/connection.c |   88 +++++++++++++++++++++++++++++++++++++++++++----------
 1 files changed, 71 insertions(+), 17 deletions(-)

commit 3962dd3a7d06d4867d28649a45a4660e020c0d3f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 5 17:44:45 2009 +0100

    add connect/disconnect-timeout.py

 tests/twisted/Makefile.am                   |    1 +
 tests/twisted/connect/disconnect-timeout.py |   26 ++++++++++++++++++++++++++
 2 files changed, 27 insertions(+), 0 deletions(-)

commit bebf7466fe878becda6c16241dff1a60d6d93f95
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 5 17:44:28 2009 +0100

    don't chainup XmlStream.onDocumentEnd method

 tests/twisted/gabbletest.py |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit c793683890c8233418fe264c495e61eddc0cf061
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 5 17:42:48 2009 +0100

    connection.c: force disconnect if the connection hasn't been properly disconnected after a while

 src/connection.c |   51 ++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 50 insertions(+), 1 deletions(-)

commit cafaabb00f72dc913e2094b22077b07f4ded182a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 4 14:23:57 2009 +0100

    connect.c: set old-ssl and legacy properties on the connector

 src/connection.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit f9c7dc366485e4b9b3fcea75a8a16b3015d63037
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 4 14:12:01 2009 +0100

    connect.c: wocky_connector_connect_finish returns the stream-id now

 src/connection.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit cb10dad2127147917ff7e67865d89a5b3316d0e4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 28 14:33:04 2009 +0100

    connection.c: return an error if gabble_send_(with_reply) is called while there is no lmconn

 src/connection.c |   14 ++++++++++++++
 1 files changed, 14 insertions(+), 0 deletions(-)

commit 276c595fa63c6372b813710cc0b45154de51203d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 28 14:30:08 2009 +0100

    lm-connection: assert than connection and porter are not NULL when sending messages

 lib/loudmouth/lm-connection.c |   11 ++++++++++-
 1 files changed, 10 insertions(+), 1 deletions(-)

commit 3037c9c09aeb1c5b89e0d3a0d99e4707d77377c0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 28 11:50:28 2009 +0100

    main-debug: catch the Disconnected signal so we can call wocky_deinit() before dying.
    
    By properly freeing Wocky's ressources, valgrind's log won't be flooded
    by false positive leaks.

 tests/twisted/main-debug.c |   49 +++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 48 insertions(+), 1 deletions(-)

commit 18a854d3aef8c555a75710733b6cc4bd3f6ae3d0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 28 11:49:35 2009 +0100

    gabble_init: call wocky_init

 src/gabble.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 6f1207517a19a3deec753356e3bef4da30a9b79e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 23 17:34:36 2009 +0100

    lm-message-node: use the right wocky API when getting/setting the xml lang

 lib/loudmouth/lm-message-node.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 938915a897739bb4d4cd58dd08c90d34c5cd5fd6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 23 17:33:23 2009 +0100

    util.c: lm_message_node_add_build_va: use the right wocky api when setting xml:lang

 src/util.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 657bad3c99564a03e86f923b24280e0cde6a1a91
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 23 16:53:12 2009 +0100

    util.c: re-implement lm_message_node_get_attribute_with_namespace using the proper wocky API

 src/util.c |   50 +-------------------------------------------------
 1 files changed, 1 insertions(+), 49 deletions(-)

commit 135022790388c7b1553106714e149f20c435c7e3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 22 17:00:26 2009 +0100

    connection.c: connection_shut_down: wait if we are closing the porter

 src/connection.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit d0556bd39a221bb72ff09a14f4d8fe013f9b611f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 21 16:34:38 2009 +0100

    connection: the LmConnection is now a struct

 src/connection.c |   48 ++++++++++++++++++++++--------------------------
 src/connection.h |    1 +
 2 files changed, 23 insertions(+), 26 deletions(-)

commit cd2e79fa66b7f1ffbdccf8d9560030b86d2e4c58
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 21 16:32:49 2009 +0100

    lm-connection: Encapsulate the Porter in a struct so we don't have to use global variables in lm-connection

 lib/loudmouth/lm-connection.c |  104 +++++++++++++++++++++--------------------
 lib/loudmouth/lm-connection.h |   15 ++++--
 lib/loudmouth/lm-types.h      |    2 +-
 3 files changed, 65 insertions(+), 56 deletions(-)

commit ebb87ef2b8833582f642fa71f232bd4d49e88f66
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 21 14:41:24 2009 +0100

    connection.c: Use WockyConnector and the Wocky API

 src/connection.c |  737 +++++++++++++++++++-----------------------------------
 1 files changed, 256 insertions(+), 481 deletions(-)

commit c99f9d4959e54bad41ed3a884b2d3afaca49db2f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 21 11:42:44 2009 +0100

    connect/test-nonblocking-tls.py: enable the test; it works fine with Wocky

 tests/twisted/connect/test-nonblocking-tls.py |    8 --------
 1 files changed, 0 insertions(+), 8 deletions(-)

commit 6d87ea0988e77bd72a49227b8bfa7e99089fb377
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 21 11:22:22 2009 +0100

    add test connect/stream-closed.py
    
    Test if Gabble properly disconnect the connection when server closes its
    XMPP connection.

 tests/twisted/Makefile.am              |    1 +
 tests/twisted/connect/stream-closed.py |   27 +++++++++++++++++++++++++++
 2 files changed, 28 insertions(+), 0 deletions(-)

commit 4df829000734c304d2a75d72d11a0b1e9e04420a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 15 14:18:38 2009 +0100

    gabbletest.py: exec_test_deferred: properly handle the different state of the Connection at the end of the test

 tests/twisted/gabbletest.py |   13 +++++++++++--
 1 files changed, 11 insertions(+), 2 deletions(-)

commit a2f6dda927c3d1514bdc68c194dac54f4ed4af55
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 15 14:17:59 2009 +0100

    gabbletest.py: disconnect_conn: wait for the stream-closed and send our stream close in response

 tests/twisted/gabbletest.py |   14 +++++++++-----
 1 files changed, 9 insertions(+), 5 deletions(-)

commit 91f4c8fb5c97d1dbfd69550b811c2152717f7ffa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jul 13 12:28:36 2009 +0100

    gabbletest.py: fire an event when the stream is closed

 tests/twisted/gabbletest.py |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit a626dc7eaf8824b4188338fdcff54d152c03d7f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 29 16:45:21 2009 +0100

    execute tests with WOCKY_DEBUG=all

 tests/twisted/tools/exec-with-log.sh.in |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 5473ccd454741c45baa7c76726830311b8d16cff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jul 20 17:46:27 2009 +0100

    util.c: lm_message_node_get_name: wocky should handle that just fine

 src/util.c |    7 +------
 1 files changed, 1 insertions(+), 6 deletions(-)

commit ee51cb10bbfc7a4a77e5bb8d103a7a62078ec94a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jul 20 17:46:06 2009 +0100

    util.c: gabble_decode_jid use wocky_decode_jid directly

 src/util.c |  114 +----------------------------------------------------------
 1 files changed, 2 insertions(+), 112 deletions(-)

commit 67d430ed9dbaf4244fcebaf828edba2698e1691d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 2 17:59:09 2009 +0100

    util.c: properly re-implement lm_message_node_get_child_with_namespace using wocky API

 src/util.c |   35 +++++++++--------------------------
 1 files changed, 9 insertions(+), 26 deletions(-)

commit 262c529cad07e8dd44a1b01ec3c0cff6d4e5b203
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 2 17:57:31 2009 +0100

    util.c: lm_message_build: properly set the namespace on the node

 src/util.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit b88af92f2b8bc65f5402b9addba26c108e1871f7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 26 16:52:34 2009 +0100

    util.c: re-implement lm_message_node_unlink using Wocky API

 src/util.c |    7 +------
 1 files changed, 1 insertions(+), 6 deletions(-)

commit 505e5024511387e6e7ae0c4024399463766f2fbb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 26 16:41:48 2009 +0100

    util.c: implement lm_message_node_steal_children using Wocky API
    
    WockyXmppNode doesn't have a parent attribute so all we have to do is to
    set its children list.

 src/util.c |    8 --------
 1 files changed, 0 insertions(+), 8 deletions(-)

commit 905ade5d1757e81a2b5e960450fbf1411af906ee
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 26 16:37:14 2009 +0100

    util.c: lm_message_node_get_namespace: use wocky_xmpp_node_get_ns; wocky implements that properly

 src/util.c |   17 +----------------
 1 files changed, 1 insertions(+), 16 deletions(-)

commit b7ea10aadb47e986944e983cd9cfbe1cb55d9adf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 26 15:07:44 2009 +0100

    util.h: re-implement node iterator macros to use the Wocky API

 src/util.h |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit a46517ebeebc20ae489f809882296285089d37bd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 26 15:04:11 2009 +0100

    configure.ac: remove loudmouth

 configure.ac |    5 -----
 1 files changed, 0 insertions(+), 5 deletions(-)

commit fd208829820518dc389b56ebf9ca8460159bbf16
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 26 15:07:06 2009 +0100

    tests/twisted/Makefile.am: stop linking on loudmouth

 tests/twisted/Makefile.am |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit d01b818f417d52212495e8ec84f71edfe9e4fa7b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 26 15:06:31 2009 +0100

    tests/Makefile.am: remove loudmouth from CFLAGS and add the lib/ dir to the include path

 tests/Makefile.am |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 16abbcd5dc726499b02f47daf434f74eb0725488
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 26 15:05:19 2009 +0100

    src/Makefile.am: link on our internal loudmouth instead of the system one

 src/Makefile.am |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 9382f7d23baaa245cd4ac4e398722fc7c21fd7f4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 26 15:04:42 2009 +0100

    loudmouth.h: include all the files

 lib/loudmouth/loudmouth.h |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit 11d168f1e566c5df5c2dbd6563eddcb83838be99
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 26 15:03:32 2009 +0100

    add all the loudmouth files to the build system

 lib/loudmouth/Makefile.am |   13 ++++++++++++-
 1 files changed, 12 insertions(+), 1 deletions(-)

commit fef17476ac6036693ce2b3e4afd691704975a6de
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jul 20 17:31:43 2009 +0100

    add loudmouth/lm-message.[ch]

 lib/loudmouth/lm-message.c |   74 +++++++++++++++++++++++++++++++++++++
 lib/loudmouth/lm-message.h |   88 ++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 162 insertions(+), 0 deletions(-)

commit e5a7f43b47e588c6f8ba9536e3f7de0d12134bfa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jul 20 17:30:33 2009 +0100

    add loudmouth/lm-message-node.[ch]

 lib/loudmouth/lm-message-node.c |  172 +++++++++++++++++++++++++++++++++++++++
 lib/loudmouth/lm-message-node.h |   62 ++++++++++++++
 2 files changed, 234 insertions(+), 0 deletions(-)

commit 1c43c6bafee6734602783aefa0bd3c4c143bc19b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jul 20 17:24:41 2009 +0100

    add loudmouth/lm-message-handler.[ch]

 lib/loudmouth/lm-message-handler.c |   52 +++++++++++++++++++++++++++++
 lib/loudmouth/lm-message-handler.h |   64 ++++++++++++++++++++++++++++++++++++
 2 files changed, 116 insertions(+), 0 deletions(-)

commit 280fbc423dc20fa48445bd414196d63067cd1e97
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jul 20 17:23:12 2009 +0100

    add loudmouth/lm-connection.[ch]

 lib/loudmouth/lm-connection.c |  224 +++++++++++++++++++++++++++++++++++++++++
 lib/loudmouth/lm-connection.h |   64 ++++++++++++
 2 files changed, 288 insertions(+), 0 deletions(-)

commit 8013fb4ba160459c7160ce00265aba1fc6cb6dae
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 29 15:41:29 2009 +0100

    add lm-types.h

 lib/loudmouth/lm-types.h |   13 +++++++++++++
 1 files changed, 13 insertions(+), 0 deletions(-)

commit 90195d46978fb9880fe42c213a34f72b82db718a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 26 11:55:10 2009 +0100

    update gitignore

 .gitignore |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 20d081eef55c7c3f0c90ee7e49318c3a29a412f5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 26 11:54:28 2009 +0100

    build lib/loudmouth

 configure.ac    |    1 +
 lib/Makefile.am |    2 +-
 2 files changed, 2 insertions(+), 1 deletions(-)

commit bc65582f8a48caa8a4898e8f07782b308ae87c52
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 26 14:57:25 2009 +0100

    add skeleton of loudmouth-wocky compatibility layer

 lib/loudmouth/Makefile.am |   67 +++++++++++++++++++++++++++++++++++++++++++++
 lib/loudmouth/loudmouth.h |   28 +++++++++++++++++++
 2 files changed, 95 insertions(+), 0 deletions(-)

commit 59dfc4ba0b1c3deced589dfe13d525a256153597
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 26 11:49:24 2009 +0100

    build tests/ with wocky

 tests/twisted/Makefile.am |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 5f9674e48735a70950ce34ed552fb3c7b05d9da9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 26 11:47:10 2009 +0100

    build src/ with wocky

 src/Makefile.am |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 18e91ac8b3df76876fd4ca67eff407315dffef80
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 26 11:46:47 2009 +0100

    configure.ac: check for wocky

 configure.ac |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 413086186fabea322ed2b58423320db0753ae29a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 11 14:41:47 2009 +0100

    double-disco.py: 'available' is not a valid presence type

 tests/twisted/caps/double-disco.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit dc488aabde731517e4e5fa724620349067279afb
Merge: 7c821e2 b1cb310
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Sep 11 12:56:40 2009 +0100

    Merge branch 'telepathy-gabble-0.8' into master.
    
    Conflicts:
    	NEWS
    	configure.ac

commit b1cb310544bd6c8ae85be6599489e23fdf23d954
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Sep 11 12:40:43 2009 +0100

    Bump nano-version to 0.8.3.1

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4e98c2e40bb7465ea3b56accd9970d72f7e78768
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Sep 11 12:40:28 2009 +0100

    Include release date of 0.8.3 in NEWS

 NEWS |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 84c035b66b785fef23f90fd8f0d0eea5bbfa391d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Sep 10 19:30:50 2009 +0100

    NEWS for 0.8.3

 NEWS         |   18 ++++++++++++++++++
 configure.ac |    4 ++--
 2 files changed, 20 insertions(+), 2 deletions(-)

commit a3d2f93547d54a00ba29563dc3e4a8f91a2f16e2
Author: Thomas Klausner <wiz@danbala.tuwien.ac.at>
Date:   Mon Aug 24 21:15:27 2009 +0100

    fd.o #23348, fd.o #23349: fix compilation on NetBSD by including more headers
    
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 lib/gibber/gibber-fd-transport.h |    1 +
 lib/gibber/gibber-util.h         |    2 ++
 2 files changed, 3 insertions(+), 0 deletions(-)

commit a5ab6aaddd88337945b283a867c167bb01414e3f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Aug 27 17:00:19 2009 +0100

    Force date format for ChangeLog
    
    Fixes fd.o#21327 (or will do, when this is copied to telepathy-glib).

 tools/telepathy.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4f37642fe528c94417967dce3a1b2875915c744e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 25 20:12:11 2009 +0100

    Only write the changelog since 0.6.0 to ChangeLog, and don't use --stat
    
    The changelog.gz in our Debian packages is now bigger than Gabble itself!

 Makefile.am        |    1 +
 tools/telepathy.am |    3 +--
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 7744ca06a76b3e4e6462f82dcc6e8f95e44a18a8
Merge: a78fafc b336feb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Sep 10 18:12:24 2009 +0100

    Merge branch 'multiplayer-disco' into telepathy-gabble-0.8
    
    Reviewed-by: Dafydd Harries <dafydd.harries@collabora.co.uk>
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit b336feb1489226a91afd71eb7709f34d54912956
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Sep 10 16:10:41 2009 +0100

    Don't rely on a side-effect of g_assert()
    
    Simon pointed out that this is a bad idea: if it's optimized out, then
    resource will be uninitialized!

 src/presence-cache.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit a78fafcf9643c4ccf3cd679bdcbd06a74a9d255a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Sep 10 14:32:51 2009 +0100

    Bump raw-udp and ice-udp namespaces to :1
    
    We never supported the <trying/> element, whose removal prompted the
    namespace bump in raw-udp. The namespace bump in ice-udp is due to the
    id='' attribute (which we support) and to keep the numbers the same
    across Jingle specs.
    
    There's no particularly pressing reason to support the old version: we
    prefer to use gtalk-p2p if possible anyway, so we're
    backwards-compatible with older Gabbles.
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 src/namespaces.h    |    4 ++--
 tests/twisted/ns.py |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 7c821e26a263ac87acaa27fc844c8d3f8521aa10
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Sep 10 15:57:10 2009 +0100

    update NEWS re initial presence

 NEWS |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 59cd67fa2d351e204765f3e5845c9f3960c339f1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Sep 10 15:57:10 2009 +0100

    update NEWS re initial presence

 NEWS |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 205968f04dc6f237ecf5025dd3fe7d3d7fe25869
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Sep 10 15:48:31 2009 +0100

    Check caps for contacts who sign in twice.
    
    Gabble does get this right, but I thought it worth checking that it
    doesn't get confused.

 tests/twisted/caps/caps-cache.py |   74 +++++++++++++++++++++++++++----------
 1 files changed, 54 insertions(+), 20 deletions(-)

commit 7947ed60730d46810e768e6c7baa27f739e8259e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Sep 10 15:33:51 2009 +0100

    Break up caps-cache.py
    
    I'll re-use some of the parts to make the test slightly more interesting
    shortly.

 tests/twisted/caps/caps-cache.py |   30 ++++++++++++++++++++++--------
 1 files changed, 22 insertions(+), 8 deletions(-)

commit 1b6f89336d1d68b58c9fef0e204151cf348a0b6a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Sep 10 15:18:16 2009 +0100

    Reduce duplicated code in caps-cache.py
    
    _test_with_hash and _test_without_hash were pretty much exactly the same
    function, with minor tweaks. Plus, lots of arguments were passed around
    for no particularly good reason, since they were essentially constants.

 tests/twisted/caps/caps-cache.py |  142 +++++++++++++-------------------------
 1 files changed, 47 insertions(+), 95 deletions(-)

commit 683f8c3bf87be73c60479109f524763c6746849f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Sep 10 15:07:12 2009 +0100

    Stop reimplementing make_presence quite so frequently
    
    The tubes and FT tests still reimplement it, but when I tried to fix
    them they broke, and I ran away.

 tests/twisted/caps/caps-cache.py      |   28 ++++++---------
 tests/twisted/caps/hashed-caps.py     |   60 ++++++++++++++++----------------
 tests/twisted/caps/receive-jingle.py  |   20 ++++++-----
 tests/twisted/text/test-chat-state.py |    9 +++--
 4 files changed, 58 insertions(+), 59 deletions(-)

commit d3e516b13665695c658b61e1eb69e2dd741d93ee
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Sep 10 14:44:10 2009 +0100

    Only ask (full) jids about caps nodes once.
    
    When Google clients sign in, they broadcast a whole series of presences
    with supersets of the same caps bundles (in particular, the client
    version doesn't change between each one). Previously, Gabble would send
    it a new disco request for each one, which is obviously unnecessary.

 src/presence-cache.c               |   13 ++++++++
 tests/twisted/Makefile.am          |    1 +
 tests/twisted/caps/double-disco.py |   54 ++++++++++++++++++++++++++++++++++++
 3 files changed, 68 insertions(+), 0 deletions(-)

commit 12046d4c4e307d7f877f19f35f33ed380d80766c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Sep 10 13:50:11 2009 +0100

    Don't confuse disco waiters from different resources
    
    I think doing so is probably harmless, but it's better to be explicit

 src/presence-cache.c |   13 +++++++++----
 1 files changed, 9 insertions(+), 4 deletions(-)

commit ffa8c1afc4dabc2585a9f52b56e0b4fb296e674a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Sep 9 19:00:31 2009 +0100

    Make _process_caps_uri easier to follow
    
    The !value guard was harmless, but unnecessary: if we didn't have any
    waiters before this one, then the possible trust will be 0, and if we're
    in this branch, info->trust < CAPABILITY_BUNDLE_ENOUGH_TRUST, so we need
    to disco.

 src/presence-cache.c |   40 +++++++++++++++++++---------------------
 1 files changed, 19 insertions(+), 21 deletions(-)

commit 3dcdc0ba0b31665e1b97b72affd41823bdb0fd65
Merge: 332d4f1 487e8b2
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Sep 10 15:45:17 2009 +0100

    Merge branch 'initial-presence'
    
    Reviewed-by: Simon McVittie

commit 487e8b217d21c0a2517bf61870c02de22903f6e4
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Sep 3 00:50:23 2009 +0100

    add test for initial presence

 tests/twisted/Makefile.am                  |    1 +
 tests/twisted/presence/initial-presence.py |   34 ++++++++++++++++++++++++++++
 2 files changed, 35 insertions(+), 0 deletions(-)

commit 2ccbfce2629f2cb2951442a0dce87c183e1f326d
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 2 20:21:14 2009 +0100

    support setting presence before going online

 src/conn-presence.c |   20 ++++++++++++++------
 src/connection.c    |   30 +++++++++++++++++++++++-------
 2 files changed, 37 insertions(+), 13 deletions(-)

commit ae10d96c5ba7b35b4a7d9bc7c927542cab7d6c25
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 2 20:06:04 2009 +0100

    servicetest.py: add assertNotEquals()

 tests/twisted/servicetest.py |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 260386a3ca82d4c3d4a82ff72b2927b11410ddd5
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 2 19:54:08 2009 +0100

    set_own_status_cb(): factor out duplicated code

 src/conn-presence.c |   26 +++++++++-----------------
 1 files changed, 9 insertions(+), 17 deletions(-)

commit e71a42a0cbd859a416a33f366c3072dc08988b35
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 2 18:35:10 2009 +0100

    set_own_status_cb(): remove redundant code path

 src/conn-presence.c |    5 -----
 1 files changed, 0 insertions(+), 5 deletions(-)

commit 651d79f1dba75d6033ea53b33d6e9146fec8b431
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 2 18:31:44 2009 +0100

    set_own_status_cb(): don't return without freeing resource

 src/conn-presence.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit ca3ce8f2673af4e4bfcef060815f882de03e0a59
Merge: 70162a4 459faa6
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Sep 10 15:41:34 2009 +0100

    Merge branch 'initial-presence' into telepathy-gabble-0.8
    
    Reviewed-by: Simon McVittie

commit 459faa66df6ce206963ff3ce404af0b5ef384dc2
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Sep 3 00:50:23 2009 +0100

    add test for initial presence

 tests/twisted/Makefile.am                  |    1 +
 tests/twisted/presence/initial-presence.py |   34 ++++++++++++++++++++++++++++
 2 files changed, 35 insertions(+), 0 deletions(-)

commit 39c1d25b3f34d9ba860f504511abd1173759bf69
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 2 20:21:14 2009 +0100

    support setting presence before going online

 src/conn-presence.c |   20 ++++++++++++++------
 src/connection.c    |   30 +++++++++++++++++++++++-------
 2 files changed, 37 insertions(+), 13 deletions(-)

commit e12bed3cd4118df7bb049f73c3c2e69c53300919
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 2 20:06:04 2009 +0100

    servicetest.py: add assertNotEquals()

 tests/twisted/servicetest.py |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 18b92d2db730247f7213568f5212e5c81183405e
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 2 19:54:08 2009 +0100

    set_own_status_cb(): factor out duplicated code

 src/conn-presence.c |   26 +++++++++-----------------
 1 files changed, 9 insertions(+), 17 deletions(-)

commit dd074dd14a5e487a3b4b0402810f5049078104ab
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 2 18:35:10 2009 +0100

    set_own_status_cb(): remove redundant code path

 src/conn-presence.c |    5 -----
 1 files changed, 0 insertions(+), 5 deletions(-)

commit 688c12ecd0182de82909dea745a428cdb55e9aa1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 2 18:31:44 2009 +0100

    set_own_status_cb(): don't return without freeing resource

 src/conn-presence.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 332d4f1aabcc7aa1981a41ce9a9cbd8f03791b8e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 10 14:20:55 2009 +0100

    NEWS for fd.o#22968

 NEWS |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 0d6e52520e3b17776e51665ca811997a987306bd
Merge: 9d1530a e562e79
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 10 14:19:33 2009 +0100

    Merge branch 'credentials'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 9d1530aa4640a817a8acf760f56b5fa14adc304f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 10 13:11:52 2009 +0100

    Revert "document fd.o #23678 fix in NEWS"
    
    This change is already in NEWS a part of the 0.8.3 changes.
    This reverts commit 1258c1542e7e6688aecdfc470df8da0a9d6137d4.

 NEWS |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit 1258c1542e7e6688aecdfc470df8da0a9d6137d4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 10 13:09:33 2009 +0100

    document fd.o #23678 fix in NEWS

 NEWS |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 81a5776de0dba65f713ca2feaf5dd5e64de4d1c4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 10 12:58:52 2009 +0100

    Don't mention gabble_decode_jid fixes as new in 0.9.0 - they were also in 0.8.2

 NEWS |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 12fb8c5aea176976916e38760887e1a0b97a3f7f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 10 12:58:25 2009 +0100

    Flatten ContactCapabilities NEWS entry

 NEWS |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)

commit e90f9b1b37db421e40be996969ffa9e61c8f2b25
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 10 12:51:50 2009 +0100

    NEWS

 NEWS |   26 +++++++++++++++++++++++++-
 1 files changed, 25 insertions(+), 1 deletions(-)

commit 8bdaf5d4934ee89a07a620bc141427540952155d
Merge: 366266f 70162a4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 10 12:41:48 2009 +0100

    Merge branch 'telepathy-gabble-0.8'

commit 70162a45e351f206098e75534cedbb0b21d6eb43
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 10 12:41:40 2009 +0100

    Update NEWS for 0.8.3

 NEWS |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 366266f447ecaf9aea53ecf5bdb18703d97961ac
Merge: d322a3f c4f64f2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 10 12:34:30 2009 +0100

    Merge branch 'caps-draft2'
    
    Reviewed-by: Alban Crequy <alban.crequy@collabora.co.uk>
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
    Conflicts:
    	src/capabilities.c

commit d322a3f351603ee41a58429705058b33c6e17f4f
Merge: 6cc917d 3e66cc6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 10 12:33:09 2009 +0100

    Merge branch 'telepathy-gabble-0.8'
    
    Conflicts:
    	NEWS

commit 3e66cc6aff1672215b99d48f14e4c77f153da959
Merge: fdbda83 6ad62cc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 10 12:31:30 2009 +0100

    Merge branch 'alban-avatar-bug23684' into telepathy-gabble-0.8
    
    (Trivial rebase from master onto 0.8 -smcv)
    
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 6ad62cce60efe4f50af551922d9c185c07459b7f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Sep 9 19:44:00 2009 +0100

    Fix race in tests/twisted/vcard/test-avatar-multiple-resources.py, as per smcv's review

 .../vcard/test-avatar-multiple-resources.py        |   13 +++++++------
 1 files changed, 7 insertions(+), 6 deletions(-)

commit a0fd95a6a34192557128ae623f9c691c17a32764
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Sep 9 19:31:05 2009 +0100

    Fix style, as per smcv's review
    
    Do not use constructs like 'priv->conn->parent.self_handle'

 src/presence-cache.c |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

commit cebbe6c74a4b15cb9d4a4021ba73ce0f3c1efb82
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Sep 9 19:27:05 2009 +0100

    Fix coding style, as per smcv's review

 src/presence-cache.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 1f4753caeef445919c96f963429b3c966e182a73
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Sep 3 18:59:24 2009 +0100

    tests/twisted/vcard/test-avatar-multiple-resources.py: New regression test for Bug fd.o #23684

 tests/twisted/Makefile.am                          |    1 +
 .../vcard/test-avatar-multiple-resources.py        |   68 ++++++++++++++++++++
 2 files changed, 69 insertions(+), 0 deletions(-)

commit 207619bfa880d9bc97666821296a6a470c006d30
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Sep 4 14:58:20 2009 +0100

    src/presence-cache.c: Fix a possible infinite ping-ping on presence stanza with the server

 src/presence-cache.c |   13 +++++++++++++
 1 files changed, 13 insertions(+), 0 deletions(-)

commit bea136c4ecdeb7d8bc34450324ca3eb857bd6a6a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Sep 4 13:03:42 2009 +0100

    src/presence-cache.c: Fix avatar conflict with several resources (Bug fd.o #23684)

 src/presence-cache.c |   38 ++++++++++++++++++++++++++------------
 1 files changed, 26 insertions(+), 12 deletions(-)

commit e562e793a6d939d30b53781fff46733b09608a1e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 10 12:11:42 2009 +0100

    Stream tube tests: don't assume that stream tubes always support credentials-passing
    
    That assumption will now fail on non-Linux.

 tests/twisted/constants.py                      |    1 +
 tests/twisted/tubes/accept-muc-stream-tube.py   |    4 ++++
 tests/twisted/tubes/test-get-available-tubes.py |   12 ++++++++++--
 tests/twisted/tubes/tubetestutil.py             |    5 ++++-
 4 files changed, 19 insertions(+), 3 deletions(-)

commit 987ee259183347f8f291305e66ee916f773602f5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 9 11:57:51 2009 +0100

    document fd.o #23678 fix in NEWS

 NEWS |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 35621c46ef9ddd5acee190aeeb2c98b5f24fd866
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 9 11:40:01 2009 +0100

    offer-muc-dbus-tube: rejoin a room containing a previously created tube

 tests/twisted/tubes/offer-muc-dbus-tube.py |   52 +++++++++++++++++++++++++++-
 1 files changed, 51 insertions(+), 1 deletions(-)

commit f82198719726acae82256afbebff9479e42705bb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 9 11:39:39 2009 +0100

    offer-muc-dbus-tube: factor out bob_in_tube()

 tests/twisted/tubes/offer-muc-dbus-tube.py |   39 +++++++++++++++-------------
 1 files changed, 21 insertions(+), 18 deletions(-)

commit 01300d8cda82bdeeb3b5001dbba5aae7a43d3813
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 9 11:32:11 2009 +0100

    offer-muc-dbus-tube.py: fix a typo

 tests/twisted/tubes/offer-muc-dbus-tube.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c46dfb1e06652348f42a522b62a333269b5aaf5c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 9 11:28:08 2009 +0100

    tube-dbus: check if the tube has been requested to determine if we need to offer it
    
    If we rejoin a muc containing old D-Bus tubes we previously created they
    now have the "Local Pending" state as expected instead of "Not Offered".
    This fix b.fd.o #23678 as such tubes are now listed in
    Tubes.ListTubes().

 src/tube-dbus.c |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit 1e5f0e67394e75e715637741d3515113199538fd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 9 11:25:47 2009 +0100

    tube-dbus: explicitely set the value of the Requested property
    
    We can't assume that a D-Bus tube channel has been requested if we
    initiated it. If we rejoin a muc containing old tube that we created
    previously, we are still the initiator of those tubes but we didn't
    request them.

 src/tube-dbus.c     |   13 +++++++++----
 src/tube-dbus.h     |    3 ++-
 src/tubes-channel.c |   19 +++++++++++--------
 3 files changed, 22 insertions(+), 13 deletions(-)

commit 68a0bf5364471f486f1a977c5cd7ea2977d7c99b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 8 15:27:58 2009 +0100

    check that ListTubes() return tubes created using the new API

 tests/twisted/tubes/offer-muc-dbus-tube.py |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 6cc917dea88ed1121e6cc9064a316b680639e292
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 9 11:40:01 2009 +0100

    offer-muc-dbus-tube: rejoin a room containing a previously created tube

 tests/twisted/tubes/offer-muc-dbus-tube.py |   52 +++++++++++++++++++++++++++-
 1 files changed, 51 insertions(+), 1 deletions(-)

commit 285a9c5faf8c997d8db2853e7122e9df9c63295f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 9 11:39:39 2009 +0100

    offer-muc-dbus-tube: factor out bob_in_tube()

 tests/twisted/tubes/offer-muc-dbus-tube.py |   39 +++++++++++++++-------------
 1 files changed, 21 insertions(+), 18 deletions(-)

commit c595acf3f6ac75f6e79ce7b66b1fd100ee29d7a1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 9 11:32:11 2009 +0100

    offer-muc-dbus-tube.py: fix a typo

 tests/twisted/tubes/offer-muc-dbus-tube.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f3ea6e719bc8f8e45b8408a61f8adf8f8a048bce
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 9 11:28:08 2009 +0100

    tube-dbus: check if the tube has been requested to determine if we need to offer it
    
    If we rejoin a muc containing old D-Bus tubes we previously created they
    now have the "Local Pending" state as expected instead of "Not Offered".
    This fix b.fd.o #23678 as such tubes are now listed in
    Tubes.ListTubes().

 src/tube-dbus.c |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit cbda956133472df0b87336c2b248cf771cc828c4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 9 11:25:47 2009 +0100

    tube-dbus: explicitely set the value of the Requested property
    
    We can't assume that a D-Bus tube channel has been requested if we
    initiated it. If we rejoin a muc containing old tube that we created
    previously, we are still the initiator of those tubes but we didn't
    request them.

 src/tube-dbus.c     |   13 +++++++++----
 src/tube-dbus.h     |    3 ++-
 src/tubes-channel.c |   19 +++++++++++--------
 3 files changed, 22 insertions(+), 13 deletions(-)

commit dc652f1e3692da8bffb247b1aca02c1baceb8dbf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 8 15:27:58 2009 +0100

    check that ListTubes() return tubes created using the new API

 tests/twisted/tubes/offer-muc-dbus-tube.py |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 4d41b68fbde8caae4d37781da6bd9b445d200f7f
Merge: fdbda83 25d722e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Sep 8 15:07:14 2009 +0100

    Merge commit 'smcv/08-video-v1' into telepathy-gabble-0.8
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit d22fef5174ca8e65cece07318e4a6e3d5fa78bd0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 8 13:20:10 2009 +0100

    set-set-disconnect.py: fix race when setting the avatar
    
    Test was relying on the ordering of the vCard IQ reply and the D-Bus
    method call. Ensure that the first vCard reply has been received by
    Gabble and then wait for the second vCard query once we have
    called the SetAvatar method.

 tests/twisted/vcard/set-set-disconnect.py |   11 ++++-------
 1 files changed, 4 insertions(+), 7 deletions(-)

commit c4f64f29a94da1f05dd9102bcb36efdc01809c20
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 8 12:32:55 2009 +0100

    caps/advertise-draft2.py: regression test for the previous patch
    
    Suggested by albanc's review.

 tests/twisted/caps/advertise-draft2.py |   28 ++++++++++++++++++++++++++++
 1 files changed, 28 insertions(+), 0 deletions(-)

commit 14dd8f70c5b502b4edf40d18b57d7624c93f0ca5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 8 12:32:29 2009 +0100

    gabble_media_factory_add_caps: don't say we support Jingle transports unless we support a Jingle content-type too

 src/media-factory.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 7da01abc44f34d03440b0cbea732cb18db2222fd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 8 12:20:23 2009 +0100

    _gabble_media_factory_typeflags_to_caps: explain that the client name doesn't really matter here
    
    Prompted by albanc's review

 src/media-factory.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 499b358883d6f4bf7af4f43ec8a09b11088e92f3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 8 12:20:01 2009 +0100

    GabbleConnection: _emit_capabilities_changed: clarify comments
    
    As per albanc's review

 src/connection.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 6824c166c3fd9d17511b1d1392e43b9999247b1f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 8 12:19:46 2009 +0100

    gabble_connection_refresh_capabilities: fix debug message
    
    As per albanc's review

 src/connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 841a7e3bdb1e96bfbc6dd1fafb88cb463d5f5a82
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 8 12:19:31 2009 +0100

    capabilities: feature_handles: comment that the TpHandleRepoIface is just a string pool
    
    As per albanc's review

 src/capabilities.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 945de8299b30b7db63af49a7092aa59d457c6c57
Merge: 54639b6 6878b1a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 8 12:11:01 2009 +0100

    Merge branch 'caps-sanity'
    
    Reviewed-by: Alban Crequy <alban.crequy@collabora.co.uk>
    Conflicts:
    	src/private-tubes-factory.c

commit 2a353fe8834efce6ff67796c455fa0cc079dd84d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Sep 7 19:13:22 2009 +0100

    GabbleConnectionPrivate: explain what all the capabilities are, as per albanc's review

 src/connection.c |   13 +++++++++++--
 1 files changed, 11 insertions(+), 2 deletions(-)

commit 6878b1a79ff834e9c4fb21f9bda297d2e6417fa5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Sep 7 16:24:37 2009 +0100

    gabble_file_transfer_channel_offer_file: reference bug in FIXME comment
    
    As per albanc's review

 src/ft-channel.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 0dc2d17ad414cbb8d2ad52b3bab5e504d66d4d9a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Sep 7 16:24:16 2009 +0100

    Correct sense of checks for non-NULL cap set, as per albanc's review

 src/presence.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 0ecc72e6f48201a5098bbddec3f65a79f8d275fb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Sep 7 16:23:49 2009 +0100

    Make feature_handles_refcount static as per albanc's review

 src/capabilities.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9db78ad7f1ed2131876671cb0c575aaf690a990e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 4 16:00:15 2009 +0100

    caps/tube-caps.py: update to ContactCapabilities draft 2

 tests/twisted/caps/tube-caps.py |    8 +++++---
 1 files changed, 5 insertions(+), 3 deletions(-)

commit 54639b6d86b3b09dc964a899c8b082a19539fb66
Merge: 76d53ff fdbda83
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Sep 4 13:26:55 2009 +0100

    Merge telepathy-gabble-0.8 to master

commit fdbda8379dc76c649e2bb0fa2d856a24b32d6bf7
Author: George Goldberg <grundleborg@googlemail.com>
Date:   Fri Sep 4 13:02:15 2009 +0100

    Timeout should be 20s, not 20000s.
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

 src/disco.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 76d53ff6c31b4648bd7aba658ac93e282a06ce24
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 3 10:55:41 2009 +0100

    add PUBSUB_EVENT to ns.py

 tests/twisted/ns.py                   |    1 +
 tests/twisted/olpc/util.py            |    2 +-
 tests/twisted/pubsub.py               |   14 +++++++-------
 tests/twisted/test-location.py        |    2 +-
 tests/twisted/vcard/test-alias-pep.py |    2 +-
 5 files changed, 11 insertions(+), 10 deletions(-)

commit 8c7e4fe367969ac3d5c729ddb102fb068bd70d9b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 3 10:40:56 2009 +0100

    add pubsub.py testing bugged pubsub notification messages
    
    The goal is to increase pubsub.c test coverage before refactoring it.

 tests/twisted/Makefile.am |    3 +-
 tests/twisted/pubsub.py   |   88 +++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 90 insertions(+), 1 deletions(-)

commit 9e33e0786c0f91a44d007372dfe9dfd7e4abb443
Merge: 1fe6ff7 1ef0491
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Sep 3 19:15:49 2009 +0100

    Merge telepathy-gabble-0.8.2 to master
    
    Conflicts:
    	NEWS
    	configure.ac

commit 1efd1ff6644c42ad792146859cf930fb6c8f42b4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Sep 3 19:14:58 2009 +0100

    Bump nano-version to 0.8.2.1

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 1ef0491531bd3dc93959cce57541de0450da5ab1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Sep 3 19:03:03 2009 +0100

    NEWS for 0.8.2

 NEWS         |   24 ++++++++++++++++++++++++
 configure.ac |    2 +-
 2 files changed, 25 insertions(+), 1 deletions(-)

commit 4148fea49bcc05853364cb6f690a4c8b6dc5866b
Merge: 9ce93fa 16fb790
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Sep 3 18:03:02 2009 +0100

    Merge branch 'fix-google-video' into telepathy-gabble-0.8
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit 1fe6ff77b76fcf361937517131658e1e7178c59e
Merge: 8d8a32b d361eba
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Sep 3 00:47:46 2009 +0100

    Merge branch 'jids'
    
    Reviewed-by: Will Thompson

commit d361eba93adaeaf51672ab3bf3dc9c8155de3953
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 2 22:46:52 2009 +0100

    make gabble_encode_jid() warn and return NULL if domain is NULL

 src/util.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit b48ca16964bf2df27f5c3e0ac5bf0cba345260d1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Aug 26 17:48:36 2009 +0100

    add gabble_encode_jid() and replace ad-hoc string concatentation with calls to it

 src/connection.c |   10 ++++------
 src/util.c       |   26 ++++++++++++++++++++++++--
 src/util.h       |    2 ++
 3 files changed, 30 insertions(+), 8 deletions(-)

commit 729754a35a0dd5b70ef65f09387d6ed636a5a390
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Aug 26 17:47:28 2009 +0100

    improve comments and error messages

 src/util.c |   14 +++++++++++---
 1 files changed, 11 insertions(+), 3 deletions(-)

commit 8650784fa4f25ef14483a3e59b13f2173c721e97
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 25 20:19:28 2009 +0100

    gabble_jid_decode(): fix the case where there is a / before an @

 src/util.c              |   39 +++++++++++++++++++++++----------------
 tests/test-jid-decode.c |    1 +
 2 files changed, 24 insertions(+), 16 deletions(-)

commit 6dea8e5b7910e4984544d5c6e218fbdc0612182f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 25 19:30:50 2009 +0100

    gabble_decode_jid(): check for invalid characters in node and domain

 src/util.c              |   34 +++++++++++++++++++++++++++++++++-
 tests/test-jid-decode.c |    3 +++
 2 files changed, 36 insertions(+), 1 deletions(-)

commit c824c533686286a9e7e281dc4a4516d985230804
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 25 19:12:55 2009 +0100

    tube-dbus.c: assert that resource part of our own JID is not NULL

 src/tube-dbus.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit d8421403ede9fa5bcd92dc303acf8f970fa1f44f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 25 19:11:58 2009 +0100

    style tweaks

 src/connection.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 04ae5eb05c64f3ae165e972bab5631c9e882733f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 25 19:11:11 2009 +0100

    remove checks made redundant by gabble_decode_jid() changes
    
    In particular, callers no longer need to check whether returned node and
    resource strings are empty.

 src/bytestream-factory.c |    4 ++--
 src/connection.c         |    5 ++---
 src/util.c               |    5 ++---
 3 files changed, 6 insertions(+), 8 deletions(-)

commit a448bfc27e0259b772a6cf5b7efc048159cf63b7
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 25 19:10:17 2009 +0100

    gabble_decode_jid(): update documentation

 src/util.c |   14 +++++---------
 1 files changed, 5 insertions(+), 9 deletions(-)

commit 0e7d022e39da67a225efe8d56e93c3f3b234e244
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 25 18:42:13 2009 +0100

    test-jid-decode: add test for case folding

 tests/test-jid-decode.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 09603c44406a7b849cf3df18b4b0182f0e409951
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 25 18:35:37 2009 +0100

    test-jid-decode: factor out common code

 tests/test-jid-decode.c |   92 +++++++++--------------------------------------
 1 files changed, 17 insertions(+), 75 deletions(-)

commit d9ae09c51988ae712dca092e33f35377e9a89703
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 25 18:34:04 2009 +0100

    test-jid-decode: rename server -> domain for consistency

 tests/test-jid-decode.c |   48 +++++++++++++++++++++++-----------------------
 1 files changed, 24 insertions(+), 24 deletions(-)

commit e1bcc8d6fe9148f7c1fb119b678eb59f1a49d41a
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 25 18:05:25 2009 +0100

    gabble_decode_jid(): return FALSE if JID components are wrongly empty
    
    The domain must always be non-empty. The node must not be empty if there is an
    '@', and the resource must not be empty if there is a '/'.

 src/util.c              |   13 ++++++++++++-
 tests/test-jid-decode.c |   38 ++++++++++++++++++++++++++++++++++++--
 2 files changed, 48 insertions(+), 3 deletions(-)

commit 540a62866a040013ba7165fb9d6fd6e49eba9aab
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 25 17:42:39 2009 +0100

    make gabble_decode_jid() return a boolean
    
    For now, it always returns TRUE. Also, change all callers to check the result.

 src/bytestream-factory.c                           |   27 ++++++++++++++++++-
 src/conn-aliasing.c                                |    4 +-
 src/connection.c                                   |    9 +++---
 src/muc-channel.c                                  |    2 +-
 src/tube-dbus.c                                    |    7 +++--
 src/util.c                                         |    8 +++---
 src/util.h                                         |    4 +-
 tests/test-jid-decode.c                            |    8 +++---
 .../twisted/file-transfer/file_transfer_helper.py  |    5 ++-
 9 files changed, 49 insertions(+), 25 deletions(-)

commit 1d6d8200a2cc15a6024de323724673f66caecd42
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 25 16:27:59 2009 +0100

    style tweaks

 src/bytestream-factory.c |   14 +++++++-------
 src/tube-dbus.c          |    3 +--
 2 files changed, 8 insertions(+), 9 deletions(-)

commit 43bde95f86f969ad61eaadb11f071577a5a9d9c3
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 25 16:16:52 2009 +0100

    fix indentation

 src/bytestream-factory.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit b798db0dcf76ec979c2b5638a6486c227cbb89b1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Aug 24 18:39:53 2009 +0100

    remove unused return values from JID decode test

 tests/test-jid-decode.c |   20 ++++++++------------
 1 files changed, 8 insertions(+), 12 deletions(-)

commit 663155de1a57d94e192512b6413612bf54c85b8c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Aug 24 17:42:12 2009 +0100

    gabble_decode_jid(): set out parameters together

 src/util.c |   22 +++++++++++-----------
 1 files changed, 11 insertions(+), 11 deletions(-)

commit a18330e31965e5e1d56839a26614618bd7c6408b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Aug 24 16:06:05 2009 +0100

    gabble_decode_jid(): make variable naming and docs more consistent with RFC

 src/util.c |   71 ++++++++++++++++++++++++++++++-----------------------------
 1 files changed, 36 insertions(+), 35 deletions(-)

commit 9ce93faa9ca821fc03cbff5dc8e196251a6d1e3a
Merge: 3f2c10b a78f562
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 2 22:51:04 2009 +0100

    Merge branch 'jids' into telepathy-gabble-0.8
    
    Reviewed-by: Will Thompson

commit a78f562fa51bdbc7aeed523fd80e46f789fd2f37
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 2 22:46:52 2009 +0100

    make gabble_encode_jid() warn and return NULL if domain is NULL

 src/util.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit e6c7993df6000a891c3daf5ef8292ab5210a52ab
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Aug 26 17:48:36 2009 +0100

    add gabble_encode_jid() and replace ad-hoc string concatentation with calls to it

 src/connection.c |   10 ++++------
 src/util.c       |   26 ++++++++++++++++++++++++--
 src/util.h       |    2 ++
 3 files changed, 30 insertions(+), 8 deletions(-)

commit 6e540f316c13ceca54bd35cd67966a60d7e8125e
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Aug 26 17:47:28 2009 +0100

    improve comments and error messages

 src/util.c |   14 +++++++++++---
 1 files changed, 11 insertions(+), 3 deletions(-)

commit b0e7f813e796ebc4ce09d440490c5855271bc920
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 25 20:19:28 2009 +0100

    gabble_jid_decode(): fix the case where there is a / before an @

 src/util.c              |   39 +++++++++++++++++++++++----------------
 tests/test-jid-decode.c |    1 +
 2 files changed, 24 insertions(+), 16 deletions(-)

commit e6acd5ccff3185275b1395228d0918131a7a88dd
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 25 19:30:50 2009 +0100

    gabble_decode_jid(): check for invalid characters in node and domain

 src/util.c              |   34 +++++++++++++++++++++++++++++++++-
 tests/test-jid-decode.c |    3 +++
 2 files changed, 36 insertions(+), 1 deletions(-)

commit d7ab2037bf11d54817aab05c104178ab4438c24b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 25 19:12:55 2009 +0100

    tube-dbus.c: assert that resource part of our own JID is not NULL

 src/tube-dbus.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit ba2703b26ea53440713e738d8430a147afe5be2f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 25 19:11:58 2009 +0100

    style tweaks

 src/connection.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit d7bba4ccf868471d6cef91d9f31e4e95a0758325
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 25 19:11:11 2009 +0100

    remove checks made redundant by gabble_decode_jid() changes
    
    In particular, callers no longer need to check whether returned node and
    resource strings are empty.

 src/bytestream-factory.c |    4 ++--
 src/connection.c         |    5 ++---
 src/util.c               |    5 ++---
 3 files changed, 6 insertions(+), 8 deletions(-)

commit 9f759bb06169a83fee3085b48d1631873b43c673
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 25 19:10:17 2009 +0100

    gabble_decode_jid(): update documentation

 src/util.c |   14 +++++---------
 1 files changed, 5 insertions(+), 9 deletions(-)

commit 39cb819dca09c94d454951690113bb5cfec74fd5
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 25 18:42:13 2009 +0100

    test-jid-decode: add test for case folding

 tests/test-jid-decode.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 8fb4b3c496e1b0c73d96d3e6aea115630819cb83
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 25 18:35:37 2009 +0100

    test-jid-decode: factor out common code

 tests/test-jid-decode.c |   92 +++++++++--------------------------------------
 1 files changed, 17 insertions(+), 75 deletions(-)

commit a90bd4da5ba0b959eb6feb31cca096218fa93dc5
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 25 18:34:04 2009 +0100

    test-jid-decode: rename server -> domain for consistency

 tests/test-jid-decode.c |   48 +++++++++++++++++++++++-----------------------
 1 files changed, 24 insertions(+), 24 deletions(-)

commit 0c1836c1d1e4a301b9d6992969a6433b3d641093
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 25 18:05:25 2009 +0100

    gabble_decode_jid(): return FALSE if JID components are wrongly empty
    
    The domain must always be non-empty. The node must not be empty if there is an
    '@', and the resource must not be empty if there is a '/'.

 src/util.c              |   13 ++++++++++++-
 tests/test-jid-decode.c |   38 ++++++++++++++++++++++++++++++++++++--
 2 files changed, 48 insertions(+), 3 deletions(-)

commit ff79043aea2601f3f23a9440122d01817d0f1ea6
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 25 17:42:39 2009 +0100

    make gabble_decode_jid() return a boolean
    
    For now, it always returns TRUE. Also, change all callers to check the result.

 src/bytestream-factory.c                           |   27 ++++++++++++++++++-
 src/conn-aliasing.c                                |    4 +-
 src/connection.c                                   |    9 +++---
 src/muc-channel.c                                  |    2 +-
 src/tube-dbus.c                                    |    7 +++--
 src/util.c                                         |    8 +++---
 src/util.h                                         |    4 +-
 tests/test-jid-decode.c                            |    8 +++---
 .../twisted/file-transfer/file_transfer_helper.py  |    5 ++-
 9 files changed, 49 insertions(+), 25 deletions(-)

commit e694b86ab54fd37404c31c3513b4fe32c53fbb7c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 25 16:27:59 2009 +0100

    style tweaks

 src/bytestream-factory.c |   14 +++++++-------
 src/tube-dbus.c          |    3 +--
 2 files changed, 8 insertions(+), 9 deletions(-)

commit 783747e3387d2b6f9861673c69f081999965295e
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 25 16:16:52 2009 +0100

    fix indentation

 src/bytestream-factory.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit 7f6cbd62452712b7bc89afeab80d035fe5f2b2d3
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Aug 24 18:39:53 2009 +0100

    remove unused return values from JID decode test

 tests/test-jid-decode.c |   20 ++++++++------------
 1 files changed, 8 insertions(+), 12 deletions(-)

commit ea3a1d4bfa39b943f35457695edb041823978b64
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Aug 24 17:42:12 2009 +0100

    gabble_decode_jid(): set out parameters together

 src/util.c |   22 +++++++++++-----------
 1 files changed, 11 insertions(+), 11 deletions(-)

commit 48b33362ec02ab7cb71b9f3e03473814e9a1a793
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Aug 24 16:06:05 2009 +0100

    gabble_decode_jid(): make variable naming and docs more consistent with RFC

 src/util.c |   71 ++++++++++++++++++++++++++++++-----------------------------
 1 files changed, 36 insertions(+), 35 deletions(-)

commit 16fb7904c242f042e7915ed327596fb1db11786e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Sep 2 12:36:00 2009 +0100

    Parse audio *and* video for accepted Google calls

 src/jingle-session.c |   15 ++++++++++++---
 1 files changed, 12 insertions(+), 3 deletions(-)

commit 2d4d8adc1f93d4bc3e4f5ec444ac168ae9e0aa41
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Sep 2 18:51:27 2009 +0100

    Test for SetRemoteCodecs etc. for all streams
    
    This catches a bug in our Google Talk interop, where we ignored either
    the audio or video codecs in their session accept.

 tests/twisted/jingle/initial-audio-video.py |   14 ++++++++++++++
 1 files changed, 14 insertions(+), 0 deletions(-)

commit 86685b9e690037b2c47cd2dc4054e3d06b36a2b3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Sep 2 18:12:35 2009 +0100

    Reduce content-naming assumptions in Jingle tests
    
    Now that we extract the stream names from session-initiate, let's fill them
    in in incoming_call() too, and then generate_contents() can use those
    rather than hard-coding stream1 and stream2.

 tests/twisted/jingle/hold-av.py                    |    2 +-
 tests/twisted/jingle/jingletest2.py                |   53 ++++++++++---------
 .../twisted/jingle/test-content-adding-removal.py  |    2 +-
 tests/twisted/jingle/test-content-complex.py       |    3 +-
 tests/twisted/jingle/test-description-info.py      |   10 +++-
 5 files changed, 38 insertions(+), 32 deletions(-)

commit e7aa0f714815ccabef2c67335fbbdf6f6795768d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Sep 2 17:26:03 2009 +0100

    Tests: extract stream name(s) from session-initiate
    
    This also adds some simple tests about the session-initiate that Gabble
    sends on old-school and current Jingle (but not on GTalk4).

 tests/twisted/jingle/jingletest2.py |   83 ++++++++++++++++++++++++++++++----
 1 files changed, 73 insertions(+), 10 deletions(-)

commit 8d8a32bb42f511ee81f524f47cec3c34ecf0a439
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Sep 2 12:59:42 2009 +0100

    Add Contact{Info,Search} specs to EXTRA_DIST

 extensions/Makefile.am |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 79d5e018d0bb9e7c2666bfb95493c3265b9da9a7
Merge: 30d38ad b9716f0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Sep 2 12:39:33 2009 +0100

    Merge branch 'changelogs'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 3f2c10b1430bfebff387ccad80a36649ce9819ae
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Aug 28 21:14:10 2009 +0100

    Fix a crash when advertising tube caps without Service{,Name}

 src/private-tubes-factory.c |   22 ++++++++++++++--------
 1 files changed, 14 insertions(+), 8 deletions(-)

commit 30d38ad304fb71325131f0dd202f908bd30dd9e3
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri Aug 28 21:14:10 2009 +0100

    Fix a crash when advertising tube caps without Service{,Name}

 src/private-tubes-factory.c |   22 ++++++++++++++--------
 1 files changed, 14 insertions(+), 8 deletions(-)

commit 519ebcd216d9f42cd8b099c45070912617df55eb
Merge: 4ebe748 c820241
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Aug 28 19:44:14 2009 +0100

    Merge branch 'vcard' into telepathy-gabble-0.8
    
    Reviewed-by: Will Thompson

commit c820241718eda7703520a3761ce21af5832d42ae
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Aug 28 19:02:04 2009 +0100

    sync_dbus(): ensure that the proxy has a unique name
    
    Otherwise we might service-launch the CM after it's died, which we don't want.

 tests/twisted/servicetest.py |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit c4905aafd56e05ca91235675c8da398932bb6143
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Aug 28 18:10:54 2009 +0100

    vcard-manager.c: don't crash when a set fails and there are edits pending

 src/vcard-manager.c                       |   17 ++++++++++++-
 tests/twisted/Makefile.am                 |    1 +
 tests/twisted/vcard/set-set-disconnect.py |   34 +++++++++++++++++++++++++++++
 3 files changed, 50 insertions(+), 2 deletions(-)

commit 96e44cc5c8623a0ca113c011af01186911a8007b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Aug 28 18:09:12 2009 +0100

    make sync_dbus() call Ping() instead of InspectHandles()
    
    This means that the CM can be synced with after the connection has been
    destroyed.

 tests/twisted/servicetest.py |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit 70472f4873cd2223fbee63faa793ae6e03faa0c7
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Aug 28 18:05:15 2009 +0100

    pass bus, not stream, into sync_dbus() call

 tests/twisted/muc/name-conflict.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b9716f0dd476380e6431c685fdec3d1f6aaca288
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Aug 27 17:00:19 2009 +0100

    Force date format for ChangeLog
    
    Fixes fd.o#21327 (or will do, when this is copied to telepathy-glib).

 tools/telepathy.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 27712c27de865819db61fb397a27df0375048077
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 26 20:12:16 2009 +0100

    Test pre-Connect UpdateCapabilities

 tests/twisted/caps/advertise-draft2.py |   15 ++++++++++++++-
 1 files changed, 14 insertions(+), 1 deletions(-)

commit cbc90e5fbb2e87d820e1c08c223e123da5b0f393
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 26 19:48:36 2009 +0100

    Optionally return save_set from gabble_connection_refresh_capabilities
    
    This avoids the other callers having to save our own caps too.

 src/connection.c |   25 +++++++++++++------------
 1 files changed, 13 insertions(+), 12 deletions(-)

commit 970bddee5f050c30a54f6a0e9cf128b1a0e21bf4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 26 20:15:00 2009 +0100

    Support calling UpdateCapabilities before CONNECTED

 src/connection.c |   27 +++++++++++++++++++--------
 1 files changed, 19 insertions(+), 8 deletions(-)

commit 9b0789ca98c2de716d69fbf53b116b4c2a0c1519
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 26 18:21:00 2009 +0100

    Upgrade ContactCapabilities spec to draft 2

 .../Connection_Interface_Contact_Capabilities.xml  |  150 +++++++++++++++-----
 extensions/all.xml                                 |    4 +
 src/connection.c                                   |  108 ++++++++++----
 tests/twisted/Makefile.am                          |    2 +-
 tests/twisted/caps/advertise-draft1.py             |  154 --------------------
 tests/twisted/caps/advertise-draft2.py             |  151 +++++++++++++++++++
 tests/twisted/constants.py                         |    4 +-
 7 files changed, 356 insertions(+), 217 deletions(-)

commit 514d152976da63f0b8efb64e7160fb4c25339189
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 26 17:57:09 2009 +0100

    gabble_media_factory_get_contact_caps: implement (in terms of _gabble_media_factory_caps_to_typeflags)

 src/media-factory.c |   34 ++++++++++++++++++++++++++++++++++
 1 files changed, 34 insertions(+), 0 deletions(-)

commit 8c23da21b5c3b71b94a0356bda7017860c78cfcb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 26 17:56:07 2009 +0100

    gabble_media_factory_foreach_channel_class: factor out gabble_media_factory_channel_class

 src/media-factory.c |   29 ++++++++++++++++++++++++-----
 1 files changed, 24 insertions(+), 5 deletions(-)

commit 3c0a8769bb038594d8cd88c4ba38e58643f5cb85
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 26 19:15:35 2009 +0100

    Harvest capabilities from gabble_media_factory_represent_client

 src/media-factory.c |   97 +++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 97 insertions(+), 0 deletions(-)

commit 208b781e4f35ea3df26c89ad7e00f7e0e90d7c4c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 26 19:15:30 2009 +0100

    Factor out gabble_media_factory_add_caps

 src/media-factory.c |   93 ++++++++++++++++++++++++++++++--------------------
 1 files changed, 56 insertions(+), 37 deletions(-)

commit fe6391ff57c9580d5114e852eccefa6230f05e27
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 26 17:33:39 2009 +0100

    _gabble_media_channel_typeflags_to_caps and its inverse: move to GabbleMediaFactory
    
    That's where we'll do new-style caps.

 src/capabilities.c  |    6 ++--
 src/media-channel.c |   77 ---------------------------------------------------
 src/media-channel.h |    6 ----
 src/media-factory.c |   77 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/media-factory.h |    6 ++++
 5 files changed, 86 insertions(+), 86 deletions(-)

commit 0d4b50495f68238a05c4bbf95d21616c16136447
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 26 17:30:43 2009 +0100

    GabbleMediaFactory: add stub implementations of get_contact_caps, represent_client

 src/media-factory.c |   31 ++++++++++++++++++++++++++++++-
 1 files changed, 30 insertions(+), 1 deletions(-)

commit f998341880b154169e7902f8454766fc4b941e6c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 26 16:59:55 2009 +0100

    Flatten _emit_capabilities_changed into _emit_contact_capabilities_changed
    
    In the process, stop assuming that AdvertiseCapabilities will never change
    our ContactCapabilities, and that SetSelfCapabilities will never change
    our Capabilities.

 src/connection.c |   55 ++++++++++++++++++++++-------------------------------
 1 files changed, 23 insertions(+), 32 deletions(-)

commit e5fb9183bba14db39372e9c58524cad82202ea61
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 26 16:43:47 2009 +0100

    GabbleCapsChannelManager: remove add_cap method in favour of represent_client
    
    Also remove useless ABI padding - this isn't a library.

 src/caps-channel-manager.c  |   26 --------------------------
 src/caps-channel-manager.h  |    7 -------
 src/private-tubes-factory.c |    6 +++---
 3 files changed, 3 insertions(+), 36 deletions(-)

commit 8f559755f61fb236bec750ca301b6bc3d12b044d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 26 16:37:43 2009 +0100

    gabble_connection_set_self_capabilities: call represent_client instead of add_cap

 src/connection.c |   27 ++++++++++++---------------
 1 files changed, 12 insertions(+), 15 deletions(-)

commit df04e495821bd1459f7146fdd14a6b89ee8b28fc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 26 16:34:55 2009 +0100

    GabblePrivateTubesFactory: implement represent_client (in terms of add_cap)

 src/private-tubes-factory.c |   18 ++++++++++++++++++
 1 files changed, 18 insertions(+), 0 deletions(-)

commit ed6a639801fe8ca900bc510c27b6b69dd4c699d0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 25 20:38:31 2009 +0100

    GabbleCapsChannelManager: add represent_client method
    
    This will be the basis for ContactCapabilities draft 2.

 src/caps-channel-manager.c |   32 ++++++++++++++++++++++++++++++++
 src/caps-channel-manager.h |   15 +++++++++++++++
 2 files changed, 47 insertions(+), 0 deletions(-)

commit a933cb9aa0feb0945443327f4d898b28fe2e5b1c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 26 16:30:21 2009 +0100

    Split out the bonus caps seen at startup into a separate set; clear it when we're told our real caps
    
    I can only assume that the rationale for having gtalk-p2p and ice-udp in
    our initial presence is a hackish way to be callable as soon as we sign
    in. Otherwise, there's a race between a UI making a VoIP call, and MC
    pushing in our real caps; if the VoIP call happens too soon, the recipient
    of the call will think we can only do ice-udp.
    
    (This can be fixed better in MC, later.)

 src/connection.c |   15 +++++++++++----
 1 files changed, 11 insertions(+), 4 deletions(-)

commit f6e6977de59d4d75966ee4aace06d772a803d449
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 26 16:25:55 2009 +0100

    gabble_capabilities_get_initial_caps: rename to gabble_capabilities_get_fixed_caps
    
    Our initial caps are actually these plus a couple of bonus ones (Jingle
    transports).

 src/capabilities.c |   14 +++++++-------
 src/capabilities.h |    2 +-
 src/connection.c   |    2 +-
 3 files changed, 9 insertions(+), 9 deletions(-)

commit 34ab594f69400682ef0c2a3c85af70d5c7d271ea
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 25 21:57:06 2009 +0100

    Separate capabilities into four sources (fixed, legacy Capabilities, and ContactCapabilities draft 1) and union them
    
    This removes the need for the strange workaround in which
    SetSelfCapabilities has to avoid deleting things that came from another
    source.
    
    To preserve historical behaviour (we support ice-udp and gtalk-p2p on
    startup, until the first call to AdvertiseCapabilities), demote these to
    optional, but put them in the initial value of the legacy
    Capabilities set.

 src/capabilities.c |    5 +-
 src/connection.c   |  149 +++++++++++++++++++++++++++-------------------------
 2 files changed, 81 insertions(+), 73 deletions(-)

commit 093eec0f6bb1929bd53b08e25bbbf06fe8154c8e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 26 19:05:45 2009 +0100

    gabble_capability_set_is_empty: add

 src/capabilities.c |    7 +++++++
 src/capabilities.h |    1 +
 2 files changed, 8 insertions(+), 0 deletions(-)

commit 6ed8aefdbe3115437417dfb9f726da78b553b029
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 25 21:04:28 2009 +0100

    Add gabble_capability_set_predicate_equals

 src/capabilities.h |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 1c54fe26dcfc93af5c1476a3ada7b7dc7db62cee
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 25 22:06:30 2009 +0100

    caps/compat-bundles.py, caps_helper.py: be more specific about the IQ we expect
    
    Otherwise, this test could get confused by seeing the test code send a
    reply to Gabble's pubsub disco request.

 tests/twisted/caps/compat-bundles.py |    3 ++-
 tests/twisted/caps_helper.py         |    2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 8eeb29addea0ebdacdafefde028fe6071651470d
Merge: 94e0f22 184a0b0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 26 17:14:45 2009 +0100

    Merge branch 'contact-search'

commit 184a0b0044cc5365fc8a572a021496870087bef0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 26 16:58:40 2009 +0100

    search-channel: destroy the channels hash table when finalizing
    
    That way we don't have to check if the hash table still exist or not.

 src/search-manager.c |   12 +++++-------
 1 files changed, 5 insertions(+), 7 deletions(-)

commit 94e0f225ab6698660bea669b476faed4fed3ba4f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 26 16:11:13 2009 +0100

    .gitignore: gabbleconfig.py has been renamed config.py

 .gitignore |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 63b89a76baaa786ba410a7bdfa9a1fe7bcd9ef63
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 26 12:18:42 2009 +0100

    the semantic of first and last has been cleared

 src/search-channel.c |   10 ++++------
 1 files changed, 4 insertions(+), 6 deletions(-)

commit 8e18c8aa9b0124a86d5243074aebdc6a73db9c90
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 25 20:37:06 2009 +0100

    Remove temporary cruft from GabbleConnection

 src/connection.h |    6 ------
 1 files changed, 0 insertions(+), 6 deletions(-)

commit 566313b350ffe0e42947621526d4e72fbe4eed18
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 25 20:12:11 2009 +0100

    Only write the changelog since 0.6.0 to ChangeLog, and don't use --stat
    
    The changelog.gz in our Debian packages is now bigger than Gabble itself!

 Makefile.am        |    1 +
 tools/telepathy.am |    3 +--
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 1c1ebfc532f995bc4e60393de6c0c047f8cc6a95
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 25 14:35:05 2009 +0100

    extended.py: test that the same search key is not added more than once

 tests/twisted/search/extended.py |   18 +++++++++++++++++-
 1 files changed, 17 insertions(+), 1 deletions(-)

commit e4a273ab7b1ff25ce1c988bf46d2a64f1c6b8e2d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 25 14:34:47 2009 +0100

    parse_data_form: ensure to not add twice the name search key

 src/search-channel.c |   29 ++++++++++++++++++++++++++---
 1 files changed, 26 insertions(+), 3 deletions(-)

commit 606dc7740f3df171cc2de0579f5fbcaed45ac298
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 25 14:14:38 2009 +0100

    parse_data_form: remove found_form_type_search as we don't use it

 src/search-channel.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit fa058ff325923fe4a20fce03b82f7a1cada086cd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 25 14:04:31 2009 +0100

    ceci-nest-pas-un-serveur.py: test when server returns forbidden and jid-malformed

 tests/twisted/search/ceci-nest-pas-un-serveur.py |   24 ++++++++++++++++++++++
 1 files changed, 24 insertions(+), 0 deletions(-)

commit 1b277079ed620ddbe7eb0c5ee2f8569b0b442104
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 25 14:04:09 2009 +0100

    search_channel_ready_or_not_cb: raise PermissionDenied if XMPP error is Forbidden and InvalidArgument if it's jid-malformed

 src/search-manager.c |   17 ++++++++++++-----
 1 files changed, 12 insertions(+), 5 deletions(-)

commit c7b7d401501014d6236793da2ed05c5621762afb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 25 13:33:36 2009 +0100

    no-server-property.py: test that pending CreateChannel are cancelled when disconnected

 tests/twisted/search/no-server-property.py |   25 ++++++++++++++++++++++++-
 1 files changed, 24 insertions(+), 1 deletions(-)

commit be174b5a0a863da4dd72206d7169bf6d36399301
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 25 13:30:54 2009 +0100

    gabble_search_manager_close_all: free the requests_waiting_disco list if needed

 src/search-manager.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 345fe753717420d201adf0ec745b761b1a1dee2d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 25 11:47:36 2009 +0100

    delay creation of search channel until the service disco process is done

 src/search-manager.c                       |   65 ++++++++++++++++++++++++++--
 tests/twisted/search/no-server-property.py |   21 +++++----
 2 files changed, 72 insertions(+), 14 deletions(-)

commit 37e1a7730598d26b8e3b7c8e7bc1309f12533236
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 25 11:43:56 2009 +0100

    disco.c: add a 'done' signal fired when the service discovery is finished

 src/disco.c |   13 ++++++++++++-
 1 files changed, 12 insertions(+), 1 deletions(-)

commit 7922f168c1f844d7f1b69dfb383918d051cc312f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 25 10:58:36 2009 +0100

    no-server-property.py: test when no server is present on the connection

 tests/twisted/search/no-server-property.py |   32 ++++++++++++++++++++++++++-
 1 files changed, 30 insertions(+), 2 deletions(-)

commit fd0db104dc3defa3b23695e7364ffcf8bfc65dbe
Author: Thomas Klausner <wiz@danbala.tuwien.ac.at>
Date:   Mon Aug 24 21:15:27 2009 +0100

    fd.o #23348, fd.o #23349: fix compilation on NetBSD by including more headers
    
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 lib/gibber/gibber-fd-transport.h |    1 +
 lib/gibber/gibber-util.h         |    2 ++
 2 files changed, 3 insertions(+), 0 deletions(-)

commit 8a7c10bb37f9fd028b7e92a88c5c906d0c837d0f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 20:55:35 2009 +0100

    Make construction of olpc_caps data-driven again, by recycling feature types

 src/capabilities.c |   21 ++++++++++++---------
 1 files changed, 12 insertions(+), 9 deletions(-)

commit 743184e23c3346eaf16044048c2b03ffa59e1484
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 20:54:00 2009 +0100

    Remove the distinction between FEATURE_OPTIONAL and FEATURE_BUNDLE_COMPAT

 src/capabilities.c |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit c7e9bdca0e9d2e0b43ccf201dbb0961c65eb5699
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 20:53:09 2009 +0100

    Remove GabblePresenceCapabilities altogether

 src/capabilities.c |   87 +++++++++++++++++----------------------------------
 1 files changed, 29 insertions(+), 58 deletions(-)

commit c136416f5e994593df8661503301c15d7d7fde8f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 20:48:13 2009 +0100

    Make GabblePresenceCapabilities, Feature local to capabilities.c

 src/capabilities.c |   38 ++++++++++++++++++++++++++++++++++++++
 src/capabilities.h |   13 -------------
 src/types.h        |   25 -------------------------
 3 files changed, 38 insertions(+), 38 deletions(-)

commit a592cd1a3012822524091a21b112fbb70cc2caa4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 20:47:50 2009 +0100

    gabble_presence_cache_add_bundle_caps: remove bitfield argument

 src/capabilities.c   |    3 +--
 src/presence-cache.c |    2 +-
 src/presence-cache.h |    2 +-
 3 files changed, 3 insertions(+), 4 deletions(-)

commit c140e2c7d174e749621bbfa750da6ce6548aced2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 20:44:47 2009 +0100

    Remove gabble_capability_set_new_from_flags

 src/capabilities.c    |   31 ++++++++-----------------------
 src/capabilities.h    |    2 --
 tests/test-presence.c |    6 ++++--
 3 files changed, 12 insertions(+), 27 deletions(-)

commit d00268e907cc4f8ad26e277e257d7fae69e47299
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 20:40:34 2009 +0100

    Remove capabilities_parse

 src/capabilities.c |   49 -------------------------------------------------
 src/capabilities.h |    2 --
 2 files changed, 0 insertions(+), 51 deletions(-)

commit 89ba6d6a54e8093fdfe73ebc54d80ebf7385619e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 20:40:27 2009 +0100

    Remove gabble_presence_get_caps_bitfield

 src/presence.c |    6 ------
 src/presence.h |    3 ---
 2 files changed, 0 insertions(+), 9 deletions(-)

commit 11e4dcab57d22f4fa9f9e75d9191cdc7b5462763
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 20:37:52 2009 +0100

    Convert CapsToTypeFlagsFunc to be in terms of capability sets

 src/capabilities.h  |    2 +-
 src/connection.c    |   16 +++++++++-------
 src/media-channel.c |   18 ++++++++----------
 src/media-channel.h |    2 +-
 4 files changed, 19 insertions(+), 19 deletions(-)

commit 8b2ae08ffb6c0ed8df669852773e8c81425e57c4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 20:36:31 2009 +0100

    _gabble_media_channel_caps_to_typeflags: refactor for clarity
    
    Also add a FIXME: we know about more transports than gtalk-p2p now.

 src/media-channel.c |   47 ++++++++++++++++++++++++++++-------------------
 1 files changed, 28 insertions(+), 19 deletions(-)

commit 07d506b307f249c40402a1c8ebe10dba25b779ef
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 20:17:40 2009 +0100

    Use capability sets for debug output

 src/connection.c     |   13 ++++++++++---
 src/presence-cache.c |   15 +++++++++++----
 2 files changed, 21 insertions(+), 7 deletions(-)

commit 272cb79f6d62d9853358a42e8008d4c0a3b3ea71
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 20:17:03 2009 +0100

    Remove now-unused calls to gabble_presence_get_caps_bitfield

 src/presence-cache.c |    6 ------
 1 files changed, 0 insertions(+), 6 deletions(-)

commit d72a2a9bdac64e335c872c466763d49499c0dcc4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 18:40:09 2009 +0100

    gabble_presence_set_capabilities: stop taking old bitfield as argument

 src/connection.c      |   10 ++++------
 src/presence-cache.c  |   16 ++++++----------
 src/presence.c        |   24 ++++++++++++++++++------
 src/presence.h        |    1 -
 tests/test-presence.c |    6 ++----
 5 files changed, 30 insertions(+), 27 deletions(-)

commit 69050dec510db69917d9cabf9443dcd17c847956
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 18:26:42 2009 +0100

    Remove some useless uses of caps in debug
    
    gabble_presence_set_capabilities already debugs the caps list, so we don't
    need to be so noisy elsewhere.

 src/connection.c     |    6 +-----
 src/presence-cache.c |    9 ++-------
 2 files changed, 3 insertions(+), 12 deletions(-)

commit 3561da41eab79d1c96df8e1b8c5148f7e7376e3a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 18:21:31 2009 +0100

    gabble_presence_dump: dump caps too

 src/presence.c |   23 +++++++++++++++++++++--
 1 files changed, 21 insertions(+), 2 deletions(-)

commit 02b5ae425cff39620678dae48ecd1794d95c96af
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 19:20:40 2009 +0100

    test-presence: stop asserting about the behaviour of gabble_presence_dump
    
    It's for debug only, so this seems inappropriate for a regression test.

 tests/test-presence.c |   32 --------------------------------
 1 files changed, 0 insertions(+), 32 deletions(-)

commit 78f49e59296cba0e5bba863d5397e1e7f2632196
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 18:13:13 2009 +0100

    GabblePresence: stop storing caps bitfield in resources

 src/presence.c |    8 +-------
 1 files changed, 1 insertions(+), 7 deletions(-)

commit 1f5a6aec9121a221bda609049d32a3ddb0233c46
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 18:11:27 2009 +0100

    GabblePresence: stop storing caps bitfield, calculate it on-demand

 src/presence.c |   22 +++++++++-------------
 1 files changed, 9 insertions(+), 13 deletions(-)

commit 7cb4e485e6f514b8db025ab588707fd32f263b85
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 18:07:54 2009 +0100

    gabble_presence_dup_caps: don't union bitfield caps into the set of namespaces
    
    They should all be there already, now.

 src/presence.c |   11 +----------
 1 files changed, 1 insertions(+), 10 deletions(-)

commit e27307a73b74b93cf88ee4f049ac61659315ae91
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 18:04:56 2009 +0100

    Change GabblePresenceCache::presence-updated to not carry bitfield caps

 src/connection.c     |    4 ----
 src/presence-cache.c |   18 ++++++------------
 2 files changed, 6 insertions(+), 16 deletions(-)

commit 326bbda74be73ddc2cf238efabb4e40a5c05b2e8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 19:20:24 2009 +0100

    gabble_connection_set_self_capabilities: preserve all "legacy" capabilities
    
    This is a stopgap solution to a misfeature of the SetSelfCapabilities
    implementation: it assumes that "old-style" Capabilities are preserved.
    Previously, this was arranged by not having any unified storage for
    draft1 and legacy caps. However, that assumption is about to break.
    
    So, the following policy is now used, which (perhaps by implementation
    accident) matches the old behaviour: the new caps are the union of
    (the old caps minus all "dynamic" caps) and the caps from channel
    managers.
    
    In practice "dynamic caps" means the caps for specific Tube services.

 src/connection.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 83f2b09bdc988e612f23ab29daa623fb51a34a6a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 19:22:04 2009 +0100

    gabble_capabilities_get_legacy: add
    
    This is the set of capabilities that can be set by using
    AdvertiseCapabilities, and should not be wiped out by SetSelfCapabilities.
    This madness can go away when we switch to ContactCapabilities draft 2.

 src/capabilities.c |   16 ++++++++++++++++
 src/capabilities.h |    1 +
 2 files changed, 17 insertions(+), 0 deletions(-)

commit c620af6a26296e77d3b93623278c72737a04b1f8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 19:20:54 2009 +0100

    gabble_capability_set_intersect: add

 src/capabilities.c |   42 ++++++++++++++++++++++++++++++++++++++++++
 src/capabilities.h |    2 ++
 2 files changed, 44 insertions(+), 0 deletions(-)

commit 82f532ba1b63d7a0cbdf7673fd7c0d4cb93e8bcc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 17:57:52 2009 +0100

    Make GabblePresence::caps private, with a getter for read-only access

 src/connection.c     |   14 +++++++-------
 src/presence-cache.c |   27 +++++++++++++++------------
 src/presence.c       |   29 ++++++++++++++++++-----------
 src/presence.h       |    4 +++-
 4 files changed, 43 insertions(+), 31 deletions(-)

commit d6014b899a27a4b2f2b54213d5b300506241b8f0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 17:16:26 2009 +0100

    gabble_connection_advertise_capabilities: operate in terms of namespace sets as much as possible
    
    This means that we don't touch namespaces that the old Capabilities
    interface cannot comprehend, like particular Tube services; as a result,
    one of the tests changes its behaviour slightly (caps get removed a bit
    at a time).

 src/connection.c                       |   35 ++++++++++++-------------------
 tests/twisted/caps/advertise-draft1.py |    7 +++--
 2 files changed, 18 insertions(+), 24 deletions(-)

commit 6cfc773da3219305431b327eb52f1fb8af2a0bf2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 16:48:22 2009 +0100

    Add gabble_capability_set_remove, gabble_capability_set_exclude

 src/capabilities.c |   41 +++++++++++++++++++++++++++++++++++++++++
 src/capabilities.h |    4 ++++
 2 files changed, 45 insertions(+), 0 deletions(-)

commit 4ff716f398af6992f5440871a42ee9aaceabb1d5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 16:31:48 2009 +0100

    gabble_connection_get_handle_capabilities: re-indent
    
    "if for {" is an anti-pattern; "if { for {" is much clearer.

 src/connection.c |   50 ++++++++++++++++++++++++++------------------------
 1 files changed, 26 insertions(+), 24 deletions(-)

commit 6b028aa146d86c72baed99391d43f2eeb27c1284
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 16:10:56 2009 +0100

    Use namespace sets to convert Capabilities type-specific flags to XMPP caps

 src/capabilities.h  |    2 +-
 src/connection.c    |   14 ++++++++++++--
 src/media-channel.c |   38 +++++++++++++-------------------------
 src/media-channel.h |    4 ++--
 4 files changed, 28 insertions(+), 30 deletions(-)

commit e70674a5cd34b79c2b029456135c07bf7826f7d5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 15:51:41 2009 +0100

    GabblePresenceCache: eliminate confusingly similarly named variables
    
    cap_set is a set of capabilities, and caps_set is TRUE if the cap_set
    should be considered valid. We can combine them by having cap_set == NULL
    until it has defined contents.

 src/presence-cache.c |   33 ++++++++++++++++++++++-----------
 1 files changed, 22 insertions(+), 11 deletions(-)

commit fb639698bc1787c4953f624cfdc9380da67acff3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 21 16:45:00 2009 +0100

    contact_is_media_capable: use new-style caps

 src/media-channel.c |   19 ++++++++++---------
 1 files changed, 10 insertions(+), 9 deletions(-)

commit b7f4197b0264949c2c37507f32e5e98a2b2f6662
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 21 12:40:55 2009 +0100

    gabble_connection_ensure_capabilities: use capability sets

 src/conn-location.c |    6 ++++--
 src/conn-olpc.c     |   32 ++++++++++++++++++++++++--------
 src/connection.c    |   34 ++++++++++++++++------------------
 src/connection.h    |    5 +++--
 4 files changed, 47 insertions(+), 30 deletions(-)

commit 0041a6fc8d2ec2a7efd30019208be2678fb2a530
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 21 14:08:32 2009 +0100

    GabbleCapabilitySetPredicate etc.: use const pointers

 src/capabilities.h    |    2 +-
 src/presence.c        |    6 +++---
 src/presence.h        |   11 ++++++-----
 tests/test-presence.c |    2 +-
 4 files changed, 11 insertions(+), 10 deletions(-)

commit 8ed8cd07ee2549c62e681a202b983aa571f7b0d4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 21 12:38:21 2009 +0100

    Add canned capability sets for geoloc and OLPC +notify

 src/capabilities.c |   22 ++++++++++++++++++++++
 src/capabilities.h |    4 +++-
 2 files changed, 25 insertions(+), 1 deletions(-)

commit afce963bfa534204a2a996339a889b9db3ca9d8f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 21 12:17:21 2009 +0100

    gabble_presence_get_caps: rename to gabble_presence_dup_caps
    
    That's what it does, really.

 src/caps-hash.c      |    2 +-
 src/connection.c     |    8 ++++----
 src/presence-cache.c |   12 ++++++------
 src/presence.c       |    2 +-
 src/presence.h       |    2 +-
 5 files changed, 13 insertions(+), 13 deletions(-)

commit 8a8e5f0b1712dca7c7912481481a0ff1d0cd078d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 21 12:12:09 2009 +0100

    capabilities_get_initial_caps: return a set instead of a bitfield

 src/capabilities.c |   36 +++++++++++++++++++-----------------
 src/capabilities.h |    8 ++------
 src/connection.c   |    7 +++----
 3 files changed, 24 insertions(+), 27 deletions(-)

commit 1d98b358714fe9812e76fc2b637a5352eb8b622e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 21 12:11:25 2009 +0100

    gabble_presence_set_capabilities: be const-correct
    
    We don't need to modify cap_set.

 src/presence.c |    2 +-
 src/presence.h |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit e64c6ea99c9e40a6a1384e85770a1b4eba3872d0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 29 21:04:39 2009 +0100

    GabblePresenceCache: CapabilityInfo: remove caps flags, calculate them on demand

 src/presence-cache.c |   19 +++++++++++--------
 1 files changed, 11 insertions(+), 8 deletions(-)

commit a41a60324fb841ff7abee8d133ba4721964571be
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 19:49:34 2009 +0100

    gabble_capability_set_dump: strdup and return the message rather than printing it, and add optional indent

 src/capabilities.c |   26 +++++++++++++++++---------
 src/capabilities.h |    3 ++-
 2 files changed, 19 insertions(+), 10 deletions(-)

commit b4f01ad0496092b69da1b516ea8428658a2c24e7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 29 21:03:00 2009 +0100

    gabble_capability_set_dump: add

 src/capabilities.c |   30 ++++++++++++++++++++++++++++++
 src/capabilities.h |    1 +
 2 files changed, 31 insertions(+), 0 deletions(-)

commit b8ccfda7cd6e8093f6a77821c7fa3853dca8ec2b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 29 21:02:42 2009 +0100

    gabble_presence_cache_add_bundle_caps: add the namespace as well as the flag

 src/capabilities.c   |    2 +-
 src/presence-cache.c |    4 +++-
 src/presence-cache.h |    2 +-
 3 files changed, 5 insertions(+), 3 deletions(-)

commit 1eb3bbe9066b299d815c1e80cb4af9ee739ab307
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 29 20:50:36 2009 +0100

    GabbleConnection: _emit_capabilities_changed: take the new-style caps and parse them

 src/connection.c |   18 ++++++++++++------
 1 files changed, 12 insertions(+), 6 deletions(-)

commit 54ca32954ef517db50ed45b43c65034f1ee58c5f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 29 20:49:48 2009 +0100

    capabilities_parse: take a const set

 src/capabilities.c |    2 +-
 src/capabilities.h |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 5b4d1f96d1e57f6b30423ec204fddf9cd15e6123
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 29 20:28:21 2009 +0100

    Add gabble_capability_set_has_one()
    
    This returns TRUE if at least one capability exists in both sets.

 src/capabilities.c |   23 +++++++++++++++++++++++
 src/capabilities.h |    4 ++++
 2 files changed, 27 insertions(+), 0 deletions(-)

commit 622b8c9be1a7da6973ac4a939d56986c04d0b419
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 29 20:24:29 2009 +0100

    Add more canned capability bundles, preallocate them, and free them in finalize

 src/capabilities.c |   77 ++++++++++++++++++++++++++++++++++++++++-----------
 src/capabilities.h |    5 +++
 2 files changed, 65 insertions(+), 17 deletions(-)

commit e545409c98387bae5746a3219499b137aaf83c36
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 29 19:54:31 2009 +0100

    GabbleConnection: use gabble_presence_has_cap()

 src/connection.c |   10 +++++++---
 1 files changed, 7 insertions(+), 3 deletions(-)

commit 6e582aa7c46cb02956ce6d21c6f238bc2f6c7dfc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 29 19:54:20 2009 +0100

    GabbleIMChannel: use gabble_presence_has_cap()

 src/im-channel.c |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit a13d2a638aa18c0debba5873d5b674e890628582
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 29 19:54:05 2009 +0100

    GabblePresence: add gabble_presence_has_cap()

 src/presence.c |    9 +++++++++
 src/presence.h |    1 +
 2 files changed, 10 insertions(+), 0 deletions(-)

commit 62d96f63994a3c09559c357194f36c639567ea77
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 29 19:32:21 2009 +0100

    gabble_presence_resource_has_caps: change to use namespaces (and quirk pseudo-namespaces)

 src/jingle-session.c |    4 +++-
 src/presence.c       |    7 ++++---
 src/presence.h       |    4 ++--
 3 files changed, 9 insertions(+), 6 deletions(-)

commit 0f88722c239162c961309317cf1eb24acf6c584c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 29 19:31:20 2009 +0100

    GabbleMediaChannel: choose best content type and transport using gabble_presence_resource_pick_best_feature

 src/media-channel.c |   80 ++++++++++++++++++--------------------------------
 1 files changed, 29 insertions(+), 51 deletions(-)

commit 61bd56e439651ff94a8b57a4123e8e22fae9dbf3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 29 19:28:05 2009 +0100

    Add a data-driven function to fall back through possible implementations
    
    This is useful to pick a Jingle transport or a Jingle content type, for
    instance.

 src/presence.c |   30 ++++++++++++++++++++++++++++++
 src/presence.h |   11 +++++++++++
 2 files changed, 41 insertions(+), 0 deletions(-)

commit 3099018b3e97c86fcd181d0506c489212b9f97ae
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 29 18:51:37 2009 +0100

    Represent PRESENCE_CAP_JINGLE_OMITS_CONTENT_CREATOR as a pseudo-namespace

 src/capabilities.c   |   82 ++++++++++++++++++++++++++++++++++---------------
 src/capabilities.h   |   10 +++++-
 src/presence-cache.c |    2 +-
 3 files changed, 66 insertions(+), 28 deletions(-)

commit 7d2078736354e6fd9e649b5a7d8f936a65217889
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 29 16:34:06 2009 +0100

    Change gabble_presence_pick_resource_by_caps to check the cap.set, not the numeric caps

 src/ft-channel.c      |    4 +++-
 src/media-channel.c   |   49 ++++++++++++++++++++++++++++++-------------------
 src/presence.c        |    7 +++++--
 src/presence.h        |    2 +-
 src/tube-dbus.c       |    2 +-
 src/tube-stream.c     |    4 ++--
 tests/test-presence.c |   25 ++++++++++++++++++-------
 7 files changed, 60 insertions(+), 33 deletions(-)

commit cea0b20ce1ff907ca5099cc5d7d03e71fbd87676
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 29 16:28:58 2009 +0100

    Add gabble_capability_set_at_least () and GabbleCapabilitySetPredicate typedef
    
    gabble_capability_set_at_least (A, B) == (A ⊇ B).
    
    GabbleCapabilitySetPredicate is a generic test of whether a cap set meets
    some parameterized criterion; g_c_s_has and g_c_s_at_least are suitable,
    so add macros that cast them to GabbleCapabilitySetPredicate for
    convenience.

 src/capabilities.c |   24 ++++++++++++++++++++++++
 src/capabilities.h |   12 ++++++++++++
 2 files changed, 36 insertions(+), 0 deletions(-)

commit 0d0786805bd47db818d31fa7754af50a1bf0f56d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 29 14:20:45 2009 +0100

    Intern feature namespaces in a global string pool
    
    We already have a reference-counted string pool - it's called
    TpDynamicHandleRepo! Accordingly, use one (shared between all connections
    for maximum re-use) to intern namespaces, and reimplement
    GabbleCapabilitySet as a TpHandleSet.

 src/capabilities.c    |  117 ++++++++++++++++++++++++++++++++++---------------
 src/capabilities.h    |    3 +
 src/connection.c      |    4 ++
 tests/test-presence.c |    4 ++
 4 files changed, 93 insertions(+), 35 deletions(-)

commit eb3b2da3717687cfaa61b4db7f9834cc41237715
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 29 14:18:32 2009 +0100

    Make GabbleCapabilitySet opaque

 src/capabilities.c          |   45 ++++++++++++++++++++++++++-------------
 src/capabilities.h          |    6 +++-
 src/caps-hash.c             |   14 +++++++++++-
 src/connection.c            |    9 +++----
 src/private-tubes-factory.c |   49 +++++++++++++++++++++++++-----------------
 5 files changed, 80 insertions(+), 43 deletions(-)

commit f267a9f9aeb2c4866720ea44804e4c8900e19d17
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 4 19:22:12 2009 +0100

    Remove now-redundant GabbleCapsChannelManager code
    
    Conflicts: src/presence.c src/presence-cache.c
    Merged-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 src/caps-channel-manager.c  |   99 -----------------
 src/caps-channel-manager.h  |   54 ----------
 src/connection.c            |   12 +-
 src/ft-manager.c            |   27 -----
 src/presence-cache.c        |   72 +------------
 src/presence-cache.h        |   15 ---
 src/presence.c              |   54 ----------
 src/presence.h              |    2 -
 src/private-tubes-factory.c |  244 -------------------------------------------
 tests/test-presence.c       |    4 +-
 10 files changed, 10 insertions(+), 573 deletions(-)

commit f959c969ab5afd0b2465d28856d3b17a9c42ccb7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 4 19:01:14 2009 +0100

    Don't cache per_channel_manager_caps for caps nodes
    
    Conflicts: src/presence-cache.c
    Merged-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 src/presence-cache.c |   73 +++++---------------------------------------------
 1 files changed, 7 insertions(+), 66 deletions(-)

commit 08e2a5f7df90919b4a98c85ff5c3e3a8c9075b22
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 18:05:27 2009 +0100

    GabblePresenceCache: _process_caps: don't free uninitialized pointer if presence is NULL

 src/presence-cache.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 57e7d51637d8aa1f04f533949338168b1178b102
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 4 18:48:53 2009 +0100

    Port SetSelfCapabilities to use capability sets
    
    This ports gabble_caps_channel_manager_add_capability() to add nodes to
    a GabbleCapabilitySet, rather than footling with
    per_channel_manager_caps, and updates the SetSelfCapabilities
    implementation accordingly.
    
    This also alters the presence cache's capabilities-updated signal to
    include GabbleCapabilitySets rather than per_channel_manager_caps hash
    tables.

 src/caps-channel-manager.c  |   16 +++++--
 src/caps-channel-manager.h  |   11 +++--
 src/connection.c            |  102 ++++++++++++++++--------------------------
 src/presence-cache.c        |   47 ++++++++++++--------
 src/private-tubes-factory.c |   67 +++++++++-------------------
 5 files changed, 106 insertions(+), 137 deletions(-)

commit d2454ac80add5189179b83c3027a7b4461fba5de
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 4 18:44:55 2009 +0100

    Construct contact capabilities from caps sets
    
    Modify gabble_caps_channel_manager_get_contact_capabilities () to be in
    terms of GabbleCapabilitySets, ignoring the per_channel_manager_caps
    hash table, and update the GetContactCapabilities and
    ContactCapabilitiesChanged implementations accordingly.

 src/caps-channel-manager.c  |    7 ++--
 src/caps-channel-manager.h  |    8 +++-
 src/connection.c            |   14 +++++++-
 src/ft-manager.c            |   33 ++++-------------
 src/im-factory.c            |    6 ++--
 src/private-tubes-factory.c |   81 ++++++++++++------------------------------
 6 files changed, 57 insertions(+), 92 deletions(-)

commit 885cec575b94377bddd49f77bbee4c8e8f99a117
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 28 23:30:46 2009 +0100

    Calculate caps hashes from gabble_presence_get_caps()
    
    Originally by Will Thompson, with some merging and corrections.
    
    Regressions:
    * capabilities for specific services in stream and D-Bus tube stopped
      working

 src/capabilities.c |   29 ---------------------
 src/capabilities.h |    9 ------
 src/caps-hash.c    |   13 +---------
 src/connection.c   |   71 +++++++++++++++++++--------------------------------
 4 files changed, 28 insertions(+), 94 deletions(-)

commit 3c9e76aea2b1b7edafe200550b9c8baf3a5936dd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 4 18:29:25 2009 +0100

    Add API to retrieve capability set from presence
    
    This unions the old-style flags with the set of namespaces. It ignores
    the ContactCaps hash table, which is about to be slain.

 src/presence.c |   16 ++++++++++++++++
 src/presence.h |    2 ++
 2 files changed, 18 insertions(+), 0 deletions(-)

commit a8d67fc5c0af54c7a71481d14a0c75eec3b01830
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jun 3 11:55:27 2009 +0100

    Add constant CapabilitySets for voice-v1 and video-v1
    
    The patch was originally by Will Thompson, and only added voice-v1.

 src/capabilities.c |   28 ++++++++++++++++++++++++++++
 src/capabilities.h |   29 ++++++++++++++++-------------
 2 files changed, 44 insertions(+), 13 deletions(-)

commit 174b5fa4e177ea3098134208fc10da60bf4f679a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu May 28 19:03:03 2009 +0100

    Store cap set in GabblePresence
    
    Currently, this set of namespaces is stored as well as the
    GabblePresenceCapabilities flags and the per_channel_manager contact
    capability hash table, and isn't used. The intention is to migrate the
    contact capabilities API to use this, then remove the hash; then,
    migrate the old-style capabilities to this too.
    
    Merged-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 src/capabilities.c    |   16 ++++++++++++++++
 src/capabilities.h    |    2 ++
 src/connection.c      |   17 ++++++++++++++---
 src/presence-cache.c  |   40 ++++++++++++++++++++++++++++------------
 src/presence.c        |   30 +++++++++++++++++++++++++++++-
 src/presence.h        |    8 ++++++--
 tests/test-presence.c |    9 +++++++--
 7 files changed, 102 insertions(+), 20 deletions(-)

commit 9dc25dd59b5e86e7063f9561a1510e1b9fc6db7a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu May 28 16:18:28 2009 +0100

    Don't include presence.h in capabilities.h
    
    I'm about to make capabilities.h include presence.h, so this will avoid
    a circular inclusion.

 src/capabilities.h |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit d27e4f845f3fdc2a24c4838ae5d322ebe2038a55
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 28 18:49:44 2009 +0100

    capabilities: gabble_capability_set_new_from_stanza: use NodeIter

 src/capabilities.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 7673395760245174241641ecddd5d6003f8d212c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 28 18:46:03 2009 +0100

    Parse (Contact)Caps from a CapabilitySet
    
    This reduces the duplication of code iterating across all the
    <feature>s.
    
    Patch originally by Will Thompson, but needed significant merging with
    Guillaume's node_iter patches and Will's Gabble-version detection.

 src/capabilities.c          |   29 ++++++++--------
 src/capabilities.h          |    3 +-
 src/caps-channel-manager.c  |    4 +-
 src/caps-channel-manager.h  |    6 ++-
 src/ft-manager.c            |   23 +------------
 src/presence-cache.c        |   11 ++++--
 src/private-tubes-factory.c |   77 +++++++++++++++++++------------------------
 7 files changed, 65 insertions(+), 88 deletions(-)

commit e0200f363befa2559ec6a217dd6a8a0d3ac30000
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 28 18:17:13 2009 +0100

    capabilities: use more tp_strdiff

 src/capabilities.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a618fc6d45442fb57be58860e263b0f23ea7c2d3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 6 10:24:02 2009 +0100

    API to parse disco reply into a CapabilitySet

 src/capabilities.c |   28 ++++++++++++++++++++++++++++
 src/capabilities.h |    2 ++
 2 files changed, 30 insertions(+), 0 deletions(-)

commit edb4017ff921341c54edd154293a9ec32a962241
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 28 18:15:48 2009 +0100

    capabilities: use tp_strdiff instead of strcmp

 src/capabilities.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit f22c12e2436c127797e67c75816911f04336a263
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 6 10:16:08 2009 +0100

    Add API for storing a set of capabilities
    
    Currently the capabilities are just strings; this will probably change
    to be something like a quark.

 src/capabilities.c |  100 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/capabilities.h |   21 +++++++++++
 2 files changed, 121 insertions(+), 0 deletions(-)

commit 7b0659462e2d3537699033cdac4c761957951e65
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 24 17:13:57 2009 +0100

    fix a typo in comments

 tests/twisted/search/extended.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c26ed3e14b1d2d179ddfc7192ce501e506029df8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 24 17:10:38 2009 +0100

    add_search_result: no need to init the handle to 0 any more

 src/search-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 376c0aa76af8fe9ba3fff11b03d118469e4f2296
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 24 17:07:00 2009 +0100

    search_channel_ready_or_not_cb: we don't want to prefix the error string, the XMPP message is fine

 src/search-manager.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 65b807aee6078b74410eb078caf2544681209276
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 24 17:03:16 2009 +0100

    test that not ready search channels are not listed in Requests.Channels

 tests/twisted/search/unextended.py |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 1df9abbc594a55aed647bf3e73ed0d23e742b253
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 24 17:02:55 2009 +0100

    gabble_search_manager_foreach_channel: only list channels which are ready

 src/search-manager.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 0e2ede722f51afe544a517a1d83da6af0f9c81b7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 24 17:02:29 2009 +0100

    add gabble_search_channel_is_ready()

 src/search-channel.c |   11 +++++++++++
 src/search-channel.h |    2 ++
 2 files changed, 13 insertions(+), 0 deletions(-)

commit b044a81ea53f4cfb4f31726e728a049d789fa9bb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 24 16:48:33 2009 +0100

    check that newly created search channels are in Requests.Channels

 tests/twisted/search/unextended.py |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit a16742d26046ebde3cd6bbe5e2128a78c2b61c00
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 24 16:48:12 2009 +0100

    implement gabble_search_manager_foreach_channel

 src/search-manager.c |   10 +++++++++-
 1 files changed, 9 insertions(+), 1 deletions(-)

commit dd3e398136d070ec1f8b841f7e07db0b53330877
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 24 16:19:44 2009 +0100

    gabble_search_manager_constructor: use gabble_signal_connect_weak to connect the status-changed signal

 src/search-manager.c |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit 31845b7a5587ef7e4e853f7101fbd8d811734159
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 24 16:13:05 2009 +0100

    re-implement gabble_search_manager_close_all using gabble_search_channel_close
    
    This is cleaner than assume we are owning the only reference on the
    channel and rely on the side effect than disposing the channel will
    close it.

 src/search-manager.c |   25 +++++++++++++++++--------
 1 files changed, 17 insertions(+), 8 deletions(-)

commit 4afb006a12463289f98137cef03c2d989d608504
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 24 16:12:46 2009 +0100

    add gabble_search_channel_close as a public method

 src/search-channel.c |   16 +++++++++++-----
 src/search-channel.h |    2 ++
 2 files changed, 13 insertions(+), 5 deletions(-)

commit fdc5b48b75be4abc6416da4863d07f3736aaa83f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 24 15:48:54 2009 +0100

    gabble_search_channel_init: use g_boxed_free

 src/search-channel.c |    6 +-----
 1 files changed, 1 insertions(+), 5 deletions(-)

commit 263793fb057905590fd9db0ebef42001a07d60bc
Merge: 36f4a8f 1d127a4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 15:34:50 2009 +0100

    Merge branch 'caps-fasttrack'
    
    Reviewed-by: Guillame Desmottes <guillaume.desmottes@collabora.co.uk>

commit 1d127a49313ed8ca80272f1937b94364e51171b5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 14:18:20 2009 +0100

    gabble_connection_advertise_capabilities: avoid calling c2tf_fn twice

 src/connection.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit db1d6f240cc30a78c2867298982502ff9d291d77
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 14:02:51 2009 +0100

    GabbleMediaChannel: make a debug message more informative

 src/media-channel.c |    8 ++++++--
 1 files changed, 6 insertions(+), 2 deletions(-)

commit 1d4d05b32c80adf34a168180dd18be41e12591ab
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 24 14:02:36 2009 +0100

    _gabble_media_channel_typeflags_to_caps: don't reassert caps that we always have anyway
    
    If we do, then removing StreamedMedia capabilities will make us remove
    these caps from our presence, which is presumably not intentional.
    
    Also amend the caps tests to catch up with this change by expecting all Jingle
    dialects, and the raw UDP transport, to be advertised regardless of caps.

 src/media-channel.c          |    7 -------
 tests/twisted/caps_helper.py |   11 +++++------
 2 files changed, 5 insertions(+), 13 deletions(-)

commit 1116df05e22762a10d32943618ba666584c028fa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 21 16:42:46 2009 +0100

    _emit_capabilities_changed: list the capability if we had, or have, any caps
    
    OR'ing together the Gabble presence caps (namespace sets) and seeing
    whether the result would have any Telepathy caps (flags) isn't quite
    the same thing: it would wrongly consider the transition from
    { Jingle audio but no transport } to { gtalk-p2p but no content } to have
    the potential to be non-trivial. (Admittedly, that's pathological.)
    
    This lets us eliminate a pair of duplicate function calls, so, do.

 src/connection.c |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit faf59e74fb2d02320957590dc2eb049a13989bf2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 21 15:45:59 2009 +0100

    GabbleMediaChannel: consider contacts with PRESENCE_CAP_GOOGLE_VIDEO to be callable, even if they don't support VOICE
    
    Oops :-)

 src/media-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 43901ae9b360b3ebcea149d8feb9d1f003c435b1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 21 15:44:33 2009 +0100

    GabbleMediaChannel: only consider modern Jingle contacts callable if they support audio or video content
    
    Strictly speaking, the check should be for JINGLE_RTP &&
    (JINGLE_RTP_AUDIO || JINGLE_RTP_VIDEO), but that's just being pedantic.

 src/media-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 783fbed52867f381752bdf82fa24c0a9a8f92062
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 21 15:36:22 2009 +0100

    GabbleMediaChannel: contact_is_media_capable: make variables less confusing
    
    Note to wjt: this isn't Haskell :-)

 src/media-channel.c |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit a8989dcd724032c283892600eb534d966c215f42
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 21 12:26:39 2009 +0100

    gabble_connection_ensure_capabilities: don't leak the error, if any

 src/connection.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 36f4a8fcade23e6a9dc3c14621bec9c11cbd9bbf
Merge: 9d386da 7434680
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Aug 21 12:07:47 2009 +0100

    Merge branch 'terminate-reason-text'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 7434680c92fc1f49e70031ceed59dd82ddcfb321
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Aug 21 12:00:59 2009 +0100

    Update test for new group flags

 tests/twisted/jingle/outgoing-basics.py |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit 4ebe7488a3084d14aa6ad50d709033ab7681f938
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Aug 20 20:43:17 2009 +0100

    Version 0.8.1

 NEWS         |   18 ++++++++++++++++--
 configure.ac |    4 ++--
 2 files changed, 18 insertions(+), 4 deletions(-)

commit 9d386dacc3d9693250e6b4b80f988bee72c0a66f
Merge: 6ad7795 d1f2d83
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Aug 20 17:59:55 2009 +0100

    Merge branch 'zombie-media-channels'
    
    Reviewed-by: Dafydd Harries <dafydd.harries@collabora.co.uk>

commit f10fdcc9d8cb410c8a90ed4b36f95bf18c4baf73
Merge: 0daf412 d1f2d83
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Aug 20 17:59:32 2009 +0100

    Merge branch 'zombie-media-channels' into telepathy-gabble-0.8
    
    Reviewed-by: Dafydd Harries <dafydd.harries@collabora.co.uk>

commit d1f2d837345a4a42763c0a1e6fd20118c5c6a24f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Aug 19 16:51:52 2009 +0100

    Yes, this can and does happen.

 src/media-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4b46720f55ea79e300499a89eb27b578479aa8a4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Aug 19 16:43:07 2009 +0100

    Don't ref media channel when waiting for relay
    
    When we look up relay information from Google for new media streams, we
    use a StreamCreationData * as the user_data for the libsoup HTTP request.
    You can't cancel those requests, so the StreamCreationData can outlive the
    call.
    
    But currently, it holds a reference to the channel. This means that the
    media channel can outlive the connection, which is bad for several
    reasons:
    
     * It's still on the bus, so if you make a new connection and it happens
       to get the same path as the old one, then make a new call which happens
       to get the same path as this channel, we assert.
     * When the request does come back (or fails because we destroyed the
       SoupSession — this happens asynchronously), the channel's disposed. Its
       dispose() tries to call methods on the GabbleConnection, which is no
       longer valid, and we crash.
    
    Instead, StreamCreationData now takes a weak ref to the channel. If the
    channel's disposed, that field of the closure is set to NULL; the relevant
    callbacks react to 'channel' being NULL by doing nothing, just as they do
    if 'content' is NULL.

 src/media-channel.c |   58 +++++++++++++++++++++++++++++++-------------------
 1 files changed, 36 insertions(+), 22 deletions(-)

commit 8b96db03538b110fe0fb3ee19e44bc259a5d621a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Aug 19 16:38:53 2009 +0100

    Hoist definition of StreamCreationData
    
    This will be needed to refer to it within _dispose()

 src/media-channel.c |   16 ++++++++--------
 1 files changed, 8 insertions(+), 8 deletions(-)

commit 16fbf12e779a523b1c105c31c698403560136c01
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Aug 19 14:13:20 2009 +0100

    Close all media channels on disconnect.
    
    Relying on unreffing the channel to make it close is silly, and
    complicates the code.

 src/media-channel.c |    3 +--
 src/media-channel.h |    2 ++
 src/media-factory.c |   36 ++++++++++++------------------------
 3 files changed, 15 insertions(+), 26 deletions(-)

commit e7e9fb4e383854a9b1c82bf59d068f16712d8de9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Aug 19 14:13:07 2009 +0100

    Add gabble_g_ptr_array_copy

 src/media-channel.c |    9 +--------
 src/util.c          |   12 ++++++++++++
 src/util.h          |    2 ++
 3 files changed, 15 insertions(+), 8 deletions(-)

commit 04aead1d58de806cced0a0ce925d1a2c9df11b7c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Aug 19 00:56:14 2009 +0100

    Fix disconnect-before-Google-relay-reply test
    
    We do want to check that the Closed signal arrives for the channel when
    you call Disconnect, because it doesn't in some cases. We also want to
    check that the channel object actually goes away when you disconnect,
    because it doesn't in some cases. This smokes out a crash in Gabble, but
    sadly isn't reliable: libsoup seems to sometimes call HTTP request callbacks
    as soon as you destroy the session, but other times uses an idle, and we
    only crash in the latter case.

 tests/twisted/constants.py           |    2 +
 tests/twisted/jingle/google-relay.py |   42 +++++++++++++++++++++------------
 2 files changed, 29 insertions(+), 15 deletions(-)

commit 6ad779553658baf3a29f0ebbd9b5623ee82f0998
Merge: fd2e22c 77c6dd7
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 20 17:20:26 2009 +0100

    Merge branch 'vcard'
    
    Reviewed-by: Will Thompson

commit 0daf41225a74a1c1e35807493d748c861c00667b
Merge: 61ed3d9 77c6dd7
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 20 17:19:35 2009 +0100

    Merge branch 'vcard' into telepathy-gabble-0.8
    
    Reviewed-by: Will Thompson

commit fd2e22cc2c1562490e54a4f0a0c2cbc78cc1ed27
Merge: f43931f 25d722e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 20 15:20:47 2009 +0100

    Merge branch '08-video-v1'
    
    Was intended for 0.8, but not merging there at the moment; we can backport
    it later if needed.
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 25d722e798170426525f8c91b9599c2c0ed54236
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 28 20:50:28 2009 +0100

    caps/compat-bundles.py: test that the voice-v1 and video-v1 bundles can be disco'd

 tests/twisted/Makefile.am            |    1 +
 tests/twisted/caps/compat-bundles.py |   52 ++++++++++++++++++++++++++++++++++
 2 files changed, 53 insertions(+), 0 deletions(-)

commit 9660f7126210e57c58b0f0937ec6452c0e8af30e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 28 20:28:01 2009 +0100

    connection_iq_disco_cb: simplify handling of voice-v1 disco, and add video-v1
    
    We support two bundles for interop with obsolete clients, each with one
    feature. As such, there seems little point in populating disco replies in
    a data-driven way: instead, we can just special-case the two bundles.

 src/connection.c |   21 +++++++++++++--------
 1 files changed, 13 insertions(+), 8 deletions(-)

commit 83130b6ccb06b03328250d5116c0819280b9840a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 28 20:25:41 2009 +0100

    connection_iq_disco_cb: factor out _gabble_connection_send_or_complain and add_feature_node

 src/connection.c |   37 +++++++++++++++++++++++++++----------
 1 files changed, 27 insertions(+), 10 deletions(-)

commit 77c6dd7ac90cdf00ba7a92b85ac51c059b44b077
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 20 12:32:22 2009 +0100

    keep a ref to the handle for the lifetime of a PEP request
    
    This fixes crashes where the request callback gets run on an invalid handle,
    which I've seen when the request times out or during connection dispose.

 src/conn-aliasing.c |   29 ++++++++++++++++++++++++++++-
 1 files changed, 28 insertions(+), 1 deletions(-)

commit f43931f9a4da33edb5f11ce7d7230eb94f81b744
Merge: c1a2b6e 61ed3d9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 20 12:29:41 2009 +0100

    Merge branch 'telepathy-gabble-0.8'
    
    Conflicts:
    	NEWS
    	configure.ac

commit 61ed3d91506218fad05d014e4c68a9791ddb2c00
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 20 11:18:04 2009 +0100

    gabble_jingle_content_parse_add: clarify behaviour of libjingle 0.3 mode
    
    When google_mode is TRUE and trans_node is NULL (i.e. the remote party
    is using libjingle 0.3 or an emulation of it), the transport is implicitly
    gtalk-p2p, because libjingle 0.3's protocol has no concept of transports.
    To select this transport, we look up the empty string as a
    pseudo-namespace in the factory's registry of transport types, which
    in practice returns GABBLE_TYPE_JINGLE_TRANSPORT_GOOGLE.
    
    This results in a coverity false positive a little further down,
    where we select a transport based on trans_node (assumed to be non-NULL)
     if transport_type is zero. This is in fact safe, but coverity can't tell
    that (it can't see that transport_type will be nonzero as a result of the
    lookup), and it's not immediately obvious to programmers either.
    
    To make this clearer, add a check that will, in practice, always succeed
    (unless we delete the gtalk-p2p code for some strange reason).
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

 src/jingle-content.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit a3786f489a68f6e8781409887cc37ef17748258c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Aug 19 17:18:50 2009 +0100

    vcard-manager.c: correct assertion about when priv->edits is NULL
    
    It previously didn't take into account the fact that it could be non-NULL if
    there was a SET request in progress.

 src/vcard-manager.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c1a2b6e697156e708b0e2752a64c6d10d4147a22
Merge: c17d16b 0706811
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 19 13:46:27 2009 +0100

    Merge commit 'cassidy/message-deprecated'
    
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit c17d16be76d54038e95bb93b91688a656e7fd983
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 19 12:31:06 2009 +0100

    Start 0.9.0 development

 NEWS         |    5 +++++
 configure.ac |    4 ++--
 2 files changed, 7 insertions(+), 2 deletions(-)

commit 7623263e62a46108e1c404be72f9e01011ff9b64
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 19 12:30:17 2009 +0100

    Start 0.8.1 development (stable branch)

 NEWS         |    5 +++++
 configure.ac |    2 +-
 2 files changed, 6 insertions(+), 1 deletions(-)

commit f752b8e3a5afe34acf7ab8ff4fdf0a63ce20afee
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 10 11:38:29 2009 +0100

    search_helper.py: use make_result_iq

 tests/twisted/search/search_helper.py |   16 +++++++---------
 1 files changed, 7 insertions(+), 9 deletions(-)

commit e973495a0652fd7d2b68dd943a49f389ae93583d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 10 11:26:34 2009 +0100

    ceci-nest-pas-un-serveur.py: send stream close so Disconnect is properly completed

 tests/twisted/search/ceci-nest-pas-un-serveur.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit d7db4b21df7de4b31997bddf37cb505f9edd5e49
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 10 11:22:48 2009 +0100

    ceci-nest-pas-un-serveur.py: use make_result_iq and send_error_reply

 tests/twisted/search/ceci-nest-pas-un-serveur.py |   31 ++++++++++------------
 1 files changed, 14 insertions(+), 17 deletions(-)

commit 375783ea8b52ddb29a54f2d4a24491b49f0cbfbe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 5 10:53:27 2009 +0100

    extended search results contain a title node

 src/search-channel.c                  |    6 ++++--
 tests/twisted/search/search_helper.py |    2 ++
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 74e07a1cc5aafb078f95e5a6b7e30268291c85c9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 5 10:46:06 2009 +0100

    send_results_extended: search result doesn't contain FORM_TYPE

 tests/twisted/search/search_helper.py |    5 -----
 1 files changed, 0 insertions(+), 5 deletions(-)

commit 712a0697875bb32ea26b2e6e64a75ca0dd89615a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 5 10:44:38 2009 +0100

    parse_extended_search_results: ignore <reported> node and fix debug message if we hit an unknown node

 src/search-channel.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 1c8ee37193a706e9d0dca701b07a89d24e58a95a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 5 10:37:09 2009 +0100

    send reported fields in extended search results

 tests/twisted/search/extended.py      |   10 +++++-----
 tests/twisted/search/search_helper.py |    9 +++++++--
 2 files changed, 12 insertions(+), 7 deletions(-)

commit cad950b978623d45d37ce7e7798fea42ea9737a1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 4 11:01:32 2009 +0100

    gabble_search_channel_finalize: free  available_search_keys

 src/search-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 3f01169e8f1b9d55df8454bfb4d83e39d6eede63
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 4 10:50:32 2009 +0100

    fix test to catch all the search result in one SearchResultReceived signal

 tests/twisted/search/extended.py   |   68 ++++++++++++++++++-----------------
 tests/twisted/search/unextended.py |   24 ++++++------
 2 files changed, 47 insertions(+), 45 deletions(-)

commit 13344d0eb9a1c9a4e51d26f8d70f97ebaf668324
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 4 10:50:05 2009 +0100

    constants.py: ContactSearch is now DRAFT2

 tests/twisted/constants.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c5224426862464b13553905f9a9cda9ab393d5b8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 4 10:48:53 2009 +0100

    search-channel: SearchResultReceived now returns a dict containing all the results

 src/search-channel.c |   51 ++++++++++++++++++++++++++++++-------------------
 1 files changed, 31 insertions(+), 20 deletions(-)

commit f0ea853173a9efdeaba4a11f99f708b63dd08b8c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 4 10:48:31 2009 +0100

    upgrade to latest ContactSearch DRAFT

 extensions/Channel_Type_Contact_Search.xml |   31 +++++++++++++++++++--------
 1 files changed, 22 insertions(+), 9 deletions(-)

commit a0bba8b35a594cadd5aac2f0dc08b469ce986e7c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 3 16:07:41 2009 +0100

    extended.py: test openfire search

 tests/twisted/search/extended.py |   42 +++++++++++++++++++++++++++++++++++--
 1 files changed, 39 insertions(+), 3 deletions(-)

commit 501801daa337d5499a6806dd709d32fd7789a9b0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 3 16:07:25 2009 +0100

    search-channel: implement openfire search

 src/search-channel.c |   42 ++++++++++++++++++++++++++++++++++++++----
 1 files changed, 38 insertions(+), 4 deletions(-)

commit 3b6421820f6ebb6419da66e2aafc68844d972c7c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 3 14:07:30 2009 +0100

    add search/no-server-property.py

 tests/twisted/Makefile.am                  |    1 +
 tests/twisted/search/no-server-property.py |   65 ++++++++++++++++++++++++++++
 2 files changed, 66 insertions(+), 0 deletions(-)

commit b511270ba23bd3f895db7e7ee0ff15d4e7ca5dff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 3 14:03:19 2009 +0100

    search-manager: use the server's JUD if no Server has been specified

 src/search-manager.c |   66 ++++++++++++++++++++++++++++++++++++++++++++-----
 1 files changed, 59 insertions(+), 7 deletions(-)

commit a1b7dac7aa80ac3eccdbc0f365da59c23c74d648
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 3 12:06:17 2009 +0100

    store only supported fields in tp_to_xmpp so we can map to the right one

 src/search-channel.c               |   57 ++++++++++++++++++++++-------------
 tests/twisted/search/extended.py   |    5 +--
 tests/twisted/search/unextended.py |    4 +-
 3 files changed, 39 insertions(+), 27 deletions(-)

commit ecad75d4a995f14fb30dc4cc4c2e9abab7b5d94a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 3 11:39:36 2009 +0100

    emit_search_result: use the xmpp_to_tp hash table instead of hard coding fields
    
    This had the side effect to to expose the "x-n-family" and "x-n-given"
    info field in the search result which is probably what we want.

 src/search-channel.c               |   69 +++++++++++++++++++----------------
 tests/twisted/search/extended.py   |   28 ++++++++++-----
 tests/twisted/search/unextended.py |    4 ++-
 3 files changed, 59 insertions(+), 42 deletions(-)

commit 7021cd773e992e30a8b93d70026c14ed16c844c7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 3 11:33:18 2009 +0100

    unextended.py: search fields have been broken for now

 tests/twisted/search/unextended.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 335c24e1d77d397a8f36071567c4696ed3897c8d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jul 31 17:04:53 2009 +0100

    complete_search: add a test using given/family/nickname fields

 tests/twisted/search/extended.py |   40 +++++++++++++++++++++++++++++++++++++-
 1 files changed, 39 insertions(+), 1 deletions(-)

commit e86957944eec5e546842a5b066e69f350b80211e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jul 31 17:03:18 2009 +0100

    "given", "family" and "nickname" seem to be validate field for dataform searches.
    
    This unfortunally break existing test as Gabble will use these fields
    even if the server supports the other ones.

 src/search-channel.c             |    3 +++
 tests/twisted/search/extended.py |    5 ++++-
 2 files changed, 7 insertions(+), 1 deletions(-)

commit 2da1dc107ed17e506c51801e1df23dbe75278c4f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jul 31 16:21:34 2009 +0100

    Add a FIXME about unclear first/last mapping

 src/search-channel.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 38cb7d7b3bbe1fa45e5f054a63ea17a300c9f3f6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jul 31 15:10:47 2009 +0100

    do_search: search request are actually 'set' IQ's

 src/search-channel.c                  |    2 +-
 tests/twisted/search/search_helper.py |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 68849d7772066992306dbe696c94315bfdbe5547
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jul 31 15:06:40 2009 +0100

    'x' node should contain a type attribute when sending search request

 src/search-channel.c             |    5 ++++-
 tests/twisted/search/extended.py |    2 +-
 2 files changed, 5 insertions(+), 2 deletions(-)

commit bb35acaeb585c2ddbb59b6445a5bf68f5f17643d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 3 12:30:56 2009 +0100

    add search/extended.py testing extended contact search

 tests/twisted/Makefile.am        |    1 +
 tests/twisted/search/extended.py |  153 ++++++++++++++++++++++++++++++++++++++
 2 files changed, 154 insertions(+), 0 deletions(-)

commit 5a4913de4efc43f017bd2b852678bf5bce27b846
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jul 31 13:03:23 2009 +0100

    search_helper.py: add send_results_extended

 tests/twisted/search/search_helper.py |   25 +++++++++++++++++++++++++
 1 files changed, 25 insertions(+), 0 deletions(-)

commit 9595ef2ac5348a15885a3d0fa206014c24f4002c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 3 12:36:57 2009 +0100

    search-channel.c: support dataform searches

 src/search-channel.c |  270 ++++++++++++++++++++++++++++++++++++++++++++++----
 1 files changed, 250 insertions(+), 20 deletions(-)

commit 90489957962c9d926458772f5c92100287278b87
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jul 31 12:04:01 2009 +0100

    emit_search_result: display the keys that have been ignored

 src/search-channel.c |   11 ++++++++++-
 1 files changed, 10 insertions(+), 1 deletions(-)

commit 8206e283ff32a78feabb25ed89a48be822c1ac3f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jul 31 13:00:47 2009 +0100

    pass search terms to make_search

 tests/twisted/search/search_helper.py |    3 +--
 tests/twisted/search/unextended.py    |    4 ++--
 2 files changed, 3 insertions(+), 4 deletions(-)

commit 1b1bceceda34b0a31da0b67cbc43c1218943f657
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jul 31 12:03:32 2009 +0100

    emit_search_result: initialize the handle to 0

 src/search-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit aa6f4b72c2d2c4db1671062361731b14a1b2b4e2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jul 31 10:25:54 2009 +0100

    parse_unextended_field_response: have to use unextended_xmpp_to_tp

 src/search-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 100f3a0f0e94c1e290e354f3aa4815a22509773a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 30 18:01:33 2009 +0100

    search/search_helper.py: add answer_extended_field_query

 tests/twisted/search/search_helper.py |   46 ++++++++++++++++++++++++++++++---
 1 files changed, 42 insertions(+), 4 deletions(-)

commit 196c6fd1da07f5e730a8047fc6187c549960c1e4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 30 16:49:19 2009 +0100

    search/unextended.py: no need to disconnect the connection

 tests/twisted/search/unextended.py |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit fc65d87ec761d943e5d4f01a6653aa9e4b5ee0eb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 3 12:26:03 2009 +0100

    create search_helper.py containing search test utility functions

 tests/twisted/Makefile.am             |    1 +
 tests/twisted/search/search_helper.py |   66 +++++++++++++++++++++++++++++++++
 tests/twisted/search/unextended.py    |   63 +------------------------------
 3 files changed, 70 insertions(+), 60 deletions(-)

commit ddf199a3e23140fda4b9835efae81bf1aced2d9a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 30 16:30:46 2009 +0100

    upgrade ContactInfo spec to latest DRAFT

 extensions/Connection_Interface_Contact_Info.xml |   78 ++++++++++++++--------
 1 files changed, 51 insertions(+), 27 deletions(-)

commit e73fea4298aae4ceb0fc4d71d52c66a1315f831e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 30 15:57:06 2009 +0100

    fix forbid

 tests/twisted/search/unextended.py |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit 61942b6053e82b48c515801dfac6889823d8f9dd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 30 15:37:59 2009 +0100

    search/unextended.py: use q.forbid_events instead of connecting to the unexpected D-Bus signal

 tests/twisted/search/unextended.py |   10 ++--------
 1 files changed, 2 insertions(+), 8 deletions(-)

commit 3214ded71610a97abd60e58f1471320ce227f688
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 30 15:30:33 2009 +0100

    use constants for StatusChanged arguments

 tests/twisted/search/ceci-nest-pas-un-serveur.py |    3 ++-
 tests/twisted/search/unextended.py               |    3 ++-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 859fa5d10c08c27844be7ca2ca1079ef57d3d327
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 30 15:23:54 2009 +0100

    parse_result_item: don't leak the info hash table

 src/search-channel.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit c6164678c5b47176c5b81fd0c9ecdcfb881139ca
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 30 14:40:17 2009 +0100

    gabble_search_manager_foreach_channel_class: use tp_g_value_slice_new_string

 src/search-manager.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 821019befbdc96fb362d88af56a33d51bc752e1b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 3 12:09:42 2009 +0100

    search-channel: use NodeIter

 src/search-channel.c |   16 ++++++++++------
 1 files changed, 10 insertions(+), 6 deletions(-)

commit 49cf3b960313fd21253713b067af74f83434cddf
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Feb 23 13:32:30 2009 +0000

    Test calling Stop() in various circumstances

 tests/twisted/search/ceci-nest-pas-un-serveur.py |    8 +
 tests/twisted/search/unextended.py               |  149 ++++++++++++++++------
 2 files changed, 119 insertions(+), 38 deletions(-)

commit 5d88ccf9997d196a50624fabb9c3f4387ec9c8a1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Feb 23 13:29:38 2009 +0000

    Implement SearchChannel.Stop()

 src/search-channel.c |   43 +++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 43 insertions(+), 0 deletions(-)

commit 752a6605853d83f24c9aebe52048c0179d83229e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Feb 23 12:03:20 2009 +0000

    Update to even newer spec draft

 extensions/Channel_Type_Contact_Search.xml |   85 +++++++++++++++++++---------
 src/search-channel.c                       |   15 +++++
 tests/twisted/constants.py                 |    5 +-
 3 files changed, 76 insertions(+), 29 deletions(-)

commit 24b4a017b565fce1d6afc754fc7883674fcdcdb1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Feb 17 23:29:30 2009 +0000

    Make search-state a read-only property.
    
    I think this works out cleaner.

 src/search-channel.c |  166 +++++++++++++++++++++++---------------------------
 1 files changed, 76 insertions(+), 90 deletions(-)

commit 91bbe367091f0e5f7c0f613e54d9c90d572af2ec
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Feb 17 23:02:54 2009 +0000

    Test a couple of ways the search can fail

 tests/twisted/constants.py                       |    1 +
 tests/twisted/search/ceci-nest-pas-un-serveur.py |   73 +++++++++++++++++++++-
 2 files changed, 73 insertions(+), 1 deletions(-)

commit f1b3b6dcca48d93a4cdb2ccac5632706c80061ae
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Feb 17 23:02:25 2009 +0000

    Include failure reason in SearchStateChanged

 src/search-channel.c |   92 ++++++++++++++++++++++++++++++++++++++-----------
 1 files changed, 71 insertions(+), 21 deletions(-)

commit 753655357082d6e994327c543a49bb667987eb03
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Feb 17 22:52:37 2009 +0000

    Correct message when search response has no <query>

 src/search-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 59e459b2a8385cb8ea0689336bde3b858057e6be
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Feb 17 19:09:24 2009 +0000

    Move to state Failed if searching fails

 src/search-channel.c |   12 ++++++++----
 1 files changed, 8 insertions(+), 4 deletions(-)

commit e2261ee0f03f826bdb47f5b1845eda5a249b4a03
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Feb 17 18:50:25 2009 +0000

    Add a GError holding the reason a search failed

 src/search-channel.c |   43 ++++++++++++++++++++++++++++++++++++++-----
 1 files changed, 38 insertions(+), 5 deletions(-)

commit cfa0b9ad7dfb50d7a5ce7991dd69478bdf97b642
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Feb 17 18:59:25 2009 +0000

    Update to latest ContactSearch spec draft

 extensions/Channel_Type_Contact_Search.xml |  175 ++++++++++++++++++++++++----
 src/search-channel.c                       |   12 ++-
 2 files changed, 160 insertions(+), 27 deletions(-)

commit 61922c548f069143d0cc1b91aae9212bdc6f6f85
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Feb 14 01:08:01 2009 +0000

    Add stub xforms block to do_search

 src/search-channel.c |   12 +++++++++++-
 1 files changed, 11 insertions(+), 1 deletions(-)

commit 6bf68a4863a8f1ebc29e9d674c4d91f6c1cf4e29
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Feb 14 01:06:07 2009 +0000

    Break do_search into smaller pieces

 src/search-channel.c |   65 ++++++++++++++++++++++++++++++++++---------------
 1 files changed, 45 insertions(+), 20 deletions(-)

commit e6749dd502ecbd03ec7ff476bdadff336a86c37d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Feb 14 00:49:10 2009 +0000

    Add a flag for whether the search server uses xforms

 src/search-channel.c |   14 +++++++++++---
 1 files changed, 11 insertions(+), 3 deletions(-)

commit bbf14db90e6b39aa56c0b4793cc0de0d36e44aae
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Feb 14 00:47:26 2009 +0000

    Extract parsing unextended supported fields to a function

 src/search-channel.c |   59 ++++++++++++++++++++++++++++----------------------
 1 files changed, 33 insertions(+), 26 deletions(-)

commit 0dbd128f81a9be87c46e708f663a4b80886f117d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Feb 13 19:20:42 2009 +0000

    Test that search channels release handles when closed

 tests/twisted/search/unextended.py |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 1be7487bd29ac487063cfc6669ba2c0b21d98e74
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Feb 13 19:11:10 2009 +0000

    Test unextended contact searches.

 tests/twisted/search/unextended.py |   48 ++++++++++++++++++++++++++++++++++-
 1 files changed, 46 insertions(+), 2 deletions(-)

commit 11b4474ad37d1a787231cc1af3db471ead9ea364
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Feb 13 19:07:00 2009 +0000

    Parse the results of unextended searches.

 src/search-channel.c |  212 ++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 212 insertions(+), 0 deletions(-)

commit 885fdf7bad650066189684b5cafbea38f942475b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 11 16:43:47 2009 +0000

    BaseChannel: ref handles in constructed.
    
    This means subclasses can set the target and initiator etc. in their
    constructor.

 src/base-channel.c |   24 +++++++++---------------
 1 files changed, 9 insertions(+), 15 deletions(-)

commit 9618dc7517130371781040df3d2e2689bd55040f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 11 12:00:43 2009 +0000

    Clarify function names and add section comments

 src/search-channel.c |   22 +++++++++++++---------
 1 files changed, 13 insertions(+), 9 deletions(-)

commit aca9b28b22b368ff0e11294bca861c708ce64b16
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 11 11:39:14 2009 +0000

    Add a handle set to hold contacts from search results

 src/search-channel.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit a5bdb8ac75aa9830d0df5e65c7810536390d8409
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 11 11:35:22 2009 +0000

    SearchChannel's dispose should chain up

 src/search-channel.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 7c617eb9c5358030e1f52fbdba14e5b03fe2850e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Feb 10 23:41:03 2009 +0000

    Test Gabble sends search terms correctly

 tests/twisted/constants.py         |    4 ++++
 tests/twisted/search/unextended.py |   29 +++++++++++++++++++++++++++++
 2 files changed, 33 insertions(+), 0 deletions(-)

commit 223ddddf7778ef26d907db0e215601193a6c2a0a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Feb 10 19:32:10 2009 +0000

    Implement sending a search query

 src/search-channel.c |  111 +++++++++++++++++++++++++++++++++++++++++++++-----
 1 files changed, 101 insertions(+), 10 deletions(-)

commit bb5b7dda8fa0dead3fcb9e7d1718c93a8f13bbee
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Feb 8 22:03:46 2009 +0000

    Add some debugging output to changing search state

 src/search-channel.c |   16 +++++++++++++---
 1 files changed, 13 insertions(+), 3 deletions(-)

commit 578ffb284ff70de35d7d292be92308cb1b0d3a89
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Feb 10 19:00:43 2009 +0000

    Use mapping table when parsing unextended search fields

 src/search-channel.c |   18 +++++++++---------
 1 files changed, 9 insertions(+), 9 deletions(-)

commit 9256dc50fd6504f1679c456a3ec2b3fb05b9a7f5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Feb 10 18:55:30 2009 +0000

    Build dicts mapping XEP 0055 <-> Tp search field names

 src/search-channel.c |   62 ++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 62 insertions(+), 0 deletions(-)

commit 776f1d7ad07cd680714e751d9e46b0105cebd72e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Feb 10 18:18:17 2009 +0000

    Use search server name in object path

 src/search-channel.c |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit 39789a723f79cc99f1a19f90ff16dbbdeee18bd3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Feb 10 18:13:01 2009 +0000

    Search channels should only appear on the bus when ready

 src/base-channel.c   |   35 ++++++++++++++++++-----------------
 src/base-channel.h   |    2 ++
 src/search-channel.c |    1 +
 3 files changed, 21 insertions(+), 17 deletions(-)

commit fa1167b59ef125e66caf1877bf0310997dcdeca7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Feb 10 17:59:40 2009 +0000

    Replace 'probed' with 'ready-or-not' with a GError

 src/search-channel.c |   80 +++++++++++++++++++++++++++++++++++--------------
 src/search-manager.c |   33 +++++++++++++++-----
 2 files changed, 82 insertions(+), 31 deletions(-)

commit e8dd0eab18602a0adee0cd160811cccd3a2686d5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Feb 10 15:38:09 2009 +0000

    Test poking various non-functional search services

 tests/twisted/Makefile.am                        |    1 +
 tests/twisted/search/ceci-nest-pas-un-serveur.py |   81 ++++++++++++++++++++++
 2 files changed, 82 insertions(+), 0 deletions(-)

commit 32d66a40935b405eb30f117156187f07df2d44e1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Feb 10 15:31:45 2009 +0000

    Test asking the server for available search keys

 tests/twisted/constants.py         |    3 +++
 tests/twisted/search/unextended.py |   34 ++++++++++++++++++++++++++++++++--
 2 files changed, 35 insertions(+), 2 deletions(-)

commit e4693f6961096565d65e597cced9f62f008120bc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Feb 10 11:50:23 2009 +0000

    Fetch non-xforms search fields from server

 src/search-channel.c |  119 +++++++++++++++++++++++++++++++++++++++++++++++--
 tests/twisted/ns.py  |    1 +
 2 files changed, 115 insertions(+), 5 deletions(-)

commit b94bb989d7a119b51e8aaabfcd37082830830f75
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Feb 9 16:54:07 2009 +0000

    Add jabber:iq:search namespace

 src/namespaces.h |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 934dc94d7f2b34621167441c81da9f5d492ff81b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Feb 9 16:45:03 2009 +0000

    Remove search channels to invalid servers

 src/search-manager.c |   13 ++++++++++---
 1 files changed, 10 insertions(+), 3 deletions(-)

commit c50a1b5b5347397f298fe1aa037623e27660a3f6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Feb 9 16:35:38 2009 +0000

    Make SearchChannels remain closed until they're ready

 src/search-channel.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 050f8cc5a1ed51cf8dfde2ffe43db8d734a89d85
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Feb 9 16:27:53 2009 +0000

    SearchChannel: emit Closed if necessary in finalizer

 src/search-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit fd27db628d39f1c7ebb75a799f1f4b3dd8ba26d6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Feb 9 16:27:06 2009 +0000

    SearchChannel: extract closing to a function.

 src/search-channel.c |   26 ++++++++++++++++----------
 1 files changed, 16 insertions(+), 10 deletions(-)

commit afb4119873f5399dd6c2dbff997818ad26980a08
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Feb 9 16:01:58 2009 +0000

    Return from SearchChannel requests when 'probed' is emitted

 src/search-manager.c |   58 ++++++++++++++++++++++++++++++++++++++++++++++---
 1 files changed, 54 insertions(+), 4 deletions(-)

commit a95979385ba418a9137a3d5938b940ec684a6ea1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Feb 9 15:01:14 2009 +0000

    Pretend to have discovered supported search fields.

 src/search-channel.c |   18 ++++++++++++++++++
 1 files changed, 18 insertions(+), 0 deletions(-)

commit 7445ee1f1f1fac41fce33670885617fab7309dd9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Feb 9 14:58:57 2009 +0000

    Add a signal for discovery of supported search fields.

 src/search-channel.c |   22 ++++++++++++++++++++++
 1 files changed, 22 insertions(+), 0 deletions(-)

commit f25fc08fd580052e43482292037e2e80123ee6b4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Feb 8 21:58:19 2009 +0000

    Add the beginnings of a contact search test

 tests/twisted/Makefile.am          |    1 +
 tests/twisted/constants.py         |    3 ++
 tests/twisted/search/unextended.py |   38 ++++++++++++++++++++++++++++++++++++
 3 files changed, 42 insertions(+), 0 deletions(-)

commit 495735bf569ea4ce2d132912645c893b42e710a2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Feb 10 15:58:01 2009 +0000

    Create search channels in response to requests

 src/search-manager.c |   49 ++++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 48 insertions(+), 1 deletions(-)

commit eada1b1c5ad914f547542aa0f0a6885d6501c4f0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Feb 8 20:22:11 2009 +0000

    Add a stub ContactSearch channel implementation

 src/Makefile.am      |    2 +
 src/search-channel.c |  295 ++++++++++++++++++++++++++++++++++++++++++++++++++
 src/search-channel.h |   63 +++++++++++
 3 files changed, 360 insertions(+), 0 deletions(-)

commit a9974f6d4abd5281049ba4968f31e860372dd0f3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Feb 6 12:59:06 2009 +0000

    Add a base class for channel implementations.
    
    I'm sick of copy-pasting a big list of properties and implementations.

 src/Makefile.am    |    2 +
 src/base-channel.c |  454 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/base-channel.h |   82 ++++++++++
 src/debug.c        |    1 +
 src/debug.h        |    1 +
 5 files changed, 540 insertions(+), 0 deletions(-)

commit d180efa8662806f9e0222d099b82f26becef8fed
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Feb 6 12:57:06 2009 +0000

    Add a set of channels to SearchManager

 src/search-manager.c |   19 +++++++++++++++++++
 1 files changed, 19 insertions(+), 0 deletions(-)

commit 4cce198b8b24b480d514b1df66d7bf5fd3def4c7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Feb 5 18:29:22 2009 +0000

    Hook SearchManager up to the Connection.

 src/connection.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 01121a5559c32eb43480dfd7cd4b79a5dc918faa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Feb 5 18:29:04 2009 +0000

    Add a stub TpChannelManager for ContactSearch channels

 src/Makefile.am      |    2 +
 src/search-manager.c |  267 ++++++++++++++++++++++++++++++++++++++++++++++++++
 src/search-manager.h |   62 ++++++++++++
 3 files changed, 331 insertions(+), 0 deletions(-)

commit 8d996e0af896e7b9361145cacc5750c1b325c9e0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Feb 5 18:28:37 2009 +0000

    Add a debug flag for contact search.

 src/debug.c |    1 +
 src/debug.h |    1 +
 2 files changed, 2 insertions(+), 0 deletions(-)

commit 4383aa10c245edd08107b1a5638cd260d0f0df3c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Feb 5 18:27:53 2009 +0000

    Add ContactSearch draft.
    
    Also add ContactInfo draft for the cross-referenced types.

 extensions/Channel_Type_Contact_Search.xml       |  284 ++++++++++++++++
 extensions/Connection_Interface_Contact_Info.xml |  393 ++++++++++++++++++++++
 extensions/all.xml                               |    3 +
 3 files changed, 680 insertions(+), 0 deletions(-)

commit 0706811750ad56e67bae503fea78a1c57aa432dd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 19 10:26:26 2009 +0100

    servicetest.py: BaseException.message has been deprecated
    
    Since Python 2.6, BaseException.message has been deprecated (see PEP
    352). We should use the string representation instead.

 tests/twisted/servicetest.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2de06ae280708406e44750513af61af9318d06e5
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 18 16:44:31 2009 +0100

    version 0.8.0

 NEWS         |   17 ++++++++++++++---
 configure.ac |    6 +++---
 2 files changed, 17 insertions(+), 6 deletions(-)

commit 4abc69efd834a5e2dc70ceef8873e4af6af26148
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 17 10:52:40 2009 +0100

    conn-location: no need to include extensions.h any more

 src/conn-location.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit b4aa8781b908ef8e75df82d874fdf2f2da9013e8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 17 10:43:35 2009 +0100

    NEWS: document tp-glib bump version and that Location and Debug are now stable

 NEWS |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 155934e4bb52dda828601669c17dd11529afe824
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 17 10:33:37 2009 +0100

    extension: stop generating code for Location

 extensions/Connection_Interface_Location.xml |  400 --------------------------
 extensions/Makefile.am                       |    1 -
 extensions/all.xml                           |    1 -
 3 files changed, 0 insertions(+), 402 deletions(-)

commit 315f68bea45000783a4916e468e195d028d56153
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 17 10:40:20 2009 +0100

    Use tp-glib API to implement Location interface

 src/conn-location.c |   19 ++++++++++---------
 src/connection.c    |    6 +++---
 2 files changed, 13 insertions(+), 12 deletions(-)

commit b5b6f2e22ac11803760f92ca71b71f3dc5eeee85
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 17 10:38:49 2009 +0100

    Bump tp-glib dep to 0.7.34. We need it for Location API

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 92b49e253adb1cc57d0c73a7364d4679ff1e3182
Merge: 0259028 f19ddc0
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Aug 17 19:44:11 2009 +0100

    Merge branch 'vcard'
    
    Reviewed-by: Will Thompson

commit f19ddc0be99d7f04ca987173512519e9fe28b0c7
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Aug 17 16:56:04 2009 +0100

    use g_timeout_add_seconds() instead of g_timeout_add() where possible

 src/connection.c           |    2 +-
 src/disco.c                |    5 ++---
 src/muc-channel.c          |   11 ++++++-----
 src/request-pipeline.c     |    4 ++--
 src/vcard-manager.c        |   14 +++++++-------
 tests/twisted/main-debug.c |    2 +-
 6 files changed, 19 insertions(+), 19 deletions(-)

commit 0259028c08989d8b7ca959e71bd7530f0fe712f3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 17 12:48:02 2009 +0100

    test-handles: stop exercising handle-holding by clients
    
    This is telepathy-glib functionality, not Gabble functionality, so there
    should be no need for us to test it here (I've copied this test into
    telepathy-glib and adapted it, instead).
    
    This test would also cause a critical warning in a future telepathy-glib,
    because the bus name we're using is not actually syntactically valid.
    
    Reviewed-by: Dafydd Harries <dafydd.harries@collabora.co.uk>

 tests/test-handles.c |   18 ------------------
 1 files changed, 0 insertions(+), 18 deletions(-)

commit 52e639f8944b636c843ba7a1fe573a7a0969405a
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Aug 17 16:42:08 2009 +0100

    add test case for vCard get request failing during vCard update

 tests/twisted/Makefile.am                |    1 +
 tests/twisted/vcard/update-get-failed.py |   40 ++++++++++++++++++++++++++++++
 2 files changed, 41 insertions(+), 0 deletions(-)

commit ef8e65f8a15e9f225d8e752064eacae2fee4f2b1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Aug 17 15:01:28 2009 +0100

    request pipeline: pass in error from result stanza as GError to callback
    
    This allows vCard error handling to be greatly simplified.

 src/request-pipeline.c |   16 +++++++++++++++-
 src/vcard-manager.c    |   45 ++++++---------------------------------------
 2 files changed, 21 insertions(+), 40 deletions(-)

commit f0e917a2156dfa837e8621f94de0c152fe49718f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Aug 17 14:57:46 2009 +0100

    replace_reply_cb(): cancel all pending vCard edit requests if there was an error
    
    Previously, we only cancelled an edit request if req->set_in_pipeline was set,
    which was only set when the set request was sent. Hence, if you made a vCard
    change which depended on a get request that failed, your callback would never
    be called.

 src/vcard-manager.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 90d108ed24fb7acd6cd4aea0599108942587f041
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Aug 17 14:55:59 2009 +0100

    remove unnecessary cast

 src/vcard-manager.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 97b7358d1ade53189c919de21795f35109fa406f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Aug 17 14:51:58 2009 +0100

    add error name and message to dbus-error event

 tests/twisted/servicetest.py |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 4fa4a37fc1222d6bfc312a575854dc12a6d517dc
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Aug 17 14:07:51 2009 +0100

    remove invalid assertion
    
    replace_reply_cb() can be called when we don't have a vCard set request in
    progress, so it's wrong to assert that priv->edit_pipeline_item is not NULL.
    Specifically, it's called when a pre-set get request fails.

 src/vcard-manager.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 1b3b75b3905f6074e162812543f1b082089c35a2
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Aug 17 13:39:48 2009 +0100

    _elem_add(): clarify error message

 tests/twisted/gabbletest.py |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit a0e1ddad9446ae472d64ccd3b625b547c311dba0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 17 10:18:30 2009 +0100

    sync Debug interface with undrafted version in spec

 extensions/Debug.xml        |    5 ++---
 tests/twisted/test-debug.py |    2 +-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit 85ec3c4157337e25ae29b68774c6df99a8a87a08
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Aug 14 18:38:50 2009 +0100

    increase vCard + pipeline timeouts to 3m, and pipeline length to 10

 src/request-pipeline.c |    4 ++--
 src/vcard-manager.c    |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 5c332eeac0c4d2174a39c2b6c6c1e98d6a2d70d9
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Aug 14 18:36:26 2009 +0100

    use vCard default timeout, not pipeline default timeout, for vCard set requests
    
    For consistency.

 src/vcard-manager.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 2d382bce697829c191c966083e9360b84b77f6d5
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Aug 14 18:34:09 2009 +0100

    start request timeout when item is sent, not when it is enqueued
    
    This prevents vCard requests getting cancelled before they are sent because
    items earlier in the queue took too long.

 src/request-pipeline.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 95bba8c6b63a7cba2b57d4b2617217d7a0ea3b56
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Aug 14 18:33:24 2009 +0100

    actually set timeout on new request pipeline items

 src/request-pipeline.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit bdd14973ae4ea4ec3b1b7966a607ceda30282482
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Aug 14 18:31:08 2009 +0100

    hoist timeout_cb definition to avoid forward references later

 src/request-pipeline.c |   50 ++++++++++++++++++++++++------------------------
 1 files changed, 25 insertions(+), 25 deletions(-)

commit bd1afa448cd32a9093f28212c97742844586232f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Sun Aug 16 18:23:44 2009 +0100

    sync location interface with undrafted version in spec

 extensions/Connection_Interface_Location.xml |   16 +++++++++++++---
 tests/twisted/constants.py                   |    2 +-
 2 files changed, 14 insertions(+), 4 deletions(-)

commit 25d660ce09ae551d3fbfc0738b7818d244f4dd1e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 14 13:44:28 2009 +0100

    test-location.py: test that location is supported by the Contacts interface

 tests/twisted/test-location.py |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit e93d3212afd7359725ccca1b43c9a1b58b55c818
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 14 13:44:01 2009 +0100

    add support for the 'location' attribute in the Contacts interface

 src/conn-location.c |   37 +++++++++++++++++++++++++++++++++++++
 src/conn-location.h |    2 ++
 src/connection.c    |    1 +
 3 files changed, 40 insertions(+), 0 deletions(-)

commit 057bd35f0fc085a9751edb4fc9583f90bdad238e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 14 13:51:40 2009 +0100

    location_get_locations: unref the locations hash table when destroying return_locations
    
    gabble_presence_cache_get_location returns a reffed location so we
    should unref it when we are done with it instead of destroying the
    cached hash table.

 src/conn-location.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 6d960d462736b947af755fc4e16e9ac940837d2d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 14 13:25:07 2009 +0100

    conn-location: factor out get_cached_location_or_query

 src/conn-location.c |   56 ++++++++++++++++++++++++++++++++------------------
 1 files changed, 36 insertions(+), 20 deletions(-)

commit 573d7a9aa7f1f8f12c8a817e77bc80d7d0e692ee
Merge: 073c95a ccd94f6
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Aug 14 14:23:26 2009 +0100

    Merge branch 'vcard'
    
    Reviewed-by: Will Thompson

commit ccd94f6d22d177a65eef79c744146baeea4a1f87
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Aug 14 14:10:51 2009 +0100

    run all tests with fatal warnings and criticals

 tests/Makefile.am                       |    4 +++-
 tests/twisted/tools/exec-with-log.sh.in |    2 +-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 6c185081c525e77caf4ca8bb914b5392d1a21431
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Aug 14 14:10:12 2009 +0100

    remove unused variable

 src/util.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 21da3430f8fbb28e6fd7af066f73fbd1dc91dccd
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Aug 14 14:05:45 2009 +0100

    update .gitignore

 .gitignore |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit e2d42b101c1f7900bbd57486f42dae0dc763afff
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Aug 14 13:34:24 2009 +0100

    gabble_idle_add_weak(): don't remove the weak reference twice
    
    Also, add a test.

 src/util.c                    |   16 +++++++--
 tests/Makefile.am             |    1 +
 tests/test-gabble-idle-weak.c |   77 +++++++++++++++++++++++++++++++++++++++++
 3 files changed, 91 insertions(+), 3 deletions(-)

commit 073c95a46e88330fb5dff9587ea62a9e6d012a58
Merge: a7c8a0b 54c6c27
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 14 12:48:58 2009 +0100

    Merge branch 'location'

commit 2d2df46ad2fd12315af0ad35a3f156c131568851
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 13 19:52:03 2009 +0100

    gabble_idle_add_weak(): don't double-free the context
    
    If the object were finalized before the source were removed, the context would
    be freed twice. I'll get this right one of these patches.

 src/util.c |   11 +++++------
 1 files changed, 5 insertions(+), 6 deletions(-)

commit 48dd20292de40e98f677ad116946df4b05342c98
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 13 19:33:27 2009 +0100

    gabble_idle_add_weak(): remove weak ref when object is finalized

 src/util.c |   45 ++++++++++++++++++++++++++++++++++++++-------
 1 files changed, 38 insertions(+), 7 deletions(-)

commit edd7b48572b12c1be07601dbda9e94715ed2b2ce
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Aug 13 18:15:25 2009 +0100

    Add group flags for remove-with-message.

 src/media-channel.c |   11 +++++++++--
 1 files changed, 9 insertions(+), 2 deletions(-)

commit ffe8d6659714d5c6dc7330d4f90ed12eccb55d91
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Aug 12 19:14:40 2009 +0100

    request pipeline: cancel idle callback when pipeline is freed

 src/request-pipeline.c |    3 ++-
 src/util.c             |   21 +++++++++++++++++++++
 src/util.h             |    1 +
 3 files changed, 24 insertions(+), 1 deletions(-)

commit a7c8a0bfdd1a62ae55f5fc1ea384c1bd14f83923
Merge: d70a8b3 1ef44ec
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Aug 12 16:43:21 2009 +0100

    Merge branch 'tools'
    
    Reviewed-by: Will Thompson

commit 1ef44ecb4beafc397feb048e50908ae2bdb8b625
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Aug 12 16:39:00 2009 +0100

    improve log strip regex for pointers

 tools/log-strip.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 6fa0233593ca61cea05726eaeecc8be19bc3b0ea
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 11 14:48:06 2009 +0100

    add tool for stripping log files for comparison

 tools/log-strip.py |   25 +++++++++++++++++++++++++
 1 files changed, 25 insertions(+), 0 deletions(-)

commit 54c6c274b95b3c8fb4f993f8ffd97368f135eccb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 11 14:41:20 2009 +0100

    test-location.py: use exactly-representable floats

 tests/twisted/test-location.py |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit d70a8b3a9c729035c48ec207073ec6540651ece3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 10 10:22:55 2009 +0100

    jingle/stun-server.py: break race when waiting for the google:jingleinfo IQ
    
    Events ordering isn't garantee. Furthermore, just wait for the Connected
    StatusChanged signal as we don't need the other events.

 tests/twisted/jingle/stun-server.py |   20 +++++++++-----------
 1 files changed, 9 insertions(+), 11 deletions(-)

commit 7ee45e0a3c841b9528ebee196d976dfd09e52d49
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 10 10:33:04 2009 +0100

    jingle/payload-types.py: just wait for the Connected StatusChanged
    
    We don't care about the other events. Furtermore they were racy as their
    ordering weren't garantee.

 tests/twisted/jingle/payload-types.py |    6 ------
 1 files changed, 0 insertions(+), 6 deletions(-)

commit fe4c8be42ff2d9fe3b12d3949849f714f8e02e6c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 7 11:55:07 2009 +0100

    test-location.py: test location update

 tests/twisted/test-location.py |   22 +++++++++++++++++++++-
 1 files changed, 21 insertions(+), 1 deletions(-)

commit 79b96ae32a046e39deff9ac242bd2089f32f2901
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 7 11:44:52 2009 +0100

    test-location.py: test more location key types

 tests/twisted/test-location.py |   17 ++++++++++++++++-
 1 files changed, 16 insertions(+), 1 deletions(-)

commit 1d9f414b78146717848d7192170ad01e7b657e3c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 7 11:02:32 2009 +0100

    simplify add_to_geoloc_node

 src/conn-location.c |   22 +++++++---------------
 1 files changed, 7 insertions(+), 15 deletions(-)

commit 3de04e162327206c2c6791fdf2c6e8ab6a5f4150
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 7 11:00:06 2009 +0100

    add_to_geoloc_node: we are not supposed to get an untested type at the end of the function

 src/conn-location.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit e1a9efb028418245ddd082c796b48af682017128
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 7 10:58:57 2009 +0100

    SetLocation: raise an error if a valid key has an invalid type

 src/conn-location.c            |   34 +++++++++++++++++++++++-----------
 tests/twisted/test-location.py |    9 +++++++++
 2 files changed, 32 insertions(+), 11 deletions(-)

commit 9aebfcf259fdce64f09bd94208ce91616d14a423
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 7 10:40:22 2009 +0100

    location_set_location: use a hash table iterator

 src/conn-location.c |   15 ++++++++++-----
 1 files changed, 10 insertions(+), 5 deletions(-)

commit 5e3c318de706b854349410edd47a9ecb1e840769
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 7 10:33:15 2009 +0100

    create_msg_foreach: discard keys with an invalid type

 src/conn-location.c |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit c305725c0afbacb22863ed58193ec408acec5007
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 6 18:21:25 2009 +0100

    update_location_from_msg: use the type from the mapping
    
    Also uses tp_g_value_slice_new_* helpers.

 src/conn-location.c |   22 +++++++++-------------
 1 files changed, 9 insertions(+), 13 deletions(-)

commit dd8733c1a4c1bf5053ea983545d4ec003d5391b5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 6 18:17:15 2009 +0100

    test-location.py: test to set an unknown key in the Location dict and XMPP reply

 tests/twisted/test-location.py |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 60112c5a734041d4ea3197c1c3fe97841b9ddfdf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 6 18:15:51 2009 +0100

    conn-location.c: add a mapping of location keys to filter actual keys

 src/conn-location.c |  120 ++++++++++++++++++++++++++++++++++++++++++--------
 1 files changed, 100 insertions(+), 20 deletions(-)

commit a27b58d9c1df80dc6ad55523a00b437b3a7b44a5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 6 16:47:14 2009 +0100

    update_location_from_msg: remove accuracy support; it was dropped from the spec for now and current implementation was wrong any way

 src/conn-location.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit c82ab8d5064cc30dbed111f236d81f124d126b3a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 6 16:34:21 2009 +0100

    test-location.py: make more check when calling GetLocations for the second time

 tests/twisted/test-location.py |   14 +++++++++-----
 1 files changed, 9 insertions(+), 5 deletions(-)

commit a2ffade260544879ae1a4dd9f40daf35da596705
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 6 16:27:12 2009 +0100

    test-location.py: make test clearer and check all the keys of the location dict

 tests/twisted/test-location.py |   25 +++++++++++++++++++------
 1 files changed, 19 insertions(+), 6 deletions(-)

commit bc8881210d36fa39740d917a83479ff42b78fb66
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 6 16:08:25 2009 +0100

    test-location.py: check the value in the set IQ when setting our location

 tests/twisted/test-location.py |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit e1440ab89d499e05eaceea0296f3f7e466d94a66
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 6 16:02:01 2009 +0100

    test-location.py; remove D-Bus properties hack

 tests/twisted/test-location.py |   23 ++++++++++-------------
 1 files changed, 10 insertions(+), 13 deletions(-)

commit 9bb7cbbd2512a588d63258f10b47bbe5c69b8f6b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 6 15:59:30 2009 +0100

    servicetest.py: wrap_connection: add Location iface

 tests/twisted/servicetest.py   |    1 +
 tests/twisted/test-location.py |    2 --
 2 files changed, 1 insertions(+), 2 deletions(-)

commit cb2745e296b547409f8f55048dc4c925c541c493
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 6 15:56:11 2009 +0100

    get the language from location updates

 src/conn-location.c            |    8 ++++++++
 tests/twisted/test-location.py |    6 +++++-
 2 files changed, 13 insertions(+), 1 deletions(-)

commit 51ecb9902cc33769c5fdb7f4292bbefe807c277a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 6 15:46:45 2009 +0100

    test-location.py: use ns.py

 tests/twisted/ns.py            |    1 +
 tests/twisted/test-location.py |    6 +++---
 2 files changed, 4 insertions(+), 3 deletions(-)

commit e0c3a5e03ff08d875a862be8131f0973dd6efc40
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 6 16:14:07 2009 +0100

    SetLocation: support language attribute

 src/conn-location.c            |   14 ++++++++++++--
 tests/twisted/test-location.py |   12 ++++++++----
 2 files changed, 20 insertions(+), 6 deletions(-)

commit 826734a3300000f475c5ecf9cd301b0b119c6eec
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 6 15:43:36 2009 +0100

    ns.py: add XML namespace

 tests/twisted/ns.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit c1c58d7af1f851694e9abfbc2a57ab1eebda0538
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 6 15:29:46 2009 +0100

    constants.py: add CONN_IFACE_LOCATION

 tests/twisted/constants.py     |    1 +
 tests/twisted/test-location.py |   20 +++++++++-----------
 2 files changed, 10 insertions(+), 11 deletions(-)

commit 11eb3d9bdf3e48e238e934a7e15bcd3561179943
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 6 15:23:32 2009 +0100

    Connection_Interface_Location.xml: update to latest DRAFT

 extensions/Connection_Interface_Location.xml |  120 +++++++++++++++++++-------
 1 files changed, 90 insertions(+), 30 deletions(-)

commit 9e68bc5618451ea1fe6ae1efa514718a20512b78
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Aug 9 12:50:00 2009 +0100

    Start 0.7.33 development

 NEWS         |   11 +++++++++++
 configure.ac |    2 +-
 2 files changed, 12 insertions(+), 1 deletions(-)

commit b260efa61f16325ec2a88be083704ba096e98127
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Aug 9 11:09:49 2009 +0100

    Release 0.7.32

 NEWS         |   11 +++++++----
 configure.ac |    4 ++--
 2 files changed, 9 insertions(+), 6 deletions(-)

commit ccfea2dc78a347365c8f13f3441af1cc5967dd65
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Aug 9 10:26:30 2009 +0100

    NEWS the vCard fixes

 NEWS |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit 9f70ae0a2bbe3fc2eaeeb0a1c2430ed7c04153a9
Merge: 328eac2 2cd0956
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Aug 9 10:11:43 2009 +0100

    Merge commit 'daf/race-you-to-the-vcard'
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit f7e71212d840b4db270c89e8fce5eb838d516116
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Aug 8 16:04:12 2009 +0100

    Expose <reason><text> as MembersChanged message

 src/jingle-factory.c                               |    5 +-
 src/jingle-session.c                               |   63 ++++++++++++-------
 src/media-channel.c                                |    7 ++-
 tests/twisted/jingle/jingletest2.py                |    8 ++-
 .../twisted/jingle/test-outgoing-call-rejected.py  |   11 ++-
 5 files changed, 62 insertions(+), 32 deletions(-)

commit 109709891562edbbcfe96d8384ead39d7fb72235
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Aug 8 15:54:45 2009 +0100

    Send <reason><text> in session-terminate

 src/jingle-session.c |   12 +++++++++---
 1 files changed, 9 insertions(+), 3 deletions(-)

commit b8ff0d1d25b680e93ee1883a95d54bfe5972d4c5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Aug 8 15:52:33 2009 +0100

    Pass termination reason text to session_terminate()

 src/jingle-factory.c |    2 +-
 src/jingle-session.c |    6 ++++--
 src/jingle-session.h |    4 +++-
 src/media-channel.c  |    7 ++++---
 4 files changed, 12 insertions(+), 7 deletions(-)

commit 2cd0956b3445dbef7329f15d112db98f692cb0cb
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 6 20:01:34 2009 +0100

    add a test for overlapping vCard

 tests/twisted/Makefile.am               |    1 +
 tests/twisted/vcard/overlapping-sets.py |   47 +++++++++++++++++++++++++++++++
 2 files changed, 48 insertions(+), 0 deletions(-)

commit 1dd8cceda43f7e939cc2cf180ca5ded58c016f77
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 6 19:58:06 2009 +0100

    style tweak
    
    Will points out that this means that cscope can see it too.

 src/vcard-manager.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 53191ca47d514f0165d7ef7c5d456987e037d9f8
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 6 19:53:42 2009 +0100

    fix the case where overlapping vCard changes are made
    
    When we receive a reply to an edit request, send off any changes that were
    made in the meantime. Also, when a new edit reqeust is created, check for
    pending set requests as well as pending get requests before generating a bogus
    get request.

 src/vcard-manager.c |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit d45d3ef03fda5ead9b7de1495d67cbd0f06c4984
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 6 19:52:47 2009 +0100

    move checks from pipeline_reply_cb() to manager_patch_vcard()

 src/vcard-manager.c |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit 7f543e0ac7fcb1188bd15f2170b4170be8c8d30a
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 6 16:47:35 2009 +0100

    style tweak in test-vcard-race.py

 tests/twisted/vcard/test-vcard-race.py |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 8ccb7e6db99557952e9d29e5dc72ea985f17fc05
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 6 16:46:42 2009 +0100

    re-enable test-vcard-race.py

 tests/twisted/vcard/test-vcard-race.py |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit 2179dae58db67b9308fb0725f837ad0e1c2ff67a
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 6 16:46:07 2009 +0100

    run Python tests with unbuffered output

 tests/twisted/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7a57af26d7f83f98b71ac68cd531d7104a55eaf0
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 6 14:56:44 2009 +0100

    style tweaks for gabbletest.py

 tests/twisted/gabbletest.py |   12 +++++++-----
 1 files changed, 7 insertions(+), 5 deletions(-)

commit 17b323b63bca64809b67b1c805b093124cc00389
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 6 14:24:15 2009 +0100

    vCard manager: assert that priv->edit_pipeline_request is not NULL before NULLing it

 src/vcard-manager.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 75196330504fb5be7252e478aba0e9c6ce01f623
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 6 14:23:51 2009 +0100

    vCard manager style tweaks

 src/vcard-manager.c |   69 ++++++++++++++++++++++++--------------------------
 1 files changed, 33 insertions(+), 36 deletions(-)

commit 516748c5fb2f2fb2053a748d9cfada2784b53170
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 6 14:21:22 2009 +0100

    eliminate unreachable code in vCard manager

 src/vcard-manager.c |    7 +------
 1 files changed, 1 insertions(+), 6 deletions(-)

commit b73ab1ce521c802dffcff4ea25959e1b802834a8
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 6 13:57:24 2009 +0100

    nicer debug messages for the request pipeline

 src/request-pipeline.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 1486900ee25d907962749896dc34722599790eb3
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 6 13:46:25 2009 +0100

    be less fussy about scheduling pipeline runs when enqueuing a pipeline request
    
    Previously, a queue run would only be scheduled if there were no requests
    currently in flight, as opposed to less than REQUEST_PIPELINE_SIZE.

 src/request-pipeline.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit a3757d868211b814aca0c4ba41babe133bb43ed2
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 6 13:26:55 2009 +0100

    don't send vCard multiple vCard set requests at the same time
    
    This happened to work previously due to some nuances of how the IQ request
    pipeline works, but there were still cases where it broke and Gabble crashed
    due to an assertion failure.

 src/vcard-manager.c |   16 +++++++---------
 1 files changed, 7 insertions(+), 9 deletions(-)

commit 23bbb963ad30282c141716bc0306ed50830ad2ae
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 18 15:28:03 2009 +0100

    Unrace test-vcard-race
    
    This makes test-vcard-race actually test the intended feature, namely
    coalescing vCard updates while there's an outstanding vCard request.
    There were two races:
    
     * The vCard reply sent in response to Gabble's query during connection
       sometimes reached Gabble after the call to SetAliases;
     * The call to SetAvatar sometimes reached Gabble after the reply to the
       vCard request made by SetAliases.
    
    The "wrong" outcome of both races actually reveals an assertion failure
    in Gabble; reliable test to follow.

 tests/twisted/vcard/test-vcard-race.py |   38 ++++++++++++++++++++++++-------
 1 files changed, 29 insertions(+), 9 deletions(-)

commit 328eac2c6749c0167cf9976658f01d9390892b89
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Aug 5 18:43:58 2009 +0100

    Remove vestigial references to timer_id
    
    Daf broke the build, and I reviewed it. Sorry. :(
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 src/jingle-content.c |   20 --------------------
 1 files changed, 0 insertions(+), 20 deletions(-)

commit 667782caa92f5fa70fc6df8d966c5e41359cf08b
Merge: ff1afd0 99edc47
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Aug 5 14:16:09 2009 +0100

    Merge branch 'eternal-call'
    
    Reviewed-by: Will Thompson

commit 99edc47b7726d48ad2ea6c16d4b3481e1e40e5f5
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Aug 5 14:00:02 2009 +0100

    Update NEWS re Jingle timeouts.

 NEWS |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 424d49860e3c4ed92783e5d6599b4b67cf618cbb
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Aug 3 19:01:20 2009 +0100

    remove timeouts from Jingle session initiation and content adding
    
    A timeout on making a call should be client policy. I'm not sure what the
    content add timeout was meant to achieve.

 src/jingle-content.c                          |   18 -------
 src/jingle-session.c                          |   40 --------------
 src/jingle-session.h                          |    3 -
 tests/twisted/Makefile.am                     |    1 -
 tests/twisted/jingle/outgoing-not-answered.py |   69 -------------------------
 tests/twisted/main-debug.c                    |    2 -
 6 files changed, 0 insertions(+), 133 deletions(-)

commit ff1afd0efaea344946e0861714cc965ebd3dab0b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 4 17:38:26 2009 +0100

    remove strace.log before starting tests

 tests/twisted/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 5a7f1fd66e0dc3fe092c484896df83df9464e4a4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 4 17:35:19 2009 +0100

    add strace.log to .gitignore

 .gitignore |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit ea70504662986989af55c8c2885603d02dceed92
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 4 17:34:29 2009 +0100

    add support for GABBLE_TEST_STRACE to run tests inside strace

 tests/README                            |    4 ++++
 tests/twisted/tools/exec-with-log.sh.in |    2 ++
 2 files changed, 6 insertions(+), 0 deletions(-)

commit 776e4cacfa22725075f6a256c46defc7564def1c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jul 30 10:04:03 2009 +0100

    Unrace presence/presence.py

 tests/twisted/presence/presence.py |    9 ++++++---
 1 files changed, 6 insertions(+), 3 deletions(-)

commit 3302067328eb963b5e2f0ace2e0bb2db11454e4c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jul 30 00:31:16 2009 +0100

    Correctly retransmit candidates for each content.
    
    c was not initialized by the time this
    gabble_jingle_content_retransmit_candidates () was called. The fact that
    we've not seen this crash suggests that this code path isn't reached in
    practice.

 src/jingle-session.c |    9 ++++++++-
 1 files changed, 8 insertions(+), 1 deletions(-)

commit c8fa8701ba8cde31fb30b01ab83352a9de2986f5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jul 29 23:57:55 2009 +0100

    Don't fall through on unexpected hold state changes

 src/media-channel-hold.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit aed9f0c9648762266a6b18c767adfc7614405e01
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jul 29 23:56:29 2009 +0100

    Remove unused 'presence' variable
    
    This was left behind when the code to emit closed and send <gone/> was
    refactored into emit_closed_and_send_gone ().

 src/im-channel.c |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit a6a448e77577b3d0267bfe44d5053e88018cb9e6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jul 29 23:55:21 2009 +0100

    Remove unused contact_repo variable

 src/jingle-session.c |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit ca526f773f1ac2ff710729f31d1647a458d014cd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 29 12:54:51 2009 +0100

    tests: use constants for StatusChanged arguments throughout
    
    Also remove some commented-out expectations of StatusChanged, and in
    tubes/accept-muc-dbus-tube.py, import constants as cs rather than c
    to be consistent with other tests.
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

 tests/twisted/avatar-requirements.py               |    3 +-
 tests/twisted/caps/advertise-draft1.py             |    3 +-
 tests/twisted/caps/advertise-legacy.py             |    3 +-
 tests/twisted/caps/caps-cache.py                   |    3 +-
 tests/twisted/caps/hashed-caps.py                  |    3 +-
 tests/twisted/caps/initial-caps.py                 |    3 +-
 tests/twisted/caps/receive-jingle.py               |    3 +-
 tests/twisted/caps/tube-caps.py                    |    3 +-
 tests/twisted/connect/test-nonblocking-tls.py      |   10 +++-
 tests/twisted/connect/test-twice.py                |   13 ++++--
 .../twisted/file-transfer/file_transfer_helper.py  |    3 +-
 .../file-transfer/test-caps-file-transfer.py       |    3 +-
 tests/twisted/jingle/google-relay.py               |    6 ++-
 tests/twisted/jingle/jingletest2.py                |    7 ++-
 tests/twisted/jingle/outgoing-many-streams.py      |    6 ++-
 tests/twisted/jingle/payload-types.py              |    6 ++-
 tests/twisted/jingle/stream-handler-error.py       |    3 +-
 tests/twisted/jingle/stun-server.py                |    6 ++-
 .../jingle/test-wait-for-caps-incomplete.py        |    6 ++-
 tests/twisted/jingle/test-wait-for-caps.py         |    6 ++-
 tests/twisted/muc/name-conflict.py                 |    4 +-
 tests/twisted/muc/renamed.py                       |    4 +-
 tests/twisted/muc/roomlist.py                      |    4 +-
 tests/twisted/muc/send-error.py                    |    3 +-
 tests/twisted/muc/test-ensure.py                   |    3 +-
 tests/twisted/muc/test-muc-invitation.py           |    3 +-
 tests/twisted/muc/test-muc-ownership.py            |    3 +-
 tests/twisted/muc/test-muc-properties.py           |    3 +-
 tests/twisted/muc/test-muc.py                      |    3 +-
 tests/twisted/olpc/change-notifications.py         |    5 +-
 tests/twisted/olpc/current-activity.py             |    5 +-
 tests/twisted/olpc/gadget-invite.py                |    3 +-
 tests/twisted/olpc/gadget-publish.py               |    5 +-
 tests/twisted/olpc/gadget-restarted.py             |    3 +-
 tests/twisted/olpc/olpc-activity-search.py         |    3 +-
 tests/twisted/olpc/olpc-buddy-search.py            |    3 +-
 tests/twisted/olpc/olpc-muc-invitation.py          |    3 +-
 tests/twisted/olpc/olpc-muc-prop-change.py         |    3 +-
 tests/twisted/olpc/test-olpc-bundle.py             |    4 +-
 tests/twisted/olpc/test-olpc-set-props-preload.py  |    1 -
 tests/twisted/olpc/view-presence.py                |    3 +-
 tests/twisted/presence/presence.py                 |    4 +-
 tests/twisted/roster/ensure.py                     |    1 -
 tests/twisted/roster/groups-12791.py               |    1 -
 tests/twisted/roster/groups.py                     |    1 -
 tests/twisted/roster/request-group-after-roster.py |    1 -
 .../twisted/roster/request-group-before-roster.py  |    1 -
 tests/twisted/roster/test-roster.py                |    1 -
 tests/twisted/roster/test-save-alias-to-roster.py  |    3 +-
 tests/twisted/test-debug.py                        |    3 +-
 tests/twisted/test-disco-no-reply.py               |    7 ++-
 tests/twisted/test-disco.py                        |    4 +-
 tests/twisted/test-fallback-socks5-proxy.py        |    3 +-
 tests/twisted/test-location.py                     |    4 +-
 tests/twisted/test-set-status-idempotence.py       |    6 ++-
 tests/twisted/text/destroy.py                      |    3 +-
 tests/twisted/text/ensure.py                       |    3 +-
 tests/twisted/text/initiate-requestotron.py        |    3 +-
 tests/twisted/text/initiate.py                     |    3 +-
 tests/twisted/text/respawn.py                      |    3 +-
 tests/twisted/text/send-error.py                   |    3 +-
 tests/twisted/text/send-to-correct-resource.py     |    3 +-
 tests/twisted/text/test-chat-state.py              |    3 +-
 tests/twisted/text/test-text-delayed.py            |    3 +-
 tests/twisted/text/test-text-no-body.py            |    3 +-
 tests/twisted/text/test-text.py                    |    3 +-
 tests/twisted/tubes/accept-muc-dbus-tube.py        |   43 ++++++++++----------
 tests/twisted/tubes/accept-muc-stream-tube.py      |    3 +-
 tests/twisted/tubes/accept-private-dbus-tube.py    |    3 +-
 tests/twisted/tubes/accept-private-stream-tube.py  |    3 +-
 tests/twisted/tubes/close-muc-with-closed-tube.py  |    3 +-
 tests/twisted/tubes/crash-on-list-channels.py      |    3 +-
 .../twisted/tubes/create-invalid-tube-channels.py  |    3 +-
 tests/twisted/tubes/ensure-si-tube.py              |    3 +-
 tests/twisted/tubes/muc-presence.py                |    4 +-
 tests/twisted/tubes/offer-muc-dbus-tube.py         |    3 +-
 tests/twisted/tubes/offer-muc-stream-tube.py       |    3 +-
 tests/twisted/tubes/offer-no-caps.py               |    3 +-
 tests/twisted/tubes/offer-private-dbus-tube.py     |    3 +-
 tests/twisted/tubes/offer-private-stream-tube.py   |    3 +-
 tests/twisted/tubes/request-invalid-dbus-tube.py   |    3 +-
 tests/twisted/tubes/test-socks5-muc.py             |    3 +-
 tests/twisted/vcard/test-alias-empty-vcard.py      |    4 +-
 tests/twisted/vcard/test-alias.py                  |    4 +-
 tests/twisted/vcard/test-avatar-async.py           |    4 +-
 tests/twisted/vcard/test-avatar-retrieved.py       |    4 +-
 tests/twisted/vcard/test-avatar-tokens.py          |    4 +-
 tests/twisted/vcard/test-avatar.py                 |    4 +-
 tests/twisted/vcard/test-set-alias.py              |    4 +-
 tests/twisted/vcard/test-vcard-cache.py            |    3 +-
 90 files changed, 236 insertions(+), 127 deletions(-)

commit 9fca54220d4dbf10ec863f55ea28b4c2b9fa3cd4
Merge: 9924d26 2f563ec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 29 12:19:10 2009 +0100

    Merge branch 'caps-tests'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 9924d264df5c8b8df07271b1d40a7bb4ece0e53d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Jul 29 02:33:51 2009 +0200

    Test that gabble respects the default fallback stun server

 tests/twisted/jingle/stun-server.py |   17 +++++++++++++++--
 1 files changed, 15 insertions(+), 2 deletions(-)

commit 2f563ec3f42bdf8697cb16a914769714eea5d430
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 28 22:59:18 2009 +0100

    Add a test for the initial capabilities
    
    At the moment, we initially claim to support both non-Google Jingle
    dialects (we always claim to support Google sessions) and all three
    Jingle transports. However, these go away when streamed media capabilities
    are explicitly removed...
    
    For the moment, assume that the current behaviour is good, and assert it.

 tests/twisted/Makefile.am          |    1 +
 tests/twisted/caps/initial-caps.py |   36 ++++++++++++++++++++++++++++++++++++
 2 files changed, 37 insertions(+), 0 deletions(-)

commit 92eb738121190d124ed0a152b70b141735cc94a1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 28 22:52:38 2009 +0100

    Refactor self-caps tests to give better output on failure

 tests/twisted/caps/advertise-draft1.py |   33 +++++++++++++++----------------
 tests/twisted/caps/advertise-legacy.py |   28 +++++++++++++-------------
 tests/twisted/caps/tube-caps.py        |   11 +++++----
 tests/twisted/caps_helper.py           |   31 ++++++++++++++++++-----------
 4 files changed, 55 insertions(+), 48 deletions(-)

commit 4c08294b74710f0cd2d75553d67e0445fb5627b8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 28 22:50:41 2009 +0100

    Actually run advertise-draft1.py

 tests/twisted/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 7319469be92354121a0b4c8691b04ba9e9ba454c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 28 22:50:31 2009 +0100

    Caps tests: explicitly do not test the initial presence
    
    This avoids a race between D-Bus and the stream.

 tests/twisted/caps/advertise-draft1.py |    6 +++++-
 tests/twisted/caps/advertise-legacy.py |    6 +++++-
 2 files changed, 10 insertions(+), 2 deletions(-)

commit 0fc21551a2884a3a34d4d68f2029112e2be736eb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 28 23:19:58 2009 +0100

    src/Makefile.am: use phony targets properly when ensuring gibber is built
    
    This avoids relinking Gabble *every* *single* *time*, which was annoying
    me. To be honest I'm not sure we need this block at all - the only people
    it helps are those who use "make -C src" either initially or after
    changing something in lib, and I assert that those people are strange :-P

 src/Makefile.am |    9 ++++-----
 1 files changed, 4 insertions(+), 5 deletions(-)

commit e97aa7c612aa74673ff38c9abc8a87ae4dd1ab6c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 28 23:11:58 2009 +0100

    Silence generation of marshaller lists (again) as per commit 37653645b3

 lib/gibber/Makefile.am |    4 ++--
 src/Makefile.am        |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 9b8e5406ef195cc5d97f84ea1686371f606a2b2c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Jul 28 21:10:32 2009 +0200

    Add G_PARAM_CONSTRUCT to the fallback-stun-server property
    
    (current) telepathy-glib adds default parameters in the parsed_params
    structure, but doesn't set it in params_present. This causes the gabble
    ConnectionManager implementation not to set default parameters explicitly on
    the Connection. All other parameters work because they already have
    G_PARAM_CONSTRUCT as a flag and have the default connection parameter as the
    default for the property.

 src/connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 0153dcfc95e17916637dcf5e3dc407a25f513e24
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Jul 28 20:28:34 2009 +0200

    Fix parsing of file-transfer timestamps from xmpp

 src/ft-manager.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit d224785eabc87e8bb48d0db6372619f6dc25546f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 28 16:54:51 2009 +0100

    Make Python 2.5 a hard dependency, streamlining checking considerably
    
    Even Maemo has Python 2.5 these days, and in practice developers won't
    test with 2.3.
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

 configure.ac |   29 +++++++++--------------------
 1 files changed, 9 insertions(+), 20 deletions(-)

commit f145acd80b74ea08d9ca07ca783179f7ece9413e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 23 16:49:45 2009 +0100

    roster.c: use lm_message_node_get_attribute_with_namespace instead of assuming the prefix of attributes

 src/roster.c |    9 ++++++---
 1 files changed, 6 insertions(+), 3 deletions(-)

commit 02c7232714a609b178a3ccf435cde7d5312e10c7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 23 16:49:13 2009 +0100

    util.c: add lm_message_node_get_attribute_with_namespace

 src/util.c |   44 ++++++++++++++++++++++++++++++++++++++++++++
 src/util.h |    5 ++++-
 2 files changed, 48 insertions(+), 1 deletions(-)

commit 0a1530d378a0ba805f2ff030630be569d820806b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 28 15:55:54 2009 +0100

    util.c: factor out find_namespace_of_prefix

 src/util.c |   26 ++++++++++++++++++--------
 1 files changed, 18 insertions(+), 8 deletions(-)

commit 2220825fc9171be6ce6ef26e15239510ad37e734
Merge: 6af27fd dccac9b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 28 15:53:03 2009 +0100

    Merge branch 'caps-sanity'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 6af27fd69c6cd39b6418b13018e41fb7442862ff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 28 15:06:01 2009 +0100

    test-set-status-idempotence.py: catch the initial stream-presence when connecting
    
    That way it won't interfere with the future stream-presence send when we
    change our status.

 tests/twisted/test-set-status-idempotence.py |    8 ++++++--
 1 files changed, 6 insertions(+), 2 deletions(-)

commit dccac9bef0f353100f1219b45fcd402e02f23988
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 28 13:55:06 2009 +0100

    caps/advertise-legacy.py: Explicitly check that we cope with what's arguably a bug in MC 5.1.4

 tests/twisted/caps/advertise-legacy.py |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit ec3549c0b6754894e9c88ff509674f5c2b426236
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 28 13:40:53 2009 +0100

    caps/advertise-draft1.py: add a test for the way Mission Control 5.1.4 sets our caps
    
    This should avoid causing regressions.

 tests/twisted/caps/advertise-draft1.py |  149 ++++++++++++++++++++++++++++++++
 tests/twisted/caps/advertise-legacy.py |   55 +-----------
 tests/twisted/caps_helper.py           |   56 ++++++++++++
 3 files changed, 207 insertions(+), 53 deletions(-)

commit b56f1cb4c777cf02f98efb0a0ca0e381490ca47a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 28 12:01:23 2009 +0100

    Document change history of Tubes spec, and the point at which tube caps were defined
    
    This should be uploaded to http://telepathy.freedesktop.org/xmpp/tubes.html
    when it's merged.

 docs/tubes.xml |   45 +++++++++++++++++++++++++++++++++++++++++++--
 1 files changed, 43 insertions(+), 2 deletions(-)

commit 400b556a0a4d4bf1ff476a28bcf5560ce3c8f26d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 4 18:20:17 2009 +0100

    Don't expect ContactCapabilitiesChanged for no caps
    
    We always assume that people can do text channels, so when we retrieve a
    contact's capabilities and they have none, Gabble shouldn't be expected
    to emit ContactCapabilitiesChanged.

 tests/twisted/caps/tube-caps.py |   17 ++++++++++++-----
 1 files changed, 12 insertions(+), 5 deletions(-)

commit 9e1fee7380523722a822c064348c153ca5edebaf
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri May 29 12:55:40 2009 +0100

    Remove spurious debug message.

 src/connection.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 535439ebe90229c87dff5e39011adc120bd8a9a6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jun 3 20:38:29 2009 +0100

    Ignore ContactCapabilities' ordering in tests
    
    It doesn't matter what order the list of contact capabilities is in:
    they're effectively sets.
    
    I would have used set(...) rather than sorted(...), but for Python
    helpfully informing me that "dict objects are unhashable".
    
    [Squashed together with a later commit from the same branch -smcv]

 tests/twisted/caps/tube-caps.py |   21 ++++++++++++---------
 1 files changed, 12 insertions(+), 9 deletions(-)

commit 3c6717cfabe54418758a71663fb4db8efb5b475e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 27 21:21:15 2009 +0100

    Don't advertise support for credentials-passing on platforms where it won't work

 src/tube-stream.c |   11 +++++++++--
 1 files changed, 9 insertions(+), 2 deletions(-)

commit 3b591effd2a56f304a8a4af4539d836a5f08c412
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 27 22:00:51 2009 +0100

    fd.o#22968: GibberUnixTransport: make credential-passing support optional and detectable
    
    Our implementation only works for Linux so far, so we need to be able to
    avoid advertising credential-passing on e.g. Darwin.

 lib/gibber/gibber-unix-transport.c |   47 ++++++++++++++++++++++++++++++++++++
 lib/gibber/gibber-unix-transport.h |    2 +
 2 files changed, 49 insertions(+), 0 deletions(-)

commit 8e02d432e1523697206bc1cb5f36bd64d76cf618
Merge: 04986c3 b563c45
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 27 18:51:07 2009 +0100

    Merge branch 'caps-tests'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 04986c3c689a8a678987046026a7379794f044a2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 27 18:08:18 2009 +0100

    .gitignore: Ignore configure.lineno, config.status.lineno
    
    It seems you get these if your /bin/sh is dash.
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

 .gitignore |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 23147c8607a805a05b4533d19e870ed99ce12965
Merge: 36d44a7 0add83d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 27 18:41:00 2009 +0100

    Merge commit 'cassidy/test-hash'
    
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 36d44a7073e724108acbe2a6ec4e6736d84a5f01
Merge: 5463145 d4b022f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 27 18:40:23 2009 +0100

    Merge commit 'wjt/broken-proxies'
    
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit b563c454bb3157742fa96a95d8fc472ac6f8deb6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 27 17:54:12 2009 +0100

    caps/advertise-legacy.py: new test for advertising Capabilities

 tests/twisted/Makefile.am              |    1 +
 tests/twisted/caps/advertise-legacy.py |  152 ++++++++++++++++++++++++++++++++
 2 files changed, 153 insertions(+), 0 deletions(-)

commit 8fa5e821c0716f7f03672fab404043341bbe2b79
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 27 17:44:54 2009 +0100

    caps_helper: receive_presence_and_ask_caps: allow not expecting the D-Bus signal

 tests/twisted/caps_helper.py |   18 +++++++++++-------
 1 files changed, 11 insertions(+), 7 deletions(-)

commit 4ed944516d8f5e31d51096fdcf5655b4928e09b7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 27 17:44:37 2009 +0100

    test-set-status-idempotence: use constants

 tests/twisted/test-set-status-idempotence.py |   21 ++++++++++-----------
 1 files changed, 10 insertions(+), 11 deletions(-)

commit 3d6a75ee43ab6f4e8fd37b2b1ed7abfcd7ff9e45
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 27 17:44:19 2009 +0100

    ns: add raw UDP

 tests/twisted/ns.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit d3be5dac45dc97f0f6ae01ce8669f2afb7de710d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 27 17:44:11 2009 +0100

    constants: add legacy capability flags for StreamedMedia

 tests/twisted/constants.py |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 77669ae8d18b6e94dd087dcf8dcaba6bdd146402
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 27 16:27:14 2009 +0100

    Move all remaining caps tests to the caps subdirectory
    
    caps_helper has to stay where it is, though, since many tests use it.

 tests/twisted/Makefile.am         |    8 +-
 tests/twisted/caps/caps-cache.py  |  145 ++++++++++++++++
 tests/twisted/caps/hashed-caps.py |  301 ++++++++++++++++++++++++++++++++
 tests/twisted/caps/tube-caps.py   |  342 +++++++++++++++++++++++++++++++++++++
 tests/twisted/test-caps-cache.py  |  145 ----------------
 tests/twisted/test-caps-hash.py   |  301 --------------------------------
 tests/twisted/test-caps-tubes.py  |  342 -------------------------------------
 7 files changed, 792 insertions(+), 792 deletions(-)

commit f3ee3bccd5f05b8f3ab8c5756269c4c4fd6e511a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 27 16:16:12 2009 +0100

    Rename test-capabilities.py to caps/receive-jingle.py
    
    That's all that actually happens in this test.

 tests/twisted/Makefile.am            |    2 +-
 tests/twisted/caps/receive-jingle.py |  124 +++++++++++++++++++++++++++++++++
 tests/twisted/test-capabilities.py   |  125 ----------------------------------
 3 files changed, 125 insertions(+), 126 deletions(-)

commit 0add83d478a1be537ff3142bcadc53edc76397cc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 23 17:18:59 2009 +0100

    caps-hash.c: don't leak the fields and values arrays

 src/caps-hash.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 7b18e8fdb02f245bd5b4a286f103af9db5bb9c07
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 23 17:15:06 2009 +0100

    test-caps-hash.c: test complex example from XEP-0115

 tests/test-caps-hash.c |   57 ++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 57 insertions(+), 0 deletions(-)

commit d7efae567f0a9e1e216514256e585a5647cb010d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 23 16:07:57 2009 +0100

    update gitignore

 .gitignore |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 18f93fea9f0b9a0335033b3d6ef66b8dfd4d49c1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 23 16:07:34 2009 +0100

    build test-caps-hash

 tests/Makefile.am |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 1280b9c3f4ad2fd4e6d986ae52c16513487ce5aa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 23 16:07:09 2009 +0100

    add test-caps-hash.c

 tests/test-caps-hash.c |   46 ++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 46 insertions(+), 0 deletions(-)

commit d4b022fc3b6d20c0fcdd37422fd8eab6c7722cca
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jul 23 20:23:29 2009 +0100

    Remove proxies which always return an error

 src/connection.h |   15 +++++++--------
 1 files changed, 7 insertions(+), 8 deletions(-)

commit 54631450cecac234aa6dac0f958585f19c3c28ca
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 22 18:29:30 2009 +0100

    Fix Andres' name in NEWS

 NEWS |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 759c0d6da573f6b02149c46ea8517782a802529e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 22 18:26:41 2009 +0100

    Start 0.7.32

 NEWS         |    9 +++++++++
 configure.ac |    2 +-
 2 files changed, 10 insertions(+), 1 deletions(-)

commit 7bfb5aaa8ab1dadc89c4b21b9ede20cd6c6bdf07
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 22 17:32:43 2009 +0100

    Prepare version 0.7.31

 NEWS         |   48 ++++++++++++++++++++++++++++--------------------
 configure.ac |    4 ++--
 2 files changed, 30 insertions(+), 22 deletions(-)

commit 61d04dd9ea71475b0ea9f096e1cfa4432e6464a8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 22 17:13:10 2009 +0100

    add gabble_init() doing misc initializations

 src/gabble.c               |   13 ++++++++++---
 src/gabble.h               |    3 +++
 src/main.c                 |    1 +
 tests/twisted/main-debug.c |    3 ++-
 4 files changed, 16 insertions(+), 4 deletions(-)

commit 3fed73cd061c64367a7efd1e8fdf2a43d453f9ea
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 22 17:03:15 2009 +0100

    move g_thread_init() call to gabble_main
    
    g_thread_init has to be called before any glib function

 src/gabble.c         |    5 +++++
 src/jingle-factory.c |    5 -----
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 018c2a7a434a3d0dd9feddc5aeaf70783c1126e7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 22 10:55:10 2009 +0100

    tests/twisted/Makefile.am: erase Valgrind generated cores when starting tests

 tests/twisted/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit a5880a0690ac6a4337d71664deb58944d27b6eb5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 22 10:54:38 2009 +0100

    gabble_connection_set_property: free previous fallback_socks5_proxies if any

 src/connection.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 4a50575b544278cd34fe90e5a243e8f484b28619
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 22 14:27:11 2009 +0100

    telepathy-gabble: fix header guard in debug.h
    
    This would allow debug.h's contents to be included twice.
    
    Signed-off-by: Andres Salomon <dilinger@collabora.co.uk>
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 src/debug.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3f1cf1e73447e66982eaf75bbdb3dfab927e45ad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 21 19:31:39 2009 +0100

    gabble_presence_cache_update_cache_entry: allow in == NULL
    
    When the meaning of a caps bundle is forcibly inserted into the cache
    with gabble_presence_cache_add_bundle_caps, it doesn't come with any
    channel-manager-specific caps (the hash table in the struct describing
    the bundle is NULL).
    
    This could cause a crash when gabble_presence_cache_update_cache_entry is
    called by _process_caps_uri, with the assumption that the hash table
    is non-NULL.
    
    This special-casing is currently done for one bundle, GTalk's voice-v1,
    to work around failure to respond to disco correctly in old versions
    of GTalk.
    
    Also add a regression test, which models a real-world situation in which
    this crash can occur - when a sipphone.com user tries to call an
    @gmail.com JID (but apparently not an @googlemail.com JID!) as if it was
    a SIP URI, sipphone.com's servers automatically bridge the call through
    gtalk2voip.com, which makes the call by emulating an old version of GTalk.
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

 src/presence-cache.c                       |    6 ++-
 tests/twisted/Makefile.am                  |    1 +
 tests/twisted/jingle/jingletest2.py        |    5 ++-
 tests/twisted/jingle/preload-caps-crash.py |   46 ++++++++++++++++++++++++++++
 4 files changed, 54 insertions(+), 4 deletions(-)

commit 71612c9f5dd7ca205b3bdbe87ea70c159c5a2e66
Merge: 2769206 9836219
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jul 21 14:25:36 2009 +0100

    Merge branch 'i-hate-rosters'
    
    Fixes: fd.o#22858
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 27692060ad7ea6048a1d34411503828865d4e2fb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 21 11:53:38 2009 +0100

    connect/test-twice.py: make_stream returns the port too, not only the stream

 tests/twisted/connect/test-twice.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit afec1eaef9a5bf03e2947c6fa9b9216dbf122ba8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 21 11:41:11 2009 +0100

    connect/test-nonblocking-tls.py: make_stream returns the port too, not only the stream

 tests/twisted/connect/test-nonblocking-tls.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 85da6c435c0fd3c6a62d405c948ce716505e9d4d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 21 11:40:36 2009 +0100

    connect/test-nonblocking-tls.py: use disconnect_conn helper

 tests/twisted/connect/test-nonblocking-tls.py |    8 +++-----
 1 files changed, 3 insertions(+), 5 deletions(-)

commit 9836219190a761ca0e97117e84be8d2e76ff7311
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jul 20 20:29:32 2009 +0100

    NEWS for roster fixes.

 NEWS |   15 +++++++++++++++
 1 files changed, 15 insertions(+), 0 deletions(-)

commit 84a85f6eadfcb228cb7207e5c53e658e6227317d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jul 20 20:11:45 2009 +0100

    Don't hide contacts with gr:alias-for
    
    Jonny Lamb has two JIDs on his Google account: his real JID, and his
    gmail address. Google says that the first is an alias for the second,
    but I'm actually subscribed to the first (and it's the one he uses).
    
    I don't think hiding roster items with alias-for set is necessary.  We
    hide Google roster items with subscription="none", which should catch
    roster items which aren't real JIDs.

 src/roster.c |    7 -------
 1 files changed, 0 insertions(+), 7 deletions(-)

commit 3b31731b472a7e3b128c32d858a68d3ec45378e5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jul 20 18:45:16 2009 +0100

    Add some hysteresis to the Google Talk roster workaround.
    
    We want to respect subscription requests being rescinded, but we need to
    wait and see if they're actually being rescinded or whether Google's
    lying to us. So if we receive a rescind notification just after an
    ask=subscribe notification, we wait a second to see if Google's lying,
    and only then actually remove them.

 src/roster.c |  148 +++++++++++++++++++++++++++++++++++++++++++++++++++++++---
 1 files changed, 141 insertions(+), 7 deletions(-)

commit 16182aa9425fa0566cc3e1996f696f784838c40c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jul 20 18:40:09 2009 +0100

    Test more ways to rescind subscription requests.
    
    Rescinding requests by sending <presence type='unsubscribe'/> is
    currently broken by the workarounds for Google Talk's flickering bug.

 tests/twisted/roster/removed-from-rp-subscribe.py |  112 +++++++++++++++------
 1 files changed, 83 insertions(+), 29 deletions(-)

commit ceec9b1bf5c5b77220e3bf36ae1a7eaa7092c56f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Jul 17 17:46:27 2009 +0100

    Don't hide subscribe:rp contacts from stored

 src/roster.c                               |   10 +++++++++-
 tests/twisted/roster/test-google-roster.py |   26 ++++++++++++++------------
 2 files changed, 23 insertions(+), 13 deletions(-)

commit ecd96530ee3653338a45ac2dfc5d415ff5c95f00
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Jul 17 17:35:40 2009 +0100

    Improve debug output from _roster_item_should_keep

 src/roster.c |   20 ++++++++++++++------
 1 files changed, 14 insertions(+), 6 deletions(-)

commit 959f9f7f3ce28bbfd4e90c852408f7f513d0e902
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Jul 17 17:02:11 2009 +0100

    Don't fake sub="remove" for "odd" google roster contacts
    
    This was defeating the code that was supposed to work around a Google
    Talk server bug whereby contacts "flicker" when moving to
    ask="subscribe" and when moving from ask="subscribe" to
    subscription="to/both". When a contact is actually removed, we assume
    the server really meant it; this means you can still remove contacts who
    are remote-pending by removing them from stored.
    
    This still means that when you rescind a subscription request, if the
    peer doesn't ack the <presence type="unsubscribe"/> with a <presence
    type="unsubscribed"/> then the contact will stay on
    subscribe:remote-pending until you reconnect.

 src/roster.c |   19 +++++++------------
 1 files changed, 7 insertions(+), 12 deletions(-)

commit 508e919117b869365a7d098417e62d0d96fbeac4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Jul 17 16:49:39 2009 +0100

    Store gr:alias-for on RosterItem
    
    This seems cleaner than passing both the node and the RosterItem to
    _should_keep.

 src/roster.c |   21 +++++++++++++--------
 1 files changed, 13 insertions(+), 8 deletions(-)

commit 17ac7923fb71f86b5ad320b20f764c60d4deb6c1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Jul 17 16:44:04 2009 +0100

    Handle Google roster hidden items inline
    
    Changing the subscription field of the RosterItem in response to it
    being hidden feels like a hack to me. It makes the code harder to
    follow, and means the RosterItem isn't a simple cache of the item on the
    server.

 src/roster.c |   25 ++++++++++++-------------
 1 files changed, 12 insertions(+), 13 deletions(-)

commit 2d282ab1770d91478b4185b13bc6534f15804720
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Jul 17 16:08:55 2009 +0100

    Test hiding Google roster contacts with sub="none"

 tests/twisted/roster/test-google-roster.py |   19 +++++++++++++------
 1 files changed, 13 insertions(+), 6 deletions(-)

commit 53d7f41fcd344fe4d5aa1b2a15c142da39c30f4f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Jul 17 16:33:21 2009 +0100

    Add {lp,rp}_members to expect_contact_list_channel
    
    Rather than always checking that contact lists have no remote or local
    pending members, this allows the calling test to supply a list of jids
    for each in addition to the list of members.
    
    This also makes the member list comparison order-insensitive.

 tests/twisted/gabbletest.py |   28 +++++++++++++++++++---------
 1 files changed, 19 insertions(+), 9 deletions(-)

commit 717605e234a5440ba7ca4623933aa6c8826d6195
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jul 14 17:46:43 2009 +0100

    Don't skip roster items with gr:autosub="true"
    
    The intention was to skip roster items which are email addresses, not
    JIDs. However, none of the email address-only contacts on my roster have
    this set, and there have been bug reports (such as
    <https://bugs.launchpad.net/ubuntu/+source/telepathy-gabble/+bug/398293>)
    where valid contacts are discarded by this rule.

 src/roster.c                               |    6 ------
 tests/twisted/roster/test-google-roster.py |   18 +++++++++++++-----
 2 files changed, 13 insertions(+), 11 deletions(-)

commit 2867e2fec88f8f3ed0e97a963769f5893f6ca213
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Jul 17 12:42:24 2009 +0100

    Add test for Google contacts marked Hidden

 tests/twisted/roster/test-google-roster.py |   32 ++++++++++++++--------------
 1 files changed, 16 insertions(+), 16 deletions(-)

commit 607e5296f7339c12177695d30d99ae8bb3253dec
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Jul 17 11:41:15 2009 +0100

    Actually use Google roster in its test.
    
    The test case for Google roster-specific behaviour was not using
    GoogleXmlStream. As a result, Gabble's Google roster-specific code paths
    were not actually being used. Fixing the test reveals that Gabble has
    regressed: this corrected test fails.

 tests/twisted/roster/test-google-roster.py |   59 +++++++++++++++++++++-------
 1 files changed, 45 insertions(+), 14 deletions(-)

commit 0e93ca81a36f3bcfee7ff6bfbd83d5ce06636b9b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jul 14 20:48:03 2009 +0100

    Test Google roster workarounds more explicitly
    
    When I looked at this test, it wasn't clear to me that it actually
    tested what it was supposed to test. Having looked more closely, I think
    it was doing it right, but I think being more explicit about the
    sequence of events we expect (and the events we do not want) will make
    it easier for future readers.

 tests/twisted/roster/test-google-roster.py |  122 ++++++++++++++++++----------
 1 files changed, 80 insertions(+), 42 deletions(-)

commit c8ed8932bd5df1810fd5c82c6200692de66391e7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jul 15 13:42:51 2009 +0100

    New-school-ify test-roster-subscribe

 tests/twisted/roster/test-roster-subscribe.py |   16 ++++++++--------
 1 files changed, 8 insertions(+), 8 deletions(-)

commit d61dd9df3eef8cde48370c4ec13af6c860314002
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jul 20 16:37:00 2009 +0100

    tube-stream: add_transport: priv is not used anymore

 src/tube-stream.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit bc107111c8ae38ece8da9c6c27b7c7aa9cdacdf9
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Jul 17 14:21:29 2009 +0100

    Update NEWS with bug #22629

 NEWS |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 0866950c9d5f82b66b0f644d35ac98ffcade2de4
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Jul 7 14:10:52 2009 +0100

    tube tests: do not use the same socket file twice at the same time

 tests/twisted/tubes/offer-private-stream-tube.py |    4 ++--
 tests/twisted/tubes/tubetestutil.py              |    9 +++++----
 2 files changed, 7 insertions(+), 6 deletions(-)

commit 79fbd3f71d475f7694c016a07a3c24f003a71699
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Jul 9 18:38:16 2009 +0100

    Bug #22629: stream tubes: block the Bytestream if GibberTransport is not connected

 src/tube-stream.c |   27 ++++++++++++++++++++-------
 1 files changed, 20 insertions(+), 7 deletions(-)

commit cae9d4a9b8e20349eed645c26d2f22c9340cfd2e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 16 15:36:47 2009 +0100

    vcard/update-rejected.py: break race
    
    Test was relying on the ordering of the vCard IQ reply and the D-Bus
    method call. Ensure that the first vCard reply has been received by
    Gabble and then wait for the second vCard query once we have called the
    SetAvatar method.

 tests/twisted/vcard/update-rejected.py |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 902d2f04648906fdea0b4934372dc430a5fcbf60
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 16 12:25:41 2009 +0100

    jingle-factory.c: use send_with_reply to send the jingle info request

 src/jingle-factory.c |   46 ++++++++++++++++++++++++++++++++++------------
 1 files changed, 34 insertions(+), 12 deletions(-)

commit a1d32be525c6ec086867ecbe8d3d9b98595de297
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 16 12:12:11 2009 +0100

    gabbletest.py: set 'from' attribute in jingleinfo iq reply

 tests/twisted/gabbletest.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit da133d7525b6cb6f20f2e1ea415b69633642da78
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 15 16:57:22 2009 +0100

    bytestream-factory.c: bytestream_state_changed_cb: no need to remove the bytestream manually if we are disposing

 src/bytestream-factory.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit ccc9f8a86928b64b0f106b0061284e1832e3a37b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 15 15:26:28 2009 +0100

    vcard-manager.c: use the returned value of lm_message_node_ref

 src/vcard-manager.c |    6 ++----
 1 files changed, 2 insertions(+), 4 deletions(-)

commit 3417b053592942b38dfc1806d5e4411678e266a6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 14 13:50:24 2009 +0100

    jingle/call-state.py: there it no point to disconnect the connection when we short-circuits the test

 tests/twisted/jingle/call-state.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 22814eb263c78f5d6bb25d0dba9f0dec69847ff9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jul 13 17:16:14 2009 +0100

    vcard/test-avatar-retrieved.py: use forbid_events

 tests/twisted/vcard/test-avatar-retrieved.py |   11 +----------
 1 files changed, 1 insertions(+), 10 deletions(-)

commit b012fac9ba51d3f8814f98c0efba8386becc4453
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jul 13 17:15:33 2009 +0100

    roster/test-google-roster.py: use forbid_events

 tests/twisted/roster/test-google-roster.py |   18 ++++--------------
 1 files changed, 4 insertions(+), 14 deletions(-)

commit 48004f97a0d81fee4d731a78d809724126ee651d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 14 13:47:02 2009 +0100

    use disconnect_conn in tests

 tests/twisted/connect/test-twice.py                |   20 +++---------------
 tests/twisted/jingle/google-relay.py               |    9 ++-----
 .../jingle/test-wait-for-caps-incomplete.py        |   13 +++--------
 tests/twisted/muc/roomlist.py                      |   21 +++++++------------
 tests/twisted/olpc/gadget-invite.py                |    7 +----
 tests/twisted/tubes/accept-muc-stream-tube.py      |    9 ++-----
 6 files changed, 24 insertions(+), 55 deletions(-)

commit 62036f6419eea7a195cf45ef8dffe972f5f4bd41
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jul 13 17:12:36 2009 +0100

    gabbletest.py: factor out disconnect_conn and allow to pass it a list of expected events

 tests/twisted/gabbletest.py |   13 +++++++++----
 1 files changed, 9 insertions(+), 4 deletions(-)

commit ce0782058bf7a7b4c5785e064b6bfff6bbbe5e9a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 14 10:13:21 2009 +0100

    test-receive-file-and-disconnect.py: explain why we return True in this part of the test

 .../test-receive-file-and-disconnect.py            |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 116e51c00887cbc318a047a2df45a2978380b412
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 14 10:07:58 2009 +0100

    Remove Disconnect() call from tests
    
    The connection is disconnected at the end of each test in gabbletest.py
    so there is no point to do it in the test itself.

 tests/twisted/avatar-requirements.py               |    4 ----
 tests/twisted/caps/from-bare-jid.py                |    2 --
 tests/twisted/connect/test-success.py              |    3 ---
 .../twisted/file-transfer/file_transfer_helper.py  |    3 +--
 .../file-transfer/test-caps-file-transfer.py       |    5 -----
 .../test-receive-file-and-disconnect.py            |    2 --
 tests/twisted/jingle/call-state.py                 |    4 ----
 tests/twisted/jingle/google-relay.py               |    3 ---
 tests/twisted/jingle/hold-audio.py                 |    4 ----
 tests/twisted/jingle/hold-av.py                    |    7 -------
 tests/twisted/jingle/incoming-basics.py            |    4 ----
 tests/twisted/jingle/misuse.py                     |    3 ---
 tests/twisted/jingle/outgoing-basics.py            |    3 ---
 tests/twisted/jingle/outgoing-ensure.py            |    4 ----
 tests/twisted/jingle/outgoing-many-streams.py      |    8 --------
 tests/twisted/jingle/outgoing-not-answered.py      |    3 ---
 tests/twisted/jingle/payload-types.py              |    9 ---------
 tests/twisted/jingle/stream-handler-error.py       |    3 ---
 tests/twisted/jingle/stun-server.py                |    7 -------
 .../twisted/jingle/test-content-adding-removal.py  |    5 -----
 tests/twisted/jingle/test-content-complex.py       |    7 -------
 tests/twisted/jingle/test-description-info.py      |    3 ---
 tests/twisted/jingle/test-incoming-call-reject.py  |    7 -------
 tests/twisted/jingle/test-incoming-iceudp.py       |    5 -----
 .../twisted/jingle/test-outgoing-call-rejected.py  |    3 ---
 tests/twisted/jingle/test-outgoing-iceudp.py       |    3 ---
 tests/twisted/jingle/test-wait-for-caps.py         |    3 ---
 tests/twisted/muc/name-conflict.py                 |    4 ----
 tests/twisted/muc/renamed.py                       |    4 ----
 tests/twisted/muc/send-error.py                    |    8 --------
 tests/twisted/muc/test-ensure.py                   |    6 ------
 tests/twisted/muc/test-muc-alias.py                |    5 -----
 tests/twisted/muc/test-muc-invitation.py           |    4 ----
 tests/twisted/muc/test-muc-ownership.py            |    5 -----
 tests/twisted/muc/test-muc-properties.py           |    4 ----
 tests/twisted/muc/test-muc.py                      |    7 -------
 tests/twisted/olpc/olpc-muc-invitation.py          |    4 ----
 tests/twisted/olpc/olpc-muc-prop-change.py         |    4 ----
 tests/twisted/olpc/test-olpc-set-props-preload.py  |    1 -
 tests/twisted/presence/presence.py                 |    4 ----
 tests/twisted/roster/groups-12791.py               |    4 ----
 tests/twisted/roster/groups.py                     |    4 ----
 tests/twisted/roster/removed-from-rp-subscribe.py  |    3 ---
 tests/twisted/roster/test-roster-item-deletion.py  |    4 ----
 tests/twisted/roster/test-roster-subscribe.py      |    5 -----
 tests/twisted/roster/test-roster.py                |    4 ----
 tests/twisted/roster/test-save-alias-to-roster.py  |    5 -----
 tests/twisted/test-capabilities.py                 |    3 ---
 tests/twisted/test-caps-cache.py                   |    5 -----
 tests/twisted/test-caps-hash.py                    |    5 -----
 tests/twisted/test-caps-tubes.py                   |    5 -----
 tests/twisted/test-debug.py                        |    3 ---
 tests/twisted/test-disco.py                        |    4 ----
 tests/twisted/test-fallback-socks5-proxy.py        |    4 ----
 tests/twisted/test-location.py                     |    5 -----
 tests/twisted/test-register.py                     |    3 ---
 tests/twisted/test-set-status-idempotence.py       |    3 ---
 tests/twisted/text/destroy.py                      |    4 ----
 tests/twisted/text/ensure.py                       |    4 ----
 tests/twisted/text/initiate-requestotron.py        |    4 ----
 tests/twisted/text/initiate.py                     |    4 ----
 tests/twisted/text/respawn.py                      |    4 ----
 tests/twisted/text/send-error.py                   |    4 ----
 tests/twisted/text/test-chat-state.py              |    4 ----
 tests/twisted/text/test-text-delayed.py            |    5 -----
 tests/twisted/text/test-text-no-body.py            |    3 ---
 tests/twisted/text/test-text.py                    |    5 -----
 tests/twisted/tubes/accept-muc-dbus-tube.py        |    4 ----
 tests/twisted/tubes/accept-private-dbus-tube.py    |    5 -----
 tests/twisted/tubes/accept-private-stream-tube.py  |    5 -----
 tests/twisted/tubes/close-muc-with-closed-tube.py  |    4 ----
 tests/twisted/tubes/crash-on-list-channels.py      |    3 ---
 .../twisted/tubes/create-invalid-tube-channels.py  |    4 ----
 tests/twisted/tubes/ensure-si-tube.py              |    4 ----
 tests/twisted/tubes/muc-presence.py                |    5 -----
 tests/twisted/tubes/offer-muc-dbus-tube.py         |    5 -----
 tests/twisted/tubes/offer-muc-stream-tube.py       |    5 -----
 tests/twisted/tubes/offer-no-caps.py               |    2 --
 tests/twisted/tubes/offer-private-dbus-tube.py     |    4 ----
 tests/twisted/tubes/offer-private-stream-tube.py   |    5 -----
 tests/twisted/tubes/test-get-available-tubes.py    |    6 ------
 tests/twisted/tubes/test-socks5-muc.py             |    5 -----
 tests/twisted/vcard/test-alias-empty-vcard.py      |    4 ----
 tests/twisted/vcard/test-alias-pep.py              |    5 -----
 tests/twisted/vcard/test-alias.py                  |    4 ----
 tests/twisted/vcard/test-avatar-async.py           |    4 ----
 tests/twisted/vcard/test-avatar-tokens.py          |    4 ----
 tests/twisted/vcard/test-avatar.py                 |    4 ----
 tests/twisted/vcard/test-save-alias-to-vcard.py    |    4 ----
 tests/twisted/vcard/test-set-alias.py              |    4 ----
 tests/twisted/vcard/test-vcard-cache.py            |    4 ----
 tests/twisted/vcard/test-vcard-race.py             |    3 ---
 tests/twisted/vcard/update-rejected.py             |    2 --
 93 files changed, 1 insertions(+), 394 deletions(-)

commit 7c4b26e5ac60010ec429ccbee078613cfb0fc7d7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jul 13 15:37:41 2009 +0100

    gabbletest.py: exec_test_deferred: no need to catch every D-Bus error in the test disposing block

 tests/twisted/gabbletest.py |   32 ++++++++++++++------------------
 1 files changed, 14 insertions(+), 18 deletions(-)

commit aa11084fef316c8b09c264f2df911713e3d086a8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jul 13 15:36:29 2009 +0100

    gabbletest.py: exec_test_deferred: wait for the StatusChanged signal when disconnecting

 tests/twisted/gabbletest.py |    9 ++++++++-
 1 files changed, 8 insertions(+), 1 deletions(-)

commit d9c897dc99653f9672f08cb5b7c6df7329b65547
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jul 13 12:06:11 2009 +0100

    test-success.py: use constants.py

 tests/twisted/connect/test-success.py |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit 21462355d04264fff88232a638f218de926061e8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 14 10:48:14 2009 +0100

    test-muc-invitation.py: send Bob's presence when joining the room

 tests/twisted/muc/test-muc-invitation.py |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit 9931dbadab15d93a911e1093802da1695470df3d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 14 10:40:42 2009 +0100

    test-muc-invitation.py: add a comment explaining the args of the MembersChanged signal

 tests/twisted/muc/test-muc-invitation.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 5a30ff9c74ce6f1a2e9df188cea653f886d866b5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jul 3 15:37:10 2009 +0100

    olpc/test-olpc-bundle.py: set the IQ type in disco requests

 tests/twisted/olpc/test-olpc-bundle.py |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 0c44ff9e10307e871b1d0cce5df10c987d424b16
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jul 3 15:32:46 2009 +0100

    olpc/olpc-muc-prop-change.py: properly check the MembersChanged reason

 tests/twisted/olpc/olpc-muc-prop-change.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7e15b4ff1d605af584dc92fda8e3f7b77e98273b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jul 3 15:31:43 2009 +0100

    olpc/olpc-muc-invitation.py: properly check the MembersChanged reason

 tests/twisted/olpc/olpc-muc-invitation.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ec8302086bc2c600cd52e5a86ff1154d528069dd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jul 3 15:29:29 2009 +0100

    olpc/util.py: set 'from' attribute in the Gadget reply

 tests/twisted/olpc/util.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 5ed82439ac17da1333b40876ffe60d3233119116
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jul 3 15:26:27 2009 +0100

    muc/test-muc-invitation.py: properly check the reason in MembersChanged
    
    Assuming that the room self handle is equal to the Invited error code is
    not a really good idea.

 tests/twisted/muc/test-muc-invitation.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 82d0f5d6180d57b134e809bbbd5ed6abbf97a23f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jul 3 15:07:36 2009 +0100

    test-fallback-socks5-proxy.py: set the 'from' attribute in the proxy reply

 tests/twisted/test-fallback-socks5-proxy.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3d8dc172ffbf22bd96ca149dcbebd5c984f53523
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jul 3 15:01:27 2009 +0100

    test-disco.py: set the IQ type in the request

 tests/twisted/test-disco.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 5bee72447bedc586c2a2f0a003acf96f76edb14d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jul 3 14:59:30 2009 +0100

    file-transfer/test-send-file-declined.py: set the right namespace in the IQ reply

 .../file-transfer/test-send-file-declined.py       |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 57395490af823931dd73b0cb3a809e09559e4728
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jul 3 14:55:17 2009 +0100

    file_transfer_helper.py: use make_result_iq

 .../twisted/file-transfer/file_transfer_helper.py  |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit 200315a0e937a1bdf631f53e6ed525ead1d05ff1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jul 3 13:46:11 2009 +0100

    vcard/test-avatar-retrieved.py: use make_result_iq

 tests/twisted/vcard/test-avatar-retrieved.py |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)

commit 0bb2ebc52e720a3d693ca14f3621fd710ea36d4b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jul 3 13:44:15 2009 +0100

    vcard/test-avatar-async.py: use make_result_iq

 tests/twisted/vcard/test-avatar-async.py |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)

commit 78ad3f42b6743dbaaac8d90c06810399c53398c0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jul 3 11:47:28 2009 +0100

    tubes/crash-on-list-channels.py: use make_result_iq to create roster reply

 tests/twisted/tubes/crash-on-list-channels.py |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 150aafa5c57330629542af82e7082d5daea4182d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jul 3 11:41:20 2009 +0100

    im-channel.c: pass LM_MESSAGE_SUB_TYPE_NORMAL to gabble_message_util_send_chat_state instead of assuming its value is 0

 src/im-channel.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 31ee0096eb90df9c9ba73a61a2e7b65ce80268a1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jul 3 11:23:57 2009 +0100

    conn-aliasing.c: gabble_do_pep_request: set the type of the IQ query

 src/conn-aliasing.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 67238fd3316cad63efe9f755235d2032b1dbd4c8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jul 3 11:22:49 2009 +0100

    test-save-alias-to-roster.py: fix a race

 tests/twisted/roster/test-save-alias-to-roster.py |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

commit 36b7e3472d62e64500035202227b8cf93d13fadf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jul 3 11:12:50 2009 +0100

    roster.c: use send_with_reply to send the roster request
    
    Not waiting for the reply and assume any IQ result with right nodes is
    the reply is bong.

 src/roster.c |   36 ++++++++++++++++++++++++++++--------
 1 files changed, 28 insertions(+), 8 deletions(-)

commit b60e5f20dadbf0126aab0b3036122816cce9520a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 2 18:56:18 2009 +0100

    jingle/payload-types.py: fix presence namespace

 tests/twisted/jingle/payload-types.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ca0e2102eb5244642e898a3aa9a789941b2411ad
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 2 18:27:19 2009 +0100

    gabbletest.py: send_error_reply: set the from attribute if possible

 tests/twisted/gabbletest.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 76d1a94646eba8bc93bc5b7bd9763f88a679f39a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 2 18:26:17 2009 +0100

    accept-private-stream-tube.py: use make_result_iq to create the disco reply

 tests/twisted/tubes/accept-private-stream-tube.py |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 61928a2a475688cba49ca28a6805929f7571bc3f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 2 18:22:28 2009 +0100

    bytestream.py: set 'from' attribute in SOCKS5 disco replie

 tests/twisted/bytestream.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit c200bcb68cff4e3b51a647f91664950db76bacad
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 2 17:38:54 2009 +0100

    offer-private-stream-tube.py: use make_result_iq to create the disco reply

 tests/twisted/tubes/offer-private-stream-tube.py |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 4c62f94a6db0c9d824fd158b04c97f056158b0e3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 2 17:38:19 2009 +0100

    gabbletest.py: make_result_iq: set the from attribute if possible

 tests/twisted/gabbletest.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 6dd36088d5a7284d30fe3d5ad3a846ecec328792
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jul 2 18:14:26 2009 +0100

    Some news and a name for 0.7.31

 NEWS |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit 21ae965482a3049f8ae79e1a9a1f4131a9cedd24
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jul 1 11:52:24 2009 +0100

    Force codec names' cases to match Google Talk
    
    The Google Talk desktop client doesn't believe that "ILBC" is the same
    codec as "iLBC", even though SDP defines codecs' names to be case
    insensitive. So when using a Google dialect, let's make the names' cases
    match what the desktop client wants.
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 src/jingle-media-rtp.c |   40 +++++++++++++++++++++++++++++++++++++++-
 1 files changed, 39 insertions(+), 1 deletions(-)

commit df11d58193c5897b51db0b52ccd9811179ae738f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 29 19:00:08 2009 +0100

    Destroy JingleFactory's soup session first
    
    Destroying the SoupSession makes it call all the callbacks for
    outstanding HTTP requests with an error, which means all the outstanding
    Google relay requests end before we try to close all the channels that
    were waiting for them.
    
    Fixes fd.o#120387
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 src/jingle-factory.c                 |   12 ++++++------
 tests/twisted/jingle/google-relay.py |   31 +++++++++++++++++++++++--------
 2 files changed, 29 insertions(+), 14 deletions(-)

commit 17ce9432063088b2152352d348083926f11879e0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 29 18:44:49 2009 +0100

    MediaFactory: Remove unused session_chans map
    
    I guess this is left over from before the Jingle refactoring. Nothing
    was ever added to session_chans, so this was all dead code.
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 src/media-factory.c |   41 +----------------------------------------
 1 files changed, 1 insertions(+), 40 deletions(-)

commit d9a9d398febf4dfa6901ac66d18bdf9f2a706e53
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 1 12:34:49 2009 +0100

    remove weird comment in GoogleXmlStream

 tests/twisted/gabbletest.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 63f7bd4636ac710dcaa1173a2ca628230b37a3e0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 1 10:36:43 2009 +0100

    gabbletest: use XMPP 1.0 by default

 tests/twisted/gabbletest.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 2e051977698cafcb8c827295d0a00543e9e58643
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 1 12:16:14 2009 +0100

    test-disco-no-reply: subclass the XmppXmlStream instead of the JabberXmlStream so it can be used with the XmppAuthenticator

 tests/twisted/test-disco-no-reply.py |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 5abd0fd24ce2dc7c974aed3a7d054abd5c2771d8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 1 12:14:28 2009 +0100

    gabbletest.py: GoogleXmlStream set version to 1.0 so it works with the XmppAuthenticator

 tests/twisted/gabbletest.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit dacfbd3d8115c3b722c6a6735576219c12e6d879
Merge: aa63a51 88a5f5f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 1 11:51:10 2009 +0100

    Merge branch 'misc'

commit aa63a519e7aa04fb20d1bf7c6ca65c0a7ec9cde9
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Wed Jul 1 11:27:02 2009 +0100

    Add some comments to make things clearer.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/gabble.c |   15 +++++++++++----
 1 files changed, 11 insertions(+), 4 deletions(-)

commit 05a1026ad9c81121f3db48eb88d1e14bca5fc2cd
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Wed Jul 1 10:54:23 2009 +0100

    Set LM_DEBUG=net and override the log handler when LM_DEBUG is not set.
    
    This way, LM debug messages will be exposed through the Debug
    interface when LM_DEBUG is not set (which is the majority of the
    time). If LM_DEBUG is set, then it's a fair assumption that gabble is
    being started on the command line, and therefore the Debug interface
    isn't so important.
    
    LM have some weird specific way of printing out their debugging
    messages, so when LM_DEBUG has been set, I think it's appropriate not
    to touch this default handler. Ideally, there would be a way to have
    multiple handlers for a domain/level.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/connection.c |    4 ++++
 src/gabble.c     |   42 +++++++++++++++++++++++++++++++++++-------
 src/gabble.h     |    6 ++++++
 3 files changed, 45 insertions(+), 7 deletions(-)

commit 88a5f5ffca5ce4633a996ac90175f9926e9644f5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 1 10:37:57 2009 +0100

    gabbletest.py: set a from attribute in the disco reply

 tests/twisted/gabbletest.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 289c72a2bf670f5c0a3113b1f59c985efd802134
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 1 10:35:52 2009 +0100

    jingle-factory: remove assertion on lmconn as it's NULL when connecting using Wocky

 src/jingle-factory.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 9fb7ba5e213b0b9e80cd8f023d5add8348698779
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 29 17:57:41 2009 +0100

    Bump to 0.7.30.1

 NEWS         |    9 +++++++++
 configure.ac |    2 +-
 2 files changed, 10 insertions(+), 1 deletions(-)

commit 248cd70c2956c3ed4c70c1a986f3395171ee1bf2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 29 16:03:56 2009 +0100

    version 0.7.30

 NEWS         |   12 ++++++++++--
 configure.ac |    4 ++--
 2 files changed, 12 insertions(+), 4 deletions(-)

commit d8fef1b97011b95ad8f3bdf9ebd28036b92078f9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 29 15:55:54 2009 +0100

    Disable test-vcard-race for the release.

 tests/twisted/vcard/test-vcard-race.py |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 0091ee57dd6a653a4cd53011237af0e2240e86d8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 26 16:49:46 2009 +0100

    lm_message_node_unlink; takes the parent as argument
    
    This will allow us to re-implement this function in Wocky-land (Wocky
    nodes don't have a parent pointer).

 src/util.c          |    7 ++++---
 src/util.h          |    3 ++-
 src/vcard-manager.c |    2 +-
 3 files changed, 7 insertions(+), 5 deletions(-)

commit 4e58b8a857883cc358f407d7089d8e12463a2461
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 29 15:07:49 2009 +0100

    remove gabble_g_value_slice_new_*

 src/util.c |   36 ------------------------------------
 src/util.h |    5 -----
 2 files changed, 0 insertions(+), 41 deletions(-)

commit 31fd82e4469fa7ac10055c52b6f873abbafb4130
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 29 15:07:37 2009 +0100

    translate_relay_info: use tp_g_value_slice_new_* instead of the gabble version of those functions

 src/jingle-factory.c |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit e2c68c2511b9254f6b046e282f1cd311ebd2e15b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 26 16:32:14 2009 +0100

    util: remove unused lm_message_node_add_child_node

 src/util.c |   45 ---------------------------------------------
 src/util.h |    3 ---
 2 files changed, 0 insertions(+), 48 deletions(-)

commit 1af3bdb09c7ebc6f5c553db51c20c6b2426d2831
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 26 14:16:20 2009 +0100

    ft-manager.c: use the lm_message_node_get_value accessor

 src/ft-manager.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 95c23f986eec6faf2c1723e0094dcc7ca974150b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 26 14:14:22 2009 +0100

    vcard-manager.c: use the lm_message_node_get_value accessor

 src/vcard-manager.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ac27a574daa0724e1d02569436143f9cc10025c7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 26 14:09:17 2009 +0100

    roster.c: use the lm_message_node_get_value accessor

 src/roster.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit c2ed3bcac1fa82b371629121de5f6b2fc6f408ad
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 26 12:44:32 2009 +0100

    bytestream-socks5.c: use node iterator

 src/bytestream-socks5.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 53902675571cdc1fd0dd55f626d37680197d0b10
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 29 10:41:40 2009 +0100

    jingle-transport-rawudp.c: use node iteration wrappers

 src/jingle-transport-rawudp.c |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit fa64f06ac2888294c336bc67a99a127fa355706a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 29 10:41:30 2009 +0100

    jingle-transport-iceudp.c: use node iteration wrappers

 src/jingle-transport-iceudp.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 21a463f98c34ede8abefc02e38fbfcc2ca00c806
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 29 10:33:42 2009 +0100

    jingle-transport-google.c: use node iteration wrappers

 src/jingle-transport-google.c |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit edbd65ff1acb6a00acbb20d5a8e4d1eda77c0269
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 29 10:33:28 2009 +0100

    jingle-media-rtp.c: use node iteration wrappers

 src/jingle-media-rtp.c |   15 +++++++++------
 1 files changed, 9 insertions(+), 6 deletions(-)

commit f17a91c51e7663e9a087c633f90e767504ed57e2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jun 25 16:03:03 2009 +0100

    gabble_caps_channel_manager_parse_capabilities: take the parent node instead of the first children as argument
    
    This allows us to use node iteration wrappers in in parse_caps
    implementations.

 src/caps-channel-manager.c  |    4 ++--
 src/caps-channel-manager.h  |    2 +-
 src/ft-manager.c            |    7 ++++---
 src/presence-cache.c        |    2 +-
 src/private-tubes-factory.c |    7 ++++---
 5 files changed, 12 insertions(+), 10 deletions(-)

commit 2dfacd2db4ddd5b170280035e56695c4c7a68e82
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jun 25 16:19:54 2009 +0100

    jingle-session: use node iteration wrappers

 src/jingle-session.c |   34 ++++++++++++++++++++--------------
 1 files changed, 20 insertions(+), 14 deletions(-)

commit 585dd635c7e392b6a44b9125bb6ac587c0565caf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jun 25 15:27:55 2009 +0100

    util.c: use node iteration wrappers

 src/util.c |   29 ++++++++++++++++-------------
 1 files changed, 16 insertions(+), 13 deletions(-)

commit 4c039245ae3797e1a76e501a0228cbed934a1685
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jun 25 15:27:44 2009 +0100

    register.c: use node iteration wrappers

 src/register.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 8617ed1fc6dbd69fc61d44d469ff34e1207fdefb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jun 25 15:27:11 2009 +0100

    capabilities.c: use node iteration wrappers

 src/capabilities.c |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit 6e239b4bd796f87b09d7d3a2753e7c22cd45af60
Author: Dafydd Harries <daf@rhydd.org>
Date:   Fri Feb 6 17:17:11 2009 +0100

    src/conn-location.c: use node iteration wrappers

 src/conn-location.c |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

commit f44e2bd1e3f65f39a4c12200c215e4ddf4485792
Author: Dafydd Harries <daf@rhydd.org>
Date:   Wed Dec 3 20:28:45 2008 +0000

    error.c: use node iteration wrappers

 src/error.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 76e2bf7a1c42019ff99c224c2ae507c24a4b73c2
Author: Dafydd Harries <daf@rhydd.org>
Date:   Wed Dec 3 20:23:38 2008 +0000

    vcard-manager.c: use node iteration wrappers

 src/vcard-manager.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 1814d88fab3ba5d5fbc194b1de4912d81088d353
Author: Dafydd Harries <daf@rhydd.org>
Date:   Wed Dec 3 20:23:02 2008 +0000

    tubes-channel.c: use node iteration wrappers

 src/tubes-channel.c |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit efad34c4db5567c6be35e78fe7ea3038d439800c
Author: Dafydd Harries <daf@rhydd.org>
Date:   Wed Dec 3 20:21:58 2008 +0000

    roster.c: use node iteration functions

 src/roster.c |   15 +++++++--------
 1 files changed, 7 insertions(+), 8 deletions(-)

commit a7873ebff3f2c9b42a8c5046943005b3f2413bc0
Author: Dafydd Harries <daf@rhydd.org>
Date:   Wed Dec 3 20:21:12 2008 +0000

    pubsub.c: use node iteration wrappers

 src/pubsub.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 09a418da0845c9bc6f4adb116dc5a4ea962c0f3e
Author: Dafydd Harries <daf@rhydd.org>
Date:   Wed Dec 3 20:06:34 2008 +0000

    muc-channel.c: use node iteration wrappers

 src/muc-channel.c |   64 ++++++++++++++++++++++++++++++++--------------------
 1 files changed, 39 insertions(+), 25 deletions(-)

commit 88b63779f500bc2fe0b7e812d8a6e3aac690388c
Author: Dafydd Harries <daf@rhydd.org>
Date:   Wed Dec 3 18:38:42 2008 +0000

    connection.c: use node iteration wrappers

 src/connection.c |   21 ++++++++++++---------
 1 files changed, 12 insertions(+), 9 deletions(-)

commit c66b741060c1140b831bbaa06f0a97986cebc310
Author: Dafydd Harries <daf@rhydd.org>
Date:   Wed Dec 3 18:37:34 2008 +0000

    conn-olpc.c: port to node iteration wrappers

 src/conn-olpc.c |   58 ++++++++++++++++++++++++++++++++----------------------
 1 files changed, 34 insertions(+), 24 deletions(-)

commit 4c22a8ec5b66fbd4e24dfd06c14f3fd3c7a210c6
Author: Dafydd Harries <daf@rhydd.org>
Date:   Wed Dec 3 18:37:14 2008 +0000

    conn-aliasing.c: use node iteration wrappers

 src/conn-aliasing.c |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

commit 01df4af2092b4e623733b56e7a2b720267fe5de8
Author: Dafydd Harries <daf@rhydd.org>
Date:   Wed Dec 3 18:36:34 2008 +0000

    caps-hash.c: use node iteration wrappers

 src/caps-hash.c |   27 ++++++++++++++-------------
 1 files changed, 14 insertions(+), 13 deletions(-)

commit 63194e989c664c35853d9b03f34391ccd3df640d
Author: Dafydd Harries <daf@rhydd.org>
Date:   Wed Dec 3 17:38:45 2008 +0000

    bytestream-factory.c: use node iteration wrappers

 src/bytestream-factory.c |   34 +++++++++++++++++++++-------------
 1 files changed, 21 insertions(+), 13 deletions(-)

commit 6a8065c985d8b928e3ffc10c934f036da77ed89c
Author: Dafydd Harries <daf@rhydd.org>
Date:   Wed Dec 3 16:20:21 2008 +0000

    disco.c: port to node iteration wrappers

 src/disco.c |   24 ++++++++++++++++--------
 1 files changed, 16 insertions(+), 8 deletions(-)

commit 69b4a1bf765877d6cc85a7a8cd01b86fe0dcd86f
Author: Dafydd Harries <daf@rhydd.org>
Date:   Wed Dec 3 12:58:19 2008 +0000

    define macros for message node children iteration

 src/util.h |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 8091ae5651033e35e8786f3c482194a66fcdcc7b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 29 13:16:51 2009 +0100

    Don't send session-info for jingle v0.15

 src/jingle-session.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit f6173354ca9e2441dfa576fa283a53667e390a17
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 29 12:10:32 2009 +0100

    'keepalive-interval' should be CONSTRUCT not _ONLY
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 src/connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 0b9c0676ed012ea650d65e86d1051f1be5e4c277
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 29 12:07:22 2009 +0100

    GabbleConnection:port should be [1, G_MAXUINT16]
    
    GabbleCM checks that the port parameter is nonzero before setting it, so
    this is safe and correct.

 src/connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 351c65e1602114cd550a93e5f14cfb084cb7e204
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 22 11:52:46 2009 +0100

    NEWS port=5222 change

 NEWS |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 79f5ef3c33ca94feed5ed40b8a69f9abc7fff0d9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Jun 19 19:00:34 2009 +0100

    Ignore port=5222 if we think we know better.
    
    Previously, if the UI sets port=5222 then Gabble disabled SRV lookups.
    This turns out not to be great, because if the UI sets port=5222 (which
    was not the default per Gabble's parameters, it is the spiritual XMPP
    default port) then it can't connect to any XMPP server that uses an SRV
    record.
    
    While pedantically correct, the previous semantics turn out not to be
    very helpful. We could go around fixing every account UI that ever gets
    written, but ignoring 5222 if neither the connect server nor old-ssl
    were set is more useful behaviour.

 src/connection-manager.c |    2 +-
 src/connection.c         |   23 +++++++++++++++--------
 2 files changed, 16 insertions(+), 9 deletions(-)

commit e2a7dc894a2a84687990253d161e08c1c54cd0fc
Merge: 85fb14f f524a51
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 29 12:37:16 2009 +0100

    Merge branch 'jingle-new-transports'
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit 85fb14f0d16209c21879e9d89914195a41f5a29a
Merge: 586619f 8c838cb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 29 12:36:19 2009 +0100

    Merge branch 'jingle-namespaces'
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit f524a51ab21bb8938c8163ebe0b697e89f19d00f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 29 12:17:48 2009 +0100

    Explicitly check 'nat-traversal' property
    
    Waiting for a PropertiesChanged notification is racy, and it's wrong
    anyway: there's no guarantee that the property should *change* to
    'ice-udp', it should just *be* 'ice-udp'.

 tests/twisted/jingle/test-outgoing-iceudp.py |    8 ++++++--
 1 files changed, 6 insertions(+), 2 deletions(-)

commit e0c4f14b50c5b2653866210c23aaeffb1b2d2c05
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 29 12:17:09 2009 +0100

    test-outgoing-iceudp: Remove peer's gtalk-p2p cap
    
    Since Gabble now prefers gtalk-p2p over iceudp, we need to make the peer
    incapable of the former to convince Gabble to use the latter.

 tests/twisted/jingle/test-outgoing-iceudp.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit e2e072330ff861bd514c453a9a308e22c8b8e652
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 29 11:54:29 2009 +0100

    Prefer gtalk-p2p to iceudp

 src/media-channel.c |   11 ++++++-----
 1 files changed, 6 insertions(+), 5 deletions(-)

commit 2897591e19a4a871660c5952f31cc299b8f2efe0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 29 11:44:15 2009 +0100

    gtalk-p2p: Don't special-case sending new local candidates
    
    JingleContent now takes care of calling _send_candidates() on the
    transport after giving it new candidates, if it's appropriate to do so.
    So the new_local_candidates implementation should just remember the
    candidates as pending.

 src/jingle-transport-google.c |   26 ++++++--------------------
 1 files changed, 6 insertions(+), 20 deletions(-)

commit 3baa6e2187ad05744c4fc88281fd0ae39c80f1ba
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 29 11:40:42 2009 +0100

    Remove unused variable

 src/jingle-transport-rawudp.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 5af07d52b7a3ffa4d6a461a404a8b0e662508888
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 29 11:39:16 2009 +0100

    Ice: Don't signal empty lists of remote candidates

 src/jingle-transport-iceudp.c |   29 +++++++++++++++++++----------
 1 files changed, 19 insertions(+), 10 deletions(-)

commit 7f45b4f1fdfe66394c93347c71f94d2abfab6f53
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jun 28 16:54:22 2009 +0100

    Stringify component before setting it as an attribute

 src/jingle-transport-rawudp.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 610bb0012d942d7cd35059611d54f07b0d403b4b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jun 28 16:43:07 2009 +0100

    RawUDP: Remove unused 'pending_candidates' field.
    
    With raw UDP, we only accept one set of local candidates from
    Telepathy-land, and only send candidates on session-initiate,
    session-accept, content-add, content-accept. So there's no need to have
    a concept of pending candidates.

 src/jingle-transport-rawudp.c |   15 +--------------
 1 files changed, 1 insertions(+), 14 deletions(-)

commit 88b63d7352ac653229be6950f38133fe374e0c26
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jun 28 16:42:00 2009 +0100

    Correctly send rawudp candidates' id

 src/jingle-transport-rawudp.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 0bd7e4b03227445324466113c82420e21c04cbfd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jun 28 16:39:35 2009 +0100

    We don't care about stun vs. local for rawudp candidates

 src/jingle-transport-rawudp.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 0a143fe31bb994a2eed84290f3174fe712356c2b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jun 28 16:37:31 2009 +0100

    Don't fetch "state" property without using it.

 src/jingle-transport-iceudp.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 8198ad4878983cc25f2ef8e60ddcf25e5f7f33e7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jun 28 16:36:51 2009 +0100

    ICE candidates don't have a 'name' attribute.

 src/jingle-transport-iceudp.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit e43fa0f33299bb7d5ead9f281a374983a15d9710
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jun 28 16:36:21 2009 +0100

    Don't assert on unknown candidate types/protocols

 src/jingle-transport-iceudp.c |    9 +++++++--
 1 files changed, 7 insertions(+), 2 deletions(-)

commit 5c6567333b55ea371815b61eff992d163a6e65e6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jun 28 16:35:36 2009 +0100

    Use candidates' Telepathy IDs as foundation
    
    We still generate unique strings for candidates' 'id' attribute.

 src/jingle-transport-iceudp.c |   16 +++++++---------
 1 files changed, 7 insertions(+), 9 deletions(-)

commit bc966c18b9ca35189c85a4de17c838bca8e327cd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jun 28 16:25:22 2009 +0100

    Multiply candidate preference by 65536
    
    tp-fs divides the priority by 65536 before handing it to the CM (in
    gtalk-p2p we send a float over the wire), so if we multiply it by 65536
    we get back to where we started.

 src/jingle-transport-iceudp.c |    5 +----
 1 files changed, 1 insertions(+), 4 deletions(-)

commit 2ef5311b40bae2b7689630cabcbe89f0ca1cd536
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jun 28 16:23:53 2009 +0100

    Use ice candidates' foundation as candidate_id

 src/jingle-transport-iceudp.c |    9 +++++----
 src/media-stream.c            |    7 +++++--
 2 files changed, 10 insertions(+), 6 deletions(-)

commit a94aa0fddc79bbaf951347074f5f9fa607793136
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jun 28 16:14:20 2009 +0100

    IceUdp: be tolerant of unparseable candidates.
    
    If a <transport/> stanza contains candidates that we can't parse, as
    well as candidates that we can, we should accept the ones we managed to
    parse rather than rejecting the whole lot.

 src/jingle-transport-iceudp.c |   43 ++++++++++++++++++++---------------------
 1 files changed, 21 insertions(+), 22 deletions(-)

commit 40cc47fee86d228c1c53fa0f526caf45f6c49d8e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Jun 27 17:29:06 2009 +0100

    Let the transport decide if it's ready to accept

 src/jingle-content.c          |   12 +++---------
 src/jingle-transport-iface.c  |   22 ++++++++++++++++++++++
 src/jingle-transport-iface.h  |    3 +++
 src/jingle-transport-rawudp.c |   12 +++++++++++-
 4 files changed, 39 insertions(+), 10 deletions(-)

commit 77bfe4546431755207b7d7b1ca9c20893e7ecf40
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Jun 27 16:39:50 2009 +0100

    Set NATTraversal correctly on streams.

 src/media-channel.c |   49 ++++++++++++++++++++++++++-----------------------
 1 files changed, 26 insertions(+), 23 deletions(-)

commit cd496589d348ebc7f7633f1f5694f5f6133fab1b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Jun 27 16:09:30 2009 +0100

    Only group ICE candidates with the same ufrag

 src/jingle-transport-iceudp.c |   40 ++++++++++++++++++++++++++--------------
 1 files changed, 26 insertions(+), 14 deletions(-)

commit 366b0453a877fd724e15a2f208316d8d405a6ada
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Jun 27 12:28:03 2009 +0100

    Remove error-setting macros from transports

 src/jingle-transport-iceudp.c |    7 ++-----
 src/jingle-transport-rawudp.c |    7 ++-----
 2 files changed, 4 insertions(+), 10 deletions(-)

commit 94b46d8a61969bf395484dd312e57e649233d701
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Jun 27 12:25:34 2009 +0100

    Remove GET_PRIV macros from {Ice,Raw}Udp

 src/jingle-transport-iceudp.c |   18 ++++++------------
 src/jingle-transport-rawudp.c |   18 ++++++------------
 2 files changed, 12 insertions(+), 24 deletions(-)

commit 3270d213bd0865166448495905c9918c798819ce
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Jun 27 12:09:08 2009 +0100

    Update Jingle{Content,Session} to new Transport API
    
    This ensures that inject_candidates and send_candidates are called at
    all the appropriate moments, to give the transports the opportunities to
    do what they need to do. Those appropriate moments are:
    
    inject_candidates: when sending session-initiate, session-accept,
    content-add, content-accept.
    
    send_candidates: just after any of the above actions (for transports
    that never include candidates in the actions and always send
    transport-info), and when candidates are added for contents which have
    already been announced.

 src/jingle-content.c |   43 ++++++++++++++++++++++---------------------
 src/jingle-content.h |    2 ++
 src/jingle-session.c |    5 ++++-
 3 files changed, 28 insertions(+), 22 deletions(-)

commit 764ee086853ad4951b4214b631c8c4c0f784d7a7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Jun 27 12:06:32 2009 +0100

    Updated RawUdp to implement inject_candidates
    
    XEP-0177 says that rawudp candidates MUST/SHOULD be in
    {add,initiate}/accept, respectively, and says absolutely nothing about
    transport-info. So we inject our candidates into those messages, and
    leave _send() unimplemented.

 src/jingle-transport-rawudp.c |   30 ++++++++++++------------------
 1 files changed, 12 insertions(+), 18 deletions(-)

commit 1422a769af6158d8a99fb757a3f751664b0afca4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Jun 27 12:04:44 2009 +0100

    Update IceUdp to implement {inject,send}_candidates
    
    IceUdp candidates SHOULD be included in session-initiate,
    Session-accept, c-add, c-accept where possible, so inject_candidates
    adds any outstanding candidates to the stanza. send_candidates sends
    a transport-info if there are any outstanding candidates.

 src/jingle-transport-iceudp.c |   60 +++++++++++++++++++++++++++-------------
 1 files changed, 40 insertions(+), 20 deletions(-)

commit 961d90c4535f09d94e2096f2333a756745ba365b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Jun 27 12:01:00 2009 +0100

    Implement send_candidates in Google transport
    
    gtalk-p2p candidates are never included in session/content actions, only
    in transport-infos.

 src/jingle-transport-google.c |    9 +++++++--
 1 files changed, 7 insertions(+), 2 deletions(-)

commit d73af34d6c119d88c458fe592425979e62c93a40
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Jun 27 11:57:24 2009 +0100

    Split transport::produce_node() in two.
    
    It turns out not to be enough to have a single method on transports to
    add a <transport/> stanza to some other action, because for
    backwards-compatibility with older Gabbles we have to send RTP and RTCP
    candidates in separate transport-info stanzas, and that knowledge
    belongs in the gtalkp2p transport rather than anywhere else.
    
    So this patch gives transports two methods:
    
    * inject_candidates, which should add candidates to the given
      <transport/> node, assumed to be part of a session-{initiate,accept}
      or content-{add,accept}; and
    * send_candidates, which instructs the transport that it should now send
      any outstanding candidates it may have.

 src/jingle-transport-iface.c |   42 ++++++++++++++++++++++++++++--------------
 src/jingle-transport-iface.h |   21 ++++++++++++++++-----
 2 files changed, 44 insertions(+), 19 deletions(-)

commit 510d2cebbe62980bf7f91f13101294ea8a3bd066
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Jun 27 11:56:06 2009 +0100

    Correct a typo in _request_contents

 src/media-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 626d1da01bad0c7cbb643ffe361e86dcc0f84ab6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Jun 27 11:50:19 2009 +0100

    Expect ice-udp candidates in session-initiate.
    
    The test previously expected an empty <transport/> stanza in the
    session-initiate, followed by a transport-info action containing the
    candidate. This matches gtalk-p2p, and is permitted by XEP-0176, but the
    latter says the session-initiate SHOULD contain candidates.
    
    So, test that the session-initiate contains the candidate we gave
    Gabble, and also check that Gabble doesn't send a bonus empty
    transport-info.

 tests/twisted/jingle/test-outgoing-iceudp.py |   24 ++++++++++++++++--------
 1 files changed, 16 insertions(+), 8 deletions(-)

commit df08da5a6c806c589710a30ce2620bd9bd1d2b25
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Jun 27 11:48:08 2009 +0100

    Correct jingle/test-incoming-iceudp
    
    - We shouldn't be expecting the 'nat-traversal' tp-property to
      *change*; rather, we should check it has the right value when the
      channel is announced.
    
    - Check the contents of transport-info and session-accept stanzas
      slightly.
    
    - Import constants, and fix a typo so it works.

 tests/twisted/jingle/test-incoming-iceudp.py |   29 +++++++++++++++++++------
 1 files changed, 22 insertions(+), 7 deletions(-)

commit 92d3375c476d5d870bd6e82f139f40ba8eb5dafd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Jun 27 11:44:32 2009 +0100

    Don't include <transport/> in description-info

 src/jingle-content.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit baa2a8b4349279aa989245e89bc74a8f741e401f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Jun 26 20:38:03 2009 +0100

    Make MediaChannel:nat-traversal a CONSTRUCT property
    
    This has the side-effect of it being set to its default value if none is
    provided.

 src/media-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 6d6cd619e92cdb8466dc56283adf9be0aff46e5b
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Feb 12 14:32:12 2009 +0100

    JingleContent: wait with content readiness until we have local candidates
    
    This is needed so we can pass them in session-initiate or content-add when
    using RAW-UDP.

 src/jingle-content.c                               |   40 ++++++++++++++-----
 .../twisted/jingle/test-content-adding-removal.py  |    1 +
 2 files changed, 30 insertions(+), 11 deletions(-)

commit 3c4266972323c49d3486c2681655a241afd3b312
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Feb 18 11:38:31 2009 +0000

    Handle prflx candidates in ice-udp

 src/jingle-transport-iceudp.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit ac9427eaeb501ba63971319ab7159eeb85536ac8
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Feb 17 18:13:23 2009 +0000

    Correctly prepend candidates to the list

 src/media-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 52a5e95190f2de44633e6699afdb292864ae176c
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Feb 12 15:13:08 2009 +0100

    JingleTransportRawUdp: remove obsoleted transmit_candidates() method

 src/jingle-transport-rawudp.c |   84 +++++-----------------------------------
 1 files changed, 11 insertions(+), 73 deletions(-)

commit 2a6674c150b383acae685e767305b23a8823e8f5
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Feb 12 13:16:15 2009 +0100

    JingleContent: rename transport_ready to transport_connected

 src/jingle-content.c |   11 +++++++----
 1 files changed, 7 insertions(+), 4 deletions(-)

commit d7b828b08d149cd14039705e54a6d1b45e42a1a1
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Feb 12 13:07:47 2009 +0100

    JingleTransportRawUdp: update produce_node() method

 src/jingle-transport-rawudp.c |   20 ++++++++++++--------
 src/jingle-transport-rawudp.h |    4 ----
 2 files changed, 12 insertions(+), 12 deletions(-)

commit e4f5f4372fdfb5d894cc2842ae3775daf954ad33
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Feb 12 12:58:05 2009 +0100

    JingleTransportIceUdp: replace transmit_candidates() with produce_node()

 src/jingle-transport-iceudp.c |  113 ++++++++++-------------------------------
 1 files changed, 28 insertions(+), 85 deletions(-)

commit 2759538322b80af733596d59a7ea864afd502455
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Feb 12 12:57:02 2009 +0100

    JingleTransportRawUdp: remove unused retransmit_candidates() method

 src/jingle-transport-rawudp.c |   26 --------------------------
 1 files changed, 0 insertions(+), 26 deletions(-)

commit 1d5cf336715c0c1c647398217f8dab60ce6cd7f2
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Feb 12 12:52:23 2009 +0100

    JingleTransportIface: replace retransmit_candidates() with produce_node()

 src/jingle-transport-iface.c |   25 ++++++++++++++-----------
 src/jingle-transport-iface.h |    9 +++++----
 2 files changed, 19 insertions(+), 15 deletions(-)

commit b5ee745a84e2422c9ba9efa5465bc6b8795f0cb1
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Feb 12 10:26:00 2009 +0100

    MediaStream: removed cruft from new_native_candidate method

 src/media-stream.c |  101 +++++++++++++--------------------------------------
 1 files changed, 26 insertions(+), 75 deletions(-)

commit c089a831d2c64e3913966e91e1e5b833a996f32c
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Feb 5 15:38:35 2009 +0100

    JingleTransportIface: rename add_candidates() to more descriptive new_local_candidates()

 src/jingle-content.c          |    2 +-
 src/jingle-transport-google.c |    4 ++--
 src/jingle-transport-iceudp.c |    4 ++--
 src/jingle-transport-iface.c  |    4 ++--
 src/jingle-transport-iface.h  |    4 ++--
 src/jingle-transport-rawudp.c |    4 ++--
 6 files changed, 11 insertions(+), 11 deletions(-)

commit 99194da330d05d5353d8683c7f1a295848ce1f25
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Feb 12 09:57:30 2009 +0100

    JingleTransportRawUdp: produce candidate stanza for all local candidates (needed for RTP+RTCP)

 src/jingle-transport-rawudp.c |   37 +++++++++++++++++--------------------
 1 files changed, 17 insertions(+), 20 deletions(-)

commit 68e0af12c24e0d65cbfd8f253c29a582dcd405a6
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Feb 12 09:52:43 2009 +0100

    JingleTransportRawUdp: properly handle incoming RTP+RTCP candidate batch

 src/jingle-transport-rawudp.c |   24 +++++++++---------------
 1 files changed, 9 insertions(+), 15 deletions(-)

commit d7b2d2cb4dc492d072443d4951d09cfa2df9b93c
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Feb 12 09:40:01 2009 +0100

    JingleCandidate struct: added "id" field

 src/jingle-content.h          |    8 +++++---
 src/jingle-transport-google.c |    4 ++--
 src/jingle-transport-iceudp.c |    4 ++--
 src/jingle-transport-iface.c  |   26 +++++++++++++++-----------
 src/jingle-transport-iface.h  |    9 +++++----
 src/jingle-transport-rawudp.c |    8 ++++----
 6 files changed, 33 insertions(+), 26 deletions(-)

commit 4bb6a246570ce9ef45331d36165f3c53e716ecea
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Feb 6 17:55:37 2009 +0100

    JingleTransportIceUdp: send "id" candidate param

 src/jingle-transport-iceudp.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit f5204bd8225d08d7bfd1d9c5fa1c5e6c5c243f67
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Feb 6 13:10:13 2009 +0100

    JingleTransportRawUdp: send component numbers in candidates

 src/jingle-transport-rawudp.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit ad5390709842f65491b5750cfec1ee1d069cf398
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Feb 6 10:51:43 2009 +0100

    include rawudp candidate in session initiate

 src/jingle-content.c          |   16 ++++++++++++++++
 src/jingle-transport-rawudp.c |   41 +++++++++++++++++++++++++++++++++++++++++
 src/jingle-transport-rawudp.h |    4 ++++
 3 files changed, 61 insertions(+), 0 deletions(-)

commit ffa2c8c283beb8b1928319132212596aab942e66
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Feb 5 19:56:26 2009 +0100

    test incoming calls when ICE-UDP is used

 tests/twisted/Makefile.am                    |    1 +
 tests/twisted/jingle/test-incoming-iceudp.py |   87 ++++++++++++++++++++++++++
 2 files changed, 88 insertions(+), 0 deletions(-)

commit 8652e373a063256cb87bd95cd032a0b2360b7b62
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Feb 5 13:35:22 2009 +0100

    test for outgoing calls using ICE-UDP

 tests/twisted/Makefile.am                    |    1 +
 tests/twisted/jingle/jingletest2.py          |    4 +
 tests/twisted/jingle/test-outgoing-iceudp.py |   96 ++++++++++++++++++++++++++
 tests/twisted/ns.py                          |    1 +
 4 files changed, 102 insertions(+), 0 deletions(-)

commit eece27f7f1c73395646d565e31114133d1a515ec
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Feb 5 09:35:19 2009 +0100

    advertise ICE capabilities

 src/capabilities.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit b4d7f67d2acd2b205bf294c72622aaf083bdd70e
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Feb 5 09:31:06 2009 +0100

    MediaChannel: set nat-traversal Tp property appropriately

 src/media-channel.c |   14 +++++++++++++-
 src/media-factory.c |   22 ++++++++++++++++++++++
 2 files changed, 35 insertions(+), 1 deletions(-)

commit 974efc455ef0e8b3727973c9eb5d44745ea28275
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Feb 5 09:29:32 2009 +0100

    JingleSession: when content is removed, check if the session has become ready

 src/jingle-session.c |   11 ++++++++++-
 1 files changed, 10 insertions(+), 1 deletions(-)

commit 460491d8f61249592c11820509eddcd4c0fab724
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Feb 5 09:28:28 2009 +0100

    enabled use of JingleTransportIceUdp

 src/capabilities.c   |    2 +-
 src/jingle-factory.c |    2 ++
 src/jingle-factory.h |    2 +-
 src/media-channel.c  |   41 +++++++++++++++++++++++++++++------------
 src/namespaces.h     |    5 ++---
 src/types.h          |    3 ++-
 6 files changed, 37 insertions(+), 18 deletions(-)

commit 9fc2a16ff0c63071b9e36512b2ed666bab122149
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Feb 5 09:26:30 2009 +0100

    added ICE-UDP support based on GoogleP2P support code

 src/Makefile.am               |    2 +
 src/jingle-transport-iceudp.c |  559 +++++++++++++++++++++++++++++++++++++++++
 src/jingle-transport-iceudp.h |   65 +++++
 3 files changed, 626 insertions(+), 0 deletions(-)

commit f555bc2ef3130f24f21f7ebb181fea74f5d9bb86
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Jan 27 21:06:25 2009 +0100

    enable the new rawudp support

 src/capabilities.c   |    3 +--
 src/jingle-factory.c |    2 ++
 src/namespaces.h     |    3 +--
 src/types.h          |    1 +
 4 files changed, 5 insertions(+), 4 deletions(-)

commit 02c10453818e37e3eeecf1f8f11e22f528b68e53
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Jan 27 21:03:20 2009 +0100

    JingleContent: added *_get_transport_type() method

 src/jingle-content.c |    6 ++++++
 src/jingle-content.h |    1 +
 2 files changed, 7 insertions(+), 0 deletions(-)

commit 2ac398cf07d31d6910ac6e37da4f053aedc849de
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Jan 27 21:02:20 2009 +0100

    add JingleTransportRawUdp

 src/Makefile.am               |    2 +
 src/jingle-transport-rawudp.c |  467 +++++++++++++++++++++++++++++++++++++++++
 src/jingle-transport-rawudp.h |   65 ++++++
 3 files changed, 534 insertions(+), 0 deletions(-)

commit 3f2073d1a78c723e9d0fa03cfdb2b355fc8c508a
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Jan 27 21:01:34 2009 +0100

    JingleTransportIface: add *_get_transport_type() method

 src/jingle-transport-google.c |    7 +++++++
 src/jingle-transport-iface.c  |   10 ++++++++++
 src/jingle-transport-iface.h  |    2 ++
 3 files changed, 19 insertions(+), 0 deletions(-)

commit 8c838cb52372143770c654598753ea74a252079c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Jun 27 13:09:33 2009 +0100

    Revert "Include xmlns on contents"
    
    This reverts commit dfce1b44821700212f35951931dd5e6bc1942946, which was
    completely wrong: <content> stanzas are in the same namespace as their
    parent <jingle> node, not in the namespace of their <description>.
    
    I made this change because the codepath for producing <content>s for the
    purpose of transport-info actions (which was separate) did so, so that I
    could delete the redundant path.

 src/jingle-content.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 5aa947b42e2d7b0d065f43e3cb986faabf427a23
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 25 19:12:56 2009 +0100

    Simplify _pick_best_resource.
    
    The previous logic had some ... interesting features, like assuming that
    anyone who speaks modern Jingle understands audio and video. This is
    somewhat more straightforward:
    
     * Try modern Jingle;
     * Try Jingle draft 0.15;
     * Try GTalk 0.3, with video if appropriate;
     * Try GTalk 0.4.

 src/media-channel.c |   72 ++++++++++++++++++++-------------------------------
 1 files changed, 28 insertions(+), 44 deletions(-)

commit 800575f774310117a1534fd954388d60c06c8b9f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 25 18:57:45 2009 +0100

    Correct bitwise logic in _resource_has_caps ()
    
    The existing code returns TRUE if the resource has any of the caps in
    question, not all of them. This turns out not to be an issue in any
    code that uses this function, because only one cap is ever passed.

 src/presence.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 58d7a0840eaac9162e9d41feb2499e14a9ff74c9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 25 18:33:53 2009 +0100

    Actually look for jingle:rtp:{audio,video} caps
    
    Previously, Gabble assumed that anyone who could do Jingle RTP could
    make video calls.

 src/media-channel.c                 |   13 +++++++------
 tests/twisted/jingle/jingletest2.py |    3 ++-
 tests/twisted/ns.py                 |    2 ++
 3 files changed, 11 insertions(+), 7 deletions(-)

commit 2f8a0726aef443ee8c16747c7821dc405d8907e0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 25 18:33:37 2009 +0100

    Advertise rtp:{audio,video} caps where appropriate

 src/capabilities.c  |    4 +++-
 src/media-channel.c |    6 ++++--
 src/namespaces.h    |    2 ++
 src/types.h         |    2 ++
 4 files changed, 11 insertions(+), 3 deletions(-)

commit c5447da6c35eed9bf543554429285a527b28541e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 25 13:45:58 2009 +0100

    Bump Jingle namespaces
    
    This will not break backwards compatibility with older Gabbles, since
    they will just fall back to the v0.15 draft of Jingle.

 src/namespaces.h    |    7 ++++---
 tests/twisted/ns.py |    5 +++--
 2 files changed, 7 insertions(+), 5 deletions(-)

commit 644f62c9dc76d3a0c27812c36c3b95cb8f8b7133
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 25 13:38:11 2009 +0100

    ns.py-ify jingletest2

 tests/twisted/jingle/jingletest2.py |   53 +++++++++++++++-------------------
 tests/twisted/ns.py                 |   11 ++++++-
 2 files changed, 32 insertions(+), 32 deletions(-)

commit 0fe4c0cdd190815741eefa690bb8b0b226ef8c41
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 25 12:56:17 2009 +0100

    Change Jingle error namespace to current draft.
    
    While this will mean that we no longer send errors in the old namespace
    even when using the draft v0.15 dialect, this doesn't matter in
    practice: Gabble doesn't actually do anything differently based on the
    errors it receives.

 src/namespaces.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3f038e909d7e3ab7f3633c422f31c1dd0024e9e4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 25 12:51:59 2009 +0100

    Group Jingle dialects in namespaces.h

 src/namespaces.h |   32 +++++++++++++++++++++-----------
 1 files changed, 21 insertions(+), 11 deletions(-)

commit 586619f153f9978e25f50cb43a50315f4d7830b2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 25 17:56:46 2009 +0100

    NEWS for Google Video Chat and fd.o#22369

 NEWS |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 0a35a6b9c9e46038174a1fc582a0bf052957f61f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 25 17:50:54 2009 +0100

    unrace jingle/google-relay.py

 tests/twisted/jingle/google-relay.py |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

commit 6a135ea2556af429e0394e7cd3af8a2dec4cb8d9
Merge: 18b2a0b 053c801
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 25 17:37:08 2009 +0100

    Merge branch 'google-video'
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit 053c801cc49e9bd77e88b74687e92ceed99bf36e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 25 15:08:14 2009 +0100

    Use _defines_action() more widely

 src/jingle-content.c |    3 ++-
 src/jingle-session.c |   10 ++++++----
 src/jingle-session.h |    3 +++
 3 files changed, 11 insertions(+), 5 deletions(-)

commit f671a3851317258485aa2fae569b323d540e9e57
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 25 15:07:54 2009 +0100

    Unrace jingle/stun-server.py

 tests/twisted/jingle/stun-server.py |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit 2678e87fa22985c67d5314a615b404bd2a18e6c7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 25 12:37:23 2009 +0100

    Allow transport-accept on GTalk4.

 src/jingle-session.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 18b2a0bdcf0a10f86f6fb08e3020fd7c1205686b
Merge: 49c98f6 a886ef9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 25 12:04:54 2009 +0100

    Merge branch 'reply-to-active-resource'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 042be11cc5caa0ce25cdc48980543c6668865d09
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 23 19:18:54 2009 +0100

    Improve some Jingle error messages
    
    It's silly to have more accurate information in a DEBUG message than you
    send to the peer, for example. Also, kill off the (now-unused) SET_FOO()
    error-setting macros --- they don't buy anything.

 src/jingle-session.c |   29 ++++++++++++-----------------
 1 files changed, 12 insertions(+), 17 deletions(-)

commit 5f6968790b75e8ced03e06d41102e6729a3df53c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 23 19:11:56 2009 +0100

    Remove duplicated "content doesn't exist" checks.

 src/jingle-session.c |   55 ++++++++++++++++---------------------------------
 1 files changed, 18 insertions(+), 37 deletions(-)

commit cb6b1e30815cbbab4125ff72cc04db35f68697c5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 23 18:50:52 2009 +0100

    Don't send description-info with old dialects

 src/jingle-content.c |   19 +++++++++++++------
 1 files changed, 13 insertions(+), 6 deletions(-)

commit 3956d4f8437eaf14038064e4f4a5041bd8980ec4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 23 18:32:06 2009 +0100

    Add accessor for GabbleJingleSession:dialect

 src/jingle-content.c          |   28 ++++++++--------------------
 src/jingle-media-rtp.c        |    8 ++------
 src/jingle-session.c          |    6 ++++++
 src/jingle-session.h          |    1 +
 src/jingle-transport-google.c |    4 ++--
 5 files changed, 19 insertions(+), 28 deletions(-)

commit 4510df6139f778f8690e1cc3e94f732ad37bb3ee
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 23 17:56:59 2009 +0100

    Incoming GTalk4 calls do need transport-accept

 src/jingle-content.c                    |   10 +++++-----
 tests/twisted/jingle/incoming-basics.py |    7 +++----
 2 files changed, 8 insertions(+), 9 deletions(-)

commit 3b52e944a0648a3d485863b9f1032eb2814e5a45
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 23 17:46:06 2009 +0100

    Only accept actions which exist in the dialect

 src/jingle-session.c |   18 +++++++++++++-----
 1 files changed, 13 insertions(+), 5 deletions(-)

commit 5195b19e2739477ee53e195e7ad7d463fa64b8a1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 23 17:36:48 2009 +0100

    Add dialect_defines_action()
    
    All the older Jingle dialects define a subset of the actions we support,
    which are all supported by modern Jingle.

 src/jingle-session.c |   26 ++++++++++++++++++++++++++
 1 files changed, 26 insertions(+), 0 deletions(-)

commit 2c119c854b77a1adf2793f82ef444cd327df3f43
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 23 11:20:25 2009 +0100

    Return success from RequestStreams(h, [])
    
    If a UI requested a list of no streams, the pending_stream_request would
    never terminate, as it would be waiting for the "new-content" signal
    forever.
    
    This patch moves the special handling of a request for no streams out of
    _request_initial_streams() into _request_streams().

 src/media-channel.c |   50 +++++++++++++++++++++++++-------------------------
 1 files changed, 25 insertions(+), 25 deletions(-)

commit bf40fd0ed57943aaf2328377d9aa3cc605913d5c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 23 10:53:54 2009 +0100

    Don't leak transport namespace when adding streams

 src/jingle-content.c |    6 ++++++
 src/jingle-content.h |    1 +
 src/media-channel.c  |    2 +-
 3 files changed, 8 insertions(+), 1 deletions(-)

commit 2a5afbcef88b9d8709e3bf0b51f17abc0ab5c6c6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 22 19:33:09 2009 +0100

    Improve RequestStreams' error in GTalk calls
    
    Google Talk calls can now have more than one stream; the point is that
    they can't change once the call has started. Also, let's not assert that
    there's only one stream. :-)

 src/media-channel.c |   14 +++-----------
 1 files changed, 3 insertions(+), 11 deletions(-)

commit 3d99b4a6cddd0ab503c32b5ff7a761042c7e38a6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 22 19:21:00 2009 +0100

    Don't try to remove contents in GTalk calls

 src/jingle-session.c |    6 +++++
 src/jingle-session.h |    2 +
 src/media-channel.c  |   57 ++++++++++++++++++++++++++++++++++++++-----------
 3 files changed, 52 insertions(+), 13 deletions(-)

commit 8b5539d6e9ecc7f5039d82b2f7d3273995dea61b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 22 17:39:44 2009 +0100

    Reduce spurious transport-infos
    
    Gabble sometimes sent an empty transport-info after session-initiate,
    and always retransmitted all its candidates after session-accept. This
    had the same root cause. The intention here was to tell the transport
    that session-initiate had been sent and so the queued candidates can be
    sent, but since TRUE was passed to
    gabble_jingle_transport_iface_retransmit_candidates (), they were all
    resent.
    
    Also, transport-info stanzas were sent even if they contained no
    candidates; transmit_candidates () now short-circuits if that is the
    case.

 src/jingle-content.c          |    6 ++++--
 src/jingle-content.h          |    3 ++-
 src/jingle-session.c          |    7 ++++---
 src/jingle-transport-google.c |   10 +++++++---
 4 files changed, 17 insertions(+), 9 deletions(-)

commit 78614cb922246014db1414bff2780448d4cc9784
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 22 17:27:09 2009 +0100

    Send rtp and rtcp candidates separately.
    
    Older Gabbles reject transport-info stanzas containing non-rtp
    candidates.

 src/jingle-transport-google.c |   78 +++++++++++++++++++++++++++-------------
 1 files changed, 52 insertions(+), 26 deletions(-)

commit f945b1ae56226844866643e822c0b9060cd3fa83
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 22 16:32:14 2009 +0100

    Fix a typo

 src/jingle-transport-google.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 1ade99ab53f2033e2245a184ecf167f96352ed8e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 22 16:25:05 2009 +0100

    Properly ignore transport-info ACKs.
    
    We don't need to do anything in response to the peer acking or naking
    our transport-infos; using _send_with_reply with a NULL callback stops
    the debugging output being full of spurious "unknown iq" warnings.

 src/jingle-transport-google.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit f9f74b7b2249d8fc134624345c95c4257c6ac072
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 22 16:14:22 2009 +0100

    Remove duplicated <content>-generation code.
    
    Fixes fd.o#22236: “gabble_jingle_content_produce_node and
    transmit_candidates contain similar but subtly-different <content>
    stanza generators”. The difference mentioned on that bug (whether or not
    a <transport/> node is added for GTalk3) was fixed in the course of
    adding Google Video support.

 src/jingle-content.c          |   42 +++++++++++++++++++++++-----------------
 src/jingle-content.h          |    5 +++-
 src/jingle-session.c          |    2 +-
 src/jingle-transport-google.c |   34 +-------------------------------
 4 files changed, 31 insertions(+), 52 deletions(-)

commit dfce1b44821700212f35951931dd5e6bc1942946
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 22 13:34:05 2009 +0100

    Include xmlns on contents

 src/jingle-content.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit a23c5547a70c07850d3ca0e21864c70542f445b9
Merge: 404748b 49c98f6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 22 12:27:48 2009 +0100

    Update 'google-video' to current master
    
    Conflicts:
    	src/jingle-session.c
    	src/types.h
    	tests/twisted/jingle/hold-audio.py
    	tests/twisted/jingle/hold-av.py
    	tests/twisted/jingle/initial-audio-video.py

commit a886ef942af860ad729bf1497db8d2e61ca93fe6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Jun 19 18:16:23 2009 +0100

    Strip off peer resource on send error.
    
    If we try to send an IM to a particular resource and get a send error,
    Gabble should send future messages to the bare JID until we get a reply
    from some other resource.

 src/im-channel.c                               |   20 +++++++++++++++-----
 tests/twisted/text/send-to-correct-resource.py |   20 +++++++++++++++++++-
 2 files changed, 34 insertions(+), 6 deletions(-)

commit 0e3af20769700b682f2ed550d5b0ae5d0d6749c8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Jun 19 17:49:02 2009 +0100

    Correctly update peer's full JID on incoming IMs.
    
    I inverted the sense of a conditional while Messages-ifying Gabble,
    breaking the code that sends IMs to the resource that most recently
    replied.  Fixes fd.o#22369, and adds a regression test.

 src/im-channel.c                               |    2 +-
 tests/twisted/Makefile.am                      |    1 +
 tests/twisted/text/send-to-correct-resource.py |   60 ++++++++++++++++++++++++
 3 files changed, 62 insertions(+), 1 deletions(-)

commit 49c98f6c2756b042bf25f0baff8590e8b16acfc5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Jun 19 15:44:15 2009 +0100

    Bump version to 0.7.29.1

 NEWS         |    9 +++++++++
 configure.ac |    2 +-
 2 files changed, 10 insertions(+), 1 deletions(-)

commit e4d4e7afd0108d7fd5b6bf34d702f0283ff773ad
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Jun 19 11:54:56 2009 +0100

    telepathy-gabble 0.7.29

 NEWS         |    4 ++--
 configure.ac |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 4c5c8d29a102a7c4c9080d17ebc59283710a13d5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 18 10:39:11 2009 +0100

    NEWS fixing caps from bare jids

 NEWS |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 865ee17833b991e86b1a4ff68875c74884332788
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jun 17 12:38:10 2009 +0100

    NEWS sid and content namespacing fixes

 NEWS |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 29132c21e12d48d2fe566abc4af750634603cef3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Jun 19 14:17:17 2009 +0100

    Call GetMessages() on the Debug interface.
    
    What was there before worked, but this is more correct.

 tests/twisted/test-debug.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 5f19e4ad06514498fc65b66bef04f57f9cc305ac
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Jun 19 14:17:06 2009 +0100

    Skip test-debug.py if debugging is disabled

 tests/twisted/Makefile.am   |    5 +++++
 tests/twisted/test-debug.py |    5 +++++
 2 files changed, 10 insertions(+), 0 deletions(-)

commit 794f8c8714f0b8b7dde301d43ff43dd75ce2d447
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Jun 19 11:34:23 2009 +0100

    Initialize GType in tests.
    
    The debugging code now uses GType, so g_type_init (); needs to be called
    in a few tests.

 tests/test-base64.c        |    4 ++++
 tests/test-parse-message.c |    4 ++++
 2 files changed, 8 insertions(+), 0 deletions(-)

commit 14fac239ea574191452e0b6bbd421b74a78e84d4
Merge: 5fe2fcb c3d403f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Jun 19 10:23:53 2009 +0100

    Merge branch 'work-around-missing-creator'
    
    Reviewed-by: Dafydd Harries <dafydd.harries@collabora.co.uk>

commit c3d403f5f3e95f728a1b5160feaa7b928036709b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Jun 19 10:22:37 2009 +0100

    Document assumptions for missing @creator workaround

 src/jingle-session.c |    9 ++++++++-
 1 files changed, 8 insertions(+), 1 deletions(-)

commit 17694e7a7d8723de48ad6c13f44331632e375c2c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 18 19:21:16 2009 +0100

    Try to pick globally-unique content names.
    
    While it's completely correct for the responder to add a stream called
    'stream1' even though the initiator has a stream called 'stream1'
    already, it makes the debugging output harder to read, and confuses
    0.7.16 <= Gabble <= 0.7.28.

 src/jingle-session.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 707828fcc3b05e083d058dda44cc62483586f278
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 18 19:10:29 2009 +0100

    Guess missing content creators for broken Gabbles

 src/jingle-session.c |   23 ++++++++++++++++++++++-
 1 files changed, 22 insertions(+), 1 deletions(-)

commit 672276476296616500bd70bb81c1c7ae310683a0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 18 19:10:09 2009 +0100

    Add a cap for Gabbles that don't send creator=''

 src/capabilities.c |   48 +++++++++++++++++++++++++++++++++++++++++++++++-
 src/types.h        |    1 +
 2 files changed, 48 insertions(+), 1 deletions(-)

commit 5fe2fcba580fda7701a7aee7740342cf7f93f16d
Merge: 27c2831 d991d4f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 18 10:24:49 2009 +0100

    Merge branch 'caps-from-bare-jid'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit d991d4fc303bb78f35b214170e5b4d481257ca43
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 18 10:04:13 2009 +0100

    Correct my atrocious French.

 tests/twisted/test-caps-hash.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 5a87a9c6933212aded358c364281c4c085c3b284
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 18 09:54:29 2009 +0100

    Test dataforms and UTF-8 in compute_caps_hash
    
    The tests already check that Gabble hashes dataforms in the same way
    that the test suite does. This adds the dataforms example from XEP-0115
    to make sure that the test suite's implementation is correct.

 tests/twisted/caps_helper.py |   26 ++++++++++++++++++++++++--
 1 files changed, 24 insertions(+), 2 deletions(-)

commit d3f318b4d71907a6492f4b6d607c5510ab6c6857
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 16 22:35:12 2009 +0100

    Don't add resource when rediscoing if it's NULL

 src/presence-cache.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 0b77a0740ebe1964d4a2acef7c82493cb097f2ff
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 16 17:54:14 2009 +0100

    Don't printf ("%s", NULL) for NULL resource/status
    
    printf ("%s", NULL); produces "(null)" with glibc, but crashes on
    Windows.

 src/presence-cache.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 56ed10f0f5a69fb0577481e5fd376660f3856885
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 16 17:42:52 2009 +0100

    Correctly handle caps from bare JIDs.

 src/presence.c                      |   21 +++++++
 tests/twisted/Makefile.am           |    1 +
 tests/twisted/caps/from-bare-jid.py |  112 +++++++++++++++++++++++++++++++++++
 3 files changed, 134 insertions(+), 0 deletions(-)

commit e35bde7318282ed169ff75a5f9986b4bf9b86b3b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 16 15:46:03 2009 +0100

    Don't guess handles in test-caps-cache

 tests/twisted/test-caps-cache.py |   28 ++++++++++++++--------------
 1 files changed, 14 insertions(+), 14 deletions(-)

commit a6c16381ea6f25a724aa050f63b8b2a6cc4634a2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 15 19:22:11 2009 +0100

    Don't hardcode caps hashes in tests

 tests/twisted/caps_helper.py     |   27 ++++++++++-
 tests/twisted/test-caps-cache.py |   54 ++++++--------------
 tests/twisted/test-caps-hash.py  |  103 +++++++++++++------------------------
 3 files changed, 79 insertions(+), 105 deletions(-)

commit e94e51b400b2b82d75f91f5dd1f9c8cf181bf83c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 15 18:45:11 2009 +0100

    Correctly test non-emission of CapabilitiesChanged
    
    This was trying to check that CapabilitiesChanged hadn't been emitted in
    response to an IQ sent to Gabble. However, the IQ might not have reached
    Gabble by the time of the assertion unless we sync the stream as well.

 tests/twisted/test-caps-hash.py |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 9852b5d548462440e76d207d6743715805cfb88b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 15 18:30:18 2009 +0100

    tests: Support data forms in compute_caps_hash

 tests/twisted/caps_helper.py                       |   29 +++++++++++++++-----
 .../file-transfer/test-caps-file-transfer.py       |    4 +-
 tests/twisted/test-caps-tubes.py                   |    2 +-
 3 files changed, 25 insertions(+), 10 deletions(-)

commit 27c28316ae710bca913956c13cbea03bc6a1dbb4
Merge: ea0dbeb 3a3626b
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Wed Jun 17 17:51:42 2009 +0100

    Merge branch 'debugger-fix'

commit 3a3626bfb38e1e9a8074a4aad2f22c8dafeb7e39
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jun 17 12:43:59 2009 +0100

    Fall back to DEBUG for unrecognised log levels
    
    Having an assertion here makes me uneasy: it doesn't look like you
    actually *have* to specify a log level when you call g_log().

 src/debugger.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit ea0dbebcc33dbabcc06cd9a4a3aa1389931f1729
Merge: e7bd82f 91030a9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jun 17 12:23:53 2009 +0100

    Merge branch 'namespace-contents-by-creator'
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit e7bd82f640f495f9b681494f251d2e76aeaa258f
Merge: 610cf8e 6842659
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jun 17 12:23:28 2009 +0100

    Merge branch 'namespace-sid-by-peer'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit 91030a9c2c485098af2e8b00c64dacb8db9be805
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jun 17 12:03:16 2009 +0100

    Include 'creator' in transport-info <content>s

 src/jingle-transport-google.c           |   16 ++++++++++++----
 tests/twisted/jingle/incoming-basics.py |    4 ++++
 2 files changed, 16 insertions(+), 4 deletions(-)

commit 021c85395ed33a587f799c3c35ead49f3231f160
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Tue Jun 16 19:49:27 2009 +0100

    Convert GLogLevelFlags to GabbleDebugLevel checking the flag.
    
    If the GLib log message level is G_LOG_LEVEL_ERROR, then it is also
    G_LOG_LEVEL_FATAL, therefore simply checking whether the level is one
    of the two fails.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/debugger.c |   38 ++++++++++++++------------------------
 1 files changed, 14 insertions(+), 24 deletions(-)

commit 114cb98100cc42cca563d7081760b01f779dc48b
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Tue Jun 16 19:40:34 2009 +0100

    Log gabble messages which do not originate from gabble_debug.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/gabble.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 610cf8ec9c77f3a2d648e19581fb7f916bdf7a59
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 16 18:31:24 2009 +0100

    NEWS keepalive-interval

 NEWS |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 642c464129fd106b13dae03ebdd5054670ade5d0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 15 10:58:55 2009 +0100

    Add a keepalive-interval connection parameter.
    
    This allows clients to specify the interval between TCP and/or
    whitespace keepalives (at the whim of Loudmouth) rather than hardcoding
    the interval to 30 seconds (which is still the default). This might be
    useful in situations where reducing network activity is more important
    than realising the network has gone away quickly.

 src/connection-manager.c |    9 +++++++++
 src/connection.c         |   19 +++++++++++++++++--
 2 files changed, 26 insertions(+), 2 deletions(-)

commit 24122c096e396b05aa6436859d45e66f9bdfbbc4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 11 18:01:20 2009 +0100

    Don't leak content name and namespace

 src/jingle-content.c          |    6 ++++++
 src/jingle-content.h          |    1 +
 src/jingle-transport-google.c |   10 ++++------
 3 files changed, 11 insertions(+), 6 deletions(-)

commit 064dd0d8f741308325bf21b66ed0796c7e4a5785
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 11 17:56:46 2009 +0100

    Don't leak a copy of contents' disposition

 src/jingle-content.c |    6 ++++++
 src/jingle-content.h |    1 +
 src/jingle-session.c |   15 ++++++---------
 3 files changed, 13 insertions(+), 9 deletions(-)

commit b94fd63fd53140892093f8ffc27b26ea243bbbbc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 11 17:43:55 2009 +0100

    Document test failure when Gabble didn't namespace contents

 tests/twisted/jingle/test-content-complex.py |    9 ++++++++-
 1 files changed, 8 insertions(+), 1 deletions(-)

commit cd466987ea6db912db01a1edf4d11778a6cd5f81
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 11 17:32:15 2009 +0100

    Namespace contents by their creator.
    
    Fixes fd.o#20763

 src/jingle-session.c |  215 ++++++++++++++++++++++++++++++++-----------------
 1 files changed, 140 insertions(+), 75 deletions(-)

commit 9ce2a812afd41fc91e8812f8333ef75ee11cba53
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 11 17:29:29 2009 +0100

    Test that contents are namespaced by their creator
    
    Both the initiator and the responder should be able to create a content
    called 'foo' without issue. test-content-complex didn't test this
    situation --- it only tested the other party trying to add the same
    content name twice --- and in fact Gabble's got it wrong since the Great
    Jingle Refactoring of 2008.

 tests/twisted/jingle/test-content-complex.py |   58 ++++++++++++++++++++-----
 1 files changed, 46 insertions(+), 12 deletions(-)

commit ac8626b87664b93885b1e013e8188d587a2a5075
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 11 16:25:33 2009 +0100

    Include 'creator' attribute in <mute/>
    
    I noticed today that <mute/> was defined only to take a 'name'
    attribute, but since content names are (supposed to be) namespaced by
    creator it needs a 'creator' attribute too, and PSA agrees.

 tests/twisted/jingle/call-state.py |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 6ef562e77bcc6496c59029398cd333c05a6071fd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 11 16:11:23 2009 +0100

    Add _content_creator_is_initiator()

 src/jingle-content.c |   17 +++++++++++------
 src/jingle-content.h |    1 +
 2 files changed, 12 insertions(+), 6 deletions(-)

commit d19ccece5e11885abedf0696148de57d00a6339a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 11 14:01:43 2009 +0100

    Use G_PARAM_STATIC_STRINGS in JingleContent/MediaRtp

 src/jingle-content.c   |   80 ++++++++++++++++-------------------------------
 src/jingle-media-rtp.c |    3 +-
 2 files changed, 28 insertions(+), 55 deletions(-)

commit 53ccdbdbd5fd0812b195523d4d41ff3f2ea46858
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 11 10:37:49 2009 +0100

    Don't leak content's name for GTalk contents
    
    g_object_get was putting a freshly-allocated string into 'name', which
    (since it's a const gchar *) is never freed.

 src/jingle-session.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 6842659ac0a66f38b53b9c127520044e5556594f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jun 10 16:58:18 2009 +0100

    Sessions are guaranteed to have non-0 peer

 src/jingle-session.c |    7 ++-----
 1 files changed, 2 insertions(+), 5 deletions(-)

commit fd410e919d9fabffc1005f30a90109b9e15ea274
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jun 10 15:11:57 2009 +0100

    Namespace Jingle session IDs by peer
    
    Previously, Gabble's set of Jingle sessions was keyed only by the
    session ID, so if two peers happened to choose the same session ID,
    Gabble got confused.
    
    This patch keys the session map by:
        "<peer's handle>\n<peer's resource>\n<session id>"

 src/jingle-factory.c                         |  177 +++++++++++++------------
 tests/twisted/jingle/session-id-collision.py |   37 ++++++
 2 files changed, 129 insertions(+), 85 deletions(-)

commit 0b03074b92f2d0f7c82808574d98b66bf752a153
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 9 11:45:25 2009 +0100

    Split sending caps out of JingleTest2.prepare()

 tests/twisted/jingle/jingletest2.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit c3e65410b2b0d059bdadd5ec80160cb297fd83bb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jun 10 15:11:39 2009 +0100

    Accessors for JingleSession:sid and :peer-resource

 src/jingle-session.c |   12 ++++++++++++
 src/jingle-session.h |    3 +++
 2 files changed, 15 insertions(+), 0 deletions(-)

commit a73f4bab989029d36bcc5467598d81a106a820e4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jun 10 14:01:03 2009 +0100

    Don't crash on Jingle IQs with no 'from'
    
    Obviously an <iq> without a 'from' attribute is illegal, but LM doesn't
    actually protect you from this, which made me uneasy.

 src/jingle-factory.c |    9 ++++-----
 1 files changed, 4 insertions(+), 5 deletions(-)

commit 1910837a8314de134c84dbea88e5f1023c284484
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 9 19:06:38 2009 +0100

    Remove the now-unused get_jid_for_contact

 src/jingle-session.c |   37 -------------------------------------
 1 files changed, 0 insertions(+), 37 deletions(-)

commit 211d9d7033d8405db06539c04cd60fc5588ee865
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 9 18:57:37 2009 +0100

    Don't require 'initiator' on Jingle stanzas
    
    My reading of <http://xmpp.org/extensions/xep-0166.html#def-jingle> is
    that clients are at liberty to ignore the 'initiator' on
    session-initiate, and just use the IQ's 'from', and should thereafter
    ignore 'initiator' anyway.

 src/jingle-session.c |    8 --------
 1 files changed, 0 insertions(+), 8 deletions(-)

commit 974478bb157c0f4ea6afdd8095afa3511c2b5faa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 9 18:50:05 2009 +0100

    Set session initiator's jid in constructed

 src/jingle-session.c |   18 +++++-------------
 1 files changed, 5 insertions(+), 13 deletions(-)

commit 3e501f5d45a886fa6de8f3a9823092eb8bfed99d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 9 18:01:38 2009 +0100

    Add gabble_connection_get_full_jid()

 src/connection.c |   17 +++++++++++++++++
 src/connection.h |    2 ++
 2 files changed, 19 insertions(+), 0 deletions(-)

commit dfc057c0e7e425015467bb35b46db3a95610b1a6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 9 16:55:25 2009 +0100

    (Re-)build peer's full jid in _constructed

 src/jingle-session.c |   14 +++++++++-----
 1 files changed, 9 insertions(+), 5 deletions(-)

commit 7710495b4c6daca16cfb13be32f8d5f8b70d99e1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 9 16:36:32 2009 +0100

    Don't re-set peer & peer_resource in session_parse
    
    We now guarantee that these are set at construct time, so there's no
    need to set them while parsing the session-initiate.

 src/jingle-session.c |   19 +------------------
 1 files changed, 1 insertions(+), 18 deletions(-)

commit 4d5b93d2cceb06f67c74a0ae5d06d4082fe17dc1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 9 16:21:09 2009 +0100

    Assert that sessions' peer, resource, sid are set
    
    It seems more coherent to ensure that a JingleSession always knows its
    ID and who it's to, rather than to sometimes set these later.

 src/jingle-factory.c |    3 +++
 src/jingle-session.c |   15 +++++++--------
 2 files changed, 10 insertions(+), 8 deletions(-)

commit 499623ec4971b6103f85f7c782229645d84b7e95
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 9 16:16:36 2009 +0100

    Construct outgoing Jingle sessions with resource

 src/media-channel.c |   38 +++++++++++++++++---------------------
 1 files changed, 17 insertions(+), 21 deletions(-)

commit f13474993fdcfc2615a146a29a2d54c97c3d3504
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 9 14:56:22 2009 +0100

    Construct incoming sessions with peer+resource

 src/jingle-factory.c |   55 +++++++++++++++++++++++++++++++++++++++++++++++--
 1 files changed, 52 insertions(+), 3 deletions(-)

commit 6b8e08366b6fc7e1cf80ad36d46d6ac1f541bcd7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 9 14:47:38 2009 +0100

    Ref session peer in jingle_session_constructed.

 src/jingle-session.c |   31 ++++++++++++++++++++++++-------
 1 files changed, 24 insertions(+), 7 deletions(-)

commit 26fd5ab9ecf3beb55e13b291bbc46a4907409d52
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 8 16:36:09 2009 +0100

    Use G_PARAM_STATIC_STRINGS in JingleSession

 src/jingle-session.c |   70 ++++++++++++++++---------------------------------
 1 files changed, 23 insertions(+), 47 deletions(-)

commit dcfe1c8ebdaf0067563d25d93c3f2f9ebbba3c09
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jun 10 15:04:07 2009 +0100

    SOCKS5: decrease the connect timeout
    
    When users are not on the same network or using IPv6, the direct
    connection will always fail. Waiting 30 seconds before connecting to a
    proxy is really long and is perceived by user as a problem in the FT or
    stream tube. 10 seconds should be more than enough; if the connection
    took more that 10 sec to establish, you'll probably have trouble to use
    it any way.

 src/bytestream-socks5.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 761b30f86894100eb94b5e928a981140d912e7b4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jun 10 15:02:06 2009 +0100

    socks5_connect: use the right timeout when waiting for connection

 src/bytestream-socks5.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a55888808ae168dd185f78191986361bddd6b5b1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jun 10 12:35:50 2009 +0100

    NEWS <gone/> fixes

 NEWS |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit a97f62d1464b5e1fb3129c8383ea2447a69bcfa6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jun 10 12:30:57 2009 +0100

    NEWS for RemoveMembers([self] ...) working in MUCs

 NEWS |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit a82f2db0671e49bb9b5d57529ec93f40b814f561
Merge: 5eb776a bfd023f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jun 10 12:34:24 2009 +0100

    Merge branch 'going-going-gone'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 5eb776ad7be0ecd188bf4c4a75a7e36fbb9fc494
Merge: 3b22e63 18f3d79
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jun 10 12:07:02 2009 +0100

    Merge branch 'leave-muc-with-removemembers'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit bfd023f8bce09b392397ef044efdf9fce8abc3e0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jun 10 12:01:02 2009 +0100

    Remove unnecessary forward declaration.
    
    Guillaume pointed out that emit_closed_and_send_gone() is not used
    before it's defined.

 src/im-channel.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 3b22e632af91dd026c655cbce5f3aed87e1f6c78
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jun 10 11:50:01 2009 +0100

    NEWS the hold and unknown action crash fixes

 NEWS |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit 6035b7ca4ecd84820b06b433a8e9d5c955a481ff
Merge: 3e90662 4bdd001
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jun 10 11:38:42 2009 +0100

    Merge branch 'crash-on-unknown-action'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 3e90662d9764e319478335e06584bcdeb333671f
Merge: 5c35907 64c54f5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jun 10 11:30:54 2009 +0100

    Merge branch 'hold-before-call-starts'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 5c35907c91889148038124d60460acfd284b51c2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 8 12:23:42 2009 +0100

    Remove workaround for calls' broken group interface
    
    Historically, you couldn't end a call by removing the self-handle until
    you'd sent a session-initiate. That's fixed now, so let's remove the
    workaround in the test.
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

 tests/twisted/jingle/google-relay.py |   39 +++++++++------------------------
 1 files changed, 11 insertions(+), 28 deletions(-)

commit 64c54f59124e8d8588e24abee176e690aa7cc9f2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 2 15:10:57 2009 +0100

    Forbid answering calls you've put on hold.
    
    This is hard to represent at the XMPP level: you can't cancel <ringing/>
    without also cancelling <hold/>. It also doesn't really make any sense.
    
    Fixes: fd.o #22031 (although it uses a generic error, rather than a
    specific one)

 src/media-channel.c |    9 +++++++--
 1 files changed, 7 insertions(+), 2 deletions(-)

commit e28065ae0a06858413fc24e42c7c0b5b721f1810
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 2 12:01:13 2009 +0100

    Send <hold/> if necessary after session-initiate
    
    If a call is put on hold before it's been initiated, Gabble should send
    a <hold/> notification when the session-initiate is acked. This patch
    makes this work both in the case where the GabbleJingleSession already
    exists (but isn't initiated) when the call is placed on hold, and when
    the session hasn't even been created yet (by setting the current hold
    state on the session when it is created).

 src/jingle-factory.c               |   20 +++++--
 src/jingle-factory.h               |    7 ++-
 src/jingle-session.c               |   53 ++++++++++++++++-
 src/jingle-session.h               |   10 ++-
 src/media-channel-hold.c           |    6 +-
 src/media-channel.c                |    3 +-
 tests/twisted/jingle/hold-audio.py |  109 +++++++++++++++++++++++++++++++++--
 tests/twisted/jingle/hold-av.py    |   21 +++++--
 8 files changed, 197 insertions(+), 32 deletions(-)

commit cf086c6a663db8709e2ce06ac87731db95a846cb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 1 16:51:44 2009 +0100

    Move to desired hold state when no streams exist
    
    Previously, calling RequestHold(True) while there are no MediaStreams
    for the channel would wait indefinitely for one of the
    GabbleMediaStreams' local-hold property to change. Now, rather like in
    stream_unhold_failed, stream_hold_state_changed() is called immediately
    to recalculate the call's hold state as a whole.
    
    Also, stream_hold_state_changed() previously assumed all_held ⇒
    any_held; but when you have no streams, all_held ∧ ¬any_held. So we need
    a fourth block for that case, which moves from any pending state to the
    corresponding end state.

 src/media-channel-hold.c |   46 +++++++++++++++++++++++++++++++++++++++++-----
 1 files changed, 41 insertions(+), 5 deletions(-)

commit fda2566b4fd02a26400f28fabf9f386a4656948e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 1 16:48:59 2009 +0100

    Use switches in Hold state machine
    
    I think this is clearer than the chained if-else-if-else-if-else-s used
    before.

 src/media-channel-hold.c |   56 ++++++++++++++++++++++-----------------------
 1 files changed, 27 insertions(+), 29 deletions(-)

commit a862faa0622ab5928657523aecf783462b1a4e16
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri May 29 20:17:47 2009 +0100

    Don't try to send <(un)hold/> before session exists

 src/media-channel-hold.c |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit 6c15142e62d6169c315f00d9129a7a131901a3fa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri May 29 20:15:05 2009 +0100

    Replace active with unhold in comments

 tests/twisted/jingle/hold-audio.py |   14 +++++++-------
 tests/twisted/jingle/hold-av.py    |    2 +-
 2 files changed, 8 insertions(+), 8 deletions(-)

commit fe011de81d58dae3a5e07433c7707788f52b7a1d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri May 29 20:11:37 2009 +0100

    Forbid the right event when unholding
    
    The test was trying to check that Gabble doesn't send <unhold/> before
    the streaming implementation has successfully reclaimed its resources,
    but was actually checking that Gabble doesn't send <hold/> before then.
    Whoops.

 tests/twisted/jingle/hold-audio.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 309c8f6ddb89ed2b587eb5669158afa25ca7b055
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri May 29 18:57:24 2009 +0100

    Port hold tests to wrap_channel

 tests/twisted/jingle/hold-audio.py |   66 ++++++++++++++++----------------
 tests/twisted/jingle/hold-av.py    |   72 +++++++++++++++++------------------
 2 files changed, 68 insertions(+), 70 deletions(-)

commit 0deb0ad1ca19a23c9091a9f9103daf5498d54bac
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 2 11:13:29 2009 +0100

    Use action_predicate more widely.
    
    In some cases, this just makes the test easier to read; in a couple of
    cases, it replaces "expect an iq; assert it's this jingle action" with
    "expect this jingle action", which is more correct.

 tests/twisted/jingle/call-state.py                 |    6 ++----
 tests/twisted/jingle/hold-av.py                    |    3 +--
 tests/twisted/jingle/incoming-basics.py            |    4 ++--
 tests/twisted/jingle/initial-audio-video.py        |    4 ++--
 tests/twisted/jingle/outgoing-basics.py            |    5 ++---
 tests/twisted/jingle/outgoing-not-answered.py      |    7 +++----
 .../twisted/jingle/test-content-adding-removal.py  |   16 ++++++----------
 tests/twisted/jingle/test-description-info.py      |   11 +++++------
 tests/twisted/jingle/test-incoming-call-reject.py  |    4 ++--
 .../twisted/jingle/test-outgoing-call-rejected.py  |    3 +--
 10 files changed, 26 insertions(+), 37 deletions(-)

commit 34b0a546ba6b7034581682545dee878cdfca0629
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 2 18:32:33 2009 +0100

    Only send <gone/> if we've sent another state
    
    This prevents opening a channel and immediately closing it from sending
    a spurious <gone/> notification to the peer. Fixes: fd.o#18951.

 src/im-channel.c                      |   32 +++++++++++++----
 tests/twisted/text/test-chat-state.py |   61 +++++++++++++++++++++++++++-----
 2 files changed, 75 insertions(+), 18 deletions(-)

commit 1b3828d3751d8a095ec941b3c36b1aa6e9ca339a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 2 17:48:00 2009 +0100

    Constantify test-chat-state somewhat

 tests/twisted/constants.py            |    6 ++++++
 tests/twisted/text/test-chat-state.py |   23 +++++++++--------------
 2 files changed, 15 insertions(+), 14 deletions(-)

commit 237fd2c5a5c4414137f2cbcc4984532e35a06846
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 2 17:28:35 2009 +0100

    Unduplicate emitting Closed and sending <gone/>

 src/im-channel.c |   47 ++++++++++++++++++++---------------------------
 1 files changed, 20 insertions(+), 27 deletions(-)

commit 18f3d79aa1fa2f33981fc6a574b8c0fe679a2fe6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 2 16:19:39 2009 +0100

    Support leaving MUCs with RemoveMembers.
    
    This allows you to leave a MUC with a part message. Fixes: fd.o#16886.

 src/muc-channel.c             |   15 +++++++++++++--
 tests/twisted/muc/test-muc.py |    7 +++++--
 2 files changed, 18 insertions(+), 4 deletions(-)

commit 732e327b4851024aa0b9017ab62f0252588fcd7c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 2 16:14:45 2009 +0100

    Use wrapped channel in test-muc

 tests/twisted/muc/test-muc.py |   20 ++++++++------------
 1 files changed, 8 insertions(+), 12 deletions(-)

commit 5c04172ef82481fea32929dc36c2fcbf520d55ba
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 2 16:10:37 2009 +0100

    Return a wrapped channel from join_muc

 tests/twisted/mucutil.py |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 4bdd001e18834ece694e23a2fc989299a352fb16
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 2 17:01:11 2009 +0100

    Sanity-check Jingle actions in a few places.

 src/jingle-content.c |    2 +-
 src/jingle-session.c |   12 +++++++-----
 2 files changed, 8 insertions(+), 6 deletions(-)

commit 38054275cf64b2e60b20a7fc15fbd904aba5bd3d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 2 16:59:01 2009 +0100

    Don't crash on unknown incoming Jingle actions.
    
    Previously, gabble_jingle_session_parse() called produce_action() (which
    asserts if you pass it JINGLE_ACTION_UNKNOWN) before checking whether
    the action is UNKNOWN, with hilarious consequences.
    
    Fixes: fd.o#20807

 src/jingle-session.c |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit 51e98d8033c9d4e6b86409352366edc5d46e60ee
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 2 10:44:28 2009 +0100

    Unrace jingle/incoming-basics
    
    We should expect the alleged gtalk4-compatibility transport-accept in
    response to Gabble receiving a session-initiate, so move it up to the
    first batch of expectations.
    
    Also, picking up the initial StreamDirectionChanged is racy and not
    generally possible in real clients (because the channel's only just been
    announced, and might not have been dispatched to them by the time the
    signal's emitted) so use ListStreams() instead.

 tests/twisted/jingle/incoming-basics.py |   51 +++++++++++++++++--------------
 1 files changed, 28 insertions(+), 23 deletions(-)

commit 4a0f98ab5e61772d86ae6346df561d4259eb3cd9
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Fri Jun 5 00:20:31 2009 +0100

    Ordered EXTRA_DIST.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 extensions/Makefile.am |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 0bf4209dd1b64e5fc569e833873fe3cf93921359
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Fri Jun 5 00:16:58 2009 +0100

    Define a gabble_debug_free even with no --enable-debug.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/debug.h |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 07ec77e932115f84cc92537a83e8d928c0cf5f91
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Fri Jun 5 00:16:36 2009 +0100

    Add Debug.xml to EXTRA_DIST.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 extensions/Makefile.am |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit ea1eadf7c9838bbc81cad026df91e95138ee566c
Merge: 2844a4d 5d78337
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jun 4 12:22:08 2009 +0100

    Merge branch 'refactor-caps-tests'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 2844a4da1c356b3d1176a8bacf40acb5d24d754c
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Thu Jun 4 00:55:24 2009 +0100

    test-debug.py: Fix to use correct iface and number of NewDebugMessage args.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

 tests/twisted/test-debug.py |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 5d783377a2f1dcd72b1dd68998d199a2a0464e39
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jun 3 17:58:24 2009 +0100

    Refactor testing outgoing tubes caps

 tests/twisted/test-caps-tubes.py |  227 ++++++++++++++++----------------------
 1 files changed, 94 insertions(+), 133 deletions(-)

commit 7fb51a6b369bfcc22829a2b0390440b9e947a15b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jun 3 15:15:28 2009 +0100

    Refactor testing incoming tubes caps

 tests/twisted/test-caps-tubes.py |  366 +++++++++-----------------------------
 1 files changed, 83 insertions(+), 283 deletions(-)

commit beb8fc50851f9d653deb854a056c0d4c7b2c94e6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jun 3 15:11:36 2009 +0100

    Add ContactCapabilities to test connection proxy

 tests/twisted/servicetest.py |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit fc1e3af34502cc2f8998ee08990b63069c3e2334
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jun 3 14:16:31 2009 +0100

    Use assertEquals in test-caps-file-transfer

 .../file-transfer/test-caps-file-transfer.py       |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit a71a93144c5b5c2b829da8512c520eedf5104aec
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jun 3 12:50:52 2009 +0100

    Pretty-print values in assert*

 tests/twisted/servicetest.py |   15 +++++++++++----
 1 files changed, 11 insertions(+), 4 deletions(-)

commit 0e054da167caf74ee3bfe948349f9a49a930921c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jun 3 18:42:03 2009 +0100

    Don't use a va_list twice.
    
    Using a va_list twice within one va_start/va_end is not portable. You
    have to start and end once per use. Here we just construct the formatted
    message once, which I think is clearer.
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

 src/debug.c |   16 ++++++++--------
 1 files changed, 8 insertions(+), 8 deletions(-)

commit 05c0d7865af3414f2c29fcbd83e776b4107706eb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu May 7 19:32:51 2009 +0100

    Unrace offer-muc-stream-tube.py
    
    Previously it might send the other members' presence before Gabble's
    tried to join.
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

 tests/twisted/tubes/offer-muc-stream-tube.py |   24 +++++++++---------------
 1 files changed, 9 insertions(+), 15 deletions(-)

commit f7af0795c91c25e00a6a72330ac41640cb4a5dd6
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Wed Jun 3 14:15:00 2009 +0100

    Updated NEWS.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 NEWS |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit aad1c0434e10c90ac428611d864db2af8af2e8f3
Merge: e571175 116df97
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Wed Jun 3 14:10:35 2009 +0100

    Merge branch 'debug'

commit 116df9751bce52cc08419d35a8746e1361adffb0
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Wed Jun 3 14:07:58 2009 +0100

    Use g_direct_{hash,equal} instead of creating hash/equal functions for uints.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/debug.c |   15 +--------------
 1 files changed, 1 insertions(+), 14 deletions(-)

commit 24380712bf2d818948a4541a6ea5ea1bfef729e8
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Wed Jun 3 13:28:27 2009 +0100

    Use a hash table to contain debug flags.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/connection-manager.c |    9 +++++++++
 src/debug.c              |   45 ++++++++++++++++++++++++++++++++++++++-------
 src/debug.h              |    1 +
 3 files changed, 48 insertions(+), 7 deletions(-)

commit 3db0d3fef0533eb74395d97121368d5988bd2ef3
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Wed Jun 3 12:11:13 2009 +0100

    Fix indentation.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/debug.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4ac31661866db63cc3395401d3bec8b91cf57601
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Wed Jun 3 12:06:25 2009 +0100

    Added comments as to why the gabble messages shouldn't be sent to the debugger.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/gabble.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 64ce86d89c86206a6ad6470180182230114d61b9
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Wed Jun 3 11:52:53 2009 +0100

    Removed useless blank lines.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/debugger.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 569d0b6c04beb7dceb3e19b1d47e4888818023d8
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Wed Jun 3 11:51:18 2009 +0100

    Updated function definition style.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/debug.c    |    8 ++++----
 src/debugger.c |   21 ++++++++++++++-------
 src/gabble.c   |   20 ++++++++++----------
 3 files changed, 28 insertions(+), 21 deletions(-)

commit f5e54fca1992021f8a6ecc377f7fe098d88ed03b
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Wed Jun 3 11:43:56 2009 +0100

    Updated Debug interface.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 extensions/Debug.xml |  140 ++++++++++++++++++++++++++++++++++---------------
 1 files changed, 97 insertions(+), 43 deletions(-)

commit e571175a7256d20f8accaed72057a0d74ef2fa2b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 2 15:25:02 2009 +0100

    Clarify immediate StreamDirectionChanged comment
    
    Fixes: fd.o#20841
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 src/media-channel.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit ff1629364f5e0a79bb7c050ef849bc8365e238d5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jun 2 10:28:28 2009 +0100

    bump version to 0.7.28.1

 NEWS         |    9 +++++++++
 configure.ac |    2 +-
 2 files changed, 10 insertions(+), 1 deletions(-)

commit 0b743c4f26ca109b97882731f0b01a48a06a8d19
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jun 1 18:36:42 2009 +0100

    version 0.7.28

 NEWS         |   18 +++++++++++-------
 configure.ac |    4 ++--
 2 files changed, 13 insertions(+), 9 deletions(-)

commit 67336c81bd9690b2a06e9b4aa2efc5ba015e8ec6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri May 29 18:15:11 2009 +0100

    Don't assume session is non-NULL in GetCallState
    
    If GetCallState() is called before RequestStreams() and friends,
    there'll be no JingleSession for the channel, so we need to check if it
    exists yet before dereferencing it.
    
    It's valid to omit participants whose call state is 0, and if there's no
    session we might not know who the peer is yet anyway (if the
    RequestChannel(0) calling convention's in use).
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

 src/media-channel-hold.c           |    5 +++--
 tests/twisted/jingle/call-state.py |    4 ++++
 2 files changed, 7 insertions(+), 2 deletions(-)

commit 7fe79e84b0b7aec972d80375a3dd301213bceab0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 1 12:14:59 2009 +0100

    gibber_fd_transport_block_receiving; don't crash when trying to unblock a not yet connected transport

 lib/gibber/gibber-fd-transport.c |    8 ++++++--
 1 files changed, 6 insertions(+), 2 deletions(-)

commit 663914069fcdda92abe60af09c233e2ade7719cb
Merge: 73cf45f 5e844c0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri May 29 11:44:13 2009 +0100

    Merge branch 'fake-incoming-ringing-on-old-jingle'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 73cf45f3a9de3f1f84ab98b936725b2649fbe261
Merge: 06a3ff3 e616465
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri May 29 11:43:35 2009 +0100

    Merge branch 'send-ringing'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 5e844c084478be47b1c0e2e85245d5f88d724a25
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 27 14:46:04 2009 +0100

    Fake Ringing states on old Jingle dialects

 src/jingle-session.c               |   27 +++++++-
 tests/twisted/jingle/call-state.py |  139 +++++++++++++++++++-----------------
 2 files changed, 99 insertions(+), 67 deletions(-)

commit e616465c10597286a8e63eb3f114dc0dbb3dcf7c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 27 16:15:24 2009 +0100

    Send <unhold/> not <active/>
    
    The <ringing/>, <hold/>, and <mute/> states in jingle-rtp are
    orthogonal. <hold/> and <mute/> have inverses, <unhold/> and <unmute/>;
    <active/> cancels out all states. Previously, Gabble only ever sent
    <hold/>, so using <active/> to unset it was okay. But if you hold and
    unhold a call before answering it, the ringing state (which we now send)
    shouldn't be removed (as it would be by sending <active/>).

 src/jingle-session.c               |    2 +-
 tests/twisted/jingle/hold-audio.py |   30 +++++++++++++++---------------
 tests/twisted/jingle/hold-av.py    |   36 ++++++++++++++++++------------------
 3 files changed, 34 insertions(+), 34 deletions(-)

commit 9f037c6f3936549993f5c0133e3479177c0508b4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 27 15:37:34 2009 +0100

    Send <ringing> and <active> on -initiate and -accept
    
    For now, the UI doesn't have any way to tell the CM that it's ringing.
    So Gabble sends <ringing/> when it gets a session-initiate, and
    <active/> when it gets an ack for its session-accept.

 src/jingle-session.c                    |   11 +++++++++--
 tests/twisted/jingle/incoming-basics.py |   18 +++++++++++++++++-
 2 files changed, 26 insertions(+), 3 deletions(-)

commit f8e7e117158c2256953f815f737d1674ebb3160d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 27 15:29:14 2009 +0100

    Generalize gabble_jingle_session_send_held

 src/jingle-session.c |   20 ++++++++++++++------
 1 files changed, 14 insertions(+), 6 deletions(-)

commit 58957a9c3473803801c38d8d92d1ad6cb276f010
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 27 15:10:53 2009 +0100

    Generalize <hold>/<active> event pattern functions
    
    I'm about to make a test check that Gabble sends <ringing/> and
    <active/> using these generalized helpers.

 tests/twisted/jingle/hold-audio.py  |    4 ++--
 tests/twisted/jingle/hold-av.py     |    4 ++--
 tests/twisted/jingle/jingletest2.py |   10 +++++-----
 3 files changed, 9 insertions(+), 9 deletions(-)

commit 06a3ff371b683867b7eda0c41bf7fe73beab24ac
Merge: bb3c7fe 5aa5e7a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri May 29 11:25:54 2009 +0100

    Merge branch 'test-tidying'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit bb3c7fe1fa9450c2361c20a699b15af49b76fef5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 26 12:34:08 2009 +0100

    NEWS: document latest tube changes

 NEWS |   12 ++++++++++--
 1 files changed, 10 insertions(+), 2 deletions(-)

commit 28bcde7267a761473d572882a181bce84dab7eed
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 28 10:35:06 2009 +0100

    use TP_ERROR_STR_* constants from tp-glib

 src/tube-stream.c |   15 ++++-----------
 1 files changed, 4 insertions(+), 11 deletions(-)

commit 9f520d416d230f4dc1a6588546c6e29de09aed7b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 26 14:38:03 2009 +0100

    constants: new tube API is now stable

 tests/twisted/constants.py |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 49247bf3f301036ebd9bbd9e04cd13031068a0f5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 26 13:40:16 2009 +0100

    use tp-glib instead of extensions to implement tube new API

 src/muc-factory.c           |   20 +++++-----
 src/private-tubes-factory.c |   44 +++++++++++-----------
 src/tube-dbus.c             |   64 +++++++++++++++++-----------------
 src/tube-stream.c           |   82 +++++++++++++++++++++---------------------
 src/tubes-channel.c         |   14 ++++----
 5 files changed, 112 insertions(+), 112 deletions(-)

commit 1b77e86250775562b132a96fefe34ff7ec0b24c3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 28 10:30:23 2009 +0100

    bump tp-glib to 0.7.31 as we need it for tube new API

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit aee4931a87cd810d3bb3d5d16bb901c4298b768d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 26 13:21:22 2009 +0100

    stop generating code for tube new API

 extensions/Channel_Interface_Tube.xml   |  256 ---------------------------
 extensions/Channel_Type_DBus_Tube.xml   |  190 --------------------
 extensions/Channel_Type_Stream_Tube.xml |  288 -------------------------------
 extensions/Makefile.am                  |    3 -
 extensions/all.xml                      |    4 -
 5 files changed, 0 insertions(+), 741 deletions(-)

commit 4bb75ff2997b34436943b9c6c69fe3be67e4dfea
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 26 11:23:55 2009 +0100

    chmod 777 stream tube UNIX socket for AccessControlLocalhost

 src/tube-stream.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit e6ecb72be4ac348673c4aa5aedd16619f1826274
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 28 11:42:21 2009 +0100

    correctly use assertEquals

 tests/twisted/tubes/accept-muc-stream-tube.py     |   17 ++++++++---------
 tests/twisted/tubes/accept-private-stream-tube.py |   16 ++++++++--------
 tests/twisted/tubes/offer-muc-stream-tube.py      |    9 ++++-----
 tests/twisted/tubes/offer-private-stream-tube.py  |    8 ++++----
 4 files changed, 24 insertions(+), 26 deletions(-)

commit e9f1caca691de6e47538842b48b4fdbeb0e2a0d9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 25 17:30:43 2009 +0100

    update stream tube tests to deal with the debug_msg arg of the ConnectionClosed signal

 tests/twisted/tubes/accept-muc-stream-tube.py     |   19 +++++++++++++------
 tests/twisted/tubes/accept-private-stream-tube.py |   16 +++++++++++-----
 tests/twisted/tubes/offer-muc-stream-tube.py      |    6 ++++--
 tests/twisted/tubes/offer-private-stream-tube.py  |    6 ++++--
 4 files changed, 32 insertions(+), 15 deletions(-)

commit 5f3ebc0cf82c350b058349e2ab63b7f2b74ebcd9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 25 17:07:53 2009 +0100

    ConnectionClosed signal now has a debug_msg arg

 src/tube-stream.c |   16 ++++++++++------
 1 files changed, 10 insertions(+), 6 deletions(-)

commit c0c2d9c612331e1e394c553e39fd112eedd31e98
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 26 11:18:02 2009 +0100

    sync with latest tube DRAFT

 extensions/Channel_Interface_Tube.xml   |  182 ++++++++++++++++++++++++------
 extensions/Channel_Type_Stream_Tube.xml |   40 ++++++-
 2 files changed, 178 insertions(+), 44 deletions(-)

commit 531f6a8c08f261ba84af552b1c9ba79291c440ae
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 26 11:17:51 2009 +0100

    extensions/all.xml: add Handle_Type

 extensions/all.xml |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 404748b43092fc009a562b7369cedb04c1afb00d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue May 26 18:54:01 2009 +0100

    Only run tests that add/remove streams on protocols that can do so

 tests/twisted/jingle/hold-av.py     |    3 ++-
 tests/twisted/jingle/jingletest2.py |    6 ++++++
 2 files changed, 8 insertions(+), 1 deletions(-)

commit 0b85f4540e6c95267f4171e885be699edc591bbd
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue May 26 18:45:45 2009 +0100

    Move tests requiring mutable streams into their own function

 tests/twisted/jingle/hold-av.py |  163 ++++++++++++++++++++-------------------
 1 files changed, 85 insertions(+), 78 deletions(-)

commit a3aaf7f0b9a2b893fee5c3a203d73500208d6386
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu May 7 16:13:41 2009 +0100

    Google video caps means the contact is video capable

 src/media-channel.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit ac3913afcdd76aaf8d7aad6ad933325b2c1d5e8b
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed May 6 16:33:10 2009 +0100

    fix trailing space

 src/capabilities.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8a71861c490053c5bb3f16ec84bf8c0b9e21ee6f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed May 6 11:43:33 2009 +0100

    Support parsing of rtcp candidates

 src/jingle-transport-google.c |   35 +++++++++++++++++++++++++++++++++--
 1 files changed, 33 insertions(+), 2 deletions(-)

commit 4dc0f150464a0e4a4263b434e52cd8367da5cdc4
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed May 6 11:42:31 2009 +0100

    wrap a line > 80 chars

 src/jingle-transport-google.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit d905339fb7c56c41494c183faf2c6fd1ce103065
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed May 6 11:42:03 2009 +0100

    Support transmission of rtcp candidates

 src/jingle-transport-google.c |   17 +++++++++++++----
 1 files changed, 13 insertions(+), 4 deletions(-)

commit 545ac53762541d109322c064672cd338b9423706
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed May 6 11:00:22 2009 +0100

    Support multiple transport components

 src/media-stream.c |  105 ++++++++++++++++++++++++---------------------------
 1 files changed, 49 insertions(+), 56 deletions(-)

commit 64c723923b2e1e6939104faddc99188bc3f4e0e8
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed May 6 10:56:20 2009 +0100

    Support receiving candidates for multiple gtalk contents

 src/jingle-session.c |   20 ++++++++++----------
 1 files changed, 10 insertions(+), 10 deletions(-)

commit 3221e815e85a805a46bf69a06d570082f1609115
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed May 6 10:55:09 2009 +0100

    Set dummy width, height and framerate attributes

 src/jingle-media-rtp.c |   34 +++++++++++++++++++++++++---------
 1 files changed, 25 insertions(+), 9 deletions(-)

commit 380d5530863e158ffe368e92db3e06128bd391ae
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed May 6 10:39:34 2009 +0100

    Ignore payload-types meant for different media
    
    In Gtalk3 the audio and video content description are mixed in the xml tree, so
    let the content parser for audio ignore the payload-types meant for video and
    vice versa.

 src/jingle-media-rtp.c |   30 ++++++++++++++++++++++++++++++
 1 files changed, 30 insertions(+), 0 deletions(-)

commit 0e3273715bc6f44476f60fe9a06b23c147833b82
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri May 1 11:25:26 2009 +0100

    Detect whether we're talking to a GTalk03 or a GTalk04 client

 src/jingle-session.c |   52 +++++++++++++++++++++++++++++++++++++++++++++----
 1 files changed, 47 insertions(+), 5 deletions(-)

commit 143a247247ca5113959a087aae9d3931c6962a95
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri May 1 11:21:27 2009 +0100

    Only get the media type from the description if it's unknown

 src/jingle-media-rtp.c |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit 093172bf7c6e9bac32334859b19204bcf5fb437d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri May 1 11:20:23 2009 +0100

    Allow content names to be overriden in the GTalk dialects

 src/jingle-content.c |   15 ++++++++++-----
 1 files changed, 10 insertions(+), 5 deletions(-)

commit f5e345ef86b72f0b76670f2341c9b220a454d0e0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Fri May 1 11:15:29 2009 +0100

    Assert when we get a content type we don't know

 src/media-channel.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 920a27474c3783d701b19992814883926e5f2879
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Apr 30 19:31:30 2009 +0100

    In GTalk03 let the session add the description
    
    in the GTalk03 dialect the description namespace depends on whether the session
    does video or not. So pull up adding the description tag into the session for
    this dialect. Also add a namespace to audio payloads when using this dialect

 src/jingle-media-rtp.c |   65 ++++++++++++++++++++++++++++++++++++-----------
 src/jingle-session.c   |   33 ++++++++++++++++++++++++
 2 files changed, 83 insertions(+), 15 deletions(-)

commit 43c757d04b4ee13ddc88792dc2bdd9f0af33a87d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Apr 30 19:30:32 2009 +0100

    We can only do GTalk3 video if both audio and video are wanted

 src/media-channel.c |   18 +++++++++++-------
 1 files changed, 11 insertions(+), 7 deletions(-)

commit d053f6901bea9de91f9031cf4d9494d13c77893c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Apr 30 19:30:09 2009 +0100

    Assert that a GTalk 03 video session always has audio codecs

 tests/twisted/jingle/jingletest2.py |   15 +++++++++++++--
 1 files changed, 13 insertions(+), 2 deletions(-)

commit a76f3be48621438114dc8d34c70137a2ba3c67f2
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Apr 30 19:29:41 2009 +0100

    Add google audio/video session namespaces

 tests/twisted/ns.py |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit d4115a0f2be94cb10fbfca5500073cd610ac4d1c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Apr 30 19:29:24 2009 +0100

    Expect an error if the protocol can't do video only and is requested to do so

 tests/twisted/jingle/initial-audio-video.py |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 732ee4d7c6cfcde3dc0759d861482458ff932d27
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Apr 30 18:59:29 2009 +0100

    Don't use the same codecs for audio and video in tests

 tests/twisted/jingle/initial-audio-video.py |   11 +++++++----
 1 files changed, 7 insertions(+), 4 deletions(-)

commit cdfbb313c6f72298b3593b2837094825c79922b8
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Apr 30 17:16:17 2009 +0100

    Don't send transport in the GTalk 03 dialect

 src/jingle-content.c |    8 ++++++--
 1 files changed, 6 insertions(+), 2 deletions(-)

commit a138084d2950f5ba8e2526a812b8cec1f6fb55ae
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Apr 30 17:12:53 2009 +0100

    Improve selection of the GTalk dialects
    
    If a contact only google voice, but not google transport p2p in its
    capabilities, select the GTalk 03 dialect, if it has both select GTalk 04

 src/media-channel.c |   14 ++++++++++++--
 1 files changed, 12 insertions(+), 2 deletions(-)

commit 569a0a8a1701841248a02e521c972f673f9e9b5d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Apr 30 16:58:39 2009 +0100

    Add basic validation for GTalk03

 tests/twisted/jingle/jingletest2.py |   13 ++++++++++++-
 1 files changed, 12 insertions(+), 1 deletions(-)

commit 5d1c70aebeb5ceea51a0081d67d22b45d4a8a411
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Apr 30 16:51:42 2009 +0100

    Add a hook to parse and validate all of a session initiate

 tests/twisted/jingle/call-state.py                 |    2 +-
 tests/twisted/jingle/hold-audio.py                 |    2 +-
 tests/twisted/jingle/hold-av.py                    |    2 +-
 tests/twisted/jingle/initial-audio-video.py        |    2 +-
 tests/twisted/jingle/jingletest2.py                |    7 ++++++-
 tests/twisted/jingle/outgoing-basics.py            |    2 +-
 .../twisted/jingle/test-content-adding-removal.py  |    2 +-
 .../twisted/jingle/test-outgoing-call-rejected.py  |    2 +-
 8 files changed, 13 insertions(+), 8 deletions(-)

commit 5aa5e7ac3675afbefcd3655cc69106f5921778c1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 27 16:23:05 2009 +0100

    Move test-suite-only function to clarify comment
    
    Putting the definition at the end of the file makes the comment less
    misleading, as it made it look like all the following functions were
    test-suite-only.

 src/jingle-session.c |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit 488dce59ee5c99f4e9903f58253f195a50343914
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 27 16:07:45 2009 +0100

    Fix some races in Jingle tests
    
    These were occasionally catching IQ acks and things rather than the
    events they intended to catch.

 tests/twisted/jingle/accept-extra-stream.py  |   26 ++++++++++++--------------
 tests/twisted/jingle/incoming-basics.py      |    9 +++++----
 tests/twisted/jingle/test-content-complex.py |   10 ++++------
 3 files changed, 21 insertions(+), 24 deletions(-)

commit 4b6d6e32fa61d6f60a1de81406c2f60e117810ec
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 27 15:59:01 2009 +0100

    Add a curried version of match_jingle_action
    
    jp.action_predicate('session-initiate') can be used directly as the
    predicate of an EventPattern, rather than needing something like
    lambda e: jp.match_jingle_action(e, 'session-initiate')

 tests/twisted/jingle/jingletest2.py |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit c6543bd68a42d8355bd5386211c8980a60f900f7
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Tue May 26 18:57:33 2009 -0400

    Report an error if gabble can't publish location to a non PEP capable server

 src/conn-location.c |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 6a45489e9f28875b2b326efcc62dafed36fd1d61
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Tue May 26 18:25:10 2009 -0400

    Always advertise Location.DRAFT
    
    Even if a server does not support PEP the user can receive notifications
    for geolocation of other users from other servers.

 src/connection.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 7799f557e46281591658ae5e8d03234ff680f09a
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Tue May 26 15:59:01 2009 -0400

    Convert timestamps <-> iso8601 using glib function
    
    Now that we use glib functions for all these conversions,
    we can stop including time.h

 src/conn-location.c |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit 882b562f66aaa41a8502cb26c8715db14938d587
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Tue May 26 15:19:02 2009 -0400

    Fix a timezone issue with regards to the received time from the server.
    
    The time is always UTC.

 src/conn-location.c |   10 ++++------
 1 files changed, 4 insertions(+), 6 deletions(-)

commit 35212400741304aa003ef661bdd75bdccc161aab
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Apr 30 16:17:19 2009 +0100

    Support dialects that don't have one content per stream

 tests/twisted/jingle/jingletest2.py |   79 +++++++++++++++++++++-------------
 1 files changed, 49 insertions(+), 30 deletions(-)

commit 2101ea644170827201c9a4a5d3eaee0d3708fd33
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Apr 30 16:11:55 2009 +0100

    Add seperate_contents and can_do_video_only dialect features
    
    add features to ask the dialect if it can do a video only call and whether its
    contents are in seperate content trees or if they are all put together like in
    GTalk 03

 tests/twisted/jingle/initial-audio-video.py |    2 ++
 tests/twisted/jingle/jingletest2.py         |   13 +++++++++++++
 2 files changed, 15 insertions(+), 0 deletions(-)

commit 107f3676bd40739ecbd0a0a45c1d1392c340c7a1
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Apr 30 16:13:17 2009 +0100

    Fix typo in children

 tests/twisted/jingle/jingletest2.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit fb681ea35495538fa2b3b1b2534db17a1f866bb4
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Apr 29 17:50:56 2009 +0100

    Add support for google video capabilities
    
    support google video capabilities (both recognising and setting them). Like
    with voice-v1 the google web client doesn't actually asks us about our
    capabilities but only assumes we can do video if video-v1 is in the ext
    attribute of our capabilities

 src/capabilities.c     |    1 +
 src/capabilities.h     |    6 ++++--
 src/connection.c       |   21 +++++++++++++++++++--
 src/jingle-media-rtp.c |    5 +++++
 src/media-channel.c    |   34 ++++++++++++++++++++++++++++++----
 src/namespaces.h       |    3 +++
 src/types.h            |    1 +
 7 files changed, 63 insertions(+), 8 deletions(-)

commit 4f3ebab4e7d4a90c79a6bd1c615888695d5b2e97
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Apr 29 16:32:16 2009 +0100

    Add GTalk 03 video capabilities
    
    add GTAlk dialect 03 video capabilities as that is supported by the Google web
    client. Also if we want to know if a specific dialect supports video, ask if it
    supports video not ask if it's part of a certain dialect family

 tests/twisted/jingle/jingletest2.py |   15 ++++++++++-----
 1 files changed, 10 insertions(+), 5 deletions(-)

commit edec34a273ed532b2bd4424d980565cbf1f122a9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue May 26 12:48:56 2009 +0100

    NEWS for just-merged fixes

 NEWS |   13 +++++++++++++
 1 files changed, 13 insertions(+), 0 deletions(-)

commit a751c83a857fb4c1529b82b840b04e6cdd5a0a3f
Merge: d042e01 3dd3b63
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue May 26 12:43:35 2009 +0100

    Merge branch 'remove-from-rp-subscribe'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 3dd3b63884c325404352cd4c9bf42af340b2eda7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri May 1 20:53:04 2009 +0100

    Add a regression test.

 tests/twisted/Makefile.am                         |    1 +
 tests/twisted/roster/removed-from-rp-subscribe.py |  100 +++++++++++++++++++++
 2 files changed, 101 insertions(+), 0 deletions(-)

commit 2c820b740ea9a68d8cf64844d7dbfbb26a4e4244
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri May 1 20:45:13 2009 +0100

    Don't ignore subscription='remove' if remote-pending
    
    In response to subscription='none' or subscription='from', the contact
    is only removed from 'subscribe' if they're not remote pending., with
    the explanation 'presence="unsubscribed" does that'. From my reading of
    the RFC, that makes sense.
    
    But I think the same guard for subscription='remove' makes no sense at
    all: they're being removed entirely from the roster, so clearly we're
    cancelling the subscription request.

 src/roster.c |   12 ++----------
 1 files changed, 2 insertions(+), 10 deletions(-)

commit d042e01c0c132691829b1389558e74973d0401cb
Merge: 014da0b ffd77ab
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue May 26 12:29:30 2009 +0100

    Merge branch 'stream-added-on-hold'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 014da0b020e6d3fa01afb984f9cc14e82d9a2dca
Merge: e1d9e60 381d450
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue May 26 12:20:15 2009 +0100

    Merge branch 'refactor-hold'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit e1d9e6035f0aec090ed73e05b64752d49577e036
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 26 11:42:57 2009 +0100

    test-fallback-socks5-proxy.py: fix DBusTube.Offer() call

 tests/twisted/test-fallback-socks5-proxy.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 55848acadab742281be524caf8b946836e51b6f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 26 11:11:39 2009 +0100

    run D-Bus tube tests with the Localhost access control

 tests/twisted/tubes/accept-muc-dbus-tube.py |    2 ++
 tests/twisted/tubes/offer-muc-dbus-tube.py  |    2 ++
 tests/twisted/tubes/tubetestutil.py         |    1 +
 3 files changed, 5 insertions(+), 0 deletions(-)

commit 6a7ec7429f0f6fd2ac3952beb7de040a63be908d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 26 11:11:20 2009 +0100

    tube-dbus: implement Localhost access control

 src/tube-dbus.c |   17 +++++++++++++++++
 1 files changed, 17 insertions(+), 0 deletions(-)

commit 6e814c97a20fb575da34acb22d5f495101fed5f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 26 10:59:16 2009 +0100

    add LocalHost to SupportedAccessControls

 src/tube-dbus.c                                 |    2 ++
 tests/twisted/tubes/accept-muc-dbus-tube.py     |    3 ++-
 tests/twisted/tubes/accept-private-dbus-tube.py |    3 ++-
 tests/twisted/tubes/offer-muc-dbus-tube.py      |    3 ++-
 tests/twisted/tubes/offer-private-dbus-tube.py  |    3 ++-
 5 files changed, 10 insertions(+), 4 deletions(-)

commit 5effe14e52bdff3a2831e0fc4aa8d4d10c0cd0b2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 26 10:38:35 2009 +0100

    tube-dbus: add priv->access_control

 src/tube-dbus.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit d33ebec9c088fa60b681f59bf99ed27fda0a63d6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 26 10:30:12 2009 +0100

    add an access_control param to D-Bus tube tests

 tests/twisted/tubes/accept-muc-dbus-tube.py     |    8 +++++---
 tests/twisted/tubes/accept-private-dbus-tube.py |    6 +++---
 tests/twisted/tubes/offer-muc-dbus-tube.py      |    8 +++++---
 tests/twisted/tubes/offer-private-dbus-tube.py  |   11 ++++++-----
 tests/twisted/tubes/tubetestutil.py             |    3 +++
 5 files changed, 22 insertions(+), 14 deletions(-)

commit 9e624e4276e5e7afa5c1d72d001138d0d209c952
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 25 18:44:20 2009 +0100

    check value of the SupportedAccessControls property

 tests/twisted/constants.py                      |    1 +
 tests/twisted/tubes/accept-muc-dbus-tube.py     |    1 +
 tests/twisted/tubes/accept-private-dbus-tube.py |    1 +
 tests/twisted/tubes/offer-muc-dbus-tube.py      |    1 +
 tests/twisted/tubes/offer-private-dbus-tube.py  |    1 +
 5 files changed, 5 insertions(+), 0 deletions(-)

commit c434c56bfa4897631a0fd0c96be0cae2b7d1809c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 25 18:44:12 2009 +0100

    tube-dbus: implement SupportedAccessControls property

 src/tube-dbus.c |   25 +++++++++++++++++++++++++
 1 files changed, 25 insertions(+), 0 deletions(-)

commit 73735eec05462d00c763ab3674a1082627566e36
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 25 18:03:41 2009 +0100

    check if Gabble raises the right error if we pass an invalid access_control to Offer/Accept

 tests/twisted/tubes/accept-private-dbus-tube.py |   10 +++++++++-
 tests/twisted/tubes/offer-muc-dbus-tube.py      |   10 +++++++++-
 2 files changed, 18 insertions(+), 2 deletions(-)

commit c0f34b865b3a9c7592c63adec7a33628ae266e4d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 25 18:03:21 2009 +0100

    tube-dbus: check if access_control passed to Offer/Accept is valid

 src/tube-dbus.c |   33 +++++++++++++++++++++++++++++++++
 1 files changed, 33 insertions(+), 0 deletions(-)

commit ec08d2175eb8c3146d64f7efa01cc5488b937eb0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 25 17:40:36 2009 +0100

    DBusTube.{Offer,Accept} now have an access_control argument

 src/tube-dbus.c                                 |    2 ++
 tests/twisted/tubes/accept-muc-dbus-tube.py     |    2 +-
 tests/twisted/tubes/accept-private-dbus-tube.py |    2 +-
 tests/twisted/tubes/offer-muc-dbus-tube.py      |    2 +-
 tests/twisted/tubes/offer-no-caps.py            |    2 +-
 tests/twisted/tubes/offer-private-dbus-tube.py  |    2 +-
 6 files changed, 7 insertions(+), 5 deletions(-)

commit 50aafad080bd56197590f817b04a6d30ffc6b370
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 25 17:09:55 2009 +0100

    sync with latest tube DRAFT

 extensions/Channel_Type_DBus_Tube.xml |   39 +++++++++++++++++++++++++++-----
 1 files changed, 33 insertions(+), 6 deletions(-)

commit ffd77ab0b51653e17154ceb8883feb23571ce8a7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri May 22 16:22:55 2009 +0100

    Apply current held-ness to new streams
    
    Fixes fd.o #21878.

 src/media-channel.c             |    4 +-
 src/media-stream.c              |   24 ++++++++---
 src/media-stream.h              |    8 +++-
 tests/twisted/jingle/hold-av.py |   84 ++++++++++++++++++++++++++++++++++++++-
 4 files changed, 110 insertions(+), 10 deletions(-)

commit 84dc5eec4511ce39eb4bd24b7cc15774e1731fa6
Merge: 5a17e13 e9a2537
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 22 14:22:04 2009 +0100

    Merge branch 'tube-signals'

commit e9a2537816b0c3f2c18af22c7d5a046cabe00199
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 22 11:55:25 2009 +0100

    fire_connection_closed: no-op instead of asserting if the signal has
    already been fired

 src/tube-stream.c |   24 ++++++------------------
 1 files changed, 6 insertions(+), 18 deletions(-)

commit 5a17e139f6dcb3de92403b02994047f9010e59b9
Merge: fec464f 887837f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri May 22 11:54:15 2009 +0100

    Merge branch 'stored-list'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 390d1655d6520b980862cf0de38f6a81bc92610e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 21 15:53:03 2009 +0100

    NEWS: document API changes

 NEWS |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit c0a870328de135a2d17ce8f778b2675edfbf633b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 21 10:29:26 2009 +0100

    test that ConnectionClosed is fired when tube is closed

 tests/twisted/tubes/accept-private-stream-tube.py |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 322b00385de6e3d3d2403a1db06c469af9622644
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 21 10:29:03 2009 +0100

    fire ConnectionClosed with existing connections when the tube is closed

 src/tube-stream.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 0b2c566d0419d0852bc64d5f8b5f45f0ce7649a9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 20 18:02:26 2009 +0100

    test ConnectionClosed signal with Cancelled

 tests/twisted/tubes/accept-muc-stream-tube.py |   47 +++++++++++++++++-------
 1 files changed, 33 insertions(+), 14 deletions(-)

commit 4358383edfd06da69f118e75d7aeb38c6b538427
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 20 18:01:54 2009 +0100

    tube-stream: fire ConnectionClosed with Cancelled error if transport is disconnected

 src/tube-stream.c |   48 ++++++++++++++++++++++++++++++++++++------------
 1 files changed, 36 insertions(+), 12 deletions(-)

commit c08774146bc8043c08a538b77da3c19fb5830cc3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 20 17:55:59 2009 +0100

    constants.py: add Cancelled error

 tests/twisted/constants.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 3cea6d6a8e5a61ee70ce38aa9203dc20f6367dc2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 20 14:20:41 2009 +0100

    test ConnectionClosed signal with ConnectionRefused

 tests/twisted/tubes/accept-muc-stream-tube.py     |   10 +++++++++-
 tests/twisted/tubes/accept-private-stream-tube.py |   10 +++++++++-
 2 files changed, 18 insertions(+), 2 deletions(-)

commit f18b551103ee6675a771999c2a33bb77c972df98
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 20 15:06:29 2009 +0100

    fire ConnectionClosed when connection is refused

 src/tube-stream.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit a43a06cf273f6b3d6521d221c78f4ce1c299cd3f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 20 14:58:44 2009 +0100

    test ConnectionClosed signal with ConnectionLost

 tests/twisted/tubes/accept-muc-stream-tube.py     |    4 ++++
 tests/twisted/tubes/accept-private-stream-tube.py |   16 ++++++++++------
 tests/twisted/tubes/offer-muc-stream-tube.py      |   20 ++++++++++++++------
 tests/twisted/tubes/offer-private-stream-tube.py  |    6 +++++-
 4 files changed, 33 insertions(+), 13 deletions(-)

commit 4fe8e285e3906921cac1f3b0f94559cd7a86725c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 20 15:05:56 2009 +0100

    fire ConnectionClosed when connection is lost

 src/tube-stream.c |   22 ++++++++++++++++++++++
 1 files changed, 22 insertions(+), 0 deletions(-)

commit 33b86ab97b461da40cbb9694b13dc70094040297
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 20 11:16:01 2009 +0100

    constants.py: add CONNECTION_{REFUSED,FAILED,LOST}

 tests/twisted/constants.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 4e86936dca363c1a94c50b87cbc67f18b765422d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 20 10:22:42 2009 +0100

    check that NewLocalConnection is fired

 tests/twisted/tubes/accept-muc-stream-tube.py     |    2 +-
 tests/twisted/tubes/accept-private-stream-tube.py |    2 +-
 tests/twisted/tubes/tubetestutil.py               |   13 +++++++++----
 3 files changed, 11 insertions(+), 6 deletions(-)

commit 61cf477c22909486f64dde55aa0138ea98831460
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 20 10:17:39 2009 +0100

    fire NewLocalConnection

 src/tube-stream.c |   20 ++++++++++++++++++++
 1 files changed, 20 insertions(+), 0 deletions(-)

commit 06c89ed99aba8da0cc2c005a150bd90ce924a6a1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 19 17:22:04 2009 +0100

    tube-stream: associate an ID with each incoming connection

 src/tube-stream.c |   40 ++++++++++++++++++++++++++++++++++++++--
 1 files changed, 38 insertions(+), 2 deletions(-)

commit 993e553a96235a818827b0c0a7d2fe58b0ba7175
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 19 17:03:04 2009 +0100

    NewConnection has been renamed NewRemoteConnection

 src/tube-stream.c                                |   11 ++++++-----
 tests/twisted/tubes/offer-muc-stream-tube.py     |    4 ++--
 tests/twisted/tubes/offer-private-stream-tube.py |    8 ++++----
 3 files changed, 12 insertions(+), 11 deletions(-)

commit 46128d8a25e7d4dcf980095ce7152edbf3c1019b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 19 16:54:42 2009 +0100

    sync to latest tube DRAFT

 extensions/Channel_Interface_Tube.xml   |    2 +-
 extensions/Channel_Type_DBus_Tube.xml   |    4 +-
 extensions/Channel_Type_Stream_Tube.xml |   50 +++++++++++++++++++++++++++----
 3 files changed, 47 insertions(+), 9 deletions(-)

commit 887837f3a31811d6f9dc0e792b0f9a6b01f0a701
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu May 21 12:31:29 2009 +0100

    NEWS the known->stored renaming

 NEWS |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit fec464fe983952a47625f54faeb4c2a87d0cba7b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 21 12:24:51 2009 +0100

    tubetestutil.py: set REUSEADDR on client sockets so we can bind the same address successively

 tests/twisted/tubes/tubetestutil.py |   19 ++++++++++++++++++-
 1 files changed, 18 insertions(+), 1 deletions(-)

commit 575fabef44cef0b79a2f20b5a2c39c0ff77a40e1
Merge: 634e384 29098e4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 21 12:28:50 2009 +0100

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble

commit 634e3842466348217c0d9f9ab20306a47a9ddb70
Merge: 3c55b2e 3a1e622
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 21 12:28:41 2009 +0100

    Merge branch 'port-access-control'

commit 1f4187007b150747d0b41bcf25e39dc95ec6c2f3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Jun 24 12:55:31 2008 +0000

    Rename the known list to the stored list
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

 src/connection.c                                  |    2 +-
 src/connection.h                                  |    2 +-
 src/roster-channel.c                              |    6 ++--
 src/roster.c                                      |   24 ++++++++++----------
 tests/twisted/roster/groups-12791.py              |    2 +-
 tests/twisted/roster/groups.py                    |    2 +-
 tests/twisted/roster/test-google-roster.py        |    2 +-
 tests/twisted/roster/test-roster-item-deletion.py |    4 +-
 tests/twisted/roster/test-roster.py               |    2 +-
 9 files changed, 23 insertions(+), 23 deletions(-)

commit 3a1e622d5515676e72dbbc332be4326b8f2befa7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 21 12:27:26 2009 +0100

    set_port_access_control_param: port is on 16 bits so we should check that it's not greater than G_MAXUINT16

 src/tube-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 29098e4e4aa137bf0ca6509bc447763fa90a13e3
Merge: 3c55b2e aa54d57
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu May 21 12:06:39 2009 +0100

    Merge branch 'tidy-roster-tests'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit aa54d576789e22815289c311ee78a7f5dc45dd37
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri May 1 19:42:24 2009 +0100

    Define 'jabber:iq:roster' in ns.py

 .../twisted/file-transfer/file_transfer_helper.py  |    2 +-
 tests/twisted/ns.py                                |    1 +
 tests/twisted/presence/presence.py                 |    3 ++-
 tests/twisted/roster/ensure.py                     |    3 ++-
 tests/twisted/roster/groups-12791.py               |    3 ++-
 tests/twisted/roster/groups.py                     |    3 ++-
 tests/twisted/roster/request-group-after-roster.py |    3 ++-
 .../twisted/roster/request-group-before-roster.py  |    3 ++-
 tests/twisted/roster/test-google-roster.py         |    7 ++++---
 tests/twisted/roster/test-roster-item-deletion.py  |    5 +++--
 tests/twisted/roster/test-roster-subscribe.py      |    5 +++--
 tests/twisted/roster/test-roster.py                |    3 ++-
 tests/twisted/roster/test-save-alias-to-roster.py  |    7 ++++---
 tests/twisted/tubes/accept-private-dbus-tube.py    |    2 +-
 tests/twisted/tubes/accept-private-stream-tube.py  |    2 +-
 tests/twisted/tubes/crash-on-list-channels.py      |    2 +-
 tests/twisted/tubes/ensure-si-tube.py              |    2 +-
 tests/twisted/tubes/offer-no-caps.py               |    3 ++-
 tests/twisted/tubes/offer-private-stream-tube.py   |    2 +-
 tests/twisted/vcard/test-avatar-tokens.py          |    3 ++-
 20 files changed, 39 insertions(+), 25 deletions(-)

commit bbbe7f862020dae0f899dc4cdef221c1991e663f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri May 1 19:26:30 2009 +0100

    It's Handle_Type_List not _Contact_List

 tests/twisted/constants.py  |    2 +-
 tests/twisted/gabbletest.py |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 8e3d850fe4ddf14ef0f7613743e5d74b43b75c46
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri May 1 19:25:32 2009 +0100

    Share best version of _expect_contact_list_channel

 tests/twisted/gabbletest.py                       |   69 ++++++++++++++++++++-
 tests/twisted/roster/groups-12791.py              |   20 +-----
 tests/twisted/roster/groups.py                    |   43 ++-----------
 tests/twisted/roster/test-roster-item-deletion.py |   35 +++--------
 tests/twisted/roster/test-roster.py               |   68 ++------------------
 5 files changed, 93 insertions(+), 142 deletions(-)

commit 381d45047c26cdcb814502353b0fa0f7b7b56501
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu May 21 11:40:57 2009 +0100

    Delete old per-RTP-content state code.

 src/jingle-content.c   |   33 ----------------
 src/jingle-content.h   |   12 ------
 src/jingle-media-rtp.c |  100 ------------------------------------------------
 src/jingle-media-rtp.h |   14 -------
 4 files changed, 0 insertions(+), 159 deletions(-)

commit ccb4140e2776510da324baeab59faadded0dd4a5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu May 21 11:38:23 2009 +0100

    Set individual ringing/hold/mute flags.
    
    This embeds some knowledge of RTP into jingle-session.c, but actually
    there was already some RTP-specific stuff in there, and we already know
    that needs refactoring out.

 src/jingle-session.c         |  197 ++++++++++++++++++++++++++++++++++++------
 src/jingle-session.h         |    4 +
 src/media-channel-hold.c     |  109 ++++++-----------------
 src/media-channel-internal.h |    7 +-
 src/media-channel.c          |    2 +
 src/media-stream.c           |   14 ++--
 6 files changed, 214 insertions(+), 119 deletions(-)

commit 3c55b2ef12bff97a610043ac2834dd23f701c027
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 20 17:56:40 2009 +0100

    EventProtocol: raise a socket-disconnected event if protocol is disconnected

 tests/twisted/servicetest.py |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 578285fc6febc0507709771fc97a51093ff019bd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 19 16:54:24 2009 +0100

    all.xml: add DBus_Error_Name as external type

 extensions/all.xml |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 02ceb478412346dff5798f0c3a55b253bd426f80
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 5 10:23:05 2009 +0100

    NEWS: we implement the Port access control

 NEWS |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit cbd54ec912f654e22a749263bc7d0b43c5c1aa04
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 30 14:29:33 2009 +0100

    run stream tube tests with access control port

 tests/twisted/tubes/tubetestutil.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit fc910d9135b57d887d680489bad6b4c5c57d10e4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 14 15:50:40 2009 +0100

    connect_socket: set the right source address if access_control is Port

 tests/twisted/tubes/tubetestutil.py |   14 +++++++++++---
 1 files changed, 11 insertions(+), 3 deletions(-)

commit f320e119573eab74d6bbc18e0b91fb6c67c1797c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 14 15:51:49 2009 +0100

    check_incoming_connection: check address if access control is Port

 src/tube-stream.c |   56 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 56 insertions(+), 0 deletions(-)

commit 924e023a3d2a56b2907961bc5f2e900043129ec9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 30 13:05:09 2009 +0100

    set the ip and port in NewConnection if access control is port

 src/tube-stream.c |   58 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 58 insertions(+), 0 deletions(-)

commit 8738a29bccf36625f925ed78f4304b171695f283
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 30 12:56:03 2009 +0100

    check_ip_params: check access_control_param in the port case

 src/tube-stream.c |   25 +++++++++++++++++++------
 1 files changed, 19 insertions(+), 6 deletions(-)

commit cdfceed4f6a0a2f56304d80c64a4f74a04bfc87a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 29 16:39:00 2009 +0100

    add access control port to SupportedSocketTypes

 src/tube-stream.c                               |    4 ++++
 tests/twisted/tubes/test-get-available-tubes.py |    6 ++++--
 2 files changed, 8 insertions(+), 2 deletions(-)

commit f1ce2480c1e587356c44b4fa62a57ca2095cf86b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu May 21 10:20:35 2009 +0100

    Add separate hold, ringing and mute properties
    
    These concepts are now orthogonal at the XMPP level, and the first two
    apply to the session as a whole, so it makes no sense to combine them
    into one property on each stream.

 src/jingle-media-rtp.c |   14 ++++++++++++++
 src/jingle-session.c   |   21 +++++++++++++++++++++
 2 files changed, 35 insertions(+), 0 deletions(-)

commit 6fa9b77ac762bf68566ac48139fda715257b706b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 20 19:12:30 2009 +0100

    Test overlapping ringing and hold

 tests/twisted/jingle/call-state.py |   44 ++++++++++++++++++++++++++++++++++++
 1 files changed, 44 insertions(+), 0 deletions(-)

commit 2f436eafd9538c023cb75f39dc488271faa9abcc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 20 18:32:31 2009 +0100

    Update incoming <hold/>, etc. to match current XEP-0167
    
    <hold/> and <mute/> and <ringing/> are now orthogonal, so saying a
    stream is muted doesn't mean it's unheld; thus, I had to change the test
    case.

 src/jingle-media-rtp.c             |   37 ++++++++++++++++++++++------------
 src/media-channel-hold.c           |   39 +++++++++++++++++------------------
 src/media-stream.c                 |    2 +-
 tests/twisted/jingle/call-state.py |   21 ++++++++++++-------
 4 files changed, 57 insertions(+), 42 deletions(-)

commit bc986fc72b3a7527839a99bf5bba997d551f47cb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 20 18:22:56 2009 +0100

    XEP-0167 now forbids name='' on <active/>.

 tests/twisted/jingle/call-state.py |   19 -------------------
 1 files changed, 0 insertions(+), 19 deletions(-)

commit f87dfec6b0338f6737fe8a41ca1b8fdbd4de0dcb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 20 17:40:03 2009 +0100

    Renumber JingleRtpRemoteState to be flags.

 src/jingle-media-rtp.c |    2 +-
 src/jingle-media-rtp.h |   10 +++++++---
 2 files changed, 8 insertions(+), 4 deletions(-)

commit 1d8f231ebf92ebc80be87102963a21d49a296343
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 20 14:47:58 2009 +0100

    bytestream.py: add a close() method on bytestream objects

 tests/twisted/bytestream.py |   22 ++++++++++++++++++++++
 1 files changed, 22 insertions(+), 0 deletions(-)

commit ed6cf7654a08d05e0d7b48c316057469383818a8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 20 10:04:32 2009 +0100

    NEWS fixing crash-on-empty-<nick/>

 NEWS |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 274ecc010775b94feb882f44c78e947aa3163b80
Merge: e9e92ad fe4db94
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 20 10:03:48 2009 +0100

    Merge branch 'crash-on-no-pep-alias'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit fe4db942ed083740694d256ad194eb73c4937e5b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 20 10:01:50 2009 +0100

    elem() supports from_ as an alias for from

 tests/twisted/vcard/test-alias-pep.py |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit e9e92ad6df67c2a81d771e51c082a8df7e81ac9e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue May 19 18:18:48 2009 +0100

    NEWS fixing crash on Ready()

 NEWS |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 8b61325f6aa2948f3c095f98bd58ddd5840db651
Merge: 5354e89 d2479d8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue May 19 18:06:49 2009 +0100

    Merge branch 'crash-on-ready'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 5354e8974b9e633cc1be0b2e96abe1a5a4851345
Merge: 3ccabf1 8e6c73a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue May 19 18:02:35 2009 +0100

    Merge branch 'tidy-caps'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 50b8777dca5e122fac133c13e6eb9a8d88008266
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue May 19 17:42:29 2009 +0100

    Don't crash on an empty <nick/> node.
    
    Fixes fd.o #21817

 src/conn-aliasing.c                   |   15 ++++++++++++---
 tests/twisted/vcard/test-alias-pep.py |   29 +++++++++++++++++++++++++++--
 2 files changed, 39 insertions(+), 5 deletions(-)

commit 8590e062fdbdb84c2341bd93aa9529df3de888cc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue May 19 16:43:40 2009 +0100

    Constants-ify test-alias-pep

 tests/twisted/ns.py                   |    1 +
 tests/twisted/vcard/test-alias-pep.py |   26 +++++++++++++++-----------
 2 files changed, 16 insertions(+), 11 deletions(-)

commit d2479d86f7ed6a4e0c0dec5dae285adb31115ddf
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon May 11 17:53:30 2009 +0100

    Test calling SessionHandler methods early

 tests/twisted/Makefile.am      |    1 +
 tests/twisted/jingle/misuse.py |   49 ++++++++++++++++++++++++++++++++++++++++
 2 files changed, 50 insertions(+), 0 deletions(-)

commit 0342c57910a4c726a886e05e54527e79b4531905
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon May 11 17:51:40 2009 +0100

    Make SessionHandler.Error() cope with NULL session
    
    The assertion was incorrect: the SessionHandler object might stay alive
    on the bus after the session has died, and is secretly on the bus before
    the session is born in the first place.

 src/media-channel.c |   19 ++++++++++++++++---
 1 files changed, 16 insertions(+), 3 deletions(-)

commit 092e9fe4e8d07d549c382ea16d0439818119802d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon May 11 17:50:40 2009 +0100

    Make SessionHandler.Ready() fail if session is over

 src/media-channel.c |   18 ++++++++++++++++++
 1 files changed, 18 insertions(+), 0 deletions(-)

commit e3d9eaed4bb95c28b5f65dd36e8f6e6354cf5a0c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon May 11 17:47:35 2009 +0100

    Ensure MediaChannel:streams is always non-NULL
    
    This simplifies reasoning about the class, and fixes a bug where calling
    SessionHandler.Ready() could crash: it iterated priv->streams without
    checking if it's NULL.

 src/media-channel-internal.h |    2 +-
 src/media-channel.c          |   77 +++++++++++++++++++++++++-----------------
 2 files changed, 47 insertions(+), 32 deletions(-)

commit 263c2814f6bca73eb5ae5eda81e34a219a138ac6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon May 11 17:37:06 2009 +0100

    Remove _gabble_media_stream_close's underscore
    
    It's public, so...

 src/media-stream.c |    6 +++---
 src/media-stream.h |    2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 4df15ea74fd01ab988efe002fb7be7a19b9ec855
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon May 11 16:52:37 2009 +0100

    Correct a comment about session being NULL

 src/media-channel.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit a419439e1c48b41bf484dcb082d48688d8707541
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon May 11 16:43:12 2009 +0100

    make_stream_list requires session != NULL

 src/media-channel.c |   10 +++++++++-
 1 files changed, 9 insertions(+), 1 deletions(-)

commit 4aacbdd6f78ee533db35de845075c5bdaa785784
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon May 11 16:39:02 2009 +0100

    Remove spurious comment

 src/media-channel.c |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit ec7a8020bf4bcdb034b99e0e138e267ca9d51deb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon May 11 15:43:32 2009 +0100

    Refactor error message into _find_stream_by_id

 src/media-channel.c |   20 ++++++++++----------
 1 files changed, 10 insertions(+), 10 deletions(-)

commit 8e6c73a13f325b53e72477221cef0eb3c9158108
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 13 14:10:12 2009 +0100

    Extract emitting capabilities-update

 src/presence-cache.c |   27 ++++++++++++++++++---------
 1 files changed, 18 insertions(+), 9 deletions(-)

commit a60895a80a3815de66ac15fed110ad6984d24e3c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 13 13:51:42 2009 +0100

    Extract emitting capabilities-discovered

 src/presence-cache.c |   11 +++++++++--
 1 files changed, 9 insertions(+), 2 deletions(-)

commit fbc72b9b10bb69827f3045d89064491576efc4f5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 13 13:49:45 2009 +0100

    Return early from set_caps_for.

 src/presence-cache.c |   32 ++++++++++++++++----------------
 1 files changed, 16 insertions(+), 16 deletions(-)

commit 9b6eed8a08ddf18ee0b20511d08c64d576f90cdf
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue May 12 16:00:52 2009 +0100

    Don't leak jid when re-discoing.

 src/presence-cache.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit df45223369edd6ba1f9ada9717e7c8bdb857fff4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue May 12 15:35:30 2009 +0100

    Don't pass contact_repo around unnecessarily.
    
    I didn't notice that DiscoWaiters know their own repo.

 src/presence-cache.c |   18 ++++++++----------
 1 files changed, 8 insertions(+), 10 deletions(-)

commit 388702c79b7767a3876b58437c9a9ed76dc20437
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue May 12 14:57:26 2009 +0100

    Remove write-only trust_inc variable

 src/presence-cache.c |    8 +++-----
 1 files changed, 3 insertions(+), 5 deletions(-)

commit 25e55c1c7467a95afe2eb5a87eb0284127b62043
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue May 12 14:23:32 2009 +0100

    Refactor satisfy/redisco/keep-waiting loop
    
    I believe this logic to be approximately the same. I changed the "enough
    trust" comparison not to subtract trust_inc. I believe that that was
    subtracted to compensate for waiter_self being included in
    disco_waiter_list_get_request_count (), but that's not necessary having
    already removed waiter_self from waiters. (In fact it was not correct
    before: waiter_self might already have been removed from waiters,
    depending on the list's order.)

 src/presence-cache.c |   82 +++++++++++++++++++++++++-------------------------
 1 files changed, 41 insertions(+), 41 deletions(-)

commit 6af9a243c7f7733c708746bc414d2d87f4eccc30
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue May 12 10:09:08 2009 +0100

    Note that we should respect some badly-hashed caps

 src/presence-cache.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 0d6d0aae82d62df28daeb6904d2990dba7f02d08
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue May 12 10:04:49 2009 +0100

    Extract satisfying a waiter to a function

 src/presence-cache.c |   66 +++++++++++++++++++++++++++++++-------------------
 1 files changed, 41 insertions(+), 25 deletions(-)

commit addaddfb7a31463ec86e965579fab7bcfcdd27fc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue May 12 09:52:58 2009 +0100

    Don't break contact caps on non-SHA-1 hashes
    
    XEP-0115 doesn't say that clients have to report SHA-1 hashes, only that
    they have to understand them. So this would break contact caps for a
    client which has decided to use SHA-256.

 src/presence-cache.c |   10 ++--------
 1 files changed, 2 insertions(+), 8 deletions(-)

commit a1330c2e398a0052a446ea7ce11ba903ac4aa986
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue May 12 09:44:43 2009 +0100

    Improve debug message for caps hash mismatch
    
    Also remove a comment which

 src/presence-cache.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 2c4ce491f264799319ffb1afc95888191d18e034
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu May 7 11:42:10 2009 +0100

    Remove a now-unused variable

 src/presence-cache.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit ad7b848671cd4a2469da454bdbcfada2f89e91ff
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 6 17:17:51 2009 +0100

    Extract sending more disco requests to a function

 src/presence-cache.c |   42 ++++++++++++++++++++----------------------
 1 files changed, 20 insertions(+), 22 deletions(-)

commit 9d5897bcf4f1264896de3d36721068930683a6dc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 6 16:56:50 2009 +0100

    _caps_disco_cb: Extract parsing contact caps

 src/presence-cache.c |   50 +++++++++++++++++++++++++++++---------------------
 1 files changed, 29 insertions(+), 21 deletions(-)

commit acc174bf2cddc47772bfd3665162bd24cfe6ea6e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 6 16:50:19 2009 +0100

    Parse caps after sanity-checking
    
    This avoids having to free the stuff we just unnecessarily parsed.

 src/presence-cache.c |   35 ++++++++++++++++-------------------
 1 files changed, 16 insertions(+), 19 deletions(-)

commit 511b93ef794dbc1ca7bf19329c05b03fe1cd98e6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 6 16:47:23 2009 +0100

    _caps_disco_cb: extract finding matching DiscoWaiter

 src/presence-cache.c |   29 ++++++++++++++++++-----------
 1 files changed, 18 insertions(+), 11 deletions(-)

commit 5491fb9ae8f4f96fd2e85b57f7d1c92cb7ab6cac
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 6 11:04:27 2009 +0100

    Refactor retrying on disco failure to a function

 src/presence-cache.c |   93 ++++++++++++++++++++++++++++++-------------------
 1 files changed, 57 insertions(+), 36 deletions(-)

commit 514002c8a8624e69f98c2798c81864846989ad49
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue May 5 19:53:49 2009 +0100

    Reuse caps table when parsing caps

 src/capabilities.c   |   39 +++++++++++++++++++++++++++++++++++++
 src/capabilities.h   |    2 +
 src/presence-cache.c |   52 +------------------------------------------------
 3 files changed, 43 insertions(+), 50 deletions(-)

commit 006ca729ab84f602738729e2a117274de7c4b592
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue May 5 18:35:40 2009 +0100

    Add missing caps flags to table in capabilities.c

 src/capabilities.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 3ccabf147a117d9ac555caa86dace1cc062f3d56
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue May 19 15:50:33 2009 +0100

    NEWS about randomizing resources

 NEWS |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 1667e88002e76a2271e8d98703299f5438bb94f0
Merge: 70968ab 5bc4b8b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue May 19 15:45:53 2009 +0100

    Merge branch 'random-resource'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 70968abbb20a5097d03c92c8a3288707bdfe1e2c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 19 14:26:15 2009 +0100

    fix typo in comment

 tests/twisted/tubes/tubetestutil.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit dedc7f672a7a4fc101400091b3f2fd9d48df6fc7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 14 16:47:16 2009 +0100

    NEWS: we implemented the Credentials access control

 NEWS |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit d4745a633d0e91dd7e183072e7fc75aa7810c170
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 14 13:23:50 2009 +0100

    connect_to_cm_socket: the byte sent is meaningless

 tests/twisted/tubes/tubetestutil.py |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit fe89504e59c0dc390c23db082564ee8c845a8743
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 14 13:20:18 2009 +0100

    credentials_received_cb: don't check the received byte
    
    The byte is meaningless in the accepting side

 src/tube-stream.c |    9 ---------
 1 files changed, 0 insertions(+), 9 deletions(-)

commit 1dd0e0a3dc636f92be1112d8e7e8d16973be1ac0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 14 13:14:58 2009 +0100

    the Credentials access control doesn't have an associated variant
    
    After more discussion we decided that the Credentials access control
    shouldn't have an associated variant as the byte is not part of the
    access control process.

 src/tube-stream.c |   18 +++---------------
 1 files changed, 3 insertions(+), 15 deletions(-)

commit 6e9febda3e974d4487f3cd4a42863152c3f130dc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 12 17:56:34 2009 +0100

    run stream tube tests with Credentials access control

 tests/twisted/tubes/tubetestutil.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 58874aa098234bb6e696c792d4f7668813f8ab30
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 12 17:56:05 2009 +0100

    accept-muc-stream-tube.py: use connect_to_cm_socket helper

 tests/twisted/tubes/accept-muc-stream-tube.py |   11 ++++-------
 1 files changed, 4 insertions(+), 7 deletions(-)

commit be8a4433eb8c8334ba73662e0919a31624830019
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 12 17:55:49 2009 +0100

    accept-private-stream-tube.py: use connect_to_cm_socket helper

 tests/twisted/tubes/accept-private-stream-tube.py |   28 ++++++++++----------
 1 files changed, 14 insertions(+), 14 deletions(-)

commit f2ff3d1d4c733ebaa3599c213d52a87527396e27
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 12 17:55:02 2009 +0100

    tubetestutil: add connect_to_cm_socket() helper
    
    This function connects to CM's socket and do the needed bits to auth the
    process according the acces_control mechanism.

 tests/twisted/tubes/tubetestutil.py |   26 +++++++++++++++++++++++++-
 1 files changed, 25 insertions(+), 1 deletions(-)

commit d71b5b73af0d59b3b99a7308b9c746624b90c653
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 12 17:14:44 2009 +0100

    tube-stream: check_incoming_connection: check credentials

 src/tube-stream.c |   77 +++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 75 insertions(+), 2 deletions(-)

commit 750dfef033cc89e2c6b827c5908707c32b2aa458
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 7 15:58:05 2009 +0100

    check_new_connection_access: check cs.SOCKET_ACCESS_CONTROL_CREDENTIALS

 tests/twisted/tubes/tubetestutil.py |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit 1afc89bbbab8e17e26152794f131f21dc5449ece
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 7 15:50:18 2009 +0100

    offer-private-stream-tube.py: disable echo before we received the access
    control byte

 tests/twisted/tubes/offer-private-stream-tube.py |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit c657abbebd0efcc1cded879bc57512f2268fcc9f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 7 15:49:39 2009 +0100

    offer-private-stream-tube.py: block the transport until we check the access control

 tests/twisted/tubes/offer-private-stream-tube.py |   10 ++++++++--
 1 files changed, 8 insertions(+), 2 deletions(-)

commit f696c1f5db7e19df568eb8f79aef89f71f985c07
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 7 15:44:53 2009 +0100

    offer-muc-stream-tube: block the transport until we check the access
    control
    
    We need to block it to ensure that the access control byte has not be
    read yet.

 tests/twisted/tubes/offer-muc-stream-tube.py |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 623a2d9fb5aeb38573948663970a0657f4923e95
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 7 14:37:19 2009 +0100

    tube-stream: fire_new_connection: send credentials if needed

 src/tube-stream.c |   47 ++++++++++++++++++++++++++++++++++++++++-------
 1 files changed, 40 insertions(+), 7 deletions(-)

commit 411e4da9c8b808d23da3db767f0badb009367063
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 5 10:12:00 2009 +0100

    check_unix_params: check the credentials param

 src/tube-stream.c |   25 +++++++++++++++++++------
 1 files changed, 19 insertions(+), 6 deletions(-)

commit 8c5faf8d5bff722632559788d9d36724e24898f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 5 10:01:31 2009 +0100

    add credentials access control to SupportedSocketTypes

 src/tube-stream.c                               |    2 ++
 tests/twisted/tubes/test-get-available-tubes.py |    3 ++-
 2 files changed, 4 insertions(+), 1 deletions(-)

commit dffa08f2373ba213769801ba40b1c8520abffa0a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 19 10:17:53 2009 +0100

    sync tube spec with latest DRAFT

 extensions/Channel_Type_Stream_Tube.xml |   30 ++++++++++++++++++++----------
 1 files changed, 20 insertions(+), 10 deletions(-)

commit f2dac640b7bcfdf1b62c3761d80e7771274bb782
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 15 11:45:03 2009 +0100

    sync Gibber with Salut

 lib/gibber/gibber-fd-transport.c   |    4 +-
 lib/gibber/gibber-fd-transport.h   |    5 +
 lib/gibber/gibber-listener.c       |    9 +-
 lib/gibber/gibber-unix-transport.c |  192 ++++++++++++++++++++++++++++++++++++
 lib/gibber/gibber-unix-transport.h |   33 ++++++
 5 files changed, 237 insertions(+), 6 deletions(-)

commit 5bc4b8b142cec9a296e596ce0e4133b949eca729
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu May 14 11:34:20 2009 +0100

    Test making two connections to the same account
    
    This checks that Gabble correctly picks a random resource.

 tests/twisted/Makefile.am                          |    1 +
 .../connect/multiple-times-to-same-account.py      |   50 ++++++++++++++++++++
 2 files changed, 51 insertions(+), 0 deletions(-)

commit 98aec4bc801971b3e52746c654f6634b4e276a44
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue May 12 19:01:26 2009 +0100

    Default resource to Telepathy.<random hex>
    
    This prevents users who don't know what a resource is being confused
    when Empathy and their N810 fight for control of foo@bar.com/Telepathy.

 src/connection-manager.c |    3 +--
 src/connection.c         |   25 ++++++++++++++++++++++---
 src/connection.h         |    1 -
 3 files changed, 23 insertions(+), 6 deletions(-)

commit 59d068ce06cb75e8063450b329bc23a374f06d7c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu May 14 10:50:25 2009 +0100

    Calling Disconnect twice does not "destroy object"

 tests/twisted/connect/test-nonblocking-tls.py |    3 ---
 tests/twisted/connect/test-twice.py           |    3 ---
 2 files changed, 0 insertions(+), 6 deletions(-)

commit b031c0b5b6212350e19ef3f2fc8e0cb3ed53b269
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 13 18:34:49 2009 +0100

    Don't assume resource='Resource' in Authenticators
    
    If 'resource' is set in the connection parameters, then check it's
    correct in the Authenticators.

 tests/twisted/connect/test-twice.py |    6 ++++--
 tests/twisted/gabbletest.py         |   26 ++++++++++++++++++--------
 2 files changed, 22 insertions(+), 10 deletions(-)

commit 23df289715a6a09fd776a97db99470fa31821b0f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 13 10:44:42 2009 +0100

    Explicitly use JINGLE_DIALECT_V032, not default.
    
    I think this is clearer, and prevents spurious warnings about the ERROR
    case falling through.
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

 src/jingle-session.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit ae1438ace1ecbb5e25915fefdf3592ae0291e03e
Merge: 5c7db02 23ab7f9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue May 12 15:22:41 2009 +0100

    Merge branch 'capabilities-discovered-fixes'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit 23ab7f9257e016850614a6c4638ba9259f2ac568
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue May 12 11:12:02 2009 +0100

    Don't repeat RequestStreams for the wrong handle.
    
    This papered over a bug where capabilities-discovered was emitted for
    the wrong handle, and now is harmless but silly.

 src/media-channel.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 1fc4cb2ec959683f14a8ff1e1706f57ec874b2c9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue May 12 11:06:04 2009 +0100

    Emit capabilities-discovered for the correct handle.
    
    Previously, suppose contacts x and y have the same caps hash, and we
    discoed x. When x replied, we'd satisfy both waiters, but emit
    capabilities-discovered(x) for both. This should have made
    RequestStreams erroneously never terminate in some cases (it's waiting
    for caps that apparently never arrive) were it not for a bug in its
    capabilities-discovered callback ...

 src/presence-cache.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 5c7db02fecefefc0753f36275f300c9bbc837e3b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 12 10:42:49 2009 +0100

    tube-stream: add stub of check_incoming_connection

 src/tube-stream.c |   27 +++++++++++++++++++++++++++
 1 files changed, 27 insertions(+), 0 deletions(-)

commit e5c02469448b487f7e4f658a6523cb9c3ad8d43d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon May 11 18:51:47 2009 +0100

    fix typos

 src/jingle-content.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 65bf32aea50cf564657497a9ecafe6f7638c2fed
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon May 11 18:45:47 2009 +0100

    Improve comment

 src/media-stream.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 9b1178ccd192a30467b380ca99e960c5bbef382e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon May 11 18:18:24 2009 +0100

    Ignore description-info before receiving codec data

 src/jingle-content.c |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit 91cce687bcc16542f5410ee1bec537d51e754ef2
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon May 11 18:17:53 2009 +0100

    Correct ordering in debug statement

 src/jingle-media-rtp.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4c09009d31a7d6810d64daca63c6c4fc0db0c9cb
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon May 11 18:16:47 2009 +0100

    Only send codec information and description updates if we're really ready

 src/jingle-content.c   |   18 ++++++++----------
 src/jingle-content.h   |    2 ++
 src/jingle-media-rtp.c |   25 +++++++++++++++----------
 src/jingle-media-rtp.h |    2 +-
 src/media-stream.c     |   17 +++++++++++++----
 5 files changed, 39 insertions(+), 25 deletions(-)

commit d6c25bebd8f8fc9706614761a30245a258938c3f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon May 11 17:45:13 2009 +0100

    Test calling CodecsUpdated before SupportedCodecs
    
    Older gabble versions were triggered into sending description-info before
    accepting a call if CodecsUpdated was called before SupportedCodecs

 tests/twisted/jingle/test-description-info.py |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 06ad739c4779e9cd673d223fb3db620aea9e87ff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 11 13:14:52 2009 +0100

    file_transfer_helper.py: break a race with the FileTransferStateChanged
    signal
    
    FileTransferStateChanged can be fired during self.bytestream.get_data()
    if we are receiving data from a socket (SOCKS5). Break a race by
    not waiting for this signal if it has already been fired while we
    received the data.

 .../twisted/file-transfer/file_transfer_helper.py  |   25 +++++++++++++++----
 1 files changed, 19 insertions(+), 6 deletions(-)

commit 00a9cc75de3f4fded6b68482c4a23cbed04cb774
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 11 12:35:29 2009 +0100

    bytestream_factory_iq_si_cb: explicitely say that ID is a muc one when
    ensuring its handle

 src/bytestream-factory.c |   24 +++++++++++++++---------
 1 files changed, 15 insertions(+), 9 deletions(-)

commit a2f68264b1fc09dc2cbde7cd232068b3f0635755
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 7 18:04:33 2009 +0100

    start dev of 0.7.28

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 70804847864b57506e03a990220d90b7b31a6798
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 7 18:02:18 2009 +0100

    start NEWS for 0.7.28

 NEWS |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit b34f79095598c53173c7062aa7f7ee0b0835c296
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 7 15:42:29 2009 +0100

    pass the queue to check_new_connection_access
    
    This will be useful when we'll check the byte control

 tests/twisted/tubes/offer-muc-stream-tube.py     |    2 +-
 tests/twisted/tubes/offer-private-stream-tube.py |    4 ++--
 tests/twisted/tubes/tubetestutil.py              |    2 +-
 3 files changed, 4 insertions(+), 4 deletions(-)

commit 42200bb1e5c5223ec992ef84381f02661ccd3aad
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 7 15:38:08 2009 +0100

    add block_reading param to create_server

 tests/twisted/tubes/tubetestutil.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 42ed12e2611d36ec8d68f7e372fb7043c21496a5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 7 15:14:31 2009 +0100

    add echoed attribute to Echo so tests can disable echoing if needed

 tests/twisted/tubes/tubetestutil.py |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit a910197d14aad9639313b085850389af13f7d6d7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 7 15:08:03 2009 +0100

    add block_reading optionnal arg to EventProtocol
    
    This can be used by tests which want to control when starting to read
    from the transport.

 tests/twisted/servicetest.py        |   14 +++++++++++---
 tests/twisted/tubes/tubetestutil.py |    6 +++---
 2 files changed, 14 insertions(+), 6 deletions(-)

commit ce3a82e5b30ca17e5b83cbc700062f9795b1e45a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu May 7 15:29:39 2009 +0100

    Version 0.7.27

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 1140eee86cdd874d2a33db6767bce31716f3cf80
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu May 7 15:28:58 2009 +0100

    Release name, date, and English corrections in NEWS

 NEWS |   16 ++++++++++------
 1 files changed, 10 insertions(+), 6 deletions(-)

commit 5948c41b2eedd30a77b3088caea3607438792bd9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu May 7 15:26:34 2009 +0100

    More NEWS for 0.7.27

 NEWS |   16 ++++++++++++++++
 1 files changed, 16 insertions(+), 0 deletions(-)

commit 3bd147f4572f1bd523d89ce1fa7b400497554c3b
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed May 6 17:55:35 2009 +0100

    Don't assert when there is no update method, wjt will probably fix it rsn

 src/caps-channel-manager.c |    9 +++++++--
 1 files changed, 7 insertions(+), 2 deletions(-)

commit 01baa94c0ec2e87931d0253b4d7afa68cd07bb50
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed May 6 17:47:05 2009 +0100

    Don't crash if the per channel manager caps aren't initialized

 src/ft-manager.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 6479c9ab2404174ef84907a56ee6a8d325775023
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri May 1 11:07:06 2009 +0100

    Remove unused MediaStream signals
    
    These haven't had anything attached to them since September 2006...
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

 src/media-stream.c |   62 +--------------------------------------------------
 1 files changed, 2 insertions(+), 60 deletions(-)

commit abb6e26ee9fca8f7cc396ad0a0199ad0d7c6c2ae
Merge: 8d43f4b b6c67fa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 6 13:54:05 2009 +0100

    Merge branch 'early-description-info'

commit b6c67fa6f501f35240a0560c2c4ce61c069d0f57
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri May 1 10:25:57 2009 +0100

    Explain why SupportedCodecs is called redundantly

 src/media-stream.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 8d43f4bafcd1f34f84644393d49e738f05daa2b1
Merge: 084bb4d 8e9587f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 6 13:45:05 2009 +0100

    Merge branch 'jingle-content-lifecycle'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Dafydd Harries <dafydd.harries@collabora.co.uk>

commit 084bb4d59812d6786054c029c1a44c0484070908
Merge: 729db9c d82da40
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 6 13:32:06 2009 +0100

    Merge branch 'trivia'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 8e9587facf8bf5cd486b1807b9410e998b0d258d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 6 12:09:28 2009 +0100

    Document that JingleContent:removed => "drop refs"

 src/jingle-content.c |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit 36e24987527be9be5e7a2c71bbd344ff58be4424
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed May 6 12:00:44 2009 +0100

    Explain a surprising g_object_unref

 src/media-channel.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 729db9c584de41ac464834973bfb532f0c1f4070
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 5 18:39:04 2009 +0100

    use python2.6 for tests if available

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4e49501bf9bada7011b1c9dfab5c5f53b1b7456b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 5 18:24:15 2009 +0100

    test-avatar-async.py: use hashlib instead of the sha module

 tests/twisted/vcard/test-avatar-async.py |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit cb10a4bf57e9bc4ab6fc9239aff6b5b1267ce274
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 5 18:22:22 2009 +0100

    bytestream.py: use hashlib instead of the sha module

 tests/twisted/bytestream.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 17c9967b51b53ea8009660a0cc3ad98c9b937373
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 5 18:21:35 2009 +0100

    file_transfer_helper: use hashlib instead of the md5 module

 .../twisted/file-transfer/file_transfer_helper.py  |    7 ++-----
 1 files changed, 2 insertions(+), 5 deletions(-)

commit a00c160bfbab15c9d2e2bcc0309b201354777513
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 5 18:19:16 2009 +0100

    gabbletest: use hashlib instead of the deprecated sha module
    
    This is fine as twisted tests already depend on python >= 2.5

 tests/twisted/gabbletest.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 9699ad500cc1e50a45b1c738c08e80e4f3f18f55
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 5 18:24:39 2009 +0100

    remove redundant argument in elem_iq call

 tests/twisted/bytestream.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f1d5d93d981b5532328357ecec51259b40655cc1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 30 14:24:21 2009 +0100

    offer-private-stream-tube: check NewConnection access_control_param

 tests/twisted/tubes/offer-private-stream-tube.py |   25 +++++++++++++++-------
 1 files changed, 17 insertions(+), 8 deletions(-)

commit 066c2c4bdb953f8fab6a91000ac6c5c0c824bef8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 30 13:57:45 2009 +0100

    Echo(Factory) is now a subclass of EventProtocol(Factory)
    
    So test can access to the protocol too if needed.

 tests/twisted/tubes/tubetestutil.py |   13 +++++++++----
 1 files changed, 9 insertions(+), 4 deletions(-)

commit 99fffe4053846f152202b1d5dab42ac8e12c0748
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 30 13:57:05 2009 +0100

    EventProtocolFactory: add _create_protocol() method so subclass can easy override it

 tests/twisted/servicetest.py |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 7d2d77d262a02c4af357a10816513cb46acd59d2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 30 13:15:20 2009 +0100

    offer-muc-stream-tube.py: check NewConnection arg using check_new_connection_access

 tests/twisted/tubes/offer-muc-stream-tube.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit cb52504b4f2e1eef85c037d85e33e54acb52020d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 30 13:14:44 2009 +0100

    tubetestutil: add check_new_connection_access

 tests/twisted/tubes/tubetestutil.py |   15 ++++++++++++++-
 1 files changed, 14 insertions(+), 1 deletions(-)

commit eb4454c5ec37c8fad30c61497e617e36e745d3ee
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 5 11:01:13 2009 +0100

    tube-stream: disconnect the signal on the transport connected signal
    
    It is not disconnected with the existing
    g_signal_handlers_disconnect_matched call as it doesn't have the self
    pointer as user_data.

 src/tube-stream.c |   24 ++++++++++++++++++------
 1 files changed, 18 insertions(+), 6 deletions(-)

commit cc7d79a12c847cac13c09fd23efa92cd19fc6cc0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 5 10:49:35 2009 +0100

    indentation fix

 src/tube-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 0e98f407ac77147d41e3bf36e972a0e4d31cbdd3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 30 13:02:10 2009 +0100

    tube-stream: fire NewConnection once the transport is connected
    
    Transport have to be connected to allow us to get access control param
    from it (as the source port).

 src/tube-stream.c |   96 +++++++++++++++++++++++++++++++++++++++++++----------
 1 files changed, 78 insertions(+), 18 deletions(-)

commit 354f35a9ae40108a89004312845f758db73c6ba1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri May 1 10:20:51 2009 +0100

    Add regression test for early description-info

 tests/twisted/jingle/test-description-info.py |   25 ++++++++++++++++++++++---
 1 files changed, 22 insertions(+), 3 deletions(-)

commit 6e4a1b58181e9ce54040f7c1b64fb60a0004517c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 30 20:13:30 2009 +0100

    React to SupportedCodecs once when necessary.
    
    For streams that we add, we never need to do anything in response to
    SupportedCodecs. For streams that the peer adds, we need to send an
    intersection exactly once.
    
    Previously, the latter was mis-implemented as "ignore calls to
    SupportedCodecs once the peer has sent us description-info". This worked
    fine except when the peer sent description-info before we sent our
    intersection.

 src/media-stream.c |   66 ++++++++++++++++++++++------------------------------
 1 files changed, 28 insertions(+), 38 deletions(-)

commit 10c81144abc24d2e7d9680e824c24fa17b33f002
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 30 19:22:43 2009 +0100

    Don't prematurely clear remote codec list
    
    Clearing remote_codecs after emitting SetRemoteCodecs defeated the check
    in new_remote_codecs_cb checking whether the new codes are an update or
    not (they always appeared not to be).

 src/media-stream.c |    5 -----
 1 files changed, 0 insertions(+), 5 deletions(-)

commit b42a630ae79f2e15103ab4eb85c0350722d50554
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 30 19:21:27 2009 +0100

    Correctly empty remote codec list on update
    
    Previously it was just freed, rather than being replaced by the empty
    list.

 src/media-stream.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 105f3d96a4cb3c0928516a912e00b07b7f169221
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 30 17:22:36 2009 +0100

    Tidy test-description-info a bit.

 tests/twisted/jingle/test-description-info.py |   39 ++++--------------------
 1 files changed, 7 insertions(+), 32 deletions(-)

commit d82da404bf8be2547aae5513645802cd915f8856
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri May 1 21:08:01 2009 +0100

    Fix comments about (const gchar **) cast
    
    We *are* sure. :-)

 src/conn-aliasing.c |    5 +++--
 src/conn-avatars.c  |   10 ++++++----
 2 files changed, 9 insertions(+), 6 deletions(-)

commit fff3dca60c2091710391d423fff25a0b7dd1b9c1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri May 1 21:03:19 2009 +0100

    'deny' is NotImplemented on !GTalk.
    
    By the definitions of NotImplemented and NotAvailable for CreateChannel,
    the former is certainly the right error.

 src/roster.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit eb94da8c4690128de1a0205f5ce948da3c0551c7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri May 1 16:00:22 2009 +0100

    Remove unused variable from OfferFile

 src/ft-channel.c |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit 0c908a0fc6aad20a687bf11b7085a0b586805441
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri May 1 15:54:58 2009 +0100

    Fix accidental switch fallthrough

 src/jingle-media-rtp.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit d146dcb54df5dbf65e1295ffeb07f3ef647fb879
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 30 14:29:10 2009 +0100

    accept-muc-stream-tube: break a race

 tests/twisted/tubes/accept-muc-stream-tube.py |   19 ++++++++++---------
 1 files changed, 10 insertions(+), 9 deletions(-)

commit eb259a2b9a1301cc6d755007646668adb22347a4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 29 15:07:47 2009 +0100

    tube-stream: always fire NewConnection signal
    
    There is no point to fire this signal only when the tube has been
    offered using the new API.

 src/tube-stream.c |   31 +++++++++++--------------------
 1 files changed, 11 insertions(+), 20 deletions(-)

commit d44e4f503473d7a24032a6c4630692bf75e59846
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 29 15:00:18 2009 +0100

    sync to latest tube API draft
    
    org.freedesktop.Telepathy.Channel.Type.StreamTube.DRAFT.Offer() doesn't
    have a access_control_param any more.

 extensions/Channel_Type_Stream_Tube.xml          |   20 ++++++++++++++------
 src/tube-stream.c                                |   12 +++++++-----
 tests/twisted/tubes/offer-muc-stream-tube.py     |    7 +++----
 tests/twisted/tubes/offer-no-caps.py             |    2 +-
 tests/twisted/tubes/offer-private-stream-tube.py |    9 ++++-----
 5 files changed, 29 insertions(+), 21 deletions(-)

commit 3d4e682493fa4369ef05dfd623c644ab49c424c9
Merge: 4626619 018496d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 4 16:21:11 2009 +0100

    Merge branch 'tube-tests'

commit 018496dbbeed27c7518ff8799e3a74739bcce113
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 4 16:17:28 2009 +0100

    exec_stream_tube_test: make one exec_tube_test call per type of socket
    
    So it's easier to catch the bugged type if a test fails.

 tests/twisted/tubes/tubetestutil.py |    6 ++----
 1 files changed, 2 insertions(+), 4 deletions(-)

commit 4626619ee025e06fb278ee5df928673e0854990f
Merge: 6cf3670 2b89aca
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 4 16:13:48 2009 +0100

    Merge branch 'tube-tests'

commit 2b89acafbb569fd8b2b8a7497e3799beb23d8eff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 4 16:13:03 2009 +0100

    tubetestutil.py: fix typo

 tests/twisted/tubes/tubetestutil.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 6cf36704acb35f96edf72d858ae322ecc03cc22c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 30 11:03:34 2009 +0100

    sync gibber from Salut

 lib/gibber/gibber-fd-transport.c |   29 ++++++++++++++++++++++++++---
 lib/gibber/gibber-transport.c    |   12 ++++++++++++
 lib/gibber/gibber-transport.h    |    8 +++++++-
 3 files changed, 45 insertions(+), 4 deletions(-)

commit d78f4c636c2eb2249ce92b7b0bab05d3c4640cc4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 29 17:58:48 2009 +0100

    Ensure 'removed' is emitted for removed contents.
    
    Previously, if Gabble sent a content-remove, then received an incoming
    one for the same content, and didn't get an ack for the one it sent
    before the content was destroyed, 'removed' wouldn't be emitted. It's
    easier to reason about the lifetime of a content if 'removed' is always
    emitted.

 src/jingle-content.c |   22 ++++++++++------------
 1 files changed, 10 insertions(+), 12 deletions(-)

commit c067b5d41f2bc73638cf41660697fa2204259995
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 29 17:57:03 2009 +0100

    Meaningfully test a content-remove collision.
    
    The comment on the previous incarnation is wrong. Gabble *shouldn't*
    ignore the incoming content-remove and send its own. But since it hasn't
    received it when RemoveStreams is called, it will send its own.

 tests/twisted/jingle/test-content-complex.py |   23 +++++++++++++----------
 1 files changed, 13 insertions(+), 10 deletions(-)

commit 60af0886e3c564327a8b59c31d4aaa9e12a0923e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 29 17:25:30 2009 +0100

    Don't leak streams on SessionHandler.Error()

 src/media-channel.c                          |    2 ++
 tests/twisted/jingle/stream-handler-error.py |   25 +++++++++++++++----------
 2 files changed, 17 insertions(+), 10 deletions(-)

commit b661326c386310caaf5f8ede730aa91b525b15e7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 29 16:27:15 2009 +0100

    Test content-remove ack arriving after terminate.

 .../twisted/jingle/test-content-adding-removal.py  |   11 +++++++++--
 1 files changed, 9 insertions(+), 2 deletions(-)

commit 4588c41cbe926b097659722ae8fa95cf72c74f4c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 29 15:56:50 2009 +0100

    Fix some JingleContent reference leaks.
    
    g_object_get()-ing refs the returned object. I decided it was cleaner to
    use gabble_media_stream_get_content() (which doesn't ref the content)
    anyway.

 src/media-channel.c |   27 +++++++++++++++++----------
 1 files changed, 17 insertions(+), 10 deletions(-)

commit 52938bfadf0c65486eb3ba8d17a2b3cd1074793b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 29 14:59:12 2009 +0100

    Unleak a JingleContent ref

 src/media-channel.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 1ae623974dc628f7aee1f413f6fd68f2bcd8c1e7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 29 14:58:23 2009 +0100

    Include object address in JingleContent debug messages

 src/jingle-content.c |    8 ++++++--
 1 files changed, 6 insertions(+), 2 deletions(-)

commit f83071a7d8759ca70d6ffb19e3bd67d797deedf4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Apr 27 17:43:47 2009 +0100

    Simplify gabble_jingle_session_send, fixing a leak
    
    Previously, gabble_jingle_session_send passed the JingleSession as the
    weak object to _gabble_connection_send_with_reply. This worked, but
    meant that the jingle_reply_ctx was leaked for IQs that didn't return
    before the session was terminated.
    
    By removing some unused generality from the callbacks, the context
    struct was removed completely. Now the weak object is supplied by the
    caller; since only two callers actually use the IQ reply, this wasn't
    invasive to fix.

 src/jingle-content.c |   13 +++----
 src/jingle-session.c |   83 ++++++++++++++++++++++++--------------------------
 src/jingle-session.h |   10 +++--
 3 files changed, 52 insertions(+), 54 deletions(-)

commit d9ae717023dc5c8b8c488492c8e8c8984dc42ee6
Merge: e79dbaf b0b23c3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 30 15:20:25 2009 +0100

    Merge branch 'jingle-compliance'

commit e79dbaf5a235a7673b1a3eaa5d5342a14399439c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Apr 30 12:48:53 2009 +0100

    Document the JINGLE_DIALECTS environment variable

 tests/README |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit 1071eaec0c70d62aa1c938ef2620af98e793222e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Apr 30 12:33:58 2009 +0100

    Add ability to only test certian jingle dialects
    
    test_all_dialects now checks the JINGLE_DIALECTS environment variable to decide
    which dialects to test. If it's not set all dialects will be tested. When set
    it should be a list of dialects seperated by commas. Current supported dialects
    are jingle015, jingle031, gtalk03 and gtalk04.

 tests/twisted/jingle/jingletest2.py |   19 +++++++++++++++----
 1 files changed, 15 insertions(+), 4 deletions(-)

commit 69c4d13f4b178349b99cd0317a4a18a59c4d363c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Apr 29 16:32:16 2009 +0100

    query jingle dialect features not families
    
    if we want to know if a specific dialect supports video, ask if it
    supports video instead of asking if it's part of a certain dialect family

 tests/twisted/jingle/hold-av.py             |    2 +-
 tests/twisted/jingle/initial-audio-video.py |    6 +++---
 tests/twisted/jingle/jingletest2.py         |   15 +++++++--------
 3 files changed, 11 insertions(+), 12 deletions(-)

commit b0b23c34690da242e11b4a708340588772d90ca1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Apr 20 09:48:13 2009 +0100

    Return <unknown-session/> for unknown sessions.

 src/jingle-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b0b22d4d417287f1563f0fd0e0d0055d8402098b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Apr 18 13:57:31 2009 +0100

    Respond to removal of last content with terminate
    
    XEP-0166 says (in a footnote!) that if your peer sends a content-remove
    that leaves the session empty, you should send a session-terminate.
    
    Making this work is a matter of deleting some code guarding against it
    happening, and then deleting some other code (which never ran because of
    the aforementioned guard) which was intended to implement it, but in
    fact was redundant and crashed if allowed to run because the same "no
    more contents ⇒ terminate" logic is also in content_removed_cb (which is
    responsible for terminating the session rather than sending a
    content-remove for the last content).
    
    Deleting code is good, right?

 src/jingle-session.c                               |   17 -----------
 .../twisted/jingle/test-content-adding-removal.py  |   30 +++++++++++++++++--
 2 files changed, 26 insertions(+), 21 deletions(-)

commit 0047120bbda2eb9aa45beec4b5c4f30339d50ad9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Apr 18 13:32:07 2009 +0100

    Port test-content-adding-removal to jingletest2

 .../twisted/jingle/test-content-adding-removal.py  |  149 +++++++-------------
 1 files changed, 54 insertions(+), 95 deletions(-)

commit 3a1150fa3804fee9c501ea438532264cbf14fbf4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 29 18:45:40 2009 +0100

    run stream tube tests with IPv4 as socket type

 tests/twisted/tubes/tubetestutil.py |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit d3a51afd8a89361bcbbe6c28bd63f42ca3fd5cb1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 29 18:45:17 2009 +0100

    offer-private-stream-tube.py: use new set_up_echo

 tests/twisted/tubes/offer-private-stream-tube.py |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 7d502d65aecb5cc071c0e321ae4a2a5a2a88cf20
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 29 18:44:56 2009 +0100

    tubetestutil: re-implement set_up_echo using create_server

 tests/twisted/tubes/tubetestutil.py |   13 +++----------
 1 files changed, 3 insertions(+), 10 deletions(-)

commit bb574baef66e35407a5023b9793590385ea1c1c7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 29 18:44:11 2009 +0100

    offer-muc-stream-tube.py: use create_server

 tests/twisted/tubes/offer-muc-stream-tube.py |   22 ++++++----------------
 1 files changed, 6 insertions(+), 16 deletions(-)

commit 3648bad38759f33bbb23608b1d607607900cd4ed
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 29 18:43:30 2009 +0100

    offer-no-caps.py: use create_server

 tests/twisted/tubes/offer-no-caps.py |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit cf7d50277790184b0c7b3a86dc379f8d30eb247f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 29 18:43:02 2009 +0100

    tubetestutil: add create_server

 tests/twisted/tubes/tubetestutil.py |   29 ++++++++++++++++++++++++++++-
 1 files changed, 28 insertions(+), 1 deletions(-)

commit 4fddc278bf56c505c0a56f774e32afab58846445
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 29 18:42:20 2009 +0100

    ensure-si-tube.py: no need to set up echo

 tests/twisted/tubes/ensure-si-tube.py |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit d4d127ce775bd03c41472367c3695367d27a1991
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 29 17:40:41 2009 +0100

    accept-private-stream-tube: use connect_socket

 tests/twisted/tubes/accept-private-stream-tube.py |   17 +++++------------
 1 files changed, 5 insertions(+), 12 deletions(-)

commit 7bb01d124bb6bd1058999e6e38750f0c04bccc1c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 29 17:40:23 2009 +0100

    accept-muc-stream-tube.py: use connect_socket

 tests/twisted/tubes/accept-muc-stream-tube.py |    7 ++-----
 1 files changed, 2 insertions(+), 5 deletions(-)

commit 188e9b4454568d475a9a866941defcc359bd9e72
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 29 17:39:37 2009 +0100

    tubetestutil: add connect_socket

 tests/twisted/tubes/tubetestutil.py |   13 ++++++++++++-
 1 files changed, 12 insertions(+), 1 deletions(-)

commit 5be7684585e6edf5b4c02ae21f668f57d3a9b3d5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 29 17:21:27 2009 +0100

    run stream tube tests using exec_stream_tube_test
    
    Stream tube tests now get the address type, access control and access
    control param as parameters.

 tests/twisted/tubes/accept-muc-stream-tube.py     |    9 +++--
 tests/twisted/tubes/accept-private-stream-tube.py |   35 +++++++++-----------
 tests/twisted/tubes/offer-muc-stream-tube.py      |   10 +++--
 tests/twisted/tubes/offer-private-stream-tube.py  |   11 ++++--
 tests/twisted/tubes/tubetestutil.py               |    6 ++-
 5 files changed, 38 insertions(+), 33 deletions(-)

commit 93e601d6ab292946734c4eed3bdab3bff74998cd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 29 16:32:53 2009 +0100

    test-get-available-tubes.py: use assert* helpers

 tests/twisted/tubes/test-get-available-tubes.py |   25 ++++++++++++-----------
 1 files changed, 13 insertions(+), 12 deletions(-)

commit b55986bda1a585465136c12ff7b1b99d7660d81c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 29 16:15:00 2009 +0100

    test-get-available-tubes.py: test using new API too

 tests/twisted/tubes/test-get-available-tubes.py |   18 +++++++++++++++---
 1 files changed, 15 insertions(+), 3 deletions(-)

commit 3369476fe9e12ccaadfeb92a1db8515b53d2fb03
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 29 16:05:04 2009 +0100

    test-get-available-tubes.py: use more constants

 tests/twisted/tubes/test-get-available-tubes.py |   23 +++++++++++------------
 1 files changed, 11 insertions(+), 12 deletions(-)

commit 50c88a6881999146c203417bd2008e0fb6292b0e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 29 12:32:20 2009 +0100

    NEWS: document tube API change

 NEWS |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 48d3f5de3bd39c51d927925c6908d5d9ee6b12c4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 29 12:24:42 2009 +0100

    Sync with latest tube spec DRAFT
    
    {Offer,Accept}{DBus,Stream}Tube methods and the StreamTubeNewConnection
    signal have been renamed.

 extensions/Channel_Interface_Tube.xml             |   16 ++++----
 extensions/Channel_Type_DBus_Tube.xml             |    8 ++--
 extensions/Channel_Type_Stream_Tube.xml           |   16 ++++----
 src/tube-dbus.c                                   |   30 +++++++-------
 src/tube-stream.c                                 |   46 ++++++++++----------
 tests/twisted/test-fallback-socks5-proxy.py       |    2 +-
 tests/twisted/tubes/accept-muc-dbus-tube.py       |    4 +-
 tests/twisted/tubes/accept-private-dbus-tube.py   |    4 +-
 tests/twisted/tubes/accept-private-stream-tube.py |   16 ++++----
 tests/twisted/tubes/offer-muc-dbus-tube.py        |    4 +-
 tests/twisted/tubes/offer-muc-stream-tube.py      |    6 +-
 tests/twisted/tubes/offer-no-caps.py              |    8 ++--
 tests/twisted/tubes/offer-private-dbus-tube.py    |    4 +-
 tests/twisted/tubes/offer-private-stream-tube.py  |    4 +-
 14 files changed, 84 insertions(+), 84 deletions(-)

commit 654246b152e630dae459b76be4fca0472e3a7e56
Merge: 147fa58 fc2a2e9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 28 14:13:03 2009 +0100

    Merge branch 'full-jid-as-fallback-alias'
    
    Fixes fd.o#21295.
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit fc2a2e9dad0c857debe22a21e9325befccf42a0f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 28 14:11:20 2009 +0100

    Explain using local part as MUC Resource

 src/muc-channel.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 147fa5834680583da510f6d77a5e241b840acc4a
Merge: 481acb3 5d0a31b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 28 14:02:06 2009 +0100

    Merge branch 'no-avatar-for-you'
    
    Fixes fd.o#20422.
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 481acb3e9b846423410d7d679142f569739b3792
Merge: 4cc2eae 507aee1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 28 13:43:21 2009 +0100

    Merge branch 'connection-errors'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 4cc2eaec55a292996cc4dae141abfd797607e7e5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Apr 24 15:13:51 2009 +0100

    Avoid "unknown IQ" messages for Jingle responses
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

 src/jingle-session.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit d2cf2a7ee663e37ad72b7facda3db349918728a9
Merge: c8d2033 360dd3f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 28 11:26:25 2009 +0100

    Merge branch 'registration'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 5d0a31bbb6fe26c6d06aae28ab70839282d8dab3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Mar 17 19:58:45 2009 +0000

    Test that RequestAvatar throws the correct error

 tests/twisted/vcard/test-vcard-cache.py |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 0b67ad6cd1ab71ffd248ca43a3fd4b9ef21000d5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Mar 17 19:58:20 2009 +0000

    Map vCard/XMPP error to Tp error from RequestAvatar

 src/conn-avatars.c |   20 +++++++++++++++++++-
 1 files changed, 19 insertions(+), 1 deletions(-)

commit ffa1fd5d4b89a2d7c2aa440dd3e19d9cce42ad99
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Mar 17 18:59:32 2009 +0000

    Test SetAvatar's error when server rejects avatar

 tests/twisted/Makefile.am              |    1 +
 tests/twisted/vcard/update-rejected.py |   42 ++++++++++++++++++++++++++++++++
 2 files changed, 43 insertions(+), 0 deletions(-)

commit dbd1c114525345f4e4a2e7728f2a4f7c04c7c93a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Mar 17 18:58:54 2009 +0000

    SetAvatar: map XMPP/vCard error to TpError

 src/conn-avatars.c |   14 +++++++++++++-
 1 files changed, 13 insertions(+), 1 deletions(-)

commit 507aee11e8d1fb2878a20e6135995986481972c9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 16 14:12:30 2009 +0100

    Expose <host-unknown> during login as Auth_Failed

 src/connection.c                   |   38 +++++++++++++++++++++++++----------
 tests/twisted/connect/test-fail.py |   29 +++++++++++++++++++++++++++
 2 files changed, 56 insertions(+), 11 deletions(-)

commit 4335304b13513598b68289d3d2b85f683e8ded17
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 16 14:12:20 2009 +0100

    Allow tests to specify a custom authenticator

 tests/twisted/gabbletest.py |   17 +++++++++++------
 1 files changed, 11 insertions(+), 6 deletions(-)

commit ff91e6b685114be45b65f8072907bacbf15137dd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 16 13:42:56 2009 +0100

    Test disconnecting on <conflict/>

 tests/twisted/connect/test-fail.py |   33 ++++++++++++++++++++++++++-------
 tests/twisted/ns.py                |    1 +
 2 files changed, 27 insertions(+), 7 deletions(-)

commit 7e17e527dca7488b4a1084a5f8bee31f61b2ac96
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 16 13:16:44 2009 +0100

    Prevent LmConn disconnection callback firing twice
    
    This currently wouldn't happen, because Gabble happens to only react to
    stream errors that Loudmouth ignores.

 src/connection.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit fc118d2c72af22749ac30486817101bab0d7fd19
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Apr 25 11:39:08 2009 +0100

    Simplify _gabble_connection_get_cached_alias

 src/conn-aliasing.c |   83 +++++++++++++++++++--------------------------------
 1 files changed, 31 insertions(+), 52 deletions(-)

commit f037aaec82215f95bdfaa8c1682cf69aae8d286e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Apr 25 11:27:16 2009 +0100

    Make GetAliases etc fall back to the full JID
    
    Previously, Gabble fell back to the local part of the JID; if the
    contact is foo@bar.com, it would default their alias to "foo". But this
    is in violation of the spec, which says CMs should "[fall] back on the
    handle name if [no alias] is present".
    
    Gabble's old behaviour was slightly nicer on UIs that just want to show
    something to the user, but make it impossible for UIs to tell whether a
    contact actually has an alias or not. The real fix here is to separate
    aliases into petnames and nicknames, but for now this makes Gabble
    spec-compliant.

 src/conn-aliasing.c                           |   27 +++++++++---------------
 src/muc-channel.c                             |   15 +++++++++++++-
 tests/twisted/vcard/test-alias-empty-vcard.py |    4 +-
 tests/twisted/vcard/test-vcard-cache.py       |    4 +-
 4 files changed, 28 insertions(+), 22 deletions(-)

commit c8d203395c85b727a50e9d9092afde8d6c7d6081
Merge: 24e0819 ee41d8e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 22 16:44:11 2009 +0100

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble

commit 24e08191ab9a346d96ad2bf5f781a8c141e045c6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 22 16:40:13 2009 +0100

    offer-muc-stream-tube: use the new API tube too

 tests/twisted/tubes/offer-muc-stream-tube.py |   21 +++++++++++++++++++++
 1 files changed, 21 insertions(+), 0 deletions(-)

commit 9b3aaf5d7bb53a3ae41ca080bf2251f8a49e4a1a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 22 16:13:42 2009 +0100

    offer-muc-stream-tube.py: factor out connect_to_tube and use_tube

 tests/twisted/tubes/offer-muc-stream-tube.py |   68 ++++++++++++++-----------
 1 files changed, 38 insertions(+), 30 deletions(-)

commit a839e74cbede50ea90be5f7fa50835504892a425
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 22 16:03:24 2009 +0100

    offer-muc-stream-tube.py: explicitely catch the old StreamTubeNewConnection signal

 tests/twisted/tubes/offer-muc-stream-tube.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ee41d8ef67a1e40ace213c59c84c410290da18b8
Merge: 858635b 8b80687
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 22 15:12:11 2009 +0100

    Merge branch 'jingle-test-sanity'
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>
    Reviewed-by: Dafydd Harries <dafydd.harries@collabora.co.uk>

commit 8b806875d5c799cb68ad3690673a4f6777e61e9a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 22 15:10:13 2009 +0100

    Summarize the various outgoing call APIs.

 tests/twisted/jingle/outgoing-basics.py |   11 +++++++----
 1 files changed, 7 insertions(+), 4 deletions(-)

commit 3b41a605f5225246932b67726d7308720204f7cd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 22 13:22:59 2009 +0100

    Just check that InitialAudio/Video are in RCC
    
    A more thorough check is now in outgoing-basics; the previous check here
    would break whenever we add more allowed properties, which is bad.

 tests/twisted/jingle/initial-audio-video.py |   15 +++++++--------
 1 files changed, 7 insertions(+), 8 deletions(-)

commit 37d20789a9d229ff8b6a2888e2109f804e687fb5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 22 13:10:54 2009 +0100

    Sanity-check StreamedMedia RequestableChannelClasses

 tests/twisted/jingle/outgoing-basics.py |   27 +++++++++++++++++++++++++++
 1 files changed, 27 insertions(+), 0 deletions(-)

commit b7ba81c02675a0b09aede86507d22a6054a7ad1b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 22 12:37:21 2009 +0100

    Rename test-incoming-call to incoming-basics.
    
    This matches outgoing-basics.

 tests/twisted/Makefile.am                  |    2 +-
 tests/twisted/jingle/incoming-basics.py    |  163 ++++++++++++++++++++++++++++
 tests/twisted/jingle/test-incoming-call.py |  163 ----------------------------
 3 files changed, 164 insertions(+), 164 deletions(-)

commit b46329c582932687c1c94523c30b03dc9de6048b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 22 12:33:21 2009 +0100

    test-dialects-incoming was subsumed by test-incoming-call

 tests/twisted/Makefile.am                      |    1 -
 tests/twisted/jingle/test-dialects-incoming.py |  107 ------------------------
 2 files changed, 0 insertions(+), 108 deletions(-)

commit 1c460aa792ae6531c87bc666b461075d44859234
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 22 12:31:12 2009 +0100

    Make test-incoming-call test all dialects.
    
    It tested one dialect much more thoroughly than does
    test-dialects-incoming.

 tests/twisted/jingle/test-incoming-call.py |   77 ++++++++++-----------------
 1 files changed, 29 insertions(+), 48 deletions(-)

commit 05d7da0cd80e12788277518a8f4950bd98c3112a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 21 18:40:53 2009 +0100

    Rename test-outgoing-call-ensure to outgoing-ensure
    
    (Following the gradual move towards losing the redundant 'test-' prefix,
    and to vaguely suggest that it's been audited.)

 tests/twisted/Makefile.am                         |    2 +-
 tests/twisted/jingle/outgoing-ensure.py           |  149 +++++++++++++++++++++
 tests/twisted/jingle/test-outgoing-call-ensure.py |  149 ---------------------
 3 files changed, 150 insertions(+), 150 deletions(-)

commit 6affbb266226326b5a6381bd42cb3449af10ead2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 21 18:40:08 2009 +0100

    Tidy up test-outgoing-call-ensure

 tests/twisted/jingle/test-outgoing-call-ensure.py |  123 ++++++++-------------
 1 files changed, 47 insertions(+), 76 deletions(-)

commit e1df99d904ec7ea741b3c85b1162e33b8340c044
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 21 18:25:53 2009 +0100

    Use wrap_channel in jingle/outgoing-basics.py

 tests/twisted/jingle/outgoing-basics.py |   33 +++++++++++++-----------------
 1 files changed, 14 insertions(+), 19 deletions(-)

commit 4ff1877c6fb044c260db938b89b0e9e785ba0134
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 21 18:21:28 2009 +0100

    Rename test-dialects-outgoing to outgoing-basics.
    
    All other remaining outgoing call tests test particular scenarios,
    rather than the basics of the call-requesting API. This seems like a
    better name.

 tests/twisted/Makefile.am                      |    2 +-
 tests/twisted/jingle/outgoing-basics.py        |  264 ++++++++++++++++++++++++
 tests/twisted/jingle/test-dialects-outgoing.py |  264 ------------------------
 3 files changed, 265 insertions(+), 265 deletions(-)

commit 85408fa4191c6f5b77740d3a08636d6b39b808ee
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 21 18:18:34 2009 +0100

    Absorb outgoing-call-requestotron into dialects-outgoing

 tests/twisted/Makefile.am                          |    1 -
 tests/twisted/jingle/test-dialects-outgoing.py     |   70 +++++--
 .../jingle/test-outgoing-call-requestotron.py      |  205 --------------------
 3 files changed, 53 insertions(+), 223 deletions(-)

commit 5b6398c5a151eb5291e94e6e325128db1722f673
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 21 17:46:24 2009 +0100

    Test all RequestChannel variants in test-dialects-outgoing

 tests/twisted/Makefile.am                          |    2 -
 tests/twisted/jingle/test-dialects-outgoing.py     |   94 ++++++++++++++----
 .../jingle/test-outgoing-call-deprecated.py        |  105 --------------------
 .../jingle/test-outgoing-call-deprecated2.py       |  105 --------------------
 4 files changed, 74 insertions(+), 232 deletions(-)

commit 4e22f6ba70d684b2c1631e32808497563798ff17
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 21 17:15:49 2009 +0100

    Absorb test-outgoing-call into test-dialects-outgoing
    
    It's stupid to have two tests testing roughly the same things

 tests/twisted/Makefile.am                      |    1 -
 tests/twisted/constants.py                     |    1 +
 tests/twisted/jingle/test-dialects-outgoing.py |  124 ++++++++++++----
 tests/twisted/jingle/test-outgoing-call.py     |  182 ------------------------
 4 files changed, 95 insertions(+), 213 deletions(-)

commit 50a873587dce78bae933d39cf05b8acc82ebe0d0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 21 16:53:53 2009 +0100

    Expunge expect_racy from the test suite.

 tests/twisted/jingle/test-dialects-incoming.py |   17 +++++++++--------
 tests/twisted/jingle/test-dialects-outgoing.py |   17 ++++++++---------
 tests/twisted/servicetest.py                   |   19 -------------------
 3 files changed, 17 insertions(+), 36 deletions(-)

commit 98a984fe9fe6c55a1a42b90192b3ade2c426e1d4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 21 16:40:18 2009 +0100

    Remove spurious comment

 tests/twisted/jingle/test-dialects-incoming.py |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit 858635b03327a0579ed444bb1f5b260fea03833e
Merge: 0b4e269 739cd04
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Apr 21 16:08:17 2009 +0100

    Merge branch 'socks5-proxies'

commit 248efd034ef4f7bdc44925c35c42ca57340de36d
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Mon Apr 20 17:10:15 2009 +0100

    Use generated signal emitting function instead of g_signal_emit_by_name.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/debugger.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 25dfaf0e6f83bc44df073a35df8a4a327710e912
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Mon Apr 20 16:53:53 2009 +0100

    Emit new-debug-message with the correct arguments.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/debugger.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 1cb9cbeb191b46e1ba26848eb540d2405164aabf
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Sun Apr 19 15:41:34 2009 +0100

    Fix misc. problems and remove some code duplication.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/debug.c    |    8 +-------
 src/debugger.c |    8 ++++----
 src/debugger.h |    2 +-
 src/gabble.c   |    3 +--
 4 files changed, 7 insertions(+), 14 deletions(-)

commit 0be75822fb642736fb5925fabf264dc1e5c54c30
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Sun Apr 19 15:19:23 2009 +0100

    Split logging to debugger into another function.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/debug.c |   30 +++++++++++++++++++++++-------
 1 files changed, 23 insertions(+), 7 deletions(-)

commit 2791d4be61a68d96ece1b9e121a8422e55622951
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Sun Apr 19 15:03:32 2009 +0100

    Record all debug messages regardless of the GABBLE_DEBUG environment variable.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/debug.c |   42 ++++++++++++++++++++++++++++++++++++------
 1 files changed, 36 insertions(+), 6 deletions(-)

commit 018fb0e97d6cc2d6e040552f25a48624554e5c1f
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Sun Apr 19 15:03:03 2009 +0100

    Only record in debugger if message is not from gabble.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/gabble.c |   15 ++++++++++-----
 1 files changed, 10 insertions(+), 5 deletions(-)

commit bb1a9db6a645df2268caf4959d6e86c88c91e582
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Sun Apr 19 13:52:29 2009 +0100

    Fix indentation.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/debugger.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 5fe3c1093a5a582b07a01b21079cbab7645e0643
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Sun Apr 19 13:49:01 2009 +0100

    Split the GLogLevelFlags -> GabbleDebugLevel into another function.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/debugger.c |   33 ++++++++++++++++++---------------
 1 files changed, 18 insertions(+), 15 deletions(-)

commit a2c7cc90be0d35371bd8d39584c3e2ccee8bfeba
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Sun Apr 19 01:45:16 2009 +0100

    Record log domain and levels and expose them on the Debug interface.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/debugger.c |   44 ++++++++++++++++++++++++++++++++++++++++----
 src/debugger.h |    6 ++++++
 src/gabble.c   |   11 +++++++----
 3 files changed, 53 insertions(+), 8 deletions(-)

commit 0795f6b65bba59ed0dd5947f5e985f0bf2e762d8
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Sun Apr 19 01:42:31 2009 +0100

    Added domain and level to Debug interface.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 extensions/Debug.xml |   45 ++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 44 insertions(+), 1 deletions(-)

commit 41d6eb2daffe7c2ac60071094c47be082fd6add5
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Sun Apr 19 01:34:06 2009 +0100

    Override the default log handler, and change log domain.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/Makefile.am |    3 ++-
 src/gabble.c    |    4 ++--
 2 files changed, 4 insertions(+), 3 deletions(-)

commit 80624afa19061a682d0223c05b06b400909deb5b
Author: Dafydd Harries <daf@rhydd.org>
Date:   Fri Apr 10 18:20:45 2009 +0100

    initial implementation of the debug interface

 src/Makefile.am             |    2 +
 src/debugger.c              |  235 +++++++++++++++++++++++++++++++++++++++++++
 src/debugger.h              |   82 +++++++++++++++
 src/gabble.c                |   26 +++++
 tests/twisted/Makefile.am   |    1 +
 tests/twisted/test-debug.py |   52 ++++++++++
 6 files changed, 398 insertions(+), 0 deletions(-)

commit 6a2e59723659731dcd37cf725d07160908e93cc0
Author: Dafydd Harries <daf@rhydd.org>
Date:   Fri Apr 10 18:10:24 2009 +0100

    add straw man debug interface

 extensions/Debug.xml |   69 ++++++++++++++++++++++++++++++++++++++++++++++++++
 extensions/all.xml   |    1 +
 2 files changed, 70 insertions(+), 0 deletions(-)

commit 0b4e269ca547cc91a452035aca11bb3e37e47120
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Sat Apr 18 23:04:40 2009 +0100

    Keep QUIET_GEN in tools/shave.mk and include that in the appropriate Makefiles.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 data/Makefile.am       |    2 +-
 docs/Makefile.am       |    2 +-
 extensions/Makefile.am |    2 +-
 lib/gibber/Makefile.am |    2 +-
 src/Makefile.am        |    2 +-
 tools/Makefile.am      |    3 ++-
 tools/shave.mk         |    1 +
 7 files changed, 8 insertions(+), 6 deletions(-)

commit 03e8dea50c77083934aa4c5da7503af3a301ca15
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Sun Feb 22 16:53:33 2009 +0000

    Converted gabble to use shave and make make output legible.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 .gitignore             |    2 +
 configure.ac           |    6 +++-
 data/Makefile.am       |    6 ++-
 docs/Makefile.am       |    6 ++-
 extensions/Makefile.am |   20 +++++++-----
 lib/gibber/Makefile.am |   12 ++++---
 m4/Makefile.am         |    3 +-
 m4/shave.m4            |   77 ++++++++++++++++++++++++++++++++++++++++++++++
 shave-libtool.in       |   69 +++++++++++++++++++++++++++++++++++++++++
 shave.in               |   79 ++++++++++++++++++++++++++++++++++++++++++++++++
 src/Makefile.am        |   12 ++++---
 tools/Makefile.am      |    6 ++-
 12 files changed, 271 insertions(+), 27 deletions(-)

commit c872b2b5430682c8c0a2782af6fa6a7f7b5e64e5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 21 14:39:32 2009 +0100

    Include StreamedMedia.FUTURE in EXTRA_DIST
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

 extensions/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 739cd047ca67fc8d6f9414434b67ed829bd0078f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Apr 21 13:52:45 2009 +0100

    add a timer when querying proxies so we'll query more if needed

 src/bytestream-factory.c |   30 ++++++++++++++++++++++++++++++
 1 files changed, 30 insertions(+), 0 deletions(-)

commit 23a5800f1f215fdcaa47de9457ac85a32fd8af33
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Apr 21 13:21:55 2009 +0100

    bytestream-factory: only query few SOCKS5 proxies instead of the whole list

 src/bytestream-factory.c |  116 +++++++++++++++++++++++++++++++++-------------
 1 files changed, 83 insertions(+), 33 deletions(-)

commit 8a5e41f86bb2d0618ab60d67d447427490f0533b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Apr 21 11:20:50 2009 +0100

    factor out randomize_g_slist

 src/bytestream-factory.c |   53 +++++++++++++++++++++++++--------------------
 1 files changed, 29 insertions(+), 24 deletions(-)

commit af5c74b1b40aea2e713dabb0346f0ab12ba45db8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 20 14:45:47 2009 +0100

    remove bugged proxies from GABBLE_PARAMS_DEFAULT_SOCKS5_PROXIES
    
    127.0.0.1 is actually not a great address for a proxy

 src/connection.h |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit eba71303a66688da9207f8f84b1dfa72d7541b28
Merge: 95b1646 e631b72
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Apr 20 13:59:40 2009 +0100

    Merge branch 'the-daily-valgrind'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit e631b7273fc0d2cfbdabe4d3079c972eec2567fa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 15 20:32:01 2009 +0100

    Increase Jingle timeout in tests.
    
    This works around spurious failures when Valgrind. (The timeout should
    go away at some point anyway...)

 tests/twisted/main-debug.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 60ffef45aab19f07a98300fd01d63a7832707419
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 15 20:27:02 2009 +0100

    Unrace test-outgoing-call.py

 tests/twisted/jingle/test-outgoing-call.py |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

commit 2dd0cc5b4d65c78cfc73985bfb3977a21e8c9a0f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 15 20:17:38 2009 +0100

    Unrace jingle/accept-extra-stream.py

 tests/twisted/jingle/accept-extra-stream.py |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

commit e9d61baf8e80f7bd079365a8671e3853e557c2aa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 15 20:04:28 2009 +0100

    Don't leak Jingle content and session names

 src/jingle-factory.c |   20 +++++++++++---------
 src/jingle-session.c |    2 ++
 2 files changed, 13 insertions(+), 9 deletions(-)

commit f244a45035ee68670e09a59e049e05487f039733
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 15 17:51:08 2009 +0100

    Separate destroying and removing _delayed_request_streams_ctx
    
    Disposing a media channel destroys all the delayed request streams. We
    don't want that to modify the GPtrArray while we're iterating it.

 src/media-channel.c |   11 +++++++++--
 1 files changed, 9 insertions(+), 2 deletions(-)

commit e8cc868ae7d2f72ee68b97daba8b267db4db728e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 15 17:34:16 2009 +0100

    Don't lazily alloc/eagerly free delayed_request_streams
    
    This adds complexity for no gain.

 src/media-channel.c |   12 +++---------
 1 files changed, 3 insertions(+), 9 deletions(-)

commit 36759632d4827ec6177cd2b341bdad05e1401a7b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 15 17:34:04 2009 +0100

    Fix a couple of leaks.

 src/jingle-session.c |    4 +++-
 src/media-channel.c  |    2 ++
 2 files changed, 5 insertions(+), 1 deletions(-)

commit 360dd3fa46e731879143d8a56efabad0665f0306
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Apr 17 11:20:22 2009 +0100

    Not needing username or password to register is weird

 src/register.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 161a5445ac7170218e40be845e946430195141f5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Apr 17 11:19:28 2009 +0100

    Simplify registration's get_reply_cb

 src/register.c |   37 ++++++++++++++-----------------------
 1 files changed, 14 insertions(+), 23 deletions(-)

commit 31adcf17f087cebd3a059fe1c7ee7d21b9ba7609
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Apr 17 11:01:50 2009 +0100

    Don't try to submit incomplete registration forms
    
    Previously Gabble violated a MUST in XEP 0077 by not caring if it was
    supposed to provide <email/> or other information.

 src/register.c                 |   46 +++++++++++++++++++++++----------------
 tests/twisted/test-register.py |   26 +++++++++++-----------
 2 files changed, 40 insertions(+), 32 deletions(-)

commit 95b16460b75c26ab4f364bbaa8107bdfd8ad2be0
Merge: 3cd0440 d0a96dd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 17 14:58:40 2009 +0100

    Merge branch 'master' into file-transfer+capability
    
    Conflicts:
    	NEWS

commit 3cd04405f7add28db12fbd0f86f3790b2d42c70b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 17 14:51:36 2009 +0100

    ft-manager: probably cast the caps stored in per_channel_manager_caps

 src/ft-manager.c |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit d0a96dda742d5acd73b2e5c255b0c2efa3c09a4d
Merge: e495824 e9e5c34
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 17 14:33:01 2009 +0100

    Merge branch 'file-transfer+resume'

commit e495824cae4f0575c1e583ef0e59b8c51b99590e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 16 15:44:57 2009 +0100

    bytestream_factory_iq_si_cb: initialize self_jid so world won't explode if we got an error before it got a value

 src/bytestream-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a41b0771f1d54afa7dc201020148d65dce058b16
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 16 10:17:48 2009 +0100

    explain gthread dep in NEWS

 NEWS |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 7633016b57ee7cdfdf35b59bea0c706da89e90cb
Author: Brian Pepple <bpepple@fedoraproject.org>
Date:   Sun Mar 29 17:20:59 2009 -0400

    Require gthread for g_thread_init() (needed by libsoup)
    
    We need to initialize threads for libsoup's benefit. fixes fd.o #20937

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 6f6de29a98c9233fbfedf9171de415dc3a2743a3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 15 17:53:55 2009 +0100

    use assertContains

 tests/twisted/tubes/offer-muc-dbus-tube.py     |    4 ++--
 tests/twisted/tubes/offer-muc-stream-tube.py   |    5 +++--
 tests/twisted/tubes/offer-private-dbus-tube.py |    5 +++--
 tests/twisted/tubes/tubetestutil.py            |    4 ++--
 4 files changed, 10 insertions(+), 8 deletions(-)

commit 37edaab6c696c67d5cee02f2f338cd745b7e253d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 15 17:49:10 2009 +0100

    s/Salut/Gabble

 src/muc-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d00cc254a3e17c2a6b03b2e15fbd2268718602ea
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 15 17:47:39 2009 +0100

    upgrade NEWS

 NEWS |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit b226fabae9fb916d8a8540346853cd5cb31745ed
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 15 17:42:17 2009 +0100

    offer-private-dbus-tube.py: check that newly announced channels are in Requests's channels property

 tests/twisted/tubes/offer-private-dbus-tube.py |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit a0275b65ff1d067d8629217170b51df257840aa0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 15 17:34:48 2009 +0100

    offer-muc-{dbus,stream}-tube.py: check if the channel is in Requests's Channels property

 tests/twisted/tubes/offer-muc-dbus-tube.py   |    5 +++++
 tests/twisted/tubes/offer-muc-stream-tube.py |    5 +++++
 2 files changed, 10 insertions(+), 0 deletions(-)

commit 76f70aa9fb4da8786bbd8defbb51d08fd88e5be3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 15 17:34:14 2009 +0100

    check_NewChannels_signal: check if the channel is in Requests's Channels property

 tests/twisted/tubes/offer-private-stream-tube.py |    6 +++---
 tests/twisted/tubes/tubetestutil.py              |    7 ++++++-
 2 files changed, 9 insertions(+), 4 deletions(-)

commit ed88d6d5ed51ea9820d1e728c5cd4c12e27f4027
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 15 17:28:42 2009 +0100

    gabble_muc_factory_foreach_channel: include tube channels as well

 src/muc-factory.c |   17 ++++++++++++++++-
 1 files changed, 16 insertions(+), 1 deletions(-)

commit 7ba550963e656dd426d679aecaf20dcfa2abe647
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 15 17:26:57 2009 +0100

    don't skip D-Bus tubes in gabble_tubes_channel_foreach
    
    they are now ported to the new API so they should be included

 src/tubes-channel.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit e8aa7b5c89b3be6cd4bae53c455795201cbf4611
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 15 16:57:12 2009 +0100

    constants.py: add BUDDY_INFO and ACTIVITY_PROPERTIES

 tests/twisted/constants.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 23146622fbb55699d86981aa041174187383dd5d
Merge: dfb5420 8ad16fc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 15 16:28:18 2009 +0100

    Merge branch 'initial-audio-video'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit dfb54205466c9fe2a23f5d182f35268b624019ed
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Apr 10 16:33:15 2009 +0100

    Unleak GetSessionHandlers
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 src/media-channel.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 06df6a4c5521c0a4cc2193afbc05c937a3c71257
Merge: 76faacb d84c077
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 15 16:18:16 2009 +0100

    Merge branch 'split-media-channel'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 76faacb3217c1fa5b6948025fa8c72c8a359cc90
Merge: 20f288d 4a5502a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 15 16:17:51 2009 +0100

    Merge branch 'many-ways-to-skin-a-call'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 20f288d45ef958bc9c2170c9845e1e74a01bf064
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 15 15:59:20 2009 +0100

    constants.py: add CONN_IFACE_SIMPLE_PRESENCE

 tests/twisted/constants.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 8ad16fcc54baa91b1b63765f1bbe2ffccc591daa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 15 15:29:57 2009 +0100

    Extract InitialAudio/Video from initial streams

 src/media-channel.c                         |   38 ++++++++++++++++++++++++---
 src/media-factory.c                         |    1 -
 tests/twisted/jingle/initial-audio-video.py |   37 ++++++++++++++++++++++++--
 3 files changed, 68 insertions(+), 8 deletions(-)

commit 2f823bf60cadb1c98d2a3a815fa0e444b4e055a7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 15 15:06:39 2009 +0100

    Remove unnecessary prototypes

 src/media-factory.c |    6 ------
 1 files changed, 0 insertions(+), 6 deletions(-)

commit f7fc766ccc5427f154bb363cdd60e86e8401f94b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 15 14:16:55 2009 +0100

    Extend incoming_call to do video calls.

 tests/twisted/jingle/jingletest2.py |   24 ++++++++++++++++++++----
 1 files changed, 20 insertions(+), 4 deletions(-)

commit 47ee57ec52477699273b1fbb0bb57bf7fac584e4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 15 12:41:18 2009 +0100

    Check that InitialA/V yield correct StreamHandlers

 tests/twisted/jingle/initial-audio-video.py |   62 ++++++++++++++++++++++----
 1 files changed, 52 insertions(+), 10 deletions(-)

commit ce15533d3ce33c387003e35d93178a3c179fd776
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 14 18:11:11 2009 +0100

    Create initial streams as per request

 src/media-channel.c |   66 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/media-channel.h |    5 ++++
 src/media-factory.c |   61 +++++++++++++++++++++++++++++++++++++++++++----
 3 files changed, 127 insertions(+), 5 deletions(-)

commit b2efe99bce14ef04ad52b286608801ff0e17ce91
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 14 18:10:46 2009 +0100

    Don't expect InitialVideo to work on GTalk
    
    Instead, expect it to fail the channel creation with NotCapable.

 tests/twisted/constants.py                  |    1 +
 tests/twisted/jingle/initial-audio-video.py |   35 ++++++++++++++++----------
 2 files changed, 22 insertions(+), 14 deletions(-)

commit 0a267d89fdde716d4c977f1c65758eff621cba38
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 14 18:09:24 2009 +0100

    Don't forbid session-initiate for no InitialA/V
    
    This check was wrong anyway: session-initiate is never sent until the
    stream handlers are ready etc etc.

 tests/twisted/jingle/initial-audio-video.py |    6 +-----
 1 files changed, 1 insertions(+), 5 deletions(-)

commit fbb9e7d6d167e6a97a5fc4ded954059858e2b824
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 14 14:57:35 2009 +0100

    Abstract success/failure callbacks in _delayed_request_streams_ctx

 src/media-channel.c |  109 +++++++++++++++++++++++++++++++-------------------
 1 files changed, 67 insertions(+), 42 deletions(-)

commit 9ce8f3a56c6db3c405b6a4a0fa474b4874beb1eb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Apr 13 15:41:44 2009 +0100

    Abstract success/failure callbacks in PendingStreamRequest

 src/media-channel.c |   31 ++++++++++++++++++++++---------
 1 files changed, 22 insertions(+), 9 deletions(-)

commit 62d3483fd7879ee6b69385d7d551be3f5b70e136
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Apr 10 16:55:46 2009 +0100

    Pass InitialAudio/Video from request to channel

 src/media-factory.c                         |   31 +++++++++++++----
 tests/twisted/jingle/initial-audio-video.py |   47 ++++++++++++++++++++++----
 2 files changed, 62 insertions(+), 16 deletions(-)

commit b036f855013aa63c5cf3c58559ed2d27d412e786
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 9 17:20:26 2009 +0100

    Implement and announce InitialAudio/Video props

 src/media-channel-internal.h                |    3 ++
 src/media-channel.c                         |   44 +++++++++++++++++++++++++++
 tests/twisted/jingle/initial-audio-video.py |   31 ++++++++++++++++++-
 3 files changed, 77 insertions(+), 1 deletions(-)

commit 21672e29e5a94c478276f4bf8c6b75af36435a97
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 9 14:20:05 2009 +0100

    Allow InitialAudio/Video properties

 src/media-factory.c                         |    4 ++++
 tests/twisted/Makefile.am                   |    1 +
 tests/twisted/constants.py                  |    3 +++
 tests/twisted/jingle/initial-audio-video.py |   27 +++++++++++++++++++++++++++
 4 files changed, 35 insertions(+), 0 deletions(-)

commit 190cfe24ec422e21987c574ee5762d96d622628a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 9 13:13:32 2009 +0100

    Import StreamedMedia.FUTURE spec.

 extensions/Channel_Type_Streamed_Media_Future.xml |  151 +++++++++++++++++++++
 extensions/all.xml                                |    1 +
 2 files changed, 152 insertions(+), 0 deletions(-)

commit d84c077ab319b4b72a1a85985b05e86812d88981
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 14 12:30:40 2009 +0100

    Remove MediaFactory property from MediaChannel.
    
    It wasn't used: everything just gets the factory from the connection,
    which is fine.

 src/media-channel-internal.h |    2 --
 src/media-channel.c          |   13 -------------
 src/media-factory.c          |    1 -
 3 files changed, 0 insertions(+), 16 deletions(-)

commit ad4985585cbc2983eb6d1ff839ddebe059ae8e83
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 14 12:28:53 2009 +0100

    Move CallState code to media-channel-hold.c

 src/media-channel-hold.c     |  173 +++++++++++++++++++++++++++++++++++++-----
 src/media-channel-internal.h |    9 ++-
 src/media-channel.c          |  125 +-----------------------------
 3 files changed, 163 insertions(+), 144 deletions(-)

commit 9cfe28b8e451e1be649cc86eaa3a20c255a49993
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 14 12:13:12 2009 +0100

    Inline inform_peer_of_[un]hold
    
    They're called exactly once, and add nothing.

 src/media-channel-hold.c |   17 ++---------------
 1 files changed, 2 insertions(+), 15 deletions(-)

commit e9e5c34dffe8a8f58f94e0bb6c71065850f061aa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Apr 14 12:11:15 2009 +0100

    upgrade NEWS

 NEWS |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 6b2111b158811e93076161353147b3f873e8d8be
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 14 12:11:03 2009 +0100

    Split Hold implementation to a separate source file.

 src/Makefile.am              |    2 +
 src/media-channel-hold.c     |  312 ++++++++++++++++++++++++++++++++++++++++++
 src/media-channel-internal.h |   84 +++++++++++
 src/media-channel.c          |  306 +----------------------------------------
 4 files changed, 403 insertions(+), 301 deletions(-)

commit 3d7a40c27b940b1989591cb78d5e9043a2c8556e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 19 11:34:52 2009 +0000

    implement and test resume on the sending side

 src/ft-channel.c                                   |   23 +++++++++++++++++++-
 .../twisted/file-transfer/file_transfer_helper.py  |   14 +++++++----
 .../test-send-file-provide-immediately.py          |    3 +-
 .../test-send-file-wait-to-provide.py              |    3 +-
 4 files changed, 33 insertions(+), 10 deletions(-)

commit 8607c6ca1bf0ae01467b5fdd41c13e7a6e31c05f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 19 10:38:33 2009 +0000

    check that gabble supports range FT

 .../twisted/file-transfer/file_transfer_helper.py  |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 9f235c53ac894de6df0ab1256371c29e7e0c415b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 19 10:38:14 2009 +0000

    gabble_file_transfer_channel_offer_file: claim we support range FT

 src/ft-channel.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 5833d016476c9aef047fd2fda606958c5a981a43
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 18 17:56:23 2009 +0000

    pass file args to FT tests so we can easily test resume

 .../twisted/file-transfer/file_transfer_helper.py  |   21 +++++++++++++------
 .../test-send-file-to-unknown-contact.py           |    4 +-
 .../test-send-file-wait-to-provide.py              |    4 +-
 3 files changed, 18 insertions(+), 11 deletions(-)

commit 4f70e3959696434ea5b4ae28082365bbff8202fe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 18 17:49:23 2009 +0000

    file_transfer_helper.py: support offset when testing receiving file

 .../twisted/file-transfer/file_transfer_helper.py  |   28 ++++++++++++-------
 1 files changed, 18 insertions(+), 10 deletions(-)

commit 6be0c96ccb072c4d9a668781e5d2166d7a3a0ec4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 18 17:41:37 2009 +0000

    add the offset when checking if the transfer is complete

 src/ft-channel.c |    9 ++++++---
 1 files changed, 6 insertions(+), 3 deletions(-)

commit 19a2f28a8af606a8a61aa11cb7522f19906886b9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 18 17:39:02 2009 +0000

    set offset in SI reply if the sender supports it

 src/ft-channel.c |   43 +++++++++++++++++++++++++++++++++++++++----
 1 files changed, 39 insertions(+), 4 deletions(-)

commit 9bdde1a3553ba56954ba0a19fefebcff1e0549ff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 18 17:37:15 2009 +0000

    add 'resume-supported' property to FT channel

 src/ft-channel.c |   21 ++++++++++++++++++++-
 src/ft-channel.h |    2 +-
 src/ft-manager.c |    8 +++++---
 3 files changed, 26 insertions(+), 5 deletions(-)

commit f929a3b462efd82b1ab23de30f479c8456da1b7b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 18 17:35:59 2009 +0000

    fix indent

 src/ft-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ac2eb6abb3f5569c761e0682abb51aba711f821a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Apr 14 12:10:31 2009 +0100

    upgrade NEWS

 NEWS |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 2b92db1a843f3da06067866ffa99c66848a22d63
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 24 13:08:55 2009 +0000

    add test-caps-file-transfer.py to tests suite

 tests/twisted/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 0f8e4dd916251268a994bea8f0560f946859948d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 24 13:08:48 2009 +0000

    add test-caps-file-transfer.py

 .../file-transfer/test-caps-file-transfer.py       |  137 ++++++++++++++++++++
 1 files changed, 137 insertions(+), 0 deletions(-)

commit 3964c00804ac43a30f25a479b1645e38a216e053
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 24 13:07:53 2009 +0000

    test-caps-tubes.py: FT is now announced too

 tests/twisted/test-caps-tubes.py |   17 +++++++++++------
 1 files changed, 11 insertions(+), 6 deletions(-)

commit 6e02ca91e435ca744b7e8fe0d0f3472c12a7b640
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 24 13:00:11 2009 +0000

    caps_helper.py: add ft_{fixed,allowed}_properties

 tests/twisted/caps_helper.py |   15 +++++++++++++++
 1 files changed, 15 insertions(+), 0 deletions(-)

commit 9c50eef3f80da52bb80f7b891f476d4bddc833fa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 24 12:00:54 2009 +0000

    ft-manager: implement ContactCapability

 src/ft-manager.c |  131 +++++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 130 insertions(+), 1 deletions(-)

commit f9537587acd3e58ce7f231dc4dbca6e03ab5f884
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Apr 14 12:04:33 2009 +0100

    start NEWS for 0.7.27

 NEWS |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 2b2c43614dd7abf44a8cdada06a7fb80ddee0337
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 13 12:32:05 2009 +0100

    pass an empty array as fallback-socks5-proxies in tests
    
    This is to avoid flooding debug output with lot of IQ stanzas (b.fd.o

 tests/twisted/gabbletest.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 4a5502a33c31459aeb99ba366c3228f0852256a7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Apr 10 15:29:04 2009 +0100

    Test removing self-handle before Google relays arrive

 tests/twisted/jingle/google-relay.py |   30 ++++++++++++++++++++++--------
 1 files changed, 22 insertions(+), 8 deletions(-)

commit 824ccc0e21566697c64dc6935366be19990bb8ae
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Apr 10 15:27:44 2009 +0100

    Simplify gabble_media_channel_remove_member
    
    Fixes fd.o#20578 (Can't cancel outgoing calls by removing self-handle
    until streaming implementation has called Ready).

 src/media-channel.c |   36 +++++++++++++++++++++---------------
 1 files changed, 21 insertions(+), 15 deletions(-)

commit 040c0cc42eaad1fc6fc1e2e2fbf26708bf4c6127
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Apr 10 15:26:11 2009 +0100

    Unrace jingle/test-outgoing-call-requestotron.py

 .../jingle/test-outgoing-call-requestotron.py      |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit 39d472edad2a8efab3fc60b58d7bce2da810dd43
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Apr 10 15:22:53 2009 +0100

    Unrace jingle/google-relay.py

 tests/twisted/jingle/google-relay.py |   13 +++++++------
 1 files changed, 7 insertions(+), 6 deletions(-)

commit 1c6e465b60078412cd5dba6751a99c98c9227f3d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Apr 10 13:00:57 2009 +0100

    Improve group checks in Create(StreamedMedia) test

 .../jingle/test-outgoing-call-requestotron.py      |   31 ++++++++++++++++----
 1 files changed, 25 insertions(+), 6 deletions(-)

commit 7dfe0c79e1f6c1016679d7a263bd47aeeef8c464
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 9 19:41:01 2009 +0100

    Remove most group flags from media channels
    
    Removing the peer (to rescind the invitation or end the call) is wrong;
    you should be closing the channel or removing yourself. As a result,
    almost all the flag changes can go away, with the exception of having
    CanAdd around until AddMembers/RequestStreams is called if a client is
    using the request-anonymous-channel calling pattern.

 src/media-channel.c |   50 +++++++++++++++-----------------------------------
 1 files changed, 15 insertions(+), 35 deletions(-)

commit b37cd150378a820e095ce309a716220ac7b7676a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 9 19:31:23 2009 +0100

    Allow self-removal from media channels.
    
    This actually already worked in most cases, because the Can_Remove flag
    is (erroneously) set.

 src/media-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 3238184b84570e7012af9b3de86a25f5fae2bc05
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 9 19:06:40 2009 +0100

    assertEquals etc.-ify test-outgoing-call-requestotron

 .../jingle/test-outgoing-call-requestotron.py      |  120 +++++++++----------
 tests/twisted/servicetest.py                       |    3 +
 2 files changed, 60 insertions(+), 63 deletions(-)

commit 686b28c94c7e65ee90fc40916ea0fe13f2db57a6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 9 18:46:06 2009 +0100

    Simplify gabble_media_channel_close

 src/media-channel.c |   22 +++++++---------------
 1 files changed, 7 insertions(+), 15 deletions(-)

commit 5b75bb49882110799a3ce67879ee72e549f6d14c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 9 18:41:40 2009 +0100

    Correct comment on gabble_media_channel_close_async

 src/media-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 874669086144ec1c6fe0ae9c3e49879b9c3a3994
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 9 18:41:31 2009 +0100

    Don't export gabble_media_channel_close

 src/media-channel.c |    3 ++-
 src/media-channel.h |    2 --
 2 files changed, 2 insertions(+), 3 deletions(-)

commit c63c2d50cb958a40c442a94eb4dc9ed3168e42d4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 9 18:39:16 2009 +0100

    MediaChannel: delete phantom function prototypes

 src/media-channel.h |   17 -----------------
 1 files changed, 0 insertions(+), 17 deletions(-)

commit a6c87d6a4d127d6c89b97a69acbc9c11e17e08e7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 9 18:35:33 2009 +0100

    MediaChannel: Use tp_intset_new_containing

 src/media-channel.c |   28 ++++++----------------------
 1 files changed, 6 insertions(+), 22 deletions(-)

commit d76df8bdae161201765af455f25299cc6b741fed
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 9 18:30:06 2009 +0100

    Clarify what adding peer means.

 src/media-channel.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit dc0a6d772cb9c7d517cef38fe58bb9afd8d8ad69
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 9 18:28:06 2009 +0100

    Don't export gabble_media_channel_add_member

 src/media-channel.c |   16 ++++++++++------
 src/media-channel.h |    6 ------
 2 files changed, 10 insertions(+), 12 deletions(-)

commit 41ab4315d271b2b925d8a82dc068010bf6d5a57b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 9 18:25:57 2009 +0100

    Refactor adding Jingle peer to remote-pending early

 src/media-channel.c |   59 ++++++++++++++++++++++++++++++++++++++------------
 src/media-factory.c |   25 +++++++-------------
 2 files changed, 54 insertions(+), 30 deletions(-)

commit 16bef8088acfb1b7a6b7bc662c85e1ea5ee69ff3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 9 13:12:39 2009 +0100

    Include a priv pointer in GabbleMediaFactory

 src/media-factory.c |   30 ++++++++++++++----------------
 src/media-factory.h |    3 +++
 2 files changed, 17 insertions(+), 16 deletions(-)

commit 021a26139d501c3e95bc00b58281e3557cff5846
Merge: 7758580 0f6d90b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 9 13:19:54 2009 +0100

    Merge commit 'daf/tests'
    
    Conflicts:
    	tests/twisted/constants.py
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit 0f6d90b775dc0b999ec219b777bad437427a37ca
Author: Dafydd Harries <daf@rhydd.org>
Date:   Wed Apr 8 22:17:29 2009 +0100

    make jingle/test-outgoing-call.py use assertion helpers

 tests/twisted/jingle/test-outgoing-call.py |  123 +++++++++++++---------------
 1 files changed, 56 insertions(+), 67 deletions(-)

commit e693d1780fe6bad298765ba3bd29efde941ddbb1
Author: Dafydd Harries <daf@rhydd.org>
Date:   Wed Apr 8 22:16:57 2009 +0100

    add assertion helpers to servicetest.py

 tests/twisted/servicetest.py |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit c2dd22aa36747ee4c122c97f09a6d2e495221fcd
Author: Dafydd Harries <daf@rhydd.org>
Date:   Wed Apr 8 19:00:49 2009 +0100

    make more use of constants.py in tests
    
    Also other small cleanups.

 tests/twisted/constants.py                         |   14 +++-
 tests/twisted/jingle/google-relay.py               |   18 ++---
 tests/twisted/jingle/hold-audio.py                 |    1 -
 tests/twisted/jingle/hold-av.py                    |    1 -
 tests/twisted/jingle/payload-types.py              |    6 +-
 tests/twisted/jingle/stun-server.py                |    3 +-
 .../twisted/jingle/test-content-adding-removal.py  |    6 +-
 tests/twisted/jingle/test-content-complex.py       |    2 +-
 tests/twisted/jingle/test-dialects-outgoing.py     |    6 +-
 tests/twisted/jingle/test-incoming-call.py         |    7 +-
 .../jingle/test-outgoing-call-deprecated.py        |    9 +--
 .../jingle/test-outgoing-call-deprecated2.py       |    8 +--
 tests/twisted/jingle/test-outgoing-call-ensure.py  |   78 ++++++++------------
 .../jingle/test-outgoing-call-requestotron.py      |   50 +++++--------
 tests/twisted/jingle/test-outgoing-call.py         |   49 +++++--------
 tests/twisted/muc/send-error.py                    |    6 +-
 tests/twisted/muc/test-ensure.py                   |   29 +++----
 tests/twisted/muc/test-muc-invitation.py           |    9 +-
 tests/twisted/muc/test-muc-ownership.py            |   34 +++-----
 tests/twisted/muc/test-muc-properties.py           |    4 +-
 tests/twisted/muc/test-muc.py                      |   31 +++-----
 tests/twisted/olpc/gadget-invite.py                |    7 +-
 tests/twisted/olpc/gadget-restarted.py             |    3 +-
 tests/twisted/olpc/olpc-activity-search.py         |   29 +++----
 tests/twisted/olpc/olpc-buddy-search.py            |   19 ++---
 tests/twisted/olpc/olpc-muc-invitation.py          |    9 +-
 tests/twisted/olpc/olpc-muc-prop-change.py         |    7 +-
 tests/twisted/olpc/util.py                         |    7 +-
 tests/twisted/olpc/view-presence.py                |    5 +-
 tests/twisted/roster/ensure.py                     |   26 +++----
 tests/twisted/roster/groups-12791.py               |   24 ++----
 tests/twisted/roster/groups.py                     |   27 +++----
 tests/twisted/roster/request-group-after-roster.py |   20 ++---
 .../twisted/roster/request-group-before-roster.py  |   12 +--
 tests/twisted/roster/test-google-roster.py         |    6 +-
 tests/twisted/roster/test-roster-item-deletion.py  |    7 +-
 tests/twisted/roster/test-roster-subscribe.py      |    6 +-
 tests/twisted/roster/test-roster.py                |   25 +++----
 tests/twisted/roster/test-save-alias-to-roster.py  |    6 +-
 tests/twisted/test-capabilities.py                 |   33 ++++----
 tests/twisted/test-caps-cache.py                   |    9 +--
 tests/twisted/test-caps-hash.py                    |   21 ++---
 tests/twisted/text/destroy.py                      |   45 ++++-------
 tests/twisted/text/ensure.py                       |   62 ++++++----------
 tests/twisted/text/initiate-requestotron.py        |   53 +++++---------
 tests/twisted/text/initiate.py                     |   18 ++---
 tests/twisted/text/respawn.py                      |   57 ++++++---------
 tests/twisted/text/send-error.py                   |   40 +++-------
 tests/twisted/text/test-chat-state.py              |   18 ++---
 tests/twisted/text/test-text-delayed.py            |    8 +-
 tests/twisted/text/test-text-no-body.py            |    6 +-
 tests/twisted/text/test-text.py                    |   17 ++--
 tests/twisted/tubes/close-muc-with-closed-tube.py  |   23 +++---
 tests/twisted/tubes/crash-on-list-channels.py      |    9 +-
 .../twisted/tubes/create-invalid-tube-channels.py  |    7 +-
 tests/twisted/tubes/ensure-si-tube.py              |   29 +++----
 tests/twisted/tubes/request-invalid-dbus-tube.py   |    2 +-
 tests/twisted/tubes/test-get-available-tubes.py    |    6 +-
 58 files changed, 443 insertions(+), 636 deletions(-)

commit 7758580abd368aee4832c12d3fe33e923a06d289
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 8 18:57:50 2009 +0100

    Bump nano version to 0.7.26.1

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 073e5f8dbfe7a0db57ab8022265c422a8cecc9b4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 8 17:36:13 2009 +0100

    version 0.7.26

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 4eeecb22430e1d0de98e9b81a0fad3cea24a1094
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 8 17:32:38 2009 +0100

    Whoops, add some missing news for 0.7.25

 NEWS |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 1f684d8f2de1937ec4674b428479b1b0731019d4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 8 17:27:34 2009 +0100

    NEWS for 0.7.26

 NEWS |   15 ++++++++++++++-
 1 files changed, 14 insertions(+), 1 deletions(-)

commit 894ca021989a3c19008f33435e71976384541832
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 8 18:09:16 2009 +0100

    Compile without ENABLE_DEBUG

 src/media-channel.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit a408ab3567022b0499bad33430bd6258e015c3af
Merge: 5dddb9a 9b35271
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 8 18:10:12 2009 +0100

    Merge commit 'smcv/spec22-avatars'
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit 9b352718f7d11d3632248b21d3995d82d711b4fa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 8 17:41:47 2009 +0100

    tests/twisted/avatar-requirements.py: new test for avatar requirements

 tests/twisted/Makefile.am            |    1 +
 tests/twisted/avatar-requirements.py |   47 ++++++++++++++++++++++++++++++++++
 tests/twisted/constants.py           |    1 +
 3 files changed, 49 insertions(+), 0 deletions(-)

commit 5dddb9afc9466631c5a47f09d3742f40bb1ec4ba
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 8 17:05:25 2009 +0100

    import constants as cs rather than importing 6 symbols

 tests/twisted/test-register.py |   23 ++++++++++-------------
 1 files changed, 10 insertions(+), 13 deletions(-)

commit 1652bde76766ab301a8a804c1691ce6d325a4b62
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 8 16:34:58 2009 +0100

    Conflict maps to NotYours during registration

 src/connection.c |    2 +-
 src/register.c   |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 9576e084c67f57f29fcc09728503233598efab33
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 8 16:30:34 2009 +0100

    FIXME: we don't obey a MUST when registering

 src/register.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 6d49566a7fbe909caea56bb7e89ceb9f3766117d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 8 16:29:51 2009 +0100

    Test various ways registration can fail

 tests/twisted/test-register.py |  130 +++++++++++++++++++++++++++++++++++++---
 1 files changed, 122 insertions(+), 8 deletions(-)

commit 9ce1aa16f01e510f70a8e3f839c30517851bac3f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 8 16:29:24 2009 +0100

    Add jabber:{x:oob,iq:register} to ns.py

 tests/twisted/ns.py |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 353e6c8f7893101406662bf6a003dd3550a08309
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 8 16:28:53 2009 +0100

    Make send_error_reply take an <error/> stanza

 tests/twisted/gabbletest.py |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit f1dc8c6b89b61d4cf775000465ff935196c6c044
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 8 16:28:20 2009 +0100

    Add Connection Status and Reasons to constants

 tests/twisted/constants.py |   19 +++++++++++++++++++
 1 files changed, 19 insertions(+), 0 deletions(-)

commit ff9658cab958b25b6230834355d1aeb688140ea1
Author: Dafydd Harries <daf@rhydd.org>
Date:   Wed Apr 8 12:09:13 2009 +0100

    clean up pyflakes warnings in tests

 tests/twisted/bytestream.py                        |    3 +-
 tests/twisted/connect/test-nonblocking-tls.py      |    8 +-
 tests/twisted/connect/test-twice.py                |   10 +--
 .../twisted/file-transfer/file_transfer_helper.py  |   16 ++--
 ...eceive-file-and-close-socket-while-receiving.py |    1 -
 .../test-receive-file-and-disconnect.py            |    1 -
 tests/twisted/gabbletest.py                        |    1 -
 tests/twisted/jingle/call-state.py                 |    6 +-
 tests/twisted/jingle/google-relay.py               |    1 -
 tests/twisted/jingle/hold-audio.py                 |    1 -
 tests/twisted/jingle/hold-av.py                    |    8 +--
 tests/twisted/jingle/jingletest2.py                |   12 ++--
 tests/twisted/jingle/outgoing-many-streams.py      |   13 ++--
 tests/twisted/jingle/payload-types.py              |   13 +--
 tests/twisted/jingle/stream-handler-error.py       |    2 +-
 tests/twisted/jingle/stun-server.py                |   27 +++---
 .../twisted/jingle/test-content-adding-removal.py  |   35 +++----
 tests/twisted/jingle/test-content-complex.py       |   11 +--
 tests/twisted/jingle/test-description-info.py      |   15 ++--
 tests/twisted/jingle/test-dialects-incoming.py     |   12 +--
 tests/twisted/jingle/test-dialects-outgoing.py     |    9 +--
 tests/twisted/jingle/test-incoming-call.py         |   12 +--
 .../jingle/test-outgoing-call-deprecated.py        |    5 +-
 .../jingle/test-outgoing-call-deprecated2.py       |    9 +-
 tests/twisted/jingle/test-outgoing-call-ensure.py  |   13 +--
 .../twisted/jingle/test-outgoing-call-rejected.py  |    3 +-
 .../jingle/test-outgoing-call-requestotron.py      |   12 +--
 tests/twisted/jingle/test-outgoing-call.py         |   13 +--
 tests/twisted/presence/presence.py                 |    4 +-
 tests/twisted/roster/ensure.py                     |   18 ++---
 tests/twisted/roster/request-group-after-roster.py |   13 +--
 .../twisted/roster/request-group-before-roster.py  |    2 -
 tests/twisted/roster/test-google-roster.py         |    5 +-
 tests/twisted/roster/test-roster-item-deletion.py  |    2 +-
 tests/twisted/test-capabilities.py                 |    2 -
 tests/twisted/test-caps-cache.py                   |    5 +-
 tests/twisted/test-caps-hash.py                    |    3 +-
 tests/twisted/test-disco-no-reply.py               |    2 -
 tests/twisted/test-location.py                     |    2 +-
 tests/twisted/text/ensure.py                       |    2 -
 tests/twisted/text/initiate-requestotron.py        |    2 -
 tests/twisted/text/send-error.py                   |    2 -
 tests/twisted/text/test-chat-state.py              |    2 -
 tests/twisted/text/test-text-delayed.py            |    4 +-
 tests/twisted/tubes/accept-muc-dbus-tube.py        |    2 +-
 tests/twisted/tubes/accept-muc-stream-tube.py      |    2 +-
 tests/twisted/tubes/close-muc-with-closed-tube.py  |   13 +--
 tests/twisted/tubes/crash-on-list-channels.py      |    6 +-
 .../twisted/tubes/create-invalid-tube-channels.py  |   23 +++---
 tests/twisted/tubes/ensure-si-tube.py              |   13 +---
 tests/twisted/tubes/muctubeutil.py                 |    4 +-
 tests/twisted/tubes/offer-muc-dbus-tube.py         |   92 ++++++++++----------
 tests/twisted/tubes/offer-muc-stream-tube.py       |    2 +-
 tests/twisted/tubes/offer-private-stream-tube.py   |    2 +-
 tests/twisted/tubes/request-invalid-dbus-tube.py   |   12 ++--
 tests/twisted/tubes/test-get-available-tubes.py    |    6 +-
 tests/twisted/tubes/tubetestutil.py                |   96 +++++++++++---------
 tests/twisted/vcard/test-avatar-retrieved.py       |    1 -
 tests/twisted/vcard/test-save-alias-to-vcard.py    |    6 +-
 tests/twisted/vcard/test-vcard-race.py             |    8 +-
 60 files changed, 262 insertions(+), 368 deletions(-)

commit 26a438f8b098b9392772fefc690793d020828952
Merge: c09bd7d f814631
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 7 18:52:18 2009 +0100

    Merge branch 'jingle-peer-offline-error'
    
    Reviewed-by: Dafydd Harries <dafydd.harries@collabora.co.uk>

commit f814631fc3819782025ebde6140270520fc1ee1c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 7 18:37:03 2009 +0100

    Include peer's handle in debug message

 src/media-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7a85e547c8dcfc48ecc1096719776583899d3fbe
Author: Dafydd Harries <daf@rhydd.org>
Date:   Tue Apr 7 17:21:48 2009 +0100

    add HT_CONTACT_LIST and HT_GROUP to constants.py

 tests/twisted/constants.py |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 9db4997d8fd079000cdb9ab989428455f763207b
Author: Dafydd Harries <daf@rhydd.org>
Date:   Tue Apr 7 17:15:26 2009 +0100

    port test-content-complex.py to test_dialects()

 tests/twisted/jingle/test-content-complex.py |   13 +++----------
 1 files changed, 3 insertions(+), 10 deletions(-)

commit 912afa72573a6ae50a510c3f8014600123d8f79f
Author: Dafydd Harries <daf@rhydd.org>
Date:   Tue Apr 7 17:14:45 2009 +0100

    port tests to test_all_dialects()

 tests/twisted/jingle/test-dialects-incoming.py |   14 +-------------
 tests/twisted/jingle/test-dialects-outgoing.py |   18 ++----------------
 2 files changed, 3 insertions(+), 29 deletions(-)

commit 1d983e7554d9b44d767b3eed06f49b209af5441e
Author: Dafydd Harries <daf@rhydd.org>
Date:   Tue Apr 7 17:13:17 2009 +0100

    factor test_dialects() out of test_all_dialects()

 tests/twisted/jingle/jingletest2.py |   23 ++++++++---------------
 1 files changed, 8 insertions(+), 15 deletions(-)

commit 599b6d8fd931ccd8c171139b0e7d3436ac87361a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 7 16:40:29 2009 +0100

    Make contact_is_media_capable check presence_cache_is_sure
    
    Every place calling the former that passed wait also called the latter.

 src/media-channel.c |   28 +++++++++++-----------------
 1 files changed, 11 insertions(+), 17 deletions(-)

commit cc7b3b6362238604f2da3d36f028fe0a963b233f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 7 16:33:49 2009 +0100

    Use .NotCapable/.Offline when Jingle peer lacks caps

 src/media-channel.c |   47 ++++++++++++++++++++++++-----------------------
 1 files changed, 24 insertions(+), 23 deletions(-)

commit bf876652a3252d136b61e474a0664a3d8c841cca
Author: Dafydd Harries <daf@rhydd.org>
Date:   Tue Apr 7 15:37:57 2009 +0100

    s/_CAPA/_CAPS/ for taste purposes

 tests/twisted/constants.py       |    2 +-
 tests/twisted/test-caps-tubes.py |   60 +++++++++++++++++++-------------------
 2 files changed, 31 insertions(+), 31 deletions(-)

commit c09bd7d88537acc053e219fc23073df80e6ab551
Merge: 0e3ba89 c05a2d2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 7 13:00:27 2009 +0100

    Merge branch 'hold-notification'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 0e3ba898387b0881cdbff42c852516c3ca9461d2
Merge: 9af0ab0 c49d75d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 7 13:00:10 2009 +0100

    Merge branch 'port-hold-tests-to-jingletest2'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 9af0ab0a5824214c87a2faa4c164710417073b84
Merge: 6ecdf96 9fb9d31
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 7 12:59:51 2009 +0100

    Merge branch 'forbid-events'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 9fb9d31e2605650c22d4ab9b73a38acd8d00aa5e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Apr 7 12:39:46 2009 +0100

    Add docstrings to [un]forbid_events
    
    These clarify that you must pass the same EventPattern instance to
    unforbid_events that you passed to forbid_events

 tests/twisted/servicetest.py |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit 6ecdf96ebe6c01d5f1d0b70ca7cd8d19042e2b87
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 3 18:32:32 2009 +0100

    fix typo in NEWS

 NEWS |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b71d4429682800414ee764046337a9a2e503f9cd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 3 18:32:17 2009 +0100

    start dev of 0.7.26

 NEWS         |    3 +++
 configure.ac |    2 +-
 2 files changed, 4 insertions(+), 1 deletions(-)

commit 7dcefeb6693049250d84214f32097af08f2aa116
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 3 18:20:42 2009 +0100

    version 0.7.25

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 5bc242785cc34830e172d9d13c9f9c609e17c41c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 3 18:19:52 2009 +0100

    prepare NEWS for 0.7.25 release

 NEWS |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit e2fd26d7a7f81e6ea3679539d6effaa926ea9453
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 3 18:23:07 2009 +0100

    pass tar-ustar to AM_INIT_AUTOMAKE so distcheck doesn't cry about long filenames

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8ea8d348e3b195847165fb46ec99e892a00ddeca
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 3 17:04:02 2009 +0100

    run FT tests with BytestreamS5BRelay and BytestreamS5BRelayBugged

 .../twisted/file-transfer/file_transfer_helper.py  |   15 ++++++++++-----
 1 files changed, 10 insertions(+), 5 deletions(-)

commit dad0018a61ba0a58d1990d7cbcba3390464c420a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 3 16:53:12 2009 +0100

    BytestreamS5BRelay.wait_bytestream_closed: wait for events if needed

 tests/twisted/bytestream.py |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit 1e397a2b114a16bb8d1d7195e51eaf272dc2abc2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 3 15:29:00 2009 +0100

    file_transfer_helper: break race when calling bytestream.wait_bytestream_closed()

 .../twisted/file-transfer/file_transfer_helper.py  |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)

commit c5c9e38f3b5e663c579721eb7b51a7373774369a
Merge: 56c4721 566c5f9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 3 16:47:13 2009 +0100

    Merge branch 'file-transfer+news' into file-transfer

commit 56c4721f5bdc5097385194b5f054c5cc698a73c3
Merge: e1a691a cc3bcab
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 3 16:47:07 2009 +0100

    Merge branch 'master' into file-transfer
    
    Conflicts:
    	tests/twisted/constants.py

commit cc3bcab9323097cc5d3565dd22e6deab8807a63d
Merge: 3eb9cbe 2b55a38
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 3 16:34:27 2009 +0100

    Merge branch 'socks5+relay'

commit 2b55a38ea62d4d08b029ece1594e23658d885b99
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 3 16:07:13 2009 +0100

    upgrade NEWS

 NEWS |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 6ee634a3115db575bcb7da6020edaa72ad110e1d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 3 16:05:47 2009 +0100

    dump tp-glib dep to 0.7.29

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 566c5f993253d18ad2e689d599f6c3043abec897
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 3 15:42:23 2009 +0100

    warn empathy users about the FT crash with old versions

 NEWS |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 3eb9cbed64492c99182f50565b3023f2bd7d21ae
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 3 15:27:11 2009 +0100

    bytestream.py: wait_bytestream_closed can take a list of events as optionnal arg

 tests/twisted/bytestream.py |   18 +++++++++++-------
 1 files changed, 11 insertions(+), 7 deletions(-)

commit e1a691aca32bfc8c342c251d910f4e66a6b52d5d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 17 11:42:00 2009 +0000

    TP_SOCKET_ADDRESS_TYPE_UNIX address is supposed to be an 'ay' not a string

 src/ft-channel.c                                   |   16 +++++++++++-----
 .../twisted/file-transfer/file_transfer_helper.py  |    6 ++++--
 2 files changed, 15 insertions(+), 7 deletions(-)

commit 422bf22ac021fc7d94a1dc21bd2cc95948ef72f9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 17 11:29:06 2009 +0000

    we only support TP_SOCKET_ACCESS_CONTROL_LOCALHOST with inet sockets atm

 src/ft-channel.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit e37a6a224467d539be16efc44b33c920a82464ab
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 17 11:27:09 2009 +0000

    remove fixed FIXME

 src/ft-channel.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 7619f58f291891402c498e12bf3c511d6471bd1b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 17 11:22:46 2009 +0000

    add IPv6 sockets support

 src/ft-channel.c                                   |   32 ++++++++++++++++++++
 .../twisted/file-transfer/file_transfer_helper.py  |   11 +++++--
 2 files changed, 40 insertions(+), 3 deletions(-)

commit 74f4f6546758026ae6a40d50c4a10d0c22d168ef
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 17 11:15:02 2009 +0000

    run FT tests using SOCKET_ADDRESS_TYPE_IPV4 too

 .../twisted/file-transfer/file_transfer_helper.py  |    5 ++++-
 ...eceive-file-and-close-socket-while-receiving.py |    2 +-
 2 files changed, 5 insertions(+), 2 deletions(-)

commit 3a26af0821da1a5c33e7c37192c2f07f1e0ac5f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 17 11:14:19 2009 +0000

    setup_local_socket: implement TP_SOCKET_ADDRESS_TYPE_IPV4

 src/ft-channel.c |   25 +++++++++++++++++++++++++
 1 files changed, 25 insertions(+), 0 deletions(-)

commit bb9fd71dc06ac39b461b4109e341fe7cd4172c76
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 17 11:13:05 2009 +0000

    test-receive-file-and-disconnect.py: use self.create_socket()

 .../test-receive-file-and-disconnect.py            |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f918cd89d911c5acb6f68c927c1731a5920c2832
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 17 11:04:48 2009 +0000

    replace priv->socket_path by a GValue priv->socket_address so we can store different kind of address

 src/ft-channel.c |   80 +++++++++++++++++++++++++++--------------------------
 1 files changed, 41 insertions(+), 39 deletions(-)

commit 0352dd1a04ed408626f48e2a31e3405775f4b55d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 17 10:55:10 2009 +0000

    add address type and access control args to setup_local_socket

 src/ft-channel.c |   46 +++++++++++++++++++++++++++++++++-------------
 1 files changed, 33 insertions(+), 13 deletions(-)

commit 39c425b9812624c720a360a642924746e513b600
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 17 10:42:33 2009 +0000

    add SOCKET_ADDRESS_TYPE_IPV4 to AvailableSocketTypes

 src/ft-channel.c                                   |   18 +++++++++++++-----
 .../twisted/file-transfer/file_transfer_helper.py  |    8 ++++++--
 2 files changed, 19 insertions(+), 7 deletions(-)

commit 3b9356a38553324f6c10e16e030b5f762cb8303b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 17 10:37:35 2009 +0000

    add self.create_socket()

 .../twisted/file-transfer/file_transfer_helper.py  |   10 ++++++++--
 1 files changed, 8 insertions(+), 2 deletions(-)

commit 1c7b7fea9abe17f2ddafb86c839af2362faa4bfd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 17 10:34:21 2009 +0000

    add address_type, access_control and access_control_param args to FT tests

 .../twisted/file-transfer/file_transfer_helper.py  |   27 +++++++++++--------
 .../test-send-file-to-unknown-contact.py           |    4 +-
 .../test-send-file-wait-to-provide.py              |    4 +-
 3 files changed, 20 insertions(+), 15 deletions(-)

commit 1fb108e36ad5c21bf136d24c5e24c006b9f2b107
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 3 12:56:57 2009 +0100

    upgrade NEWS

 NEWS |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 6a7bf602bc8bc866e765faa13d37e53e0011f0aa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 3 12:51:01 2009 +0100

    gabble_ft_manager_handle_si_request: initialize the struct tm
    
    Thanks strptime...

 src/ft-manager.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit af0d17219daf6b30dd1177ad9e21a76c83e70858
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 2 18:41:28 2009 +0100

    don't explode if mkdtemp failed

 src/ft-channel.c |   10 ++++++++--
 src/ft-manager.c |    2 +-
 2 files changed, 9 insertions(+), 3 deletions(-)

commit 110ace5e337f54beaeee9748dd60daa48e3a2889
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 2 18:18:10 2009 +0100

    Remove trailing \s from C code.
    
    This isn't Python!

 src/ft-channel.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit 52b07d04008d265d776981fe8b15a4333a5409df
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Mar 25 10:47:17 2009 +0000

    Remove Salut references from FT tests

 .../twisted/file-transfer/file_transfer_helper.py  |    4 ++--
 ...eceive-file-and-close-socket-while-receiving.py |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit c05a2d294fa2fa585f32ec23e42cddd3367bfca6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 2 15:49:24 2009 +0100

    Support name="" on <active/> and <mute/>

 src/jingle-media-rtp.c              |   23 +++++++--
 tests/twisted/jingle/call-state.py  |  102 ++++++++++++++++++++++++++++++++---
 tests/twisted/jingle/jingletest2.py |   25 +++++++++
 3 files changed, 139 insertions(+), 11 deletions(-)

commit 17d6c6f8dd77e77766329b7ee8ac47829fb9d4dc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 2 15:43:14 2009 +0100

    Add gabble_jingle_content_get_name

 src/jingle-content.c |    6 ++++++
 src/jingle-content.h |    2 ++
 2 files changed, 8 insertions(+), 0 deletions(-)

commit 174f2fbc40e001632b12730691044caf42c8cf0e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 2 12:23:57 2009 +0100

    Allow session-info before the session is active.
    
    Else, <ringing/> notifications would be rejected.

 src/jingle-session.c               |    9 ++++++---
 tests/twisted/jingle/call-state.py |   21 +++++++++++++++++++++
 2 files changed, 27 insertions(+), 3 deletions(-)

commit 6aa2df4a5e0de21152e7e9bc45ed724d720b64fc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 1 19:23:35 2009 +0100

    Add a test for call states.

 tests/twisted/Makefile.am          |    1 +
 tests/twisted/constants.py         |    6 ++
 tests/twisted/gabbletest.py        |    1 +
 tests/twisted/jingle/call-state.py |  138 ++++++++++++++++++++++++++++++++++++
 4 files changed, 146 insertions(+), 0 deletions(-)

commit 92e24feb93904f255d64ac4c6946a214835ed1a8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 1 19:51:41 2009 +0100

    Our CallState implementation is no longer a stub

 src/media-channel.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit c49d75d6ca37429941f40b3caa6e69a49b24b433
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Mar 28 10:28:41 2009 +0000

    Port jingle/hold-av.py to JingleTest2
    
    For GTalk, it just checks that asking for a video stream fails, and then
    ends.

 tests/twisted/jingle/hold-av.py     |  140 ++++++++++++++---------------------
 tests/twisted/jingle/jingletest2.py |   38 ++++++++--
 2 files changed, 88 insertions(+), 90 deletions(-)

commit 5d848b0db4f4a4c156ef9050233e7563502953cb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Mar 31 12:49:42 2009 +0100

    Add q.[un]forbid_events()

 tests/twisted/servicetest.py |   19 +++++++++++++++++++
 1 files changed, 19 insertions(+), 0 deletions(-)

commit d370b2ce967f4dfea32dd49ea223d3e4a046518a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 1 19:14:18 2009 +0100

    Implement GetCallStates()

 src/media-channel.c |   12 +++++++++---
 1 files changed, 9 insertions(+), 3 deletions(-)

commit 88c08578922c1d536cecc73944a3b3c342d4540c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Mar 27 18:07:17 2009 +0000

    Rename supports_termination_reason to is_modern_jingle

 tests/twisted/jingle/jingletest2.py                |    6 +++---
 tests/twisted/jingle/test-incoming-call-reject.py  |    2 +-
 .../twisted/jingle/test-outgoing-call-rejected.py  |    2 +-
 3 files changed, 5 insertions(+), 5 deletions(-)

commit afcb90bae0a34c393a78abbd2225b04d55cd272a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 1 19:09:39 2009 +0100

    Emit CallStateChanged when "most held" state changes

 src/media-channel.c |   93 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/media-stream.c  |    9 +++++
 src/media-stream.h  |    2 +
 3 files changed, 104 insertions(+), 0 deletions(-)

commit 9e11bc10ed887687f5e72e26510135cbe28747f1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Mar 27 11:26:51 2009 +0000

    Port jingle/hold-audio.py to JingleTest2

 tests/twisted/constants.py          |    9 +++
 tests/twisted/jingle/hold-audio.py  |  130 ++++++++++++-----------------------
 tests/twisted/jingle/jingletest2.py |   11 +++
 3 files changed, 65 insertions(+), 85 deletions(-)

commit a3da933ca1be890b7629b792822cd79fdf1743df
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 1 19:06:52 2009 +0100

    Emit SetStreamSending when peer [un]holds

 src/media-stream.c |   31 ++++++++++++++++++++++++++++---
 1 files changed, 28 insertions(+), 3 deletions(-)

commit 985818c705c808046cc4de026b510871158326c0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 1 16:42:53 2009 +0100

    Pass session-info payloads down to all contents

 src/jingle-session.c |   46 +++++++++++++++++++++++++++++++++++++++++++---
 1 files changed, 43 insertions(+), 3 deletions(-)

commit 2f91bebb9b1a6363d322f1b95a122352e584a468
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 1 16:29:00 2009 +0100

    Handle call state-related session-info

 src/jingle-media-rtp.c |   72 ++++++++++++++++++++++++++++++++++++++++++++++++
 src/jingle-media-rtp.h |   10 ++++++
 2 files changed, 82 insertions(+), 0 deletions(-)

commit d1f48f90efb6c4c7bf633b91217cb9f452704dc8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Apr 1 16:24:49 2009 +0100

    Add a hook for JingleContents to handle session-info payloads

 src/jingle-content.c |   32 ++++++++++++++++++++++++++++++++
 src/jingle-content.h |   12 ++++++++++++
 2 files changed, 44 insertions(+), 0 deletions(-)

commit 8360daa3de882c337d81626f3014b43f4c692552
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Mar 31 13:09:42 2009 +0100

    Test sending <hold/> and <active/> notifications

 tests/twisted/jingle/hold-audio.py  |   83 +++++++++++++++++++++++++++++++++-
 tests/twisted/jingle/hold-av.py     |   57 +++++++++++++++++++++++-
 tests/twisted/jingle/jingletest2.py |   19 ++++++++
 tests/twisted/ns.py                 |    1 +
 4 files changed, 156 insertions(+), 4 deletions(-)

commit c8fb7dd20a78c6b834d5cd25066a61a8b2f8ba54
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Mar 31 13:00:42 2009 +0100

    Only send <hold/> if the peer thinks they're unheld
    
    We send <hold/> immediately we move to PendingHold, because we don't
    expect holding to fail. We send <unhold/> only when we actually get back
    to Unheld, because reacquiring the audio device etc. might fail.
    
    If RequestHold(False) is called, and then before tpfs reacquires the
    devices RequestHold(True) is called, we haven't yet informed the other
    end that they're unheld, so we shouldn't send another <hold/>.

 src/media-channel.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 4c7fc4cffc325c2c2d9c99bc7da73a47033401fc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Mar 30 18:03:47 2009 +0100

    Notify peer of unhold when all streams are unheld.
    
    Previously it was called only if at least one stream was still held and
    we were moving to either HELD or UNHELD. Whoops.

 src/media-channel.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit e989ba7a61be0c0c81e7a0e702e54c3a6ec18868
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Mar 27 11:28:38 2009 +0000

    Send <hold/> and <active/> to peer on hold/unhold

 src/jingle-session.c |   25 +++++++++++++++++++++++++
 src/jingle-session.h |    2 ++
 src/media-channel.c  |   16 ++--------------
 src/namespaces.h     |    1 +
 4 files changed, 30 insertions(+), 14 deletions(-)

commit cd0d3a25a4f2069d0520c1d1a2e3cb2103deef16
Merge: 05ce1b8 10d392d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Apr 2 17:11:13 2009 +0100

    Merge branch 'dance-into-the-fire'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 10d392d852a853d5790a7840f94ee9da3cb6e236
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Mar 31 19:46:07 2009 +0100

    Don't assert when someone sends a session-info.
    
    Whoops.

 src/jingle-session.c |   13 ++++++++++++-
 1 files changed, 12 insertions(+), 1 deletions(-)

commit 489afac6572d41e3680f1b8dfcb079370b7a2c16
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Mar 31 19:36:49 2009 +0100

    unknown-session is-a item-not-found not bad-request

 src/error.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit be476be30775cd8b927e6a9aad0a28526e25a829
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Mar 31 19:36:32 2009 +0100

    Add tie-break and unsupported-info Jingle errors

 src/error.c |   20 ++++++++++++++++++++
 src/error.h |    2 ++
 2 files changed, 22 insertions(+), 0 deletions(-)

commit bfb5b9de4bafca56db52653d827b9f040f0c1edf
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Mar 31 19:30:04 2009 +0100

    Remove Jingle errors no longer in the Jingle XEP
    
    These were neither sent nor explicitly consumed by Gabble; the only
    impact is that some debugging messages might be less specific when
    receiving them.

 src/error.c |   20 --------------------
 src/error.h |    2 --
 2 files changed, 0 insertions(+), 22 deletions(-)

commit 2e4c57f4463f13e6e789f7676646b84d54286a2b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Mar 31 19:18:22 2009 +0100

    Correct indentation and style of jingle_state_machine_dance

 src/jingle-session.c |   18 ++++++++++--------
 1 files changed, 10 insertions(+), 8 deletions(-)

commit 05ce1b89914d0ebf69febf1ad849961b911317dc
Merge: c5d2a11 80664d4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Mar 31 18:05:28 2009 +0100

    Merge branch 'tests'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>
    Reviewed-by: Dafydd Harries <dafydd.harries@collabora.co.uk>

commit 80664d4e3d7c4ce5e8d7c08aba30dd856aec6fa6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Mar 31 18:00:17 2009 +0100

    Use request_muc_handle in test-muc-properties

 tests/twisted/muc/test-muc-properties.py |   19 +++++--------------
 1 files changed, 5 insertions(+), 14 deletions(-)

commit e2ff16e212852f2be1e83d0abe9e50551f7c68aa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Mar 31 17:56:31 2009 +0100

    Don't expect unobservable MembersChanged signals.
    
    MembersChanged signals fired before RequestChannel has returned or
    NewChannel[s] are emitted are not observable by well-behaved Telepathy
    clients.
    
    This has the side-effect of removing a
        q.expect('dbus-*')
        q.expect('stream-*')
    race from this test.

 tests/twisted/muc/test-muc-properties.py |    6 +-----
 1 files changed, 1 insertions(+), 5 deletions(-)

commit c5d2a119b1174f3c77ef2e630392a9b0fd01b4c5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 31 14:40:34 2009 +0100

    send-error.py: old_received has been replaced by received

 tests/twisted/muc/send-error.py |   10 ++++------
 1 files changed, 4 insertions(+), 6 deletions(-)

commit d4d3266accefc8ca267dc32f184409e9868b3f5f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 31 14:36:36 2009 +0100

    olpc/util.py: raise ValueError instead of PropertyTypeError which actually doesn't exist

 tests/twisted/olpc/util.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 06d4c3319d62a53594cd3a0065fed59b95ca8c65
Author: Dafydd Harries <daf@rhydd.org>
Date:   Tue Mar 31 16:33:43 2009 +0300

    remove v1 test API

 tests/twisted/gabbletest.py  |   72 --------------------
 tests/twisted/servicetest.py |  147 ------------------------------------------
 2 files changed, 0 insertions(+), 219 deletions(-)

commit 2329e42058ebdb69eebb9ee59296372ee84bf594
Author: Dafydd Harries <daf@rhydd.org>
Date:   Tue Mar 31 16:33:20 2009 +0300

    remove unused imports in OLPC tests

 tests/twisted/olpc/change-notifications.py        |    8 ++------
 tests/twisted/olpc/current-activity.py            |    5 +----
 tests/twisted/olpc/gadget-invite.py               |    5 ++---
 tests/twisted/olpc/gadget-publish.py              |    8 ++------
 tests/twisted/olpc/gadget-restarted.py            |    6 ++----
 tests/twisted/olpc/olpc-activity-search.py        |    5 ++---
 tests/twisted/olpc/olpc-buddy-search.py           |    2 +-
 tests/twisted/olpc/olpc-muc-invitation.py         |    2 +-
 tests/twisted/olpc/olpc-muc-prop-change.py        |    2 +-
 tests/twisted/olpc/test-olpc-bundle.py            |    2 +-
 tests/twisted/olpc/test-olpc-set-props-preload.py |    3 +--
 tests/twisted/olpc/util.py                        |    2 +-
 tests/twisted/olpc/view-presence.py               |    6 ++----
 13 files changed, 19 insertions(+), 37 deletions(-)

commit 2e43c827ba858521970307a88ee50d2ce1987440
Author: Dafydd Harries <daf@rhydd.org>
Date:   Tue Mar 31 16:33:02 2009 +0300

    remove unused imports in MUC tests

 tests/twisted/muc/name-conflict.py       |    2 +-
 tests/twisted/muc/renamed.py             |    7 ++-----
 tests/twisted/muc/roomlist.py            |    6 ++----
 tests/twisted/muc/send-error.py          |    2 --
 tests/twisted/muc/test-ensure.py         |    8 ++------
 tests/twisted/muc/test-muc-alias.py      |    4 ----
 tests/twisted/muc/test-muc-invitation.py |    2 +-
 tests/twisted/muc/test-muc-ownership.py  |    6 ++----
 8 files changed, 10 insertions(+), 27 deletions(-)

commit 3b7d38fd9f5f6aae434d6fa222c18cb1ae4091a1
Author: Dafydd Harries <daf@rhydd.org>
Date:   Tue Mar 31 15:32:26 2009 +0300

    test-text.py: take advantage of wrap_channel()

 tests/twisted/text/test-text.py |   21 ++++++++-------------
 1 files changed, 8 insertions(+), 13 deletions(-)

commit f70e5bc56160fc6b91c092392029f7876a941885
Author: Dafydd Harries <daf@rhydd.org>
Date:   Tue Mar 31 15:31:45 2009 +0300

    port test-muc-properties.py to new test API

 tests/twisted/muc/test-muc-properties.py |  143 ++++++++++++------------------
 1 files changed, 55 insertions(+), 88 deletions(-)

commit 44cf435711f79b89ef56889a1eaae9c939650b9a
Author: Dafydd Harries <daf@rhydd.org>
Date:   Fri Mar 27 13:03:19 2009 -0400

    add wrap_channel()

 tests/twisted/servicetest.py |   13 +++++++++++++
 1 files changed, 13 insertions(+), 0 deletions(-)

commit e322fbc96a5dfea28a7474cecfd8eaa295955309
Author: Dafydd Harries <daf@rhydd.org>
Date:   Fri Mar 27 12:53:42 2009 -0400

    factor out connection wrapping

 tests/twisted/servicetest.py |   16 +++++++++-------
 1 files changed, 9 insertions(+), 7 deletions(-)

commit eda9dd8dd26b66fd5a90ed7e8fc408020b1774da
Author: Dafydd Harries <daf@rhydd.org>
Date:   Thu Mar 12 21:55:56 2009 +0200

    add D-Bus/Telepathy properties interfaces to ProxyWrapper

 tests/twisted/servicetest.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit e24b8ec2780d402627257fcd6c06b1492f0d01f9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 31 14:17:10 2009 +0100

    fix leak in gabble_media_stream_new

 src/media-stream.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit ab47eb1428c615192aa7e16dbe87b1c46f1bd8eb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 16:25:24 2009 +0100

    gabble_ft_manager_foreach_channel_class: use new tp_g_value_slice_new_* helpers

 src/ft-manager.c |   11 ++++-------
 1 files changed, 4 insertions(+), 7 deletions(-)

commit 43742a5eedc21597b50992dfd99e1b4b14c51bef
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 16:23:26 2009 +0100

    add a second FT channel class adversting we support MD5 hashes

 src/ft-manager.c                                   |   13 ++++++++++++-
 .../twisted/file-transfer/file_transfer_helper.py  |   13 +++++++++++--
 2 files changed, 23 insertions(+), 3 deletions(-)

commit e7b6832b32c2fa4892fa565150b323d963cc6716
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 15:29:10 2009 +0100

    get_local_unix_socket_path: use the channel path to generate the socket path

 src/ft-channel.c |   23 ++++++++++-------------
 1 files changed, 10 insertions(+), 13 deletions(-)

commit 260c64111c61442a8f6fd606b5091b14898e9b82
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 15:19:32 2009 +0100

    remove temporary directory

 src/ft-manager.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 0549fe9b30f3bb74310618771dd420816d548bc6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 15:16:06 2009 +0100

    gabble_file_transfer_channel_finalize: remove UNIX socket

 src/ft-channel.c |   11 ++++++++++-
 1 files changed, 10 insertions(+), 1 deletions(-)

commit 263d7a8697706b40769a15e8be2448e8ea358422
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 15:09:20 2009 +0100

    get_local_unix_socket_path: use gabble_ft_manager_get_tmp_dir

 src/ft-channel.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 6bafd3095e5478040b335beb27caea6e92086364
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 15:08:51 2009 +0100

    add gabble_ft_manager_get_tmp_dir

 src/ft-manager.c |   23 ++++++++++++++++++++++-
 src/ft-manager.h |    2 ++
 2 files changed, 24 insertions(+), 1 deletions(-)

commit 9cfdc4041df5fbb8fc6f605a20b557f26df5c334
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 14:17:28 2009 +0100

    use gabble_signal_connect_weak when connecting the closed signal on the channel

 src/ft-manager.c |   15 ++++++++-------
 1 files changed, 8 insertions(+), 7 deletions(-)

commit 1a54cff1b389cb835fcfd7e5e7cc03fe386affd3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 13:14:00 2009 +0100

    rename file-transfer-channel.[ch] to ft-channel.[ch]

 src/Makefile.am             |    4 +-
 src/file-transfer-channel.c | 1666 -------------------------------------------
 src/file-transfer-channel.h |   78 --
 src/ft-channel.c            | 1666 +++++++++++++++++++++++++++++++++++++++++++
 src/ft-channel.h            |   78 ++
 src/ft-manager.c            |    2 +-
 6 files changed, 1747 insertions(+), 1747 deletions(-)

commit 450a555f418cd5e81d1f217f0edff037dad4a228
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 13:03:11 2009 +0100

    use FT channel properties constants

 .../twisted/file-transfer/file_transfer_helper.py  |   71 +++++++++-----------
 1 files changed, 33 insertions(+), 38 deletions(-)

commit 086c8656747a1ec2eea22566e19adc7c8b239967
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 12:58:50 2009 +0100

    constants.py: add FileTransfer channel properties

 tests/twisted/constants.py |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit 030966e7988e9d3ef692cc07e826f2a3ccd2a32a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 12:46:15 2009 +0100

    use constants.py in FT tests

 .../twisted/file-transfer/file_transfer_helper.py  |  208 ++++++++------------
 ...eceive-file-and-close-socket-while-receiving.py |    6 +-
 ...ive-file-and-sender-disconnect-while-pending.py |   11 +-
 ...file-and-sender-disconnect-while-transfering.py |    8 +-
 .../file-transfer/test-receive-file-decline.py     |    8 +-
 .../test-send-file-and-cancel-immediately.py       |    8 +-
 .../file-transfer/test-send-file-declined.py       |   10 +-
 .../test-send-file-provide-immediately.py          |   12 +-
 .../test-send-file-to-unknown-contact.py           |    4 +-
 .../test-send-file-wait-to-provide.py              |   17 +-
 10 files changed, 127 insertions(+), 165 deletions(-)

commit ebf3df3e8c1000dcc431fb793465111b19bca0d5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 12:44:20 2009 +0100

    constants.py: add FT related constants

 tests/twisted/constants.py |   20 ++++++++++++++++++++
 1 files changed, 20 insertions(+), 0 deletions(-)

commit 6fb94ff174024d08db5ac1e45fddac5dd28aa5de
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 12:22:41 2009 +0100

    we can't create FT channel using RequestChannel
    
    We can't pass mandatory properties to RequestChannel so there is no
    point to pretend that we support it.

 src/ft-manager.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 23474a965ec6ffdd026f0d1cdf5f50f43d34b6cb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 12:18:48 2009 +0100

    inline file_channel_closed inside file_channel_closed_cb

 src/ft-manager.c |   17 +++++------------
 1 files changed, 5 insertions(+), 12 deletions(-)

commit 2453bef337f372d9a1abc84e1d2ce163bd8546f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 12:17:29 2009 +0100

    if gabble_file_transfer_channel_offer_file fails the channel has not been added to the list yet so we can unref it directly

 src/ft-manager.c |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit 5cf4312a89356b83afd14144f5ea68726d457093
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 11:54:30 2009 +0100

    file_channel_closed: improve debug msg

 src/ft-manager.c |   14 ++++++++++----
 1 files changed, 10 insertions(+), 4 deletions(-)

commit 90d32da0564112488c2bbd1a0944e118adbcaa6d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 11:49:40 2009 +0100

    gabble_ft_manager_iface_foreach_one: value is never supposed to be NULL

 src/ft-manager.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit ae90dee54afb0390ce8e712083763941a622e598
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 11:48:53 2009 +0100

    style fixes

 src/ft-manager.c |    8 +++++---
 1 files changed, 5 insertions(+), 3 deletions(-)

commit 4ff2585f362fbbf0ee6a8cec6b2876bd811a87e6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 11:34:35 2009 +0100

    gabble_ft_manager_new is supposed to be just a wrapper around g_object_new

 src/ft-manager.c |   68 ++++++++++++++++++++++++++++++++++++++++++++++++-----
 1 files changed, 61 insertions(+), 7 deletions(-)

commit 15286dad852397643a483b82c24e5806fe2f289e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 11:27:44 2009 +0100

    ft-manager: remove GET_PRIVATE macro

 src/ft-manager.c |   52 +++++++++++++++++++---------------------------------
 src/ft-manager.h |    3 +++
 2 files changed, 22 insertions(+), 33 deletions(-)

commit e1113a5fefb060b806bf0f2e34e12fbd520feed1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 11:17:34 2009 +0100

    gabble_file_transfer_channel_provide_file: remove useless pointer

 src/file-transfer-channel.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 6f441982432cfb80c094241d03eb91d5ea8b8ce5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 11:10:41 2009 +0100

    constants.py: add Offline error

 tests/twisted/constants.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 5f2b74aa5eb8bb41d8401cd0a82da4e50a568d21
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 11:13:10 2009 +0100

    raise NotCapable error when trying to send a file who doesn't advertise the FT capa

 src/file-transfer-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 738747e50b06ce491ef937fc8cf29dd4ec779435
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 11:11:29 2009 +0100

    raise Offline error when trying to send a file to an offline contact

 src/file-transfer-channel.c                        |    2 +-
 .../test-send-file-to-unknown-contact.py           |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 08a4029e42aedc227f740aae936de58e763a2ac4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 11:10:41 2009 +0100

    constants.py: add Offline error

 tests/twisted/constants.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 20804caa549f2aa116ca554eb281af04af52d35c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 11:04:14 2009 +0100

    use G_PARAM_STATIC_STRINGS

 src/file-transfer-channel.c |   62 +++++++++++-------------------------------
 1 files changed, 16 insertions(+), 46 deletions(-)

commit a0323f83feb8f9988cdbe2c3b6fae312608dc90e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 11:00:05 2009 +0100

    use TP_HASH_TYPE_SUPPORTED_SOCKET_MAP

 src/file-transfer-channel.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 0e38b4f9d5e441951930b5ddd63f0f196b9c125a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 10:57:50 2009 +0100

    use tp-glib constants in uint properties definitions

 src/file-transfer-channel.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 2b678e72e58a78de0abe40cc3fc96deb701ecfa2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 30 10:48:49 2009 +0100

    NEWS: fallback-socks5-proxy has been renamed to fallback-socks5-proxies

 NEWS |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit d18c252f3052c3d088eedc517232045d6a05db36
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Mar 27 16:17:28 2009 +0000

    FT D-Bus properties have to be read-only

 src/file-transfer-channel.c |   16 ++++++++--------
 1 files changed, 8 insertions(+), 8 deletions(-)

commit d1f993b9449a55c24ff77f8c9d843fa691663a14
Merge: c3a6107 0ec7452
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Mar 27 15:27:04 2009 +0000

    Merge branch 'news'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit ab043a0625dfb43c318000ab8452784345a133fd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Mar 27 15:03:04 2009 +0000

    initial-offset property has to be construct-only

 src/file-transfer-channel.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 1bad240c1da5b75661338ae407443c1cd5357c2b
Merge: 377176a 74cabf8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Mar 27 14:54:02 2009 +0000

    Merge commit 'wjt/file-transfer' into file-transfer

commit bfc3c2dff190d09c03d5c9c44c46c0939a8f749f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Mar 27 13:45:58 2009 +0000

    remove duplicate proxies from GABBLE_PARAMS_DEFAULT_SOCKS5_PROXIES

 src/connection.h |   15 +++++++++------
 1 files changed, 9 insertions(+), 6 deletions(-)

commit c3a610717168017c398b08534b3f1a0f6dc92863
Merge: c72ec80 a694bb6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Mar 27 13:10:40 2009 +0000

    Merge branch 'call-group-change-reasons'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit a694bb62abec4c9647dfbba2017c63ed2422ff50
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Mar 27 11:50:16 2009 +0000

    Add explanatory comment for <reason> processing

 src/jingle-session.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 1be623fbb0ffe134220adc79d2b6d504d15dcda6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Mar 27 11:41:18 2009 +0000

    Use MEDIA_STREAM_STATE_CONNECTED constant

 tests/twisted/jingle/google-relay.py               |    2 +-
 tests/twisted/jingle/hold-audio.py                 |    3 ++-
 tests/twisted/jingle/hold-av.py                    |    6 ++++--
 tests/twisted/jingle/outgoing-not-answered.py      |    2 +-
 tests/twisted/jingle/payload-types.py              |    6 +++---
 tests/twisted/jingle/test-description-info.py      |    4 ++--
 tests/twisted/jingle/test-dialects-incoming.py     |    2 +-
 tests/twisted/jingle/test-dialects-outgoing.py     |    4 +++-
 .../jingle/test-outgoing-call-deprecated.py        |    2 +-
 .../jingle/test-outgoing-call-deprecated2.py       |    2 +-
 .../jingle/test-outgoing-call-requestotron.py      |    2 +-
 tests/twisted/jingle/test-outgoing-call.py         |    2 +-
 12 files changed, 21 insertions(+), 16 deletions(-)

commit d10e00e51d6acc6c0b506b888f2fd70c7ed027cb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Mar 27 11:37:53 2009 +0000

    Assert if set_state is incorrectly passed a reason

 src/jingle-session.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 19fafae3b3bd658d0a3adc213b1cbf39915705a8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 26 17:21:50 2009 +0000

    Test rejecting a call for reason Busy or None

 tests/twisted/jingle/test-incoming-call-reject.py |   57 ++++++++++++++++++---
 1 files changed, 50 insertions(+), 7 deletions(-)

commit 5eaf114eda53c04b1517a66ebd2a748e9072530c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 26 17:20:13 2009 +0000

    Implement RemoveMembersWithReason for media channels

 src/media-channel.c |   12 +++++++-----
 1 files changed, 7 insertions(+), 5 deletions(-)

commit d243f656629472dca7054eef69ccb3a952f9531b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 26 17:13:39 2009 +0000

    Make jingle_session_terminate fail on meaningless reasons

 src/jingle-session.c |   23 +++++++++++++++--------
 src/jingle-session.h |    4 ++--
 src/media-channel.c  |    4 ++--
 3 files changed, 19 insertions(+), 12 deletions(-)

commit 7a74ea61b76525b4691604b76651190988b5f680
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 26 16:03:22 2009 +0000

    Port test-incoming-call-reject.py to JingleTest2

 tests/twisted/jingle/test-incoming-call-reject.py |   61 ++++++---------------
 1 files changed, 16 insertions(+), 45 deletions(-)

commit e0f75abceca2393c9eb75f4a540b9b3e0bb20fad
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 26 16:02:17 2009 +0000

    Set event.query to None on empty IQs.

 tests/twisted/gabbletest.py         |    2 ++
 tests/twisted/jingle/jingletest2.py |    6 +++---
 2 files changed, 5 insertions(+), 3 deletions(-)

commit f4bd266a6b15a118a7fa3fa51ed32ed78fb6a8ba
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 26 15:54:42 2009 +0000

    Add incoming_call() helper to JingleTest2

 tests/twisted/jingle/jingletest2.py            |   11 +++++++++++
 tests/twisted/jingle/test-content-complex.py   |   10 +---------
 tests/twisted/jingle/test-dialects-incoming.py |   10 +---------
 3 files changed, 13 insertions(+), 18 deletions(-)

commit 223e4a2628ea5c4716b59d79d471797e1f9bbf59
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 26 15:46:07 2009 +0000

    Test calls rejected as busy are exposed as such

 tests/twisted/jingle/jingletest2.py                |    8 +++++++-
 .../twisted/jingle/test-outgoing-call-rejected.py  |   13 ++++++++++++-
 2 files changed, 19 insertions(+), 2 deletions(-)

commit 8563f1a7ed2920aa3982427678e17236bd3f8f8a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 26 15:43:32 2009 +0000

    Propagate session-terminate <reason> to MembersChanged

 src/jingle-session.c |   46 ++++++++++++++++++++++++++++++++++++++++++++--
 1 files changed, 44 insertions(+), 2 deletions(-)

commit 5042430f179a81bf10829a7afe495fff8dda5313
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 26 15:16:14 2009 +0000

    Port test-outgoing-call-rejected.py to JingleTest2

 tests/twisted/jingle/jingletest2.py                |   23 +++++++
 .../twisted/jingle/test-outgoing-call-rejected.py  |   70 ++++++--------------
 2 files changed, 43 insertions(+), 50 deletions(-)

commit 6e4c6c44f40f27b5b186395309f1dcc25a616e14
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 26 13:27:28 2009 +0000

    Test that unanswered calls timeout with No_Answer

 tests/twisted/Makefile.am                     |    1 +
 tests/twisted/jingle/outgoing-not-answered.py |   73 +++++++++++++++++++++++++
 2 files changed, 74 insertions(+), 0 deletions(-)

commit c62679a24bf9ebb63c9587c650787551126676aa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 26 13:24:22 2009 +0000

    Include <reason> in session-terminate

 src/jingle-session.c |   43 ++++++++++++++++++++++++++++++++++++++++---
 1 files changed, 40 insertions(+), 3 deletions(-)

commit 19c56eab467b87750ab5523d9b5113a94a968797
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 26 11:31:16 2009 +0000

    Add a helper to run a test on all Jingle dialects

 tests/twisted/jingle/jingletest2.py |   17 ++++++++++++++++-
 1 files changed, 16 insertions(+), 1 deletions(-)

commit a061e32a887d1a150a54fd0ebeb76d092f801bd0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Mar 23 12:59:45 2009 +0000

    Reduce Jingle session timeout when running tests

 src/jingle-session.c       |   11 ++++++++---
 src/jingle-session.h       |    2 ++
 tests/twisted/main-debug.c |    3 +++
 3 files changed, 13 insertions(+), 3 deletions(-)

commit 18ae7be7d8ddc7699a8c7bb60fc0a2bc0e81c1db
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Mar 23 12:41:45 2009 +0000

    Propagate reason to JingleSession:terminated

 src/jingle-session.c |   51 ++++++++++++++++++++++++++++++-------------------
 src/jingle-session.h |    3 +-
 src/media-channel.c  |    6 +++-
 3 files changed, 37 insertions(+), 23 deletions(-)

commit 80f19e82025a0a140b68b9ab69321598f76d5bc7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Mar 23 12:47:56 2009 +0000

    Add reason to JingleSession:terminated signal

 src/jingle-factory.c |   10 ++++++----
 src/jingle-session.c |    8 +++++---
 src/media-channel.c  |    5 +++--
 3 files changed, 14 insertions(+), 9 deletions(-)

commit 26e4e839e3696e40a4ffacd9dcd7ce5124da69e5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 19 18:18:22 2009 +0200

    Set actor and reason when calls start/are accepted

 src/media-channel.c                            |   14 ++++++++------
 tests/twisted/jingle/accept-extra-stream.py    |    4 +++-
 tests/twisted/jingle/google-relay.py           |    4 +++-
 tests/twisted/jingle/test-content-complex.py   |    3 ++-
 tests/twisted/jingle/test-description-info.py  |    3 ++-
 tests/twisted/jingle/test-dialects-incoming.py |    2 +-
 tests/twisted/jingle/test-incoming-call.py     |    3 ++-
 tests/twisted/jingle/test-outgoing-call.py     |    3 ++-
 8 files changed, 23 insertions(+), 13 deletions(-)

commit e2d91d35b110089e9c8721d676aee71ebe0b4b1c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 19 17:31:58 2009 +0200

    Our LocalPending reason is Invited in incoming calls
    
    This changes all the tests, which checked for the wrong reason.

 src/media-channel.c                               |    2 +-
 tests/twisted/jingle/google-relay.py              |    5 ++-
 tests/twisted/jingle/stream-handler-error.py      |    5 ++-
 tests/twisted/jingle/stun-server.py               |    4 ++-
 tests/twisted/jingle/test-content-complex.py      |    5 ++-
 tests/twisted/jingle/test-description-info.py     |    5 ++-
 tests/twisted/jingle/test-dialects-incoming.py    |    4 ++-
 tests/twisted/jingle/test-incoming-call-reject.py |    5 ++-
 tests/twisted/jingle/test-incoming-call.py        |   40 ++++++++++++---------
 9 files changed, 50 insertions(+), 25 deletions(-)

commit 54dff933640910e06d66f1f549facbeaf18133c4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 19 17:13:09 2009 +0200

    Improve construct-time media channel group flags
    
    This is still not correct, hence the FIXME pending more intrusive
    refactoring.

 src/media-channel.c                        |   32 ++++++++++++++++++++-------
 tests/twisted/constants.py                 |   14 ++++++++++++
 tests/twisted/jingle/test-incoming-call.py |   15 +++++++++++++
 3 files changed, 52 insertions(+), 9 deletions(-)

commit 21f7f94cfb830b34eebf6d9dd6c82cd564af6202
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 19 16:57:09 2009 +0200

    Let terminated_cb actually remove the member.
    
    Also, don't set CanAdd on the channel when we've just removed the peer:
    we don't actually support adding in that context.

 src/media-channel.c |   29 ++++++++++++-----------------
 1 files changed, 12 insertions(+), 17 deletions(-)

commit a6a5c297bdc1947109c58aed43beecc9d3230a03
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Mar 18 15:09:52 2009 +0200

    Use HT_CONTACT and real self_handle in some tests

 tests/twisted/jingle/google-relay.py              |    6 +++---
 tests/twisted/jingle/test-description-info.py     |    9 +++++----
 tests/twisted/jingle/test-dialects-incoming.py    |   11 +++++++----
 tests/twisted/jingle/test-incoming-call-reject.py |    9 ++++++---
 tests/twisted/jingle/test-outgoing-call.py        |    5 +++--
 5 files changed, 24 insertions(+), 16 deletions(-)

commit 3c5d4dc14b04f680420f0ff7d8f1cdc3335b70b6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Mar 18 14:54:41 2009 +0200

    Add GroupChangeReasons to constants.py

 tests/twisted/constants.py |   13 +++++++++++++
 1 files changed, 13 insertions(+), 0 deletions(-)

commit 5f3612dbdae7dbc3b460049278d64118c500abb0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Mar 18 14:36:02 2009 +0200

    Use Reason_None (not 0) in MediaChannel constructor

 src/media-channel.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 0ec745237b090fa02626dab5894da2b589436fcd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Mar 27 00:14:37 2009 +0000

    Belgians are pairing socks in my living room!

 NEWS |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit c72ec808c4d02a51bf8be324da60d01324b3d2c1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 26 18:27:48 2009 +0000

    Unrace olpc-muc-invitation.py
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

 tests/twisted/olpc/olpc-muc-invitation.py |   11 ++++++-----
 1 files changed, 6 insertions(+), 5 deletions(-)

commit 377176aeadf1ddfc0d23b6fe148ca988cc396e71
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 26 17:59:38 2009 +0000

    use errors from constants in FT tests

 ...ive-file-and-sender-disconnect-while-pending.py |    3 ++-
 .../test-send-file-to-unknown-contact.py           |    3 ++-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 5d8635e1e5190028ddafc539f00822d0a47f6205
Merge: 171aa92 61faca3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 26 17:47:36 2009 +0000

    Merge branch 'master' into file-transfer

commit 616a1747debc4c56a36a9d7213d222f68a258b78
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 26 16:15:17 2009 +0000

    set a default value on default-socks5-proxies

 src/connection-manager.c |    6 +++++-
 src/connection.c         |   11 +++++++++++
 src/connection.h         |   20 ++++++++++++++++++++
 3 files changed, 36 insertions(+), 1 deletions(-)

commit 61faca361c67b335da0129a40a9fdf5a8beaa9d5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 26 17:31:48 2009 +0000

    manager file has to be regenerated when connection.h is modified as that's where default params are defined

 data/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit feea877a731676ca7fe9fb341d88ad7a57184a59
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 25 14:45:05 2009 +0000

    gabble_bytestream_factory_get_socks5_proxies: randomize fallback proxies list

 src/bytestream-factory.c |   28 ++++++++++++++++++++++++++--
 1 files changed, 26 insertions(+), 2 deletions(-)

commit 8a28548000a2fffe9940d8a06cddbb4558462b26
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 25 11:56:45 2009 +0000

    change fallback-socks5-proxy to fallback-socks5-proxies
    
    By using an 'as' we can define more than one fallback proxy

 src/bytestream-factory.c                    |   17 ++++++++----
 src/connection-manager.c                    |   24 +++++++++---------
 src/connection.c                            |   24 +++++++++---------
 tests/twisted/test-fallback-socks5-proxy.py |   35 +++++++++++++++++----------
 4 files changed, 57 insertions(+), 43 deletions(-)

commit 17422dfbbba627c01ec09831661a93c4e2aea233
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 25 11:35:56 2009 +0000

    socks5_proxy_query_reply_cb: prepend fallback proxy from the right list

 src/bytestream-factory.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 57cd1070a8c49cca4936ce7fc8988498a94d4c6d
Merge: 298a58c 3a93359
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 26 17:06:12 2009 +0000

    Merge branch 'master' into socks5+relay

commit 3a93359f4aa548f8870246b411f87528a84a0868
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 26 16:59:47 2009 +0000

    write-mgr-file: add support for 'as' defaults

 src/write-mgr-file.c |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit 0e6ac003275d4f4287dc9974677867a25eaafbd3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 26 16:45:18 2009 +0000

    write-mgr-file; properly init D-Bus types

 src/write-mgr-file.c |   12 ++++++++----
 1 files changed, 8 insertions(+), 4 deletions(-)

commit 298a58ca4485fe398ec9cc5807eb4c599c2b381a
Merge: 1931961 2c4c02c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 26 16:36:03 2009 +0000

    Merge branch 'master' into socks5+relay

commit 2c4c02c0554d515735fb6b81e39cb5bc099483e9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 26 16:30:10 2009 +0000

    add gabble_connection_manager_get_protocols() instead of having gabble_protocols extern

 src/connection-manager.c |    8 +++++++-
 src/connection-manager.h |    4 ++--
 src/write-mgr-file.c     |    3 ++-
 3 files changed, 11 insertions(+), 4 deletions(-)

commit b06830bfcf3094626876fa42ab44143d8d50b1eb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 25 18:23:59 2009 +0000

    GabbleConnection: hook up Avatars properties from telepathy-spec 0.17.22

 src/conn-avatars.c |    4 ++--
 src/conn-avatars.h |    2 +-
 src/connection.c   |    7 +++++++
 3 files changed, 10 insertions(+), 3 deletions(-)

commit cd71ea3e8fac28ed526cb11b89bccf4af530aa19
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 24 13:03:35 2009 +0000

    conn-avatars: provide a property getter for telepathy-spec 0.17.22 avatar requirement properties

 src/conn-avatars.c |   54 ++++++++++++++++++++++++++++++++++++++++++++-------
 src/conn-avatars.h |    4 +++
 2 files changed, 50 insertions(+), 8 deletions(-)

commit 19319616683dd55de7b2449e734ca4cb3d4fd416
Merge: 586b7e1 14ed3c4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 25 12:54:03 2009 +0000

    Merge branch 'master' into socks5+relay

commit 14ed3c4ca9d4ca27af6b1f0f0a645dadb1799e2c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 25 12:20:41 2009 +0000

    upgrade NEWS

 NEWS |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 63320d75ec90de97eaa537a57dd62845604e776a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 25 12:19:46 2009 +0000

    bump telepathy-glib dep tp 0.7.28

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 48aa3528c7148f2ed4ffe2c003cad5c0a31be9b2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 25 12:18:47 2009 +0000

    test-location.py: use errors from constants

 tests/twisted/test-location.py |   13 ++++---------
 1 files changed, 4 insertions(+), 9 deletions(-)

commit 9d3dae40259c3096619323e69012ea68c8a851e6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 25 12:18:25 2009 +0000

    olpc-activity-search.py: use error from constants

 tests/twisted/olpc/olpc-activity-search.py |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 0fcbf652cd38885fd513cce2799afd6ed2e11a1f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 25 12:18:13 2009 +0000

    olpc-buddy-search.py: use error from constants

 tests/twisted/olpc/olpc-buddy-search.py |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 9afc33084cccf44b23d068e41997910a434f2d40
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 25 12:17:42 2009 +0000

    constants.py: add PERMISSION_DENIED

 tests/twisted/constants.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 450fcd7093331984e25c8bb7475f394d3663e835
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 25 12:16:32 2009 +0000

    constants: fix error domain name

 tests/twisted/constants.py |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 74cabf8cc5e37251bbbcb8f72be16510d974b2b6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Mar 24 23:33:42 2009 +0000

    Use correct filename in FT preamble comments

 src/file-transfer-channel.c |    2 +-
 src/file-transfer-channel.h |    2 +-
 src/ft-manager.c            |    2 +-
 src/ft-manager.h            |    2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit b3c1ebe2c3b93e4216bc17d7d2ca3a2a263b5ff6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Mar 24 23:30:46 2009 +0000

    Coding style in file-transfer-channel
    
    * space between function and (
    * don't wrap prototypes after return type

 src/file-transfer-channel.c |   16 ++++++----------
 1 files changed, 6 insertions(+), 10 deletions(-)

commit 208ecd11c3aba78a2f2b558058f1c686a070ea19
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Mar 24 23:04:23 2009 +0000

    Raise NotImplemented on unknown address types/access-control mechs

 src/file-transfer-channel.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 85267f2d000e7236502e24013c96d627584929bd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Mar 24 23:01:32 2009 +0000

    Ref FT's target and initiator handles

 src/file-transfer-channel.c |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

commit e3566bfb0e7e68eb152153dd88042fa193aa8b1e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Mar 24 22:54:22 2009 +0000

    Use "%"G_GSIZE_FORMAT not %u for gsize.

 src/file-transfer-channel.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 586b7e1a31ccbde43dc2810260dcdcecb28f9769
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 24 18:09:19 2009 +0000

    fix typo

 src/bytestream-socks5.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 0056e670e5e98a3f5bafb3009a811ed1988328e7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 24 18:08:45 2009 +0000

    coding style fix

 src/connection-manager.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a6ff149767a575cdfe99c2fe5d28c952b7f3aa73
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 24 18:05:28 2009 +0000

    test-fallback-socks5-proxy: use conn.Requests

 tests/twisted/test-fallback-socks5-proxy.py |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 5be61400eae334ec3d420028078f0adcbd55dbe4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 24 18:03:50 2009 +0000

    remove useless comment
    
    Was probably coming from the original test

 tests/twisted/test-fallback-socks5-proxy.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 443d2b24a04bab66e5f6534e3c203baa1a23bdf1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 24 18:02:44 2009 +0000

    add some comments

 src/bytestream-socks5.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit ee9f2334762a3da9aeecad8289567529d77190ed
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 24 18:00:01 2009 +0000

    define SOCKS5_STATE_INITIATOR_OFFER_SENT with the other initiator states

 src/bytestream-socks5.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 34d2b57fee89209de28117ccaf67537654fb036c
Merge: b629d0c 212793d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 24 17:04:30 2009 +0000

    Merge branch 'master' into socks5+relay
    
    Conflicts:
    	NEWS
    	tests/twisted/bytestream.py

commit b629d0cbd10f9585cd80cd92b0af9b162441c96f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 24 14:59:45 2009 +0000

    properly cast socks5_proxy_query_reply_cb user_data

 src/bytestream-factory.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 212793d109b8227e371d9a5a60e1cb37945e55fd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 24 14:52:19 2009 +0000

    get_local_interfaces_ips returns a list containing both type of addresses

 src/bytestream-socks5.c |   40 ++++++++++++++++++++--------------------
 1 files changed, 20 insertions(+), 20 deletions(-)

commit 04c0b036e18d6307d3960d14bb8fbb48b6c2dc28
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 18 13:56:54 2009 +0000

    upgrade NEWS

 NEWS |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit dee5abb7d802b1fb1efd75c9f35c6de69cf2e390
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 14:47:33 2009 +0000

    store fallback proxies in a separated list so we can list them after the one discovered on the connection

 src/bytestream-factory.c |   48 +++++++++++++++++++++++++++++++++------------
 src/bytestream-factory.h |    2 +-
 src/bytestream-socks5.c  |   12 +++++-----
 3 files changed, 42 insertions(+), 20 deletions(-)

commit 46ffc150559bbfdc84c20fac35a6019f46542118
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 14:26:30 2009 +0000

    rename gabble_bytestream_factory_get_socks_proxies to gabble_bytestream_factory_get_socks5_proxies

 src/bytestream-factory.c |    2 +-
 src/bytestream-factory.h |    2 +-
 src/bytestream-socks5.c  |    4 ++--
 3 files changed, 4 insertions(+), 4 deletions(-)

commit 07cd2a934aa798818b607a6048f5f84918697de9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 14:15:15 2009 +0000

    don't add relay as streamhost when we are in a muc

 src/bytestream-socks5.c |   19 ++++++++++++++-----
 1 files changed, 14 insertions(+), 5 deletions(-)

commit 96002528d997fa1d6a104862e6000d0f38c0a197
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 14:14:32 2009 +0000

    offer-muc-stream-tube.py: disable SOCKS5 relay tests because proxy can't be used with muc contacts atm

 tests/twisted/tubes/offer-muc-stream-tube.py |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 52d885024c000872c2f5db2087f4b6ad07d0f56f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 14:00:13 2009 +0000

    add test-socks5-muc.py to tests suite

 tests/twisted/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 09367b962b5f9bd59c2d2169d2a856c54a15c65e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 14:00:05 2009 +0000

    add test-socks5-muc.py

 tests/twisted/tubes/test-socks5-muc.py |   83 ++++++++++++++++++++++++++++++++
 1 files changed, 83 insertions(+), 0 deletions(-)

commit 99940eabf27c141b49d10945e8d8f8c336ae2dc8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 12:00:08 2009 +0000

    don't offer SOCKS5 relay when trying to establish a bytestream with a muc contact

 src/bytestream-socks5.c |   48 +++++++++++++++++++++++++++++++---------------
 1 files changed, 32 insertions(+), 16 deletions(-)

commit 4193a99ef89d0b5701b4bbd21fdb841c9d9ee83e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 11:59:35 2009 +0000

     accept-muc-stream-tube.py: disable SOCKS5 relay tests because proxy can't be used with muc contacts atm

 tests/twisted/tubes/accept-muc-stream-tube.py |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit cabace865cb29a711104b8933551e8570be95474
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 11:47:28 2009 +0000

    remove FIXME about proxies as we implement them now

 src/bytestream-socks5.c |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit 8d94a6f07fa33ed66dc1b546d17cb0cff8363893
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Mar 6 16:19:21 2009 +0000

    test-fallback-socks5-proxy.py: use make_presence and make_caps_disco_reply from external modules

 tests/twisted/test-fallback-socks5-proxy.py |   35 ++++-----------------------
 1 files changed, 5 insertions(+), 30 deletions(-)

commit 0912a67fedecaf8ec4c33500180ed1ed7ea7f537
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Mar 6 14:32:23 2009 +0000

    add test-fallback-socks5-proxy.py to tests suite

 tests/twisted/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 569a7cd00af6d7d0fe43427982b54f3cab81ca4f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Mar 6 14:32:15 2009 +0000

    add test-fallback-socks5-proxy.py

 tests/twisted/test-fallback-socks5-proxy.py |  104 +++++++++++++++++++++++++++
 1 files changed, 104 insertions(+), 0 deletions(-)

commit c6f523e0493ab9e72bbb3c2fb0b7b8ae79bf32ca
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Mar 6 14:31:53 2009 +0000

    query fallback-socks5-proxy if defined

 src/bytestream-factory.c |   52 ++++++++++++++++++++++++++++++++++++++--------
 1 files changed, 43 insertions(+), 9 deletions(-)

commit 3af76088ccb1bf238472b120d7728b04579e11f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Mar 6 14:29:17 2009 +0000

    add fallback-socks5-proxy connection parameter

 src/connection-manager.c |   13 +++++++++++++
 src/connection.c         |   17 +++++++++++++++++
 2 files changed, 30 insertions(+), 0 deletions(-)

commit 0ef3423951594e6e7d382df49c65a693ea9c4883
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 5 11:30:22 2009 +0000

    SOCKS5: fix state check

 src/bytestream-socks5.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 746298eb54bb75e8e8e239fce928d10807cc7bc1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 5 11:21:20 2009 +0000

    coding style fix

 src/bytestream-socks5.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 357659361c742582e6f695a8e7b7a6cae7b59e26
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 5 11:19:43 2009 +0000

    add debug msg

 src/bytestream-socks5.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit ac82a10d17d78dbbcd9398ac78db4a517d590c66
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 5 10:21:24 2009 +0000

    factor out some BytestreamS5BRelay methods

 tests/twisted/bytestream.py |   14 ++++++++++----
 1 files changed, 10 insertions(+), 4 deletions(-)

commit 11fe4161f628ca93a0e5112c7b884d2134a60a98
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 4 18:19:29 2009 +0000

    run tubes test with BytestreamS5BRelayBugged

 tests/twisted/tubes/tubetestutil.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 9117cdb278f88dbe625327169253f85daaf3432a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 4 18:19:08 2009 +0000

    add BytestreamS5BRelayBugged

 tests/twisted/bytestream.py |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit d79c2d729450a70da05434dca1cdc20160576539
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 4 18:18:53 2009 +0000

    SOCKS5: accept buggy CONNECT reply to interop with bugged ejabberd proxy

 src/bytestream-socks5.c |   76 ++++++++++++++++++++++++++++++++++-------------
 1 files changed, 55 insertions(+), 21 deletions(-)

commit 97bbf399417752eba5860ff304d1ca503581efb6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 4 17:08:23 2009 +0000

    fix typo in debug msg

 src/bytestream-socks5.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 1f020c7710ebbd599341f719fe82b84234483584
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 4 14:13:14 2009 +0000

    run tube tests with BytestreamS5BRelay

 tests/twisted/tubes/tubetestutil.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit d695c90bc74a06c6d96e9af1ce749b5e384f626a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 4 14:13:04 2009 +0000

    announce a SOCKS proxy in some tube tests

 tests/twisted/tubes/accept-muc-stream-tube.py     |    9 ++++++---
 tests/twisted/tubes/accept-private-stream-tube.py |    9 ++++++---
 tests/twisted/tubes/offer-private-dbus-tube.py    |    8 ++++++--
 3 files changed, 18 insertions(+), 8 deletions(-)

commit e4f98841e55f197f9c3c2e54cf961022a1067e27
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 4 14:12:23 2009 +0000

    add Initiator side to BytestreamS5BRelay

 tests/twisted/bytestream.py |   52 +++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 52 insertions(+), 0 deletions(-)

commit 25323b4aa81fdbe63042b6106391470e683433c2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 4 14:11:21 2009 +0000

    bytestream.py: add announce_socks5_proxy

 tests/twisted/bytestream.py |   54 ++++++++++++++++++++++++++++++++----------
 1 files changed, 41 insertions(+), 13 deletions(-)

commit 3c54b97434efd6f6f1c83f2dd00cf53d9c59d7b3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 4 14:10:06 2009 +0000

    SOCKS5: implement proxy support

 src/bytestream-socks5.c |  323 +++++++++++++++++++++++++++++++++++++++--------
 1 files changed, 269 insertions(+), 54 deletions(-)

commit 2344d8a0faa7d80c4760b2f72ec40232bfca7ca3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 4 14:09:14 2009 +0000

    track SOCKS5 proxy available in bytestream-factory and offer API to access to them

 src/bytestream-factory.c |  120 ++++++++++++++++++++++++++++++++++++++++++++++
 src/bytestream-factory.h |    9 ++++
 2 files changed, 129 insertions(+), 0 deletions(-)

commit 292f428ef84e41fbd5b1ef56ef7bde907b1183a9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 3 17:21:35 2009 +0000

    add BytestreamS5BRelay

 tests/twisted/bytestream.py |   14 ++++++++++++++
 1 files changed, 14 insertions(+), 0 deletions(-)

commit 65534755cec0de941c41552eb6ce1cb5d8f6b3b1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 3 16:57:50 2009 +0000

    wait_bytestream_open: ensure we found one streamhost

 tests/twisted/bytestream.py |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 095d796cf9dbd7f39266d9efdef9648e8807267e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 3 16:44:33 2009 +0000

    wait_bytestream_open: don't assert if a relay is present in S5B offer

 tests/twisted/bytestream.py |   16 +++++++---------
 1 files changed, 7 insertions(+), 9 deletions(-)

commit 737256f8d0437036ffd4453507d66e920fbb5dc2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 18 13:53:07 2009 +0000

    upgrade NEWS

 NEWS |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit c444f4eb49e434287a6e787c6c15492c9810f740
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 11:15:46 2009 +0000

    get_local_interfaces_ips: always discard loopback as we don't care about it for SOCKS5

 src/bytestream-socks5.c |   25 +++++--------------------
 1 files changed, 5 insertions(+), 20 deletions(-)

commit 3dfd4632e40691644246ce740ac722c18d064211
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 11:14:04 2009 +0000

    change comment to reflect that get_local_interfaces_ips is not a bare copy from FS any more

 src/bytestream-socks5.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit bcea59f1f15c8b40043134f6920c149ba7d16427
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 11:13:27 2009 +0000

    get_local_interfaces_ips: return IP4 and IP6 addresses using 2 different lists so we can list the IP6 ones first

 src/bytestream-socks5.c |   68 +++++++++++++++++++++++++++--------------------
 1 files changed, 39 insertions(+), 29 deletions(-)

commit a56b81a61440415d1b2e7ff65797caaf47c5e3e9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 11:12:34 2009 +0000

    wait_bytestream_open: discard non IPv4 address as twisted doesn't support IPv6...

 tests/twisted/bytestream.py |   25 ++++++++++++++++++++-----
 1 files changed, 20 insertions(+), 5 deletions(-)

commit de9cfcf84b46c4d4cce39241d79f915c7fc3ff76
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 10:14:05 2009 +0000

    use a GSList to store IP's

 src/bytestream-socks5.c |   24 ++++++++++++------------
 1 files changed, 12 insertions(+), 12 deletions(-)

commit 4118dc5e3a9b07ed3ebd0ba7344032e5592d6519
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 10:11:45 2009 +0000

    gabble_bytestream_socks5_initiate: use a for to iterate on the IP's list

 src/bytestream-socks5.c |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit 68f1729ad3e3180743c26b9744c918495eeaeff8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 10:08:28 2009 +0000

    the not getifaddrs version of get_local_interfaces_ips should support IPv6 too

 src/bytestream-socks5.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 4212baeea53496f3fc5a3016130b3ad61b29a44a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 10 15:42:15 2009 +0000

    SOCKS5: list IP6 addresses as well

 src/bytestream-socks5.c |   35 +++++++++++++++++++++++++++++------
 1 files changed, 29 insertions(+), 6 deletions(-)

commit f99824a2c5937285094b41c3c29862305773f8a6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 24 12:14:01 2009 +0000

    test-caps-tubes.py: import constants as cs

 tests/twisted/test-caps-tubes.py |   94 +++++++++++++++++++-------------------
 1 files changed, 47 insertions(+), 47 deletions(-)

commit 3f9c8246429ba5436fbd6d7f8c29761fdeadbd5f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 24 12:10:06 2009 +0000

    test-caps-tubes.py: use new helper code from caps_helper

 tests/twisted/test-caps-tubes.py |   93 ++-----------------------------------
 1 files changed, 5 insertions(+), 88 deletions(-)

commit af2ccdd2be28cf301b7a51b90a514e8b75de5e1c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 24 12:09:03 2009 +0000

    caps_helper: add more helper code from test-caps-tubes.py

 tests/twisted/caps_helper.py |   83 +++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 82 insertions(+), 1 deletions(-)

commit 21cd34240b02a190c57678d5083057420619605c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Mar 23 18:52:58 2009 +0000

    Bump version to 0.7.24.1

 NEWS         |    9 +++++++++
 configure.ac |    2 +-
 2 files changed, 10 insertions(+), 1 deletions(-)

commit c359e294a8914706fae3aed1401da6017de19fc2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Mar 23 18:09:00 2009 +0000

    version 0.7.24

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit c18b1ddc92e8c02ecb0a631e0967e9a2450dec26
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Mar 23 17:09:13 2009 +0000

    NEWS for 0.7.24

 NEWS |   16 +++++++++++++++-
 1 files changed, 15 insertions(+), 1 deletions(-)

commit 771ba2eefc9fe8dd0d8834548b0679ce23c97fc4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Mar 17 14:21:59 2009 +0000

    Delete vcard/test-vcard-torture.py
    
    It doesn't do anything and isn't run anyway.

 tests/twisted/vcard/test-vcard-torture.py |   57 -----------------------------
 1 files changed, 0 insertions(+), 57 deletions(-)

commit 753e3732239e75a40ea4274634405df43e77e59f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Mar 17 14:01:37 2009 +0000

    Delete vcard/test-vcard-set-and-get.py
    
    It doesn't test anything useful that's not tested elsewhere.
    
    It tests that RequestAvatar waits for the vCard to be retrieved before
    returning or erroring, but that's already tested in test-avatar.py and
    test-vcard-cache.py respectively.
    
    It also somewhat tests that making two updates simultaneously works,
    but that's tested in test-vcard-race.py (which doesn't actually test a
    race! :D).

 tests/twisted/Makefile.am                     |    1 -
 tests/twisted/vcard/test-vcard-set-and-get.py |  105 -------------------------
 2 files changed, 0 insertions(+), 106 deletions(-)

commit 99fa338154e9dc798c3d4757e52407b82d78b1cb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Mar 16 19:20:24 2009 +0000

    Simplify muc/test-muc-alias.py to use helper functions

 tests/twisted/muc/test-muc-alias.py |   49 ++++++++++++----------------------
 1 files changed, 17 insertions(+), 32 deletions(-)

commit d212f474249a9cbfc260435aa4fafece5fc79a37
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Mar 16 19:14:06 2009 +0000

    Remove vcard/test-muc-alias.py
    
    muc/test-muc-alias.py tests everything this test does, and more. Indeed,
    the vcard/ variant doesn't even *mention* vCards. :-)

 tests/twisted/Makefile.am             |    1 -
 tests/twisted/vcard/test-muc-alias.py |   79 ---------------------------------
 2 files changed, 0 insertions(+), 80 deletions(-)

commit 56bc8f5a390fdf7454a71dd9be060ca003f8a38b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Mar 16 16:48:18 2009 +0000

    Port test-vcard-race to newer test API

 tests/twisted/vcard/test-vcard-race.py |  157 ++++++++------------------------
 1 files changed, 40 insertions(+), 117 deletions(-)

commit b034fdbf686214ec4a9d3fc46d97b6887c512c21
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Mar 16 14:38:13 2009 +0000

    Port test-save-alias-to-vcard.py to newer test api

 tests/twisted/ns.py                             |    1 +
 tests/twisted/vcard/test-save-alias-to-vcard.py |   88 ++++------------------
 2 files changed, 17 insertions(+), 72 deletions(-)

commit 0f2db3fe308201e72e81d1b6236a0c1db59ef022
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Mar 16 18:57:04 2009 +0000

    Add handle_[sg]et_vcard-alikes for new test API

 tests/twisted/gabbletest.py |   28 ++++++++++++++++++++++++++++
 1 files changed, 28 insertions(+), 0 deletions(-)

commit 171aa92216b786ebf49d0b91b0a67c0bff8d6991
Merge: b372433 e23f965
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 23 18:05:27 2009 +0000

    Merge branch 'master' into file-transfer

commit e23f965915dc9c12d1805d8aea6335948cf3fcca
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 23 17:27:58 2009 +0000

    gibber_fd_transport_send: returns an error if something went wrong

 lib/gibber/gibber-fd-transport.c |   21 ++++++++++++---------
 1 files changed, 12 insertions(+), 9 deletions(-)

commit bc41ad65379702353a6b80cadb9f2d4283f2a5e9
Merge: a29527d 25dc2ce
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 23 17:26:12 2009 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble

commit a29527d0be473d3eda3d35421b7ff6f1cfb88e6b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 23 17:19:07 2009 +0000

    socks5_handle_received_data: store the buffer len
    
    If something went wront in the data-received callback, the bytestream
    could be freed and so the priv->read_buffer

 src/bytestream-socks5.c |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit b372433c374f3944c526f4c3cef709693117e58f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 23 17:19:07 2009 +0000

    socks5_handle_received_data: store the buffer len
    
    If something went wront in the data-received callback, the bytestream
    could be freed and so the priv->read_buffer

 src/bytestream-socks5.c |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit 25dc2ced0a86231b30e842cd3faa136aa13eca28
Merge: 31dc7c8 cc98108
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Mar 23 17:05:33 2009 +0000

    Merge branch 'codecs-updated-fixes'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit cc9810890a41980e9b262eaa38b033a4b6fe089f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Mar 20 20:08:16 2009 +0200

    Allow updating channels from 0 to anything.
    
    Olivier tells me 0 is a wildcard, so it's fine to change from 0 to a
    specified number of channels.

 src/jingle-media-rtp.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 5b1070d32fb9ed764bdb49fdbd3f857e1372925c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Mar 20 20:06:52 2009 +0200

    Default codec channels to 0, not 1.
    
    Olivier tells me 0 is a wildcard.  The tests were assuming the default
    was 1, so had to be changed.

 src/jingle-media-rtp.c              |    2 +-
 tests/twisted/jingle/jingletest2.py |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 8bc0a856eadbdc58a0aa2dca7fdb36f22e23de1e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Mar 20 18:14:56 2009 +0200

    Updated codecs may be a subset of local codecs.
    
    Olivier pointed out that the codecs passed to CodecsUpdated need only be
    a subset of those passed to Ready/SetLocalCodecs, because they're the
    intersection of those and the remote codecs.

 src/jingle-media-rtp.c |    8 --------
 1 files changed, 0 insertions(+), 8 deletions(-)

commit 31dc7c8a4cf515e1c502bb008e80b77724649630
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Mar 22 14:39:59 2009 +0000

    Be more permissive when testing message-type.
    
    The spec was changed from saying it SHOULD be omitted to saying it MAY
    be omitted if it would otherwise be 0. My Haze implementation didn't
    bother omitting it, so this test failed when I applied it to Haze.

 tests/twisted/text/test-text.py |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

commit 62f43a60c367bb1500a96cf4dc3afd9536b4acdc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Mar 23 14:22:52 2009 +0000

    Simplify access to private struct in several files

 src/connection.c       |   43 +++++++++++++++-----------------
 src/disco.c            |   26 +++++++++-----------
 src/im-channel.c       |   24 ++++++++----------
 src/roomlist-channel.c |   24 ++++++++----------
 src/roster-channel.c   |   21 +++++++---------
 src/roster.c           |   62 +++++++++++++++++++++++------------------------
 src/vcard-manager.c    |   47 ++++++++++++++++--------------------
 7 files changed, 114 insertions(+), 133 deletions(-)

commit b7f016d2936a9c2bc213e4a6266c4dcdf5629eeb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Mar 20 15:43:39 2009 +0200

    Unrace google-relay test.
    
    Fixes fd.o #20643

 tests/twisted/jingle/google-relay.py |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit e2c620056bc5999537c357ebe8ed39aabc47ed89
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 23 15:50:57 2009 +0000

    close the bytestream AND the local transport when something went wrong

 src/file-transfer-channel.c |   26 +++++++++++++++++++-------
 1 files changed, 19 insertions(+), 7 deletions(-)

commit 1b78f9e8005391bbd14c5d1bb50b024bd08d0a22
Merge: 16d51f6 049db20
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 23 15:40:32 2009 +0000

    Merge branch 'master' into file-transfer

commit 049db20936d02e24c952f4df9d71fce99f70308a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 23 14:17:11 2009 +0000

    SOCKS5: gabble_bytestream_socks5_send: artifically keep the bytestream alive if something when wrong while sending

 src/bytestream-socks5.c |   16 ++++++++++++++--
 1 files changed, 14 insertions(+), 2 deletions(-)

commit 16d51f6157cc22e7f7c5928c3f217a28d10bdb1f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 23 12:23:25 2009 +0000

    add test-receive-file-and-close-socket-while-receiving.py

 tests/twisted/Makefile.am                          |    1 +
 ...eceive-file-and-close-socket-while-receiving.py |   26 ++++++++++++++++++++
 2 files changed, 27 insertions(+), 0 deletions(-)

commit e081a6bdb2493c890762a0d5ebaa85a09ad62cf0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 23 12:19:31 2009 +0000

    transport_disconnected_cb: close bytestream if needed

 src/file-transfer-channel.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit f0927fbd1bc371229ef8e17ac852051dfe2aa53a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 17 15:33:53 2009 +0000

    sync_stream once we sent the contact capabilities

 .../twisted/file-transfer/file_transfer_helper.py  |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit bcf438d43d1e2625e9c24d2a15cc91c31919a6ce
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Mar 20 15:11:53 2009 +0200

    Ignore Google relay responses when session dies
    
    This fixes fd.o #20764.
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

 src/media-channel.c                  |   28 ++++++++++++++++++++++
 tests/twisted/jingle/google-relay.py |   42 +++++++++++++++++++++++++++++-----
 2 files changed, 64 insertions(+), 6 deletions(-)

commit 7b91982fe6ecf4a86290f38e87fe31fd9fb1cf2d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 17 15:34:18 2009 +0000

    gabble_file_transfer_channel_offer_file: pick a resource supporting FT

 src/file-transfer-channel.c |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit ec8f59ba90bbd6d9627938aa5b3bfb91b9342a54
Merge: ef6db2f a7aff72
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 19 12:00:41 2009 +0000

    Merge branch 'uuid'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit e35a1607c826b688d45d1586fefd5bdc9f8f5e64
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 19 10:51:25 2009 +0000

    fix debug messages

 src/file-transfer-channel.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit a7aff72bc7f617d5501801f5be2b3dab71b9eedc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 18 16:43:22 2009 +0000

    Send and receive message-token/delivery-token/sent message tokens, using the XMPP id attribute

 src/im-channel.c                 |   23 ++++++++++++++++++++
 src/im-channel.h                 |    4 +-
 src/im-factory.c                 |    6 ++--
 src/message-util.c               |   12 ++++++++++-
 src/message-util.h               |    4 +-
 src/muc-channel.c                |   21 +++++++++++++++++++
 src/muc-channel.h                |    5 ++-
 src/muc-factory.c                |    6 ++--
 tests/test-parse-message.c       |   42 +++++++++++++++++++++++++++++++------
 tests/twisted/muc/send-error.py  |    7 ++---
 tests/twisted/muc/test-muc.py    |   15 ++++++++++---
 tests/twisted/text/send-error.py |   11 ++++++++-
 tests/twisted/text/test-text.py  |    7 +++++-
 13 files changed, 132 insertions(+), 31 deletions(-)

commit bf1bc5413c6d58e2a678f61c8436893ac0d93b23
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 18 16:40:31 2009 +0000

    util: add gabble_generate_id, a wrapper for libuuid (if available) or a time-based ID (if not)

 configure.ac    |    9 +++++++++
 src/Makefile.am |    4 ++--
 src/util.c      |   27 +++++++++++++++++++++++++++
 src/util.h      |    2 ++
 4 files changed, 40 insertions(+), 2 deletions(-)

commit 13dc85dc32c3c274fe2b30da3bf7c59bbd0fc621
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 18 15:42:18 2009 +0000

    pass a 0 offset to AcceptFile

 .../twisted/file-transfer/file_transfer_helper.py  |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ef6db2fb8b80940e5ebcf389e80f3f8f051bafbe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 18 14:58:55 2009 +0000

    transport_handler: read_buffer is not supposed to be NULL

 src/bytestream-socks5.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 2e01f73fd527b2fd0e86b4ea4782452e5ad8d5d6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 18 14:45:52 2009 +0000

    bytestream_activate_next: assert that active_bytestream is not NULL

 src/bytestream-multiple.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 5c679af0df3ea3ddffdf5af3bf7d1a1caeab4ba6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 18 14:39:58 2009 +0000

    check_activity_properties: check pubsub_query return value

 src/conn-olpc.c |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit 79acf41e11bb5c0d18e199812022707f8a47748d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 18 14:38:09 2009 +0000

    gibber-listener: check getsockname return value

 lib/gibber/gibber-listener.c |   11 ++++++++++-
 1 files changed, 10 insertions(+), 1 deletions(-)

commit b717beff7da363d3a9e63261ea0048956d4a2a86
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 18 14:34:57 2009 +0000

    gabble_jingle_session_parse: we don't use the responder attribute

 src/jingle-session.c |    5 +----
 1 files changed, 1 insertions(+), 4 deletions(-)

commit 8af849bcceaa4f65f8e0f38a68347db29b5b5aa8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 18 14:34:23 2009 +0000

    gabble_jingle_session_parse: we don't use the 'to' attribute

 src/jingle-session.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 6a61589399342ca37300bae4cfece5acaacf5c47
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 18 14:30:34 2009 +0000

    gabble_olpc_buddy_view_constructor: remove useless priv pointer

 src/olpc-buddy-view.c |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit d156a725f7e31f3fe2556939c3245e3e731cf6f3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 18 14:29:38 2009 +0000

    gabble_olpc_activity_view_constructor: no need of contact_handles

 src/olpc-activity-view.c |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit 8faadc8de2fc4bb1a381e545ca6b03b53ae58804
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 18 14:28:00 2009 +0000

    gabble_private_tubes_factory_requestotron: no need to store the newly created tubes channel

 src/private-tubes-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 85ff6dff8a879ded9b36a102c55efe0894621754
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 18 14:25:06 2009 +0000

    coding style fix

 src/private-tubes-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 57a4c72ad6cc41414e66e5862d9511adf06e695d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 18 14:22:18 2009 +0000

    _gabble_muc_channel_state_receive: remove useless priv pointer

 src/muc-channel.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit a30aef418708b44a2169c20114a9dbf4aaf03122
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 18 14:18:13 2009 +0000

    tube-dbus: check dbus_message_set_sender return value

 src/tube-dbus.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit ca5915d16ca87f8d5e332228e1c0ac7734849d08
Merge: 10fd4dc f8f728b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 17:29:29 2009 +0000

    Merge branch 'socks5' into file-transfer
    
    Conflicts:
    
    	NEWS

commit f8f728b4e16db990f4563c48a869fd56e0876ba6
Merge: c1bc9db 9a60bbe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 17:25:54 2009 +0000

    Merge branch 'master' into socks5
    
    Conflicts:
    
    	NEWS

commit 9a60bbeef15d0d1c264f436ee5c09414bd8e10a6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 17:20:22 2009 +0000

    start NEWS for 0.7.24

 NEWS |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 96854518049abdaa5d015bddad3a37592869b4b0
Merge: cfcf2a7 931f10a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 17:16:06 2009 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble

commit cfcf2a75f4535f4b825d4ae09f2b9f3c294a384d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 17:12:50 2009 +0000

    presence-cache: coding style fix

 src/presence-cache.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2b7e9140a7b9bd5e01c2e9e18a2f8c5aa6a0f95b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 17:12:36 2009 +0000

    media-channel: coding style fix

 src/media-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 658f7eca0fbb42657570a3a0c94e77ef188957cf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 17:12:20 2009 +0000

    muc-factory: coding style fix

 src/muc-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 0f055e3135a550572c92ce3dfa98d9da696039ca
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 17:12:04 2009 +0000

    jingle-session: coding style fix

 src/jingle-session.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 832a79fc79da555f10c8bd100371b4bb707ab51b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 17:11:46 2009 +0000

    jingle-media-rtp: coding style fix

 src/jingle-media-rtp.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9f63560b30b023a989b9fa1a8bc4ab21b7f021e2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 17:11:30 2009 +0000

    jingle-content: coding style fix

 src/jingle-content.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e80bcaaf09e982399e5a31aaba92e038ff3f62d9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 17:11:11 2009 +0000

    conn-location: coding style fixes

 src/conn-location.c |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit 2084ee0bd40598c4ce14021e793c624a95e9a077
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 17:07:21 2009 +0000

    no need to add telepathy_gabble_SOURCES twice to check_c_sources

 src/Makefile.am |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 394a103595fb239772819e6393bb485e01951021
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 17:06:57 2009 +0000

    libgabble_convenience_la_our_sources has been renamed to libgabble_convenience_la_SOURCES

 src/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 10fd4dc9d9a154d41f46913ad4716bb6f794d62e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 16:14:04 2009 +0000

    gabble_ft_manager_handle_request: display contact ID instead of his handle in debug msg

 src/ft-manager.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 0732e5561fc718c7d1a8202a1a6d3c01c91dbc0e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 16:12:58 2009 +0000

    gabble_file_transfer_channel_constructor: add a debug msg telling some info about the FT

 src/file-transfer-channel.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit a840a1c235ed3123962338c2871ae0379ad28476
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 16:11:36 2009 +0000

    generate FT channel path in the channel constructor and using its address to ensure it's unique

 src/file-transfer-channel.c |    5 +++--
 src/file-transfer-channel.h |    2 +-
 src/ft-manager.c            |   31 ++-----------------------------
 3 files changed, 6 insertions(+), 32 deletions(-)

commit 931f10a82722160466a49e8f11d75c427c8a1366
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Mar 16 15:28:53 2009 +0000

    bump nano version to 0.7.23.1

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit da9b753fbda9c1b43ffd1a374c2979bf9cfa1623
Merge: d57d924 99db953
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 16 11:33:08 2009 +0000

    Merge branch 'master' into file-transfer
    
    Conflicts:
    
    	NEWS
    	tests/twisted/tubes/tubetestutil.py

commit 113bf9551a8f65756325b92c303e4deb7008141c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Mar 13 09:34:38 2009 +0000

    Version 0.7.23

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 126a701c0c1666b1e083dad22d66a7257f23cd30
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Mar 13 09:32:53 2009 +0000

    Mention GetHandle() fix in NEWS

 NEWS |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 29d4f47b5027ade30c92f4bf07678a81343d5607
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Mar 13 09:28:02 2009 +0000

    Fill in release name and date.

 NEWS |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit b87e8083082ecee8f3136eba8b0de633c590ca2b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Mar 13 09:24:32 2009 +0000

    Mention CodecsUpdated in NEWS

 NEWS |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit b69a34054106e329c5262fa0daeabd76c88baa0a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Mar 13 18:47:51 2009 +0000

    Remove redundant GET_PRIV macros from most jingle code
    
    MediaFactory still has one because it's not just foo->priv and I was
    just doing this while running the test suite.

 src/jingle-content.c          |   40 ++++++++++-----------
 src/jingle-factory.c          |   31 +++++++----------
 src/jingle-session.c          |   52 +++++++++++++---------------
 src/jingle-transport-google.c |   24 ++++---------
 src/media-channel.c           |   75 +++++++++++++++++++----------------------
 src/media-stream.c            |   60 ++++++++++++++++-----------------
 6 files changed, 129 insertions(+), 153 deletions(-)

commit 44481cf150dd87272f4829fd34888236195bf8b8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Mar 13 18:22:00 2009 +0000

    Make MediaStream ref its JingleContent
    
    (rather than assuming that the former will outlive the latter, which
    isn't always true.) Use gabble_signal_connect_weak () to disconnect from
    all the content's signals when the stream is destroyed, rather than only
    disconnecting from one.

 src/media-stream.c |   36 +++++++++++++++---------------------
 1 files changed, 15 insertions(+), 21 deletions(-)

commit c1bc9dbd4cb1f9920921336cd5a255d976e6f754
Merge: 05b8a90 99db953
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Mar 13 15:14:16 2009 +0000

    Merge branch 'master' into socks5-reverted
    
    Conflicts:
    
    	NEWS
    	tests/twisted/tubes/tubetestutil.py

commit 05b8a90113eb5db16f572f97ad46219e13a6931a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Mar 13 11:26:01 2009 +0000

    fix typo in comment

 tests/twisted/bytestream.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 470373552ec78c3756bd75f6dd1f4f1e4b07daf1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Mar 13 11:21:01 2009 +0000

    fix NEWS

 NEWS |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit cd921f153fe0079619bb8bffb45c7a8383a4540f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 11 15:24:41 2009 +0000

    style fixes

 src/bytestream-socks5.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 99db9537acc30839ecf5028bbc1fd8f3c8e82b41
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Mar 13 10:19:55 2009 +0000

    cast codec->id to a guint before using GUINT_TO_POINTER to make compiler happy

 src/jingle-media-rtp.c |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

commit 57ab67458f686de32a5efde7639d6a06f9246257
Merge: 305cc16 75e0188
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 12 20:07:24 2009 +0000

    Merge branch 'codecs-updated'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 305cc169bc503736bfa5391b2af3ce46ae98f7f9
Merge: 435733f 36fd708
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 12 19:17:35 2009 +0000

    Merge branch 'request-streams'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>
    Reviewed-by: Robert McQueen <robert.mcqueen@collabora.co.uk>

commit 435733fc8f8a89ca91fa02a1c89edfda274ca7f0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 12 18:53:15 2009 +0000

    Include SI namespace when expecting iq result

 tests/twisted/tubes/accept-private-dbus-tube.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3246db382f7fb5213ae0d53ef6992dbd276a559a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 12 18:32:42 2009 +0000

    Fix format strings for gsize

 src/bytestream-ibb.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 36fd708aa55f2fbe7a3d35d3b4c322bd60bb108a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 12 18:11:50 2009 +0000

    Constant-ify and tidy jingle/outgoing-many-streams

 tests/twisted/constants.py                    |    2 +
 tests/twisted/jingle/outgoing-many-streams.py |  111 ++++++++-----------------
 2 files changed, 38 insertions(+), 75 deletions(-)

commit f303376e54b5438c062808ba4e294d38ed450f81
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 12 17:29:22 2009 +0000

    Improve PendingStreamRequest comments

 src/media-channel.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 4d804b4829a9c182588680a1bd62bc4e4cddd44b
Merge: d67a2f6 3ecb603
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 12 17:17:21 2009 +0000

    Merge branch 'get-muc'

commit 3ecb60343c6b95e9d52a45d0147a52f7e1c38123
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 12 15:06:06 2009 +0000

    add anonymous arg to get_muc_tubes_channel

 tests/twisted/tubes/muctubeutil.py |    9 +++++++--
 1 files changed, 7 insertions(+), 2 deletions(-)

commit b18f924de51bf9fcc567fd136ca807182a4a98e0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 12 14:47:26 2009 +0000

    offer-muc-stream-tube.py: use get_muc_tubes_channel

 tests/twisted/tubes/offer-muc-stream-tube.py |   85 +++-----------------------
 1 files changed, 9 insertions(+), 76 deletions(-)

commit 3beec7a23bf674e05133426257b142982d4d3931
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 12 14:45:55 2009 +0000

    get_muc_tubes_channel: return the room handle instead of an array containing only it

 tests/twisted/tubes/muc-presence.py        |    2 +-
 tests/twisted/tubes/muctubeutil.py         |    9 +++++----
 tests/twisted/tubes/offer-muc-dbus-tube.py |    6 +++---
 3 files changed, 9 insertions(+), 8 deletions(-)

commit 20a0004860b00fdcd173c4e2ba81fb4abd5b0f81
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 12 14:35:04 2009 +0000

    get_muc_tubes_channel: use constants

 tests/twisted/tubes/muctubeutil.py |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit 55087b760173e5918d7e328c90a56ca58d869ca5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 12 14:33:58 2009 +0000

    get_muc_tubes_channel: check NewChannels signal

 tests/twisted/tubes/muctubeutil.py |   40 ++++++++++++++++++++++++++++++++++-
 1 files changed, 38 insertions(+), 2 deletions(-)

commit d67a2f6fe4e11b2beb2541871ff849846694af7b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 12 13:44:48 2009 +0000

    fix typo in NEWS

 NEWS |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 257c5b368574c868ae204a24870acef8855fadef
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 12 13:29:18 2009 +0000

    IBB: add a comment explaining how we use sent_stanzas_not_acked

 src/bytestream-ibb.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 46610499c7d51cf371ee1e8947f454d2dede6abd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 10 12:13:52 2009 +0000

    upgrade NEWS

 NEWS |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 4f36fb77e770ff5a9ce92d0382a445841b0cf31d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 10 11:42:31 2009 +0000

    gabble_bytestream_ibb_close_received: wait write buffer is flushed before closing

 src/bytestream-ibb.c |   24 +++++++++++++++++++-----
 1 files changed, 19 insertions(+), 5 deletions(-)

commit 964398ef910d5d7d2c0feabb743981e75b6bac00
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 10 11:32:50 2009 +0000

    add gabble_bytestream_ibb_close_received

 src/bytestream-factory.c |    7 +------
 src/bytestream-ibb.c     |   13 +++++++++++++
 src/bytestream-ibb.h     |    3 +++
 3 files changed, 17 insertions(+), 6 deletions(-)

commit 079d9573735ce9478a4b2aa6927a10cdd3dccb9e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 10 10:58:44 2009 +0000

    IBB: don't close the bytestream right away if the write buffer is not empty

 src/bytestream-ibb.c |   60 ++++++++++++++++++++++++++++++++++---------------
 1 files changed, 41 insertions(+), 19 deletions(-)

commit 06be065fab5a721c52ef54426b67509e545d9627
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 9 18:22:13 2009 +0000

    BytestreamS5B.get_data: check size of expected data

 tests/twisted/bytestream.py |   13 ++++++++++---
 1 files changed, 10 insertions(+), 3 deletions(-)

commit a1ac7a4de1ee77a191e0bad0f7bfa98fe0aa9077
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 9 18:17:52 2009 +0000

    IBB: don't ack IQ while the bytestream is read blocked

 src/bytestream-ibb.c |   48 ++++++++++++++++++++++++++++++++++++++++++++++--
 1 files changed, 46 insertions(+), 2 deletions(-)

commit 21bc593fd39c3d3f3424a1a94509072df3b0333d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 9 17:57:20 2009 +0000

    IBB: write block the bystream while the write buffer is not empty

 src/bytestream-ibb.c |   32 ++++++++++++++++++++++++++++++--
 1 files changed, 30 insertions(+), 2 deletions(-)

commit 31068b6b6167bd51963ccd3040fa2ecb84c75ec8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 9 17:51:37 2009 +0000

    IBB: implement flow control using a window of acked stanzas

 src/bytestream-ibb.c |  147 ++++++++++++++++++++++++++++++++++++++++++--------
 1 files changed, 124 insertions(+), 23 deletions(-)

commit a9484a3fd320c1d0784f3d5937187dd1512a659b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 9 17:40:33 2009 +0000

    set a ridiculously small block size to stress test IBB buffering

 tests/twisted/bytestream.py |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 6fa344b408665f62e72b0a9f5922632edaf14b7c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 9 17:08:45 2009 +0000

    pass expected data len to get_data

 tests/twisted/tubes/accept-private-stream-tube.py |    7 ++++---
 tests/twisted/tubes/offer-muc-stream-tube.py      |    6 ++++--
 tests/twisted/tubes/offer-private-stream-tube.py  |   14 ++++++++------
 3 files changed, 16 insertions(+), 11 deletions(-)

commit 0617278f4c10d8f2fbe5e3aadc64dfd7a9410ff5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 9 17:07:36 2009 +0000

    add optionnal len arg to get_data

 tests/twisted/bytestream.py |   40 ++++++++++++++++++++++++----------------
 1 files changed, 24 insertions(+), 16 deletions(-)

commit 8b5161f0d2ee0533b78223f6d009cb80ad75cb2b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 9 16:21:05 2009 +0000

    factor out send_data

 src/bytestream-ibb.c |   46 ++++++++++++++++++++++++++++++----------------
 1 files changed, 30 insertions(+), 16 deletions(-)

commit d5ac5663d585b908ead7a8b62eac9fc2f6e8a90a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 9 16:16:28 2009 +0000

    rename BUFFER_MAX_SIZE to READ_BUFFER_MAX_SIZE

 src/bytestream-ibb.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 0656a9a720fa567cfa1bffc8fb71110a92bdf25c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 9 16:11:04 2009 +0000

    bytestream-ibb: rename buffer to read_buffer

 src/bytestream-ibb.c |   26 +++++++++++++-------------
 1 files changed, 13 insertions(+), 13 deletions(-)

commit 5c8b65a748b5f008f10e6b1397ecf120446c3614
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 9 16:08:13 2009 +0000

    ack IBB IQ's in tests

 tests/twisted/bytestream.py |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit e03952b281cadc29d3bfdb5c9bffe0a45712814f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 9 16:04:36 2009 +0000

    use IQ's to send IBB data

 src/bytestream-ibb.c        |   24 ++++++------------------
 tests/twisted/bytestream.py |    6 +++---
 2 files changed, 9 insertions(+), 21 deletions(-)

commit 30ddd4cfaaa9596d5c47be3d71f58718d06d8f1f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 9 16:00:42 2009 +0000

    fix typo in comment

 src/bytestream-ibb.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 6fb4272f0ebf1d81424f9e4735f8ffc7f701e8a9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 9 15:57:07 2009 +0000

    add BytestreamIBBIQ

 tests/twisted/bytestream.py         |   14 +++++++++++++-
 tests/twisted/tubes/tubetestutil.py |   10 +++++++---
 2 files changed, 20 insertions(+), 4 deletions(-)

commit 82aa62aca65b98f24c854f35b66cc9e8427ba8c7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 9 15:55:12 2009 +0000

    abstract BytestreamIBB

 tests/twisted/bytestream.py |   39 ++++++++++++++++++++++++++++-----------
 1 files changed, 28 insertions(+), 11 deletions(-)

commit 8fa10114b4274b7763e1d6fc451c7e635965cf13
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 12 11:23:54 2009 +0000

    olpc/gadget-invite.py: use make_muc_presence

 tests/twisted/olpc/gadget-invite.py |   21 +++++----------------
 1 files changed, 5 insertions(+), 16 deletions(-)

commit 2d030872e01ad57967857cc10e7d3ddbea7254d6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 12 11:23:43 2009 +0000

    muc/test-muc-ownership.py: use make_muc_presence

 tests/twisted/muc/test-muc-ownership.py |   46 +++++-------------------------
 1 files changed, 8 insertions(+), 38 deletions(-)

commit 49054d88e73a13116cf53c7ffefbedbccab5496e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 12 11:23:29 2009 +0000

    add optionnal jid arg to make_muc_presence

 tests/twisted/gabbletest.py |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit e8d806c080ad5421f0031603a51c537bdfa40c6e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 12 11:15:53 2009 +0000

    muc/test-muc-invitation.py: use make_muc_presence

 tests/twisted/muc/test-muc-invitation.py |   10 ++--------
 1 files changed, 2 insertions(+), 8 deletions(-)

commit 3d2ad56b5d24405eb6f261b32b0347a7e7d8785a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 12 11:15:35 2009 +0000

    muc/test-muc-alias.py: use make_muc_presence

 tests/twisted/muc/test-muc-alias.py |   18 +++---------------
 1 files changed, 3 insertions(+), 15 deletions(-)

commit dfe39dfc7af6a44ba97932db3a3058bce8d842d1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 12 11:15:18 2009 +0000

    muc/test-muc-properties.py: use make_muc_presence

 tests/twisted/muc/test-muc-properties.py |   10 ++--------
 1 files changed, 2 insertions(+), 8 deletions(-)

commit 6f080a8a5970c5a9f1a380bc52f1c9c409d1dce1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 12 11:14:58 2009 +0000

    olpc/olpc-muc-invitation.py: use make_muc_presence

 tests/twisted/olpc/olpc-muc-invitation.py |   10 ++--------
 1 files changed, 2 insertions(+), 8 deletions(-)

commit 97dfe60d4656e997017f62036b0812e5d9bbc6dd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 12 11:14:48 2009 +0000

    olpc/olpc-muc-prop-change.py: use make_muc_presence

 tests/twisted/olpc/olpc-muc-prop-change.py |   10 ++--------
 1 files changed, 2 insertions(+), 8 deletions(-)

commit 1d80fe270d2ddfde1ce82ab799c02787daf9515e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 12 11:13:52 2009 +0000

    vcard/test-muc-alias.py: use make_muc_presence

 tests/twisted/vcard/test-muc-alias.py |   18 +++---------------
 1 files changed, 3 insertions(+), 15 deletions(-)

commit f847902e4a2e7606ca62f9dbef8d2dfc004c9bee
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 12 11:13:36 2009 +0000

    muc/test-ensure.py: use make_muc_presence

 tests/twisted/muc/test-ensure.py |   34 +++++-----------------------------
 1 files changed, 5 insertions(+), 29 deletions(-)

commit cdf8bcaa5195e42dca5d3f72fa06ed8f38af4dd6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 12 11:00:46 2009 +0000

    test-get-available-tubes: use make_muc_presence

 tests/twisted/tubes/test-get-available-tubes.py |   18 +++---------------
 1 files changed, 3 insertions(+), 15 deletions(-)

commit c5730a3fe5efd8fb3ba0be29ba121ed741c35661
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 12 11:00:25 2009 +0000

    muctubeutil: use make_muc_presence

 tests/twisted/tubes/muctubeutil.py |   18 +++---------------
 1 files changed, 3 insertions(+), 15 deletions(-)

commit 65db874f9882f7efd0b01072fe860abde196059e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 12 10:52:25 2009 +0000

    close-muc-with-closed-tube: use make_muc_presence

 tests/twisted/tubes/close-muc-with-closed-tube.py |   25 +++-----------------
 1 files changed, 4 insertions(+), 21 deletions(-)

commit 1864d10d6cea70e65376349ff1753b2f7d92b525
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 12 10:50:17 2009 +0000

    accept-muc-dbus-tube: use make_muc_presence

 tests/twisted/tubes/accept-muc-dbus-tube.py |    9 ++-------
 1 files changed, 2 insertions(+), 7 deletions(-)

commit 3bbe1d155f26a1b7ce41bb8117ef1f1b22100063
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 12 10:47:35 2009 +0000

    accept-muc-stream-tube: use make_muc_presence

 tests/twisted/tubes/accept-muc-stream-tube.py |   25 ++++---------------------
 1 files changed, 4 insertions(+), 21 deletions(-)

commit 5c6ae68a4fdb73dd0092f0fdba2fc0e80fcbb447
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 11 15:21:57 2009 +0000

    style fix

 src/bytestream-socks5.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit cc507f61f9027d7c2a5402887b638b374001cf82
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 11 14:55:28 2009 +0000

    wrap a long line

 src/bytestream-socks5.h |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit eb61bc3be627e911b6bb0a3f290ddabbce3e2ea4
Merge: 60db960 3d416d5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 11 14:36:49 2009 +0000

    Merge branch 'master' into socks5

commit 341d3a216d71bafe861064e1f720adc46592b9cc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 11 12:50:51 2009 +0000

    tests/twisted: Use conn.Requests instead of making a dbus.Interface

 tests/twisted/jingle/google-relay.py               |    4 +---
 tests/twisted/jingle/outgoing-many-streams.py      |    4 +---
 tests/twisted/jingle/test-outgoing-call-ensure.py  |   10 +++-------
 .../jingle/test-outgoing-call-requestotron.py      |    4 +---
 tests/twisted/muc/roomlist.py                      |    7 ++-----
 tests/twisted/muc/test-ensure.py                   |   14 ++++----------
 tests/twisted/roster/ensure.py                     |    6 ++----
 tests/twisted/roster/request-group-after-roster.py |    4 +---
 tests/twisted/text/ensure.py                       |   19 ++++++++-----------
 tests/twisted/text/initiate-requestotron.py        |    4 +---
 tests/twisted/text/send-error.py                   |    8 ++------
 tests/twisted/text/test-chat-state.py              |    4 +---
 .../twisted/tubes/create-invalid-tube-channels.py  |    5 ++---
 tests/twisted/tubes/ensure-si-tube.py              |    6 ++----
 tests/twisted/tubes/offer-muc-stream-tube.py       |    3 +--
 tests/twisted/tubes/offer-private-dbus-tube.py     |    3 +--
 tests/twisted/tubes/offer-private-stream-tube.py   |    4 +---
 tests/twisted/tubes/request-invalid-dbus-tube.py   |    4 +---
 18 files changed, 35 insertions(+), 78 deletions(-)

commit f81991cd6f95cd010855dfc8b657ae100b551ad2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 11 12:39:02 2009 +0000

    servicetest: add SimplePresence and Requests to the magical interface list

 tests/twisted/servicetest.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d57d924b040401775e90c6da5da644e941b4b45e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 11 12:29:52 2009 +0000

    gabble_ft_manager_handle_si_request: check if strptime failed

 src/ft-manager.c |   10 +++-------
 1 files changed, 3 insertions(+), 7 deletions(-)

commit 516655377649b3a608cdc7ed7c6964824b279d79
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 11 12:22:09 2009 +0000

    test date when reciving a file

 .../twisted/file-transfer/file_transfer_helper.py  |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 5700109c08ae092b1b953fa7a9a0984aa8082a4b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 11 12:21:49 2009 +0000

    parse date in FT offer

 src/ft-manager.c |   22 ++++++++++++++++++++--
 1 files changed, 20 insertions(+), 2 deletions(-)

commit de041d47bcc36557d9c85348921c852ac456949d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 11 11:53:48 2009 +0000

    check date in FT offer

 .../twisted/file-transfer/file_transfer_helper.py  |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 04bca642fce8bf29cbb2a9ad50ae4cce9f5ab96d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Mar 11 11:53:26 2009 +0000

    gabble_file_transfer_channel_offer_file: send date in FT offer

 src/file-transfer-channel.c |   14 ++++++++++++++
 1 files changed, 14 insertions(+), 0 deletions(-)

commit bd42643d6f9fb24808ed3dc625998e08d590b2f3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 11 10:57:19 2009 +0000

    jingle/outgoing-many-streams.py: test a pathologically large number of audio and video streams

 tests/twisted/Makefile.am                     |    1 +
 tests/twisted/jingle/outgoing-many-streams.py |  280 +++++++++++++++++++++++++
 2 files changed, 281 insertions(+), 0 deletions(-)

commit 9146471f7d43ee5ae2b77ac16916e879df5f6d0e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 11 10:54:57 2009 +0000

    GabbleMediaChannel: return streams from RequestStreams in the correct order
    
    RequestStreams guarantees to return streams in the same order as requests,
    so we need to remember what order the content objects were in, and return
    streams in the corresponding order.

 src/media-channel.c |   92 ++++++++++++++++++++++++++++----------------------
 1 files changed, 51 insertions(+), 41 deletions(-)

commit 55d4ac72bd5a7ee51ae577c9c891158dba18cc21
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 11 10:26:45 2009 +0000

    GabbleMediaChannel: improve comments a bit

 src/media-channel.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 4385aa1eff8a778b974318f6e2c8383808233f58
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 11 10:06:08 2009 +0000

    jingle/test-outgoing-call-requestotron.py: exercise ListStreams in a basic way, and make assertions about the result of RequestStreams

 .../jingle/test-outgoing-call-requestotron.py      |   21 +++++++++++++++++++-
 1 files changed, 20 insertions(+), 1 deletions(-)

commit de4326a63eb128a9471a37ee1fe108f39f54694f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 11 10:05:46 2009 +0000

    jingle/test-outgoing-call.py: exercise ListStreams in a basic way, and make assertions about the result of RequestStreams

 tests/twisted/jingle/test-outgoing-call.py |   21 ++++++++++++++++++++-
 1 files changed, 20 insertions(+), 1 deletions(-)

commit 8c5ae6d3af74b8361a7d45499821ba1abe4812c1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 11 10:05:08 2009 +0000

    jingle/test-incoming-call.py: exercise ListStreams in a basic way

 tests/twisted/jingle/test-incoming-call.py |   15 +++++++++++++++
 1 files changed, 15 insertions(+), 0 deletions(-)

commit 1630d87313d0a8a8a72f5fd2f51480d71b4b1e4a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 11 10:04:35 2009 +0000

    GabbleMediaChannel: fix regression in RequestStreams: return the streams, not an empty list

 src/media-channel.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 0b70212cafc11445909b2bc58591e941ad8a4cde
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 11 09:45:45 2009 +0000

    GabbleMediaChannel: don't leak the value arrays returned by ListStreams and RequestStreams

 src/media-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 3d416d5497f798f653279863b1a98554ed07ef49
Merge: 3dee475 731b3ac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 10 18:18:26 2009 +0000

    Merge branch 'compliance'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 731b3ac561278116dc204143c38c26efc93316d1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 10 18:12:53 2009 +0000

    Here is the NEWS

 NEWS |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit d7a4961d339d8aab8d0e688f46d0a2b46da4e6f4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 10 18:05:44 2009 +0000

    Various Jingle tests: assert that GetHandle() returns the right thing in all cases

 tests/twisted/jingle/test-incoming-call.py         |    2 ++
 .../jingle/test-outgoing-call-deprecated.py        |    5 ++++-
 .../jingle/test-outgoing-call-deprecated2.py       |    4 ++++
 .../jingle/test-outgoing-call-requestotron.py      |    3 +++
 tests/twisted/jingle/test-outgoing-call.py         |    2 ++
 5 files changed, 15 insertions(+), 1 deletions(-)

commit d848d59cc1c44c1613eb346ac4cf8f258cb6fa7f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 10 18:02:20 2009 +0000

    gabble_media_channel_get_handle: return the same things GetAll would, rather than hard-coding (0, 0)

 src/media-channel.c |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit 232db1c2ad2a90b42e466204a0e8f178c4afdb70
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 10 17:26:26 2009 +0000

    remove InitialOffset from allowed properties as we don't support it atm

 src/ft-manager.c                                   |    1 -
 .../twisted/file-transfer/file_transfer_helper.py  |    4 +---
 2 files changed, 1 insertions(+), 4 deletions(-)

commit 3dee47538e296a63e05379d703befdc2a8828d70
Merge: 2af5cf0 e9aa4d8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 10 13:32:55 2009 +0000

    Merge branch '20566'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit d2e1c8c6c2a67c0217aa0b23a26601140d8e74f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 10 13:16:59 2009 +0000

    remove useless bytestream import from FT tests

 .../twisted/file-transfer/file_transfer_helper.py  |    4 ++--
 .../test-receive-file-and-disconnect.py            |    3 +--
 ...ive-file-and-sender-disconnect-while-pending.py |    3 +--
 tests/twisted/file-transfer/test-receive-file.py   |    3 +--
 .../test-send-file-provide-immediately.py          |    2 +-
 .../test-send-file-wait-to-provide.py              |    2 +-
 6 files changed, 7 insertions(+), 10 deletions(-)

commit d208a582a5ce1bece2a98cae95bec081f92cb7c9
Merge: 30a2024 60db960
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 10 13:10:20 2009 +0000

    Merge branch 'socks5' into file-transfer

commit 60db960c2da83f7ed8219adaf5e527fa62c07026
Merge: 3a3c481 2af5cf0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 10 13:04:29 2009 +0000

    Merge branch 'master' into socks5
    
    Conflicts:
    
    	tests/twisted/tubes/tubetestutil.py

commit 2af5cf03638a9bb49f938d4d2aef832870963725
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 10 12:48:29 2009 +0000

    gibber_fd_transport_set_fd: don't add watcher if transport was blocked

 lib/gibber/gibber-fd-transport.c |   11 +++++++++--
 1 files changed, 9 insertions(+), 2 deletions(-)

commit e9aa4d8a4630fe0a08066fdd6ab4bbcbf60d6420
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 10 12:47:13 2009 +0000

    google-relay.py: test outgoing calls too (regression test for fd.o#20566)

 tests/twisted/jingle/google-relay.py |  110 +++++++++++++++++++++++++--------
 1 files changed, 83 insertions(+), 27 deletions(-)

commit c12d6775bc495f65e9da758375efabde632a9677
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 10 12:12:59 2009 +0000

    GabbleMediaChannel: don't return from RequestStreams until the stream is actually created
    
    Now that creating a stream from a content is never synchronous, we can
    safely assume that the stream can't be created until the main loop is
    re-entered.

 src/media-channel.c |  215 ++++++++++++++++++++++++++++++++++++++++++++-------
 1 files changed, 186 insertions(+), 29 deletions(-)

commit d9ace4029d4d6d65cd7d70a859834f3398e33bd9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 9 19:34:34 2009 +0000

    GabbleMediaChannel: always construct streams asynchronously
    
    Again, this reduces the number of code paths flying around - we can rely
    on things not happening until the main loop is re-entered.

 src/media-channel.c |   48 +++++++++++++++++++++++++++++++++---------------
 1 files changed, 33 insertions(+), 15 deletions(-)

commit 19eb28ed947272d6373a3a610e8339d8fe890be3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 9 19:26:59 2009 +0000

    gabble_jingle_factory_create_google_relay_session: always call callback asynchronously
    
    This reduces the number of code paths, and with hindsight, should have
    been what I did all along.

 src/jingle-factory.c |   27 +++++++++++++++++++++------
 1 files changed, 21 insertions(+), 6 deletions(-)

commit 182b5f5b705a7b99be11d4867d87d6504f131d18
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 9 19:05:33 2009 +0000

    GabbleMediaChannel: refactor _gabble_media_channel_request_streams into _gabble_media_channel_request_contents
    
    We can no longer always create streams synchronously, because downloading
    RelayInfo can be (but is not always!) asynchronous (fd.o#20566 is the
    crash that this causes). This patch works towards solving the crash.

 src/media-channel.c |   40 ++++++++++++++++++++++++++++------------
 1 files changed, 28 insertions(+), 12 deletions(-)

commit 878856b3c79a2b971e3dce8938aca15bd1653768
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 9 15:14:11 2009 +0000

    rename BytestreamIBB to BytestreamIBBMsg

 tests/twisted/bytestream.py         |    4 ++--
 tests/twisted/tubes/tubetestutil.py |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit b1c8daed4e9374b21e42e4b28fb7c2af8b5fa0e7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 9 15:10:42 2009 +0000

    Move IBB code from helper functions to BystreamIBB methods

 tests/twisted/bytestream.py |   68 +++++++++++++++++--------------------------
 1 files changed, 27 insertions(+), 41 deletions(-)

commit 30a202456aed5f83e658153ba2d138410045c22c
Merge: 91b4a19 3a3c481
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 9 14:13:37 2009 +0000

    Merge branch 'socks5' into file-transfer

commit 3a3c4816d29a852fd422efd315b72ed674e38b23
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 9 14:12:45 2009 +0000

    set a timer when trying to connect to streamhost so we don't have to wait for the TCP time out

 src/bytestream-socks5.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 68177c88b5a2fff677919b6e25dc525efc04d9fa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Mar 6 18:07:45 2009 +0000

    Set google:jingleinfo server to 127.0.0.1 in test
    
    Using localhost, libcurl seems to try only the first address it resolves
    to, namely ::1. BaseHTTPServer.HTTPServer doesn't seem to want to bind
    to ::1. I can't find any way to make libcurl fall back if ipv6 doesn't
    work. :(
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

 tests/twisted/jingle/google-relay.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 48754d537f1dd49d81309e78424df0ee893b6d3c
Merge: 5d37572 fed4184
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Mar 6 16:13:30 2009 +0000

    Merge branch 'master' into socks5

commit fed41842c91422a134ab13002060d97a84772757
Merge: 67860b7 d79c7ce
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Mar 6 16:04:33 2009 +0000

    Merge branch 'connect-aysnc'

commit 67860b7b8478771472aa82feeb2ca25072e1788d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Mar 6 16:00:25 2009 +0000

    use caps_helper.make_caps_disco_reply instead of our own copy of it

 tests/twisted/jingle/jingletest.py             |   15 ++-------------
 tests/twisted/tubes/offer-private-dbus-tube.py |   16 +++-------------
 2 files changed, 5 insertions(+), 26 deletions(-)

commit b2854b5680ac4767de8193640283afbcb9869a0c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Mar 6 15:58:41 2009 +0000

    add caps_helper.make_caps_disco_reply

 tests/twisted/caps_helper.py |   14 ++++++++++++++
 1 files changed, 14 insertions(+), 0 deletions(-)

commit 8b36ac0360412177b96a714e8d32252209ba42f6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Mar 6 15:29:14 2009 +0000

    use gabbletest.make_presence instead of our own version of it

 tests/twisted/jingle/jingletest.py             |   18 +-----------
 tests/twisted/test-capabilities.py             |   24 +++-------------
 tests/twisted/test-caps-cache.py               |   24 +++-------------
 tests/twisted/test-caps-hash.py                |   34 +++++++-----------------
 tests/twisted/test-caps-tubes.py               |   30 +++++---------------
 tests/twisted/text/test-chat-state.py          |   18 +-----------
 tests/twisted/tubes/offer-private-dbus-tube.py |   18 +-----------
 7 files changed, 34 insertions(+), 132 deletions(-)

commit 51ab5d916ac59768b59fbe553b535570f6364ca6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Mar 6 15:14:34 2009 +0000

    add gabbletest.make_presence

 tests/twisted/gabbletest.py |   18 ++++++++++++++++++
 1 files changed, 18 insertions(+), 0 deletions(-)

commit d79c7ce2c45f0d0672b5f4862231ebb9b04d0cd8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 5 19:19:37 2009 +0000

    gibber_tcp_transport_connect is now async

 lib/gibber/gibber-tcp-transport.c |  202 ++++++++++++++++++++++++++++---------
 1 files changed, 153 insertions(+), 49 deletions(-)

commit 75e0188097c4e51c64fa81994a0d9bdc501ba1f3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 5 16:55:40 2009 +0000

    Remove redundant cast and local variable

 src/jingle-media-rtp.c |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit d92746666b8ec1e7d4c4fab0bda2f6327f06d08f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 5 16:49:43 2009 +0000

    Sanify freeing of lists of codecs.
    
    l = g_list_remove (l, l->data) is equivalent to
    l = g_list_delete_link (l, l) except silly. :)

 src/jingle-media-rtp.c |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit 04191f245d80a1ecb6588a3583af0445f2b47060
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 5 16:43:20 2009 +0000

    Remove error-setting macros from JingleMediaRtp
    
    Two were unused; one didn't really buy much, and because the same macro
    appears in several other files, hitting ^] in Vim to find its definition
    doesn't work so well.

 src/jingle-media-rtp.c |   14 ++++++--------
 1 files changed, 6 insertions(+), 8 deletions(-)

commit 72c434acc6db4bb8be25b6e5c01d555f12e4a2ff
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 5 16:38:37 2009 +0000

    Simplify handling of local codec updates.

 src/jingle-media-rtp.c |   62 +++++++++++++++++++++---------------------------
 1 files changed, 27 insertions(+), 35 deletions(-)

commit 21d8a23ba53eeb3d16d2c36047c321ea2dd997c6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 5 16:24:34 2009 +0000

    Refactor remote codec update handling.
    
    Previously, if two updates were received, and the second was invalid,
    the first would been applied to the cache before rejecting the
    description-info. This would mean that any subsequent valid
    description-infos would cause SetRemoteCodecs to be emitted including
    the erroneously accepted change from the invalid stanza.

 src/jingle-media-rtp.c |  188 ++++++++++++++++++++++++------------------------
 1 files changed, 95 insertions(+), 93 deletions(-)

commit ae21834fe2d08e4c389bd60cc1fb6e817bfb28d0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 5 14:56:35 2009 +0000

    Make codec freeing functions static

 src/jingle-media-rtp.c |    4 ++--
 src/jingle-media-rtp.h |    2 --
 2 files changed, 2 insertions(+), 4 deletions(-)

commit b87c98dfef32e64ebfb45215747d4e43630d6cf4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 5 14:30:55 2009 +0000

    Use guint8 not guchar for codec IDs.
    
    They're (probably?) the same on all platforms glib runs on, but the id
    is conceptually an integer, not a character.

 src/jingle-media-rtp.c |    2 +-
 src/jingle-media-rtp.h |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 3c56805fb67cb96c4ec60656112ac20803895154
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 5 14:21:48 2009 +0000

    Reject transport-infos changing rate/channels
    
    Also, reject transport-infos which try to add new codecs.

 src/jingle-media-rtp.c                        |   24 ++++++++++++++++++++----
 tests/twisted/jingle/test-description-info.py |   17 ++++++++++++++---
 2 files changed, 34 insertions(+), 7 deletions(-)

commit 5e15bee4a90add120c2b4f33a88e2be23fb22b3d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 5 12:26:46 2009 +0000

    Extract processing one incoming codec update

 src/jingle-media-rtp.c |   87 +++++++++++++++++++++++++++--------------------
 1 files changed, 50 insertions(+), 37 deletions(-)

commit a69bade2180bc5f927ec3e3fc7f0b1af8d6d10f7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 5 12:24:04 2009 +0000

    Test remote end sending a parameter update

 tests/twisted/jingle/jingletest2.py           |   10 ++++++++--
 tests/twisted/jingle/test-description-info.py |   13 +++++++++----
 2 files changed, 17 insertions(+), 6 deletions(-)

commit f7aa06dcecee7acbc5736cf9cc746185b1675ad2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 5 11:48:22 2009 +0000

    Don't leak new remote codecs on update.

 src/jingle-media-rtp.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 256ef2382dc2953711f63bf0c38e6b77dca7de5d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Mar 5 11:26:32 2009 +0000

    Don't let CodecsUpdated change clockrate/channels
    
    Olivier informs me that this is bad and wrong.

 src/jingle-media-rtp.c                        |   50 ++++++++++++++++++------
 tests/twisted/jingle/test-description-info.py |   21 ++++++++--
 2 files changed, 54 insertions(+), 17 deletions(-)

commit 91b4a190f77b81d587e7f39e4e4720af487e8587
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 5 16:11:29 2009 +0000

    break a race when opening the bytestream

 .../twisted/file-transfer/file_transfer_helper.py  |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 1453873cd9ee751a808d28231ffdfd55143bb22c
Merge: c69f490 5d37572
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 5 16:02:34 2009 +0000

    Merge branch 'socks5' into file-transfer

commit 5d3757243d7f2b2ce4ca38387d0201ec8a21e3df
Merge: a88b162 ff36836
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 5 16:01:42 2009 +0000

    Merge branch 'master' into socks5
    
    Conflicts:
    
    	tests/twisted/bytestream.py

commit ff36836c5d6dac08cc4f7d55ca1b1bfdd06fcf23
Merge: 8bff54c af693c3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 5 15:41:11 2009 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble

commit 8bff54cfa40886d15500c7de4c85902061fd6a24
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 5 15:39:04 2009 +0000

    accept-private-dbus-tube: break one more race

 tests/twisted/tubes/accept-private-dbus-tube.py |   10 +++-------
 1 files changed, 3 insertions(+), 7 deletions(-)

commit cf454cf0fd466a5bd89ca319df5dd16b7471c404
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 5 15:28:55 2009 +0000

    pass 2 list of events to open_bystream to break races

 tests/twisted/bytestream.py                     |   50 ++++++++++++-----------
 tests/twisted/tubes/accept-private-dbus-tube.py |   23 ++++++----
 2 files changed, 40 insertions(+), 33 deletions(-)

commit af693c3871c221288750fb80a10f1845ede70245
Merge: c2c8fbb 2bb6db3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 4 18:55:02 2009 +0000

    Merge branch 'relayinfo'
    
    Reviewed-by: Senko Rasic <senko.rasic@collabora.co.uk>

commit c2c8fbbbfaf6b0a61e7d93bc0923e642e60f51fb
Merge: 1029dc4 5219ff8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 4 14:18:53 2009 +0000

    Merge branch 'trivia'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 1029dc459434a6ef22100bdeda3674b84997d1d4
Merge: 7a541e0 ca58e74
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 4 14:18:14 2009 +0000

    Merge commit 'wjt/trivia'
    
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 2bb6db3e78bd4da1da72e491e67f5d5b3c19ae74
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 4 13:04:21 2009 +0000

    jingle/google-relay.py: assert that the RelayInfo is what we allocated

 tests/twisted/jingle/google-relay.py |   38 +++++++++++++++++++++++++++++++++-
 1 files changed, 37 insertions(+), 1 deletions(-)

commit e0013f49555e8639a2b149ee5a3cd21aa42515c5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 4 12:45:04 2009 +0000

    GabbleMediaChannel: pass RelayInfo through to streams on creation

 src/media-channel.c |    2 +-
 src/media-stream.c  |   15 ++++++++++++++-
 src/media-stream.h  |    2 +-
 3 files changed, 16 insertions(+), 3 deletions(-)

commit afa84079ada7a1716b80483e90d2dec17a205d29
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 4 12:42:49 2009 +0000

    GabbleMediaStream: make relay-info settable at construct time

 src/media-stream.c |   14 +++++++++++---
 1 files changed, 11 insertions(+), 3 deletions(-)

commit cf2c76db6951ff9f22e336e6da17dba5c33eda72
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 4 12:36:21 2009 +0000

    GabbleMediaChannel: defer creation of streams until we have the relay info

 src/media-channel.c |  137 +++++++++++++++++++++++++++------------------------
 1 files changed, 72 insertions(+), 65 deletions(-)

commit 818b1bccb8548aa5979e1154259742371d91e4e0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 4 12:22:33 2009 +0000

    GabbleJingleFactory: emit an array of relays in Telepathy format, rather than the last relay received in Google format
    
    Currently, this assumes/hopes that the same username/password can safely
    be used for UDP, TCP and TLS; this could be changed to triple the number
    of HTTP requests in future if necessary.

 src/jingle-factory.c |  110 +++++++++++++++++++++++++++++++++++++++++++++-----
 src/jingle-factory.h |    2 +-
 src/media-channel.c  |   29 +++++++++-----
 3 files changed, 119 insertions(+), 22 deletions(-)

commit babb08b5bdcc40f7ff2339ccc5f18d354c84c6b3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 4 11:43:13 2009 +0000

    jingle/google-relay.py: assert that we get two HTTP requests, and allocate different username/password pairs

 tests/twisted/jingle/google-relay.py |   16 ++++++++++++----
 1 files changed, 12 insertions(+), 4 deletions(-)

commit a726b1086e24ce976854d12b3d9703004008d93e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 4 11:14:01 2009 +0000

    GabbleJingleFactory: when requesting Google relay sessions, make one request per component
    
    We need a separate relay session for the RTP and the RTCP.
    
    For now, only the hash table for the last request to succeed is returned.

 src/jingle-factory.c |   52 ++++++++++++++++++++++++++++++++-----------------
 src/jingle-factory.h |    4 +-
 src/media-channel.c  |    6 +++-
 3 files changed, 40 insertions(+), 22 deletions(-)

commit e790a96519492ca5f809379fce2b7e1906747b24
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 3 19:22:45 2009 +0000

    GabbleJingleFactory: parse Google relay HTTP response in a slightly less copy-happy way

 src/jingle-factory.c |   26 ++++++++++++++------------
 1 files changed, 14 insertions(+), 12 deletions(-)

commit 238c8e80735b146a78a693d093891f6aee2af75a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 3 19:10:08 2009 +0000

    jingle/google-relay.py: Add a test asserting that an appropriate HTTP request is made
    
    This test does not yet assert that anything is done with the result of the
    HTTP request.

 tests/twisted/Makefile.am            |    1 +
 tests/twisted/jingle/google-relay.py |  213 ++++++++++++++++++++++++++++++++++
 2 files changed, 214 insertions(+), 0 deletions(-)

commit 9e079807e993dc2b532c8d152019a305c55a76d0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 3 18:26:16 2009 +0000

    Add a hook for the regression tests to change the HTTP port
    
    The regression tests can't listen on port 80 (we don't want to run them
    as root), so they need a way to feed in a port number.

 src/jingle-factory.c       |   28 +++++++++++++++++++++++++++-
 src/jingle-factory.h       |    2 ++
 tests/twisted/main-debug.c |    2 ++
 3 files changed, 31 insertions(+), 1 deletions(-)

commit 8bf65b1a863787ce7af5526873dbd407f9fcbfe6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 3 17:49:33 2009 +0000

    GabbleJingleFactory: actually return early if we don't want to make the request

 src/jingle-factory.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit bb8fa8f971b124a16d9f7fd953a0e57017e7e53c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 3 17:45:49 2009 +0000

    GabbleMediaChannel: send a Google relay session request for each stream
    
    We don't wait for the reply yet, or do anything with it (other than debug
    output).

 src/media-channel.c |   33 +++++++++++++++++++++++++++++++++
 1 files changed, 33 insertions(+), 0 deletions(-)

commit 8ef87cd4ff66162550553a4baee59cc49aa43f27
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 3 17:40:05 2009 +0000

    GabbleJingleFactory: unref the map after passing it to the callback
    
    If the callback wants it, it can ref it.

 src/jingle-factory.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 19371cd317d9740ea0b5195c333e3b9e5e2139bb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 3 17:16:21 2009 +0000

    GabbleJingleFactory: don't send an invalid HTTP request if we weren't given a server name

 src/jingle-factory.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 6128ba6f3dec123d3102c6e14c94934dfd80d532
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 3 17:16:02 2009 +0000

    GabbleJingleFactory: Make relay_server etc. private

 src/jingle-factory.c |   18 +++++++++++-------
 src/jingle-factory.h |    5 -----
 2 files changed, 11 insertions(+), 12 deletions(-)

commit c78f2bb7fc0cb9e682b0d7e79963e912a65ffd37
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 3 17:15:29 2009 +0000

    JingleFactory: set a short timeout value for google relay session creation
    
    (Also send the HTTP request to the relay server we were told about, not a
    hard-coded hostname, which wasn't mentioned in Senko's original commit
    message -smcv)

 src/jingle-factory.c |   13 +++++++++++--
 1 files changed, 11 insertions(+), 2 deletions(-)

commit 50346532964b55f12a2a8927506e06c7949a80ff
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Dec 5 15:56:35 2008 +0100

    JingleFactory: save relay server and ports from jingle disco

 src/jingle-factory.c |   56 ++++++++++++++++++++++++++++++++++++++++++++++---
 1 files changed, 52 insertions(+), 4 deletions(-)

commit 08790bfe59a29b6ea24d02fe31bf4396aa7ffe07
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Dec 5 15:58:21 2008 +0100

    JingleFactory: add relay variables to the structure

 src/jingle-factory.h |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 58b98bef661439050f9fb2d8bdcc22cbfa839eed
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 3 16:29:13 2009 +0000

    GabbleJingleFactory: call a callback for Google relay sessions, rather than forcibly setting a GObject property
    
    This decouples the creation of Google relay sessions from the precise
    effect of doing so.
    
    Also, call the callback if there is no relay-token, rather than doing
    nothing.

 src/jingle-factory.c |   53 ++++++++++++++++++++++++++++++++++++++++++-------
 src/jingle-factory.h |    8 +++++-
 2 files changed, 51 insertions(+), 10 deletions(-)

commit a821ae61c8bdae405ed4c20c41b1a392b4009fd4
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Dec 3 13:19:37 2008 +0100

    JingleFactory: code for creating google relay sessions if relay-token is known

 src/jingle-factory.c |  100 +++++++++++++++++++++++++++++++++++++++++++++++++-
 src/jingle-factory.h |    2 +
 2 files changed, 101 insertions(+), 1 deletions(-)

commit 5219ff8c5e1af3afe8268e102660237e3e8f0da7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 4 12:20:52 2009 +0000

    util: add gabble_g_value_slice_new_uint and a family of equivalents for strings

 src/util.c |   36 ++++++++++++++++++++++++++++++++++++
 src/util.h |    5 +++++
 2 files changed, 41 insertions(+), 0 deletions(-)

commit d85dff4a3a355f46bf66b8f69d52c1eb426dc845
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Feb 24 17:17:18 2009 +0000

    tests: vastly simplify linking

 tests/Makefile.am |   31 +------------------------------
 1 files changed, 1 insertions(+), 30 deletions(-)

commit 10e676b87137f8bcb1837ee3a62a33eca1b7d78e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Feb 24 17:17:08 2009 +0000

    src/Makefile.am: tell libgabble-convenience.la its dependencies, fixing build of tests with libsoup

 src/Makefile.am |   12 +++++-------
 1 files changed, 5 insertions(+), 7 deletions(-)

commit 7024cf18f9024ae8260aff7d2c85da1ddc104ee0
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Dec 3 13:15:32 2008 +0100

    Depend on libsoup for doing HTTP requests

 configure.ac    |    6 +++++-
 src/Makefile.am |    5 ++++-
 2 files changed, 9 insertions(+), 2 deletions(-)

commit 6cd8ded149c9fef221c45667e832f321461a5da2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 4 12:43:03 2009 +0000

    GabbleMediaStream: don't leak priv->stun_servers

 src/media-stream.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit ca58e74e961c11f20424ab492ae5458a3cd54f70
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Mar 4 12:10:47 2009 +0000

    Bump tp-glib build-dep to 0.7.26
    
    Turns out we should have done this before the last release. :(

 NEWS         |    4 ++++
 configure.ac |    2 +-
 2 files changed, 5 insertions(+), 1 deletions(-)

commit 658b3d1f70291fdbebeb806d203ab4142f98c452
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 3 17:07:56 2009 +0000

    check S5B IQ reply

 tests/twisted/bytestream.py |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 9fe2a3c7606a3ea6df75adfa8cb97ad98048a530
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 3 17:07:20 2009 +0000

    don't wait for IQ result after calling open_bytestream. That has to be done in bytestream

 tests/twisted/tubes/accept-private-dbus-tube.py |    5 +----
 tests/twisted/tubes/offer-muc-stream-tube.py    |    1 -
 2 files changed, 1 insertions(+), 5 deletions(-)

commit a88b16252a7ee5fec15f07435d50280bd2485cd7
Merge: b154dcd 7a541e0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 3 16:42:35 2009 +0000

    Merge branch 'master' into socks5

commit c69f490f4cd42b88d9a155b5852855798d0f270b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 3 16:04:58 2009 +0000

    file_transfer_helper: wait for the missing bytes if they havel not all been announced

 .../twisted/file-transfer/file_transfer_helper.py  |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit 7a541e01e8f731469b40beb83e685150b6fbe5fc
Merge: 7f1f0ea 3d88f88
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 3 15:50:22 2009 +0000

    Merge branch 'priv'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 7f1f0eabfd8915774e6f5dda0068b001093aef9c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 3 15:46:50 2009 +0000

    tp-glib.supp: sync with tp-glib master

 tests/twisted/tools/tp-glib.supp |  270 +++++++++++++++++++++++++++++++++++---
 1 files changed, 249 insertions(+), 21 deletions(-)

commit 3d88f88fa1fcd1681c31cff7a004b648a2ed9788
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 3 13:38:04 2009 +0000

    OLPC views: simplify access to private data struct

 src/olpc-activity-view.c |   23 +++++----------------
 src/olpc-activity-view.h |    3 +-
 src/olpc-activity.c      |   15 ++++---------
 src/olpc-activity.h      |    3 +-
 src/olpc-buddy-view.c    |   17 +++++----------
 src/olpc-buddy-view.h    |    3 +-
 src/olpc-view.c          |   47 ++++++++++++++++-----------------------------
 src/olpc-view.h          |    3 +-
 8 files changed, 42 insertions(+), 72 deletions(-)

commit c002319b92bc10ef7fdf7ea3433ba43c492b7760
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 3 15:33:15 2009 +0000

    read flow control is now implemented too

 NEWS |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 144ca6ce368e2940f0e1b0898b09107b05529333
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 3 15:26:30 2009 +0000

    bytestream-multiple: implement block_reading

 src/bytestream-multiple.c |   23 +++++++++++++++++++++++
 1 files changed, 23 insertions(+), 0 deletions(-)

commit 830c713c1c1b9ed3ea65d99d75c10ed3b0a08b30
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 3 15:31:33 2009 +0000

    exec_file_transfer_test: use a for

 .../twisted/file-transfer/file_transfer_helper.py  |   14 ++++----------
 1 files changed, 4 insertions(+), 10 deletions(-)

commit bf77cf6ffa7c64c631846ef992fcc2ed110f199e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 3 15:28:38 2009 +0000

    run FT tests with BytestreamSIFallbackS5CannotConnect and BytestreamSIFallbackS5WrongHash

 .../twisted/file-transfer/file_transfer_helper.py  |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit 67989d190893f5fbab980f50e3297f814365f5d2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 3 15:26:30 2009 +0000

    bytestream-multiple: implement block_reading

 src/bytestream-multiple.c |   23 +++++++++++++++++++++++
 1 files changed, 23 insertions(+), 0 deletions(-)

commit f60d12cb2e0183bcc7a3e30e51e6fe8f68bd3472
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 3 15:12:05 2009 +0000

    use BytestreamS5B and BytestreamS5BPidgin in FT tests

 .../twisted/file-transfer/file_transfer_helper.py  |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 7660494214e624d4c0f6b9e5e630bc28cf38e9bb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 3 15:09:59 2009 +0000

    file-transfer-channel: connect bytestreams signals using gabble_signal_connect_weak

 src/file-transfer-channel.c |   10 ++++------
 1 files changed, 4 insertions(+), 6 deletions(-)

commit 9ffc6ec0dd8c1d7bd51b8fec180c8881175a98b6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 3 14:47:29 2009 +0000

    gibber-fd-transport: don't close transport when we get HUP as the buffers can be not empty

 lib/gibber/gibber-fd-transport.c |    8 +-------
 1 files changed, 1 insertions(+), 7 deletions(-)

commit 39addab489a90046f7dc87b211685d5131ed91bc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 3 14:53:04 2009 +0000

    transport_disconnected_cb: set state to cancelled only if the transfer was not completed

 src/file-transfer-channel.c |   11 +++++++----
 1 files changed, 7 insertions(+), 4 deletions(-)

commit ab1a88624d8dc2faf467c95bfae99d0a89c9eab0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 3 14:50:27 2009 +0000

    block ready from the bytestream with the local socket buffer is not empty

 src/file-transfer-channel.c |   18 ++++++++++++++++++
 1 files changed, 18 insertions(+), 0 deletions(-)

commit 152de1e94671f16c709c6fc73da6bed1ad818419
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 3 14:49:08 2009 +0000

    stop reading on local socket if bytestreams informed us it's blocked on writing

 src/file-transfer-channel.c |   20 ++++++++++++++++++++
 1 files changed, 20 insertions(+), 0 deletions(-)

commit c10e65822801ab33554804b26a4e8efdc7d07afe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 3 14:47:29 2009 +0000

    gibber-fd-transport: don't close transport when we get HUP as the buffers can be not empty

 lib/gibber/gibber-fd-transport.c |    8 +-------
 1 files changed, 1 insertions(+), 7 deletions(-)

commit 1fd1f7ce7a69793b8cad08f0b8936c9bc64bdcac
Merge: 3ce7320 b154dcd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 3 13:33:48 2009 +0000

    Merge branch 'socks5' into file-transfer

commit b154dcd80af232b2a3a9d8f39fadd684019f543f
Merge: 5cebf7a c16a08e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 3 13:32:13 2009 +0000

    Merge branch 'master' into socks5
    
    Conflicts:
    
    	NEWS

commit c16a08e5faec2b748a0361c6e0cb490697c64330
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 3 10:25:39 2009 +0000

    upgrade NEWS

 NEWS |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 3ce73207eaf00ead5633ab8f26778c30bd1c97dd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 3 13:23:02 2009 +0000

    file-transfer-channel: use Gibber transports

 src/file-transfer-channel.c |  262 ++++++++++++++++--------------------------
 1 files changed, 100 insertions(+), 162 deletions(-)

commit ab27a0a161b827e6c4cf64be7a9801c2becbc326
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 3 10:22:09 2009 +0000

    bytestream-multiple: forward write-blocked signal

 src/bytestream-multiple.c |   13 +++++++++++++
 1 files changed, 13 insertions(+), 0 deletions(-)

commit fd4214f61d8d627649ed073f41c509931dcdef0d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Mar 3 10:22:09 2009 +0000

    bytestream-multiple: forward write-blocked signal

 src/bytestream-multiple.c |   13 +++++++++++++
 1 files changed, 13 insertions(+), 0 deletions(-)

commit 17ce7fd67588cadad568244db2ee97ca3b2a8e63
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Feb 27 18:06:57 2009 +0000

    Raise an error if tpfs misuses CodecsUpdated
    
    (or, indeed, Ready, SetLocalCodecs, SupportedCodecs.)

 src/jingle-media-rtp.c |   89 ++++++++++++++++++++++++++++++++++-------------
 src/jingle-media-rtp.h |    4 +-
 src/media-stream.c     |   67 ++++++++++++++++++++++++++++-------
 3 files changed, 119 insertions(+), 41 deletions(-)

commit a39d851564dcd3b7133ed03c351bfe23e53b78bd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Feb 27 15:43:22 2009 +0000

    Notice and send changes to local codec parameters

 src/jingle-media-rtp.c                        |   18 +++++++++++++++++-
 tests/twisted/jingle/test-description-info.py |   21 +++++++++++++++------
 2 files changed, 32 insertions(+), 7 deletions(-)

commit 14a1cbc61e05fa81892ff4ca20d129af84a4a8e3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Feb 27 15:42:42 2009 +0000

    Send a parameter along with initial local codecs

 tests/twisted/jingle/jingletest2.py           |    5 +++++
 tests/twisted/jingle/test-description-info.py |    9 +++++++--
 2 files changed, 12 insertions(+), 2 deletions(-)

commit cdab14ea400bc595ab691c10dafe473626805b88
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Feb 27 14:45:45 2009 +0000

    Only send codecs whose clockrate or channels have changed.

 src/jingle-media-rtp.c                        |   92 +++++++++++++++++++++++-
 tests/twisted/jingle/test-description-info.py |   18 ++---
 2 files changed, 96 insertions(+), 14 deletions(-)

commit f669c6c6ed52b6af0b91ebdd699efaaff1f3f35d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Feb 27 13:04:11 2009 +0000

    Add list to hold changed local codecs.

 src/jingle-media-rtp.c |   35 ++++++++++++++++++++++++++++++++---
 1 files changed, 32 insertions(+), 3 deletions(-)

commit 65add0a90921e3502ab635161ccadb39a8d3546b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Feb 27 12:49:11 2009 +0000

    Extract producing payload-type nodes
    
    (with some minor coding style cleanup)

 src/jingle-media-rtp.c |   81 ++++++++++++++++++++++++-----------------------
 1 files changed, 41 insertions(+), 40 deletions(-)

commit 0dd2d745f90c19bca07712a8951304529365bcee
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Feb 27 01:39:42 2009 +0000

    Remove unused GET_PRIVATE macro

 src/jingle-media-rtp.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 7f3bafa3eb6a70f2d7b722245173916a142517f8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Feb 27 01:21:33 2009 +0000

    Update (not replace) remote codecs on transport-info
    
    The XEP says that clients SHOULD only send information about codecs
    whose parameters have changed in transport-info. So, we have to update
    Gabble's cache of remote codecs rather than just replacing it.
    
    This patch also checks whether the name associated with an id has
    changed, and if so NAKs the iq. If the remote end has sent information
    for a new payload-type, it's just ignored.
    
    The test had to be modified, because it was buggy:
     - it changed the codec names;
     - it sent all the codecs in the transport-info, rather than just the
       changes.

 src/jingle-media-rtp.c                        |   68 ++++++++++++++++++++++--
 tests/twisted/jingle/test-description-info.py |   38 ++++++++++----
 2 files changed, 89 insertions(+), 17 deletions(-)

commit d2d0733e83115fadb7d1398ec31d95a5242eedff
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Feb 27 01:16:33 2009 +0000

    Extract building huge codec tuple in tests
    
    In passing, change the number of supported channels it uses from 0 to 1.

 tests/twisted/jingle/jingletest2.py |   13 +++++++------
 1 files changed, 7 insertions(+), 6 deletions(-)

commit c4e629bd4d73bed6a353e88ae5959460dade4c8f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Feb 27 00:33:32 2009 +0000

    'profile' attribute hasn't existed for over six months

 src/jingle-media-rtp.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit f2ed3568bd890787840ed28cbe4db64f358add18
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Feb 27 00:02:10 2009 +0000

    test-desc-info: expect the 'normal' SetRemoteCodecs
    
    This fixes a race where assertions that we intended to make about the
    SetRemoteCodecs caused by the other side sending description-info ended
    up being made about the unmodified codecs.

 tests/twisted/jingle/test-description-info.py |   15 ++++++++++++---
 1 files changed, 12 insertions(+), 3 deletions(-)

commit 50f13d93b121f1f61a7798dc989a93a7549e5dde
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Feb 26 17:58:07 2009 +0000

    Extract parsing <payload-type> from parse_description

 src/jingle-media-rtp.c |  136 +++++++++++++++++++++++++----------------------
 1 files changed, 72 insertions(+), 64 deletions(-)

commit f1f73e30bb82f6d2f468d06a5a918077913122c2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Feb 26 17:43:51 2009 +0000

    Factor extract_media_type out of parse_description

 src/jingle-media-rtp.c |   82 +++++++++++++++++++++++++-----------------------
 1 files changed, 43 insertions(+), 39 deletions(-)

commit 58806f83d8e271148405dbfd995d3680642bd366
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Feb 26 17:33:05 2009 +0000

    Remove unused google_mode flag from parse_description

 src/jingle-media-rtp.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit ed92a925ae306031787f059359deb1c31a3f9675
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Feb 26 17:03:08 2009 +0000

    Make CodecsUpdated fail until codecs have been provided

 src/media-stream.c |   19 ++++++++++++++-----
 1 files changed, 14 insertions(+), 5 deletions(-)

commit aceb9e1dd00e2b5deb7672fc4a73a70ac3342371
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Feb 26 13:24:38 2009 +0000

    Move intersection-related shortcircuiting out of pass_local_codecs
    
    This means CodecsUpdated doesn't have to "trick" it into actually doing
    something.

 src/media-stream.c |   41 +++++++++++++----------------------------
 1 files changed, 13 insertions(+), 28 deletions(-)

commit f10def5cfc84104735a6170f050759a60e960b49
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Feb 26 12:41:09 2009 +0000

    Don't unset updating_remote_codecs when s-e responds
    
    This would fail in the case where we get a second description-info
    before the streaming implementation has reacted to the first; if the
    second one is deemed distasteful, Error() would be called and then the
    stream would have been terminated, even though we want it to continue as
    per XEP-0167 §10.
    
    Also, remove FIXMEs about ack/nak-ing description-info: my reading of
    the XEP says we don't need to.

 src/media-stream.c |   49 +++++++++++++++++++------------------------------
 1 files changed, 19 insertions(+), 30 deletions(-)

commit bae93360deee8478fd475ba83b4491c06acf0a28
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 25 20:48:09 2009 +0000

    Add debugging output for changing stream directions

 src/media-channel.c |    4 ++++
 src/media-stream.c  |    4 ++++
 2 files changed, 8 insertions(+), 0 deletions(-)

commit ad39a2751016bace8e274145f56c4f27dd120272
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Sun Jan 25 11:07:35 2009 +0100

    JingleSession: allow description-info in certain session states

 src/jingle-session.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 809c2cc6ae5f962f7834119c74735c5f2308b505
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Sun Jan 25 11:07:00 2009 +0100

    jingle tests: test codec update via description-info

 tests/twisted/Makefile.am                     |    1 +
 tests/twisted/jingle/test-description-info.py |  137 +++++++++++++++++++++++++
 2 files changed, 138 insertions(+), 0 deletions(-)

commit 411c3222a7d22bbad560163a6e3d3596dcd3bb6b
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Sun Jan 25 10:36:14 2009 +0100

    Jingle: handle incoming description-info

 src/jingle-content.c   |   16 ++++++++++++++++
 src/jingle-content.h   |    2 ++
 src/jingle-media-rtp.c |    5 +++--
 src/jingle-session.c   |   24 +++++++++++++++++++++++-
 src/media-stream.c     |   48 +++++++++++++++++++++++++++++++++++++++++++++---
 5 files changed, 89 insertions(+), 6 deletions(-)

commit 04b907db15d3d7fbfceedf38d00602c1e15afe77
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Sat Jan 24 19:17:44 2009 +0100

    On CodecsUpdated, send the update to peer in description-info

 src/jingle-content.c   |   22 ++++++++++++++++++++++
 src/jingle-factory.h   |    3 ++-
 src/jingle-media-rtp.c |    5 +++--
 src/jingle-session.c   |    4 ++++
 src/media-stream.c     |   26 ++++++++++++++++++++++++++
 5 files changed, 57 insertions(+), 3 deletions(-)

commit 058d93adf6b1274b19c4112c3eb9cabc703fbe33
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 18:00:07 2009 +0000

    use new bytestream test API

 .../twisted/file-transfer/file_transfer_helper.py  |   20 +++++++-------------
 1 files changed, 7 insertions(+), 13 deletions(-)

commit a153848a8f6363fb87073938b69cb0338546fecf
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Mar 2 17:56:05 2009 +0000

    bump nano-version to 0.7.22.1

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 6c037b9d2a5c37e1476c4a5c2f00819f4138082d
Merge: e28ac7f 5cebf7a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 17:48:14 2009 +0000

    Merge branch 'socks5' into file-transfer

commit 5cebf7a8d31847bce7219d956cc4784977c168b2
Merge: f346a3d 94d0414
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 17:44:48 2009 +0000

    Merge branch 'master' into socks5

commit f346a3d160ba61a36b23b473d1d1430708670b86
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 17:28:02 2009 +0000

    call self.send_not_found if _socks5_connect returned False

 tests/twisted/bytestream.py |   25 +++++++++----------------
 1 files changed, 9 insertions(+), 16 deletions(-)

commit 5e819bfefa0087c419916757abadfad56a44a915
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 17:18:49 2009 +0000

    add BytestreamS5BWrongHash and BytestreamSIFallbackS5WrongHash

 tests/twisted/bytestream.py         |   87 +++++++++++++++++++++++++++++++++++
 tests/twisted/tubes/tubetestutil.py |    6 ++-
 2 files changed, 91 insertions(+), 2 deletions(-)

commit c870a7be089a987da62255a06bfb83e054e050bb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Mar 2 17:09:02 2009 +0000

    version 0.7.22

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit c55b7604eea192309075a31e59945e91f37c16e8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Mar 2 17:08:09 2009 +0000

    Release name and date.

 NEWS |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 1ef760bbda7582ace07e5274edadeed98038f7cc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 17:04:00 2009 +0000

     SOCKS5: don't close the bytestream is something did wrong during negotiation on the initiator side

 src/bytestream-socks5.c |   63 ++++++++++++++++++++++++++--------------------
 1 files changed, 36 insertions(+), 27 deletions(-)

commit c03446d615c6515080997868f592cf921ae33f3e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 16:55:47 2009 +0000

    move S5B hosts to self.hosts

 tests/twisted/bytestream.py |   38 ++++++++++++++++++++++----------------
 1 files changed, 22 insertions(+), 16 deletions(-)

commit 7861b5e9f00bcd9ad63e117eb79c54efa756e12b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 16:47:32 2009 +0000

    implement wait_bytestream_open in BytestreamS5BCannotConnect

 tests/twisted/bytestream.py |   11 +++++++----
 1 files changed, 7 insertions(+), 4 deletions(-)

commit 9e55e60707ec49309a8cbad95630fdcb8b30ec40
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 16:45:19 2009 +0000

    add BytestreamS5BCannotConnect and use it in BytestreamSIFallbackS5CannotConnect

 tests/twisted/bytestream.py |   41 ++++++++++++++++++++++++++---------------
 1 files changed, 26 insertions(+), 15 deletions(-)

commit 04f1e97e53df720c323ecc0e3614643355461855
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Mar 2 14:06:54 2009 +0000

    Add more fixes to NEWS

 NEWS |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 94d0414d22e1236a1776de0733a54b5afc9a05ed
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Mar 2 16:13:12 2009 +0000

    Use TUBE_TYPE_DBUS constant
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

 tests/twisted/tubes/offer-private-dbus-tube.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 5c8b08a102dbea7423ef8f0dfd39c1f561926c69
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Mar 2 16:09:58 2009 +0000

    Fix test race between stream and dbus event.
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

 tests/twisted/tubes/offer-private-dbus-tube.py |   11 +++++++----
 1 files changed, 7 insertions(+), 4 deletions(-)

commit 0caa7ef1f062154ff096d3efb2582717f86eca8a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Mar 2 16:08:56 2009 +0000

    Remove unnecessary and dangerous sync_stream
    
    This sometimes meant the event caused by sending the data was swallowed,
    breaking tests that expected something to happen after calling send_data
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

 tests/twisted/bytestream.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 76e7065cac73f63d60a9e3eae25b546d97924ea8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 15:59:54 2009 +0000

    enable jid checking as SOCKS5 is now fixed

 tests/twisted/bytestream.py |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit 15c50031a978069eafc2d69c04afb06d3ea888d3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 15:43:58 2009 +0000

    split _socks5_connect to smaller functions

 tests/twisted/bytestream.py |   30 +++++++++++++++++++-----------
 1 files changed, 19 insertions(+), 11 deletions(-)

commit 1554a599a3a6dc8dcc84a623cbed9ff2e85d6860
Merge: 19850fe a9588a2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 15:33:47 2009 +0000

    Merge branch 'master' into socks5
    
    Conflicts:
    
    	tests/twisted/bytestream.py

commit a9588a279e9f7b5070b6ca57df95246d033e2aeb
Merge: b35a94c 00c647b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 15:27:05 2009 +0000

    Merge branch 'refactor-accept-private-stream-tube+si-fallback-tests'
    
    Conflicts:
    
    	tests/twisted/tubes/offer-accept-private-stream-tube-si-fallback.py

commit 19850fe4a45f874618201dc98809cf4505dd0bc2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 15:17:56 2009 +0000

    exec_tube_test: use a for and lambda

 tests/twisted/tubes/tubetestutil.py |   14 ++------------
 1 files changed, 2 insertions(+), 12 deletions(-)

commit 00c647b06f46631926a4188691c34e27c099a491
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 15:00:29 2009 +0000

    send_not_found: error code is 404

 tests/twisted/bytestream.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 1f7a4e3616460d62ceeb74aa6d348ebe39c00296
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 14:57:08 2009 +0000

    use make_result_iq in create_si_reply

 tests/twisted/bytestream.py |    8 +++-----
 1 files changed, 3 insertions(+), 5 deletions(-)

commit 3be239760ed5ad09ae67ffd7b0385fc13d7a3411
Merge: a1a2380 6701846
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 14:37:54 2009 +0000

    Merge branch 'refactor-accept-private-stream-tube+si-fallback-tests' into socks5+refactor-accept-private-stream-tube+si-fallback-tests

commit 67018460a1b49dca7d28905bb36070faa50b2046
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 14:37:29 2009 +0000

    offer-private-stream-tube: no need to run test with BytestreamSIFallback any more

 tests/twisted/tubes/offer-private-stream-tube.py |    5 -----
 1 files changed, 0 insertions(+), 5 deletions(-)

commit a1a2380f264244cc7f0774d2355d4070c57cca66
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 14:35:46 2009 +0000

    add BytestreamSIFallback abstract class

 tests/twisted/bytestream.py |   86 ++++++++++++++++++++++--------------------
 1 files changed, 45 insertions(+), 41 deletions(-)

commit 75c0cc36579e55e432db5e60b797a2ebc847f06f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 14:29:38 2009 +0000

    rename BytestreamSIFallback to BytestreamSIFallbackS5CannotConnect

 tests/twisted/bytestream.py         |    4 +++-
 tests/twisted/tubes/tubetestutil.py |    4 ++--
 2 files changed, 5 insertions(+), 3 deletions(-)

commit b35a94cc9061e521405a9828aa3960d55ce17335
Merge: e7bc835 4929d46
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Mar 2 14:21:37 2009 +0000

    Merge commit 'cassidy/refactor-accept-private-stream-tube'
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit e7bc835355e52b7d7575cd23a4b22e960bc76328
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Mar 1 18:24:49 2009 +0000

    Make elements with namespace None not ''.
    
    They're actually different: under certain circumstances, Element(('',
    'badger')) will come out as <badger xmlns=''/> which is not what you
    wanted. Gabble doesn't notice because LM isn't an XML parser, but Haze
    did because libxml2 is.
    
    Reviewed-by: Dafydd Harries <dafydd.harries@collabora.co.uk>

 tests/twisted/olpc/test-olpc-bundle.py             |    4 ++--
 tests/twisted/test-disco.py                        |    2 +-
 tests/twisted/text/destroy.py                      |    2 +-
 tests/twisted/text/initiate.py                     |    2 +-
 tests/twisted/text/respawn.py                      |    2 +-
 tests/twisted/text/send-error.py                   |    8 ++++----
 tests/twisted/text/test-text-delayed.py            |    2 +-
 tests/twisted/text/test-text-no-body.py            |    4 ++--
 tests/twisted/text/test-text.py                    |    2 +-
 ...offer-accept-private-stream-tube-si-fallback.py |    8 ++++----
 10 files changed, 18 insertions(+), 18 deletions(-)

commit 176955f13ada505341378eee6fba06daa41fb367
Merge: f60ab4d dfedb4a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 13:12:07 2009 +0000

    Merge branch 'refactor-accept-private-stream-tube+si-fallback-tests' into socks5+refactor-accept-private-stream-tube+si-fallback-tests
    
    Conflicts:
    
    	NEWS
    	tests/twisted/tubes/accept-muc-stream-tube.py
    	tests/twisted/tubes/offer-muc-stream-tube.py
    
    Add optionnal 'to' argument to create_si_offer and create_si_reply so we
    can simulate the muc IQ behaviour.

commit dfedb4ab08105ed2f2c1493cc6dcca0191032ce5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 12:58:58 2009 +0000

    fix check_error_stanza

 tests/twisted/bytestream.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ad12f06cf5cf911f082c47822cac89e1ce3ff9e6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 12:57:39 2009 +0000

    accept-private-stream-tube: call sync_dbus to ensure that contact list channels have been announced

 tests/twisted/tubes/accept-private-stream-tube.py |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 5c3446301ac31cce540350df7d73578395494f2e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 12:53:48 2009 +0000

    add send_not_found

 tests/twisted/bytestream.py |   19 +++++++++++--------
 1 files changed, 11 insertions(+), 8 deletions(-)

commit aa1b86b1c7ca521709822e729edf48c1ab00c140
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 12:49:35 2009 +0000

    add check_error_stanza

 tests/twisted/bytestream.py |    9 ++++++---
 1 files changed, 6 insertions(+), 3 deletions(-)

commit a7b890fad8f2f5b06d712c720032cee54125e307
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 12:47:01 2009 +0000

    replace self.active by self.used

 tests/twisted/bytestream.py |   13 ++++---------
 1 files changed, 4 insertions(+), 9 deletions(-)

commit 3caf0019f7bebef8858017dc6b8563dab530fae9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 12:08:26 2009 +0000

    remove offer-accept-private-stream-tube-si-fallback.py as it's now covered in {accept,offer}-private-stream-tube.py

 tests/twisted/Makefile.am                          |    1 -
 ...offer-accept-private-stream-tube-si-fallback.py |  330 --------------------
 2 files changed, 0 insertions(+), 331 deletions(-)

commit fc2efdb3e3b871787aad4dc47fc5c689ad0f476d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 12:07:26 2009 +0000

    add check_si_offer

 tests/twisted/bytestream.py |   16 +++++++++++++++-
 1 files changed, 15 insertions(+), 1 deletions(-)

commit 48871ae7cc4b512ed33c91c1a26e07672e2e7e08
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 12:00:55 2009 +0000

    remove useless sample_parameters

 tests/twisted/tubes/accept-muc-dbus-tube.py     |    7 -------
 tests/twisted/tubes/accept-private-dbus-tube.py |   14 --------------
 2 files changed, 0 insertions(+), 21 deletions(-)

commit d81daf13a1c47a10bc1215b82dc402e4ccea4c89
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 11:57:54 2009 +0000

    run all tubes tests with BytestreamSIFallback too

 tests/twisted/tubes/tubetestutil.py |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 783cf468fa309dd8f38e75ad394ced1f2c121851
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 11:57:15 2009 +0000

    expected event has to be catch earlier in BytestreamSIFallback.open_bytestream

 tests/twisted/bytestream.py |   13 ++++++++++---
 1 files changed, 10 insertions(+), 3 deletions(-)

commit 6b176fa281ee3ac8722697416d918ad3ac646872
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 11:46:19 2009 +0000

    remove parse_si_offer

 tests/twisted/bytestream.py |   39 +++++++++++++++++----------------------
 1 files changed, 17 insertions(+), 22 deletions(-)

commit ce846bfbc41719021799d7a6b8d58e31c85b85e9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 11:43:11 2009 +0000

    offer-private-dbus-tube: use create_from_si_offer

 tests/twisted/tubes/offer-private-dbus-tube.py |    9 +++------
 1 files changed, 3 insertions(+), 6 deletions(-)

commit d5148bc07bc76ed7bb50b9db8cacb97a52245da6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 11:42:41 2009 +0000

    accept-private-stream-tube: use create_from_si_offer

 tests/twisted/tubes/accept-private-stream-tube.py |   11 ++++-------
 1 files changed, 4 insertions(+), 7 deletions(-)

commit c3e9f4e497992feff57d50dde64b2e476bc2c0d6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 11:41:40 2009 +0000

    accept-muc-stream-tube.py: use create_from_si_offer

 tests/twisted/tubes/accept-muc-stream-tube.py |    9 +++------
 1 files changed, 3 insertions(+), 6 deletions(-)

commit ea58aaa677a89bcd11d7bf0d821f94fb8c43ee09
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 11:41:13 2009 +0000

    add create_from_si_offer

 tests/twisted/bytestream.py |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit ecc327157ab8aa86099eca39d7d093dd8f03b8bc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 11:17:55 2009 +0000

    implement receiver side methods on the BytestreamSIFallback object

 tests/twisted/bytestream.py |   38 ++++++++++++++++++++++++++++++++++++++
 1 files changed, 38 insertions(+), 0 deletions(-)

commit 03b4530fd4358f150392573a718ebbd9696a0452
Merge: a99e300 4929d46
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 11:06:27 2009 +0000

    Merge branch 'refactor-accept-private-stream-tube' into refactor-accept-private-stream-tube+si-fallback-tests

commit 4929d46d3544dc9f7a69b61526dc8e0f03aac62b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 11:04:59 2009 +0000

    tubes/accept-private-stream-tube.py: import constants as cs

 tests/twisted/tubes/accept-private-stream-tube.py |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit 1931a255afc7b86b5caf20ae249cb2d5b360f950
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 11:04:06 2009 +0000

    accept-private-stream-tube.py: use Bytestream objects and try to actually use the tube

 tests/twisted/tubes/accept-private-stream-tube.py |   41 ++++++++++++++++-----
 1 files changed, 32 insertions(+), 9 deletions(-)

commit f0ef558093d7496547ccc579c42baebf62d093af
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 10:49:48 2009 +0000

    accept-private-stream-tube.py: use parse_si_offer

 tests/twisted/tubes/accept-private-stream-tube.py |   20 +++++++++-----------
 1 files changed, 9 insertions(+), 11 deletions(-)

commit a99e3002ffbdb8fb2565ece5a411d67201fb72eb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 10:35:55 2009 +0000

    add _create_si_offer

 tests/twisted/bytestream.py |   22 +++++++---------------
 1 files changed, 7 insertions(+), 15 deletions(-)

commit db7a64c432a9cc7709742246f190eca789ba2b32
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 10:33:27 2009 +0000

    offer-private-stream-tube.py: test using BytestreamSIFallback too

 tests/twisted/tubes/offer-private-stream-tube.py |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit 2549ab3d2562105cad84845684f3a5a5122d0e67
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 2 10:32:56 2009 +0000

    add BytestreamSIFallback

 tests/twisted/bytestream.py |   76 +++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 76 insertions(+), 0 deletions(-)

commit feaad7f2f51e488d1593423b600b7d48b0d77c5e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Sun Mar 1 23:18:22 2009 +0000

    Remove the content timer when the content is accepted

 src/jingle-content.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 0a107ff1584a66c992d875c3882469d37c2a60a2
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Sun Mar 1 22:48:12 2009 +0000

    Correctly set the creator attribute

 src/jingle-content.c |   14 ++++++++++----
 1 files changed, 10 insertions(+), 4 deletions(-)

commit 7b541adad8e47748883313a4e2f77e4c2943c463
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Sun Mar 1 21:06:41 2009 +0000

    Check that the creator attribute is set correctly

 .../twisted/jingle/test-content-adding-removal.py  |    2 ++
 tests/twisted/jingle/test-content-complex.py       |    5 ++++-
 2 files changed, 6 insertions(+), 1 deletions(-)

commit d5bcd9d04dde3346c4b6e4a7fea928919afee686
Merge: 762f79b d111516
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Mar 1 20:19:15 2009 +0000

    Merge branch 'trivia'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit d111516b60c3702f17db093e298b502f207f4ec1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Mar 1 16:03:05 2009 +0000

    Add helper functions to join a MUC in tests.
    
    In passing, fixes a race in tubes/offer-muc-dbus-tube.py, which didn't
    wait for Gabble to ask to join the MUC before sending presences for the
    MUC's members.
    
    References fd.o #20405

 tests/twisted/Makefile.am                   |    1 +
 tests/twisted/muc/send-error.py             |   39 +++-------------
 tests/twisted/muc/test-muc.py               |   43 ++++--------------
 tests/twisted/mucutil.py                    |   65 +++++++++++++++++++++++++++
 tests/twisted/tubes/accept-muc-dbus-tube.py |   26 +++--------
 tests/twisted/tubes/offer-muc-dbus-tube.py  |   30 +++++--------
 6 files changed, 101 insertions(+), 103 deletions(-)

commit 6199fea5d2e8f63d2c0c73bb682cb66ec1253f88
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Mar 1 14:43:43 2009 +0000

    Fix some conjugations in test comments

 tests/twisted/tubes/offer-private-stream-tube.py |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 6ff93a1da8ed40c3e8cd327394538db272e4e47c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Mar 1 12:28:38 2009 +0000

    Correct "#ifdef ENABLE_DEBUG" and G_*_DECLS nesting.

 lib/gibber/gibber-debug.h |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 2fae52dab469e80b4012da11b12dd66ff4800102
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Mar 1 12:27:19 2009 +0000

    Remove unused gibber macros.
    
    Synced from Salut

 lib/gibber/gibber-debug.h |   23 -----------------------
 1 files changed, 0 insertions(+), 23 deletions(-)

commit 2608f19d4944fb636c706f956ac7adac52f7d6bd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Mar 1 12:08:55 2009 +0000

    Not convinced that Jingle test improvements are significant :)

 NEWS |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 762f79b77b2ba70633e7e27b47604abe9305c346
Merge: e8d4521 0dded84
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Mar 1 14:40:19 2009 +0000

    Merge commit 'cassidy/refactor-tube-tests'
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit e8d4521081a3182a031426859bf352bc4b47ad8d
Merge: 54605f1 5467d73
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Mar 1 12:06:54 2009 +0000

    Merge commit 'smcv/trivia'
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit 0dded8488b8161547945a692dcf603a1fdadfea0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 27 14:52:52 2009 +0000

    use Bytestream.check_si_reply instead of parse_si_reply

 tests/twisted/bytestream.py                      |   17 ++++++++---------
 tests/twisted/tubes/accept-private-dbus-tube.py  |    7 ++-----
 tests/twisted/tubes/offer-muc-stream-tube.py     |    4 +---
 tests/twisted/tubes/offer-private-stream-tube.py |    7 ++-----
 4 files changed, 13 insertions(+), 22 deletions(-)

commit e04e5a62c5f0e9acdef56123e5719e8d6f190406
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 27 14:44:57 2009 +0000

    turn create_si_reply to a Bystream method

 tests/twisted/bytestream.py                    |   34 ++++++++++++------------
 tests/twisted/tubes/accept-muc-stream-tube.py  |    5 +--
 tests/twisted/tubes/offer-private-dbus-tube.py |    4 +-
 3 files changed, 21 insertions(+), 22 deletions(-)

commit c82baf1cbe2cb0984a9329763019e3ea48f041df
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 27 14:37:05 2009 +0000

    bytestream: remove create_si_offer

 tests/twisted/bytestream.py |   38 ++++++++++++++++----------------------
 1 files changed, 16 insertions(+), 22 deletions(-)

commit fe463d8fa14a27312af8dad2cc3904533ce22f16
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 27 14:36:49 2009 +0000

    remove useless import

 tests/twisted/tubes/offer-muc-stream-tube.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ae3be052f774d871a65197ad84efd65b69c4255f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 27 14:24:20 2009 +0000

    accept-private-dbus-tube: rename bytestream objects

 tests/twisted/tubes/accept-private-dbus-tube.py |   20 ++++++++++----------
 1 files changed, 10 insertions(+), 10 deletions(-)

commit 4820ee1342b2635b2b83a175ff765fbdc00f3eb0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 27 14:20:54 2009 +0000

    re-order tube tests

 tests/twisted/Makefile.am |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit fb8ca7f766af82324aa5c0a6894d68700f56a9bf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 27 14:16:50 2009 +0000

    remove offer-accept-private-dbus-stream-tube.py as its latest features has been moved to offer-private-dbus-tube

 tests/twisted/Makefile.am                          |    1 -
 .../tubes/offer-accept-private-dbus-stream-tube.py |  189 --------------------
 2 files changed, 0 insertions(+), 190 deletions(-)

commit 588a81571717672691f4afac2555b3c896797a85
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 27 14:14:44 2009 +0000

    offer-private-dbus-tube: check sending messages

 tests/twisted/tubes/offer-private-dbus-tube.py |   22 ++++++++++++++++++++--
 1 files changed, 20 insertions(+), 2 deletions(-)

commit 5467d73fd9bcf0247fd94bcfafba324a82da128f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 27 14:09:26 2009 +0000

    More NEWS

 NEWS |   17 +++++++++++++++++
 1 files changed, 17 insertions(+), 0 deletions(-)

commit eccb922a5e94fb64c45728b15961b424a749dcbf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 27 14:08:55 2009 +0000

    rename offer-private-dbus-tube-ibb.py to offer-private-dbus-tube.py

 tests/twisted/Makefile.am                          |    2 +-
 tests/twisted/tubes/offer-private-dbus-tube-ibb.py |  311 --------------------
 tests/twisted/tubes/offer-private-dbus-tube.py     |  311 ++++++++++++++++++++
 3 files changed, 312 insertions(+), 312 deletions(-)

commit a752b59c89bc13ed339bbda06c3b20ccf2d6e485
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 27 14:07:33 2009 +0000

    offer-private-dbus-tube-ibb.py: use exec_tube_test

 tests/twisted/tubes/offer-private-dbus-tube-ibb.py |   20 ++++++++++----------
 1 files changed, 10 insertions(+), 10 deletions(-)

commit a2e01fe04db4ddcadb96ff7d38cf1f965a058603
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 27 14:04:52 2009 +0000

    offer-private-dbus-tube-ibb.py: use BytestreamIBB

 tests/twisted/tubes/offer-private-dbus-tube-ibb.py |  154 +++++++++-----------
 1 files changed, 67 insertions(+), 87 deletions(-)

commit 7611e40b5642493d13db837c00a1e4739913360e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 27 14:00:30 2009 +0000

    Here is the NEWS

 NEWS |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 9d5fa62ac1715d333ed8da830b42999cfd1b6e89
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 27 13:58:55 2009 +0000

    tests/twisted: provide the right CFLAGS for #include <lib/gibber/...>
    
    This fixes distcheck.

 tests/twisted/Makefile.am |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit fa827da86a88470e54453e663f306cb791745255
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 27 13:58:15 2009 +0000

    GabbleMucChannel: elide temporary variable, fixing --disable-debug
    
    This fixes distcheck.

 src/muc-channel.c |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit 44bf8e9ee969c9cf76e5f71b9b463fbe9796adb7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 27 13:57:35 2009 +0000

    GabbleJingleSession: wrap debug output in #ifdef ENABLE_DEBUG
    
    This fixes an unused variable warning when disabling debug, e.g. in
    distcheck.

 src/jingle-session.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 2bcf069e730b07647172b97a6df06c1b8883996c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 27 13:56:49 2009 +0000

    conn-aliasing: nick_publish_msg_reply_cb: wrap debug code in #ifdef ENABLE_DEBUG
    
    This fixes unused variable warnings during distcheck.

 src/conn-aliasing.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 37aa510e1ab6be67e015f9f382920770b9166533
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 27 13:41:42 2009 +0000

    move test accepting private dbus tube to accept-private-dbus-tube.py

 tests/twisted/Makefile.am                          |    1 +
 tests/twisted/tubes/accept-private-dbus-tube.py    |  215 ++++++++++++++++++++
 .../tubes/offer-accept-private-dbus-stream-tube.py |  118 +-----------
 3 files changed, 217 insertions(+), 117 deletions(-)

commit 57e1ec2ce6eadebd314c3cdb7006c1cc6042befc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 27 13:27:45 2009 +0000

    use path returned by set_up_echo

 ...offer-accept-private-stream-tube-si-fallback.py |    6 ++----
 tests/twisted/tubes/offer-no-caps.py               |    9 +++------
 tests/twisted/tubes/offer-private-stream-tube.py   |   13 ++++---------
 3 files changed, 9 insertions(+), 19 deletions(-)

commit 2069652fa498811b45060dfbc826b5c0ee5cc66c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 27 13:21:24 2009 +0000

    make set_up_echo return the path of the UNIX socket

 tests/twisted/tubes/tubetestutil.py |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 074188acee34262f7d0f90662651b78955f5c1cf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 27 13:14:38 2009 +0000

    move test of offering private stream tube to its own test

 tests/twisted/Makefile.am                          |    1 +
 .../tubes/offer-accept-private-dbus-stream-tube.py |  297 +--------------
 tests/twisted/tubes/offer-private-stream-tube.py   |  407 ++++++++++++++++++++
 3 files changed, 409 insertions(+), 296 deletions(-)

commit 6d1353093613ed49b02190bc56990ed4a0ff3bc6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 27 13:01:38 2009 +0000

    offer-accept-private-dbus-stream-tube: fix some comments

 .../tubes/offer-accept-private-dbus-stream-tube.py |   15 +++++++--------
 1 files changed, 7 insertions(+), 8 deletions(-)

commit 37a4827168da9724249b1d9bcb08500f3111ad15
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 27 12:50:27 2009 +0000

    remove offer-accept-private-dbus-stream-tube-socks5.py as offer-accept-private-dbus-stream-tube.py now test using SOCKS5 too

 tests/twisted/Makefile.am                          |    1 -
 ...offer-accept-private-dbus-stream-tube-socks5.py |  484 --------------------
 2 files changed, 0 insertions(+), 485 deletions(-)

commit 056cc5876eca9716a88cad00b3dc14702977e4d2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 27 12:48:30 2009 +0000

    offer-accept-private-dbus-stream-tube: sync_dbus to ensure all contact list channels have been announced

 .../tubes/offer-accept-private-dbus-stream-tube.py |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 5163b60ea0d1b84c5e6999c34216a6f4f9623767
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 27 12:43:00 2009 +0000

    offer-accept-private-dbus-stream-tube.py: add bob_full_jid and self_full_jid

 .../tubes/offer-accept-private-dbus-stream-tube.py |   35 +++++++++++---------
 1 files changed, 19 insertions(+), 16 deletions(-)

commit a8a8e2559c18a9e586ad4d74c55a4aef84e29598
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 27 12:41:08 2009 +0000

    extensions: remove our copy of the Presence interface (no longer needed)

 extensions/Connection_Interface_Presence.xml |  449 --------------------------
 extensions/Makefile.am                       |    1 -
 extensions/all.xml                           |    1 -
 3 files changed, 0 insertions(+), 451 deletions(-)

commit 1fd58b026b82ef5900b94e47d25094337e76b825
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 27 12:40:45 2009 +0000

    gibber-debug.h: wrap macros in parentheses/G_STMT_START as appropriate
    
    This fixes compilation of non-debug builds by making
    "if (...) DEBUG (foo); else DEBUG (bar);" no longer provoke a warning.
    
    Also remove empty definition of NODE_DEBUG in non-debug builds (it no
    longer exists in debug builds).

 lib/gibber/gibber-debug.h |   18 ++++++++++--------
 1 files changed, 10 insertions(+), 8 deletions(-)

commit 54605f10baaf1d42096f102fdfcce3799332e638
Merge: b6c75e7 6598ba7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 27 12:27:51 2009 +0000

    Merge branch 'stun'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 4836f88f7350c807c978d789f52ed36dc8e9b915
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 27 12:25:45 2009 +0000

    rename offer-accept-private-dbus-stream-tube-ibb.py to offer-accept-private-dbus-stream-tube.py

 tests/twisted/Makefile.am                          |    2 +-
 .../offer-accept-private-dbus-stream-tube-ibb.py   |  594 --------------------
 .../tubes/offer-accept-private-dbus-stream-tube.py |  594 ++++++++++++++++++++
 3 files changed, 595 insertions(+), 595 deletions(-)

commit 4124df46eb36207e2c573e54ee02478a93b021f8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 27 12:24:35 2009 +0000

    offer-accept-private-dbus-stream-tube-ibb.py: use exec_tube_test so we run the test using IBB and SOCKS5

 .../offer-accept-private-dbus-stream-tube-ibb.py   |   20 +++++++++-----------
 1 files changed, 9 insertions(+), 11 deletions(-)

commit a8a7ba0abe733151bbbd41ef4d8535023a7b352f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 27 12:20:57 2009 +0000

    offer-accept-private-dbus-stream-tube-ibb.py: use BytestreamIBB

 .../offer-accept-private-dbus-stream-tube-ibb.py   |  109 ++++++++------------
 1 files changed, 43 insertions(+), 66 deletions(-)

commit 83eaa7c2f99fec44c017e45700aca083c3d43846
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 27 12:20:21 2009 +0000

    catch expected event in BytestreamIBB.open_bytestream

 tests/twisted/bytestream.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 56e7830f884293319b996b1f09f8d1dde1a323f5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 27 11:22:30 2009 +0000

    offer-muc-stream-tube.py: use  bytestream.create_si_offer method

 tests/twisted/tubes/offer-muc-stream-tube.py |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 1dac65a6c6d3725e693a6c1e429d5988f73c9ff0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 27 11:18:31 2009 +0000

    add create_si_offer method on the Bytestream object

 tests/twisted/bytestream.py |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit f60ab4df8a5733327e58df3156f2684269d3453d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 27 11:03:48 2009 +0000

    add INITIATOR or TARGET in Socks5 states for more clarity

 src/bytestream-socks5.c |   38 +++++++++++++++++++-------------------
 1 files changed, 19 insertions(+), 19 deletions(-)

commit a73c43b14b6236dfa61395f29bec5e11bc0540eb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 27 10:52:59 2009 +0000

    Revert "socks5_error: always fire the connection-error signal if the state was not connected"
    
    This reverts commit 062154c15d44dc9b371e3060d4f3b3e71c0ed01e.
    
    This patch is wrong. We shouldn't fire connection-error if there is
    still streamhosts to try. Furthermore, the initiator should wait
    for the iq error from the target before firing this signal.

 src/bytestream-socks5.c |    8 ++------
 1 files changed, 2 insertions(+), 6 deletions(-)

commit b6c75e72808c7618144421d0bb1ed05a622c83f5
Author: Davyd Madeley <davyd@madeley.id.au>
Date:   Fri Feb 27 12:13:34 2009 +0900

    Copy unnamed arg names from real telepathy-spec
    
    New parser enforces named args (which seems consistent with the real spec)

 .../Connection_Interface_Contact_Capabilities.xml  |    2 +-
 extensions/Connection_Interface_Presence.xml       |    3 ++-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit b8ec1c1d357ddba874ac22c0881e4820d653768e
Merge: f5ed7c5 9d33052
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Feb 27 01:36:32 2009 +0000

    Merge branch 'accept-incoming-stream'
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit e28ac7f680fb798a13392e19d66cf6d3ee808249
Merge: 6133c4e f1ce955
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 26 18:25:12 2009 +0000

    Merge branch 'socks5' into file-transfer

commit f1ce9554043bafe957d0c1c6893b77d6f5a65f76
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 26 18:25:00 2009 +0000

    add NEWS entry about SOCKS5 bug

 NEWS |   25 +++++++++++++++++++++++++
 1 files changed, 25 insertions(+), 0 deletions(-)

commit d58b905c21642a27597b963b9e4acce7e812b0e2
Merge: 59f23bc f5ed7c5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 26 18:06:06 2009 +0000

    Merge branch 'master' into socks5

commit f5ed7c5974034feeec5b5437bf66818d482fcaf3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 26 17:47:33 2009 +0000

    start NEWS section for 0.7.22

 NEWS |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 59f23bc97b0441b620565291e01ee6edb2a4f521
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 26 17:45:39 2009 +0000

    socks5: add a timer when expecting the CONNECT reply so we don't stay blocked when connected to a bugged Gabble

 src/bytestream-socks5.c |   52 +++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 52 insertions(+), 0 deletions(-)

commit 6133c4e42f61d5499ff37b16c0bda1abf517b409
Merge: ffc3ef6 7c41832
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 26 17:12:51 2009 +0000

    Merge branch 'socks5' into file-transfer
    
    Conflicts:
    
    	tests/twisted/ns.py

commit 7c41832c1eeba9269fb4261c8c0d1ad9a2dd58a4
Merge: 062154c 8ccf323
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 26 17:06:15 2009 +0000

    Merge branch 'master' into socks5

commit ffc3ef6b28326c47b4424efc3540f1bff4ed753b
Merge: 02e3b40 062154c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 26 15:13:50 2009 +0000

    Merge branch 'socks5+muc-stream-tube-test' into file-transfer+socks5+muc-stream-tube-test

commit 062154c15d44dc9b371e3060d4f3b3e71c0ed01e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 26 15:12:08 2009 +0000

    socks5_error: always fire the connection-error signal if the state was not connected

 src/bytestream-socks5.c |    8 ++++++--
 1 files changed, 6 insertions(+), 2 deletions(-)

commit 82d6657416ad7afe716dffac80028da9ca712d2d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 26 13:46:56 2009 +0000

    socks5: check if the connection is actually connected when the target pretends it is

 src/bytestream-socks5.c |   28 ++++++++++++++++++----------
 1 files changed, 18 insertions(+), 10 deletions(-)

commit 6598ba7e7746d769f620216d423ab13c5f10d444
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 26 13:54:49 2009 +0000

    GabbleMediaChannel: Change create_stream_from_content to return void
    
    Its result wasn't actually used anywhere.

 src/media-channel.c |   13 ++++++-------
 1 files changed, 6 insertions(+), 7 deletions(-)

commit 02e3b40e26efc8fa0dcb43f365cdc88bed858f3e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 26 13:46:56 2009 +0000

    socks5: check if the connection is actually connected when the target pretends it is

 src/bytestream-socks5.c |   28 ++++++++++++++++++----------
 1 files changed, 18 insertions(+), 10 deletions(-)

commit c1a2430cac86092490e07c950a711c5bdfaf4c3a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 26 13:37:29 2009 +0000

    jingle/test-outgoing-call.py: assert that the stream was CreatedLocally

 tests/twisted/jingle/test-outgoing-call.py |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 7f7a8b065ef518126ba9775491e484b5667aee99
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 26 13:33:10 2009 +0000

    GabbleMediaChannel: don't tell stream whether it was locally created - it can ask the content

 src/media-channel.c |    4 +---
 src/media-stream.c  |    3 +--
 src/media-stream.h  |    2 +-
 3 files changed, 3 insertions(+), 6 deletions(-)

commit 1e6721aa9475cddf2a267a899b2c0bb6c5f05708
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 26 13:31:52 2009 +0000

    GabbleMediaStream: ask the content whether it was locally created

 src/media-stream.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit 50e394ef04e4123c08a8067a167a3e1af4d28a47
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 26 13:29:46 2009 +0000

    GabbleMediaChannel: ask newly created stream for its media type, rather than working it out for ourselves

 src/media-channel.c |    9 +++------
 1 files changed, 3 insertions(+), 6 deletions(-)

commit c84b41b780e06f3f2055a1534dbb9ebd72e8817d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 26 13:29:13 2009 +0000

    GabbleMediaStream: add C accessor for media type

 src/media-stream.c |    6 ++++++
 src/media-stream.h |    1 +
 2 files changed, 7 insertions(+), 0 deletions(-)

commit b5c2866742c654f66d838d98a760a9f055e5171d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 26 13:28:58 2009 +0000

    GabbleMediaStream: ask the content what its media type is, rather than relying on Channel to do it

 src/media-channel.c |    2 +-
 src/media-stream.c  |   31 +++++++++++++++++--------------
 src/media-stream.h  |    3 +--
 3 files changed, 19 insertions(+), 17 deletions(-)

commit e65526d683fb041be06be7fb71ed6ef3f1b98f81
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 26 13:15:49 2009 +0000

    Set direction for locally-created streams in MediaStream, not MediaChannel

 src/media-channel.c |    7 -------
 src/media-stream.c  |    7 +++++++
 2 files changed, 7 insertions(+), 7 deletions(-)

commit 375e368f3138320ed4efe0dae028761461ff625b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 26 13:09:38 2009 +0000

    GabbleMediaChannel: fix coding style, and don't leak name if content is not MediaRtp

 src/media-channel.c |    8 ++++++--
 1 files changed, 6 insertions(+), 2 deletions(-)

commit ec5b7d7d5564497526cc7f23a253c31924d196f6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 26 12:56:34 2009 +0000

    jingle/stun-server.py: assert that the stream has NATTraversal and CreatedLocally properties

 tests/twisted/jingle/stun-server.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 42d669939a108f6d1797eca3ba5d1b42ea88a134
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 26 12:56:13 2009 +0000

    GabbleMediaStream: expose NATTraversal, CreatedLocally as D-Bus properties

 src/media-stream.c |   18 ++++++++++++++++++
 1 files changed, 18 insertions(+), 0 deletions(-)

commit a5d103d7ee0793a88b97e50b359b37dcf5c2ba25
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 26 12:55:52 2009 +0000

    GabbleMediaStream: refactor Get() implementation

 src/media-stream.c |   14 ++++++--------
 1 files changed, 6 insertions(+), 8 deletions(-)

commit 53e3240c24029084ee5a6e28d4903117ec7db400
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 26 12:52:09 2009 +0000

    GabbleMediaStream: add nat-traversal and created-locally properties

 src/media-channel.c |    8 +++++++-
 src/media-stream.c  |   36 +++++++++++++++++++++++++++++++++++-
 src/media-stream.h  |    3 ++-
 3 files changed, 44 insertions(+), 3 deletions(-)

commit 9ed8a75ee32eab5821cdb29c9c66942d3ce24db2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 26 12:32:00 2009 +0000

    jingle/stun-server.py: check that STUN servers pass through to Media.StreamHandler correctly

 tests/twisted/jingle/stun-server.py |   27 ++++++++++++++++++++++++++-
 1 files changed, 26 insertions(+), 1 deletions(-)

commit f29d237b1e470ef21fbc53d2b0e5802c37f01a8b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 26 12:09:26 2009 +0000

    Implement STUNServers and RelayInfo D-Bus properties on GabbleMediaStream
    
    This version deliberately doesn't use the TpDBusPropertiesMixin, since
    that would require a patched version of telepathy-glib that knows about
    these properties.

 src/media-stream.c |  100 +++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 99 insertions(+), 1 deletions(-)

commit 6a27fbe00e59d3b33b9fd2a560e71e28c8d9d810
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 26 12:03:35 2009 +0000

    GabbleMediaStream: update copyright

 src/media-stream.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 7eb00d53d8a4e90de40cf8198ac0c6172cb20244
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 26 12:01:19 2009 +0000

    GabbleMediaStream: add (a stub version of) RelayInfo as a GObject property

 src/media-stream.c |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit c1eeb9b1b502a25cdbb3ab2d86d936d1b4484fdb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 26 12:00:55 2009 +0000

    GabbleMediaStream: add STUN servers as a GObject property

 src/media-stream.c |   47 +++++++++++++++++++++++++++++++++++++++++++++--
 1 files changed, 45 insertions(+), 2 deletions(-)

commit 4f18ed4fbe6ceea1e3a539a3cfb6af93bf171b8c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 26 10:51:12 2009 +0000

    GabbleMediaStream: add _new function

 src/media-channel.c |    8 +-------
 src/media-stream.c  |   18 ++++++++++++++++++
 src/media-stream.h  |    4 ++++
 3 files changed, 23 insertions(+), 7 deletions(-)

commit e2e7aea908118fa56fb5e398297d9ff72b81f818
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 26 12:34:55 2009 +0000

    gabble_file_transfer_channel_offer_file: don't get the resource if we are sending to a muc jid

 src/file-transfer-channel.c |   44 +++++++++++++++++++++++++++---------------
 1 files changed, 28 insertions(+), 16 deletions(-)

commit 8ccf32353ee76554b7e7db8a273f26db57204856
Merge: a6d1170 51bc17d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 26 11:59:04 2009 +0000

    Merge branch 'master' into muc-stream-tube-test

commit 51bc17d6a9d9682b286189f2b4b69c949cddbae9
Merge: 29a1be3 1b87ad1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 26 11:58:38 2009 +0000

    Merge branch 'tubes-test'

commit 28672c8447d7c3c0532ee831e5b7994067c2b0ac
Merge: 8cf2d25 1cd0786
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 26 11:50:00 2009 +0000

    Merge branch 'socks5+muc-stream-tube-test' into file-transfer+socks5+muc-stream-tube-test
    
    Conflicts:
    
    	src/bytestream-socks5.c
    	src/tube-stream.c
    	tests/twisted/bytestream.py
    	tests/twisted/tubes/offer-accept-private-dbus-stream-tube-socks5.py

commit 1cd07868bd29d9fc75e21f94dd98205322eff00c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 26 11:15:15 2009 +0000

    socks5: ensure to keep the bytestream alive in transport_handler

 src/bytestream-socks5.c |    9 ++++++++-
 1 files changed, 8 insertions(+), 1 deletions(-)

commit 1b87ad1f41e22469df0c81c64d521d454f377fc2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 26 10:55:02 2009 +0000

    send_socks5_init: add invalid and not used streamhost

 tests/twisted/bytestream.py |   10 +++++++++-
 1 files changed, 9 insertions(+), 1 deletions(-)

commit 75baa1d80d7fb71face8745ea847829acba043b5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 14:35:36 2009 +0000

    remove debug print

 ...offer-accept-private-dbus-stream-tube-socks5.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 2589cce34865c5053e9c7b9ce0920ef3bea96847
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 26 10:49:48 2009 +0000

    _socks5_expect_connection: wait for the connected and expected event at the same time

 tests/twisted/bytestream.py |   22 ++++++++++++----------
 1 files changed, 12 insertions(+), 10 deletions(-)

commit 9d3305209eb60179016f4b8119883815d1a70558
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 25 20:22:45 2009 +0000

    Test accepting streams added after accepting call

 tests/twisted/Makefile.am                   |    1 +
 tests/twisted/jingle/accept-extra-stream.py |  184 +++++++++++++++++++++++++++
 2 files changed, 185 insertions(+), 0 deletions(-)

commit ee0f7375648b5298cfcd07ba8c0573d4d92ab49e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 25 20:21:49 2009 +0000

    Emit SetStreamSending(True) when accepting incoming streams.
    
    This makes accepting streams the other side initiates after the call's
    been accepted work.

 src/media-stream.c |   14 +++++++++++++-
 1 files changed, 13 insertions(+), 1 deletions(-)

commit df742bc4d09e78c04ed90335e71961a928357154
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 25 20:00:08 2009 +0000

    Add get_video_codecs_dbus() to JingleTest2.

 tests/twisted/jingle/jingletest2.py |   10 ++++++++--
 1 files changed, 8 insertions(+), 2 deletions(-)

commit edbf3b4acbb460c3b1d08dbbb5dc9326f3c1f91c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 25 12:49:01 2009 +0000

    Remove unused variable labelled "XXX shouldn't be used"

 tests/twisted/jingle/jingletest2.py |    9 ---------
 1 files changed, 0 insertions(+), 9 deletions(-)

commit 4940c83ce72ba9e856a319dce9feac0679de9883
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 25 12:44:44 2009 +0000

    Use constants.py and GetSelfHandle in test-content-complex

 tests/twisted/jingle/test-content-complex.py |   25 ++++++++++++-------------
 1 files changed, 12 insertions(+), 13 deletions(-)

commit 33631c74430c29bf7479777396ef9308d3cfd38e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 25 12:44:24 2009 +0000

    Remove double definition of StreamState constants

 tests/twisted/constants.py |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 1767cb8faed4860dff4bb8a060c196301915d78c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 25 12:27:20 2009 +0000

    Test that call accepted => audio stream Playing

 tests/twisted/jingle/test-incoming-call.py |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 5d2cd4238291f83128d57a0bad0dfca296f8fda6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 19:54:44 2009 +0000

    jingle/stun-server.py: assert that the fallback STUN server is used if there is no override and no Google STUN server

 tests/twisted/jingle/stun-server.py |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 89fe28ff4da69b0644e67f4abc8a61a230a3fe07
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 19:54:19 2009 +0000

    GabbleJingleFactory: additionally resolve and set up the fallback STUN server

 src/jingle-factory.c |   54 ++++++++++++++++++++++++++++++++++++++++++-------
 1 files changed, 46 insertions(+), 8 deletions(-)

commit 57b359af7672724af6bed3ff8271a311b935fdb9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 19:53:13 2009 +0000

    Pass fallback-stun-server, fallback-stun-port through GabbleConnectionManager to GabbleConnection

 src/connection-manager.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit e340f564e397ec3131fe51581c72d3e90ef4b880
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 19:29:10 2009 +0000

    jingle/stun-server: make Gabble resolve the STUN server addresses

 tests/twisted/jingle/stun-server.py |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit f01cc59ef19143d36c0d2f72e24ef334f2a1c273
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 19:08:42 2009 +0000

    GabbleJingleFactory: Resolve STUN server hostname to address
    
    Based on code from Sjoerd Simons.

 src/jingle-factory.c |   81 +++++++++++++++++++++++++++++++++++++++++++++++--
 1 files changed, 77 insertions(+), 4 deletions(-)

commit 8c19eb1114fac0a11d3fa6a6906a3a89a3a3f662
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 18:49:54 2009 +0000

    GabbleJingleFactory: factor out take_stun_server

 src/jingle-factory.c |   18 ++++++++++++------
 1 files changed, 12 insertions(+), 6 deletions(-)

commit 762aac80787299424da9f6d722870e28dd41d6ef
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 18:49:30 2009 +0000

    GabbleJingleFactory: default to the standard STUN port if unspecified

 src/jingle-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9dd1a234abee76a106dbbdb37e4e0e4eef838575
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 18:33:40 2009 +0000

    telepathy-gabble-debug: compile in a resolver whose results can be forced
    
    This lets us make tests that resolve hostnames to IPs without relying on
    working DNS.

 tests/twisted/Makefile.am     |    4 +-
 tests/twisted/main-debug.c    |    7 ++
 tests/twisted/resolver-fake.c |  232 +++++++++++++++++++++++++++++++++++++++++
 tests/twisted/resolver-fake.h |   61 +++++++++++
 4 files changed, 303 insertions(+), 1 deletions(-)

commit 727fd8a07f89f61c99a222743c9e43c48b9d36db
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 18:30:48 2009 +0000

    jingle/stun-server.py: Check that when fallback-stun-server is given, the STUN server from Google takes precedence

 tests/twisted/jingle/stun-server.py |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit af0706ba35412b85a17aad3be1ca19c51d52715a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Feb 19 10:54:20 2009 +0000

    Add fallback-stun-{server,port} connection options

 src/connection-manager.c |   16 ++++++++++++++++
 1 files changed, 16 insertions(+), 0 deletions(-)

commit 1499c2b8812eb7d2253c491444befc12de902120
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Feb 19 10:53:25 2009 +0000

    Add fallback-stun-{server,port} properties

 src/connection.c |   32 ++++++++++++++++++++++++++++++++
 src/connection.h |    1 +
 2 files changed, 33 insertions(+), 0 deletions(-)

commit affb4c7945bd3674135d4825e9dfa5a82f566e11
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 17:27:20 2009 +0000

    Test the stun-server and stun-port CM parameter, which act as an override

 tests/twisted/jingle/stun-server.py |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit ce24cd026ff61683aebe8df1febdde41ce95df5e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 17:25:23 2009 +0000

    Combine no-stun-server and stun-from-google tests

 tests/twisted/Makefile.am                |    3 +-
 tests/twisted/jingle/no-stun-server.py   |  126 -----------------------
 tests/twisted/jingle/stun-from-google.py |  145 --------------------------
 tests/twisted/jingle/stun-server.py      |  165 ++++++++++++++++++++++++++++++
 4 files changed, 166 insertions(+), 273 deletions(-)

commit 474a4e26a246a387994425720b828ba518da0628
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 18:07:17 2009 +0000

    configure.ac: move AC_USE_SYSTEM_EXTENSIONS nearer the top
    
    This macro should be run before any C compiler tests.

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit dbaf040044b7c75b150541f0cc3f4f9448ced483
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 17:04:41 2009 +0000

    lib/gibber/Makefile.am: exempt asyncns from Telepathy coding style check

 lib/gibber/Makefile.am |   16 +++++++++-------
 1 files changed, 9 insertions(+), 7 deletions(-)

commit 32716b3af107efb02a70e4bb2d506f5099118ddf
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Thu Feb 19 10:52:32 2009 +0000

    Add gibbers async resolver abstraction

 configure.ac                         |   27 +-
 lib/gibber/Makefile.am               |    6 +
 lib/gibber/asyncns.c                 | 1498 ++++++++++++++++++++++++++++++++++
 lib/gibber/asyncns.h                 |  163 ++++
 lib/gibber/gibber-resolver-asyncns.c |  415 ++++++++++
 lib/gibber/gibber-resolver-asyncns.h |   59 ++
 lib/gibber/gibber-resolver.c         |  899 ++++++++++++++++++++
 lib/gibber/gibber-resolver.h         |  176 ++++
 8 files changed, 3242 insertions(+), 1 deletions(-)

commit 424ea10dcee3a58bc89afc01f324e4c320efa840
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 16:44:25 2009 +0000

    GabbleJingleFactory: only set STUN server if (stun, port) pair looks reasonable

 src/jingle-factory.c |   20 ++++++++++----------
 1 files changed, 10 insertions(+), 10 deletions(-)

commit b9edb4351f81d2297549a413b0e554d72309c746
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 17:01:43 2009 +0000

    Add recently added STUN tests to Makefile.am

 tests/twisted/Makefile.am |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 9244fb9485beede826fc3b2d8864cce021dddcc7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 18:38:48 2009 +0000

    offer-muc-stream-tube.py: use the real jid when sending the SI offer

 tests/twisted/tubes/offer-muc-stream-tube.py |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit a9d247bf435cd3b646738892a8c5db617d1e9e40
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 18:38:20 2009 +0000

    accept-muc-stream-tube.py: use the real jid when sending the SI reply

 tests/twisted/tubes/accept-muc-stream-tube.py |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 14d3a6ce17caf26ac6c5b2858f9c66bfaa5b0b54
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 18:37:28 2009 +0000

    bytestream-factory: get the nick from the muc instead of relying on the 'to' attribute

 src/bytestream-factory.c |   73 ++++++++++++++++++++++++++++++++++++---------
 1 files changed, 58 insertions(+), 15 deletions(-)

commit 234fccc611b047058fe76524e59467654caff28c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 18:36:49 2009 +0000

    socks5: we are not the initiator when checking the CONNECT reply

 src/bytestream-socks5.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit b2b2602f4ad60d53121ba1a4a8eb5531468afd50
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 18:31:03 2009 +0000

    socks5: use peer_jid and self_full_jid to compute the domain
    
    We shouldn't use the to attribute of the IQ as the jabber server will
    change it to our real jid if the IQ was send in the context of a muc

 src/bytestream-socks5.c |   10 ++--------
 1 files changed, 2 insertions(+), 8 deletions(-)

commit bd20825dac5c4a1c2850cde835925c6d3da48953
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 18:30:11 2009 +0000

    muc-channel: add self-jid property

 src/muc-channel.c |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit 11f056c9f50114ca784cef065b1cf4aa2a2a225f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 16:55:48 2009 +0000

    pass self_jid to gabble_bytestream_factory_create_from_method

 src/bytestream-factory.c  |   30 +++++++++++++++++++++++-------
 src/bytestream-factory.h  |    3 ++-
 src/bytestream-multiple.c |    3 ++-
 3 files changed, 27 insertions(+), 9 deletions(-)

commit 0f718940e45ed9f6cde6f9a8e42834523f30032c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 16:54:14 2009 +0000

    bytestream-multiple: add self-jid property

 src/bytestream-multiple.c |   21 +++++++++++++++++++++
 1 files changed, 21 insertions(+), 0 deletions(-)

commit 375b19add6b3a44a6cc3311664cad578b97ca83d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 16:52:37 2009 +0000

    socks5: add self-jid property

 src/bytestream-socks5.c |   23 ++++++++++++++++++-----
 1 files changed, 18 insertions(+), 5 deletions(-)

commit 29a1be38e05382870198f3ad2ec7b54578041e73
Merge: 2495925 1fd3429
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 16:45:45 2009 +0000

    Merge branch 'swamp'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 5ca31761700575c711c5a07e520d4702265ed508
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 16:27:28 2009 +0000

    offer-muc-stream-tube.py: target of the stream is the muc jid

 tests/twisted/tubes/offer-muc-stream-tube.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 1fd34296aa05e01cc068e04356b8c57d9d22fbf7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 16:14:25 2009 +0000

    jingle/stun-from-google.py: give Gabble a Google relay token and make sure it gets through to the channel properties

 tests/twisted/jingle/stun-from-google.py |    8 +++++---
 1 files changed, 5 insertions(+), 3 deletions(-)

commit 68555b704d16a02714056457d280cc6405cc0e93
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 16:06:03 2009 +0000

    jingle/stun-from-google.py: new test for discovering a STUN server using Google's jingleinfo extension

 tests/twisted/jingle/stun-from-google.py |  143 ++++++++++++++++++++++++++++++
 1 files changed, 143 insertions(+), 0 deletions(-)

commit ac444d16eeac614eb2ba59d54b87b2d6474a144c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 16:05:32 2009 +0000

    jingle/no-stun-server.py: new test for the "no relay info, no STUN server" case

 tests/twisted/jingle/no-stun-server.py |  126 ++++++++++++++++++++++++++++++++
 1 files changed, 126 insertions(+), 0 deletions(-)

commit 33b1d7c099842d2ce3378b6b7ec85914e1f586ec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 16:05:02 2009 +0000

    gabbletest.py: add a stream that claims to implement Google extensions

 tests/twisted/gabbletest.py |   18 ++++++++++++++++++
 1 files changed, 18 insertions(+), 0 deletions(-)

commit 5584afa2a73c1384147f9ec6e8c60802eeaf8c15
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 16:04:45 2009 +0000

    ns.py: add Google roster and jingleinfo namespaces

 tests/twisted/ns.py |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 513d5639382d95aa654657580fd021e322c54e25
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 16:04:31 2009 +0000

    constants.py: add the semi-deprecated Telepathy Properties

 tests/twisted/constants.py |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 90754ff8859fa1664443efb4cd79a9afbc26f2b1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 13:40:33 2009 +0000

    GabbleJingleFactory: make stun_server, stun_port private and add an accessor

 src/jingle-factory.c |   33 ++++++++++++++++++++++++++-------
 src/jingle-factory.h |    6 +++---
 src/media-channel.c  |   15 +++++++++++----
 3 files changed, 40 insertions(+), 14 deletions(-)

commit 44226e74ba9f41d5b9d95dd6d4bb23dc5467231e
Merge: 09e24d3 a6d1170
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 15:52:40 2009 +0000

    Merge branch 'muc-stream-tube-test' into socks5+muc-stream-tube-test

commit 09e24d351b5a1102438802c7ed5407b887aaf79c
Merge: f64e8f3 a8d493d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 15:52:21 2009 +0000

    Merge branch 'tubes-test' into socks5+tubes-test
    
    Conflicts:
    
    	tests/twisted/bytestream.py
    	tests/twisted/tubes/offer-accept-private-dbus-stream-tube-socks5.py

commit a6d1170a1debe44814faf21f492853046ab43b11
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 15:32:24 2009 +0000

    offer-muc-stream-tube: use exec_tube_test

 tests/twisted/tubes/offer-muc-stream-tube.py |   15 ++++-----------
 1 files changed, 4 insertions(+), 11 deletions(-)

commit 9d7f5fc26c8276b0ca619ec6df2e5e1ffaf810b1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 15:32:09 2009 +0000

    accept-muc-stream-tube: use exec_tube_test

 tests/twisted/tubes/accept-muc-stream-tube.py |   15 ++++-----------
 1 files changed, 4 insertions(+), 11 deletions(-)

commit c2a5d5414f2fcde470f6fbd47ff2bc45c1a62c15
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 15:31:43 2009 +0000

    tubetestutil: add exec_tube_test

 tests/twisted/tubes/tubetestutil.py |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit 469aa5a4b8ddf5014a658a998e8a572083f8e6af
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 15:18:51 2009 +0000

    rename accept-muc-stream-tube-ibb.py to accept-muc-stream-tube.py

 tests/twisted/Makefile.am                         |    2 +-
 tests/twisted/tubes/accept-muc-stream-tube-ibb.py |  257 ---------------------
 tests/twisted/tubes/accept-muc-stream-tube.py     |  257 +++++++++++++++++++++
 3 files changed, 258 insertions(+), 258 deletions(-)

commit 3630856a820331fa6eafc5d2c526ccc037e450f3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 15:17:12 2009 +0000

    accept-muc-stream-tube-ibb: run test with SOCKS5 too

 tests/twisted/tubes/accept-muc-stream-tube-ibb.py |   15 +++++++++++----
 1 files changed, 11 insertions(+), 4 deletions(-)

commit 0d4e71aede44ce0e849f017dd00e34355be47053
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 15:12:36 2009 +0000

    accept-muc-stream-tube-ibb: use bytestream.send_data

 tests/twisted/tubes/accept-muc-stream-tube-ibb.py |    5 +----
 1 files changed, 1 insertions(+), 4 deletions(-)

commit 2e03ae5b02f0e5799d6a692b3e3906785338d997
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 15:12:26 2009 +0000

    accept-muc-stream-tube-ibb: pass initiated property

 tests/twisted/tubes/accept-muc-stream-tube-ibb.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit abc3623c0dec75fdfe4a08104b19b13a6655e897
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 15:11:44 2009 +0000

    offer-muc-stream-tube: pass initiated property

 tests/twisted/tubes/offer-muc-stream-tube.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 6651dfc8dfcab72d3f0ff661ad2891cce8c57bad
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 15:11:24 2009 +0000

    offer-accept-private-dbus-stream-tube-socks5: pass initiated property

 ...offer-accept-private-dbus-stream-tube-socks5.py |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 0e2dcba77a085e7a81bfbc330c7204bd5bb91cc3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 15:10:51 2009 +0000

     bytestream: add a initiated property so we can properly send IBB data in both side

 tests/twisted/bytestream.py |   16 ++++++++++++----
 1 files changed, 12 insertions(+), 4 deletions(-)

commit 702a972199682338c8647c77065025a8645b3812
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 14:59:33 2009 +0000

    accept-muc-stream-tube-ibb: use BytestreamIBB

 tests/twisted/tubes/accept-muc-stream-tube-ibb.py |   32 ++++++++-------------
 1 files changed, 12 insertions(+), 20 deletions(-)

commit 0cf5f74a11b70897d3053460e8247aace5f0fa8c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 14:40:29 2009 +0000

    accept-muc-stream-tube-ibb: use SI and IBB helper functions

 tests/twisted/tubes/accept-muc-stream-tube-ibb.py |   59 ++++++---------------
 1 files changed, 17 insertions(+), 42 deletions(-)

commit 7ce115edd96dc9f02b09e4a5c56108127e553998
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 14:39:18 2009 +0000

    offer-accept-private-dbus-stream-tube-ibb: create_si_reply returns the si node now

 .../offer-accept-private-dbus-stream-tube-ibb.py   |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 921c980f7599f20da0bae8dce1f090134927e90c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 14:38:59 2009 +0000

    offer-accept-private-dbus-stream-tube-socks5: create_si_reply returns the si node now

 ...offer-accept-private-dbus-stream-tube-socks5.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 88126e87fdaafc1a66456ac0e262c734efa5d0a5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 14:38:40 2009 +0000

    create_si_reply: returns the si node too

 tests/twisted/bytestream.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b7f07549f4e40a9c52ffd484690812b5e1db7412
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 14:35:36 2009 +0000

    remove debug print

 ...offer-accept-private-dbus-stream-tube-socks5.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 007aa764172a64fc36ed49931d5d9b80b3df1d2d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 14:20:31 2009 +0000

    accept-muc-stream-tube-ibb: import constants as cs

 tests/twisted/tubes/accept-muc-stream-tube-ibb.py |   46 ++++++++++----------
 1 files changed, 23 insertions(+), 23 deletions(-)

commit 22e833eccae4dbaf86e4f6617b46a324d17f680f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 13:40:23 2009 +0000

    GabbleJingleFactory: make relay token private and add an accessor

 src/jingle-factory.c |   12 +++++++++---
 src/jingle-factory.h |    4 +++-
 src/media-channel.c  |   13 +++++++++++--
 3 files changed, 23 insertions(+), 6 deletions(-)

commit 472949f1ac75d3e667f7b7b2825d4bb3b88150e8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 13:56:52 2009 +0000

    rename offer-muc-stream-tube-ibb.py to offer-muc-stream-tube.py

 tests/twisted/Makefile.am                        |    2 +-
 tests/twisted/tubes/offer-muc-stream-tube-ibb.py |  383 ---------------------
 tests/twisted/tubes/offer-muc-stream-tube.py     |  391 ++++++++++++++++++++++
 3 files changed, 392 insertions(+), 384 deletions(-)

commit 917c0527e37108951e4f98360a98e719cd6f04f7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 13:46:39 2009 +0000

    offer-muc-stream-tube-ibb.py: use BytestreamIBB

 tests/twisted/tubes/offer-muc-stream-tube-ibb.py |   24 +++++++++------------
 1 files changed, 10 insertions(+), 14 deletions(-)

commit 461abf478bfa0a82ac1b1be1defb849ff17c0956
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 13:39:25 2009 +0000

    offer-muc-stream-tube-ibb.py: import constants as cs

 tests/twisted/tubes/offer-muc-stream-tube-ibb.py |  129 +++++++++++-----------
 1 files changed, 64 insertions(+), 65 deletions(-)

commit fe017893ecc511839a311d02e4d3963da0ea27b7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 13:33:34 2009 +0000

    offer-muc-stream-tube-ibb: use IBB helper functions

 tests/twisted/tubes/offer-muc-stream-tube-ibb.py |   65 +++++-----------------
 1 files changed, 14 insertions(+), 51 deletions(-)

commit 75d999c71d98631c7d80381ac54e663d3d53fe2a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 13:28:52 2009 +0000

    GabbleJingleFactory: make get_stun_from_jingle private

 src/jingle-factory.c |    5 +++--
 src/jingle-factory.h |    1 -
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 05a642814a973624fcd36b7f8a9a3a52080744c5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 12:53:44 2009 +0000

    GabbleJingleContent: remove unused member 'factory'

 src/jingle-content.h |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 3be98b35da913f593d8a6b8e249521389d6e1c31
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 12:53:30 2009 +0000

    GabbleJingleSession: comment a non-subclass-safe call to g_object_new

 src/jingle-session.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit a8d493dbf4cc875269469c524e5716b53d929f60
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 12:47:35 2009 +0000

    simplify BytestreamS5BPidgin by just overriding _send_connect_reply

 tests/twisted/bytestream.py |   38 ++------------------------------------
 1 files changed, 2 insertions(+), 36 deletions(-)

commit 2790b7cb727f02c9b369e1380949bb7c67f7b757
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 12:44:16 2009 +0000

    split _socks5_expect_connection to smaller private functions

 tests/twisted/bytestream.py |   29 +++++++++++++++++++----------
 1 files changed, 19 insertions(+), 10 deletions(-)

commit a13a6b4ca271344d5e9a6d681d1ca35e4350debe
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 12:42:52 2009 +0000

    Add and use gabble_jingle_transport_iface_new()

 src/jingle-content.c         |   10 ++++------
 src/jingle-transport-iface.c |   14 ++++++++++++++
 src/jingle-transport-iface.h |    3 +++
 3 files changed, 21 insertions(+), 6 deletions(-)

commit de715a1497e9dac3b0d83a037b6e01029113185f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 12:35:42 2009 +0000

    GabbleJingleFactory: make tables of content-type and transport types private

 src/jingle-factory.c |   22 ++++++++++++----------
 src/jingle-factory.h |    3 ---
 2 files changed, 12 insertions(+), 13 deletions(-)

commit 085f8c19d98eca08ce83052d80c4df9af25ddd0b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 12:35:16 2009 +0000

    GabbleJingleSession: use proper accessor to find content-type GTypes

 src/jingle-session.c |   10 ++++------
 1 files changed, 4 insertions(+), 6 deletions(-)

commit d9acd679c159312ba69e2048fe1636e023a5d84f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 12:34:37 2009 +0000

    GabbleJingleContent: use proper accessors to find transport GTypes

 src/jingle-content.c |   13 ++++++-------
 1 files changed, 6 insertions(+), 7 deletions(-)

commit b03016dd9782c29a0caa6d02c74254e4e32c607c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 12:33:02 2009 +0000

    bytestream.py: change SOCKS5 helper function as BytestreamS5B private methods

 tests/twisted/bytestream.py |  203 +++++++++++++++++++++----------------------
 1 files changed, 100 insertions(+), 103 deletions(-)

commit 15065df2c764e482f18423e37c826ac60bf35a56
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 12:32:16 2009 +0000

    offer-accept-private-dbus-stream-tube-socks5: no need to call listen_socks5 any more

 ...offer-accept-private-dbus-stream-tube-socks5.py |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit 14424ead4ec87588abcdf58e948d3bb8c0e4f77b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 12:27:42 2009 +0000

    GabbleJingleFactory: add methods to look up transports
    
    Also improve coding style (object whose method is implemented is named
    self, avoid use of C++ keyword "namespace", indentation) and when
    registering new transports/content-types, assert that they have the
    correct GObject interface/type.

 src/jingle-factory.c |   35 +++++++++++++++++++++++++++++------
 src/jingle-factory.h |   14 ++++++++++----
 2 files changed, 39 insertions(+), 10 deletions(-)

commit 28ab3711b8d8c18c96d278b134a907ca6b3dd636
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 12:09:07 2009 +0000

    bytestream.py: disable streamhost jid check for now

 tests/twisted/bytestream.py |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 42fb01dd28b6f12ed6c1c879ef0bf752d2065097
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 11:59:22 2009 +0000

    offer-accept-private-dbus-stream-tube-socks5.py: use BytestreamS5B

 ...offer-accept-private-dbus-stream-tube-socks5.py |   91 +++++++------------
 1 files changed, 34 insertions(+), 57 deletions(-)

commit c34e80e0f1115a03977e6f3a622eb1cba5b5318b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 11:58:58 2009 +0000

    bytestream.py: open_bytestream takes an optional expected event arg

 tests/twisted/bytestream.py |   15 +++++++++++----
 1 files changed, 11 insertions(+), 4 deletions(-)

commit 909c0f7e9d97c16102ed91b1632c3733a26d0b1c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 25 11:40:10 2009 +0000

    Add gabble_jingle_session_new()

 src/jingle-factory.c |    9 ++-------
 src/jingle-session.c |   16 ++++++++++++++++
 src/jingle-session.h |    4 ++++
 3 files changed, 22 insertions(+), 7 deletions(-)

commit 48e2b58e56995b4e2a772626c96b896934d76a97
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 11:05:12 2009 +0000

    bytestream.py: add Bytestream objects

 tests/twisted/bytestream.py |  155 +++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 155 insertions(+), 0 deletions(-)

commit 8cf2d2584967b0713aa1e08ee2361a272073e070
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 11:07:22 2009 +0000

    file_transfer_helper.py: Bytestreams objects have been moved to bytestream.py

 .../twisted/file-transfer/file_transfer_helper.py  |  165 +-------------------
 1 files changed, 3 insertions(+), 162 deletions(-)

commit 4d71224ce3107a09acc764c901b29eae57687b68
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 11:05:12 2009 +0000

    bytestream.py: add Bytestream objects

 tests/twisted/bytestream.py |  155 +++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 155 insertions(+), 0 deletions(-)

commit f38676f1ea4c3c06d7b1df6b03e6bc3ea271328b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 11:01:28 2009 +0000

    don't catch InitialOffsetDefined and FileTransferStateChanged in open_bytestream

 .../twisted/file-transfer/file_transfer_helper.py  |   31 ++++---------------
 1 files changed, 7 insertions(+), 24 deletions(-)

commit 8cac3deddefc854188af0a1701c32f446be7d851
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 10:48:08 2009 +0000

    use self.initiator and self.target instead of passing from/to args to bytestream methods

 .../twisted/file-transfer/file_transfer_helper.py  |   57 ++++++++++----------
 1 files changed, 28 insertions(+), 29 deletions(-)

commit eea62b9bb7add47a9156841f7be087e28a6ea63f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 10:41:09 2009 +0000

    file_transfer_helper: pass initiator and target when creating the bytestream

 .../twisted/file-transfer/file_transfer_helper.py  |   14 +++++++++-----
 1 files changed, 9 insertions(+), 5 deletions(-)

commit de41198eae059f9ece8395d3e98ac80184c3c7c4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 25 10:33:27 2009 +0000

    file_transfer_helper.py: pass the stream-id when creating the bytestream object

 .../twisted/file-transfer/file_transfer_helper.py  |   32 ++++++++++---------
 1 files changed, 17 insertions(+), 15 deletions(-)

commit 3ff29f431b453608cc4b68c941b4d894cb3c5f83
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Feb 24 19:00:08 2009 +0000

    GabbleMediaStream: remove connection property
    
    Same reasoning as media-session: it's construct-only and not set at
    construct time, therefore it must be dead.

 src/media-stream.c |   20 +-------------------
 1 files changed, 1 insertions(+), 19 deletions(-)

commit 27bec26c61dad6330259e2d4ed66b889c924d149
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Feb 24 18:59:29 2009 +0000

    GabbleMediaStream: remove media-session property
    
    It's construct-only, and not set at construct time (only one function
    creates GabbleMediaStream instances), therefore it must be dead code.

 src/media-stream.c |   17 -----------------
 1 files changed, 0 insertions(+), 17 deletions(-)

commit df2c1bbb92f98fb66c8101aac3e1a8b78c065ff7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Feb 24 18:51:37 2009 +0000

    gabble_media_stream_constructor: assert that we have a GabbleJingleContent
    
    Invariant: every GabbleMediaStream has a GabbleJingleContent. In the only
    place that currently creates a GabbleMediaStream, this is true.

 src/media-stream.c |   25 ++++++++++++-------------
 1 files changed, 12 insertions(+), 13 deletions(-)

commit f64e8f3d8df8d8b47517fc42c7bbe16ee78c61e2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 17:18:19 2009 +0000

    socks5_close_transport: always free the buffer if needed

 src/bytestream-socks5.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 8a25b7b602e88a425a5b1305a02c97b93c65241e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 17:17:55 2009 +0000

    fix coding style

 src/bytestream-socks5.c |   20 ++++++++++----------
 1 files changed, 10 insertions(+), 10 deletions(-)

commit 3590992bd01b91315da6758e6b3753bfcc81c1d2
Merge: 490cadb 2495925
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 16:40:22 2009 +0000

    Merge branch 'master' into socks5

commit 490cadbb2020b8b1e88263a224c8c02d70e0497c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 16:35:22 2009 +0000

    fix domain leak

 src/bytestream-socks5.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 9886e2841d382d8e3b6ffbc97a639cff58cc2e69
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 16:31:35 2009 +0000

    style fix

 src/bytestream-socks5.c |   12 ++++++++----
 1 files changed, 8 insertions(+), 4 deletions(-)

commit dac1f8f582ff496a9fd743282f7ab7f36e758ea9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 16:27:35 2009 +0000

    socks5: reject connection if domain is wrong in CONNECT cmd

 src/bytestream-socks5.c |   16 ++++++++++++----
 1 files changed, 12 insertions(+), 4 deletions(-)

commit d7f011829f62de4fe91fabcba8e02e60b4db1b4e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 16:35:22 2009 +0000

    fix domain leak

 src/bytestream-socks5.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit dcc8ae9f1997ee49b84af8e70dfdd5c7bc920350
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 16:31:35 2009 +0000

    style fix

 src/bytestream-socks5.c |   12 ++++++++----
 1 files changed, 8 insertions(+), 4 deletions(-)

commit 68e8aad785df7aa1eea1e632c357ede64e5fdc11
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 16:28:04 2009 +0000

    don't test bugged CONNECT cmd as we reject them now

 .../twisted/file-transfer/file_transfer_helper.py  |   52 --------------------
 1 files changed, 0 insertions(+), 52 deletions(-)

commit 07f0c7e1cbed50b329daf6a017569193e3e47110
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 16:27:35 2009 +0000

    socks5: reject connection if domain is wrong in CONNECT cmd

 src/bytestream-socks5.c |   16 ++++++++++++----
 1 files changed, 12 insertions(+), 4 deletions(-)

commit e88b27801e9e1d1ef63281d1fc1c4558a50a4f9e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 15:50:45 2009 +0000

    socks5: accept CONNECT cmd which doesn't contain a valid domain

 src/bytestream-socks5.c |   11 +++++++----
 1 files changed, 7 insertions(+), 4 deletions(-)

commit cdf70c9eb04acc1b7e55d67201a600da54a185bb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 15:26:00 2009 +0000

    socks5: accept CONNECT reply which doesn't contain a valid domain
    
    This is needed to interop with Pidgin

 src/bytestream-socks5.c |   15 +++++++++------
 1 files changed, 9 insertions(+), 6 deletions(-)

commit 55ddf5af2d9d0f8640fde1c82052cdce55896bbd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 14:47:10 2009 +0000

    socks5: display a debug msg if domain is wrong

 src/bytestream-socks5.c |   30 ++++++++++++++++++++++++++----
 1 files changed, 26 insertions(+), 4 deletions(-)

commit 9e5e3af11f134d683c9e3d5841d1070e3276f8b8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 15:51:47 2009 +0000

    file_transfer_helper.py: test bugged CONNECT cmd

 .../twisted/file-transfer/file_transfer_helper.py  |   55 +++++++++++++++++++-
 1 files changed, 54 insertions(+), 1 deletions(-)

commit 6ced8f4200b05c1e2d8372a870b701f7860e6460
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 15:50:45 2009 +0000

    socks5: accept CONNECT cmd which doesn't contain a valid domain

 src/bytestream-socks5.c |   11 +++++++----
 1 files changed, 7 insertions(+), 4 deletions(-)

commit f14d13bc39020fdc7804ec4ae7437dd4dce0b12d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 15:31:31 2009 +0000

    add BytestreamS5BBugged to simulate Pidgin's buggy SOCKS5 implementation

 .../twisted/file-transfer/file_transfer_helper.py  |   56 ++++++++++++++++++++
 1 files changed, 56 insertions(+), 0 deletions(-)

commit f42c8f563d129b5fb5122215693a6939e827a63b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 15:26:00 2009 +0000

    socks5: accept CONNECT reply which doesn't contain a valid domain
    
    This is needed to interop with Pidgin

 src/bytestream-socks5.c |   15 +++++++++------
 1 files changed, 9 insertions(+), 6 deletions(-)

commit 4c63f2d1b1815626a3eec0e95136a7ff7b63d680
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 14:47:10 2009 +0000

    socks5: display a debug msg if domain is wrong

 src/bytestream-socks5.c |   30 ++++++++++++++++++++++++++----
 1 files changed, 26 insertions(+), 4 deletions(-)

commit e2e4faefaa59350a8f997e28baf4e384692ef682
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 14:02:13 2009 +0000

    socks5: expect the right CONNECT reply

 src/bytestream-socks5.c |   17 ++++++++++++-----
 1 files changed, 12 insertions(+), 5 deletions(-)

commit 709aab611746adff1df0f49fd8c03457fe65ae59
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 13:58:25 2009 +0000

    socks5_expect_connection: send right CONNECT reply

 tests/twisted/bytestream.py |   21 +++++++++++++++++----
 1 files changed, 17 insertions(+), 4 deletions(-)

commit e0755a203aa57c8a791e3ca4a36c07551b1bfa47
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 13:14:11 2009 +0000

    bytestream.py: socks5_connect: CONNECT reply is supposed to contain the domain

 tests/twisted/bytestream.py |   17 +++++++++++++----
 1 files changed, 13 insertions(+), 4 deletions(-)

commit 76b86659dfee8ff700e2045194dcea4c03eee532
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 12:52:04 2009 +0000

    socks5: CONNECT reply has to contain the atyp domain

 src/bytestream-socks5.c |   13 ++++++++++++-
 1 files changed, 12 insertions(+), 1 deletions(-)

commit 24be0de35ffb3b898ab0197e6fc2b30008cc3be1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 12:47:43 2009 +0000

    socks5: factor out compute_domain

 src/bytestream-socks5.c |   21 +++++++++++++++++----
 1 files changed, 17 insertions(+), 4 deletions(-)

commit 2c973a126f41e37c121e55ab43a74126eba83680
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 11:18:47 2009 +0000

    socks5: store self_full_jid in private struct

 src/bytestream-socks5.c |   26 +++++++++++++-------------
 1 files changed, 13 insertions(+), 13 deletions(-)

commit 0d29f8b20cf14730be4bf1f03bad2eb1da4b756a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 11:12:08 2009 +0000

    socks5: add some DEBUG msg

 src/bytestream-socks5.c |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit 24959256cfc85c7b7b2b78ca3de8b5df8b4c17aa
Merge: 0eee2f5 2d6c9ea
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 14:09:20 2009 +0000

    Merge branch 'negotiate-stream'

commit dbe68019d15dd1bf238ca86d6855eb783189b670
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 14:02:13 2009 +0000

    socks5: expect the right CONNECT reply

 src/bytestream-socks5.c |   17 ++++++++++++-----
 1 files changed, 12 insertions(+), 5 deletions(-)

commit 8dc86e8e1efe51457ac95d0ff3a9f660af2cc7d1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 13:58:25 2009 +0000

    socks5_expect_connection: send right CONNECT reply

 tests/twisted/bytestream.py |   21 +++++++++++++++++----
 1 files changed, 17 insertions(+), 4 deletions(-)

commit e0c0f3d0f21ca10b07bba0e7844610c3e3a7e4c1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 13:14:11 2009 +0000

    bytestream.py: socks5_connect: CONNECT reply is supposed to contain the domain

 tests/twisted/bytestream.py |   17 +++++++++++++----
 1 files changed, 13 insertions(+), 4 deletions(-)

commit 190c2c382dd7c3723a6226bbb0299740ff66757c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 13:13:08 2009 +0000

    wait_bytestream_open: fix initiator/receiver

 .../twisted/file-transfer/file_transfer_helper.py  |   16 +++++++++-------
 1 files changed, 9 insertions(+), 7 deletions(-)

commit 715b7c469d41a774e23339706245cb68bbabd114
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 12:52:04 2009 +0000

    socks5: CONNECT reply has to contain the atyp domain

 src/bytestream-socks5.c |   13 ++++++++++++-
 1 files changed, 12 insertions(+), 1 deletions(-)

commit ebd01d54acf791148e84ecb5abcfc8843b307391
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 12:47:43 2009 +0000

    socks5: factor out compute_domain

 src/bytestream-socks5.c |   21 +++++++++++++++++----
 1 files changed, 17 insertions(+), 4 deletions(-)

commit 0eee2f5f244cb41a0355feec9ccf444938c31f0e
Merge: 90d4dbd 28aa9e1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Feb 24 12:23:34 2009 +0000

    Merge branch 'types'
    
    Conflicts:
    	configure.ac

commit 5c1fd8cee67938333f291734c6ddd1db91e03cc8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 11:18:47 2009 +0000

    socks5: store self_full_jid in private struct

 src/bytestream-socks5.c |   26 +++++++++++++-------------
 1 files changed, 13 insertions(+), 13 deletions(-)

commit 202a13fac3ef0aa9dba31edc04b0b77cdb8427a7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 11:12:08 2009 +0000

    socks5: add some DEBUG msg

 src/bytestream-socks5.c |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit 22fe58fd2bae321cbf8dedd50c2caa0c177ac28d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 10:22:58 2009 +0000

    offer-accept-private-dbus-stream-tube-socks5.py: check streamhost jid attribute

 ...offer-accept-private-dbus-stream-tube-socks5.py |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 78bd90f6e902c6c285c930b0acbc745e1daf2728
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 10:22:29 2009 +0000

    the jid param in streamhost has to be *our* own jid, not the contact one

 src/bytestream-socks5.c |   12 +++++++++++-
 1 files changed, 11 insertions(+), 1 deletions(-)

commit 2f7b0ab0fcde94dafcfbf2f47c27e2b7ec60aa3a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 10:23:37 2009 +0000

    file_transfer_helper.py: check streamhost jid attribute

 .../twisted/file-transfer/file_transfer_helper.py  |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 7476e9e43767c6e525c83d0d36ab0d0fb232a7e7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 10:22:58 2009 +0000

    offer-accept-private-dbus-stream-tube-socks5.py: check streamhost jid attribute

 ...offer-accept-private-dbus-stream-tube-socks5.py |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 7196639825b733930cb702057e372251945168c6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 24 10:22:29 2009 +0000

    the jid param in streamhost has to be *our* own jid, not the contact one

 src/bytestream-socks5.c |   12 +++++++++++-
 1 files changed, 11 insertions(+), 1 deletions(-)

commit 4f53828af28d35e1ad330403c670c1bac8bb3c98
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 18:06:04 2009 +0000

    handle_socks5_query_iq: assume mode is 'tcp' is not specified

 src/bytestream-factory.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit e47d75c58f27a718dc119223cb4f856da9b5f1ad
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 18:06:04 2009 +0000

    handle_socks5_query_iq: assume mode is 'tcp' is not specified

 src/bytestream-factory.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 5e46be5e6d74464ee7b613975235d74e70bd9122
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 15:56:48 2009 +0000

    bytestream_negotiate_cb: change channel state if bytestream was refused

 src/file-transfer-channel.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 941ae663e32d5ca79e605473737c6cde07b937dd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 15:56:23 2009 +0000

    add test-send-file-to-unknown-contact.py to tests suite

 tests/twisted/Makefile.am |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 93123f44be78af99bbcad637e134207562a17daa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 15:55:55 2009 +0000

    add test-send-file-to-unknown-contact.py

 .../test-send-file-to-unknown-contact.py           |   23 ++++++++++++++++++++
 1 files changed, 23 insertions(+), 0 deletions(-)

commit 93860c424016dfc1316dadcc11b9bc70dd60470f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 15:50:34 2009 +0000

    add test-send-file-declined.py

 .../file-transfer/test-send-file-declined.py       |   37 ++++++++++++++++++++
 1 files changed, 37 insertions(+), 0 deletions(-)

commit 2d6c9ea2f4bbee1d894f09493cae2e49c18581d9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 15:32:21 2009 +0000

    tube-stream: remove _extra_bytestream_negotiate_cb_data

 src/tube-stream.c |   31 ++++++++-----------------------
 1 files changed, 8 insertions(+), 23 deletions(-)

commit e1a5358d257722017ae01d2e95d8c89a60967a79
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 15:27:25 2009 +0000

    pass object arg to GabbleBytestreamFactoryNegotiateReplyFunc

 src/bytestream-factory.c |    2 +-
 src/bytestream-factory.h |    2 +-
 src/tube-dbus.c          |    1 +
 src/tube-stream.c        |    1 +
 4 files changed, 4 insertions(+), 2 deletions(-)

commit ad980ad9b1651a8582ac4ce1e1928d3b09ad28de
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 15:25:14 2009 +0000

    style fix

 src/tube-stream.c |    9 ++-------
 1 files changed, 2 insertions(+), 7 deletions(-)

commit f03c348a4e7ee61c1ffbb6a179c269e2f583894f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 15:21:05 2009 +0000

    tube-stream: pass object argument to gabble_bytestream_factory_negotiate_stream

 src/tube-stream.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit a64ee54bcf99c1c25c571d19fc5f9046e039c2b6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 15:20:48 2009 +0000

    tube-dbus: pass object argument to gabble_bytestream_factory_negotiate_stream

 src/tube-dbus.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ab6ebe9deb822f07eb32c4083586110230735d1a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 15:20:22 2009 +0000

    add object argument to gabble_bytestream_factory_negotiate_stream

 src/bytestream-factory.c |   36 ++++++++++++++++++++++++++++++++++++
 src/bytestream-factory.h |    2 +-
 2 files changed, 37 insertions(+), 1 deletions(-)

commit f2a92318af4fd48a2680f0ddd46e24c5a088c403
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 15:21:23 2009 +0000

    file-transfer: pass object argument to gabble_bytestream_factory_negotiate_stream

 src/file-transfer-channel.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 0d24696966a01cf6775b89a3fcc89a6420718a95
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 15:21:05 2009 +0000

    tube-stream: pass object argument to gabble_bytestream_factory_negotiate_stream

 src/tube-stream.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 66bdf5447ed8c22dc6e1e977ad19f90790c0d716
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 15:20:48 2009 +0000

    tube-dbus: pass object argument to gabble_bytestream_factory_negotiate_stream

 src/tube-dbus.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d067ffdb66ef65e7f75ccb413a3d1afe9642daf4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 15:20:22 2009 +0000

    add object argument to gabble_bytestream_factory_negotiate_stream

 src/bytestream-factory.c |   36 ++++++++++++++++++++++++++++++++++++
 src/bytestream-factory.h |    2 +-
 2 files changed, 37 insertions(+), 1 deletions(-)

commit ba7cfdb183f3f6054dfefb652ecf810f6e5f587b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 15:17:30 2009 +0000

    add test-send-file-and-cancel-immediately.py to tests suite

 tests/twisted/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit d9a7e28a94f7081385302adc77363786470dd9e5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 15:17:07 2009 +0000

    add test-send-file-and-cancel-immediately.py

 .../test-send-file-and-cancel-immediately.py       |   23 ++++++++++++++++++++
 1 files changed, 23 insertions(+), 0 deletions(-)

commit e425d33400c839ba8814fd2229356f65fc2433b6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 12:45:43 2009 +0000

    add test-receive-file-decline.py to tests suite

 tests/twisted/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 547bd23a98b5af15f28141fb7be80c7bbc4d9093
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 12:44:53 2009 +0000

    add test-receive-file-decline.py

 .../file-transfer/test-receive-file-decline.py     |   28 ++++++++++++++++++++
 1 files changed, 28 insertions(+), 0 deletions(-)

commit aeba5f8b1b2039b76bd423997e8a8c8e1a743a8b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 12:44:37 2009 +0000

    gabble_file_transfer_channel_close: close the bytestream

 src/file-transfer-channel.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 8e21cbc080effe9bdb2be2a77ada0214a71d9a6c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 12:17:59 2009 +0000

    add test-receive-file-and-sender-disconnect-while-transfering.py to tests suite

 tests/twisted/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 8cfa636b22e2a8bba2238e1cd9bfaec897e65465
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 12:17:52 2009 +0000

    add test-receive-file-and-sender-disconnect-while-transfering.py

 ...file-and-sender-disconnect-while-transfering.py |   24 ++++++++++++++++++++
 1 files changed, 24 insertions(+), 0 deletions(-)

commit f201f18dec7d4baaefbb8b2784e4941c83ca65aa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 12:16:32 2009 +0000

    use exec_file_transfer_test in all the FT tests

 .../test-receive-file-and-disconnect.py            |    8 +++-----
 ...ive-file-and-sender-disconnect-while-pending.py |    8 ++------
 tests/twisted/file-transfer/test-receive-file.py   |    9 +++------
 .../test-send-file-provide-immediately.py          |    8 ++------
 .../test-send-file-wait-to-provide.py              |    8 ++------
 5 files changed, 12 insertions(+), 29 deletions(-)

commit 9e822f57dcea86ee4d6c59376026a71e23a8bec5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 12:16:15 2009 +0000

    add file_transfer_helper.py

 .../twisted/file-transfer/file_transfer_helper.py  |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit 5dfca26853ddfe0c253c4e2a3b06627a420141b6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 12:10:12 2009 +0000

    test-receive-file-and-sender-disconnect-while-pending: check using SOCKS5 too

 ...ive-file-and-sender-disconnect-while-pending.py |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 25594bfb30ab6bfe36fa414ae59763504006944c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 12:09:38 2009 +0000

    test-receive-file-and-sender-disconnect-while-pending: check FileTransferStateChanged args

 ...ive-file-and-sender-disconnect-while-pending.py |    8 ++++++--
 1 files changed, 6 insertions(+), 2 deletions(-)

commit 5b3d0d46780704378966c2666acc94baca1ec258
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 12:08:05 2009 +0000

    connection_presences_updated_cb: change reason is remote stopped

 src/file-transfer-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 60f2eb5c25ff34385333a8d0749d5615280ff99f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 11:59:06 2009 +0000

    add file-transfer/test-receive-file-and-sender-disconnect-while-pending.py to tests suite

 tests/twisted/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit a97b3cdf36fbdf735aa6f6afb78c8180394190dd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 11:58:53 2009 +0000

    add file-transfer/test-receive-file-and-sender-disconnect-while-pending.py

 ...ive-file-and-sender-disconnect-while-pending.py |   36 ++++++++++++++++++++
 1 files changed, 36 insertions(+), 0 deletions(-)

commit a4df235603400fcf67e11a3f4ebf091e34e4a7c3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 11:58:33 2009 +0000

    cancel FT if peer disconnects

 src/file-transfer-channel.c |   40 ++++++++++++++++++++++++++++++++++++++++
 1 files changed, 40 insertions(+), 0 deletions(-)

commit 11497cedcfb9b05fa763c5976d6bd45146f89a24
Merge: 324d0ba 90d4dbd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 11:36:35 2009 +0000

    Merge branch 'master' into file-transfer

commit 324d0baee368df4f014b1893301f3aecaeacbc8e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 11:17:43 2009 +0000

    add test-receive-file-and-disconnect.py to tests suite

 tests/twisted/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit b90f6c75e7056eabae9c2d8678af7686185f418f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 11:17:34 2009 +0000

    add test-receive-file-and-disconnect.py

 .../test-receive-file-and-disconnect.py            |   19 +++++++++++++++++++
 1 files changed, 19 insertions(+), 0 deletions(-)

commit 90d4dbdc5914aa9eac9cb5c5f674bfe9290c14c0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 11:08:02 2009 +0000

    offer-accept-private-dbus-stream-tube-socks5: use send_socks5_reply

 ...offer-accept-private-dbus-stream-tube-socks5.py |    9 ++-------
 1 files changed, 2 insertions(+), 7 deletions(-)

commit c73baa229b9980459c445117f3a3c2af1aecbe8b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 11:01:33 2009 +0000

    bytestream.py: add send_socks5_reply

 tests/twisted/bytestream.py |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit e758811a576e4ed19d428bae77238486b703c692
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 10:56:23 2009 +0000

    socks5_init_reply_cb: display streamhost-used in debug msg

 src/bytestream-socks5.c |   37 ++++++++++++++++++++++++++-----------
 1 files changed, 26 insertions(+), 11 deletions(-)

commit 020422f47afa632aaea20453f707a8951011af5e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 11:01:55 2009 +0000

    file_transfer_helper: use send_socks5_reply

 .../twisted/file-transfer/file_transfer_helper.py  |   10 +++-------
 1 files changed, 3 insertions(+), 7 deletions(-)

commit dc8ffe25a355fa500515bdc3792b66899aa80541
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 11:01:33 2009 +0000

    bytestream.py: add send_socks5_reply

 tests/twisted/bytestream.py |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit bcef890baecbb760d9ac2998957d3907d1fe8808
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 10:56:23 2009 +0000

    socks5_init_reply_cb: display streamhost-used in debug msg

 src/bytestream-socks5.c |   37 ++++++++++++++++++++++++++-----------
 1 files changed, 26 insertions(+), 11 deletions(-)

commit 221c48c17f639f4c47c3d71d33a753fb8bd417c6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 23 10:31:44 2009 +0000

    file_transfer_helper.py: refactor get_file

 .../twisted/file-transfer/file_transfer_helper.py  |   99 ++++++++------------
 1 files changed, 40 insertions(+), 59 deletions(-)

commit d4a2dcea384da56aec175937fe84b3d88a68c605
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 18:02:27 2009 +0000

    test sending side with SOCKS5 too

 .../test-send-file-provide-immediately.py          |    4 +++-
 .../test-send-file-wait-to-provide.py              |    2 ++
 2 files changed, 5 insertions(+), 1 deletions(-)

commit 991c3e75be1730d21de91637c982a94743dfdea5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 18:02:10 2009 +0000

    file_transfer_helper.py: BytestreamS5B: implement sending side methods

 .../twisted/file-transfer/file_transfer_helper.py  |   55 ++++++++++++++++++--
 1 files changed, 51 insertions(+), 4 deletions(-)

commit 8515da2e8c9964b45e0f55b67aa3b418ecdad11d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 17:39:30 2009 +0000

    file_transfer_helper.py: move bytestreams at the end of the file

 .../twisted/file-transfer/file_transfer_helper.py  |  232 ++++++++++----------
 1 files changed, 116 insertions(+), 116 deletions(-)

commit 4f6feea4bb174127f99af7be4bae97f319b36e1d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 17:38:23 2009 +0000

    store stream_id in bytestream object

 .../twisted/file-transfer/file_transfer_helper.py  |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit fa80eaaf5600afee297fd5972013edb87b905af5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 17:34:22 2009 +0000

    create a bytestream test object instead of making test inheriting the kind of bytestream needed

 .../twisted/file-transfer/file_transfer_helper.py  |  197 ++++++++++----------
 tests/twisted/file-transfer/test-receive-file.py   |    6 +-
 .../test-send-file-provide-immediately.py          |   12 +-
 .../test-send-file-wait-to-provide.py              |   16 +-
 4 files changed, 119 insertions(+), 112 deletions(-)

commit 514415b44e6c1d75bc413c75860ef9b1de642d4f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 16:31:31 2009 +0000

    socks5: block reading once socks5 negotation is done if bytestream has been blocked

 src/bytestream-socks5.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 1c282bcff1c7430b16d318c2e84198d205abf46c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 16:30:14 2009 +0000

    gabble_bytestream_socks5_block_reading: check if transport is not NULL

 src/bytestream-socks5.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit b51db8caf6e1260fb42869ebdcd5a694274e3c3e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 16:32:40 2009 +0000

    test-receive-file.py: test using ReceiveFileTestS5B as well

 tests/twisted/file-transfer/test-receive-file.py |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 0e493d2eed459c64b5c8581ebc8d8757500d0843
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 16:32:28 2009 +0000

    add ReceiveFileTestS5B

 .../twisted/file-transfer/file_transfer_helper.py  |   27 +++++++++++++++++++-
 1 files changed, 26 insertions(+), 1 deletions(-)

commit 5c6e30ec9bb35e2a10cc5b86c1c7b04256a6e591
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 16:31:31 2009 +0000

    socks5: block reading once socks5 negotation is done if bytestream has been blocked

 src/bytestream-socks5.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 19dca4da304e3275c3d953eeb07725c14e07effd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 16:30:14 2009 +0000

    gabble_bytestream_socks5_block_reading: check if transport is not NULL

 src/bytestream-socks5.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 1dcf892d2a0591cdd9c659d9531ed3d8e5ee0199
Merge: 821ccef 41c6870
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 15:41:00 2009 +0000

    Merge branch 'master' into file-transfer

commit 41c6870667a5b8542fff57ad7b24a2201b92af83
Merge: 9f14dae 56b6046
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 15:39:32 2009 +0000

    Merge branch 'disconnect-bytestream'

commit 9f14dae202c04f8466fc7e223a5b9662b95d1c08
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 15:32:34 2009 +0000

    offer-accept-private-dbus-stream-tube-socks5: send_socks5_init now taks port as numbers

 ...offer-accept-private-dbus-stream-tube-socks5.py |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit be2052135aff4a3c9dbc5d45fcb16d397e92b430
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 15:32:14 2009 +0000

    send_socks5_init: pass port as a number

 tests/twisted/bytestream.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 837fdcfb1739c1c94bd14b9477ea55b098b12a7b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 15:30:42 2009 +0000

    use listen_socks5

 ...offer-accept-private-dbus-stream-tube-socks5.py |   23 ++++++++++---------
 1 files changed, 12 insertions(+), 11 deletions(-)

commit 244bca24cea1da81383dd94fcf5a791db66ca043
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 15:30:20 2009 +0000

    bytestream.py: add listen_socks5

 tests/twisted/bytestream.py |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit 56b6046725ea798a307f2da120b859ee4d4be66f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 15:05:40 2009 +0000

    bytestream-factory: use gabble_signal_connect_weak instead of manually disconnect signals

 src/bytestream-factory.c |   35 ++++++++---------------------------
 1 files changed, 8 insertions(+), 27 deletions(-)

commit 821ccef2463b4ff09810d3f31518018c2d98dd2f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 15:05:40 2009 +0000

    bytestream-factory: use gabble_signal_connect_weak instead of manually disconnect signals

 src/bytestream-factory.c |   35 ++++++++---------------------------
 1 files changed, 8 insertions(+), 27 deletions(-)

commit e2b3f9fcda5babb687c34c13110201119524968d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 19:07:40 2009 +0000

    gabble_bytestream_factory_dispose: disconnect signals on bytestreams

 src/bytestream-factory.c |   19 +++++++++++++++++++
 1 files changed, 19 insertions(+), 0 deletions(-)

commit 0822f0d3a4c0825390d27895a7bd4f07cc916d21
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 14:43:56 2009 +0000

    s/bufferize/buffer

 src/bytestream-ibb.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3c5cc547ca2bc18ddf995cd07f32ff98c6c7a39d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 13:48:05 2009 +0000

    implement gabble_bytestream_ibb_block_reading

 src/bytestream-ibb.c |   78 ++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 78 insertions(+), 0 deletions(-)

commit be20e2502af62331b32151a0e84f48ed76909ad9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 14:46:31 2009 +0000

    fix a comment

 .../twisted/file-transfer/file_transfer_helper.py  |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a6d77cddf749169fac509421dbcdf02fa0a34353
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 14:43:56 2009 +0000

    s/bufferize/buffer

 src/bytestream-ibb.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a85362f9a5eac034964a3c9972d76cd90ed9bdff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 14:40:54 2009 +0000

    factor out IBB specific test code to SendFileTestIBB

 .../twisted/file-transfer/file_transfer_helper.py  |   45 +++++++++++++-------
 .../test-send-file-provide-immediately.py          |    8 ++--
 .../test-send-file-wait-to-provide.py              |   10 ++--
 3 files changed, 38 insertions(+), 25 deletions(-)

commit 18961473cc1a9fec65aea96b7cc0e535d2c9b531
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 14:28:48 2009 +0000

    factor out IBB specific test code to ReceiveFileTestIBB

 .../twisted/file-transfer/file_transfer_helper.py  |   54 ++++++++++++++------
 tests/twisted/file-transfer/test-receive-file.py   |    4 +-
 2 files changed, 41 insertions(+), 17 deletions(-)

commit 946356e46eee44e97abc6dc7dab6b2a5a983de11
Merge: d1ee31f 70e88b1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 14:08:01 2009 +0000

    Merge branch 'master' into file-transfer

commit d1ee31f930ea46d58574338d96ae28630fdd1006
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 14:02:16 2009 +0000

    send part of the file before the client connect the socket

 .../twisted/file-transfer/file_transfer_helper.py  |   11 ++++++++---
 1 files changed, 8 insertions(+), 3 deletions(-)

commit 2d3099612efb65a147ed6a458ee5d68c717305ac
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 14:01:37 2009 +0000

    block the bytestream while the client is not connected to the socket

 src/file-transfer-channel.c |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit 0373af5d380c88bd8496ea95e31ffd47d3196fdc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 14:00:18 2009 +0000

    gabble_file_transfer_channel_offer_file: don't set hash if NULL

 src/file-transfer-channel.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 54837880892ad720d9fdbd90e9a8224517e47615
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 13:48:05 2009 +0000

    implement gabble_bytestream_ibb_block_reading

 src/bytestream-ibb.c |   78 ++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 78 insertions(+), 0 deletions(-)

commit 70e88b1339d37e18bce029dfcdd72f76b2990266
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Feb 20 12:24:23 2009 +0000

    Enable GIBBER_DEBUG for test suite
    
    Signed-off-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

 tests/twisted/tools/exec-with-log.sh.in |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 09ee7c11e44cd364da0b6ab20d97d609fb462ee2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Feb 20 12:22:23 2009 +0000

    Fix byte ordering of port in GibberListener
    
    This fixes fd.o #20102.
    
    Signed-off-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

 lib/gibber/gibber-listener.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 1b2e9c9806f0d5adda0cadf6b775b2f88c5d6f01
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 11:50:48 2009 +0000

    file_transfer_helper.py: bytestream is now accepted directly when AcceptFile is called

 .../twisted/file-transfer/file_transfer_helper.py  |   23 ++++++++++---------
 1 files changed, 12 insertions(+), 11 deletions(-)

commit 6f9a7befd6edc33414927560acdc13216041e14a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 11:49:57 2009 +0000

    don't wait that the client connect to accept the bytestream

 src/file-transfer-channel.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 28cd0840b45701699f3169cf961be41afe76895c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 11:27:40 2009 +0000

    fix comment

 src/file-transfer-channel.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit ffca6328555e0212e165c15c9974ee381bc2b518
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 11:26:16 2009 +0000

    check hash value

 .../twisted/file-transfer/file_transfer_helper.py  |    8 +++++---
 1 files changed, 5 insertions(+), 3 deletions(-)

commit 0b7c03708c9211b5a253c6f8653ef98853532e72
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 11:19:11 2009 +0000

    file_transfer_helper.py: remove useless imports

 .../twisted/file-transfer/file_transfer_helper.py  |    7 -------
 1 files changed, 0 insertions(+), 7 deletions(-)

commit 3bd0d76816baaa3cf8bcf6d809cab2eb25f6aa26
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 11:18:04 2009 +0000

    file_transfer_helper.py: check mime-type and hash attributes

 .../twisted/file-transfer/file_transfer_helper.py  |    9 ++++++---
 1 files changed, 6 insertions(+), 3 deletions(-)

commit 3e736144365a5d94f63603df3cd896816567def1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 20 11:17:40 2009 +0000

    gabble_file_transfer_channel_offer_file: add mime-type and hash attributes

 src/file-transfer-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 35bb737ca4df10c5fc5a1d087073fc7766ddaffe
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Feb 19 19:34:38 2009 +0000

    Revert "Disable the tubes test that fails on my machine."
    
    This reverts commit 70bc5f3746e3082b54699393cf6242511eb6b6cd.

 ...offer-accept-private-dbus-stream-tube-socks5.py |    5 -----
 1 files changed, 0 insertions(+), 5 deletions(-)

commit 6ed52587337bc09f3855eafd6d71d384ce4d2692
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Feb 19 19:34:24 2009 +0000

    Bump nano version to 0.7.21.1

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7a47ec9275b3e5127d3c94b93a448d401a717e6c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 19:23:48 2009 +0000

    add first file transfer tests to test suite

 tests/twisted/Makefile.am |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 4bc4458f979fbe3b28a0bfcb81672fcfd67edece
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 19:23:30 2009 +0000

    add test-send-file-wait-to-provide.py

 .../test-send-file-wait-to-provide.py              |   43 ++++++++++++++++++++
 1 files changed, 43 insertions(+), 0 deletions(-)

commit 50c2ab6a4bf5ee874d781c4be025c4827fe3f8c2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 19:23:19 2009 +0000

    add test-send-file-provide-immediately.py

 .../test-send-file-provide-immediately.py          |   29 ++++++++++++++++++++
 1 files changed, 29 insertions(+), 0 deletions(-)

commit d838210e80e702c89b3c1351a554ccf8ecdb661c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 19:23:10 2009 +0000

    add test-receive-file.py

 tests/twisted/file-transfer/test-receive-file.py |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 76565618320b91b0b6227370205acb187a8fdbad
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 19:22:43 2009 +0000

    add file_transfer_helper.py
    
    Use only IBB for now

 .../twisted/file-transfer/file_transfer_helper.py  |  440 ++++++++++++++++++++
 1 files changed, 440 insertions(+), 0 deletions(-)

commit fa697ba8726c7cd886c2ad3333acabe8b909c964
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Feb 19 19:13:04 2009 +0000

    Bump version to 0.7.21

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 70bc5f3746e3082b54699393cf6242511eb6b6cd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Feb 19 19:16:59 2009 +0000

    Disable the tubes test that fails on my machine.
    
    I'll revert this after the release.

 ...offer-accept-private-dbus-stream-tube-socks5.py |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 5ba284aeea548fee967c0185d05158e3abb4a20e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Feb 19 19:12:13 2009 +0000

    Update NEWS

 NEWS |   13 +++++++------
 1 files changed, 7 insertions(+), 6 deletions(-)

commit 8d6b339e9a7f5c9e0905500d6b16b7db0bdd7baa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 19:21:57 2009 +0000

    bytestream_factory_iq_si_cb: hook SI file transfers

 src/bytestream-factory.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 1fdf5bb51bbcd5b203c4d5564978e837ee63b86b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 19:21:32 2009 +0000

    connection: instantiate the file manager

 src/connection.c |    3 +++
 src/connection.h |    4 ++++
 2 files changed, 7 insertions(+), 0 deletions(-)

commit a9b9b983e559d8d06c668061e1b04a54c6f981dc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 19:21:07 2009 +0000

    build file-transfer-channel and ft-manager

 src/Makefile.am |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit d7d54d33bc9c54a168bba475b159a35ac285208a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 19:20:39 2009 +0000

    Add ft-manager.[ch]

 src/ft-manager.c |  531 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/ft-manager.h |   68 +++++++
 2 files changed, 599 insertions(+), 0 deletions(-)

commit f2acdfb14fd2bf61d2c16ad39f06f765e7b07a5d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 19:18:25 2009 +0000

    Add file-transfer-channel.[ch]
    
    Far from being perfect but seems to basically work.

 src/file-transfer-channel.c | 1614 +++++++++++++++++++++++++++++++++++++++++++
 src/file-transfer-channel.h |   78 +++
 2 files changed, 1692 insertions(+), 0 deletions(-)

commit b06cbd2ce6710f4d201b3f23952f15ab3bd3c8b6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 19:07:40 2009 +0000

    gabble_bytestream_factory_dispose: disconnect signals on bytestreams

 src/bytestream-factory.c |   19 +++++++++++++++++++
 1 files changed, 19 insertions(+), 0 deletions(-)

commit fb53b017f1a512812df965431cc72479a6c2a5dd
Merge: aada273 f705d1f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Feb 19 19:00:29 2009 +0000

    Merge branch 'jingle-accept-lp'
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>
    Signed-off-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit aada27354c8cf0c2c50cb11c73edd4a7870bf2ec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 9 16:19:27 2009 +0000

    NEWS: update
    
    Also add fd.o bug numbers for some old bugs.

 NEWS |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit f705d1fcf14c5a42acffbc70a35e39125a7d9664
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Feb 19 18:21:28 2009 +0000

    Use constants.py, and discover self-handle properly.
    
    Also fix a trivial FIXME, and don't bother sending an incorrect and
    irrelevant stanza.

 tests/twisted/constants.py                 |   20 ++++++++++++++
 tests/twisted/jingle/test-incoming-call.py |   40 ++++++++++++++--------------
 2 files changed, 40 insertions(+), 20 deletions(-)

commit 6c04539102ac56441cb8b0022b3831498590dd0f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Feb 19 18:13:33 2009 +0000

    Test pending local send are accepted with the call.

 tests/twisted/jingle/test-incoming-call.py |   16 ++++++++--------
 1 files changed, 8 insertions(+), 8 deletions(-)

commit b29dab3f7ac38152966a959fd946e46e67ff82cd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Feb 19 18:06:55 2009 +0000

    Accept local pending sends when accepting a call
    
    This hasn't been done since the jingle refactoring, but was masked by
    the bug fixed in 45ff4fc8593a8 whereby streams were bidirectional by
    default.

 src/media-channel.c |    4 ++++
 src/media-stream.c  |   22 ++++++++++++++++++++++
 src/media-stream.h  |    1 +
 3 files changed, 27 insertions(+), 0 deletions(-)

commit ca6557a5fa67f35b24923418ff67a0215d3f8746
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 14:17:23 2009 +0000

    bytestream-factory: factor out si_tube_received

 src/bytestream-factory.c |  117 ++++++++++++++++++++++++++--------------------
 1 files changed, 67 insertions(+), 50 deletions(-)

commit 578220de741776d206d31afff17ebfc68be41dc9
Merge: f5e6b7f b07cf1d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 13:21:58 2009 +0000

    Merge branch 'master' into file-transfer

commit b07cf1d58be1a6b94019d310102f797012f7e30f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 13:09:20 2009 +0000

    offer-accept-private-dbus-stream-tube-ibb: use IBB functions from bytestream

 .../offer-accept-private-dbus-stream-tube-ibb.py   |  143 +++++---------------
 1 files changed, 32 insertions(+), 111 deletions(-)

commit e0194e98806a70605322817c57c8c4427dd4d87a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 13:08:38 2009 +0000

    bytestream: add IBB

 tests/twisted/bytestream.py |   39 ++++++++++++++++++++++++++++++++++++++-
 1 files changed, 38 insertions(+), 1 deletions(-)

commit e9580b4883709bb090cca69a8d7b8d19151fca40
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 12:44:18 2009 +0000

    offer-accept-private-dbus-stream-tube-ibb: use bytestream.py

 .../offer-accept-private-dbus-stream-tube-ibb.py   |  142 +++++---------------
 1 files changed, 32 insertions(+), 110 deletions(-)

commit 7bcb3dc552c673f137abbf26457271f344c0099a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 12:25:29 2009 +0000

    offer-accept-private-dbus-stream-tube-socks5.py: use parse_si_offer

 ...offer-accept-private-dbus-stream-tube-socks5.py |   30 +++++--------------
 1 files changed, 8 insertions(+), 22 deletions(-)

commit 6a3a575d8a58a1c1d17a523b3041afae1c1b94e7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 12:25:02 2009 +0000

    bytestream.py: add parse_si_offer

 tests/twisted/bytestream.py |   19 +++++++++++++++++++
 1 files changed, 19 insertions(+), 0 deletions(-)

commit 793618a48fb12c794dde591c03d4764e3edffad2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 12:18:29 2009 +0000

    bytestream: re-order functions

 tests/twisted/bytestream.py |   17 +++++++++--------
 1 files changed, 9 insertions(+), 8 deletions(-)

commit 3d78d5fc75b65e5a171671ff9a9b110800463487
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 12:11:26 2009 +0000

    tubes/offer-accept-private-dbus-stream-tube-socks5.py: use create_si_reply

 ...offer-accept-private-dbus-stream-tube-socks5.py |   16 ++--------------
 1 files changed, 2 insertions(+), 14 deletions(-)

commit 49af4ed37e02933af026057da0c9fb61c4508f1f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 12:11:11 2009 +0000

    bytestream.py: add create_si_reply

 tests/twisted/bytestream.py |   16 ++++++++++++++++
 1 files changed, 16 insertions(+), 0 deletions(-)

commit 3c927435becc0ddef149f82dd4b8a9ee620a57a6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 12:05:18 2009 +0000

    offer-accept-private-dbus-stream-tube-socks5: use parse_si_reply

 ...offer-accept-private-dbus-stream-tube-socks5.py |   37 ++++++-------------
 1 files changed, 12 insertions(+), 25 deletions(-)

commit d0d22e94421aedd9b8ad7a9e4002880878ee50a6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 12:04:59 2009 +0000

    bytestream.py: add parse_si_reply

 tests/twisted/bytestream.py |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit f6074de4f8204c2e33819917b34abc248f48eee6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 11:57:33 2009 +0000

    offer-accept-private-dbus-stream-tube-socks5: use create_si_offer

 ...offer-accept-private-dbus-stream-tube-socks5.py |   54 +++-----------------
 1 files changed, 8 insertions(+), 46 deletions(-)

commit dcf53df17c86a2f34380d74671b2afe4923de190
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 11:57:15 2009 +0000

    bytestream.py: add create_si_offer

 tests/twisted/bytestream.py |   23 +++++++++++++++++++++++
 1 files changed, 23 insertions(+), 0 deletions(-)

commit 691e979b00a6d3b165f081d6e8314041bad69994
Merge: 62abc6d 1c591a9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 11:58:49 2009 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble

commit 1c591a9507c3eb7a6abe0d9c9f155b731b60b4b9
Merge: 19ab3cb 94128f9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Feb 19 11:46:19 2009 +0000

    Merge branch 'jingle-refcounting-crash'
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>
    Signed-off-by: Dafydd Harries <dafydd.harries@collabora.co.uk>

commit 94128f9fc28df5f24a4c17611543ea47b28118a9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Feb 19 11:42:57 2009 +0000

    Add _weak suffix to gabble_signal_connect

 src/media-channel.c |   16 +++++++++-------
 src/util.c          |   10 +++++-----
 src/util.h          |    2 +-
 3 files changed, 15 insertions(+), 13 deletions(-)

commit 62abc6d6532f942b48e53d1a5fb143c645495e10
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 11:39:08 2009 +0000

    offer-accept-private-dbus-stream-tube-socks5: remove useless imports

 ...offer-accept-private-dbus-stream-tube-socks5.py |    7 +------
 1 files changed, 1 insertions(+), 6 deletions(-)

commit b4fe1f333e343324e6636336a0509319bddf3d46
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 11:38:19 2009 +0000

    use bytestream.py in offer-accept-private-dbus-stream-tube-socks5.py

 ...offer-accept-private-dbus-stream-tube-socks5.py |  110 +-------------------
 1 files changed, 2 insertions(+), 108 deletions(-)

commit bdf15e85b7ada8dc0e88612498108883037a31d5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 11:37:16 2009 +0000

    add bytestream.py

 tests/twisted/Makefile.am   |    1 +
 tests/twisted/bytestream.py |  118 +++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 119 insertions(+), 0 deletions(-)

commit 3ab411b1246cf7dc686215c9ec91164604fea299
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 11:27:03 2009 +0000

    factor out expect_socks5_init

 ...offer-accept-private-dbus-stream-tube-socks5.py |   32 +++++++++++++-------
 1 files changed, 21 insertions(+), 11 deletions(-)

commit 43fecf46b1b4cdb5c97827592ddbc21d79d6aa8c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 11:12:13 2009 +0000

    factor out expect_socks5_reply

 ...offer-accept-private-dbus-stream-tube-socks5.py |   20 ++++++++++----------
 1 files changed, 10 insertions(+), 10 deletions(-)

commit 00eca2541884fc8e7315105f0803db1dfc82a113
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 11:08:47 2009 +0000

    factor out send_socks5_init

 ...offer-accept-private-dbus-stream-tube-socks5.py |  134 ++++++++------------
 1 files changed, 55 insertions(+), 79 deletions(-)

commit d1c9a3438f80ef1157c15437ce30cdab417b7928
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Feb 19 10:37:30 2009 +0000

    Add a test for StreamHandler::Error crashing Gabble

 tests/twisted/Makefile.am                    |    1 +
 tests/twisted/jingle/stream-handler-error.py |   55 ++++++++++++++++++++++++++
 2 files changed, 56 insertions(+), 0 deletions(-)

commit 24f4ed44c99f53e7d90dc49a7fa3a5d99e6f2b89
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Feb 19 10:36:10 2009 +0000

    Disconnect signal handlers when MediaChannel is destroyed

 src/media-channel.c |   24 ++++++++++++------------
 1 files changed, 12 insertions(+), 12 deletions(-)

commit 1f65a9676dafbd9faa9fb84e1e9beea09a55b6bf
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Feb 19 10:35:24 2009 +0000

    Add helper to weak-ref handler user_data

 src/util.c |   84 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/util.h |    3 ++
 2 files changed, 87 insertions(+), 0 deletions(-)

commit 78ec690e9b3815ca8aa90a93f7298b91c4e38251
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Feb 19 01:03:24 2009 +0000

    Remove a misleading comment about reference ownership
    
    We shouldn't be relying on this kind of thing. It turns out that it can
    temporarily be untrue anyway (because of things like emitting signals
    taking a temporary ref) and so relying on "i unreffed this, so all my
    signal handlers have been disconnected" is not a valid assumption.

 src/media-channel.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 18697cef73c5da5416072d9750e07f3e7ab299aa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 10:39:22 2009 +0000

    raise event on startedConnecting and clientConnectionLost

 ...offer-accept-private-dbus-stream-tube-socks5.py |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 6c0e653975470aa171805cc052b49ea5831812b8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 10:35:32 2009 +0000

    factor out socks5_connect

 ...offer-accept-private-dbus-stream-tube-socks5.py |   46 +++++++++++---------
 1 files changed, 26 insertions(+), 20 deletions(-)

commit 00a9204ca218bfea86cbade0a11298172bd6d7e8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 10:30:45 2009 +0000

    factor out socks5_expect_connection

 ...offer-accept-private-dbus-stream-tube-socks5.py |   51 ++++++++------------
 1 files changed, 21 insertions(+), 30 deletions(-)

commit 19ab3cbedbbc990e493af8eb47a86ea9ef3b8167
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 19 10:16:06 2009 +0000

    S5BProtocol use Event and not EventPattern

 ...offer-accept-private-dbus-stream-tube-socks5.py |   28 ++++++++++----------
 1 files changed, 14 insertions(+), 14 deletions(-)

commit e087f0ad09f19b142567bd2ac90fcbe80ecf7ead
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 18 18:42:01 2009 +0000

    Implement clientConnectionFailed on S5BFactory

 ...offer-accept-private-dbus-stream-tube-socks5.py |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit b6b96b49687bfe2530de317c183351788b63f96f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 18 18:32:10 2009 +0000

    Make sure we catch the right NewChannel(s) signals

 ...offer-accept-private-dbus-stream-tube-socks5.py |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 829fbd40a219328f83fd6da430429dad412c1348
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 18 18:17:02 2009 +0000

    Remove another 'from constants import *'

 .../offer-accept-private-dbus-stream-tube-ibb.py   |  144 ++++++++++----------
 1 files changed, 74 insertions(+), 70 deletions(-)

commit 767520600f40334bce49175f99ac4aefe859bf11
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 18 18:02:58 2009 +0000

    Fix trivial FIXMEs

 .../offer-accept-private-dbus-stream-tube-ibb.py   |   13 ++++++-------
 ...offer-accept-private-dbus-stream-tube-socks5.py |    3 +--
 2 files changed, 7 insertions(+), 9 deletions(-)

commit 467a2fa544d8f425e4a61e1cdd04624cba0f4e0b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 18 17:57:15 2009 +0000

    Split out testing offering tubes to incapable contact

 tests/twisted/Makefile.am                          |    1 +
 .../offer-accept-private-dbus-stream-tube-ibb.py   |   47 +--------
 ...offer-accept-private-dbus-stream-tube-socks5.py |   48 +--------
 tests/twisted/tubes/offer-no-caps.py               |  116 ++++++++++++++++++++
 4 files changed, 123 insertions(+), 89 deletions(-)

commit 47c32dada3e20e5a727bc8a0b3ceb550101ce465
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 18 17:01:58 2009 +0000

    Remove a 'from constants import *'
    
    Also remove a bunch of redundant checking, and clear up other test code.

 ...offer-accept-private-dbus-stream-tube-socks5.py |  126 ++++++++------------
 1 files changed, 50 insertions(+), 76 deletions(-)

commit 9ec8b29bfef2c33fedbef24237518e3e1792ae11
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 18 16:38:53 2009 +0000

    Move duplicated NewChannels checking to tubetestutil

 .../offer-accept-private-dbus-stream-tube-ibb.py   |   26 +++---------------
 ...offer-accept-private-dbus-stream-tube-socks5.py |   28 ++-----------------
 tests/twisted/tubes/tubetestutil.py                |   21 +++++++++++++++
 3 files changed, 29 insertions(+), 46 deletions(-)

commit e21f7f2becddd0cafbd00a97b1905b7dad522479
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 18 16:31:05 2009 +0000

    Move duplicated tube(s) property checking to tubetestutil

 tests/twisted/constants.py                         |    1 +
 .../offer-accept-private-dbus-stream-tube-ibb.py   |   51 ++---------------
 ...offer-accept-private-dbus-stream-tube-socks5.py |   59 ++------------------
 tests/twisted/tubes/tubetestutil.py                |   50 +++++++++++++++++
 4 files changed, 61 insertions(+), 100 deletions(-)

commit 32db9660f72dea0d1121613c2acac37f0dbdad10
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 18 16:09:20 2009 +0000

    Move duplicated NewChannel checking to tubetestutil

 .../offer-accept-private-dbus-stream-tube-ibb.py   |   14 +++-----------
 ...offer-accept-private-dbus-stream-tube-socks5.py |   14 ++++----------
 tests/twisted/tubes/tubetestutil.py                |   14 ++++++++++++++
 3 files changed, 21 insertions(+), 21 deletions(-)

commit f5e6b7fc90c38818ad341ba087c164fba25db57e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 18 15:57:30 2009 +0000

    announce PRESENCE_CAP_SI_FILE_TRANSFER in our capa

 src/capabilities.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 43804120dacd00ee1e38d86fa630b996fab3842c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 18 15:56:51 2009 +0000

    add PRESENCE_CAP_SI_FILE_TRANSFER

 src/presence-cache.c |    2 ++
 src/types.h          |    2 +-
 2 files changed, 3 insertions(+), 1 deletions(-)

commit 7b5877b3a2bbd885d89ebc5e72e4984943f5deea
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 18 15:55:54 2009 +0000

    namespaces.h: add NS_FILE_TRANSFER

 src/namespaces.h |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 1c33b18ef95fc905391bfcf547449914b83c082c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 18 15:50:19 2009 +0000

    ns.py: add FILE_TRANSFER

 tests/twisted/ns.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit fa315408cef6ed6a2f70d2c9215e6cb3ab02c970
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 18 10:59:54 2009 +0000

    add file-transfer debug flag

 src/debug.c |    1 +
 src/debug.h |    1 +
 2 files changed, 2 insertions(+), 0 deletions(-)

commit 3b7e6a533124cfc129d93fa089c04d81de0f3cba
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Feb 17 11:05:53 2009 +0200

    src/muc-factory.c: Fix strict-aliasing warning
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

 src/muc-factory.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 77628e2c2afa6bf97dc6a90235dd4c0a59fa3faf
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Feb 17 11:41:15 2009 +0200

    Dispose in Jingle Content: reset the source id to zero after removing them
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

 src/jingle-content.c |   10 ++++++++--
 1 files changed, 8 insertions(+), 2 deletions(-)

commit 7011e6cfdf29f2313feec0f765ed2c4b18e93f76
Merge: 7094f10 46cf8ff
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Feb 17 12:13:29 2009 +0000

    Merge branch 'idle-jingling'
    
    Reviewed-by: Senko Rasic <senko.rasic@collabora.co.uk>

commit 7094f10efd457a5bf4438f45988ca388015c5ed9
Merge: 89a7fac bc93a0a
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Feb 17 13:08:40 2009 +0100

    Merge branch 'local-bidirectional-streams-fix'

commit bc93a0a85de012dacf5a65bfefd68b20a4b03b6f
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Feb 17 13:04:45 2009 +0100

    make locally created streams bidirectional by default

 src/jingle-content.c |   12 ++++++++++++
 src/media-channel.c  |   11 ++++++++++-
 2 files changed, 22 insertions(+), 1 deletions(-)

commit 46cf8ff2185aa36ba71aeb05895efbea30c31f22
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Feb 16 19:48:59 2009 +0000

    Create initial streams at once, not in an idle.
    
    While it's true that by doing this from an idle they appear on the bus
    after the media channel has been announced, that's not actually very
    helpful: it doesn't mean the clients have had time to connect to the
    relevant signals. In any case, the client should be calling ListStreams
    on the media channel.

 src/media-channel.c |    8 ++------
 1 files changed, 2 insertions(+), 6 deletions(-)

commit 54021cee0ad38536585fb84578e223bc24fb4380
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Feb 16 19:45:47 2009 +0000

    Terminate empty JingleSessions immediately, not in an idle
    
    I don't think the reason for delaying this given in (deleted) comment is
    valid. All that MediaStream does in response to 'content-removed' is to
    emit 'closed' if it hasn't already; when a JingleSession is terminated it
    closes all the associated MediaStreams anyway.

 src/jingle-session.c |   19 ++-----------------
 1 files changed, 2 insertions(+), 17 deletions(-)

commit 9b91ef9d36b7560eacb1650494158c3318f31782
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Feb 16 19:45:04 2009 +0000

    Add FIXMEs for safe but unpleasant g_idle_add()s.

 src/jingle-session.c |    1 +
 src/media-stream.c   |    4 +++-
 2 files changed, 4 insertions(+), 1 deletions(-)

commit 89a7facd4613ef5471eee191a98eb30569bb27d7
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Feb 10 14:15:07 2009 +0200

    Jingle session: Assert earlier if the session object does not exist
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

 src/jingle-session.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit a78c2982ae8d8931f9b45892931b33bb180a2abc
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Feb 13 16:03:54 2009 +0000

    Jingle content: Cancel pending g_idle_add in dispose
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

 src/jingle-content.c |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit 73bc407710f3b4c3a4ceecd77541cf76e2749302
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Feb 13 16:02:58 2009 +0000

    Coding style: reduce indentation

 src/jingle-content.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d1ae16c67486bd51b8130961599ec5ea922365ba
Merge: f1ff350 4d28b83
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Feb 13 16:55:13 2009 +0100

    Merge branch 'wrong-timer-assert-fix'

commit f1ff3508256092fc4e6dc16e7943b8f126744aa7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 13 13:19:50 2009 +0000

    gabble_tubes_channel_tube_request: no need to get parameters from requested properties any more

 src/tubes-channel.c |   19 ++++---------------
 1 files changed, 4 insertions(+), 15 deletions(-)

commit ccbda64c76f4838dd081230550dcd2868a93f90e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 13 13:06:41 2009 +0000

    upgrade NEWS

 NEWS |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit fe9c5b6d6f555c1b59e09c2a193f3300bdabe27f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 13 13:01:59 2009 +0000

    tube-dbus: fix priv->parameters leak

 src/tube-dbus.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 06595b4810cc4e4879503818bea5c9e195c2f2bd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 13 12:57:13 2009 +0000

    gabble_bytestream_socks5_initiate: free list data

 src/bytestream-socks5.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit b6ddd83de7e2e79e59065d3cd5c63879a126e5c4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 13 12:53:08 2009 +0000

    gabble_tubes_channel_tube_request: fix parameters leak

 src/tubes-channel.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 4d28b831b3bba336ca90d555beecadbdeb75a918
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Feb 12 16:56:14 2009 +0100

    JingleContent: remove ack timer in dispose if it's still running

 src/jingle-content.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 5772bdb4997774618d4799483a0788c354cedc01
Merge: bdaf4c6 45ff4fc
Author: Senko Rasic <senko@tachyon.lan>
Date:   Thu Feb 12 12:41:50 2009 +0100

    Merge branch 'incoming-stream-direction-fix'

commit 45ff4fc8593a828c643a40b7da3e50e464756524
Author: Senko Rasic <senko@tachyon.lan>
Date:   Wed Feb 11 14:54:29 2009 +0100

    Media{Stream,Channel}: make stream directionality NONE initially so that the client has to request stream direction and approve local sending

 src/media-channel.c                        |    4 ++++
 src/media-stream.c                         |    2 +-
 tests/twisted/jingle/test-incoming-call.py |   16 +++++++++++++---
 3 files changed, 18 insertions(+), 4 deletions(-)

commit bdaf4c6a47def7b4c0a29ecc347d7a23bdf23dff
Merge: ece2e85 3765364
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 11 13:45:22 2009 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble

commit ece2e85b07b14c6507903b2ef01ef14612680d6c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 11 13:36:39 2009 +0000

    add FIXME saying we should use tp_dbus_properties_mixin_add_properties

 src/tube-dbus.c   |    2 ++
 src/tube-stream.c |    2 ++
 2 files changed, 4 insertions(+), 0 deletions(-)

commit 516af3ccf19955ae1cf0e9e241338373002a3c6b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 11 12:59:34 2009 +0000

    tube-stream: Parameters property has to be in channel-properties only in incoming tubes

 src/tube-stream.c |   47 +++++++++++++++++++++++++++++++++--------------
 1 files changed, 33 insertions(+), 14 deletions(-)

commit 8d955c5bbce7ee0a36146a2ce06f32032682117c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 11 12:59:22 2009 +0000

    tube-dbus: Parameters property has to be in channel-properties only in incoming tubes

 src/tube-dbus.c |   45 ++++++++++++++++++++++++++++++++-------------
 1 files changed, 32 insertions(+), 13 deletions(-)

commit 43d7482f0582d7d6712a5bc519b0db655c6ff634
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 11 12:32:18 2009 +0000

    accept-muc-stream-tube-ibb: check if tube parameters are announced

 tests/twisted/tubes/accept-muc-stream-tube-ibb.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit d6b60b20ce1e2c1ccbb5e7ebf84dcbe221e7954b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 11 12:32:00 2009 +0000

    accept-muc-dbus-tube: check if tube parameters are announced

 tests/twisted/tubes/accept-muc-dbus-tube.py |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 5ed04b58b4cdc09a4545930c7b5a6456cf1acc53
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 11 12:30:09 2009 +0000

    tube-stream: add Parameters to channel-properties

 src/tube-stream.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 4dd5377d41e40f4451c2a0fc8f285ee0d7fc9e96
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 11 12:29:53 2009 +0000

    tube-dbus: add Parameters to channel-properties

 src/tube-dbus.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 5e0d1d46295767e7c9a28d6e44a9f4eabb8d00fb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 11 12:15:53 2009 +0000

    test-caps-tubes: Parameters is not an allowed property any more

 tests/twisted/test-caps-tubes.py |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit a20cc53c6044a0af28550b1d050e16592d1511dc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 11 12:15:35 2009 +0000

    private-tubes-factory: Parameters is not an allowed property anymore

 src/private-tubes-factory.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 373682619f6eace0a4586b6e8f52f13bb61ef705
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 11 12:06:52 2009 +0000

    offer-muc-stream-tube-ibb: fix to use new tube API

 tests/twisted/tubes/offer-muc-stream-tube-ibb.py |   16 ++++------------
 1 files changed, 4 insertions(+), 12 deletions(-)

commit 5db2fe1804a554cad75cc36a50a9507a041ff96b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 11 12:03:46 2009 +0000

    ffer-private-dbus-tube-ibb: fix to use new tube API

 tests/twisted/tubes/offer-private-dbus-tube-ibb.py |   16 +++-------------
 1 files changed, 3 insertions(+), 13 deletions(-)

commit 90dd620faa8cc8a53676551b00293330ac1d1018
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 11 11:56:56 2009 +0000

    offer-muc-dbus-tube: fix to use new tube API

 tests/twisted/tubes/offer-muc-dbus-tube.py |   16 ++++------------
 1 files changed, 4 insertions(+), 12 deletions(-)

commit 1cfae7d55ee9de5a9225c4b05b76d01af745d819
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 11 11:56:26 2009 +0000

    gabble_tube_dbus_offer_d_bus_tube: set parameters

 src/tube-dbus.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit b1e80e779cb81df308b30b48671f9f3afe6a5eb0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 11 11:56:16 2009 +0000

    tube-dbus: Parameters property is now read only

 src/tube-dbus.c |   35 ++---------------------------------
 1 files changed, 2 insertions(+), 33 deletions(-)

commit 597bb2acc8b5355e8534ba3480200efcba703b5b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 11 11:55:46 2009 +0000

    check_conn_properties: all missing tube(s) channel type

 tests/twisted/tubes/tubetestutil.py |   34 ++++++++++++++++++++++++++++++++++
 1 files changed, 34 insertions(+), 0 deletions(-)

commit e9fdd6867e5946790039e4d050fdc9441258c7ea
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 11 11:47:13 2009 +0000

    offer-accept-private-stream-tube-si-fallback: fix to use new tube API

 ...offer-accept-private-stream-tube-si-fallback.py |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit 5beae903114a0394c529a48862b37a2b79c04459
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 11 11:42:10 2009 +0000

    offer-accept-private-dbus-stream-tube-socks5: fix to use new tube API

 ...offer-accept-private-dbus-stream-tube-socks5.py |   18 +-----------------
 1 files changed, 1 insertions(+), 17 deletions(-)

commit 7afdad06204de6cbaa822436febaa3fd2cc5c37f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 11 11:41:52 2009 +0000

    offer-accept-private-dbus-stream-tube-ibb: fix to use new tube API

 .../offer-accept-private-dbus-stream-tube-ibb.py   |   14 +-------------
 1 files changed, 1 insertions(+), 13 deletions(-)

commit 3ff50533901fdea9804262be1a813f51bebbbbdc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 11 11:39:56 2009 +0000

    tubetestutil: Parameters is not an allowed property anymore

 tests/twisted/tubes/tubetestutil.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d492ef94c277aa0ae0c00bdc952a499238ce2121
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 11 11:39:36 2009 +0000

    gabble_tube_stream_offer_stream_tube: set parameters

 src/tube-stream.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit f4f0ca9cea5ab740a4cf005826a9b2bf26728b66
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 11 11:39:15 2009 +0000

    tube-stream: Parameters property is now read only

 src/tube-stream.c |   36 ++----------------------------------
 1 files changed, 2 insertions(+), 34 deletions(-)

commit 5ef7ad128d62ee98a214febe39f7de3dfafa7c0b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 10 18:14:34 2009 +0000

    remove Parameters from gabble_tube_stream_channel_allowed_properties

 src/tube-stream.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 4576a0834e42a85f54f7020c8070c8d05b83e945
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 10 18:14:17 2009 +0000

    gabble_tube_stream_offer_stream_tube now taks a parameters property

 src/tube-stream.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit a9bc218b4f83c230675745bc1245e056c51b7832
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 10 18:13:53 2009 +0000

    remove Parameters from gabble_tube_dbus_channel_allowed_properties

 src/tube-dbus.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 8ce403b10856e60257d573f9f41e540a4d017764
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 10 18:13:37 2009 +0000

    gabble_tube_dbus_offer_d_bus_tube now takes a parameters property

 src/tube-dbus.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit fe18d91618ea628d2e767bf14ba6a7c0e86c9981
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 10 18:06:38 2009 +0000

    upgrade to latest tube DRAFT

 extensions/Channel_Interface_Tube.xml   |   33 +++++++++++++++++++++++++-----
 extensions/Channel_Type_DBus_Tube.xml   |    8 +++++++
 extensions/Channel_Type_Stream_Tube.xml |    8 +++++++
 3 files changed, 43 insertions(+), 6 deletions(-)

commit 37653645b3494988cf5cc49e6e6e9bbec0371936
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Feb 9 15:56:01 2009 +0000

    Silence the generation of gabble-signals-marshal.list
    
    This rule fires every time, because if no source files have changed then
    gabble-signals-marshal.list doesn't change so Make still thinks it's
    old. The alternatives are to move the "build to temporary file and only
    mv if it's changed" thing to building gabble-signals-marshal.h (which
    would then run every time instead), or to touch the list even when it
    hasn't changed (which would cause the whole of gabble to be rebuilt
    whenever you change any source file).
    
    I assert that this is better than rebuilding the whole of gabble. :-)

 src/Makefile.am |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 977eb713349929f8e4085f6593d93e1af0927c04
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Feb 9 15:10:50 2009 +0000

    Revert "touch signals-marshal.list if it's already up to date, so make doesn't try to build it again"
    
    This reverts commit e1a5774f857d769df529159e576e5c667e09a5c0.  It seems
    to make every source file that uses gabble's marshallers be rebuilt
    whenever you change any other source file, because Make always thinks
    the signals-marshal.h has changed.

 src/Makefile.am |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit bee45d9ea1ed03bf1c3491d2e60e7dda825b8cc3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Feb 10 11:43:20 2009 +0200

    Do not emit PresenceUpdate if the presence does not change, and do not leak resource

 src/conn-presence.c |   10 ++++++----
 1 files changed, 6 insertions(+), 4 deletions(-)

commit e7014782c8a986858d2e8b5eca0ef5669c2ec928
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Feb 10 11:42:59 2009 +0200

    Check if gabble_presence_cache_get() returns NULL

 src/media-channel.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit a6c59c05e9bf5b9a3bf7ca6484207984295034f2
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Feb 10 11:28:10 2009 +0200

    Check if gabble_presence_cache_get() returns NULL

 src/media-channel.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit f5a3b788e54de10399b29cbda21020d76a18b718
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Feb 10 11:21:39 2009 +0200

    Fix leak detected by coverity

 src/jingle-transport-google.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit e4b21c71c20643f0301c8b31a430c297eb4eac78
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Feb 10 11:18:50 2009 +0200

    Fix leak detected by coverity checks

 src/media-stream.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 514c1023de8c5d10eb0f0991585e659feec18b90
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Feb 10 11:03:34 2009 +0200

    Fix "use after free" from coverity

 src/olpc-view.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit f806b9828d3362cd4b479948754531b216212b0a
Merge: 5b5de1f 1babfb0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 9 14:44:48 2009 +0000

    Merge branch 'type-safety-whats-that'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 1babfb09b0230c9d51598b6f7ca24221353d3a5c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Sun Feb 8 14:47:39 2009 +0100

    connection-manager: use GUINT_TO_POINTER for unsigned param defaults

 src/connection-manager.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit d9a0578a96d8d890e92a7fb51f23d4befe751870
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Sun Feb 8 14:47:17 2009 +0100

    im-factory: use GUINT_TO_POINTER for handles

 src/im-factory.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 1ba67e2ae42d8529395d07e319dc6f088e5b3395
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Sun Feb 8 14:47:01 2009 +0100

    muc-factory: use GUINT_TO_POINTER for handles

 src/muc-factory.c |   16 ++++++++--------
 1 files changed, 8 insertions(+), 8 deletions(-)

commit 828ff4f49fd4d816a652950e2f477b2934fae1cc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Sun Feb 8 14:46:40 2009 +0100

    roster: use GUINT_TO_POINTER for handles

 src/roster.c |   20 ++++++++++----------
 1 files changed, 10 insertions(+), 10 deletions(-)

commit 284fab1fa810dc50a6d5d9dfd127e88fc731cd0e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Sun Feb 8 14:46:18 2009 +0100

    connection etc.: use GUINT_TO_POINTER for handles

 src/conn-aliasing.c |    2 +-
 src/conn-location.c |    2 +-
 src/conn-olpc.c     |    2 +-
 src/connection.c    |    2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit ef78c14309b4900a669dc0fd71359034349f0c2f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Sun Feb 8 14:39:20 2009 +0100

    fd.o#20003: GabbleJingle*: use GPOINTER_TO_SIZE for GTypes
    
    This fixes a crash when the GType is instantiated on certain 64-bit
    platforms. GType is defined to be the same size as gsize, which may
    be greater than the size of int. On some 64-bit platforms (including
    amd64 Linux?) the high bits of a GType are in practice zero anyway, so
    the truncation is wrong but harmless and we didn't see this crash; on
    other 64-bit platforms, we crash.

 src/jingle-content.c |    6 +++---
 src/jingle-factory.c |    4 ++--
 src/jingle-session.c |    4 ++--
 3 files changed, 7 insertions(+), 7 deletions(-)

commit f620a7164317327aa99e6a1f6cc25bd4638c1203
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Sun Feb 8 14:34:24 2009 +0100

    conn-aliasing: use GPOINTER_TO_UINT instead of TO_INT for handles

 src/conn-aliasing.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 90ad3314e55c3306868af90a6bd69715363e912d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 6 17:19:09 2009 +0100

    GabbleMediaStream: signal connections are gulong, not gboolean
    
    This never deserved to work.

 src/media-stream.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 5b5de1ff6bad2827b2a84948e093e846bd1423fb
Author: Dafydd Harries <daf@rhydd.org>
Date:   Fri Feb 6 17:13:17 2009 +0100

    ignore twisted test temporary files

 .gitignore |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit a08912e8b6f22a6d7eb269251aae6b0b9dd66a98
Author: Dafydd Harries <daf@rhydd.org>
Date:   Fri Feb 6 17:10:14 2009 +0100

    remove superfluous include

 src/bytestream-socks5.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 56bca95d3284eeacdf340207f20489d1d9f40fdb
Author: Dafydd Harries <daf@rhydd.org>
Date:   Fri Feb 6 17:09:00 2009 +0100

    bump telepathy-glib dependency

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 1a3729a2f5a0e1fd76814bd849369d5ece337329
Merge: f0d6e83 10a5b32
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 5 14:04:18 2009 +0000

    Merge branch 'muc-dbus-tube-new-api'

commit 10a5b320fd1aadd36a4231c664c4065beeb2f976
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 5 13:58:34 2009 +0000

    gabble_tube_dbus_channel_allowed_properties is static now

 src/tube-dbus.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 17e91861b6ab7c5ac46ba920f8f9f705edaecb89
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 5 13:55:59 2009 +0000

    add gabble_tube_stream_channel_get_allowed_properties function instead of defining the array in the header file

 src/muc-factory.c           |    4 ++--
 src/private-tubes-factory.c |    6 +++---
 src/tube-stream.c           |   14 ++++++++++++++
 src/tube-stream.h           |   10 ++--------
 4 files changed, 21 insertions(+), 13 deletions(-)

commit bb5ee734e3262de0dcb5916bbb0ebef1c301f48f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 5 13:52:01 2009 +0000

    add gabble_tube_dbus_channel_get_allowed_properties function instead of defining the array in the header file

 src/muc-factory.c           |    4 ++--
 src/private-tubes-factory.c |    7 ++++---
 src/tube-dbus.c             |   14 ++++++++++++++
 src/tube-dbus.h             |   10 ++--------
 4 files changed, 22 insertions(+), 13 deletions(-)

commit 3d3562471ba0b638585fc465d343782943c592fe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 5 13:29:16 2009 +0000

    tube-dbus: revert changes implementing the group iface and delegate it to the text channel instead

 src/tube-dbus.c     |   65 ++++++++++++++++++++++-----------------------------
 src/tube-dbus.h     |    3 +-
 src/tubes-channel.c |    2 +-
 3 files changed, 31 insertions(+), 39 deletions(-)

commit d34666c85ff645b828a1b68cc446886b8484c20d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 5 11:34:49 2009 +0000

    add accept-muc-dbus-tube.py to tests suite

 tests/twisted/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit d004bafe34024d54ac88825e6e536d5a7b7cf358
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 5 11:34:30 2009 +0000

    add accept-muc-dbus-tube.py

 tests/twisted/tubes/accept-muc-dbus-tube.py |  133 +++++++++++++++++++++++++++
 1 files changed, 133 insertions(+), 0 deletions(-)

commit 97b1223584602078270abb271160cd4318fffba0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 5 11:23:12 2009 +0000

    offer-muc-dbus-tube: check DBusNames property

 tests/twisted/tubes/offer-muc-dbus-tube.py |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 5a1030b994123227728befc592d541497929a696
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 5 11:21:44 2009 +0000

    offer-muc-dbus-tube: remove old comment

 tests/twisted/tubes/offer-muc-dbus-tube.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 3dfd0b980b170f842e2f83a1f9f6bf98e4aa4612
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 5 11:20:59 2009 +0000

    gabble_tubes_channel_accept_d_bus_tube: remove update_tubes_presence and add_yourself_in_dbus_names as they are called in tube_opened

 src/tubes-channel.c |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit 86f7ab3eac978655c6f7f15a86e90af874a7a6a4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 5 11:20:12 2009 +0000

    tubes-channel: call update_tubes_presence when the tube is open so we'll announce the tube we just accepted

 src/tubes-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 3ce77791ae0fb00bb5d8848a31bba840f4b1a3c1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 5 11:16:32 2009 +0000

    tube-dbus: set offered to TRUE just before actually offering it
    
    So the tube will appear as open in the "tube_opened" callback.

 src/tube-dbus.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 09d18a1d44416fa60746da99c463d0b536e8224a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 4 16:43:50 2009 +0000

    gabble_tube_dbus_offer: don't fire the StateChanged signal as it will be once the bytestream is open

 src/tube-dbus.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 9fc8136a2ad0051919214eab3bbb338d42e3b959
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 4 16:33:14 2009 +0000

    tube-dbus: call add_yourself_in_dbus_names when the tube is open and not when it's offered

 src/tubes-channel.c |   16 ++++++++++------
 1 files changed, 10 insertions(+), 6 deletions(-)

commit 10de248623d18e65d246402a37a34cfe81824cfe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 4 14:22:21 2009 +0000

    upgrade NEWS

 NEWS |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7890e02a67d1c62d0bd71c5989968cdb72a308dc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 4 13:33:04 2009 +0000

    offer-muc-dbus-tube.py: factor out check_tube_in_presence

 tests/twisted/tubes/offer-muc-dbus-tube.py |  100 +++++++++++-----------------
 1 files changed, 38 insertions(+), 62 deletions(-)

commit 3352712e3ea6a29e4d3c4d027e1f9a026ff17c1d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 4 13:27:37 2009 +0000

    gabble_tube_dbus_remove_name: remove handle from members

 src/tube-dbus.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 34f46d5bdaa24047f611dbd8e8eaf7a57ef8a21c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 4 13:24:19 2009 +0000

     offer-muc-dbus-tube: check if DBusNamesChanged is fired when a contact leave the tube

 tests/twisted/tubes/offer-muc-dbus-tube.py |   13 ++++++++++++-
 1 files changed, 12 insertions(+), 1 deletions(-)

commit a434e4152a617e51b2510ae000820766d1a69534
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 4 13:23:44 2009 +0000

    gabble_tube_dbus_remove_name: fire DBusNamesChanged signal

 src/tube-dbus.c |   14 +++++++++++++-
 1 files changed, 13 insertions(+), 1 deletions(-)

commit c5dd428d6af4d19f36be077733713958e049f900
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 4 13:20:01 2009 +0000

    offer-muc-dbus-tube.py: factor out fire_signal_on_tube

 tests/twisted/tubes/offer-muc-dbus-tube.py |   62 +++++++++++++++------------
 1 files changed, 34 insertions(+), 28 deletions(-)

commit 35725123b92ed34a90e08707e28ecf50d04cc275
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 4 12:30:26 2009 +0000

    offer-muc-dbus-tube.py: wait we have offered the tube before getting our handle

 tests/twisted/tubes/offer-muc-dbus-tube.py |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit 7325e621178db8f156ea51d772cb4189039d8bad
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 4 12:29:55 2009 +0000

    tube-dbus: add tube participants as members

 src/tube-dbus.c |   13 +++++++++++++
 1 files changed, 13 insertions(+), 0 deletions(-)

commit 248a98ade96fdc31c76298506dc6ca04df10904f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 4 11:25:24 2009 +0000

    offer-muc-dbus-tube.py: check if DBusNamesChanged is fired when a user joins the tube

 tests/twisted/tubes/offer-muc-dbus-tube.py |   36 ++++++++++++++++++++++++++-
 1 files changed, 34 insertions(+), 2 deletions(-)

commit 601ad2d13868615ce74385d7f9fd51d36cb5074d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 4 10:45:25 2009 +0000

    offer-muc-dbus-tube: test if DBusNamesChanged (new API) is fired when offering the tube

 tests/twisted/tubes/offer-muc-dbus-tube.py |   12 ++++++++++--
 1 files changed, 10 insertions(+), 2 deletions(-)

commit d0aba24bc340c4503e538f73e5da4a38d5dfa1b1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 4 10:43:07 2009 +0000

    tube-dbus: actually implement the group mixin instead of using external
    delegation.
    
    We can't use tp_external_group_mixin_* as in the tubes channel as the
    tube group is a subset of the text/tubes ones.

 src/tube-dbus.c |   19 +++++++++++++++++--
 src/tube-dbus.h |    3 +++
 2 files changed, 20 insertions(+), 2 deletions(-)

commit f5dbf63d788b357b447aed85784cc4141ef7f6fe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 3 17:28:35 2009 +0000

    gabble_tube_dbus_add_name: fire DBusNamesChanged (new API)

 src/tube-dbus.c |   15 ++++++++++++++-
 1 files changed, 14 insertions(+), 1 deletions(-)

commit 154f0300e19166936d73793b98904455ec553cd5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 3 17:09:37 2009 +0000

    create_new_tube: don't call update_tubes_presence anymore as tubes are not open at this stage

 src/tubes-channel.c |    7 -------
 1 files changed, 0 insertions(+), 7 deletions(-)

commit c1a17804b8280ce0aa5a3adcd6c4db41b83c49ee
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 3 17:07:14 2009 +0000

    offer-muc-dbus-tube.py: ensure to catch the old DBusNamesChanged signal

 tests/twisted/tubes/offer-muc-dbus-tube.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e64f6f0ac1f848c3962a06abe223362077e274de
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 3 17:06:05 2009 +0000

    tubes-channel: wait than the tube is offered before adding us to dbus names

 src/tubes-channel.c |   11 +++++------
 1 files changed, 5 insertions(+), 6 deletions(-)

commit a2e176d219c733ce67952e5f381cf9b0950638a1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 3 16:29:42 2009 +0000

    offer-muc-dbus-tube.py: start to test new API

 tests/twisted/tubes/offer-muc-dbus-tube.py |  143 +++++++++++++++++++++++++++-
 1 files changed, 141 insertions(+), 2 deletions(-)

commit 6b1524db55a632eb133eb11538d9f06878abdbd0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 3 16:28:19 2009 +0000

    gabble_tubes_channel_offer_d_bus_tube: call gabble_tube_dbus_offer with muc D-Bus tubes too

 src/tubes-channel.c |   19 +++++++------------
 1 files changed, 7 insertions(+), 12 deletions(-)

commit 6f0559df7ba67905be6837928152294308b1c325
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 3 16:57:38 2009 +0000

    tube-dbus: create a local-pending muc-bytestream at tube creation.
    Open it when the tube is offered.

 src/tube-dbus.c |   47 ++++++++++++++++++-----------------------------
 1 files changed, 18 insertions(+), 29 deletions(-)

commit cf1fc9f904de78461bc4a9162a1700c879f116a3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 3 16:23:52 2009 +0000

    muc-factory: handle D-Bus tube channel request

 src/muc-factory.c |  102 ++++++++++++++++++++++++++++++++++++++++-------------
 1 files changed, 77 insertions(+), 25 deletions(-)

commit 9bd1307c26eb3985236ad311dd58961c9eb58b43
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 3 16:13:23 2009 +0000

    muc-factory: add dbus tube channel to requestable channel classes

 src/muc-factory.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 2d7636efbfb296304b18362011efce744f0a0363
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 3 15:28:29 2009 +0000

    private-tubes-factory: use gabble_tube_dbus_channel_allowed_properties instead of our own version of it

 src/private-tubes-factory.c |   16 ++++------------
 1 files changed, 4 insertions(+), 12 deletions(-)

commit 30d78b5bf6a35bebaff002e12f68dabdf0295cbf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 3 15:28:00 2009 +0000

    add gabble_tube_dbus_channel_allowed_properties

 src/tube-dbus.h |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit 13dc28d8f58d9aa045ef6d4ff39ef95aa57cdd96
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 3 15:09:35 2009 +0000

    offer-muc-dbus-tube: use more constants from constants.py

 tests/twisted/tubes/offer-muc-dbus-tube.py |   18 +++++++-----------
 1 files changed, 7 insertions(+), 11 deletions(-)

commit f0d6e836b0e65d2c85e09167f8b6d11204fdd4f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 5 12:46:42 2009 +0000

    tube-stream: add a muc property and use it to delegate our group interface

 src/tube-stream.c   |   36 +++++++++++++++++++++++++++++++++++-
 src/tube-stream.h   |    3 ++-
 src/tubes-channel.c |    2 +-
 3 files changed, 38 insertions(+), 3 deletions(-)

commit e129c32cfd7622c373179acdddec256ac6c802a0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 4 14:10:07 2009 +0000

    offer-muc-stream-tube-ibb: check tube_chan.GetSelfHandle

 tests/twisted/tubes/offer-muc-stream-tube-ibb.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 31a7e424d8e96368bfcf86ef26bc2cba35a37cfc
Merge: 9e89639 655e7d1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 5 12:31:56 2009 +0000

    Merge commit 'wjt/test-cleanup'

commit 9e89639954b3e194e080f054f92efc5b17b06f68
Merge: 1493e4e d3e17b0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Feb 5 10:56:27 2009 +0000

    Merge branch 'wait-for-caps'
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>
    Signed-off-by: Senko Rasic <senko.rasic@collabora.co.uk>

commit d3e17b05c54718741e09bef5d6c801736bb08696
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 4 16:52:23 2009 +0000

    Remove unused imports from wait-for-caps tests
    
    Also, misc tidying.

 .../jingle/test-wait-for-caps-incomplete.py        |   16 ++--------------
 tests/twisted/jingle/test-wait-for-caps.py         |    8 ++------
 2 files changed, 4 insertions(+), 20 deletions(-)

commit 3bec82e0ba2f96081441e74e3d236900173bf35e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 4 16:41:06 2009 +0000

    Unrace test-wait-for-caps; test both outcomes instead
    
    Previously the test tried to ensure that RequestStreams had been
    received by Gabble before sending the contact's presence, but like in
    f861770 sending a spurious presence update doesn't actually guarantee
    that. So sometimes Gabble received RequestStreams before getting the
    presence, and sometimes afterwards (which in practice was still before
    the disco reply, although that wasn't guaranteed). Now, test both cases.

 tests/twisted/jingle/test-wait-for-caps.py |   82 ++++++++++++++++------------
 1 files changed, 46 insertions(+), 36 deletions(-)

commit 211931634885d234afa25688b2d6eba6b1bdee68
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 4 14:33:07 2009 +0000

    Use constants.py and ns.py in wait-for-caps tests

 tests/twisted/constants.py                         |    1 +
 .../jingle/test-wait-for-caps-incomplete.py        |   13 +++++++------
 tests/twisted/jingle/test-wait-for-caps.py         |   11 ++++++-----
 3 files changed, 14 insertions(+), 11 deletions(-)

commit 4bd35da73db77805affc1c9c5d7223a6f3f8f58c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 4 14:25:10 2009 +0000

    Remove unnecessary presence update in test
    
    This doesn't actually ensure that RequestStreams is processed. It
    ensures that Gabble's read everything from its xmpp socket, but we don't
    care about that. And all that we care about is that RequestStreams is
    processed before Disconnect, which it is because ordering.

 .../jingle/test-wait-for-caps-incomplete.py        |    9 ---------
 1 files changed, 0 insertions(+), 9 deletions(-)

commit a7abca4391ae4a33d065ad09476f526f076fea95
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 4 14:24:13 2009 +0000

    Fix a race in wait-for-caps-incomplete

 .../jingle/test-wait-for-caps-incomplete.py        |   10 +++++++++-
 1 files changed, 9 insertions(+), 1 deletions(-)

commit 2642f815fcd4ad6d022e320d895ed2b52ba6a47b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 4 14:11:38 2009 +0000

    Check RequestStreams returns NotAvailable on Disconnection

 .../jingle/test-wait-for-caps-incomplete.py        |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit c28870ae07c23d8a32cccf0c7b096cee5359adb5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 4 16:39:53 2009 +0000

    Make sync_stream listen for its specific IQ
    
    Previously it accepted any disco#info IQ as proof that Gabble had
    processed the IQ it sent it, which is wrong.

 tests/twisted/gabbletest.py |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 1493e4e447996321e273903bb390104663f1a1c9
Merge: 45c597a bfe2160
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 4 16:13:58 2009 +0000

    Merge branch 'ref-initial-peer'
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit bfe2160db90a237ae35bf52f536d85fadff6f9ea
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Feb 4 15:33:00 2009 +0000

    Ref initial peer's handle in media channels
    
    Previously, if you requested a media using CreateChannel and TargetID,
    the handle would actually fall out of scope as soon as CreateChannel
    returned, and incoherence would ensue.

 src/media-channel.c |   15 +++++++++++++++
 1 files changed, 15 insertions(+), 0 deletions(-)

commit 655e7d1cc3a16402d0178ad9c9282b36ed687e55
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Feb 3 20:05:21 2009 +0000

    Use tubetestutil.check_conn_properties

 ...offer-accept-private-dbus-stream-tube-socks5.py |   39 ++------------------
 1 files changed, 3 insertions(+), 36 deletions(-)

commit 38eee7f16b5bc79b4ed6ccdbbe9d0383c72a0142
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Feb 3 20:02:40 2009 +0000

    Use ns.py everywhere in tubes tests

 tests/twisted/ns.py                                |    2 +
 tests/twisted/tubes/accept-muc-stream-tube-ibb.py  |   34 +++----
 tests/twisted/tubes/close-muc-with-closed-tube.py  |   10 +--
 tests/twisted/tubes/crash-on-list-channels.py      |   16 ++--
 tests/twisted/tubes/ensure-si-tube.py              |    9 +--
 .../offer-accept-private-dbus-stream-tube-ibb.py   |  114 +++++++++----------
 ...offer-accept-private-dbus-stream-tube-socks5.py |   94 ++++++++---------
 ...offer-accept-private-stream-tube-si-fallback.py |   67 +++++-------
 tests/twisted/tubes/offer-muc-dbus-tube.py         |   12 +--
 tests/twisted/tubes/offer-muc-stream-tube-ibb.py   |   36 +++----
 tests/twisted/tubes/test-get-available-tubes.py    |    9 +--
 11 files changed, 175 insertions(+), 228 deletions(-)

commit 79e42fc8114d9caa6e3b3fb5e705da34821e1614
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Feb 3 19:48:04 2009 +0000

    Use set_up_echo from tubetestutil
    
    One version lowercased all text, one uppercased all text, and two did
    nothing. I chose to use the lowercasing version everywhere.

 tests/twisted/tubes/ensure-si-tube.py              |   20 +++-------------
 .../offer-accept-private-dbus-stream-tube-ibb.py   |   20 +---------------
 ...offer-accept-private-dbus-stream-tube-socks5.py |   19 +--------------
 ...offer-accept-private-stream-tube-si-fallback.py |   24 ++++---------------
 4 files changed, 13 insertions(+), 70 deletions(-)

commit 9ccfc04e166be961d1113a3413cb9057d353c099
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Feb 3 19:24:53 2009 +0000

    Add Echo protocol to tubetestutil

 tests/twisted/tubes/tubetestutil.py |   26 ++++++++++++++++++++++++++
 1 files changed, 26 insertions(+), 0 deletions(-)

commit 38dad29ebecb6d8091ed66da27285f7ee5496e70
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Feb 3 19:42:29 2009 +0000

    Don't import * from tubetestutil
    
    Instead, import it as t.

 tests/twisted/tubes/accept-muc-stream-tube-ibb.py  |    4 ++--
 tests/twisted/tubes/close-muc-with-closed-tube.py  |    4 ++--
 .../twisted/tubes/create-invalid-tube-channels.py  |    1 -
 .../offer-accept-private-dbus-stream-tube-ibb.py   |   16 ++++++++--------
 ...offer-accept-private-dbus-stream-tube-socks5.py |    8 ++++----
 tests/twisted/tubes/offer-muc-dbus-tube.py         |    4 ++--
 tests/twisted/tubes/offer-muc-stream-tube-ibb.py   |    4 ++--
 tests/twisted/tubes/offer-private-dbus-tube-ibb.py |    6 +++---
 8 files changed, 23 insertions(+), 24 deletions(-)

commit 45c597aec5fa206cac7e3143b97931c3d815a934
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Feb 3 14:41:03 2009 +0000

    Mention Messages in NEWS.
    
    (including the slight change in semantics for Sent on MUCs.)

 NEWS |   15 +++++++++++++++
 1 files changed, 15 insertions(+), 0 deletions(-)

commit 50c48774551a9a5181ac1dc74c64239826ed7b7d
Merge: ed497fd b5cd1ce
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Feb 3 14:23:49 2009 +0000

    Merge branch 'messages'

commit b5cd1ce6eaa431a2c8261228898fccb56efbd29c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Feb 3 14:00:06 2009 +0000

    Test that leaving MUCs works after name conflicts.

 tests/twisted/muc/name-conflict.py |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 223d919d01fe8f33bce78d31b76b844c5e3e220b
Merge: ddaeb5a 6c04b00
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Feb 3 11:51:40 2009 +0000

    Update branch messages to master
    
    Conflicts:
    	src/media-factory.c
    	src/text-mixin.c
    	tests/twisted/ns.py
    
    The first conflict was a function modified in messages and moved in
    master; resolved by making the corresponding change (adding an argument
    to a call to gabble_xmpp_error_from_node) in jingle-factory.c.
    
    The second conflict was a function modified in master and rewritten into
    message-util.c in messages; resolved by making the corresponding change
    (changing a g_warning to DEBUG) in message-util.c.
    
    The third conflict was trivial.

commit 28aa9e1223ef2fca75b6630e1f5331516d7a2774
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Feb 3 11:56:44 2009 +0000

    tube-stream.c: use a telepathy-glib hash type for a{uau}

 src/tube-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e6d2129d257778f4e715daf66892415bb3cfed1b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Feb 3 11:56:11 2009 +0000

    olpc-view.h: define GABBLE_ARRAY_TYPE_HANDLE as DBUS_TYPE_G_UINT_ARRAY
    
    dbus-glib has a handy macro for arrays of guint so we might as well use it.

 src/olpc-view.h |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit ccfeeea41aafd7394d0861cd989be77049820eda
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Feb 3 11:55:20 2009 +0000

    conn-location: remove suspicious GArray assumptions
    
    What dbus-glib wants is precisely a GArray of guint, so give it one of
    those. A GArray of an enum is not necessarily the same thing
    (in practice, we tend to assume that enums are the same size as ints,
    but ISO C does not guarantee this).

 src/conn-location.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 7f4bde36f043e65d5a56158cb4ebcfc7d21099e2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Feb 3 11:48:02 2009 +0000

    conn-location: use the RichPresence type from telepathy-glib
    
    Also improve comments.

 src/conn-location.c |   17 +++++++++--------
 1 files changed, 9 insertions(+), 8 deletions(-)

commit ed497fd5563f4a44967667dd1107eff9bef25244
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 3 11:26:12 2009 +0000

    tube_closed_cb: add comment explaining current design

 src/tubes-channel.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 62fca48a86cc59b6c5b2eb87fd6345974c28b57d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Feb 3 11:20:20 2009 +0000

    Depend on telepathy-glib 0.7.24 for rich presence data structures and extensible errors

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 688fb0a7852282f2e708b769976247b93c447fb9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 3 11:11:11 2009 +0000

    upgrade NEWS

 NEWS |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 49ade696f36f924ec154ea0433b699506fa98d1f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 3 11:10:51 2009 +0000

    remove old FIXME/TODO

 src/tube-dbus.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit f7268042119dd4e838ff0042c8e103553ebc78a9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 3 11:01:47 2009 +0000

    improve FIXME comments

 src/tube-dbus.c     |    3 ++-
 src/tubes-channel.c |    4 ++--
 2 files changed, 4 insertions(+), 3 deletions(-)

commit 331b8d962778cabdfe17c8e4bcf1f9bb5f20bc99
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 3 10:46:39 2009 +0000

    gabble_tubes_channel_presence_updated: we can announce D-Bus tubes too now

 src/tubes-channel.c |    9 ++-------
 1 files changed, 2 insertions(+), 7 deletions(-)

commit 03a80bd8bcdd9ae03c907a24bc6a63fe93730f0f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 3 10:46:15 2009 +0000

    offer-private-dbus-tube-ibb.py: check if the Closed and ChannelClosed signals are fired

 tests/twisted/tubes/offer-private-dbus-tube-ibb.py |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit e3c09ccd161474d807de08efaf62317cf3fa4ada
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 3 10:39:58 2009 +0000

    tubes-channel: fire Closed and ChannelClosed signals with D-Bus tube too

 src/tubes-channel.c |   19 +++++--------------
 1 files changed, 5 insertions(+), 14 deletions(-)

commit 817afce184ba25878247172a4c80535bbe11dc57
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 3 10:13:36 2009 +0000

    offer-accept-private-dbus-stream-tube-socks5: remove useless params of check_conn_properties (fix rebasing error)

 ...offer-accept-private-dbus-stream-tube-socks5.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 68c1aa1e3b0607a32171734afcc53487179d8124
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 17:22:51 2009 +0000

    offer-private-dbus-tube-ibb.py: Status has been renamed to State

 tests/twisted/tubes/offer-private-dbus-tube-ibb.py |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit a29386fec589d2aa4a24baa411d5e2ee16e4093a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 17:22:27 2009 +0000

    offer-accept-private-dbus-stream-tube-ibb: Status has been renamed to State

 .../offer-accept-private-dbus-stream-tube-ibb.py   |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit b66457fb7869bfc26099ee9341be5221d3dc0fa8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 17:22:05 2009 +0000

    tube-dbus: Status has been renamed to State

 src/tube-dbus.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a2d111e226897493a124e95b2e414b7dfb6b8cb5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 16:28:11 2009 +0000

    tube-dbus: add TODO about DBusNamesChanged signal

 src/tube-dbus.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 6998bcbd2de818c238a374ade374b39cc8cc64ed
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 10:47:46 2009 +0000

    offer-private-dbus-tube-ibb.py: check ServiceName and DBusNames properties

 tests/twisted/tubes/offer-private-dbus-tube-ibb.py |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit d3759b9c5bc9c8e184c430d20e5592e220d198bd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 10:47:26 2009 +0000

    tube-dbus: implement the DBusNames property

 src/tube-dbus.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 0fc0aa9b38f8c32c1cd38bbba2f5148493a89b01
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 10:47:06 2009 +0000

    tube-dbus: always create the dbus_names hash table as the property has to be implemented in muc tubes too

 src/tube-dbus.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 0c9b76f4ceb9b9ba4ac2a94a75b7ef91a5832b27
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 10:33:02 2009 +0000

    offer-private-dbus-tube-ibb.py: check ServiceName and DBusNames in channel-properties

 tests/twisted/tubes/offer-private-dbus-tube-ibb.py |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 98193c14f196ced50129b082e2385c5a76daa7d0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 10:32:34 2009 +0000

    constants.py: add DBUS_TUBE_DBUS_NAMES

 tests/twisted/constants.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 8613847cd6db561cfee4d79a984bfd73a0b1e52c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 10:28:25 2009 +0000

    offer-private-dbus-tube-ibb.py: use contants.py

 tests/twisted/tubes/offer-private-dbus-tube-ibb.py |   80 +++++++-------------
 1 files changed, 28 insertions(+), 52 deletions(-)

commit 28a862635dd975dd0d47ee94c13b3be2ad079410
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 10:17:26 2009 +0000

    offer-private-dbus-tube-ibb.py: assert that Parameters and Status are not in channel-properties

 tests/twisted/tubes/offer-private-dbus-tube-ibb.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 828645e6fb48d1b6988189c4bb3cbce1685bc7aa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 10:16:52 2009 +0000

    tube-dbus: Status and Parameters are not immutable properties

 src/tube-dbus.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 6d9080021a0d2720e79ffa8f5aef54c4f123a9c3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 10:14:14 2009 +0000

    offer-private-dbus-tube-ibb: check Status and Parameters values

 tests/twisted/tubes/offer-private-dbus-tube-ibb.py |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 966ea0b0f7bb5ef85ef117181790b45514da315d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 26 18:12:10 2009 +0000

    offer-private-dbus-tube-ibb: check if the TubeChannelStateChanged is fired when tube becomes remote pending

 tests/twisted/tubes/offer-private-dbus-tube-ibb.py |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit 72ce742e2d1daf5f68ae9ba645d3e1a506c777bc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 26 18:11:43 2009 +0000

    gabble_tube_dbus_offer: fire TubeChannelStateChanged

 src/tube-dbus.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 7942ec1308798148bec730adfa82aa298ba61b72
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 26 17:51:31 2009 +0000

    offer-accept-private-dbus-stream-tube-ibb.py: test to accept D-Bus tube using new API

 .../offer-accept-private-dbus-stream-tube-ibb.py   |   66 ++++++++++++++++++++
 1 files changed, 66 insertions(+), 0 deletions(-)

commit 60cd58d794aaad2f55fba885765e53df7b43ef64
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 26 17:50:52 2009 +0000

    tube-dbus: implement AcceptDBusTube

 src/tube-dbus.c |   29 ++++++++++++++++++++++++++++-
 1 files changed, 28 insertions(+), 1 deletions(-)

commit 6b0332492bd6df1158aa274e10744af56042307b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 26 17:43:38 2009 +0000

    gabble_tubes_channel_tube_si_offered: emit NewChannel signal

 src/tubes-channel.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 8d15fe8c505bb3201eb09502a577cafd7e3ebade
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 26 17:42:45 2009 +0000

    gabble_tube_dbus_new: fix object path

 src/tube-dbus.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3f3c13e8edf8477cacf1f7f4c422e6c3ffde2325
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 26 17:02:20 2009 +0000

    offer-accept-private-dbus-stream-tube-ibb: factor out contact_offer_dbus_tube

 .../offer-accept-private-dbus-stream-tube-ibb.py   |   61 ++++++++++---------
 1 files changed, 32 insertions(+), 29 deletions(-)

commit ec8e2c9ec179e9428baf564548a91a0884fe4752
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 26 16:48:56 2009 +0000

    gabble_tube_dbus_accept: raise an error if create_dbus_server failed

 src/tube-dbus.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 8bc15cca63748e028649b320ab4c53e27d9ee5df
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 26 16:45:29 2009 +0000

    minor coding style fix

 src/tube-dbus.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 66547db940909e8f7e12494573328c3d5f3171ac
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 26 16:45:02 2009 +0000

    gabble_tube_dbus_offer: raise an error if create_dbus_server failed

 src/tube-dbus.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 8067526fc3ec1592a53e826fa639531c665ecf69
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 26 15:28:15 2009 +0000

    tube-dbus: emit TubeChannelStateChanged when tube is open

 src/tube-dbus.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit fd9ab526fb351c9ad20dc07db240bf87e7705239
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 26 15:05:40 2009 +0000

    offer-private-dbus-tube-ibb: check that OfferDBusTube returns an address

 tests/twisted/tubes/offer-private-dbus-tube-ibb.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 00d4449aad6000ef9f1ba521893ddb1a749e9fd9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 26 15:05:14 2009 +0000

    offer-private-dbus-tube-ibb: move test function to the end of the file

 tests/twisted/tubes/offer-private-dbus-tube-ibb.py |   53 ++++++++++----------
 1 files changed, 26 insertions(+), 27 deletions(-)

commit 08e56c2354d5259fffc636034fd2c443b04f8648
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 26 15:00:47 2009 +0000

    tube-dbus: add TODO

 src/tube-dbus.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit a1d28255d053880c6a921bf74299fcc2b5107dd8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 26 14:47:59 2009 +0000

    merge gabble_tube_dbus_listen to tube_dbus_open

 src/tube-dbus.c |   12 ++----------
 src/tube-dbus.h |    2 --
 2 files changed, 2 insertions(+), 12 deletions(-)

commit 97ca734c00c1d9fc1093f8c45e039f247cfad254
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 26 14:44:12 2009 +0000

    call create_dbus_server in gabble_tube_dbus_accept so gabble_tubes_channel_accept_d_bus_tube doesn't have to call gabble_tube_dbus_listen anymore

 src/tube-dbus.c     |    2 ++
 src/tubes-channel.c |    4 ----
 2 files changed, 2 insertions(+), 4 deletions(-)

commit 744a585cc0be0f2b8c08c21d40ddcd57854f024d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 26 14:38:24 2009 +0000

    gabble_tube_dbus_offer: call create_dbus_server so the OfferDBusTube can return the tube address

 src/tube-dbus.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 3cd5b54d283c36cd49430d6cebaaa714a33ee195
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 26 14:37:28 2009 +0000

    tube-dbus: factor out create_dbus_server

 src/tube-dbus.c |   29 +++++++++++++++++++++--------
 1 files changed, 21 insertions(+), 8 deletions(-)

commit 333cb3a1268f80b69c1e0eec09ddc354be7f3cd9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jan 19 17:36:05 2009 +1100

    Update Tube and DBusTube specs to newer draft
    
    Also change OfferDBusTube implementation to return the DBus server's
    socket address.

 extensions/all.xml |    2 +-
 src/tube-dbus.c    |    3 ++-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit ed3ba994ece721914aa99a3f48f7cfa8d1d35c2f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jan 19 16:19:46 2009 +1100

    Check new tubes appear in ListTubes once you offer them.

 tests/twisted/tubes/offer-private-dbus-tube-ibb.py |    9 ++++++++-
 1 files changed, 8 insertions(+), 1 deletions(-)

commit 8293cd0ba8811701b5ae639ec215768f5e9649ee
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jan 19 16:16:25 2009 +1100

    Allow tests to omit tube id when looking for old-style tubes

 tests/twisted/tubes/tubetestutil.py |   30 +++++++++++++++++++-----------
 1 files changed, 19 insertions(+), 11 deletions(-)

commit 893e608b32c1569eb96df5d21d4d0fd67d1b3c79
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jan 19 13:08:54 2009 +1100

    Extract recipient end of a d-tube test into functions

 tests/twisted/tubes/offer-private-dbus-tube-ibb.py |  123 ++++++++++---------
 1 files changed, 65 insertions(+), 58 deletions(-)

commit 66edc0508a61375a73e8935f8cacc1a487a5af0c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jan 19 12:59:29 2009 +1100

    Remove duplicated test assertion

 tests/twisted/tubes/offer-private-dbus-tube-ibb.py |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 80fc3bc91036d1fe227b0f0b607af64fa56625e5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Jan 19 12:14:44 2009 +1100

    Send dtube offer from gabble_tube_dbus_open

 src/tube-dbus.c     |   90 +++++++++++++++++++++++++++++++++++++-
 src/tubes-channel.c |  121 +++-----------------------------------------------
 2 files changed, 97 insertions(+), 114 deletions(-)

commit f8422e31da9106ebba098de002879c6f210fc656
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jan 18 17:33:28 2009 +1100

    Remove unnecessary struct from bytestream negotiation

 src/tubes-channel.c |   22 ++--------------------
 1 files changed, 2 insertions(+), 20 deletions(-)

commit 0e331be88d62f30ddc0333107a6281babb0164c5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jan 18 17:15:16 2009 +1100

    Implementation Channel.Type.DBusTube.OfferDBusTube()

 src/tube-dbus.c |   33 +++++++++++++++++++++++++++------
 1 files changed, 27 insertions(+), 6 deletions(-)

commit 6d4b38c1509c7c65ea183075730005c36386b9ac
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jan 18 09:23:52 2009 +1100

    Test that C.T.DBusTube.OfferDT => NewTube and an IQ

 tests/twisted/tubes/offer-private-dbus-tube-ibb.py |   14 +++++++++++---
 1 files changed, 11 insertions(+), 3 deletions(-)

commit 83fafc6c2d03d4035b78c84aea9aafd73cd5c382
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jan 18 09:17:09 2009 +1100

    Break offer-private-dbus-tube-ibb into two functions

 tests/twisted/tubes/offer-private-dbus-tube-ibb.py |   11 ++++++++---
 1 files changed, 8 insertions(+), 3 deletions(-)

commit 1292c961498c50d3d57646cf60c7227d0c803288
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jan 18 09:15:08 2009 +1100

    Remove an apparently unnecessary vcard iq ack

 tests/twisted/tubes/offer-private-dbus-tube-ibb.py |    7 +------
 1 files changed, 1 insertions(+), 6 deletions(-)

commit e4a38dbef06300b356c530e1562ded36da5ada82
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jan 18 09:10:41 2009 +1100

    Ensure OfferDBusTube yields a RemotePending tube.

 tests/twisted/tubes/offer-private-dbus-tube-ibb.py |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 45a59c09b4181f255cbee6549bbec0c3cf746433
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jan 18 09:09:39 2009 +1100

    Ensure Tubes appears when a Tube appears
    
    This is not the only correct implementation; this is noted in the test.

 tests/twisted/tubes/offer-private-dbus-tube-ibb.py |   33 +++++++++++++++++--
 1 files changed, 29 insertions(+), 4 deletions(-)

commit 8fd9b9555c8306797c5c8fd2815b55abd0e49a78
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jan 18 03:22:06 2009 +1100

    Don't include unoffered DTubes in ListTubes()

 src/tubes-channel.c                                |   13 +++++++++++--
 tests/twisted/tubes/offer-private-dbus-tube-ibb.py |    8 +++++++-
 2 files changed, 18 insertions(+), 3 deletions(-)

commit d442ec3f86987afd1f2a601ef0ea1637aabb2762
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jan 18 03:14:50 2009 +1100

    Add a gabble_tube_dbus_offer stub

 src/tube-dbus.c     |   16 ++++++++++++++++
 src/tube-dbus.h     |    2 ++
 src/tubes-channel.c |   10 ++++++++++
 3 files changed, 28 insertions(+), 0 deletions(-)

commit 5da1cd187c7cd9505685298df7e7b7c5f4384805
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jan 18 02:53:38 2009 +1100

    Add an "offered" flag to TubeDBus

 src/tube-dbus.c |   24 ++++++++++++++++++++++++
 1 files changed, 24 insertions(+), 0 deletions(-)

commit 2185df1e2d394e90140bc1c5fade6753029e8e5c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jan 18 02:21:14 2009 +1100

    Give TubeDBus' state the type GabbleTubeChannelState

 src/tube-dbus.c  |   10 +++++-----
 src/tube-iface.c |    2 +-
 2 files changed, 6 insertions(+), 6 deletions(-)

commit e170240a8818d2542786a1d49da6ddcc68ec3345
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jan 18 01:59:27 2009 +1100

    Revert "tube-dbus: check if the tube has already be offered when getting its state"
    
    This reverts commit 8f219c19da25dd21cf59c1d126f09569a93216da.

 src/tube-dbus.c |   13 +------------
 1 files changed, 1 insertions(+), 12 deletions(-)

commit 39f5c522e9ad4af4df3b29d82fe53d61e96b2a6f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jan 18 01:54:42 2009 +1100

    Don't check that DBusTube is unsupported in a StreamTube test!

 ...offer-accept-private-dbus-stream-tube-socks5.py |   19 -------------------
 1 files changed, 0 insertions(+), 19 deletions(-)

commit ba261481929a7143de523188f4417174897f7698
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jan 18 01:51:50 2009 +1100

    Remove redundant invalid tube requests

 .../offer-accept-private-dbus-stream-tube-ibb.py   |   24 --------------------
 1 files changed, 0 insertions(+), 24 deletions(-)

commit 6ed810c01490fb0b0fa007973b42b342ef15cee6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jan 18 01:39:07 2009 +1100

    Extract invalid tube request tests to a separate file

 tests/twisted/Makefile.am                          |    1 +
 .../twisted/tubes/create-invalid-tube-channels.py  |   59 ++++++++++++++++++++
 ...offer-accept-private-dbus-stream-tube-socks5.py |   30 ----------
 3 files changed, 60 insertions(+), 30 deletions(-)

commit dd6aa78ebf783a981afc0742d2bdfe2c13da38af
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jan 18 01:27:01 2009 +1100

    Remove unused parameters to check_conn_properties

 .../offer-accept-private-dbus-stream-tube-ibb.py   |   10 +++++-----
 ...offer-accept-private-dbus-stream-tube-socks5.py |   12 ++++++------
 tests/twisted/tubes/tubetestutil.py                |    2 +-
 3 files changed, 12 insertions(+), 12 deletions(-)

commit 1349afab61f6b11061acf4903f3c47478ea8f278
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jan 18 01:19:58 2009 +1100

    Extract check_conn_properties to tubetestutils

 .../offer-accept-private-dbus-stream-tube-ibb.py   |   26 ---------------
 tests/twisted/tubes/tubetestutil.py                |   34 ++++++++++++++++++++
 2 files changed, 34 insertions(+), 26 deletions(-)

commit b781cc586a83345118f221f30787bdd8750c7b12
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jan 18 00:44:10 2009 +1100

    Extract checking ListTubes() to a helper function

 tests/twisted/Makefile.am                          |    3 +-
 tests/twisted/tubes/accept-muc-stream-tube-ibb.py  |    7 +++
 tests/twisted/tubes/close-muc-with-closed-tube.py  |   15 +++---
 .../offer-accept-private-dbus-stream-tube-ibb.py   |   48 +++++--------------
 ...offer-accept-private-dbus-stream-tube-socks5.py |   35 +++++----------
 tests/twisted/tubes/offer-muc-dbus-tube.py         |   13 ++---
 tests/twisted/tubes/offer-muc-stream-tube-ibb.py   |    6 +++
 tests/twisted/tubes/offer-private-dbus-tube-ibb.py |   13 ++---
 tests/twisted/tubes/tubetestutil.py                |   29 ++++++++++++
 9 files changed, 85 insertions(+), 84 deletions(-)

commit f416f32a8d0606cea793853f073732b7667e2d68
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Jan 18 00:13:34 2009 +1100

    Add old-style tube types and states to test constants

 tests/twisted/constants.py |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 4b9e939dd2e3762e297725d687b5cfc4658165b1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jan 16 12:38:36 2009 +0000

    request-invalid-dbus-tube: we should test muc D-Bus tubes too

 tests/twisted/tubes/request-invalid-dbus-tube.py |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 845678c2ad37f7e4fd331f7b8a99d83c45156e09
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jan 16 12:37:58 2009 +0000

    gabble_private_tubes_factory_requestotron: check if ServiceName is valid

 src/private-tubes-factory.c |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit a8f7594b08a647c333216d906afff600d6d3c46c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jan 16 12:37:32 2009 +0000

    add request-invalid-dbus-tube.py to tests suite

 tests/twisted/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit cc8310602f54b7bde1c2aeedacf7397add983f80
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jan 16 12:36:54 2009 +0000

    request-invalid-dbus-tube: remove debug print

 tests/twisted/tubes/request-invalid-dbus-tube.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 241f464129456b35e847960beacdad73bed0033d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jan 16 12:25:49 2009 +0000

    rename test-muc-offer-dbus-private-tube.py to offer-private-dbus-tube-ibb.py

 tests/twisted/Makefile.am                          |    2 +-
 tests/twisted/tubes/offer-private-dbus-tube-ibb.py |  292 ++++++++++++++++++++
 .../tubes/test-muc-offer-dbus-private-tube.py      |  292 --------------------
 3 files changed, 293 insertions(+), 293 deletions(-)

commit af2a2d4db9321baefb55ef74d5550916f814ee29
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jan 16 12:20:22 2009 +0000

    tube-dbus: check if the tube has already be offered when getting its state

 src/tube-dbus.c |   13 ++++++++++++-
 1 files changed, 12 insertions(+), 1 deletions(-)

commit d7d7dfa4d76184ab0b5724b5fca3e5f769b410cd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jan 16 12:19:01 2009 +0000

    test-muc-offer-dbus-private-tube.py: test new API

 .../tubes/test-muc-offer-dbus-private-tube.py      |   64 +++++++++++++++++++-
 1 files changed, 63 insertions(+), 1 deletions(-)

commit c26341cd989ae21bd14c372d17d3ea3b56499d39
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jan 9 16:36:58 2009 +0000

    tube-dbus: implement exportable channel interface

 src/tube-dbus.c |  360 ++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 src/tube-dbus.h |    2 +
 2 files changed, 357 insertions(+), 5 deletions(-)

commit f3024249e18c1588693b52e13f175936eac68446
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jan 9 16:36:04 2009 +0000

    private-tubes-factory: re-enable new style D-Bus tubes

 src/private-tubes-factory.c |    9 ---------
 1 files changed, 0 insertions(+), 9 deletions(-)

commit 1123004e1e0f4009d0856f2e555515992505b03b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jan 9 13:56:08 2009 +0000

    test-muc-offer-dbus-private-tube.py: use ns.py

 .../tubes/test-muc-offer-dbus-private-tube.py      |   26 +++++++-------------
 1 files changed, 9 insertions(+), 17 deletions(-)

commit ac75fe320f92d81373b9ed88a253cbf49212984d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jan 9 13:55:46 2009 +0000

    ns.py: add tube related NS

 tests/twisted/ns.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 7ce4d885660e6f7b4eb9df0d880f4061c594d16d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jan 9 13:45:37 2009 +0000

    add test-muc-offer-dbus-private-tube.py to tests suite

 tests/twisted/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 657d3a8b6f08d780fab4fe85d18e68e315bf163e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jan 9 13:45:23 2009 +0000

    add test-muc-offer-dbus-private-tube.py

 .../tubes/test-muc-offer-dbus-private-tube.py      |  238 ++++++++++++++++++++
 1 files changed, 238 insertions(+), 0 deletions(-)

commit 92e3d31c4add10b7bd1c5611be3cb7cec76b8455
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jan 16 11:02:44 2009 +0000

    add request-invalid-dbus-tube.py

 tests/twisted/tubes/request-invalid-dbus-tube.py |   35 ++++++++++++++++++++++
 1 files changed, 35 insertions(+), 0 deletions(-)

commit 6c04b00967c6a1e7c6b616d2a63ced95c597e99a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 3 09:51:26 2009 +0000

    update NEWS

 NEWS |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 562d0861d7e70bc3148de6863d923ac464a939d2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 2 17:29:50 2009 +0000

    create_new_tube: fix comment

 src/tubes-channel.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 4317a66ee6e910b7c6a932d45b915b197b1f41a7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 2 17:25:44 2009 +0000

    offer-muc-stream-tube-ibb.py: use make_muc_presence instead of our own version of it

 tests/twisted/tubes/offer-muc-stream-tube-ibb.py |   19 +++++--------------
 1 files changed, 5 insertions(+), 14 deletions(-)

commit c5f6ad37c8f7f68566146e1037585c044cae138c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 2 17:19:32 2009 +0000

    muc-factory: split gabble_muc_factory_request into one fuction per channel type

 src/muc-factory.c |  328 ++++++++++++++++++++++++++++++-----------------------
 1 files changed, 188 insertions(+), 140 deletions(-)

commit c4f95caf23a711c5814e09a623847bbcb955ad6a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 2 17:01:45 2009 +0000

    gabble_muc_factory_request: fix identation

 src/muc-factory.c |   81 +++++++++++++++++++++++++++--------------------------
 1 files changed, 41 insertions(+), 40 deletions(-)

commit 8220f277e552bb34e71889a04e1ac817551b1576
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 2 16:55:45 2009 +0000

    offer-muc-stream-tube-ibb: check tubes and text channel properties

 tests/twisted/tubes/offer-muc-stream-tube-ibb.py |   18 +++++++++++++++++-
 1 files changed, 17 insertions(+), 1 deletions(-)

commit 07f29388f31ea201f5e770f002299054751c7144
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 2 16:55:14 2009 +0000

    private-tubes-factory: set requested param when creating a tubes channel

 src/private-tubes-factory.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 369bba5e51290e48bb3ebcb4cfef986d51767d76
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 2 16:54:57 2009 +0000

    muc-factory: set requested param when creating a tubes channel

 src/muc-factory.c |   15 +++++++++------
 1 files changed, 9 insertions(+), 6 deletions(-)

commit 771026e3b0f04cf1881a3c2acfda98cb7c7f1494
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 2 16:54:30 2009 +0000

    tubes-channel: add requested param

 src/tubes-channel.c |    9 ++++++---
 1 files changed, 6 insertions(+), 3 deletions(-)

commit 7350b74b44add49feaace6e0f67f9335f0739188
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 2 16:31:44 2009 +0000

    gabble_muc_factory_request: announce tubes channel with the tube one if it has been created because of it

 src/muc-factory.c |   22 ++++++----------------
 1 files changed, 6 insertions(+), 16 deletions(-)

commit 977a4a0f71471801f2094081526280cf21aac42f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 2 16:18:11 2009 +0000

    offer-muc-stream-tube-ibb: check Closed and ChannelClosed signals

 tests/twisted/tubes/offer-muc-stream-tube-ibb.py |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit af2bd1f8c64cf2302e15c937c2b82e42f0aa9551
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 2 16:17:55 2009 +0000

    tubes-channel: tube_closed_cb: fire ChannelClosed signal when a muc stream tube is closed

 src/tubes-channel.c |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit b090a1bb031f0d91f1840941773a564399d1bbb9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 2 16:09:05 2009 +0000

    private-tubes-factory: use gabble_tube_stream_channel_allowed_properties

 src/private-tubes-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 63bceddc08827fca50ad851f38631e6734193d7e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 17:26:42 2009 +0000

    offer-muc-stream-tube-ibb.py: Status has been renamed to State

 tests/twisted/tubes/offer-muc-stream-tube-ibb.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit eb6a37ce0e7bba4ca9f8fd44cb9128b3d585eb1a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 17:26:18 2009 +0000

    accept-muc-stream-tube-ibb: Status has been renamed to State

 tests/twisted/tubes/accept-muc-stream-tube-ibb.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 197f42a681ffd60047216ea55cdc1f5360d0d0b8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 26 15:42:48 2009 +0000

    gabble_tubes_channel_presence_updated: don't announce newly create D-Bus tube using the new API for now

 src/tubes-channel.c |    9 +++++++--
 1 files changed, 7 insertions(+), 2 deletions(-)

commit aa081dd4096e9dbd5483279b71817d53e7e70d2e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 19 15:25:05 2009 +0000

    remove gabble_private_tubes_factory_tube_created, we can call tp_channel_manager_emit_new_channel directly

 src/private-tubes-factory.c |    7 -------
 src/private-tubes-factory.h |    3 ---
 src/tubes-channel.c         |    4 ++--
 3 files changed, 2 insertions(+), 12 deletions(-)

commit 9c6b21d40ea601d7fb61dfa6da9957765e7fffb0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 19 15:22:49 2009 +0000

    offer-muc-stream-tube-ibb.py: check if tube created using the old API are announced on the new API

 tests/twisted/tubes/offer-muc-stream-tube-ibb.py |   24 ++++++++++++++++++++-
 1 files changed, 22 insertions(+), 2 deletions(-)

commit b84b2632d360196280a61e0d0f0c1c03255d68f9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 19 15:22:12 2009 +0000

    gabble_tubes_channel_offer_stream_tube: announce newly created tube channel

 src/tubes-channel.c |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit 836c3c950cbafa48e9f5fd1fa1b1803ccff3fec3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 19 15:11:14 2009 +0000

    accept-muc-stream-tube-ibb: use constants.py

 tests/twisted/tubes/accept-muc-stream-tube-ibb.py |   21 ++++++++-------------
 1 files changed, 8 insertions(+), 13 deletions(-)

commit 063f9b84993255cf3de071379f942d7227eca04f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 19 15:08:44 2009 +0000

    accept-muc-stream-tube-ibb.py: check new tube API

 tests/twisted/tubes/accept-muc-stream-tube-ibb.py |   48 ++++++++++++++++++--
 1 files changed, 43 insertions(+), 5 deletions(-)

commit f8bc5adb53b9779f26953884fa45254fbb082832
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 19 15:08:15 2009 +0000

    gabble_tubes_channel_presence_updated: emit newly create tube channel

 src/tubes-channel.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit e7e57019200d739f1026ec8d3b848ac5a214ddc5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 19 15:07:54 2009 +0000

    constants.py: add PROPERTIES_IFACE and INTERFACES

 tests/twisted/constants.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit e6dacc59d34a644f8538b245d169c7e35707840c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 19 14:42:48 2009 +0000

    gabble_tube_stream_offer: remove useless args

 src/tube-stream.c   |    8 +-------
 src/tube-stream.h   |    4 +---
 src/tubes-channel.c |    3 +--
 3 files changed, 3 insertions(+), 12 deletions(-)

commit c584f4298247988bba4444f8bc0a8000bf13a384
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 19 14:26:16 2009 +0000

    offer-muc-stream-tube-ibb: use constants.py

 tests/twisted/tubes/offer-muc-stream-tube-ibb.py |   86 ++++++++--------------
 1 files changed, 32 insertions(+), 54 deletions(-)

commit 11fbb42f41c3efbf158358b67a3eff89e82469ec
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 19 13:56:25 2009 +0000

    offer-muc-stream-tube-ibb: test tube offering using new API

 tests/twisted/tubes/offer-muc-stream-tube-ibb.py |   57 +++++++++++++++++++++-
 1 files changed, 55 insertions(+), 2 deletions(-)

commit 09dbc59d250fcb31ceb65d15e391121b3d72d345
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 19 13:55:24 2009 +0000

    gabble_tube_stream_offer_stream_tube: call gabble_tube_stream_offer with muc stream tubes too

 src/tube-stream.c |   23 ++++++++++++++---------
 1 files changed, 14 insertions(+), 9 deletions(-)

commit a882aa8c80086c838b7f779a40123e535f3e5b49
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 19 13:37:05 2009 +0000

    tube-stream: gabble_tube_stream_offer change state to open when called on a muc stream tube

 src/tube-stream.c |   48 ++++++++++++++++++++++++++++++++++++------------
 1 files changed, 36 insertions(+), 12 deletions(-)

commit 38813e73e2807f6bd6250e492f6417ea52b13d4a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 19 13:35:11 2009 +0000

    gabble_tube_stream_constructor: muc stream tubes don't have to be open when requested

 src/tube-stream.c |   11 +----------
 1 files changed, 1 insertions(+), 10 deletions(-)

commit 737af02363002cf3c1662a855cffa48b3a9d6cdc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 19 13:26:23 2009 +0000

    gabble_tubes_channel_offer_stream_tube: we have to call gabble_tube_stream_offer with muc tubes too

 src/tubes-channel.c |   19 ++++++++-----------
 1 files changed, 8 insertions(+), 11 deletions(-)

commit 6eecaca75770d892a7a115af507d346f483a77e1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 19 12:59:47 2009 +0000

    create_new_tube: don't call update_tubes_presence if the tube is not open yet

 src/tubes-channel.c |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit b833c1c3830b6570d3b96c175eb085ad69a5d8d3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 19 12:56:47 2009 +0000

    tube_offered_cb: call update_tubes_presence as we now have to announce the tube

 src/tubes-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit dd1e047ead7587066b2849569245220332fd60fd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 19 12:52:39 2009 +0000

    constants.py: add socket address type and access control

 tests/twisted/constants.py |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit b70db60686b3f614a4abcfb48a9a954dc705e72b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 19 12:17:00 2009 +0000

    offer-muc-stream-tube-ibb: set_up_listener_socket returns the socket path

 tests/twisted/tubes/offer-muc-stream-tube-ibb.py |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit 5160abe74dfb3a4a0a3670c533c482fd42aadb42
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 19 11:42:43 2009 +0000

    offer-muc-stream-tube-ibb: add an extra arg to set_up_listener_socket

 tests/twisted/tubes/offer-muc-stream-tube-ibb.py |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 9e1b7e9f9064bca99686f24cd0df42dbaf5220bf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 19 11:01:50 2009 +0000

    offer-muc-stream-tube-ibb.py: check channel announcements

 tests/twisted/tubes/offer-muc-stream-tube-ibb.py |   36 +++++++++++++++++++++-
 1 files changed, 35 insertions(+), 1 deletions(-)

commit 5350b21c725793e7cc189ae47be04305cd9b7e23
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 19 11:01:25 2009 +0000

    offer-muc-stream-tube-ibb: factor out send_muc_presence

 tests/twisted/tubes/offer-muc-stream-tube-ibb.py |   25 +++++++++------------
 1 files changed, 11 insertions(+), 14 deletions(-)

commit 2696e2f75f3ed3f066f327987175d3123287bc15
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 19 11:00:25 2009 +0000

    muc-factory: announce tube channels

 src/muc-factory.c |   98 +++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 96 insertions(+), 2 deletions(-)

commit 0ac97d2015f40d4dfe71dc8a1dc964dd6cb9ceb0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jan 16 15:16:23 2009 +0000

    offer-muc-stream-tube-ibb: start to test new API

 tests/twisted/tubes/offer-muc-stream-tube-ibb.py |   39 +++++++++++++++++++++-
 1 files changed, 38 insertions(+), 1 deletions(-)

commit 9133fbbf90ff0128e55dbc52606e944647ed800b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jan 16 15:15:52 2009 +0000

    muc-factory: announce StreamTube as requestable channel and don't raise an error when one is requested

 src/muc-factory.c |   56 +++++++++++++++++++++++++++++++++++++++++++++-------
 1 files changed, 48 insertions(+), 8 deletions(-)

commit 988a6cd272b2b8eba1813e50b88372ee56211013
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jan 16 15:02:36 2009 +0000

    private-tubes-factory: use gabble_tube_stream_channel_allowed_properties instead of our own copy of it

 src/private-tubes-factory.c |   14 +++++---------
 1 files changed, 5 insertions(+), 9 deletions(-)

commit 0341d6720b3ce9f527e02a7239f6a93f3c012c54
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jan 16 15:01:17 2009 +0000

    tube-stream.h: add gabble_tube_stream_channel_allowed_properties

 src/tube-stream.h |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 76f8c8b931aff1b382f1705ec96b197e4682f181
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 2 19:45:11 2009 +0000

    Start 0.7.21 development

 NEWS         |    5 +++++
 configure.ac |    2 +-
 2 files changed, 6 insertions(+), 1 deletions(-)

commit 2d6689f6fb96d5633b10af59306488399de1cb29
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 2 18:43:25 2009 +0000

    tests/twisted: remove config.py in clean (fix distcheck)

 tests/twisted/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 0540451ad76b089a823253c18d427b9ebdf624d0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 2 18:29:07 2009 +0000

    Prepare release 0.7.20

 NEWS         |    4 +++-
 configure.ac |    4 ++--
 2 files changed, 5 insertions(+), 3 deletions(-)

commit 9fee7c6c1bca2de3a84b7b9e7e716f5c65c8add4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 2 18:04:23 2009 +0000

    jingle/test-content-complex: Apply the same workaround as for dialects-outgoing

 tests/twisted/jingle/test-content-complex.py |    6 ++----
 1 files changed, 2 insertions(+), 4 deletions(-)

commit d502de8bcd0b69ec75eb4cfceeca5c978368f823
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 2 18:03:46 2009 +0000

    Update bug URL for test-nonblocking-tls
    
    The Loudmouth bug tracker has moved.

 tests/twisted/connect/test-nonblocking-tls.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a4d634629af563f50cebb0bb33174acfbccd3f5f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 2 17:51:40 2009 +0000

    fd.o#19161: re-enable test-dialects-outgoing
    
    Now that I've worked around a race in the test and an obscure crash in
    the depths of Twisted, it seems this test can pass again.

 tests/twisted/jingle/test-dialects-outgoing.py |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit d2e7ca81f617c8381055784ba9f67d421cdd565b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 2 17:50:40 2009 +0000

    fd.o#19161: jingle/test-dialects-outgoing: run the four tests in separate event loops
    
    It seems these tests don't play nicely with exec_tests, which tries to
    share one stream between all the test functions - disconnecting causes
    bits of Twisted machinery to lose their references to each other, making
    tests after the first fail. I tried and failed to fix this in
    exec_tests(), so someone with more Twisted-fu should have a look.
    Meanwhile, let's work around the problem to avoid it blocking releases.
    Partially addresses fd.o#19161.

 tests/twisted/jingle/test-dialects-outgoing.py |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit 45b52c0e06d5474db9df6e4ee5b7f27bea0b851d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 2 17:48:06 2009 +0000

    fd.o#19161: jingletest2: expect vCard stream-iq on startup
    
    If we don't wait for it before testing, we might get it later when
    expecting a different stream-iq. Senko's code contains many assertions
    that a received stream-iq is exactly the one we wanted, which fail if
    they are given the vCard IQ instead.
    
    Partially addresses #19161.

 tests/twisted/jingle/jingletest2.py |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 6cc03a67e75c5101887bfa2c09479d6eeeba0d51
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 2 15:44:59 2009 +0000

    twisted/Makefile.am: regenerate config.py when Makefile is changed

 tests/twisted/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9838496b925232fe71102f0c071b6f9ae1522659
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 2 15:34:14 2009 +0000

    upgrade NEWS

 NEWS |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit ce3b2e1e3bc837715aee0fd995fbc21038ed9a0d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 2 15:32:10 2009 +0000

    gabble_private_tubes_factory_caps_diff: simplify pointer comparaisons

 src/private-tubes-factory.c |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit de29187fa78a3950767fbf00c13878d0fe062ffe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 2 15:27:24 2009 +0000

    gabble_private_tubes_factory_get_contact_caps: fix typo in comment

 src/private-tubes-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit bf49b8ce0b1fbaa4ab986cef70b633b7cc06c692
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 15:51:41 2009 +0000

    test-caps-tubes: TargetID and Parameters are now announced as allowed properties

 tests/twisted/test-caps-tubes.py |   45 +++++++++++++++++--------------------
 1 files changed, 21 insertions(+), 24 deletions(-)

commit 2a05a570f4a9ccd46e3ac9ab240578274e61de01
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 15:51:07 2009 +0000

    private-tubes-factory: add TargetID and Parameters to specialised tube channel class

 src/private-tubes-factory.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit e00b0e148485744d93cbc45363f6ec9e83b5da99
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 15:04:41 2009 +0000

    test-caps-tubes.py: generic tubes caps are now announced

 tests/twisted/test-caps-tubes.py |   80 +++++++++++++++++++++++++++++++++++++-
 1 files changed, 79 insertions(+), 1 deletions(-)

commit a5c0f686911ada9b00c9fc914209165d7875534f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 15:04:17 2009 +0000

    private-tubes-factory.c: add generic tubes caps

 src/private-tubes-factory.c |  155 +++++++++++++++++++++++++++++++++++--------
 1 files changed, 127 insertions(+), 28 deletions(-)

commit cf1091d28916b342863e06bdb9a62a97fc63f51f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 12:45:17 2009 +0000

    simplify gabble_private_tubes_factory_caps_diff as we did in Salut

 src/private-tubes-factory.c |   97 ++++++++++++++++++-------------------------
 1 files changed, 41 insertions(+), 56 deletions(-)

commit d3c87f4a55b3c9a749a51b8869cb2ac37284b1f9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 12:21:41 2009 +0000

    test-caps-tubes.py: no need to announce jingle caps

 tests/twisted/test-caps-tubes.py |    9 +--------
 1 files changed, 1 insertions(+), 8 deletions(-)

commit 8579b9b3aac615b3c4efe424337f0274c69902f4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 12:15:42 2009 +0000

    test-caps-tubes: compute caps hash instead of hardcoding them

 tests/twisted/test-caps-tubes.py |   16 ++++++++++------
 1 files changed, 10 insertions(+), 6 deletions(-)

commit ea6185443d5472d3132216ced935ad06b823b90f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 12:00:58 2009 +0000

    test-caps-tubes: use ns.py

 tests/twisted/test-caps-tubes.py |  109 ++++++++++++++++++--------------------
 1 files changed, 51 insertions(+), 58 deletions(-)

commit c9244c6033776593178f2f75a5d416647998cd80
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 11:59:17 2009 +0000

    ns.py: add CAPS, GOOGLE_P2P, JINGLE, JINGLE_AUDIO, TUBES

 tests/twisted/ns.py |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 70260e87404f7612afe71d03087fc18d0e574e9e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 11:44:56 2009 +0000

    test-caps-tubes: check if the caps announced by Gabble matches the hash

 tests/twisted/test-caps-tubes.py |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit 2a842de0f3de0b394ab35fd4d7ca9a66bf84e059
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 11:41:44 2009 +0000

    gitignore config.py instead of gabbleconfig.py as this file doesn't exist anymore

 .gitignore |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 1e64dc388f6c2e44481b10750a5520c203908b75
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 11:39:49 2009 +0000

    generate config.py as in Salut

 tests/twisted/Makefile.am |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit dc09685bd9c01112848961cac55ee6ce8b762147
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 11:35:09 2009 +0000

    add caps_helper to tests suite

 tests/twisted/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit e47a9239584e7cfaf80a89aa3db7ab76b4ed7334
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 11:34:59 2009 +0000

    steal caps_helper from Salut

 tests/twisted/caps_helper.py |   25 +++++++++++++++++++++++++
 1 files changed, 25 insertions(+), 0 deletions(-)

commit 6f57cdc359e134f9ecd90f5ac4f54e01f633caec
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 11:27:15 2009 +0000

    test-caps-tubes.py: use constants.py

 tests/twisted/test-caps-tubes.py |  123 +++++++++++++++----------------------
 1 files changed, 50 insertions(+), 73 deletions(-)

commit 5e5fa13161ba51985c53d9b73fad56301da5a21f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 11:26:59 2009 +0000

    constants.py: add CHANNEL_TYPE_TEXT, CONN_IFACE_CONTACTS and CONN_IFACE_CONTACT_CAPA

 tests/twisted/constants.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 15d9e1724508f067c0637767ddb5ab8015123233
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 2 15:23:22 2009 +0000

    NEWS: add entry about Closed/ChannelClosed signal with tubes

 NEWS |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 7e6b391acb16abd1b0aa2afa510c6dd66a4921e7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 17:15:15 2009 +0000

    offer-accept-private-dbus-stream-tube-ibb TUBE_STATUS has been renamed to TUBE_STATE

 .../offer-accept-private-dbus-stream-tube-ibb.py   |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 97df0108cfcaf0a8fbacb9b4b8353937ebb51168
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 10:04:41 2009 +0000

    offer-accept-private-dbus-stream-tube-ibb: check that status and parameters are NOT in channel-properties as they are not immutable

 .../offer-accept-private-dbus-stream-tube-ibb.py   |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 77ea2ac9e7627d3681a00433c94452859f56cc29
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 26 18:16:07 2009 +0000

    offer-accept-private-dbus-stream-tube-ibb: check if TubeChannelStateChanged is fired when tube becomes remote pending

 .../offer-accept-private-dbus-stream-tube-ibb.py   |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit 9236955aedee5069c4a2316d75f1c50dea34ce71
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 26 16:19:06 2009 +0000

    accept-private-stream-tube: check if the Closed and ChannelClosed are fired

 tests/twisted/tubes/accept-private-stream-tube.py |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit fef753ce49bcdcec15e68254fd0cd6cc1f63d04a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 26 16:17:40 2009 +0000

    tube_closed_cb: fire the Closed and ChannelClosed signals

 src/tubes-channel.c |   20 ++++++++++++++++++++
 1 files changed, 20 insertions(+), 0 deletions(-)

commit fde7983726d3963ae1f842d29137fe354f4d9357
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 26 15:52:45 2009 +0000

    accept-private-stream-tube.py: use constants.py

 tests/twisted/tubes/accept-private-stream-tube.py |   22 +++++++-------------
 1 files changed, 8 insertions(+), 14 deletions(-)

commit 293f40e6b5757a98859b201c3ac65a1d6a30c48f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 26 15:50:14 2009 +0000

    accept-private-stream-tube.py: use ns.py

 tests/twisted/tubes/accept-private-stream-tube.py |   17 +++++++----------
 1 files changed, 7 insertions(+), 10 deletions(-)

commit af3b95fbfff161c5751eb97bb85dba3e1769544d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 26 15:50:00 2009 +0000

    ns.py: add IBB, IS and tubes NS

 tests/twisted/ns.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 9ad6bff0bab21ac6c94410859a952c258889ab25
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 26 15:48:13 2009 +0000

    accept-private-stream-tube: rename new_tubes_chan to new_tube_chan

 tests/twisted/tubes/accept-private-stream-tube.py |   20 ++++++++++----------
 1 files changed, 10 insertions(+), 10 deletions(-)

commit ccce47a1e8bc3c1acb76dd5aa5bf95387c57fc3a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 26 15:46:57 2009 +0000

    accept-private-stream-tube.py: rename new_tubes_iface to new_tube_iface

 tests/twisted/tubes/accept-private-stream-tube.py |   24 ++++++++++----------
 1 files changed, 12 insertions(+), 12 deletions(-)

commit 4259e89737e6e16a0cc197fbec415034a197bec6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 2 14:59:52 2009 +0000

    Fix previous release name :-)

 NEWS |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d1711e8b3f33576f94bdf2449171f579c68d4bce
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 2 14:58:35 2009 +0000

    Write some NEWS

 NEWS |   15 +++++++++++++++
 1 files changed, 15 insertions(+), 0 deletions(-)

commit 2aa5bcb2baa4bbe1c5a883d51855534c728b8fc8
Merge: 794f86f 705fab0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 2 14:50:12 2009 +0000

    Merge commit 'wjt/muc-renaming'
    
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 794f86f383435edfccd1b04033158e2d5b931632
Merge: 6f41a4c 5509cbb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 2 14:37:18 2009 +0000

    Merge commit 'wjt/trivia'
    
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 5509cbb168f6be77cf80cfb5333bdf04c502b377
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Jan 30 20:00:40 2009 +0800

    Generate FIXME.out like telepathy-glib

 .gitignore  |    1 +
 Makefile.am |    6 ++++++
 2 files changed, 7 insertions(+), 0 deletions(-)

commit 705fab0a3fd0ff603bc4025881329afa99f1670c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Feb 1 19:21:29 2009 +0000

    Only set MUC channels' state to JOINED once.
    
    Previously, the state was re-set every time you got a presence for yourself in
    a MUC.

 src/muc-channel.c |    6 +-----
 1 files changed, 1 insertions(+), 5 deletions(-)

commit a2e646628a782b9e443bf9eec1b84bc76faa8fe5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Feb 1 19:14:54 2009 +0000

    Handle the MUC renaming us on joining

 src/muc-channel.c |   67 +++++++++++++++++++++++++++++++++++++++++-----------
 1 files changed, 53 insertions(+), 14 deletions(-)

commit 830a3a53581f69c6bfece19de13da57bc93a92ed
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Feb 1 17:53:26 2009 +0000

    Add a test for the MUC server renaming you when you join

 tests/twisted/Makefile.am    |    1 +
 tests/twisted/muc/renamed.py |   92 ++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 93 insertions(+), 0 deletions(-)

commit fba079e75e2e9f36ff2ac8a143c4a7ef05bbbca6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Feb 1 17:33:14 2009 +0000

    Extract handling new MUC members to a function

 src/muc-channel.c |  202 ++++++++++++++++++++++++++++-------------------------
 1 files changed, 106 insertions(+), 96 deletions(-)

commit e3f9e69c3cb800c91db86479e5aeb5e89dd73b29
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Feb 1 17:29:42 2009 +0000

    tp_intset_sized_new does not do what I thought it did.
    
    I was confusing it with g_array_sized_new and friends.

 src/muc-channel.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit a0f99c55dbcff314c259bd1d248d9ac427bb166c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Feb 1 17:04:22 2009 +0000

    Clarify _gabble_muc_channel_member_presence_updated

 src/muc-channel.c |   46 +++++++++++++++++++---------------------------
 1 files changed, 19 insertions(+), 27 deletions(-)

commit 90b01a71792361731ecb67039d5463c35f8961f2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Feb 1 16:58:57 2009 +0000

    Extract handling other MUC presences to a function

 src/muc-channel.c |  360 ++++++++++++++++++++++++++++-------------------------
 1 files changed, 188 insertions(+), 172 deletions(-)

commit be25cd52ed937ade45fa673a77137d70daa36849
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Feb 1 16:39:17 2009 +0000

    Extract handling 'unavailable' MUC presences in MUCs to a function

 src/muc-channel.c |  133 +++++++++++++++++++++++++++++-----------------------
 1 files changed, 74 insertions(+), 59 deletions(-)

commit 1ed56846d6ce0cf920161d9822753d9c1b0bba98
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Feb 1 16:07:52 2009 +0000

    Extract handing MUC nick conflicts to a function

 src/muc-channel.c |   86 +++++++++++++++++++++++++++-------------------------
 1 files changed, 45 insertions(+), 41 deletions(-)

commit 03b3f3f7ea0a4718b0cf2ff454baec1c6d5da56b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Feb 1 15:52:17 2009 +0000

    Update MUC members when renaming to avoid nick conflict.

 src/muc-channel.c |   16 ++++++++++++++++
 1 files changed, 16 insertions(+), 0 deletions(-)

commit 422a56ad7b2bc1806187316af157e1ded20f50e6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Feb 1 15:41:28 2009 +0000

    Test a conflicting nick not actually being in the MUC.
    
    (You try to join as test and get a conflict. You try to join as test_ and
    succeed, but in the meantime test has left.)

 tests/twisted/muc/name-conflict.py |   54 ++++++++++++++++++++++++------------
 1 files changed, 36 insertions(+), 18 deletions(-)

commit a2ce7e39c7a024d5a831899ecb9258c325c1b6e2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Feb 1 15:30:54 2009 +0000

    Change MUC SelfHandle when appending _ to avoid conflicts.
    
    The channel didn't its group mixin that the handle had changed when it appended
    underscores. This led to a serious identity crisis.

 src/muc-channel.c |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit df6cfc21d40b81fcc48e3e5a60db076f0dae1707
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Feb 1 15:18:28 2009 +0000

    Add a test for coping with MUC nickname conflicts.

 tests/twisted/Makefile.am          |    1 +
 tests/twisted/constants.py         |    2 +
 tests/twisted/muc/name-conflict.py |  108 ++++++++++++++++++++++++++++++++++++
 3 files changed, 111 insertions(+), 0 deletions(-)

commit 6f41a4c401ea4f8d8558d86531cdc651fb80caee
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Sat Jan 31 11:02:27 2009 +0000

    Location test: some more test on the D-Bus property setter

 tests/twisted/test-location.py |   30 ++++++++++++++++++++++++++++++
 1 files changed, 30 insertions(+), 0 deletions(-)

commit 9b80a8c628581b5b1649260d9e8f2a652f361807
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Sat Jan 31 11:01:42 2009 +0000

    Location property setter: do not check again what the mixin already checked, just use g_assert

 src/conn-location.c |   19 +++++++------------
 1 files changed, 7 insertions(+), 12 deletions(-)

commit bb5cdf2a23610d80ede06d4737ff78e7e2826866
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Sat Jan 31 10:20:26 2009 +0000

    Location test: test if LocationAccessControlTypes is read-only correctly

 tests/twisted/test-location.py |    9 ++++++---
 1 files changed, 6 insertions(+), 3 deletions(-)

commit 25d289986e1aeecf73b7dc6a9ec8766169cb73a3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Sat Jan 31 10:11:36 2009 +0000

    Location: Fix type check for LocationAccessControl

 src/conn-location.c |   14 ++++++++++++++
 1 files changed, 14 insertions(+), 0 deletions(-)

commit 2e839a491342abe9625419d14804c85e12e3b169
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Sat Jan 31 09:56:18 2009 +0000

    Location test: use dbus.PROPERTIES_IFACE instead of hardcoded string

 tests/twisted/test-location.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8e9e113c25a2e58c392b05d4ed6447e746c92828
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Sun Jan 25 22:39:15 2009 +1100

    Timestamp is a signed type

 src/conn-location.c |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit 2f4c80b05922733dd31888e970685d59cf7ca4c0
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Sun Jan 25 22:37:07 2009 +1100

    Simplify the conversion of XML to the GValue dictionary
    by removing _get_double and _get_string.

 src/conn-location.c |   97 +++++++++++++++++----------------------------------
 1 files changed, 32 insertions(+), 65 deletions(-)

commit d9c39c25d417a8f783a94ead6335e77599f254e4
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Sun Jan 25 18:44:59 2009 +1100

    Get rid of validate_contacts
    Having the dbus return in a subfunction, obfuscates the code

 src/conn-location.c |   40 +++++++++++++++++-----------------------
 1 files changed, 17 insertions(+), 23 deletions(-)

commit dd480e8708c1194085687b143e160bb398d6ede4
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Sun Jan 25 15:31:32 2009 +1100

    Don't use strtod as it is locale dependant

 src/conn-location.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7823a28ed1bf9c8c9d14e7b914ad44767d6fb5fb
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Sun Jan 25 15:27:16 2009 +1100

    Prevent crashing if set-location is called too early

 src/conn-location.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit c4bc067096fcd8cb6d7c1a39ec37ccae4782a219
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Wed Jan 21 17:37:59 2009 +1100

    Missing else case

 src/conn-location.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 82f27e8498a2282dbc4b26fbbe30890d6dc1a6e6
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Sat Jan 17 15:20:10 2009 +0200

    Fix segfault

 src/conn-location.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit c257f2cd8e5348a932ed9e23c7924d0d6e4f2e66
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Jan 14 22:05:44 2009 +0000

    Location: test the D-Bus properties

 tests/twisted/test-location.py |   24 +++++++++++++++++++++++-
 1 files changed, 23 insertions(+), 1 deletions(-)

commit a014fbd763cd67b23ca37395ec3cadf8072ed9bc
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Jan 14 22:04:54 2009 +0000

    Location: implement the D-Bus properties setter on the Location interface and returns the right error code

 src/conn-location.c |   19 +++++++++++++++----
 1 files changed, 15 insertions(+), 4 deletions(-)

commit 31549c04257bfda5dfa927af834eb033aa69a33f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Jan 14 20:58:23 2009 +0000

    Location: don't use hardcoded value

 src/conn-location.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 499db3a67a5f9aa44b7a5a448c6137987791da51
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Tue Jan 13 20:56:29 2009 +0200

    The Telepathy API sends timestamps, where the XEP expects date strings

 src/conn-location.c |   46 +++++++++++++++++++++++++++++++++++++++++-----
 1 files changed, 41 insertions(+), 5 deletions(-)

commit daaeb6ee559a17f8d56a6adc5dee065586c83ad2
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Tue Jan 13 00:41:17 2009 +0200

    Implement a stub setter to prevent crashing on set
    fix a type in function names

 src/conn-location.c            |   31 ++++++++++++++++++++++++++-----
 src/conn-location.h            |    4 +++-
 src/connection.c               |    4 ++--
 tests/twisted/test-location.py |    4 ++++
 4 files changed, 35 insertions(+), 8 deletions(-)

commit 6dae899dcd895449b9d76adf173c4b5050b62540
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Mon Jan 12 23:24:47 2009 +0200

    Enforce 80 chars

 tests/twisted/test-location.py |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit d703c5051bfb23801d299b93fd5bc5017ab5cd6e
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Mon Jan 12 23:19:01 2009 +0200

    Use TpHandle instead of guint

 src/conn-location.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 6a17325117ff236f51af2287d0d3703409f30388
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Mon Jan 12 23:16:41 2009 +0200

    Remove commented code

 src/conn-location.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 877a913d126b2709875968ad468d95e531a22715
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Mon Jan 12 23:15:34 2009 +0200

    Respect 80 cols

 src/conn-location.c |   14 ++++++++------
 1 files changed, 8 insertions(+), 6 deletions(-)

commit 46d9502c744f4ad42a4912191b17b681c4f34eee
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Mon Jan 12 23:12:46 2009 +0200

    Get rid of a one liner function

 src/conn-location.c |   15 ++++-----------
 1 files changed, 4 insertions(+), 11 deletions(-)

commit 5aafb50c17e93b15ce36b727bb7b6f35cb9be1f1
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Mon Jan 12 23:03:18 2009 +0200

    Get right of a one liner function

 src/conn-location.c |   24 +++++++-----------------
 1 files changed, 7 insertions(+), 17 deletions(-)

commit 3d969cf8ecfe8da4499e8182e9a0fda4d52b450f
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Mon Jan 12 22:56:43 2009 +0200

    Move include at the right place

 src/conn-location.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b62be7b4bca44b8e16226acb6c724faefaaa6fcf
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Sun Jan 11 12:22:18 2009 +0000

    Extensions: remove D-Bus types declared twice

 extensions/all.xml |    8 --------
 1 files changed, 0 insertions(+), 8 deletions(-)

commit 35286e271033ca5baf1af2c1a021251fb10d99e9
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Sun Jan 11 12:18:35 2009 +0000

    Extensions: remove inclusion of non-existent files

 extensions/all.xml |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 1a9bc6ab3a4beaa4b1160be155a8514e0945dc84
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Sat Jan 10 18:30:51 2009 +0000

    test-location.py: Test the Location D-Bus properties

 tests/twisted/test-location.py |   28 +++++++++++++++++++++++-----
 1 files changed, 23 insertions(+), 5 deletions(-)

commit 5e1d1e2abe073720a84222299e6da6fbf7866538
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Sat Jan 10 18:23:32 2009 +0000

    Location: Implements the D-Bus properties on the location interface correctly

 src/conn-location.c |   15 ++++++++-------
 1 files changed, 8 insertions(+), 7 deletions(-)

commit 82cfcec3cf78277037fee2b0ffcbfee8cad395ce
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Jan 2 13:29:50 2009 +0000

    Revert "GabbleConnection: add GABBLE_IFACE_CONNECTION_INTERFACE_LOCATION in the implemented interfaces"
    
    This interface is implemented only if the server does PEP
    
    This reverts commit 1004c1154c643d61d7251141996c1037fee74225.

 src/connection.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit bc4e083951eb0272ba2d331fbf8cd72da195da3f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Jan 2 13:09:34 2009 +0000

    GabbleConnection: add GABBLE_IFACE_CONNECTION_INTERFACE_LOCATION in the implemented interfaces

 src/connection.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit abd6fb776d40246bac1a2aeef2da3c6148afe847
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Tue Dec 30 23:05:25 2008 -0500

    Fix merge errors

 extensions/all.xml   |    3 ---
 src/presence-cache.c |   18 +++++-------------
 2 files changed, 5 insertions(+), 16 deletions(-)

commit ab531799240dc463a1e70e8dc135f644bcf6d9f4
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Tue Dec 30 21:34:57 2008 -0500

    Send the string not the gvalue!

 src/conn-location.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a236d1bc235ef8030fa0122a83f0669dfd6da6cf
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Tue Dec 30 12:57:30 2008 -0500

    also free on error

 src/conn-location.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit d36a231be3f4cc27f4f960f74377ac35c8fc2980
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Tue Dec 30 12:49:09 2008 -0500

    Remove commented lines that have been moved in the expect_many

 tests/twisted/test-location.py |    7 ++-----
 1 files changed, 2 insertions(+), 5 deletions(-)

commit 4aab18067da6f0d08f686a539f804defa693345b
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Tue Dec 30 12:45:18 2008 -0500

    Unneeded initialisation

 src/conn-location.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 1a6eef3b29fca6103c93184d6b6502fc64f891a7
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Tue Dec 30 12:41:07 2008 -0500

    Fix a comment

 src/presence-cache.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b40ced301716923af47669b41907b6b8c8ad8c44
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Tue Dec 30 12:35:32 2008 -0500

    TpHandle is a guint
    GUINT_TO_POINTER should be used

 src/presence-cache.c |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit 06525e71a46b8369eb8025e7e2718a601f03e424
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Tue Dec 30 12:30:40 2008 -0500

    Fix comments

 src/presence-cache.c |   13 +++++++------
 1 files changed, 7 insertions(+), 6 deletions(-)

commit 803054e9261f9c1221b0ec85d515f0c913bad8b9
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Tue Dec 30 12:26:18 2008 -0500

    Unref leaked msg

 src/conn-location.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 628d68417b717312e932b3ca19b9ef38c632b5e4
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Tue Dec 30 12:23:15 2008 -0500

    Move declaration to deepest block

 src/conn-location.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f5c0e47ae605397ddceb078e69d9289e38dea5e2
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Tue Dec 30 12:14:09 2008 -0500

    Add debug message for unsupported key

 src/conn-location.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit f7ff5e647cbc746f3d27c0233a5c45c9022f93af
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Tue Dec 30 12:09:25 2008 -0500

    lm_message_node_add_child already dup the key and value
    no need to dup it before

 src/conn-location.c |   14 ++++++--------
 1 files changed, 6 insertions(+), 8 deletions(-)

commit d008792fc3cb28e31cc76b471b633af7730ef443
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Dec 30 16:33:31 2008 +0000

    Location: don't free a non initialised variable

 src/conn-location.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8114afae2776a12bd4ea5e0744a7197b0dd1fe6b
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Dec 30 16:28:39 2008 +0000

    Location: Move the variable declaration near the block where they are used

 src/conn-location.c |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit 4b9756e0fbe2a73ae0d2e58891c923534b2ae155
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Dec 30 16:28:09 2008 +0000

    Location: fix compilation error (use of uninitialized variable)

 src/conn-location.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit fc64969e9d42382efdf73a56ecdc1ec127a495b0
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Tue Dec 30 01:02:44 2008 -0500

    Apply Alban's peer review comments

 src/conn-location.c            |   51 +++++++++------------------------------
 src/presence-cache.c           |   40 ++++++++++++++-----------------
 src/presence-cache.h           |    4 +-
 tests/twisted/test-location.py |    9 ++++--
 4 files changed, 38 insertions(+), 66 deletions(-)

commit 342de664db115177dc774bed13522c532c87f64c
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Fri Dec 12 14:01:28 2008 -0500

    Formating and hash changes

 src/presence-cache.c |   22 ++++++++++++++--------
 1 files changed, 14 insertions(+), 8 deletions(-)

commit 4b467e6b465652ba7f5ac8d3ff5cc5a798ab01cb
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Thu Dec 11 16:08:33 2008 -0500

    Support location event notifications

 src/conn-location.c |  156 ++++++++++++++++++++++++++++++---------------------
 src/conn-location.h |    4 +
 src/pubsub.c        |    2 +
 3 files changed, 99 insertions(+), 63 deletions(-)

commit 222f85dfcd3a934d2aad7a4791e4854dd8c1449c
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Wed Dec 10 17:15:50 2008 -0500

    Have capabilities announced

 src/capabilities.c  |    2 +-
 src/conn-location.c |    9 ++++++---
 src/types.h         |    1 +
 3 files changed, 8 insertions(+), 4 deletions(-)

commit 34ee1cb1a9dd284a743ee1a39a44acedf41aee5d
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Wed Dec 10 14:27:34 2008 -0500

    Support all fields

 src/conn-location.c |   49 +++++++++++++++++++++++++------------------------
 1 files changed, 25 insertions(+), 24 deletions(-)

commit 0d9fda1e4f9df262a74eb9ca34552068d2db960f
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Wed Dec 10 12:07:40 2008 -0500

    More debug

 src/conn-location.c |   13 ++++++++++++-
 1 files changed, 12 insertions(+), 1 deletions(-)

commit df611f35a075f622c59cca1c35862194ede1a2c6
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Tue Dec 9 14:29:49 2008 -0500

    Remove previous location before adding new location

 src/presence-cache.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 014c9500d47cde7e43529c21eefcb5a5ed873c2b
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Fri Dec 5 17:21:08 2008 -0500

    Add error return

 src/conn-location.c |    9 +++++++--
 1 files changed, 7 insertions(+), 2 deletions(-)

commit bfdd8af01492ba234b172bd17220860b46595190
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Fri Dec 5 16:22:01 2008 -0500

    Improve tests

 tests/twisted/test-location.py |   26 ++++++++++++++++++--------
 1 files changed, 18 insertions(+), 8 deletions(-)

commit fc23097e2cc0668fd3ab3730c533d97e107766b8
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Fri Dec 5 16:21:55 2008 -0500

    Implement cache check

 src/conn-location.c |  103 +++++++++++++++++++++++++++++++++-----------------
 1 files changed, 68 insertions(+), 35 deletions(-)

commit 53b6222888cea80498f198ebd9faf28fd352e8c8
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Thu Dec 4 16:51:46 2008 -0500

    Advertise geoloc capability

 src/capabilities.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit dbce6440c5b1cf5ee5835324009652b050211c2d
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Thu Dec 4 16:15:10 2008 -0500

    Add location to PresenceCache

 src/presence-cache.c |   61 ++++++++++++++++++++++++++++++++++++++++++++++++-
 src/presence-cache.h |    5 ++++
 2 files changed, 64 insertions(+), 2 deletions(-)

commit 331b15309b02a6bef28f409333f81d236892a69d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Nov 26 17:24:21 2008 +0000

    Location: Fix property G_TYPE

 src/conn-location.c |   25 ++++++++++++++++---------
 1 files changed, 16 insertions(+), 9 deletions(-)

commit a479f1f8e02b88c10fcda3772555186323f21006
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Nov 21 23:03:40 2008 +0000

    Location: Test: check that the D-Bus properties are implemented

 tests/twisted/test-location.py |   13 ++++++++++++-
 1 files changed, 12 insertions(+), 1 deletions(-)

commit 8588c3335c5a5620dc07339e62592100060c26ec
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Nov 21 23:02:13 2008 +0000

    Location: Try to implement D-Bus properties of the Location interface

 src/conn-location.c |   47 +++++++++++++++++++++++++++++++++++++++++++++++
 src/conn-location.h |    6 ++++--
 src/connection.c    |   10 ++++++++++
 3 files changed, 61 insertions(+), 2 deletions(-)

commit 5cab4862f2930940eea28bf23c2405c4fdd392a9
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Nov 21 23:01:38 2008 +0000

    Location: add debugs for the geolocation

 src/debug.c |    1 +
 src/debug.h |    1 +
 2 files changed, 2 insertions(+), 0 deletions(-)

commit e9d0024f7caaa6ac59961c79ffe81853eb922480
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Nov 21 20:43:53 2008 +0000

    Location: add spec Connection.Interface.Presence in extensions/ for Rich_Presence_Access_Control_Type

 extensions/Connection_Interface_Presence.xml |  448 ++++++++++++++++++++++++++
 extensions/Makefile.am                       |    1 +
 extensions/all.xml                           |   17 +
 3 files changed, 466 insertions(+), 0 deletions(-)

commit 6137db4da275bbce4560263e865cf62f893e3df1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Nov 19 01:49:15 2008 +0000

    Location: Update the twisted test with the new spec

 tests/twisted/test-location.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit ecaaa6fdcc718b0514653045d25ad7e11aa15052
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Nov 19 01:46:18 2008 +0000

    Location: Update code to the new spec

 src/conn-location.c |   14 ++++++++------
 src/connection.c    |    5 +++--
 2 files changed, 11 insertions(+), 8 deletions(-)

commit df58a6d6939dc555cf4a3487e1f6bc540078c97d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Nov 19 01:33:46 2008 +0000

    Location: Update to the new spec

 extensions/Connection_Interface_Location.xml |  330 ++++++++++++++++++++++++
 extensions/Location.xml                      |  352 --------------------------
 extensions/Makefile.am                       |    1 +
 extensions/all.xml                           |    1 +
 4 files changed, 332 insertions(+), 352 deletions(-)

commit d6d3f407f5fd84669dd111967fcb4a979291dfab
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Sun Oct 12 15:24:35 2008 -0400

    Fix the test for geoloc

 tests/twisted/test-location.py |    8 +++-----
 1 files changed, 3 insertions(+), 5 deletions(-)

commit 3626b8f048b4659e32259cb9625a03b89e1d3284
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Sun Oct 12 15:24:05 2008 -0400

    Add test-location.py in Makefile.am

 tests/twisted/Makefile.am |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 06e4f96e78929e8211f4e032b4b77e77e9919b22
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Sun Oct 12 14:53:44 2008 -0400

    Move test to tests/twisted

 tests/test-location.py         |   46 ----------------------------------------
 tests/twisted/test-location.py |   46 ++++++++++++++++++++++++++++++++++++++++
 2 files changed, 46 insertions(+), 46 deletions(-)

commit 29127cc55758d3667042da8e70796a94ac6048f2
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Sun Oct 12 13:13:44 2008 -0400

    Initialise GError

 src/conn-location.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7339d105c763e92c9d04e6735b023054c2dd845d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Sun Oct 12 13:12:45 2008 -0400

    define namespace NS_GEOLOC

 src/namespaces.h |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 67cc7d226425b4714ce5436df6709320f17daf56
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Sun Oct 12 13:12:32 2008 -0400

    Let the node be Location for now

 extensions/Location.xml |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ee94747bac6d94af056b6b2fffc987f7e83661f9
Author: Dafydd Harries <daf@rhydd.org>
Date:   Sun Oct 12 18:03:17 2008 +0100

    commit initial location interface implemenation

 src/Makefile.am        |    2 +
 src/conn-location.c    |  237 ++++++++++++++++++++++++++++++++++++++++++++++++
 src/conn-location.h    |   14 +++
 src/connection.c       |    5 +-
 tests/test-location.py |   46 +++++++++
 5 files changed, 303 insertions(+), 1 deletions(-)

commit 809f8af833d90ca4f2279715c85f38cb2e12c00f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Sun Oct 12 12:57:05 2008 -0400

    Add new types in extensions/ for localisation

 extensions/all.xml |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit c84f3352f958eac4d4c2d967731ebc14365b9e14
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Sun Oct 12 12:51:16 2008 -0400

    Update extensions/Location.xml from tp-spec

 extensions/Location.xml |   20 ++++++++------------
 1 files changed, 8 insertions(+), 12 deletions(-)

commit bdbb0f778764684a0f40ce2cc0c0b978b929d209
Author: Dafydd Harries <daf@rhydd.org>
Date:   Sun Oct 12 17:22:13 2008 +0100

    add draft location API as an extension

 extensions/Location.xml |  356 +++++++++++++++++++++++++++++++++++++++++++++++
 extensions/all.xml      |    3 +
 2 files changed, 359 insertions(+), 0 deletions(-)

commit c4a77a1a35de1baa0fb8b50469f3aa94dddc6fba
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Sat Jan 31 10:42:21 2009 +0000

    Tests: use dbus.PROPERTIES_IFACE instead of hardcoded string

 tests/twisted/jingle/test-incoming-call-reject.py  |    2 +-
 tests/twisted/jingle/test-incoming-call.py         |    2 +-
 .../jingle/test-outgoing-call-deprecated.py        |    2 +-
 .../jingle/test-outgoing-call-deprecated2.py       |    2 +-
 .../jingle/test-outgoing-call-requestotron.py      |    4 +-
 tests/twisted/jingle/test-outgoing-call.py         |    4 +-
 tests/twisted/muc/roomlist.py                      |    8 +++---
 tests/twisted/muc/test-muc-invitation.py           |    2 +-
 tests/twisted/muc/test-muc-ownership.py            |    2 +-
 tests/twisted/muc/test-muc.py                      |    4 +-
 tests/twisted/olpc/gadget-publish.py               |    4 +-
 tests/twisted/olpc/olpc-activity-search.py         |   18 +++++++-------
 tests/twisted/olpc/olpc-buddy-search.py            |   16 ++++++------
 tests/twisted/olpc/view-presence.py                |    2 +-
 tests/twisted/roster/groups.py                     |    2 +-
 tests/twisted/roster/test-roster.py                |    4 +-
 tests/twisted/text/destroy.py                      |    2 +-
 tests/twisted/text/ensure.py                       |    6 ++--
 tests/twisted/text/initiate-requestotron.py        |    4 +-
 tests/twisted/text/initiate.py                     |    2 +-
 tests/twisted/text/respawn.py                      |    4 +-
 tests/twisted/text/test-text.py                    |    2 +-
 tests/twisted/tubes/accept-muc-stream-tube-ibb.py  |    2 +-
 tests/twisted/tubes/close-muc-with-closed-tube.py  |    2 +-
 tests/twisted/tubes/ensure-si-tube.py              |    2 +-
 ...offer-accept-private-dbus-stream-tube-socks5.py |   24 ++++++++++----------
 tests/twisted/tubes/offer-muc-dbus-tube.py         |    4 +-
 27 files changed, 66 insertions(+), 66 deletions(-)

commit 2947281c1efb1dcdb9a294a6c218a1fd074eba3c
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Jan 29 16:44:16 2009 +0100

    jingle/test-outgoing-call.py: assert that we've ended the call

 tests/twisted/jingle/test-outgoing-call.py |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit d28487e51b0dfa3dd763ee88ddd162182a75ff41
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Jan 29 16:43:37 2009 +0100

    JingleSession: properly set actor when terminating the session

 src/jingle-session.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit b641b75ebbfd9d86f984a27dc4cbdd75243edc3a
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Jan 29 14:20:51 2009 +0100

    conn-presence.c: disallow setting offline/error/unknown statuses, but don't hide it in GetStatuses()

 src/conn-presence.c |   17 +++++++++++------
 1 files changed, 11 insertions(+), 6 deletions(-)

commit 1ddd21aa431a61bf7df86c0567b55aa4f70a7e85
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jan 29 12:18:48 2009 +0000

    start dev of 0.7.19.1

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 272b70daae6f67bd800d2e8136f01a9f94951e88
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jan 29 11:29:36 2009 +0000

    version 0.7.19

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit a290dbc66172242f8f86f990ba1a91c24e407b3c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jan 29 11:18:56 2009 +0000

    update NEWS for 0.7.19

 NEWS |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit fca5346c8aadd821bb7fb19e0f4161a219dd39f6
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Jan 29 12:49:27 2009 +0100

    conn-presence: check that we allow setting a particular status

 src/conn-presence.c |    9 +++++++--
 1 files changed, 7 insertions(+), 2 deletions(-)

commit 08188078675c3e05fb04fe7242197cce86a64b48
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Jan 29 12:58:49 2009 +0100

    NEWS: mentioned refcount leak and offline presence crash fixes

 NEWS |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 1ff8f2c9cb521d9774a079afc783b462d32cbf30
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jan 29 10:52:53 2009 +0000

    NEWS: dev.sugarlabs.org #60 have been fixed by f91276ededfc019421000b4975b2da010aa96e2c

 NEWS |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit e808784effcfd8b8cca23056a937f5f2ed3094cb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jan 29 10:39:42 2009 +0000

    remove trailing space in NEWS

 NEWS |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 94508ccf3736e2e940b94efebb3918e3cb9b64fa
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Jan 28 10:20:16 2009 +0100

    JingleMediaRTP: remove session refcount leak

 src/jingle-media-rtp.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ae77c2f5c3713e38c91d1cd9daffaac1d82f273e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 17:09:28 2009 +0000

    rename TUBE_STATUS to TUBE_STATE

 tests/twisted/constants.py                         |    2 +-
 .../offer-accept-private-dbus-stream-tube-ibb.py   |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit b0ef17f22c153c8bd1b11acee259fbac06b652e3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 16:51:09 2009 +0000

    offer-accept-private-dbus-stream-tube-socks5.py: Status property has been renamed to State

 ...offer-accept-private-dbus-stream-tube-socks5.py |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 621ed5abf8498e214c77e3f17aeb14c47baffac5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 16:50:41 2009 +0000

    offer-accept-private-dbus-stream-tube-ibb.py: Status property has been renamed to State

 .../offer-accept-private-dbus-stream-tube-ibb.py   |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit ecdddd7f33ba4b1c4ecb754c8f9a6fbf3c490eb7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 16:50:17 2009 +0000

    gabble_tube_stream_class_init: Status property has been renamed to State

 src/tube-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f42c29aed06d8a012d1d73b79fa75a672f3698fa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 16:49:54 2009 +0000

    sync tube new API draft with tp-spec master

 extensions/Channel_Interface_Tube.xml   |   12 ++--
 extensions/Channel_Type_DBus_Tube.xml   |  102 +++++++++++--------------------
 extensions/Channel_Type_Stream_Tube.xml |    4 +-
 3 files changed, 45 insertions(+), 73 deletions(-)

commit 99b62587dffb2893812518a7b4065657d62a0528
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 27 16:43:12 2009 +0000

    all.xml: add DBus_Unique_Name external type

 extensions/all.xml |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 466d428a8ad82d1a2c1ee8cd9ceb7ce3f2b9d064
Merge: 77db359 04891ac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 27 14:12:08 2009 +0000

    Merge branch 'invalidhandle'
    
    Signed-off-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 77db35924d2da9aab1ce58799494da8b417fe1bc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Jan 22 15:40:28 2009 +1100

    Don't include dtubes in tubes_foreach_channel.

 src/tubes-channel.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 78350203d8d85fbf080a8a012383a32689519f47
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Jan 21 18:26:16 2009 +1100

    Add a test for ListChannels() crashing given a dtube

 tests/twisted/Makefile.am                     |    1 +
 tests/twisted/tubes/crash-on-list-channels.py |   67 +++++++++++++++++++++++++
 2 files changed, 68 insertions(+), 0 deletions(-)

commit 9f8be82197d77a3d46e4d155e67bb3c9f8f9a516
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 20 19:14:43 2009 +0000

    Document how to run tests with coverage
    
    Also correct the instruction to run "make check-all" - the Twisted tests
    haven't required that for a long time.

 tests/README |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit d07743ba9fc04869f9831da5ef237727e426f59b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 20 19:03:26 2009 +0000

    gabbletest: don't wait for Gabble to exit
    
    with-session-bus.sh will now do this if using refdbg, which means that
    individual tests shouldn't need to.

 tests/twisted/gabbletest.py |    5 -----
 1 files changed, 0 insertions(+), 5 deletions(-)

commit 978f93ba348ef3b472edc7f3e3c6d60c8b44c951
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 20 19:00:46 2009 +0000

    Insert "wait for exit" in a way that only enables it when using lcov or refdbg
    
    Based on comments from Guillaume.

 Makefile.am               |    2 ++
 tests/twisted/Makefile.am |   10 +++++++++-
 tools/lcov.am             |    2 +-
 3 files changed, 12 insertions(+), 2 deletions(-)

commit 9842081653c93831bf509d2954b6cc99a63b3a52
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 20 18:04:58 2009 +0000

    Use compiler.m4 (from Aranha via telepathy-glib) to control coverage/optimizations

 configure.ac              |   12 ++------
 m4/Makefile.am            |    3 +-
 m4/compiler.m4            |   67 +++++++++++++++++++++++++++++++++++++++++++++
 src/Makefile.am           |    2 +-
 tests/Makefile.am         |    2 +-
 tests/twisted/Makefile.am |    2 +-
 6 files changed, 75 insertions(+), 13 deletions(-)

commit 2f9f04960e8acc42e2f58a1fd7c39116ed36db91
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 16 10:49:47 2009 +0000

    tests/twisted: after tests, sleep long enough for Gabble to exit cleanly
    
    If libdbus calls _exit() as a result of being disconnected from the session
    bus, Gabble won't write out coverage data. Libraries exiting
    considered harmful, etc.
    
    This doesn't slow tests down very much in practice, since we only invoke
    with-session-bus.sh once for the entire twisted directory.
    
    (This change requires copying in a newer with-session-bus.sh from
    telepathy-glib)

 tests/twisted/Makefile.am               |    5 ++++-
 tests/twisted/tools/with-session-bus.sh |   10 ++++++++++
 2 files changed, 14 insertions(+), 1 deletions(-)

commit fb8a53ca392f276739a92de0b88727b262c7cca9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 16 10:47:39 2009 +0000

    Add LCOV machinery

 .gitignore        |    4 ++++
 Makefile.am       |    1 +
 tools/Makefile.am |    1 +
 tools/lcov.am     |   24 ++++++++++++++++++++++++
 4 files changed, 30 insertions(+), 0 deletions(-)

commit e9617286b23c53c21391640b329dd28352f20dff
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 16 10:46:15 2009 +0000

    .gitignore: anchor paths at root of tree where appropriate

 .gitignore |  112 ++++++++++++++++++++++++++++++------------------------------
 1 files changed, 56 insertions(+), 56 deletions(-)

commit 85289b08f621bb3fbe39a76b834c39955ef9a1e5
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Jan 20 13:28:18 2009 +0100

    Add reference to the fixed fd.o bug #19524 to test and NEWS.

 NEWS                                              |    1 +
 tests/twisted/roster/test-roster-item-deletion.py |    2 +-
 2 files changed, 2 insertions(+), 1 deletions(-)

commit a4d1c64325b6a221f6d0f2b81d7b2cb3e52196d9
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Jan 20 12:36:49 2009 +0100

    roster.c: explain the handle ref for roster_edited_cb

 src/roster.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 81be6cd099b5159dcfe9f2dc8c86f8e434324473
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Jan 20 11:57:19 2009 +0100

    test roster handle reffing by deleting roster items

 tests/twisted/Makefile.am                         |    1 +
 tests/twisted/roster/test-roster-item-deletion.py |   68 +++++++++++++++++++++
 2 files changed, 69 insertions(+), 0 deletions(-)

commit d172f1b96de42da64fec4a0bd81af40166aee879
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Jan 20 11:49:26 2009 +0100

    roster.c: ref handles expected to be valid in later roster edit callback

 src/roster.c |   13 +++++++++++++
 1 files changed, 13 insertions(+), 0 deletions(-)

commit 3ea6c9e0af2aed0ca38b9d4d38974db42caf42ba
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Jan 20 13:08:10 2009 +0100

    I accidentially the fd.o#

 NEWS                                               |    3 ++-
 .../twisted/jingle/test-content-adding-removal.py  |    5 +----
 2 files changed, 3 insertions(+), 5 deletions(-)

commit 1e243c01bade3476aff4c54e95a98a8d23fbe6d0
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Jan 20 12:27:05 2009 +0100

    fix typo in NEWS

 NEWS |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 5de6335beecaa3d07b23aaaba946f706d571b845
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Jan 20 12:24:20 2009 +0100

    test-content-adding-removal.py: use constants instead of hardcoded numbers

 tests/twisted/constants.py                         |    7 +++++++
 .../twisted/jingle/test-content-adding-removal.py  |   13 +++++++------
 2 files changed, 14 insertions(+), 6 deletions(-)

commit 5101ef3d36d30161382474e492189a67e98ac057
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Jan 20 12:13:17 2009 +0100

    add reference to fixed fd.o#19327 to NEWS and test source

 NEWS                                               |    2 ++
 .../twisted/jingle/test-content-adding-removal.py  |    7 ++++++-
 2 files changed, 8 insertions(+), 1 deletions(-)

commit 8f00ca50a5d7b5e1624b4ed51fdc8c22664b3a7b
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Jan 20 12:06:17 2009 +0100

    jingletest.py: refactor create_content_node helper as a standalone method

 tests/twisted/jingle/jingletest.py |   40 +++++++++++++++++------------------
 1 files changed, 19 insertions(+), 21 deletions(-)

commit a0eb85790ca784e02f34699de1c4b856120e9503
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Jan 20 09:41:56 2009 +0100

    JingleSession: ignore session-accept accepting streams we're in the middle of removing

 src/jingle-session.c                               |    9 ++++
 tests/twisted/jingle/jingletest.py                 |   44 ++++++++++++--------
 .../twisted/jingle/test-content-adding-removal.py  |   32 ++++++++++++--
 3 files changed, 62 insertions(+), 23 deletions(-)

commit 04891ac23408b733abf3a8bbb2fae4bfa053036e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 16 16:42:56 2009 +0000

    gabble_normalize_room, gabble_normalize_contact: use InvalidHandle for errors
    
    As per recent spec changes.

 src/util.c |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit 30d6b4d417ee2b437be26e4bc2c8a3b69d79263a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jan 16 10:47:59 2009 +0000

    Connection_Interface_Contact_Capabilities.xml: update to latest draft

 .../Connection_Interface_Contact_Capabilities.xml  |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 107f86c8c20c4d7cc4c81db464ac20607bb31ba9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jan 16 11:03:07 2009 +0000

    add DBusTube constants to constants.py

 tests/twisted/constants.py |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 9e4ea552da65f72d45d287c66efcfb646f6ed61f
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Jan 13 23:23:15 2009 +0100

    JingleSession: fix signature for new-content signal

 src/jingle-session.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 0744fcf53db7e8345a194aadc22a389c20c7ef0d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jan 13 17:32:04 2009 +0000

    Fix a race between two expects by combining them.

 .../offer-accept-private-dbus-stream-tube-ibb.py   |   11 ++++++-----
 1 files changed, 6 insertions(+), 5 deletions(-)

commit ddaeb5abcf9f997af534c898e2c8cea7c2934c94
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jan 13 16:49:39 2009 +0000

    Remove .DRAFT from Message iface in tests

 tests/twisted/muc/send-error.py |    2 +-
 tests/twisted/muc/test-muc.py   |    4 ++--
 tests/twisted/text/test-text.py |    4 ++--
 3 files changed, 5 insertions(+), 5 deletions(-)

commit f6786019aabeabf6e3ed0d1fb52c480f317bba80
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jan 13 16:44:02 2009 +0000

    Remove an unused variable, simplifying logic

 src/muc-factory.c |    5 +----
 1 files changed, 1 insertions(+), 4 deletions(-)

commit ce849f046596f0c71c4e593454858cc4ac8b83e0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 13 15:47:13 2009 +0000

    offer-accept-private-dbus-stream-tube-ibb.py: use constants.py

 .../offer-accept-private-dbus-stream-tube-ibb.py   |  206 ++++++++------------
 1 files changed, 78 insertions(+), 128 deletions(-)

commit 41024c3fd93e149107206c6a0248dd5d5917bf8b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 13 15:46:41 2009 +0000

    add more constants

 tests/twisted/constants.py |   14 ++++++++++++++
 1 files changed, 14 insertions(+), 0 deletions(-)

commit b568b7d4922912efad0d46bdbfb389250b57c1f9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 13 15:11:56 2009 +0000

    steal constants.py from Salut

 tests/twisted/Makefile.am  |    1 +
 tests/twisted/constants.py |   22 ++++++++++++++++++++++
 2 files changed, 23 insertions(+), 0 deletions(-)

commit 2ae9df616988280be61a32def01d56a67f1546c8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Jan 13 14:51:58 2009 +0000

    Add a missing word in a comment

 src/muc-channel.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 08a8e3114ddf350394192654a909b674828befc1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 13 12:46:40 2009 +0000

    offer-accept-private-dbus-stream-tube-ibb: make test clearer and fix properties checking

 .../offer-accept-private-dbus-stream-tube-ibb.py   |   79 +++++++++++---------
 1 files changed, 44 insertions(+), 35 deletions(-)

commit 46b1857350a84a99c2811a94f9bf0215c9ee5cb3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 13 12:46:01 2009 +0000

    Status and Parameters don't have to be in channel-properties as they are mutables

 src/tube-stream.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 4079187646daa61107e5485dd9bfba4a2393ae80
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 13 10:54:11 2009 +0000

    offer-muc-stream-tube-ibb: remove commented code and explain why we can't catch NewChannel signal anymore

 tests/twisted/tubes/offer-muc-stream-tube-ibb.py |    9 +++------
 1 files changed, 3 insertions(+), 6 deletions(-)

commit bf1a7c4f622612945142eb50873aa9e903bff132
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 12 17:43:28 2009 +0000

    offer-muc-stream-tube-ibb: text and tubes channels are now announced together

 tests/twisted/tubes/offer-muc-stream-tube-ibb.py |   84 ++++++++++------------
 1 files changed, 39 insertions(+), 45 deletions(-)

commit 77a39c58a6a7ebeadd8001be8abc754b5bf746e6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 12 17:43:02 2009 +0000

    test-get-available-tubes.py: check that the tubes and text channels are announced together

 tests/twisted/tubes/test-get-available-tubes.py |   12 ++++++++----
 1 files changed, 8 insertions(+), 4 deletions(-)

commit d5866e5817f1f284708badbcddd7656281d53aaf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 12 17:42:33 2009 +0000

    announce tubes and text channels together when the text one was created as a side effect of the tubes request

 src/muc-factory.c |   72 ++++++++++++++++++++++++++++++++++++----------------
 1 files changed, 50 insertions(+), 22 deletions(-)

commit a199cb4fddf8e4087bfb3aded73953346bea839c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 12 16:37:50 2009 +0000

    gabble_muc_factory_request: use tp_channel_manager_emit_new_channel directly instead of gabble_muc_factory_associate_request when announcing a newly created tubes channel

 src/muc-factory.c |   10 ++++++----
 1 files changed, 6 insertions(+), 4 deletions(-)

commit 39863df3228568e13a4644090f8e5e601a392727
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 12 16:34:30 2009 +0000

    muc_factory_presence_cb: use tp_channel_manager_emit_new_channel directly instead of gabble_muc_factory_emit_new_channel as the text channel was already announced as ready so there is no pending queued requests associated with it

 src/muc-factory.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 05d2b2a90d4931ebfa9a13a8d7064649af174083
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 12 15:09:10 2009 +0000

    muc-factory: factor out ensure_tubes_channel

 src/muc-factory.c |   32 ++++++++++++++++++++++++--------
 1 files changed, 24 insertions(+), 8 deletions(-)

commit 78089c134ee40cea745e1389dfa25dc00b26259c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 12 13:07:53 2009 +0000

    tubes test have been renamed to {offer,accept}-{muc,private}-{dbus,stream}-tube-{streaming_method}.py

 tests/twisted/Makefile.am |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit 9f2b4375f0fa8c77189dbd611772dd691294417d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 12 13:06:51 2009 +0000

    rename test-muc-offer-stream-tube-ibb.py to offer-muc-stream-tube-ibb.py

 tests/twisted/tubes/offer-muc-stream-tube-ibb.py   |  307 ++++++++++++++++++++
 .../tubes/test-muc-offer-stream-tube-ibb.py        |  307 --------------------
 2 files changed, 307 insertions(+), 307 deletions(-)

commit bb20ccb6483b123e888654cbe0239fee3263a7ea
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 12 13:06:27 2009 +0000

    rename test-muc-offer-dbus-tube.py to offer-muc-dbus-tube.py

 tests/twisted/tubes/offer-muc-dbus-tube.py      |  188 +++++++++++++++++++++++
 tests/twisted/tubes/test-muc-offer-dbus-tube.py |  188 -----------------------
 2 files changed, 188 insertions(+), 188 deletions(-)

commit c411de3a24840ca7c427eb3398a47d147d495d80
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 12 13:06:10 2009 +0000

    rename test-si-fallback.py to offer-accept-private-stream-tube-si-fallback.py

 ...offer-accept-private-stream-tube-si-fallback.py |  355 ++++++++++++++++++++
 tests/twisted/tubes/test-si-fallback.py            |  355 --------------------
 2 files changed, 355 insertions(+), 355 deletions(-)

commit 85d81694da1fc0b96049c185e4fac0ebbca73d05
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 12 13:05:48 2009 +0000

    rename test-si-socks5-tubes.py to offer-accept-private-dbus-stream-tube-socks5.py

 ...offer-accept-private-dbus-stream-tube-socks5.py |  989 ++++++++++++++++++++
 tests/twisted/tubes/test-si-socks5-tubes.py        |  989 --------------------
 2 files changed, 989 insertions(+), 989 deletions(-)

commit 8fa410954a943b7a9b128b2151266c6c3e6f2d50
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 12 13:05:30 2009 +0000

    rename test-si-ibb-tubes.py to offer-accept-private-dbus-stream-tube-ibb.py

 .../offer-accept-private-dbus-stream-tube-ibb.py   |  949 ++++++++++++++++++++
 tests/twisted/tubes/test-si-ibb-tubes.py           |  949 --------------------
 2 files changed, 949 insertions(+), 949 deletions(-)

commit 3f49c96fb2a4707929d885423ebce64f275f7ca6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 12 13:05:09 2009 +0000

    rename test-si-accept-tubes.py to accept-private-stream-tube.py

 tests/twisted/tubes/accept-private-stream-tube.py |  271 +++++++++++++++++++++
 tests/twisted/tubes/test-si-accept-tubes.py       |  271 ---------------------
 2 files changed, 271 insertions(+), 271 deletions(-)

commit 2a4bac2b6aace43e6834ee2983f7dd5103927396
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 12 13:04:45 2009 +0000

    rename test-muc-accept-stream-tube-ibb.py to accept-muc-stream-tube-ibb.py

 tests/twisted/tubes/accept-muc-stream-tube-ibb.py  |  251 ++++++++++++++++++++
 .../tubes/test-muc-accept-stream-tube-ibb.py       |  251 --------------------
 2 files changed, 251 insertions(+), 251 deletions(-)

commit baf1c2c2fca49da839ff5fd6bdaa3455ace2806b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 12 12:46:01 2009 +0000

    tube-dbus: fix tube-offered signal definition

 src/tube-dbus.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ed1b6eb223dcb3c53f51aa0f5d5ee46f4f79e1e1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 12 12:31:16 2009 +0000

    test if the NewTube signal is correcty fired when using the new API

 tests/twisted/tubes/test-si-ibb-tubes.py |   22 ++++++++++++++++++----
 1 files changed, 18 insertions(+), 4 deletions(-)

commit 045715e20539ce9ee895b3460c44456d8f6b73db
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 12 12:30:51 2009 +0000

    tubes-channel: delay the NewTube signal until the tube has been offered as the old API doesn't have a not-offered state

 src/tubes-channel.c |   54 ++++++++++++++++++++++++++++++++++++++++++++------
 1 files changed, 47 insertions(+), 7 deletions(-)

commit 0f97ab149383d0523f3e3581551069e29a1d8508
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 12 12:29:58 2009 +0000

    tube-dbus: add tube-offered signal

 src/tube-dbus.c |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit e49d12d948e1a7edcef5b5816ce1e651a5d74f8d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 12 12:29:37 2009 +0000

    tube-stream: add tube-offered signal

 src/tube-stream.c |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit 11402119593d7731b74d8fe5c4f580156d4a8464
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 12 11:47:03 2009 +0000

    private-tubes-factory: rename priv->channels to priv->tubes_channels

 src/private-tubes-factory.c |   32 ++++++++++++++++----------------
 1 files changed, 16 insertions(+), 16 deletions(-)

commit 6e950160d75316b0d9f095dd0acd3234e18ebbb7
Merge: 77d9d39 5166e88
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 12 11:14:30 2009 +0000

    Merge branch 'master' into old-new-tube-api

commit 77d9d3951dad2d5b9a8b5ab89e54cf9a04ef09ab
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 12 11:12:03 2009 +0000

    test-si-ibb-tubes.py: check if the tube newly created channel is properly announced when we create a tube using the old API

 tests/twisted/tubes/test-si-ibb-tubes.py |   17 +++++++++++++++++
 1 files changed, 17 insertions(+), 0 deletions(-)

commit d0c10f979a0a4c1ca68a27b20b5673d43a50847a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 12 11:11:22 2009 +0000

    test-si-ibb-tubes.py: some cleaning

 tests/twisted/tubes/test-si-ibb-tubes.py |   34 +++++++++++++++++------------
 1 files changed, 20 insertions(+), 14 deletions(-)

commit b050a5f296358227178b44b2fae79e0517accf69
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 12 11:08:24 2009 +0000

    gabble_tubes_channel_offer_stream_tube: announce the newly created tube channel

 src/tubes-channel.c |   14 ++++++++++++++
 1 files changed, 14 insertions(+), 0 deletions(-)

commit 8f939a931e1aac22541d02a5d064207a21dfda62
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 12 11:07:03 2009 +0000

    add gabble_private_tubes_factory_tube_created

 src/private-tubes-factory.c |    6 ++++++
 src/private-tubes-factory.h |    3 +++
 2 files changed, 9 insertions(+), 0 deletions(-)

commit 5166e88ed1bc112ef8ec8f2ee6d425aba836da93
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Sat Jan 10 18:49:47 2009 +0000

    src/jingle-factory.c: fix leaks in lm stanza

 src/jingle-factory.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 83d0aedefdcc706fbefa909a311c192cbe30c115
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jan 9 15:54:51 2009 +0000

    test-si-ibb-tubes.py; check Status and Parameters

 tests/twisted/tubes/test-si-ibb-tubes.py |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 4b06bbc0522d2a94114274c352e93577561777ab
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jan 9 15:54:14 2009 +0000

    tube-stream: add Status and Parameters to channel properties

 src/tube-stream.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit af2f8a6ad3bd6ead1f55c40dfd05a0c8ba2ba99f
Merge: c8b4411 25e7835
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jan 7 16:32:00 2009 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble

commit c8b441130841e933e94fd9de503f78572e3e595e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jan 7 16:31:19 2009 +0000

    start NEWS for the future release

 NEWS |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit f91276ededfc019421000b4975b2da010aa96e2c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jan 7 16:12:27 2009 +0000

    gabble_bytestream_muc_set_property: g_signal_emit_by_name doesn't take a 0 argument

 src/bytestream-muc.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 64578362aaecf7354169a746c567cd383eb39d8d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jan 7 16:12:03 2009 +0000

    add tubes/close-muc-with-closed-tube.py to test suite

 tests/twisted/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 9f33791d66f4ff26806402d4a21c5b84fcaa7aa0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jan 7 16:11:49 2009 +0000

    add tubes/close-muc-with-closed-tube.py

 tests/twisted/tubes/close-muc-with-closed-tube.py |  176 +++++++++++++++++++++
 1 files changed, 176 insertions(+), 0 deletions(-)

commit 25e7835581b2b41bf1450dce474692867e327084
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Jan 7 15:17:56 2009 +0000

    Add a random id to the stream opening instead of assuming buggy clients

 tests/twisted/gabbletest.py |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 3c4ebd31daa7c45bfde2de00a097ea5be472149c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Jan 7 11:44:17 2009 +0000

    Don't define things as const that aren't

 src/bytestream-multiple.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ad29c2480ddd5dad97a9de183231797dde2be1c0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Jan 7 11:43:44 2009 +0000

    Don't free a GList using g_slist_free

 src/bytestream-multiple.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 5d648757a2308868cff981fc4f63199339d63cc2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 6 18:18:36 2009 +0000

    version 0.7.18

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 124c9cf28caf9b7b55c4b7eee297b53afd28e729
Merge: 79425e0 102b010
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 6 18:11:25 2009 +0000

    Merge branch 'release'

commit 79425e02137a3290936035d56c6bba81bb868cc7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 6 18:01:01 2009 +0000

    add tubes/muctubeutil.py to EXTRA_DIST

 tests/twisted/Makefile.am |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 056f91cf6fedb18245f83ec426ccccf020ad8ca9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 6 17:57:41 2009 +0000

    gibber-debug.c: build if debug is disabled

 lib/gibber/gibber-debug.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 102b01051881fac40eaeb944da238e2d699a5b41
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 6 17:16:53 2009 +0000

    version 0.7.18

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 04231a846971875afef25b3e5b6cb339bfae182e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 6 17:31:29 2009 +0000

    upgrade NEWS for 0.7.18

 NEWS |   19 +++++++++++++++++++
 1 files changed, 19 insertions(+), 0 deletions(-)

commit 7e25a5f61b224e1de75defbf8483963427d2547c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 6 17:15:41 2009 +0000

    disable test-dialects-outgoing.py for now as it's broken

 tests/twisted/jingle/test-dialects-outgoing.py |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit b3159304a020201243544ead062b0af4814d70dd
Merge: 1b9abbd 5d48b18
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 6 16:38:42 2009 +0000

    Merge branch 'bytestream-multi'

commit 1b9abbdcb5190ec36e01da1d20cd0adbd6971c2c
Merge: ed7a13c bf3c983
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jan 6 16:38:25 2009 +0000

    Merge branch 'sock5'

commit ed7a13c4b2aee6631b174ad1377b7655f9c8e48b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 5 17:39:44 2009 +0000

    gabble_bytestream_muc_receive: signal is data-received not data-receied

 src/bytestream-muc.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 5d48b181343776c08f27cf5398ada9d33210d731
Merge: 4e0cdcc bf3c983
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 5 11:50:39 2009 +0000

    Merge branch 'sock5' into bytestream-multi

commit bf3c9830c5c2c670dec74b7945e5a8a287a52ef0
Merge: f7b0320 19d44d8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 5 11:03:43 2009 +0000

    Merge branch 'master' into sock5

commit 19d44d84b4b327cb6d9b10317aa0b31c129225b8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Dec 29 15:53:50 2008 +0000

    Don't crash on setting presence if there are open MUC Tubes
    
    The previous code iterated across all channels managed by
    GabbleMucFactory and cast them to GabbleMucChannel; if there are open
    tubes, the cast is invalid for them.

 src/connection.c  |    5 +----
 src/muc-factory.c |   17 +++++++++++++++++
 src/muc-factory.h |    2 ++
 3 files changed, 20 insertions(+), 4 deletions(-)

commit d4f07700fff255178e6f0e3f587e2be5573defe2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Dec 25 11:15:58 2008 +0000

    Regression test: don't crash when setting presence with open MUC Tubes

 tests/twisted/Makefile.am           |    1 +
 tests/twisted/tubes/muc-presence.py |   27 +++++++++++++++++++++++++++
 2 files changed, 28 insertions(+), 0 deletions(-)

commit 02a8e024f401bee8aa1d0b7cee96a61d2258508a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Dec 25 11:04:16 2008 +0000

    tests/twisted/tubes: extract "get MUC Tubes" boilerplate

 tests/twisted/tubes/muctubeutil.py              |   68 +++++++++++++++++++++++
 tests/twisted/tubes/test-muc-offer-dbus-tube.py |   56 +-----------------
 2 files changed, 72 insertions(+), 52 deletions(-)

commit 3ae43d35f0d71381fbbe50f3e36441292cc2edf2
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Jan 2 13:31:24 2009 +0000

    Fix condition on GABBLE_CONNECTION_FEATURES_PEP

 src/connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4e0cdcc7e10ed1c1d1ef5963aa54cf0788f429ab
Merge: 969755c f7b0320
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Dec 23 17:06:28 2008 +0100

    Merge branch 'sock5' into si-fallback

commit f7b03208f323ee8e0d9bd8eae8139b135882158e
Merge: 66e7a13 db01f9c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Dec 23 17:06:09 2008 +0100

    Merge branch 'master' into sock5

commit db01f9c9c3f16adb4c9ab85e051cbc424862d2d0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Dec 23 17:04:29 2008 +0100

    new_connection_to_socket: fix transport leak

 src/tube-stream.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 969755c2ba2ecc649cdfe7e5c71ab9619de6750f
Merge: 99aa045 66e7a13
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Dec 23 17:00:30 2008 +0100

    Merge branch 'sock5' into si-fallback

commit 66e7a134a658b36e11dd538557c7d2d3f1d40ffa
Merge: 356057f 45ede60
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Dec 23 16:58:54 2008 +0100

    Merge branch 'master' into sock5

commit 356057f04ffa3ddb26da9f28e905a623f35c73b4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Dec 23 16:50:11 2008 +0100

    remove sock5 close stanza as there is no such think in the XEP

 src/bytestream-factory.c |   59 ----------------------------------------------
 src/bytestream-socks5.c  |   18 --------------
 2 files changed, 0 insertions(+), 77 deletions(-)

commit 99aa045eccdc9ffe7ac0f6025409f17c335ec7b5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 19 11:52:50 2008 +0000

    gabble_bytestream_multiple_finalize: free the fallback_stream_methods list if needed

 src/bytestream-multiple.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 45ede60f1ec3e6746557ab882607945a84846499
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Dec 18 18:56:25 2008 +0000

    GabbleConnection: advertise the interface GABBLE_IFACE_CONNECTION_INTERFACE_CONTACT_CAPABILITIES

 src/connection.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit f8f87527c8c966459229427dddf59a459bf7fcf6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 18 17:52:39 2008 +0000

    bytestream_activate_next: free the stream method

 src/bytestream-multiple.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 87fa6d70058067d5b562b8a763a0a341ba8643c9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 18 17:51:11 2008 +0000

    bytestream_activate_next: use g_list_delete_link instead of g_list_remove_link as link has to be freed

 src/bytestream-multiple.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a8011344c7e4777aa3af8a73d2b49656a5ef08e1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 18 17:03:41 2008 +0000

    bytestream-multiple: signals are not defined in bytestream-iface

 src/bytestream-multiple.c |   42 ++----------------------------------------
 1 files changed, 2 insertions(+), 40 deletions(-)

commit c5c587392105635db372487dc3fe6306419666fa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 18 17:03:00 2008 +0000

    bytestream-socks5: re-emit connection-error signals

 src/bytestream-socks5.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 9bd5e4d9ddc05bc89114e7a27b0eb939775e1dc9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 18 17:02:32 2008 +0000

    add connection-error signal to bytestream-iface

 src/bytestream-iface.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 10faa72c524ed3c2ad1362f5124c89464ec9e364
Merge: 58cc78a 6f8331f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 18 16:55:18 2008 +0000

    Merge branch 'sock5' into si-fallback
    
    Conflicts:
    
    	src/bytestream-ibb.c
    	src/bytestream-socks5.c

commit 6f8331f008a1d8cfc32ee19ce9f3b4f2bf5e79c8
Merge: 62e881c 0f1ce5a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 18 15:59:20 2008 +0000

    Merge branch 'master' into sock5
    
    Conflicts:
    
    	src/tube-stream.c

commit 0f1ce5a8b0158c905ddee01803d9fa2857eaac36
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 18 15:53:09 2008 +0000

    sync with current gibber

 lib/gibber/gibber-fd-transport.c |   43 ++++++++++++++++++++++++++++++++++++-
 lib/gibber/gibber-fd-transport.h |    9 ++++++++
 2 files changed, 50 insertions(+), 2 deletions(-)

commit 4ad8cd7ddadee6c300f50baf6d295b1d5140cca6
Merge: b38478f 3ac69cb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 18 15:31:18 2008 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble

commit b38478f4bae31c0691cb5b99c3a93b6d1d6c17b7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 18 13:51:38 2008 +0000

    tube-stream: data_received_cb: unref the transport when early returning

 src/tube-stream.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 96e7f9a282783eac20986e571bb71cf86ceedfb0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 18 13:13:34 2008 +0000

    tube-stream: data_received_cb ref the transport to keep it artificially alive if needed

 src/tube-stream.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit caf0c7435408d2931a736f3b7ded8ac6fdd96136
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 18 12:13:52 2008 +0000

    data_received_cb: early return if sending failed

 src/tube-stream.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 62e881c5dc1f0a12f5aee8586c413c573c22d12e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 18 13:13:34 2008 +0000

    tube-stream: data_received_cb ref the transport to keep it artificially alive if needed

 src/tube-stream.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit b72da142c67f82ea6ff0faf9364e164cf3feefbd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 18 13:07:39 2008 +0000

    gabble_bytestream_socks5_send: check if transport was not set to NULL after writing

 src/bytestream-socks5.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 176789229819438a44e1842767665afba2736bb6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 18 12:13:52 2008 +0000

    data_received_cb: early return if sending failed

 src/tube-stream.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 698173bcebc155d709d8d72e288a3c93712e6be6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 18 11:55:23 2008 +0000

    block_read was renamed to block_reading

 src/bytestream-socks5.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 3ac69cb65a6cc09a643680c4f7dbcc0235316334
Merge: c97adae ab957c4
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Dec 17 19:49:52 2008 +0100

    Merge branch 'wait-for-caps'

commit c97adae7b781cc433260a99ea5b4bec11068bdbf
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Dec 17 18:38:03 2008 +0000

    Revert "Don't let stream die before getting initial codecs and candidates"
    
    This reverts commit 938112a82bd147210fd75cd64161f4ea5e013975; Senko has a
    better fix.

 src/media-stream.c |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit e84b38984d5549f1705f47f4acfa6bac73fcbb1b
Merge: 07abbeb cc0c086
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 17 17:45:15 2008 +0000

    Merge branch 'sock5+transport' into sock5

commit 07abbeb7bf28cb445fc03038c86e296cfcae1701
Merge: b5be29e e5e64f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 17 17:45:05 2008 +0000

    Merge branch 'master' into sock5

commit e5e64f0cf8d350aac999c05637356c25622c4436
Merge: 317eae6 03cd6c6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 17 17:38:17 2008 +0000

    Merge branch 'master' into gibber-transport

commit 03cd6c69dc4dc163baa4d65dddc192aef4090c4d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 17 17:33:58 2008 +0000

    tube_iface_props_setter: use the property setter

 src/tube-stream.c |    5 +----
 1 files changed, 1 insertions(+), 4 deletions(-)

commit d6a8aad81871e8245f506c391b4bc78741a8b948
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 17 17:33:40 2008 +0000

    gabble_tube_stream_set_property: destroy the previous parameters if needed

 src/tube-stream.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 2ed21c282a94482109d464ec670138d1241e4c0e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 17 17:25:17 2008 +0000

    tube_iface_props_setter: destroy the previous parameters if needed

 src/tube-stream.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 1241312e546065ae970d9ddc780f7b455724681b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 17 16:56:46 2008 +0000

    d_bus_names_changed_removed: don't leak arrays if handle_type == TP_HANDLE_TYPE_CONTACT

 src/tubes-channel.c |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit 6c25529f0120685dbedcf95734945f4e4d09a16a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 17 16:54:32 2008 +0000

    always destroy parameters hash table created in extract_tube_information

 src/tubes-channel.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 9f5556c7cbf7a024500273f4eb80ea97e17f5b9a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 17 16:48:04 2008 +0000

    tubes-channel: no need to copy the tube parameters as the tube object already makes its own copy

 src/tubes-channel.c |   31 ++-----------------------------
 1 files changed, 2 insertions(+), 29 deletions(-)

commit 86733522eff64709dd3479c0cb1246e6e3a6c071
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 17 16:27:37 2008 +0000

    gabble_tubes_channel_presence_updated: don't leak parameters hash table

 src/tubes-channel.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 317eae63ed9f7fad866ed1d7323260172c6d3a3d
Merge: 8a3071e afddeb6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 17 16:17:48 2008 +0000

    Merge branch 'master' into gibber-transport

commit 8a3071ea2b02924faef07631515c24507094cf22
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 17 16:09:09 2008 +0000

    start_stream_initiation: add a FIXME

 src/tube-stream.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 1d32f66a437de93abbe131f7082b7dcb0bb07315
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 17 16:08:17 2008 +0000

    data_received_cb: assert that the transport is not NULL

 src/tube-stream.c |    6 +-----
 1 files changed, 1 insertions(+), 5 deletions(-)

commit 9313027e33b19c61b78440ec5b007265af930417
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 17 16:07:24 2008 +0000

    remove old TODO

 src/tube-stream.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 7085a37a53453c01dc97f67f69f604a774096cf3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 17 16:07:05 2008 +0000

    start_stream_initiation: free data if salut_si_bytestream_manager_negotiate_stream failed

 src/tube-stream.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit afddeb6574066b168585dc1c80bf9670fbc7c2d2
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Dec 17 12:43:27 2008 +0000

    Channel.Type.DBusTube.DRAFT disabled because it is not implemented.

 src/private-tubes-factory.c |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 0a02cfab65cf1922016f77e45102e243290ccf42
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 17 12:36:19 2008 +0000

    tube-stream: gabble_bytestream_iface_block_read was renamed to gabble_bytestream_iface_block_reading

 src/tube-stream.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit bd3219aaa2ee0802385279514ececa8feb47debc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 17 12:36:07 2008 +0000

    rename gabble_bytestream_iface_block_read to gabble_bytestream_iface_block_reading

 src/bytestream-iface.c |    6 +++---
 src/bytestream-iface.h |    4 ++--
 2 files changed, 5 insertions(+), 5 deletions(-)

commit dad6aee6f545af3f5128eb90255c356358edac4a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Dec 17 12:34:36 2008 +0000

    Test Channel.Type.DBusTube.DRAFT: this interface is not yet implemented, but Gabble must not crash when requesting a channel. Add a test.

 tests/twisted/tubes/test-si-tubes.py |   18 ++++++++++++++++++
 1 files changed, 18 insertions(+), 0 deletions(-)

commit cc0c086db13ff92015422bb76ab3933b477cfe63
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Dec 16 17:50:10 2008 +0000

    transport_handler: use G_GSIZE_FORMAT

 src/bytestream-socks5.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ac5edf8daf2e2c9371cb21389e1eb28d72f2a6a8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Dec 16 17:38:09 2008 +0000

    bytestream-socks5: block receiving data when the sock5 stream is connected but not the bytestream

 src/bytestream-socks5.c |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 8cd97a0ded0c16d58acede9caf4e0984b74fefbf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Dec 16 17:30:23 2008 +0000

    implement gabble_bytestream_socks5_block_read

 src/bytestream-socks5.c |   18 ++++++++++++++++++
 1 files changed, 18 insertions(+), 0 deletions(-)

commit 5938de86f9a3c565a4e25d273f78e6fb3f530e42
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Dec 16 16:25:14 2008 +0000

    socks5_handle_received_data: add a debug msg when the stream is connected

 src/bytestream-socks5.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 104988477a787365750de2e9a06890d678419bf9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Dec 16 16:24:00 2008 +0000

    socks5_handle_received_data: stop to listen for connections once we have a connection sock5 stream

 src/bytestream-socks5.c |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit 92df87a87b96bb27eac4494fea8e5ea8847e6ec8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Dec 16 16:19:33 2008 +0000

    bytestream-socks5: use Gibber transports instead of GIOChannel

 src/bytestream-socks5.c |  548 ++++++++++++++++++++---------------------------
 1 files changed, 235 insertions(+), 313 deletions(-)

commit df7388bbf2dd43248c8779e6a27e6ab55c9bc55f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Dec 16 15:27:38 2008 +0000

    add GABBLE_BYTESTREAM_STATE_CLOSING state

 src/bytestream-iface.h |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 75f93001542796491837416c156829b137c28187
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Dec 15 18:01:07 2008 +0000

    bytestream-socks5: don't redefine signals

 src/bytestream-socks5.c |   32 ++------------------------------
 1 files changed, 2 insertions(+), 30 deletions(-)

commit 8f353fc53d71797e0673f8a73a1b66d80a54ec36
Merge: b5be29e d87fd2b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Dec 15 17:54:59 2008 +0000

    Merge branch 'gibber-transport' into sock5+transport

commit d87fd2b27b57df9bae2fd5196c66f2e586221ead
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Dec 15 17:51:20 2008 +0000

    tube-stream: uncomment bytestream_write_blocked_cb callback

 src/tube-stream.c |    5 -----
 1 files changed, 0 insertions(+), 5 deletions(-)

commit 14236f87623ef4b11bf4c13c7baca248dbd61b85
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Dec 15 17:51:08 2008 +0000

    bytestream-iface: add write-blocked signal

 src/bytestream-iface.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit a6a9e20e4e8e9550484e8a025d737a8cebc02028
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Dec 15 17:44:09 2008 +0000

    bytestream-muc: don't redefine signals

 src/bytestream-muc.c |   34 ++--------------------------------
 1 files changed, 2 insertions(+), 32 deletions(-)

commit e7e9b5c87dc0c41f001b57a9f2f1d9652049de8a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Dec 15 17:43:58 2008 +0000

    bytestream-ibb: don't redefine signals

 src/bytestream-ibb.c |   33 ++-------------------------------
 1 files changed, 2 insertions(+), 31 deletions(-)

commit a80286d621f616ba6964c20e64617d1710e6d9c5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Dec 15 17:43:21 2008 +0000

    bytestream-iface: define bytestream signals

 src/bytestream-iface.c |   17 +++++++++++++++++
 1 files changed, 17 insertions(+), 0 deletions(-)

commit 65ec6da74fae23abf1a8b921c9e545d9862d9e10
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Dec 12 19:48:34 2008 +0000

    Stream tube channel advertises the immutable channel properties, including thoses not on the Channel interface

 src/tube-stream.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit bae8ea0293a05e870dcbf080b1e61d83994ba66c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Dec 15 15:54:26 2008 +0000

    tube-stream: uncomment gabble_bytestream_iface_block_read calls

 src/tube-stream.c |    6 ++----
 1 files changed, 2 insertions(+), 4 deletions(-)

commit 55430456876b5064e6ba08f03c3b5134f36c3fbc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Dec 15 15:54:05 2008 +0000

    add gabble_bytestream_iface_block_read as an optionnal abstract method

 src/bytestream-iface.c |   11 +++++++++++
 src/bytestream-iface.h |    4 ++++
 2 files changed, 15 insertions(+), 0 deletions(-)

commit cfce9d18df3e1ae01d958cb8a8a18a72d3e52bff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Dec 15 15:22:53 2008 +0000

    test-si-accept-tubes.py: reply to SI iq

 tests/twisted/tubes/test-si-accept-tubes.py |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 6a75e892aadc1c7e1507d7d4c2c4d55a1a59fb13
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Dec 15 15:21:33 2008 +0000

    extra_bytestream_negotiate_cb: free the data structur if the bytestream was rejected

 src/tube-stream.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 516c28756a160a92627a5390ff079f7aeae53528
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Dec 15 15:17:41 2008 +0000

    use Gibber transports and listenner

 src/tube-stream.c |  678 ++++++++++++++++++++++-------------------------------
 1 files changed, 282 insertions(+), 396 deletions(-)

commit e75b84466ebd9cc1ec52fefe0df6ab600bbea469
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Dec 15 14:36:47 2008 +0000

    build tests with libgibber

 tests/Makefile.am         |   24 ++++++++++++++++++------
 tests/twisted/Makefile.am |    4 +++-
 2 files changed, 21 insertions(+), 7 deletions(-)

commit 675d43a53d566437bfa5088e6154ef00659a6fb1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Dec 15 12:59:01 2008 +0000

    sync with gibber master

 lib/gibber/gibber-fd-transport.c |   10 +++++-----
 lib/gibber/gibber-listener.c     |    2 +-
 2 files changed, 6 insertions(+), 6 deletions(-)

commit b980221c4b7e73bf56d1cc99b88394474db02b4e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Dec 15 11:31:28 2008 +0000

    update gitignore

 .gitignore |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 45a07045c47ef7454854be43b43071bda7478a45
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Dec 15 11:29:06 2008 +0000

    link Gabble with libgibber

 src/Makefile.am |   16 +++++++++++++---
 1 files changed, 13 insertions(+), 3 deletions(-)

commit 6533297a3cfce71a5314293f20d22768f077a3fb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Dec 15 11:28:46 2008 +0000

    build lib/gibber

 Makefile.am  |    2 +-
 configure.ac |    4 +++-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 60456b36fe2af3168bac0fd1c718ef92da6f7c92
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Dec 15 11:28:11 2008 +0000

    Import gibber transports and listerner

 lib/Makefile.am                         |    1 +
 lib/gibber/Makefile.am                  |   80 +++++
 lib/gibber/gibber-debug.c               |   95 ++++++
 lib/gibber/gibber-debug.h               |   99 ++++++
 lib/gibber/gibber-fd-transport.c        |  461 +++++++++++++++++++++++++++
 lib/gibber/gibber-fd-transport.h        |   83 +++++
 lib/gibber/gibber-linklocal-transport.c |  194 ++++++++++++
 lib/gibber/gibber-linklocal-transport.h |   84 +++++
 lib/gibber/gibber-listener.c            |  524 +++++++++++++++++++++++++++++++
 lib/gibber/gibber-listener.h            |   99 ++++++
 lib/gibber/gibber-tcp-transport.c       |  181 +++++++++++
 lib/gibber/gibber-tcp-transport.h       |   67 ++++
 lib/gibber/gibber-transport.c           |  284 +++++++++++++++++
 lib/gibber/gibber-transport.h           |  125 ++++++++
 lib/gibber/gibber-unix-transport.c      |  166 ++++++++++
 lib/gibber/gibber-unix-transport.h      |   78 +++++
 lib/gibber/gibber-util.c                |   72 +++++
 lib/gibber/gibber-util.h                |   34 ++
 18 files changed, 2727 insertions(+), 0 deletions(-)

commit b132d3b18df08c8fa1f76ef7972d31ef35e738f6
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Dec 14 18:17:39 2008 +0000

    Bump version to 0.7.17

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 9489c80b47db58418df840173ae683beb6e2be38
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Dec 14 18:15:53 2008 +0000

    NEWS for 0.7.17

 NEWS |   22 +++++++++++++++++++---
 1 files changed, 19 insertions(+), 3 deletions(-)

commit af4e417e36c0de3541dd3b9de6aa8e0ab949f3c2
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Dec 5 21:44:08 2008 +0100

    jingle/test-incoming-call.py: make sure call is not autoaccepted

 tests/twisted/jingle/test-incoming-call.py |   39 +++++++++++++++-------------
 1 files changed, 21 insertions(+), 18 deletions(-)

commit 67583babb084978275d98f3eb3b480e1ff580a04
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Dec 5 20:37:06 2008 +0100

    JingleSession: check that session was locally accepted

 src/jingle-session.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit d0049920e231a370ca70f0329ee65feec07175de
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Dec 14 16:58:33 2008 +0000

    Update tube caps tests with new SHA1s for # URIs

 tests/twisted/test-caps-tubes.py |   66 +++++++++++++++++++-------------------
 1 files changed, 33 insertions(+), 33 deletions(-)

commit a14377abf7d1909b6c608cb2dd0e7789a64a88b7
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Dec 14 01:09:45 2008 +0000

    Update tubes capability docs for new URI

 docs/tubes.xml |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 361575641a3132467e320a4484fea698ae3b935b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sat Dec 13 17:38:51 2008 +0000

    Use # to concatenate service name to tubes caps URI
    
    Tweak tubes features to be like:
     http://telepathy.freedesktop.org/xmpp/tubes/stream#rfb
    Rather than:
     http://telepathy.freedesktop.org/xmpp/tubes/stream/rfb
    
    So we can put something at the http:// URI that talks about the
    protocol.

 src/private-tubes-factory.c |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit ab3bc9c6afc55e0fdac638926ee43cfb135925b9
Merge: fce6ba1 9b35aec
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Sun Dec 14 00:38:44 2008 +0000

    Merge branch 'master' into alban-xmpp-spec-tube-caps

commit b5be29ee06e3eb3d1d8e611ae58fc6f8323e8600
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 11 18:06:34 2008 +0000

    socks5_channel_readable_cb: check g_io_channel_read_chars return value

 src/bytestream-socks5.c |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit dee19eb48ba08352b2b2fe27d96d4261fe1908a2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 11 18:06:08 2008 +0000

    test-si-socks5-tubes.py: test if the world doesn't explode if a sock5 connection is closed

 tests/twisted/tubes/test-si-socks5-tubes.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 846bc5884263fab1331fe05ceba7fdf326173c4d
Merge: 930198b 2c33597
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 11 16:48:22 2008 +0000

    Merge branch 'master' into sock5

commit 9b35aece13ee90005320996d962e1c8347a06e3b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Dec 11 16:30:40 2008 +0000

    jingle/payload-types: remove debugging "print" statement

 tests/twisted/jingle/payload-types.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 8bf370724f92aef0783cb1d15f1c2a39ca9986c4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Dec 11 16:30:25 2008 +0000

    jingle/payload-types: define a MEDIA_STREAM_TYPE_AUDIO constant

 tests/twisted/jingle/payload-types.py |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 58cc78a2de7760ae6cc0de957f782e5d978983b7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 11 16:24:23 2008 +0000

    gabble_bytestream_factory_make_stream_init_iq: each value has to be in its own option node

 src/bytestream-factory.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit f2c539868909412a86ab17c17c3af7c5d7a8f0ac
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 11 16:24:05 2008 +0000

    fix typo

 tests/twisted/tubes/test-si-fallback.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 938112a82bd147210fd75cd64161f4ea5e013975
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Dec 11 16:04:53 2008 +0000

    Don't let stream die before getting initial codecs and candidates
    
    Constructing a GabbleMediaStream adds an idle callback to extract information
    from its JingleContent only once the creator of the MediaStream has had a
    chance to connect to its signals.  If the refcount of the MediaStream fell to
    zero before that callback fired, it would crash.  So, the callback should ref
    the stream.

 src/media-stream.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 90a4466e35b2b20a28e0a321ef81f48478e64b47
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Dec 11 12:54:13 2008 +0000

    Send codec parameters as <parameter/> tags.
    
    Fixes fd.o bug #18918

 src/jingle-media-rtp.c |   37 +++++++++++++++++++++++++------------
 1 files changed, 25 insertions(+), 12 deletions(-)

commit 53b46bbbef5300418b3e6b5b0753c87f5d43f9bb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Dec 11 12:53:58 2008 +0000

    Add regression test for fd.o bug #18918

 tests/twisted/Makefile.am             |    1 +
 tests/twisted/jingle/jingletest.py    |   11 ++-
 tests/twisted/jingle/payload-types.py |  149 +++++++++++++++++++++++++++++++++
 3 files changed, 160 insertions(+), 1 deletions(-)

commit a8effdb85ca318d13c4e099a9704a29040094f2d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Dec 9 15:41:24 2008 +0000

    Remove useless macro around o->priv.

 src/jingle-media-rtp.c |   20 +++++++-------------
 1 files changed, 7 insertions(+), 13 deletions(-)

commit 9c5f6f60d9b19efdee9035b600ab6b8ed63221b1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 11 16:16:25 2008 +0000

    bytestream_factory_iq_si_cb: add a debug msg

 src/bytestream-factory.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 4676f7afdaa4ce467e38ac03a3d3eaa0465c80c4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 11 16:04:36 2008 +0000

    replace gabble_bytestream_multiple_count_stream_method by gabble_bytestream_multiple_has_stream_method

 src/bytestream-factory.c  |    4 ++--
 src/bytestream-multiple.c |    9 ++++++---
 src/bytestream-multiple.h |    2 +-
 3 files changed, 9 insertions(+), 6 deletions(-)

commit ffc72a649c276e7de677167e89467cde2b07b1e9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 11 15:03:16 2008 +0000

    test-si-fallback.py: no need to use call_async if we wait directly for the return value

 tests/twisted/tubes/test-si-fallback.py |    5 +----
 1 files changed, 1 insertions(+), 4 deletions(-)

commit 7e8a19094cc16b0bc148ce219b17ce2bf4e6e72b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 11 14:58:59 2008 +0000

    test-si-fallback.py: add some comments

 tests/twisted/tubes/test-si-fallback.py |   20 ++++++++++++++++----
 1 files changed, 16 insertions(+), 4 deletions(-)

commit 9a217e2ee07678622ff074b21e4f433746927d42
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 11 14:49:19 2008 +0000

    bytestream_connection_error_cb: assert the state of the bytestream

 src/bytestream-multiple.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 6ebb9e266bc9dfbb73937707093c8d024f580e52
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 11 14:18:54 2008 +0000

    coding style fixes

 src/bytestream-multiple.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 84c2bd9c49b0b35845ea38f39b2afb18dce7e553
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 11 12:52:45 2008 +0000

    _GabbleBytestreamMultiplePrivate: improve fallback_stream_methods description

 src/bytestream-multiple.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b8b48c4e94dd8ddbe5e36fc147776fc0e54635f9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 11 12:49:59 2008 +0000

    si-multiple.xml: fix tag

 docs/si-multiple.xml |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 00a875cb27c34e71faed29f304a5a9ae8597255f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 11 12:43:09 2008 +0000

    document si-multiple protocol

 docs/Makefile.am     |    1 +
 docs/si-multiple.xml |  105 ++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 106 insertions(+), 0 deletions(-)

commit 57458dd0c16dc69ba7b38e7d84cc96d3a402b4fa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 11 11:16:49 2008 +0000

    rename gabble_bytestream_multiple_nb_stream_method to gabble_bytestream_multiple_count_stream_method

 src/bytestream-factory.c  |    2 +-
 src/bytestream-multiple.c |    2 +-
 src/bytestream-multiple.h |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 34de41346bcdef68206c20278778fb7dd2eac88d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 10 16:58:46 2008 +0000

    bytestream-factory: most of the create bytestream methods don't have to be public

 src/bytestream-factory.c |   21 ++++++++++++++++++---
 src/bytestream-factory.h |   16 ----------------
 2 files changed, 18 insertions(+), 19 deletions(-)

commit 08fe12c316772c677920baacf77e8c8db228ed34
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 10 16:48:43 2008 +0000

    gabble_bytestream_factory_make_multi_accept_iq:  send multi stream methods in <si-multiple>

 src/bytestream-factory.c                |    8 ++++++--
 tests/twisted/tubes/test-si-fallback.py |    8 +++++---
 2 files changed, 11 insertions(+), 5 deletions(-)

commit ce90e54dc0709d89df3e24e36cd7ea12daee3841
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 10 16:31:24 2008 +0000

    streaminit_get_multiple_bytestream: look for multi stream methods in <si-multiple>

 src/bytestream-factory.c                |   33 +++++++++++++++----------------
 tests/twisted/tubes/test-si-fallback.py |    7 +++--
 2 files changed, 20 insertions(+), 20 deletions(-)

commit 5c0ffefb577e72f3e2b3ade9b91267d40051c889
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 10 16:00:16 2008 +0000

    gabble_bytestream_factory_create_multiple: insert bytestream to multiple_bytestreams hash table

 src/bytestream-factory.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 6f1a50929559f0cafbe3308fae2ec62c647b7363
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 10 15:58:46 2008 +0000

    gabble_bytestream_multiple_dispose: don't unref factory as we don't have a ref on it (which is sane as it does have a ref on the bytestream)

 src/bytestream-multiple.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 01a53933eb253ec6934f5974332cb27e6fc39318
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 10 15:47:54 2008 +0000

    bytestream_factory_iq_si_cb: check if the multi bytestreams contains at least one stream method

 src/bytestream-factory.c |   16 ++++++++++++++--
 1 files changed, 14 insertions(+), 2 deletions(-)

commit fee63d200beb7df937eccfe258e4697c3394709f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 10 15:46:02 2008 +0000

    add gabble_bytestream_multiple_nb_stream_method

 src/bytestream-multiple.c |    9 +++++++++
 src/bytestream-multiple.h |    3 +++
 2 files changed, 12 insertions(+), 0 deletions(-)

commit ec51ef3b96d53d1cedb2b08aa10a944b98a52db6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 10 15:34:13 2008 +0000

    coding style fix

 src/bytestream-multiple.h |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit 87afdb292aa943b0f2069f54f76f08998bcdb42c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 10 15:32:02 2008 +0000

    bytestream_factory_iq_si_cb: add some comments

 src/bytestream-factory.c |   26 ++++++++++++++++++++------
 1 files changed, 20 insertions(+), 6 deletions(-)

commit 13be891aeb9de834ff0c3a5d790311c5a8d8a86b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 10 15:12:26 2008 +0000

    reorder namespaces.h

 src/namespaces.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2c66c0ede79e2ea1b20c71eb5d9772059d4ce20d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 10 14:55:54 2008 +0000

    coding style fix

 src/bytestream-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit fe9ba3df9df264566dca53a76b7722c90f0d7f0b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 10 14:54:51 2008 +0000

    stream_method_supported: make function easier to read

 src/bytestream-factory.c |   11 +++++++++--
 1 files changed, 9 insertions(+), 2 deletions(-)

commit 2c335975279f4482e280d4864dd5447cd68caef6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 10 14:07:50 2008 +0000

    check_gadget_buddy: don't print debug message so we don't flood log with it each time we receive a presence

 src/conn-olpc.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 2e7b72b164f3ef61f595783780e9429572170e39
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 10 11:29:21 2008 +0000

    add generated m4 files to gitignore

 .gitignore |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 69b516a5688c7c498a92e382a1215652c830b7fd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 10 11:28:44 2008 +0000

    muc-channel: fix DEBUG msg

 src/muc-channel.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit cd7a11c02867b83168b1a5e95e1c848dafa72375
Merge: 5ec17d4 6b4966a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 10 11:28:10 2008 +0000

    Merge branch 'master' into warning-crasher
    
    Conflicts:
    
    	src/media-stream.c

commit 6b4966a8c756b725f162b206e0e57d185e44c166
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Dec 8 15:38:05 2008 +0000

    Fix auto-accepting MUC invites when changing presence
    
    The patch to send our presence to the MUC when we go away/etc was broken
    because it sent a <presence> stanza to MUC channels we'd been invited to
    but not actually accepted yet, which automatically accepted the invites.
    This was cool because Empathy didn't actually have a way to accept the
    invite, but when I got back from lunch people were confused why I'd
    joined the chat with Away / Lunch and then not said anything. :)

 src/muc-channel.c                        |    4 ++++
 tests/twisted/muc/test-muc-invitation.py |   17 +++++++++++++++--
 2 files changed, 19 insertions(+), 2 deletions(-)

commit 80ff9faf8dd5ef0994aeabfba535ed8310bb470b
Author: Marco Barisione <marco@barisione.org>
Date:   Sun Dec 7 21:57:57 2008 +0000

    Remove a hack now that NewChannel is correctly emitted

 tests/twisted/tubes/test-si-fallback.py |    9 ++-------
 1 files changed, 2 insertions(+), 7 deletions(-)

commit 05ab21d6e85fb4fb83268f5623f94606b66871a5
Author: Marco Barisione <marco@barisione.org>
Date:   Sun Dec 7 21:50:28 2008 +0000

    Improve some comments for corner cases

 src/bytestream-multiple.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit d566465675063a5a6608b88164c86cee61f40e6e
Author: Marco Barisione <marco@barisione.org>
Date:   Sun Dec 7 21:47:13 2008 +0000

    Remove an outdated comment

 src/bytestream-factory.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 480fb6ff694ff76a5876fbcb7481ee945de89706
Author: Marco Barisione <marco@barisione.org>
Date:   Sun Dec 7 21:46:33 2008 +0000

    Handle clients that send us unsupported stream methods

 src/bytestream-factory.c                |   30 ++++++++++++++++++++++++------
 tests/twisted/tubes/test-si-fallback.py |    6 +++++-
 2 files changed, 29 insertions(+), 7 deletions(-)

commit 1d0dca9e01aea6753c77404140cd8a94ab684503
Author: Marco Barisione <marco@barisione.org>
Date:   Sun Dec 7 21:34:22 2008 +0000

    Remove a trailing space

 src/bytestream-multiple.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 6499fa8aa71a49f496d37493d9fc9d6eb504ba1f
Author: Marco Barisione <marco@barisione.org>
Date:   Sun Dec 7 21:32:47 2008 +0000

    Split a long line

 src/bytestream-factory.c |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit 1f318fbae65446598753f294436ba9d059574251
Author: Marco Barisione <marco@barisione.org>
Date:   Sun Dec 7 21:30:55 2008 +0000

    Rename gabble_bytestream_multiple_add_bytestream() to _add_stream_method()

 src/bytestream-factory.c  |    5 +++--
 src/bytestream-multiple.c |    5 ++---
 src/bytestream-multiple.h |    4 ++--
 3 files changed, 7 insertions(+), 7 deletions(-)

commit d5fa8f382f16ed55ac4ea1bb3d6b168a19ebbd20
Author: Marco Barisione <marco@barisione.org>
Date:   Sun Dec 7 21:28:32 2008 +0000

    Remove some leftover code to handle a removed property

 src/bytestream-multiple.c |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit ef6d07985341c3cab6ec64dcf72f6996e5e11bae
Author: Marco Barisione <marco@barisione.org>
Date:   Sun Dec 7 21:25:55 2008 +0000

    Split some long lines

 src/bytestream-multiple.c |   33 ++++++++++++++++++++++-----------
 1 files changed, 22 insertions(+), 11 deletions(-)

commit ed0e33ee7dbc0a797a4f8b92bb08cd5ffe6f7292
Author: Marco Barisione <marco@barisione.org>
Date:   Sun Dec 7 21:23:11 2008 +0000

    Refactor streaminit_reply_cb() to be more readable

 src/bytestream-factory.c |  166 +++++++++++++++++++++++++++-------------------
 1 files changed, 99 insertions(+), 67 deletions(-)

commit 0b4ce7b39a0e1e2ce3251efeee897a1952769736
Author: Marco Barisione <marco@barisione.org>
Date:   Sun Dec 7 21:00:02 2008 +0000

    Remove the checks for the bytestream going from OPEN to INITIATING
    
    A bug in the SOCSK5 code allowed the bytestream to emit a
    connection-error signal when the stream was already OPEN, so the
    fallback code had to check for the state going to OPEN back to
    INITIATING (for a fallback stream).
    The checks are not useful anymore now that the bug is fixed.

 src/tube-stream.c |    8 --------
 1 files changed, 0 insertions(+), 8 deletions(-)

commit 065d3b048ac8f84b26fab364ab5fee1066250942
Author: Marco Barisione <marco@barisione.org>
Date:   Sun Dec 7 20:59:25 2008 +0000

    Remove the close-on-connection-error crack

 src/bytestream-ibb.c      |   13 ----------
 src/bytestream-iface.c    |    8 ------
 src/bytestream-multiple.c |   14 -----------
 src/bytestream-socks5.c   |   54 +++++++++++++++------------------------------
 4 files changed, 18 insertions(+), 71 deletions(-)

commit b4c8c0c7fc6aa1f9f32b4fee024d01899d62ae72
Merge: 5a9c36e 930198b
Author: Marco Barisione <marco@barisione.org>
Date:   Sun Dec 7 20:47:29 2008 +0000

    Merge branch 'socks5-bytestreams' into si-fallback

commit 930198b10311987eda910b3fca60aed534e5f127
Author: Marco Barisione <marco@barisione.org>
Date:   Sun Dec 7 20:46:42 2008 +0000

    Update the IBB test from master

 tests/twisted/tubes/test-si-ibb-tubes.py |   78 +++++++++++++++++++++++-------
 1 files changed, 61 insertions(+), 17 deletions(-)

commit 5a9c36e2773abd64a561e45a10e62ae0fab54e2b
Author: Marco Barisione <marco@barisione.org>
Date:   Sun Dec 7 18:42:20 2008 +0000

    Remove HAVE_DBUS_TUBES

 tests/twisted/tubes/test-si-fallback.py |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 56ae544404157f6774c38202f39b8d37746686c8
Merge: 2991ad1 640eef6
Author: Marco Barisione <marco@barisione.org>
Date:   Sun Dec 7 18:31:55 2008 +0000

    Merge branch 'socks5-bytestreams' into si-fallback

commit 640eef6a3a1a158f042b4324967a7eea0f94cb42
Merge: da7068c f8cf995
Author: Marco Barisione <marco@barisione.org>
Date:   Sun Dec 7 18:31:07 2008 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble into socks5-bytestreams

commit 2991ad1e51743e155d9bcc90b9b9cbbca28ec71d
Author: Marco Barisione <marco@barisione.org>
Date:   Sun Dec 7 18:29:56 2008 +0000

    Implement a different and saner way to have SI fallback

 src/bytestream-factory.c                |  226 +++++++++++++++++------------
 src/bytestream-factory.h                |   10 ++
 src/bytestream-multiple.c               |  241 ++++++++++++++++---------------
 src/bytestream-multiple.h               |    2 +-
 src/bytestream-socks5.c                 |    1 +
 src/namespaces.h                        |    1 +
 tests/twisted/tubes/test-si-fallback.py |   84 +++++++-----
 7 files changed, 321 insertions(+), 244 deletions(-)

commit 6e00506552117fd3566f074ed14b4d8d1c6ea12c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Dec 7 18:05:43 2008 +0000

    Add tests/twisted/gabbleconfig.py to .gitignore.

 .gitignore |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit fe89a500216dec57f24098551154f49c89a79b39
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Dec 7 18:04:23 2008 +0000

    Name the next release.

 NEWS |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit f8cf99589c5205ff11f47b11616405858316c9d2
Merge: b2e9757 1d060a2
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Dec 5 16:29:12 2008 +0000

    Merge branch 'master' into alban-enhanced-caps-with-complex-types

commit 1d060a217f21719780236b7d793898537b41cf07
Merge: 6b88a52 0900abe
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Dec 5 16:25:03 2008 +0000

    Merge branch 'python-tests'

commit b2e9757eee33fd74cc74d6a301145b2ac526b758
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Dec 5 16:23:47 2008 +0000

    configure.ac: requires dbus-glib 0.78 (released 04 Dec 2008). It fixs the bug #17329. It is needed for the contact capabilities interface.

 configure.ac |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 0900abec229667a1d12b2890c1f8bb016707c358
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Dec 5 16:15:51 2008 +0000

    Twisted tests: check python has dbus support, and dbus.mainloop.glib

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b8c7374206ac718d1d41ab75df40f5932bab4280
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Dec 5 15:48:13 2008 +0000

    Don't enable twisted tests if we don't have at least python 2.5.

 configure.ac |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit b90bd2c2bb5a399783ff0193f543facb2dde8f02
Merge: 11fdd81 89252dd
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Dec 5 15:25:06 2008 +0000

    Merge branch 'master' into alban-enhanced-caps-with-complex-types
    
    Conflicts:
    
    	src/connection.h

commit 6b88a52846991cc2e0455a5a08b835a5de26dafc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 5 15:05:57 2008 +0000

    muc-factory: remove fixed FIXME

 src/muc-factory.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 2b165e5f60d79c82f415b9a25eaa6862490d058c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 5 14:59:28 2008 +0000

    pass the requested property when creating muc-channel so text channels requested because of a tubes request have the right requested property (b.fd.o #18738)

 src/muc-channel.c                                  |    8 +++-
 src/muc-factory.c                                  |   16 +++++---
 .../tubes/test-muc-offer-stream-tube-ibb.py        |   40 ++++++++++++++++++--
 3 files changed, 52 insertions(+), 12 deletions(-)

commit ee5bf79f9ce0813ee04b52966d1ca1ca90a122cf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 5 14:25:56 2008 +0000

    test-muc-offer-stream-tube-ibb.py: catch NewChannel signals

 .../tubes/test-muc-offer-stream-tube-ibb.py        |   23 +++++++++++++++++--
 1 files changed, 20 insertions(+), 3 deletions(-)

commit dbe867256cc820f30d6bc42664388d6629d5c16b
Merge: 37d5999 da7068c
Author: Marco Barisione <marco@barisione.org>
Date:   Fri Dec 5 12:56:31 2008 +0000

    Merge branch 'socks5-bytestreams' into si-fallback
    
    Conflicts:
    
    	src/bytestream-socks5.c

commit da7068c1e53d8b3e0aa67e704deee7794908fa8c
Merge: 35dc2a1 89252dd
Author: Marco Barisione <marco@barisione.org>
Date:   Fri Dec 5 12:22:48 2008 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble into socks5-bytestreams
    
    Conflicts:
    
    	configure.ac
    	tests/twisted/tubes/test-si-socks5-tubes.py

commit ab957c4c4400f97790eea22abf1a2fa40f1b45ca
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Dec 5 12:31:49 2008 +0100

    MediaStream: prevent idle callback for initial codecs/candidates after stream is disposed

 src/media-stream.c |   14 +++++++++++++-
 1 files changed, 13 insertions(+), 1 deletions(-)

commit 729242161e0b51416a6c92409c539653d1e260e1
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Dec 5 12:30:04 2008 +0100

    Twisted test for handling incomplete stream requests when channel is disposed

 tests/twisted/Makefile.am                          |    1 +
 .../jingle/test-wait-for-caps-incomplete.py        |   71 ++++++++++++++++++++
 2 files changed, 72 insertions(+), 0 deletions(-)

commit 4ea63396fd249537c7f4cfd58c4f860069c5a5f2
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Dec 5 12:28:56 2008 +0100

    MediaChannel: return DBus error for incomplete stream requests when channel is dispose

 src/media-channel.c |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit e6f1c4bdf904a47f2aaa4dcc217f288a8179b462
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Dec 5 11:34:51 2008 +0100

    MediaChannel: clean up incomplete delayed stream requests

 src/media-channel.c |   76 ++++++++++++++++++++++++++++++++++++++++-----------
 1 files changed, 60 insertions(+), 16 deletions(-)

commit a6ee31f74af7870f512daedd9ff1a420afad0ee5
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Dec 5 09:32:49 2008 +0100

    Remove unneeded wait for caps hack in other jingle tests

 .../twisted/jingle/test-content-adding-removal.py  |   10 ----------
 tests/twisted/jingle/test-dialects-outgoing.py     |   10 ----------
 tests/twisted/jingle/test-outgoing-call-ensure.py  |   10 ----------
 .../jingle/test-outgoing-call-requestotron.py      |   10 ----------
 tests/twisted/jingle/test-outgoing-call.py         |   10 ----------
 5 files changed, 0 insertions(+), 50 deletions(-)

commit 88896d558a945a13246a19c3936d766170bb1a37
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Dec 5 09:32:21 2008 +0100

    Added test for waiting for capabilities in outgoing calls

 tests/twisted/Makefile.am                  |    1 +
 tests/twisted/jingle/test-wait-for-caps.py |   83 ++++++++++++++++++++++++++++
 2 files changed, 84 insertions(+), 0 deletions(-)

commit 323ecc04fce334fe48640e4a6c386196107c9b2d
Merge: 483ca5a e672a2c
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Dec 5 09:00:43 2008 +0100

    Merge branch 'master' into wait-for-caps and fix merge errors
    
    Conflicts:
    
    	src/presence-cache.c

commit 89252dda5c729060db03b3af957c492d51a92a86
Merge: e672a2c 98ba9fa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 4 21:37:07 2008 +0000

    Merge branch 'dbus-dep'

commit e672a2c22ba9bae664ef81e97a60e692dd44e0c3
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Thu Dec 4 15:00:07 2008 -0500

    Fix typo: propeties

 src/conn-olpc.c  |    2 +-
 src/conn-olpc.h  |    2 +-
 src/connection.c |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit b71b7e83c44c7c26cb71930e81d57870f4dc3c42
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   Thu Dec 4 15:03:34 2008 -0500

    Remove a def defined twice

 src/presence-cache.c |    6 ------
 1 files changed, 0 insertions(+), 6 deletions(-)

commit 35dc2a1d7c3718bd53154b6c1c58203824cc1500
Merge: bf00411 2d5c231
Author: Marco Barisione <marco@barisione.org>
Date:   Thu Dec 4 18:21:04 2008 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble into socks5-bytestreams

commit bf00411e560f9c048a2b4bce679a94b9446ada6b
Author: Marco Barisione <marco@barisione.org>
Date:   Thu Dec 4 18:13:55 2008 +0000

    Use a symbolic name for the length of the SOCKS5 CONNECT command

 src/bytestream-socks5.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4ad68e77f9dfa636ab1852b2b2168802931bd4ee
Author: Marco Barisione <marco@barisione.org>
Date:   Thu Dec 4 17:58:39 2008 +0000

    Improve some comments and debug messages

 src/bytestream-socks5.c |   15 +++++++++++----
 1 files changed, 11 insertions(+), 4 deletions(-)

commit 98ba9fa6d5d8078550d4d555d05fcc419e8c5a7b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 4 17:43:28 2008 +0000

    test-si-tubes.py: remove debug print

 tests/twisted/tubes/test-si-tubes.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit bc35ab4d04a7e769880bb4ac3e656c0724870a94
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 4 17:42:45 2008 +0000

    remove gabbleconfig.py.in

 .gitignore                       |    1 -
 configure.ac                     |    3 +--
 tests/twisted/gabbleconfig.py.in |    4 ----
 3 files changed, 1 insertions(+), 7 deletions(-)

commit fb137f7c84e3c16103703c07f100d9742db4ca4a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 4 17:39:40 2008 +0000

    remove HAVE_DBUS_TUBES checks from twisted tests

 tests/twisted/tubes/ensure-si-tube.py           |    2 --
 tests/twisted/tubes/test-get-available-tubes.py |   12 +++---------
 tests/twisted/tubes/test-muc-offer-dbus-tube.py |    5 +----
 tests/twisted/tubes/test-si-tubes.py            |    8 --------
 4 files changed, 4 insertions(+), 23 deletions(-)

commit 8664456cb4285307386ceb5680b4651723cac634
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 4 17:39:21 2008 +0000

    always run D-Bus tubes tests

 tests/Makefile.am |   11 ++---------
 1 files changed, 2 insertions(+), 9 deletions(-)

commit 7121e86122314d9c356d336539febd4111836c9b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 4 17:38:56 2008 +0000

    tubes-channel: always build D-Bus tube code

 src/tubes-channel.c |   88 +--------------------------------------------------
 1 files changed, 1 insertions(+), 87 deletions(-)

commit 9eea028c311fe57df3179287f2f534d0a89f0389
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 4 17:38:21 2008 +0000

    always build tube-dbus

 src/Makefile.am |    9 ++-------
 1 files changed, 2 insertions(+), 7 deletions(-)

commit a0deb0fba1beb9920e31366417be4d79f9d3a994
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 4 17:37:58 2008 +0000

    configure.ac: raise D-Bus dep to 1.1.0

 configure.ac |   20 +-------------------
 1 files changed, 1 insertions(+), 19 deletions(-)

commit ddc9bb11d4ad6dcefa746b7ff711bdf8f51a0d82
Author: Marco Barisione <marco@barisione.org>
Date:   Thu Dec 4 17:30:54 2008 +0000

    Check the state to decide whether to try to connect to another streamhost

 src/bytestream-socks5.c |   18 ++++++++++++++----
 1 files changed, 14 insertions(+), 4 deletions(-)

commit 483ca5a440d9e39bcbe6854077dda9615dc39ce5
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Dec 4 16:15:46 2008 +0100

    MediaChannel: delay RequestStreams if we're unsure about contacts' presence

 src/media-channel.c |   60 ++++++++++++++++++++++++++++++++++----------------
 1 files changed, 41 insertions(+), 19 deletions(-)

commit 04315a55533f9b543dc0d2630cdca1b22e6cceab
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Dec 4 16:12:53 2008 +0100

    PresenceCache: define an "unsure" period 5 seconds after cache creation

 src/presence-cache.c |   23 +++++++++++++++++++++++
 src/presence-cache.h |    2 ++
 2 files changed, 25 insertions(+), 0 deletions(-)

commit 52cd8cedb627bfc8b85984246cb6fb724e0bfdfb
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Dec 4 15:11:28 2008 +0100

    MediaChannel: delay RequestStreams if caps discover for contact is in progress

 src/media-channel.c |  107 +++++++++++++++++++++++++++++++++++++++++++++++----
 1 files changed, 99 insertions(+), 8 deletions(-)

commit 718415776616983d56d8101be1e9f7231a506907
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Dec 4 15:10:21 2008 +0100

    PresenceCache: emit new "capabilities-discovered" signal unconditionally when one caps disco is complete

 src/presence-cache.c |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit 113ec852ac6e7850de2af030df8128ffb36e8cd8
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Dec 4 15:09:05 2008 +0100

    added helper function to determine whether there are pending disco request for caps for some handle

 src/presence-cache.c |   29 +++++++++++++++++++++++++++++
 src/presence-cache.h |    3 +++
 2 files changed, 32 insertions(+), 0 deletions(-)

commit 2d5c2310295377b737652ce2ce40dd0fdcf32160
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Dec 2 16:08:55 2008 +0100

    Start 0.7.17 development

 NEWS         |    9 +++++++++
 configure.ac |    2 +-
 2 files changed, 10 insertions(+), 1 deletions(-)

commit 4cc8385c370abdc4fdea510361743b5db750c7c6
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Dec 2 16:04:49 2008 +0100

    Prepare release 0.7.16

 NEWS         |   25 +++++++++++++++++++++++--
 configure.ac |    4 ++--
 2 files changed, 25 insertions(+), 4 deletions(-)

commit 2b5e0d57deb5115c4a76e2dbc794830d83d2d704
Author: Marco Barisione <marco@barisione.org>
Date:   Mon Dec 1 19:20:22 2008 +0000

    Set the tube state to open only when the SOCKS5 connection is ready

 src/bytestream-factory.c |    3 ---
 src/bytestream-socks5.c  |    1 +
 2 files changed, 1 insertions(+), 3 deletions(-)

commit d1e381a6f63d1c66d8aa6ac72ed868e5285f171a
Author: Marco Barisione <marco@barisione.org>
Date:   Mon Dec 1 19:19:35 2008 +0000

    Don't expect TubeStateChanged before a connection has been established

 tests/twisted/tubes/test-si-socks5-tubes.py |    9 +++------
 1 files changed, 3 insertions(+), 6 deletions(-)

commit 3c664b9ce918b34d157082bb1df62cb9761cee4f
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Mon Dec 1 20:01:05 2008 +0100

    include jingletest2.py in the distribution tarball

 tests/twisted/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit bd03bf719bd7f0cbe5817b79b2ca975456862143
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Mon Dec 1 19:55:20 2008 +0100

    media-channel.c:contact_is_media_capable: fix errors when compiling without DEBUG

 src/media-channel.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 747b8eb2d15ad412c1c0dd254f9b49d4bb81717e
Author: Marco Barisione <marco@barisione.org>
Date:   Mon Dec 1 18:53:44 2008 +0000

    Pass an error message to _gabble_connection_send_iq_error() in handle_socks5_query_iq()

 src/bytestream-factory.c |   10 ++++++----
 1 files changed, 6 insertions(+), 4 deletions(-)

commit f93d98c3bc3f52139811ba8eb98b1888540ba346
Author: Marco Barisione <marco@barisione.org>
Date:   Mon Dec 1 18:11:55 2008 +0000

    Advertise SOCKS5 support

 src/capabilities.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit fd5f60a28b1b181a0a88714dd8a3bbf4fa15cc83
Author: Marco Barisione <marco@barisione.org>
Date:   Mon Dec 1 17:53:32 2008 +0000

    NS_BYTESTREAMS was already defined

 src/namespaces.h |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 0d2f9af03279865f0c1b2b193cdafc82f17e0e97
Merge: 3210adf dcafb9e
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Mon Dec 1 16:46:45 2008 +0100

    Merge commit 'upstream/master'

commit 78eb91075061dd2de94f9a749abfb474465abe2c
Author: Marco Barisione <marco@barisione.org>
Date:   Mon Dec 1 15:15:55 2008 +0000

    Initialize the table variable in remove_bytestream()

 src/bytestream-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ea149a36ea82db8419558c2bd45924126acf09f7
Author: Marco Barisione <marco@barisione.org>
Date:   Mon Dec 1 15:08:08 2008 +0000

    Call socks5_handle_received_data() until there is no more data to process

 src/bytestream-socks5.c |   11 +++++++++--
 1 files changed, 9 insertions(+), 2 deletions(-)

commit 5e5965a0050b6ed82e793c8eb1ee75616831dc88
Author: Marco Barisione <marco@barisione.org>
Date:   Mon Dec 1 14:58:23 2008 +0000

    Add more comments and make code clearer

 src/bytestream-factory.c |    1 +
 src/bytestream-socks5.c  |   74 +++++++++++++++++++++++++++++++++++----------
 2 files changed, 58 insertions(+), 17 deletions(-)

commit ce7309e58594b89a7dd7da1be53d357b0b9bbe11
Author: Marco Barisione <marco@barisione.org>
Date:   Mon Dec 1 13:07:34 2008 +0000

    Make some DEBUG() messages clearer

 src/bytestream-factory.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 35ee7261136eda36cde204079107a88f7a7e3a74
Author: Marco Barisione <marco@barisione.org>
Date:   Mon Dec 1 12:51:22 2008 +0000

    Use a backlog of 1 for listen() as we expect only a connection

 src/bytestream-socks5.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ed469364bbfd78c47805c0f22ba9ac9fd09f31a0
Author: Marco Barisione <marco@barisione.org>
Date:   Mon Dec 1 12:49:10 2008 +0000

    Use g_slice_new instead of g_new to allocate the Streamhost structs

 src/bytestream-socks5.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 7729dc39515f6f05e54bdf92342444162f8c0ea2
Author: Marco Barisione <marco@barisione.org>
Date:   Mon Dec 1 12:48:01 2008 +0000

    Use tp_strdiff instead of strcmp

 src/bytestream-factory.c |    4 ++--
 src/bytestream-socks5.c  |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit cc8a2b02e96e217204601b41ab6d9686983b31e3
Author: Marco Barisione <marco@barisione.org>
Date:   Mon Dec 1 12:43:43 2008 +0000

    Style fixes

 src/bytestream-socks5.c |   44 ++++++++++++++++++++++----------------------
 1 files changed, 22 insertions(+), 22 deletions(-)

commit e07ada18ea94981b2e61857f743d816c8272c21f
Merge: df4d5ab dcafb9e
Author: Marco Barisione <marco@barisione.org>
Date:   Mon Dec 1 11:47:42 2008 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble into socks5-bytestreams

commit dcafb9e78aff56a861256a0b4b2f9d49605dd85c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Nov 27 19:00:37 2008 +0000

    GabbleMucFactory: add a comment to explain why we use a temporary variable

 src/muc-factory.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 2834ac31b787f239b02f27a0eade34363b049fea
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Nov 27 18:57:07 2008 +0000

    GabbleMediaFactory: fix a double free in _dispose

 src/media-factory.c |    8 ++++++--
 1 files changed, 6 insertions(+), 2 deletions(-)

commit 305f182218bc6e29259046e43fe54e20556388cd
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Nov 27 18:54:58 2008 +0000

    GabbleRoomlistManager: add a comment to explain why we use a temporary variable

 src/roomlist-manager.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 2d5243ab0ca20ac3ba439323ea812eb0931119a0
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Nov 27 18:52:01 2008 +0000

    GabbleOlpcGadgetManager: fix a double free in _dispose

 src/olpc-gadget-manager.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 823bfd834b7d88c2fd280a21fdc13bb4315e855c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Nov 27 18:50:18 2008 +0000

    GabbleImFactory: add a comment to explain why we use a temporary variable

 src/im-factory.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit e3489362e360074e4d0cbd7058ea0f741d85be0d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Nov 27 18:48:29 2008 +0000

    GabblePrivateTubesFactory: add a comment to explain why we use a temporary variable

 src/private-tubes-factory.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 67cc69eb1f3f41e628a7f1db78ece7043de1e648
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Nov 27 18:46:55 2008 +0000

    GabbleRoster: fix double free on Disconnect

 src/roster.c |    9 +++++++--
 1 files changed, 7 insertions(+), 2 deletions(-)

commit 11fdd8164e906f3dbe28588d8be418785b36bd99
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Nov 27 13:37:40 2008 +0000

    Caps: fix prototype for gabble_caps_channel_manager_update_capabilities

 src/caps-channel-manager.c  |    2 +-
 src/caps-channel-manager.h  |    2 +-
 src/private-tubes-factory.c |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 37d59998d6378164017d0a046f7931d0c8fa8016
Merge: 257dfbd df4d5ab
Author: Marco Barisione <marco@barisione.org>
Date:   Fri Nov 21 19:08:14 2008 +0000

    Merge branch 'socks5-bytestreams' into si-fallback
    
    Conflicts:
    
    	tests/twisted/Makefile.am

commit df4d5abc2458a028ec2c59b8c4a114c1c97378ac
Author: Marco Barisione <marco@barisione.org>
Date:   Fri Nov 21 19:04:08 2008 +0000

    Style fixes

 src/bytestream-factory.c |    4 +-
 src/bytestream-socks5.c  |   90 ++++++++++++++++++++++++++++++---------------
 2 files changed, 62 insertions(+), 32 deletions(-)

commit 463240cb12e6328e644b0c3a8bbdaf666bb064ba
Merge: d99a856 99d02ac
Author: Marco Barisione <marco@barisione.org>
Date:   Fri Nov 21 16:21:50 2008 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble into socks5-bytestreams
    
    Conflicts:
    
    	tests/twisted/Makefile.am

commit 257dfbdcd10928f1d3b5442158f7d9259998c1ec
Author: Marco Barisione <marco@barisione.org>
Date:   Fri Nov 21 16:16:22 2008 +0000

    Remove a useless return

 tests/twisted/tubes/test-si-fallback.py |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit b3f08d18d2c41b119b3443ffd5acba627e540f92
Author: Marco Barisione <marco@barisione.org>
Date:   Fri Nov 21 16:14:58 2008 +0000

    Be sure to always close the active bytestream and not just the first one

 src/bytestream-multiple.c |   45 +++++++++++++++++++++++++++++++--------------
 1 files changed, 31 insertions(+), 14 deletions(-)

commit 40ef2c35d81cc5378d7432394e07981e5aca5575
Author: Marco Barisione <marco@barisione.org>
Date:   Wed Nov 19 17:54:51 2008 +0000

    Remove an unneeded g_object_unref()

 src/bytestream-socks5.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 5d1e9353c7b72fb47a87ec4db81b0ef744901ae4
Author: Marco Barisione <marco@barisione.org>
Date:   Wed Nov 19 17:38:23 2008 +0000

    Implement SI fallback

 src/Makefile.am                         |    2 +
 src/bytestream-factory.c                |  173 +++++++--
 src/bytestream-factory.h                |    6 +
 src/bytestream-ibb.c                    |   23 ++
 src/bytestream-iface.c                  |    8 +
 src/bytestream-multiple.c               |  604 +++++++++++++++++++++++++++++++
 src/bytestream-multiple.h               |   74 ++++
 src/bytestream-socks5.c                 |   67 +++-
 src/tube-stream.c                       |    8 +
 tests/twisted/Makefile.am               |    1 +
 tests/twisted/tubes/test-si-fallback.py |  332 +++++++++++++++++
 11 files changed, 1241 insertions(+), 57 deletions(-)

commit c4843b7a138113ea85b839fef5a3adc343560262
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Nov 19 12:55:41 2008 +0000

    Update test-caps-tubes.py because ContactCapabilitiesChanged is plurialized

 tests/twisted/test-caps-tubes.py |  119 +++++++++-----------------------------
 1 files changed, 27 insertions(+), 92 deletions(-)

commit e60de8c4f061f910d6307c45482331fd5a7c89f3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Nov 18 20:43:57 2008 +0000

    Caps: emit the plurialized version of CapChanged

 src/connection.c |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit e67d54b60ab3b8925b5aca4251013f5aa2047788
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Nov 18 20:36:25 2008 +0000

    Caps: Use the type Requestable Channel Class

 src/connection.c            |    2 +-
 src/im-factory.c            |    5 +++--
 src/private-tubes-factory.c |    4 ++--
 3 files changed, 6 insertions(+), 5 deletions(-)

commit 4b2bce1fca7d278e86ee804da2ff2547001fcc88
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Nov 18 20:25:36 2008 +0000

    Add Requestable_Channel_Class in the list of external types used

 extensions/all.xml |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 1f19ee2427ea167cfad2ffd5d305e443c3887429
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Nov 18 20:18:57 2008 +0000

    Add new caps specs from spec meeting Mon 17 Nov 2008

 .../Connection_Interface_Contact_Capabilities.xml  |   86 +++++++++-----------
 1 files changed, 39 insertions(+), 47 deletions(-)

commit 43f32e85786e3db622b82d931a987e7af86fcc92
Merge: 653b291 183766c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Nov 18 20:18:09 2008 +0000

    Merge branch 'tubes-new-spec' into alban-enhanced-caps-with-complex-types

commit 183766c57371b62e000c888eb9991e4d3fbfc39b
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Nov 18 20:16:24 2008 +0000

    Remove implementation of GetStreamTubeSocketAddress on org.freedesktop.Telepathy.Channel.Type.StreamTube

 src/tube-stream.c |   19 -------------------
 1 files changed, 0 insertions(+), 19 deletions(-)

commit 1021fe7d22371c600b136ceb8dbd04e6814ddf2f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Nov 18 20:10:02 2008 +0000

    Add new tube specs from spec meeting Mon 17 Nov 2008

 extensions/Channel_Interface_Tube.xml   |   12 +++++--
 extensions/Channel_Type_DBus_Tube.xml   |    8 ++--
 extensions/Channel_Type_Stream_Tube.xml |   51 +++++++++----------------------
 3 files changed, 27 insertions(+), 44 deletions(-)

commit 4c5872440c637e550a94ec7c320e1adee104b436
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Nov 18 16:40:33 2008 +0000

    IM, MUC: include text/plain in SupportedContentTypes

 src/im-channel.c  |    5 ++++-
 src/muc-channel.c |    5 ++++-
 2 files changed, 8 insertions(+), 2 deletions(-)

commit 6a9297f28cf496352a457f251627c33876f98e59
Merge: 9c1db1a 99d02ac
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Nov 18 16:00:24 2008 +0000

    Merge branch 'master' into messages

commit 9c1db1a587751fc3896c594f47e65bd82849c5bd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Nov 18 15:04:22 2008 +0000

    ImChannel: add delivery reporting support flags

 src/im-channel.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 9edf00eaebf6e85a093064770decd74f8eef2808
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Nov 18 15:02:27 2008 +0000

    MUC: add delivery reporting support flags

 src/muc-channel.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit f365f7c6159b5e07d9634a2431ca66d98446a7ba
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Nov 18 14:51:29 2008 +0000

    IM, MUC: Emit MessageSendingFlags appropriately

 src/im-channel.c   |    7 +++++--
 src/message-util.c |    6 ++++--
 src/message-util.h |    5 +++--
 src/muc-channel.c  |    4 +++-
 4 files changed, 15 insertions(+), 7 deletions(-)

commit 3210adff6637443fe265bd33d1ccc5aa29d0e783
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Nov 14 16:29:58 2008 +0100

    jingle_media_rtp_codec_free: fix whitespace

 src/jingle-media-rtp.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c79773cf6f59869f467a88b0b34c3f44bbaab8d9
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Nov 14 16:26:38 2008 +0100

    GabbleMediaStream: simplify code to ignore non-rtp components

 src/media-stream.c |   15 +++------------
 1 files changed, 3 insertions(+), 12 deletions(-)

commit f42012b3f480b658b9c714a3864848b1d84c6324
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Nov 14 14:30:54 2008 +0100

    jingle/test-incoming-call.py: use SupportedCodecs signal

 tests/twisted/jingle/test-incoming-call.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit be5e75aa0dab7e55d5e39c182ec1a6b035a55f79
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Nov 14 14:29:48 2008 +0100

    GabbleMediaChannel: don't require all possible jingle features for media caps

 src/media-channel.c |   15 ++++++++-------
 1 files changed, 8 insertions(+), 7 deletions(-)

commit 1f29a13f8d09dfe702695d7bca7cd3dc3fb0b607
Merge: 51eb40a 99d02ac
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Nov 14 13:21:19 2008 +0100

    Merge commit 'upstream/master'

commit 51eb40a4090cd745043e129e6ea0d2e2c15df792
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Nov 14 13:16:03 2008 +0100

    test-dialects-incoming.py: deal with racy MembersChanged signal

 tests/twisted/jingle/test-dialects-incoming.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 71ed7e1d3a1efc8d0d6d6a6723c73aa54d4fec19
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Nov 14 13:14:54 2008 +0100

    use SupportedCodecs signal in jingle tests

 tests/twisted/jingle/test-content-complex.py   |    3 +++
 tests/twisted/jingle/test-dialects-incoming.py |    3 +++
 2 files changed, 6 insertions(+), 0 deletions(-)

commit 5ec325468af7f4c626ff6abf945a0eae2d573da0
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Nov 14 13:11:05 2008 +0100

    GabbleMediaStream: let content parse initial codecs/candidates before asking for them

 src/media-stream.c |   35 +++++++++++++++++++++++++----------
 1 files changed, 25 insertions(+), 10 deletions(-)

commit 632b9ccccb254a779e1175555ed1b78dfcbf0125
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Nov 14 13:09:48 2008 +0100

    GabbleJingleSession: session termination idempotence

 src/jingle-session.c |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit acca2c7868de70c8d2a8ef45555e2bf768aa29db
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Nov 14 13:08:39 2008 +0100

    GabbleJingleSession: immediately set content properties so media stream can use them in content creation callback

 src/jingle-session.c |   19 +++++++++----------
 1 files changed, 9 insertions(+), 10 deletions(-)

commit 6d79d676f8c457dcb1cf0b02115bc8fb328779fb
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Nov 14 13:07:44 2008 +0100

    GabbleJingleContent: don't update content senders if they haven't changed

 src/jingle-content.c |   15 ++++++++++-----
 src/media-stream.c   |    6 +-----
 2 files changed, 11 insertions(+), 10 deletions(-)

commit 0f4f64effefca6dbe90daef90b39344053e769a1
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Nov 14 10:25:26 2008 +0100

    workaround for Loudmouth not handling xml namespaces

 src/jingle-content.c          |   21 +++++++-----
 src/jingle-media-rtp.c        |    4 ++-
 src/jingle-session.c          |   14 +++++---
 src/jingle-transport-google.c |    2 +-
 src/util.c                    |   69 ++++++++++++++++++++++++++++++++--------
 src/util.h                    |    5 +++
 6 files changed, 84 insertions(+), 31 deletions(-)

commit 0dc85b00cdcd3e396abe9dcfec55e20e001ecf02
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Nov 14 09:48:24 2008 +0100

    jingle-session.c: refactor content creation code

 src/jingle-session.c |  103 +++++++++++++++++++++++++------------------------
 1 files changed, 53 insertions(+), 50 deletions(-)

commit b9ce26b657f59298f44728beaa41bc5991ee0f06
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Nov 14 09:34:14 2008 +0100

    support component numbering in jingle transports (still ignore everything except rtp for now)

 src/jingle-content.h          |    1 +
 src/jingle-transport-google.c |   25 +++++++++++++++++--------
 src/jingle-transport-iface.c  |    3 ++-
 src/jingle-transport-iface.h  |    7 ++++---
 src/media-stream.c            |   13 +++++++++----
 5 files changed, 33 insertions(+), 16 deletions(-)

commit dee311191be2527ff4134b456222553925ab45e4
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Nov 14 10:00:56 2008 +0100

    GabbleMediaStream: use SetSupportedCodecs when we're stream responder

 src/jingle-content.c |    6 ++++
 src/jingle-content.h |    1 +
 src/media-stream.c   |   67 +++++++++++++++++++++++++++++---------------------
 3 files changed, 46 insertions(+), 28 deletions(-)

commit 08c470d01ef6a7594e9b2168e23b389df40ef172
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Nov 12 22:47:49 2008 +0100

    media-stream.c: make update_sending a file-level function

 src/media-stream.c |   12 ++++++------
 src/media-stream.h |    2 --
 2 files changed, 6 insertions(+), 8 deletions(-)

commit 16cfc1c728fce490e9cde1c264231a77c36cec08
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Nov 12 22:32:00 2008 +0100

    jingle_media_rtp_codec_free: param hashtable is always there, destroy it unconditionally

 src/jingle-media-rtp.c |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit 60232a3699ceb71c593c895a7362cac86521bc41
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Nov 12 21:58:35 2008 +0100

    gabble_media_factory_requestotron: remove unused variable conn

 src/media-factory.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit b646e92298d946682a9323de5b5c7706276efd98
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Nov 12 21:40:12 2008 +0100

    media-stream.c: remove dead code dealing with remote pending send

 src/media-stream.c |   21 ---------------------
 1 files changed, 0 insertions(+), 21 deletions(-)

commit 2eed0f65cc9bac66d18fece113f0a12a3fe1a8e8
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Nov 12 20:59:59 2008 +0100

    gabble_media_stream_set_stream_state: debug log the invalid stream state request

 src/media-stream.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 99d02aca906087861dfab9dd4dde252957d53386
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Nov 12 15:41:30 2008 +0000

    test-si-tubes.py: Better code for: Check that tube offers contains @to with the resource

 tests/twisted/tubes/test-si-tubes.py |    6 ++----
 1 files changed, 2 insertions(+), 4 deletions(-)

commit f4dbdeadb62386856cb39e9c982b41b5eccbcf0e
Merge: 898f904 0d53c3e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Nov 12 15:21:46 2008 +0000

    Merge branch 'master' into bug18480

commit 898f9043494d8ae0ced7b0a6145e5c8cc0323654
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Nov 12 15:20:43 2008 +0000

    test-si-tubes.py: Check that tube offers contains @to with the resource

 tests/twisted/tubes/test-si-tubes.py |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 7444a784e470bd93ab5efa9346779a75e68ddbf9
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Nov 12 13:51:50 2008 +0000

    tests/twisted/tubes/test-si-tubes.py: Offering a tube to someone who does not support tube does not work anymore.

 tests/twisted/tubes/test-si-tubes.py |    6 ++----
 1 files changed, 2 insertions(+), 4 deletions(-)

commit db4b99680f4838154f4a7b868004c9b9b74345df
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Nov 12 13:41:28 2008 +0000

    src/tube-stream.c: When offering a 1-1 stream tube, set the full jid with the resource

 src/tube-stream.c |   32 +++++++++++++++++++++++++++++++-
 1 files changed, 31 insertions(+), 1 deletions(-)

commit d4d5a2f99eb5e1a2471662c09ff04aee865dde36
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Nov 12 11:31:15 2008 +0000

    MUC: ignore non-error, non-echos from the MUC
    
    (It's not clear that they ever contain useful information, and we previously
    suppressed them.)

 src/muc-channel.c |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit 596a598c01074f83112414bf393b2597bb4e47ae
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Nov 11 14:49:10 2008 +0100

    refactor jingle candidate sending so they're sent for non-initial contents too

 src/jingle-content.c |   17 +++++++++--------
 src/jingle-session.c |   10 ++++++++++
 2 files changed, 19 insertions(+), 8 deletions(-)

commit 00d7e3cfefdcb18c0d03e1e8a3f83ba6984eb631
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Nov 11 14:44:18 2008 +0100

    GabbleMediaStream: more stream direction handling fixes

 src/media-channel.c |   31 +++++++------------------------
 src/media-stream.c  |   41 +++++++++++++++++++++++++----------------
 2 files changed, 32 insertions(+), 40 deletions(-)

commit eb77fc5717392cebbd1d287eb813a9b72affa639
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Nov 11 14:36:26 2008 +0100

    GabbleJingleContent: senders are optional instead of required attribute

 src/jingle-content.c |   36 ++++++++++++------------------------
 1 files changed, 12 insertions(+), 24 deletions(-)

commit 0d53c3ecdc32518270d8cafc228f6d7018946ff9
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Nov 12 00:21:34 2008 +0000

    Twisted tests: fix 'eavesdrop' parameter on the D-Bus test session

 tests/twisted/tools/tmp-session-bus.conf.in |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7cea1ec279c2608727764dec65790f22b45af3d3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Nov 11 23:01:08 2008 +0000

    test-si-tubes.py: Fix comment

 tests/twisted/tubes/test-si-tubes.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 2706f6897293862ca47699551bb5f7a798df64cf
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Nov 11 20:03:37 2008 +0000

    Test AcceptStreamTube: test bad parameters

 tests/twisted/tubes/test-si-accept-tubes.py |  103 +++++++++++++++++++++++++--
 1 files changed, 97 insertions(+), 6 deletions(-)

commit a2ae0845009d79eca85fabfda823ca4b70bf2279
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Nov 11 20:03:07 2008 +0000

    AcceptStreamTube: handle bad parameters correctly

 src/tube-stream.c   |   16 ++++++++++------
 src/tubes-channel.c |   13 ++++++++++++-
 2 files changed, 22 insertions(+), 7 deletions(-)

commit 96ad67c3b6e7b9b4b32da162475d04b0740a7f69
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Nov 11 19:35:09 2008 +0000

    src/tube-stream.c: Fix: set the address type correctly on the new tube iface

 src/tube-stream.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit e40021e94fbc687d00a5279ff7ec1186b3df2c7d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Nov 11 19:17:02 2008 +0000

    AcceptStreamTube: test both unix sockets and IPv4 sockets

 tests/twisted/tubes/test-si-accept-tubes.py |  154 ++++++++++++++++-----------
 1 files changed, 92 insertions(+), 62 deletions(-)

commit e9ab1c775c48a210b001e058589db1a1eaebd536
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Nov 11 18:35:57 2008 +0000

    test-si-accept-tubes.py: Remove dead code, clean up

 tests/twisted/tubes/test-si-accept-tubes.py |  169 +--------------------------
 1 files changed, 3 insertions(+), 166 deletions(-)

commit abe38bf926ab4550d422e3713d0614acfc558ea9
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Nov 11 18:22:22 2008 +0000

    New test: Accept a 1-1 stream tube

 tests/twisted/Makefile.am                   |    1 +
 tests/twisted/tubes/test-si-accept-tubes.py |  311 +++++++++++++++++++++++++++
 2 files changed, 312 insertions(+), 0 deletions(-)

commit f28a1b3f3f8f16d95d9e804ad5c6137f0387cf93
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Nov 11 18:03:39 2008 +0000

    GabbleTubesChannel: Emit the NewChannel{s,} signals when a stream tube is created as a result of receiving a tube offer from a contact

 src/tubes-channel.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 9180779383eb14aee3422e24894a445b2f2ba5a0
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Nov 11 15:59:46 2008 +0000

    test-si-tubes.py: Test to offer a stream tube to a contact that does not advertise the tube capability

 tests/twisted/tubes/test-si-tubes.py |   69 ++++++++++++++++++++++++++++++----
 1 files changed, 61 insertions(+), 8 deletions(-)

commit 1c2329dd5a3260a5e0ec1266dfdf2dfb849f24dd
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Nov 11 15:20:49 2008 +0000

    Stream tubes: Check access_control in gabble_tube_stream_check_params() for both OfferStreamTube and AcceptStreamTube in both old tube interface and new tube interface.

 src/tube-stream.c   |  219 ++++++++++++++++++++++++--------------------------
 src/tubes-channel.c |   32 +-------
 2 files changed, 106 insertions(+), 145 deletions(-)

commit da04a2aadcfe2f310815adf90584d0485f54f8f0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Nov 11 13:17:03 2008 +0000

    Add a regression test for sending and receiving chat states

 tests/twisted/Makefile.am             |    1 +
 tests/twisted/text/test-chat-state.py |  150 +++++++++++++++++++++++++++++++++
 2 files changed, 151 insertions(+), 0 deletions(-)

commit d0b73df900b8a6b15ff40a7e034233a16540fc51
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Nov 11 13:12:59 2008 +0000

    ImFactory: fix receiving chat states
    
    Previously, chat state nodes were ignored if the message *did not* contain an
    <error/>; the sense of the test was inverted

 src/im-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit df74100c7af2dc24742d1de0ab56cd13bcd49923
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Nov 11 12:45:49 2008 +0000

    Revert "Stream tubes: AcceptStreamTube: only accept UNIX sockets."
    
    This reverts commit d0a66d6ff89010c0b78f2db42c7ce0fcd5e666a1.

 src/tube-stream.c   |    4 +++-
 src/tubes-channel.c |    4 +++-
 2 files changed, 6 insertions(+), 2 deletions(-)

commit d99a856c949f41b9a7e4912994be89a2f4523e56
Author: Marco Barisione <marco@barisione.org>
Date:   Tue Nov 11 11:43:42 2008 +0000

    Some SOCSK5 tests were actually testing IBB

 tests/twisted/tubes/test-si-socks5-tubes.py |   92 +++++++++++++++++---------
 1 files changed, 60 insertions(+), 32 deletions(-)

commit 653b2910ad26c10803a6067032bfc9514d988383
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Nov 10 17:08:11 2008 +0000

    src/private-tubes-factory.c: Fix: do not send the NewChannels signal twice

 src/private-tubes-factory.c |   33 +++++++++++++++++++--------------
 1 files changed, 19 insertions(+), 14 deletions(-)

commit 8fff72c033b79408296430745b18bdeac67c7846
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Nov 10 16:51:54 2008 +0000

    src/private-tubes-factory.c: English: "either, or"

 src/private-tubes-factory.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 3b48d6c8c59bea9100f86dd152414d365543bd5d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Nov 10 16:50:57 2008 +0000

    src/private-tubes-factory.c: Better English, again

 src/private-tubes-factory.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit d3bce54cd7ad2db173cafa4fc64b481424577264
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Nov 10 16:49:36 2008 +0000

    src/private-tubes-factory.c: Better english, thanks to Will

 src/private-tubes-factory.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 6d7570da3c0a9455800eb7afb206fd8a6c19dd45
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Nov 10 14:53:26 2008 +0000

    src/connection.c: Use g_value_array_free to free enhanced capabilities

 src/connection.c |    6 +-----
 1 files changed, 1 insertions(+), 5 deletions(-)

commit 3d36c67c1fd89bf17f31f60471885455fb5455f8
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Nov 10 14:53:08 2008 +0000

    src/connection.c: Use g_value_array_free to free capabilities

 src/connection.c |    6 +-----
 1 files changed, 1 insertions(+), 5 deletions(-)

commit 76e37b75629cda586eab3fbfa2efef2e0824d95c
Merge: 2a39510 334a12f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Nov 10 12:28:23 2008 +0000

    Merge branch 'master' into alban-enhanced-caps-with-complex-types

commit d9eddaa5706001aced87e5c2af60a8b245cc484e
Author: Marco Barisione <marco@barisione.org>
Date:   Mon Nov 10 11:24:41 2008 +0000

    Don't leak the channel that listens for incoming socks5 connections

 src/bytestream-socks5.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit c14b74055985f301c0c5221f597e4893f9bcb159
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Nov 10 10:55:29 2008 +0000

    text-text-no-body: xep 0085 says "every content message SHOULD contain an <active/> notification."

 tests/twisted/text/test-text-no-body.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4470d761b1ea22345f01a3267e4b0c60c4600003
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Nov 10 10:54:23 2008 +0000

    tests: add Chat State xmlns to ns.py

 tests/twisted/ns.py                     |    1 +
 tests/twisted/text/test-text-no-body.py |    6 ++++--
 2 files changed, 5 insertions(+), 2 deletions(-)

commit a70cd6a54dcc3315be40c6897081babca5d1e0fb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Nov 7 19:05:40 2008 +0000

    Muc: emit failed delivery reports rather than SendError

 src/muc-channel.c               |   76 +++++++++++++++------
 src/muc-channel.h               |    3 +-
 src/muc-factory.c               |   33 ++++-----
 tests/twisted/Makefile.am       |    1 +
 tests/twisted/muc/send-error.py |  138 +++++++++++++++++++++++++++++++++++++++
 5 files changed, 210 insertions(+), 41 deletions(-)

commit 9cea1adf4f91a68c75b3e308b66c12b77cffd8d6
Author: Marco Barisione <marco@barisione.org>
Date:   Fri Nov 7 18:50:20 2008 +0000

    Move the duplicated SOCKS5 channel setup to a function

 src/bytestream-socks5.c |   82 +++++++++++++++++++++-------------------------
 1 files changed, 37 insertions(+), 45 deletions(-)

commit d135026dbc6f4127a47a842c5ee4bfbaf2cd5484
Author: Marco Barisione <marco@barisione.org>
Date:   Fri Nov 7 18:34:52 2008 +0000

    Handle errors when listening on the SOCKS5 socket

 src/bytestream-socks5.c |   11 +++++++++--
 1 files changed, 9 insertions(+), 2 deletions(-)

commit 42669126b2d97e729a9fd38018d038bf4ca1ee12
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Nov 7 18:29:58 2008 +0000

    Map <not-authorized/> to Send_Error_Permission_Denied

 src/message-util.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit dd88540ce55e2157c75cd1f964802c63adfe4963
Author: Marco Barisione <marco@barisione.org>
Date:   Fri Nov 7 18:24:07 2008 +0000

    Don't fail if the streamhost suppports more than one auth method

 src/bytestream-socks5.c |   36 +++++++++++++++++++++++++-----------
 1 files changed, 25 insertions(+), 11 deletions(-)

commit 9d82a4774ba0b8a7b483a7ad4d9d16b5aacc89ba
Author: Marco Barisione <marco@barisione.org>
Date:   Fri Nov 7 18:01:11 2008 +0000

    Remove a now useless assert

 src/bytestream-socks5.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 7ded8b9f5eb1d441b2161fe706d4613d5e7d4f9f
Author: Marco Barisione <marco@barisione.org>
Date:   Fri Nov 7 17:59:20 2008 +0000

    Free the buffers when the SOCKS5 GIOChannel is closed

 src/bytestream-socks5.c |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit c64dc321bfccd8bf35f57c0860218f5b97e61cab
Author: Marco Barisione <marco@barisione.org>
Date:   Fri Nov 7 17:55:25 2008 +0000

    Don't the the GIOChannel is case of connection error

 src/bytestream-socks5.c |   56 +++++++++++++++++++++++++++-------------------
 1 files changed, 33 insertions(+), 23 deletions(-)

commit 6de94d54c30a2500c08da7b2308ca385d454cf48
Author: Marco Barisione <marco@barisione.org>
Date:   Fri Nov 7 17:50:15 2008 +0000

    Don't define twice the same variable

 src/bytestream-socks5.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 8c2553a43a6a40ef7fdc1633f7b1282387aa0052
Author: Marco Barisione <marco@barisione.org>
Date:   Fri Nov 7 17:40:57 2008 +0000

    Handle errors on the SOCKS5 bytestream

 src/bytestream-socks5.c |  167 ++++++++++++++++++++++++++++++++++++-----------
 1 files changed, 129 insertions(+), 38 deletions(-)

commit 087693be39a5ed0608c14f968b8b937db6b9ee94
Author: Marco Barisione <marco@barisione.org>
Date:   Fri Nov 7 17:30:21 2008 +0000

    Send a valid SOCKS5 connect command instead of dummy data

 tests/twisted/tubes/test-si-socks5-tubes.py |   10 ++++++++--
 1 files changed, 8 insertions(+), 2 deletions(-)

commit fe77f6fa27c805b9aa0cbbc55e799553a1aaa5b0
Merge: a646843 334a12f
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Fri Nov 7 16:58:58 2008 +0100

    Merge commit 'upstream/master'

commit a64684335538c3f2529f756e268bd79dc2334c67
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Fri Nov 7 16:58:02 2008 +0100

    GabbleMediaChannel: advertise jingle-v0.15 and jingle-v0.32 dialect support

 src/media-channel.c |    8 +++++---
 1 files changed, 5 insertions(+), 3 deletions(-)

commit 4bcdf1735901f7c31343081e0ca181f8f645bfc2
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Fri Nov 7 16:57:31 2008 +0100

    JingleMediaRtp: use proper namespace for RTP

 src/jingle-media-rtp.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b107866913e972ecf5bb3e2cc55e8ecd6f220a61
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Fri Nov 7 12:53:57 2008 +0100

    GabbleJingleSession: count streams being initiated by remote peer as "active" so we don't remove the session if only they are left.
    This happens when we want to reject some streams initiated by peers "session-initiate" action

 src/jingle-session.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c83eaf6cc3db5ba1f6145f33782b15b7269592c7
Merge: c3d2888 334a12f
Author: Marco Barisione <marco@barisione.org>
Date:   Fri Nov 7 11:33:17 2008 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble into socks5-bytestreams
    
    Conflicts:
    
    	tests/twisted/tubes/test-si-socks5-tubes.py

commit 2af7bc06b8e56d0fe367eb1a95691c7f0a499b65
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Fri Nov 7 12:28:19 2008 +0100

    GabbleMediaChannel: set media type when creating the stream

 src/media-channel.c |   10 +++++++---
 1 files changed, 7 insertions(+), 3 deletions(-)

commit 9f8ebe31997986972ab049a6ea8be1f781775496
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Fri Nov 7 12:27:27 2008 +0100

    GabbleJingleSession: fix check whether session contents are ready

 src/jingle-session.c |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit c3d2888e71a4bd915ecbfc440bcead90f1088a79
Author: Marco Barisione <marco@barisione.org>
Date:   Fri Nov 7 10:49:19 2008 +0000

    sha1_hex accepts a guint for the string length so don't pass -1

 src/bytestream-socks5.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit adc7977a0133b990584cf792949683932ff221ce
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Thu Nov 6 21:44:22 2008 +0100

    allocate/free helpers for JingleCodec and JingleCandidate structs

 src/jingle-media-rtp.c        |   54 +++++++++++++++++++++++++++-------------
 src/jingle-media-rtp.h        |    5 ++++
 src/jingle-session.c          |    3 +-
 src/jingle-transport-google.c |   39 ++++-------------------------
 src/jingle-transport-iface.c  |   40 ++++++++++++++++++++++++++++++
 src/jingle-transport-iface.h  |    8 ++++++
 src/media-stream.c            |   42 ++++++++++++++++----------------
 7 files changed, 117 insertions(+), 74 deletions(-)

commit 5ec17d486353ccfd2636874838c3ccd07d9bd3f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Nov 6 17:25:33 2008 +0000

    stop to use g_warning and use DEBUG instead

 src/conn-aliasing.c  |    2 +-
 src/media-stream.c   |    8 ++++----
 src/muc-channel.c    |   44 ++++++++++++++++++++------------------------
 src/presence-cache.c |    4 ++--
 src/text-mixin.c     |    4 ++--
 5 files changed, 29 insertions(+), 33 deletions(-)

commit fcd03d84cb87df45743aac7a26f27cdfd83cbb92
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Nov 6 17:16:35 2008 +0000

    make warning crashers when running tests

 tests/twisted/tools/exec-with-log.sh.in |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 334a12f82a4dc02a0418469f7aed217d9835a8fc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Nov 6 11:12:22 2008 +0000

    Fix race condition in roster/ensure.py (fd.o #18404)

 tests/twisted/roster/ensure.py |   14 +++-----------
 1 files changed, 3 insertions(+), 11 deletions(-)

commit 22383483c0dee0c3ea85e4627198a23f6bb9c3e1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Nov 6 10:19:35 2008 +0000

    Start 0.7.16 development

 NEWS         |    9 +++++++++
 configure.ac |    2 +-
 2 files changed, 10 insertions(+), 1 deletions(-)

commit 7db78d114a171c9e1b972b92359803c8c6e1837d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Nov 6 09:53:36 2008 +0000

    Prepare release 0.7.15

 NEWS         |   16 ++++++++++++++--
 configure.ac |    4 ++--
 2 files changed, 16 insertions(+), 4 deletions(-)

commit 413ef7e44b8c00ed94f0bea77173cb80abe5d8e8
Merge: 31246e1 4367222
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Nov 6 09:40:19 2008 +0000

    Merge branch 'trivia'

commit 31246e15627deb425d0f8c5a7fa6b73fa862e5f1
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Thu Nov 6 00:09:18 2008 +0100

    gabble_media_stream_new_native_candidate(): properly scan transports and get candidate numbers

 src/media-stream.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 8173aa14e28800f727601b4fb4e1f5e11e4ef484
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Nov 6 01:41:09 2008 +0000

    IMChannel: attach message-received to the right bit of delivery reports

 src/im-channel.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 18d9528c75eb2ee92bd30f6a308c778603e6b2dc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Nov 6 01:11:45 2008 +0000

    IMChannel: report whether send errors are temporary or permanent

 src/im-channel.c                 |    9 ++--
 src/im-channel.h                 |    3 +-
 src/im-factory.c                 |    2 +-
 src/message-util.c               |    4 +-
 tests/twisted/text/send-error.py |  108 ++++++++++++++++++++++++++++++++++---
 5 files changed, 108 insertions(+), 18 deletions(-)

commit f8a646b03a10ae508942ffa6272d12e844f5f58d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Nov 6 00:53:00 2008 +0000

    parse_incoming_message: return TpDeliveryStatus based on error type

 src/im-factory.c           |    3 +-
 src/message-util.c         |   21 +++++++--
 src/message-util.h         |    3 +-
 src/muc-factory.c          |    3 +-
 tests/test-parse-message.c |  109 ++++++++++++++++++++++++++++++++++++++++++--
 5 files changed, 127 insertions(+), 12 deletions(-)

commit 8e0546224d718928d2f8c5922bb6a3886dca818c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Nov 5 23:55:03 2008 +0000

    gabble_xmpp_error_from_node: extract type attribute from <error>

 src/conn-aliasing.c |    3 ++-
 src/conn-olpc.c     |    4 ++--
 src/error.c         |   42 +++++++++++++++++++++++++++++++++++++++---
 src/error.h         |   12 +++++++++++-
 src/media-factory.c |    2 +-
 src/message-util.c  |    2 +-
 src/muc-channel.c   |    4 ++--
 src/register.c      |    2 +-
 8 files changed, 59 insertions(+), 12 deletions(-)

commit 794a57d419dbcdb5e2a96415271e0a40324dff92
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Nov 5 18:31:30 2008 +0000

    ImChannel: emit failed delivery reports in response to incoming errors
    
    TpMessageMixin emits SendError on top of [Message]Received when such a
    delivery report is passed to _take_received().

 src/im-channel.c                 |   42 ++++++++++++--
 src/im-channel.h                 |    2 +-
 src/im-factory.c                 |   11 +---
 tests/twisted/Makefile.am        |    1 +
 tests/twisted/text/send-error.py |  110 ++++++++++++++++++++++++++++++++++++++
 5 files changed, 151 insertions(+), 15 deletions(-)

commit a8088a4cf1e5c4e296bb94fcb5ad7f49a2870fc3
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Thu Nov 6 00:09:18 2008 +0100

    gabble_media_stream_new_native_candidate(): properly scan transports and get candidate numbers

 src/media-stream.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit c9d7f246d6e7e1419830921cabb5fa3657f85106
Merge: 28d2e6b 8e1c9f8
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Wed Nov 5 23:42:56 2008 +0100

    Merge commit 'upstream/master'
    
    Ported commit 169ca96800606c9dee18ffbbeff591d61315ff2f to the new jingle code
    Conflicts:
    
    	src/media-stream.c

commit 28d2e6bc63c335e3d2c273d0ff9324a6a481ca7d
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Wed Nov 5 21:40:36 2008 +0100

    GabbleJingleSession: fix gtalk3 detection on "candidates" jingle action

 src/jingle-session.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 14052102666471bd5dadfc05caec180350e0815d
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Wed Nov 5 21:18:05 2008 +0100

    GabbleMediaStream: hook up jingle "senders" and stream direction logic

 src/media-stream.c |   91 +++++++++++++++++++++++++++++++++++++++++++++------
 1 files changed, 80 insertions(+), 11 deletions(-)

commit 663a26eaae7435288c576f0b96ccd17462842612
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Wed Nov 5 21:17:22 2008 +0100

    GabbleJingleContent: destroy timeout timer before content is disposed

 src/jingle-content.c |   13 ++++++++-----
 1 files changed, 8 insertions(+), 5 deletions(-)

commit c2060eacd6ed6423ebc012a2b1e51f3c71c4ffa2
Author: Marco Barisione <marco@barisione.org>
Date:   Wed Nov 5 20:10:09 2008 +0000

    Testing sending another working <streamhost> but that should not be tried

 tests/twisted/tubes/test-si-socks5-tubes.py |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit f5870343ad099ad18a13a4445158cf9dd18a320e
Author: Marco Barisione <marco@barisione.org>
Date:   Wed Nov 5 20:07:12 2008 +0000

    Test sending more than a single <streamhost>

 tests/twisted/tubes/test-si-socks5-tubes.py |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 9d6794fe085652acb17641f95d8c492e4aabfaa8
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Wed Nov 5 20:38:46 2008 +0100

    GabbleJingleContent: implemented timeout for content addition

 src/jingle-content.c |   30 ++++++++++++++++++++++++++++++
 src/jingle-session.c |    1 +
 2 files changed, 31 insertions(+), 0 deletions(-)

commit 03b793bfc8ded00a10c9ea0299ebf42a16bb28b6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Nov 5 18:28:42 2008 +0000

    Use "content-type" message key rather than "type"
    
    This was changed in spec version 0.17.14

 src/im-channel.c                |    2 +-
 src/message-util.c              |    2 +-
 src/muc-channel.c               |    2 +-
 tests/twisted/muc/test-muc.py   |    8 ++++----
 tests/twisted/text/test-text.py |    8 ++++----
 5 files changed, 11 insertions(+), 11 deletions(-)

commit 6432ba5b72d09ddd24e5531d81eb361fd6ccdada
Author: Marco Barisione <marco@barisione.org>
Date:   Wed Nov 5 16:46:10 2008 +0000

    Don't leak the streamhosts list

 src/bytestream-socks5.c |   40 ++++++++++++++++++++++++++++++++++------
 1 files changed, 34 insertions(+), 6 deletions(-)

commit 8f177d3094f7f5925e605e35ad2e6dd254ebbb01
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Nov 5 16:02:18 2008 +0000

    Pass TpDeliveryReportSupportFlags=0 to tp_message_mixin_implement_sending

 src/im-channel.c  |    2 +-
 src/muc-channel.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 0631e14a1dd62acf07da2678b230e96ea082f3dc
Author: Marco Barisione <marco@barisione.org>
Date:   Wed Nov 5 15:18:28 2008 +0000

    Remove an outdated comment

 src/bytestream-socks5.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7e6003d52412c33813c24f6aea612e41693ee979
Author: Marco Barisione <marco@barisione.org>
Date:   Wed Nov 5 14:57:50 2008 +0000

    Set the domain name when sending a SOCKS5 connect message

 src/bytestream-socks5.c                     |   19 +++++++++++++++++--
 tests/twisted/tubes/test-si-socks5-tubes.py |   15 +++++++++------
 2 files changed, 26 insertions(+), 8 deletions(-)

commit 43672228b9b1d4a9cf3fb8a85f3381d1df06f265
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Nov 5 11:53:38 2008 +0000

    GabbleMediaFactory: don't redundantly validate TargetHandle
    
    TpBaseConnection already checks it, so we don't need to do so again.

 src/media-factory.c |   15 ++++-----------
 1 files changed, 4 insertions(+), 11 deletions(-)

commit f44ae32398c0691a4c8de367eb49ef0bb067149d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Nov 5 11:53:06 2008 +0000

    GabbleMediaFactory: don't advertise anonymous channels as requestable
    
    Spec compliance: RequestableChannelClasses is only meant to contain
    channels requestable via CreateChannel/EnsureChannel, which for us
    means only channels with TargetHandleType == CONTACT.
    
    Given how many projects cargo-cult code from Gabble, it's good for
    our code to be exemplary here.

 src/media-factory.c |   15 ++++++---------
 1 files changed, 6 insertions(+), 9 deletions(-)

commit 1a284e4faf69c38a28198d99ba84ef53b543545a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Nov 5 11:48:32 2008 +0000

    GabbleMUCFactory: don't redundantly validate TargetHandle
    
    TpBaseConnection already checks it, so we don't need to do so again.

 src/muc-factory.c |    7 ++-----
 1 files changed, 2 insertions(+), 5 deletions(-)

commit 46a7679cfaa475c0d69f8f6d0297431854ec5b90
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Nov 5 11:48:21 2008 +0000

    GabblePrivateTubesFactory: fix misleading error message
    
    Cut and paste error from GabbleIMFactory.

 src/private-tubes-factory.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 67d5d0f8ae71e39858b3809f5c2504307c004b7c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Nov 5 11:48:01 2008 +0000

    GabblePrivateTubesFactory: don't redundantly validate TargetHandle
    
    TpBaseConnection already checks it, so we don't need to do so again.

 src/private-tubes-factory.c |    7 ++-----
 1 files changed, 2 insertions(+), 5 deletions(-)

commit b965bc333e8b533bf21a4448ddf68c399d233777
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Nov 5 11:47:19 2008 +0000

    GabbleOLPCGadgetManager: don't redundantly check TargetHandle
    
    TpBaseConnection already checks that the arguments are internally
    consistent, so it's sufficient to check TargetHandleType.

 src/olpc-gadget-manager.c |   12 ++++--------
 1 files changed, 4 insertions(+), 8 deletions(-)

commit d1e95966d5a11d1260c28374b8cfc9bf1bf932b4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Nov 5 11:47:02 2008 +0000

    GabbleRoomlistManager: don't redundantly check TargetHandle
    
    TpBaseConnection already checks that the arguments are internally
    consistent, so it's sufficient to check TargetHandleType.

 src/roomlist-manager.c |    6 ++----
 1 files changed, 2 insertions(+), 4 deletions(-)

commit 9dbdc8ae3707acd0ba4977a5519215429be48791
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Nov 5 11:46:15 2008 +0000

    GabbleIMFactory: don't redundantly validate TargetHandle
    
    TpBaseConnection already did this.

 src/im-factory.c |    7 ++-----
 1 files changed, 2 insertions(+), 5 deletions(-)

commit d2b4ed33ba94aa605fcfaf4162dac4342c8b1383
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Wed Nov 5 12:45:24 2008 +0100

    GabbleJingleSession: retransmit candidates if gtalk3 dialect is detected in the middle of the session

 src/jingle-content.c          |    9 ++++++++-
 src/jingle-content.h          |    1 +
 src/jingle-session.c          |   34 ++++++++++++++++++++++++----------
 src/jingle-transport-google.c |   20 +++++++++++++++-----
 src/jingle-transport-iface.c  |    7 ++++---
 src/jingle-transport-iface.h  |    4 ++--
 6 files changed, 54 insertions(+), 21 deletions(-)

commit d1721b8c44f0e6aa66b7d7a9f2c3bdb66325f752
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Wed Nov 5 12:43:42 2008 +0100

    GabbleJingleSession: removed stale fixmes

 src/jingle-session.c |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit c4d5ba9489e5e783a9a09675e953a0d6c7767134
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Nov 5 11:33:34 2008 +0000

    GabbleTubeIface, GabbleTubeDBus, GabbleTubeStream: use G_PARAM_STATIC_STRINGS

 src/tube-dbus.c   |   32 ++++++--------------------------
 src/tube-iface.c  |   51 +++++++++------------------------------------------
 src/tube-stream.c |   35 +++++++++--------------------------
 3 files changed, 24 insertions(+), 94 deletions(-)

commit ff9b82ba56a68602f75c8889e0f3a0e2fad20088
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Nov 5 11:33:11 2008 +0000

    GabbleOLPC*: use G_PARAM_STATIC_STRINGS

 src/olpc-activity-view.c |    6 ++----
 src/olpc-activity.c      |   24 ++++--------------------
 src/olpc-buddy-view.c    |    6 ++----
 src/olpc-view.c          |   30 ++++++++++--------------------
 4 files changed, 18 insertions(+), 48 deletions(-)

commit c92dd539270bb67d7d863e336413c46853ab9140
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Nov 5 11:23:32 2008 +0000

    GabbleTubeStream: add immutable Interfaces property to channel details

 src/tube-stream.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 9b376b3e75d2a29013565080b57e98b5b4c93d4d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Nov 5 11:23:16 2008 +0000

    GabbleTubesChannel: add immutable Interfaces property to channel details

 src/tubes-channel.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit df05f5b2cfcb49d2d3bf565373a1dc2763f7b030
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Nov 5 11:23:00 2008 +0000

    GabbleRosterChannel: add immutable Interfaces property to channel details

 src/roster-channel.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 865828bc514ab51445e2993c1d004c10a2645ad3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Nov 5 11:22:46 2008 +0000

    GabbleRoomlistChannel: add immutable Interfaces property to channel details

 src/roomlist-channel.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 44aa6863a33bc5d28b35c3cbe6761ca1078629d1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Nov 5 11:22:30 2008 +0000

    GabbleMucChannel: add immutable Interfaces property to channel details

 src/muc-channel.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 1afdd06a13289dfcd18ff3eebd5d535ce2a40acb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Nov 5 11:22:11 2008 +0000

    GabbleMediaChannel: add immutable Interfaces property to channel details

 src/media-channel.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 3a81de7f142829c4b6eff8efa846e724bd991f03
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Nov 5 11:21:53 2008 +0000

    GabbleIMChannel: add immutable Interfaces property to channel details

 src/im-channel.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 945ffcc5a7b48ed34a51cce6f8cb1f6e1e132ee7
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Nov 4 22:35:59 2008 +0100

    added jingle headers to Makefile.am sources and documented obsolete jingle namespaces

 src/Makefile.am  |    6 ++++++
 src/namespaces.h |    7 ++-----
 2 files changed, 8 insertions(+), 5 deletions(-)

commit 8e1c9f8b11346bd91683fbd231669394fd5c4842
Author: Olivier Crête <olivier.crete@collabora.co.uk>
Date:   Tue Nov 4 15:08:01 2008 -0500

    Get the right component

 src/media-stream.c |   36 ++++++++++++++++++++++++++++++++++--
 1 files changed, 34 insertions(+), 2 deletions(-)

commit b6d25b6af85d4f1fce8434b7c46ea5a4e18650c2
Author: Olivier Crête <olivier.crete@collabora.co.uk>
Date:   Tue Nov 4 15:01:34 2008 -0500

    Don't reject candidates > 1, just ignore them

 src/media-stream.c |   11 +++++++++--
 1 files changed, 9 insertions(+), 2 deletions(-)

commit 80e0881cbd981dec4937fef076c4efa14fb77940
Merge: 01d1aa2 904bb6b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Nov 4 18:24:36 2008 +0000

    Merge branch 'master' into messages-prime
    
    Conflicts:
    
    	src/im-channel.c
    	src/muc-channel.c
    
    (due to Destroyable and the Recovered and Scrollback flags having been
    implemented in parallel using the Text mixin)

commit bf8c4a829d7c41f182bfce1b45fb261f18cdae11
Author: Marco Barisione <marco@barisione.org>
Date:   Tue Nov 4 18:00:14 2008 +0000

    Send <streamhost-used> when connected to a streamhost

 src/bytestream-socks5.c |   20 +++++++++++++++++++-
 1 files changed, 19 insertions(+), 1 deletions(-)

commit 3b1c680f782dddc32593d41c9a97ccb101e3b79f
Author: Marco Barisione <marco@barisione.org>
Date:   Tue Nov 4 17:58:32 2008 +0000

    Document lm_iq_message_make_result

 src/util.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit e7176c6310267f3c883c2128867f558c7fa2f966
Author: Marco Barisione <marco@barisione.org>
Date:   Tue Nov 4 17:49:18 2008 +0000

    Move _lm_iq_message_make_result to util.c and rename to lm_iq_message_make_result

 src/connection.c |   36 ++----------------------------------
 src/util.c       |   31 +++++++++++++++++++++++++++++++
 src/util.h       |    3 +++
 3 files changed, 36 insertions(+), 34 deletions(-)

commit e90f1a7d57695d47c5570a3a8e4bea17d47e2223
Author: Marco Barisione <marco@barisione.org>
Date:   Tue Nov 4 17:47:52 2008 +0000

    Store event.properties['transport'] in a variable instead of always using the dict directly

 tests/twisted/tubes/test-si-socks5-tubes.py |    9 ++++-----
 1 files changed, 4 insertions(+), 5 deletions(-)

commit 6bf7de8fbeaf379476c9a9bb754f1eb7376db576
Author: Marco Barisione <marco@barisione.org>
Date:   Tue Nov 4 17:43:43 2008 +0000

    Verify that gabble sends a streamhost-used tag

 tests/twisted/tubes/test-si-socks5-tubes.py |   11 +++++++++--
 1 files changed, 9 insertions(+), 2 deletions(-)

commit 580dbd0b17c74000c104755c261b66f91b8fe529
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Nov 4 18:31:49 2008 +0100

    jingle-session.c:content_ready_cb() removed stale FIXME, content addition is properly handled

 src/jingle-session.c |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit f61a33492b5f05948b1d26c18b959705c19c31ee
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Nov 4 17:26:21 2008 +0000

    Update glib-ginterface-gen.py from telepathy-glib (no significant changes)

 tools/glib-ginterface-gen.py |   15 +++++++++++++--
 1 files changed, 13 insertions(+), 2 deletions(-)

commit 9362b01a5f4fc99084d54ffc5cb8dffe99c1a1b7
Merge: 088b165 a9d523d
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Nov 4 18:25:07 2008 +0100

    Merge commit 'upstream/master'

commit 088b165d4d1a90087ade419b4b978db42ec31070
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Nov 4 18:23:59 2008 +0100

    jingle tests: fixed race in one, and disabled other test due to race conditions

 .../twisted/jingle/test-content-adding-removal.py  |    2 +-
 tests/twisted/jingle/test-content-complex.py       |    3 +++
 2 files changed, 4 insertions(+), 1 deletions(-)

commit a9d523da53eb9730ac30e9de6e4edf06b5e4f31b
Merge: ce81797 89642f5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Nov 4 17:22:00 2008 +0000

    Merge branch 'trivia'

commit 89642f51ec1f4123de8cad90a12c89b07307b857
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Nov 4 17:20:00 2008 +0000

    Update tools/telepathy.am from telepathy-glib so it will upload the signature

 tools/telepathy.am |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit e43f186238c1ccb7efc371aac818f2e99f87d1e5
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Nov 4 17:58:49 2008 +0100

    jingle code: comment improvements, added missing forward declaration

 src/jingle-factory.c |    2 +-
 src/jingle-session.c |    9 +++++----
 src/media-stream.c   |    1 -
 3 files changed, 6 insertions(+), 6 deletions(-)

commit 57c97738a99505a356f090484abefc2c46952335
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Nov 4 17:43:18 2008 +0100

    removed unused JingleTransportIface produce method

 src/jingle-transport-iface.c |   12 ------------
 src/jingle-transport-iface.h |    4 ----
 2 files changed, 0 insertions(+), 16 deletions(-)

commit 3159f3264b866cc751d9c7705f12425d16c16e35
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Nov 4 17:37:20 2008 +0100

    improving jingle code readability

 src/jingle-content.c          |    6 +++---
 src/jingle-factory.h          |    8 ++++++--
 src/jingle-media-rtp.c        |    1 +
 src/jingle-session.c          |   14 +++++++++-----
 src/jingle-transport-google.c |    4 ++--
 src/jingle-transport-iface.c  |    1 +
 src/media-channel.c           |    2 +-
 7 files changed, 23 insertions(+), 13 deletions(-)

commit 8e62349d60621e68780dbcb6d95793f4de68baa8
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Nov 4 16:50:01 2008 +0100

    media-stream.c: fixed two trivial bugs

 src/media-stream.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 0abc600198a3114b813da9e8332833d6c882fe5c
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Nov 4 13:51:41 2008 +0100

    removed unused JingleContent "ready" property

 src/jingle-content.c |   34 ----------------------------------
 1 files changed, 0 insertions(+), 34 deletions(-)

commit ce81797b1e2626a6f6793ab998e71a81a78990d4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Nov 4 12:49:23 2008 +0000

    Start 0.7.15 development

 NEWS         |    9 +++++++++
 configure.ac |    2 +-
 2 files changed, 10 insertions(+), 1 deletions(-)

commit 6d19e170ebf7b0e0c7cde188c1556a6e6a6e2bdc
Author: Marco Barisione <marco@barisione.org>
Date:   Tue Nov 4 12:42:12 2008 +0000

    Add an empty S5BFactory.clientConnectionLost to make twisted happy

 tests/twisted/tubes/test-si-socks5-tubes.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 747abddfc8efe13fb1c34c5d64e2193c10ae52c8
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Nov 4 13:39:36 2008 +0100

    media_stream_stream_state(): ignore illegal stream states

 src/media-stream.c |   20 ++++++++++++++++----
 1 files changed, 16 insertions(+), 4 deletions(-)

commit 298c88b9f6d199bd9fd1950686881432be394911
Author: Marco Barisione <marco@barisione.org>
Date:   Tue Nov 4 12:36:29 2008 +0000

    Use getifaddrs to get the local IPs if available

 configure.ac            |    3 ++
 src/bytestream-socks5.c |   56 +++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 59 insertions(+), 0 deletions(-)

commit 6199c8e04d52eb076096b7ca2186c5f91c2817e6
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Nov 4 13:30:16 2008 +0100

    properly pass extra codec params between jingle and telepathy

 src/jingle-media-rtp.c |   38 +++++++++++++++++++------
 src/jingle-media-rtp.h |    8 +++++
 src/media-stream.c     |   73 +----------------------------------------------
 3 files changed, 39 insertions(+), 80 deletions(-)

commit b6ac94607e5174ba06a1b8087e9b8ad5eb17871f
Author: Marco Barisione <marco@barisione.org>
Date:   Tue Nov 4 12:22:56 2008 +0000

    Obtain the list of our addresses and send them instead of hard-coding localhost

 src/bytestream-socks5.c |  115 ++++++++++++++++++++++++++++++++++++++++++++---
 1 files changed, 109 insertions(+), 6 deletions(-)

commit 79275e9c7b7da81465210292d3129e447626f260
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Nov 4 12:44:11 2008 +0100

    use g_slice for allocating JingleCodec and JingleCandidate structs

 src/jingle-media-rtp.c        |   13 +++----------
 src/jingle-transport-google.c |   13 +++----------
 src/media-stream.c            |   23 ++---------------------
 3 files changed, 8 insertions(+), 41 deletions(-)

commit 1865e79abaa4401d020e29917e05cd9dd316a22d
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Nov 4 12:27:46 2008 +0100

    media-stream.[ch]: dead code removal

 src/media-stream.c |   87 ----------------------------------------------------
 src/media-stream.h |   15 ---------
 2 files changed, 0 insertions(+), 102 deletions(-)

commit d39a421cd74640db1e679754a273c134dfc7378f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Nov 4 10:55:40 2008 +0000

    Prepare version 0.7.14

 NEWS         |    2 +-
 configure.ac |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 00271b0deedb2ba0698f492eef055981d6bab3c5
Author: Marco Barisione <marco@barisione.org>
Date:   Tue Nov 4 10:45:23 2008 +0000

    Listen on a random free port instead of a hard-coded one

 src/bytestream-socks5.c |   14 ++++++++------
 1 files changed, 8 insertions(+), 6 deletions(-)

commit 6532d1150de4bf6d71b57664325f3403cfba0d42
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Nov 4 10:41:12 2008 +0000

    Update NEWS

 NEWS |   23 +++++++++++++++++++++++
 1 files changed, 23 insertions(+), 0 deletions(-)

commit 1ca8e5700351d3a905f6e05aeb67d47db20b9d96
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Oct 30 15:19:49 2008 +0000

    Remove redundant g_object_get call

 src/im-factory.c |    5 -----
 1 files changed, 0 insertions(+), 5 deletions(-)

commit 904bb6b1c1bf5b47ba62d0e1165a7af4f3725ee1
Merge: 22876b3 666ec38
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Nov 4 10:22:45 2008 +0000

    Merge branch 'compliance'

commit e56aae7443811c16c690e40edf80e0dfd58f02dd
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Nov 4 10:51:24 2008 +0100

    enabling twisted/jingle/test-incoming-call.py

 tests/twisted/jingle/test-incoming-call.py |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit 9043691cd74d790175dd01bcacb88042816e2297
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Nov 4 10:46:41 2008 +0100

    removed unused jingle-description-iface.[ch] files

 src/jingle-description-iface.c |  122 ----------------------------------------
 src/jingle-description-iface.h |   60 --------------------
 2 files changed, 0 insertions(+), 182 deletions(-)

commit 8d84d2205e74f42225f579929859cff6506859ab
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Nov 4 10:45:29 2008 +0100

    renamed Jingle capabilities and namespaces to make them more consistent

 src/capabilities.c     |    4 +++-
 src/jingle-media-rtp.c |    4 ++--
 src/media-channel.c    |   10 +++++-----
 src/namespaces.h       |   27 ++++++++++++++++++---------
 src/presence-cache.c   |   10 +++++-----
 src/types.h            |    6 +++---
 6 files changed, 36 insertions(+), 25 deletions(-)

commit 19f84d1ffcb797c1fab656f51b9315ba63168a76
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Nov 4 10:20:43 2008 +0100

    reordered private headers and makefile sources in alphabetical order

 src/Makefile.am               |   15 +++++++--------
 src/connection.c              |    2 +-
 src/connection.h              |    4 ++--
 src/jingle-content.c          |    6 +++---
 src/jingle-content.h          |    1 +
 src/jingle-factory.c          |   10 ++++------
 src/jingle-factory.h          |    2 --
 src/jingle-media-rtp.c        |    8 ++++----
 src/jingle-session.c          |    8 ++++----
 src/jingle-session.h          |    4 ++--
 src/jingle-transport-google.c |    8 ++++----
 src/jingle-transport-google.h |    1 +
 src/jingle-transport-iface.c  |    7 ++++---
 src/jingle-transport-iface.h  |    2 +-
 src/media-channel.c           |   11 +++++------
 src/media-factory.c           |    3 +--
 src/media-stream.c            |    5 ++---
 17 files changed, 46 insertions(+), 51 deletions(-)

commit 0069b41ce15b941eef9eb98c9059bd377954513a
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Nov 4 09:56:53 2008 +0100

    taking advantage of static typechecks for Jingle*Private

 src/jingle-content.c          |    4 +---
 src/jingle-content.h          |    4 +++-
 src/jingle-factory.c          |    4 +---
 src/jingle-factory.h          |    4 +++-
 src/jingle-media-rtp.c        |    4 +---
 src/jingle-media-rtp.h        |    4 +++-
 src/jingle-session.c          |    4 +---
 src/jingle-session.h          |    4 +++-
 src/jingle-transport-google.c |    4 +---
 src/jingle-transport-google.h |    4 +++-
 10 files changed, 20 insertions(+), 20 deletions(-)

commit 2a395100c5f528ea81c3efd66d6c86abe81632da
Merge: a968f76 22876b3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Nov 3 19:24:14 2008 +0000

    Merge branch 'master' into alban-enhanced-caps-with-complex-types

commit 22876b36e5e3fc97dc11d9b4d36b0813a46e4e1c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Nov 3 19:14:44 2008 +0000

    Fix usage of gabble_tube_stream_close (see bug 16797)

 src/tube-stream.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit e1d4d07834e4078dacdf624510e58a5c5b992ea9
Merge: 3a75959 d0a66d6
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Nov 3 19:08:53 2008 +0000

    Merge branch 'alban-request-tube-channel'

commit d0a66d6ff89010c0b78f2db42c7ce0fcd5e666a1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Nov 3 18:49:16 2008 +0000

    Stream tubes: AcceptStreamTube: only accept UNIX sockets.

 src/tube-stream.c   |    4 +---
 src/tubes-channel.c |    4 +---
 2 files changed, 2 insertions(+), 6 deletions(-)

commit 4753f4db7ad909febaed4809766c11f1d31badf3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Nov 3 18:46:39 2008 +0000

    src/tube-stream.c: Fix a leak in get_property for PROP_CHANNEL_PROPERTIES.

 src/tube-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a067310bc5e9293072712c06b31bdfd0e7a97f6f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Nov 3 18:41:41 2008 +0000

    src/tube-stream.c: Fix a leak in get_property for PROP_SUPPORTED_SOCKET_TYPES.

 src/tube-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 666ec3814101593a4c1f3887e0273a846e138497
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Nov 3 18:25:22 2008 +0000

    test-capabilities.py: adjust for telepathy-glib 0.7.18

 tests/twisted/test-capabilities.py |   10 ++++++----
 1 files changed, 6 insertions(+), 4 deletions(-)

commit 3756aaba5da0796bacbeffc2f67f8d4c46b9243c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Nov 3 18:22:52 2008 +0000

    text/destroy.py: expect the final Destroyable interface

 tests/twisted/text/destroy.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3cdd72a6423f9d4fe70ca45ec00a3249e7a99ee9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Nov 3 18:22:38 2008 +0000

    text/respawn.py: expect a rescued message to have the RESCUED flag

 tests/twisted/text/respawn.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit af6f015c06f99a55198ac12baadff929f53f49af
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Nov 3 18:22:17 2008 +0000

    test-muc-accept-stream-tube-ibb.py: fix a race
    
    Previously we assumed that the Tubes channel would always be
    signalled before the Text one. With telepathy-glib 0.7.18 this is
    no longer true.

 .../tubes/test-muc-accept-stream-tube-ibb.py       |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit 03e1c4b70ecc8d56960752133776f474f8fe5839
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Nov 3 18:21:34 2008 +0000

    tests/twisted/test-set-status-idempotence.py: adjust for telepathy-glib 0.7.18
    
    The library now complies with the spec, and returns contact-id for
    all GetContactAttribute calls, even if o.f.T.Connection was not
    explicitly requested.

 tests/twisted/test-set-status-idempotence.py |   16 ++++++++++++----
 1 files changed, 12 insertions(+), 4 deletions(-)

commit 7475a6bba58d4667d4a925e86fa2cc1be6b56cae
Merge: 3925134 3a75959
Author: Marco Barisione <marco@barisione.org>
Date:   Mon Nov 3 18:07:20 2008 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble into socks5-bytestreams

commit 175c050f9e516fbfef21720846779e703e5fe1f9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Nov 3 17:57:07 2008 +0000

    tests/twisted/roster: expect CreateChannel to return before NewChannel
    
    Spec 0.17.14 compliance in telepathy-glib 0.7.18

 tests/twisted/roster/request-group-after-roster.py |    6 +++---
 .../twisted/roster/request-group-before-roster.py  |   11 ++++++-----
 2 files changed, 9 insertions(+), 8 deletions(-)

commit b60987e6f652677ed2b286c66e2e71c317238da1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Nov 3 17:56:28 2008 +0000

    tests/twisted/roster/ensure.py: expect that EnsureChannel returns before NewChannels is emitted
    
    Spec 0.17.14 compliance in telepathy-glib 0.7.18

 tests/twisted/roster/ensure.py |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 3925134184a6cfab99d79421347b6b076c9e31ea
Author: Marco Barisione <marco@barisione.org>
Date:   Mon Nov 3 17:24:14 2008 +0000

    Remove a debug print of the data received from SOCKS5

 tests/twisted/tubes/test-si-socks5-tubes.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 3e1fbcbcf9bbdef8291652ef58fa2a2affb6a4e0
Author: Marco Barisione <marco@barisione.org>
Date:   Mon Nov 3 17:23:42 2008 +0000

    Rename the IBB test in the Makefile and add the SOCKS5 one

 tests/twisted/Makefile.am |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 0c70cf401cb1586874eb0d7e41527247776afab4
Author: Marco Barisione <marco@barisione.org>
Date:   Mon Nov 3 17:18:17 2008 +0000

    Expect to receive SOCKS5 as the bytestrean method preferred by the CM

 tests/twisted/tubes/test-si-ibb-tubes.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 8cfb49d8383948f3002bffe51f449ed4e61d06bd
Author: Marco Barisione <marco@barisione.org>
Date:   Mon Nov 3 17:16:17 2008 +0000

    Add a test for SOCKS5 tubes

 tests/twisted/tubes/test-si-socks5-tubes.py |  552 +++++++++++++++++++++++++++
 1 files changed, 552 insertions(+), 0 deletions(-)

commit 5337cdf27393e6b47b33f85a3d8137958ebbbd30
Author: Marco Barisione <marco@barisione.org>
Date:   Mon Nov 3 17:02:29 2008 +0000

    Rename the SI test as it also tests IBB

 tests/twisted/tubes/test-si-ibb-tubes.py |  545 ++++++++++++++++++++++++++++++
 tests/twisted/tubes/test-si-tubes.py     |  545 ------------------------------
 2 files changed, 545 insertions(+), 545 deletions(-)

commit 63cb96afac15558a550a9c95bbf8cbef209b4789
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Nov 3 16:08:56 2008 +0000

    GabbleMUCChannel: set the SCROLLBACK flag on discussion history

 src/muc-channel.c |    9 ++++++---
 1 files changed, 6 insertions(+), 3 deletions(-)

commit 62210fc973847af0692d99b75c7b328b377c05ac
Author: Marco Barisione <marco@barisione.org>
Date:   Mon Nov 3 16:54:57 2008 +0000

    Support streams opened by the remote host

 src/bytestream-socks5.c |  105 ++++++++++++++++++++++++++++++++++++++++++++---
 1 files changed, 99 insertions(+), 6 deletions(-)

commit 650513e6166461ee836014f1e91a65decb971db1
Author: Marco Barisione <marco@barisione.org>
Date:   Mon Nov 3 16:53:02 2008 +0000

    List SOCKS5 bytestreams among the supported methods

 src/bytestream-factory.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 1c707be94ce1a708d7a9f46e8f0fd6fca75446e8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Nov 3 16:07:13 2008 +0000

    GabbleIMChannel: when rescuing a channel, set the rescued flag

 src/im-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 3aef23a97e6cb7416632502b3362f4a76296bc05
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Nov 3 16:02:19 2008 +0000

    Revert "extensions: add Destroyable draft"
    
    This reverts commit 2f9c9f689539c379a9c3754705b5e0eac9479e18.

 extensions/Channel_Interface_Destroyable.xml |   79 --------------------------
 extensions/all.xml                           |    1 -
 2 files changed, 0 insertions(+), 80 deletions(-)

commit 5d6e3545e6afe2d8eb5e7b70be290f9ea2346e79
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Nov 3 16:01:36 2008 +0000

    Require telepathy-glib 0.7.18 (for Destroyable)

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 25dd050b2a01c4057d3154276506d69cea023f5f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Nov 3 16:00:49 2008 +0000

    GabbleIMChannel: implement the final version of Destroyable

 src/im-channel.c |   11 +++++------
 1 files changed, 5 insertions(+), 6 deletions(-)

commit a6710c81d82e0aaddd6b38f00f8ba55ec28ce88d
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Mon Nov 3 09:18:42 2008 +0100

    simplified debugging messages in jingle code

 src/jingle-content.c          |   28 +++-------------------------
 src/jingle-factory.c          |    1 -
 src/jingle-media-rtp.c        |    2 --
 src/jingle-session.c          |   22 +++-------------------
 src/jingle-transport-google.c |   26 --------------------------
 src/media-channel.c           |    7 -------
 src/media-stream.c            |    1 -
 7 files changed, 6 insertions(+), 81 deletions(-)

commit 51323a39ed7f7d360fb5809d945c165988dd11da
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Mon Nov 3 09:02:26 2008 +0100

    JingleSession: refactored parsing code into detection and parser part

 src/jingle-factory.c |   23 ++++++----
 src/jingle-session.c |  116 +++++++++++++++++++++++++++++---------------------
 src/jingle-session.h |    6 ++-
 3 files changed, 85 insertions(+), 60 deletions(-)

commit a1ac264e9d67bb53c4529bf51152c8c68e351958
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Mon Nov 3 08:01:32 2008 +0100

    JingleSession: use enum->string->enum functions instead of table lookup

 src/jingle-content.c |   56 ++++++++++++++-----
 src/jingle-factory.h |   12 ++--
 src/jingle-session.c |  152 +++++++++++++++++++++++++-------------------------
 src/jingle-session.h |    3 -
 4 files changed, 124 insertions(+), 99 deletions(-)

commit 01d1aa2acbadc02bf43dfc2495f9ebc705bb5bd7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Nov 2 17:57:10 2008 +0000

    Note that delivery reports should be emitted whenever SendError is

 src/im-factory.c  |    1 +
 src/muc-factory.c |    1 +
 2 files changed, 2 insertions(+), 0 deletions(-)

commit 65bf93fd8c2beb11d3fb7ce3ca6deec6ab5d4721
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Nov 2 17:46:35 2008 +0000

    Muc: emit delivery reports in response to echos from the MUC

 src/muc-channel.c             |   41 ++++++++++++++++++++++++++++-------------
 tests/twisted/muc/test-muc.py |   40 +++++++++++++++++++++++++++++++++++++++-
 2 files changed, 67 insertions(+), 14 deletions(-)

commit 8e301baaf3522b48c653fa18c6e8902fac4b39b5
Merge: 48e7dcf 3a75959
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Sat Nov 1 12:30:57 2008 +0100

    Merge commit 'upstream/master' and fixed merge conflicts
    
    Conflicts:
    
    	tests/twisted/gabbletest.py

commit 48e7dcfd1d564a215e140a490243b275544b635d
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Fri Oct 31 22:10:07 2008 +0100

    test-content-complex.py: test each dialect only once

 tests/twisted/jingle/test-content-complex.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c1dbf0180c60b38d6300c20c553ae6b16d4654fc
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Fri Oct 31 22:08:52 2008 +0100

    new test for various content addition and removal scenarios

 tests/twisted/Makefile.am                          |    1 +
 tests/twisted/jingle/jingletest2.py                |    4 +-
 .../twisted/jingle/test-content-adding-removal.py  |    4 +-
 tests/twisted/jingle/test-content-complex.py       |  228 ++++++++++++++++++++
 4 files changed, 234 insertions(+), 3 deletions(-)

commit 7c75a9390bf95e2e3e897c318f5331d421da7932
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Fri Oct 31 22:05:48 2008 +0100

    fix crash if content remove is acknowledged after session termination

 src/jingle-content.c |    3 +++
 src/jingle-session.c |    3 +++
 src/media-stream.c   |   13 ++++++++++++-
 3 files changed, 18 insertions(+), 1 deletions(-)

commit 01bc22053d3c6a032c25f90cbff4a545dbe72b3d
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Fri Oct 31 20:46:37 2008 +0100

    JingleMediaRtp: signal error if media type is unrecognized

 src/jingle-media-rtp.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit f7b7363fa403f9a9bc9c110e91c476f9aa67c40e
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Fri Oct 31 20:45:57 2008 +0100

    refactored and simplified content removal code

 src/jingle-content.c |   10 ++++++--
 src/jingle-content.h |    2 +-
 src/jingle-session.c |   59 ++++++++++++++++++++++++++++++-------------------
 3 files changed, 44 insertions(+), 27 deletions(-)

commit 0aba0cee128c020125e65b5181c7532d2c859a14
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Fri Oct 31 17:22:49 2008 +0100

    in functions taking format string and arguments, explicitly specify format string

 src/error.c          |    2 +-
 src/muc-channel.c    |    4 ++--
 src/write-mgr-file.c |    2 +-
 3 files changed, 4 insertions(+), 4 deletions(-)

commit 3a75959dc4e72632c340ebf7ba0e7cd5467c50da
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Oct 31 13:03:40 2008 +0000

    docs/tubes.xml: Better explanation for closing 1-1 D-Bus tubes

 docs/tubes.xml |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit e196ac87514367f370462bff30d8283ca8764c13
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Oct 31 12:47:26 2008 +0000

    docs/tubes.xml: How 1-1 D-Bus tubes are closed.

 docs/tubes.xml |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 03ddfea7107c05fd424e0ddc7d707c630db0c28d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Oct 31 12:37:48 2008 +0000

    Closing tubes: Replace "local" parameter by "!closed_remotely".

 src/tube-dbus.c     |    5 +++--
 src/tube-iface.c    |    4 ++--
 src/tube-iface.h    |    4 ++--
 src/tube-stream.c   |    4 ++--
 src/tubes-channel.c |   12 ++++++------
 5 files changed, 15 insertions(+), 14 deletions(-)

commit 1d773800f4599cdb5ef193a8ebf71a9ada136406
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Oct 31 12:33:33 2008 +0000

    src/tubes-channel.c: Better debug message when the tube ID already exists

 src/tubes-channel.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 20aeb6b2532b5b620f10cd97de99a0f3f44157b9
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Oct 31 12:23:57 2008 +0000

    src/tubes-channel.c: Remove the FIXME, since it is fixed

 src/tubes-channel.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit c977a6dc0a36b98658d5f071fb16d89fbd3bc31c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Oct 31 12:18:50 2008 +0000

    src/tube-stream.c: coding style: add space

 src/tube-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 500fb5bf2803361954dcfa9afd07947e90125ccc
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Fri Oct 31 10:05:02 2008 +0100

    Updated gabble_jingle_session_send and callback prototypes to match the new code

 src/jingle-session.h |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 36a241dbd1e22f0a049118d6874117e4f066b668
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Fri Oct 31 10:02:22 2008 +0100

    properly dispose of MediaStreams when content is removed or rejected

 src/jingle-content.c |   77 ++++++++++++++++-------
 src/jingle-content.h |    2 +-
 src/jingle-session.c |  167 ++++++++++++++++++++++++++++++++++++++++---------
 src/media-channel.c  |   25 +++++---
 src/media-stream.c   |   17 +++++-
 5 files changed, 222 insertions(+), 66 deletions(-)

commit 69afdf2ac76300e3c3764c954efe34f57fa86e16
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Fri Oct 31 00:26:49 2008 +0100

    change session timeout back to 60s and allow content-remove before session is accepted

 src/jingle-session.c |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit 51544bf01747e5a3cf4c23bd077ce8b3eba6b32e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 30 21:22:34 2008 +0000

    Fix bug #16797: do not send the tube close stanza from both ends. Only send it when the tube is closed due to the local user.

 src/tube-dbus.c     |    8 ++++----
 src/tube-iface.c    |    6 +++---
 src/tube-iface.h    |    4 ++--
 src/tube-stream.c   |    8 ++++----
 src/tubes-channel.c |   12 ++++++------
 5 files changed, 19 insertions(+), 19 deletions(-)

commit 34bb171b12b4c3f88783275046ee1f3f52236b30
Author: Marco Barisione <marco@barisione.org>
Date:   Thu Oct 30 15:15:21 2008 +0000

    Add an initial implementation of SOCKS5 bytestreams

 src/Makefile.am          |    2 +
 src/bytestream-factory.c |  233 +++++++++++-
 src/bytestream-factory.h |    6 +
 src/bytestream-socks5.c  |  973 ++++++++++++++++++++++++++++++++++++++++++++++
 src/bytestream-socks5.h  |   75 ++++
 src/namespaces.h         |    1 +
 6 files changed, 1288 insertions(+), 2 deletions(-)

commit fd750101f49228f8d51227a0ae9b4f14a91aee02
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Oct 30 11:34:57 2008 +0000

    Add a test-case for Destroyable.Destroy()

 tests/twisted/Makefile.am     |    1 +
 tests/twisted/text/destroy.py |  139 +++++++++++++++++++++++++++++++++++++++++
 2 files changed, 140 insertions(+), 0 deletions(-)

commit 8f7234575a7a3d9589cbfef9fe9c5222999b1fe1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Oct 30 11:33:48 2008 +0000

    GabbleIMChannel: implement Destroyable

 src/im-channel.c |   43 ++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 42 insertions(+), 1 deletions(-)

commit 2f9c9f689539c379a9c3754705b5e0eac9479e18
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Oct 30 11:33:30 2008 +0000

    extensions: add Destroyable draft

 extensions/Channel_Interface_Destroyable.xml |   79 ++++++++++++++++++++++++++
 extensions/all.xml                           |    1 +
 2 files changed, 80 insertions(+), 0 deletions(-)

commit c2365bcfd0a738aaf91360e6282e87228ecf9882
Merge: 92036f8 675e409
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Oct 29 14:16:54 2008 +0000

    Merge branch 'alban-refdbg'

commit 675e4093f5165eb7efb7a4a284bb84976725acca
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Oct 29 12:34:15 2008 +0000

    Tests: refdbg: fix README and let the user use a different refdbg

 tests/README                            |    9 ++++++---
 tests/twisted/tools/exec-with-log.sh.in |    8 ++++++--
 2 files changed, 12 insertions(+), 5 deletions(-)

commit 7f3f4fdcc64cd6ff428ef39901ad6824b69070cc
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Oct 29 12:07:13 2008 +0000

    tests/README: add an example how to use refdbg

 tests/README |   10 ++++++----
 1 files changed, 6 insertions(+), 4 deletions(-)

commit 4e3569981be65a31061221731d2b7a4c1c4fa32b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Oct 28 18:10:33 2008 +0000

    muc_channel_receive: remove unused is_error flag

 src/muc-channel.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit a968f760d0d9ea3858279490def0767434b54a82
Merge: 7f1dacd 9faed8a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Oct 28 15:15:38 2008 +0000

    Merge branch 'alban-request-tube-channel' into alban-enhanced-caps-with-complex-types

commit ce853e30fa0e654c22890773f38a21a3edf95087
Merge: 9f56ff8 96e93d9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Oct 28 15:10:06 2008 +0000

    Merge branch 'master' into messages

commit 9faed8a8675b5b466b4764c96c7bbabbf365aa41
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Oct 28 15:07:57 2008 +0000

    Set access control on o.f.T.Channel.Type.StreamTube.AcceptStreamTube.

 src/tube-stream.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 9f56ff81e18792867ca3d2dc85b7a322972d5d15
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Oct 23 19:18:38 2008 +0100

    message-util: simplify XMPP -> Telepathy enum functions

 src/message-util.c |   60 +++++++++++++++++----------------------------------
 1 files changed, 20 insertions(+), 40 deletions(-)

commit e3df74f1f08e61607e2a555ceedd485f40ef0b71
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Oct 23 18:59:18 2008 +0100

    _parse_incoming_message: extract XMPP -> telepathy enum conversions

 src/message-util.c |  171 ++++++++++++++++++++++++++-------------------------
 1 files changed, 87 insertions(+), 84 deletions(-)

commit 3efc89eb746326233d3793ec93ac2fae19eb57c6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Oct 23 18:38:15 2008 +0100

    message_util_parse_incoming_message: add documentation

 src/message-util.c |   20 ++++++++++++++++++++
 1 files changed, 20 insertions(+), 0 deletions(-)

commit f455c390cf481df37c160593170795d6b1498d38
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Oct 22 13:58:21 2008 +0100

    Remove GabbleTextMixin, which is now unused

 src/Makefile.am  |    2 -
 src/text-mixin.c |  193 ------------------------------------------------------
 src/text-mixin.h |   58 ----------------
 3 files changed, 0 insertions(+), 253 deletions(-)

commit 36a6e48d3ec3f18d4e8f883e6d40af1896f58156
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Oct 22 13:24:34 2008 +0100

    MediaFactory: remove unneeded #include "text-mixin.h"

 src/media-factory.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 20ec0d38e535da7a157e0275225d122648c0cba0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Oct 22 13:21:42 2008 +0100

    Move gabble_text_mixin_parse_incoming_message to message-util, renaming accordingly

 src/im-factory.c           |    4 +-
 src/message-util.c         |  202 ++++++++++++++++++++++++++++++++++++++++++++
 src/message-util.h         |    7 ++
 src/muc-factory.c          |    4 +-
 src/text-mixin.c           |  195 ------------------------------------------
 src/text-mixin.h           |    6 --
 tests/test-parse-message.c |   13 ++--
 7 files changed, 220 insertions(+), 211 deletions(-)

commit 913c742434ab9c310fd6b3843f39c0c19ca3166a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Oct 23 12:20:26 2008 +0100

    test-muc: sending and receiving using Messages

 tests/twisted/muc/test-muc.py |  128 +++++++++++++++++++++++++++++++++++++++--
 1 files changed, 122 insertions(+), 6 deletions(-)

commit 4814bb2f2fe9dd8081a10b9eeef62eea4a8da1ba
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Oct 22 12:49:52 2008 +0100

    MucChannel: use TpMessageMixin rather than GabbleTextMixin

 src/muc-channel.c |  128 ++++++++++++++++++++++++++---------------------------
 src/muc-channel.h |    6 +-
 2 files changed, 66 insertions(+), 68 deletions(-)

commit 277ad45cf5d9b2220acd98967adf25325f49c570
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Oct 18 13:47:08 2008 +0100

    ImChannel: Test timestamps of delayed messages with Messages interface

 tests/twisted/text/test-text-delayed.py |   22 +++++++++++++++++++---
 1 files changed, 19 insertions(+), 3 deletions(-)

commit ca5ede7e846f1e5621d5464750a636708038deb3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sat Oct 18 13:33:50 2008 +0100

    ImChannel: Test sending and receiving using Messages interface

 tests/twisted/text/test-text.py |  111 ++++++++++++++++++++++++++++++++++++---
 1 files changed, 103 insertions(+), 8 deletions(-)

commit a0a0719b7661e1d1342a80d0a7d65d1e2dc8c760
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Oct 17 16:21:46 2008 +0100

    ImChannel: use TpMessageMixin rather than TpTextMixin

 src/im-channel.c |  173 +++++++++++++++++++++++++++---------------------------
 src/im-channel.h |    5 +-
 2 files changed, 89 insertions(+), 89 deletions(-)

commit 06eeb401932b86075cca0c07b2cb38196a7dd34d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Oct 16 22:01:19 2008 +0100

    Add two functions based on gabble_text_mixin_send to send messages and chat states

 src/Makefile.am    |    2 +
 src/message-util.c |  212 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/message-util.h |   42 ++++++++++
 3 files changed, 256 insertions(+), 0 deletions(-)

commit bfc19c67077fa682d824573763ad400bab281b6e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Oct 28 15:02:37 2008 +0000

    Tube access control: fix again the error message according to what it does

 src/tube-stream.c   |    7 +++----
 src/tubes-channel.c |    7 +++----
 2 files changed, 6 insertions(+), 8 deletions(-)

commit c57ed7fddba8bbf6ea193266ad72ebb8abfef346
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Oct 28 14:50:19 2008 +0000

    Tubes: check for Localhost access control list only for Unix sockets

 src/tube-stream.c   |    3 ++-
 src/tubes-channel.c |    3 ++-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 92036f833d9cb6a7d496a864d696cae6bac6990e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 28 14:49:42 2008 +0000

    version 0.7.13

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit bb9c166c0ed5b9b8d1f08e5a427f40fd2dd0f680
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 28 14:45:31 2008 +0000

    version 0.7.13

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit df840d7534acfd76cc2032676714b12b42aec140
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 28 14:45:04 2008 +0000

    Update NEWS for 0.7.13

 NEWS |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit f9fd999c649774360efb8ee85a180c9f2544f8d4
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Oct 28 14:44:48 2008 +0000

    src/tube-stream.c: Close the stream tube channel propertly when o.f.T.Channel.Close is called

 src/tube-stream.c |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit 96e93d9a9205e66ce78ed657c75f954f41b3e2c6
Merge: ce70934 0c60528
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 28 14:33:25 2008 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble

commit 7f1dacd36aeb753a2e41988f6333c164b1c51965
Merge: 2883f77 4f5474e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Oct 28 14:30:26 2008 +0000

    Merge branch 'alban-request-tube-channel' into alban-enhanced-caps-with-complex-types
    
    Conflicts:
    
    	extensions/Channel_Interface_Tube.xml

commit 0c605289189c7d9b9a439861c83d37388d4581ea
Merge: 119605c e9c43e0
Author: Dafydd Harries <daf@rhydd.org>
Date:   Tue Oct 28 13:35:13 2008 +0000

    Merge branch 'tests'

commit 4f5474edae4d6f1de3064c6fdd0ca12db453ec71
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Oct 28 13:11:25 2008 +0000

    GabbleTubeStream: implements D-Bus property o.f.T.Channel.Type.StreamTube.SupportedSocketTypes. Add a basic test for it.

 src/tube-stream.c                    |   69 +++++++++++++++++++++++++++++++++-
 src/tube-stream.h                    |    2 +
 src/tubes-channel.c                  |   33 +---------------
 tests/twisted/tubes/test-si-tubes.py |   10 +++++
 4 files changed, 82 insertions(+), 32 deletions(-)

commit 7bcd71305b9aabc5881a78c64928d9f17813c61e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Oct 28 12:57:43 2008 +0000

    GabbleTubeStream implements the o.f.T.Channel.Interfaces property correctly

 src/tube-stream.c                    |   19 +++++++++++++++++++
 tests/twisted/tubes/test-si-tubes.py |    5 +++++
 2 files changed, 24 insertions(+), 0 deletions(-)

commit 6ef9c8eda65f79168063687d563c5f23fe86324d
Merge: eca4235 119605c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Oct 28 11:20:42 2008 +0000

    Merge branch 'master' into alban-request-tube-channel

commit 76948d58bc0838504a335e61cdb52bf08c8e9cc3
Merge: 7ecd3f7 119605c
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Mon Oct 27 22:30:29 2008 +0100

    Merge commit 'upstream/master'

commit 7ecd3f7b36caf0e0024990f075843294e7cce76f
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Mon Oct 27 22:17:00 2008 +0100

    Actually use the new Jingle dialect tests

 tests/twisted/Makefile.am |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit e15168f9db97244bb5d2d9260b5dd5c948194c90
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Mon Oct 27 22:15:14 2008 +0100

    Added tests for incoming and outgoing calls in all supported Jingle dialects

 tests/twisted/jingle/test-dialects-incoming.py |  128 ++++++++++++++++++++++
 tests/twisted/jingle/test-dialects-outgoing.py |  139 ++++++++++++++++++++++++
 2 files changed, 267 insertions(+), 0 deletions(-)

commit 95b437655d46dcd3865bb44fb44f5f7cd767d81d
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Mon Oct 27 22:14:40 2008 +0100

    Added new API and helper methods for writing cross-dialect Jingle tests

 tests/twisted/jingle/jingletest2.py |  325 +++++++++++++++++++++++++++++++++++
 1 files changed, 325 insertions(+), 0 deletions(-)

commit 0422ef98116fb40c82455196cf62abf8edb46484
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Mon Oct 27 22:13:46 2008 +0100

    Support for running multiple test functions inside one test

 tests/twisted/gabbletest.py |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit 51dda4b1cb2e2e35043ddfe3e68ec457df4530e7
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Mon Oct 27 22:11:25 2008 +0100

    Support for waiting for events that might have already happened and predicate functions to decide if we have a match.

 tests/twisted/servicetest.py |   29 ++++++++++++++++++++++++++++-
 1 files changed, 28 insertions(+), 1 deletions(-)

commit fa75d5e9e19ac446ca7ddefcd3edaf2dfcfa3e0b
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Mon Oct 27 21:54:37 2008 +0100

    Update namespaces for the current Jingle version

 src/jingle-factory.h |    2 +-
 src/jingle-session.c |    6 +++---
 src/media-channel.c  |    2 +-
 src/namespaces.h     |    5 ++---
 src/presence-cache.c |    2 +-
 5 files changed, 8 insertions(+), 9 deletions(-)

commit eca423530823a44864e2f8bc60a199e526861128
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Oct 27 19:45:58 2008 +0000

    Tubes: better English in error messages

 src/tube-stream.c   |    6 ++++--
 src/tubes-channel.c |    3 ++-
 2 files changed, 6 insertions(+), 3 deletions(-)

commit 353c7fb467fd9a5c29cce55fd240d5ab99af1cba
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Oct 27 19:29:35 2008 +0000

    src/tube-stream.c: remove spurious comment

 src/tube-stream.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit d834a7cfd104ca6f81dc756f9e781fb5ac625d5e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Oct 27 19:26:36 2008 +0000

    src/tube-stream.c: Remove a debug

 src/tube-stream.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 9ed5c338e05c884d3da60b80232718aedd52852a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Oct 27 17:57:52 2008 +0000

    src/tube-stream.c: tubes always have an initiator. Add an assertion if not.

 src/tube-stream.c |    9 ++++-----
 1 files changed, 4 insertions(+), 5 deletions(-)

commit 5557afc5ce24c7d9f6def4af23ef582fdafaa50f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Oct 27 17:48:11 2008 +0000

    Tube, update to the new spec: remove "Initiator" property

 src/tube-dbus.c     |   25 +++++++++++++++++++------
 src/tube-iface.c    |   14 +-------------
 src/tube-stream.c   |   20 +++-----------------
 src/tubes-channel.c |    4 ++--
 4 files changed, 25 insertions(+), 38 deletions(-)

commit 4d490455b8ac006f8a109a6b5153e1aeb3442f85
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Oct 27 17:47:19 2008 +0000

    test-si-tubes.py: Update tube test with the new spec: Use Channel.InitiatorHandle instead if Channel.Interface.Tube.Initiator

 tests/twisted/tubes/test-si-tubes.py |    9 ++++++---
 1 files changed, 6 insertions(+), 3 deletions(-)

commit 7dc7ebc9f5ec99dcc49ef7e70b0c35326aad9474
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Oct 27 17:43:16 2008 +0000

    Update Telepathy specification in extensions/ from tubes and caps branches of telepathy-spec. "Initiator" has been removed because o.f.T.Channel already has InitiatorHandle.

 extensions/Channel_Interface_Tube.xml   |   69 ++++++++++++++++++-------------
 extensions/Channel_Type_DBus_Tube.xml   |   16 ++++---
 extensions/Channel_Type_Stream_Tube.xml |   20 +++++----
 3 files changed, 61 insertions(+), 44 deletions(-)

commit ce70934c9165a149bc9a25be7fe1e1bfd9ef88a4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 27 16:44:37 2008 +0000

    conn-olpc: add a FIXME

 src/conn-olpc.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit dea67fede902736ce0dc9dc34cd5a1115e98c215
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 27 16:41:14 2008 +0000

    Invite Gadget to our activities only if we call Publish(True)

 src/conn-olpc.c                     |    7 +++++--
 tests/twisted/olpc/gadget-invite.py |    3 ++-
 2 files changed, 7 insertions(+), 3 deletions(-)

commit c8e93f5d7f96f95874237a596dd704c29fa474bc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 27 16:18:16 2008 +0000

    factor out gadget_publish to olpc/util.py

 tests/twisted/olpc/gadget-publish.py |   34 ++++------------------------------
 tests/twisted/olpc/util.py           |   31 +++++++++++++++++++++++++++++++
 2 files changed, 35 insertions(+), 30 deletions(-)

commit 20a4edbca4c539f798f2c72692f65abcc4d776e5
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Oct 27 16:38:56 2008 +0000

    tests/twisted/tubes/test-si-tubes.py: When the test fails, assert instead of just stopping the test

 tests/twisted/tubes/test-si-tubes.py |   12 +++---------
 1 files changed, 3 insertions(+), 9 deletions(-)

commit 2bb17efcaf81dadfa4ddc7b8f1d8b709912c0fbc
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Oct 27 16:33:41 2008 +0000

    src/private-tubes-factory.c: Fix a leak: hash table for C.T.StreamTube was not destroyed

 src/private-tubes-factory.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 1ebb4124ebdd2be92e3fbca9c1ba41104df61636
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Oct 27 16:30:43 2008 +0000

    src/tube-stream.c: Coding style: wrapping of function gabble_tube_stream_offer

 src/tube-stream.c |   11 ++++++-----
 1 files changed, 6 insertions(+), 5 deletions(-)

commit 0a6072332d87d6896ea8e321da1834e504d27239
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Oct 27 16:29:58 2008 +0000

    src/tube-stream.c: Coding style: indentation of properties

 src/tube-stream.c |   22 +++++++++++-----------
 1 files changed, 11 insertions(+), 11 deletions(-)

commit 5ddb1804770692de9680ac18b3234da4c97ba65f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Oct 27 16:28:11 2008 +0000

    src/tube-stream.c: Coding style: indentation

 src/tube-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 119605c0d458033ab07f24c401537b6eff63403f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 27 16:25:03 2008 +0000

    remove extra blank line

 src/tube-dbus.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit cf226111eba3a12c51666e0a29a9ba26335cdceb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 27 15:30:18 2008 +0000

    tube_dbus_open: use the DBusServer instead of the address to check if the server exists or not

 src/tube-dbus.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a97d51fb74621ecf6be761cd91cbeecd16e3e57b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 27 15:26:35 2008 +0000

    gabble_tube_dbus_listen: free and set to NULL the dbus_srv_addr and socket_path if dbus_server_listen failed

 src/tube-dbus.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 8d3a22f6e74d20bf36088bf85ac479b24b51b1a3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 27 15:23:38 2008 +0000

    tube_dbus_open: no need to check if there is already a D-Bus server as gabble_tube_dbus_listen will do it too

 src/tube-dbus.c |    6 ++----
 1 files changed, 2 insertions(+), 4 deletions(-)

commit 7486a2cef1697ea1ffe0c0310610831574a022db
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 27 15:08:30 2008 +0000

    gabble_tube_dbus_listen: prevent it to be executed twice

 src/tube-dbus.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit e35cd7c3312857169504e4c10f89ceba36edd2c8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 27 11:40:51 2008 +0000

    fix typo in gadget-invite.py

 tests/twisted/olpc/gadget-invite.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit e9c43e0dc8a12dad6e799f350333b78ae9a751f5
Author: Dafydd Harries <daf@rhydd.org>
Date:   Fri Oct 24 15:06:37 2008 +0100

    test-muc.py: use MUC utility functions

 tests/twisted/muc/test-muc.py |   35 ++++++-----------------------------
 1 files changed, 6 insertions(+), 29 deletions(-)

commit 1b12df943ff3b542f40c07d834cf1b4e628af464
Author: Dafydd Harries <daf@rhydd.org>
Date:   Fri Oct 24 15:05:30 2008 +0100

    add MUC utility functions to gabbletest.py

 tests/twisted/gabbletest.py |   21 +++++++++++++++++++++
 1 files changed, 21 insertions(+), 0 deletions(-)

commit c15dc677f7942e2c1b4c6bd589c2eed9d67a9927
Author: Dafydd Harries <daf@rhydd.org>
Date:   Fri Oct 24 15:04:30 2008 +0100

    add namespace for MUC owner to ns.py

 tests/twisted/ns.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 7ead98535ed3531416e636c6f88a9be41739756e
Author: Dafydd Harries <daf@rhydd.org>
Date:   Fri Oct 24 15:02:41 2008 +0100

    remove superfluous blank lines

 tests/twisted/muc/test-muc.py |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit d3bb85bed600c7fc20033d4c17189ab8aa769dda
Author: Dafydd Harries <daf@rhydd.org>
Date:   Fri Oct 24 14:59:23 2008 +0100

    test-muc.py: remove unused imports

 tests/twisted/muc/test-muc.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 4960e445e5015b82689c00e45ed68e5d9222c636
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 24 14:34:42 2008 +0100

    pass the item_node to _gabble_muc_channel_member_presence_updated

 src/muc-channel.c |    9 +++------
 src/muc-channel.h |    3 ++-
 src/muc-factory.c |    2 +-
 3 files changed, 6 insertions(+), 8 deletions(-)

commit 34cf0bf3aac3fa7f4409a9fb8e945e909a1cf6be
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 24 14:11:44 2008 +0100

    muc-channel: no need to check if the item node is present, muc-factory does it for us now

 src/muc-channel.c |    7 ++-----
 1 files changed, 2 insertions(+), 5 deletions(-)

commit fb0dd8b5050c6f6accb76f81324f3e33fbb6abdb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 24 14:11:17 2008 +0100

    muc-factory: discard muc presence without item node

 src/muc-factory.c |   26 ++++++++++++++------------
 1 files changed, 14 insertions(+), 12 deletions(-)

commit 4045947413ded835cb6baea352f93ba29c2c743f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 24 14:02:07 2008 +0100

    muc-channel: remove the gadget check as it's done in muc-factory now

 src/muc-channel.c |    9 ---------
 1 files changed, 0 insertions(+), 9 deletions(-)

commit b4074075fe4be643318f18dc3c11c816f9602640
Author: Dafydd Harries <daf@rhydd.org>
Date:   Fri Oct 24 13:44:02 2008 +0100

    port test-text-no-body.py to new test API

 tests/twisted/text/test-text-no-body.py |   54 +++++++-----------------------
 1 files changed, 13 insertions(+), 41 deletions(-)

commit aa78730ed377dde086ec02338bbf2d624d62bd6e
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Fri Oct 24 14:43:51 2008 +0200

    allow multiple test runs inside one test script

 tests/twisted/gabbletest.py |   25 +++++++++++++++++++++++--
 1 files changed, 23 insertions(+), 2 deletions(-)

commit 64966b056932ced336692b3f9acf147c9ef6cbdb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 24 13:23:00 2008 +0100

    The presence-cache shouldn't handle Gadget's inspector muc presence

 src/muc-factory.c                   |   17 +++++++++++++++++
 tests/twisted/olpc/gadget-invite.py |    8 ++++++++
 2 files changed, 25 insertions(+), 0 deletions(-)

commit 2883f77e1264733f9b22ec44c12e458226971660
Merge: 593429c 8697f4f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 23 16:48:20 2008 -0400

    Merge branch 'alban-request-tube-channel' into alban-enhanced-caps-with-complex-types
    
    Conflicts:
    
    	src/presence-cache.h

commit 8697f4f564f07fb6d7fc34de315cc5befc4b3d64
Merge: 9114fd8 299cf44
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 23 16:45:45 2008 -0400

    Merge branch 'master' into alban-request-tube-channel

commit 593429c4db760773a29eb32d6f4b402dae10d7de
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 23 16:16:45 2008 -0400

    Fix previous conflict

 src/private-tubes-factory.c |    7 -------
 1 files changed, 0 insertions(+), 7 deletions(-)

commit 575591ff8b763bfc28b3ddf886e1161d70299005
Merge: 8ea2ba6 9114fd8
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 23 16:16:29 2008 -0400

    Merge branch 'alban-request-tube-channel' into alban-enhanced-caps-with-complex-types
    
    Conflicts:
    
    	extensions/Makefile.am
    	src/private-tubes-factory.c
    	src/tube-stream.c
    	src/tubes-channel.h

commit 9114fd8af48fd89d41eaa3854dbb38d022f4774c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 23 15:58:45 2008 -0400

    tests/twisted/tubes/test-si-tubes.py: Update the test to the new spec (no FUTURE properties), factorise the code.

 tests/twisted/tubes/test-si-tubes.py |  282 +++++++++++++++++-----------------
 1 files changed, 144 insertions(+), 138 deletions(-)

commit d08ffc45f2af7a31aea1b01d005b25d078b45cf4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Sep 19 17:18:33 2008 +0100

    Remove .DRAFT from Requests interface name in a new test

 tests/twisted/tubes/test-si-tubes.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit be6364e04a5289ad4fa5bdc24318dee01289561c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Sep 23 18:41:36 2008 +0100

    Test test-si-tubes.py: better comment for the NewChannels signal (no change in the code)

 tests/twisted/tubes/test-si-tubes.py |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit fa60534e59ed2bf96f4515c458e62f71f9371973
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 23 15:38:00 2008 -0400

    Tubes requestotron: Advertise the right RequestableChannelClasses for tubes, and strongly check properties in CreateChannel/RequestChannel.
    
    Conflicts:
    
    	src/private-tubes-factory.c

 extensions/Makefile.am               |    2 +-
 src/private-tubes-factory.c          |   98 ++++++++++++++++++++++++++-------
 src/tube-stream.c                    |   23 ++------
 src/tubes-channel.c                  |   10 +++-
 src/tubes-channel.h                  |    4 +-
 tests/twisted/tubes/test-si-tubes.py |   25 ++++-----
 6 files changed, 103 insertions(+), 59 deletions(-)

commit 2b640843bbe4e7b7ff8b30530018382482bacecf
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Oct 23 15:24:46 2008 -0400

    src/private-tubes-factory.c: Remove the old "channel factory" code. Now it is a channel manager thanks to TpChannelManager
    
    Conflicts:
    
    	src/private-tubes-factory.c

 src/private-tubes-factory.c |   56 +++++++++++-------------------------------
 1 files changed, 15 insertions(+), 41 deletions(-)

commit 299cf444560d0fe164797086da020cd92c75f258
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 23 15:48:12 2008 +0100

    version 0.7.12

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f8238fdbcb52957e636ebc21c70ed182374ac8dc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 23 14:06:11 2008 +0100

    version 0.7.12

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 1789e1de3c9fdee47e1c757cfd3af095ded7f4cf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 23 14:01:54 2008 +0100

    version 0.7.12

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 1784a10a45457b315ffc3c63af72bf08875d917c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 23 14:01:44 2008 +0100

    upgrade NEWS for 0.7.12

 NEWS |   13 +++++++++++++
 1 files changed, 13 insertions(+), 0 deletions(-)

commit d3075b1f714fc90c94e561656bda4bcb6abc466d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 23 13:37:18 2008 +0100

    view-presence.py: fix a comment

 tests/twisted/olpc/view-presence.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 30e6e56d7d98434b7f306192d7025c5543ddf3e5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 23 12:18:37 2008 +0100

    remove a trailing new line

 src/presence-cache.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 6fb53711039af39c7eacd9d4dcc40645b4058b8a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 23 12:17:19 2008 +0100

    remove the old status msg if we change the presence because of OLPC views

 src/presence.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit f87dc8c93a0fd2d7537ed13e1eb23200bd638b16
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 22 15:27:41 2008 +0100

    presence: use the presence aggregator to tweak presence according current views

 src/presence.c |   52 +++++++++++++++++++++++++++++++++++-----------------
 1 files changed, 35 insertions(+), 17 deletions(-)

commit 35e6b582205b4d5a11b9bec0e1546b6160057892
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 22 15:24:18 2008 +0100

    view-presence: not offline presence should contain a resource

 tests/twisted/olpc/view-presence.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 6e2d73f05307a576f51a83ab785477ecdd4ac243
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 22 14:31:19 2008 +0100

    presence: factor out aggregate_resources

 src/presence.c |   52 +++++++++++++++++++++++++++++++++-------------------
 1 files changed, 33 insertions(+), 19 deletions(-)

commit 5d745a4c1c382396d35df1ec3a9ea8fc6876b91b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 20 11:19:29 2008 +0100

    view-presence.py: use ns.py

 tests/twisted/olpc/view-presence.py |   22 +++++-----------------
 1 files changed, 5 insertions(+), 17 deletions(-)

commit 2bef5850a761843b5ea467fcafd5c07c7bf4f4b0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 17 18:28:00 2008 +0100

    view-presence.py: add ressource to one presence stanza

 tests/twisted/olpc/view-presence.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 248164bde4a907f80dd1f65d6e9cff88c794a36e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 17 18:24:36 2008 +0100

    :view-presence.py: test buddy in more than one view

 tests/twisted/olpc/view-presence.py |   71 +++++++++++++++++++++++++++++++++--
 1 files changed, 67 insertions(+), 4 deletions(-)

commit 7c185faf24e4da06f3eee07b497712a9f22e7be2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 16 18:20:22 2008 +0100

    call gabble_presence_cache_contacts_removed_from_olpc_view when view is closed

 src/olpc-view.c                     |    3 +++
 tests/twisted/olpc/view-presence.py |   27 ++++++++++++++++++---------
 2 files changed, 21 insertions(+), 9 deletions(-)

commit 28aa014a7d01c52fc8b34d9edbfeef71791e4e4b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 16 18:00:40 2008 +0100

    view-presence: use elem() in send_presence

 tests/twisted/olpc/view-presence.py |   17 ++++++++++-------
 1 files changed, 10 insertions(+), 7 deletions(-)

commit b01482c9732db3b8a90abe451babf7ea9b0d2467
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 16 17:50:56 2008 +0100

    view-presence.py: factor out remove_buddy_from_view

 tests/twisted/olpc/view-presence.py |   32 +++++++++++---------------------
 1 files changed, 11 insertions(+), 21 deletions(-)

commit a4944995d586cff6ff478923c9c78640a32a5891
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 15 18:33:10 2008 +0100

    gabble_presence_cache_contacts_removed_from_olpc_view: discard presence if needed

 src/presence-cache.c                |    1 +
 tests/twisted/olpc/view-presence.py |    4 ++--
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 2090c96c26d60db3e9060b138f2b81b53d2a30ed
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 15 18:25:11 2008 +0100

    check if we properly presence change from a buddy who is already in a view

 tests/twisted/olpc/view-presence.py |   58 ++++++++++++++++++++++++++---------
 1 files changed, 43 insertions(+), 15 deletions(-)

commit ef8faf9c86e686a240a7d58ef9b326e75d5616f2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 15 18:09:09 2008 +0100

    don't change presence when a buddy from who we received a presence is removed from a view

 src/presence-cache.c                |   12 +---------
 src/presence.c                      |   38 +++++++++++++++++++++++++++++++++++
 src/presence.h                      |    4 ++-
 tests/twisted/olpc/view-presence.py |   14 ++++++++++++
 4 files changed, 57 insertions(+), 11 deletions(-)

commit 15943f316b2fa217f726bd5448f171f9f0b754b6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 15 17:07:28 2008 +0100

    view-presence.py: check that the presence isn't changed if we received a presence stanza

 tests/twisted/olpc/view-presence.py |   33 +++++++++++++++++++++++++++------
 1 files changed, 27 insertions(+), 6 deletions(-)

commit 02c174bcb40d6036684b614217ffda54c89d538b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 15 16:45:06 2008 +0100

    use presence interfaces to announce view buddies as online (first naive implementation)

 src/olpc-view.c                     |   25 +++++++-
 src/presence-cache.c                |   87 ++++++++++++++++++++++++
 src/presence-cache.h                |    6 ++
 src/presence.h                      |    1 +
 tests/twisted/Makefile.am           |    1 +
 tests/twisted/olpc/view-presence.py |  124 +++++++++++++++++++++++++++++++++++
 6 files changed, 242 insertions(+), 2 deletions(-)

commit a42142f4f46b4abbbc765c45bb0adb1b5f08308b
Merge: 0043df2 b74b501
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Oct 22 16:45:59 2008 -0400

    Merge branch 'master' into alban-request-tube-channel
    
    Conflicts:
    
    	extensions/Makefile.am
    	src/private-tubes-factory.c
    	tests/twisted/tubes/test-si-tubes.py

commit fce6ba1a6a5e36e5d201efc28dc4ff0ca0d87212
Merge: d7a3f90 b74b501
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Oct 22 15:52:02 2008 -0400

    Merge branch 'master' into alban-xmpp-spec-tube-caps

commit b74b5012b8762b13761b24f75f616043ff1220f9
Merge: 47a667e be0bec5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 22 16:44:38 2008 +0100

    Merge commit 'upstream/master'

commit 7241ed29190bea6c1f1ebc9169c66157fd761c4c
Merge: 75eeaad be0bec5
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Wed Oct 22 16:55:14 2008 +0200

    Merge commit 'upstream/master'

commit 47a667ea7c0277fb8bdbc6b0e457b3cee0bd68da
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 22 15:40:39 2008 +0100

    Prepare version 0.7.11

 NEWS         |   14 ++++++++------
 configure.ac |    4 ++--
 2 files changed, 10 insertions(+), 8 deletions(-)

commit be0bec5e0bdf2d2388be40a685ab41df6aea0c0e
Merge: 051770c b04d0d5
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Oct 22 09:08:01 2008 -0400

    Merge branch 'master' into alban-bug13891

commit b04d0d5106af976549795d5964bc1c77c083942d
Merge: df6ad72 df39cd7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 22 12:44:54 2008 +0100

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble

commit df6ad726504812972a152df97ed5c4bf2093864c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 22 12:44:04 2008 +0100

    add ns.py to EXTRA_DIST

 tests/twisted/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit df39cd769a720cebd6d5b6e709247907f9b7a393
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 22 12:24:30 2008 +0100

    conn-presence: construct_contact_statuses_cb: reindent and use tp_g_value_slice_new

 src/conn-presence.c |   13 ++++++-------
 1 files changed, 6 insertions(+), 7 deletions(-)

commit f1640d01aa1795ad1762b0c62c5d683f78912f17
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 22 12:23:48 2008 +0100

    conn-avatars: remove an unnecessary cast

 src/conn-avatars.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 4cb9bc0eb48bc46ecd649aa444cbafb3ef38ecc7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 22 12:23:36 2008 +0100

    conn-aliasing: remove an unnecessary cast

 src/conn-aliasing.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 1e63b1a50823c656cddf26fb85f8dea94d3d62ac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 22 12:23:27 2008 +0100

    GetAliases: don't leak a hash table if handles are invalid

 src/conn-aliasing.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit cc2a20e7c01bb4dce0281e90b89430d586002eaa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 14 18:17:36 2008 +0100

    Copy telepathy.am from telepathy-glib

 Makefile.am        |   19 +------------------
 tools/Makefile.am  |    1 +
 tools/telepathy.am |   22 ++++++++++++++++++++++
 3 files changed, 24 insertions(+), 18 deletions(-)

commit 715e018cf6fff5149e4009f5c593585ef369927e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 14 17:33:52 2008 +0100

    Don't check for endianness - it was only used by the sha1 code we no longer ship
    
    Verified with `git grep ENDIAN`.

 configure.ac |    5 +----
 1 files changed, 1 insertions(+), 4 deletions(-)

commit 93c51789e083b787a8802d98caf3db4786be132c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 22 12:33:23 2008 +0100

    NEWS so far

 NEWS |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit 6e50fa0269dc1b02d2c3f4dbbdf6e543149dc996
Merge: 8a24c91 4231766
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 22 12:31:08 2008 +0100

    Merge branch 'ns'

commit 8ea2ba6eecb69144ff53f228859027289e940123
Merge: 6736fcc 8a24c91
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Oct 21 11:43:24 2008 -0400

    Merge branch 'master' into alban-enhanced-caps-with-complex-types

commit 051770cc8dac058b4519b117304d0c1fac4be069
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Oct 21 11:10:37 2008 -0400

    tests/twisted/tubes/test-si-tubes.py: Regression test for Bug #13891

 tests/twisted/tubes/test-si-tubes.py |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit f4e737ebdbda23b3284c8bf4125b14b1913982ea
Merge: dd5efa0 8a24c91
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Oct 21 10:51:58 2008 -0400

    Merge branch 'master' into alban-bug13891

commit 8a24c91c688d0b1db96be3f00dc486fa07e332ee
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Sep 10 12:34:04 2008 +0100

    Update with-session-bus.sh from telepathy-glib
    
    This new version of with-session-bus.sh comes from the telepathy-glib git
    repository:
    
    |commit 9c6a27f7b1796abfd0e30ec0e38a7bdbf3aa3863
    |Author: Alban Crequy <alban.crequy@collabora.co.uk>
    |Date:   Wed Sep 10 11:42:17 2008 +0100
    |
    |    tools/with-session-bus.sh: Better explanation for usage
    |
    |commit 241d6e35c946bee2c8112f3f444fe9e2bfdaa9de
    |Author: Alban Crequy <alban.crequy@collabora.co.uk>
    |Date:   Tue Sep 9 18:13:39 2008 +0100
    |
    |    with-session-bus.sh: Fork dbus-monitor if requested
    |
    |    If $WITH_SESSION_BUS_FORK_DBUS_MONITOR is set, fork dbus-monitor:
    |      dbus-monitor $WITH_SESSION_BUS_FORK_DBUS_MONITOR_OPT

 tests/twisted/tools/with-session-bus.sh |   13 ++++++++++++-
 1 files changed, 12 insertions(+), 1 deletions(-)

commit 75eeaadc0d8a61d44599ad06be34bbcac7f201e3
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Oct 21 16:35:49 2008 +0200

    JingleSession: don't require explicit content senders for older dialects

 src/jingle-content.c |   39 +++++++++++++++++++++++++--------------
 1 files changed, 25 insertions(+), 14 deletions(-)

commit a22d2540250453841b95746f333e84c0b5e4c801
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Oct 21 16:35:04 2008 +0200

    JingleFactory: properly unregister message handler at disconnect

 src/jingle-factory.c |   18 +++++++++++++-----
 1 files changed, 13 insertions(+), 5 deletions(-)

commit dab5836ad05c90149a8c6d8a7a39449b6aa69a08
Merge: f21b845 10d4222
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Oct 21 15:24:55 2008 +0200

    Merge commit 'senko/jingle'
    
    Conflicts:
    
    	src/connection.c
    	src/connection.h
    	src/media-channel.c
    	src/media-factory.c
    	src/media-session.c
    	tests/twisted/jingle/test-incoming-call.py

commit 10d4222dd53edf086f59fbe8b086913700bc51c3
Merge: 872f88b 30573b7
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Oct 21 09:15:56 2008 +0200

    Merge commit 'wjt/jingle' into jingle

commit 872f88baa9ac4666d02b0aefaf9809a7d59109bb
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Oct 21 09:12:55 2008 +0200

    code cleanup

 src/jingle-media-rtp.c       |   55 +++++++++++++++++++++++-------------------
 src/jingle-transport-iface.c |   10 +++++++
 src/jingle-transport-iface.h |    2 +
 3 files changed, 42 insertions(+), 25 deletions(-)

commit 8e2e60ff491b245a4151d1bb44f157351649f7eb
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Oct 21 09:12:06 2008 +0200

    JingleTransportGoogle: store remote candidates for later

 src/jingle-transport-google.c |   44 +++++++++++++++++++++-------------------
 1 files changed, 23 insertions(+), 21 deletions(-)

commit dd2280eb1b8b979e85c5e27a1e2e6058768e341e
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Oct 21 09:11:43 2008 +0200

    MediaFactory code cleanup

 src/media-factory.c |   31 -------------------------------
 1 files changed, 0 insertions(+), 31 deletions(-)

commit 2a356d5d17a333fba06046e15c275e364181c874
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Oct 21 09:10:43 2008 +0200

    Added missing content-reject action enum.

 src/jingle-factory.h |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 9753aec97ac10301bce896d5bcdb8b86018e3a70
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Oct 21 09:09:45 2008 +0200

    Jingle twisted tests: added helper function for returning error to peer

 tests/twisted/gabbletest.py |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit 539db38c2df8031006c138ffc06a0c1a5d158a87
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Oct 21 09:08:17 2008 +0200

    MediaChannel code cleanup

 src/media-channel.c |  167 +++++++++++++++++++++++++++-----------------------
 1 files changed, 90 insertions(+), 77 deletions(-)

commit cae95e2cb1fe9081aec96908722cbe1e73081b86
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Oct 21 09:05:55 2008 +0200

    MediaStream code cleanup, support for stream directions

 src/media-stream.c |  753 ++++++++--------------------------------------------
 src/media-stream.h |    2 +
 2 files changed, 111 insertions(+), 644 deletions(-)

commit 395ec06776338860ed6d3a8323890150a3c15c8a
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Oct 21 09:04:19 2008 +0200

    Actually commited half of the content-* related changes, thanks git

 src/jingle-content.c |   77 +++++++--
 src/jingle-content.h |    2 +
 src/jingle-session.c |  439 +++++++++++++++++++++++++-------------------------
 src/jingle-session.h |   10 +-
 4 files changed, 290 insertions(+), 238 deletions(-)

commit ec0a42eb2ed7ad403d827c5c10e15cd775d24a98
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Oct 21 09:01:16 2008 +0200

    Fixed content-add/accept/remove, prepared twisted test to check behaviour of Request/Remove streams.

 src/jingle-content.c                               |  132 +++++++++++++---
 src/jingle-content.h                               |    1 +
 src/jingle-session.c                               |   35 +++-
 tests/twisted/Makefile.am                          |    1 +
 .../twisted/jingle/test-content-adding-removal.py  |  170 ++++++++++++++++++++
 5 files changed, 309 insertions(+), 30 deletions(-)

commit 6736fcc525d7a2e27a0bfa66881ae3dede53dfdf
Merge: 16f7a8d f21b845
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Oct 20 12:28:47 2008 -0400

    Merge branch 'master' into alban-enhanced-caps-with-complex-types

commit f21b84558b31f16c6f3f1bf0b36755ab5b88a8c0
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Oct 20 12:20:10 2008 -0400

    Style: use if (ptr != NULL) instead of if (ptr).

 src/tube-dbus.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 20fdb5b52cfd50e5a0af2dd7b1389c82b7e553da
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Oct 20 12:12:41 2008 -0400

    Add --disable-Werror in configure.ac, as done in tp-glib. Useful to disable the warning -Wno-unused-parameter.

 configure.ac |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 4231766e9556019f52602117e136a20011c60fbe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 20 13:18:58 2008 +0100

    test-olpc-set-props-preload.py: use ns.py

 tests/twisted/olpc/test-olpc-set-props-preload.py |   17 +++++++++--------
 1 files changed, 9 insertions(+), 8 deletions(-)

commit 974d45f8c20aa68b0d9a701122aaaccd8bddfce2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 20 13:18:37 2008 +0100

    test-olpc-bundle.py: use more ns.py namespaces

 tests/twisted/olpc/test-olpc-bundle.py |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 5ab1fec3818081e65e7d502bf9041a984605d960
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 20 13:18:08 2008 +0100

    olpc-muc-prop-change.py: use ns.py

 tests/twisted/olpc/olpc-muc-prop-change.py |   33 ++++++++++++++-------------
 1 files changed, 17 insertions(+), 16 deletions(-)

commit 31f809a418c682109089de79caae86b2e989a39c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 20 13:17:51 2008 +0100

    olpc-muc-invitation.py: use ns.ps

 tests/twisted/olpc/olpc-muc-invitation.py |   13 +++++++------
 1 files changed, 7 insertions(+), 6 deletions(-)

commit 40a094bd576cce4d973ac8e284e3ef7801196f8f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 20 13:17:30 2008 +0100

    gadget-invite.py: use more ns.ps namespace

 tests/twisted/olpc/gadget-invite.py |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit c125c9498d26edcb41f3f056d8b6981043c29de5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 20 13:16:32 2008 +0100

    add MUC and MUC_USER to ns.py

 tests/twisted/ns.py |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 14d30e94b9784cf3dad5e994fa7de63ee91ac167
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 20 11:45:56 2008 +0100

    util.py: use ns.py

 tests/twisted/olpc/util.py |   60 +++++++++++++++++--------------------------
 1 files changed, 24 insertions(+), 36 deletions(-)

commit ac3c438736256e75cdb7abd35a54229153a54c65
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 20 11:45:26 2008 +0100

    test-olpc-bundle.py: use ns.py

 tests/twisted/olpc/test-olpc-bundle.py |   10 +++-------
 1 files changed, 3 insertions(+), 7 deletions(-)

commit 19ee908d9f7d2bc43776a47300224b14f0bf91b5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 20 11:45:15 2008 +0100

    olpc-buddy-search.py: use ns.py

 tests/twisted/olpc/olpc-buddy-search.py |   46 +++++++++++-------------------
 1 files changed, 17 insertions(+), 29 deletions(-)

commit 4b9b6c17e964869fbb2b270b0c48b281ef9b526e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 20 11:45:01 2008 +0100

    olpc-activity-search.py: use ns.py

 tests/twisted/olpc/olpc-activity-search.py |   45 ++++++++++------------------
 1 files changed, 16 insertions(+), 29 deletions(-)

commit 32a8050738e306904609fdd51b0f2a2114fc6d04
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 20 11:44:47 2008 +0100

    gadget-restarted.py: use ns.py

 tests/twisted/olpc/gadget-restarted.py |   17 ++---------------
 1 files changed, 2 insertions(+), 15 deletions(-)

commit 9541d6ca8d078d56bdd2a00ff6ed52d0d89ce2d6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 20 11:44:34 2008 +0100

    gadget-publish.py: use ns.py

 tests/twisted/olpc/gadget-publish.py |   17 ++---------------
 1 files changed, 2 insertions(+), 15 deletions(-)

commit 03cb1b0f0f33b82e57f16ccdf2d360a6aa2e587f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 20 11:44:19 2008 +0100

    gadget-invite.py: use ns.py

 tests/twisted/olpc/gadget-invite.py |   21 ++++-----------------
 1 files changed, 4 insertions(+), 17 deletions(-)

commit 4bc973d22c519e83a69af7bdeff20b35e037cfb2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 20 11:43:56 2008 +0100

    current-activity.py: use ns.py

 tests/twisted/olpc/current-activity.py |   16 ++--------------
 1 files changed, 2 insertions(+), 14 deletions(-)

commit 972581e92f8c6630e3c4899ff40633f9f125b51f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 20 11:43:07 2008 +0100

    ns.py: add STANZA and OLPC +notify ns

 tests/twisted/ns.py |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 29adfe9c98033d5b7c55d99fae310fa499e5ed29
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 20 11:21:12 2008 +0100

    change-notifications.py: use ns.py

 tests/twisted/olpc/change-notifications.py |   14 ++------------
 1 files changed, 2 insertions(+), 12 deletions(-)

commit 03a1812b90f9eb2505d9bc84c7fc9a21ba975ba8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 20 11:18:45 2008 +0100

    add twisted/ns.py

 tests/twisted/ns.py |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit 16f7a8d516624356bdc19144903b814b90abd8eb
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Oct 17 18:06:28 2008 -0400

    Fix test: do not use a variable before its initialisation

 tests/twisted/tubes/test-si-tubes.py |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit c6fc8d6c6f7c2e0235a8176cc81e3904313f6f7f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Oct 17 18:05:51 2008 -0400

    Add the allowed property .TargetID in the channel classes Tubes and DBusTube

 src/private-tubes-factory.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit f2ff7025de6acde996925938ab4ac20bf5a8c7e7
Merge: f5494d0 a4a4577
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Oct 17 17:54:00 2008 -0400

    Merge branch 'alban-trivial' into alban-enhanced-caps-with-complex-types

commit a4a45774a359624a98857b3e2d93e10f9c51eec2
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Oct 17 17:50:14 2008 -0400

    Fix dbus_server_unref when a D-Bus tube is disposed.
    
    According to the documentation of dbus_server_listen:
     * To free the server, applications must call first
       dbus_server_disconnect() and then dbus_server_unref().
    
    libdbus enforce this by asserting if Gabble does not disconnect before
    unreffing.

 src/tube-dbus.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit f5494d060f8f5d22e1c569ae31be5cbd42883f81
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Oct 17 16:05:42 2008 -0400

    src/tube-stream.c: Move some properties from Channel.FUTURE to Channel because the future is today

 src/tube-stream.c |   18 ++++--------------
 1 files changed, 4 insertions(+), 14 deletions(-)

commit e0181be928bcc83a44b17c2652f7f45e1e781ec8
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Oct 17 15:50:42 2008 -0400

    The new OLPC Gadget channel manager implements the GABBLE_TYPE_CAPS_CHANNEL_MANAGER

 src/olpc-gadget-manager.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 956f207c43efcfc51d48d67488811a17849cc2cc
Merge: 8e388d7 595b855
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Oct 17 15:43:36 2008 -0400

    Merge commit '595b8556084bc5e2a271f1f8ebff106a47763813' into alban-enhanced-caps-with-complex-types

commit 595b8556084bc5e2a271f1f8ebff106a47763813
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Oct 17 15:37:45 2008 -0400

    sha1_bin: Fix a leak, and fix size on amd64

 src/util.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 8e388d74e69ae0190ad2986dcc45d61a4aeb6979
Merge: 1ccaf87 5cd2a90
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Oct 17 15:20:56 2008 -0400

    Merge branch 'master' into alban-enhanced-caps-with-complex-types
    
    Conflicts:
    
    	src/im-factory.c
    	src/media-factory.c
    	src/private-tubes-factory.c
    	tests/twisted/tubes/test-si-tubes.py

commit 1ccaf87c180f709329822bf988cd1ad539270b97
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Oct 17 14:57:05 2008 -0400

    Fix strict-aliasing warnings, and remove excessive usage of casts

 src/capabilities.c          |    7 ++++---
 src/private-tubes-factory.c |   34 +++++++++++++++++-----------------
 2 files changed, 21 insertions(+), 20 deletions(-)

commit 5cd2a90c449fd4938f9a997c858e20e765628b03
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 14 11:24:00 2008 +0100

    olpc-buddy-search.py: check if the NewChannels and NewChannel signal are properly raised

 tests/twisted/olpc/olpc-buddy-search.py |   17 +++++++++++++++--
 1 files changed, 15 insertions(+), 2 deletions(-)

commit 67e85ba276c1424452d2f422a775e86e1994ffb3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 13 17:31:51 2008 +0100

    wrap a big line

 tests/twisted/olpc/olpc-activity-search.py |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit bd6853684685cff1c86c38d2f77fb2f6fc8dd93a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 13 17:27:48 2008 +0100

    Implement multi criterias activity view requests

 src/olpc-activity-view.c                   |   59 +++++++++-------------------
 tests/twisted/olpc/olpc-activity-search.py |   40 +++++++++++++++++++
 2 files changed, 59 insertions(+), 40 deletions(-)

commit ef898d62891b52765728f57f79a9d064969342ca
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 13 17:18:49 2008 +0100

    remove debug print

 tests/twisted/olpc/olpc-buddy-search.py |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit ca0e709d50df8933206a79d40263b3354bca6d5a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 13 17:15:59 2008 +0100

    Implement multi criterias buddy view requests

 src/olpc-buddy-view.c                   |   60 +++++++++++--------------------
 tests/twisted/olpc/olpc-buddy-search.py |   37 +++++++++++++++++++
 2 files changed, 58 insertions(+), 39 deletions(-)

commit 4b3dc71155f5f6aebb5b32e12a388469b4de4e27
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 13 16:57:06 2008 +0100

    always put the size attribute in view requests

 src/olpc-activity-view.c                   |    2 ++
 src/olpc-buddy-view.c                      |    2 ++
 tests/twisted/olpc/olpc-activity-search.py |    2 ++
 tests/twisted/olpc/olpc-buddy-search.py    |    2 ++
 4 files changed, 8 insertions(+), 0 deletions(-)

commit 3a6adfcbcfe71d159494bfdf57b4500ce4b4315d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 13 16:49:50 2008 +0100

    olpc-activity-search.py: remove fixed TODO

 tests/twisted/olpc/olpc-activity-search.py |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 0703553f1d1871268d5e2bf202ecaba068a14f20
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 13 16:47:49 2008 +0100

    new activity random view protocol

 src/olpc-activity-view.c   |    4 +---
 tests/twisted/olpc/util.py |    3 +--
 2 files changed, 2 insertions(+), 5 deletions(-)

commit ed5d9b6e30a1315b363f16c4b033ce20fe6716ae
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 13 16:39:26 2008 +0100

    new buddy random view protocol

 src/olpc-buddy-view.c                   |    4 +---
 tests/twisted/olpc/olpc-buddy-search.py |    4 +---
 2 files changed, 2 insertions(+), 6 deletions(-)

commit 7c88f7910e6746662ad8b884fbc95404b7aba29f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 16 11:02:44 2008 +0100

    InitiatorHandle, InitiatorID and Requested are not in FUTUR anymore

 src/olpc-activity-view.c |    6 +++---
 src/olpc-buddy-view.c    |    6 +++---
 src/olpc-view.c          |   12 ------------
 3 files changed, 6 insertions(+), 18 deletions(-)

commit 14a8472622d28ac8b267928dc3d8d18d3710bc32
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 14 18:47:32 2008 +0100

    remove useless blank lines

 tests/twisted/olpc/olpc-activity-search.py |    2 --
 tests/twisted/olpc/olpc-buddy-search.py    |    3 ---
 2 files changed, 0 insertions(+), 5 deletions(-)

commit bbe2198c93874c211665ed8146ce7dbe718afa3c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 14 18:33:17 2008 +0100

    remove useless blank lines

 src/olpc-view.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit a1b01b5f9d32aba90bde4c0b5e3d04a05fc03d5e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 14 16:13:16 2008 +0100

    indentation fix

 src/olpc-gadget-manager.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 83054a53b1109eaaa201fb0265a55ad8dc92c6cf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 14 16:11:18 2008 +0100

    gadget-manager: remove gabble_olpc_gadget_manager_{request,create,ensure}_channel and use gabble_olpc_gadget_manager_handle_request directly

 src/olpc-gadget-manager.c |   37 +++----------------------------------
 1 files changed, 3 insertions(+), 34 deletions(-)

commit 01e28f3b024fcc5f3b85edd89d74348bab8ce20f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 14 15:39:46 2008 +0100

    gadget-manager: fix debug flag

 src/olpc-gadget-manager.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c8e06b79d3f34ccf1452946310ac6e6481351371
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 13 17:48:07 2008 +0100

    conn-olpc: style tweak

 src/conn-olpc.c |   20 ++++++++++----------
 1 files changed, 10 insertions(+), 10 deletions(-)

commit 6260538df088532b0db290bae6e11f95af056fe4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 13 17:00:39 2008 +0100

    fix view number in test comments

 tests/twisted/olpc/olpc-activity-search.py |   12 ++++++------
 tests/twisted/olpc/olpc-buddy-search.py    |    7 ++-----
 2 files changed, 8 insertions(+), 11 deletions(-)

commit d357e0e2a8879e3b0378153853f9edb6c6e8eb0f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 10 11:40:10 2008 +0100

    check if the right D-Bus error is raised when requesting a view channel without MaxSize property

 tests/twisted/olpc/olpc-activity-search.py |   10 ++++++++++
 tests/twisted/olpc/olpc-buddy-search.py    |    9 +++++++++
 2 files changed, 19 insertions(+), 0 deletions(-)

commit db6a899e60df967173635be896ab5db3561421d1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 10 11:32:49 2008 +0100

    olpc-view: return the right channel-type with GetChannelType

 src/olpc-view.c                            |    7 +++++--
 tests/twisted/olpc/olpc-activity-search.py |    3 +++
 tests/twisted/olpc/olpc-buddy-search.py    |    3 +++
 3 files changed, 11 insertions(+), 2 deletions(-)

commit 6149acb89e7f7e2e59bdeec3266c008468326b87
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 10 11:31:36 2008 +0100

    change node name of buddy/activity view to OLPC_Channel_Type_{Buddy,Activity}_View

 extensions/OLPC_Channel_Type_ActivityView.xml |    2 +-
 extensions/OLPC_Channel_Type_BuddyView.xml    |    2 +-
 src/olpc-activity-view.c                      |   10 +++++-----
 src/olpc-buddy-view.c                         |   10 +++++-----
 src/olpc-gadget-manager.c                     |   25 +++++++++++++------------
 src/olpc-view.c                               |    2 +-
 6 files changed, 26 insertions(+), 25 deletions(-)

commit b603870873ce286f29faef26954928c3fabdb0d6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 10 11:01:53 2008 +0100

    clarifiy buddy/activity views description

 extensions/OLPC_Channel_Type_ActivityView.xml |    2 +-
 extensions/OLPC_Channel_Type_BuddyView.xml    |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit cd7ef5ed6fc35bf195d74874584f26c3c6e80509
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 9 18:58:57 2008 +0100

    add href links to the extensions HTML file

 extensions/OLPC_Channel_Interface_View.xml |   11 ++++++-----
 extensions/OLPC_Gadget.xml                 |   11 +++++++----
 2 files changed, 13 insertions(+), 9 deletions(-)

commit 5d5d4c0ed6855874a5bb7796a030d0f702099819
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 9 18:27:36 2008 +0100

    olpc-view: unify param declaration style

 src/olpc-view.c |   22 ++++++----------------
 1 files changed, 6 insertions(+), 16 deletions(-)

commit 0af659304b116817f698c835a76defd7a7433a09
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 9 18:22:56 2008 +0100

    wrap big lines

 src/olpc-activity-view.c |   24 ++++++++++++++++--------
 src/olpc-buddy-view.c    |    3 ++-
 2 files changed, 18 insertions(+), 9 deletions(-)

commit d806933e0a897f7b1d61af7c29d4f4ab180d3064
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 9 17:57:24 2008 +0100

    {buddy,activity}-view: remove FIXME as, after checking, the current design make sense as all the XMPP parsing is done in conn-olpc

 src/olpc-activity-view.c |    1 -
 src/olpc-buddy-view.c    |    1 -
 2 files changed, 0 insertions(+), 2 deletions(-)

commit 116fa623a1ca8df11cf0998c591f30879f36db63
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 9 17:50:23 2008 +0100

    gadget-manager: remove gabble_olpc_gadget_manager_constructed  as we don't use it

 src/olpc-gadget-manager.c |   17 -----------------
 1 files changed, 0 insertions(+), 17 deletions(-)

commit b4ee7bd65cced59d548b8cb38319accd792f331f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 9 17:45:21 2008 +0100

    Raise a D-Bus error if Gadget is not available when requesting a view channel

 src/olpc-gadget-manager.c                  |   14 ++++++++++++--
 tests/twisted/olpc/olpc-activity-search.py |   12 +++++++++++-
 tests/twisted/olpc/olpc-buddy-search.py    |   12 +++++++++++-
 3 files changed, 34 insertions(+), 4 deletions(-)

commit 78d5733f52dd1b0b8487ece1f14009a669bbd93d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 9 17:31:44 2008 +0100

    conn-olpc: remove check_gadget_buddy

 src/conn-olpc.c |   23 +++--------------------
 1 files changed, 3 insertions(+), 20 deletions(-)

commit 7961192f4a0e83dffd48a09790e4baad6f6514a7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 9 17:28:17 2008 +0100

    conn-olpc: check_gadget_{buddy,activity}: no need to query disco to check if the service was discovered as now we are notified when it is and update conn->olpc_gadget_{buddy,activity} accordingly

 src/conn-olpc.c |   48 ++++++++++++------------------------------------
 1 files changed, 12 insertions(+), 36 deletions(-)

commit b9320780ac43d66c4626f0adea392ce965a577cd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 9 17:20:40 2008 +0100

    raise a D-Bus error if sending view request failed

 src/olpc-gadget-manager.c |   12 +++++++++---
 1 files changed, 9 insertions(+), 3 deletions(-)

commit c1dc0f7c3e2d33ac212983eb20997e9af2f3966b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 9 17:00:50 2008 +0100

    ressurect the gadget-restarted test

 src/conn-olpc.c                        |   27 +--------------------------
 tests/twisted/olpc/gadget-restarted.py |    8 ++------
 2 files changed, 3 insertions(+), 32 deletions(-)

commit 32e44eb262325060f6d4cc163a4ebbd8545c146f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 9 16:59:38 2008 +0100

    add gabble_olpc_gadget_manager_close_all_views

 src/olpc-gadget-manager.c |   23 +++++++++++++++++++++++
 src/olpc-gadget-manager.h |    2 ++
 2 files changed, 25 insertions(+), 0 deletions(-)

commit 989c727707ec29a548d79c808f8c82c6b37352cf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 9 16:58:24 2008 +0100

    add gabble_olpc_view_close public method

 src/olpc-view.c |   24 +++++++++++++++---------
 src/olpc-view.h |    2 ++
 2 files changed, 17 insertions(+), 9 deletions(-)

commit 68ed01198f3bb1f0ca20068dff9badf4348b2bdd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 9 16:35:10 2008 +0100

    olpc-view: fix methods name

 src/olpc-view.c |   32 ++++++++++++++++----------------
 1 files changed, 16 insertions(+), 16 deletions(-)

commit b947b24e511cbbcbafa5bef5ee668747588614cd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 9 16:02:46 2008 +0100

    activity_disposed_cb: check if the olpc_activities_info hash tables was not already destroyed

 src/conn-olpc.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 4953c4b2831658091d83160546fc117a351ffc9e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 9 16:00:43 2008 +0100

    current-activity.py: fix view ID and re-enable the test

 tests/twisted/olpc/current-activity.py |   10 +++-------
 1 files changed, 3 insertions(+), 7 deletions(-)

commit 2b2a1e863dac19c067837e5794ccfd17345d5cbf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 9 16:00:17 2008 +0100

    gabble_olpc_gadget_manager_close_all: don't have to manually unref each channel, the hash table does it for us

 src/olpc-gadget-manager.c |   14 --------------
 1 files changed, 0 insertions(+), 14 deletions(-)

commit dfcb8137f065454322d62fea39e98a5caecf0836
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 9 15:45:15 2008 +0100

    olpc-activity-search: rename views according their actual id

 tests/twisted/olpc/olpc-activity-search.py |   80 +++++++++++++--------------
 1 files changed, 39 insertions(+), 41 deletions(-)

commit 65e82029c9aa76ec9b4cd9d066a208bb0ce566aa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 9 15:31:33 2008 +0100

    activity-view: fix GArray leak

 src/olpc-activity-view.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 915a36a8464310c9ab176378be048646e70440e9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 9 14:35:05 2008 +0100

    rename gabble_olpc_gadget_manager_find_buddy_properties_from_views to gabble_olpc_gadget_manager_find_buddy_properties

 src/conn-olpc.c           |    2 +-
 src/olpc-gadget-manager.c |    2 +-
 src/olpc-gadget-manager.h |    3 +--
 3 files changed, 3 insertions(+), 4 deletions(-)

commit 0befcdd25b540900c6868ac541c5afac222a8180
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 9 14:30:55 2008 +0100

    Re-implement activity views using the new API

 src/Makefile.am                            |    2 +
 src/conn-olpc.c                            |  463 +++------------------------
 src/conn-olpc.h                            |    3 +
 src/olpc-activity-view.c                   |  473 ++++++++++++++++++++++++++++
 src/olpc-activity-view.h                   |   71 +++++
 src/olpc-gadget-manager.c                  |  179 +++++++++++-
 src/olpc-gadget-manager.h                  |    4 +
 tests/twisted/olpc/olpc-activity-search.py |  150 +++++++---
 tests/twisted/olpc/util.py                 |   14 +-
 9 files changed, 902 insertions(+), 457 deletions(-)

commit aea5cae6e2464dde1c9f0cccf082df47493b1fbf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 9 14:28:56 2008 +0100

    remove olpc_views from GabbleConnection

 src/conn-olpc.c  |    8 --------
 src/connection.h |    1 -
 2 files changed, 0 insertions(+), 9 deletions(-)

commit cf68d4715840d8853908d86f62ea29e5af7bd3bb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 9 14:26:28 2008 +0100

    OLPC_Channel_Type_ActivityView.xm: the Participants property is au

 extensions/OLPC_Channel_Type_ActivityView.xml |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ac6c2b875a3c3ba3c8cc785cce2e180678d9cb4a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 9 12:31:24 2008 +0100

    use a public astract _send_request method instead of a private abstract _create_request as the reply callback is depend of the type of view

 src/olpc-buddy-view.c |   42 ++++++++++++++++++++++++++++++++++++++----
 src/olpc-view.c       |   42 +-----------------------------------------
 src/olpc-view.h       |    4 +++-
 3 files changed, 42 insertions(+), 46 deletions(-)

commit c5457eb26e9d0e7d35a54a3189617bba659db54e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 9 12:06:09 2008 +0100

    move GABBLE_ARRAY_TYPE_HANDLE to olpc-view.h

 src/olpc-view.c |    3 ---
 src/olpc-view.h |    3 +++
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 95f15e5a6e45c6df23b2fe00ab9cc2cafd2c20db
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 9 12:05:43 2008 +0100

    define the ChannelType in the concrete view class

 src/olpc-buddy-view.c |   11 +++++++++++
 src/olpc-view.c       |    3 +--
 2 files changed, 12 insertions(+), 2 deletions(-)

commit 59b2f68a1c7082d60af4048ff1a6a441b16695c3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 9 11:51:39 2008 +0100

    conn-olpc: disco_item_found_cb: set conn->olpc_gadget_{buddy,activity}"

 src/conn-olpc.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit c5aee0482b5b54471868df4d1e8c4aec6cf0630e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 8 18:42:19 2008 +0100

    gadget-mgr: rename properties arrays

 src/olpc-gadget-manager.c |   12 +++++++-----
 1 files changed, 7 insertions(+), 5 deletions(-)

commit 052a9ab16a4f3e15849bbdc1e3b8d0934a13e933
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 8 18:33:11 2008 +0100

    gadget-mgr: factor out create_buddy_view_channel

 src/olpc-gadget-manager.c |   84 +++++++++++++++++++++++++++-----------------
 1 files changed, 51 insertions(+), 33 deletions(-)

commit f41a58117d600b75af04ecd313a09c31cad62272
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 8 18:11:14 2008 +0100

    view: remove old comments

 src/olpc-view.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit d8b81690fca9c4d69aca3dac693fb519cd361403
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 8 18:09:16 2008 +0100

    buddy-view: free the properties and alias when finalizing

 src/olpc-buddy-view.c |   14 ++++++++++++++
 1 files changed, 14 insertions(+), 0 deletions(-)

commit e3c5c007c9a9eaec0304d2e94528bc97de213e8e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 8 18:05:32 2008 +0100

    buddy-view: no need to define manually the object path

 src/olpc-buddy-view.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit e31dbbccae44ec8c44e448d0e5f7fcd324bd788b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 8 17:59:57 2008 +0100

    gadget-manager: don't leak the channels hash table

 src/olpc-gadget-manager.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 1283cc3576106032fb84d414ceb4b63944712152
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 8 17:48:45 2008 +0100

    Implement channel-properties in buddy-view

 src/olpc-buddy-view.c |    8 +++++---
 src/olpc-view.c       |   14 +-------------
 2 files changed, 6 insertions(+), 16 deletions(-)

commit b98bce3be7ebe69bdcab11a2c7b77b1edb31564b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 8 17:44:54 2008 +0100

    olpc-buddy-search: check some properties returned by CreateChannel

 tests/twisted/olpc/olpc-buddy-search.py |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit 12f89fb69ed751e2d7f2d1cd7b8cd4701e5ef6aa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 8 17:11:09 2008 +0100

    buddy-view: implement its D-Bus properties

 src/olpc-buddy-view.c |    6 ------
 src/olpc-buddy-view.h |    2 ++
 2 files changed, 2 insertions(+), 6 deletions(-)

commit 386aa7f9913a1e2c5ec082794b01028a72233e40
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 8 17:05:03 2008 +0100

    olpc-buddy-search: check D-Bus properties

 tests/twisted/olpc/olpc-buddy-search.py |   43 +++++++++++++++++++++++++++++-
 1 files changed, 41 insertions(+), 2 deletions(-)

commit 9021be223ace39365ebd3cc86166053dafdbf095
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 8 16:35:01 2008 +0100

    move most of the view code to a OlpcView abstract class

 src/Makefile.am           |    2 +
 src/olpc-buddy-view.c     | 1137 ++++++---------------------------------------
 src/olpc-buddy-view.h     |   86 ++---
 src/olpc-gadget-manager.c |    8 +-
 src/olpc-gadget-manager.h |    2 +-
 src/olpc-view.c           | 1083 ++++++++++++++++++++++++++++++++++++++++++
 src/olpc-view.h           |  103 ++++
 7 files changed, 1353 insertions(+), 1068 deletions(-)

commit d50f82e0d641b9d9950df33a2de544d6f50c07fd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 8 13:33:40 2008 +0100

    olpc-buddy-search.py: we should check the D-Bus properties

 tests/twisted/olpc/olpc-buddy-search.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 145d79806361cbaa3975c6fc6ac63b71fb874c30
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 7 18:04:01 2008 +0100

    olpc-buddy-search: rename views according their actual id

 tests/twisted/olpc/olpc-buddy-search.py |   21 ++++++++-------------
 1 files changed, 8 insertions(+), 13 deletions(-)

commit 8d7c6c3e8fede38a1c50e1621abf028471d47588
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 7 17:59:35 2008 +0100

    olpc-buddy-search: remove debug output

 tests/twisted/olpc/olpc-buddy-search.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 4f839bcbf5059a211033213cac54ca82ab25ee74
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 7 17:52:11 2008 +0100

    Adapapt olpc-buddy-search to use the new view API

 tests/twisted/olpc/olpc-buddy-search.py |   86 ++++++++++++++++++++++---------
 tests/twisted/olpc/util.py              |    5 +-
 2 files changed, 64 insertions(+), 27 deletions(-)

commit 276547cadbc42f8c9755fd098b1a53a4b984c617
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 7 17:50:26 2008 +0100

    build buddy-view and gadget-manager

 src/Makefile.am |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 4b2eaad767f67fa882264d54f362964cd7a39ab2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 7 17:49:57 2008 +0100

    Turn view object into a channel. Move BuddyView code from conn-olpc to olpc-buddy-view

 src/conn-olpc.c       |  312 ++--------------------
 src/conn-olpc.h       |    5 +
 src/olpc-buddy-view.c |  705 ++++++++++++++++++++++++++++++++++++++-----------
 src/olpc-buddy-view.h |   20 +-
 src/types.h           |    3 +
 5 files changed, 584 insertions(+), 461 deletions(-)

commit 10bb1001e2946b85bb8a3f014e04438a7c537111
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 7 17:46:09 2008 +0100

    olpc-gadget-manager.c: add a FIXME saying we should check for Gadget when a view channel is requested

 src/olpc-gadget-manager.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 8d80f419d9342ee65f9f19d45e414180330b191e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 7 17:44:02 2008 +0100

    olpc-gadget-manager.c: check if MaxSize is not zero

 src/olpc-gadget-manager.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 55713fd4a2324e6952c9dbd6149228071b178b92
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 7 16:48:00 2008 +0100

    instantiate GabbleOlpcGadgetManager

 src/connection.c |    6 ++++++
 src/connection.h |    4 ++++
 2 files changed, 10 insertions(+), 0 deletions(-)

commit e2c455f36876fc464ff392e3d7bdeffaf3c0fee8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 7 16:46:46 2008 +0100

    add GabbleOlpcGadgetManager, the Gadget views channel manager

 src/olpc-gadget-manager.c |  437 +++++++++++++++++++++++++++++++++++++++++++++
 src/olpc-gadget-manager.h |   70 +++++++
 2 files changed, 507 insertions(+), 0 deletions(-)

commit 5efbd239b58e2a84acdae1adc0f01fe8e2fc0155
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 7 16:35:48 2008 +0100

    org.laptop.Telepathy.Channel.Interface.View: rename Size attribute to MaxSize

 extensions/OLPC_Channel_Interface_View.xml |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit fb6c879ca6c18b5d5e5d731e5963df442b425c59
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 6 14:31:51 2008 +0100

    rename olpc-view to olpc-buddy-view and comment broken code to make it build

 src/olpc-buddy-view.c |  857 +++++++++++++++++++++++++++++++++++++++++++++++++
 src/olpc-buddy-view.h |  103 ++++++
 src/olpc-view.c       |  849 ------------------------------------------------
 src/olpc-view.h       |  101 ------
 4 files changed, 960 insertions(+), 950 deletions(-)

commit 7e2487b92360ed863466f4e2d3caba191970e0c3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 3 17:27:02 2008 +0100

    Disable view tests for now

 tests/twisted/olpc/current-activity.py     |    4 ++++
 tests/twisted/olpc/gadget-restarted.py     |    4 ++++
 tests/twisted/olpc/olpc-activity-search.py |    4 ++++
 tests/twisted/olpc/olpc-buddy-search.py    |    4 ++++
 4 files changed, 16 insertions(+), 0 deletions(-)

commit 29560a679e34fafd06e52b6a908b96c885aade3a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 3 17:26:36 2008 +0100

    Disable view code for now so Gabble can build

 src/Makefile.am |    2 --
 src/conn-olpc.c |   29 ++++++++++++++++++++++-------
 2 files changed, 22 insertions(+), 9 deletions(-)

commit 9f89a3f10130b469e990e2ea81a69b55e7c3a895
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 3 17:00:06 2008 +0100

    OLPC_Gadget.xml: remove all the Search/Request methods as now that's done using the requestotron

 extensions/OLPC_Gadget.xml |  131 ++------------------------------------------
 1 files changed, 5 insertions(+), 126 deletions(-)

commit 1ae53be48f701a0da674de254fca5cd28e0faa56
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 3 16:38:47 2008 +0100

    first draft of the requestotronification of the View API

 extensions/Makefile.am                        |    4 +-
 extensions/OLPC_Channel_Interface_View.xml    |   96 +++++++++++++++++++++
 extensions/OLPC_Channel_Type_ActivityView.xml |   49 +++++++++++
 extensions/OLPC_Channel_Type_BuddyView.xml    |   48 ++++++++++
 extensions/OLPC_View.xml                      |  115 -------------------------
 extensions/all.xml                            |    6 +-
 6 files changed, 201 insertions(+), 117 deletions(-)

commit 30573b7d2006b2eaa608110c4c8e41eaeefce84e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Oct 15 19:13:29 2008 +0100

    Coding style: if (foo != NULL) rather than if (foo) for pointer types

 src/jingle-content.c |    4 ++--
 src/jingle-session.c |   14 +++++++-------
 2 files changed, 9 insertions(+), 9 deletions(-)

commit 632201d716fc0bb8b2361dbe6a041e5e90d843cd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 15 14:25:44 2008 +0100

    Nano version 0.7.10.1

 NEWS         |    9 +++++++++
 configure.ac |    2 +-
 2 files changed, 10 insertions(+), 1 deletions(-)

commit d7bbc30ad22f372bad323699ab4c5f449c85e32b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Oct 15 14:16:33 2008 +0100

    Coding style: no newline after return type in function declarations

 src/jingle-factory.c   |    5 ++---
 src/jingle-media-rtp.c |    5 ++---
 2 files changed, 4 insertions(+), 6 deletions(-)

commit 261a8cc1692e282c5cd6034034c10a2a3effbd9c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Oct 15 14:05:42 2008 +0100

    JingleFactory: remove unused {Content,Transport}Maker typedefs

 src/jingle-factory.h |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit cfd8b6548270a85957d19a2766b5ea03a7152fd3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 15 13:03:54 2008 +0100

    Prepare release 0.7.10

 NEWS         |    3 +++
 configure.ac |    4 ++--
 2 files changed, 5 insertions(+), 2 deletions(-)

commit ef02560717b106851685bbecfc52dce0edf3491e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 15 10:43:21 2008 +0100

    Prepare NEWS

 NEWS |   24 ++++++++++++++++++++++--
 1 files changed, 22 insertions(+), 2 deletions(-)

commit 754df3cf226415c737997f83b29f12ec87570cd9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 15 10:37:40 2008 +0100

    GabbleMucChannel: use unsigned for boolean bitfields

 src/muc-channel.c |    9 ++++-----
 1 files changed, 4 insertions(+), 5 deletions(-)

commit 724b0dabce8ca42fdd40d9ffd97d89f68c9604ea
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 15 10:36:34 2008 +0100

    GabbleMediaChannel: use unsigned for boolean bitfields

 src/media-channel.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 56de600bfbdb30c0bbe946999a93ba87557eff7c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 15 10:36:17 2008 +0100

    GabbleMediaStream: use unsigned for boolean bitfields
    
    It turns out gboolean is signed, so is unsafe to use in bitfields.

 src/media-stream.c |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit fbec3a940b77baf95a2b97ec2cb0ead844c1f3cb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 14 18:15:40 2008 +0100

    Update to spec 0.17.13, moving various future Channel properties to the present
    
    This requires telepathy-glib 0.7.17, which I just released.

 configure.ac                                       |    2 +-
 extensions/Channel_Future.xml                      |  123 --------------------
 src/im-channel.c                                   |   18 +---
 src/media-channel.c                                |   18 +---
 src/muc-channel.c                                  |   18 +---
 src/roomlist-channel.c                             |   24 +---
 src/roster-channel.c                               |   18 +---
 src/tubes-channel.c                                |   18 +---
 tests/twisted/jingle/test-incoming-call-reject.py  |   11 +--
 tests/twisted/jingle/test-incoming-call.py         |   11 +--
 .../jingle/test-outgoing-call-deprecated.py        |   11 +--
 .../jingle/test-outgoing-call-deprecated2.py       |   11 +--
 tests/twisted/jingle/test-outgoing-call-ensure.py  |   18 ++--
 .../jingle/test-outgoing-call-requestotron.py      |   23 ++---
 tests/twisted/jingle/test-outgoing-call.py         |   23 ++---
 tests/twisted/muc/roomlist.py                      |   26 ++---
 tests/twisted/muc/test-muc-invitation.py           |   11 +--
 tests/twisted/muc/test-muc.py                      |   14 +--
 tests/twisted/roster/groups.py                     |   10 +-
 tests/twisted/roster/test-roster.py                |   11 +--
 tests/twisted/text/ensure.py                       |    6 +-
 tests/twisted/text/initiate-requestotron.py        |    6 +-
 tests/twisted/text/initiate.py                     |   17 +--
 tests/twisted/text/respawn.py                      |   34 ++----
 tests/twisted/text/test-text.py                    |   17 +--
 .../tubes/test-muc-accept-stream-tube-ibb.py       |   11 +--
 tests/twisted/tubes/test-muc-offer-dbus-tube.py    |   11 +--
 tests/twisted/tubes/test-si-tubes.py               |   16 +--
 28 files changed, 123 insertions(+), 414 deletions(-)

commit 5ccbeffaae28e61546b4ee56f2eb5e5ea9aecb16
Merge: acdd2f0 6c4b6ee
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 14 17:27:54 2008 +0100

    Merge branch 'checksum'

commit acdd2f0293ef45d12a9977637c4144f62866ac3e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 14 15:40:39 2008 +0100

    test-handles: accept InvalidHandle as well as historical InvalidArgument
    
    telepathy-glib used to raise InvalidArgument, but we've decided that was a bug.

 tests/test-handles.c |   10 ++++++++--
 1 files changed, 8 insertions(+), 2 deletions(-)

commit d85f2a9b9ce89c719fdb834d1289ae76081f3a00
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 14 15:34:29 2008 +0100

    Presence cache, register, request pipeline: use G_PARAM_STATIC_STRINGS

 src/presence-cache.c   |   10 +++-------
 src/register.c         |   10 +++-------
 src/request-pipeline.c |    3 +--
 3 files changed, 7 insertions(+), 16 deletions(-)

commit 1838901fbfee3cfd2734ecc56edd04a562069084
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 14 15:34:08 2008 +0100

    GabbleBytestream*: use G_PARAM_STATIC_STRINGS

 src/bytestream-factory.c |    6 +-----
 src/bytestream-ibb.c     |   17 +++--------------
 src/bytestream-iface.c   |   37 +++++++------------------------------
 3 files changed, 11 insertions(+), 49 deletions(-)

commit d3c79aca764119718ea2ef7ce4193d29a6da4c60
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 14 15:17:24 2008 +0100

    GabbleMediaSession: use G_PARAM_STATIC_STRINGS

 src/media-session.c |   77 ++++++++++++++++-----------------------------------
 1 files changed, 24 insertions(+), 53 deletions(-)

commit f0d90a6cd95ac57c293b7ef53182f61bc1807aff
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 14 15:17:11 2008 +0100

    GabblePrivateTubesFactory: use G_PARAM_STATIC_STRINGS

 src/private-tubes-factory.c |    6 +-----
 1 files changed, 1 insertions(+), 5 deletions(-)

commit d7fa7bc28a4ec262133935925ab642cd5f39066c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 14 15:15:19 2008 +0100

    GabbleRoomlistChannel: use G_PARAM_STATIC_STRINGS

 src/roomlist-channel.c |   21 +++++++--------------
 1 files changed, 7 insertions(+), 14 deletions(-)

commit b4514c525a37b77451e1fb26df94f5be5e44696b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 14 15:15:04 2008 +0100

    GabbleRoster, GabbleRosterChannel: use G_PARAM_STATIC_STRINGS

 src/roster-channel.c |   18 ++++++------------
 src/roster.c         |   10 +++-------
 2 files changed, 9 insertions(+), 19 deletions(-)

commit 7609450953787c269670bf6b37f872fe749ac362
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 14 15:14:48 2008 +0100

    GabbleTubesChannel: use G_PARAM_STATIC_STRINGS

 src/tubes-channel.c |   27 +++++++--------------------
 1 files changed, 7 insertions(+), 20 deletions(-)

commit 1a6e068d3c642c49ae2a825e105f21fb8423e2a8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 14 15:14:34 2008 +0100

    GabbleVCardManager: use G_PARAM_STATIC_STRINGS

 src/vcard-manager.c |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit 8c3adcc2be327fc6a3afd8d3e92c119391f9b3ad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 14 15:14:18 2008 +0100

    GabbleMucChannel, GabbleMucFactory: use G_PARAM_STATIC_STRINGS

 src/muc-channel.c |   41 +++++++++++++----------------------------
 src/muc-factory.c |   10 +++-------
 2 files changed, 16 insertions(+), 35 deletions(-)

commit 3247206ac6ef8dcbb75cd1d5f35a8b0cc00a4738
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 14 15:12:16 2008 +0100

    GabbleMediaChannel, GabbleMediaFactory: use G_PARAM_STATIC_STRINGS

 src/media-channel.c |   39 +++++++++++++--------------------------
 src/media-factory.c |   10 +++-------
 2 files changed, 16 insertions(+), 33 deletions(-)

commit effdb99230598b4df858168cc30527f9a68d86df
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 14 15:06:05 2008 +0100

    GabbleImFactory: use G_PARAM_STATIC_STRINGS and reindent

 src/im-factory.c |   10 +++-------
 1 files changed, 3 insertions(+), 7 deletions(-)

commit f021e242893194d82bbd15d3f5ca93013c14d517
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 14 15:05:47 2008 +0100

    GabbleIMChannel: use G_PARAM_STATIC_STRINGS

 src/im-channel.c |   18 ++++++------------
 1 files changed, 6 insertions(+), 12 deletions(-)

commit a028e9799aa6423995fc18c371483fa32d596f28
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 14 15:05:32 2008 +0100

    GabbleDisco: use G_PARAM_STATIC_STRINGS

 src/disco.c |   10 +++-------
 1 files changed, 3 insertions(+), 7 deletions(-)

commit 7f96b0627cb9e9d0215e8dc4642582b23800aa16
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Oct 14 15:51:48 2008 +0200

    Simplified readiness-checking logic for contents, added support for content-add/accept, thus making the incoming/outgoing twisted tests work.

 src/jingle-content.c                       |  140 ++++++++++++++++++++++------
 src/jingle-content.h                       |    5 +-
 src/jingle-media-rtp.c                     |    6 +-
 src/jingle-session.c                       |   69 ++++++++++----
 src/jingle-transport-google.c              |   15 ++-
 src/media-channel.c                        |   10 ++-
 src/media-stream.c                         |    2 +
 tests/twisted/jingle/test-incoming-call.py |    2 +-
 8 files changed, 188 insertions(+), 61 deletions(-)

commit c8df361154fb570ea6a7260ea03682598728b5bc
Merge: 200043c 2750609
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Mon Oct 13 19:37:19 2008 +0200

    Merge commit 'wjt/jingle' into jingle

commit 200043cee5f7261083c88107af72b727a56b4a70
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Mon Oct 13 19:33:22 2008 +0200

    making calls/tests working again after content addition/removal refactorization

 src/jingle-content.c          |    5 +++--
 src/jingle-session.c          |   23 ++++++++++++++++-------
 src/jingle-transport-google.c |    6 ++++++
 src/media-channel.c           |    2 +-
 4 files changed, 26 insertions(+), 10 deletions(-)

commit 27506099847b093434ab942916fed1fded0bbc76
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Oct 13 18:12:38 2008 +0100

    MediaStream: don't include media-session-enumtypes.h
    
    That file is no longer generated.

 src/media-stream.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit ab32f148d7f87587d2f5fa3571a6bd7f72b8e5da
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Oct 13 17:40:53 2008 +0100

    Fix a number of coding style violations.
    
    In particular:
     - trim trailing spaces;
     - function calls are written as foo () not foo();
     - casts and pointer types are written as (Foo *) foo rather than
       (Foo*)foo.

 src/jingle-content.c           |    2 +-
 src/jingle-description-iface.c |    4 ++--
 src/jingle-factory.c           |    2 +-
 src/jingle-media-rtp.c         |    2 +-
 src/jingle-session.c           |   12 ++++++------
 src/jingle-transport-google.c  |    2 +-
 src/jingle-transport-iface.c   |    6 +++---
 src/media-channel.c            |    4 ++--
 8 files changed, 17 insertions(+), 17 deletions(-)

commit 731b4c20c0dd282430c73fe8100085c375cfa077
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Mon Oct 13 13:12:23 2008 +0200

    bolted the new jingle engine onto gabble

 src/Makefile.am                            |    6 +-
 src/jingle-content.c                       |  216 ++-
 src/jingle-content.h                       |   16 +-
 src/jingle-factory.c                       |  222 ++-
 src/jingle-factory.h                       |    7 +-
 src/jingle-media-rtp.c                     |   57 +-
 src/jingle-media-rtp.h                     |    3 +
 src/jingle-session.c                       |  476 ++++-
 src/jingle-session.h                       |   22 +-
 src/jingle-transport-google.c              |  109 +-
 src/jingle-transport-iface.c               |   10 +
 src/jingle-transport-iface.h               |    2 +
 src/media-channel.c                        |  942 ++++++----
 src/media-channel.h                        |    1 -
 src/media-factory.c                        |   24 +-
 src/media-session.c                        | 2933 ----------------------------
 src/media-session.h                        |  169 --
 src/media-stream.c                         |  257 +++-
 src/media-stream.h                         |   24 +-
 src/namespaces.h                           |    3 +
 src/presence-cache.c                       |    8 +
 src/types.h                                |    6 +-
 tests/twisted/jingle/jingletest.py         |    3 +-
 tests/twisted/jingle/test-incoming-call.py |   12 +-
 24 files changed, 1809 insertions(+), 3719 deletions(-)

commit 6c4b6ee204ed523a2f5b9d7b5f35f56e6a6aab35
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Oct 13 11:53:30 2008 +0100

    Remove our copies of libmd5-rfc and sha, along with their licenses and author credit
    
    We no longer need to ship these, since we can just use GChecksum.

 AUTHORS                  |    7 -
 COPYING                  |   65 -----
 src/libmd5-rfc/md5.c     |  381 ----------------------------
 src/libmd5-rfc/md5.h     |   91 -------
 src/libmd5-rfc/md5main.c |  139 ----------
 src/sha1/sha1.c          |  626 ----------------------------------------------
 src/sha1/sha1.h          |   72 ------
 7 files changed, 0 insertions(+), 1381 deletions(-)

commit 3085626830626b2c1915a04924e0a9252b6fab9d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Oct 13 11:51:13 2008 +0100

    Remove unnecessary inclusions of sha1/sha1.h

 src/caps-hash.c    |    1 -
 src/conn-avatars.c |    1 -
 2 files changed, 0 insertions(+), 2 deletions(-)

commit 8e161744c568d2674217d02183aec0d84a6c95d5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Oct 13 11:45:27 2008 +0100

    Remove MD5, SHA1 code from the build

 src/Makefile.am |   12 +-----------
 1 files changed, 1 insertions(+), 11 deletions(-)

commit 9ecf78fa3f3faeece49ad38c18b2b0c01747e2d8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Oct 13 11:43:30 2008 +0100

    Implement sha1_hex, sha1_bin in terms of GChecksum
    
    Now that we use GLib >= 2.16, we can do this. I've kept the utility
    wrappers because sha1_hex guarantees to return lower-case (unlike
    GChecksum), and sha1_bin is more convenient than what's in GLib.
    
    Also remove compatibility #define for G_PARAM_STATIC_STRINGS, because
    we now depend on a GLib version that has it.

 src/util.c |   33 ++++++++++++++++-----------------
 src/util.h |   12 +++++-------
 2 files changed, 21 insertions(+), 24 deletions(-)

commit 291e274f5fe4c3dbf5e4f405a59af88cfa3ce876
Merge: 3cee405 6ed9547
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 10 11:56:13 2008 +0100

    Merge commit 'origin/master'

commit 3cee405a58573e2daa5a58be4ca59640703c6012
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 10 11:48:32 2008 +0100

    remove debug print from jingle tests

 .../jingle/test-outgoing-call-deprecated.py        |    1 -
 .../jingle/test-outgoing-call-deprecated2.py       |    1 -
 .../jingle/test-outgoing-call-requestotron.py      |    1 -
 tests/twisted/jingle/test-outgoing-call.py         |    1 -
 4 files changed, 0 insertions(+), 4 deletions(-)

commit 6ed95476c4e953334f8f59eac7bfe4fa2138c40a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Oct 10 11:33:05 2008 +0100

    Remove TargetHandle from anonymous media channels' allowed properties
    
    Current specs forbid TargetHandle in requests with TargetHandleType:
    None

 src/media-factory.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 696ff8ece9f5e45b9f24cf02b545082437c7a2c9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Oct 10 11:29:22 2008 +0100

    Add TargetID to allowed properties where it was missing

 src/muc-factory.c                     |    1 +
 src/private-tubes-factory.c           |    1 +
 src/roster.c                          |    1 +
 tests/twisted/tubes/ensure-si-tube.py |    4 +++-
 tests/twisted/tubes/test-si-tubes.py  |    4 +++-
 5 files changed, 9 insertions(+), 2 deletions(-)

commit 7cea676b629f8302c12f5571ab2b5b2ae2789212
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Oct 8 14:38:33 2008 +0100

    Capabilities: Fix a leak

 src/capabilities.h          |    2 +-
 src/presence-cache.c        |    2 ++
 src/private-tubes-factory.c |   26 ++++++++++++++++++++------
 3 files changed, 23 insertions(+), 7 deletions(-)

commit 6971f458ad0816e40807549202d8a4ffe58b72aa
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Oct 8 11:30:59 2008 +0100

    Stop using the workaround for bug #17329
    
    - Update the spec in extensions/:
    There was a bug in dbus-glib that prevent to use the right type:
    Instead of a{ua(a{sv}as)}, we used a(ua{sv}as) as a workaround.
    See http://bugs.freedesktop.org/show_bug.cgi?id=17329
    Now there is a fix, so we don't use the workaround anymore.
    
    - Update the implementation for the new spec
    
    - Update the unit test

 .../Connection_Interface_Contact_Capabilities.xml  |   46 ++++--
 src/connection.c                                   |   14 +-
 src/im-factory.c                                   |    5 +-
 src/private-tubes-factory.c                        |    5 +-
 tests/twisted/test-caps-tubes.py                   |  176 ++++++++++----------
 5 files changed, 136 insertions(+), 110 deletions(-)

commit 924abfeee339dbb497c73abac85754ee46ddda5b
Merge: 0872440 6a49b76
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Oct 6 18:50:06 2008 +0100

    Merge branch 'master' into alban-enhanced-caps-merging-attempt

commit 6a49b768eaa42b5dc0ceac875a4a9ecfc380c8d5
Merge: 0a6a0ad 49024ff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 6 16:40:58 2008 +0100

    Merge branch 'fix-invite'

commit 0a6a0ad33028d6787d9430933a46624ac8129225
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 1 18:04:29 2008 +0100

    gadget-invite.py: disconnect manually and reply to the PEP activity iq

 tests/twisted/olpc/gadget-invite.py |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 49024ff2b151fc63dd75dd0b98f566036b2836f3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 30 12:33:18 2008 +0100

    conn-olpc: fix 2 references issues: add_activity_info_in_set doesn't return a new ref and we always have to ref the activity when inserting to olpc_current_act

 src/conn-olpc.c |    8 ++------
 1 files changed, 2 insertions(+), 6 deletions(-)

commit 1f05130d095bad92b22654999de18a73dab57b84
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 30 11:10:48 2008 +0100

    conn-olpc: revoke_invitations: ignore fake activities aka the ones without ID

 src/conn-olpc.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 5ed9344aef3a8278b252a872836a80201f72030a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 30 11:09:57 2008 +0100

    muc-channel: fire the closed signal when disposing if needed

 src/muc-channel.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 7f78a3583b8ca6d390b8f2cb035450ab8d66724a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 29 18:27:55 2008 +0100

    unref activity ref when destroying pep and invited hash tables

 src/conn-olpc.c |   19 +++++++++++++++++++
 1 files changed, 19 insertions(+), 0 deletions(-)

commit e738c3bf173e32e6318d8f7bfd83621344088749
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 29 15:53:50 2008 +0100

    olpc-muc-invitation.py: check if act_prop_iface.GetProperties returns the right properties

 tests/twisted/olpc/olpc-muc-invitation.py |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit c2fa21247b2ede32dee9ac547062d8dddbe31d4f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 29 15:41:27 2008 +0100

    olpc/olpc-muc-invitation.py: use a dict to store handles

 tests/twisted/olpc/olpc-muc-invitation.py |   44 +++++++++++++++--------------
 1 files changed, 23 insertions(+), 21 deletions(-)

commit cac00547b3e80d45363dee400137ae9fedcf7c70
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 29 15:31:40 2008 +0100

    olpc/olpc-muc-invitation.py: add more signals checks

 tests/twisted/olpc/olpc-muc-invitation.py |   19 +++++++++++++++++++
 1 files changed, 19 insertions(+), 0 deletions(-)

commit d8e2bda7c2d36d977a903a5376f90a69fa5f57cd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 1 14:55:45 2008 +0100

    gadget-invite: be more restrictif on a stream-iq elem to be sure to catch the right one

 tests/twisted/olpc/gadget-invite.py |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 423ac01ab12105b80b7b856602cf346da214daa9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 30 17:35:42 2008 +0100

    muc-channel: no need to fire the contact-join signal in channel_state_changed as that's already done in _gabble_muc_channel_member_presence_updated

 src/muc-channel.c |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit 0872440a60baf94f66d706b4b93878b43a3f009a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Sep 30 15:14:24 2008 +0100

    Update extensions/Channel_Interface_Tube.xml

 extensions/Channel_Interface_Tube.xml |   30 +++++++++++++++++++-----------
 1 files changed, 19 insertions(+), 11 deletions(-)

commit 82bdb734efa737e9339ff6f023850da18751f16b
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Sep 30 14:43:25 2008 +0100

    Use the "channel manager" terminology everywhere instead of "channel factory"

 src/capabilities.c          |    6 ++--
 src/capabilities.h          |    2 +-
 src/caps-hash.c             |    2 +-
 src/connection.c            |   18 +++++++-------
 src/im-factory.c            |    2 +-
 src/media-factory.c         |    2 +-
 src/presence-cache.c        |   56 +++++++++++++++++++++---------------------
 src/presence-cache.h        |    8 +++---
 src/presence.c              |   56 +++++++++++++++++++++---------------------
 src/presence.h              |    4 +-
 src/private-tubes-factory.c |   14 +++++-----
 11 files changed, 85 insertions(+), 85 deletions(-)

commit e40172c623ed0458faac01f8545a8edd7621d1bd
Merge: d1d2756 2a4dbfc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 30 14:33:24 2008 +0100

    Merge branch 'tests'

commit 21749ae8b6101139321952561052159f511d73e7
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Sep 30 14:31:18 2008 +0100

    Add some documentation on gabble_presence_cache_{free,copy,update}_cache_entry

 src/presence-cache.h |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 36bb9091ee2cf7c78b0a3b1e56fbe02e28d4168c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Sep 30 14:26:59 2008 +0100

    Factorise code in gabble_free_enhanced_contact_capabilities (GPtrArray *)

 src/connection.c |   39 ++++++++++++++++++---------------------
 1 files changed, 18 insertions(+), 21 deletions(-)

commit 5690d5e3c7b549fa39a0cbda0329192c04f11813
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Sep 30 14:05:48 2008 +0100

    Every Channel Managers must now implement the GABBLE_CAPS_CHANNEL_MANAGER interface.

 src/connection.c       |   16 ++++++----------
 src/im-factory.c       |    1 -
 src/media-factory.c    |    4 +++-
 src/muc-factory.c      |    4 +++-
 src/presence-cache.c   |    5 ++---
 src/roomlist-manager.c |    4 +++-
 src/roster.c           |    4 +++-
 7 files changed, 20 insertions(+), 18 deletions(-)

commit 2a4dbfcee2db6fa5a3e25da17edcc062f985c0dc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 30 14:01:03 2008 +0100

    gabbletest: remove the second call of Disconnect() as it's useless

 tests/twisted/gabbletest.py |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 610f3042dad72abd820c67481ec6aee9c9259993
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 30 12:40:12 2008 +0100

    tests/README: explain how to use the different debugging tools with twisted tests

 tests/README |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit debfec0706df7d7296bc95ad58cee8ce8ec5c843
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 30 12:33:59 2008 +0100

    gabbletest.py: wait before killing the bus if GABBLE_TEST_REFDBG set as refdbg needs the process to be clearly exited

 tests/twisted/gabbletest.py |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 15a7282629270544a239751f062f1e2041480c5d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 29 18:25:26 2008 +0100

    add refdbg.log to gitignore

 .gitignore |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit ac19d9f77b844aabf17485466b2042c1601f7dd5
Merge: b4c4d84 d1d2756
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Sep 30 10:58:24 2008 +0100

    Merge branch 'master' into alban-enhanced-caps-merging-attempt
    
    Conflicts:
    
    	extensions/Makefile.am

commit d1d2756d86a69ea252f0efa0ff267b57acd98036
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Sep 29 17:55:56 2008 +0100

    Add a maintainer-upload-release Makefile target

 Makefile.am |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit 29cd72a33e1bac2a3520647c5f846fad54da85ee
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Sep 29 17:54:55 2008 +0100

    Start 0.7.10 development

 NEWS         |    9 +++++++++
 configure.ac |    2 +-
 2 files changed, 10 insertions(+), 1 deletions(-)

commit 789a9f70e910d3d6a5254e0fbebadef043d0be5e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Sep 29 14:48:09 2008 +0100

    Prepare version 0.7.9

 NEWS         |   12 ++++++++++--
 configure.ac |    4 ++--
 2 files changed, 12 insertions(+), 4 deletions(-)

commit bc66f005c599ae4d3b450da805c477c03adfcf68
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 29 14:40:45 2008 +0100

    tools/tp-glib.supp: don't hardcode /usr path to libdbus-1.so

 tests/twisted/tools/tp-glib.supp |   40 +++++++++++++++++++-------------------
 1 files changed, 20 insertions(+), 20 deletions(-)

commit 67a89249b19d6d7cc50a8bf4472fc4605c4f2e72
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 29 14:28:50 2008 +0100

    tools/exec-with-log.sh.in: use abs_top_builddir

 tests/twisted/tools/exec-with-log.sh.in |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 13a304e627e5e1e77bc49f502e1e043e837e85db
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 29 13:32:40 2008 +0100

    use libtool when executing telepathy-gabble-debug so we get the valgrind report as expected

 tests/twisted/tools/exec-with-log.sh.in |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 6712a764975d9c787feb92d286ea8bfbefba374e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 26 20:28:04 2008 +0100

    Update NEWS with 0.7.9, the story so far

 NEWS |   18 ++++++++++++++----
 1 files changed, 14 insertions(+), 4 deletions(-)

commit a363f22af1e00165c55c70bd8fbf1eb4b1c119e0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 26 20:27:34 2008 +0100

    GabbleRosterChannel: fix compilation with --disable-debug and hence distcheck

 src/roster-channel.c |   17 ++++++++++-------
 1 files changed, 10 insertions(+), 7 deletions(-)

commit f35fdde5f66c800dd58202429b8bb64260e69c14
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 26 20:26:24 2008 +0100

    tests/twisted: distribute olpc/util.py, fixing distcheck

 tests/twisted/Makefile.am |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit b55d7c920d1107f5d1a60b6607fd2fd97ca9c0d4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 26 20:26:08 2008 +0100

    extensions: distribute the OLPC extensions' XML, fixing distcheck

 extensions/Makefile.am |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit d178b14eea760c81721de508af55273e8a3b5288
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 26 20:25:47 2008 +0100

    Depend on telepathy-glib 0.7.16 and GLib 2.16
    
    We need tp-glib 0.7.16 for EnsureChannel, and it depends on GLib 2.16.
    Now that we need a new GLib anyway, drop compatibility code for GLib < 2.12

 configure.ac    |   10 ++--------
 src/conn-olpc.c |   16 ----------------
 2 files changed, 2 insertions(+), 24 deletions(-)

commit 4a3665c9942e171b860ba19ee76e7b184870780c
Merge: 2c97b3b 164e487
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 26 20:15:06 2008 +0100

    Merge commit 'wjt/ensure'
    
    Conflicts:
    
    	tests/twisted/Makefile.am

commit b4c4d8409adfd03b84ac0a9c14717653575f55d5
Merge: 144baeb 2c97b3b
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Sep 26 20:03:55 2008 +0100

    Merge branch 'master' into alban-enhanced-caps-merging-attempt
    
    Conflicts:
    
    	extensions/all.xml
    	src/connection.c

commit 144baeb3471470315a7555f12febd9d3620288b8
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Sep 26 19:37:48 2008 +0100

    Fix a leak in gabble_connection_set_self_capabilities(). Thanks wjt who spotted it.

 src/connection.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 2c97b3b81fcb36515f3f99319dd909ece80db46b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 26 16:49:51 2008 +0100

    merge ActivityGadgetAvailable and BuddyGadgetAvailable D-Bus properties

 extensions/OLPC_Gadget.xml           |   10 ++--------
 src/conn-olpc.c                      |    9 +++------
 src/connection.c                     |    3 +--
 tests/twisted/olpc/gadget-publish.py |    6 ++----
 4 files changed, 8 insertions(+), 20 deletions(-)

commit 8e7a627f8d82923217265704292db393514512ed
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 26 16:43:45 2008 +0100

    merge the ActivityGadgetDiscovered and BuddyGadgetDiscovered signals

 extensions/OLPC_Gadget.xml           |   10 ++--------
 src/conn-olpc.c                      |   11 +++++++++--
 tests/twisted/olpc/gadget-invite.py  |    3 +--
 tests/twisted/olpc/gadget-publish.py |    3 +--
 4 files changed, 13 insertions(+), 14 deletions(-)

commit 97469a34efaac37fcf4a65f6b81878c2566ebcbe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 26 16:17:32 2008 +0100

    conn-olpc: add a FIXME explaining we should check the assumptions that are made about buddies and activities

 src/conn-olpc.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit fdcff5a38a1ccd326efc7d71fd6e335d29fffe9b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 26 15:52:22 2008 +0100

    olpc/olpc-buddy-search.py: use close_view

 tests/twisted/olpc/olpc-activity-search.py |   12 +-----------
 tests/twisted/olpc/olpc-buddy-search.py    |   26 ++++----------------------
 tests/twisted/olpc/util.py                 |   10 ++++++++++
 3 files changed, 15 insertions(+), 33 deletions(-)

commit 9cb2d8e7e23cc89c80993b9c55e31071091cfa87
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 26 15:48:26 2008 +0100

    olpc/olpc-buddy-search.py: use create_gadget_message

 tests/twisted/olpc/olpc-activity-search.py |   15 +----------
 tests/twisted/olpc/olpc-buddy-search.py    |   38 +++++++--------------------
 tests/twisted/olpc/util.py                 |   13 +++++++++
 3 files changed, 24 insertions(+), 42 deletions(-)

commit 8c667321df4b1d439b543fe32c31818e5fcf9b04
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 26 13:32:52 2008 +0100

    facor out create_gadget_message

 tests/twisted/olpc/olpc-activity-search.py |   77 ++++++++-------------------
 1 files changed, 23 insertions(+), 54 deletions(-)

commit d7153ccc628e3435b4a674d134b26d80f3f95ea7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 26 13:11:24 2008 +0100

    olpc/olpc-buddy-search.py: use properties_to_xml

 tests/twisted/olpc/olpc-buddy-search.py |   48 +++++++++++--------------------
 1 files changed, 17 insertions(+), 31 deletions(-)

commit 84de8e4d508a582897e027bc6b5f38ffb2e1b3a2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 26 13:01:01 2008 +0100

    olpc-activity-search.py: use properties_to_xml

 tests/twisted/olpc/olpc-activity-search.py |   31 +++++++++-------------------
 1 files changed, 10 insertions(+), 21 deletions(-)

commit e084978cb3c6c3bfabf965c5e2ccb854e3e695d7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 26 12:50:42 2008 +0100

    olpc-activity-search.py: use parse_properties

 tests/twisted/olpc/olpc-activity-search.py |   13 ++++++-------
 1 files changed, 6 insertions(+), 7 deletions(-)

commit 23fdc194c6d5f10d2c11d7322b0aecc6d1493b94
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 26 12:45:30 2008 +0100

    add xpath_query and valid_types to OLPC's util.py test helper file so parse_properties can be actually used

 tests/twisted/olpc/util.py |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit 9cf94c36e6a174fe427558588fade44a2f547a8e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 26 12:30:49 2008 +0100

    rewrite a comment for clarification

 src/conn-olpc.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 13535ed8b26db15a4a5b7cab7fb38ee3295bd4f6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 26 12:24:04 2008 +0100

    exec-with-log.sh.in: remove tabs

 tests/twisted/tools/exec-with-log.sh.in |   16 ++++++++--------
 1 files changed, 8 insertions(+), 8 deletions(-)

commit 272ec7627d160387bfbc23facbf7e8f6a376b9a3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 26 12:17:45 2008 +0100

    OLPC tests: parenthesis multi lined import

 tests/twisted/olpc/current-activity.py     |    6 +++---
 tests/twisted/olpc/gadget-publish.py       |    4 ++--
 tests/twisted/olpc/olpc-activity-search.py |    4 ++--
 3 files changed, 7 insertions(+), 7 deletions(-)

commit 789873b3e8d472ea4eb513346426726f80d2d074
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 26 12:12:36 2008 +0100

    conn-olpc: fix typos

 src/conn-olpc.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 164e487b0bfe749db1c176973317dccf07bc437b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Sep 25 18:34:47 2008 +0100

    Implement EnsureChannel for Roster channels; add a test

 src/roster.c                   |   13 +++++++
 tests/twisted/Makefile.am      |    1 +
 tests/twisted/roster/ensure.py |   74 ++++++++++++++++++++++++++++++++++++++++
 3 files changed, 88 insertions(+), 0 deletions(-)

commit e02785a3f0a607c0c59a211de08ab3bb4882b46d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Sep 25 18:03:25 2008 +0100

    Implement EnsureChannel for room lists; test that it works

 src/roomlist-manager.c        |   11 +++++++++++
 tests/twisted/muc/roomlist.py |   16 ++++++++++++++++
 2 files changed, 27 insertions(+), 0 deletions(-)

commit 91d26ecb5ad713060bbd9f307d1fc3e9eb3249f5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Sep 25 17:58:43 2008 +0100

    Implement EnsureChannel for 1-1 tubes; add test

 src/private-tubes-factory.c           |   13 +++
 tests/twisted/Makefile.am             |    1 +
 tests/twisted/tubes/ensure-si-tube.py |  167 +++++++++++++++++++++++++++++++++
 3 files changed, 181 insertions(+), 0 deletions(-)

commit c2ba510621a3d64a4bc98ce9c27221a0b68e041e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Sep 25 17:42:58 2008 +0100

    Tube tests: check the Channel.Interface.Tube.Status property

 tests/twisted/tubes/test-si-tubes.py |   16 ++++++++++++++--
 1 files changed, 14 insertions(+), 2 deletions(-)

commit b934503c1ee9d878bd19fdae3a36ff66ffa693b2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Sep 25 17:40:00 2008 +0100

    Correct test description for ensuring jingle channels

 tests/twisted/jingle/test-outgoing-call-ensure.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 5f82bcca505ce727e47c2cd922372bf34cc1746e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Sep 25 17:31:15 2008 +0100

    Implement EnsureChannel for media calls, and add a corresponding test

 src/media-factory.c                               |   36 ++++
 tests/twisted/Makefile.am                         |    1 +
 tests/twisted/jingle/test-outgoing-call-ensure.py |  215 +++++++++++++++++++++
 3 files changed, 252 insertions(+), 0 deletions(-)

commit b6a0c4988f75f0af5ec15920fcfcd1d84d8148b6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Sep 25 15:55:40 2008 +0100

    MediaChannel: add a peer property for the other person in the call (if known)
    
    This is distinct from initial-peer in that it can take non-0 values for
    anonymous channels once you call RequestStreams

 src/media-channel.c |   24 ++++++++++++++++++++++++
 1 files changed, 24 insertions(+), 0 deletions(-)

commit 6835b21779892db29bb22e025d620e348f80d8f9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Sep 25 14:21:24 2008 +0100

    Add a test for Ensuring MUC channels.
    
    This test also checks that, if there are several pending requests when
    the new channel appears, at most one call to EnsureChannel receives
    Yours=True

 tests/twisted/Makefile.am        |    1 +
 tests/twisted/muc/test-ensure.py |  199 ++++++++++++++++++++++++++++++++++++++
 2 files changed, 200 insertions(+), 0 deletions(-)

commit 10777b41da6b28dc74698ad876c7993fde3b45a9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Sep 25 14:14:10 2008 +0100

    Implement EnsureChannel for MUCs.

 src/muc-factory.c |   13 +++++++++++++
 1 files changed, 13 insertions(+), 0 deletions(-)

commit 93b4425542da09068bb3bf33c89f45c944fd5e74
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Sep 24 16:22:43 2008 +0100

    Rename Ensuring-text-channels test, add to twisted Makefile

 tests/twisted/Makefile.am                 |    1 +
 tests/twisted/text/ensure-requestotron.py |  193 -----------------------------
 tests/twisted/text/ensure.py              |  193 +++++++++++++++++++++++++++++
 3 files changed, 194 insertions(+), 193 deletions(-)

commit 88f5b2788188e97b4ee42d21c29f6084ab1456ec
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Sep 24 16:06:48 2008 +0100

    IM channels: Test Create-then-Ensure as well as Ensure-then-Ensure

 tests/twisted/text/ensure-requestotron.py |  112 ++++++++++++++++++++++-------
 1 files changed, 86 insertions(+), 26 deletions(-)

commit f23769f5fb3d357189d2c622da02fd813cc8550b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Sep 24 15:38:08 2008 +0100

    Refactor test for ensuring IM channels slightly

 tests/twisted/text/ensure-requestotron.py |   29 +++++++++++++++++++----------
 1 files changed, 19 insertions(+), 10 deletions(-)

commit 9e14a4fddb58c09f9d03d58059d3f475eaf38bc5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Sep 24 15:21:36 2008 +0100

    Add a test for Ensuring IM channels

 tests/twisted/text/ensure-requestotron.py |  124 +++++++++++++++++++++++++++++
 1 files changed, 124 insertions(+), 0 deletions(-)

commit 0600813c4eae38a41b10da0944cd024947444060
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Sep 24 15:21:19 2008 +0100

    Implement EnsureChannel for IM channels

 src/im-factory.c |   13 +++++++++++++
 1 files changed, 13 insertions(+), 0 deletions(-)

commit 71a1f76146f752e8a007cf9a62a73e9785304587
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Sep 24 11:28:23 2008 +0100

    Connection: remove assertion that base->self_handle == 0
    
    This is unnecessary, was never guaranteed, and we'd like to make it not
    be the case in a future tp-glib.  See fd.o #17751

 src/connection.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 9164cfa5e56c752dbd9bc7b39b75c76bc05cc19f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Sep 23 08:41:01 2008 +0100

    Add cscope.out to .gitignore

 .gitignore |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 7c0e4eadbcc999387da5977d52156712ec3776d9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 19 17:07:41 2008 +0100

    presence-cache: don't leak computed_hash

 src/presence-cache.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit dbf3b885ad555c6e8204d12fc74ef3ad3d2ff3a0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 19 16:16:28 2008 +0100

    tube-dbus: use the DBusServer and not the address when checking if dbus_server_listen succeeds or not

 src/tube-dbus.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 7b451ecc0108884fa1235b5cfe35463e65624569
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Fri Sep 12 12:08:57 2008 +0100

    Added a test to make sure aliases are saved to the roster on updating.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 tests/twisted/Makefile.am                         |    1 +
 tests/twisted/roster/test-save-alias-to-roster.py |   76 +++++++++++++++++++++
 2 files changed, 77 insertions(+), 0 deletions(-)

commit 5581028ecff07fa9e154a959736372c2e1bbd4a9
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Wed Sep 10 16:24:49 2008 +0100

    Set a handle's alias in the roster so that vCards aren't fetched on every connect.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/conn-aliasing.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 696eb50f6589ce241d756ba52f08151166b1a610
Merge: 8eb489e 7d0652e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 25 11:14:33 2008 +0100

    Merge branch 'master' into gadget-re-rebased
    
    Conflicts:
    
    	src/conn-olpc.c
    	src/connection.c

commit 87f15020f84a3ab1b28724ec2e05a488a142e4e6
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Sep 24 12:36:58 2008 +0100

    Tubes test: test channel properties: factorise the code

 tests/twisted/tubes/test-si-tubes.py |  121 ++++++++++++++++------------------
 1 files changed, 56 insertions(+), 65 deletions(-)

commit 31d366b44b96999e722f741348d68a1c9c385a7b
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Sep 24 12:10:00 2008 +0100

    Test tube requestotron: check RequestableChannelClasses, check that requests with unknown properties are rejected, and check that requests which missing properties are rejected too.

 tests/twisted/tubes/test-si-tubes.py |   40 ++++++++++++++++++++++------------
 1 files changed, 26 insertions(+), 14 deletions(-)

commit d06ea68d0e0186d380d24f9865012b6cdd4ba0dd
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Sep 24 12:07:35 2008 +0100

    Tubes requestotron: Advertise the right RequestableChannelClasses for tubes, and strongly check properties in CreateChannel/RequestChannel.

 src/private-tubes-factory.c |   80 ++++++++++++++++++++++++++++++++++++------
 src/tubes-channel.c         |    4 ++
 2 files changed, 72 insertions(+), 12 deletions(-)

commit 7d0652e32f21e8682b4558759841b2bed20cb557
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Sep 24 11:28:23 2008 +0100

    Connection: remove assertion that base->self_handle == 0
    
    This is unnecessary, was never guaranteed, and we'd like to make it not
    be the case in a future tp-glib.  See fd.o #17751

 src/connection.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit de2f6ce796f486f326f2a3962df2f0759d566dcc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Sep 23 08:41:01 2008 +0100

    Add cscope.out to .gitignore

 .gitignore |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 7b31b2323fd3242e4cd5411db2ec3a5bfc8123aa
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Wed Sep 24 09:40:28 2008 +0200

    Continuing work on new jingle engine.

 src/Makefile.am                            |   10 +-
 src/connection.c                           |    7 +
 src/connection.h                           |    4 +
 src/jingle-content.c                       |  297 +++++++++++++------
 src/jingle-content.h                       |   14 +
 src/jingle-factory.c                       |   84 ++++--
 src/jingle-factory.h                       |   16 +-
 src/jingle-media-rtp.c                     |  160 ++++-------
 src/jingle-media-rtp.h                     |    6 +-
 src/jingle-session.c                       |  290 ++++++++++++++-----
 src/jingle-session.h                       |   13 +
 src/jingle-transport-google.c              |  117 ++++----
 src/jingle-transport-iface.c               |   37 ++-
 src/jingle-transport-iface.h               |   12 +-
 src/media-channel.c                        |  343 ++++++++++++++++++++--
 src/media-factory.c                        |  440 ++--------------------------
 src/media-stream.c                         |   66 ++++-
 src/namespaces.h                           |    7 +
 src/types.h                                |    8 +
 tests/twisted/jingle/jingletest.py         |    3 +-
 tests/twisted/jingle/test-incoming-call.py |   29 +-
 21 files changed, 1086 insertions(+), 877 deletions(-)

commit d4323f926eb4fff772c678d5cbc1077fc2d762e0
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Sep 23 19:26:36 2008 +0100

    test-si-tubes.py: Factorise code
    
     test-si-tubes.py |  126 ++++++++++++++++++++++++-------------------------------
     1 file changed, 55 insertions(+), 71 deletions(-)

 tests/twisted/tubes/test-si-tubes.py |  126 +++++++++++++++-------------------
 1 files changed, 55 insertions(+), 71 deletions(-)

commit ff64f3f26a9eee5d2721ba26ed641f39a46c294f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Sep 23 18:42:32 2008 +0100

    src/private-tubes-factory.c: Remove the old "channel factory" code. Now it is a channel manager thanks to TpChannelManager

 src/private-tubes-factory.c |   56 ++++++++++--------------------------------
 1 files changed, 14 insertions(+), 42 deletions(-)

commit f98662091871d7e59ce00c29d91e270617bc0448
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Sep 23 18:41:36 2008 +0100

    Test test-si-tubes.py: better comment for the NewChannels signal (no change in the code)

 tests/twisted/tubes/test-si-tubes.py |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit e74ed7796239a32fc9ea5f6075dabe344a8243b3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Sep 23 15:27:59 2008 +0100

    Test making outgoing calls using CreateChannel

 tests/twisted/Makefile.am                          |    1 +
 .../jingle/test-outgoing-call-requestotron.py      |  201 ++++++++++++++++++++
 2 files changed, 202 insertions(+), 0 deletions(-)

commit aa1499c9bfbff2caf8b275e9dd0b87526197dc6b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Sep 23 12:22:16 2008 +0100

    MediaFactory: implement CreateChannel

 src/media-factory.c |   99 +++++++++++++++++++++++++++++++++++++++------------
 1 files changed, 76 insertions(+), 23 deletions(-)

commit 10ba609ada73ab2185f4a5f5ff4416f259d224f1
Merge: f4e1306 8054460
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Sep 23 11:28:43 2008 +0100

    Merge branch 'master' into alban-enhanced-caps-merging-attempt

commit 8054460868a54d6cca6d6e4d73fa2522ffdfeab8
Merge: 129896a 04ce81b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Sep 23 11:01:53 2008 +0100

    Merge requestotron branch up to commit '04ce81badac9bcbead189be03ae372a4649c9112'

commit c1d71d92fecf6404b4a1a656b75f015d01623146
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Sep 23 10:56:42 2008 +0100

    RequestChannel(SM, Contact, n != 0) yields a named channel now; update test

 .../jingle/test-outgoing-call-deprecated.py        |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 0a3ad5198f55235fe48d17d8a049f37d572efccd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Sep 23 10:46:24 2008 +0100

    Incoming calls now have non-0 TargetHandle; fix tests accordingly

 tests/twisted/jingle/test-incoming-call-reject.py |    6 +++---
 tests/twisted/jingle/test-incoming-call.py        |    7 ++++---
 2 files changed, 7 insertions(+), 6 deletions(-)

commit 79b244a9749c17b4dd19936bc3dbc9aa43d05554
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Sep 23 10:28:03 2008 +0100

    MediaFactory: set initial-peer on new MediaChannel instances

 src/media-factory.c |   12 +++++++-----
 1 files changed, 7 insertions(+), 5 deletions(-)

commit d2977a9c373668da9024b462d1b5b8d779d3f23c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Sep 23 10:27:17 2008 +0100

    MediaChannel: add ::initial-peer, non-zero only if the peer was known at create-time

 src/media-channel.c |   45 ++++++++++++++++++++++++++++++++++++++++++---
 1 files changed, 42 insertions(+), 3 deletions(-)

commit 04ce81badac9bcbead189be03ae372a4649c9112
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Sep 22 18:20:06 2008 +0100

    "Regression test for a bug" sounds better than "Exhibit a bug"

 tests/twisted/roster/request-group-after-roster.py |    4 ++--
 .../twisted/roster/request-group-before-roster.py  |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 1ba9977bc306064fbcd87eba6e274dbee50a2db6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Sep 22 18:05:34 2008 +0100

    Rename new tests to what they test, rather than the bug they demonstrated

 tests/twisted/Makefile.am                          |    4 +-
 tests/twisted/roster/request-group-after-roster.py |   59 ++++++++++++++++++++
 .../twisted/roster/request-group-before-roster.py  |   53 ++++++++++++++++++
 tests/twisted/roster/request-never-answered-2.py   |   59 --------------------
 tests/twisted/roster/request-never-answered.py     |   53 ------------------
 5 files changed, 114 insertions(+), 114 deletions(-)

commit f4e130653906587f21bd8f2b57432781a739f3ed
Merge: 172a017 53cf2b0
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Sep 22 18:14:48 2008 +0100

    Merge commit 'wjt/wjt-enhanced-caps-merged-again' into alban-enhanced-caps-merging-attempt

commit 172a017fb58d5bbb8d60ed754e1ec30b3addb048
Merge: d031ab0 33fd627
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Sep 22 18:04:02 2008 +0100

    Merge commit 'wjt/requestotron' into alban-enhanced-caps-merging-attempt

commit d031ab053b13692745fdc9206663bdf6ea2208d6
Merge: ffb437b 129896a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Sep 22 17:54:57 2008 +0100

    Merge branch 'master' into alban-enhanced-caps-merging-attempt

commit 129896a3bfdb4059accaa6241c390f02bc75f5ef
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 19 17:07:41 2008 +0100

    presence-cache: don't leak computed_hash

 src/presence-cache.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 33fd627a47373e2e5ad3a7a22d53f7f759413305
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Sep 19 17:29:46 2008 +0100

    Don't leak a hash table on calls to GetAll('o.fd.T.Channel')

 src/im-channel.c       |    2 +-
 src/media-channel.c    |    2 +-
 src/muc-channel.c      |    2 +-
 src/roomlist-channel.c |    2 +-
 src/roster-channel.c   |    2 +-
 src/tubes-channel.c    |    2 +-
 6 files changed, 6 insertions(+), 6 deletions(-)

commit 53cf2b0af1924ab2794be5349168f6107789f80b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Sep 19 17:18:55 2008 +0100

    private tubes: include StreamTube.Service and Tube.Parameters in allowed

 src/private-tubes-factory.c          |    2 ++
 tests/twisted/tubes/test-si-tubes.py |   14 ++++++++++----
 2 files changed, 12 insertions(+), 4 deletions(-)

commit 5db8d8b1c2e87e8328b363d830dbcf37511ea232
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Sep 19 17:18:33 2008 +0100

    Remove .DRAFT from Requests interface name in a new test

 tests/twisted/tubes/test-si-tubes.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 4a56e5804bdf78a6b693928a3c8d60cf1dc0015f
Merge: d74f367 fd3cf54
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 19 17:00:05 2008 +0100

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble

commit c752ca83c17f9c977925dd7ce3c7b45a97504ae7
Merge: ffb437b afc3146
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Sep 19 16:36:51 2008 +0100

    Merge branch 'requestotron' into alban-enhanced-caps-merging-attempt

commit afc31469a2b4034534eb839bb3410ece5693693b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Sep 19 16:35:02 2008 +0100

    Convert new roster test to use Requests.CreateChannel

 tests/twisted/roster/request-never-answered-2.py |   38 +++++++++++++++-------
 1 files changed, 26 insertions(+), 12 deletions(-)

commit d74f3676390ce8b068d08523e7fe81b565e12a6c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 19 16:16:28 2008 +0100

    tube-dbus: use the DBusServer and not the address when checking if dbus_server_listen succeeds or not

 src/tube-dbus.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit c0658bbc3a5a4d7f6ef389ef6d2be2b4dc4472b3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Sep 19 13:48:32 2008 +0100

    Initial NEWS entries for Requests

 NEWS |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit d4645446b330c32b283238704a012c85c9c165f6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Sep 19 13:48:15 2008 +0100

    Depend on telepathy-glib 0.7.15 now it's been released.

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3cd35bd6d6ead0be37abe27af61fb22197ec7e19
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Sep 18 19:07:16 2008 +0100

    Roster: include request token with new-channels if the roster has already been received
    
    This fixes the bug exposed by
    tests/twisted/roster/request-never-answered-2.py

 src/roster.c |   42 ++++++++++++++++++++++++++++--------------
 1 files changed, 28 insertions(+), 14 deletions(-)

commit 3e65df0289ff2a656c026a5245a9140f968f0d38
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Sep 18 19:02:52 2008 +0100

    Add new tests and remove removed test from make check

 tests/twisted/Makefile.am |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 9d0edb3c9a937e6346d03482d8544ce7a411a0d2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Sep 18 18:58:36 2008 +0100

    Add a test for the reverse of request-never-answered.py
    
    When the race in test-group-race.py had the wrong result, it triggered a
    bug in the requestotronned roster code.

 tests/twisted/roster/request-never-answered-2.py |   45 ++++++++++++++++++++++
 1 files changed, 45 insertions(+), 0 deletions(-)

commit d37037c2f18fce3765561a384ad8d58513ef8688
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Sep 18 18:57:24 2008 +0100

    Replace test-group-race with a test using the new test API
    
    In the process, fix a race condition in the test itself!

 tests/twisted/roster/request-never-answered.py |   53 ++++++++++++++++++++
 tests/twisted/test-group-race.py               |   62 ------------------------
 2 files changed, 53 insertions(+), 62 deletions(-)

commit 9194777ca91fd8c227499e02f4f87af3a4a5c3ee
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Wed Sep 17 22:39:22 2008 +0200

    Updated new jingle code to new file naming scheme without gabble- prefix

 src/jingle-content.c           |    2 +-
 src/jingle-content.h           |    2 +-
 src/jingle-description-iface.c |    2 +-
 src/jingle-description-iface.h |    2 +-
 src/jingle-factory.c           |    2 +-
 src/jingle-factory.h           |    2 +-
 src/jingle-media-rtp.c         |    2 +-
 src/jingle-media-rtp.h         |    2 +-
 src/jingle-session.c           |    4 ++--
 src/jingle-session.h           |    2 +-
 src/jingle-transport-google.c  |    2 +-
 src/jingle-transport-google.h  |    2 +-
 src/jingle-transport-iface.c   |    2 +-
 src/jingle-transport-iface.h   |    2 +-
 14 files changed, 15 insertions(+), 15 deletions(-)

commit 565a5b196a1e006834446fbe4f57bd88636b68fe
Author: Senko Rasic <senko@phyrexia.lan>
Date:   Tue Sep 16 21:10:56 2008 +0200

    first attempt at refactoring jingle signalling support into separate subsystem

 src/jingle-content.c           |  435 ++++++++++++++++++
 src/jingle-content.h           |   89 ++++
 src/jingle-description-iface.c |  122 +++++
 src/jingle-description-iface.h |   60 +++
 src/jingle-factory.c           |  386 ++++++++++++++++
 src/jingle-factory.h           |  143 ++++++
 src/jingle-media-rtp.c         |  520 +++++++++++++++++++++
 src/jingle-media-rtp.h         |   64 +++
 src/jingle-session.c           |  976 ++++++++++++++++++++++++++++++++++++++++
 src/jingle-session.h           |   72 +++
 src/jingle-transport-google.c  |  548 ++++++++++++++++++++++
 src/jingle-transport-google.h  |   62 +++
 src/jingle-transport-iface.c   |  124 +++++
 src/jingle-transport-iface.h   |   64 +++
 14 files changed, 3665 insertions(+), 0 deletions(-)

commit e395af576278cc2b25f7507e85297066bd1c1f9d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Sep 16 12:18:41 2008 +0100

    Reject contact list requests containing unknown properties

 src/roster.c |   25 +++++++++++++++++++++++++
 1 files changed, 25 insertions(+), 0 deletions(-)

commit 420d9b722dfd84ba631a600186805ab70bf9dbe0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Sep 16 12:18:06 2008 +0100

    Reject roomlist requests containing unknown properties

 src/roomlist-manager.c |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit b0b6672433d9dbc868b8e652113aa73e1d863edb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Sep 16 12:17:45 2008 +0100

    Reject 1-1 tubes requests containing unknown properties

 src/private-tubes-factory.c |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit 501cf16fc4c9729bf544b55f56f232c6158b5378
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Sep 15 19:20:56 2008 +0100

    Update extension XML to spec 0.17.11

 extensions/Channel_Bundle.xml |    4 ++--
 extensions/Channel_Future.xml |   25 +++++++++++++++----------
 2 files changed, 17 insertions(+), 12 deletions(-)

commit 2691fc7cd429bfe3998ef7c39a8d1f0c20663567
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Mon Sep 15 19:03:06 2008 +0100

    Remove DRAFT from Requests iface name in tests

 tests/twisted/muc/roomlist.py               |    4 ++--
 tests/twisted/text/initiate-requestotron.py |    6 +++---
 tests/twisted/tubes/test-si-tubes.py        |    4 ++--
 3 files changed, 7 insertions(+), 7 deletions(-)

commit ffb437b5d45039e2dc8e7d47cf4a125997675c7c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Sep 15 16:40:44 2008 +0100

    Update spec in extensions/: Contact capabilities

 .../Connection_Interface_Contact_Capabilities.xml  |   30 +++++++++++--------
 1 files changed, 17 insertions(+), 13 deletions(-)

commit d06e2888960feb51a0c5daf6067701428bfe141c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Sep 15 16:40:31 2008 +0100

    Update spec in extensions/: tubes

 extensions/Channel_Interface_Tube.xml   |   35 +++++++++++++++++++++---------
 extensions/Channel_Type_DBus_Tube.xml   |   16 ++++++++------
 extensions/Channel_Type_Stream_Tube.xml |   20 ++++++++++-------
 3 files changed, 45 insertions(+), 26 deletions(-)

commit c19b3b26eba77451576f2f21fdb4e65650d6c09d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Sep 15 16:39:55 2008 +0100

    Update spec in extensions/: Channel_Bundle and Channel_Future

 extensions/Channel_Bundle.xml |    4 ++--
 extensions/Channel_Future.xml |   25 +++++++++++++++----------
 2 files changed, 17 insertions(+), 12 deletions(-)

commit 08459dd4d4a97743a73dd15589f5d30fa560e516
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Sep 15 14:43:44 2008 +0100

    src/private-tubes-factory.c: Better explanation for TubesCapabilities

 src/private-tubes-factory.c |   27 ++++++++++++++++++++-------
 1 files changed, 20 insertions(+), 7 deletions(-)

commit d15a5ebfdf016da58b34e9620b51cf86fa449e60
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Sep 15 13:18:03 2008 +0100

    Update function names specific_cache -> cache_entry

 src/connection.c     |    2 +-
 src/presence-cache.c |   38 +++++++++++++++++++-------------------
 src/presence-cache.h |    6 +++---
 src/presence.c       |   16 ++++++++--------
 4 files changed, 31 insertions(+), 31 deletions(-)

commit ff71debb4fc9bfefad5ef30ef167873ed549cf9a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Sep 15 13:02:14 2008 +0100

    src/presence-cache.c: add documentation for CapabilityInfo::per_channel_factory_caps

 src/presence-cache.c |   17 ++++++++++++++++-
 1 files changed, 16 insertions(+), 1 deletions(-)

commit 5e347236e8d56ea828db4c80256e6c6847101fdb
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Sep 15 13:01:51 2008 +0100

    src/connection.c: Fix a leak

 src/connection.c |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit f7d58bcc7b691b2130909c7c31781d8d8d33aafa
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Sep 15 12:06:14 2008 +0100

    connection.c: Fix bogus documentation

 src/connection.c |   12 ------------
 1 files changed, 0 insertions(+), 12 deletions(-)

commit bf3a4804aa95cc202a833046e302242bd3bfa224
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Sep 15 12:01:51 2008 +0100

    connection.c: use TpHandle instead of guint

 src/connection.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 0ab709c402f11c666919114f7c93e1f11ff54ab7
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Sep 15 11:50:19 2008 +0100

    Typo: s/enhenced/enhanced/

 src/connection.c     |    8 ++++----
 src/presence-cache.c |   26 +++++++++++++-------------
 2 files changed, 17 insertions(+), 17 deletions(-)

commit 750ee7b9a9801fa5d81295f546b24a046c50a54f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Sep 12 15:18:38 2008 +0100

    caps-channel-manager.c: add assert: update_capabilities cannot be called on channel manager that does not implement the caps interface

 src/caps-channel-manager.c |    8 +++-----
 1 files changed, 3 insertions(+), 5 deletions(-)

commit fe1c107eb10da544e84e21010d5adc54f296fab1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Sep 12 12:36:36 2008 +0100

    Use TpChannelManagerIter to iterate over channel managers.

 src/connection.c     |   25 ++++++++++++++-----------
 src/presence-cache.c |    9 ++++++---
 2 files changed, 20 insertions(+), 14 deletions(-)

commit 3646db92832a4d0c877128e1b1683aa74e88149a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Sep 12 12:35:25 2008 +0100

    struct _GabbleConnection: remove fields for requestotron, obsoleted by merging wjt/requestotron

 src/connection.h |    6 ------
 1 files changed, 0 insertions(+), 6 deletions(-)

commit fd3cf5450657797f55d8d09dfb7677ba1579fb25
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Fri Sep 12 12:08:57 2008 +0100

    Added a test to make sure aliases are saved to the roster on updating.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 tests/twisted/Makefile.am                         |    1 +
 tests/twisted/roster/test-save-alias-to-roster.py |   76 +++++++++++++++++++++
 2 files changed, 77 insertions(+), 0 deletions(-)

commit 29513ffe39228422cdf3a39e0fbb05fdd915ef48
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Sep 12 11:54:19 2008 +0100

    Fix merge issues after merging wjt/requestotron

 extensions/all.xml          |    4 ++++
 src/capabilities.c          |    2 +-
 src/caps-channel-manager.c  |    5 ++---
 src/caps-channel-manager.h  |    2 +-
 src/im-factory.c            |    1 -
 src/presence-cache.c        |    2 +-
 src/presence.c              |    2 +-
 src/private-tubes-factory.c |   16 +++++++---------
 src/tube-stream.c           |    6 +++---
 src/tubes-channel.c         |    6 +++---
 src/tubes-channel.h         |    4 ++--
 11 files changed, 25 insertions(+), 25 deletions(-)

commit b80beaf86216ae83b77256171613f727a618b5d3
Merge: f4d0efc e6f08ae
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Sep 12 11:53:34 2008 +0100

    Merge commit 'wjt/requestotron' into alban-enhanced-caps-merging-attempt
    
    Conflicts:
    
    	src/Makefile.am
    	src/im-factory.c
    	src/private-tubes-factory.c

commit f4d0efcf4aaa382776e136dcf5256b6fdccf46ac
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Sep 11 16:42:06 2008 +0100

    Remove useless diffs that should not be in this branch

 src/channel-manager.c |    1 +
 src/channel-manager.h |    3 ---
 2 files changed, 1 insertions(+), 3 deletions(-)

commit fefe0cf2c1ae02c3a46feb03358d444d3265c09b
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Sep 11 16:07:07 2008 +0100

    private-tubes-factory.c: Fix gabble_private_tubes_factory_update_caps: do not call tp_g_hash_table_update with source == target

 src/private-tubes-factory.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit c7f47c36389ad42a47987d164f0923d0ad4aaebf
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Sep 11 15:30:50 2008 +0100

    Proper cast to fix GLib-GObject-WARNING and im-factory.c implements GabbleCapsChannelManager correctly

 src/connection.c     |   26 +++++++++++++++-----------
 src/im-factory.c     |    6 +++---
 src/presence-cache.c |   12 ++++++++----
 3 files changed, 26 insertions(+), 18 deletions(-)

commit 7024b72ca3b8bbdde97b28adb56ff97a95a57024
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Sep 11 14:56:14 2008 +0100

    Split GabbleChannelManager in 2 parts: GabbleChannelManager (will become TpChannelManager in tp-glib) and GabbleCapsChannelManager (will stay in tp-gabble)

 src/Makefile.am             |    2 +
 src/capabilities.c          |   10 ++-
 src/caps-channel-manager.c  |  194 +++++++++++++++++++++++++++++++++++++++++++
 src/caps-channel-manager.h  |  140 +++++++++++++++++++++++++++++++
 src/channel-manager.c       |  130 -----------------------------
 src/channel-manager.h       |   75 -----------------
 src/connection.c            |   23 ++++--
 src/im-factory.c            |   16 +++-
 src/presence-cache.c        |   19 ++--
 src/private-tubes-factory.c |   52 +++++++-----
 10 files changed, 415 insertions(+), 246 deletions(-)

commit f7c6faa3307a8519436f004550df287c6f76d2b6
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Sep 11 13:40:08 2008 +0100

    src/presence.c: coding style: remove trailing spaces

 src/presence.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 34f4ae59554b4db180f2235d9941012b69eec26f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Sep 11 13:39:02 2008 +0100

    Fix warnings by using the right cast

 src/capabilities.c          |    3 ++-
 src/private-tubes-factory.c |   30 ++++++++++++++++++------------
 2 files changed, 20 insertions(+), 13 deletions(-)

commit ac0c0963c67b2ebf0e8e33e8379afdb195c682c3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Sep 9 17:58:52 2008 +0100

    Comment virtual methods on GabbleChannelManager iface

 src/channel-manager.h |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit a42fe375fe5b1ec46941893118eaf6e26d2c72fc
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Sep 8 13:48:34 2008 +0100

    src/private-tubes-factory.c: fix a leak

 src/private-tubes-factory.c |   24 +++++++++++++++---------
 1 files changed, 15 insertions(+), 9 deletions(-)

commit 683b68b8226119c1d8d10ffe181af6dc4b785c12
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Sep 5 15:45:28 2008 +0100

    Update the spec in extensions/ to remove possible errors on GetContactCapabilities

 .../Connection_Interface_Contact_Capabilities.xml  |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 8e69567116086f50bb91853c98cb84a3a1c2c82c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Sep 5 15:22:36 2008 +0100

    Update the ContactCapabilities spec in extensions/, finish the implementation of caps advertisement, write a full twisted test

 .../Connection_Interface_Contact_Capabilities.xml  |   61 ++---
 src/capabilities.c                                 |   17 +-
 src/capabilities.h                                 |    3 +-
 src/caps-hash.c                                    |    3 +-
 src/channel-manager.c                              |   45 +++-
 src/channel-manager.h                              |   30 ++-
 src/connection.c                                   |  158 ++++++---
 src/private-tubes-factory.c                        |  139 +++++++--
 tests/twisted/test-caps-tubes.py                   |  340 +++++++++++++++++---
 9 files changed, 629 insertions(+), 167 deletions(-)

commit 202cc1ce43536eacfa740ee7e5b8c42f9d5492a4
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Sep 4 14:58:03 2008 +0100

    test-caps-tubes.py: Update test description with its content

 tests/twisted/test-caps-tubes.py |    6 ++----
 1 files changed, 2 insertions(+), 4 deletions(-)

commit 4d47989e6bce172cbdf0bf261e9a5c18fa340034
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Sep 4 12:35:49 2008 +0100

    Import AdvertiseContactCapabilities in extentions/

 .../Connection_Interface_Contact_Capabilities.xml  |   43 ++++++++++++++++++-
 1 files changed, 40 insertions(+), 3 deletions(-)

commit 13a369df3020791b8931860fdf03ae8a8e8c4fa3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Sep 3 20:45:53 2008 +0100

    Fully implement signal ContactCapabilitiesChanged. Update unit test.

 src/channel-manager.c            |   22 ++++-
 src/channel-manager.h            |   15 +++-
 src/connection.c                 |   52 +++++++---
 src/presence-cache.c             |   29 +++---
 src/presence.c                   |   15 +++-
 src/private-tubes-factory.c      |  220 ++++++++++++++++++++++++--------------
 tests/twisted/test-caps-tubes.py |   66 +++++++++++-
 7 files changed, 302 insertions(+), 117 deletions(-)

commit 779f51c22cb3eb276f32a0bd67e89428f8900bc5
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Sep 3 16:26:44 2008 +0100

    Emit ContactCapabilitiesChanged, and update twisted test. The signal is still empty (to be done)

 src/connection.c                 |   44 ++++++++++++++++++++++++++++++++++---
 src/presence-cache.c             |   42 ++++++++++++++++++++++++++---------
 tests/twisted/test-caps-tubes.py |   19 ++++++----------
 3 files changed, 78 insertions(+), 27 deletions(-)

commit 6fdc2640bbf8c99c03a267c48d089e130da4d20e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Sep 2 19:36:49 2008 +0100

    Parse the caps stanza for tubes in the tube factory, using the channel manager uinterface

 src/channel-manager.c       |    4 +-
 src/channel-manager.h       |    5 +-
 src/connection.c            |    6 +-
 src/presence-cache.c        |   77 +++---------
 src/presence-cache.h        |    2 +-
 src/presence.c              |   69 ++---------
 src/presence.h              |    3 -
 src/private-tubes-factory.c |  288 ++++++++++++++++++++++++++++++++-----------
 tests/test-presence.c       |    4 +-
 9 files changed, 255 insertions(+), 203 deletions(-)

commit c832d29cce467ce38a593ca1dc74c3bc8e81e222
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Sep 2 18:02:53 2008 +0100

    Abstract enhanced capabilities in channel managers

 src/channel-manager.c |   62 ++++++++++++++++++++++++++
 src/channel-manager.h |   30 +++++++++++++
 src/connection.c      |    8 ++--
 src/presence-cache.c  |  116 +++++++++++++++++++++++++++++++++++++++++++------
 src/presence-cache.h  |    6 +++
 src/presence.c        |   47 ++++++++++++++++++--
 src/presence.h        |    4 +-
 tests/test-presence.c |    4 +-
 8 files changed, 251 insertions(+), 26 deletions(-)

commit e1a19635376baf0dfb5cfe953fc44c2a42df7ff4
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Sep 2 13:56:06 2008 +0100

    presence-cache.c: Fix the caps cache when the first received caps is void except tubes caps.

 src/presence-cache.c |   31 +++++++++++++++++++------------
 1 files changed, 19 insertions(+), 12 deletions(-)

commit 55a3b62622b5bb8583167b3d227563de83f24a2a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Sep 2 13:54:34 2008 +0100

    test-caps-cache.py: Check that caps in the cache are persistent

 tests/twisted/test-caps-cache.py |    9 +++++++--
 1 files changed, 7 insertions(+), 2 deletions(-)

commit b09545b70baddbdf68e64bd6ccb6c3529c7bb85d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Aug 28 16:31:31 2008 +0100

    test-caps-tubes.py: test the caps cache when it contains tubes

 tests/twisted/test-caps-tubes.py |   28 ++++++++++++++++++++++++++++
 1 files changed, 28 insertions(+), 0 deletions(-)

commit 28a7392a8b8c6e9080439436c6778f5ce5745d3e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Aug 28 16:26:03 2008 +0100

    Add signal ContactCapabilitiesChanged in extensions/

 .../Connection_Interface_Contact_Capabilities.xml  |   26 ++++++++++++++++++++
 1 files changed, 26 insertions(+), 0 deletions(-)

commit 9ba29a284af17a933599e61d3eac14b8c4e4b95b
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Aug 28 15:21:43 2008 +0100

    Test tube capabilities via Contacts.GetContactAttributes

 tests/twisted/test-caps-tubes.py |   42 +++++++++++++++++++++++++++++++++----
 1 files changed, 37 insertions(+), 5 deletions(-)

commit 53ebe689fdc8c37f28b0da2f14158b459f6a1362
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Aug 28 14:35:00 2008 +0100

    More tests for tube capabilities: both D-Bus and stream tubes, and advertise several tube caps at the same time

 tests/twisted/test-caps-tubes.py |  149 +++++++++++++++++++++++++++++++++++++-
 1 files changed, 147 insertions(+), 2 deletions(-)

commit a2e28cf5fd3148a2164b128aa2018d94cc08f26b
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Aug 28 14:32:42 2008 +0100

    Advertise D-Bus tube capabilities

 src/private-tubes-factory.c |   42 +++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 41 insertions(+), 1 deletions(-)

commit 07064c1bd8685a0e16a37bf57b24dc37c8da6a82
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Aug 28 12:54:48 2008 +0100

    Add a basic test for stream tube capabilities

 tests/twisted/Makefile.am        |    1 +
 tests/twisted/test-caps-tubes.py |  159 ++++++++++++++++++++++++++++++++++++++
 2 files changed, 160 insertions(+), 0 deletions(-)

commit d1fef2ac3df239db9cfe4a38c0addf3db80b0ee9
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Aug 28 12:50:23 2008 +0100

    Fix stream tube capabilities

 src/private-tubes-factory.c |   13 +++++++++----
 1 files changed, 9 insertions(+), 4 deletions(-)

commit a60c175a20baee4e2761a108e1abd9401dbefed3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Aug 27 18:23:07 2008 +0100

    Tube factory implement its part of GetContactCapabilities, reading the Presence structure

 src/channel-manager.c       |    3 +-
 src/channel-manager.h       |    7 +++-
 src/connection.c            |    3 +-
 src/im-factory.c            |    1 +
 src/private-tubes-factory.c |   70 +++++++++++++++++++++++++++++++++++++++++++
 5 files changed, 80 insertions(+), 4 deletions(-)

commit 374d27e85b320e959e42cdba4ae2e61c634cc170
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Aug 27 17:30:02 2008 +0100

    Each channel factories add its own set of caps for a contact handle

 src/channel-manager.c |   15 ++++++++++++++
 src/channel-manager.h |    9 ++++++++
 src/connection.c      |   47 ++++++--------------------------------------
 src/im-factory.c      |   51 +++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 82 insertions(+), 40 deletions(-)

commit 765d7ac5f06a455a71c22750da2f254cb385605a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Aug 27 16:57:34 2008 +0100

    Update the spec (GetContactCapabilities), avoid Bug #17329

 .../Connection_Interface_Contact_Capabilities.xml  |    6 ++++--
 src/connection.c                                   |    5 +++--
 2 files changed, 7 insertions(+), 4 deletions(-)

commit d6b0dc603252edf01f526d1b77b8950c2cc72196
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Aug 27 13:04:04 2008 +0100

    Fix leak and comment in new capabilities API

 src/connection.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 3bba299330732138f0054d634fe042c38b633b1d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Aug 27 12:44:51 2008 +0100

    Add tubes caps in GabblePresence and Resource

 src/presence-cache.c |   12 ++++++++++--
 src/presence.c       |   44 ++++++++++++++++++++++++++++++++++++++++++++
 src/presence.h       |    2 ++
 3 files changed, 56 insertions(+), 2 deletions(-)

commit 3fe147aace4cfe1081ebf6c34a954d8dea3a2f08
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Aug 25 18:06:04 2008 +0100

    Parse and store received capabilities of tube caps

 src/connection.c      |    8 +++---
 src/presence-cache.c  |   65 +++++++++++++++++++++++++++++++++++++++++++------
 src/presence.c        |    2 +
 src/presence.h        |    3 +-
 tests/test-presence.c |    4 +-
 5 files changed, 67 insertions(+), 15 deletions(-)

commit ac39607e0806ec03ae6b1acd3c517efab9a89bda
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Aug 25 15:30:26 2008 +0100

    Copyright update to 2008

 src/connection.c |    4 ++--
 src/disco.c      |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 925aa467842d0b3598f0c6619dce4b7badd331ed
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Aug 25 15:19:54 2008 +0100

    Always returns text channels with Connection.Interface.ContactCapabilities.DRAFT

 src/connection.c |   40 ++++++++++++++++++++++++++++++++++++++--
 1 files changed, 38 insertions(+), 2 deletions(-)

commit 5b2bf491c78d2726f85aeb2792b9090247ec7352
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Aug 25 12:03:53 2008 +0100

    Add empty implementation of GetContactCapabilities on Connection.Interface.ContactCapabilities.DRAFT. Also requestable with Connection.Interface.Contacts

 src/connection.c |  133 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 133 insertions(+), 0 deletions(-)

commit 64d0e433f4e72c14c579a718e8f4e5fe8f776bf1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Aug 25 11:03:30 2008 +0100

    Add spec extension Connection_Interface_Contact_Capabilities.xml

 .../Connection_Interface_Contact_Capabilities.xml  |  106 ++++++++++++++++++++
 extensions/Makefile.am                             |    1 +
 extensions/all.xml                                 |    1 +
 3 files changed, 108 insertions(+), 0 deletions(-)

commit 0043df23c6ceae5b5d0061021652e2f69f7eec28
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Sep 11 13:23:08 2008 +0100

    tube-stream.c: coding style: remove trailing space

 src/tube-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 6407b8087badc7f08fbfe9fac3decaf8f5c3e738
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Sep 11 13:22:37 2008 +0100

    tube-stream.c: Fix warning: use g_return_val_if_fail with the right return value

 src/tube-stream.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit f3d15720dc3c79f0c9cbd633aa5f39f3031901d0
Merge: 1151b7e 184aaca
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Sep 11 12:40:45 2008 +0100

    Merge branch 'master' into alban-request-tube-channel

commit e6f08aebc19cc38f82f2a8d5d655c69da0f161fe
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Thu Sep 11 11:19:25 2008 +0100

    Connection: TpBaseConnection now implements Requests; don't implement it again.

 src/connection.c |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit 3c9e6bd556cd71fca46214ffd9eb659fd529b198
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Sep 10 16:55:47 2008 +0100

    MucFactory: reject requests containing unknown properties

 src/muc-factory.c |   20 ++++++++++++++++++++
 1 files changed, 20 insertions(+), 0 deletions(-)

commit f42bfbf5a2d2e7897d2470088eddc91a9218a7b7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Wed Sep 10 16:34:50 2008 +0100

    MediaFactory: include TargetID in allowed; reject unknown properties

 src/media-factory.c |   17 +++++++++++++++++
 1 files changed, 17 insertions(+), 0 deletions(-)

commit a839057658453c673346ce4cdf3dd4db26070dd2
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Wed Sep 10 16:24:49 2008 +0100

    Set a handle's alias in the roster so that vCards aren't fetched on every connect.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 src/conn-aliasing.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 79fb2e584497c7f87b818ce2f4e1cdeda63467d0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Sep 9 12:02:43 2008 +0100

    ImFactory: Include TargetID in allowed properties

 src/im-factory.c                            |    1 +
 tests/twisted/text/initiate-requestotron.py |    4 +++-
 2 files changed, 4 insertions(+), 1 deletions(-)

commit 780c08d614a03efb2ed6637b4b66933277a27fd0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Tue Sep 9 11:58:34 2008 +0100

    ImFactory: reject requests containing unknown properties

 src/im-factory.c |   15 +++++++++++++--
 1 files changed, 13 insertions(+), 2 deletions(-)

commit d8ae9656cac3d76433d88d3874bc9c26a4b85c5d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Sep 7 19:11:19 2008 +0100

    Don't generate Conn.I.Requests bindings

 extensions/Connection_Interface_Requests.xml |  400 --------------------------
 extensions/all.xml                           |    1 -
 2 files changed, 0 insertions(+), 401 deletions(-)

commit 974b672658b4faedc7dd8437517c947fa711ab46
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Sun Sep 7 19:10:45 2008 +0100

    Use Requests implementation from tp-glib; remove local copy.

 src/Makefile.am     |    2 -
 src/conn-requests.c | 1356 ---------------------------------------------------
 src/conn-requests.h |   41 --
 src/connection.c    |   60 +--
 4 files changed, 19 insertions(+), 1440 deletions(-)

commit 2ee4db9b0848569a3f824736006fd69a13b5964c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Sep 5 13:43:20 2008 +0100

    Use TpChannelManager; remove GabbleChannelManager

 src/Makefile.am             |    2 -
 src/channel-manager.c       |  418 -------------------------------------------
 src/channel-manager.h       |  129 -------------
 src/conn-olpc.c             |    4 +-
 src/conn-requests.c         |   46 +++---
 src/connection.c            |    6 +-
 src/im-factory.c            |   26 ++--
 src/media-factory.c         |   22 ++--
 src/muc-factory.c           |   34 ++--
 src/private-tubes-factory.c |   24 ++--
 src/roomlist-manager.c      |   26 ++--
 src/roster.c                |   26 ++--
 12 files changed, 107 insertions(+), 656 deletions(-)

commit 4d34d8c1b67b4c269e2049a7308c8259177d2e68
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Sep 5 13:34:30 2008 +0100

    Use TpExportableChannel; remove GabbleExportableChannel

 src/Makefile.am             |    2 -
 src/channel-manager.c       |   28 ++++----
 src/channel-manager.h       |   12 ++--
 src/conn-olpc.c             |    2 +-
 src/conn-requests.c         |   22 +++---
 src/connection.c            |    2 +-
 src/exportable-channel.c    |  150 -------------------------------------------
 src/exportable-channel.h    |   61 -----------------
 src/im-channel.c            |    6 +-
 src/im-factory.c            |   14 ++--
 src/media-channel.c         |    6 +-
 src/media-factory.c         |   10 ++--
 src/muc-channel.c           |    6 +-
 src/muc-factory.c           |   28 ++++----
 src/private-tubes-factory.c |   12 ++--
 src/roomlist-channel.c      |    6 +-
 src/roomlist-manager.c      |   10 ++--
 src/roster-channel.c        |    6 +-
 src/roster.c                |   14 ++--
 src/tubes-channel.c         |    6 +-
 20 files changed, 95 insertions(+), 308 deletions(-)

commit 74843435b6a46fe17cf9da5317cc09e7dbad07ad
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   Fri Sep 5 13:33:38 2008 +0100

    Requestotron: copy changes back from Salut before moving to tp-glib
    
    Confirms that the test suite still passes in light of slight changes to
    the API.

 src/channel-manager.h       |    3 +-
 src/conn-requests.c         |  124 +++++++++++++++++++++++++++++-------------
 src/im-factory.c            |   10 +---
 src/media-factory.c         |   14 ++----
 src/muc-factory.c           |   11 ++--
 src/private-tubes-factory.c |   10 +---
 src/roomlist-manager.c      |    7 +--
 src/roster.c                |   18 ++-----
 8 files changed, 106 insertions(+), 91 deletions(-)

commit 184aaca6b4a93db403d327d65de00f18e6364222
Author: Will Thompson <will@willthompson.co.uk>
Date:   Thu Sep 4 09:00:14 2008 +0100

    Bump nano version to 0.7.8.1

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8eb489e63e27d3b0f2f80ab78ae46196e164979b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 29 12:18:57 2008 +0200

    Implement ActivityGadgetAvailable and BuddyGadgetAvailable D-Bus properties

 src/conn-olpc.c                      |   23 +++++++++++++++++++++++
 src/conn-olpc.h                      |    3 +++
 src/connection.c                     |   10 ++++++++++
 tests/twisted/olpc/gadget-publish.py |   15 ++++++++++++++-
 4 files changed, 50 insertions(+), 1 deletions(-)

commit 0186bef81681a8e9fbfef065c00bf6da063303ad
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 29 12:18:37 2008 +0200

    OLPC_Gadget.xml: add ActivityGadgetAvailable and BuddyGadgetAvailable D-Bus properties

 extensions/OLPC_Gadget.xml |   14 ++++++++++++++
 1 files changed, 14 insertions(+), 0 deletions(-)

commit 32ed1ad052aa429d583ecaef2ca8614b42617df0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 8 11:35:16 2008 +0000

    conn-olpc: add a comment explaining why we can't check gadget subscription
    
    20080808113516-7fe3f-7957fae71f4408cc88ee1a50c9f1a9525c52a8b9.gz

 src/conn-olpc.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit dfd0d3f39888be6c4ac99567d3dbbd4819fb525c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 7 13:04:07 2008 +0000

    fix conflict with HEAD
    
    20080807130407-7fe3f-42b0663488138536316071612fb52bfc413fc6b3.gz

 tests/twisted/Makefile.am |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 03ff64d27c748d5c90d059fc145c177b38359d88
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 4 12:39:21 2008 +0000

    conn-olpc: close open views when Gadget is restarted
    
    20080804123921-7fe3f-1fcbf800230a3a2a9621069e96b8ba8c778994a6.gz

 src/conn-olpc.c                        |   29 ++++++++++++++
 tests/twisted/olpc/gadget-restarted.py |   66 ++++++++++++++++++++++++++++++++
 2 files changed, 95 insertions(+), 0 deletions(-)

commit 44cdce57ceb611f028d0e410ec8dd5f1831ea47c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 4 12:36:06 2008 +0000

    conn-olpc: fire the Closed signal when views are closed
    
    20080804123606-7fe3f-5ac5b3c98aa77eac20a50b031f2f2d23eec3815c.gz

 src/conn-olpc.c                            |    2 +-
 src/olpc-view.c                            |    5 ++++-
 tests/twisted/olpc/olpc-activity-search.py |    3 ++-
 3 files changed, 7 insertions(+), 3 deletions(-)

commit bf3aaed09aa2a1a6c696da215ab6d07aefdcb296
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 4 12:30:58 2008 +0000

    OLPC_View.xml: add a Closed signal
    
    20080804123058-7fe3f-687d6435bbc18fcf98610f0676320fdc26658fb9.gz

 extensions/OLPC_View.xml |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 1a017f3d2d174e0a173aa6f218f69eca6525f27f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 4 12:00:22 2008 +0000

    conn-olpc: factor out gabble_olpc_view_close
    
    20080804120022-7fe3f-d8534a9bd84e22b2d27a36846cb3938710fb8194.gz

 src/olpc-view.c                            |   26 +++++++++++++++++++-------
 src/olpc-view.h                            |    2 ++
 tests/twisted/olpc/olpc-activity-search.py |   23 ++++++++++++++---------
 3 files changed, 35 insertions(+), 16 deletions(-)

commit 0fbe0173bffb4d800bcd3c011620f822e66afe4e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 1 13:54:57 2008 +0000

    conn-olpc: send "subscribed" presence in response to "subscribe" presence instead of automatically send it when Publish is called
    
    20080801135457-7fe3f-6a5b34ad3ce5200e7037e9124090f33f404916e8.gz

 src/conn-olpc.c                      |   67 +++++++++++++++++++++++++++++-----
 src/conn-olpc.h                      |    3 ++
 src/connection.c                     |   15 ++++++++
 src/connection.h                     |    1 +
 tests/twisted/olpc/gadget-publish.py |   23 +++++++++++-
 5 files changed, 98 insertions(+), 11 deletions(-)

commit 0ee7eb7fa340f765ed0eb6aebe6ec11cf5711d29
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 31 08:34:21 2008 +0000

    olpc-muc-prop-change.py: remove accidently commited delay at the end of the test
    
    20080731083421-7fe3f-7281fc06916824e4c1893c0427f6df4acea02de4.gz

 tests/twisted/olpc/olpc-muc-prop-change.py |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit f6e6dae07637fadeadf7c9c00cd8edd2a0a29b1a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 30 11:07:25 2008 +0000

    raise an error if SearchActivitiesByParticipant is called without participant
    
    20080730110725-7fe3f-4eab987556f5b305a22453898f52d709263f6069.gz

 src/conn-olpc.c |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit 92246a3390e9b044a650c0d8c7fe9ca2c22f3500
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 30 07:54:58 2008 +0000

    conn-olpc: fix conflicts with the SimplePresence branch
    
    20080730075458-7fe3f-700a49eb54f123144d0f04e5434411d08d305d02.gz

 src/conn-olpc.c |   48 ++++++++++++++++++++++++++++++++++++++++++++++--
 1 files changed, 46 insertions(+), 2 deletions(-)

commit 5a513db613bcdf5fd9a8d999b4dbb19025dddb73
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 30 07:45:23 2008 +0000

    conn-olpc: fix unsubscribe to Gadget
    
    20080730074523-7fe3f-649ca3ab94316384ab3a279256b254b470cb82fa.gz

 src/conn-olpc.c                      |    6 +++---
 tests/twisted/olpc/gadget-publish.py |    6 ++++++
 2 files changed, 9 insertions(+), 3 deletions(-)

commit a248582de7929d15b581e98ecd66545a4d611cbc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 29 15:50:47 2008 +0000

    n
    
    20080729155047-7fe3f-03d721723e6f29a7938a724adf8063cd88579e2b.gz

 tests/twisted/olpc/olpc-muc-prop-change.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 99c8c549a33155a63405a586646b7a5069cd6ba6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 29 15:47:40 2008 +0000

    olpc_buddy_info_set_activities: fix ID leaks
    
    20080729154740-7fe3f-6652cd3e07b904ee39815a67bab774337303ed84.gz

 src/conn-olpc.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 87ecfa8c1bfd557b029819c235b17a67b187b1b2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 29 14:25:50 2008 +0000

    move disposing of connection's OLPC structures to conn_olpc_activity_properties_dispose
    
    20080729142550-7fe3f-b20a4e034b6a7b715f7b5e4b3d0afb068df318ca.gz

 src/conn-olpc.c  |   10 ++++++++++
 src/conn-olpc.h  |    5 +++--
 src/connection.c |    6 +-----
 3 files changed, 14 insertions(+), 7 deletions(-)

commit 95f546c409ed8ac498f3cd2283f49cbdf43146bf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 29 14:00:49 2008 +0000

    exec gabble with refdbg when tests are runned with GABBLE_TEST_REFDBG
    
    20080729140049-7fe3f-a3ea0bd5847dbd228ab84f00e69cac58377a3d73.gz

 tests/twisted/tools/exec-with-log.sh.in |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit adfb30fa85da3064990e382075f35a3fbecdf71c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 29 10:55:28 2008 +0000

    conn-olpc: populate_buddies_from_nodes only extract properties if buddies_properties is not NULL
    
    20080729105528-7fe3f-eb9ae24097c40b60727a6ae60773a29defc0713c.gz

 src/conn-olpc.c |   15 ++++++++-------
 1 files changed, 8 insertions(+), 7 deletions(-)

commit 88bafd0c262a742f572f23a72a39950875de6406
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 29 10:19:55 2008 +0000

    conn-olpc: properly free all the ressources allocated in populate_buddies_from_nodes
    
    20080729101955-7fe3f-35152badb328f8e440c7b243476aee5613b3fc5c.gz

 src/conn-olpc.c |   54 +++++++++++++++++++++++++++++++++++++++---------------
 1 files changed, 39 insertions(+), 15 deletions(-)

commit 62a308e4b6429059fc9511a0c7bfee9cd146743d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 29 08:43:56 2008 +0000

    conn-olpc: unpublish is broken, we should fix it
    
    20080729084356-7fe3f-19a7efa4a9c0aff68ea279a79dd87ffc056fd195.gz

 src/conn-olpc.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 6ef2a73f4ea0e8d88f7bd7e6720c924ab89529c7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 29 08:43:18 2008 +0000

    conn-olpc: extract_current_activity: don't ref the activity if we just created it
    
    20080729084318-7fe3f-388bd55e7af454f52229917874642aaac43bf885.gz

 src/conn-olpc.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit c584c5ec164b3a41a6849d8b39b18862c43349e1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jul 28 16:03:59 2008 +0000

    conn-olpc: coding style tweaks
    
    20080728160359-7fe3f-ddfb831f04d8235e340bf24e0212ea8dd275611a.gz

 src/conn-olpc.c |   45 +++++++++++++++++++++++----------------------
 1 files changed, 23 insertions(+), 22 deletions(-)

commit c5582f5fe4abf8b11d4440821b02e3f28b127c20
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jul 28 15:59:12 2008 +0000

    no need to call check_gadget_* when receiving a message stanza
    
    20080728155912-7fe3f-80f670c9121d2ea0766f604acaf43ff98694901c.gz

 src/conn-olpc.c |   14 +++-----------
 1 files changed, 3 insertions(+), 11 deletions(-)

commit cc744ac03871c4b65e1168c0cb14b391fe307791
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jul 28 15:55:06 2008 +0000

    conn-olpc: improve comments
    
    20080728155506-7fe3f-d6593f82a206be04ef36f12bc70f44b3a1b5e5b9.gz

 src/conn-olpc.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 5c5ace674db1ff63046ee2e03768223a04e2ba53
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jul 28 15:41:00 2008 +0000

    olpc-olpc: buddy_changed: no need to check twice if the view is not NULL
    
    20080728154100-7fe3f-9bd81fac42aa8147cfedb2ffbed04e7c575f1da4.gz

 src/conn-olpc.c |    5 +----
 1 files changed, 1 insertions(+), 4 deletions(-)

commit b999f17203cc6103e9531d75139445f64b9c8caa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jul 28 15:39:14 2008 +0000

    no need to ensure the buddy handle when receiving a change stanza
    
    20080728153914-7fe3f-b8add3b12c133569107bcefa47f00813af68c13d.gz

 src/conn-olpc.c |    5 +----
 1 files changed, 1 insertions(+), 4 deletions(-)

commit c130a0a962be286c5d66e5078a9a61e944692f07
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jul 28 14:53:17 2008 +0000

    gabble_olpc_view_buddies_left_activity: no need to check if removed is > 0 before calling gabble_olpc_view_remove_buddies
    
    20080728145317-7fe3f-8ebc64fe03667813df4b7b8be17195a28794d6d6.gz

 src/olpc-view.c |    5 +----
 1 files changed, 1 insertions(+), 4 deletions(-)

commit de63dfaa6c0b9f11a924efcc172a1bbc79a76472
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jul 28 14:50:46 2008 +0000

    olpc-view: fix typo in comment
    
    20080728145046-7fe3f-f3e97af00dd799eaffd4a5d2f2bf9b84bc7de207.gz

 src/olpc-view.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ba70cde262b90ed84fee1aa3d9e29dae48430cb6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jul 28 14:45:05 2008 +0000

    check if the number of buddies/activities to add/remove is not zero
    
    20080728144505-7fe3f-f73498828c4bf9d7a7da9ca60f1f4f9e99f37242.gz

 src/olpc-view.c |   15 +++++++++++++--
 1 files changed, 13 insertions(+), 2 deletions(-)

commit 56bdcacd8d6fcb2466b2e4fc2d63dde266d6b45d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jul 28 14:27:40 2008 +0000

    olpc-view: move creation of all the hash tables to the constructor
    
    20080728142740-7fe3f-ceb1c50d05ad4049c277ad3a4ea62556f6a5b76d.gz

 src/olpc-view.c |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit 40ee49171ad50881ca4b3fef730c239b453b2de5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jul 28 12:42:04 2008 +0000

    olpc-activity: coding style tweaks
    
    20080728124204-7fe3f-d611ac4e9c002e71e0cb84b8d7e08638c425a482.gz

 src/olpc-activity.c |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit db1b90f463cdcc6aec74fa2a6342a5c8f5eb3d49
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jul 28 12:21:56 2008 +0000

    roster-channel: remove _gabble_roster_channel_send_presence, call gabble_connection_send_presence directly
    
    20080728122156-7fe3f-74589d0c9ac8c224aeca02e6f214d27b21eb78f6.gz

 src/roster-channel.c |   48 ++++++++++++++++--------------------------------
 1 files changed, 16 insertions(+), 32 deletions(-)

commit ad88e0a78fc932c20d3722d3bed2044b666ed612
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jul 28 12:20:15 2008 +0000

    connection: remove \n
    
    20080728122015-7fe3f-8630453ae9e8cbbbe1f4aee9ef7520cce37cb74c.gz

 src/connection.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 9cb6d5b812c57b029930e78f1d0966cf11d83ab0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 24 13:03:53 2008 +0000

    olpc-buddy-search: remove fixed FIXME
    
    20080724130353-7fe3f-9f985810546f79651d5c28765e087dc4c891cda2.gz

 tests/twisted/olpc/olpc-buddy-search.py |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 27ebfa3a3f38269e7bc319a9a6ae578c9b65d984
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 24 12:50:51 2008 +0000

    implement SearchBuddiesByAlias
    
    20080724125051-7fe3f-b82535e53fa57f35576080fb0712437e5a7efc15.gz

 src/conn-olpc.c                         |   67 +++++++++++++++++++++++++++++++
 tests/twisted/olpc/olpc-buddy-search.py |   46 +++++++++++++++++++++
 2 files changed, 113 insertions(+), 0 deletions(-)

commit aeeffd2cd92cc2f9dd488a42b89ae7b450c5153b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 24 12:50:27 2008 +0000

    OLPC_Gadget.xml: add SearchBuddiesByAlias
    
    20080724125027-7fe3f-3958deb79fa2abd439c5888b32baf6ef6d2729b6.gz

 extensions/OLPC_Gadget.xml |   18 ++++++++++++++++++
 1 files changed, 18 insertions(+), 0 deletions(-)

commit 977fedc6a02ca101d69ea532650fa3250e15679f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 23 15:48:05 2008 +0000

    olpc-view: wrap big lines
    
    20080723154805-7fe3f-ec139b19cfdf8051f5edade011d76fcc9400af85.gz

 src/olpc-view.c |   14 ++++++++------
 1 files changed, 8 insertions(+), 6 deletions(-)

commit 2cc4ee1db9159bb824ae92c72068d88c01deadc1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 23 15:34:50 2008 +0000

    gabble_olpc_view_get_buddy_activities: explain in which case we could have a buddy marked as member of an unexisting activity
    
    20080723153450-7fe3f-eb473f5b06933139dee0d752980c01e622e880b7.gz

 src/olpc-view.c |    9 ++++++++-
 1 files changed, 8 insertions(+), 1 deletions(-)

commit d44502065042a6bca72feaa1d19a3279701ae750
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 23 15:25:45 2008 +0000

    emit the BuddyInfo.ActivitiesChanged signal after View.BuddiesChanged so client knows where these buddies come from
    
    20080723152545-7fe3f-4e1b5234d399e6cd8464a292bc4c229246176d08.gz

 src/olpc-view.c                            |   18 ++++++++++++++++--
 tests/twisted/olpc/olpc-activity-search.py |   15 ++++++++-------
 2 files changed, 24 insertions(+), 9 deletions(-)

commit a78aae148ccf3ccd778e82712f91473a910b17a8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 23 13:58:04 2008 +0000

    add activities to view *before* their participants so the BuddyInfo.ActivitiesChanged signal is fired with these activities too
    
    20080723135804-7fe3f-230960b1310f0c7437657ca215910181fb284f5e.gz

 src/conn-olpc.c                            |   37 ++++++++++++++++++++++++--
 tests/twisted/olpc/olpc-activity-search.py |   39 ++++++++++++++++++++++-----
 2 files changed, 65 insertions(+), 11 deletions(-)

commit e5644ef747aa0e777b389c4538e0da2d745a5d56
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 22 13:19:17 2008 +0000

    coding style fixes
    
    20080722131917-7fe3f-6d0dc41248bae51be9238ed7c0ebed8781971bbd.gz

 src/conn-olpc.c     |   12 ++++++------
 src/olpc-activity.c |    6 +++---
 src/olpc-view.c     |    2 +-
 3 files changed, 10 insertions(+), 10 deletions(-)

commit 93a2e38a4a305a265be05e8dfbe2149d575f3090
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 22 13:11:59 2008 +0000

    olpc-view: fix headers
    
    20080722131159-7fe3f-cfdd83187b454bee65d3817296dca21f2abddc28.gz

 src/olpc-view.c |    1 -
 src/olpc-view.h |    2 +-
 2 files changed, 1 insertions(+), 2 deletions(-)

commit 608e21fb62f4d0a4fcc6e42a56658a9405653719
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 22 13:11:41 2008 +0000

    olpc-activity: fix headers
    
    20080722131141-7fe3f-f941d0245ed2460ef3cb8697c21bdc251cac8b8c.gz

 src/olpc-activity.c |    1 -
 src/olpc-activity.h |    2 +-
 2 files changed, 1 insertions(+), 2 deletions(-)

commit 44807dcd9d776a35c3f19d56f6eb1d090483c19e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 22 13:11:26 2008 +0000

    fix conflicts with HEAD
    
    20080722131126-7fe3f-83a272c43cfb6f136a7d753215f3615a4adb9a9a.gz

 src/conn-olpc.c |  139 ++++++++++---------------------------------------------
 1 files changed, 25 insertions(+), 114 deletions(-)

commit fb3b141f41edf29f383bfb55ad8e034b7416bc7d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 22 12:58:46 2008 +0000

    don't add Gadget's inspector to muc's members list
    
    20080722125846-7fe3f-1592f26b81a3d1690318f134ff461339563766ad.gz

 src/muc-channel.c                   |    9 +++++++++
 tests/twisted/olpc/gadget-invite.py |   20 ++++++++++++++++++--
 2 files changed, 27 insertions(+), 2 deletions(-)

commit b19febfcb015c67efa4546eee176854d334f046a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 17 12:52:06 2008 +0000

    conn-olpc: view joined/left announcement protocol
    
    20080717125206-7fe3f-6fbf0cb4f6284a4f337d2dc23a2aa1ecf8444396.gz

 src/conn-olpc.c                            |    2 +-
 tests/twisted/olpc/olpc-activity-search.py |    6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit ede26c4a3f94e235ddbbf2f479df04a17d0af588
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 17 08:32:39 2008 +0000

    claims buddies left their activities when the view is closed
    
    20080717083239-7fe3f-fb2de1d7956fc9f0560fde2562fb2159e9d154c5.gz

 src/olpc-view.c                            |   19 +++++++++++++++++++
 tests/twisted/olpc/olpc-activity-search.py |    9 +++++++++
 2 files changed, 28 insertions(+), 0 deletions(-)

commit b63c0e0b2bae41c88c944c09f5491a1743f3e360
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 17 08:01:46 2008 +0000

    conn-olpc: remove fixed TODO
    
    20080717080146-7fe3f-02379bba2022b901839be383af10e9036a9e2fd4.gz

 src/conn-olpc.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 90f97eab090fd3c0c20c9c0df6f8a0dab7b4173e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jul 4 13:12:03 2008 +0000

    set the right node name in _make_pubsub_event_msg
    
    20080704131203-7fe3f-f0db29bab4108889c0618e97d66cc1e9d1c0129d.gz

 tests/twisted/olpc/util.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f4e8475d9abd1dc543f4b702f0990ce68e7007a6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 3 13:39:53 2008 +0000

    remove fixed FIXME
    
    20080703133953-7fe3f-b858630f14139aff66daf725741869a83111f8e4.gz

 tests/twisted/olpc/util.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit f97b6c1c81757d61a8f32b03a822e63956f24fc0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 3 13:33:56 2008 +0000

    use "id" as attribute instead of the old misnamed "type" attribute in Gadget current-activity change message
    
    20080703133356-7fe3f-f000fd3241086f0d9ef57305826c59eb93547572.gz

 src/conn-olpc.c            |    6 ++++++
 tests/twisted/olpc/util.py |    3 +--
 2 files changed, 7 insertions(+), 2 deletions(-)

commit ca68c2659a7c107ec678017e3272419bc5622f31
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 3 13:23:31 2008 +0000

    olpc/util.py: _make_pubsub_event_msg: use elem() API
    
    20080703132331-7fe3f-8c4810fb03e763adbbf1b5c128e5fbb206a2b414.gz

 tests/twisted/olpc/util.py |   16 ++++++----------
 1 files changed, 6 insertions(+), 10 deletions(-)

commit 8fd813a661f8cd4e051c5abd2531d92fa22b33e5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 3 13:18:35 2008 +0000

    olpc/util.py: check request structure in answer_to_current_act_pubsub_request
    
    20080703131835-7fe3f-5a254faa3a716551b27ba1c7d0a2869f701b7ab9.gz

 tests/twisted/olpc/util.py |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit 45c5da76d8e6f7936f525be9a57babed5ba4d861
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 3 13:07:44 2008 +0000

    answer_error_to_pubsub_request: extract the node name from the request
    
    20080703130744-7fe3f-54405719657fc0825d6a58f007ac394f0f1cdcfb.gz

 tests/twisted/olpc/current-activity.py     |    2 +-
 tests/twisted/olpc/olpc-activity-search.py |    2 +-
 tests/twisted/olpc/util.py                 |    7 +++++--
 3 files changed, 7 insertions(+), 4 deletions(-)

commit 97c837f870973a670b87c728bf80968b6f2739cb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 3 12:54:07 2008 +0000

    olpc-activity-search.py: factor out close view code
    
    20080703125407-7fe3f-cdb08ea272965ab7e92f52c290ab5c83765b0235.gz

 tests/twisted/olpc/olpc-activity-search.py |   33 ++++++++++-----------------
 1 files changed, 12 insertions(+), 21 deletions(-)

commit e2b2a216ba083516769d93c52a855dc661d0184d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 3 12:35:08 2008 +0000

    factor out send_reply_to_activity_view_request
    
    20080703123508-7fe3f-fe22e91093094e78a3d8fb868cac3716717c0fe9.gz

 tests/twisted/olpc/olpc-activity-search.py |   36 +++++--------------------
 tests/twisted/olpc/util.py                 |   40 ++++++++++++++-------------
 2 files changed, 28 insertions(+), 48 deletions(-)

commit d8b239692785c45cc33443407892bdcbef321eef
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 3 12:19:39 2008 +0000

    olpc-activity-search.py: use answer_error_to_pubsub_request
    
    20080703121939-7fe3f-ed2070f8f5de11b4df626f7e3573fe88557e24e2.gz

 tests/twisted/olpc/olpc-activity-search.py |   17 +++--------------
 1 files changed, 3 insertions(+), 14 deletions(-)

commit bdf3b8cc145e0a12df82de6144faf0c4052ecda0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 3 12:08:24 2008 +0000

    use request_random_activity_view in olpc-activity-search.py
    
    20080703120824-7fe3f-5644e957f660ae87ac2bcb389943585b10627f05.gz

 tests/twisted/olpc/olpc-activity-search.py |   55 ++++++----------------------
 tests/twisted/olpc/util.py                 |   15 +++++++-
 2 files changed, 25 insertions(+), 45 deletions(-)

commit 9cfa68bda295b1744fda957d7896a39d865df008
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 3 10:49:12 2008 +0000

    factor out request_random_activity_view to olpc/util.py
    
    20080703104912-7fe3f-31aea7360cca23569cb6ccefac05d84918b8e60e.gz

 tests/twisted/olpc/current-activity.py |   31 +++-----------------------
 tests/twisted/olpc/util.py             |   37 ++++++++++++++++++++++++++++++++
 2 files changed, 41 insertions(+), 27 deletions(-)

commit 6ad122613e48f780dbecb3efc8607bba559cfd82
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 3 09:24:39 2008 +0000

    factor out send_gadget_current_activity_changed_msg to olpc/util.py
    
    20080703092439-7fe3f-b79990ea4a3e9b3877842f83cbe9dc8fe8514ab0.gz

 tests/twisted/olpc/current-activity.py |   43 ++++---------------------------
 tests/twisted/olpc/util.py             |   13 +++++++++
 2 files changed, 19 insertions(+), 37 deletions(-)

commit 5efd0ea24411815f4587353bbac4ff2adcd1be8e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 3 09:19:56 2008 +0000

    gabbletest.py: special case the 'from_' attribute in elem()
    
    20080703091956-7fe3f-5a3150b84f0d23f95cb2c1b64af4155f7f22b586.gz

 tests/twisted/gabbletest.py |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit a5113814c138e137ea863446ba1cfd4052649b77
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 3 09:08:42 2008 +0000

    factor out answer_error_to_pubsub_request to olpc/util.py
    
    20080703090842-7fe3f-cfd29033adddb90a4dc5f4f27f905392a4d81d27.gz

 tests/twisted/olpc/current-activity.py |   14 ++------------
 tests/twisted/olpc/util.py             |   16 ++++++++++++++++
 2 files changed, 18 insertions(+), 12 deletions(-)

commit 520f28479d1752e045647252930217d8be11dee3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 2 15:52:45 2008 +0000

    factor out answer_to_current_act_pubsub_request to olpc/util.py
    
    20080702155245-7fe3f-0dedd31ec2dda1c9659cd1f080176cea8895292c.gz

 tests/twisted/olpc/current-activity.py |   16 ++++------------
 tests/twisted/olpc/util.py             |   15 +++++++++++++++
 2 files changed, 19 insertions(+), 12 deletions(-)

commit 3f245358f212b6591e3883196e6febd9d56b1d56
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 2 15:43:06 2008 +0000

    change-notifications.py: check if that's the right contact in the PropertiesChanged signal args
    
    20080702154306-7fe3f-beebee377996afc1075e02a79014260ce02bcb48.gz

 tests/twisted/olpc/change-notifications.py |   11 ++++++-----
 1 files changed, 6 insertions(+), 5 deletions(-)

commit e82d2e498405aa2a4193b92a24b24040125b5ad9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 2 15:39:50 2008 +0000

    factor out send_buddy_changed_current_act_msg to olpc/util.py
    
    20080702153950-7fe3f-063c40ffe28cbd04ffb027341640e55db2e3552d.gz

 tests/twisted/olpc/current-activity.py |   19 +++----------------
 tests/twisted/olpc/util.py             |   23 ++++++++++++++++++++---
 2 files changed, 23 insertions(+), 19 deletions(-)

commit dcdcaecf47be15db42371322d3eaffd370377733
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 2 15:28:09 2008 +0000

    olpc/util: add a comment explaining why we can't use the elem() API
    
    20080702152809-7fe3f-74af7dfa0c241fa94bec55ab5a054d47b50bfa6a.gz

 tests/twisted/olpc/util.py |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 4f485cd479f0a8bf85b4846bab053cd36ca348e8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 2 15:27:00 2008 +0000

    factor out send_buddy_changed_properties_msg to olpc/util.py
    
    20080702152700-7fe3f-881916fa5a33faf8e84925bea6e36ef23b2b67c4.gz

 tests/twisted/olpc/change-notifications.py |   20 +++-----------------
 tests/twisted/olpc/util.py                 |   17 +++++++++++++++++
 2 files changed, 20 insertions(+), 17 deletions(-)

commit f0f83a987f08c626251908ca799c0eddc6224489
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 2 15:25:49 2008 +0000

    olpc/util.py: backport parse_properties and properties_to_xml from Gadget
    
    20080702152549-7fe3f-e5e43e0639cdd6d7c9683dcd93447cf0467296ef.gz

 tests/twisted/olpc/util.py |   38 ++++++++++++++++++++++++++++++++++++++
 1 files changed, 38 insertions(+), 0 deletions(-)

commit 0a0d468482a0dcadb9e2b0e2ccddb0ef18975d03
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 2 09:59:10 2008 +0000

    renma olpc/olpc_test_helper to olpc/util.py
    
    20080702095910-7fe3f-24d2fa6a9a1ba98ba1d31d9cdc382a2cf601d1a2.gz

 tests/twisted/olpc/change-notifications.py |    4 +-
 tests/twisted/olpc/current-activity.py     |    4 +-
 tests/twisted/olpc/gadget-invite.py        |    2 +-
 tests/twisted/olpc/gadget-publish.py       |    2 +-
 tests/twisted/olpc/olpc-activity-search.py |    2 +-
 tests/twisted/olpc/olpc-buddy-search.py    |    2 +-
 tests/twisted/olpc/olpc_test_helper.py     |   32 ----------------------------
 tests/twisted/olpc/util.py                 |   32 ++++++++++++++++++++++++++++
 8 files changed, 40 insertions(+), 40 deletions(-)

commit 60307f6165b9da8429f168b93cdc8833b10295db
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 2 09:50:20 2008 +0000

    olpc_test_helper: use elem() to create disco reply stanza
    
    20080702095020-7fe3f-5a9e7fac4777c5618b22aaaded3bbd2d7097c9ea.gz

 tests/twisted/olpc/olpc_test_helper.py |   19 ++++++++-----------
 1 files changed, 8 insertions(+), 11 deletions(-)

commit e7f3a6569ffcee364841aad1004e24bddd23b1ce
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 2 09:49:37 2008 +0000

    gabbletest: backport elem() API from Gadget
    
    20080702094937-7fe3f-7dd04f15ca9a32e10ad5ac6996d2bb575888b50f.gz

 tests/twisted/gabbletest.py |   52 +++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 52 insertions(+), 0 deletions(-)

commit 85c558d9ac5eae5446113fd13c30d4581247461c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 2 09:18:19 2008 +0000

    factor out announce_gadget to olpc_test_helper
    
    20080702091819-7fe3f-dd70a4dfe2a838f0a304e9a22718952eaebcb26e.gz

 tests/twisted/olpc/change-notifications.py |   22 +----------------
 tests/twisted/olpc/current-activity.py     |   22 +----------------
 tests/twisted/olpc/gadget-invite.py        |   24 ++----------------
 tests/twisted/olpc/gadget-publish.py       |   24 ++----------------
 tests/twisted/olpc/olpc-activity-search.py |   23 +----------------
 tests/twisted/olpc/olpc-buddy-search.py    |   24 ++----------------
 tests/twisted/olpc/olpc_test_helper.py     |   35 ++++++++++++++++++++++++++++
 7 files changed, 50 insertions(+), 124 deletions(-)

commit 3008599d1cff9d7b7f5641cb3239b3429973f54d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 2 08:28:42 2008 +0000

    implement a current-activity-cache
    
    20080702082842-7fe3f-611278a0234cc73ac7b1775686a2ce7737aa8d6c.gz

 src/conn-olpc.c                        |   73 +++++++++--
 src/connection.c                       |    3 +-
 src/connection.h                       |    1 +
 tests/twisted/Makefile.am              |    1 +
 tests/twisted/olpc/current-activity.py |  237 ++++++++++++++++++++++++++++++++
 5 files changed, 304 insertions(+), 11 deletions(-)

commit bb23f51e6618addadbda894d4742cab10b720df9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 2 08:24:06 2008 +0000

    change-notifications.py: remove current-activity test. We'll create a new test file containing all the current-activity related tests
    
    20080702082406-7fe3f-1c23f09c05eb591b120276a203694217e43b3eb2.gz

 tests/twisted/olpc/change-notifications.py |   27 +--------------------------
 1 files changed, 1 insertions(+), 26 deletions(-)

commit 21badd11733c1ab5589e613f8620f6ec6f38602c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 1 14:36:28 2008 +0000

    conn-olpc: extract_current_activity now returns GabbleOlpcActivity object
    
    20080701143628-7fe3f-33ba386922f6953f8adf146b477ad0ca083884e2.gz

 src/conn-olpc.c |   72 +++++++++++++++++++++++++++++--------------------------
 1 files changed, 38 insertions(+), 34 deletions(-)

commit 6036dfee528f15d4d81a7527455b44bafaeeaa46
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 1 12:00:10 2008 +0000

    big cleanup and simplification of olpc-activity-search
    
    20080701120010-7fe3f-4901a61bb2d034f55e755acab524f2647c57fa2f.gz

 tests/twisted/olpc/olpc-activity-search.py |  165 ++++++++++++----------------
 1 files changed, 72 insertions(+), 93 deletions(-)

commit 170b7edb056582f83e3a7036e5f710c88962e2f1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 1 09:59:01 2008 +0000

    conn-olpc: remove fixed FIXME
    
    20080701095901-7fe3f-0fa4e3f68d099590824eaf3518f72a8830fe4dd1.gz

 src/conn-olpc.c |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit c328d0c67e31fc48fbc38be02b5f6998a5545b34
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 1 09:56:19 2008 +0000

    fire BuddyInfo.ActivitiesChanged when activity views are changed
    
    20080701095619-7fe3f-865efb2cc381f65c4ccd1739106ae651f32ba357.gz

 src/conn-olpc.c                            |   20 ++++++++++++
 src/olpc-view.c                            |   24 +++++++++++++-
 tests/twisted/olpc/olpc-activity-search.py |   47 +++++++++++++++++++--------
 3 files changed, 76 insertions(+), 15 deletions(-)

commit 6eab2451cb0ae96afe36990ccf4adac594b44ba5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 1 08:12:35 2008 +0000

    olpc-activity-search.py: remove a fixed FIXME
    
    20080701081235-7fe3f-23c628977c23bdee071e57d38b18b3e2103a7301.gz

 tests/twisted/olpc/olpc-activity-search.py |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 68b39e2caf60ad114401b603446178bf95af5ac7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 30 15:58:09 2008 +0000

    olpc-activity-search.py: test if buddy are not removed from the view when they are still in one activity
    
    20080630155809-7fe3f-d1e7760c14860addaa7742723516fa32d15576a9.gz

 tests/twisted/olpc/olpc-activity-search.py |   29 ++++++++++++++++++++++++++++
 1 files changed, 29 insertions(+), 0 deletions(-)

commit 28fb9895f81776d78765779778971a928e36ecb4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 30 15:43:11 2008 +0000

    olpc-activity-search.py: add a participant to activity4
    
    20080630154311-7fe3f-872ad20c295d1338fdc25e2308bac3368f7cf502.gz

 tests/twisted/olpc/olpc-activity-search.py |   18 +++++++++++-------
 1 files changed, 11 insertions(+), 7 deletions(-)

commit eb33e44296763371474015beee699cd46784893a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 30 15:32:25 2008 +0000

    olpc-activity-search.py: add a participant to activity1
    
    20080630153225-7fe3f-8492ec6e5edbc962c890d3999f407b429a927daf.gz

 tests/twisted/olpc/olpc-activity-search.py |   32 ++++++++++++++++-----------
 1 files changed, 19 insertions(+), 13 deletions(-)

commit d2f9f406fb028085632ae3f4d0d08c1bb0aa75fb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 30 15:17:20 2008 +0000

    olpc-activity-search.py: factor out check_view
    
    20080630151720-7fe3f-7fc3b25111099e1ee62bedc1d4943136535fc321.gz

 tests/twisted/olpc/olpc-activity-search.py |   51 +++++++++++-----------------
 1 files changed, 20 insertions(+), 31 deletions(-)

commit 7fe9968c492359b8c0eab2fa68cdb596ba004729
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 30 15:10:11 2008 +0000

    olpc-activity-search.py: test cleanup and do more activities/buddies tests on views
    
    20080630151011-7fe3f-9c68cdb7e34d9f58273e9e336985965ab14b6546.gz

 tests/twisted/olpc/olpc-activity-search.py |   78 +++++++++++++++++++---------
 1 files changed, 53 insertions(+), 25 deletions(-)

commit cf2dd4f0f59352e0426264fe66eadd3ad7822e0d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 30 14:10:45 2008 +0000

    olpc-activity-search.py: improve documentation of the tests
    
    20080630141045-7fe3f-0163db1fa69578c568a4745f8740d20ebfbfd8ce.gz

 tests/twisted/olpc/olpc-activity-search.py |   49 +++++++++++++++++++++++----
 1 files changed, 41 insertions(+), 8 deletions(-)

commit 6e87887045d186c7aa22cd7e28960029b8227e78
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 30 13:55:48 2008 +0000

    manage "buddy left activity" message from Gadget
    
    20080630135548-7fe3f-b34938fa72a053f844b21ef8996589449eebbae8.gz

 src/conn-olpc.c                            |   40 ++++++++++++++++++++++++--
 src/olpc-view.c                            |   43 ++++++++++++++++++++++++++++
 src/olpc-view.h                            |    3 ++
 tests/twisted/olpc/olpc-activity-search.py |   23 +++++++++++++++
 4 files changed, 106 insertions(+), 3 deletions(-)

commit 52db0e9cff8e0c94f5059dcfaae7190c8fb70f61
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 30 13:04:56 2008 +0000

    activity_membership_change: associate buddies with the activity when adding them to the view
    
    20080630130456-7fe3f-38f430de5d10cb820545f47551f079f04761dff3.gz

 src/conn-olpc.c |   13 ++++++++-----
 1 files changed, 8 insertions(+), 5 deletions(-)

commit 3a5f16a82b73a6010e58d98845df04c8a51c94c9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 30 12:55:53 2008 +0000

    add_buddies_to_view_from_node: early return if there isn't buddy to add
    
    20080630125553-7fe3f-88c2abff6de6d9ec421b7f6206562c08d601fd5b.gz

 src/conn-olpc.c |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit d31dddb6f62d19901f9f8089b4f0160378a424e8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 30 12:31:16 2008 +0000

    add FIXME about BuddyInfo.ActivitiesChanged
    
    20080630123116-7fe3f-197a4372ddb447096e602186f0e2eb0be64a3b4f.gz

 src/conn-olpc.c |    8 ++++++--
 1 files changed, 6 insertions(+), 2 deletions(-)

commit 4cd5ff97f01eecc21f2736715666f101d900f5fe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 30 12:11:21 2008 +0000

    olpc-activity-search.py: check if the BuddyInfo.PropertiesChanged signal is fired when buddies join activities
    
    20080630121121-7fe3f-c17fd99bd1483bd4b92b75cec33d3fac36726450.gz

 tests/twisted/olpc/olpc-activity-search.py |   11 ++++++++---
 1 files changed, 8 insertions(+), 3 deletions(-)

commit a74cf4ecd46372f20fa93b62ae75a3039eb4ec61
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 30 11:54:08 2008 +0000

    conn-olpc: use add_buddies_to_view_from_node to manage joined buddies
    
    20080630115408-7fe3f-7fe3345021f6cf7d08d99c2095dc5da7d52dae85.gz

 src/conn-olpc.c                            |   27 ++++++---------------------
 tests/twisted/olpc/olpc-activity-search.py |    1 -
 2 files changed, 6 insertions(+), 22 deletions(-)

commit bf8705d9ab5045b8be3f7331657e581c64662921
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 27 22:59:07 2008 +0000

    start to implement joined message stanza
    
    20080627225907-7fe3f-051b7f3d56f42273adc1c551639dc837df0f7e52.gz

 src/conn-olpc.c                            |   75 ++++++++++++++++++++++++++-
 tests/twisted/olpc/olpc-activity-search.py |   32 ++++++++++++
 2 files changed, 104 insertions(+), 3 deletions(-)

commit a8f1b1ed01ade45474027fe7dc4f89ac9eee9a43
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 27 14:58:16 2008 +0000

    conn-olpc: remove fixed FIXME
    
    20080627145816-7fe3f-156ef4a1959ab38f0f2d900d475b4d12237e7f4d.gz

 src/conn-olpc.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 2cd92ed135365c504440ce764fa22bf6a6804d3a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 27 14:20:16 2008 +0000

    olpc-activity-search.py: check if GetProperties return the right properties
    
    20080627142016-7fe3f-26c7267260b442cfd93ca119dbed124410309ecc.gz

 tests/twisted/olpc/olpc-activity-search.py |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 9b42240cb1489f14f9b036e38675150206b10604
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 27 14:10:31 2008 +0000

    olpc-activity-search.py: test gadget activity properties change messages
    
    20080627141031-7fe3f-0edba7e3a4036404e685b127e79a472976cc5f81.gz

 tests/twisted/olpc/olpc-activity-search.py |   33 ++++++++++++++++++++++++++++
 1 files changed, 33 insertions(+), 0 deletions(-)

commit 4520d559c7d66bf2d5a95acb8511e3f7f73470ff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 27 13:36:52 2008 +0000

    remove gadget tests from change-notifications.py. They have to be done in olpc-buddy-search and olpc-activity-search
    
    20080627133652-7fe3f-32632f8ec5110f6ea5e3e633ec4975c9b9d6bd80.gz

 tests/twisted/olpc/change-notifications.py |   84 ----------------------------
 tests/twisted/olpc/olpc-activity-search.py |    2 +
 2 files changed, 2 insertions(+), 84 deletions(-)

commit 92031541fc889a2fbc01e77c53b73d0919f3daf6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 27 13:36:13 2008 +0000

    update properties stored in view according change messages
    
    20080627133613-7fe3f-03ef550868268d8d5c6717d32941e79e721f0967.gz

 src/conn-olpc.c                         |   29 ++++++++++++++++++++++-
 tests/twisted/olpc/olpc-buddy-search.py |   37 +++++++++++++++++++++++++++++-
 2 files changed, 62 insertions(+), 4 deletions(-)

commit eb54e7b85c1a5602bc0de5f0ed9844b14bc3f0eb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 27 10:52:57 2008 +0000

    use active views to find buddies activities when PEP query failed
    
    20080627105257-7fe3f-9aacafc3f67799061c4c7d529ec5600ddcd08ed1.gz

 src/conn-olpc.c                            |  101 +++++++++++++++++++++++++++-
 tests/twisted/olpc/olpc-activity-search.py |   28 ++++++--
 2 files changed, 121 insertions(+), 8 deletions(-)

commit 3faa77ae0075b3d361e2b0ed2b5d326ee3ee6996
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 27 10:48:15 2008 +0000

    olpc-view: add gabble_olpc_view_get_buddy_activities
    
    20080627104815-7fe3f-6ffd4bf0b2dd5451bb996bf544c38e7f9beba2f0.gz

 src/olpc-view.c |   43 +++++++++++++++++++++++++++++++++++++++++++
 src/olpc-view.h |    3 +++
 2 files changed, 46 insertions(+), 0 deletions(-)

commit 82003a8c8d7b5de878d03ad2d2c139840b259b31
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jun 24 13:18:14 2008 +0000

    coding style fixes
    
    20080624131814-7fe3f-b6894f1dce0006e605b8070551282079f8605d7f.gz

 src/olpc-activity.c |    4 ++--
 src/olpc-activity.h |    3 ++-
 2 files changed, 4 insertions(+), 3 deletions(-)

commit f8091cff601b52371943cb6b9c7a1a95f7bfd76a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jun 12 15:34:53 2008 +0000

    conn-olpc: add a FIXME about buddy views properties
    
    20080612153453-7fe3f-6095f4786fd740f33c489e6bb4c3ce5fb3db7a79.gz

 src/conn-olpc.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 25f986995a412721996e974c6a3cd53370e905c9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jun 12 15:22:27 2008 +0000

    olpc-activity-search: add a disabled test on BuddyInfo.GetActivities
    
    20080612152227-7fe3f-557f42752c6fef50575cb4d113a5964dcfed5fc1.gz

 tests/twisted/olpc/olpc-activity-search.py |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 2f6cc3236d40b46a72b31217480e388077b2bf92
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jun 12 13:50:27 2008 +0000

    conn-olpc: add TODO about missing type of messages
    
    20080612135027-7fe3f-0d2ccb929a7657ccaaf45b5abed779c5cdd991a6.gz

 src/conn-olpc.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit c849eb96839feb8887d7bf380fe48726fc7e93a4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jun 12 13:28:54 2008 +0000

    remove buddies from view when they left all their activities
    
    20080612132854-7fe3f-5bb85d1be15bc5214785a00c11a9d9f40ae0c59f.gz

 src/conn-olpc.c                            |    5 +-
 src/olpc-view.c                            |  105 ++++++++++++++++++++++++----
 src/olpc-view.h                            |    2 +-
 tests/twisted/olpc/olpc-activity-search.py |    7 +-
 4 files changed, 98 insertions(+), 21 deletions(-)

commit b2007f08026cd5061d825fa1cfba3c6689cb760d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jun 12 12:17:32 2008 +0000

    remove activity from existing views
    
    20080612121732-7fe3f-2bac629d1a74703830b0262a50bd714b1de390c2.gz

 src/conn-olpc.c                            |   70 +++++++++++++++++++++++++++-
 src/olpc-view.c                            |   38 +++++++++++++++
 src/olpc-view.h                            |    3 +
 tests/twisted/olpc/olpc-activity-search.py |   39 ++++++++++++++-
 4 files changed, 146 insertions(+), 4 deletions(-)

commit a73804e7b7df7e1c04a3d2b27a1b0856606d4dc8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jun 12 11:07:45 2008 +0000

    olpc-activity-search.py: change activity returned in view 0
    
    20080612110745-7fe3f-da8379d4f2398b6fdc4a8d8f215467dc76974073.gz

 tests/twisted/olpc/olpc-activity-search.py |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit c14068c876dd64a2ff415c8e66454ab592895727
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jun 12 11:04:17 2008 +0000

    olpc-activity-search.py: change activity returned in view3
    
    20080612110417-7fe3f-1bcfba246fb92f70b60583cc82955c9bd791c502.gz

 tests/twisted/olpc/olpc-activity-search.py |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit 7752cac990a7c2a73e912fd6e86db93f95acd442
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jun 12 11:01:35 2008 +0000

    olpc-activity-search.py: add some comments
    
    20080612110135-7fe3f-b2ee08262858fcdd2acb45026b16aea887b1e366.gz

 tests/twisted/olpc/olpc-activity-search.py |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

commit 440cae40b4b0a7fc55f66b39f5cd6f740b84905a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jun 12 10:11:47 2008 +0000

    add activities to existing views
    
    20080612101147-7fe3f-1751a8e101d01c4666c62643c9def1370afe9e13.gz

 src/conn-olpc.c                            |  227 ++++++++++++++++-----------
 tests/twisted/olpc/olpc-activity-search.py |   43 +++++-
 2 files changed, 176 insertions(+), 94 deletions(-)

commit 670fe97ee271b5e38a6e45c2105643e5b6b594e7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jun 12 09:23:41 2008 +0000

    olpc-activity-search.py: wrap big lines
    
    20080612092341-7fe3f-51434bc1cc52fb8ce36c5000d791e8d5973074f7.gz

 tests/twisted/olpc/olpc-activity-search.py |   27 ++++++++++++++++++---------
 1 files changed, 18 insertions(+), 9 deletions(-)

commit 94ef70a3058fa7e2fca797c492e9352acf222e35
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jun 12 09:20:04 2008 +0000

    olpc-buddy-search.py: wrap long lines
    
    20080612092004-7fe3f-8e6cda3ed5611c30d54fe63ce2b805d652adf552.gz

 tests/twisted/olpc/olpc-buddy-search.py |   10 ++++++----
 1 files changed, 6 insertions(+), 4 deletions(-)

commit 032d262a3cee4b2bf4881df6f73bc98c6ce4959e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jun 12 09:10:23 2008 +0000

    conn-olpc: merge create_activity_view and create_buddy_view
    
    20080612091023-7fe3f-e3e7fde84d4ed34a24b79997f7486d930db928da.gz

 src/conn-olpc.c |   40 ++++++++--------------------------------
 1 files changed, 8 insertions(+), 32 deletions(-)

commit 5d97a641b71829520df243fc6dafb435665fb7fd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jun 12 09:06:21 2008 +0000

    conn-olpc: we don't need 2 view closed cb anymore
    
    20080612090621-7fe3f-ac544568c516abd72f41e734a07608cc2600285f.gz

 src/conn-olpc.c |   18 ++++--------------
 1 files changed, 4 insertions(+), 14 deletions(-)

commit caf3a11c53e2f511d808f78f1c9e726e0dc51179
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jun 11 15:35:17 2008 +0000

    emit the BuddyInfo.PropertiesChanged signal after buddies have been added to the view so client are already aware of them
    
    20080611153517-7fe3f-d28d0436e2cd2e0b4c16985349f3b2d4e3bbabf4.gz

 src/conn-olpc.c                         |   23 +++++++++++++++--------
 tests/twisted/olpc/olpc-buddy-search.py |   10 +++++-----
 2 files changed, 20 insertions(+), 13 deletions(-)

commit c16d429660b39e37b597e092090f65e90de91609
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jun 11 08:57:35 2008 +0000

    use 'id' as attribute and not 'activity' to set activity's id in view replies
    
    20080611085735-7fe3f-94bf688222accca7ca15540e8dd62f8e90cd60cf.gz

 src/conn-olpc.c                            |    2 +-
 tests/twisted/olpc/olpc-activity-search.py |    6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 0a2c646feb2d7676f94c885804d93ca4cdcdf87a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jun 10 14:02:03 2008 +0000

    change View spec to return the ID and the room of activities instead of just the handle
    
    20080610140203-7fe3f-6808301f7ebe86de0f274c28b1b9db038fa90ca5.gz

 extensions/OLPC_View.xml                   |   16 +++++---
 src/olpc-view.c                            |   50 ++++++++++++++++++++--------
 tests/twisted/olpc/olpc-activity-search.py |   16 +++++++--
 3 files changed, 58 insertions(+), 24 deletions(-)

commit 41b3e90840502ad2b514ba440e22f7eb5ee52386
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jun 10 13:24:34 2008 +0000

    olpc-view: store GabbleOlpcActivity objects instead of just the handles
    
    20080610132434-7fe3f-57a3de10a639aec98fd70d242445ae656af2981c.gz

 src/conn-olpc.c |   25 ++++++++++---------------
 src/olpc-view.c |   38 +++++++++++++++++++++++---------------
 src/olpc-view.h |    4 +---
 3 files changed, 34 insertions(+), 33 deletions(-)

commit 92f8e4c02ac83eb7d5d3e8b1ba9807f6060ad323
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jun 10 12:41:18 2008 +0000

    conn-olpc: use GabbleOlpcActivity instead of ActivityInfo
    
    20080610124118-7fe3f-413868127d81ff6ad0649ca908f369fa6da3641c.gz

 src/conn-olpc.c |  398 ++++++++++++++++++++++++++++---------------------------
 1 files changed, 205 insertions(+), 193 deletions(-)

commit 5e996f6d3671f7fc288dc10fb2ca5cdeb54c41b1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jun 10 12:40:59 2008 +0000

    add olpc-activity
    
    20080610124059-7fe3f-8809b150e150b33c0e2d812ab3a8ef8a70b26d3a.gz

 src/Makefile.am     |    2 +
 src/olpc-activity.c |  312 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/olpc-activity.h |   76 +++++++++++++
 3 files changed, 390 insertions(+), 0 deletions(-)

commit 43cac86a73644ea08cc479462d1ed8d60055df34
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 9 14:36:53 2008 +0000

    add activity attribute to view/queries reply
    
    20080609143653-7fe3f-2ee82a1499b214addd7276fcc64c8b86ac40356a.gz

 src/conn-olpc.c                            |   22 +++++++++++++++++++++-
 tests/twisted/olpc/olpc-activity-search.py |    3 +++
 2 files changed, 24 insertions(+), 1 deletions(-)

commit 5ba28f0843c3683b1852b13640dc5b6e1c942abd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 9 13:41:54 2008 +0000

    conn-olpc: use the auto-generated activity struct instead of our own
    
    20080609134154-7fe3f-2c8e9a8f31b5d0bdddab01dd89ac273335200a6f.gz

 src/conn-olpc.c |   14 +++++---------
 1 files changed, 5 insertions(+), 9 deletions(-)

commit 8bcd3a0441f40417dae12b812a0db33196546cb5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 9 13:40:26 2008 +0000

    add an Activity tp:struct type
    
    20080609134026-7fe3f-1a4b2e936f92aff819325694773fef5cdfe4a182.gz

 extensions/OLPC_Buddy_Info.xml |   18 +++++++++++++++---
 extensions/all.xml             |    5 +++++
 2 files changed, 20 insertions(+), 3 deletions(-)

commit bd4a8f304df72ec4532d26017567f4cec5708566
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 6 12:47:24 2008 +0000

    add members to activity views
    
    20080606124724-7fe3f-243aa8ca19b9c6624d713f12a0dcd59d8dca0ee3.gz

 src/conn-olpc.c                            |   18 ++++++++++++++++++
 tests/twisted/olpc/olpc-activity-search.py |   19 ++++++++++++++++++-
 2 files changed, 36 insertions(+), 1 deletions(-)

commit d5048c95a852a99a17c8e3919074d1f1e50518d0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 6 12:23:20 2008 +0000

    conn-olpc: factor out populate_buddies_from_nodes
    
    20080606122320-7fe3f-1288a8815f83006de783259b2893a17a32f4ab3d.gz

 src/conn-olpc.c |   46 ++++++++++++++++++++++++++++++++++------------
 1 files changed, 34 insertions(+), 12 deletions(-)

commit 9aa94dae5a40a9ae741f0a966df3e72a08dcbe12
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 6 09:30:53 2008 +0000

    OLPC_Gadget.xml: update search methods description as their is only one type of view object now
    
    20080606093053-7fe3f-9f23d1daee3a6c322457ca391a60cfa2e27a6a82.gz

 extensions/OLPC_Gadget.xml |   20 ++++++++++----------
 1 files changed, 10 insertions(+), 10 deletions(-)

commit 6c66baba8cb54d747d3b35949a74207bf0cb435f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 6 08:46:22 2008 +0000

    remove olpc-activity-view
    
    20080606084622-7fe3f-8bec2da61afaf80bc2974edc8cce51d2c748b0ac.gz

 src/olpc-activity-view.c |  341 ----------------------------------------------
 src/olpc-activity-view.h |   75 ----------
 2 files changed, 0 insertions(+), 416 deletions(-)

commit 897f2dafdf47a5700b3dc38063bd041c38476aab
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 6 08:45:35 2008 +0000

    move view-activity features to view
    
    20080606084535-7fe3f-1e368eac686f3027f0185e7ecc175aabe97f1028.gz

 src/conn-olpc.c                            |   34 ++++++------
 src/olpc-view.c                            |   82 +++++++++++++++++++++++++---
 src/olpc-view.h                            |    5 ++
 tests/twisted/olpc/olpc-activity-search.py |   30 +++++++++-
 4 files changed, 123 insertions(+), 28 deletions(-)

commit 2346ee5d46835ccd808fcdedacde6900af9ec336
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 6 07:48:37 2008 +0000

    coding style fix
    
    20080606074837-7fe3f-c4be2cb4b1a9592106e5f604bcaf989f4c667187.gz

 src/olpc-view.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 626350f3e1303ec8e474601dad71486e7fadf608
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jun 5 15:50:06 2008 +0000

    re-implement buddy view features to the generic view object
    
    20080605155006-7fe3f-078a07e5b7a64e2d5d7709161b2fff296f18142e.gz

 src/Makefile.am                         |    6 +-
 src/conn-olpc.c                         |   73 +++---
 src/connection.c                        |    3 +-
 src/connection.h                        |    3 +-
 src/olpc-buddy-view.c                   |  439 -----------------------------
 src/olpc-buddy-view.h                   |   86 ------
 src/olpc-view.c                         |  462 +++++++++++++++++++++++++++++++
 src/olpc-view.h                         |   87 ++++++
 tests/twisted/olpc/olpc-buddy-search.py |   38 ++--
 9 files changed, 604 insertions(+), 593 deletions(-)

commit f737592b636071cb8e3e5624d7091f0564e2874e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jun 5 14:10:39 2008 +0000

    merge Buddy and Activity views
    
    20080605141039-7fe3f-d02d479418a7777a47fd67f6a2dba17f580062e6.gz

 extensions/OLPC_Activity_View.xml |   72 -------------------------
 extensions/OLPC_Buddy_View.xml    |   44 ----------------
 extensions/OLPC_View.xml          |  104 +++++++++++++++++++++++++++++++++++++
 extensions/all.xml                |    3 +-
 4 files changed, 105 insertions(+), 118 deletions(-)

commit 676d2ba476125f72a09ec33377701d79bfd375a8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jun 5 13:50:10 2008 +0000

    add Changed signal and GetActivities method to Activity views
    
    20080605135010-7fe3f-65e0c5e85e6ab1e4986713cc3dd8f6ce950c1d76.gz

 extensions/OLPC_Activity_View.xml |   33 ++++++++++++++++++++++++++++++++-
 1 files changed, 32 insertions(+), 1 deletions(-)

commit e48d8887875e4b3137feed709e1ac9140b815033
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jun 4 10:12:59 2008 +0000

    tp_handle_set_to_array doesn't guarantee any order so we shouldn't rely on it when mapping buddies and their properties
    
    20080604101259-7fe3f-33cd78d6beda7556feda60cf539a0da7cd24626d.gz

 src/conn-olpc.c                         |   20 ++++++++++++++------
 src/olpc-buddy-view.c                   |   22 +++++++++++-----------
 src/olpc-buddy-view.h                   |    2 +-
 tests/twisted/olpc/olpc-buddy-search.py |   21 ++++++++++++---------
 4 files changed, 38 insertions(+), 27 deletions(-)

commit 3059ea70ddcc99aae37c1fc4fb21dc6f59431029
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 2 09:39:56 2008 +0000

    conn-olpc: use gabble_connection_send_presence to send presence to gadget
    
    20080602093956-7fe3f-95b4a0789bf6dc4d4f8beda8b9c61520650eb4af.gz

 src/conn-olpc.c |   18 ++----------------
 1 files changed, 2 insertions(+), 16 deletions(-)

commit c5c73a546bd76e12655ba6f5b1de90c3481bf7d1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 2 09:38:17 2008 +0000

    factor out _gabble_roster_channel_send_presence to gabble_connection_send_presence
    
    20080602093817-7fe3f-706cefe70e92516c7f424391f011bf3ffbd11454.gz

 src/connection.c     |   28 ++++++++++++++++++++++++++++
 src/connection.h     |    4 ++++
 src/roster-channel.c |   22 +++-------------------
 3 files changed, 35 insertions(+), 19 deletions(-)

commit 67c5b251c438ac117f93dfc3300926cb765b5927
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 29 11:58:30 2008 +0000

    invite gadget when an activity becomes public
    
    20080529115830-7fe3f-eef4147b23e6112d217c5350485c1828482acfe5.gz

 src/conn-olpc.c                     |   18 +++++
 tests/twisted/olpc/gadget-invite.py |  142 +++++++++++++++++++++++++++++++++++
 2 files changed, 160 insertions(+), 0 deletions(-)

commit 9dd7a9bc7e439a7841e5dd1deb0ee540354bd5a9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 29 11:40:32 2008 +0000

    conn-olpc: the pre-invite signal now give us a jid instead of a handle
    
    20080529114032-7fe3f-39e9bab87df9b96d22bc9b3fbf894c46ebf14e56.gz

 src/conn-olpc.c |   34 +++++++++++++++++++++++++---------
 1 files changed, 25 insertions(+), 9 deletions(-)

commit b7d45daa7e269441377e453d049f5e4ca0fff1a3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 29 11:39:09 2008 +0000

    muc-channel: gabble_muc_channel_send_invite is now public and take a handle as argument instead of a jid
    
    20080529113909-7fe3f-9dbe54bbe9964d87ab9950f9223f8291a5e72e51.gz

 src/muc-channel.c |   22 +++++++++++-----------
 src/muc-channel.h |    3 +++
 2 files changed, 14 insertions(+), 11 deletions(-)

commit c31b9d491cb3cbc9300153acc2694e9f6923ac57
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 29 09:52:48 2008 +0000

    muc-channel: factor out gabble_muc_channel_send_invite
    
    20080529095248-7fe3f-a2d412857ddfe910dd7964a91309c43763269edd.gz

 src/muc-channel.c |   76 ++++++++++++++++++++++++++++++-----------------------
 1 files changed, 43 insertions(+), 33 deletions(-)

commit 8a7e1a58affc4fceced480e38677206ecffe6b12
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 28 13:52:19 2008 +0000

    gadget-publish.py: remove sync_stream
    
    20080528135219-7fe3f-090afa036a2a3458497fa659a97a162d5d2375d3.gz

 tests/twisted/olpc/gadget-publish.py |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit f7ac75821e6bdca86f2196c1ee5ab53adc902f6f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 28 13:41:26 2008 +0000

    conn-olpc: unsubscribe from Gadget presence when Publish(False) is called
    
    20080528134126-7fe3f-67e5a341b582c7a53d2965ebf2ae413f8fec4b47.gz

 src/conn-olpc.c |   22 ++++++++++++++++++----
 1 files changed, 18 insertions(+), 4 deletions(-)

commit f1d78ac2f8b3849a81559c916d2de2f655611f1f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 28 13:40:21 2008 +0000

    OLPC_Buddy_Info.xml: set the xhtml ns when needed
    
    20080528134021-7fe3f-f7745f30cecab79caedf6c609518c355e3d4b701.gz

 extensions/OLPC_Buddy_Info.xml |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit e8a60a2e415182e004807e66ffb9a8bb5853b2c9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 27 11:54:47 2008 +0000

    ugly and incomplete implementation of Publish
    
    20080527115447-7fe3f-fae01ff09b0c9a49c65d1c611b2d333d9e25f170.gz

 src/conn-olpc.c                      |   55 +++++++++++++++++++++++++++++++++-
 tests/twisted/olpc/gadget-publish.py |    7 ++--
 2 files changed, 58 insertions(+), 4 deletions(-)

commit 683c7267497241e6da45a1227f0f08976e5fdca4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 26 13:52:51 2008 +0000

    gadget-publish.py: wait for the BuddyGadgetDiscovered signal
    
    20080526135251-7fe3f-db1e6506bb2629d44404ecb1264f995c4c234f55.gz

 tests/twisted/olpc/gadget-publish.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit d14e0baf11f33dcc0461900594359f9956277966
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 26 13:52:17 2008 +0000

    gabble-connection: always add the gadget iface so client can wait for gadget discovered signals
    
    20080526135217-7fe3f-3e2814556220b5603782e69ea2d8be19a86a0795.gz

 src/connection.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit ba34d6de40fef5f23432c3c5b8d0b020b44fc7ba
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 26 13:27:57 2008 +0000

    conn-olpc: fire BuddyGadgetDiscovered and ActivityGadgetDiscovered when gadget is discovered
    
    20080526132757-7fe3f-a7070cc8c7ea2b1493e1a6baca3ddee8f3a8abfa.gz

 src/conn-olpc.c |   20 ++------------------
 1 files changed, 2 insertions(+), 18 deletions(-)

commit 6f7bef275c7c96c272ebf27cf04ced47e0e7c042
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 26 13:03:31 2008 +0000

    remove a debug g_print
    
    20080526130331-7fe3f-e49f48449ad0f951e253b8c6c4ac3d56ba8710f0.gz

 src/conn-olpc.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 4b7706398c45643ef41121d65f42bb7d3025b4a2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 26 13:02:59 2008 +0000

    OLPC_Gadget.xml: add BuddyGadgetDiscovered and ActivityGadgetDiscovered
    
    20080526130259-7fe3f-c06f9041cc20308ee4290c7072167755d8aec97f.gz

 extensions/OLPC_Gadget.xml |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit 938c558ae75f785c839075980dcd9a6b1caec421
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 26 12:39:03 2008 +0000

    disco.c: add item-found signal
    
    20080526123903-7fe3f-683d9d82a7e31f02a77bcc90794f6bf95e14fa3e.gz

 src/disco.c |   21 +++++++++++++++++++++
 1 files changed, 21 insertions(+), 0 deletions(-)

commit 2a36d49996f089cc24be0df0a74d1536b35356b9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 26 09:49:01 2008 +0000

    unref ActivityInfo when the view is closed
    
    20080526094901-7fe3f-9a5acba28085855eb32f41e8db58325d0109b316.gz

 src/conn-olpc.c          |   12 +++++++++---
 src/olpc-activity-view.c |    9 +++++++++
 src/olpc-activity-view.h |    4 ++++
 3 files changed, 22 insertions(+), 3 deletions(-)

commit 65196dd2ec90e4f91ec6358cce1371d2b70c2707
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 26 09:34:32 2008 +0000

    store ActivityInfo for activities in views
    
    20080526093432-7fe3f-2655c0fe857f72fda82e36043ee7bea5f44f4685.gz

 src/conn-olpc.c                            |   19 ++++++++++++++++++-
 tests/twisted/olpc/olpc-activity-search.py |    4 ++++
 2 files changed, 22 insertions(+), 1 deletions(-)

commit d4e2ff646a88e18d6ce94ac8c994fedbe8ddaa92
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 23 14:12:37 2008 +0000

    BuddyInfo.GetProperties now find properties from views
    
    20080523141237-7fe3f-f2617d768bed6c01ea5db9900bfd77dc3eb44df0.gz

 src/conn-olpc.c                         |   48 ++++++++++++++++++-
 src/olpc-buddy-view.c                   |   78 ++++++++++++++++++++++++++++++-
 src/olpc-buddy-view.h                   |    8 +++-
 tests/twisted/olpc/olpc-buddy-search.py |    4 ++
 4 files changed, 133 insertions(+), 5 deletions(-)

commit 14c8e0e97be7ab5590e9ec7ddf43648824cb7039
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 23 12:36:12 2008 +0000

    add skeleton for Gadget.Publish() method
    
    20080523123612-7fe3f-658255c11af706fc0092b3e820b1ac057ae2222d.gz

 extensions/OLPC_Gadget.xml           |   14 +++++++
 src/conn-olpc.c                      |   10 +++++
 tests/twisted/olpc/gadget-publish.py |   71 ++++++++++++++++++++++++++++++++++
 3 files changed, 95 insertions(+), 0 deletions(-)

commit 74c31260d72148ea2b806e2044cad8e6da1afacb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 23 12:13:39 2008 +0000

    move Gadget interface before views
    
    20080523121339-7fe3f-44376b2231aff413340919a6ce80ab3ab32aaf49.gz

 extensions/all.xml |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 924f81e239045dd8801da25f4c860947dff5fec4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 23 10:26:05 2008 +0000

    change buddies queries to use <view> instead of <query>
    
    20080523102605-7fe3f-77af5c8dad4f6ddc0ca48c54749fd84eb575f321.gz

 src/conn-olpc.c                         |   12 ++++++------
 tests/twisted/olpc/olpc-buddy-search.py |   24 ++++++++++++------------
 2 files changed, 18 insertions(+), 18 deletions(-)

commit e879e8ba9bd283ce6d541b2d702bb09340bacf2a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 23 10:18:53 2008 +0000

    change activities queries to use <view> instead of <query>
    
    20080523101853-7fe3f-c48df9714bce4b9ac99f7e705ad459f0acf0287d.gz

 src/conn-olpc.c                            |   15 ++++++-----
 tests/twisted/olpc/olpc-activity-search.py |   36 ++++++++++++++--------------
 2 files changed, 26 insertions(+), 25 deletions(-)

commit af9c43dd500b77078c9b506ec09c284a234e6abf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 23 09:48:32 2008 +0000

    add OLPC_Gadget.xml
    
    20080523094832-7fe3f-c8f195df6beed9e36b60e634f74d6dbacf6cb615.gz

 extensions/OLPC_Gadget.xml |  136 ++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 136 insertions(+), 0 deletions(-)

commit c5a999f943944d17dd9cf50c58efe37ab564ce68
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 23 09:02:26 2008 +0000

    merge org.laptop.Telepathy.Buddy and org.laptop.Telepathy.Activity to org.laptop.Telepathy.Gadget
    
    20080523090226-7fe3f-b0a499bf081ae3e8e72be9d31f7fe88e56e076b2.gz

 extensions/OLPC_Activity.xml               |   92 ----------------------------
 extensions/OLPC_Buddy.xml                  |   71 ---------------------
 extensions/all.xml                         |    3 +-
 src/conn-olpc.c                            |   79 +++++++++++-------------
 src/conn-olpc.h                            |    4 +-
 src/connection.c                           |   10 +--
 tests/twisted/olpc/olpc-activity-search.py |   14 ++--
 tests/twisted/olpc/olpc-buddy-search.py    |   10 ++--
 8 files changed, 54 insertions(+), 229 deletions(-)

commit cc7ab957ecbdeba90d41eb9db1a87717fd331d66
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 22 13:33:51 2008 +0000

    add Activity and Buddy iface to the connection object
    
    20080522133351-7fe3f-136e4a004f482d9f31b606eeb438b175c4d88915.gz

 src/connection.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit da1261aa993f0c9cd6b3b094959e3d3bd6d768b5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 22 11:05:40 2008 +0000

    remove buddies from existing views
    
    20080522110540-7fe3f-5e73e2f0fabff8540ad4b3b8a09ce5a5c86280cc.gz

 src/conn-olpc.c                         |   69 +++++++++++++++++++++++++++++++
 src/olpc-buddy-view.c                   |   15 +++++++
 src/olpc-buddy-view.h                   |    4 ++
 tests/twisted/olpc/olpc-buddy-search.py |   29 ++++++++++++-
 4 files changed, 116 insertions(+), 1 deletions(-)

commit 9a3835d96ddfcb59ebd32c6f51665023ad1985db
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 22 10:56:32 2008 +0000

    olpc-buddy-search.py: be sure the view contains the right members
    
    20080522105632-7fe3f-91c7f08696e6f8eb554521a603dac7585d32430b.gz

 tests/twisted/olpc/olpc-buddy-search.py |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 55ee3a75e42e2f69c1acfe5fcf12bb93450d635c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 22 10:51:04 2008 +0000

    add buddies to existing views
    
    20080522105104-7fe3f-e276a95ffecc3c691ad952ba2afd7819ddf9fd16.gz

 src/conn-olpc.c                         |  126 +++++++++++++++++++++----------
 tests/twisted/olpc/olpc-buddy-search.py |   28 +++++++
 2 files changed, 115 insertions(+), 39 deletions(-)

commit 50b689cf582884c86cfc1947cb1247552da5e2fe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 22 10:06:28 2008 +0000

    conn-olpc: remove debug print
    
    20080522100628-7fe3f-4221ce88eb3867149e4873579d25853dc75bf105.gz

 src/conn-olpc.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 5715c97eb8c73c4e4ef9769fd411abe2873f713e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 22 08:29:59 2008 +0000

    olpc-activity-search.py: use sync_stream instead of our own crack
    
    20080522082959-7fe3f-7264349e4aec48bb25fdfaceff6581d91d8b1c3a.gz

 tests/twisted/olpc/olpc-activity-search.py |   13 ++-----------
 1 files changed, 2 insertions(+), 11 deletions(-)

commit 052b841ccc27f7e4ebe1b502ac7ef97521540176
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 21 14:34:00 2008 +0000

    implement  org.laptop.Telepathy.Activity.SearchByParticipants()
    
    20080521143400-7fe3f-f4fc29f09daf3d2813b98ade5f3df7910be36489.gz

 src/conn-olpc.c                            |   83 ++++++++++++++++++++++++++++
 tests/twisted/olpc/olpc-activity-search.py |   47 ++++++++++++++++
 2 files changed, 130 insertions(+), 0 deletions(-)

commit 4c502e11787da574d836a15e9eb396b5e383e1a9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 21 14:33:51 2008 +0000

    coding style fix
    
    20080521143351-7fe3f-b8bfc7f7df085b5f5a14646f4dfcc76899d7e836.gz

 src/olpc-activity-view.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7e415559cf1de3670a7fbf5bf9efacc4f2cf2c90
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 21 14:33:12 2008 +0000

    OLPC_Activity.xml: SearchByParticipants arg is au not a(u)
    
    20080521143312-7fe3f-930926ed954817b553674de594ba80ab8c4082c1.gz

 extensions/OLPC_Activity.xml |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 278c0e46cb6d39342d8e2913c90a0c68f3906298
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 21 13:44:09 2008 +0000

    implement  org.laptop.Telepathy.Activity.SearchByProperties()
    
    20080521134409-7fe3f-97d30a6611879c0d88e97cb6f053dddbe3e279b4.gz

 src/conn-olpc.c                            |   75 +++++++++++++++++++++++++++-
 tests/twisted/olpc/olpc-activity-search.py |   53 +++++++++++++++++++-
 2 files changed, 125 insertions(+), 3 deletions(-)

commit 212a02d83ba56e4e1a306140ad9c57db3bfc8952
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 21 13:21:59 2008 +0000

    add olpc/olpc-activity-search.py
    
    20080521132159-7fe3f-6a97f73333e913420a4b2d1650b57feb332b01c4.gz

 tests/twisted/Makefile.am                  |    1 +
 tests/twisted/olpc/olpc-activity-search.py |  122 ++++++++++++++++++++++++++++
 2 files changed, 123 insertions(+), 0 deletions(-)

commit 6b6fbc6a1765e60b22fc23cd1fc9d6d87070a3ba
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 21 13:14:07 2008 +0000

    implement org.laptop.Telepathy.Activity .RequestRandom
    
    20080521131407-7fe3f-b8ab3483449bba455c0cffb69199b71726733dfc.gz

 src/conn-olpc.c  |  189 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/conn-olpc.h  |    3 +-
 src/connection.c |    3 +
 src/connection.h |    1 +
 4 files changed, 195 insertions(+), 1 deletions(-)

commit e560e2210ae30c8f410e43a301c388f6ecfc846c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 21 13:12:41 2008 +0000

    build olpc-activity-view
    
    20080521131241-7fe3f-beaeee2a7badca1056929f71b53b0e7bc39287ab.gz

 src/Makefile.am |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 275da3495d1070374baa126ddec16f1d3574ce57
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 21 13:12:02 2008 +0000

    add olpc-activity-view.[ch]
    
    20080521131202-7fe3f-c5dfcfd9a5207f2932b9e2c448719c6c647e42a3.gz

 src/olpc-activity-view.c |  332 ++++++++++++++++++++++++++++++++++++++++++++++
 src/olpc-activity-view.h |   71 ++++++++++
 2 files changed, 403 insertions(+), 0 deletions(-)

commit 3908b719120458ffa841e5686c742355c017a9a6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 21 13:09:56 2008 +0000

    OLPC_Activity_View.xml: we can't use the group interface as it can contains only contact handles
    
    20080521130956-7fe3f-4c60b8c437a2819b24159f1ab501804270716356.gz

 extensions/OLPC_Activity_View.xml |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit d44ea60550997a148b1f4be69f82986ffe9b9096
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 21 10:19:41 2008 +0000

    add OLPC_Activity.xml and OLPC_Activity_View.xml to extensions
    
    20080521101941-7fe3f-9bb9c8a7037c57def95ca6c0ff334427686698aa.gz

 extensions/OLPC_Activity.xml      |   92 +++++++++++++++++++++++++++++++++++++
 extensions/OLPC_Activity_View.xml |   44 ++++++++++++++++++
 extensions/all.xml                |    2 +
 3 files changed, 138 insertions(+), 0 deletions(-)

commit 3d8e81ad8d6c7dd32c892fb55c32b51ff711ef6c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 21 09:50:37 2008 +0000

    olpc-buddy-search.py: reorder 2 events
    
    20080521095037-7fe3f-80edadbfe49cd570fc992e5ee316efb892387944.gz

 tests/twisted/olpc/olpc-buddy-search.py |   15 ++++++++-------
 1 files changed, 8 insertions(+), 7 deletions(-)

commit 8e30184a14a83916bd6d1c27003c0f37121d1d90
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 21 09:47:15 2008 +0000

    implement org.laptop.Telepathy.Buddy.SearchByProperties()
    
    20080521094715-7fe3f-1dcbfc25e4baa22225aa648899374bbe787f0c6c.gz

 src/conn-olpc.c                         |   74 ++++++++++++++++++++++++++++++-
 tests/twisted/olpc/olpc-buddy-search.py |   71 +++++++++++++++++++++++++++--
 2 files changed, 139 insertions(+), 6 deletions(-)

commit 7fa82a551f6c3eb12b74fe59e0bdda1f75ae1206
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 20 14:49:13 2008 +0000

    Implement org.laptop.Telepathy.Buddy.RequestRandom()
    
    20080520144913-7fe3f-cc6962fade582d41f5ae7dd5a48b5eb72c46e5fb.gz

 src/conn-olpc.c                         |  190 +++++++++++++++++++++++++++++++
 src/conn-olpc.h                         |    3 +
 src/connection.c                        |    3 +
 src/connection.h                        |    1 +
 tests/twisted/olpc/olpc-buddy-search.py |   51 ++++++++-
 5 files changed, 247 insertions(+), 1 deletions(-)

commit a354d8b7319d13985616e8355790af6df8c7659c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 20 14:48:48 2008 +0000

    build olpc-buddy-view
    
    20080520144848-7fe3f-6f00717b639cd7a941521e421a814a9aea189193.gz

 src/Makefile.am |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 86ebfa0b4cc9be0dcd6504b611d3bf0e0a4e7e67
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 20 14:48:33 2008 +0000

    add olpc-buddy-view.[ch]
    
    20080520144833-7fe3f-47ac1922c67f1f2c9a33070ecc8223ff1627f207.gz

 src/olpc-buddy-view.c |  348 +++++++++++++++++++++++++++++++++++++++++++++++++
 src/olpc-buddy-view.h |   76 +++++++++++
 2 files changed, 424 insertions(+), 0 deletions(-)

commit 49d870dc16031b9fec24411c131e5675ae6e804b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 20 14:47:53 2008 +0000

    add OLPC_Buddy.xml and OLPC_Buddy_View.xml to extensions
    
    20080520144753-7fe3f-244242b4aafe86bc27a25fec43c6d1ec6c6230d5.gz

 extensions/OLPC_Buddy.xml      |   71 ++++++++++++++++++++++++++++++++++++++++
 extensions/OLPC_Buddy_View.xml |   44 ++++++++++++++++++++++++
 extensions/all.xml             |    2 +
 3 files changed, 117 insertions(+), 0 deletions(-)

commit 438c5f469a83f9449661899f988e1e2b7b0fba7e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 19 09:21:08 2008 +0000

    rename olpc-buddy-prop-change.py to change-notifications.py
    
    20080519092108-7fe3f-adffdc12dee0e8b57a3da9d9da08e0d201af948e.gz

 tests/twisted/olpc/change-notifications.py   |  190 ++++++++++++++++++++++++++
 tests/twisted/olpc/olpc-buddy-prop-change.py |  190 --------------------------
 2 files changed, 190 insertions(+), 190 deletions(-)

commit ec7811f9cea38073f1d77fd7d624b53ffdd43aa5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 19 09:12:55 2008 +0000

    olpc-buddy-prop-change.py: change messages are of type 'notice'
    
    20080519091255-7fe3f-d3647fea606b892c1026188ccf304382481424a3.gz

 tests/twisted/olpc/olpc-buddy-prop-change.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit b450307aac46de956e90b4b0b41698b05f375c19
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Apr 15 10:37:43 2008 +0000

    fix conflict in tests/Makefile.am
    
    20080415103743-7fe3f-0db83f97b24ff7d29f0f1e84e54f488d60bccd48.gz

 tests/Makefile.am |   46 ----------------------------------------------
 1 files changed, 0 insertions(+), 46 deletions(-)

commit 6bc084d35ad8b0864c24ffbee86997456b3deed5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Apr 15 10:35:13 2008 +0000

    conn-olpc: fix gabble_disco_service_find as arguments were swapped
    
    20080415103513-7fe3f-f6dae534efa8f151ea0a4f8810a66fbea92af750.gz

 src/conn-olpc.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 108d6dc1c2d04c2b5d0473271e1077f267fb9140
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Apr 15 10:34:56 2008 +0000

    add gadget tests to tests set
    
    20080415103456-7fe3f-d5b780df7733d3f87c1d512e1347b9099802ebf5.gz

 tests/twisted/Makefile.am |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 28b579e5c92bd7d9697924eee608abefea19b53d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Apr 15 10:34:12 2008 +0000

    move gadget tests to twisted/olpc
    
    20080415103412-7fe3f-4be6aaf545fb922a55a5683dbf143c350e6bb3ec.gz

 tests/olpc-buddy-prop-change.py              |  187 --------------------------
 tests/olpc-buddy-search.py                   |  109 ---------------
 tests/twisted/olpc/olpc-buddy-prop-change.py |  187 ++++++++++++++++++++++++++
 tests/twisted/olpc/olpc-buddy-search.py      |  109 +++++++++++++++
 4 files changed, 296 insertions(+), 296 deletions(-)

commit 85d58c1e6e2ee7eae46ca46e25ef7338b23eac89
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 14 14:51:20 2007 +0000

    olpc-buddy-search.py: fix from in search reply
    
    20071214145120-7fe3f-5c11732e3c38db955020f2c70e401ddb6baec5b0.gz

 tests/olpc-buddy-search.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit fa95af814b6f3ad906a7917738e602084184af85
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 14 14:31:06 2007 +0000

    olpc-buddy-prop-change.py: use disco to discover gadget's jid
    
    20071214143106-7fe3f-8d685c607340e6957fc033c63be8b14235472bb5.gz

 tests/olpc-buddy-prop-change.py |   34 +++++++++++++++++++++++++++++-----
 1 files changed, 29 insertions(+), 5 deletions(-)

commit 15320661867c9083f01a7b661d82f913a156a5f3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 14 14:27:26 2007 +0000

    conn-olpc: conn_olpc_msg_cb: don't hardcode gadget's jid
    
    20071214142726-7fe3f-5c6e19b0dd2a6e7fbccd20b2fda0fe175e8bb029.gz

 src/conn-olpc.c |   45 ++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 44 insertions(+), 1 deletions(-)

commit cef963b5cc7646554816bd76187b4f6a0e5cad7a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 14 13:49:09 2007 +0000

    olpc-buddy-search.py: send disco info about Gadget so we don't hardcode service's jid anymore
    
    20071214134909-7fe3f-263ef4bebc24d2423cb727352b96acdf27ed8dcb.gz

 tests/olpc-buddy-search.py |   32 +++++++++++++++++++++++++++++---
 1 files changed, 29 insertions(+), 3 deletions(-)

commit 8b75a4d9439fd46a3456971307eefa8023f4cd73
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 14 13:47:18 2007 +0000

    conn-olpc: use disco to find Gadget JID when sending buddy search request
    
    20071214134718-7fe3f-77b22001f371f7aa0213722033243af2c9ba7dae.gz

 src/conn-olpc.c  |   39 +++++++++++++++++++++++++++++++++++++--
 src/connection.h |    4 ++++
 2 files changed, 41 insertions(+), 2 deletions(-)

commit 591cae975e34fe01a984eae25f072a3d608472f6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 12 15:56:44 2007 +0000

    olpc-buddy-prop-change.py: updated to use new test API
    
    20071212155644-7fe3f-439f5f6c157acc921eb9f73ccc823e63574bac68.gz

 tests/olpc-buddy-prop-change.py |   68 +++++++++++++++-----------------------
 1 files changed, 27 insertions(+), 41 deletions(-)

commit 147c834ae3a6c202a9b0b2dff8e15490abcc5095
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 12 15:40:38 2007 +0000

    olpc-buddy-search.py: update to use new test API
    
    20071212154038-7fe3f-15522bb646fb79cdd5b0fb839b954cd9e03809c5.gz

 tests/olpc-buddy-search.py |   71 ++++++++++++++++++-------------------------
 1 files changed, 30 insertions(+), 41 deletions(-)

commit 4e548cb4115131bcad1ebab5ea24cde325af9861
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 12 14:33:23 2007 +0000

    add tests/olpc-buddy-search.py
    
    20071212143323-7fe3f-ff98aef6dc5656441c35be70124d8b9dc92f4d25.gz

 tests/olpc-buddy-search.py |   94 ++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 94 insertions(+), 0 deletions(-)

commit 8c2d5c3e2af903338533f0366cc909ff3f9440cb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 12 14:30:55 2007 +0000

    conn-olpc: use buddy search when requesting buddy properties if PEP node failed
    
    20071212143055-7fe3f-65f6a81cfd8ef26be9d2ff7b1fa38f2542692ff3.gz

 src/conn-olpc.c |  107 ++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 106 insertions(+), 1 deletions(-)

commit dce0a4ed95c723de231c3b23302b2ab5ca759028
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 12 11:18:09 2007 +0000

    conn-olpc: check_query_reply_msg: allow context to be NULL if we don't want to return a D-Bus error
    
    20071212111809-7fe3f-92ea9dc5c5c0494ec68c750111f11f5a96c9b480.gz

 src/conn-olpc.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 628cb952ebfd0dfb7e91c8336297653473dc6750
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 7 17:01:51 2007 +0000

    olpc-buddy-prop-change.py: test activity properties notifications from the indexer
    
    20071207170151-7fe3f-a9c4aa6ef62c3132e0db7eef680a252732b77d6a.gz

 tests/olpc-buddy-prop-change.py |   32 ++++++++++++++++++++++++++++++--
 1 files changed, 30 insertions(+), 2 deletions(-)

commit 4d30e4cca6c37ca9595dea02ca250c30b7d088be
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 7 17:01:03 2007 +0000

    conn-olpc: add support for activity properties changes message received from the indexer
    
    20071207170103-7fe3f-bcc17025f508f80033739a6cb9b6392b029f6fe1.gz

 src/conn-olpc.c |  172 +++++++++++++++++++++++++++++++++++--------------------
 1 files changed, 109 insertions(+), 63 deletions(-)

commit 298868420677c7364376365e408600dc8b73ec4e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 7 13:32:10 2007 +0000

    olpc-buddy-prop-change.py: test current-activity changes notifications
    
    20071207133210-7fe3f-6a7462c0637f280de15b0a2594514382c8c9c041.gz

 tests/olpc-buddy-prop-change.py |   68 +++++++++++++++++++++++++++++++++++++-
 1 files changed, 66 insertions(+), 2 deletions(-)

commit 18293021e5d30c907e8ed78e2eeeb793ab0e77a7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 7 13:26:31 2007 +0000

    conn-olpc: add support for current-activity changes message received from the indexer
    
    20071207132631-7fe3f-7030633113c49aafb43ce9b86c2b26aebd8c40c3.gz

 src/conn-olpc.c |   50 +++++++++++++++++++++++++++++++++++---------------
 1 files changed, 35 insertions(+), 15 deletions(-)

commit bac496a4a29e85b1ddea7a89baefc405339634b0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 6 16:48:05 2007 +0000

    add olpc-buddy-prop-change.py to the tests set
    
    20071206164805-7fe3f-0c8600e693434288a46f8e5076323ad1d021cd5b.gz

 tests/Makefile.am |   46 ++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 46 insertions(+), 0 deletions(-)

commit 6f2062dcf06aa457dd22d036507e0b5f09e07270
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 6 16:47:21 2007 +0000

    add tests/olpc-buddy-prop-change.py
    
    20071206164721-7fe3f-1ef168e8b0b15a08f178ffe746eb63bda5960614.gz

 tests/olpc-buddy-prop-change.py |   85 +++++++++++++++++++++++++++++++++++++++
 1 files changed, 85 insertions(+), 0 deletions(-)

commit c0f9db6c970fc808bf293dae7d678431d2a61369
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 6 16:44:39 2007 +0000

    conn-olpc: add support for buddy properties changes message received from the indexer
    
    20071206164439-7fe3f-e9481a249ad82bf6d4b58a7236ad39c87cbc31d3.gz

 src/conn-olpc.c |   57 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 57 insertions(+), 0 deletions(-)

commit 6f642c3ebc8a96a42806574ca3da2616c1f66020
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 6 16:42:45 2007 +0000

    namespaces.h: add NS_OLPC_BUDDY and NS_OLPC_ACTIVITY
    
    20071206164245-7fe3f-54435c54e2e9c3fdf80e5f78bd9f5d812f3d8a7a.gz

 src/namespaces.h |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 08136cc466c5a84b28df535ac9835d3f4a9ff60e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 6 15:36:57 2007 +0000

    add conn_olpc_msg_cb message handler
    
    20071206153657-7fe3f-9afd3a78dfd71b5fc4c073134fab080902b0b965.gz

 src/conn-olpc.c  |   16 ++++++++++++++++
 src/conn-olpc.h  |    3 +++
 src/connection.c |   15 +++++++++++++++
 3 files changed, 34 insertions(+), 0 deletions(-)

commit f4dc7c4ae69b85bb259b02cc2eb9c5b0bddf3ba1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 6 15:20:36 2007 +0000

    gabble-connection: rename msg_cb to pubsub_msg_cb
    
    20071206152036-7fe3f-1625e88ee9d4e29e01fff8a3ca33dbbdf6270633.gz

 src/connection.c |   18 +++++++++---------
 1 files changed, 9 insertions(+), 9 deletions(-)

commit 1151b7e04a7919b404a7aa1ce5b08dc4baf1cd84
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Aug 28 16:19:34 2008 +0100

    test-si-tubes.py: update to the new spec
    
    Update required after this commit has been merged in the tube branch:
    
    > commit 49293950b98b3f52aa8a0fb264455829a8653fd0
    > Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
    > Date:   Thu Aug 21 17:44:06 2008 +0100
    >
    >     Update to the 0.17.9 draft of the Requests API.
    >
    >     For now, the GabbleChannelManager API still works the old way, with
    >     foreach_channel_class producing a GHashTable and two GStrvs; the
    >     glue in conn-requests.c maps this to the new API by merging the two
    >     GStrvs into a single D-Bus 'as'.

 tests/twisted/tubes/test-si-tubes.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit d39f2185b17bb9bc3f90a246d60cdc4b762b3712
Merge: 079d40c 98e1b36
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Aug 28 14:41:00 2008 +0100

    Merge branch 'master' into alban-request-tube-channel

commit 98e1b36dc701a5296c1f6e25cec4f4ea963a8bfa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 26 18:17:13 2008 +0100

    Remove unused variable

 src/conn-requests.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 079d40cddfe7f34ff542a418b83bae2d41c22076
Merge: 90772f6 8cc1dbd
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Aug 25 10:54:28 2008 +0100

    Merge branch 'master' into alban-request-tube-channel

commit 49293950b98b3f52aa8a0fb264455829a8653fd0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 21 17:44:06 2008 +0100

    Update to the 0.17.9 draft of the Requests API.
    
    For now, the GabbleChannelManager API still works the old way, with
    foreach_channel_class producing a GHashTable and two GStrvs; the
    glue in conn-requests.c maps this to the new API by merging the two
    GStrvs into a single D-Bus 'as'.

 extensions/Connection_Interface_Requests.xml |   90 +++++++++++++------------
 src/conn-requests.c                          |   24 +++++--
 tests/twisted/muc/roomlist.py                |    1 -
 tests/twisted/text/initiate-requestotron.py  |    1 -
 tests/twisted/tubes/test-si-tubes.py         |    1 -
 5 files changed, 65 insertions(+), 52 deletions(-)

commit 90772f61524b757279d2b2ad97d00bde645850e5
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Aug 21 17:11:32 2008 +0100

    Sync tests/twisted/text/respawn.py with branch master: it should not have been changed in this branch (alban-request-tube-channel)

 tests/twisted/text/respawn.py |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 8cc1dbd7cea54a4d81ec29a967f4a63b2b5802ee
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 21 16:47:59 2008 +0100

    GabbleRoster: tidy up destruction, disconnect from status-changed

 src/roster.c |   52 ++++++++++++++++++++++++++++------------------------
 1 files changed, 28 insertions(+), 24 deletions(-)

commit 6aaf98bc311e462eb7cde42ca8dc83cd4a6aa408
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 21 16:47:38 2008 +0100

    GabbleMediaFactory: tidy up destruction, disconnect from status-changed

 src/media-factory.c |   52 +++++++++++++++++++++++++++-----------------------
 1 files changed, 28 insertions(+), 24 deletions(-)

commit 410a64ed7847d1bdf7b242be4d8e628693989ac0
Merge: d45f48b 848de0a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Aug 21 16:41:53 2008 +0100

    Merge commit 'origin/master' into alban-request-tube-channel

commit d45f48b9902b319226aaa409ee10a6a6add289c1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Aug 21 16:38:02 2008 +0100

    Fix "Parameters" property on Channel.Type.StreamTube
    
    src/tube-stream.c: Implement a custom Set implementation for the
    "Parameters" property
    
    src/tubes-channel.c: OfferStreamTube on Channel.Type.StreamTube gives
    the right "Parameters" property
    
    tests/twisted/tubes/test-si-tubes.py: check that the "Parameters"
    property is correctly given, can be changed, but not after the tube is
    offered.

 src/tube-stream.c                    |   36 ++++++++++++++++-
 src/tubes-channel.c                  |   14 +++++-
 tests/twisted/tubes/test-si-tubes.py |   71 +++++++++++++++++++++++++---------
 3 files changed, 97 insertions(+), 24 deletions(-)

commit 636abbf915844b6308d81b3aff71617d249ad642
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 20 13:26:33 2008 +0100

    Update Jingle test to expect TargetID to be in the present, not the future

 tests/twisted/jingle/test-outgoing-call.py |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit c0861827b85c5d14a2359951bbacd48ee28dfc59
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 4 19:40:29 2008 +0000

    jingle/test-outgoing-call.py: assert that NewChannels is emitted
    
    
    20080804194029-53eee-019324cc688d7ffdfd5f646b6cd5301e499c5443.gz

 tests/twisted/jingle/test-outgoing-call.py |   46 +++++++++++++++++++++++++--
 1 files changed, 42 insertions(+), 4 deletions(-)

commit 0e43fe3ae8fe7cb882badd3832ad38c24d0f55e5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 1 17:53:22 2008 +0000

    GabbleMediaFactory: stop being a TpChannelFactoryIface
    
    
    20080801175322-53eee-397dd3d527c1c193aa0093d3b04b89f17aaf72fd.gz

 src/media-factory.c |   81 +--------------------------------------------------
 1 files changed, 1 insertions(+), 80 deletions(-)

commit 7cf6f6f82ac6f9cee82a914c7863cddc325721d7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 1 17:48:55 2008 +0000

    GabbleConnection: use GabbleMediaFactory as a GabbleChannelManager
    
    
    20080801174855-53eee-4751bd12eff623b35b3b372fc08bf1a2ede556df.gz

 src/connection.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit 0c5331736824a47197ac76206d8b8e2845868d01
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 1 17:48:26 2008 +0000

    GabbleMediaFactory: add basic GabbleChannelManager implementation (CreateChannel does nothing)
    
    
    20080801174826-53eee-7e7ffbefc1a515699174d6e4cbadd6f27ae7e59c.gz

 src/media-factory.c |  200 +++++++++++++++++++++++++++++++++++++++++++++++---
 1 files changed, 188 insertions(+), 12 deletions(-)

commit 848de0a8c9ee1d6f3bc55011092243a8fcd07d82
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 21 16:13:38 2008 +0100

    _gabble_roster_foreach_channel_helper: fix indentation

 src/roster.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit b06050032cfb33eb122470abf4a4279dad256840
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 1 16:07:15 2008 +0000

    GabbleRoster: don't be a TpChannelFactoryIface
    
    Amended from 20080801160715-53eee-a393a16fc718c4ddf9e6e1ab9c7e2e8b548cecff.gz

 src/roster.c |   97 ----------------------------------------------------------
 1 files changed, 0 insertions(+), 97 deletions(-)

commit cff9c0c0da3a4ce89a824528a7db7a62256a53f6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 1 15:50:47 2008 +0000

    roster/test-roster.py: add a basic test for Requests.NewChannels
    
    
    20080801155047-53eee-8cf15205887315f326deba3779c4279328331974.gz

 tests/twisted/roster/test-roster.py |   21 ++++++++++++++++++---
 1 files changed, 18 insertions(+), 3 deletions(-)

commit 691336ba1b09070caca5e55858ec2b9e12d0d18b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 1 15:50:36 2008 +0000

    GabbleConnection: treat the roster as a GabbleChannelManager
    
    
    20080801155036-53eee-66d1ecedf35a9f7cbe6906a413b23584ae26833d.gz

 src/connection.c |   11 +++++------
 1 files changed, 5 insertions(+), 6 deletions(-)

commit a476130d68b32ca8f352e104a1445c63ae67672a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 1 15:48:45 2008 +0000

    GabbleRoster: implement GabbleExportableChannel
    
    
    20080801154845-53eee-518ff9bd0ff8266e27632f74b8be7edeb328672d.gz

 src/roster.c |  361 ++++++++++++++++++++++++++++++++++++++++++++++++++++++----
 1 files changed, 341 insertions(+), 20 deletions(-)

commit 1eb942a1479a6bc906effbb795d2e2b58cd5af56
Merge: 2ae8ce8 ea8b503
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 21 14:15:00 2008 +0100

    Merge branch 'master' into requestotron/1-1-tubes

commit 2ae8ce883e231ec349cd267c1c82d2e25f04f167
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 21 14:13:19 2008 +0100

    GabbleRoomlistManager: disconnect from status-changed signal when appropriate

 src/roomlist-manager.c |   14 ++++++++++----
 1 files changed, 10 insertions(+), 4 deletions(-)

commit 9bf5c157b8831aa76bc3c71b9b263fb40ce97bf1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 21 14:12:56 2008 +0100

    GabblePrivateTubesFactory: disconnect from status-changed during cleanup, centralize cleanup code, and make it more robust against multiple calls

 src/private-tubes-factory.c |   38 ++++++++++++++++++++++++--------------
 1 files changed, 24 insertions(+), 14 deletions(-)

commit 920c3da4711e24599b95ce3ed9a4f132340217b1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 21 14:11:56 2008 +0100

    GabbleMucFactory: centralize cleanup code into close_all, and disconnect from status-changed there too

 src/muc-factory.c |   54 ++++++++++++++++++++++++++++------------------------
 1 files changed, 29 insertions(+), 25 deletions(-)

commit ea8b503268b89cea6ad8aa52b64ecaf4529e804e
Merge: c898c4c 94b859e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 21 14:00:51 2008 +0100

    Merge branch 'trivia'

commit c898c4c387e5974243d867bf6a1428805fa9211d
Merge: 85ff202 7b8abe8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 21 13:58:52 2008 +0100

    Merge commit '7b8abe8f2cb1c2ae4eeea642e0990f642aa6d766'

commit 94b859ef94b97ebfab9fa560ee34ffd2b43c98f0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 21 13:56:08 2008 +0100

    Copy valgrind options and suppressions from telepathy-glib

 tests/twisted/tools/Makefile.am         |    3 +-
 tests/twisted/tools/exec-with-log.sh.in |    6 +-
 tests/twisted/tools/tp-glib.supp        |  357 +++++++++++++++++++++++++++++++
 3 files changed, 364 insertions(+), 2 deletions(-)

commit 7b8abe8f2cb1c2ae4eeea642e0990f642aa6d766
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 21 13:46:06 2008 +0100

    muc/roomlist.py: remove race condition from beginning of test
    
    If the disco#items IQ on the TCP socket won the race with StatusChanged
    on the D-Bus socket, then the test would fail.

 tests/twisted/muc/roomlist.py |    8 +++++---
 1 files changed, 5 insertions(+), 3 deletions(-)

commit d3e287f11dc891af735e5e299286841b73fe801c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Aug 21 13:43:56 2008 +0100

    tube-stream: Implement the "parameters" property correctly

 src/tube-dbus.c   |    2 +-
 src/tube-iface.c  |    5 +++--
 src/tube-stream.c |    4 ++--
 3 files changed, 6 insertions(+), 5 deletions(-)

commit 7341c60e632f9218ce4509f87f265eba985edb1a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Aug 21 13:41:55 2008 +0100

    src/tube-stream.c: Remove uneeded variable

 src/tube-stream.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 1a9e192913fbc1094a33d99ca2c33466000edb65
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 21 13:41:42 2008 +0100

    Concatenate the logs for all Twisted tests, clearing them at the beginning of the run

 tests/twisted/Makefile.am               |    1 +
 tests/twisted/tools/exec-with-log.sh.in |    2 +-
 2 files changed, 2 insertions(+), 1 deletions(-)

commit 85ff202fc668009196847a17d9782e41f819df9d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 21 12:46:13 2008 +0100

    Remove half-finished check which caused use of uninitialized memory.
    
    The intention was to check for TargetHandle != 0 whenever
    TargetHandleType != NONE. However, this isn't useful to do until
    TargetID is supported (since it's a possible replacement for
    TargetHandle), and the implementation wasn't finished anyway. Great
    embarrasment all round.

 src/conn-requests.c |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit 15f1b7933d1b457664ccfe0f85a7cae973e45412
Merge: 476fd03 6a89b3f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 20 19:32:14 2008 +0100

    Merge branch 'master' into requestotron/1-1-tubes

commit 6a89b3f2f94f79a607a1fd4cf667c692f76824e0
Merge: 5190c7b 6d52ca7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 20 18:41:13 2008 +0100

    Merge commit 'origin/requestotron/im'

commit d87d80ea0c2249d088ac278709b37d3bedaa4eb5
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Aug 20 18:38:04 2008 +0100

    test-si-tubes.py: send data in a stream tube with the new tube API.

 tests/twisted/tubes/test-si-tubes.py |  134 ++++++++++++++++++++++++++++++++--
 1 files changed, 127 insertions(+), 7 deletions(-)

commit d143e38a03efe5e1e7b820ef24f16cb7e7433f73
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Aug 20 18:36:20 2008 +0100

    src/tube-stream.c: Emit TubeChannelStateChanged correctly and store address details in the GabbleStreamTube object

 src/tube-stream.c |   25 +++++++++++++++++++++++--
 1 files changed, 23 insertions(+), 2 deletions(-)

commit 5190c7bf2b68fa5763ec5604af37adad90fa632f
Merge: 37ea35e c44b5a9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 20 17:40:04 2008 +0100

    Merge branch 'master' into requestotron/requestables

commit c44b5a956c8a009db317305dfdbf2cd360e6e3fa
Merge: 1f9ef1c 69469b9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 20 17:37:54 2008 +0100

    Merge branch 'requestotron/dualmode'

commit ffcec7b95f74f83be43a2944cc16c805afeb7c22
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Aug 20 16:49:41 2008 +0100

    Check D-Bus property of Channel.Type.StreamTube object on interfaces Channel and Channel.FUTURE

 tests/twisted/tubes/test-si-tubes.py |   30 +++++++++++++++++++++++++++++-
 1 files changed, 29 insertions(+), 1 deletions(-)

commit 69469b933d3bf10d4c1c12ff44c71fcaf73086ac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 20 16:36:03 2008 +0100

    GabbleImFactory: consolidate cleanup into gabble_im_factory_close_all.
    
    Also include disconnection of the status-changed signal in the cleanup
    (the comment explaining why it was unnecessary was wrong, and while it
    *was* unnecessary, the reasons were subtle enough that it seems better
    to be clear).

 src/im-factory.c |   57 +++++++++++++++++++++++++++++------------------------
 1 files changed, 31 insertions(+), 26 deletions(-)

commit 0645077c6b26280325f670c23042e33cc68e720a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Aug 20 16:32:25 2008 +0100

    Implements OfferStreamTube on org.freedesktop.Telepathy.Channel.Type.StreamTube

 src/tube-stream.c |   56 ++++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 55 insertions(+), 1 deletions(-)

commit 05c42a64d656df8a8455608687ec9dc1b8ee6ba1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Aug 20 16:31:47 2008 +0100

    Remove debugs

 src/tube-stream.c |    5 -----
 1 files changed, 0 insertions(+), 5 deletions(-)

commit 42071f7660e53bb63e4d378467a1ae61eae47fb4
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Aug 20 15:50:18 2008 +0100

    test-si-tubes.py: Fix test: do not assume the new tube is the first in the ListChannels list.

 tests/twisted/tubes/test-si-tubes.py |   13 +++++++------
 1 files changed, 7 insertions(+), 6 deletions(-)

commit 0ee0f734ef53dac3d01087b1c2538f5a24b4a326
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Aug 20 14:26:39 2008 +0100

    Fix conflict resolution:
    
    This conflict resolution was broken. Fix.
    
    |commit 6c841525009d56a49f736d3d21691ab0f7318b23
    |Merge: 51c888a... 4a6d168...
    |Author: Alban Crequy <alban.crequy@collabora.co.uk>
    |Date:   Wed Aug 20 12:21:16 2008 +0100
    |
    |    Merge commit 'smcv/requestotron/1-1-tubes' into alban-request-tube-channel
    |
    |    Conflicts:
    |
    |        src/channel-manager.h
    |        src/connection.c
    |        src/private-tubes-factory.c
    |        tests/twisted/text/respawn.py
    |        tests/twisted/tubes/test-si-tubes.py

 src/connection.c              |    4 ++++
 tests/twisted/text/respawn.py |    2 --
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 2ee04f1c9326184f73dbc596f8ae4e0a6e489684
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 20 14:12:31 2008 +0100

    gabble_channel_manager_emit_request_failed, ..._printf: fix documentation

 src/channel-manager.c |    8 +++-----
 1 files changed, 3 insertions(+), 5 deletions(-)

commit d1fb253fc84ab10b9827dbb0742eb1e348dd9c3c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 20 14:10:11 2008 +0100

    gabble_channel_manager_emit_channel_closed: fix documentation

 src/channel-manager.c |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit 2c2952a2f99da1d8abcff6d8349bff31d55097ab
Merge: 34456a5 476fd03
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Aug 20 14:02:55 2008 +0100

    Merge commit 'smcv/requestotron/1-1-tubes' into alban-request-tube-channel
    
    Conflicts:
    
    	tests/twisted/tubes/test-si-tubes.py

commit 34456a57dbc3290bf1db4ae11b68f76dc7184a88
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Aug 20 13:21:53 2008 +0100

    Temporary debugs

 src/tube-stream.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit fe5ba8c1070703a7a9d76a1b243b1f554cd4b26c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 20 13:20:58 2008 +0100

    Update 1-1 Tubes test to expect TargetID to be in the present, not the future

 tests/twisted/tubes/test-si-tubes.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 814218863adf64c7687b7ade5336308a5540efd1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 20 13:07:54 2008 +0100

    Update RoomList tests to expect TargetID to be in the present, not the future

 tests/twisted/muc/roomlist.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 1e6a2e977dc1351e1b52f2c6899c17f0a9b95c2d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 20 12:56:27 2008 +0100

    Update tests added in this branch to not expect TargetID to be in the future

 tests/twisted/text/initiate-requestotron.py |    3 +--
 tests/twisted/text/respawn.py               |    3 +--
 2 files changed, 2 insertions(+), 4 deletions(-)

commit 476fd03d77ec8de4ec144098ee6cfad4b0c85868
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 20 13:20:58 2008 +0100

    Update 1-1 Tubes test to expect TargetID to be in the present, not the future

 tests/twisted/tubes/test-si-tubes.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 0e6dda4ad5dd283350c2b52734b57ec3026011db
Merge: 3842f85 bbedbdf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 20 13:10:48 2008 +0100

    Merge branch 'requestotron/muc' into requestotron/1-1-tubes
    
    Conflicts:
    
    	src/connection.c

commit bbedbdf23ea0bf8187943d3d8af1055c53d27683
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 20 13:07:54 2008 +0100

    Update RoomList tests to expect TargetID to be in the present, not the future

 tests/twisted/muc/roomlist.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit b450db6d0fec529bcb502db7eedbfe1cc07da5e9
Merge: 408f22b 37ea35e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 20 13:04:31 2008 +0100

    Merge branch 'requestotron/requestables' into requestotron/muc

commit 6d52ca7b4a9e77a035868a52e48f271d9c349b74
Merge: b03cd35 37ea35e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 20 13:01:57 2008 +0100

    Merge branch 'requestotron/requestables' into requestotron/im

commit 1bc27f0c599c7fbfe05fd34312dcca20b5374d01
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Aug 20 13:01:37 2008 +0100

    test-si-tubes.py: TargetID is now present, not future

 tests/twisted/tubes/test-si-tubes.py |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 9fcb3a7b65e15a9d6d52f4db990e7c5223da1e8d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Aug 20 13:00:57 2008 +0100

    src/tube-stream.c: TargetID is now present, not future

 src/tube-stream.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 37ea35edf74463e83fdc779f492533fffa492ff1
Merge: 4e0ebab 5b5d110
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 20 12:58:09 2008 +0100

    Merge branch 'requestotron/dualmode' into requestotron/requestables

commit 5b5d1100a2a874bf833c00af3039b9bd844a00d8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 20 12:56:27 2008 +0100

    Update tests added in this branch to not expect TargetID to be in the future

 tests/twisted/text/initiate-requestotron.py |    3 +--
 tests/twisted/text/respawn.py               |    3 +--
 2 files changed, 2 insertions(+), 4 deletions(-)

commit 808947d21d7cf15834eec21f3d1eb4f85a03f7dc
Merge: 4b86bfe 408f22b
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Aug 20 12:35:41 2008 +0100

    Merge commit 'smcv/requestotron/muc' into alban-request-tube-channel

commit 4b86bfe2238eac24e91da4924afb56af56ea47f7
Merge: cace605 3842f85
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Aug 20 12:35:29 2008 +0100

    Merge commit 'smcv/requestotron/1-1-tubes' into alban-request-tube-channel

commit 3842f85c981dfbf1a4d88f8a34c2d8cbc39f2a94
Merge: 4a6d168 4e0ebab
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 20 12:33:26 2008 +0100

    Merge branch 'requestotron/requestables' into requestotron/1-1-tubes

commit 408f22b0deeb67a6a1091c59b5a98c9ddafaca8a
Merge: 2692ccc 4e0ebab
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 20 12:33:11 2008 +0100

    Merge branch 'requestotron/requestables' into requestotron/muc

commit b03cd3597ec985d1eede2805945a44acfd7d9795
Merge: d284529 4e0ebab
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 20 12:33:04 2008 +0100

    Merge branch 'requestotron/requestables' into requestotron/im

commit 4e0ebab8d473410472de0571b118a4182a2cce3b
Merge: ef5811d 2fdbead
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 20 12:32:47 2008 +0100

    Merge branch 'requestotron/dualmode' into requestotron/requestables

commit 2fdbeadf720ee683d62de4a4975c4e489ea082d1
Merge: be42c24 e70499c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 20 12:32:31 2008 +0100

    Merge commit 'origin/master' into requestotron/dualmode

commit 1f9ef1c010b3bb8292e9ab6fbe22ca92fae8339c
Merge: 9fc4d03 e70499c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 20 12:32:14 2008 +0100

    Merge commit 'origin/master' into requestotron/conn-requests

commit cace6054f21f6913cc5ca18e752d7f04835bfaaa
Merge: 6c84152 2692ccc
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Aug 20 12:23:27 2008 +0100

    Merge commit 'smcv/requestotron/muc' into alban-request-tube-channel
    
    Conflicts:
    
    	src/connection.c

commit 6c841525009d56a49f736d3d21691ab0f7318b23
Merge: 51c888a 4a6d168
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Aug 20 12:21:16 2008 +0100

    Merge commit 'smcv/requestotron/1-1-tubes' into alban-request-tube-channel
    
    Conflicts:
    
    	src/channel-manager.h
    	src/connection.c
    	src/private-tubes-factory.c
    	tests/twisted/text/respawn.py
    	tests/twisted/tubes/test-si-tubes.py

commit 51c888ab27286298c9ff7493df71a58513da0455
Merge: e84c6a7 e70499c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Aug 20 11:17:52 2008 +0100

    Merge branch 'master' into alban-request-tube-channel

commit e84c6a77784053cc1bc2638981c500be132b9728
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Aug 20 11:15:33 2008 +0100

    Channel.Type.{Stream|DBus}Tube are requestable with the new requestotron.
    
    - GabblePrivateTubesFactory is a Channel Factory for both
      Channel.Type.Tubes and the new Channel.Type.{Stream|DBus}Tube
      objects.
    
    - GabbleTubeStream implements the Channel.FUTURE properties
    
    - GabbleTubesChannel object has an helper function
      gabble_tubes_channel_tube_request for the factory. The function
      creates the tube channel with the new API.
    
    - The unit test test-si-tubes.py request a stream tube channel
      with the new API.

 src/private-tubes-factory.c          |   83 +++++++++++++++++++-----
 src/tube-stream.c                    |   72 +++++++++++++++++++++
 src/tubes-channel.c                  |   45 +++++++++++++
 src/tubes-channel.h                  |    5 ++
 tests/twisted/tubes/test-si-tubes.py |  115 +++++++++++++++++++++++++++++----
 5 files changed, 289 insertions(+), 31 deletions(-)

commit e70499cd81a477c0ac71f9a37162f5b29b5b1a77
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 19 19:50:45 2008 +0100

    Prepare release 0.7.8

 NEWS         |   16 +++++++++++-----
 configure.ac |    4 ++--
 2 files changed, 13 insertions(+), 7 deletions(-)

commit d405c318bfdde3331de3ef495c90bd3d77c0c744
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 19 19:40:13 2008 +0100

    Document GABBLE_LOGFILE=+gabble.log in man page.
    
    This is really a telepathy-glib feature, but we now depend on a new
    enough telepathy-glib that we can guarantee it'll work.

 docs/telepathy-gabble.8.in |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 304a4611d29137a9cdb4a7a230883753f6557845
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 19 19:22:09 2008 +0100

    NEWS: write news entries so far

 NEWS |   37 +++++++++++++++++++++++++++++++++++++
 1 files changed, 37 insertions(+), 0 deletions(-)

commit 69eeec40f58944bb3e433cc1f238a6de69630572
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 19 19:21:53 2008 +0100

    README: Talk about git, not darcs

 README |   13 +++++++++----
 1 files changed, 9 insertions(+), 4 deletions(-)

commit 06f899434820e13fa1843aabb6623a646ed77f29
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 19 19:21:18 2008 +0100

    Update xep.xsl from xmpp.org (r2166)

 tools/xep.xsl |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit beb2c8f9ece82e8022b6301f8294fbda3e57e0a2
Merge: 683580f 93eed77
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 19 18:52:47 2008 +0100

    Merge branch 'targetid'

commit 683580fe3869c69eda2c75ef79f60554581f3997
Merge: 570c706 d588f2c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 19 18:51:15 2008 +0100

    Merge commit 'sjoerd/inspectotron'

commit 93eed7744315ff0f5a67640dde0da749292d13ce
Merge: ea0c16c 570c706
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 19 16:56:01 2008 +0100

    Merge branch 'master' into targetid

commit 570c7063a917d5f7f34fbbe6863de736e458ca9f
Merge: dd00bd9 27d8e6f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 19 16:55:30 2008 +0100

    Merge branch 'trivia'

commit 27d8e6fcac57bf336c4d5ae699f7d5813be98a43
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 19 16:52:56 2008 +0100

    Remove empty .git-darcs-dir files
    
    These are a remnant of the Darcs to Git conversion process, used to
    ensure that directories exist in Git even if empty. Our directories are
    all non-empty anyway.

 0 files changed, 0 insertions(+), 0 deletions(-)

commit ea0c16c143464e824ff9a953058d5adffd157787
Merge: 608cc44 dd00bd9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 19 16:52:33 2008 +0100

    Merge branch 'master' into targetid

commit 608cc44c527ffa151e7d0b595d7e70dbf4bfaf62
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 19 14:06:11 2008 +0100

    Bump telepathy-glib dependency to 0.7.14

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit dd12d3cb25319519aaaa91116fb3ccc050f3dd7c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 18 21:12:31 2008 +0100

    Update Channel.FUTURE to spec 0.17.9, and add ChannelBundle
    
    This removes the remains of the Channel.FUTURE.TargetID property, but
    adds the Channel.FUTURE.Bundle property.

 extensions/Channel_Bundle.xml |   48 ++++++++++++++++++++++++++++++++++++
 extensions/Channel_Future.xml |   54 +++++++++++++---------------------------
 extensions/Makefile.am        |    1 +
 extensions/all.xml            |    3 ++
 4 files changed, 70 insertions(+), 36 deletions(-)

commit 1f3c276355f2fafc224fffe0c930cd0b10215f65
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 18 21:08:50 2008 +0100

    Move TargetID from the future into the present.
    
    As of last Friday's telepathy-spec 0.17.9, TargetID is part of Channel.
    
    (Also adjust the regression tests for this change.)

 src/im-channel.c                                   |    4 ++--
 src/media-channel.c                                |    4 ++--
 src/muc-channel.c                                  |    4 ++--
 src/roomlist-channel.c                             |    4 ++--
 src/roster-channel.c                               |    4 ++--
 src/tubes-channel.c                                |    4 ++--
 tests/twisted/jingle/test-incoming-call-reject.py  |    8 ++++----
 .../jingle/test-outgoing-call-deprecated.py        |    6 +++++-
 .../jingle/test-outgoing-call-deprecated2.py       |    6 +++++-
 tests/twisted/jingle/test-outgoing-call.py         |    2 +-
 tests/twisted/muc/roomlist.py                      |    2 +-
 tests/twisted/muc/test-muc-invitation.py           |    6 +++++-
 tests/twisted/muc/test-muc.py                      |    2 +-
 tests/twisted/roster/groups.py                     |    6 +++++-
 tests/twisted/roster/test-roster.py                |    2 +-
 tests/twisted/text/initiate.py                     |    4 ++--
 tests/twisted/text/respawn.py                      |   16 ++++++++++++----
 tests/twisted/text/test-text.py                    |    4 ++--
 .../tubes/test-muc-accept-stream-tube-ibb.py       |    6 +++++-
 tests/twisted/tubes/test-muc-offer-dbus-tube.py    |    2 +-
 tests/twisted/tubes/test-si-tubes.py               |    2 +-
 21 files changed, 63 insertions(+), 35 deletions(-)

commit 75c13b9d28d416789fd5b9f98531f5e0151574ec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 18 21:07:05 2008 +0100

    configure.ac: require telepathy-glib 0.7.13.1, for spec 0.17.9
    
    This should be bumped to 0.7.14 before we release Gabble, but that
    release hasn't yet happened.

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit dd00bd965ea2e5e7306d1bd07e24162aaf844a09
Merge: c5d21e0 a2304d6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 18 20:13:29 2008 +0100

    Merge commit 'alban/alban-trivial'

commit d588f2c11f9a9201debe91fee2566e75b104a709
Merge: 015fa72 c5d21e0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Mon Aug 18 19:05:11 2008 +0100

    Fix conflicts

commit 015fa725919a9398fbf817f28cc4027a551e7294
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Thu Aug 14 17:29:47 2008 +0000

    GabbleConnection: Comment that a 0 handle when requesting capabilities is obsolete
    
    20080814172947-93b9a-640ebd91b89ce390a18b3fa016ff7ba09ed9d0b0.gz

 src/connection.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit ec90e9e39873d2ac758950a934593859dfe4f4fd
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Thu Aug 14 17:22:51 2008 +0000

    conn-aliasing: Make the function identation style consistent
    
    20080814172251-93b9a-b5106ff112000bcd814e697d55f62d2c26225fc7.gz

 src/conn-aliasing.c |   14 ++++++++------
 1 files changed, 8 insertions(+), 6 deletions(-)

commit f2ca4c0ba15912e116e0cd668b2934f935e26b1c
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Thu Aug 14 17:12:56 2008 +0000

    conn-aliasing: Fix the ordering  of the includes
    
    20080814171256-93b9a-9a17144190792ecbad1712d805ef404573c2f5de.gz

 src/conn-aliasing.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b43332ef3db8835990a0d51bf8c6f341126db496
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Thu Aug 14 17:12:36 2008 +0000

    test-capabilities: Add a missing assert on one of the checks
    
    20080814171236-93b9a-452aafb0b47af9a7879f7347dbeba61bbd8b9bbe.gz

 tests/twisted/test-capabilities.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 43ac91b3e59e816d480004c8b7272e5a360331f5
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Thu Aug 14 16:59:51 2008 +0000

    Use tne final register_with_contacts_mixin instead of register_with_contacts_iface naming
    
    20080814165951-93b9a-f6caa92603864dfb56b9b75639633122c7973f69.gz

 src/conn-presence.c |    2 +-
 src/connection.c    |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 6cd9ce6ef64df0dcdf4c483b8023f59e050e75d2
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Wed Aug 13 19:02:23 2008 +0000

    test-set-status-idempotence: Test that the simple presence signals and the contacts interface relay the same signals
    
    20080813190223-93b9a-290c4c14e551067a3213fc6482af04c91f2fb0dd.gz

 tests/twisted/test-set-status-idempotence.py |   13 +++++++++++--
 1 files changed, 11 insertions(+), 2 deletions(-)

commit f81210880a5dbbd14f5214588d9691fd797e63af
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Wed Aug 13 16:35:55 2008 +0000

    Fix small bugs found by make check
    
    20080813163555-93b9a-ed61ef4ef390214592c31e41c90e04bf8682c540.gz

 src/conn-aliasing.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit cebc974a5a626d1c99625cbdc43f9b606e157ef1
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Wed Aug 13 16:35:34 2008 +0000

    Update the tests for the latest Contacts spec version
    
    20080813163534-93b9a-0ad8a5b186f02f01a0edf170c11e8f0e6192b35a.gz

 tests/twisted/test-capabilities.py |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit e8ad6563c56d9d30d8910c0fb540a0b7e8c8b0af
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Wed Aug 13 16:35:07 2008 +0000

    Update for the last tp-glib contacts api changes
    
    20080813163507-93b9a-71f02f1090a75472a31a903b5ee97efbd5779ed2.gz

 src/conn-aliasing.c |    2 +-
 src/conn-avatars.c  |    2 +-
 src/connection.c    |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit dcb1d9314fffe2ca83b60110c11b768534e0e9b1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Aug 18 18:11:13 2008 +0100

    Add support StreamTube properties. Complex type properties as parameters still TBD.

 src/tube-stream.c                    |   14 ++++++++++++++
 tests/twisted/tubes/test-si-tubes.py |   16 ++++++++++++++--
 2 files changed, 28 insertions(+), 2 deletions(-)

commit a28866f39303d2e0da687fadafa9858eb1b4f337
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Aug 18 16:34:13 2008 +0100

    Add the property Service on stream tube channels, and add a unit test for it

 src/tube-stream.c                    |    9 +++++++++
 tests/twisted/tubes/test-si-tubes.py |    2 +-
 2 files changed, 10 insertions(+), 1 deletions(-)

commit f205b33ce7371168731272180d2550b68cc36d24
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Aug 18 16:08:02 2008 +0100

    tests/twisted/tubes/test-si-tubes.py: Prepare the test to check properties

 tests/twisted/tubes/test-si-tubes.py |   21 +++++++++++++--------
 1 files changed, 13 insertions(+), 8 deletions(-)

commit 9e7a27497a4e98e8e4530311913e3a746730bc72
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Aug 18 15:54:58 2008 +0100

    tests/twisted/tubes/test-si-tubes.py: Fix the test for Channel.Type.StreamTube.DRAFT

 tests/twisted/tubes/test-si-tubes.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 4a6d16808fb68afc6904a2fcfb2bb05d90f9d894
Merge: 8b9bed0 ef5811d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 18 15:43:28 2008 +0100

    Merge branch 'requestotron/requestables' into requestotron/1-1-tubes

commit b913e3dca20f36d131001463f5589273440b4227
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Aug 18 15:35:45 2008 +0100

    Go through all tube channels in ListChannels: the old ones (Channel.Type.Tubes) and the new ones (Channel.Type.{Stream|DBus}Tube)

 src/private-tubes-factory.c |    6 ++++++
 src/tubes-channel.c         |   29 +++++++++++++++++++++++++++++
 src/tubes-channel.h         |    6 +++++-
 3 files changed, 40 insertions(+), 1 deletions(-)

commit 2692cccd3989367ba405fd93d997def016fda3c7
Merge: 27f4c62 ef5811d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 18 15:00:44 2008 +0100

    Merge branch 'requestotron/requestables' into requestotron/muc

commit d2845295f4ae7360bd761e10abee11a4f63a01a7
Merge: 924375b ef5811d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 18 14:59:13 2008 +0100

    Merge branch 'requestotron/requestables' into requestotron/im

commit ef5811d3fb157316ec18aab231c254dd214a7ad3
Merge: c32db1b be42c24
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 18 14:56:41 2008 +0100

    Merge branch 'requestotron/dualmode' into requestotron/requestables

commit be42c24d750b921e89d467373f07c793c5b65647
Merge: fd8e584 9fc4d03
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 18 14:38:16 2008 +0100

    Merge branch 'requestotron/conn-requests' into requestotron/dualmode

commit 9fc4d03b89e67715c5816eeced67f3a010a9acbb
Merge: b22ab67 c5d21e0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 18 14:34:27 2008 +0100

    Merge commit 'origin/master' into requestotron/conn-requests
    
    Conflicts:
    
    	_boring
    	src/Makefile.am
    	src/connection.c
    	src/connection.h

commit 3528f3312685de5194d52f7dff028cc767932823
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Aug 18 14:13:59 2008 +0100

    Import changes in the spec as an extension and update the code for it

 extensions/Channel_Interface_Tube.xml   |    7 +-
 extensions/Channel_Type_DBusTube.xml    |  179 -------------------------
 extensions/Channel_Type_DBus_Tube.xml   |  181 ++++++++++++++++++++++++++
 extensions/Channel_Type_StreamTube.xml  |  216 -------------------------------
 extensions/Channel_Type_Stream_Tube.xml |  215 ++++++++++++++++++++++++++++++
 extensions/Makefile.am                  |    4 +-
 extensions/all.xml                      |    4 +-
 src/private-tubes-factory.c             |    4 +-
 src/tube-stream.c                       |   13 +-
 9 files changed, 414 insertions(+), 409 deletions(-)

commit 960afc1d8527faacfb96d80c7e69b299fdf8061f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Aug 15 18:27:21 2008 +0000

    Add a test for org.freedesktop.Telepathy.Channel.Type.StreamTube
    
    
    20080815182721-a41c0-b1b59d993e50586cf9049a1ee31176f4c4bf976e.gz

 tests/twisted/tubes/test-si-tubes.py |   17 +++++++++++++++++
 1 files changed, 17 insertions(+), 0 deletions(-)

commit 48532f9a8cd0cca5084ee331a8110ad22327208e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Aug 15 18:26:36 2008 +0000

    Let private-tubes-factory be a factory for Stream|DBusTube.
    
    
    20080815182636-a41c0-48429a6c25049def0fcab14b6c646a12928218d5.gz

 src/private-tubes-factory.c |   45 +++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 43 insertions(+), 2 deletions(-)

commit bb91b792810ace85b4eb992df82119eb90876321
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Aug 15 14:19:32 2008 +0000

    Fix the conflict after merging gabble-smcv-muc in my branch gabble-alban-request-tube-channel
    
    
    20080815141932-a41c0-9a17c461642f8d88f3529096eb7a5591c716cb44.gz

 src/connection.c |   13 +++++++++++++
 1 files changed, 13 insertions(+), 0 deletions(-)

commit 4128b10261afd30c812918e47be45b505afecf47
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 5 15:51:57 2008 +0000

    GabbleMucFactory: don't implement TpChannelFactoryIface
    
    
    20080805155157-53eee-4a06251f63f756c80c28c72519dda868dc613cb4.gz

 src/muc-factory.c |  103 -----------------------------------------------------
 1 files changed, 0 insertions(+), 103 deletions(-)

commit 1ea2951c678d69724a1b9f949ab3eac8e51fa7b2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 5 15:51:30 2008 +0000

    conn-olpc: assume that conn->muc_factory is a GabbleChannelManager, not a TpChannelFactoryIface
    
    
    20080805155130-53eee-e84527e4a3b4f917722f9f10cd6064d1fd1057e2.gz

 src/conn-olpc.c |   24 +++++++++++++++++-------
 1 files changed, 17 insertions(+), 7 deletions(-)

commit 02b50583f35d33ea32d90925b6ec3c30a56bba34
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 5 15:37:51 2008 +0000

    GabbleConnection: remove another occurence of assuming the MUC factory is a TpChannelFactoryIface
    
    
    20080805153751-53eee-468ee5e3c40fae46fc2aab16076a5024249a6e49.gz

 src/connection.c |    9 ++++-----
 1 files changed, 4 insertions(+), 5 deletions(-)

commit 7d740931d75d14419808b282384acc72ffcd6bd4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 5 15:37:37 2008 +0000

    channel-manager.h: remove unnecessary inclusion of <telepathy-glib/channel-factory-iface.h>
    
    
    20080805153737-53eee-2767780e72da8dcc5bc637a1169d9ff5fdade40d.gz

 src/channel-manager.h |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit fdf36a50edda59f7c3b8cc673549c81ec070cb1c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 5 15:00:19 2008 +0000

    GabbleMucFactory: correctly fail requests when joining a MUC fails
    
    
    20080805150019-53eee-bc38baec7e2553a9ad530a21f6f15ce4e19ffb1f.gz

 src/muc-factory.c |   27 +++++++++++++++++++++++++++
 1 files changed, 27 insertions(+), 0 deletions(-)

commit e17b1cfb0703de8371f716d85f0c03dc76f72be3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 5 14:50:14 2008 +0000

    GabbleConnection: use GabbleMucFactory as a GabbleChannelManager
    
    
    20080805145014-53eee-5f188c0b2be3d6e0dd8419036eadb6151b56a931.gz

 src/connection.c |    5 -----
 1 files changed, 0 insertions(+), 5 deletions(-)

commit 19ba761951b903122600fc00df1f48e7c43ae2f2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 5 14:48:28 2008 +0000

    GabbleMucFactory: implement GabbleChannelManager
    
    
    20080805144828-53eee-b2c51c880d6398e96ad12733e1d08a325007a20d.gz

 src/muc-factory.c |  321 ++++++++++++++++++++++++++++++++++++++++++++++++++---
 1 files changed, 303 insertions(+), 18 deletions(-)

commit 0dc556da5ab76b9d29b5887c767548a046750a52
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 5 14:27:19 2008 +0000

    muc/roomlist.py: add tests for using the Requests API on room lists
    
    
    20080805142719-53eee-261b09dcf199d66b7ffeda95d5746f9f2faa54d2.gz

 tests/twisted/muc/roomlist.py |  120 +++++++++++++++++++++++++++++++++++++---
 1 files changed, 111 insertions(+), 9 deletions(-)

commit 74c02124b3305703470db8f89413e2831970d8c6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 5 14:26:52 2008 +0000

    GabbleMucFactory: stop managing RoomList channels
    
    
    20080805142652-53eee-0797b9d2e4c461031c1d3ef31e6acd80128dd51b.gz

 src/muc-factory.c |   77 -----------------------------------------------------
 1 files changed, 0 insertions(+), 77 deletions(-)

commit c7247b02d8aeb661035a56904e0154ae2369ebf5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 5 14:26:37 2008 +0000

    GabbleConnection: use the new GabbleRoomlistManager
    
    
    20080805142637-53eee-7d36d720da98e9d2ec5c49715f226998db66dafd.gz

 src/connection.c |    5 +----
 1 files changed, 1 insertions(+), 4 deletions(-)

commit cde30b44ffa3ae0d3c3659cd50d026033b8b74d2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 5 14:26:25 2008 +0000

    GabbleRoomlistManager: add new channel manager for room lists only
    
    
    20080805142625-53eee-af1bc69d457df5d3e1aa1f0d093c6813a70fc4a7.gz

 src/Makefile.am        |    2 +
 src/roomlist-manager.c |  433 ++++++++++++++++++++++++++++++++++++++++++++++++
 src/roomlist-manager.h |   62 +++++++
 3 files changed, 497 insertions(+), 0 deletions(-)

commit 88949072fad39e81b1ee1bb7b40a36065cf2f04d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 5 14:04:51 2008 +0000

    GabbleRoomlistChannel: set priv->closed before emitting closed, so we don't indicate that we're about to respawn
    
    
    20080805140451-53eee-de9a2b5705617289393a940bcdcdfe2d38a550cc.gz

 src/roomlist-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 395ef45524d817830a2ba47ba58d6195df39f315
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 31 19:20:02 2008 +0000

    tubes/test-si-tubes: exercise NewChannel and NewChannels signals
    
    
    20080731192002-53eee-5eb6be0aa07847b9300066fc1d252a5bbc52ade1.gz

 tests/twisted/tubes/test-si-tubes.py |   61 ++++++++++++++++++++++++++++++++-
 1 files changed, 59 insertions(+), 2 deletions(-)

commit 32552bfe31e9a31819f657ab6af1bdbe1927a187
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 31 19:19:48 2008 +0000

    Use GabblePrivateTubesFactory as a ChannelManager
    
    
    20080731191948-53eee-56af9766eef7c9a7517d2dbcfa1cccb806df25cf.gz

 src/connection.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 619930f1b653995d260700f079c28cbd03292adf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 31 19:17:15 2008 +0000

    GabblePrivateTubesFactory: implement GabbleChannelManager
    
    
    20080731191715-53eee-92ec3b350351652ad4f28820e8764eec90093abf.gz

 src/private-tubes-factory.c |  237 ++++++++++++++++++++++++++++++++----------
 1 files changed, 180 insertions(+), 57 deletions(-)

commit 68d73ccfcb1e56736233e5332b58d78d8d4c6358
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 18:35:11 2008 +0000

    text/initiate-requestotron.py: assert that the Channels and RequestableChannelClasses properties work correctly
    
    
    20080730183511-53eee-71d9f011f1abc53d195bb0b2f27213b35d93550e.gz

 tests/twisted/text/initiate-requestotron.py |   20 ++++++++++++++++++++
 1 files changed, 20 insertions(+), 0 deletions(-)

commit 63bd24993888351720014cc6513fecda9076c1d8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 18:34:57 2008 +0000

    GabbleConnection: hook up Requests properties
    
    
    20080730183457-53eee-e7019c0feff376bd424bcba6c9600d51f27e336e.gz

 src/connection.c |   14 ++++++++++++++
 1 files changed, 14 insertions(+), 0 deletions(-)

commit be10de0389a8a65725125803eba83e08388ff90c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 18:34:24 2008 +0000

    GabbleIMFactory: implement foreach_channel_class
    
    
    20080730183424-53eee-b0e6d8cd77a4ff14bd4ff1dd194cdd037440d01c.gz

 src/im-factory.c |   38 ++++++++++++++++++++++++++++++++++++++
 1 files changed, 38 insertions(+), 0 deletions(-)

commit 22303f43352d02bc6fe18fc1b577e7f900621d1c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 17:37:29 2008 +0000

    conn-requests: use foreach_channel_class
    
    
    20080730173729-53eee-eb70fd5faece7243b5545ca44d31c7d513f094f8.gz

 src/conn-requests.c |   33 ++++++++++++++++++++++++++++++++-
 1 files changed, 32 insertions(+), 1 deletions(-)

commit ae2f984a91db6f41848cf8f312a561ab81bc8fb0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 16:55:02 2008 +0000

    GabbleChannelManager: add foreach_channel_class
    
    
    20080730165502-53eee-eafb03fdd4199c5b902077c84e8a15fe918b6b7b.gz

 src/channel-manager.c |   18 ++++++++++++++++++
 src/channel-manager.h |   18 ++++++++++++++++++
 2 files changed, 36 insertions(+), 0 deletions(-)

commit f51be90b5dd9a4150998076b8e9f2ce64e6b7756
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 15:46:24 2008 +0000

    conn-requests: add a stub implementation of RequestableChannelClasses
    
    
    20080730154624-53eee-a10779cdfed409c3b1b5337495806e2be016a5fa.gz

 src/conn-requests.c |   23 +++++++++++++++++++++++
 1 files changed, 23 insertions(+), 0 deletions(-)

commit f6b0e43415b2cb7461bafda0a9fe27b49bad5d97
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 15:45:59 2008 +0000

    conn-requests: comment why the magic number for channels is (number of managers + number of factories) * 2
    
    
    20080730154559-53eee-de557a08024b7173ff108378f5255879cf9e7e5e.gz

 src/conn-requests.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 2d4f34d9f9e8890004d2b49cfa6f38b59bfc2434
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 15:45:45 2008 +0000

    text/initiate.py: improve output if assertions fail
    
    
    20080730154545-53eee-47b7a9bc0e97614e924f039361a538ed95676ba0.gz

 tests/twisted/text/initiate.py |   10 ++++++----
 1 files changed, 6 insertions(+), 4 deletions(-)

commit fed5df7d0fea6a52dd9cfd41385bae7dca31b402
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 15:45:20 2008 +0000

    conn-requests: stop assuming that every GabbleExportableChannel is a TpChannelIface
    
    
    20080730154520-53eee-6153b5e9227736c496015135c44d155fc941494a.gz

 src/conn-requests.c |   94 ++++++++++++++++++++++++++++++++++++++++++++------
 1 files changed, 82 insertions(+), 12 deletions(-)

commit bd59019769c8cb01d91678e4c4aa207053295827
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 15:33:23 2008 +0000

    conn-requests: add some more sanity checks when CreateChannel is called
    
    
    20080730153323-53eee-38f95eedc187ebf89ee615bbe5023f5a95836f8a.gz

 src/conn-requests.c |   69 ++++++++++++++++++++++++++++++++++++++++++++------
 1 files changed, 60 insertions(+), 9 deletions(-)

commit 9d8b078c5b57ab0cdb3216012878d6ef173d65b9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 15:07:28 2008 +0000

    conn-requests: manager_request_already_satisfied_cb: no need to assume that the channel implements TpChannelIface - GabbleExportableChannel has object-path too
    
    
    20080730150728-53eee-e5e42985e235b5cbf978b74331a4d72436412a0e.gz

 src/conn-requests.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 77aec323e5249fd54ed8a5dcd0750e7e57126ded
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 14:18:30 2008 +0000

    GabbleImFactory: implement request_channel instead of ensure_channel
    
    
    20080730141830-53eee-fbeb60c1ecf35a4115416d21213b8d4bf373be1e.gz

 src/im-factory.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit ec582d33e74caa1e17b1ff344bd0a22ad1d4f823
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 14:17:45 2008 +0000

    conn-requests: knock out EnsureChannel functionality, explicitly use RequestChannel
    
    
    20080730141745-53eee-8c6c58f539cbd97e507774fd6c53463f24ac46a1.gz

 src/conn-requests.c |   51 ++++++++++++++++++++++++++++-----------------------
 1 files changed, 28 insertions(+), 23 deletions(-)

commit 3de46ab8681df237d1f0cbb7164bf76ec4ab88ad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 14:17:33 2008 +0000

    GabbleChannelManager: add a placeholder priv pointer
    
    
    20080730141733-53eee-c7decd422c11845069d8d63aeb14335ecc39d913.gz

 src/channel-manager.h |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit cbdec96572e03a7c2946ee6637da4418aee6e617
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 14:16:07 2008 +0000

    GabbleChannelManager: explicitly have RequestChannel in the API.
    
    
    For some channel factories we want RequestChannel to have different semantics
    regarding parameters accepted, etc., for backwards compatibility (in particular
    media channels).
    
    20080730141607-53eee-f90f3cd0168901249cd49455fa720960083b894f.gz

 src/channel-manager.c |    8 ++++----
 src/channel-manager.h |    5 +++--
 2 files changed, 7 insertions(+), 6 deletions(-)

commit b19f181009eccca02247b91279feddb4b5f2c316
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 21:06:27 2008 +0000

    Add a simple test for requesting a channel using the requestotron API
    
    
    20080729210627-53eee-ac909c1c314c5917ec2716e922eeda845ca71f96.gz

 tests/twisted/Makefile.am                   |    1 +
 tests/twisted/text/initiate-requestotron.py |   74 +++++++++++++++++++++++++++
 2 files changed, 75 insertions(+), 0 deletions(-)

commit 72989f2d5ce01bca4516656d8666d79b7cf5a48e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 21:05:51 2008 +0000

    conn-requests: fix CreateChannel implementation, and implement EnsureChannel while I'm at it
    
    
    20080729210551-53eee-949154d435a3cc121bf28cfb70228766f8288e9b.gz

 src/conn-requests.c |   75 +++++++++++++++++++++++++++++++++++++++++---------
 1 files changed, 61 insertions(+), 14 deletions(-)

commit 7ef7eb25ec1beff2f95df00cecf55840a24cf34b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 12:56:41 2008 +0000

    text/respawn.py: do some cursory testing of the Requests signals
    
    
    20080725125641-53eee-43d390831743cdc61c2cd8d12dd9a6dad8df5e9f.gz

 tests/twisted/text/respawn.py |   44 ++++++++++++++++++++++++++++++++--------
 1 files changed, 35 insertions(+), 9 deletions(-)

commit ddc700807248eee13f4c3b614b7a20a2d78d3368
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 20:32:15 2008 +0000

    conn-requests: implement CreateChannel
    
    
    20080729203215-53eee-17d069516f7057d7323f7a4efcf2df183b306782.gz

 src/conn-requests.c |   58 ++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 57 insertions(+), 1 deletions(-)

commit c26170ce2354078d40e36f2ba06893e9b62cc42a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 20:12:44 2008 +0000

    conn-requests: add a stub for EnsureChannel too
    
    
    20080729201244-53eee-0b0b97d65cbc7b80f5ab12ec9cae567101f6485d.gz

 src/conn-requests.c |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit 3fa0d9ac8245614c37f25f538f0e289be1329d0a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 20:09:34 2008 +0000

    conn-requests: expect GabbleChannelManager::new-channels to contain a GHashTable
    
    
    20080729200934-53eee-7d2bf220da11824fe95b8f0c170f8b45f887d2fd.gz

 src/conn-requests.c |   91 +++++++++++++++++++++++++++++----------------------
 1 files changed, 52 insertions(+), 39 deletions(-)

commit 1eecd466da63d5ed4652791bbd016123168e84c9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 20:08:47 2008 +0000

    GabbleChannelManager: change new-channels to take a GHashTable (GabbleExportableChannel => GSList of request token)
    
    
    20080729200847-53eee-38c021f2742680a3963c25c072894f98c6806170.gz

 src/channel-manager.c |   47 +++++++++++++++++++++++------------------------
 src/channel-manager.h |    2 +-
 2 files changed, 24 insertions(+), 25 deletions(-)

commit 4ac40fd61561a0f49a483fd14e730716daf1aaa7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 19:53:37 2008 +0000

    GabbleConnection: move the GabbleImFactory from the factories list to the managers list, so its new API is used
    
    
    20080729195337-53eee-3d2675cefffa157fcd817c35dba17c11d03f4a65.gz

 src/connection.c |   13 +++++++------
 1 files changed, 7 insertions(+), 6 deletions(-)

commit b1aa8276475ff1ea11bfc9f7bfbccb408026fc32
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 19:53:13 2008 +0000

    conn-requests: allow GabbleChannelManager instances to satisfy RequestChannel requests
    
    
    20080729195313-53eee-d22a7f746cbafe14d26edb9192258627d63d7472.gz

 src/conn-requests.c |   38 +++++++++++++++++++++++++++++++++++++-
 1 files changed, 37 insertions(+), 1 deletions(-)

commit ccadd69b6c7869e3ec38adf9624bb1da3be200a8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 19:52:16 2008 +0000

    conn-requests: connect to the various signals on GabbleChannelManager instances
    
    
    20080729195216-53eee-ff071d157aa12f958a33648c2ced27d7153e0947.gz

 src/conn-requests.c |  133 ++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 131 insertions(+), 2 deletions(-)

commit 4edf8f3cd4b9ac727324f4a1779ba3a2ce689d7f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 19:51:59 2008 +0000

    conn-requests: factor out fail_request()
    
    
    20080729195159-53eee-96dddd63d2e4b24c3f42d6cdaaadacd2f801c4ea.gz

 src/conn-requests.c |   36 +++++++++++++++++++++---------------
 1 files changed, 21 insertions(+), 15 deletions(-)

commit 845122aaf987245513a035784fcbada4552f0767
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 19:51:39 2008 +0000

    conn-requests: factor out satisfy_request()
    
    
    20080729195139-53eee-b5b048263c10684c8a29840a28ba94fc6fed3272.gz

 src/conn-requests.c |   43 +++++++++++++++++++++++++++----------------
 1 files changed, 27 insertions(+), 16 deletions(-)

commit 6f19bf3eb26a5b08405a2673fa1c7c9fb617c15f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 18:53:09 2008 +0000

    GabbleImFactory: implement CreateChannel and EnsureChannel (untested)
    
    
    20080729185309-53eee-e0904cb5774acd3e68a1e1d9df28f30f6494b936.gz

 src/im-factory.c |   68 ++++++++++++++++++++++++++++++++++++++++++++++++-----
 1 files changed, 61 insertions(+), 7 deletions(-)

commit db0c271da6b1d8c26aff89171b471783a976c8b9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 18:39:49 2008 +0000

    GabbleImFactory: add stub implementations of CreateChannel, EnsureChannel
    
    
    20080729183949-53eee-c3337fd408b9fbf23722a68cb8be49fb30846588.gz

 src/im-factory.c |   29 +++++++++++++++++++++++++++++
 1 files changed, 29 insertions(+), 0 deletions(-)

commit 0554b248b4eab416aa5c36742ebc6396108a8af5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 18:38:53 2008 +0000

    GabbleChannelManager: add create_channel, ensure_channel methods
    
    
    20080729183853-53eee-cffd01c49336fa34ec042883b7d77dec6b686530.gz

 src/channel-manager.c |   36 ++++++++++++++++++++++++++++++++++++
 src/channel-manager.h |   14 ++++++++++++++
 2 files changed, 50 insertions(+), 0 deletions(-)

commit 2338ab56e666cccdc0a86914c26457e2c2d1b11e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 18:20:42 2008 +0000

    GabbleImFactory: update to new GabbleChannelManager API
    
    
    20080729182042-53eee-5e6559e4d98fc2371e34f2baa4b4379a3bbf3c0a.gz

 src/im-factory.c |   14 +++++++++-----
 1 files changed, 9 insertions(+), 5 deletions(-)

commit 0577323829a67f465e5771bd4b2ba74d6921c800
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 18:19:03 2008 +0000

    GabbleChannelManager: include the requests that were satisfied in the arguments of new-channels, and replace request-succeeded with request-already-satisfied to cover the remaining case
    
    
    20080729181903-53eee-1ead36bf4748757c2251de5565466a66646ea2cc.gz

 src/channel-manager.c |   54 +++++++++++++++++++++++++++++--------------------
 src/channel-manager.h |   11 ++++-----
 2 files changed, 37 insertions(+), 28 deletions(-)

commit 4e7469a671ac375ddbc793b725d7f1d78170085e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 20:07:49 2008 +0000

    Register request-failed signal correctly (I lose at GObject boilerplate)
    
    
    20080728200749-53eee-dab8597fd5b2e0fc5e8342a5dca4ee9b3367ce33.gz

 src/channel-manager.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d3ca3eda848c63eb5b0741243d45874a682f7707
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 17:28:12 2008 +0000

    conn-requests: fix indentation
    
    
    20080728172812-53eee-9fa426ec7318b666f4bd8e5587be5c1e5e896dc1.gz

 src/conn-requests.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 967a65e813bdef4357f47ef4ea512e44a3fe591f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 16:42:28 2008 +0000

    GabbleImFactory: reduce dependence on TpChannelFactoryIface
    
    
    20080728164228-53eee-8bd8550fd38f7a29a15a4d064d3543fa1f070d65.gz

 src/im-factory.c |   13 +++++++++----
 1 files changed, 9 insertions(+), 4 deletions(-)

commit 7d25974d4b9a64b2ca242ffc5121cd34eda32973
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 15:40:33 2008 +0000

    GabbleImFactory: instead of using TpChannelFactoryIface's connecting/connected/disconnected callbacks, just bind to status-changed directly
    
    
    20080728154033-53eee-74ad32313b22bfb16d87e73e999ab0524a392e7c.gz

 src/im-factory.c |   83 ++++++++++++++++++++++++++----------------------------
 1 files changed, 40 insertions(+), 43 deletions(-)

commit 658ab9e0ec19c29afbc44c438ab1fd4c161d18d1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 17:26:41 2008 +0000

    conn-requests: add placeholder for iterating over channel managers when connecting to signals
    
    
    20080729172641-53eee-009ee9cacef64b136db5a13edcc597dfa056f330.gz

 src/conn-requests.c |    9 ++++++++-
 1 files changed, 8 insertions(+), 1 deletions(-)

commit c6d9073418bf746bbbbbd99c4a26951b9bec7b82
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 17:26:23 2008 +0000

    conn-requests: add placeholder for iterating over channel managers when implementing RequestChannel
    
    
    20080729172623-53eee-102749032bc75835d532e652681c32f4cf1d4caf.gz

 src/conn-requests.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 0363a30cc0e5fcc689ab35015599d65a96285da8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 17:25:51 2008 +0000

    conn-requests: indicate why it is correct to refrain from calling close_all, disconnected, connecting, connected on channel managers
    
    
    20080729172551-53eee-0c0f1cfa335050e2e238e91a1bbb1ff7ecb51799.gz

 src/conn-requests.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 5455b221d54ff0c91539dd912515087c5c3695b7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 17:25:01 2008 +0000

    conn-requests: when listing channels using the old API, assume that all channels owned by managers implement TpChannelIface, and list them too
    
    
    20080729172501-53eee-cb30166bdf1dc84987b28fb225757e45cb4d7ecc.gz

 src/conn-requests.c |   22 ++++++++++++++++++++++
 1 files changed, 22 insertions(+), 0 deletions(-)

commit 051d83aa8d3b4500d1b9dda181add3dd6eb0ff41
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 17:24:46 2008 +0000

    conn-requests: When implementing Channels D-Bus property, list channels owned by managers as well as factories
    
    
    20080729172446-53eee-dc4951c35937e140d86bbe6895e0ff59a26a5ef6.gz

 src/conn-requests.c |   36 ++++++++++++++++++++++++++++--------
 1 files changed, 28 insertions(+), 8 deletions(-)

commit 903f52cfffda3737373560f5d551da23cc3f0033
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 16:35:57 2008 +0000

    conn-requests: only list channels owned by channel factories, for now
    
    
    20080729163557-53eee-cc781e7399c651836ea3e5e717b0e8127d0d795e.gz

 src/conn-requests.c |   11 ++++++-----
 1 files changed, 6 insertions(+), 5 deletions(-)

commit 7eb064618aed167500b9c35822c8a6e81786f9cf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 16:35:20 2008 +0000

    conn-requests: don't bind to channel-closed on channel managers for now
    
    
    20080729163520-53eee-bdd9eab39db1ddc9c17dec267d5a38679bbd0747.gz

 src/conn-requests.c |   18 +++---------------
 1 files changed, 3 insertions(+), 15 deletions(-)

commit 3773ccc803e190652a5245c5f53a70333d2c7c0a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 17:04:44 2008 +0000

    conn-requests: assert that every channel manager implements GabbleChannelManager
    
    
    20080728170444-53eee-ba6b4ba61b1cc3c44cf6264a614027b7f19bebbe.gz

 src/conn-requests.c |   12 +++++-------
 1 files changed, 5 insertions(+), 7 deletions(-)

commit 827f6c58497d0aff9b6482b0a29372f65ba861be
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 12:42:34 2008 +0000

    conn-requests: emit NewChannels and ChannelClosed signals.
    
    
    If the channel manager is a GabbleChannelManager, we assume it will emit
    channel-closed. If it's just a TpChannelFactoryIface, we act as though it had
    emitted channel-closed in response to each closed signal - this causes the
    signal ordering to be wrong in the case of a respawning channel, so factories
    for respawning channels will have to implement GabbleChannelManager.
    
    20080725124234-53eee-d65e8cba944f2f20a8ca0b0d1da90406475d29ca.gz

 src/conn-requests.c |   99 +++++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 97 insertions(+), 2 deletions(-)

commit beab64f827b352b30c3b97822557e3051f962604
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 17:29:13 2008 +0000

    conn-requests: use GabbleChannelManager API for foreach
    
    
    20080728172913-53eee-947a09355be1707913e6b0bf98db52e1867e5343.gz

 src/conn-requests.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 6c7eb92b1829b330bcdd2663859c9b6f291a2882
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 15:16:34 2008 +0000

    GabbleIMFactory: implement GabbleChannelManager so far (foreach and signal emission only)
    
    
    20080728151634-53eee-e23bad4597126ac1d4c7d5d4dda6c7a6f81bebe4.gz

 src/im-factory.c |   71 +++++++++++++++++++++++++++++++----------------------
 1 files changed, 41 insertions(+), 30 deletions(-)

commit e12c2f7704f4dcb941fe3bd3a45af9f4c2fe9514
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 12:56:24 2008 +0000

    Add a property getter for Requests.Channels
    
    
    20080725125624-53eee-7576c2677548d5c3c7ab428204bea5c2cf2f9254.gz

 src/conn-requests.c |   54 ++++++++++++++++++++++++++++++++++++++++++++++++++-
 src/conn-requests.h |    3 ++
 2 files changed, 56 insertions(+), 1 deletions(-)

commit 9b478d80f6a9b16e42ce2cdb871411d883c948d9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 20:18:23 2008 +0000

    GabbleChannelManager: remove spurious extra parameter to request-failed
    
    
    20080728201823-53eee-703149d808789d2f0e03d03b84a19de77a0178d2.gz

 src/channel-manager.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 54337dfa6f1615bfbe2660108debef7cabf488bd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 20:17:37 2008 +0000

    GabbleChannelManager: GABBLE_TYPE_EXPORTABLE_CHANNEL is not a value type, use G_TYPE_OBJECT
    
    
    20080728201737-53eee-c8051e109b26a0c2db7cb673ee70081fa2c756cb.gz

 src/channel-manager.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b2b2ffc8f9b6bbfd311fe680c147a84eac04ddb7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 15:15:48 2008 +0000

    GabbleChannelManager: rethink signal API, add signal emission helpers, add virtual method foreach_channel
    
    
    20080728151548-53eee-0bd5d0b60ab70534ac34164d693a779d570ddf7a.gz

 src/channel-manager.c    |  275 ++++++++++++++++++++++++++++++++++++++++++++--
 src/channel-manager.h    |   45 +++++++-
 src/exportable-channel.h |    3 +
 3 files changed, 308 insertions(+), 15 deletions(-)

commit c627b13c85573580e46617e91ea0e8fdd1306c52
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 14:57:04 2008 +0000

    Implement request signalling in a less awkward way, with a separate signal
    
    
    20080725145704-53eee-13df484a3db363338aa18d64b7a329b967e5e6bd.gz

 src/channel-manager.c |   19 ++++++++++++++++---
 src/im-factory.c      |   23 ++++-------------------
 2 files changed, 20 insertions(+), 22 deletions(-)

commit 891a3e6c7f62c192d838cc24732e7bc94a97785d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 13:22:27 2008 +0000

    GabbleChannelManager, GabbleImFactory: make GabbleChannelManager implementations responsible for tracking which requests would be satisfied by which channels
    
    
    Anything else doesn't really look viable.
    
    20080725132227-53eee-a415f248e4f71df035d307f9fd73dc0a02bc5554.gz

 src/channel-manager.c |    8 +++++---
 src/im-factory.c      |   33 ++++++++++++++++++++++++++-------
 2 files changed, 31 insertions(+), 10 deletions(-)

commit 0129365c28dcdccc72d559926807a6e36e876861
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 13:16:50 2008 +0000

    GabbleImFactory: also emit new-channels when a channel satisfies a request
    
    
    20080725131650-53eee-c8c436e223fba853e9414219fcef8a8baefb36c5.gz

 src/im-factory.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 482e39723cdd028acfa1d8f05afec9335624c34b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 12:42:12 2008 +0000

    GabbleImFactory: implement GabbleChannelManager
    
    
    20080725124212-53eee-3914dd080040e8125d38e5e0a474d30899072e9d.gz

 src/im-factory.c |   18 ++++++++++++++++++
 1 files changed, 18 insertions(+), 0 deletions(-)

commit bde26124a270c1e39d9fb861d796823998a53eac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 13:22:09 2008 +0000

    Start to sketch the API of GabbleChannelManager
    
    
    20080725132209-53eee-39aa79f6d7d160255f3757d0740524ccbdf366e8.gz

 src/channel-manager.h |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 5e38df6f422d1291dc337ba6f16c0d6bce735b6f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 12:41:49 2008 +0000

    GabbleChannelManager: add channel-closed signal
    
    
    20080725124149-53eee-3b99becea6239c82244b3347355e7e2dabee9af8.gz

 src/channel-manager.c |   20 ++++++++++++++------
 1 files changed, 14 insertions(+), 6 deletions(-)

commit 14f70ac264105f9afd29ce1c24b51aaaef79b82b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 12:41:37 2008 +0000

    GabbleChannelManager: remove unnecessary include
    
    
    20080725124137-53eee-612db042f62b0fe1a09bf2303960485482294344.gz

 src/channel-manager.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit c7c178df0af0bfedd5de379374e59c5cef60172c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 11:53:35 2008 +0000

    GabbleChannelManager: add a new-channels signal
    
    
    20080725115335-53eee-cc3c03294260db4c44875967f86a89808c8d579e.gz

 src/channel-manager.c |   21 +++++++++++++++++++++
 1 files changed, 21 insertions(+), 0 deletions(-)

commit 6c713237448896e3e0096f2bab29ac029891db5f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 16:17:05 2008 +0000

    conn-requests: segregate channel factories and channel managers
    
    
    20080729161705-53eee-75cf89c369ac890be7054418b01b368739b8e895.gz

 src/conn-requests.c |   40 ++++++++++++++++++++++++++--------------
 src/connection.c    |    6 ++++--
 src/connection.h    |    1 +
 3 files changed, 31 insertions(+), 16 deletions(-)

commit ba9c76809e2804b3d45dd1081ba1212e65d8ac25
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 16:12:57 2008 +0000

    conn-requests: add method member to ChannelRequest
    
    
    20080729161257-53eee-d9b3da89db1aec59eb7e5c773051285460961194.gz

 src/conn-requests.c |   16 ++++++++++++++--
 1 files changed, 14 insertions(+), 2 deletions(-)

commit e647f3ec3a1e03fa388944db0d1d4adfe7ca9aa7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 10:05:36 2008 +0000

    Add GObject boilerplate for a GabbleChannelManager interface
    
    
    20080725100536-53eee-81026e4cfe4b6d0b8704a342c140b8fdf395e590.gz

 src/Makefile.am       |    2 +
 src/channel-manager.c |   62 +++++++++++++++++++++++++++++++++++++++++++++++++
 src/channel-manager.h |   55 +++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 119 insertions(+), 0 deletions(-)

commit 0d8953344195ad0d875b185249b3fde9b11927cf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 12:06:49 2008 +0000

    Reimplement RequestChannel and ListChannels
    
    
    Instead of taking the ones from TpBaseConnection, we now use an internal
    implementation so we have complete control over the request process, so that
    the Requests interface can be implemented on top of it.
    
    This code should move back to telepathy-glib once it's stable.
    
    20080725120649-53eee-386efddc780ff08349112c1d0ddfa6416bb87636.gz

 src/Makefile.am     |    2 +
 src/conn-requests.c |  598 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/conn-requests.h |   38 ++++
 src/connection.c    |   14 ++
 src/connection.h    |    5 +
 5 files changed, 657 insertions(+), 0 deletions(-)

commit 29fd18678a4b4df6dde5aff901a05f5d14d5e572
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Aug 14 15:56:50 2008 +0000

    Implements D-Bus method AcceptStreamTube on org.freedesktop.Telepathy.Channel.Type.StreamTube
    
    
    20080814155650-a41c0-44c96fad5b19d4dba21ad8cd42fcb66c2ac59fc4.gz

 src/tube-stream.c |   55 ++++++++++++++++++++++++++++++++++++++++++++++++++--
 1 files changed, 52 insertions(+), 3 deletions(-)

commit 3aea1b87e64e01a6a366bbb851f7176231c1ea12
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Aug 14 14:53:44 2008 +0000

    Implements D-Bus method GetStreamTubeSocketAddress on org.freedesktop.Telepathy.Channel.Type.StreamTube
    
    
    20080814145344-a41c0-295ef250face270db66aaa79b940d3bf3307611a.gz

 src/tube-stream.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 5044b0535ffd2024fee8c1919d36de8592808a41
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu Aug 14 14:28:29 2008 +0000

    Move publish_tube_in_node in tube-iface because it will be used both by GabbleTubesChannel and GabbleTubeStream/GabbleTubeDBus. Move send_new_stream_tube_msg in tube-stream.c. OfferStreamTube in Channel.Type.StreamTube will be implemented with it.
    
    
    20080814142829-a41c0-deddf9425b6bc971219ca64b80cd33d975e5ee37.gz

 src/tube-iface.c    |   78 ++++++++++++++++++++++++++++
 src/tube-iface.h    |    6 ++-
 src/tube-stream.c   |   73 ++++++++++++++++++++++++---
 src/tube-stream.h   |    5 ++
 src/tubes-channel.c |  140 ++------------------------------------------------
 5 files changed, 159 insertions(+), 143 deletions(-)

commit 9014990bae3e1b5b33f813b0c604d55272666617
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Aug 13 17:48:06 2008 +0000

    GabbleTubeStream exposes the Channel.Type.StreamTube object. Some methods not yet implemented.
    
    
    20080813174806-a41c0-34a93595855b4d286162505940c380fab21ffb2a.gz

 src/tube-stream.c |  286 ++++++++++++++++++++++++++++++++++++++++++++++++++++-
 src/tube-stream.h |    2 +
 2 files changed, 283 insertions(+), 5 deletions(-)

commit 369ae719c0af0ff31f2f60339c2f340c11aca54b
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Aug 13 17:35:56 2008 +0000

    Rename signal names of StreamTubes and DBusTubes to avoid collisions when GabbleTubeDBus and GabbleTubeStream will implement TP_TYPE_SVC_CHANNEL
    
    
    20080813173556-a41c0-f5e150e6ece74e95aed4b323531c40cb810ebc39.gz

 src/tube-dbus.c     |    4 ++--
 src/tube-stream.c   |    6 +++---
 src/tubes-channel.c |    6 +++---
 3 files changed, 8 insertions(+), 8 deletions(-)

commit 5ca29b985cb53f77316858dbd3327ef87595b1d1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Aug 12 13:45:15 2008 +0000

    Add new tube spec as an extension
    
    
    20080812134515-a41c0-15e1c32481e89e018c89afe9dd9f468d4cc92fdf.gz

 extensions/Channel_Interface_Tube.xml  |  109 ++++++++++++++++
 extensions/Channel_Type_DBusTube.xml   |  179 ++++++++++++++++++++++++++
 extensions/Channel_Type_StreamTube.xml |  216 ++++++++++++++++++++++++++++++++
 extensions/Makefile.am                 |    5 +-
 extensions/all.xml                     |   16 +++
 5 files changed, 524 insertions(+), 1 deletions(-)

commit c5d21e0af230f63babe100f042e3cffbcfce8552
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   Sat Aug 16 14:24:29 2008 +0100

    Updated gitignore.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

 .gitignore |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit a2304d6f8664a4dec48330ffcd184303b445faf8
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Aug 15 19:43:43 2008 +0100

    D-Bus signature for INT16 is 'n', not 'h'

 docs/tubes.xml |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8446850029110327be1aa428e393ce238816db08
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 15 17:50:35 2008 +0100

    Set autogen.sh executable, use git in dist-hook, replace _boring with .gitignore

 .gitignore  |   61 +++++++++++++++++++++++++++++++++++++++
 Makefile.am |    5 ++-
 _boring     |   92 -----------------------------------------------------------
 3 files changed, 65 insertions(+), 93 deletions(-)

commit ebcaf44d83264a505cb266c882d13602108af30f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Aug 12 15:54:10 2008 +0000

    Implement GetAliases
    
    
    20080812155410-b58c9-890dd148221b52f77588bf20f64cbc6ffb100f2a.gz

 src/conn-aliasing.c |  103 +++++++++++++++++++++++++++++++++++++++++----------
 1 files changed, 83 insertions(+), 20 deletions(-)

commit 60078d012ca3ac876db44797c53b3fe1d65b9790
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Aug 12 10:17:15 2008 +0000

    Connection: s/_get_contact_attributes/_fill_contact_attributes for more consistency
    
    
    20080812101715-b58c9-9ef601b4dcd325bc28c4b27ff64e99b9c021b2c0.gz

 src/connection.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 6dc6465e5cd79e95fc107a225ee29cbe1927727f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Aug 12 10:16:49 2008 +0000

    conn-avatars: s/_get_contact_attributes/_fill_contact_attributes for more consistency
    
    
    20080812101649-b58c9-115474b07c62590b0a102565f699adb20f542d39.gz

 src/conn-avatars.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 9a2bc30435340cf2b13df9d5cf3218520f74c710
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Aug 12 10:16:36 2008 +0000

    conn-aliasing: s/_get_contact_attributes/_fill_contact_attributes for more consistency
    
    
    20080812101636-b58c9-24c8893cdcf89d1483e2fc47e7d10c8b0729ffba.gz

 src/conn-aliasing.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 094dde52068acba49751475f8f42888e33c45fc1
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Aug 12 10:16:10 2008 +0000

    conn-aliasing: Fix typo
    
    
    20080812101610-b58c9-ac5115574ca324b5f253305911f242a9ea03d9b3.gz

 src/conn-aliasing.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit dd5efa0eb7c68817170e488c6dfad56d378422df
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Aug 8 18:08:48 2008 +0000

    Fix Bug #13891: listen for D-Bus connection from the local application before returning from the AcceptDBusTube method call
    
    
    20080808180848-a41c0-daef0909c8153077b122dc7c67dbe242cdb0fcf0.gz

 src/tube-dbus.c     |   34 +++++++++++++++++++++++++++++++---
 src/tube-dbus.h     |    2 ++
 src/tubes-channel.c |    8 +++++---
 3 files changed, 38 insertions(+), 6 deletions(-)

commit bad11b6419d7b1441a5c4091c772d20a46a7fcff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 7 09:14:10 2008 +0000

    use tp_debug_divert_messages instead of our own copy of it
    
    
    20080807091410-7fe3f-2277c77b008b24567d8886fb93eb521b58a6d833.gz

 src/debug.c  |   33 ---------------------------------
 src/debug.h  |    6 ------
 src/gabble.c |    2 +-
 3 files changed, 1 insertions(+), 40 deletions(-)

commit 0877b14c3326e2914d2d8d0608aa54f6314d14a6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 7 09:14:10 2008 +0000

    use tp_debug_divert_messages instead of our own copy of it
    
    
    20080807091410-7fe3f-2277c77b008b24567d8886fb93eb521b58a6d833.gz

 src/debug.c  |   33 ---------------------------------
 src/debug.h  |    6 ------
 src/gabble.c |    2 +-
 3 files changed, 1 insertions(+), 40 deletions(-)

commit d7a3f9096cceccdab1c0c432b81e9159dbc9f204
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Aug 6 15:28:55 2008 +0000

    docs/tubes.xml: tube capabilities
    
    
    20080806152855-a41c0-1f8730b964237a1eae969399e9e41570458a1809.gz

 docs/tubes.xml |   21 +++++++++++++++++++++
 1 files changed, 21 insertions(+), 0 deletions(-)

commit 87f166b6999115bc4a4d23c3523c5ab5d16fa403
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Aug 5 16:56:58 2008 +0000

    "dnd" should be TP_CONNECTION_PRESENCE_TYPE_BUSY
    
    
    20080805165658-418b8-b19546b8bb135d066266949220b600f9c0f5518d.gz

 src/conn-presence.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit df6dd951ddcb4cd9944aa3614f055c20072f8a7f
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Aug 5 16:56:58 2008 +0000

    "dnd" should be TP_CONNECTION_PRESENCE_TYPE_BUSY
    
    
    20080805165658-418b8-b19546b8bb135d066266949220b600f9c0f5518d.gz

 src/conn-presence.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 27f4c62b46d4f0e9cdfe1ea2e3cf2a926baa7662
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 5 15:51:57 2008 +0000

    GabbleMucFactory: don't implement TpChannelFactoryIface
    
    
    20080805155157-53eee-4a06251f63f756c80c28c72519dda868dc613cb4.gz

 src/muc-factory.c |  103 -----------------------------------------------------
 1 files changed, 0 insertions(+), 103 deletions(-)

commit b9df8fdb005b1059a30623e76f470e4719cc119a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 5 15:51:30 2008 +0000

    conn-olpc: assume that conn->muc_factory is a GabbleChannelManager, not a TpChannelFactoryIface
    
    
    20080805155130-53eee-e84527e4a3b4f917722f9f10cd6064d1fd1057e2.gz

 src/conn-olpc.c |   24 +++++++++++++++++-------
 1 files changed, 17 insertions(+), 7 deletions(-)

commit aeb6c094b3ca20c4d7705282aa05f47705148d16
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 5 15:37:51 2008 +0000

    GabbleConnection: remove another occurence of assuming the MUC factory is a TpChannelFactoryIface
    
    
    20080805153751-53eee-468ee5e3c40fae46fc2aab16076a5024249a6e49.gz

 src/connection.c |    9 ++++-----
 1 files changed, 4 insertions(+), 5 deletions(-)

commit 160832dfe457fe500bde0f4bfd278cbef39ee144
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 5 15:37:37 2008 +0000

    channel-manager.h: remove unnecessary inclusion of <telepathy-glib/channel-factory-iface.h>
    
    
    20080805153737-53eee-2767780e72da8dcc5bc637a1169d9ff5fdade40d.gz

 src/channel-manager.h |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 328ff10052f68d0680d16969ec5ecfe99e09d1cb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 5 15:00:19 2008 +0000

    GabbleMucFactory: correctly fail requests when joining a MUC fails
    
    
    20080805150019-53eee-bc38baec7e2553a9ad530a21f6f15ce4e19ffb1f.gz

 src/muc-factory.c |   27 +++++++++++++++++++++++++++
 1 files changed, 27 insertions(+), 0 deletions(-)

commit c36a6def2df251caaf155d00448d3a19eb51bad6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 5 14:50:14 2008 +0000

    GabbleConnection: use GabbleMucFactory as a GabbleChannelManager
    
    
    20080805145014-53eee-5f188c0b2be3d6e0dd8419036eadb6151b56a931.gz

 src/connection.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit 71f656f09cbea0afabf6d4060bc3f7fe6f67887a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 5 14:48:28 2008 +0000

    GabbleMucFactory: implement GabbleChannelManager
    
    
    20080805144828-53eee-b2c51c880d6398e96ad12733e1d08a325007a20d.gz

 src/muc-factory.c |  321 ++++++++++++++++++++++++++++++++++++++++++++++++++---
 1 files changed, 303 insertions(+), 18 deletions(-)

commit e2e720360d83dc5ee1c649ff1a6fcac42163ad71
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 5 14:27:19 2008 +0000

    muc/roomlist.py: add tests for using the Requests API on room lists
    
    
    20080805142719-53eee-261b09dcf199d66b7ffeda95d5746f9f2faa54d2.gz

 tests/twisted/muc/roomlist.py |  120 +++++++++++++++++++++++++++++++++++++---
 1 files changed, 111 insertions(+), 9 deletions(-)

commit 97488290f7f42419cfeeca86d94d85b1ce8d3c28
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 5 14:26:52 2008 +0000

    GabbleMucFactory: stop managing RoomList channels
    
    
    20080805142652-53eee-0797b9d2e4c461031c1d3ef31e6acd80128dd51b.gz

 src/muc-factory.c |   77 -----------------------------------------------------
 1 files changed, 0 insertions(+), 77 deletions(-)

commit 79e167b22bb6f9f8d24d11e10a9fa6d55db14eb0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 5 14:26:37 2008 +0000

    GabbleConnection: use the new GabbleRoomlistManager
    
    
    20080805142637-53eee-7d36d720da98e9d2ec5c49715f226998db66dafd.gz

 src/connection.c |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit f3eb8232e84825ba4620c1e055eba10e76289499
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 5 14:26:25 2008 +0000

    GabbleRoomlistManager: add new channel manager for room lists only
    
    
    20080805142625-53eee-af1bc69d457df5d3e1aa1f0d093c6813a70fc4a7.gz

 src/Makefile.am        |    2 +
 src/roomlist-manager.c |  433 ++++++++++++++++++++++++++++++++++++++++++++++++
 src/roomlist-manager.h |   62 +++++++
 3 files changed, 497 insertions(+), 0 deletions(-)

commit 40662541d6748759dacadcba9728c1415213f5b4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 5 14:04:51 2008 +0000

    GabbleRoomlistChannel: set priv->closed before emitting closed, so we don't indicate that we're about to respawn
    
    
    20080805140451-53eee-de9a2b5705617289393a940bcdcdfe2d38a550cc.gz

 src/roomlist-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8b9bed0466e7719ca294c43159ec8e4abf458e4f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 31 19:20:02 2008 +0000

    tubes/test-si-tubes: exercise NewChannel and NewChannels signals
    
    
    20080731192002-53eee-5eb6be0aa07847b9300066fc1d252a5bbc52ade1.gz

 tests/twisted/tubes/test-si-tubes.py |   61 ++++++++++++++++++++++++++++++++-
 1 files changed, 59 insertions(+), 2 deletions(-)

commit 6b39778fe98bf7d6ad22bbf544bafa6d13ba147e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 31 19:19:48 2008 +0000

    Use GabblePrivateTubesFactory as a ChannelManager
    
    
    20080731191948-53eee-56af9766eef7c9a7517d2dbcfa1cccb806df25cf.gz

 src/connection.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit b0b42aba2bdedc08bb575c5468db287baf930f03
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 31 19:17:15 2008 +0000

    GabblePrivateTubesFactory: implement GabbleChannelManager
    
    
    20080731191715-53eee-92ec3b350351652ad4f28820e8764eec90093abf.gz

 src/private-tubes-factory.c |  237 ++++++++++++++++++++++++++++++++----------
 1 files changed, 180 insertions(+), 57 deletions(-)

commit de6cb653d14a54b05566e4ad9d9678a71d88cc45
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 31 19:14:08 2008 +0000

    When failing a test due to an exception, print it
    
    
    20080731191408-53eee-6eb52b1cfdf7ea3486546db6cfc7ec10de1d9de8.gz

 tests/twisted/gabbletest.py |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 911fa03ae420bcff3cd1ec937769dc08fb7580b8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 31 19:14:08 2008 +0000

    When failing a test due to an exception, print it
    
    
    20080731191408-53eee-6eb52b1cfdf7ea3486546db6cfc7ec10de1d9de8.gz

 tests/twisted/gabbletest.py |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 924375b2dc4809a101cdad80082cb13e590fb898
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 31 18:50:33 2008 +0000

    Don't assert that GabbleIMChannel is a TpChannelIface
    
    
    20080731185033-53eee-2209e152b6fc87f0fa405eb34686f8ce9d795334.gz

 src/im-factory.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit c3944dc93ab14084addb7bd9c6554bf2bac0afad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 31 18:42:12 2008 +0000

    GabbleImFactory: don't implement TpChannelFactoryIface
    
    
    20080731184212-53eee-b35a39ea359b36507b0b2d9b6338c879d38a4bfc.gz

 src/im-factory.c |   73 ++---------------------------------------------------
 1 files changed, 3 insertions(+), 70 deletions(-)

commit de9d8bfe257663d118b0f238ea7aedfe63ea802c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 18:35:55 2008 +0000

    gabbletest: make it possible for tests to fail again
    
    
    20080730183555-53eee-105e1f87820b59bb5d91f36877b19e77414c2dee.gz

 tests/twisted/gabbletest.py |   30 +++++++++++++++++++-----------
 1 files changed, 19 insertions(+), 11 deletions(-)

commit 520fb2b78c8421ef832f112f4f5e168fb68a8a55
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 5 12:09:58 2008 +0000

    test-si-tubes: don't early return so the rest of the test is actually executed
    
    
    20080805120958-7fe3f-dc1fcc02bedf9813b40e49c386de5fcb00a8a724.gz

 tests/twisted/tubes/test-si-tubes.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit e1822ccff37608fac888ac2534d5ba0001be4053
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 5 11:10:25 2008 +0000

    test-disco: don't early return so the rest of the test is actually executed
    
    
    20080805111025-7fe3f-5e646df68d65b91450908ec0041e5733996cabcf.gz

 tests/twisted/test-disco.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit e69b48e5b86ab452c5e911f729fd8219faefd5c2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 4 19:47:24 2008 +0000

    presence/presence.py: Remove unnecessary assertions copied from test-roster
    
    
    20080804194724-53eee-496a97f2ce71e25d4fb93dd97e930977e3e69daf.gz

 tests/twisted/presence/presence.py |   61 ++----------------------------------
 1 files changed, 3 insertions(+), 58 deletions(-)

commit 23643414afd7f4512d87b44efcd0c2dea7ae529f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 4 11:33:18 2008 +0000

    Add a simple smoke-test for SimplePresence
    
    
    20080804113318-53eee-c470ebdcf276c8d1860f7399e3c9539296c35053.gz

 tests/twisted/Makefile.am             |    1 +
 tests/twisted/presence/presence.py    |  110 +++++++++++++++++++++++++++++++++
 2 files changed, 111 insertions(+), 0 deletions(-)

commit b0e134bdd394dd85fc8767199ce6907be20647ca
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 4 18:57:46 2008 +0000

    Use pedantically correct marshaller for a GArray, because GObject 2.17 actually checks for this :-(
    
    
    20080804185746-53eee-639d869c8a7d6ea7832ae9d5883b2c7dd181b74e.gz

 src/presence-cache.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7269db4a0ee9e6f0ceb9379e0dae58deed7199a5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 4 08:33:15 2008 +0000

    register: use DEBUG instead of g_debug
    
    
    20080804083315-7fe3f-e78240def4057e1579abd6c1ee3d3d21f4ba170f.gz

 src/register.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 5d1dc04930834f48cbc238c20389299024d9ab8f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 4 08:28:15 2008 +0000

    util: use DEBUG instead of g_debug
    
    
    20080804082815-7fe3f-e619ec80b634c5a2fbda169b01fb73315bfe65f7.gz

 src/util.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit aa8d10e5cee7126e5bfc8337a32cc8ad64f4222c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 4 08:25:04 2008 +0000

    muc-channel: use DEBUG instead of g_debug
    
    
    20080804082504-7fe3f-5982ccd671e1b7b2bd1a6392332dead2b1778e57.gz

 src/muc-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4e966e09b510301dd319c7cc1b9645a276775513
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 4 08:24:03 2008 +0000

    connection: use DEBUG instead of g_debug
    
    
    20080804082403-7fe3f-6e167e7a0943912f89662b288432c77a31613d51.gz

 src/connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2e68257597f9aef13b71c1b8c386da6866ff2747
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 18:35:55 2008 +0000

    gabbletest: make it possible for tests to fail again
    
    
    20080730183555-53eee-105e1f87820b59bb5d91f36877b19e77414c2dee.gz

 tests/twisted/gabbletest.py |   30 +++++++++++++++++++-----------
 1 files changed, 19 insertions(+), 11 deletions(-)

commit ea76d8930dbdc4459e357c3f5ddc918fc1aee2a3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 5 12:09:58 2008 +0000

    test-si-tubes: don't early return so the rest of the test is actually executed
    
    
    20080805120958-7fe3f-dc1fcc02bedf9813b40e49c386de5fcb00a8a724.gz

 tests/twisted/tubes/test-si-tubes.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 9bd41935f091e2eb77bc7b21c1dba0dff4499f97
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 5 11:10:25 2008 +0000

    test-disco: don't early return so the rest of the test is actually executed
    
    
    20080805111025-7fe3f-5e646df68d65b91450908ec0041e5733996cabcf.gz

 tests/twisted/test-disco.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit a6a3967087834ac0a58ec6e0703529ae2573a655
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 4 19:47:24 2008 +0000

    presence/presence.py: Remove unnecessary assertions copied from test-roster
    
    
    20080804194724-53eee-496a97f2ce71e25d4fb93dd97e930977e3e69daf.gz

 tests/twisted/presence/presence.py |   61 ++----------------------------------
 1 files changed, 3 insertions(+), 58 deletions(-)

commit e502196a57ab735573e2484efc61377b2b691050
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 4 11:33:18 2008 +0000

    Add a simple smoke-test for SimplePresence
    
    
    20080804113318-53eee-c470ebdcf276c8d1860f7399e3c9539296c35053.gz

 tests/twisted/Makefile.am             |    1 +
 tests/twisted/presence/presence.py    |  110 +++++++++++++++++++++++++++++++++
 2 files changed, 111 insertions(+), 0 deletions(-)

commit d463349b3cd3eecba036da5d9f38cd034e14e780
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 4 18:57:46 2008 +0000

    Use pedantically correct marshaller for a GArray, because GObject 2.17 actually checks for this :-(
    
    
    20080804185746-53eee-639d869c8a7d6ea7832ae9d5883b2c7dd181b74e.gz

 src/presence-cache.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 93435333e03863851fbc1e7429cba854fd82b44f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 4 08:33:15 2008 +0000

    register: use DEBUG instead of g_debug
    
    
    20080804083315-7fe3f-e78240def4057e1579abd6c1ee3d3d21f4ba170f.gz

 src/register.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 18895c3a4545df585ef37375e5e5ec4aef83f859
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 4 08:28:15 2008 +0000

    util: use DEBUG instead of g_debug
    
    
    20080804082815-7fe3f-e619ec80b634c5a2fbda169b01fb73315bfe65f7.gz

 src/util.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 3d67d195c8b50994b8acbad65b0bbaa6351bf65a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 4 08:25:04 2008 +0000

    muc-channel: use DEBUG instead of g_debug
    
    
    20080804082504-7fe3f-5982ccd671e1b7b2bd1a6392332dead2b1778e57.gz

 src/muc-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7e4b41ab26dca27ef25e94310f5bda2d11ec66a7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 4 08:24:03 2008 +0000

    connection: use DEBUG instead of g_debug
    
    
    20080804082403-7fe3f-6e167e7a0943912f89662b288432c77a31613d51.gz

 src/connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c32db1b850892a8496e2e5d9d7ae7d777983dd4c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 18:35:11 2008 +0000

    text/initiate-requestotron.py: assert that the Channels and RequestableChannelClasses properties work correctly
    
    
    20080730183511-53eee-71d9f011f1abc53d195bb0b2f27213b35d93550e.gz

 tests/twisted/text/initiate-requestotron.py |   20 ++++++++++++++++++++
 1 files changed, 20 insertions(+), 0 deletions(-)

commit c1f095fda296b1ce307ec57da865a483cee26887
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 18:34:57 2008 +0000

    GabbleConnection: hook up Requests properties
    
    
    20080730183457-53eee-e7019c0feff376bd424bcba6c9600d51f27e336e.gz

 src/connection.c |   14 ++++++++++++++
 1 files changed, 14 insertions(+), 0 deletions(-)

commit fdff60f093a7cb2c99abe1abcc52ee8f982b0651
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 18:34:24 2008 +0000

    GabbleIMFactory: implement foreach_channel_class
    
    
    20080730183424-53eee-b0e6d8cd77a4ff14bd4ff1dd194cdd037440d01c.gz

 src/im-factory.c |   38 ++++++++++++++++++++++++++++++++++++++
 1 files changed, 38 insertions(+), 0 deletions(-)

commit 29efc6c7524f5233e6211c5c269c69c1491ebe66
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 17:37:29 2008 +0000

    conn-requests: use foreach_channel_class
    
    
    20080730173729-53eee-eb70fd5faece7243b5545ca44d31c7d513f094f8.gz

 src/conn-requests.c |   33 ++++++++++++++++++++++++++++++++-
 1 files changed, 32 insertions(+), 1 deletions(-)

commit 2fa633956ed8f99c49e25466f93c96ca599cc5f6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 16:55:02 2008 +0000

    GabbleChannelManager: add foreach_channel_class
    
    
    20080730165502-53eee-eafb03fdd4199c5b902077c84e8a15fe918b6b7b.gz

 src/channel-manager.c |   18 ++++++++++++++++++
 src/channel-manager.h |   18 ++++++++++++++++++
 2 files changed, 36 insertions(+), 0 deletions(-)

commit 19562ae15861261ac022fefa468c6bba7fec1155
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 15:46:24 2008 +0000

    conn-requests: add a stub implementation of RequestableChannelClasses
    
    
    20080730154624-53eee-a10779cdfed409c3b1b5337495806e2be016a5fa.gz

 src/conn-requests.c |   23 +++++++++++++++++++++++
 1 files changed, 23 insertions(+), 0 deletions(-)

commit fd8e5840d74c25a1c31a1c0e45042367d55f176d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 15:45:59 2008 +0000

    conn-requests: comment why the magic number for channels is (number of managers + number of factories) * 2
    
    
    20080730154559-53eee-de557a08024b7173ff108378f5255879cf9e7e5e.gz

 src/conn-requests.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit f8b6b389ab7343d879df82f1fa6cbcc7a97a864d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 15:45:45 2008 +0000

    text/initiate.py: improve output if assertions fail
    
    
    20080730154545-53eee-47b7a9bc0e97614e924f039361a538ed95676ba0.gz

 tests/twisted/text/initiate.py |   10 ++++++----
 1 files changed, 6 insertions(+), 4 deletions(-)

commit c08b2842a639c58a80767bf08e7385885d514be0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 15:45:20 2008 +0000

    conn-requests: stop assuming that every GabbleExportableChannel is a TpChannelIface
    
    
    20080730154520-53eee-6153b5e9227736c496015135c44d155fc941494a.gz

 src/conn-requests.c |   94 ++++++++++++++++++++++++++++++++++++++++++++------
 1 files changed, 82 insertions(+), 12 deletions(-)

commit 1c5622af147f5d6226d903da554a7ac738ca7f43
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 15:33:23 2008 +0000

    conn-requests: add some more sanity checks when CreateChannel is called
    
    
    20080730153323-53eee-38f95eedc187ebf89ee615bbe5023f5a95836f8a.gz

 src/conn-requests.c |   69 ++++++++++++++++++++++++++++++++++++++++++++------
 1 files changed, 60 insertions(+), 9 deletions(-)

commit dd8d5b9a3c497d6787f2f4042e5a6d8038fdb20f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 15:07:28 2008 +0000

    conn-requests: manager_request_already_satisfied_cb: no need to assume that the channel implements TpChannelIface - GabbleExportableChannel has object-path too
    
    
    20080730150728-53eee-e5e42985e235b5cbf978b74331a4d72436412a0e.gz

 src/conn-requests.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 66de78b6f3e549af3d7a3383d4c52e3b8255cbf0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 14:18:30 2008 +0000

    GabbleImFactory: implement request_channel instead of ensure_channel
    
    
    20080730141830-53eee-fbeb60c1ecf35a4115416d21213b8d4bf373be1e.gz

 src/im-factory.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 448ebb189cc7c079eb37c7149467bfdc47e95e7c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 14:17:45 2008 +0000

    conn-requests: knock out EnsureChannel functionality, explicitly use RequestChannel
    
    
    20080730141745-53eee-8c6c58f539cbd97e507774fd6c53463f24ac46a1.gz

 src/conn-requests.c |   51 ++++++++++++++++++++++++++++-----------------------
 1 files changed, 28 insertions(+), 23 deletions(-)

commit 794d34dcecd0f7cb9e96751193b9500808e7f22a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 14:17:33 2008 +0000

    GabbleChannelManager: add a placeholder priv pointer
    
    
    20080730141733-53eee-c7decd422c11845069d8d63aeb14335ecc39d913.gz

 src/channel-manager.h |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 93feda60e2eb970dd56e18184844bd541b424a5c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 14:16:07 2008 +0000

    GabbleChannelManager: explicitly have RequestChannel in the API.
    
    
    For some channel factories we want RequestChannel to have different semantics
    regarding parameters accepted, etc., for backwards compatibility (in particular
    media channels).
    
    20080730141607-53eee-f90f3cd0168901249cd49455fa720960083b894f.gz

 src/channel-manager.c |    8 ++++----
 src/channel-manager.h |    5 +++--
 2 files changed, 7 insertions(+), 6 deletions(-)

commit abf8e7483b48d50a7ecea90a893078dc45b4511e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Jul 30 14:08:20 2008 +0000

    Test that the capabilities signals and the inspectotron results match
    
    
    20080730140820-b58c9-06bf402282744a5725ce4b3e466ed21cc4a821bb.gz

 tests/twisted/test-capabilities.py |   21 +++++++++++++++++++++
 1 files changed, 21 insertions(+), 0 deletions(-)

commit 54c400e3641dd6983bb79d99833417ff96378344
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Jul 30 14:07:01 2008 +0000

    Add Contacts to the standard inferfaces
    
    
    20080730140701-b58c9-7d16d20bb0bc9d284b400abbeb827977af4dffeb.gz

 tests/twisted/servicetest.py |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit ac2857dc78a4c935e2909e668ad4f540f8767a4d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 21:06:27 2008 +0000

    Add a simple test for requesting a channel using the requestotron API
    
    
    20080729210627-53eee-ac909c1c314c5917ec2716e922eeda845ca71f96.gz

 tests/twisted/Makefile.am                   |    1 +
 tests/twisted/text/initiate-requestotron.py |   74 +++++++++++++++++++++++++++
 2 files changed, 75 insertions(+), 0 deletions(-)

commit d9819b04d362cb0e3e4ea0f294b6ae52178587a8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 21:05:51 2008 +0000

    conn-requests: fix CreateChannel implementation, and implement EnsureChannel while I'm at it
    
    
    20080729210551-53eee-949154d435a3cc121bf28cfb70228766f8288e9b.gz

 src/conn-requests.c |   75 +++++++++++++++++++++++++++++++++++++++++---------
 1 files changed, 61 insertions(+), 14 deletions(-)

commit b22ab67bdd311cf1a007bb925e1b64463134252a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 16:17:05 2008 +0000

    conn-requests: segregate channel factories and channel managers
    
    
    20080729161705-53eee-75cf89c369ac890be7054418b01b368739b8e895.gz

 src/conn-requests.c |   40 ++++++++++++++++++++++++++--------------
 src/connection.c    |    6 ++++--
 src/connection.h    |    1 +
 3 files changed, 31 insertions(+), 16 deletions(-)

commit f797d04a13777ef6add7f9382dfa26d82ac15b28
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 16:12:57 2008 +0000

    conn-requests: add method member to ChannelRequest
    
    
    20080729161257-53eee-d9b3da89db1aec59eb7e5c773051285460961194.gz

 src/conn-requests.c |   16 ++++++++++++++--
 1 files changed, 14 insertions(+), 2 deletions(-)

commit 1ee29bbac5291b7c2ce1362422ff59a793bc9e29
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Jul 29 15:14:14 2008 +0000

    Add support for capabilities in the Contacts interface
    
    
    20080729151414-b58c9-83680204eb5d718c112d3a33703f7795048b363e.gz

 src/connection.c |  179 +++++++++++++++++++++++++++++++++++------------------
 1 files changed, 118 insertions(+), 61 deletions(-)

commit 5dfc69e9f526a169279f53410b459c33764fb2ff
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Jul 29 11:37:17 2008 +0000

    Implement avatars in the Contacts interface
    
    
    20080729113717-b58c9-48d70e94ffa57623cdbd9f9f2cf6ffc2bda1493b.gz

 src/conn-avatars.c |   39 +++++++++++++++++++++++++++++++++++++++
 1 files changed, 39 insertions(+), 0 deletions(-)

commit 38fda73329f1310424158fd801e4b077749ebeca
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Jul 29 10:31:09 2008 +0000

    Add aliasing support for the Contacts interface
    
    
    20080729103109-b58c9-b2dad2c56f6578d952e7a877244bb811832c5f3f.gz

 src/conn-aliasing.c |  159 +++++++++++++++++++++++++++++++++++++++++----------
 src/conn-aliasing.h |    1 +
 src/connection.c    |    1 +
 3 files changed, 130 insertions(+), 31 deletions(-)

commit f28aa30ed3558455ca0f9280029ee26fe0f50b1f
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Mon Jul 28 17:22:49 2008 +0000

    Register the base connection with the Contacts mixin
    
    
    20080728172249-93b9a-f6555a6fff6c1d233c4155f423ace6440f4f8a7f.gz

 src/connection.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit a70965c22416ed6ef204c77df9a9edd46b978891
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 16:47:33 2008 +0000

    GabbleMediaFactory: reduce dependence on TpChannelFactoryIface for close_all
    
    
    20080728164733-53eee-a75cd4c413c9a75237b607b695b117db80b52d8d.gz

 src/media-factory.c |   13 +++++++++----
 1 files changed, 9 insertions(+), 4 deletions(-)

commit 02a35fa39188b8a4e3de584933770adfaaac72bc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 14:48:52 2008 +0000

    GabbleTubesChannel: remove vestigial property-setter for channel-properties
    
    
    20080729144852-53eee-a47fd6f93c56247410dd710c8b94c051b6385546.gz

 src/tubes-channel.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit e5398d9a8100d1c145fb761416c6ab35c78658ff
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 14:48:47 2008 +0000

    GabbleRosterChannel: remove vestigial property-setter for channel-properties
    
    
    20080729144847-53eee-643cd0e1d7e178a54e7bc07549a1ed3219e5ef3d.gz

 src/roster-channel.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 5514b82f4ba2e0501cb8f6347828740fc2f112e2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 14:48:41 2008 +0000

    GabbleRoomlistChannel: remove vestigial property-setter for channel-properties
    
    
    20080729144841-53eee-3ead3216e0a455b020756e785171916f491eacd6.gz

 src/roomlist-channel.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 52173b2346b197a7fe0306913bd4896214721c18
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 14:48:35 2008 +0000

    GabbleMucChannel : remove vestigial property-setter for channel-properties
    
    
    20080729144835-53eee-f701a51f8565cc23d967b2c87a6f157e3977e0ae.gz

 src/muc-channel.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 4d25b762480ba2809484410adcd91bf60ae766ff
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 14:48:18 2008 +0000

    GabbleIMChannel: remove vestigial property-setter for channel-properties
    
    
    20080729144818-53eee-b4e3e98cd723e1ee13ac49f51ce3afef297084d5.gz

 src/im-channel.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit ed25b2abf22cc92dfc6de7fc3b8300497b1db15c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 14:47:15 2008 +0000

    GabbleExportableChannel: decide that channel-properties is read-only
    
    
    The channel manager is going to have to parse the properties in the request
    anyway, so I don't think it's a great loss for it to pass all construct-time
    properties separately.
    
    20080729144715-53eee-a871a8be1845f7748d5b3d03469dcc8ed4b048bd.gz

 src/exportable-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b5d8468ef7d20dc60ccea2faaf9a222a0c83e2f4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 16:47:48 2008 +0000

    GabblePrivateTubesFactory: reduce dependence on the channel factory interface
    
    
    20080728164748-53eee-2d1dff8df70fb877603448b6e5a0843f5d4a1cd7.gz

 src/private-tubes-factory.c |   38 ++++++++++++++++++++++++++++++++------
 1 files changed, 32 insertions(+), 6 deletions(-)

commit 0f2a0da650af1fad6a112d5f7f60aefcbb27f5b1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 16:47:33 2008 +0000

    GabbleMediaFactory: reduce dependence on TpChannelFactoryIface for close_all
    
    
    20080728164733-53eee-a75cd4c413c9a75237b607b695b117db80b52d8d.gz

 src/media-factory.c |   13 +++++++++----
 1 files changed, 9 insertions(+), 4 deletions(-)

commit a8da4ecb383473cf2d34bdb972f3552354b68c26
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 14:48:52 2008 +0000

    GabbleTubesChannel: remove vestigial property-setter for channel-properties
    
    
    20080729144852-53eee-a47fd6f93c56247410dd710c8b94c051b6385546.gz

 src/tubes-channel.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 8372dca8ff358e0e3670b3ba48b7a095a8beb4d2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 14:48:47 2008 +0000

    GabbleRosterChannel: remove vestigial property-setter for channel-properties
    
    
    20080729144847-53eee-643cd0e1d7e178a54e7bc07549a1ed3219e5ef3d.gz

 src/roster-channel.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit b0bfd227482afb14185a4f3233ed5ee250cc12e2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 14:48:41 2008 +0000

    GabbleRoomlistChannel: remove vestigial property-setter for channel-properties
    
    
    20080729144841-53eee-3ead3216e0a455b020756e785171916f491eacd6.gz

 src/roomlist-channel.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 24d383286a4a065068dbae1f997968e69aa8cbe0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 14:48:35 2008 +0000

    GabbleMucChannel : remove vestigial property-setter for channel-properties
    
    
    20080729144835-53eee-f701a51f8565cc23d967b2c87a6f157e3977e0ae.gz

 src/muc-channel.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 95c179d592a8dbb45ac2c0b92bbbce4a1047c66b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 14:48:18 2008 +0000

    GabbleIMChannel: remove vestigial property-setter for channel-properties
    
    
    20080729144818-53eee-b4e3e98cd723e1ee13ac49f51ce3afef297084d5.gz

 src/im-channel.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit ada9338ead69f46532eac91d1182dd932d412ae3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 14:47:15 2008 +0000

    GabbleExportableChannel: decide that channel-properties is read-only
    
    
    The channel manager is going to have to parse the properties in the request
    anyway, so I don't think it's a great loss for it to pass all construct-time
    properties separately.
    
    20080729144715-53eee-a871a8be1845f7748d5b3d03469dcc8ed4b048bd.gz

 src/exportable-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 85dd82f8d498b0717e7fd19c31a321b6dd6e8a2c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 16:47:48 2008 +0000

    GabblePrivateTubesFactory: reduce dependence on the channel factory interface
    
    
    20080728164748-53eee-2d1dff8df70fb877603448b6e5a0843f5d4a1cd7.gz

 src/private-tubes-factory.c |   38 ++++++++++++++++++++++++++++++++------
 1 files changed, 32 insertions(+), 6 deletions(-)

commit 74d738dd04a465eee36cbb1079c026b1c09fb9f8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 16:42:52 2008 +0000

    GabbleMucFactory: reduce dependence on TpChannelFactoryIface for close_all
    
    
    20080728164252-53eee-8a48ac86c3423c9a0c4ee526d918f52c1c53b6ba.gz

 src/muc-factory.c |   14 ++++++++++----
 1 files changed, 10 insertions(+), 4 deletions(-)

commit e15813f05015a7c159dc6c24cdb9e0599e4e1d90
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 16:42:52 2008 +0000

    GabbleMucFactory: reduce dependence on TpChannelFactoryIface for close_all
    
    
    20080728164252-53eee-8a48ac86c3423c9a0c4ee526d918f52c1c53b6ba.gz

 src/muc-factory.c |   14 ++++++++++----
 1 files changed, 10 insertions(+), 4 deletions(-)

commit edaada6cae64a62eac90cdb9a24b75b1888a2399
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Mon Jul 28 16:39:29 2008 +0000

    Add support for the Contacts interface
    
    
    20080728163929-93b9a-196f5df4b207c0bee6c3ddd5897d00af45a338d9.gz

 src/conn-presence.c |    4 ++++
 src/connection.c    |   11 +++++++++++
 src/connection.h    |    3 +++
 3 files changed, 18 insertions(+), 0 deletions(-)

commit 3f080752de1a35d95c4ba74569d890afc7f6de7e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 16:34:37 2008 +0000

    GabbleRoster: reduce association between this and TpChannelFactoryIface
    
    
    20080728163437-53eee-e8b7a329fdf6ca0a05522b1f25c3fa54d79c67f6.gz

 src/roster.c |   12 +++++++-----
 1 files changed, 7 insertions(+), 5 deletions(-)

commit 93f287c278603f26bc61c7e847c180377121b67c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 16:34:37 2008 +0000

    GabbleRoster: reduce association between this and TpChannelFactoryIface
    
    
    20080728163437-53eee-e8b7a329fdf6ca0a05522b1f25c3fa54d79c67f6.gz

 src/roster.c |   12 +++++++-----
 1 files changed, 7 insertions(+), 5 deletions(-)

commit 9a9280e9845d5cd64840adcf8b83e4678c6b372e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 16:28:22 2008 +0000

    GabbleMucFactory: use TpBaseConnection::status-changed rather than connected/connecting/disconnected callbacks
    
    
    20080728162822-53eee-21f2c31b66bdaf94e961874616bc02242b26ff97.gz

 src/muc-factory.c |  113 +++++++++++++++++++++++++++--------------------------
 1 files changed, 58 insertions(+), 55 deletions(-)

commit c4b133effedb623f7e10797736b378fe5bb28fbb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 16:28:22 2008 +0000

    GabbleMucFactory: use TpBaseConnection::status-changed rather than connected/connecting/disconnected callbacks
    
    
    20080728162822-53eee-21f2c31b66bdaf94e961874616bc02242b26ff97.gz

 src/muc-factory.c |  113 +++++++++++++++++++++++++++--------------------------
 1 files changed, 58 insertions(+), 55 deletions(-)

commit efbc0fa4d3d79bc231431d434fa634dc55f2f093
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 16:19:45 2008 +0000

    GabbleRoster: use status-changed signal instead of connecting, connected, disconnected
    
    
    20080728161945-53eee-a558db9a45e9ffb4eb3bacd27c39fd7ef6021e03.gz

 src/roster.c |  136 ++++++++++++++++++++++++++++-----------------------------
 1 files changed, 67 insertions(+), 69 deletions(-)

commit 4aaf26a8a559464049a9b8cd56b021015cffdda0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 16:19:45 2008 +0000

    GabbleRoster: use status-changed signal instead of connecting, connected, disconnected
    
    
    20080728161945-53eee-a558db9a45e9ffb4eb3bacd27c39fd7ef6021e03.gz

 src/roster.c |  136 ++++++++++++++++++++++++++++-----------------------------
 1 files changed, 67 insertions(+), 69 deletions(-)

commit 6609c225f0731fe488f94e481a94f76b6656d6ad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 16:10:27 2008 +0000

    GabbleMediaFactory: stop using the connected, connecting, disconnected callbacks
    
    
    20080728161027-53eee-eca7d5143f3e78fce8d561aab4bb7dc999e4701b.gz

 src/media-factory.c |  158 +++++++++++++++++++++++++++++----------------------
 1 files changed, 91 insertions(+), 67 deletions(-)

commit da08cd11e477c2af73afea6340b05eb235b27a48
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 10:30:57 2008 +0000

    GabbleMucChannel: merge with Rob (include both exportable-channel.h and presence.h)
    
    
    20080729103057-53eee-b2aab34b693f38e684e483487d7f6857065edbcf.gz

 src/muc-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 9114adfaac6bbbe53095c6673b8730fb3e67e0d5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 16:10:27 2008 +0000

    GabbleMediaFactory: stop using the connected, connecting, disconnected callbacks
    
    
    20080728161027-53eee-eca7d5143f3e78fce8d561aab4bb7dc999e4701b.gz

 src/media-factory.c |  158 +++++++++++++++++++++++++++++----------------------
 1 files changed, 91 insertions(+), 67 deletions(-)

commit 566fe820bb17c4ac92ac6282bed4120791f79aef
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 10:30:57 2008 +0000

    GabbleMucChannel: merge with Rob (include both exportable-channel.h and presence.h)
    
    
    20080729103057-53eee-b2aab34b693f38e684e483487d7f6857065edbcf.gz

 src/muc-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 79757f1bfea9871a35da8f580960026b0a9503b4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 15:10:47 2008 +0000

    GabbleTubesChannel: implement GabbleExportableChannel
    
    
    20080725151047-53eee-eb91762fe7499d04ff07cb21faf95eff16994b12.gz

 src/tubes-channel.c |   27 +++++++++++++++++++++++++++
 1 files changed, 27 insertions(+), 0 deletions(-)

commit 85f86cee0288366bf919f0cb4db0d72e5cf36a95
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 15:10:47 2008 +0000

    GabbleTubesChannel: implement GabbleExportableChannel
    
    
    20080725151047-53eee-eb91762fe7499d04ff07cb21faf95eff16994b12.gz

 src/tubes-channel.c |   27 +++++++++++++++++++++++++++
 1 files changed, 27 insertions(+), 0 deletions(-)

commit c8f7818427e5fea12f85998abc113ffca4d1576c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 15:10:34 2008 +0000

    GabbleRosterChannel: implement GabbleExportableChannel
    
    
    20080725151034-53eee-3fadd96247ddeaa2ed7c16571027e7cd7bcad913.gz

 src/roster-channel.c |   27 +++++++++++++++++++++++++++
 1 files changed, 27 insertions(+), 0 deletions(-)

commit 7c413c3019996ae200a7f61786a0f1ce20d505f9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 15:10:34 2008 +0000

    GabbleRosterChannel: implement GabbleExportableChannel
    
    
    20080725151034-53eee-3fadd96247ddeaa2ed7c16571027e7cd7bcad913.gz

 src/roster-channel.c |   27 +++++++++++++++++++++++++++
 1 files changed, 27 insertions(+), 0 deletions(-)

commit d01f5284cdc1e68fc9bed3cddb9705ef1361bad7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 15:10:20 2008 +0000

    GabbleRoomlistChannel: implement GabbleExportableChannel
    
    
    20080725151020-53eee-070f94fd80795d8f27669181017a703ee5b78b5e.gz

 src/roomlist-channel.c |   28 ++++++++++++++++++++++++++++
 1 files changed, 28 insertions(+), 0 deletions(-)

commit e009901401dc10530c3461f00c04fadb9d56ef5f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 15:10:20 2008 +0000

    GabbleRoomlistChannel: implement GabbleExportableChannel
    
    
    20080725151020-53eee-070f94fd80795d8f27669181017a703ee5b78b5e.gz

 src/roomlist-channel.c |   28 ++++++++++++++++++++++++++++
 1 files changed, 28 insertions(+), 0 deletions(-)

commit 819522c960aa72a104285c465cebfcfad7449617
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 15:10:08 2008 +0000

    GabbleMucChannel: implement GabbleExportableChannel
    
    
    20080725151008-53eee-6760cece093403a1319e2a1fc1a7835a308a5d5c.gz

 src/muc-channel.c |   26 +++++++++++++++++++++++++-
 1 files changed, 25 insertions(+), 1 deletions(-)

commit 00a2354db20403bf9af7df95e15d8d5ad07ea5b6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 15:10:08 2008 +0000

    GabbleMucChannel: implement GabbleExportableChannel
    
    
    20080725151008-53eee-6760cece093403a1319e2a1fc1a7835a308a5d5c.gz

 src/muc-channel.c |   26 +++++++++++++++++++++++++-
 1 files changed, 25 insertions(+), 1 deletions(-)

commit 7481b42d14a814150710abffbe3f50be111eab93
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 15:09:54 2008 +0000

    GabbleMediaChannel: implement GabbleExportableChannel
    
    
    20080725150954-53eee-c66f19f7f48389a1209800ba4d26c5ae95ac88d2.gz

 src/media-channel.c |   24 ++++++++++++++++++++++++
 1 files changed, 24 insertions(+), 0 deletions(-)

commit 2ce2ca9328463340330e96bf31f716e130319473
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 15:09:54 2008 +0000

    GabbleMediaChannel: implement GabbleExportableChannel
    
    
    20080725150954-53eee-c66f19f7f48389a1209800ba4d26c5ae95ac88d2.gz

 src/media-channel.c |   24 ++++++++++++++++++++++++
 1 files changed, 24 insertions(+), 0 deletions(-)

commit ffaeef2a0ac20a4e8cc3ced77af795f59a541b81
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 15:09:18 2008 +0000

    GabbleExportableChannel: add convenience API for implementors to use
    
    
    20080725150918-53eee-d15367cc045b44cc502232c030a69a8082974e25.gz

 src/exportable-channel.c |   35 +++++++++++++++++++++++++++++++++++
 src/exportable-channel.h |    4 ++++
 src/im-channel.c         |   46 +++++++++-------------------------------------
 3 files changed, 48 insertions(+), 37 deletions(-)

commit 57d350ae027aed6d0a10bb2a29b0132854e9cf8a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 15:09:18 2008 +0000

    GabbleExportableChannel: add convenience API for implementors to use
    
    
    20080725150918-53eee-d15367cc045b44cc502232c030a69a8082974e25.gz

 src/exportable-channel.c |   35 +++++++++++++++++++++++++++++++++++
 src/exportable-channel.h |    4 ++++
 src/im-channel.c         |   46 +++++++++-------------------------------------
 3 files changed, 48 insertions(+), 37 deletions(-)

commit 6fa1ee249dbcd7ec6ac29bec09044e393de729e4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 12:56:41 2008 +0000

    text/respawn.py: do some cursory testing of the Requests signals
    
    
    20080725125641-53eee-43d390831743cdc61c2cd8d12dd9a6dad8df5e9f.gz

 tests/twisted/text/respawn.py |   44 ++++++++++++++++++++++++++++++++--------
 1 files changed, 35 insertions(+), 9 deletions(-)

commit aa3fb5ca93649d1257198dc56ac04dbfe39d28c8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 20:32:15 2008 +0000

    conn-requests: implement CreateChannel
    
    
    20080729203215-53eee-17d069516f7057d7323f7a4efcf2df183b306782.gz

 src/conn-requests.c |   58 ++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 57 insertions(+), 1 deletions(-)

commit df8f73816c63c312e707db0c38d6874948758dac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 20:12:44 2008 +0000

    conn-requests: add a stub for EnsureChannel too
    
    
    20080729201244-53eee-0b0b97d65cbc7b80f5ab12ec9cae567101f6485d.gz

 src/conn-requests.c |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit 821710820e9347137c35121267d0393198b75af2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 20:09:34 2008 +0000

    conn-requests: expect GabbleChannelManager::new-channels to contain a GHashTable
    
    
    20080729200934-53eee-7d2bf220da11824fe95b8f0c170f8b45f887d2fd.gz

 src/conn-requests.c |   91 +++++++++++++++++++++++++++++----------------------
 1 files changed, 52 insertions(+), 39 deletions(-)

commit 43efcff3f4382a2eeaf2c999d95c38309ca1335f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 20:08:47 2008 +0000

    GabbleChannelManager: change new-channels to take a GHashTable (GabbleExportableChannel => GSList of request token)
    
    
    20080729200847-53eee-38c021f2742680a3963c25c072894f98c6806170.gz

 src/channel-manager.c |   47 +++++++++++++++++++++++------------------------
 src/channel-manager.h |    2 +-
 2 files changed, 24 insertions(+), 25 deletions(-)

commit 577ccb7433d11f3a6fe875ac8ca1eb80a3fbed0d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 19:53:37 2008 +0000

    GabbleConnection: move the GabbleImFactory from the factories list to the managers list, so its new API is used
    
    
    20080729195337-53eee-3d2675cefffa157fcd817c35dba17c11d03f4a65.gz

 src/connection.c |   13 +++++++------
 1 files changed, 7 insertions(+), 6 deletions(-)

commit 46dc94c919ecb18b51f32850ce9f63ff6641ab38
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 19:53:13 2008 +0000

    conn-requests: allow GabbleChannelManager instances to satisfy RequestChannel requests
    
    
    20080729195313-53eee-d22a7f746cbafe14d26edb9192258627d63d7472.gz

 src/conn-requests.c |   38 +++++++++++++++++++++++++++++++++++++-
 1 files changed, 37 insertions(+), 1 deletions(-)

commit 442b5cb35e410f619c1f16289e4c90192e3c0413
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 19:52:16 2008 +0000

    conn-requests: connect to the various signals on GabbleChannelManager instances
    
    
    20080729195216-53eee-ff071d157aa12f958a33648c2ced27d7153e0947.gz

 src/conn-requests.c |  133 ++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 131 insertions(+), 2 deletions(-)

commit 78904ca72c99a779e378925ef6803c328341cee8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 19:51:59 2008 +0000

    conn-requests: factor out fail_request()
    
    
    20080729195159-53eee-96dddd63d2e4b24c3f42d6cdaaadacd2f801c4ea.gz

 src/conn-requests.c |   36 +++++++++++++++++++++---------------
 1 files changed, 21 insertions(+), 15 deletions(-)

commit 7d41b2f18d91611307a893b7652863682602a06f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 19:51:39 2008 +0000

    conn-requests: factor out satisfy_request()
    
    
    20080729195139-53eee-b5b048263c10684c8a29840a28ba94fc6fed3272.gz

 src/conn-requests.c |   43 +++++++++++++++++++++++++++----------------
 1 files changed, 27 insertions(+), 16 deletions(-)

commit db1b73c2799ebe683be15d20ffa8a087d5a0f551
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 18:53:09 2008 +0000

    GabbleImFactory: implement CreateChannel and EnsureChannel (untested)
    
    
    20080729185309-53eee-e0904cb5774acd3e68a1e1d9df28f30f6494b936.gz

 src/im-factory.c |   68 ++++++++++++++++++++++++++++++++++++++++++++++++-----
 1 files changed, 61 insertions(+), 7 deletions(-)

commit 615142e7902e125820e9859d6cdfa06c19fb2613
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 18:39:49 2008 +0000

    GabbleImFactory: add stub implementations of CreateChannel, EnsureChannel
    
    
    20080729183949-53eee-c3337fd408b9fbf23722a68cb8be49fb30846588.gz

 src/im-factory.c |   29 +++++++++++++++++++++++++++++
 1 files changed, 29 insertions(+), 0 deletions(-)

commit fc217ee2f15d5a80fd3529549c21d7a46aa8a873
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 18:38:53 2008 +0000

    GabbleChannelManager: add create_channel, ensure_channel methods
    
    
    20080729183853-53eee-cffd01c49336fa34ec042883b7d77dec6b686530.gz

 src/channel-manager.c |   36 ++++++++++++++++++++++++++++++++++++
 src/channel-manager.h |   14 ++++++++++++++
 2 files changed, 50 insertions(+), 0 deletions(-)

commit daa46126548ed4021a063cdc323aaae806c4c56b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 18:20:42 2008 +0000

    GabbleImFactory: update to new GabbleChannelManager API
    
    
    20080729182042-53eee-5e6559e4d98fc2371e34f2baa4b4379a3bbf3c0a.gz

 src/im-factory.c |   14 +++++++++-----
 1 files changed, 9 insertions(+), 5 deletions(-)

commit 02682c933161a548933a50c194d111e602cdf42f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 18:19:03 2008 +0000

    GabbleChannelManager: include the requests that were satisfied in the arguments of new-channels, and replace request-succeeded with request-already-satisfied to cover the remaining case
    
    
    20080729181903-53eee-1ead36bf4748757c2251de5565466a66646ea2cc.gz

 src/channel-manager.c |   54 +++++++++++++++++++++++++++++--------------------
 src/channel-manager.h |   11 ++++-----
 2 files changed, 37 insertions(+), 28 deletions(-)

commit f06a23dea0f27c3535009a7908547f0fc58636dc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 20:07:49 2008 +0000

    Register request-failed signal correctly (I lose at GObject boilerplate)
    
    
    20080728200749-53eee-dab8597fd5b2e0fc5e8342a5dca4ee9b3367ce33.gz

 src/channel-manager.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit be3c30260f8bf9304127a00a6ed5fcae4933ae84
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 17:28:12 2008 +0000

    conn-requests: fix indentation
    
    
    20080728172812-53eee-9fa426ec7318b666f4bd8e5587be5c1e5e896dc1.gz

 src/conn-requests.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f13fe0d75a8286577437ee2890fc1168e2722bc8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 16:42:28 2008 +0000

    GabbleImFactory: reduce dependence on TpChannelFactoryIface
    
    
    20080728164228-53eee-8bd8550fd38f7a29a15a4d064d3543fa1f070d65.gz

 src/im-factory.c |   13 +++++++++----
 1 files changed, 9 insertions(+), 4 deletions(-)

commit ca0b69a16270234cd10b00d7caf4ad6dca53f09e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 15:40:33 2008 +0000

    GabbleImFactory: instead of using TpChannelFactoryIface's connecting/connected/disconnected callbacks, just bind to status-changed directly
    
    
    20080728154033-53eee-74ad32313b22bfb16d87e73e999ab0524a392e7c.gz

 src/im-factory.c |   83 ++++++++++++++++++++++++++----------------------------
 1 files changed, 40 insertions(+), 43 deletions(-)

commit dd77fffe95e80b15d03d07ba1f2b0cc4bc006822
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 17:26:41 2008 +0000

    conn-requests: add placeholder for iterating over channel managers when connecting to signals
    
    
    20080729172641-53eee-009ee9cacef64b136db5a13edcc597dfa056f330.gz

 src/conn-requests.c |    9 ++++++++-
 1 files changed, 8 insertions(+), 1 deletions(-)

commit 83e9d3e8001ab3e5b1cd16ddc49f255aa48ba8bd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 17:26:23 2008 +0000

    conn-requests: add placeholder for iterating over channel managers when implementing RequestChannel
    
    
    20080729172623-53eee-102749032bc75835d532e652681c32f4cf1d4caf.gz

 src/conn-requests.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 1606edd30dc629dc504cc2a3960c4e7092905d56
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 17:25:51 2008 +0000

    conn-requests: indicate why it is correct to refrain from calling close_all, disconnected, connecting, connected on channel managers
    
    
    20080729172551-53eee-0c0f1cfa335050e2e238e91a1bbb1ff7ecb51799.gz

 src/conn-requests.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 0cce50210e9260405f49b2b03b03c16bdd0fffeb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 17:25:01 2008 +0000

    conn-requests: when listing channels using the old API, assume that all channels owned by managers implement TpChannelIface, and list them too
    
    
    20080729172501-53eee-cb30166bdf1dc84987b28fb225757e45cb4d7ecc.gz

 src/conn-requests.c |   22 ++++++++++++++++++++++
 1 files changed, 22 insertions(+), 0 deletions(-)

commit a30a4971a5dc744fdc6c72b60cf615e071c439ff
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 17:24:46 2008 +0000

    conn-requests: When implementing Channels D-Bus property, list channels owned by managers as well as factories
    
    
    20080729172446-53eee-dc4951c35937e140d86bbe6895e0ff59a26a5ef6.gz

 src/conn-requests.c |   36 ++++++++++++++++++++++++++++--------
 1 files changed, 28 insertions(+), 8 deletions(-)

commit b00d353378f788aa4bdbda0c6b3e6a3b1b762ebe
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 16:35:57 2008 +0000

    conn-requests: only list channels owned by channel factories, for now
    
    
    20080729163557-53eee-cc781e7399c651836ea3e5e717b0e8127d0d795e.gz

 src/conn-requests.c |   11 ++++++-----
 1 files changed, 6 insertions(+), 5 deletions(-)

commit 82301be4c9ea7c25cb9b603cbdda41354fe1bc29
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 16:35:20 2008 +0000

    conn-requests: don't bind to channel-closed on channel managers for now
    
    
    20080729163520-53eee-bdd9eab39db1ddc9c17dec267d5a38679bbd0747.gz

 src/conn-requests.c |   18 +++---------------
 1 files changed, 3 insertions(+), 15 deletions(-)

commit bfac19bf859dc5c08b780a4e8aa41a1d8951e9d1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 17:04:44 2008 +0000

    conn-requests: assert that every channel manager implements GabbleChannelManager
    
    
    20080728170444-53eee-ba6b4ba61b1cc3c44cf6264a614027b7f19bebbe.gz

 src/conn-requests.c |   12 +++++-------
 1 files changed, 5 insertions(+), 7 deletions(-)

commit f036e8f627ef12329b8ecb40958b4f36ef2c6771
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 12:42:34 2008 +0000

    conn-requests: emit NewChannels and ChannelClosed signals.
    
    
    If the channel manager is a GabbleChannelManager, we assume it will emit
    channel-closed. If it's just a TpChannelFactoryIface, we act as though it had
    emitted channel-closed in response to each closed signal - this causes the
    signal ordering to be wrong in the case of a respawning channel, so factories
    for respawning channels will have to implement GabbleChannelManager.
    
    20080725124234-53eee-d65e8cba944f2f20a8ca0b0d1da90406475d29ca.gz

 src/conn-requests.c |   99 +++++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 97 insertions(+), 2 deletions(-)

commit 1f89f68c00d4c497211efe6faedb35caabd82e90
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 17:29:13 2008 +0000

    conn-requests: use GabbleChannelManager API for foreach
    
    
    20080728172913-53eee-947a09355be1707913e6b0bf98db52e1867e5343.gz

 src/conn-requests.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 8c59b895c1651eff97ab9ac57ce9541b5d4ff83b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 15:16:34 2008 +0000

    GabbleIMFactory: implement GabbleChannelManager so far (foreach and signal emission only)
    
    
    20080728151634-53eee-e23bad4597126ac1d4c7d5d4dda6c7a6f81bebe4.gz

 src/im-factory.c |   71 +++++++++++++++++++++++++++++++----------------------
 1 files changed, 41 insertions(+), 30 deletions(-)

commit bc33b1b6b672e7706a0ed668a84073198e6bef5f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 12:56:24 2008 +0000

    Add a property getter for Requests.Channels
    
    
    20080725125624-53eee-7576c2677548d5c3c7ab428204bea5c2cf2f9254.gz

 src/conn-requests.c |   54 ++++++++++++++++++++++++++++++++++++++++++++++++++-
 src/conn-requests.h |    3 ++
 2 files changed, 56 insertions(+), 1 deletions(-)

commit 95f39052dbf03c20eae48b657bfea7af9dda65be
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 20:18:23 2008 +0000

    GabbleChannelManager: remove spurious extra parameter to request-failed
    
    
    20080728201823-53eee-703149d808789d2f0e03d03b84a19de77a0178d2.gz

 src/channel-manager.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f9228610586a5ebc4e86f65dcdbd5ff97325486d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 20:17:37 2008 +0000

    GabbleChannelManager: GABBLE_TYPE_EXPORTABLE_CHANNEL is not a value type, use G_TYPE_OBJECT
    
    
    20080728201737-53eee-c8051e109b26a0c2db7cb673ee70081fa2c756cb.gz

 src/channel-manager.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b8924e01cc0c8443e2740c0ebe78cfa07712dbac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 15:15:48 2008 +0000

    GabbleChannelManager: rethink signal API, add signal emission helpers, add virtual method foreach_channel
    
    
    20080728151548-53eee-0bd5d0b60ab70534ac34164d693a779d570ddf7a.gz

 src/channel-manager.c    |  275 ++++++++++++++++++++++++++++++++++++++++++++--
 src/channel-manager.h    |   45 +++++++-
 src/exportable-channel.h |    3 +
 3 files changed, 308 insertions(+), 15 deletions(-)

commit 7477163be7a7b14f556de913fdaf475433384426
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 14:57:04 2008 +0000

    Implement request signalling in a less awkward way, with a separate signal
    
    
    20080725145704-53eee-13df484a3db363338aa18d64b7a329b967e5e6bd.gz

 src/channel-manager.c |   19 ++++++++++++++++---
 src/im-factory.c      |   23 ++++-------------------
 2 files changed, 20 insertions(+), 22 deletions(-)

commit 1b4ee6e35c9a649dfe6c9ed31dd5b9298bedfb62
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 13:22:27 2008 +0000

    GabbleChannelManager, GabbleImFactory: make GabbleChannelManager implementations responsible for tracking which requests would be satisfied by which channels
    
    
    Anything else doesn't really look viable.
    
    20080725132227-53eee-a415f248e4f71df035d307f9fd73dc0a02bc5554.gz

 src/channel-manager.c |    8 +++++---
 src/im-factory.c      |   33 ++++++++++++++++++++++++++-------
 2 files changed, 31 insertions(+), 10 deletions(-)

commit 0cfaa472bb2870ad7878e45ade24cbf747d650ac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 13:16:50 2008 +0000

    GabbleImFactory: also emit new-channels when a channel satisfies a request
    
    
    20080725131650-53eee-c8c436e223fba853e9414219fcef8a8baefb36c5.gz

 src/im-factory.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 54bb8285ee7dbf6c09bf9e8d32796f914e3da22e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 12:42:12 2008 +0000

    GabbleImFactory: implement GabbleChannelManager
    
    
    20080725124212-53eee-3914dd080040e8125d38e5e0a474d30899072e9d.gz

 src/im-factory.c |   18 ++++++++++++++++++
 1 files changed, 18 insertions(+), 0 deletions(-)

commit f05811b825eca189f5d84f05d127cdb9831c51c6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 13:22:09 2008 +0000

    Start to sketch the API of GabbleChannelManager
    
    
    20080725132209-53eee-39aa79f6d7d160255f3757d0740524ccbdf366e8.gz

 src/channel-manager.h |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 2a6bbefd0995829903d40db5681a5d24e7b5cc6d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 12:41:49 2008 +0000

    GabbleChannelManager: add channel-closed signal
    
    
    20080725124149-53eee-3b99becea6239c82244b3347355e7e2dabee9af8.gz

 src/channel-manager.c |   20 ++++++++++++++------
 1 files changed, 14 insertions(+), 6 deletions(-)

commit db82c940b1b559a74383cfe3fed6d48d984d663a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 12:41:37 2008 +0000

    GabbleChannelManager: remove unnecessary include
    
    
    20080725124137-53eee-612db042f62b0fe1a09bf2303960485482294344.gz

 src/channel-manager.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit d6df3a4e8e441fe1cbee5968781c2b1f31abdb3e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 11:53:35 2008 +0000

    GabbleChannelManager: add a new-channels signal
    
    
    20080725115335-53eee-cc3c03294260db4c44875967f86a89808c8d579e.gz

 src/channel-manager.c |   21 +++++++++++++++++++++
 1 files changed, 21 insertions(+), 0 deletions(-)

commit d71ae88b12158fefde0bfb33ef8482fe0f1e1ca9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 10:05:36 2008 +0000

    Add GObject boilerplate for a GabbleChannelManager interface
    
    
    20080725100536-53eee-81026e4cfe4b6d0b8704a342c140b8fdf395e590.gz

 src/Makefile.am       |    2 +
 src/channel-manager.c |   62 +++++++++++++++++++++++++++++++++++++++++++++++++
 src/channel-manager.h |   55 +++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 119 insertions(+), 0 deletions(-)

commit 7b67382dd37c135f53115748a10fb73479474f38
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 12:06:49 2008 +0000

    Reimplement RequestChannel and ListChannels
    
    
    Instead of taking the ones from TpBaseConnection, we now use an internal
    implementation so we have complete control over the request process, so that
    the Requests interface can be implemented on top of it.
    
    This code should move back to telepathy-glib once it's stable.
    
    20080725120649-53eee-386efddc780ff08349112c1d0ddfa6416bb87636.gz

 src/Makefile.am     |    2 +
 src/conn-requests.c |  598 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/conn-requests.h |   38 ++++
 src/connection.c    |   14 ++
 src/connection.h    |    5 +
 5 files changed, 657 insertions(+), 0 deletions(-)

commit c36bd2ef8f3e23cf869685563613f3ebc7c65db5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 24 18:39:08 2008 +0000

    GabbleIMChannel: implement GabbleExportableChannel; GabbleImFactory: use that fact
    
    
    20080724183908-53eee-ffd455284d9cdddc33f6ee20bf88115a5d63dcf6.gz

 src/im-channel.c |   75 ++++++++++++++++++++++++++++++++++++++++++++---------
 src/im-factory.c |   22 ++++++++-------
 2 files changed, 74 insertions(+), 23 deletions(-)

commit 2e2e5ccb37ef079521a3479712e391a01df390ca
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 24 18:39:08 2008 +0000

    GabbleIMChannel: implement GabbleExportableChannel; GabbleImFactory: use that fact
    
    
    20080724183908-53eee-ffd455284d9cdddc33f6ee20bf88115a5d63dcf6.gz

 src/im-channel.c |   75 ++++++++++++++++++++++++++++++++++++++++++++---------
 src/im-factory.c |   22 ++++++++-------
 2 files changed, 74 insertions(+), 23 deletions(-)

commit 0f0ed1b9b52fda15b72bb1798820065b4c963ad6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 24 18:36:00 2008 +0000

    GabbleExportableChannel: rely on TpSvcChannel for the closed signal
    
    
    20080724183600-53eee-d3ff20787a821b0c7e10e4423697e4dbb72d700c.gz

 src/exportable-channel.c |   27 +++++----------------------
 1 files changed, 5 insertions(+), 22 deletions(-)

commit cca120df424a5b783f563210ea08d940f23212da
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 24 18:36:00 2008 +0000

    GabbleExportableChannel: rely on TpSvcChannel for the closed signal
    
    
    20080724183600-53eee-d3ff20787a821b0c7e10e4423697e4dbb72d700c.gz

 src/exportable-channel.c |   27 +++++----------------------
 1 files changed, 5 insertions(+), 22 deletions(-)

commit 9de62b60dcb84065c16605a1da59b89669137517
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 24 17:27:00 2008 +0000

    Add a straw-man API for requestotron-capable channels
    
    
    20080724172700-53eee-04e4eed48957dd258db10b6b571f766e90fd7290.gz

 src/Makefile.am          |    2 +
 src/exportable-channel.c |  132 ++++++++++++++++++++++++++++++++++++++++++++++
 src/exportable-channel.h |   54 +++++++++++++++++++
 3 files changed, 188 insertions(+), 0 deletions(-)

commit 6e2c96ddf7fe0beae881245e96712ab864b8fc9b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 31 15:18:51 2008 +0000

    Nano version
    
    
    20080731151851-53eee-e63577fd9547284681d17e37688d389fdeb56d06.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 27d9bb960b5e3a7dc57d1199ff1551a1d123b6d4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 31 11:22:40 2008 +0000

    Prepare release
    
    
    20080731112240-53eee-399760c467d806a1d652e799ba73cbfc145a8ed7.gz

 NEWS |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 0c67e08958b8de183ebb58f9426c8831e12d2323
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 31 11:03:23 2008 +0000

    Bump version to 0.7.7
    
    
    20080731110323-53eee-bf85291fdab877724c187439676067f9cd1bbc50.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit c527a6efec33d70238c03858f87e1f1f49dcf0a3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 31 11:02:24 2008 +0000

    Bump GLib, GObject, libdbus, dbus-glib dependencies to match those in telepathy-glib (since we effectively need those anyway)
    
    
    20080731110224-53eee-a63b30848f63920b9fad78601701c149741329c9.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 33a5332877b423b5a0c52135d1acd8b72de24582
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 31 11:01:43 2008 +0000

    Require automake 1.9 - same reasoning as for telepathy-glib, we don't want to waste time on supporting an ancient version
    
    
    20080731110143-53eee-c503f706b212aafbf1667e0d132a0c861b4cbc95.gz

 autogen.sh   |   12 ++++++------
 configure.ac |    2 +-
 2 files changed, 7 insertions(+), 7 deletions(-)

commit e47bfe39526d6853c8df7974a5fdc30c48524a6d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 31 10:58:56 2008 +0000

    Add Guillaume's recent bugfix to NEWS
    
    
    20080731105856-53eee-0c525e5421654c54d008bb5eb52bf72677b535e0.gz

 NEWS |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit acd457e04deecee54a8079a7ed34a2951268e0b0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 31 09:25:58 2008 +0000

    NEWS: we need tp-glib 0.7.13, not .10
    
    
    20080731092558-53eee-b9b5b04a3e7ecb9c622c367aa26596f18dfb7bcb.gz

 NEWS |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9da9b782ab62e8f357848bc50754ea9132bcef4d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 16:36:06 2008 +0000

    Add NEWS so far for Gabble 0.7.7
    
    
    20080730163606-53eee-f4416e047cff0d520e2b7135f244fe5a32ee391f.gz

 NEWS |   48 ++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 48 insertions(+), 0 deletions(-)

commit 88ae46fd1655f239e7504d0bc2bdfbd2ee4c0dee
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 31 10:40:32 2008 +0000

    vcard-manager: cache_entry_complete_requests: copy the pending_requests list and iterate on it
    
    
    20080731104032-7fe3f-ee3f7a869a6500421f770013cbd2c76303ec759a.gz

 src/vcard-manager.c |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit 0cf369dc3dbbcd5fd4dd95d0327580288afe9e8c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 31 10:14:24 2008 +0000

    vcard-manager: cache_entry_complete_requests: copy the next element from the pending requests list so we can safely rely on it to check if the list is empty"
    
    
    20080731101424-7fe3f-65aba9d458385c13a2453dcf3d74ca5e8252f81c.gz

 src/vcard-manager.c |   15 +++++++--------
 1 files changed, 7 insertions(+), 8 deletions(-)

commit 9de659fd50c49f4f0733e606239c5f52b81d63b2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 31 09:59:56 2008 +0000

    vcard-manager: cache_entry_complete_requests: stop to iterate if the entry was removed from the cache (fd.o #16918)
    
    
    20080731095956-7fe3f-d40a0db23931700f9ef19db5e8c79efe5c7f87a7.gz

 src/vcard-manager.c |    9 ++++++++-
 1 files changed, 8 insertions(+), 1 deletions(-)

commit 719ba939c900aa61d8c61555e8786d1aa8c1d99a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Jul 30 14:16:46 2008 +0000

    Nicer code as per dafs comments
    
    
    20080730141646-b58c9-9d56abc927f579b531136bbc9facc50bcdbbbe48.gz

 tests/twisted/test-caps-hash.py              |    2 +-
 tests/twisted/test-set-status-idempotence.py |   12 +++++-------
 2 files changed, 6 insertions(+), 8 deletions(-)

commit 7ed50cbef9f553ee62088c2cc99c575991d1e605
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Jul 30 13:24:35 2008 +0000

    Don't assign things if not using the information
    
    
    20080730132435-b58c9-b6562fc252d712919ff0d0784b730b5ad385c99e.gz

 tests/twisted/test-capabilities.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit fc8e3be07bac167abd02417eec08005906d5d169
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Jul 30 13:18:05 2008 +0000

    Ensure we clean up after a raised assertion too
    
    
    20080730131805-b58c9-0044280ffe37363c76a647f9c0db62e148f64a08.gz

 tests/twisted/gabbletest.py |   11 +++++------
 1 files changed, 5 insertions(+), 6 deletions(-)

commit d92e876d34e381cfeefa532b354a4c1d3fb77868
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Jul 30 12:53:31 2008 +0000

    Don't do assignments if we're not using the values
    
    
    20080730125331-b58c9-cf7984cf7b9c7f8f743e64082e3928c6b4200720.gz

 tests/twisted/test-caps-cache.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 4f212d2b6c58c0995271c1dacc2274f95ff7e1a7
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Jul 30 12:24:38 2008 +0000

    Update coding style and use addBoth instead of addCallbacks, as per dafs review
    
    
    20080730122438-b58c9-f7777124d8feb005c49645348871c8511b6ace29.gz

 tests/twisted/gabbletest.py |    7 ++-----
 1 files changed, 2 insertions(+), 5 deletions(-)

commit fe30253db56f489d1060620edad5a7a10e23eef0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Jul 30 12:21:19 2008 +0000

    Test both SimplePresence and Presence
    
    
    20080730122119-b58c9-eeee8a4c63db2a063a5cc206828b4dc0c2af45c5.gz

 tests/twisted/test-set-status-idempotence.py |   50 ++++++++++++++++++++------
 1 files changed, 39 insertions(+), 11 deletions(-)

commit 4a26b0b302d522626231bf59e9524b27c74398ac
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Jul 30 10:54:58 2008 +0000

    Clean up after a test has run
    
    
    20080730105458-b58c9-02de7b8a4823bc95211a72b82dad2bb52988514a.gz

 tests/twisted/gabbletest.py |   28 ++++++++++++++++++++++------
 1 files changed, 22 insertions(+), 6 deletions(-)

commit dc7284c18a0928aacab36d719958ba4c3beb12f4
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Jul 30 09:58:56 2008 +0000

    Test that we get signals from both Presence and SimplePresence
    
    
    20080730095856-b58c9-9484ab1fae96846e27ebe5fc173e5a4fc82c3111.gz

 tests/twisted/test-caps-hash.py |   29 ++++++++++++++++++++++-------
 1 files changed, 22 insertions(+), 7 deletions(-)

commit 53546344b0ccb082681fd612755dca4df569fd99
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Jul 30 09:58:30 2008 +0000

    Test that we get signals from both Presence and SimplePresence
    
    
    20080730095830-b58c9-c4c793f5fcb0adef90b75ac00cba5130713ca347.gz

 tests/twisted/test-caps-cache.py |   20 ++++++++++++++++----
 1 files changed, 16 insertions(+), 4 deletions(-)

commit 019c389fbf1c40ab3fba78efdc17887219aa55a7
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Jul 30 09:58:06 2008 +0000

    Test that we get signals from both Presence and SimplePresence
    
    
    20080730095806-b58c9-6834c052d425b4b58c80edee4ebbdd7f3474d76d.gz

 tests/twisted/test-capabilities.py |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit 88917a86d25d2e9984642c658b55dfa95c019be6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 24 17:27:00 2008 +0000

    Add a straw-man API for requestotron-capable channels
    
    
    20080724172700-53eee-04e4eed48957dd258db10b6b571f766e90fd7290.gz

 src/Makefile.am          |    2 +
 src/exportable-channel.c |  132 ++++++++++++++++++++++++++++++++++++++++++++++
 src/exportable-channel.h |   54 +++++++++++++++++++
 3 files changed, 188 insertions(+), 0 deletions(-)

commit 0aa64fe5e43685bdce77eb231f0e329782ac4ded
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 31 15:18:51 2008 +0000

    Nano version
    
    
    20080731151851-53eee-e63577fd9547284681d17e37688d389fdeb56d06.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4edbd0392ad88ff74b6fa4c546ae3c2ddcca9e2b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 31 11:22:40 2008 +0000

    Prepare release
    
    
    20080731112240-53eee-399760c467d806a1d652e799ba73cbfc145a8ed7.gz

 NEWS |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 5eeeef3b4192887c2c1036544502bb04e69b54d7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 31 11:03:23 2008 +0000

    Bump version to 0.7.7
    
    
    20080731110323-53eee-bf85291fdab877724c187439676067f9cd1bbc50.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit e0e933b0d5815ad32a6521e2ddd77ecde313bc98
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 31 11:02:24 2008 +0000

    Bump GLib, GObject, libdbus, dbus-glib dependencies to match those in telepathy-glib (since we effectively need those anyway)
    
    
    20080731110224-53eee-a63b30848f63920b9fad78601701c149741329c9.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 3d6e07393b5a9376aba3971a546a71bbe0d08c87
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 31 11:01:43 2008 +0000

    Require automake 1.9 - same reasoning as for telepathy-glib, we don't want to waste time on supporting an ancient version
    
    
    20080731110143-53eee-c503f706b212aafbf1667e0d132a0c861b4cbc95.gz

 autogen.sh   |   12 ++++++------
 configure.ac |    2 +-
 2 files changed, 7 insertions(+), 7 deletions(-)

commit 129f16f6c85e504bdc2b7ad3513a4660739767ea
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 31 10:58:56 2008 +0000

    Add Guillaume's recent bugfix to NEWS
    
    
    20080731105856-53eee-0c525e5421654c54d008bb5eb52bf72677b535e0.gz

 NEWS |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit e715f4a1d80e8604293dd76ee14c6c7939b7aa72
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 31 09:25:58 2008 +0000

    NEWS: we need tp-glib 0.7.13, not .10
    
    
    20080731092558-53eee-b9b5b04a3e7ecb9c622c367aa26596f18dfb7bcb.gz

 NEWS |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit df8780df516493061102b8659f8c79b35d17a8b8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jul 30 16:36:06 2008 +0000

    Add NEWS so far for Gabble 0.7.7
    
    
    20080730163606-53eee-f4416e047cff0d520e2b7135f244fe5a32ee391f.gz

 NEWS |   48 ++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 48 insertions(+), 0 deletions(-)

commit 71a1825363d6f32b6e0c93bab1a4f0026e54ab73
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 31 10:40:32 2008 +0000

    vcard-manager: cache_entry_complete_requests: copy the pending_requests list and iterate on it
    
    
    20080731104032-7fe3f-ee3f7a869a6500421f770013cbd2c76303ec759a.gz

 src/vcard-manager.c |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit f76ccccc82f2935db9b0e3bd3f5d1bd824d49def
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 31 10:14:24 2008 +0000

    vcard-manager: cache_entry_complete_requests: copy the next element from the pending requests list so we can safely rely on it to check if the list is empty"
    
    
    20080731101424-7fe3f-65aba9d458385c13a2453dcf3d74ca5e8252f81c.gz

 src/vcard-manager.c |   15 +++++++--------
 1 files changed, 7 insertions(+), 8 deletions(-)

commit 6b216a967084dd05fc326ff5858e5f22b176a77f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 31 09:59:56 2008 +0000

    vcard-manager: cache_entry_complete_requests: stop to iterate if the entry was removed from the cache (fd.o #16918)
    
    
    20080731095956-7fe3f-d40a0db23931700f9ef19db5e8c79efe5c7f87a7.gz

 src/vcard-manager.c |    9 ++++++++-
 1 files changed, 8 insertions(+), 1 deletions(-)

commit 385834358f9548ba636a8a526c47a9e69c9245b6
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Jul 30 14:16:46 2008 +0000

    Nicer code as per dafs comments
    
    
    20080730141646-b58c9-9d56abc927f579b531136bbc9facc50bcdbbbe48.gz

 tests/twisted/test-caps-hash.py              |    2 +-
 tests/twisted/test-set-status-idempotence.py |   12 +++++-------
 2 files changed, 6 insertions(+), 8 deletions(-)

commit 71307e44b36c0c5ca7a70f680f3d293f63fb4d44
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Jul 30 13:24:35 2008 +0000

    Don't assign things if not using the information
    
    
    20080730132435-b58c9-b6562fc252d712919ff0d0784b730b5ad385c99e.gz

 tests/twisted/test-capabilities.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2793b5d6efb083b884b94154cc4c8c7829fcecd1
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Jul 30 13:18:05 2008 +0000

    Ensure we clean up after a raised assertion too
    
    
    20080730131805-b58c9-0044280ffe37363c76a647f9c0db62e148f64a08.gz

 tests/twisted/gabbletest.py |   11 +++++------
 1 files changed, 5 insertions(+), 6 deletions(-)

commit 061e607edffce88f4a5a3d83c45db0fe6a23e0bc
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Jul 30 12:53:31 2008 +0000

    Don't do assignments if we're not using the values
    
    
    20080730125331-b58c9-cf7984cf7b9c7f8f743e64082e3928c6b4200720.gz

 tests/twisted/test-caps-cache.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 1768dd3a94fc569a88b7775c9fb56beb1da65b12
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Jul 30 12:24:38 2008 +0000

    Update coding style and use addBoth instead of addCallbacks, as per dafs review
    
    
    20080730122438-b58c9-f7777124d8feb005c49645348871c8511b6ace29.gz

 tests/twisted/gabbletest.py |    7 ++-----
 1 files changed, 2 insertions(+), 5 deletions(-)

commit b8a5dbda45b136b2851a5ea2cbfc8262110c9651
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Jul 30 12:21:19 2008 +0000

    Test both SimplePresence and Presence
    
    
    20080730122119-b58c9-eeee8a4c63db2a063a5cc206828b4dc0c2af45c5.gz

 tests/twisted/test-set-status-idempotence.py |   50 ++++++++++++++++++++------
 1 files changed, 39 insertions(+), 11 deletions(-)

commit 6d63211b67a6e8e62528f51e0f9b4715ce9d163a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Jul 30 10:54:58 2008 +0000

    Clean up after a test has run
    
    
    20080730105458-b58c9-02de7b8a4823bc95211a72b82dad2bb52988514a.gz

 tests/twisted/gabbletest.py |   28 ++++++++++++++++++++++------
 1 files changed, 22 insertions(+), 6 deletions(-)

commit 18798d0d558867d5c264ba90228a714634282f83
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Jul 30 09:58:56 2008 +0000

    Test that we get signals from both Presence and SimplePresence
    
    
    20080730095856-b58c9-9484ab1fae96846e27ebe5fc173e5a4fc82c3111.gz

 tests/twisted/test-caps-hash.py |   29 ++++++++++++++++++++++-------
 1 files changed, 22 insertions(+), 7 deletions(-)

commit af199d9bc59bb318168a197d4a96849323e84150
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Jul 30 09:58:30 2008 +0000

    Test that we get signals from both Presence and SimplePresence
    
    
    20080730095830-b58c9-c4c793f5fcb0adef90b75ac00cba5130713ca347.gz

 tests/twisted/test-caps-cache.py |   20 ++++++++++++++++----
 1 files changed, 16 insertions(+), 4 deletions(-)

commit 1e28ee004944b6922420a0ff940f15ce84702391
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Wed Jul 30 09:58:06 2008 +0000

    Test that we get signals from both Presence and SimplePresence
    
    
    20080730095806-b58c9-6834c052d425b4b58c80edee4ebbdd7f3474d76d.gz

 tests/twisted/test-capabilities.py |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit bc9ce046495f28071b3210908aeef244fc7f0c67
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Thu Jul 24 13:16:02 2008 +0000

    Fix conflicts
    
    
    20080724131602-93b9a-4e515d6049c3a8ae82a387b4ac61f06c9f1b4894.gz

 src/conn-presence.c  |    5 +----
 src/presence-cache.c |    1 +
 2 files changed, 2 insertions(+), 4 deletions(-)

commit c5ca7c233eea96a5a490ada5a6c284e8c9f66938
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Thu Jul 24 13:16:02 2008 +0000

    Fix conflicts
    
    
    20080724131602-93b9a-4e515d6049c3a8ae82a387b4ac61f06c9f1b4894.gz

 src/conn-presence.c  |    5 +----
 src/presence-cache.c |    1 +
 2 files changed, 2 insertions(+), 4 deletions(-)

commit ebe2a150a4f7e38eae1046fd006ee967a1fe8872
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Thu Jul 24 12:53:51 2008 +0000

    Small code layout fix
    
    
    20080724125351-93b9a-8e37942e24485e3b553e3897dbdfa82183e47a4c.gz

 src/presence-cache.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 997ab2021421bd7b5b398912a718c45d317cbb8f
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Thu Jul 24 12:53:51 2008 +0000

    Small code layout fix
    
    
    20080724125351-93b9a-8e37942e24485e3b553e3897dbdfa82183e47a4c.gz

 src/presence-cache.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit fa9633adb19f9150a3852425158e106ff0a96464
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Thu Jul 24 12:53:40 2008 +0000

    don't emit presences-updated when no presences are updated
    
    
    20080724125340-93b9a-1da995d007934976e209d8e4dd78c3398bfe45a5.gz

 src/presence-cache.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 7a8f3a2754e55e385428c4c23bfe56ba49f58288
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Thu Jul 24 12:53:40 2008 +0000

    don't emit presences-updated when no presences are updated
    
    
    20080724125340-93b9a-1da995d007934976e209d8e4dd78c3398bfe45a5.gz

 src/presence-cache.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit e8e3c9a9e1c910a3c816d44eb83d4f2698bda539
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Thu Jul 24 12:52:56 2008 +0000

    More clear debug message
    
    
    20080724125256-93b9a-a4e11f73a550762aec0cd7138aeecd69a76e61ae.gz

 src/presence-cache.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 01b299c5277187cca79350874e83761d089329bc
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Thu Jul 24 12:52:56 2008 +0000

    More clear debug message
    
    
    20080724125256-93b9a-a4e11f73a550762aec0cd7138aeecd69a76e61ae.gz

 src/presence-cache.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2755a3a2d4850eff8bead56e5e60165b6b94a8f6
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Thu Jul 24 12:52:37 2008 +0000

    Use DBUS_TYPE_G_UINT_ARRAY instead of G_POINTER in presences-updated
    
    
    20080724125237-93b9a-6ea2bb5cb3a2a009a1b1407de4d8673bb5b2858d.gz

 src/presence-cache.c |    9 ++++++++-
 1 files changed, 8 insertions(+), 1 deletions(-)

commit 45857191e701607fdade7a0ce140159ba38b74bf
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Thu Jul 24 12:52:37 2008 +0000

    Use DBUS_TYPE_G_UINT_ARRAY instead of G_POINTER in presences-updated
    
    
    20080724125237-93b9a-6ea2bb5cb3a2a009a1b1407de4d8673bb5b2858d.gz

 src/presence-cache.c |    9 ++++++++-
 1 files changed, 8 insertions(+), 1 deletions(-)

commit ca1a3e5be1aaae9a412b7565d9b468d1777782b7
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Thu Jul 24 11:48:27 2008 +0000

    Flush olpc info when a contact becomes unavailable
    
    
    20080724114827-93b9a-47d6c814584e56f37c3acc8461049e6854656c32.gz

 src/conn-olpc.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit c145c7e195922357889ee543cb4c9db519e08479
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Thu Jul 24 11:48:27 2008 +0000

    Flush olpc info when a contact becomes unavailable
    
    
    20080724114827-93b9a-47d6c814584e56f37c3acc8461049e6854656c32.gz

 src/conn-olpc.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 2f1383ede095898f66d8f9155a6adfbfc10b5f9c
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Thu Jul 24 11:44:40 2008 +0000

    Use GABBLE_PRESENCE_LAST_UNAVAILABLE instead of checking for specific presences
    
    
    20080724114440-93b9a-5e4d172d98c8ae984850eedc3615a4e322c3eaef.gz

 src/presence.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit dbe71a5d6413d81f93148f148189ce01c7d7a630
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Thu Jul 24 11:44:40 2008 +0000

    Use GABBLE_PRESENCE_LAST_UNAVAILABLE instead of checking for specific presences
    
    
    20080724114440-93b9a-5e4d172d98c8ae984850eedc3615a4e322c3eaef.gz

 src/presence.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ae032d89ae5318ab970319b0c0fbcf27cfebe30e
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Thu Jul 24 11:43:34 2008 +0000

    Use GABBLE_PRESENCE_LAST_UNAVAILABLE to mark the last presence that's unavailable
    
    
    20080724114334-93b9a-8f7147ea30632391ae4c82a9522e0bda620a3a25.gz

 src/connection.h |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 44ecbf361dd1da6ed05e70454f3f446c39c9831f
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Thu Jul 24 11:43:34 2008 +0000

    Use GABBLE_PRESENCE_LAST_UNAVAILABLE to mark the last presence that's unavailable
    
    
    20080724114334-93b9a-8f7147ea30632391ae4c82a9522e0bda620a3a25.gz

 src/connection.h |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 821a039b41def94ddf859df647c987412c000c6b
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Wed Jul 23 18:24:28 2008 +0000

    Update to the new tp-glib simple presence function naming scheme
    
    
    20080723182428-93b9a-b7540eac371af06cc0307eea47adca69a3dbb106.gz

 src/conn-presence.c |    3 ++-
 src/connection.c    |    2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit ed69b21a0a0888160d495315f657caeaedac7627
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Wed Jul 23 18:24:28 2008 +0000

    Update to the new tp-glib simple presence function naming scheme
    
    
    20080723182428-93b9a-b7540eac371af06cc0307eea47adca69a3dbb106.gz

 src/conn-presence.c |    3 ++-
 src/connection.c    |    2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 454671306f62ed845e37b4e98d2dc3d6423bf897
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Mon Jul 21 15:24:35 2008 +0000

    Cope with the internal presence type enum being changed
    
    
    20080721152435-93b9a-3ea7aa5239381337b3baa68769f81e41d8dbc67c.gz

 tests/test-presence.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit c778a4798348bfa495e92b425aee38b3277db67a
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Mon Jul 21 15:24:35 2008 +0000

    Cope with the internal presence type enum being changed
    
    
    20080721152435-93b9a-3ea7aa5239381337b3baa68769f81e41d8dbc67c.gz

 tests/test-presence.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 8eef5c9cfe6c5515f618654aad03d1cc9c28e488
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Mon Jul 21 15:23:10 2008 +0000

    Fix coding style bug
    
    
    20080721152310-93b9a-385e87854893d550f6fb973be959cf7ebaabeb3f.gz

 src/conn-presence.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4896500b34cebacd7b0c52be0ec3b758a9c9cf3d
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Mon Jul 21 15:23:10 2008 +0000

    Fix coding style bug
    
    
    20080721152310-93b9a-385e87854893d550f6fb973be959cf7ebaabeb3f.gz

 src/conn-presence.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit aa93d42707d7492824c6f9d5719d29ffbb52f19c
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Mon Jul 21 15:10:58 2008 +0000

    Hook conn-olpc the new presences-updated signal
    
    
    20080721151058-93b9a-f7481c15e127ee4ded5966b83547caa1ce4a803f.gz

 src/conn-olpc.c |   22 +++++++++++++++++++---
 1 files changed, 19 insertions(+), 3 deletions(-)

commit 7ca57e79eb6dbdbc9ff27146651c4dcdd5ddf4d5
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Mon Jul 21 15:10:58 2008 +0000

    Hook conn-olpc the new presences-updated signal
    
    
    20080721151058-93b9a-f7481c15e127ee4ded5966b83547caa1ce4a803f.gz

 src/conn-olpc.c |   22 +++++++++++++++++++---
 1 files changed, 19 insertions(+), 3 deletions(-)

commit 780bf95ba31f9cf7ff8c53b9a3ebd3247eae37ea
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Mon Jul 21 14:59:49 2008 +0000

    Change presence to unknown for all muc members when leaving the muc
    
    
    20080721145949-93b9a-6ec116e988fabdf00e27c7423316fa814975a98f.gz

 src/muc-channel.c |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 264f801cc72d65fcfb1fea53de2c0081aeb74b98
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Mon Jul 21 14:59:49 2008 +0000

    Change presence to unknown for all muc members when leaving the muc
    
    
    20080721145949-93b9a-6ec116e988fabdf00e27c7423316fa814975a98f.gz

 src/muc-channel.c |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit f2992ebc4b2d1db4bbeaf5d64c27c84778c47790
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Mon Jul 21 14:55:32 2008 +0000

    Hook to the new presences-updated signal
    
    
    20080721145532-93b9a-6937ac112b47b97e1bd9194235ab8d202bf7d344.gz

 src/conn-presence.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit f8328e902be16555f7e635d5a128ea12818d6d64
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Mon Jul 21 14:55:32 2008 +0000

    Hook to the new presences-updated signal
    
    
    20080721145532-93b9a-6937ac112b47b97e1bd9194235ab8d202bf7d344.gz

 src/conn-presence.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit 27ab003468a32ab03183e51b87baa327c08f6733
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Mon Jul 21 14:47:33 2008 +0000

    Make it possible to update the presence cache of multiple handles at the same time
    
    
    20080721144733-93b9a-4fa09a592fe065d4de9c4f0318c758cdab9d82e2.gz

 src/presence-cache.c |   82 ++++++++++++++++++++++++++++++++++++++++++++-----
 src/presence-cache.h |    3 ++
 2 files changed, 76 insertions(+), 9 deletions(-)

commit 9e02090e7150a437c548b75b43debe705546d5da
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Mon Jul 21 14:47:33 2008 +0000

    Make it possible to update the presence cache of multiple handles at the same time
    
    
    20080721144733-93b9a-4fa09a592fe065d4de9c4f0318c758cdab9d82e2.gz

 src/presence-cache.c |   82 ++++++++++++++++++++++++++++++++++++++++++++-----
 src/presence-cache.h |    3 ++
 2 files changed, 76 insertions(+), 9 deletions(-)

commit f182f2b20878c69806f4c7fecbc68c1c9b79dee4
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Mon Jul 21 13:21:48 2008 +0000

    Set status to error on errors and to either unknown or offline depending if we have a roster subscription
    
    
    20080721132148-93b9a-c4b708b76a851213e5404bcaf484f67b9e99c21b.gz

 src/presence-cache.c |   18 +++++++++++++++---
 1 files changed, 15 insertions(+), 3 deletions(-)

commit 49ad98a735b1dc95d3d0cf3c213fcbfeed9c360a
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Mon Jul 21 13:21:48 2008 +0000

    Set status to error on errors and to either unknown or offline depending if we have a roster subscription
    
    
    20080721132148-93b9a-c4b708b76a851213e5404bcaf484f67b9e99c21b.gz

 src/presence-cache.c |   18 +++++++++++++++---
 1 files changed, 15 insertions(+), 3 deletions(-)

commit 7c3aa05a43e39f8c037af1e781504a0e024dd57b
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Mon Jul 21 13:18:52 2008 +0000

    Remove resources and capabilities that gone into either unknown, offline or error
    
    
    20080721131852-93b9a-d8f36f77de01e2480466587931a63777754c749d.gz

 src/presence.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit ccbb3cdde2443b22d136958c6b25691752a91fd5
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Mon Jul 21 13:18:52 2008 +0000

    Remove resources and capabilities that gone into either unknown, offline or error
    
    
    20080721131852-93b9a-d8f36f77de01e2480466587931a63777754c749d.gz

 src/presence.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit fb18c0501cf92fcc1b39daaf1ddcdef0cdb91732
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Mon Jul 21 13:15:42 2008 +0000

    If handles are not in the presence cache set them as unknown or offline depending on whether we have a roster  subscription
    
    
    20080721131542-93b9a-b42b572a45401dfdfe54bb31e95e23d38bb2b338.gz

 src/conn-presence.c |   13 +++++++++++--
 1 files changed, 11 insertions(+), 2 deletions(-)

commit 0b01246abc2cb01321e7909953faee1ab445bb2c
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Mon Jul 21 13:15:42 2008 +0000

    If handles are not in the presence cache set them as unknown or offline depending on whether we have a roster  subscription
    
    
    20080721131542-93b9a-b42b572a45401dfdfe54bb31e95e23d38bb2b338.gz

 src/conn-presence.c |   13 +++++++++++--
 1 files changed, 11 insertions(+), 2 deletions(-)

commit 7fa4c95c1add87113a3387f230ba00911f84a02a
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Mon Jul 21 13:14:19 2008 +0000

    Add unknown and error status types
    
    
    20080721131419-93b9a-9835ec3cb79bcd0d96ad9a65f1da0af1855d9688.gz

 src/conn-presence.c |    4 ++++
 src/connection.h    |    2 ++
 2 files changed, 6 insertions(+), 0 deletions(-)

commit 5ff806923b0d4b6c55c61a9f48f5c7145193b687
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Mon Jul 21 13:14:19 2008 +0000

    Add unknown and error status types
    
    
    20080721131419-93b9a-9835ec3cb79bcd0d96ad9a65f1da0af1855d9688.gz

 src/conn-presence.c |    4 ++++
 src/connection.h    |    2 ++
 2 files changed, 6 insertions(+), 0 deletions(-)

commit 304c31f9342fd417efcf1866bb861448f531cd16
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Fri Jul 18 19:10:19 2008 +0000

    Don't use non-existing C operators
    
    
    20080718191019-93b9a-e1f505a9870d3703a2cf0de0a3e18c51980dce3f.gz

 src/conn-presence.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d9544ddd1779d10894a768436cfb4c0d7f2315c1
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Fri Jul 18 19:10:19 2008 +0000

    Don't use non-existing C operators
    
    
    20080718191019-93b9a-e1f505a9870d3703a2cf0de0a3e18c51980dce3f.gz

 src/conn-presence.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit be70e511a60779ed3909117f666e9592086f555a
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Mon Jun 16 13:56:32 2008 +0000

    Implement SimplePresence
    
    
    20080616135632-93b9a-41c4521c70e43987b338f7f0c396b41a684a7bbf.gz

 src/conn-presence.c |    6 ++++++
 src/connection.c    |   10 ++++++++++
 src/connection.h    |    2 ++
 3 files changed, 18 insertions(+), 0 deletions(-)

commit a6e563f2b2fa7d810f4fe75c34e26d08b6fac3c7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 17:59:57 2008 +0000

    GabbleMucFactory: document disco_requests
    
    
    20080728175957-53eee-33e5618753aca5a4bcd3c09a0322f9ecfa57d201.gz

 src/muc-factory.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 165c2c00b0b482c7273d81170f9e0db59d86dbf2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 16:23:20 2008 +0000

    GabblePrivateTubesFactory: remove useless connecting/connected/disconnected callbacks
    
    
    20080728162320-53eee-95692f5b48963faf8d03536b513fd5fea45cbae2.gz

 src/private-tubes-factory.c |   21 ---------------------
 1 files changed, 0 insertions(+), 21 deletions(-)

commit 4dbd8c52d88d93ba21fa45efafdc9fe699d7f1e7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 15:40:20 2008 +0000

    GabbleImFactory: remove unnecessary forward-declaration
    
    
    20080728154020-53eee-d0c41891e21da35d72403dcb6d3e4b9f4cfcd0dc.gz

 src/im-factory.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit adf4e9c714d510ea31c802320369e9534a821889
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 24 17:21:21 2008 +0000

    GabbleIMChannel: use tp_text_mixin_has_pending_messages (requires telepathy-glib 0.7.13)
    
    
    20080724172121-53eee-8d1041ac7c79ae2de4a55e39e6e1df27a1554b66.gz

 src/im-channel.c |   28 +++-------------------------
 1 files changed, 3 insertions(+), 25 deletions(-)

commit 17e50e9fcf465101bc7198349c6900d261b4e54b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 13:17:40 2008 +0000

    Require telepathy-glib 0.7.13 (for Requests-related functions)
    
    
    20080729131740-53eee-39a243245987d2e78a6c2575f863e30ba1fdda29.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8d6a711189b44b90d331c2cc7fda5e5b50873d68
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Jul 29 11:12:41 2008 +0000

    Add assert to args checking and use nicer variable names
    
    
    20080729111241-b58c9-4fe3b09b587e72abf110758b25c9636dd5733d07.gz

 tests/twisted/test-set-status-idempotence.py |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit d9239852e3ed83c9347d3a1687f1174525b4aca8
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Jul 29 10:23:03 2008 +0000

    port test-set-status-idempotence to the new test API
    
    
    20080729102303-b58c9-b789671b2808086fdd054917550c37c5273baa94.gz

 tests/twisted/test-set-status-idempotence.py |   68 +++++++++++---------------
 1 files changed, 28 insertions(+), 40 deletions(-)

commit 4d8af3d68ab01d2248c7c82ccc9a0fc4faaa886c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 03:53:58 2008 +0000

    push out new MUC presences when the global presence is changed
    
    
    20080727035358-418b8-d648ede14a4f76af7d1556677413bcf34ca30dc2.gz

 src/connection.c              |    5 +++++
 tests/twisted/muc/test-muc.py |   12 ++++++++++++
 2 files changed, 17 insertions(+), 0 deletions(-)

commit b348a6f9fb6ae285cff60c924b5b9bd99c0d985b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 03:32:15 2008 +0000

    test that closing the MUC results in sending unavailable presence to it
    
    
    20080727033215-418b8-289918ab63bd3104200c59bdf3e10799765c4ba8.gz

 tests/twisted/muc/test-muc.py |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 3f8c476558acb9117f1c421caf5277758e112788
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 03:26:58 2008 +0000

    generate MUC presence messages using the real connection-wide presence
    
    With a pedantic interpretation, this is arguable a spec violation because it
    exposes your presence to handles who are not on your "publish" list. However, I
    think that given other protocols (essentially, anything but XMPP) exist where
    joining a chat will always expose your presence, I don't think it's reasonable
    for clients or users to rely on this additional exposure not happening anyway.
    Consider the absurdity of expecting that you can be invisible even when you've
    joined a group chat. If someone wants the XMPP-specific semantics badly, we can
    add a RoomPresence interface or somesuch, and they can set a property in order
    to publish a per-room presence.
    
    20080727032658-418b8-171a0e74e3910f331a49d333491376e1e73ec9f2.gz

 src/muc-channel.c |   17 +++++++++++++++--
 1 files changed, 15 insertions(+), 2 deletions(-)

commit b9582dfe2d37b6f3f6ffee048d3370c62b14f18d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 03:18:32 2008 +0000

    fix MUC test to actually finish the function
    
    
    20080727031832-418b8-6b0ecb57ba3699a967ceab350cfa9485bc5faaec.gz

 tests/twisted/muc/test-muc.py |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 5b8ec1328610f34d9a435bc0cb13b26aa81008b6
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 02:34:41 2008 +0000

    add a "to" argument to gabble_presence_as_message, as you can't change the recipient of an LmMessage after it's been created
    
    
    20080727023441-418b8-32e10597064f33e4994ba5be32e092a4136e9ddc.gz

 src/connection.c |    2 +-
 src/presence.c   |    7 ++++---
 src/presence.h   |    3 ++-
 3 files changed, 7 insertions(+), 5 deletions(-)

commit 76512771eb52612aa668cbaef2950c1cb4ae030b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 02:27:41 2008 +0000

    remove resource argument from gabble_presence_as_message entirely, as it's only ever useful on your self_presence which only has one resource
    
    
    20080727022741-418b8-166eb619558dc4ec5ad64c1bc1c9eec8c76283aa.gz

 src/connection.c |    3 +--
 src/presence.c   |    7 ++-----
 src/presence.h   |    3 +--
 3 files changed, 4 insertions(+), 9 deletions(-)

commit a5e84d50172a0b0937c93270365400ddced46d2a
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 02:18:15 2008 +0000

    make gabble_presence_as_message accept NULL as a shorthand for "first resource", as self_presence only has one resource
    
    
    20080727021815-418b8-aefea37a7b26e3baa99e12eb7a5146f40b8106cd.gz

 src/presence.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 4e816a1ef5f00b841141d4bfcdec6e17281e2c45
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 01:12:03 2008 +0000

    remove needless assertions (including removing the ability to cause an assertion error by sending an old-style MUC invite with no body)
    
    
    20080727011203-418b8-b1d6ec84a5a94eeaf9e56ee8abcffb46fd2a5d31.gz

 src/muc-channel.c |    3 ---
 src/muc-factory.c |   18 ++----------------
 2 files changed, 2 insertions(+), 19 deletions(-)

commit 712d1c771ef18842457785972924204cf8b24197
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 00:57:30 2008 +0000

    add test for MUC alias coming from our connection alias
    
    
    20080727005730-418b8-e5dcbddac8cf09cdb9f439070c35760e4456bb3b.gz

 tests/twisted/Makefile.am           |    1 +
 tests/twisted/muc/test-muc-alias.py |   87 +++++++++++++++++++++++++++++++++++
 2 files changed, 88 insertions(+), 0 deletions(-)

commit f397c4ece6efefcc36ce2567242496bb93f03831
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 00:44:30 2008 +0000

    make create_room_identity return self_handle directly
    
    
    20080727004430-418b8-c00dcfa62df21c31893466886a30c422e11dbb76.gz

 src/muc-channel.c |   18 +++++++-----------
 1 files changed, 7 insertions(+), 11 deletions(-)

commit 481caf6669b321893b4c71f41ab904cfc4be699b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 00:32:41 2008 +0000

    build MUC self_jid with the alias for our self_handle, not just the local part of the JID (note it's guaranteed not to be NULL, as _get_cached_alias falls back to the local part of the JID anyway)
    
    
    20080727003241-418b8-2fd067153296de634c2e929f8adcaec85e7026fa.gz

 src/muc-channel.c |   21 +++++++++------------
 1 files changed, 9 insertions(+), 12 deletions(-)

commit 49c600e2ec86af7331abf2decdf099621aedcc68
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 00:19:33 2008 +0000

    invert sense of the if (priv->invited)
    
    
    20080727001933-418b8-ebe152e1540229f191ac074d964b1f67382cb903.gz

 src/muc-channel.c |   32 ++++++++++++++++----------------
 1 files changed, 16 insertions(+), 16 deletions(-)

commit 2b590ba719d6d0e0b358417fa556a31da7cc4a9c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 00:18:49 2008 +0000

    inline _handle_invited function into the constructor
    
    
    20080727001849-418b8-d2f53d0ffa827f4f3a5988110071179486e4d97c.gz

 src/muc-channel.c |   55 +++++++++++++++-------------------------------------
 1 files changed, 16 insertions(+), 39 deletions(-)

commit 245a631fb91e4ab954185ac9e986e7ee90bdbaa7
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 00:06:49 2008 +0000

    when we're invited, mark the channel as ready in the constructor (emitting a signal is pointless before the constructor has returned)
    
    
    20080727000649-418b8-9102892e630d39bcd79d2d1d16881e242d465774.gz

 src/muc-channel.c |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)

commit 62465dc465027d3bd8fb98e7d474cb15b34f02b2
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 00:04:58 2008 +0000

    store MUC state booleans in bit fields
    
    
    20080727000458-418b8-ca579ad0d48756a99804f201d0ce8fe1057f5160.gz

 src/muc-channel.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 79519d86cec761484c1b9306c811f2a050c2f60c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 00:04:32 2008 +0000

    rename ready_emitted to ready
    
    
    20080727000432-418b8-3474d1db2079a5f8836f7e32304160acea5b9b39.gz

 src/muc-channel.c |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit e16d62943b219e5959634faa0c20ed816f11d7f1
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 00:01:05 2008 +0000

    rename MUC "invite-self" property to "invited" with the inverse sense, because I have no idea what "invite-self" is meant to mean
    
    
    20080727000105-418b8-90d6353dc24ae944cd5b87715dc16f9c3534cd85.gz

 src/muc-channel.c |   22 +++++++++++-----------
 src/muc-factory.c |   18 +++++++++---------
 2 files changed, 20 insertions(+), 20 deletions(-)

commit 16774e6d9017d458cd98fdef53f622a0a714d6ca
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sat Jul 26 23:55:07 2008 +0000

    don't queue MUC invite reasons as a text message, we've got the LocalPendingMembers property
    
    
    20080726235507-418b8-a9ea8222a6fda83777783eea398c4e723fbba5b3.gz

 src/muc-channel.c |   11 -----------
 1 files changed, 0 insertions(+), 11 deletions(-)

commit 998e1d31a0b26448b6c290b772b3264c4a80cc60
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sat Jul 26 23:52:41 2008 +0000

    remove unused code (the function is only ever called after assert priv->initiator != 0)
    
    
    20080726235241-418b8-b9a3f84949d002484380d256dbd499de0044d0a4.gz

 src/muc-channel.c |    6 ------
 1 files changed, 0 insertions(+), 6 deletions(-)

commit 6cac95bbe432f54ff1a849260588f2256b453cb1
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sat Jul 26 23:51:15 2008 +0000

    set self_jid directly from create_room_identity (and a nice assertion which uncovered the double-setting bug)
    
    
    20080726235115-418b8-42b3f61facbe01672b836dbe833f3fc4817b6f4c.gz

 src/muc-channel.c |   14 ++++++--------
 1 files changed, 6 insertions(+), 8 deletions(-)

commit 5154944ad592f34b0b091650b6632d573d51156f
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sat Jul 26 23:46:03 2008 +0000

    fix repeated creation (and leaking) of self_jid when invited to a MUC
    
    
    20080726234603-418b8-34208096c5effb1d2fc61c5d2279f91a22bec933.gz

 src/muc-channel.c |   16 +++++-----------
 1 files changed, 5 insertions(+), 11 deletions(-)

commit 9774d76b2e5914fad4916e79ae9f2f6b581e55b2
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sat Jul 26 23:00:05 2008 +0000

    rename contact_handle_to_room_identity to create_room_identity and remove needless self_handle argument
    
    
    20080726230005-418b8-1eb5e98484eb82b152d8fcc954fb6231809eced0.gz

 src/muc-channel.c |   20 +++++++++-----------
 1 files changed, 9 insertions(+), 11 deletions(-)

commit 6e07cfdbed3d2ea2765a14c7b61ff6f63645eac9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 29 10:10:37 2008 +0000

    connection: add missing blank line
    
    
    20080729101037-7fe3f-8e2eaf2c263dc5a16cf1090d1c5cc0a70330ae06.gz

 src/connection.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 0a259a0a33447e121941e40df98302a127e85647
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 29 08:38:13 2008 +0000

    increase calls stack size when running test with valgrind
    
    
    20080729083813-7fe3f-d1ead5468d3c0454521019614944feca9a113e26.gz

 tests/twisted/tools/exec-with-log.sh.in |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit eb1a96d2a13e1eb55b1718993152cc5eadde8e71
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 29 08:29:19 2008 +0000

    connection: fix SSL leak when we are not using old-ssl
    
    
    20080729082919-7fe3f-c986babb748af9325236eadd5a41eb816300c89c.gz

 src/connection.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 17c5c2ee22783d28dd0e998c63b6941881c18d23
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 09:50:58 2008 +0000

    GabbleRosterChannel: remove FIXME comments, Sjoerd thinks the current implementation is fine
    
    
    20080725095058-53eee-ff9b1ae44c396a4186ecc92dbf3cd3ed25ec4b8e.gz

 src/roster-channel.c |    6 ------
 1 files changed, 0 insertions(+), 6 deletions(-)

commit e331205459202a0a97d86f7c73c1808d9e1f0b4d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 24 18:33:11 2008 +0000

    GabblePrivateTubesFactory: also replace g_return_val_if_fail with g_assert here
    
    
    20080724183311-53eee-d1c3557e643ac086e0b6e281a3df596f32b803ff.gz

 src/private-tubes-factory.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 569c1b7d19894cb98f1de8f523254607af1b1988
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 24 17:58:09 2008 +0000

    Revert g_return_val_if_fail in GabbleMediaFactory internals to a g_assert, having it return NULL is no more helpful
    
    
    20080724175809-53eee-53a2f19a69a1d4c3c5dff61df84ac53c33d3796a.gz

 src/media-factory.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit d2bcd1667938817831f6e534d27365741156c2fb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 24 17:57:40 2008 +0000

    Remove unnecessary check that media channel has nonzero creator - we already asserted that in the constructor
    
    
    20080724175740-53eee-44adad2cb5790791296a48bd0429bc77753beccc.gz

 src/media-channel.c |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit 55b895720e97e6fd603ba69728ff868f00fb1c1c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 24 14:57:20 2008 +0000

    Add a regression test for respawning text channels
    
    
    20080724145720-53eee-b6cc808c3d273a50a8154596c0614942063b38a4.gz

 tests/twisted/Makefile.am     |    1 +
 tests/twisted/text/respawn.py |  163 +++++++++++++++++++++++++++++++++++++++++
 2 files changed, 164 insertions(+), 0 deletions(-)

commit 8d7cf7c56eac5a07714bca63153f4bad28fd4cec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 24 14:42:16 2008 +0000

    Implement the "respawning" behaviour for IM channels with pending messages remaining
    
    
    20080724144216-53eee-d2efd8bc914582f1b5c7e9b89ff810fb21e7e51b.gz

 src/im-channel.c |   61 ++++++++++++++++++++++++++++++++++++++++++++++++++++-
 src/im-factory.c |   30 ++++++++++++++++++++------
 2 files changed, 82 insertions(+), 9 deletions(-)

commit 50f05ae3aecb27fe72b38f28fab6dd9439ecb32e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 24 14:41:33 2008 +0000

    GabbleImFactory: simplify priv access
    
    
    20080724144133-53eee-e9108e43683cfc3311d76588538c1cfc2e32d31f.gz

 src/im-factory.c |   14 +++++++-------
 src/im-factory.h |    2 ++
 2 files changed, 9 insertions(+), 7 deletions(-)

commit eb3f721a9cd717c56d06a7e9c91869a7e9fe72f4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 24 10:18:14 2008 +0000

    Update Channel.FUTURE, and actually remember to add Connection.Interface.Requests XML
    
    
    20080724101814-53eee-1e6758b2fd7eeb31424e697ec87c48013afb9ecb.gz

 extensions/Channel_Future.xml                |   14 +-
 extensions/Connection_Interface_Requests.xml |  396 ++++++++++++++++++++++++++
 2 files changed, 402 insertions(+), 8 deletions(-)

commit ffae8d7eca55c8f0e6f7ddd4b07645967b5b7e23
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:33:17 2008 +0000

    Test the Requested property for Tubes
    
    
    20080722163317-53eee-df22e4ad8a1f6abe629809be20680f0b81595c7e.gz

 .../tubes/test-muc-accept-stream-tube-ibb.py       |    1 +
 tests/twisted/tubes/test-muc-offer-dbus-tube.py    |    1 +
 tests/twisted/tubes/test-si-tubes.py               |    1 +
 3 files changed, 3 insertions(+), 0 deletions(-)

commit 6f4c44d472e2958e91841b37743e5fc940a2a441
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:33:09 2008 +0000

    Test the Requested property for IM channels
    
    
    20080722163309-53eee-fe716ed31df1fa13fc7778c0ea0500468ef9e088.gz

 tests/twisted/text/initiate.py  |    1 +
 tests/twisted/text/test-text.py |    1 +
 2 files changed, 2 insertions(+), 0 deletions(-)

commit 3a1e211d2f311435eddd62bf59cff01de065f22a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:33:01 2008 +0000

    Test the Requested property for roster channels
    
    
    20080722163301-53eee-cd53326cbefee17a77bbec11ed1481315f17e6e1.gz

 tests/twisted/roster/groups.py      |    1 +
 tests/twisted/roster/test-roster.py |    1 +
 2 files changed, 2 insertions(+), 0 deletions(-)

commit 6ecd582eeea854a90d5778efff4ef19ff216f58f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:32:49 2008 +0000

    Test the Requested property for MUCs
    
    
    20080722163249-53eee-7e9c4b66966453b365c1bd572348dc064fdb38b9.gz

 tests/twisted/muc/test-muc-invitation.py |    1 +
 tests/twisted/muc/test-muc.py            |    1 +
 2 files changed, 2 insertions(+), 0 deletions(-)

commit e6356461dd1c6628e78af2dcfc947b0d2abfd240
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:32:37 2008 +0000

    muc/roomlist.py: exercise the Requested property
    
    
    20080722163237-53eee-5cf61f90f8e370640e6713742942bf9ef12c4e41.gz

 tests/twisted/muc/roomlist.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 305f2dfe447d86e57f8604cde0d1b08deb66eb90
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:32:16 2008 +0000

    tests/twisted/jingle/: exercise the Requested property
    
    
    20080722163216-53eee-c720207242565dc3ccfca6d90eba224d8083e40a.gz

 tests/twisted/jingle/test-incoming-call-reject.py  |    1 +
 .../jingle/test-outgoing-call-deprecated.py        |    1 +
 .../jingle/test-outgoing-call-deprecated2.py       |    1 +
 tests/twisted/jingle/test-outgoing-call.py         |    1 +
 4 files changed, 4 insertions(+), 0 deletions(-)

commit 7992bc83c8c2426a7454ad06a110ca5a6db684fc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:32:02 2008 +0000

    GabbleTubesChannel: add the Requested property
    
    
    20080722163202-53eee-1f2af74c966e695a744d0db238a59fc6bf3f88c8.gz

 src/tubes-channel.c |   18 ++++++++++++++++--
 1 files changed, 16 insertions(+), 2 deletions(-)

commit 250ee4370adb005cdbf49dde2f8a69aac61b8625
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:31:45 2008 +0000

    GabbleRosterChannel: add the Requested property (trivial implementation)
    
    
    20080722163145-53eee-65be6b5811c1a393549f063f2bfa37088467d579.gz

 src/roster-channel.c |   19 ++++++++++++++++++-
 1 files changed, 18 insertions(+), 1 deletions(-)

commit 8e849dc4b83155b603024b3ace6d0e53ce2ab9b3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:31:33 2008 +0000

    GabbleRoomlistChannel: add the Requested property
    
    
    20080722163133-53eee-38b218cfaf8944f24b0970c9ae6abb4a6b50fe02.gz

 src/roomlist-channel.c |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit 94b2e7c903132ecad547d0d069dd5ad5b9a949a0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:31:18 2008 +0000

    GabbleMucChannel: add the Requested property
    
    
    20080722163118-53eee-2082d2b6124096b8fbc5ab6c7ad338fc7f9d26a3.gz

 src/muc-channel.c |   15 ++++++++++++++-
 1 files changed, 14 insertions(+), 1 deletions(-)

commit 7c9f973967579d8316dd042136016dbebbb30269
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:31:05 2008 +0000

    GabbleMediaChannel: add the Requested property
    
    
    20080722163105-53eee-dd25207349f5dce5395f6024b52d56b8cc55e1d3.gz

 src/media-channel.c |   15 ++++++++++++++-
 1 files changed, 14 insertions(+), 1 deletions(-)

commit cd49cd06019102354a8dbf35251f1eb173b0eb43
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:30:45 2008 +0000

    GabbleIMChannel: add a Requested property
    
    
    20080722163045-53eee-374a3c6f9ffb17b3b7f62c1a6895d609c1a67751.gz

 src/im-channel.c |   17 +++++++++++++++--
 1 files changed, 15 insertions(+), 2 deletions(-)

commit 3d05b7ae880fee43b1cd71d62dfc33fa39f27670
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:15:35 2008 +0000

    Add Requests interface in extensions/, and update Channel.FUTURE to the -requestotron branch
    
    
    20080722161535-53eee-8225109792ca1d908ccfbee42d5446ff32eb9d32.gz

 extensions/Channel_Future.xml |   98 +++++++++++++++++++++++++++++++++++++---
 extensions/all.xml            |    5 ++
 2 files changed, 95 insertions(+), 8 deletions(-)

commit 2391cf4246e6cb05c8d85275d6e4a89a6fd5820b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:12:57 2008 +0000

    Allow undefined (external) interfaces in extensions
    
    
    20080722161257-53eee-92d43a0b50bcd290b7e1a735d77c694f85ac2349.gz

 extensions/Makefile.am  |    1 +
 tools/doc-generator.xsl |   41 +++++++++++++++++++++++++++--------------
 2 files changed, 28 insertions(+), 14 deletions(-)

commit 4698d55a04cae2af865735f8e58646a8d944f2a4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 14:44:11 2008 +0000

    tubes/test-si-tubes.py: exercise TargetID/Initiator* for tubes initiated by us
    
    
    20080722144411-53eee-6a39236dd02c02dd8e925340d70ff886ddf99aaa.gz

 tests/twisted/tubes/test-si-tubes.py |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit eca213e2b612fd28e5fb39c665c57a8874d5f127
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 14:42:18 2008 +0000

    tubes/test-muc-offer-dbus-tube.py: exercise TargetID/Initiator* for Tubes channel initiated by us
    
    
    20080722144218-53eee-ec3880d41c98d833dabb841da2346956b2d22a28.gz

 tests/twisted/tubes/test-muc-offer-dbus-tube.py |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 8e91962bdb284052ac8617f82b4883c910eba17b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 14:41:46 2008 +0000

    tubes/test-muc-accept-stream-tube-ibb.py: exercise TargetID/Initiator* for tube initiated by others
    
    
    20080722144146-53eee-2717e391f22a2eb4af87955e7285a89a9c7617f3.gz

 .../tubes/test-muc-accept-stream-tube-ibb.py       |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 1e196d0d435956a7d7f816f22deda8baf52c1408
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 14:25:27 2008 +0000

    GabbleTubesChannel: take an initiator handle, and also export TargetID and InitiatorID
    
    
    The initiator of a Tubes channel is (currently) defined to be
    * the local user, if it was requested; or
    * the remote user, if it is 1-1; or
    * 0, otherwise (we saw it in someone's presence in a MUC)
    
    20080722142527-53eee-f1b75a0bad494364b813aab55a10955388a65dba.gz

 src/muc-factory.c           |   20 +++++++---
 src/private-tubes-factory.c |   19 ++++++----
 src/tubes-channel.c         |   84 ++++++++++++++++++++++++++++++++++++++++++-
 3 files changed, 109 insertions(+), 14 deletions(-)

commit b76247d934be9124a08a43a7e37c0b2a827c3960
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 14:16:46 2008 +0000

    GabbleMediaFactory: assert that the channel has a creator
    
    
    20080722141646-53eee-029457b4f2c643b88f6f4bd2a6501b89a9205fee.gz

 src/media-factory.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit e0b0609ab7675037dfb77385c979e6eb07238496
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 14:16:31 2008 +0000

    GabbleMediaFactory: coding style/naming consistency
    
    
    20080722141631-53eee-03e5574ed197b41868a509564181c2b914f3691e.gz

 src/media-factory.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 46f95efef7f5ee132137ba60107ce6660730214e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 14:15:51 2008 +0000

    GabbleMediaChannel: ref priv->creator
    
    
    20080722141551-53eee-25d121026a963d62499c69d70affecabf5e4b24a.gz

 src/media-channel.c |   14 +++++++++++++-
 1 files changed, 13 insertions(+), 1 deletions(-)

commit 7371f98fd52c24076431d17845a1d106b26093fc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 14:03:32 2008 +0000

    GabbleMucChannel: assert that there is an initiator
    
    
    20080722140332-53eee-b88f8b4d3139af0c1119794fcb4e885cfa0189f8.gz

 src/muc-channel.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 951f4d963dd023d586b6ea160205fc1fcf045489
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 13:59:57 2008 +0000

    GabbleIMChannel: assert that there is an initiator
    
    
    20080722135957-53eee-958fee9db2f254d7ced64a3459d369465d0ca5f3.gz

 src/im-channel.c |    6 ++++--
 src/im-factory.c |    4 +++-
 2 files changed, 7 insertions(+), 3 deletions(-)

commit 2d0144b579eb94f0bdd0b7fd668edd8612c0b17f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 10:51:14 2008 +0000

    GabbleRosterChannel: implement a simplistic version of future properties
    
    
    For now, the initiator is always set to 0, even if the user actually requested
    the channel.
    
    20080722105114-53eee-5ba11d2e726192783e7497fbdeb150d388b7e672.gz

 src/roster-channel.c |   56 ++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 56 insertions(+), 0 deletions(-)

commit 8aa8fb26efff4311053e122037dea4bd5baa309d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 10:50:34 2008 +0000

    roster/test-roster.py, roster/test-roster-subscribe.py: exercise future properties
    
    
    20080722105034-53eee-7833ae92bb25c66a45f8c49bb12aa5791aa44d64.gz

 tests/twisted/roster/groups.py      |    7 +++++++
 tests/twisted/roster/test-roster.py |    8 ++++++++
 2 files changed, 15 insertions(+), 0 deletions(-)

commit ff25e567df4a19f4dba3d1e42d2bae58b377b7d5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 19:44:04 2008 +0000

    Fix end of call in test for call rejection
    
    
    20080721194404-53eee-70bee3c1764f269811268d2b2a936e5312f7cc80.gz

 tests/twisted/jingle/test-incoming-call-reject.py |   11 ++++++-----
 1 files changed, 6 insertions(+), 5 deletions(-)

commit d0eada1ac8a6d3c4c1e093296cfc0d9cb1f4fa98
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 19:42:17 2008 +0000

    Add basic support for future properties in room lists
    
    
    20080721194217-53eee-0c2e3febdcf578339f574248ece90c0208fdae26.gz

 src/roomlist-channel.c        |   58 +++++++++++++++++++++++++++++++++++++++++
 tests/twisted/muc/roomlist.py |   15 ++++++++--
 2 files changed, 70 insertions(+), 3 deletions(-)

commit 6b7832a4725b2eae839dfb110a653addc538b04f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 19:31:36 2008 +0000

    Split out incoming call rejection into a separate test so we have an active regression test for the FUTURE properties
    
    
    20080721193136-53eee-bd4ce4d2aaf58a874299d41c0cb0938e91dbee98.gz

 tests/twisted/Makefile.am                         |    1 +
 tests/twisted/jingle/test-incoming-call-reject.py |   97 +++++++++++++++++++++
 tests/twisted/jingle/test-incoming-call.py        |   32 -------
 3 files changed, 98 insertions(+), 32 deletions(-)

commit 73daf1f4a749b2905391cb2ba127c28f8a760720
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 19:22:57 2008 +0000

    jingle/test-incoming-call.py: exercise channel properties in a basic way
    
    
    This test is disabled, but the basic functionality has been verified.
    
    20080721192257-53eee-3d81185633ff85f6280ada80e9405b637b1783b0.gz

 tests/twisted/jingle/test-incoming-call.py |   15 +++++++++++++++
 1 files changed, 15 insertions(+), 0 deletions(-)

commit 8acb69bec215ab4a017db0de636bda8c0e70c4f0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 19:18:09 2008 +0000

    Make test-incoming-call.py a little more race-resistant
    
    
    20080721191809-53eee-1fbfaa609ea7fca19df23cbd47f0a5000a33e6b7.gz

 tests/twisted/jingle/test-incoming-call.py |   16 +++++++++-------
 1 files changed, 9 insertions(+), 7 deletions(-)

commit 729f77a38aa91cf412af7cc5356a0b5e7a8fe52e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 19:17:32 2008 +0000

    jingle/test-outgoing-call*.py: exercise future properties
    
    
    20080721191732-53eee-069be7f7b04d6fd0742415b7fde9aa267b7bbedb.gz

 .../jingle/test-outgoing-call-deprecated.py        |    8 ++++++++
 .../jingle/test-outgoing-call-deprecated2.py       |    8 ++++++++
 tests/twisted/jingle/test-outgoing-call.py         |    8 ++++++++
 3 files changed, 24 insertions(+), 0 deletions(-)

commit 91e834885454cf6bfb2f13c034662cf4d411de8e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 19:13:21 2008 +0000

    GabbleMediaChannel: export TargetID, InitiatorID, InitiatorHandle D-Bus properties
    
    
    20080721191321-53eee-a8096ebd838f2ef87272b00185be32cd178e6d2e.gz

 src/media-channel.c |   42 ++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 42 insertions(+), 0 deletions(-)

commit 0c6dfbf961b5033c11df162c2b3b4e0963a530f2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 19:13:07 2008 +0000

    muc/test-muc.py: exercise future channel properties
    
    
    20080721191307-53eee-bf74edfe7f96fb3ff275e24755464f9f648d2a1c.gz

 tests/twisted/muc/test-muc.py |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit ac06f3291bb3eaf16ca19f20a3448c54560ed915
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 19:12:48 2008 +0000

    muc/test-muc-invitation.py: exercise future channel properties
    
    
    20080721191248-53eee-f693e059c74dd9a8e4415123192a1cd9ee562f0a.gz

 tests/twisted/muc/test-muc-invitation.py |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit bcf56e68fb353553eda68c787dad64f46d406eda
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 18:30:02 2008 +0000

    Resolve conflict with daf
    
    
    20080721183002-53eee-019206d68a857e18961c396b252a0eff4602ee29.gz

 src/muc-channel.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit c94df4fbc4618c6f4ed37a7a9468641de2d84115
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 18:01:05 2008 +0000

    Loosen assumptions in muc-factory about what channels will be ready when
    
    
    20080721180105-53eee-a1221611b8a2e33efc0496ff1fb708172d06c4d8.gz

 src/muc-factory.c |   16 +++-------------
 1 files changed, 3 insertions(+), 13 deletions(-)

commit 0c003f2d7e472838b51202c60e95161f55e630f3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 17:58:46 2008 +0000

    Pass invitations into MUC channels as a construct-time property instead of calling a function afterwards
    
    
    20080721175846-53eee-1d4713876b7bdb30f981e11b774f0df262339c59.gz

 src/muc-channel.c |   48 ++++++++++++++++++++++++++++++++++++++++++++----
 src/muc-channel.h |    2 --
 src/muc-factory.c |   20 ++++++++++++++++----
 3 files changed, 60 insertions(+), 10 deletions(-)

commit 4d22ee5e2bc2184ea87d3613ad1c1f8346ac9761
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 16:59:37 2008 +0000

    GabbleMucChannel: add InitiatorID, InitiatorHandle, TargetID properties
    
    
    20080721165937-53eee-13e3151e59ddc7f63a0e976fc4847603d3c297f7.gz

 src/muc-channel.c |   76 ++++++++++++++++++++++++++++++++++++++++++++++++++++-
 src/muc-factory.c |    1 +
 2 files changed, 76 insertions(+), 1 deletions(-)

commit 866ecc20db85188b1e72adcf186d123e91103527
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 15:25:59 2008 +0000

    GabbleMucChannel: order headers according to coding style
    
    
    20080721152559-53eee-d5d3d048a7831609a4e29a59b4c5cbb61eaeeca7.gz

 src/muc-channel.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 160066f0d67ff6667a26767d283716ccd9d0f242
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 16:56:41 2008 +0000

    GabbleMucFactory: move responsibility for handling invitations inside new_muc_channel
    
    
    20080721165641-53eee-dfd322f0ab1fe372c6051848bd3800881c5c6661.gz

 src/muc-factory.c |   35 +++++++++++++++++++++++++++++------
 1 files changed, 29 insertions(+), 6 deletions(-)

commit 0da08a23af226a9a06543a9bd140af4221ab1aff
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 24 11:18:26 2008 +0000

    Now the tests use #include "src/foo.h", adjust the CFLAGS to pick up the headers correctly in out-of-tree builds (fixes distcheck)
    
    
    20080724111826-53eee-d3ed7aa151fe3bf99628b3ede190fb1eaea3d646.gz

 tests/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 5c30a1c1e49d56f2fc6c6b379f469593afe6a446
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:23:46 2008 +0000

    GabbleVCardManagerPrivate: simplify priv access
    
    
    20080722182346-53eee-f7f9f3bf7eed11e310e3f4a59e3f5a4504d7dbe4.gz

 src/vcard-manager.c |    4 +---
 src/vcard-manager.h |    3 ++-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit 8a0d83152779f069549535ce8e0b115be44258ec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:23:37 2008 +0000

    GabbleTubesChannel: simplify priv access
    
    
    20080722182337-53eee-9b41bb10f10f87ed548b3e457d9da46de8188bae.gz

 src/tubes-channel.c |    4 +---
 src/tubes-channel.h |    3 ++-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit bed9265fbf34596bde0d7fad932371917aa31d82
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:23:27 2008 +0000

    GabbleTubeStream: simplify priv access
    
    
    20080722182327-53eee-236cece54edb3bd27fcf6acd4b05a95c109268a6.gz

 src/tube-stream.c |    4 +---
 src/tube-stream.h |    3 ++-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit f1a1d11a0f7476c980b8b95a01288b1fcbaed634
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:23:16 2008 +0000

    GabbleTubeDBus: simplify priv access
    
    
    20080722182316-53eee-39250d5456d1b7b2005927f06a61b22b052f1dec.gz

 src/tube-dbus.c |    4 +---
 src/tube-dbus.h |    3 ++-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit 07c79db4c369b075221782268834bec7807e2d05
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:23:07 2008 +0000

    GabbleRoster: simplify priv access
    
    
    20080722182307-53eee-d8aa42518893ec274ed431e4bc442fe9919d4a57.gz

 src/roster.c |    3 +--
 src/roster.h |    3 ++-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 982820169c41435386f1e6dbc7da594e767a7d1b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:22:55 2008 +0000

    GabbleRosterChannel: simplify priv access
    
    
    20080722182255-53eee-dcb1ab95c7bbfbf9a826606423ae980f932b767a.gz

 src/roster-channel.c |    4 +---
 src/roster-channel.h |    3 ++-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit c32964e0276b30ef17c8518503f5c5d7ac2d8dec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:22:44 2008 +0000

    GabbleRoomlistChannel: simplify priv access
    
    
    20080722182244-53eee-b0b6ceede6b53291829d16481017cc7156eb36de.gz

 src/roomlist-channel.c |    4 +---
 src/roomlist-channel.h |    3 ++-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit 6ff0778c4484aa327edb3c99dbf04a07de3ce665
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:22:32 2008 +0000

    GabbleRequestPipeline: simplify priv access
    
    
    20080722182232-53eee-26f7007ee236f85c03cd7b567074cb7a1f752466.gz

 src/request-pipeline.c |    4 +---
 src/request-pipeline.h |    3 ++-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit 584e6bec35d5e03a05ebec5194936a0d25d77d46
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:22:17 2008 +0000

    GabblePrivateTubesFactory: simplify priv access
    
    
    20080722182217-53eee-af41409097946fe5c7a2bdd0f06efe8942aac83a.gz

 src/private-tubes-factory.c |    5 +----
 src/private-tubes-factory.h |    4 +++-
 2 files changed, 4 insertions(+), 5 deletions(-)

commit ce65c86f1dcf9a330ee05b1888c4adb4c1e7398e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:22:07 2008 +0000

    GabblePresence: simplify priv access
    
    
    20080722182207-53eee-f81f220f82f4ca2648f92e8e82222d7de7a65715.gz

 src/presence.c |    4 +---
 src/presence.h |    4 +++-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit cbd99e13ceef67ec52dce1db1035b80c164de510
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:21:57 2008 +0000

    GabblePresenceCache: simplify priv access
    
    
    20080722182157-53eee-effa75d032082c3880d45c3912505d2436f51af0.gz

 src/presence-cache.c |    5 +----
 src/presence-cache.h |    4 +++-
 2 files changed, 4 insertions(+), 5 deletions(-)

commit 8267668a4667afcb094e8d976df41acc1a7199de
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:21:46 2008 +0000

    GabbleMucChannel: simplify priv access
    
    
    20080722182146-53eee-f70b8af90a02eaf826e4505119f40825ab46adbf.gz

 src/muc-channel.c |    2 --
 src/muc-channel.h |    3 ++-
 2 files changed, 2 insertions(+), 3 deletions(-)

commit b89536a2e6d4920106214be8e342afd7addd7d86
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:21:36 2008 +0000

    GabbleMediaStream: simplify priv access
    
    
    20080722182136-53eee-3dda92593ecf3bf23b7df43077d7b4e7718dc20f.gz

 src/media-stream.c |    4 +---
 src/media-stream.h |    3 ++-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit 0068b8b730bab696e13ad8527147ee16a56d92bc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:21:25 2008 +0000

    GabbleMediaSession: simplify priv access
    
    
    20080722182125-53eee-41fdc9bb10193b54cd8887dda36fc357df3343f8.gz

 src/media-session.c |    4 +---
 src/media-session.h |    3 ++-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit 3d9f546f8c402b02820a869dab91628054184b7c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:21:15 2008 +0000

    GabbleIMChannel: simplify priv access
    
    
    20080722182115-53eee-2354f61ac070d8599593414218790a339ab4707f.gz

 src/im-channel.c |    4 +---
 src/im-channel.h |    3 ++-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit d0ae2168f43be3f1b19930b4249f7b63aad6fd74
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:21:04 2008 +0000

    GabbleDisco: simplify priv access
    
    
    20080722182104-53eee-a73f8eee6790136d42a99b19f76224b878aec7fd.gz

 src/disco.c |    3 +--
 src/disco.h |    3 ++-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit f7f499eeb873b3de69ba4a93d5fc1ba9a411fdee
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:20:41 2008 +0000

    GabbleConnectionManager: make priv consistent with those in telepathy-glib (it's actually unused)
    
    
    20080722182041-53eee-bf8ddf54d7777836ccae16dca8fefba3bf40c627.gz

 src/connection-manager.h |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 39e97ccbe652f3693f4d0d39ddc70b329d1af0e6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:20:27 2008 +0000

    GabbleBytestreamMuc: simplify priv access
    
    
    20080722182027-53eee-e5e00aeb768f1598d943cd424ba5a97a8acdb117.gz

 src/bytestream-muc.c |    4 +---
 src/bytestream-muc.h |    3 ++-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit 2319a4b79ad6b2a4dffcb7087790beaba5bdc60b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:20:12 2008 +0000

    _GabbleBytestreamIBB: simplify priv access
    
    
    20080722182012-53eee-423530bc257586ba51e59eae7cb4b4c210a7f7df.gz

 src/bytestream-ibb.c |    4 +---
 src/bytestream-ibb.h |    3 ++-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit f7964425928a007e37934bf356a10702bfabbce0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:19:47 2008 +0000

    GabbleBytestreamFactoryPrivate: simplify priv access
    
    
    20080722181947-53eee-18343458e42b388485fe036a6a3c943f99d9f575.gz

 src/bytestream-factory.c |    4 +---
 src/bytestream-factory.h |    3 ++-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit 9c2de98d516cfa4e64d3be9840b5457da2577a05
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:05:16 2008 +0000

    GabbleConnection: simplify access to the priv pointer
    
    
    20080722180516-53eee-74e6b2f58ab322232d344b698f0e50c6f03828f6.gz

 src/connection.c |    4 +---
 src/connection.h |    3 ++-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit 6765bb354c91c3da8c4989dbe922816661e30873
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 17:06:53 2008 +0000

    Tubes: use telepathy-glib GTypes
    
    
    20080722170653-53eee-dbd53c8e3d0be80713f0d396eb40e39f90903fbd.gz

 src/tube-stream.c   |   25 +++++++++++--------------
 src/tubes-channel.c |   33 ++++++++++-----------------------
 2 files changed, 21 insertions(+), 37 deletions(-)

commit d3f4139c4b1e27cd7cba6e26b079129994c1fb47
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 17:06:40 2008 +0000

    conn-aliasing: use telepathy-glib GTypes
    
    
    20080722170640-53eee-93fe19d084c5f91e66cadee37a1630d18944a270.gz

 src/conn-aliasing.c |    8 +++-----
 1 files changed, 3 insertions(+), 5 deletions(-)

commit f7b3f6bba8045eb922bc33e631a4b5f47383c49b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Jul 23 10:52:07 2008 +0000

    test-avatar-tokens.py: port to new test API
    
    
    20080723105207-c9803-e8e10e8d743f707c579da4b2e888fa7186bfdadd.gz

 tests/twisted/vcard/test-avatar-tokens.py |   72 ++++++++++------------------
 1 files changed, 26 insertions(+), 46 deletions(-)

commit e2be81c616c6605ea7a8cd04785c530cce625062
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:56:22 2008 +0000

    GabbleConnection: use telepathy-glib GTypes here too
    
    
    20080722165622-53eee-51b258cf4e6049e6a069a83186d51b93de32f2c1.gz

 src/connection.c |   34 ++++++++++++++--------------------
 1 files changed, 14 insertions(+), 20 deletions(-)

commit daa68d43fb759789dff94e6782bd110756c82526
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:56:02 2008 +0000

    roster/ tests: use presence_type= to expect only those presence messages
    
    
    20080722165602-53eee-d390ff7bc107aa2be000da921b06809b9445484c.gz

 tests/twisted/roster/test-google-roster.py    |    5 +----
 tests/twisted/roster/test-roster-subscribe.py |    5 +----
 2 files changed, 2 insertions(+), 8 deletions(-)

commit 0b689929da8bcd5e968d50a148d298c744874ff6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:55:44 2008 +0000

    roster/ tests: use "while True" instead of "while 1"
    
    
    20080722165544-53eee-2f0c8bc72b10ad0c5e7eff6bf7d5df912a78cd36.gz

 tests/twisted/roster/test-google-roster.py    |    4 ++--
 tests/twisted/roster/test-roster-subscribe.py |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit aa32e01db0f8611ad0f27274b0c6a161c75c3a23
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 11:13:22 2008 +0000

    Port roster/test-google-roster.py to new API
    
    
    20080722111322-53eee-3b77fc63cf7a15a5290dec06ad5dd220569dc46d.gz

 tests/twisted/roster/test-google-roster.py |  145 ++++++++++++++--------------
 1 files changed, 71 insertions(+), 74 deletions(-)

commit 579f2c792c13a3650bfae55fb4b0b2925719b4b8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 10:52:00 2008 +0000

    roster/test-roster-subscribe.py: port to new test API
    
    
    20080722105200-53eee-2645bbffa9d50db63c82843d396def8011c375d1.gz

 tests/twisted/roster/test-roster-subscribe.py |   72 +++++++++++--------------
 1 files changed, 32 insertions(+), 40 deletions(-)

commit cfce4cd88bcff3b0a44d8a97b7a5e30a6aa8d92b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 10:42:08 2008 +0000

    Twisted tests: stop using ProxyObject._named_service, it isn't API and never has been
    
    
    20080722104208-53eee-3d2d7e4231a1066a4bcce599dc86ba31f9790a95.gz

 tests/twisted/muc/test-muc-properties.py      |    2 +-
 tests/twisted/roster/groups-12791.py          |    4 ++--
 tests/twisted/roster/groups.py                |    4 ++--
 tests/twisted/roster/test-google-roster.py    |    2 +-
 tests/twisted/roster/test-roster-subscribe.py |    2 +-
 tests/twisted/roster/test-roster.py           |    2 +-
 tests/twisted/text/test-text.py               |    2 +-
 7 files changed, 9 insertions(+), 9 deletions(-)

commit 8d278295ae2cfb0db33532593d091aedea38ae81
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 18:59:56 2008 +0000

    GabbleMediaStream: use telepathy-glib GTypes
    
    
    20080721185956-53eee-3a181ee4a075ee101d3b67a5550193908a616363.gz

 src/media-stream.c |   66 +++++++++++++++++++++++++++++++++------------------
 src/media-stream.h |   32 -------------------------
 2 files changed, 43 insertions(+), 55 deletions(-)

commit 95f25f84b7ea4393db0e52b347cf9bb9831b68ed
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 18:59:46 2008 +0000

    GabbleMediaChannel: now that we need a new telepathy-glib anyway, use the telepathy-glib GTypes
    
    
    20080721185946-53eee-c3f3a216585ab652629862f0e325c64e3f1a99bf.gz

 src/media-channel.c |   24 ++++++------------------
 src/muc-channel.c   |    1 +
 2 files changed, 7 insertions(+), 18 deletions(-)

commit c909697f5fdbf671bd5d86130c430369e80e116a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 18:59:31 2008 +0000

    GabbleRoomlistChannel: use telepathy-glib's GTypes
    
    
    20080721185931-53eee-90e70f848ad187d55ac3fa62aadd53c3ab45e33e.gz

 src/roomlist-channel.c |   18 ++++++------------
 1 files changed, 6 insertions(+), 12 deletions(-)

commit fd11fd76ef0760d7c0ab9de67a66b544020f8d3e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 17:42:58 2008 +0000

    muc/test-muc-invitation.py: port to new test API
    
    
    20080721174258-53eee-30c366b8b74f1b6a916120c14bbafc92b036a066.gz

 tests/twisted/muc/test-muc-invitation.py |  104 +++++++++++------------------
 1 files changed, 40 insertions(+), 64 deletions(-)

commit 1374826dac4dce52d381faac0f605f06a368fcdf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 17:42:28 2008 +0000

    olpc/olpc-muc-invitation.py: avoid a race (stream presence vs AddMembers returning)
    
    
    20080721174228-53eee-de320e8ee08ed102e7c228f76090990e051d66dd.gz

 tests/twisted/olpc/olpc-muc-invitation.py |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)

commit d18899db3b9fdb0a112848891f51c4cf28605e55
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 21 18:09:29 2008 +0000

    remove unused inclusions of extensions.h
    
    
    20080721180929-c9803-e028818d0dd73c5095a88ee80bc0d97a4dba0056.gz

 src/muc-factory.c           |    1 -
 src/private-tubes-factory.c |    1 -
 src/tube-dbus.c             |    1 -
 src/tube-iface.c            |    1 -
 src/tube-stream.c           |    1 -
 5 files changed, 0 insertions(+), 5 deletions(-)

commit aff45a25ac85a62522cba61d694a7d74a79331ca
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 21 18:06:24 2008 +0000

    tidy up libc/glib includes
    
    
    20080721180624-c9803-3bdb4a3eabe9b65b5ad3d11f48dcbefde393a7c9.gz

 src/base64.c                |    1 -
 src/bytestream-factory.c    |    5 +----
 src/bytestream-ibb.c        |    3 ---
 src/bytestream-iface.c      |    2 --
 src/bytestream-muc.c        |    3 ---
 src/caps-hash.c             |    3 ---
 src/connection-manager.c    |    2 --
 src/connection.c            |    2 --
 src/debug.c                 |    1 -
 src/disco.c                 |    1 -
 src/error.c                 |    2 +-
 src/gabble.c                |    1 -
 src/im-channel.c            |    2 --
 src/im-factory.c            |    3 ---
 src/media-channel.c         |    2 --
 src/media-factory.c         |    2 --
 src/media-session.c         |    2 --
 src/muc-channel.c           |    2 --
 src/muc-factory.c           |    3 ---
 src/presence.c              |    2 --
 src/private-tubes-factory.c |    3 ---
 src/register.c              |    2 --
 src/roomlist-channel.c      |    2 --
 src/roster-channel.c        |    3 ---
 src/text-mixin.c            |    1 -
 src/tube-dbus.c             |    3 ---
 src/tube-iface.c            |    2 --
 src/tube-stream.c           |    3 ---
 src/tubes-channel.c         |    6 ++----
 src/util.c                  |    3 +--
 src/vcard-manager.c         |    1 -
 31 files changed, 5 insertions(+), 68 deletions(-)

commit b40ee5a18b1a9e6911e6433640b1952532de50bc
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 21 18:03:37 2008 +0000

    tidy up include style
    
    
    20080721180337-c9803-09001e2492d16522e85e4d9514462a24cd34adff.gz

 src/bytestream-factory.c    |   12 +++++-------
 src/bytestream-ibb.c        |    7 ++-----
 src/bytestream-muc.c        |    7 ++-----
 src/caps-hash.c             |   14 +++++++-------
 src/conn-aliasing.c         |    7 +++----
 src/conn-presence.c         |    8 +++-----
 src/connection-manager.c    |    7 ++++---
 src/connection.c            |    3 +--
 src/debug.c                 |    5 ++---
 src/disco.c                 |    9 +++++----
 src/gabble.c                |    3 ++-
 src/im-factory.c            |    8 +++-----
 src/media-channel.c         |   20 +++++++++-----------
 src/media-factory.c         |    8 +++-----
 src/media-session.c         |   16 +++++++---------
 src/media-stream.c          |   19 +++++++++----------
 src/muc-channel.c           |    4 ++--
 src/muc-factory.c           |    5 +++--
 src/presence-cache.c        |   18 +++++++++---------
 src/presence.c              |    1 +
 src/private-tubes-factory.c |   14 ++++++--------
 src/pubsub.c                |    3 ++-
 src/register.c              |    4 ++--
 src/request-pipeline.c      |    3 ++-
 src/roomlist-channel.c      |    5 +++--
 src/roster-channel.c        |   13 +++++++------
 src/roster.c                |    9 ++++-----
 src/text-mixin.c            |    6 +++---
 src/tube-dbus.c             |   16 +++++++---------
 src/tube-iface.c            |    1 +
 src/tube-stream.c           |   15 +++++++--------
 src/tubes-channel.c         |   13 ++++++-------
 src/util.c                  |   13 ++++++-------
 src/vcard-manager.c         |    6 +++---
 src/write-mgr-file.c        |    2 +-
 35 files changed, 142 insertions(+), 162 deletions(-)

commit 1017d1be0bef2e209403e058fbb98d2192172e18
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 19:56:30 2008 +0000

    ignore .loT files, whatever they are
    
    
    20080714195630-c9803-cdb69ed122f9c42a859a7682bbeac6f15e2dc756.gz

 _boring |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e1a5774f857d769df529159e576e5c667e09a5c0
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 21 17:17:04 2008 +0000

    touch signals-marshal.list if it's already up to date, so make doesn't try to build it again
    
    
    20080721171704-c9803-fca76a0fe73ac65ae261ff1e64bcd64a47cfef4a.gz

 src/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 57f73a1dbb02512e5d5f4e7f337c07a2171da3fd
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 21 16:55:14 2008 +0000

    debug.h: hoist glib include above G_BEGIN_DECLS
    
    
    20080721165514-c9803-4a4b62710c1c40b7ec05d9e42be685bd2d8bfcd8.gz

 src/debug.h |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit b67c13d01ea68aefdec4023529222b070d3ca9dc
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 21 16:54:05 2008 +0000

    types.h: include "config.h" not <config.h>
    
    
    20080721165405-c9803-1e40a4072c63f8d7186f14325cef68c3106ac483.gz

 src/types.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 193ff13b869c44add9a005f26ce2262818f84489
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 21 16:52:45 2008 +0000

    make tests include config.h too
    
    
    20080721165245-c9803-a6eb9391da3cc07b2aee0953fde816df974554a7.gz

 tests/test-base64.c             |    3 +++
 tests/test-dtube-unique-names.c |    3 +++
 tests/test-handles.c            |    3 +++
 tests/test-jid-decode.c         |    2 ++
 tests/test-parse-message.c      |    2 ++
 tests/test-presence.c           |    2 ++
 6 files changed, 15 insertions(+), 0 deletions(-)

commit 77a32d815f85fba2b115417885800dd543f7d9d8
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 21 16:39:56 2008 +0000

    remove debug prints from handle test
    
    
    20080721163956-c9803-7bd00aaa6b079a9ffb7c0b226dfbdb7d6b2b2368.gz

 tests/test-handles.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 0354b1c811961930c6b7058dd67f451ef4d9686f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 21 15:29:26 2008 +0000

    make config.h the first include in every file
    
    
    20080721152926-c9803-6bb7abb0109a14e3b908ed2c9b6810a4b2606a28.gz

 src/base64.c                |    1 +
 src/bytestream-factory.c    |    1 +
 src/bytestream-ibb.c        |    1 +
 src/bytestream-iface.c      |    1 +
 src/bytestream-muc.c        |    1 +
 src/capabilities.c          |    2 +-
 src/caps-hash.c             |    1 +
 src/conn-aliasing.c         |    1 +
 src/conn-presence.c         |    1 +
 src/connection-manager.c    |    1 +
 src/disco.c                 |    1 +
 src/error.c                 |    1 +
 src/im-channel.c            |    1 +
 src/im-factory.c            |    1 +
 src/main.c                  |    1 +
 src/media-channel.c         |    1 +
 src/media-factory.c         |    1 +
 src/media-session.c         |    1 +
 src/media-stream.c          |    1 +
 src/muc-channel.c           |    1 +
 src/muc-factory.c           |    1 +
 src/presence-cache.c        |    1 +
 src/presence.c              |    2 +-
 src/private-tubes-factory.c |    1 +
 src/pubsub.c                |    2 ++
 src/register.c              |    1 +
 src/request-pipeline.c      |    1 +
 src/roomlist-channel.c      |    1 +
 src/roster-channel.c        |    1 +
 src/roster.c                |    1 +
 src/text-mixin.c            |    1 +
 src/tube-dbus.c             |    1 +
 src/tube-iface.c            |    1 +
 src/tube-stream.c           |    1 +
 src/tubes-channel.c         |    1 +
 src/vcard-manager.c         |    1 +
 src/write-mgr-file.c        |    2 ++
 37 files changed, 39 insertions(+), 2 deletions(-)

commit e4c550f7881c35c84dd267a2a0835fd82b02c0cb
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 21 16:27:25 2008 +0000

    define G_PARAM_STATIC_STRINGS if not already defined
    
    
    20080721162725-c9803-113db2dc1a2a81302ab7cd4b16663aba47765e94.gz

 src/util.h |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit e37e5576bad892100501fae4b87fe51a9b598235
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Jul 18 17:52:05 2008 +0000

    connection.c: tidy up connection property declarations
    
    
    20080718175205-c9803-5960a78791c1ba31d32f6dfc1a067468d8e9a6e5.gz

 src/connection.c |  293 +++++++++++++++++++++++++-----------------------------
 1 files changed, 134 insertions(+), 159 deletions(-)

commit 5845c94ee2241624acd0acfcfdaf0a6dd403b878
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 14:58:11 2008 +0000

    text/initiate.py: new test to check that we can initiate 1-1 text channels
    
    
    20080721145811-53eee-3050c4d6d624e4236c3b654f6edad81a80e940f5.gz

 tests/twisted/Makefile.am      |    1 +
 tests/twisted/text/initiate.py |  102 ++++++++++++++++++++++++++++++++++++++++
 2 files changed, 103 insertions(+), 0 deletions(-)

commit 70e8669b6e05d85d539de1245a550afa17c8e0e0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 14:54:41 2008 +0000

    test-text.py: exercise InitiatorHandle, InitiatorID
    
    
    20080721145441-53eee-53fb25fe7a0cc011fb749bd009e7f77279627685.gz

 tests/twisted/text/test-text.py |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit cd45f7279aa165f6c77ae3349b69d5064cc2f1f1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 14:54:24 2008 +0000

    test-text.py: assert that suppress_handler is False on incoming channels
    
    
    20080721145424-53eee-9bb212982cc0967c1cc8bf7ebcaf8b00186d648f.gz

 tests/twisted/text/test-text.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit d7ff24b94ac82a8aca070615a46843aa3c52eb7f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 14:54:07 2008 +0000

    test-text.py: verify that it all works even if the initiator sends us their full-JID
    
    
    20080721145407-53eee-fd74fd948cdce13b2e942b3640328d4cf6b1223b.gz

 tests/twisted/text/test-text.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d3edd9130677915b07f7aa15899cc0ae5ac1a719
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 14:40:30 2008 +0000

    GabbleImFactory: pass initiator-handle when creating a GabbleIMChannel
    
    
    20080721144030-53eee-d0109ffd6e83ea847bc9f36d5433a87130391d46.gz

 src/im-factory.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 941cba7ec81fd1b3d0c14e888bab0665dfd8d9dd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 14:40:15 2008 +0000

    GabbleImFactory: keep track of who initiated the channel
    
    
    20080721144015-53eee-2e3a577566a80fb80fc276f0cd9a0491d0c21d6e.gz

 src/im-factory.c |   14 +++++++++-----
 1 files changed, 9 insertions(+), 5 deletions(-)

commit 19305f594fe5a6b56342cef6ea3e115d48d36e51
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 14:39:28 2008 +0000

    GabbleIMChannel: track initiator handle
    
    
    20080721143928-53eee-be3fe21cbaada851736ea69b9e9cf02b2eaec806.gz

 src/im-channel.c |   43 +++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 43 insertions(+), 0 deletions(-)

commit 75060bcfbaef66b757ce479477f10a23abda2dc1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 14:37:36 2008 +0000

    Rewrap long line
    
    
    20080721143736-53eee-c3343d52721fab2c5836079ad7959fd43cd21edb.gz

 src/im-channel.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 54d5096d16d18799a5f7989bbb28e8115d556dc9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 14:27:03 2008 +0000

    test-text.py: Exercise TargetID property
    
    
    20080721142703-53eee-ca49e614e6191561bcce46258f7a0df2641a0d98.gz

 tests/twisted/text/test-text.py |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 2175c53c058c75117b51684221e65c715af4f66d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 14:25:55 2008 +0000

    GabbleIMChannel: implement FUTURE.TargetID
    
    
    20080721142555-53eee-ae5df80639903816accca537dbe198c86078914e.gz

 src/im-channel.c |   29 +++++++++++++++++++++++++++++
 1 files changed, 29 insertions(+), 0 deletions(-)

commit af5a306b91cced0d34d576bbc2ca68dd1b7bf744
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 14:04:30 2008 +0000

    Add Channel.FUTURE pseudo-interface as an extension
    
    
    20080721140430-53eee-9317d73921af9f39c8245af8dbb61a2e070bde5d.gz

 extensions/Channel_Future.xml |  122 +++++++++++++++++++++++++++++++++++++++++
 extensions/Makefile.am        |    1 +
 extensions/all.xml            |    1 +
 3 files changed, 124 insertions(+), 0 deletions(-)

commit 2e75df661bc1939bac274f07d48b614cfe954b2f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 14:07:10 2008 +0000

    GabbleIMChannel: order includes according to coding style
    
    
    20080721140710-53eee-4a2554192e218e7eee2c4ee629583dfa20bae879.gz

 src/im-channel.c |   20 ++++++++++----------
 1 files changed, 10 insertions(+), 10 deletions(-)

commit 1a92cb8d2c13f3e864e61b98db4d3358d47c7769
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 14:03:07 2008 +0000

    Update doc-generator.xsl from telepathy-spec HEAD
    
    
    20080721140307-53eee-6a0557489561b371e7623dd2c73fe27994bcb5e8.gz

 tools/doc-generator.xsl |  419 ++++++++++++++++++++++++++++++++++++++++++-----
 1 files changed, 381 insertions(+), 38 deletions(-)

commit 6da382dcab8bdf090c499cbcf82e6172b1fc61e5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 13:58:58 2008 +0000

    Update code-gen tools from telepathy-glib 0.7.12
    
    
    20080721135858-53eee-e543608d57731a947b8617c9446e02daa8ea6f22.gz

 extensions/Makefile.am                   |   23 +--
 extensions/all.xml                       |    5 +
 tools/Makefile.am                        |   18 +-
 tools/c-constants-gen.py                 |  151 +++++++++++++++
 tools/c-constants-generator.xsl          |  299 ------------------------------
 tools/c-interfaces-generator.xsl         |   84 ---------
 tools/glib-interfaces-body-generator.xsl |   47 -----
 tools/glib-interfaces-gen.py             |   97 ++++++++++
 tools/glib-interfaces-generator.xsl      |   55 ------
 tools/libglibcodegen.py                  |    6 +-
 tools/libtpcodegen.py                    |   41 ++++-
 11 files changed, 311 insertions(+), 515 deletions(-)

commit 840b9d157369f41d86803193ba37bf1731caced5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 13:52:56 2008 +0000

    Update xep.xsl to r2040
    
    
    20080721135256-53eee-dab1d1a9b1f6239412527bd636530192b80cff9b.gz

 tools/xep.xsl |   16 +++++++++++-----
 1 files changed, 11 insertions(+), 5 deletions(-)

commit 2a0761aecefcaef5de642bd9c89d3abc383daa79
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 13:29:56 2008 +0000

    Remove tab in check-c-style.sh
    
    
    20080721132956-53eee-7fd748c43c6a9df70f0e6441c3b821e2fe8e1b87.gz

 tools/check-c-style.sh |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8f50e97a03dd1eb2d0cf6eae4297a12d75308f96
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 13:18:54 2008 +0000

    check-c-style.sh: be strict about formatting of casts and pointer types
    
    
    20080721131854-53eee-9eb995b5a0a4e610900b5c0201169a7a9b3312ec.gz

 tools/check-c-style.sh |   20 ++++++++++++++++++++
 1 files changed, 20 insertions(+), 0 deletions(-)

commit 7035166c8608034d0ad4cd4dde250b54f375ed29
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 13:16:28 2008 +0000

    More coding style nits re: casts
    
    
    20080721131628-53eee-79be88afb4a9d9d84cb424e389a17586db8ca1e0.gz

 src/connection.c            |    2 +-
 src/disco.c                 |    6 +++---
 src/im-channel.c            |    2 +-
 src/muc-factory.c           |    2 +-
 src/presence.c              |    2 +-
 src/private-tubes-factory.c |    2 +-
 src/roster.c                |    2 +-
 src/tube-stream.c           |    4 ++--
 src/vcard-manager.c         |    4 ++--
 9 files changed, 13 insertions(+), 13 deletions(-)

commit 532a16ddfd71cc42f4a054514957c4da4ff90d62
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 13:16:06 2008 +0000

    tubes-channel: coding style nits: casts should look like (TpBaseConnection *) priv->conn
    
    
    20080721131606-53eee-5c55fcbe2e96bc437f2f27c19e7a0158d0d19e31.gz

 src/tubes-channel.c |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit 8d86a9375d7720d787aa11e6d0f55bcaf1d3acaa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 13:15:02 2008 +0000

    conn-olpc.c: make all casts and pointer types look like (foo *) bar
    
    
    20080721131502-53eee-0325f0e19eb16a9732da7c67331663840eda48ed.gz

 src/conn-olpc.c |   28 ++++++++++++++--------------
 1 files changed, 14 insertions(+), 14 deletions(-)

commit 66907e603225fb66e0e6e32acbc651c52d1fe854
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Jul 18 20:28:14 2008 +0000

    enure pointer casts have a space after them
    
    
    20080718202814-c9803-6a9dba64677bfbca45459e03a3acaf09268fe050.gz

 src/conn-aliasing.c         |    8 ++--
 src/conn-avatars.c          |   14 ++++----
 src/conn-presence.c         |    2 +-
 src/connection-manager.c    |    8 ++--
 src/connection.c            |   54 ++++++++++++++++----------------
 src/gabble.c                |    2 +-
 src/im-channel.c            |   12 +++---
 src/im-factory.c            |   10 +++---
 src/media-channel.c         |   20 ++++++------
 src/media-factory.c         |   12 +++---
 src/media-session.c         |   10 +++---
 src/media-stream.c          |    4 +-
 src/muc-channel.c           |   24 +++++++-------
 src/presence-cache.c        |   18 +++++-----
 src/presence.c              |    4 +-
 src/private-tubes-factory.c |    2 +-
 src/pubsub.c                |    2 +-
 src/roomlist-channel.c      |   18 +++++-----
 src/roster-channel.c        |   20 ++++++------
 src/roster.c                |   72 +++++++++++++++++++++---------------------
 src/tubes-channel.c         |    4 +-
 src/util.c                  |    2 +-
 src/vcard-manager.c         |   22 ++++++------
 tests/test-handles.c        |    2 +-
 24 files changed, 173 insertions(+), 173 deletions(-)

commit f6f4f04dde0c2ec5b3cb4996a42e011f8b132291
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 12:52:23 2008 +0000

    rename test-gabble-presence to test-presence
    
    
    20080714125223-c9803-e14004ce94fe1ae7642907e0f5523a5904bb2186.gz

 tests/Makefile.am            |    8 +-
 tests/test-gabble-presence.c |  172 ------------------------------------------
 tests/test-presence.c        |  172 ++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 176 insertions(+), 176 deletions(-)

commit 8562f9c88d430044bb045953efc6af58de80d209
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 12:50:15 2008 +0000

    tidy up test includes
    
    
    20080714125015-c9803-acacc316904effa3073fe1942a4f23f3f739a5ee.gz

 tests/test-base64.c             |    2 +-
 tests/test-dtube-unique-names.c |    3 ++-
 tests/test-gabble-presence.c    |    3 ++-
 tests/test-handles.c            |    3 ++-
 tests/test-jid-decode.c         |    2 +-
 tests/test-parse-message.c      |    2 +-
 6 files changed, 9 insertions(+), 6 deletions(-)

commit afb63b0be4490cfbff88af814f279df85041917c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 12:42:53 2008 +0000

    src/Makefile.am: put source file lists in correct order
    
    
    20080714124253-c9803-2432c6069041208ff38bcef2ae9eb4ed168fd1a2.gz

 src/Makefile.am |   52 ++++++++++++++++++++++++++--------------------------
 1 files changed, 26 insertions(+), 26 deletions(-)

commit 30248138d1dd011a109b263d38c30222f2378494
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 12:07:12 2008 +0000

    remove gabble- prefix from generated gabble-media-session-enumtypes.*
    
    
    20080714120712-c9803-3263415bf3dd0bdfe334910e30a1e06e40ec29e8.gz

 src/Makefile.am    |    4 ++--
 src/media-stream.c |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 600907230af87c7de205c4b457917effcc741cd1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:38 2008 +0000

    rename gabble-roster-channel.c to roster-channel.c
    
    
    20080714115838-c9803-b82f2f0fb4634f9430ca1a81b5ed7e1ea246ccfd.gz

 src/Makefile.am             |    2 +-
 src/gabble-roster-channel.c |  685 -------------------------------------------
 src/roster-channel.c        |  685 +++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 686 insertions(+), 686 deletions(-)

commit 064889081df2a8e1630ed438a5bdb3c44736d4c0
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:38 2008 +0000

    rename gabble-roomlist-channel.c to roomlist-channel.c
    
    
    20080714115838-c9803-3f3f0e9f6e32da66c47c29b78ab8ac859df17efd.gz

 src/Makefile.am               |    2 +-
 src/gabble-roomlist-channel.c |  753 -----------------------------------------
 src/roomlist-channel.c        |  753 +++++++++++++++++++++++++++++++++++++++++
 3 files changed, 754 insertions(+), 754 deletions(-)

commit c29da40c7e17e8b5cd189108440a2c1ef22a0245
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:37 2008 +0000

    rename gabble-register.c to register.c
    
    
    20080714115837-c9803-b36112555b3f4618ceec8c6facea1d2dd835a993.gz

 src/Makefile.am       |    2 +-
 src/gabble-register.c |  355 -------------------------------------------------
 src/register.c        |  355 +++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 356 insertions(+), 356 deletions(-)

commit bcdbd3686024b8b6d5d660652b59d3bdddb98580
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:36 2008 +0000

    rename gabble-muc-channel.c to muc-channel.c
    
    
    20080714115836-c9803-8c51126e67012de333917560299d2b0372e1f25d.gz

 src/Makefile.am          |    2 +-
 src/gabble-muc-channel.c | 3058 ----------------------------------------------
 src/muc-channel.c        | 3058 ++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 3059 insertions(+), 3059 deletions(-)

commit eaf513ef4bcbc76b970ff071dc792d1da37882e0
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:35 2008 +0000

    rename gabble-media-stream.c to media-stream.c
    
    
    20080714115835-c9803-0a4791ee635a50c65a7370d74724441b91f78bcf.gz

 src/Makefile.am           |    2 +-
 src/gabble-media-stream.c | 1843 ---------------------------------------------
 src/media-stream.c        | 1843 +++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 1844 insertions(+), 1844 deletions(-)

commit 624735b1fc0dbec02f0c08312f88ed96b8ccde09
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:35 2008 +0000

    rename gabble-media-session.c to media-session.c
    
    
    20080714115835-c9803-d8d7f9467a1da82d7b731f9201be900ae78bbfa5.gz

 src/Makefile.am            |    2 +-
 src/gabble-media-session.c | 2938 --------------------------------------------
 src/media-session.c        | 2938 ++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 2939 insertions(+), 2939 deletions(-)

commit f89de14a113559c2c2253b94a99027910c4783f1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:34 2008 +0000

    rename gabble-media-channel.c to media-channel.c
    
    
    20080714115834-c9803-d4d622d4f2e0b8b2f97748166a4961b5e1d36518.gz

 src/Makefile.am            |    2 +-
 src/gabble-media-channel.c | 1874 --------------------------------------------
 src/gabble-media-session.c |    2 +-
 src/media-channel.c        | 1874 ++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 1876 insertions(+), 1876 deletions(-)

commit bb928e807257e818ae711646ed50cdd4ed48b112
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:32 2008 +0000

    rename gabble-im-channel.c to im-channel.c
    
    
    20080714115832-c9803-18b8ff93d77e0120c1e1a49f86cfa32f6f3ce936.gz

 src/Makefile.am         |    2 +-
 src/gabble-im-channel.c |  639 -----------------------------------------------
 src/im-channel.c        |  639 +++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 640 insertions(+), 640 deletions(-)

commit 5ebaec9b3bad56a741173ee7edf50ba9965e3b6e
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:32 2008 +0000

    rename gabble-error.c to error.c
    
    
    20080714115832-c9803-6977c5b97dc072f856d7b4b67f1f14852a888761.gz

 src/Makefile.am    |    2 +-
 src/error.c        |  478 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/gabble-error.c |  478 ----------------------------------------------------
 3 files changed, 479 insertions(+), 479 deletions(-)

commit f3da60bbcb6c0af78ac760a3a9dad249dae3a2ec
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:31 2008 +0000

    rename gabble-connection-manager.c to connection-manager.c
    
    
    20080714115831-c9803-0d202f26e1a036bf7803eaa2bc8cbc9855f5c1ca.gz

 data/Makefile.am                |    2 +-
 src/Makefile.am                 |    2 +-
 src/connection-manager.c        |  279 +++++++++++++++++++++++++++++++++++++++
 src/gabble-connection-manager.c |  279 ---------------------------------------
 4 files changed, 281 insertions(+), 281 deletions(-)

commit 1f1f7b0d4975bf6bc3eab7dd9b19dae1e6ceb526
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:30 2008 +0000

    rename gabble-connection.c to connection.c
    
    
    20080714115830-c9803-c7efbff10cfc04b5d49398ae335e4b27dc2c122f.gz

 src/Makefile.am         |    2 +-
 src/connection.c        | 2794 +++++++++++++++++++++++++++++++++++++++++++++++
 src/connection.h        |    2 +-
 src/gabble-connection.c | 2794 -----------------------------------------------
 4 files changed, 2796 insertions(+), 2796 deletions(-)

commit c902650d54933d39bbe21e8a77471cc2f6ce33f0
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:30 2008 +0000

    rename gabble-types.h to types.h
    
    
    20080714115830-c9803-7d733e4f99dd33ecb482dd00188ccb38f34c14a6.gz

 src/Makefile.am          |    2 +-
 src/bytestream-factory.h |    2 +-
 src/connection.h         |    2 +-
 src/disco.h              |    2 +-
 src/gabble-types.h       |   67 ----------------------------------------------
 src/media-session.h      |    2 +-
 src/media-stream.h       |    2 +-
 src/muc-channel.h        |    2 +-
 src/muc-factory.h        |    2 +-
 src/presence.h           |    2 +-
 src/request-pipeline.h   |    2 +-
 src/roster-channel.h     |    2 +-
 src/roster.h             |    2 +-
 src/types.h              |   67 ++++++++++++++++++++++++++++++++++++++++++++++
 src/util.h               |    2 +-
 src/vcard-manager.h      |    2 +-
 16 files changed, 81 insertions(+), 81 deletions(-)

commit 82d8baded2195de1774ca7e7545a76180e37d96c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:29 2008 +0000

    rename gabble-roster-channel.h to roster-channel.h
    
    
    20080714115829-c9803-a8a686a809ace1f96474510cc4187d6943fac4e5.gz

 src/Makefile.am             |    2 +-
 src/gabble-roster-channel.c |    2 +-
 src/gabble-roster-channel.h |   71 -------------------------------------------
 src/roster-channel.h        |   71 +++++++++++++++++++++++++++++++++++++++++++
 src/roster.c                |    2 +-
 5 files changed, 74 insertions(+), 74 deletions(-)

commit bb2f899b514f265dd552f5a9a13e876a100f1506
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:27 2008 +0000

    rename gabble-roomlist-channel.h to roomlist-channel.h
    
    
    20080714115827-c9803-a9a7f479bf6a2c1596189c64855d1e2d3cc94ba4.gz

 src/Makefile.am               |    2 +-
 src/gabble-connection.c       |    2 +-
 src/gabble-roomlist-channel.c |    2 +-
 src/gabble-roomlist-channel.h |   71 -----------------------------------------
 src/muc-factory.c             |    2 +-
 src/roomlist-channel.h        |   71 +++++++++++++++++++++++++++++++++++++++++
 6 files changed, 75 insertions(+), 75 deletions(-)

commit e11173861af800d9d8cd0e7ee6b29228c113a1a6
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:25 2008 +0000

    rename gabble-register.h to register.h
    
    
    20080714115825-c9803-37d40d361f6b9d2bcbfd379dce8fee1aa76ecdf7.gz

 src/Makefile.am         |    2 +-
 src/gabble-connection.c |    2 +-
 src/gabble-register.c   |    2 +-
 src/gabble-register.h   |   67 -----------------------------------------------
 src/register.h          |   67 +++++++++++++++++++++++++++++++++++++++++++++++
 5 files changed, 70 insertions(+), 70 deletions(-)

commit 34cec31e783c4e15afbdf5dd0c204e9bfcfe7d4b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:22 2008 +0000

    rename gabble-muc-channel.h to muc-channel.h
    
    
    20080714115822-c9803-3b750d4b9607d8551f84e2d6a41a34aaaaf09b63.gz

 src/Makefile.am             |    2 +-
 src/conn-olpc.c             |    2 +-
 src/gabble-muc-channel.c    |    2 +-
 src/gabble-muc-channel.h    |  106 -------------------------------------------
 src/muc-channel.h           |  106 +++++++++++++++++++++++++++++++++++++++++++
 src/muc-factory.c           |    2 +-
 src/private-tubes-factory.c |    2 +-
 src/tubes-channel.h         |    2 +-
 8 files changed, 112 insertions(+), 112 deletions(-)

commit b783fd441c4bc1b1fc4daeb9dd34a508616b9e95
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:20 2008 +0000

    rename gabble-media-stream.h to media-stream.h
    
    
    20080714115820-c9803-849df37880f87f24356333f7e6f1be9ed5f89314.gz

 src/Makefile.am            |    2 +-
 src/gabble-media-channel.c |    2 +-
 src/gabble-media-session.c |    2 +-
 src/gabble-media-stream.c  |    2 +-
 src/gabble-media-stream.h  |  144 --------------------------------------------
 src/media-session.h        |    2 +-
 src/media-stream.h         |  144 ++++++++++++++++++++++++++++++++++++++++++++
 7 files changed, 149 insertions(+), 149 deletions(-)

commit 2a4a4d559effc70de2383f3f71dc8f7bada81fb3
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:17 2008 +0000

    rename gabble-media-session.h to media-session.h
    
    
    20080714115817-c9803-0ea97d887f52df557246d41914d4b7a2988df9f5.gz

 src/Makefile.am            |    2 +-
 src/gabble-media-channel.c |    4 +-
 src/gabble-media-session.c |    2 +-
 src/gabble-media-session.h |  168 --------------------------------------------
 src/gabble-media-stream.c  |    2 +-
 src/media-channel.h        |    2 +-
 src/media-session.h        |  168 ++++++++++++++++++++++++++++++++++++++++++++
 7 files changed, 174 insertions(+), 174 deletions(-)

commit 823ab65e3648863b77f520b00886548ff4c11651
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:14 2008 +0000

    rename gabble-media-channel.h to media-channel.h
    
    
    20080714115814-c9803-8e596dfd10670fcf633db3d77757a648771d0bb8.gz

 src/Makefile.am            |    2 +-
 src/capabilities.c         |    2 +-
 src/gabble-connection.c    |    2 +-
 src/gabble-media-channel.c |    2 +-
 src/gabble-media-channel.h |  108 --------------------------------------------
 src/gabble-media-session.c |    2 +-
 src/gabble-media-stream.c  |    2 +-
 src/media-channel.h        |  108 ++++++++++++++++++++++++++++++++++++++++++++
 src/media-factory.c        |    2 +-
 src/media-factory.h        |    2 +-
 10 files changed, 116 insertions(+), 116 deletions(-)

commit 26fc4018e160e785bfb4a8c8cc0129d1e5c99944
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:11 2008 +0000

    rename gabble-im-channel.h to im-channel.h
    
    
    20080714115811-c9803-008bc2f72851b17888dd9391e61d02ceb43af6a5.gz

 src/Makefile.am         |    2 +-
 src/gabble-im-channel.c |    2 +-
 src/gabble-im-channel.h |   75 -----------------------------------------------
 src/im-channel.h        |   75 +++++++++++++++++++++++++++++++++++++++++++++++
 src/im-factory.c        |    2 +-
 src/im-factory.h        |    2 +-
 6 files changed, 79 insertions(+), 79 deletions(-)

commit 7ebc3f536fa31f0d8f2032d15bb71044ef365ace
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:09 2008 +0000

    rename gabble-error.h to error.h
    
    
    20080714115809-c9803-b865ce9eca9b78a5e776e544677e40490d7d225d.gz

 src/Makefile.am          |    2 +-
 src/bytestream-ibb.h     |    2 +-
 src/connection.h         |    2 +-
 src/disco.c              |    2 +-
 src/error.h              |   85 ++++++++++++++++++++++++++++++++++++++++++++++
 src/gabble-error.c       |    2 +-
 src/gabble-error.h       |   85 ----------------------------------------------
 src/gabble-muc-channel.c |    2 +-
 src/gabble-register.c    |    2 +-
 9 files changed, 92 insertions(+), 92 deletions(-)

commit d83f63eeeb05f6fb995525370fef4dd5fe0aa867
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:06 2008 +0000

    rename gabble-connection-manager.h to connection-manager.h
    
    
    20080714115806-c9803-f201bea0260e5e0dd87ce25367288db3358ec090.gz

 src/Makefile.am                 |    2 +-
 src/connection-manager.h        |   65 +++++++++++++++++++++++++++++++++++++++
 src/gabble-connection-manager.c |    2 +-
 src/gabble-connection-manager.h |   65 ---------------------------------------
 src/gabble.c                    |    2 +-
 src/write-mgr-file.c            |    2 +-
 6 files changed, 69 insertions(+), 69 deletions(-)

commit b0a2ee7e9fc758952bf48117566cd064376066a9
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:04 2008 +0000

    rename gabble-connection.h to connection.h
    
    
    20080714115804-c9803-1409d186eb2b363c7dab712f3fc046972cdf7c7d.gz

 src/Makefile.am                 |    2 +-
 src/bytestream-factory.c        |    2 +-
 src/bytestream-factory.h        |    2 +-
 src/bytestream-ibb.c            |    2 +-
 src/bytestream-iface.c          |    2 +-
 src/bytestream-muc.c            |    2 +-
 src/caps-hash.h                 |    2 +-
 src/conn-aliasing.c             |    2 +-
 src/conn-aliasing.h             |    2 +-
 src/conn-avatars.h              |    2 +-
 src/conn-olpc.c                 |    2 +-
 src/conn-olpc.h                 |    2 +-
 src/conn-presence.c             |    4 +-
 src/conn-presence.h             |    2 +-
 src/connection.h                |  200 +++++++++++++++++++++++++++++++++++++++
 src/disco.c                     |    2 +-
 src/gabble-connection-manager.c |    2 +-
 src/gabble-connection.c         |    4 +-
 src/gabble-connection.h         |  200 ---------------------------------------
 src/gabble-im-channel.c         |    2 +-
 src/gabble-media-channel.c      |    2 +-
 src/gabble-media-session.c      |    2 +-
 src/gabble-media-stream.c       |    2 +-
 src/gabble-muc-channel.c        |    2 +-
 src/gabble-register.c           |    2 +-
 src/gabble-register.h           |    2 +-
 src/gabble-roomlist-channel.c   |    2 +-
 src/gabble-roomlist-channel.h   |    2 +-
 src/gabble-roster-channel.c     |    2 +-
 src/im-factory.c                |    2 +-
 src/media-factory.c             |    2 +-
 src/muc-factory.c               |    2 +-
 src/presence.h                  |    2 +-
 src/private-tubes-factory.c     |    2 +-
 src/private-tubes-factory.h     |    2 +-
 src/pubsub.h                    |    2 +-
 src/request-pipeline.c          |    2 +-
 src/roster.c                    |    2 +-
 src/text-mixin.c                |    2 +-
 src/tube-dbus.c                 |    2 +-
 src/tube-dbus.h                 |    2 +-
 src/tube-iface.c                |    2 +-
 src/tube-stream.c               |    2 +-
 src/tube-stream.h               |    2 +-
 src/tubes-channel.c             |    2 +-
 src/util.c                      |    2 +-
 src/vcard-manager.c             |    2 +-
 tests/test-handles.c            |    2 +-
 tests/twisted/main-debug.c      |    2 +-
 49 files changed, 249 insertions(+), 249 deletions(-)

commit 5b1a979deafdb1a2a5e07179d4397fea99ef5681
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 1 18:30:20 2008 +0000

    test-muc.py: remove redundant call to dbus.SessionBus
    
    
    20080701183020-53eee-5e7e5663527f930bd96d9162f8518c1d32329e41.gz

 tests/twisted/muc/test-muc.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 77182f9bcee9678fe09a59bea19d89fbcf935ac6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 1 18:29:58 2008 +0000

    test-muc.py: unwrap lines that used to be too long, but are now < 80 characters
    
    
    20080701182958-53eee-4679e874888212527fdc431270a7e94ae14b94e5.gz

 tests/twisted/muc/test-muc.py |    6 ++----
 1 files changed, 2 insertions(+), 4 deletions(-)

commit d7b0eea2241ac652ac10cd2643a1c34fc84c4cbb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 1 18:29:40 2008 +0000

    Add _gen/gtypes-body.h to CLEANFILES (indirectly), fixing distcheck
    
    
    20080701182940-53eee-493d0541a599392e2f93c032a1885b7f6e0326f6.gz

 extensions/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 6b86bce0e89f103cce59a73e28c874e48ad6d5e8
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Mon Jun 16 13:56:32 2008 +0000

    Implement SimplePresence
    
    
    20080616135632-93b9a-41c4521c70e43987b338f7f0c396b41a684a7bbf.gz

 src/conn-presence.c |    6 ++++++
 src/connection.c    |   10 ++++++++++
 src/connection.h    |    2 ++
 3 files changed, 18 insertions(+), 0 deletions(-)

commit 7a5efaf3f1810adf75e1f866d519b504d04efc71
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 17:59:57 2008 +0000

    GabbleMucFactory: document disco_requests
    
    
    20080728175957-53eee-33e5618753aca5a4bcd3c09a0322f9ecfa57d201.gz

 src/muc-factory.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit f184276b52ce0eac9996bab3646df61925a5fdce
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 16:23:20 2008 +0000

    GabblePrivateTubesFactory: remove useless connecting/connected/disconnected callbacks
    
    
    20080728162320-53eee-95692f5b48963faf8d03536b513fd5fea45cbae2.gz

 src/private-tubes-factory.c |   21 ---------------------
 1 files changed, 0 insertions(+), 21 deletions(-)

commit 70f5383278e98c9d44c722113e15282eed04b9e0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 28 15:40:20 2008 +0000

    GabbleImFactory: remove unnecessary forward-declaration
    
    
    20080728154020-53eee-d0c41891e21da35d72403dcb6d3e4b9f4cfcd0dc.gz

 src/im-factory.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit dc37ec90c8736d8f326a0c4a73561d76241d36b2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 24 17:21:21 2008 +0000

    GabbleIMChannel: use tp_text_mixin_has_pending_messages (requires telepathy-glib 0.7.13)
    
    
    20080724172121-53eee-8d1041ac7c79ae2de4a55e39e6e1df27a1554b66.gz

 src/im-channel.c |   28 +++-------------------------
 1 files changed, 3 insertions(+), 25 deletions(-)

commit f432f77955ecbbc312a3d91669f6e95198a1856d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 29 13:17:40 2008 +0000

    Require telepathy-glib 0.7.13 (for Requests-related functions)
    
    
    20080729131740-53eee-39a243245987d2e78a6c2575f863e30ba1fdda29.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 76538aa3c580b9de4f518c6fbc66f48b17a7f4e3
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Jul 29 11:12:41 2008 +0000

    Add assert to args checking and use nicer variable names
    
    
    20080729111241-b58c9-4fe3b09b587e72abf110758b25c9636dd5733d07.gz

 tests/twisted/test-set-status-idempotence.py |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit 57fac22fd2acb26b4dc6d6c05daf6b91f3ced69f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   Tue Jul 29 10:23:03 2008 +0000

    port test-set-status-idempotence to the new test API
    
    
    20080729102303-b58c9-b789671b2808086fdd054917550c37c5273baa94.gz

 tests/twisted/test-set-status-idempotence.py |   68 +++++++++++---------------
 1 files changed, 28 insertions(+), 40 deletions(-)

commit eebfff082368a82647d8dcda2d4bacdaff2670bb
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 03:53:58 2008 +0000

    push out new MUC presences when the global presence is changed
    
    
    20080727035358-418b8-d648ede14a4f76af7d1556677413bcf34ca30dc2.gz

 src/connection.c              |    5 +++++
 tests/twisted/muc/test-muc.py |   12 ++++++++++++
 2 files changed, 17 insertions(+), 0 deletions(-)

commit f7afa1df8195496718917f7a2402ec555adf4104
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 03:32:15 2008 +0000

    test that closing the MUC results in sending unavailable presence to it
    
    
    20080727033215-418b8-289918ab63bd3104200c59bdf3e10799765c4ba8.gz

 tests/twisted/muc/test-muc.py |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 013e9865bed703f1b5c372e80950ecbb7e6b48ea
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 03:26:58 2008 +0000

    generate MUC presence messages using the real connection-wide presence
    
    With a pedantic interpretation, this is arguable a spec violation because it
    exposes your presence to handles who are not on your "publish" list. However, I
    think that given other protocols (essentially, anything but XMPP) exist where
    joining a chat will always expose your presence, I don't think it's reasonable
    for clients or users to rely on this additional exposure not happening anyway.
    Consider the absurdity of expecting that you can be invisible even when you've
    joined a group chat. If someone wants the XMPP-specific semantics badly, we can
    add a RoomPresence interface or somesuch, and they can set a property in order
    to publish a per-room presence.
    
    20080727032658-418b8-171a0e74e3910f331a49d333491376e1e73ec9f2.gz

 src/muc-channel.c |   17 +++++++++++++++--
 1 files changed, 15 insertions(+), 2 deletions(-)

commit 5d329af29ea57a46bde699016c80740f31df67e0
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 03:18:32 2008 +0000

    fix MUC test to actually finish the function
    
    
    20080727031832-418b8-6b0ecb57ba3699a967ceab350cfa9485bc5faaec.gz

 tests/twisted/muc/test-muc.py |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 1d3c24ca525c4dd7fc92dad1c85d1a95c88e4687
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 02:34:41 2008 +0000

    add a "to" argument to gabble_presence_as_message, as you can't change the recipient of an LmMessage after it's been created
    
    
    20080727023441-418b8-32e10597064f33e4994ba5be32e092a4136e9ddc.gz

 src/connection.c |    2 +-
 src/presence.c   |    7 ++++---
 src/presence.h   |    3 ++-
 3 files changed, 7 insertions(+), 5 deletions(-)

commit 8edc74308a5e9740debb34947eec5cef1fdee163
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 02:27:41 2008 +0000

    remove resource argument from gabble_presence_as_message entirely, as it's only ever useful on your self_presence which only has one resource
    
    
    20080727022741-418b8-166eb619558dc4ec5ad64c1bc1c9eec8c76283aa.gz

 src/connection.c |    3 +--
 src/presence.c   |    7 ++-----
 src/presence.h   |    3 +--
 3 files changed, 4 insertions(+), 9 deletions(-)

commit 8997826236015d49d1d3a1db45242cb4bdb9fbc9
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 02:18:15 2008 +0000

    make gabble_presence_as_message accept NULL as a shorthand for "first resource", as self_presence only has one resource
    
    
    20080727021815-418b8-aefea37a7b26e3baa99e12eb7a5146f40b8106cd.gz

 src/presence.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit e421737e13de75d15bfb75a479448ec9eb5889cd
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 01:12:03 2008 +0000

    remove needless assertions (including removing the ability to cause an assertion error by sending an old-style MUC invite with no body)
    
    
    20080727011203-418b8-b1d6ec84a5a94eeaf9e56ee8abcffb46fd2a5d31.gz

 src/muc-channel.c |    3 ---
 src/muc-factory.c |   18 ++----------------
 2 files changed, 2 insertions(+), 19 deletions(-)

commit 8744198f9cd2cf0cd44fe843b1d42485dcf1f8f1
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 00:57:30 2008 +0000

    add test for MUC alias coming from our connection alias
    
    
    20080727005730-418b8-e5dcbddac8cf09cdb9f439070c35760e4456bb3b.gz

 tests/twisted/Makefile.am           |    1 +
 tests/twisted/muc/test-muc-alias.py |   87 +++++++++++++++++++++++++++++++++++
 2 files changed, 88 insertions(+), 0 deletions(-)

commit 467d51a8e196e8e473b83b7efb24c9c69a5d962f
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 00:44:30 2008 +0000

    make create_room_identity return self_handle directly
    
    
    20080727004430-418b8-c00dcfa62df21c31893466886a30c422e11dbb76.gz

 src/muc-channel.c |   18 +++++++-----------
 1 files changed, 7 insertions(+), 11 deletions(-)

commit 8660bd9b8a4ac6f594048888bb4eca2d53579fd7
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 00:32:41 2008 +0000

    build MUC self_jid with the alias for our self_handle, not just the local part of the JID (note it's guaranteed not to be NULL, as _get_cached_alias falls back to the local part of the JID anyway)
    
    
    20080727003241-418b8-2fd067153296de634c2e929f8adcaec85e7026fa.gz

 src/muc-channel.c |   21 +++++++++------------
 1 files changed, 9 insertions(+), 12 deletions(-)

commit 3ba546108be3273ccba319f99aea0a3a577ad995
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 00:19:33 2008 +0000

    invert sense of the if (priv->invited)
    
    
    20080727001933-418b8-ebe152e1540229f191ac074d964b1f67382cb903.gz

 src/muc-channel.c |   32 ++++++++++++++++----------------
 1 files changed, 16 insertions(+), 16 deletions(-)

commit 38e44455750e0932b500056458534a00fbdd1b57
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 00:18:49 2008 +0000

    inline _handle_invited function into the constructor
    
    
    20080727001849-418b8-d2f53d0ffa827f4f3a5988110071179486e4d97c.gz

 src/muc-channel.c |   55 +++++++++++++++-------------------------------------
 1 files changed, 16 insertions(+), 39 deletions(-)

commit b48c84fad96360a7ed3a54075e793a0e92116357
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 00:06:49 2008 +0000

    when we're invited, mark the channel as ready in the constructor (emitting a signal is pointless before the constructor has returned)
    
    
    20080727000649-418b8-9102892e630d39bcd79d2d1d16881e242d465774.gz

 src/muc-channel.c |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)

commit 60406d82f33827667d7e692b70476467fe46042e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 00:04:58 2008 +0000

    store MUC state booleans in bit fields
    
    
    20080727000458-418b8-ca579ad0d48756a99804f201d0ce8fe1057f5160.gz

 src/muc-channel.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 0f286d117d1d28f87851b83a720e0e2a354ffc81
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 00:04:32 2008 +0000

    rename ready_emitted to ready
    
    
    20080727000432-418b8-3474d1db2079a5f8836f7e32304160acea5b9b39.gz

 src/muc-channel.c |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit d6b10c3ae87226a247368b194664d472671db57b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Jul 27 00:01:05 2008 +0000

    rename MUC "invite-self" property to "invited" with the inverse sense, because I have no idea what "invite-self" is meant to mean
    
    
    20080727000105-418b8-90d6353dc24ae944cd5b87715dc16f9c3534cd85.gz

 src/muc-channel.c |   22 +++++++++++-----------
 src/muc-factory.c |   18 +++++++++---------
 2 files changed, 20 insertions(+), 20 deletions(-)

commit 7d7121977e25ce474b10df622f7964df57eef4f1
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sat Jul 26 23:55:07 2008 +0000

    don't queue MUC invite reasons as a text message, we've got the LocalPendingMembers property
    
    
    20080726235507-418b8-a9ea8222a6fda83777783eea398c4e723fbba5b3.gz

 src/muc-channel.c |   11 -----------
 1 files changed, 0 insertions(+), 11 deletions(-)

commit cd6bf6ae49d62cd85347d637019c5282ccbe8179
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sat Jul 26 23:52:41 2008 +0000

    remove unused code (the function is only ever called after assert priv->initiator != 0)
    
    
    20080726235241-418b8-b9a3f84949d002484380d256dbd499de0044d0a4.gz

 src/muc-channel.c |    6 ------
 1 files changed, 0 insertions(+), 6 deletions(-)

commit 26f68cfcb3a7b28281ed1fc59f70e71a5769de99
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sat Jul 26 23:51:15 2008 +0000

    set self_jid directly from create_room_identity (and a nice assertion which uncovered the double-setting bug)
    
    
    20080726235115-418b8-42b3f61facbe01672b836dbe833f3fc4817b6f4c.gz

 src/muc-channel.c |   14 ++++++--------
 1 files changed, 6 insertions(+), 8 deletions(-)

commit ac7339ca4711e69887888f14b5444fdaa34efb7a
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sat Jul 26 23:46:03 2008 +0000

    fix repeated creation (and leaking) of self_jid when invited to a MUC
    
    
    20080726234603-418b8-34208096c5effb1d2fc61c5d2279f91a22bec933.gz

 src/muc-channel.c |   16 +++++-----------
 1 files changed, 5 insertions(+), 11 deletions(-)

commit d5a4714525eacdc197896b08f453e2a350e106ce
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sat Jul 26 23:00:05 2008 +0000

    rename contact_handle_to_room_identity to create_room_identity and remove needless self_handle argument
    
    
    20080726230005-418b8-1eb5e98484eb82b152d8fcc954fb6231809eced0.gz

 src/muc-channel.c |   20 +++++++++-----------
 1 files changed, 9 insertions(+), 11 deletions(-)

commit 2d521a150422d390d44f7d707b43a5b6961eea99
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 29 10:10:37 2008 +0000

    connection: add missing blank line
    
    
    20080729101037-7fe3f-8e2eaf2c263dc5a16cf1090d1c5cc0a70330ae06.gz

 src/connection.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 958fe861d3be9411db277785c161d3af72367eac
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 29 08:38:13 2008 +0000

    increase calls stack size when running test with valgrind
    
    
    20080729083813-7fe3f-d1ead5468d3c0454521019614944feca9a113e26.gz

 tests/twisted/tools/exec-with-log.sh.in |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 6d519deea1780222f6e02ced488b5fdd168b0f3c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 29 08:29:19 2008 +0000

    connection: fix SSL leak when we are not using old-ssl
    
    
    20080729082919-7fe3f-c986babb748af9325236eadd5a41eb816300c89c.gz

 src/connection.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 6228ee000d9bd30037a1029ff9311695e042dbdc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 25 09:50:58 2008 +0000

    GabbleRosterChannel: remove FIXME comments, Sjoerd thinks the current implementation is fine
    
    
    20080725095058-53eee-ff9b1ae44c396a4186ecc92dbf3cd3ed25ec4b8e.gz

 src/roster-channel.c |    6 ------
 1 files changed, 0 insertions(+), 6 deletions(-)

commit 9bb2049c49a4d6b2a60fa57954d83e343a749fdc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 24 18:33:11 2008 +0000

    GabblePrivateTubesFactory: also replace g_return_val_if_fail with g_assert here
    
    
    20080724183311-53eee-d1c3557e643ac086e0b6e281a3df596f32b803ff.gz

 src/private-tubes-factory.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit d9f9eb20f814c4b948c486e79256a6bf37950dc6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 24 17:58:09 2008 +0000

    Revert g_return_val_if_fail in GabbleMediaFactory internals to a g_assert, having it return NULL is no more helpful
    
    
    20080724175809-53eee-53a2f19a69a1d4c3c5dff61df84ac53c33d3796a.gz

 src/media-factory.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 2ffd959749297dcd021709e6620680a1623f929f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 24 17:57:40 2008 +0000

    Remove unnecessary check that media channel has nonzero creator - we already asserted that in the constructor
    
    
    20080724175740-53eee-44adad2cb5790791296a48bd0429bc77753beccc.gz

 src/media-channel.c |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit ca596dd5eb38ec9dc8ae887ddee70d940fe32103
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 24 14:57:20 2008 +0000

    Add a regression test for respawning text channels
    
    
    20080724145720-53eee-b6cc808c3d273a50a8154596c0614942063b38a4.gz

 tests/twisted/Makefile.am     |    1 +
 tests/twisted/text/respawn.py |  163 +++++++++++++++++++++++++++++++++++++++++
 2 files changed, 164 insertions(+), 0 deletions(-)

commit bff8a2bf0c204eb438b69e51d7205437e9237d37
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 24 14:42:16 2008 +0000

    Implement the "respawning" behaviour for IM channels with pending messages remaining
    
    
    20080724144216-53eee-d2efd8bc914582f1b5c7e9b89ff810fb21e7e51b.gz

 src/im-channel.c |   61 ++++++++++++++++++++++++++++++++++++++++++++++++++++-
 src/im-factory.c |   30 ++++++++++++++++++++------
 2 files changed, 82 insertions(+), 9 deletions(-)

commit 309e0061168eb20bd65f2728765560e00e249ba9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 24 14:41:33 2008 +0000

    GabbleImFactory: simplify priv access
    
    
    20080724144133-53eee-e9108e43683cfc3311d76588538c1cfc2e32d31f.gz

 src/im-factory.c |   14 +++++++-------
 src/im-factory.h |    2 ++
 2 files changed, 9 insertions(+), 7 deletions(-)

commit 09794b455a607be1127b7cc8676dfab2cb3542b4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 24 10:18:14 2008 +0000

    Update Channel.FUTURE, and actually remember to add Connection.Interface.Requests XML
    
    
    20080724101814-53eee-1e6758b2fd7eeb31424e697ec87c48013afb9ecb.gz

 extensions/Channel_Future.xml                |   14 +-
 extensions/Connection_Interface_Requests.xml |  396 ++++++++++++++++++++++++++
 2 files changed, 402 insertions(+), 8 deletions(-)

commit 67d04f41cdb254fdebaf2ce31829cc68e0be2b2e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:33:17 2008 +0000

    Test the Requested property for Tubes
    
    
    20080722163317-53eee-df22e4ad8a1f6abe629809be20680f0b81595c7e.gz

 .../tubes/test-muc-accept-stream-tube-ibb.py       |    1 +
 tests/twisted/tubes/test-muc-offer-dbus-tube.py    |    1 +
 tests/twisted/tubes/test-si-tubes.py               |    1 +
 3 files changed, 3 insertions(+), 0 deletions(-)

commit ca55f4b01252a0faaa30f7608dacf0b11d41ad49
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:33:09 2008 +0000

    Test the Requested property for IM channels
    
    
    20080722163309-53eee-fe716ed31df1fa13fc7778c0ea0500468ef9e088.gz

 tests/twisted/text/initiate.py  |    1 +
 tests/twisted/text/test-text.py |    1 +
 2 files changed, 2 insertions(+), 0 deletions(-)

commit 670ce44aef378f49713ce3622149cb7b9a838608
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:33:01 2008 +0000

    Test the Requested property for roster channels
    
    
    20080722163301-53eee-cd53326cbefee17a77bbec11ed1481315f17e6e1.gz

 tests/twisted/roster/groups.py      |    1 +
 tests/twisted/roster/test-roster.py |    1 +
 2 files changed, 2 insertions(+), 0 deletions(-)

commit 668228b2d068a71cf45d68c31084778d12d9b57c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:32:49 2008 +0000

    Test the Requested property for MUCs
    
    
    20080722163249-53eee-7e9c4b66966453b365c1bd572348dc064fdb38b9.gz

 tests/twisted/muc/test-muc-invitation.py |    1 +
 tests/twisted/muc/test-muc.py            |    1 +
 2 files changed, 2 insertions(+), 0 deletions(-)

commit 2d3029f8e43af0b5513d231c91b16838cd7963f5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:32:37 2008 +0000

    muc/roomlist.py: exercise the Requested property
    
    
    20080722163237-53eee-5cf61f90f8e370640e6713742942bf9ef12c4e41.gz

 tests/twisted/muc/roomlist.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 4102af5e73afe0c7fef8473958993f9bc10d4242
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:32:16 2008 +0000

    tests/twisted/jingle/: exercise the Requested property
    
    
    20080722163216-53eee-c720207242565dc3ccfca6d90eba224d8083e40a.gz

 tests/twisted/jingle/test-incoming-call-reject.py  |    1 +
 .../jingle/test-outgoing-call-deprecated.py        |    1 +
 .../jingle/test-outgoing-call-deprecated2.py       |    1 +
 tests/twisted/jingle/test-outgoing-call.py         |    1 +
 4 files changed, 4 insertions(+), 0 deletions(-)

commit a5ee1ab61c3eefc6613b9397a9d1c99491132f3d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:32:02 2008 +0000

    GabbleTubesChannel: add the Requested property
    
    
    20080722163202-53eee-1f2af74c966e695a744d0db238a59fc6bf3f88c8.gz

 src/tubes-channel.c |   18 ++++++++++++++++--
 1 files changed, 16 insertions(+), 2 deletions(-)

commit 0184a3b27faf2d481dc778cc1eedcab433d58265
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:31:45 2008 +0000

    GabbleRosterChannel: add the Requested property (trivial implementation)
    
    
    20080722163145-53eee-65be6b5811c1a393549f063f2bfa37088467d579.gz

 src/roster-channel.c |   19 ++++++++++++++++++-
 1 files changed, 18 insertions(+), 1 deletions(-)

commit f7f53efde50b38fc0d8605f6bcdb2085280bbc9d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:31:33 2008 +0000

    GabbleRoomlistChannel: add the Requested property
    
    
    20080722163133-53eee-38b218cfaf8944f24b0970c9ae6abb4a6b50fe02.gz

 src/roomlist-channel.c |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit 7efd9d7d857ae8b772a7324c214a509c7bee1614
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:31:18 2008 +0000

    GabbleMucChannel: add the Requested property
    
    
    20080722163118-53eee-2082d2b6124096b8fbc5ab6c7ad338fc7f9d26a3.gz

 src/muc-channel.c |   15 ++++++++++++++-
 1 files changed, 14 insertions(+), 1 deletions(-)

commit a6be8280368eba38721ca03c36447d7a37dbb9b1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:31:05 2008 +0000

    GabbleMediaChannel: add the Requested property
    
    
    20080722163105-53eee-dd25207349f5dce5395f6024b52d56b8cc55e1d3.gz

 src/media-channel.c |   15 ++++++++++++++-
 1 files changed, 14 insertions(+), 1 deletions(-)

commit e8dc3e06bc4f40a1bc6d07017d486ce24b8c4328
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:30:45 2008 +0000

    GabbleIMChannel: add a Requested property
    
    
    20080722163045-53eee-374a3c6f9ffb17b3b7f62c1a6895d609c1a67751.gz

 src/im-channel.c |   17 +++++++++++++++--
 1 files changed, 15 insertions(+), 2 deletions(-)

commit bfbdf13c9d83b2c557fcf69141d47ef20de61554
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:15:35 2008 +0000

    Add Requests interface in extensions/, and update Channel.FUTURE to the -requestotron branch
    
    
    20080722161535-53eee-8225109792ca1d908ccfbee42d5446ff32eb9d32.gz

 extensions/Channel_Future.xml |   98 +++++++++++++++++++++++++++++++++++++---
 extensions/all.xml            |    5 ++
 2 files changed, 95 insertions(+), 8 deletions(-)

commit 9f266a4f3df714dc40401e67e0b6380f9026515f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:12:57 2008 +0000

    Allow undefined (external) interfaces in extensions
    
    
    20080722161257-53eee-92d43a0b50bcd290b7e1a735d77c694f85ac2349.gz

 extensions/Makefile.am  |    1 +
 tools/doc-generator.xsl |   41 +++++++++++++++++++++++++++--------------
 2 files changed, 28 insertions(+), 14 deletions(-)

commit 9be360bdd7b91ca1c3e90a17398d93f2bf4b0225
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 14:44:11 2008 +0000

    tubes/test-si-tubes.py: exercise TargetID/Initiator* for tubes initiated by us
    
    
    20080722144411-53eee-6a39236dd02c02dd8e925340d70ff886ddf99aaa.gz

 tests/twisted/tubes/test-si-tubes.py |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit ad97845a1b15f9c455e33be9190263442aa3a3d9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 14:42:18 2008 +0000

    tubes/test-muc-offer-dbus-tube.py: exercise TargetID/Initiator* for Tubes channel initiated by us
    
    
    20080722144218-53eee-ec3880d41c98d833dabb841da2346956b2d22a28.gz

 tests/twisted/tubes/test-muc-offer-dbus-tube.py |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 0921adcbe8c7924d3034505f0ef865a65ac05b4e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 14:41:46 2008 +0000

    tubes/test-muc-accept-stream-tube-ibb.py: exercise TargetID/Initiator* for tube initiated by others
    
    
    20080722144146-53eee-2717e391f22a2eb4af87955e7285a89a9c7617f3.gz

 .../tubes/test-muc-accept-stream-tube-ibb.py       |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 53eb6db32579969974c25352801cc35eff5bedeb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 14:25:27 2008 +0000

    GabbleTubesChannel: take an initiator handle, and also export TargetID and InitiatorID
    
    
    The initiator of a Tubes channel is (currently) defined to be
    * the local user, if it was requested; or
    * the remote user, if it is 1-1; or
    * 0, otherwise (we saw it in someone's presence in a MUC)
    
    20080722142527-53eee-f1b75a0bad494364b813aab55a10955388a65dba.gz

 src/muc-factory.c           |   20 +++++++---
 src/private-tubes-factory.c |   19 ++++++----
 src/tubes-channel.c         |   84 ++++++++++++++++++++++++++++++++++++++++++-
 3 files changed, 109 insertions(+), 14 deletions(-)

commit 195cd611cfe8f39075a4a9383ee2cd60472e6674
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 14:16:46 2008 +0000

    GabbleMediaFactory: assert that the channel has a creator
    
    
    20080722141646-53eee-029457b4f2c643b88f6f4bd2a6501b89a9205fee.gz

 src/media-factory.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit ba3420233a005b20957721df5c536183e75eef92
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 14:16:31 2008 +0000

    GabbleMediaFactory: coding style/naming consistency
    
    
    20080722141631-53eee-03e5574ed197b41868a509564181c2b914f3691e.gz

 src/media-factory.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 909f46faaebba9a5072caf9e76b7a276c2922514
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 14:15:51 2008 +0000

    GabbleMediaChannel: ref priv->creator
    
    
    20080722141551-53eee-25d121026a963d62499c69d70affecabf5e4b24a.gz

 src/media-channel.c |   14 +++++++++++++-
 1 files changed, 13 insertions(+), 1 deletions(-)

commit 8a33fa62f834c80b434f731d93d1754224eb5fe5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 14:03:32 2008 +0000

    GabbleMucChannel: assert that there is an initiator
    
    
    20080722140332-53eee-b88f8b4d3139af0c1119794fcb4e885cfa0189f8.gz

 src/muc-channel.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit f440f7269c8101ab2a7c7129449b47b6f2ed0320
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 13:59:57 2008 +0000

    GabbleIMChannel: assert that there is an initiator
    
    
    20080722135957-53eee-958fee9db2f254d7ced64a3459d369465d0ca5f3.gz

 src/im-channel.c |    6 ++++--
 src/im-factory.c |    4 +++-
 2 files changed, 7 insertions(+), 3 deletions(-)

commit d15e0fbb264b643c4fcf2295d97af3fbdc8a4a1c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 10:51:14 2008 +0000

    GabbleRosterChannel: implement a simplistic version of future properties
    
    
    For now, the initiator is always set to 0, even if the user actually requested
    the channel.
    
    20080722105114-53eee-5ba11d2e726192783e7497fbdeb150d388b7e672.gz

 src/roster-channel.c |   56 ++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 56 insertions(+), 0 deletions(-)

commit 4e73df714ff75f65588cb30b2823af5e21bdcd50
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 10:50:34 2008 +0000

    roster/test-roster.py, roster/test-roster-subscribe.py: exercise future properties
    
    
    20080722105034-53eee-7833ae92bb25c66a45f8c49bb12aa5791aa44d64.gz

 tests/twisted/roster/groups.py      |    7 +++++++
 tests/twisted/roster/test-roster.py |    8 ++++++++
 2 files changed, 15 insertions(+), 0 deletions(-)

commit 5620a7d9ca5618e44ce4ce96d819bbaa1d665dba
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 19:44:04 2008 +0000

    Fix end of call in test for call rejection
    
    
    20080721194404-53eee-70bee3c1764f269811268d2b2a936e5312f7cc80.gz

 tests/twisted/jingle/test-incoming-call-reject.py |   11 ++++++-----
 1 files changed, 6 insertions(+), 5 deletions(-)

commit 2266b72703ae31d6863f70232cfd71e7dfdf1a41
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 19:42:17 2008 +0000

    Add basic support for future properties in room lists
    
    
    20080721194217-53eee-0c2e3febdcf578339f574248ece90c0208fdae26.gz

 src/roomlist-channel.c        |   58 +++++++++++++++++++++++++++++++++++++++++
 tests/twisted/muc/roomlist.py |   15 ++++++++--
 2 files changed, 70 insertions(+), 3 deletions(-)

commit 8e0560fec4efd723f451df3abd71f393ac3c3b77
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 19:31:36 2008 +0000

    Split out incoming call rejection into a separate test so we have an active regression test for the FUTURE properties
    
    
    20080721193136-53eee-bd4ce4d2aaf58a874299d41c0cb0938e91dbee98.gz

 tests/twisted/Makefile.am                         |    1 +
 tests/twisted/jingle/test-incoming-call-reject.py |   97 +++++++++++++++++++++
 tests/twisted/jingle/test-incoming-call.py        |   32 -------
 3 files changed, 98 insertions(+), 32 deletions(-)

commit e19ba062eacd5465c23aeac018cbc2b1266c2e7e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 19:22:57 2008 +0000

    jingle/test-incoming-call.py: exercise channel properties in a basic way
    
    
    This test is disabled, but the basic functionality has been verified.
    
    20080721192257-53eee-3d81185633ff85f6280ada80e9405b637b1783b0.gz

 tests/twisted/jingle/test-incoming-call.py |   15 +++++++++++++++
 1 files changed, 15 insertions(+), 0 deletions(-)

commit 6a7cff02eba1be17a3222869ae425007812c5347
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 19:18:09 2008 +0000

    Make test-incoming-call.py a little more race-resistant
    
    
    20080721191809-53eee-1fbfaa609ea7fca19df23cbd47f0a5000a33e6b7.gz

 tests/twisted/jingle/test-incoming-call.py |   16 +++++++++-------
 1 files changed, 9 insertions(+), 7 deletions(-)

commit bf7ab0c65be4b153e6e7669f45324a723b7bb3ab
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 19:17:32 2008 +0000

    jingle/test-outgoing-call*.py: exercise future properties
    
    
    20080721191732-53eee-069be7f7b04d6fd0742415b7fde9aa267b7bbedb.gz

 .../jingle/test-outgoing-call-deprecated.py        |    8 ++++++++
 .../jingle/test-outgoing-call-deprecated2.py       |    8 ++++++++
 tests/twisted/jingle/test-outgoing-call.py         |    8 ++++++++
 3 files changed, 24 insertions(+), 0 deletions(-)

commit 3d5b5f002d85a77e9ada2778ea46a140b9c01e11
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 19:13:21 2008 +0000

    GabbleMediaChannel: export TargetID, InitiatorID, InitiatorHandle D-Bus properties
    
    
    20080721191321-53eee-a8096ebd838f2ef87272b00185be32cd178e6d2e.gz

 src/media-channel.c |   42 ++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 42 insertions(+), 0 deletions(-)

commit 0ec06f37d0492d12f4b60f8dd49328d4caf2a926
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 19:13:07 2008 +0000

    muc/test-muc.py: exercise future channel properties
    
    
    20080721191307-53eee-bf74edfe7f96fb3ff275e24755464f9f648d2a1c.gz

 tests/twisted/muc/test-muc.py |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit f249a9afeebe26fdf12d9050447759ee4880e1bb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 19:12:48 2008 +0000

    muc/test-muc-invitation.py: exercise future channel properties
    
    
    20080721191248-53eee-f693e059c74dd9a8e4415123192a1cd9ee562f0a.gz

 tests/twisted/muc/test-muc-invitation.py |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 6d3667f18654eecf10af752bf053f328185769c5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 18:30:02 2008 +0000

    Resolve conflict with daf
    
    
    20080721183002-53eee-019206d68a857e18961c396b252a0eff4602ee29.gz

 src/muc-channel.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit d57ac97d026b449044de3b0e833d317cdc4c9711
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 18:01:05 2008 +0000

    Loosen assumptions in muc-factory about what channels will be ready when
    
    
    20080721180105-53eee-a1221611b8a2e33efc0496ff1fb708172d06c4d8.gz

 src/muc-factory.c |   16 +++-------------
 1 files changed, 3 insertions(+), 13 deletions(-)

commit dd69127968c11160b7f3b53f3042b0d9bdb89dc4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 17:58:46 2008 +0000

    Pass invitations into MUC channels as a construct-time property instead of calling a function afterwards
    
    
    20080721175846-53eee-1d4713876b7bdb30f981e11b774f0df262339c59.gz

 src/muc-channel.c |   48 ++++++++++++++++++++++++++++++++++++++++++++----
 src/muc-channel.h |    2 --
 src/muc-factory.c |   20 ++++++++++++++++----
 3 files changed, 60 insertions(+), 10 deletions(-)

commit b9a001a9bd462d91680fa19fad9e1162da472970
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 16:59:37 2008 +0000

    GabbleMucChannel: add InitiatorID, InitiatorHandle, TargetID properties
    
    
    20080721165937-53eee-13e3151e59ddc7f63a0e976fc4847603d3c297f7.gz

 src/muc-channel.c |   76 ++++++++++++++++++++++++++++++++++++++++++++++++++++-
 src/muc-factory.c |    1 +
 2 files changed, 76 insertions(+), 1 deletions(-)

commit 137eb00f38a487b5c352c4102b190c85cc0c84d0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 15:25:59 2008 +0000

    GabbleMucChannel: order headers according to coding style
    
    
    20080721152559-53eee-d5d3d048a7831609a4e29a59b4c5cbb61eaeeca7.gz

 src/muc-channel.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit d71515624e29c58adbed7fafe2e431c8af0bb61a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 16:56:41 2008 +0000

    GabbleMucFactory: move responsibility for handling invitations inside new_muc_channel
    
    
    20080721165641-53eee-dfd322f0ab1fe372c6051848bd3800881c5c6661.gz

 src/muc-factory.c |   35 +++++++++++++++++++++++++++++------
 1 files changed, 29 insertions(+), 6 deletions(-)

commit b4e477bddbe2ec20f553c34b159f31aad005b00b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 24 11:18:26 2008 +0000

    Now the tests use #include "src/foo.h", adjust the CFLAGS to pick up the headers correctly in out-of-tree builds (fixes distcheck)
    
    
    20080724111826-53eee-d3ed7aa151fe3bf99628b3ede190fb1eaea3d646.gz

 tests/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 5bf692e39ac99d643f7a0dbe402d75c28fec46e8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:23:46 2008 +0000

    GabbleVCardManagerPrivate: simplify priv access
    
    
    20080722182346-53eee-f7f9f3bf7eed11e310e3f4a59e3f5a4504d7dbe4.gz

 src/vcard-manager.c |    4 +---
 src/vcard-manager.h |    3 ++-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit 924257b1d416f3b294312c8a83f7d4fe3490faea
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:23:37 2008 +0000

    GabbleTubesChannel: simplify priv access
    
    
    20080722182337-53eee-9b41bb10f10f87ed548b3e457d9da46de8188bae.gz

 src/tubes-channel.c |    4 +---
 src/tubes-channel.h |    3 ++-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit b6fdbbf8f3ec63372a9368a62d85f32f7096ca14
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:23:27 2008 +0000

    GabbleTubeStream: simplify priv access
    
    
    20080722182327-53eee-236cece54edb3bd27fcf6acd4b05a95c109268a6.gz

 src/tube-stream.c |    4 +---
 src/tube-stream.h |    3 ++-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit d7336b9b82d688aa7a295681819d31179579097a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:23:16 2008 +0000

    GabbleTubeDBus: simplify priv access
    
    
    20080722182316-53eee-39250d5456d1b7b2005927f06a61b22b052f1dec.gz

 src/tube-dbus.c |    4 +---
 src/tube-dbus.h |    3 ++-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit af7e496e6d64afe34d205e5b7d9152278782f2bb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:23:07 2008 +0000

    GabbleRoster: simplify priv access
    
    
    20080722182307-53eee-d8aa42518893ec274ed431e4bc442fe9919d4a57.gz

 src/roster.c |    3 +--
 src/roster.h |    3 ++-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 712b7c86f73c010854f3cf5f2ff4411960755377
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:22:55 2008 +0000

    GabbleRosterChannel: simplify priv access
    
    
    20080722182255-53eee-dcb1ab95c7bbfbf9a826606423ae980f932b767a.gz

 src/roster-channel.c |    4 +---
 src/roster-channel.h |    3 ++-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit c1f9020cbffe43618fcec323550d62831b94049e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:22:44 2008 +0000

    GabbleRoomlistChannel: simplify priv access
    
    
    20080722182244-53eee-b0b6ceede6b53291829d16481017cc7156eb36de.gz

 src/roomlist-channel.c |    4 +---
 src/roomlist-channel.h |    3 ++-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit 3b2f57effc71a65782b63b4950bdbbb704727076
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:22:32 2008 +0000

    GabbleRequestPipeline: simplify priv access
    
    
    20080722182232-53eee-26f7007ee236f85c03cd7b567074cb7a1f752466.gz

 src/request-pipeline.c |    4 +---
 src/request-pipeline.h |    3 ++-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit dc8308735a04a9182a8428bc52da980e389f938f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:22:17 2008 +0000

    GabblePrivateTubesFactory: simplify priv access
    
    
    20080722182217-53eee-af41409097946fe5c7a2bdd0f06efe8942aac83a.gz

 src/private-tubes-factory.c |    5 +----
 src/private-tubes-factory.h |    4 +++-
 2 files changed, 4 insertions(+), 5 deletions(-)

commit f6d70d60b6e332826faf961d6880605eae2a50a3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:22:07 2008 +0000

    GabblePresence: simplify priv access
    
    
    20080722182207-53eee-f81f220f82f4ca2648f92e8e82222d7de7a65715.gz

 src/presence.c |    4 +---
 src/presence.h |    4 +++-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit f82c8e7e34b6edee234d921d9f6dbc98419199c7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:21:57 2008 +0000

    GabblePresenceCache: simplify priv access
    
    
    20080722182157-53eee-effa75d032082c3880d45c3912505d2436f51af0.gz

 src/presence-cache.c |    5 +----
 src/presence-cache.h |    4 +++-
 2 files changed, 4 insertions(+), 5 deletions(-)

commit 6175e6218aa0b101c41eb557d4c8b77f6f82cc1c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:21:46 2008 +0000

    GabbleMucChannel: simplify priv access
    
    
    20080722182146-53eee-f70b8af90a02eaf826e4505119f40825ab46adbf.gz

 src/muc-channel.c |    2 --
 src/muc-channel.h |    3 ++-
 2 files changed, 2 insertions(+), 3 deletions(-)

commit 1293c4c6700b5713658a55c721cf127ba1896981
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:21:36 2008 +0000

    GabbleMediaStream: simplify priv access
    
    
    20080722182136-53eee-3dda92593ecf3bf23b7df43077d7b4e7718dc20f.gz

 src/media-stream.c |    4 +---
 src/media-stream.h |    3 ++-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit 5b2c6f100cd659f4c01553081a8498ef75b3b1d4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:21:25 2008 +0000

    GabbleMediaSession: simplify priv access
    
    
    20080722182125-53eee-41fdc9bb10193b54cd8887dda36fc357df3343f8.gz

 src/media-session.c |    4 +---
 src/media-session.h |    3 ++-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit 19995974e3637369c61376b0ff01fb20b2ded51a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:21:15 2008 +0000

    GabbleIMChannel: simplify priv access
    
    
    20080722182115-53eee-2354f61ac070d8599593414218790a339ab4707f.gz

 src/im-channel.c |    4 +---
 src/im-channel.h |    3 ++-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit 6bc06ae45af4854a95b4ecbc0451b1bca73e0963
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:21:04 2008 +0000

    GabbleDisco: simplify priv access
    
    
    20080722182104-53eee-a73f8eee6790136d42a99b19f76224b878aec7fd.gz

 src/disco.c |    3 +--
 src/disco.h |    3 ++-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit b7e0aebc4de7a8561d83a3d99420a715592775e9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:20:41 2008 +0000

    GabbleConnectionManager: make priv consistent with those in telepathy-glib (it's actually unused)
    
    
    20080722182041-53eee-bf8ddf54d7777836ccae16dca8fefba3bf40c627.gz

 src/connection-manager.h |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit c8ee20f99218031b87f367bbe8f728cfba3d9587
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:20:27 2008 +0000

    GabbleBytestreamMuc: simplify priv access
    
    
    20080722182027-53eee-e5e00aeb768f1598d943cd424ba5a97a8acdb117.gz

 src/bytestream-muc.c |    4 +---
 src/bytestream-muc.h |    3 ++-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit c5a632925933d94ff1ec044cc16c20f4d837609d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:20:12 2008 +0000

    _GabbleBytestreamIBB: simplify priv access
    
    
    20080722182012-53eee-423530bc257586ba51e59eae7cb4b4c210a7f7df.gz

 src/bytestream-ibb.c |    4 +---
 src/bytestream-ibb.h |    3 ++-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit 0f4e31da16e59bd2fb5699e8029a31357635d183
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:19:47 2008 +0000

    GabbleBytestreamFactoryPrivate: simplify priv access
    
    
    20080722181947-53eee-18343458e42b388485fe036a6a3c943f99d9f575.gz

 src/bytestream-factory.c |    4 +---
 src/bytestream-factory.h |    3 ++-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit adbcc4797f5154b73fdf6111746b542d3156d13c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 18:05:16 2008 +0000

    GabbleConnection: simplify access to the priv pointer
    
    
    20080722180516-53eee-74e6b2f58ab322232d344b698f0e50c6f03828f6.gz

 src/connection.c |    4 +---
 src/connection.h |    3 ++-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit 2a4601dfdc15f065f1a8192286ca9ba5b9a76ea7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 17:06:53 2008 +0000

    Tubes: use telepathy-glib GTypes
    
    
    20080722170653-53eee-dbd53c8e3d0be80713f0d396eb40e39f90903fbd.gz

 src/tube-stream.c   |   25 +++++++++++--------------
 src/tubes-channel.c |   33 ++++++++++-----------------------
 2 files changed, 21 insertions(+), 37 deletions(-)

commit 890b753a3912c3bdbaa05ede06b6310486d12c42
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 17:06:40 2008 +0000

    conn-aliasing: use telepathy-glib GTypes
    
    
    20080722170640-53eee-93fe19d084c5f91e66cadee37a1630d18944a270.gz

 src/conn-aliasing.c |    8 +++-----
 1 files changed, 3 insertions(+), 5 deletions(-)

commit f7cb58b861e73e607bece8a1838306c9acf9ce70
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Jul 23 10:52:07 2008 +0000

    test-avatar-tokens.py: port to new test API
    
    
    20080723105207-c9803-e8e10e8d743f707c579da4b2e888fa7186bfdadd.gz

 tests/twisted/vcard/test-avatar-tokens.py |   72 ++++++++++------------------
 1 files changed, 26 insertions(+), 46 deletions(-)

commit 58940d7213187cc59ef717ad27a5b439a5cf44dd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:56:22 2008 +0000

    GabbleConnection: use telepathy-glib GTypes here too
    
    
    20080722165622-53eee-51b258cf4e6049e6a069a83186d51b93de32f2c1.gz

 src/connection.c |   34 ++++++++++++++--------------------
 1 files changed, 14 insertions(+), 20 deletions(-)

commit 473101377f83adf04ab44555e28ff99c88f27a13
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:56:02 2008 +0000

    roster/ tests: use presence_type= to expect only those presence messages
    
    
    20080722165602-53eee-d390ff7bc107aa2be000da921b06809b9445484c.gz

 tests/twisted/roster/test-google-roster.py    |    5 +----
 tests/twisted/roster/test-roster-subscribe.py |    5 +----
 2 files changed, 2 insertions(+), 8 deletions(-)

commit d85026e9eff475af83cd5066a1cfa9fe3f3e1819
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 16:55:44 2008 +0000

    roster/ tests: use "while True" instead of "while 1"
    
    
    20080722165544-53eee-2f0c8bc72b10ad0c5e7eff6bf7d5df912a78cd36.gz

 tests/twisted/roster/test-google-roster.py    |    4 ++--
 tests/twisted/roster/test-roster-subscribe.py |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 555e7a648079cac882b7616e10445ac4841f3aec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 11:13:22 2008 +0000

    Port roster/test-google-roster.py to new API
    
    
    20080722111322-53eee-3b77fc63cf7a15a5290dec06ad5dd220569dc46d.gz

 tests/twisted/roster/test-google-roster.py |  145 ++++++++++++++--------------
 1 files changed, 71 insertions(+), 74 deletions(-)

commit 075588b4db85333eb819461f647fbfc71671112d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 10:52:00 2008 +0000

    roster/test-roster-subscribe.py: port to new test API
    
    
    20080722105200-53eee-2645bbffa9d50db63c82843d396def8011c375d1.gz

 tests/twisted/roster/test-roster-subscribe.py |   72 +++++++++++--------------
 1 files changed, 32 insertions(+), 40 deletions(-)

commit db1f496a17beea5f4aacd98de8cd1c2931d24835
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 22 10:42:08 2008 +0000

    Twisted tests: stop using ProxyObject._named_service, it isn't API and never has been
    
    
    20080722104208-53eee-3d2d7e4231a1066a4bcce599dc86ba31f9790a95.gz

 tests/twisted/muc/test-muc-properties.py      |    2 +-
 tests/twisted/roster/groups-12791.py          |    4 ++--
 tests/twisted/roster/groups.py                |    4 ++--
 tests/twisted/roster/test-google-roster.py    |    2 +-
 tests/twisted/roster/test-roster-subscribe.py |    2 +-
 tests/twisted/roster/test-roster.py           |    2 +-
 tests/twisted/text/test-text.py               |    2 +-
 7 files changed, 9 insertions(+), 9 deletions(-)

commit 20eaf438297bc74ec3dc7973634ae8174e889063
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 18:59:56 2008 +0000

    GabbleMediaStream: use telepathy-glib GTypes
    
    
    20080721185956-53eee-3a181ee4a075ee101d3b67a5550193908a616363.gz

 src/media-stream.c |   66 +++++++++++++++++++++++++++++++++------------------
 src/media-stream.h |   32 -------------------------
 2 files changed, 43 insertions(+), 55 deletions(-)

commit 943f04e26381be64cf15ec6756354af97520e3d5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 18:59:46 2008 +0000

    GabbleMediaChannel: now that we need a new telepathy-glib anyway, use the telepathy-glib GTypes
    
    
    20080721185946-53eee-c3f3a216585ab652629862f0e325c64e3f1a99bf.gz

 src/media-channel.c |   24 ++++++------------------
 src/muc-channel.c   |    1 +
 2 files changed, 7 insertions(+), 18 deletions(-)

commit f3cccbe84296054f3e20ab24a39939e1a6e2160b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 18:59:31 2008 +0000

    GabbleRoomlistChannel: use telepathy-glib's GTypes
    
    
    20080721185931-53eee-90e70f848ad187d55ac3fa62aadd53c3ab45e33e.gz

 src/roomlist-channel.c |   18 ++++++------------
 1 files changed, 6 insertions(+), 12 deletions(-)

commit 1735866963bf42394a001cae00fd390ae147ebbf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 17:42:58 2008 +0000

    muc/test-muc-invitation.py: port to new test API
    
    
    20080721174258-53eee-30c366b8b74f1b6a916120c14bbafc92b036a066.gz

 tests/twisted/muc/test-muc-invitation.py |  104 +++++++++++------------------
 1 files changed, 40 insertions(+), 64 deletions(-)

commit e2938d8c746c858cac41220e974196e27317b236
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 17:42:28 2008 +0000

    olpc/olpc-muc-invitation.py: avoid a race (stream presence vs AddMembers returning)
    
    
    20080721174228-53eee-de320e8ee08ed102e7c228f76090990e051d66dd.gz

 tests/twisted/olpc/olpc-muc-invitation.py |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)

commit 618c1927d8b3609c174328f4885ee967641dc312
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 21 18:09:29 2008 +0000

    remove unused inclusions of extensions.h
    
    
    20080721180929-c9803-e028818d0dd73c5095a88ee80bc0d97a4dba0056.gz

 src/muc-factory.c           |    1 -
 src/private-tubes-factory.c |    1 -
 src/tube-dbus.c             |    1 -
 src/tube-iface.c            |    1 -
 src/tube-stream.c           |    1 -
 5 files changed, 0 insertions(+), 5 deletions(-)

commit 05c25ece947c09a92b952d788e379566ad987079
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 21 18:06:24 2008 +0000

    tidy up libc/glib includes
    
    
    20080721180624-c9803-3bdb4a3eabe9b65b5ad3d11f48dcbefde393a7c9.gz

 src/base64.c                |    1 -
 src/bytestream-factory.c    |    5 +----
 src/bytestream-ibb.c        |    3 ---
 src/bytestream-iface.c      |    2 --
 src/bytestream-muc.c        |    3 ---
 src/caps-hash.c             |    3 ---
 src/connection-manager.c    |    2 --
 src/connection.c            |    2 --
 src/debug.c                 |    1 -
 src/disco.c                 |    1 -
 src/error.c                 |    2 +-
 src/gabble.c                |    1 -
 src/im-channel.c            |    2 --
 src/im-factory.c            |    3 ---
 src/media-channel.c         |    2 --
 src/media-factory.c         |    2 --
 src/media-session.c         |    2 --
 src/muc-channel.c           |    2 --
 src/muc-factory.c           |    3 ---
 src/presence.c              |    2 --
 src/private-tubes-factory.c |    3 ---
 src/register.c              |    2 --
 src/roomlist-channel.c      |    2 --
 src/roster-channel.c        |    3 ---
 src/text-mixin.c            |    1 -
 src/tube-dbus.c             |    3 ---
 src/tube-iface.c            |    2 --
 src/tube-stream.c           |    3 ---
 src/tubes-channel.c         |    6 ++----
 src/util.c                  |    3 +--
 src/vcard-manager.c         |    1 -
 31 files changed, 5 insertions(+), 68 deletions(-)

commit 6bf0f9c2a71e802416b69a6e8d728298596a510c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 21 18:03:37 2008 +0000

    tidy up include style
    
    
    20080721180337-c9803-09001e2492d16522e85e4d9514462a24cd34adff.gz

 src/bytestream-factory.c    |   12 +++++-------
 src/bytestream-ibb.c        |    7 ++-----
 src/bytestream-muc.c        |    7 ++-----
 src/caps-hash.c             |   14 +++++++-------
 src/conn-aliasing.c         |    7 +++----
 src/conn-presence.c         |    8 +++-----
 src/connection-manager.c    |    7 ++++---
 src/connection.c            |    3 +--
 src/debug.c                 |    5 ++---
 src/disco.c                 |    9 +++++----
 src/gabble.c                |    3 ++-
 src/im-factory.c            |    8 +++-----
 src/media-channel.c         |   20 +++++++++-----------
 src/media-factory.c         |    8 +++-----
 src/media-session.c         |   16 +++++++---------
 src/media-stream.c          |   19 +++++++++----------
 src/muc-channel.c           |    4 ++--
 src/muc-factory.c           |    5 +++--
 src/presence-cache.c        |   18 +++++++++---------
 src/presence.c              |    1 +
 src/private-tubes-factory.c |   14 ++++++--------
 src/pubsub.c                |    3 ++-
 src/register.c              |    4 ++--
 src/request-pipeline.c      |    3 ++-
 src/roomlist-channel.c      |    5 +++--
 src/roster-channel.c        |   13 +++++++------
 src/roster.c                |    9 ++++-----
 src/text-mixin.c            |    6 +++---
 src/tube-dbus.c             |   16 +++++++---------
 src/tube-iface.c            |    1 +
 src/tube-stream.c           |   15 +++++++--------
 src/tubes-channel.c         |   13 ++++++-------
 src/util.c                  |   13 ++++++-------
 src/vcard-manager.c         |    6 +++---
 src/write-mgr-file.c        |    2 +-
 35 files changed, 142 insertions(+), 162 deletions(-)

commit fdebf8dbb94b05dbde1f735377c67262210e7341
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 19:56:30 2008 +0000

    ignore .loT files, whatever they are
    
    
    20080714195630-c9803-cdb69ed122f9c42a859a7682bbeac6f15e2dc756.gz

 _boring |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 354336a032acfe8cc0680691daf27d2d63671d50
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 21 17:17:04 2008 +0000

    touch signals-marshal.list if it's already up to date, so make doesn't try to build it again
    
    
    20080721171704-c9803-fca76a0fe73ac65ae261ff1e64bcd64a47cfef4a.gz

 src/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 001cf18903dbacc79f373eb65eade826e506ff81
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 21 16:55:14 2008 +0000

    debug.h: hoist glib include above G_BEGIN_DECLS
    
    
    20080721165514-c9803-4a4b62710c1c40b7ec05d9e42be685bd2d8bfcd8.gz

 src/debug.h |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 30939bf9f8557d8314cb13f23785bd98e58e40b3
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 21 16:54:05 2008 +0000

    types.h: include "config.h" not <config.h>
    
    
    20080721165405-c9803-1e40a4072c63f8d7186f14325cef68c3106ac483.gz

 src/types.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 79c0c66091bcc6138147e6db047b699a9b15ab0f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 21 16:52:45 2008 +0000

    make tests include config.h too
    
    
    20080721165245-c9803-a6eb9391da3cc07b2aee0953fde816df974554a7.gz

 tests/test-base64.c             |    3 +++
 tests/test-dtube-unique-names.c |    3 +++
 tests/test-handles.c            |    3 +++
 tests/test-jid-decode.c         |    2 ++
 tests/test-parse-message.c      |    2 ++
 tests/test-presence.c           |    2 ++
 6 files changed, 15 insertions(+), 0 deletions(-)

commit b078600fc6c4fc95f60af2746360493781d93fd6
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 21 16:39:56 2008 +0000

    remove debug prints from handle test
    
    
    20080721163956-c9803-7bd00aaa6b079a9ffb7c0b226dfbdb7d6b2b2368.gz

 tests/test-handles.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit e545b1a388c32e4f680e004327cda404f3fa7728
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 21 15:29:26 2008 +0000

    make config.h the first include in every file
    
    
    20080721152926-c9803-6bb7abb0109a14e3b908ed2c9b6810a4b2606a28.gz

 src/base64.c                |    1 +
 src/bytestream-factory.c    |    1 +
 src/bytestream-ibb.c        |    1 +
 src/bytestream-iface.c      |    1 +
 src/bytestream-muc.c        |    1 +
 src/capabilities.c          |    2 +-
 src/caps-hash.c             |    1 +
 src/conn-aliasing.c         |    1 +
 src/conn-presence.c         |    1 +
 src/connection-manager.c    |    1 +
 src/disco.c                 |    1 +
 src/error.c                 |    1 +
 src/im-channel.c            |    1 +
 src/im-factory.c            |    1 +
 src/main.c                  |    1 +
 src/media-channel.c         |    1 +
 src/media-factory.c         |    1 +
 src/media-session.c         |    1 +
 src/media-stream.c          |    1 +
 src/muc-channel.c           |    1 +
 src/muc-factory.c           |    1 +
 src/presence-cache.c        |    1 +
 src/presence.c              |    2 +-
 src/private-tubes-factory.c |    1 +
 src/pubsub.c                |    2 ++
 src/register.c              |    1 +
 src/request-pipeline.c      |    1 +
 src/roomlist-channel.c      |    1 +
 src/roster-channel.c        |    1 +
 src/roster.c                |    1 +
 src/text-mixin.c            |    1 +
 src/tube-dbus.c             |    1 +
 src/tube-iface.c            |    1 +
 src/tube-stream.c           |    1 +
 src/tubes-channel.c         |    1 +
 src/vcard-manager.c         |    1 +
 src/write-mgr-file.c        |    2 ++
 37 files changed, 39 insertions(+), 2 deletions(-)

commit b2137de386b0559a312e71d22f97ba49c57ce878
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 21 16:27:25 2008 +0000

    define G_PARAM_STATIC_STRINGS if not already defined
    
    
    20080721162725-c9803-113db2dc1a2a81302ab7cd4b16663aba47765e94.gz

 src/util.h |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 57b757f7026a753d0c8634cf096510fd27c37fff
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Jul 18 17:52:05 2008 +0000

    connection.c: tidy up connection property declarations
    
    
    20080718175205-c9803-5960a78791c1ba31d32f6dfc1a067468d8e9a6e5.gz

 src/connection.c |  293 +++++++++++++++++++++++++-----------------------------
 1 files changed, 134 insertions(+), 159 deletions(-)

commit 23510718b210725368be1b3fb7e157f317de60fa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 14:58:11 2008 +0000

    text/initiate.py: new test to check that we can initiate 1-1 text channels
    
    
    20080721145811-53eee-3050c4d6d624e4236c3b654f6edad81a80e940f5.gz

 tests/twisted/Makefile.am      |    1 +
 tests/twisted/text/initiate.py |  102 ++++++++++++++++++++++++++++++++++++++++
 2 files changed, 103 insertions(+), 0 deletions(-)

commit 4830f1673ebaeeca83e3f64ab9705f19234623fc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 14:54:41 2008 +0000

    test-text.py: exercise InitiatorHandle, InitiatorID
    
    
    20080721145441-53eee-53fb25fe7a0cc011fb749bd009e7f77279627685.gz

 tests/twisted/text/test-text.py |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit c7e24b901effe1c07d2ce20eae18d197c26ba6fa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 14:54:24 2008 +0000

    test-text.py: assert that suppress_handler is False on incoming channels
    
    
    20080721145424-53eee-9bb212982cc0967c1cc8bf7ebcaf8b00186d648f.gz

 tests/twisted/text/test-text.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 5f66e4b5949404a8cd9a0667206de3665f3bcd69
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 14:54:07 2008 +0000

    test-text.py: verify that it all works even if the initiator sends us their full-JID
    
    
    20080721145407-53eee-fd74fd948cdce13b2e942b3640328d4cf6b1223b.gz

 tests/twisted/text/test-text.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d33021aa9d3266eb4bab9d94e12a8866ec80187d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 14:40:30 2008 +0000

    GabbleImFactory: pass initiator-handle when creating a GabbleIMChannel
    
    
    20080721144030-53eee-d0109ffd6e83ea847bc9f36d5433a87130391d46.gz

 src/im-factory.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit fcb842c4007b305fb2f13941c06c5fa095864eb2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 14:40:15 2008 +0000

    GabbleImFactory: keep track of who initiated the channel
    
    
    20080721144015-53eee-2e3a577566a80fb80fc276f0cd9a0491d0c21d6e.gz

 src/im-factory.c |   14 +++++++++-----
 1 files changed, 9 insertions(+), 5 deletions(-)

commit bee48396916e51780df10a6e05c6f8c35c306148
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 14:39:28 2008 +0000

    GabbleIMChannel: track initiator handle
    
    
    20080721143928-53eee-be3fe21cbaada851736ea69b9e9cf02b2eaec806.gz

 src/im-channel.c |   43 +++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 43 insertions(+), 0 deletions(-)

commit e8f7513d5c8f48cdfe0b59270a597f46057c38e9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 14:37:36 2008 +0000

    Rewrap long line
    
    
    20080721143736-53eee-c3343d52721fab2c5836079ad7959fd43cd21edb.gz

 src/im-channel.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit e0ac677b45ff093020e894a67138e29d74308963
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 14:27:03 2008 +0000

    test-text.py: Exercise TargetID property
    
    
    20080721142703-53eee-ca49e614e6191561bcce46258f7a0df2641a0d98.gz

 tests/twisted/text/test-text.py |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 6958a73d328868cc0664b535eb7007347f1363f2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 14:25:55 2008 +0000

    GabbleIMChannel: implement FUTURE.TargetID
    
    
    20080721142555-53eee-ae5df80639903816accca537dbe198c86078914e.gz

 src/im-channel.c |   29 +++++++++++++++++++++++++++++
 1 files changed, 29 insertions(+), 0 deletions(-)

commit e77de399f98a9a50d52b159ae607bbaf26c3166b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 14:04:30 2008 +0000

    Add Channel.FUTURE pseudo-interface as an extension
    
    
    20080721140430-53eee-9317d73921af9f39c8245af8dbb61a2e070bde5d.gz

 extensions/Channel_Future.xml |  122 +++++++++++++++++++++++++++++++++++++++++
 extensions/Makefile.am        |    1 +
 extensions/all.xml            |    1 +
 3 files changed, 124 insertions(+), 0 deletions(-)

commit 4178356186d5dac1bee2a718c5148cd6ab4ea397
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 14:07:10 2008 +0000

    GabbleIMChannel: order includes according to coding style
    
    
    20080721140710-53eee-4a2554192e218e7eee2c4ee629583dfa20bae879.gz

 src/im-channel.c |   20 ++++++++++----------
 1 files changed, 10 insertions(+), 10 deletions(-)

commit 49ef7fba21616512455d295a2c041f7256d96757
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 14:03:07 2008 +0000

    Update doc-generator.xsl from telepathy-spec HEAD
    
    
    20080721140307-53eee-6a0557489561b371e7623dd2c73fe27994bcb5e8.gz

 tools/doc-generator.xsl |  419 ++++++++++++++++++++++++++++++++++++++++++-----
 1 files changed, 381 insertions(+), 38 deletions(-)

commit 62f87b469af61168bebd5e128784140042393863
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 13:58:58 2008 +0000

    Update code-gen tools from telepathy-glib 0.7.12
    
    
    20080721135858-53eee-e543608d57731a947b8617c9446e02daa8ea6f22.gz

 extensions/Makefile.am                   |   23 +--
 extensions/all.xml                       |    5 +
 tools/Makefile.am                        |   18 +-
 tools/c-constants-gen.py                 |  151 +++++++++++++++
 tools/c-constants-generator.xsl          |  299 ------------------------------
 tools/c-interfaces-generator.xsl         |   84 ---------
 tools/glib-interfaces-body-generator.xsl |   47 -----
 tools/glib-interfaces-gen.py             |   97 ++++++++++
 tools/glib-interfaces-generator.xsl      |   55 ------
 tools/libglibcodegen.py                  |    6 +-
 tools/libtpcodegen.py                    |   41 ++++-
 11 files changed, 311 insertions(+), 515 deletions(-)

commit f6541affe996d10bd1c76dde014a7d3819287f77
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 13:52:56 2008 +0000

    Update xep.xsl to r2040
    
    
    20080721135256-53eee-dab1d1a9b1f6239412527bd636530192b80cff9b.gz

 tools/xep.xsl |   16 +++++++++++-----
 1 files changed, 11 insertions(+), 5 deletions(-)

commit 63f27a9ba37491d36ff317fba450125828742ff7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 13:29:56 2008 +0000

    Remove tab in check-c-style.sh
    
    
    20080721132956-53eee-7fd748c43c6a9df70f0e6441c3b821e2fe8e1b87.gz

 tools/check-c-style.sh |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c4f6ec54140508cef132c7796c147bee4333dfa6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 13:18:54 2008 +0000

    check-c-style.sh: be strict about formatting of casts and pointer types
    
    
    20080721131854-53eee-9eb995b5a0a4e610900b5c0201169a7a9b3312ec.gz

 tools/check-c-style.sh |   20 ++++++++++++++++++++
 1 files changed, 20 insertions(+), 0 deletions(-)

commit dfa7249418c6d1174330f26b79b6d99c08451891
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 13:16:28 2008 +0000

    More coding style nits re: casts
    
    
    20080721131628-53eee-79be88afb4a9d9d84cb424e389a17586db8ca1e0.gz

 src/connection.c            |    2 +-
 src/disco.c                 |    6 +++---
 src/im-channel.c            |    2 +-
 src/muc-factory.c           |    2 +-
 src/presence.c              |    2 +-
 src/private-tubes-factory.c |    2 +-
 src/roster.c                |    2 +-
 src/tube-stream.c           |    4 ++--
 src/vcard-manager.c         |    4 ++--
 9 files changed, 13 insertions(+), 13 deletions(-)

commit 76ecac4aa6cea656da0e0807ac93eced1d145e84
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 13:16:06 2008 +0000

    tubes-channel: coding style nits: casts should look like (TpBaseConnection *) priv->conn
    
    
    20080721131606-53eee-5c55fcbe2e96bc437f2f27c19e7a0158d0d19e31.gz

 src/tubes-channel.c |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit cb193702f1827d8713b7fcfdbe04c1cdf1686aaf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 21 13:15:02 2008 +0000

    conn-olpc.c: make all casts and pointer types look like (foo *) bar
    
    
    20080721131502-53eee-0325f0e19eb16a9732da7c67331663840eda48ed.gz

 src/conn-olpc.c |   28 ++++++++++++++--------------
 1 files changed, 14 insertions(+), 14 deletions(-)

commit a2b83ed8dcee98f3570d9cec4fc7bc93b85e17a5
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Jul 18 20:28:14 2008 +0000

    enure pointer casts have a space after them
    
    
    20080718202814-c9803-6a9dba64677bfbca45459e03a3acaf09268fe050.gz

 src/conn-aliasing.c         |    8 ++--
 src/conn-avatars.c          |   14 ++++----
 src/conn-presence.c         |    2 +-
 src/connection-manager.c    |    8 ++--
 src/connection.c            |   54 ++++++++++++++++----------------
 src/gabble.c                |    2 +-
 src/im-channel.c            |   12 +++---
 src/im-factory.c            |   10 +++---
 src/media-channel.c         |   20 ++++++------
 src/media-factory.c         |   12 +++---
 src/media-session.c         |   10 +++---
 src/media-stream.c          |    4 +-
 src/muc-channel.c           |   24 +++++++-------
 src/presence-cache.c        |   18 +++++-----
 src/presence.c              |    4 +-
 src/private-tubes-factory.c |    2 +-
 src/pubsub.c                |    2 +-
 src/roomlist-channel.c      |   18 +++++-----
 src/roster-channel.c        |   20 ++++++------
 src/roster.c                |   72 +++++++++++++++++++++---------------------
 src/tubes-channel.c         |    4 +-
 src/util.c                  |    2 +-
 src/vcard-manager.c         |   22 ++++++------
 tests/test-handles.c        |    2 +-
 24 files changed, 173 insertions(+), 173 deletions(-)

commit b45ef9692a6df1704e7477204d5b074845fbdc45
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 12:52:23 2008 +0000

    rename test-gabble-presence to test-presence
    
    
    20080714125223-c9803-e14004ce94fe1ae7642907e0f5523a5904bb2186.gz

 tests/Makefile.am            |    8 +-
 tests/test-gabble-presence.c |  172 ------------------------------------------
 tests/test-presence.c        |  172 ++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 176 insertions(+), 176 deletions(-)

commit 010714206d5ca0043d68c40325cf4e3f5284637c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 12:50:15 2008 +0000

    tidy up test includes
    
    
    20080714125015-c9803-acacc316904effa3073fe1942a4f23f3f739a5ee.gz

 tests/test-base64.c             |    2 +-
 tests/test-dtube-unique-names.c |    3 ++-
 tests/test-gabble-presence.c    |    3 ++-
 tests/test-handles.c            |    3 ++-
 tests/test-jid-decode.c         |    2 +-
 tests/test-parse-message.c      |    2 +-
 6 files changed, 9 insertions(+), 6 deletions(-)

commit 87ffb56ca54e071fd8af747139885f20e9b93257
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 12:42:53 2008 +0000

    src/Makefile.am: put source file lists in correct order
    
    
    20080714124253-c9803-2432c6069041208ff38bcef2ae9eb4ed168fd1a2.gz

 src/Makefile.am |   52 ++++++++++++++++++++++++++--------------------------
 1 files changed, 26 insertions(+), 26 deletions(-)

commit cb8ce8ef4f10c3e1f9fbfc635dfc4fe32b4a7d69
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 12:07:12 2008 +0000

    remove gabble- prefix from generated gabble-media-session-enumtypes.*
    
    
    20080714120712-c9803-3263415bf3dd0bdfe334910e30a1e06e40ec29e8.gz

 src/Makefile.am    |    4 ++--
 src/media-stream.c |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 677f21c6ce21bc0bff502614ef9825e2790d5211
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:38 2008 +0000

    rename gabble-roster-channel.c to roster-channel.c
    
    
    20080714115838-c9803-b82f2f0fb4634f9430ca1a81b5ed7e1ea246ccfd.gz

 src/Makefile.am             |    2 +-
 src/gabble-roster-channel.c |  685 -------------------------------------------
 src/roster-channel.c        |  685 +++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 686 insertions(+), 686 deletions(-)

commit 93db86c0e86a6a778f1c08f04c79ac40013bd819
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:38 2008 +0000

    rename gabble-roomlist-channel.c to roomlist-channel.c
    
    
    20080714115838-c9803-3f3f0e9f6e32da66c47c29b78ab8ac859df17efd.gz

 src/Makefile.am               |    2 +-
 src/gabble-roomlist-channel.c |  753 -----------------------------------------
 src/roomlist-channel.c        |  753 +++++++++++++++++++++++++++++++++++++++++
 3 files changed, 754 insertions(+), 754 deletions(-)

commit 79b340890417610ccc42732cd1e95be2e7e73648
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:37 2008 +0000

    rename gabble-register.c to register.c
    
    
    20080714115837-c9803-b36112555b3f4618ceec8c6facea1d2dd835a993.gz

 src/Makefile.am       |    2 +-
 src/gabble-register.c |  355 -------------------------------------------------
 src/register.c        |  355 +++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 356 insertions(+), 356 deletions(-)

commit 38a841a1fed7acbcaeef29221b458e6ee0384dd2
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:36 2008 +0000

    rename gabble-muc-channel.c to muc-channel.c
    
    
    20080714115836-c9803-8c51126e67012de333917560299d2b0372e1f25d.gz

 src/Makefile.am          |    2 +-
 src/gabble-muc-channel.c | 3058 ----------------------------------------------
 src/muc-channel.c        | 3058 ++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 3059 insertions(+), 3059 deletions(-)

commit 6eb32dd7a7472994f3124153a30db358e6b64d9b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:35 2008 +0000

    rename gabble-media-stream.c to media-stream.c
    
    
    20080714115835-c9803-0a4791ee635a50c65a7370d74724441b91f78bcf.gz

 src/Makefile.am           |    2 +-
 src/gabble-media-stream.c | 1843 ---------------------------------------------
 src/media-stream.c        | 1843 +++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 1844 insertions(+), 1844 deletions(-)

commit 8f02ee0ab930b1c0876f1db7da91f97418d51d48
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:35 2008 +0000

    rename gabble-media-session.c to media-session.c
    
    
    20080714115835-c9803-d8d7f9467a1da82d7b731f9201be900ae78bbfa5.gz

 src/Makefile.am            |    2 +-
 src/gabble-media-session.c | 2938 --------------------------------------------
 src/media-session.c        | 2938 ++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 2939 insertions(+), 2939 deletions(-)

commit c7acc8649513236ff0050e823e6d4def22237fc3
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:34 2008 +0000

    rename gabble-media-channel.c to media-channel.c
    
    
    20080714115834-c9803-d4d622d4f2e0b8b2f97748166a4961b5e1d36518.gz

 src/Makefile.am            |    2 +-
 src/gabble-media-channel.c | 1874 --------------------------------------------
 src/gabble-media-session.c |    2 +-
 src/media-channel.c        | 1874 ++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 1876 insertions(+), 1876 deletions(-)

commit 6416e1b7c8b34c33c2f71dc41a0a7bd44acabc01
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:32 2008 +0000

    rename gabble-im-channel.c to im-channel.c
    
    
    20080714115832-c9803-18b8ff93d77e0120c1e1a49f86cfa32f6f3ce936.gz

 src/Makefile.am         |    2 +-
 src/gabble-im-channel.c |  639 -----------------------------------------------
 src/im-channel.c        |  639 +++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 640 insertions(+), 640 deletions(-)

commit fb89d551869abc6140bdb8b3207635bf790e7cfe
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:32 2008 +0000

    rename gabble-error.c to error.c
    
    
    20080714115832-c9803-6977c5b97dc072f856d7b4b67f1f14852a888761.gz

 src/Makefile.am    |    2 +-
 src/error.c        |  478 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/gabble-error.c |  478 ----------------------------------------------------
 3 files changed, 479 insertions(+), 479 deletions(-)

commit e3e5c6883af4a502171a14bc4ec9546dcff0f9fd
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:31 2008 +0000

    rename gabble-connection-manager.c to connection-manager.c
    
    
    20080714115831-c9803-0d202f26e1a036bf7803eaa2bc8cbc9855f5c1ca.gz

 data/Makefile.am                |    2 +-
 src/Makefile.am                 |    2 +-
 src/connection-manager.c        |  279 +++++++++++++++++++++++++++++++++++++++
 src/gabble-connection-manager.c |  279 ---------------------------------------
 4 files changed, 281 insertions(+), 281 deletions(-)

commit a41a86c1699cd9cf7a30f75850464ecee80810cb
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:30 2008 +0000

    rename gabble-connection.c to connection.c
    
    
    20080714115830-c9803-c7efbff10cfc04b5d49398ae335e4b27dc2c122f.gz

 src/Makefile.am         |    2 +-
 src/connection.c        | 2794 +++++++++++++++++++++++++++++++++++++++++++++++
 src/connection.h        |    2 +-
 src/gabble-connection.c | 2794 -----------------------------------------------
 4 files changed, 2796 insertions(+), 2796 deletions(-)

commit 8cf74ca202fe1c0f9a8d08060a789d1096cec7ac
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:30 2008 +0000

    rename gabble-types.h to types.h
    
    
    20080714115830-c9803-7d733e4f99dd33ecb482dd00188ccb38f34c14a6.gz

 src/Makefile.am          |    2 +-
 src/bytestream-factory.h |    2 +-
 src/connection.h         |    2 +-
 src/disco.h              |    2 +-
 src/gabble-types.h       |   67 ----------------------------------------------
 src/media-session.h      |    2 +-
 src/media-stream.h       |    2 +-
 src/muc-channel.h        |    2 +-
 src/muc-factory.h        |    2 +-
 src/presence.h           |    2 +-
 src/request-pipeline.h   |    2 +-
 src/roster-channel.h     |    2 +-
 src/roster.h             |    2 +-
 src/types.h              |   67 ++++++++++++++++++++++++++++++++++++++++++++++
 src/util.h               |    2 +-
 src/vcard-manager.h      |    2 +-
 16 files changed, 81 insertions(+), 81 deletions(-)

commit 3b35d718e9b761423cf89d3e70890c8fc7ee3e45
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:29 2008 +0000

    rename gabble-roster-channel.h to roster-channel.h
    
    
    20080714115829-c9803-a8a686a809ace1f96474510cc4187d6943fac4e5.gz

 src/Makefile.am             |    2 +-
 src/gabble-roster-channel.c |    2 +-
 src/gabble-roster-channel.h |   71 -------------------------------------------
 src/roster-channel.h        |   71 +++++++++++++++++++++++++++++++++++++++++++
 src/roster.c                |    2 +-
 5 files changed, 74 insertions(+), 74 deletions(-)

commit 9102c2b2c78e2b038e021a89485f13a3ca3ecc8b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:27 2008 +0000

    rename gabble-roomlist-channel.h to roomlist-channel.h
    
    
    20080714115827-c9803-a9a7f479bf6a2c1596189c64855d1e2d3cc94ba4.gz

 src/Makefile.am               |    2 +-
 src/gabble-connection.c       |    2 +-
 src/gabble-roomlist-channel.c |    2 +-
 src/gabble-roomlist-channel.h |   71 -----------------------------------------
 src/muc-factory.c             |    2 +-
 src/roomlist-channel.h        |   71 +++++++++++++++++++++++++++++++++++++++++
 6 files changed, 75 insertions(+), 75 deletions(-)

commit d0f1f89df2106a0e979adec10c133c67653fee56
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:25 2008 +0000

    rename gabble-register.h to register.h
    
    
    20080714115825-c9803-37d40d361f6b9d2bcbfd379dce8fee1aa76ecdf7.gz

 src/Makefile.am         |    2 +-
 src/gabble-connection.c |    2 +-
 src/gabble-register.c   |    2 +-
 src/gabble-register.h   |   67 -----------------------------------------------
 src/register.h          |   67 +++++++++++++++++++++++++++++++++++++++++++++++
 5 files changed, 70 insertions(+), 70 deletions(-)

commit 5d753295b7f1a3b2d8677703cdd1359bfe80735e
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:22 2008 +0000

    rename gabble-muc-channel.h to muc-channel.h
    
    
    20080714115822-c9803-3b750d4b9607d8551f84e2d6a41a34aaaaf09b63.gz

 src/Makefile.am             |    2 +-
 src/conn-olpc.c             |    2 +-
 src/gabble-muc-channel.c    |    2 +-
 src/gabble-muc-channel.h    |  106 -------------------------------------------
 src/muc-channel.h           |  106 +++++++++++++++++++++++++++++++++++++++++++
 src/muc-factory.c           |    2 +-
 src/private-tubes-factory.c |    2 +-
 src/tubes-channel.h         |    2 +-
 8 files changed, 112 insertions(+), 112 deletions(-)

commit a8909febc8e6cc741e5e14355367c03b23e6667d
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:20 2008 +0000

    rename gabble-media-stream.h to media-stream.h
    
    
    20080714115820-c9803-849df37880f87f24356333f7e6f1be9ed5f89314.gz

 src/Makefile.am            |    2 +-
 src/gabble-media-channel.c |    2 +-
 src/gabble-media-session.c |    2 +-
 src/gabble-media-stream.c  |    2 +-
 src/gabble-media-stream.h  |  144 --------------------------------------------
 src/media-session.h        |    2 +-
 src/media-stream.h         |  144 ++++++++++++++++++++++++++++++++++++++++++++
 7 files changed, 149 insertions(+), 149 deletions(-)

commit 5fdd0601ef6ede4e6fe6980f483f977f421802e7
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:17 2008 +0000

    rename gabble-media-session.h to media-session.h
    
    
    20080714115817-c9803-0ea97d887f52df557246d41914d4b7a2988df9f5.gz

 src/Makefile.am            |    2 +-
 src/gabble-media-channel.c |    4 +-
 src/gabble-media-session.c |    2 +-
 src/gabble-media-session.h |  168 --------------------------------------------
 src/gabble-media-stream.c  |    2 +-
 src/media-channel.h        |    2 +-
 src/media-session.h        |  168 ++++++++++++++++++++++++++++++++++++++++++++
 7 files changed, 174 insertions(+), 174 deletions(-)

commit 3b42aabd179a41be50959ba1fd5bd9bab40d7113
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:14 2008 +0000

    rename gabble-media-channel.h to media-channel.h
    
    
    20080714115814-c9803-8e596dfd10670fcf633db3d77757a648771d0bb8.gz

 src/Makefile.am            |    2 +-
 src/capabilities.c         |    2 +-
 src/gabble-connection.c    |    2 +-
 src/gabble-media-channel.c |    2 +-
 src/gabble-media-channel.h |  108 --------------------------------------------
 src/gabble-media-session.c |    2 +-
 src/gabble-media-stream.c  |    2 +-
 src/media-channel.h        |  108 ++++++++++++++++++++++++++++++++++++++++++++
 src/media-factory.c        |    2 +-
 src/media-factory.h        |    2 +-
 10 files changed, 116 insertions(+), 116 deletions(-)

commit 73f3a3fa466ff815a1b71bc59e8149101e8688e7
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:11 2008 +0000

    rename gabble-im-channel.h to im-channel.h
    
    
    20080714115811-c9803-008bc2f72851b17888dd9391e61d02ceb43af6a5.gz

 src/Makefile.am         |    2 +-
 src/gabble-im-channel.c |    2 +-
 src/gabble-im-channel.h |   75 -----------------------------------------------
 src/im-channel.h        |   75 +++++++++++++++++++++++++++++++++++++++++++++++
 src/im-factory.c        |    2 +-
 src/im-factory.h        |    2 +-
 6 files changed, 79 insertions(+), 79 deletions(-)

commit 0b99e464763287602707653ca9e9a21ce1b3bf88
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:09 2008 +0000

    rename gabble-error.h to error.h
    
    
    20080714115809-c9803-b865ce9eca9b78a5e776e544677e40490d7d225d.gz

 src/Makefile.am          |    2 +-
 src/bytestream-ibb.h     |    2 +-
 src/connection.h         |    2 +-
 src/disco.c              |    2 +-
 src/error.h              |   85 ++++++++++++++++++++++++++++++++++++++++++++++
 src/gabble-error.c       |    2 +-
 src/gabble-error.h       |   85 ----------------------------------------------
 src/gabble-muc-channel.c |    2 +-
 src/gabble-register.c    |    2 +-
 9 files changed, 92 insertions(+), 92 deletions(-)

commit 930dc84252bce272aab8b26d29130b9f3a83400e
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:06 2008 +0000

    rename gabble-connection-manager.h to connection-manager.h
    
    
    20080714115806-c9803-f201bea0260e5e0dd87ce25367288db3358ec090.gz

 src/Makefile.am                 |    2 +-
 src/connection-manager.h        |   65 +++++++++++++++++++++++++++++++++++++++
 src/gabble-connection-manager.c |    2 +-
 src/gabble-connection-manager.h |   65 ---------------------------------------
 src/gabble.c                    |    2 +-
 src/write-mgr-file.c            |    2 +-
 6 files changed, 69 insertions(+), 69 deletions(-)

commit 6190c56cbdcc78389ea96c5d48ec4585ba0140e9
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jul 14 11:58:04 2008 +0000

    rename gabble-connection.h to connection.h
    
    
    20080714115804-c9803-1409d186eb2b363c7dab712f3fc046972cdf7c7d.gz

 src/Makefile.am                 |    2 +-
 src/bytestream-factory.c        |    2 +-
 src/bytestream-factory.h        |    2 +-
 src/bytestream-ibb.c            |    2 +-
 src/bytestream-iface.c          |    2 +-
 src/bytestream-muc.c            |    2 +-
 src/caps-hash.h                 |    2 +-
 src/conn-aliasing.c             |    2 +-
 src/conn-aliasing.h             |    2 +-
 src/conn-avatars.h              |    2 +-
 src/conn-olpc.c                 |    2 +-
 src/conn-olpc.h                 |    2 +-
 src/conn-presence.c             |    4 +-
 src/conn-presence.h             |    2 +-
 src/connection.h                |  200 +++++++++++++++++++++++++++++++++++++++
 src/disco.c                     |    2 +-
 src/gabble-connection-manager.c |    2 +-
 src/gabble-connection.c         |    4 +-
 src/gabble-connection.h         |  200 ---------------------------------------
 src/gabble-im-channel.c         |    2 +-
 src/gabble-media-channel.c      |    2 +-
 src/gabble-media-session.c      |    2 +-
 src/gabble-media-stream.c       |    2 +-
 src/gabble-muc-channel.c        |    2 +-
 src/gabble-register.c           |    2 +-
 src/gabble-register.h           |    2 +-
 src/gabble-roomlist-channel.c   |    2 +-
 src/gabble-roomlist-channel.h   |    2 +-
 src/gabble-roster-channel.c     |    2 +-
 src/im-factory.c                |    2 +-
 src/media-factory.c             |    2 +-
 src/muc-factory.c               |    2 +-
 src/presence.h                  |    2 +-
 src/private-tubes-factory.c     |    2 +-
 src/private-tubes-factory.h     |    2 +-
 src/pubsub.h                    |    2 +-
 src/request-pipeline.c          |    2 +-
 src/roster.c                    |    2 +-
 src/text-mixin.c                |    2 +-
 src/tube-dbus.c                 |    2 +-
 src/tube-dbus.h                 |    2 +-
 src/tube-iface.c                |    2 +-
 src/tube-stream.c               |    2 +-
 src/tube-stream.h               |    2 +-
 src/tubes-channel.c             |    2 +-
 src/util.c                      |    2 +-
 src/vcard-manager.c             |    2 +-
 tests/test-handles.c            |    2 +-
 tests/twisted/main-debug.c      |    2 +-
 49 files changed, 249 insertions(+), 249 deletions(-)

commit 7f50cae11164d28fbf527e98bd84a1b2e38a0e95
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 1 18:30:20 2008 +0000

    test-muc.py: remove redundant call to dbus.SessionBus
    
    
    20080701183020-53eee-5e7e5663527f930bd96d9162f8518c1d32329e41.gz

 tests/twisted/muc/test-muc.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit ba6fe9b1fc30a794c1f0f93d757f42d1b496e2a1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 1 18:29:58 2008 +0000

    test-muc.py: unwrap lines that used to be too long, but are now < 80 characters
    
    
    20080701182958-53eee-4679e874888212527fdc431270a7e94ae14b94e5.gz

 tests/twisted/muc/test-muc.py |    6 ++----
 1 files changed, 2 insertions(+), 4 deletions(-)

commit c73b34a20161f64e8ce252a4b2517b837c1093b2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 1 18:29:40 2008 +0000

    Add _gen/gtypes-body.h to CLEANFILES (indirectly), fixing distcheck
    
    
    20080701182940-53eee-493d0541a599392e2f93c032a1885b7f6e0326f6.gz

 extensions/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit b5d082585b4c30365a0c6a6c78b16c643f7b8989
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 16:41:43 2008 +0000

    Add a trivial test for RoomList channels (it doesn't actually list any rooms, just exercises the properties)
    
    
    20080606164143-53eee-a6e59f3f3610477c2f31f657442103bb0b0416da.gz

 tests/twisted/Makefile.am     |    1 +
 tests/twisted/muc/roomlist.py |   69 +++++++++++++++++++++++++++++++++++++++++
 2 files changed, 70 insertions(+), 0 deletions(-)

commit 44873718217fc97089a8d727e0150388efd6a4a4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 16:41:43 2008 +0000

    Add a trivial test for RoomList channels (it doesn't actually list any rooms, just exercises the properties)
    
    
    20080606164143-53eee-a6e59f3f3610477c2f31f657442103bb0b0416da.gz

 tests/twisted/Makefile.am     |    1 +
 tests/twisted/muc/roomlist.py |   69 +++++++++++++++++++++++++++++++++++++++++
 2 files changed, 70 insertions(+), 0 deletions(-)

commit 643642f85ed03754599199828887314aa7af7f24
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 16:40:15 2008 +0000

    GabbleRoomlistChannel: actually implement D-Bus properties
    
    
    20080606164015-53eee-48b291c6fd9b94220dfa4c8fbc3ad19df527a965.gz

 src/gabble-roomlist-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 9d445a10658fd0d1c836620818f5beb1b33468a0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 16:40:15 2008 +0000

    GabbleRoomlistChannel: actually implement D-Bus properties
    
    
    20080606164015-53eee-48b291c6fd9b94220dfa4c8fbc3ad19df527a965.gz

 src/gabble-roomlist-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit ad80c9514f913ab64c4ca10f50bf96decd6eb9e6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 16:17:36 2008 +0000

    GabbleRoomlistChannel: add RoomList.Server D-Bus property
    
    
    20080606161736-53eee-39edd911f3b666068f537a04bb3d7f20eaf9fe9b.gz

 src/gabble-roomlist-channel.c |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 6d90e1c6accb300b07b46515f0877202514e3870
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 16:17:36 2008 +0000

    GabbleRoomlistChannel: add RoomList.Server D-Bus property
    
    
    20080606161736-53eee-39edd911f3b666068f537a04bb3d7f20eaf9fe9b.gz

 src/gabble-roomlist-channel.c |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit a99ca1624d19a7f7c135ec9689acd49039283bfd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 16:16:54 2008 +0000

    test-muc.py: port to new tests API
    
    
    20080606161654-53eee-de2511da09bbb0f5509ae8a460e0d02549c1bdf7.gz

 tests/twisted/muc/test-muc.py |  102 +++++++++++++++++-----------------------
 1 files changed, 43 insertions(+), 59 deletions(-)

commit 3c7b08b97bc98e40f7b64cede3cba8ecbb5bcf84
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 16:16:54 2008 +0000

    test-muc.py: port to new tests API
    
    
    20080606161654-53eee-de2511da09bbb0f5509ae8a460e0d02549c1bdf7.gz

 tests/twisted/muc/test-muc.py |  102 +++++++++++++++++-----------------------
 1 files changed, 43 insertions(+), 59 deletions(-)

commit f67217d174371660826d9ac94dc3ccdcfa4a907a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 16:06:18 2008 +0000

    GabbleRoomlistChannel: make the conference-server property readable
    
    
    20080606160618-53eee-b3b359555860741c3ec8ba458d455b57e5ed6b94.gz

 src/gabble-roomlist-channel.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 84af3040c9f65fadc55d1c744e0b38a9ca9bc351
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 16:06:18 2008 +0000

    GabbleRoomlistChannel: make the conference-server property readable
    
    
    20080606160618-53eee-b3b359555860741c3ec8ba458d455b57e5ed6b94.gz

 src/gabble-roomlist-channel.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 5f4ebaf3b4179f44c0ff0c4d3fb8c1331e19faed
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 13:01:38 2008 +0000

    test-si-tubes.py: exercise Channel properties in 1-1 Tubes channels
    
    
    20080606130138-53eee-b2c461ab7577974394d549bea96ff927a882478a.gz

 tests/twisted/tubes/test-si-tubes.py |   16 ++++++++++++++++
 1 files changed, 16 insertions(+), 0 deletions(-)

commit befd85fd7ce63b6fb1701ef0a58fed21a9a2d147
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 13:01:38 2008 +0000

    test-si-tubes.py: exercise Channel properties in 1-1 Tubes channels
    
    
    20080606130138-53eee-b2c461ab7577974394d549bea96ff927a882478a.gz

 tests/twisted/tubes/test-si-tubes.py |   16 ++++++++++++++++
 1 files changed, 16 insertions(+), 0 deletions(-)

commit 8c9026ae7daa47b7eea9e2c30b907a821529e8b6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 13:01:33 2008 +0000

    test-muc-offer-dbus-tube.py: exercise Channel, Group properties in MUC Tubes channels
    
    
    20080606130133-53eee-ecc9962472144399f47ad9586888191b0a8dad72.gz

 tests/twisted/tubes/test-muc-offer-dbus-tube.py |   28 +++++++++++++++++++++++
 1 files changed, 28 insertions(+), 0 deletions(-)

commit bcc13fdb0fd812011555029d037cbcee4903ff02
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 13:01:33 2008 +0000

    test-muc-offer-dbus-tube.py: exercise Channel, Group properties in MUC Tubes channels
    
    
    20080606130133-53eee-ecc9962472144399f47ad9586888191b0a8dad72.gz

 tests/twisted/tubes/test-muc-offer-dbus-tube.py |   28 +++++++++++++++++++++++
 1 files changed, 28 insertions(+), 0 deletions(-)

commit 4d01aec70f35c091bcfd60b11a7d0b521f64a4f8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 13:00:47 2008 +0000

    test-text: exercise Channel properties in IM channels
    
    
    20080606130047-53eee-1fc1af6ac03989529903fb9d3264b0a7902d9bdc.gz

 tests/twisted/text/test-text.py |   15 +++++++++++++++
 1 files changed, 15 insertions(+), 0 deletions(-)

commit 6f4fd479c295ffc2a8d352d9724d80d151801aa3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 13:00:47 2008 +0000

    test-text: exercise Channel properties in IM channels
    
    
    20080606130047-53eee-1fc1af6ac03989529903fb9d3264b0a7902d9bdc.gz

 tests/twisted/text/test-text.py |   15 +++++++++++++++
 1 files changed, 15 insertions(+), 0 deletions(-)

commit 38f082028fe6dc288f0162af295395c282d25e16
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 13:00:20 2008 +0000

    GabbleTubesChannel: implement spec 0.17.6 and 0.17.7 Group and Channel properties
    
    
    20080606130020-53eee-d345304b31ccee221f3239a77a4818785cf5a917.gz

 src/tubes-channel.c |   24 ++++++++++++++++++++++++
 src/tubes-channel.h |    2 ++
 2 files changed, 26 insertions(+), 0 deletions(-)

commit cc314bad317fb76fdc38fe43f583a3490620e78b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 13:00:20 2008 +0000

    GabbleTubesChannel: implement spec 0.17.6 and 0.17.7 Group and Channel properties
    
    
    20080606130020-53eee-d345304b31ccee221f3239a77a4818785cf5a917.gz

 src/tubes-channel.c |   24 ++++++++++++++++++++++++
 src/tubes-channel.h |    2 ++
 2 files changed, 26 insertions(+), 0 deletions(-)

commit 29f5f4fa775825279cf382c373ba02b503e30185
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 13:00:04 2008 +0000

    GabbleRoomlistChannel: implement spec 0.17.7 properties
    
    
    20080606130004-53eee-db0b72516b2657b1545cb899233e9ffe94150a7a.gz

 src/gabble-roomlist-channel.c |   20 ++++++++++++++++++++
 src/gabble-roomlist-channel.h |    2 ++
 2 files changed, 22 insertions(+), 0 deletions(-)

commit f2570ef31f24e6c51170e3d3f09728f603590adc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 13:00:04 2008 +0000

    GabbleRoomlistChannel: implement spec 0.17.7 properties
    
    
    20080606130004-53eee-db0b72516b2657b1545cb899233e9ffe94150a7a.gz

 src/gabble-roomlist-channel.c |   20 ++++++++++++++++++++
 src/gabble-roomlist-channel.h |    2 ++
 2 files changed, 22 insertions(+), 0 deletions(-)

commit 11c5b797932b90f68e433117a4e5e900d9f96c22
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 12:59:45 2008 +0000

    GabbleIMChannel: implement spec 0.17.7 properties
    
    
    20080606125945-53eee-6152c604702c615ec52d40169919240661796bc5.gz

 src/gabble-im-channel.c |   22 ++++++++++++++++++++++
 src/gabble-im-channel.h |    1 +
 2 files changed, 23 insertions(+), 0 deletions(-)

commit 38e8c16e15dd09936517bffa468c6f08ae3b1800
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 12:59:45 2008 +0000

    GabbleIMChannel: implement spec 0.17.7 properties
    
    
    20080606125945-53eee-6152c604702c615ec52d40169919240661796bc5.gz

 src/gabble-im-channel.c |   22 ++++++++++++++++++++++
 src/gabble-im-channel.h |    1 +
 2 files changed, 23 insertions(+), 0 deletions(-)

commit 9a780e3ac68feb203b7dd0af603b6b966187ca92
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 11:28:31 2008 +0000

    GabbleRoomlistChannel: re-order #includes
    
    
    20080606112831-53eee-ddbf580369f5d3ffebdd987c7a8000724c45fcc0.gz

 src/gabble-roomlist-channel.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit dfffa3a6cad48013dae24f6d15e9cd1bd9bb4065
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 11:28:31 2008 +0000

    GabbleRoomlistChannel: re-order #includes
    
    
    20080606112831-53eee-ddbf580369f5d3ffebdd987c7a8000724c45fcc0.gz

 src/gabble-roomlist-channel.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit d1c9467640e5cde9dfc73ac96d3f859a136a7ba6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 11:00:12 2008 +0000

    test-roster: exercise D-Bus properties in a basic way
    
    
    20080606110012-53eee-96146f8747c177576b02da653b789faa11512e63.gz

 tests/twisted/roster/test-roster.py |   32 +++++++++++++++++++++++++++++++-
 1 files changed, 31 insertions(+), 1 deletions(-)

commit b1814a40f972bfe00f7ba52fb97cfcb380a274d1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 11:00:12 2008 +0000

    test-roster: exercise D-Bus properties in a basic way
    
    
    20080606110012-53eee-96146f8747c177576b02da653b789faa11512e63.gz

 tests/twisted/roster/test-roster.py |   32 +++++++++++++++++++++++++++++++-
 1 files changed, 31 insertions(+), 1 deletions(-)

commit bf1a514759b5101f45fe1d87dab204b07ea99857
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 10:59:48 2008 +0000

    Exercise properties in a basic way in test-outgoing-call.py
    
    
    20080606105948-53eee-4d68c8624240e7345d031a5c72f0fade1e29fd43.gz

 tests/twisted/jingle/test-outgoing-call.py |   34 ++++++++++++++++++++++++++++
 1 files changed, 34 insertions(+), 0 deletions(-)

commit c830bead87cd3b4e81687c24186bc0413290133f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 10:59:48 2008 +0000

    Exercise properties in a basic way in test-outgoing-call.py
    
    
    20080606105948-53eee-4d68c8624240e7345d031a5c72f0fade1e29fd43.gz

 tests/twisted/jingle/test-outgoing-call.py |   34 ++++++++++++++++++++++++++++
 1 files changed, 34 insertions(+), 0 deletions(-)

commit 10dbbe5a256e51a4f10d8c78fd31687ee87d5305
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 10:41:13 2008 +0000

    GabbleRosterChannel: implement basic Channel properties from spec 0.17.7
    
    
    20080606104113-53eee-bed0faa5815d1bc0a47757f01bf67792bc7156ec.gz

 src/gabble-roster-channel.c |   16 ++++++++++++++++
 1 files changed, 16 insertions(+), 0 deletions(-)

commit 8facd4dd54078bf2363bd58977162923d6e30443
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 10:41:13 2008 +0000

    GabbleRosterChannel: implement basic Channel properties from spec 0.17.7
    
    
    20080606104113-53eee-bed0faa5815d1bc0a47757f01bf67792bc7156ec.gz

 src/gabble-roster-channel.c |   16 ++++++++++++++++
 1 files changed, 16 insertions(+), 0 deletions(-)

commit 8b08206915de5faaecf68d59b820fc8eb9076224
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 10:40:35 2008 +0000

    GabbleMediaChannel: implement basic Channel properties from spec 0.17.7
    
    
    20080606104035-53eee-f8539af8433ec914728d008acc760019856f8001.gz

 src/gabble-media-channel.c |   16 ++++++++++++++++
 1 files changed, 16 insertions(+), 0 deletions(-)

commit 1dc0c71878421a7ff8b096f3cccca34c3db4188e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 10:40:35 2008 +0000

    GabbleMediaChannel: implement basic Channel properties from spec 0.17.7
    
    
    20080606104035-53eee-f8539af8433ec914728d008acc760019856f8001.gz

 src/gabble-media-channel.c |   16 ++++++++++++++++
 1 files changed, 16 insertions(+), 0 deletions(-)

commit 9a2cb2fd15b000a560b77daf2887c62d7321a1b7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 10:29:15 2008 +0000

    GabbleRoomlistChannel: re-indent property param specs and give them static strings
    
    
    20080606102915-53eee-ba51379f5d858662d632c6595f11f81e67214fa9.gz

 src/gabble-roomlist-channel.c |   26 ++++++++++----------------
 1 files changed, 10 insertions(+), 16 deletions(-)

commit 675360caf05f9091466ab86116fb41d65d3acaae
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 10:29:15 2008 +0000

    GabbleRoomlistChannel: re-indent property param specs and give them static strings
    
    
    20080606102915-53eee-ba51379f5d858662d632c6595f11f81e67214fa9.gz

 src/gabble-roomlist-channel.c |   26 ++++++++++----------------
 1 files changed, 10 insertions(+), 16 deletions(-)

commit 4cccd27c2011202818da29e9dee57cf7ae7d07d7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 10:28:16 2008 +0000

    GabbleIMChannel: reindent property param-spec and give it static strings
    
    
    20080606102816-53eee-afd1864f98f6ed2e1d0a221d042e8a7b29844564.gz

 src/gabble-im-channel.c |   11 ++++-------
 1 files changed, 4 insertions(+), 7 deletions(-)

commit 6eb2626bfc1c829a18b7d765c9240a7c16b1bdc4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 10:28:16 2008 +0000

    GabbleIMChannel: reindent property param-spec and give it static strings
    
    
    20080606102816-53eee-afd1864f98f6ed2e1d0a221d042e8a7b29844564.gz

 src/gabble-im-channel.c |   11 ++++-------
 1 files changed, 4 insertions(+), 7 deletions(-)

commit 6e0846c0894826e49b1a255a6b0592fe447040c2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 10:27:31 2008 +0000

    GabbleRosterChannel: reindent property param-spec and give it static nick, name, blurb
    
    
    20080606102731-53eee-5b1278fe8be4c68e10897b086804b6e00ba6c1cf.gz

 src/gabble-roster-channel.c |   11 ++++-------
 1 files changed, 4 insertions(+), 7 deletions(-)

commit 41606e6662105ca281229b2e24abd903a3c36163
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 10:27:31 2008 +0000

    GabbleRosterChannel: reindent property param-spec and give it static nick, name, blurb
    
    
    20080606102731-53eee-5b1278fe8be4c68e10897b086804b6e00ba6c1cf.gz

 src/gabble-roster-channel.c |   11 ++++-------
 1 files changed, 4 insertions(+), 7 deletions(-)

commit 5f71b655a845d6f07fb98be98401549747e236f2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 10:26:31 2008 +0000

    GabbleMediaChannel: reindent property param-specs and consistently give them static nick|name|blurb
    
    
    20080606102631-53eee-e5c63f352fe3714b637ecea3f97cceb4e2f25ae3.gz

 src/gabble-media-channel.c |   81 +++++++++++++++++--------------------------
 1 files changed, 32 insertions(+), 49 deletions(-)

commit 03219a67a4cba3c3297ae59e3072f7c1b0b67184
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 10:26:31 2008 +0000

    GabbleMediaChannel: reindent property param-specs and consistently give them static nick|name|blurb
    
    
    20080606102631-53eee-e5c63f352fe3714b637ecea3f97cceb4e2f25ae3.gz

 src/gabble-media-channel.c |   81 +++++++++++++++++--------------------------
 1 files changed, 32 insertions(+), 49 deletions(-)

commit 8707836d8df21e23383c84e12026113a605a2456
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 10:21:03 2008 +0000

    GabbleTubesChannel: expose interfaces as GObject property
    
    
    20080606102103-53eee-7fbab6bb06b034637522e614a206876cd1d27f36.gz

 src/tubes-channel.c |   40 ++++++++++++++++++++++++++++++++++------
 1 files changed, 34 insertions(+), 6 deletions(-)

commit bdbe7035ce2c709971e4205f101d0de682fc7b80
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 10:21:03 2008 +0000

    GabbleTubesChannel: expose interfaces as GObject property
    
    
    20080606102103-53eee-7fbab6bb06b034637522e614a206876cd1d27f36.gz

 src/tubes-channel.c |   40 ++++++++++++++++++++++++++++++++++------
 1 files changed, 34 insertions(+), 6 deletions(-)

commit 3fc76f5e7ff2f8980a2cf63516eb546731890a8f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 10:12:20 2008 +0000

    GabbleRoomlistChannel: expose interfaces as a GObject property
    
    
    20080606101220-53eee-3ed30b72e6989b82cd8a3e4560a4ba18c70421de.gz

 src/gabble-roomlist-channel.c |   20 +++++++++++++++++---
 1 files changed, 17 insertions(+), 3 deletions(-)

commit 555a9522b28af99a7c7ca31ccb69a447eb8ffc63
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 10:12:20 2008 +0000

    GabbleRoomlistChannel: expose interfaces as a GObject property
    
    
    20080606101220-53eee-3ed30b72e6989b82cd8a3e4560a4ba18c70421de.gz

 src/gabble-roomlist-channel.c |   20 +++++++++++++++++---
 1 files changed, 17 insertions(+), 3 deletions(-)

commit 62da6f8ee4f91af6cb1d996822cd510f7778f2c4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 10:10:21 2008 +0000

    GabbleIMChannel: expose interfaces as a GObject property
    
    
    20080606101021-53eee-52193b96b158e1d1780ed423552816d88fa352f3.gz

 src/gabble-im-channel.c |   23 ++++++++++++++++++-----
 1 files changed, 18 insertions(+), 5 deletions(-)

commit d102aca2d47b26d35d593a656d69123a406f506a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 10:10:21 2008 +0000

    GabbleIMChannel: expose interfaces as a GObject property
    
    
    20080606101021-53eee-52193b96b158e1d1780ed423552816d88fa352f3.gz

 src/gabble-im-channel.c |   23 ++++++++++++++++++-----
 1 files changed, 18 insertions(+), 5 deletions(-)

commit 670e3a5bef46491df231f8152aba94f41d6da974
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 10:02:07 2008 +0000

    GabbleRosterChannel: expose interfaces as a GObject property
    
    
    20080606100207-53eee-0c7d0cd74be111bb23d765a4ea9322ca7f8a5570.gz

 src/gabble-roster-channel.c |   21 ++++++++++++++++++---
 1 files changed, 18 insertions(+), 3 deletions(-)

commit b279e93751299597aefc6b94949ed2beddb9431d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 10:02:07 2008 +0000

    GabbleRosterChannel: expose interfaces as a GObject property
    
    
    20080606100207-53eee-0c7d0cd74be111bb23d765a4ea9322ca7f8a5570.gz

 src/gabble-roster-channel.c |   21 ++++++++++++++++++---
 1 files changed, 18 insertions(+), 3 deletions(-)

commit ec811965de4a0caaa40ca00897d8cd524fe65200
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 09:57:32 2008 +0000

    GabbleMediaChannel: expose 'interfaces' as a GObject property
    
    
    20080606095732-53eee-d5afcc8e685eaf715b1cfaaa45be3f66805a88cc.gz

 src/gabble-media-channel.c |   38 +++++++++++++++++++++++++-------------
 1 files changed, 25 insertions(+), 13 deletions(-)

commit 1b0f4abce6f9621e16df5e8b0cbc20a116851a78
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 09:57:32 2008 +0000

    GabbleMediaChannel: expose 'interfaces' as a GObject property
    
    
    20080606095732-53eee-d5afcc8e685eaf715b1cfaaa45be3f66805a88cc.gz

 src/gabble-media-channel.c |   38 +++++++++++++++++++++++++-------------
 1 files changed, 25 insertions(+), 13 deletions(-)

commit 8fc5b21cdab69e9f73aaf2b7af3c12a0bbec84d0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 09:37:19 2008 +0000

    test-muc: exercise Properties
    
    
    20080606093719-53eee-abc9a299db26f55f0eb539ef12f8371facec5eb6.gz

 tests/twisted/muc/test-muc.py |   35 +++++++++++++++++++++++++++++++++++
 1 files changed, 35 insertions(+), 0 deletions(-)

commit 0086d7ce9fb5e900b4baba1ad830c6e212a0e14e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 09:37:19 2008 +0000

    test-muc: exercise Properties
    
    
    20080606093719-53eee-abc9a299db26f55f0eb539ef12f8371facec5eb6.gz

 tests/twisted/muc/test-muc.py |   35 +++++++++++++++++++++++++++++++++++
 1 files changed, 35 insertions(+), 0 deletions(-)

commit 622b310953033e5afab32fdce210952ec890a9da
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 08:57:24 2008 +0000

    GabbleMucChannel: implement basic Channel properties from spec 0.17.7
    
    
    20080606085724-53eee-f8c7307a60acdaadce5e15bd8ccdb0269f3a958e.gz

 src/gabble-muc-channel.c |   16 ++++++++++++++++
 1 files changed, 16 insertions(+), 0 deletions(-)

commit 43a0249fc4a58637aa783fd840d912f947ba67c8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 08:57:24 2008 +0000

    GabbleMucChannel: implement basic Channel properties from spec 0.17.7
    
    
    20080606085724-53eee-f8c7307a60acdaadce5e15bd8ccdb0269f3a958e.gz

 src/gabble-muc-channel.c |   16 ++++++++++++++++
 1 files changed, 16 insertions(+), 0 deletions(-)

commit f0ff37f857a5d1d38dc46e031edfd931572f621c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 08:55:12 2008 +0000

    GabbleMucChannel: consistently give all properties static name, nick and blurb flags
    
    
    20080606085512-53eee-472543591cd05162df6eb5aceb98bcca6a288c61.gz

 src/gabble-muc-channel.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 2054e5a2f1032b22b2efc50d3788706541eb2927
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 08:55:12 2008 +0000

    GabbleMucChannel: consistently give all properties static name, nick and blurb flags
    
    
    20080606085512-53eee-472543591cd05162df6eb5aceb98bcca6a288c61.gz

 src/gabble-muc-channel.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 8650cc4c1211c6fba133d972b27dcce992e28d2f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 08:54:01 2008 +0000

    GabbleMucChannel: make 'interfaces' a GObject property
    
    
    20080606085401-53eee-03bcb054a8902e4d26608193a434d340bf97df4a.gz

 src/gabble-muc-channel.c |   30 +++++++++++++++++++++---------
 1 files changed, 21 insertions(+), 9 deletions(-)

commit f2d10b0a925c4dadb4ea49b8383e8e042d6d5525
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 1 09:17:02 2008 +0000

    servicetest.py: add the interface to dbus-signal events
    
    
    20080701091702-7fe3f-fc5a552110f8d606e8d4389b7ed8e4962b950a0a.gz

 tests/twisted/servicetest.py |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit f0c8ea2710eba0e45cfbf080b2119e9608e9ff94
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 08:54:01 2008 +0000

    GabbleMucChannel: make 'interfaces' a GObject property
    
    
    20080606085401-53eee-03bcb054a8902e4d26608193a434d340bf97df4a.gz

 src/gabble-muc-channel.c |   30 +++++++++++++++++++++---------
 1 files changed, 21 insertions(+), 9 deletions(-)

commit 7439bbf2b569bacf78408dfd44759e9d2e16c2ae
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 1 09:17:02 2008 +0000

    servicetest.py: add the interface to dbus-signal events
    
    
    20080701091702-7fe3f-fc5a552110f8d606e8d4389b7ed8e4962b950a0a.gz

 tests/twisted/servicetest.py |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit e84f0be0e7d57dee11f5c9e7c615a9c9fac95320
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 28 18:26:00 2008 +0000

    Remove some debugs that were added in the xep0115 branch
    
    
    20080528182600-a41c0-3712ed0e338b725b16bb3b7484dfe958bdbe9998.gz

 src/caps-hash.c         |    4 ----
 src/gabble-connection.c |   12 ------------
 src/presence-cache.c    |    5 -----
 3 files changed, 0 insertions(+), 21 deletions(-)

commit eff7f4459fadb407f9d1224fc9e74e957ad12028
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jun 9 13:31:20 2008 +0000

    Actually add GLib interfaces generator XSL
    
    
    20080609133120-53eee-e18006efcec630c20a1b64a317a5315ff8a397df.gz

 tools/glib-interfaces-body-generator.xsl |   47 +++++++++++++++++++++++++
 tools/glib-interfaces-generator.xsl      |   55 ++++++++++++++++++++++++++++++
 2 files changed, 102 insertions(+), 0 deletions(-)

commit fa58009de499700a0423bdc84788e30bc7476313
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jun 9 13:01:36 2008 +0000

    extensions/: generate fully up-to-date extensions, including GTypes and interface quarks
    
    
    20080609130136-53eee-c51eb58a63073d91c1cc1917a5375a97028d1bc4.gz

 extensions/Makefile.am  |   19 +++++++++++++++++--
 extensions/extensions.c |    5 +++++
 extensions/extensions.h |    9 +++++++--
 3 files changed, 29 insertions(+), 4 deletions(-)

commit 8fd2db0a831af0508f75c5fbfb30db3d879c0141
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jun 9 13:00:30 2008 +0000

    tools: add glib-interfaces-*-generator.xsl
    
    
    20080609130030-53eee-a15c4f334681f602f1f1ce6a76b8a3cbad4123da.gz

 tools/Makefile.am |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit f7aea199419923d99b87980ccac31731805985a4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jun 9 12:45:32 2008 +0000

    Update libglibcodegen.py from telepathy-glib; add libtpcodegen (new dependency) and glib-gtypes-generator.py
    
    
    20080609124532-53eee-dc3c7a9e80b283f3710ec33984369af99f7a4a27.gz

 tools/Makefile.am              |   11 ++
 tools/glib-gtypes-generator.py |  230 ++++++++++++++++++++++++++++++++++++++++
 tools/libglibcodegen.py        |  171 ++----------------------------
 tools/libtpcodegen.py          |  194 +++++++++++++++++++++++++++++++++
 4 files changed, 445 insertions(+), 161 deletions(-)

commit c168c97a76f932276715dd301f36ccf6127e87e7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jun 9 12:41:50 2008 +0000

    doc-generator.xsl: update from telepathy-glib
    
    
    20080609124150-53eee-f89242064de4ed92eee303e382dd5d62ea88be50.gz

 tools/doc-generator.xsl |  153 ++++++++++++++++++++++++++++++++++++----------
 1 files changed, 119 insertions(+), 34 deletions(-)

commit 5e9706f997d23c9fa4c60385c1041ef3e6b9205a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 16:41:28 2008 +0000

    _boring: add tests/twisted/gabbleconfig.py and telepathy-gabble-debug
    
    
    20080606164128-53eee-c615bf6f97d0bf31c20ea29fbfc2437a1f92653c.gz

 _boring |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit e34168078042e7e1bcef926264c0174228b2f753
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 16:02:13 2008 +0000

    Add a comment explaining what's going on with MUC joins if we don't get the name we asked for
    
    
    20080606160213-53eee-1c6f924c1e97037463559e4767b314fc97235d84.gz

 src/gabble-muc-channel.c |   13 +++++++++++++
 1 files changed, 13 insertions(+), 0 deletions(-)

commit 156027a00d9034e7a46d654c9516a491455eadb7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 15:01:07 2008 +0000

    Require released version 0.7.10 of telepathy-glib
    
    
    20080606150107-53eee-a2061feea68d227eb230b9d422b41d6bfea5b658.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit fcbe2030ace87e3d84bf60f650d18fe7e20f1103
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 10:23:31 2008 +0000

    GabbleRosterChannel: remove pointless guard against multiple initialization - class_init() only runs once
    
    
    20080606102331-53eee-02262e45e03c4cf5cf80115aba0061cba415a186.gz

 src/gabble-roster-channel.c |   16 +++++-----------
 1 files changed, 5 insertions(+), 11 deletions(-)

commit 41095cf28f55759345a8ab9a745ad96a433f2008
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 10:22:54 2008 +0000

    GabbleMediaChannel: remove pointless guard against multiple initialization - class_init() only runs once
    
    
    20080606102254-53eee-ed136088bd743ad1d725a45ab9f726050d78a0e4.gz

 src/gabble-media-channel.c |   16 +++++-----------
 1 files changed, 5 insertions(+), 11 deletions(-)

commit 72b726702927d6e47aed772bef06e934f9d94bfc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 08:54:28 2008 +0000

    GabbleMucChannel: remove pointless guard against multiple initialization - class_init can only run once anyway
    
    
    20080606085428-53eee-e082aa41c394246cfc57af7d678ed712638990f2.gz

 src/gabble-muc-channel.c |   15 +++++----------
 1 files changed, 5 insertions(+), 10 deletions(-)

commit 7a8095edfa76d367176d539b127b7005fb06780d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 28 18:26:00 2008 +0000

    Remove some debugs that were added in the xep0115 branch
    
    
    20080528182600-a41c0-3712ed0e338b725b16bb3b7484dfe958bdbe9998.gz

 src/caps-hash.c         |    4 ----
 src/gabble-connection.c |   12 ------------
 src/presence-cache.c    |    5 -----
 3 files changed, 0 insertions(+), 21 deletions(-)

commit 3841d5c2e092ae0b0685fc720febf780ce983b27
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jun 9 13:31:20 2008 +0000

    Actually add GLib interfaces generator XSL
    
    
    20080609133120-53eee-e18006efcec630c20a1b64a317a5315ff8a397df.gz

 tools/glib-interfaces-body-generator.xsl |   47 +++++++++++++++++++++++++
 tools/glib-interfaces-generator.xsl      |   55 ++++++++++++++++++++++++++++++
 2 files changed, 102 insertions(+), 0 deletions(-)

commit 980c1d39e35230c69c7b84fc3f20151946700d47
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jun 9 13:01:36 2008 +0000

    extensions/: generate fully up-to-date extensions, including GTypes and interface quarks
    
    
    20080609130136-53eee-c51eb58a63073d91c1cc1917a5375a97028d1bc4.gz

 extensions/Makefile.am  |   19 +++++++++++++++++--
 extensions/extensions.c |    5 +++++
 extensions/extensions.h |    9 +++++++--
 3 files changed, 29 insertions(+), 4 deletions(-)

commit d4f50e66d02af95f35bc88e7d058302b82fb9ab5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jun 9 13:00:30 2008 +0000

    tools: add glib-interfaces-*-generator.xsl
    
    
    20080609130030-53eee-a15c4f334681f602f1f1ce6a76b8a3cbad4123da.gz

 tools/Makefile.am |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit fceb97bfdf6629dd70c372ef7d8bc0ddbe1c5295
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jun 9 12:45:32 2008 +0000

    Update libglibcodegen.py from telepathy-glib; add libtpcodegen (new dependency) and glib-gtypes-generator.py
    
    
    20080609124532-53eee-dc3c7a9e80b283f3710ec33984369af99f7a4a27.gz

 tools/Makefile.am              |   11 ++
 tools/glib-gtypes-generator.py |  230 ++++++++++++++++++++++++++++++++++++++++
 tools/libglibcodegen.py        |  171 ++----------------------------
 tools/libtpcodegen.py          |  194 +++++++++++++++++++++++++++++++++
 4 files changed, 445 insertions(+), 161 deletions(-)

commit 66ff96aa629c4056ee30d8655bc523ded8603272
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jun 9 12:41:50 2008 +0000

    doc-generator.xsl: update from telepathy-glib
    
    
    20080609124150-53eee-f89242064de4ed92eee303e382dd5d62ea88be50.gz

 tools/doc-generator.xsl |  153 ++++++++++++++++++++++++++++++++++++----------
 1 files changed, 119 insertions(+), 34 deletions(-)

commit 532538695ae7c5f8e3ad0059cbcf2588787d5328
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 16:41:28 2008 +0000

    _boring: add tests/twisted/gabbleconfig.py and telepathy-gabble-debug
    
    
    20080606164128-53eee-c615bf6f97d0bf31c20ea29fbfc2437a1f92653c.gz

 _boring |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 394713fd656055512991afd7faf77af84e655170
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 16:02:13 2008 +0000

    Add a comment explaining what's going on with MUC joins if we don't get the name we asked for
    
    
    20080606160213-53eee-1c6f924c1e97037463559e4767b314fc97235d84.gz

 src/gabble-muc-channel.c |   13 +++++++++++++
 1 files changed, 13 insertions(+), 0 deletions(-)

commit 74ecb8e7850e854a050cf1eb04de12efb8c5ca87
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 15:01:07 2008 +0000

    Require released version 0.7.10 of telepathy-glib
    
    
    20080606150107-53eee-a2061feea68d227eb230b9d422b41d6bfea5b658.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f251058fdd29f74e0289a666d2d3f6346226135e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 10:23:31 2008 +0000

    GabbleRosterChannel: remove pointless guard against multiple initialization - class_init() only runs once
    
    
    20080606102331-53eee-02262e45e03c4cf5cf80115aba0061cba415a186.gz

 src/gabble-roster-channel.c |   16 +++++-----------
 1 files changed, 5 insertions(+), 11 deletions(-)

commit db9178594dd39816504515617a05450d2174a075
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 10:22:54 2008 +0000

    GabbleMediaChannel: remove pointless guard against multiple initialization - class_init() only runs once
    
    
    20080606102254-53eee-ed136088bd743ad1d725a45ab9f726050d78a0e4.gz

 src/gabble-media-channel.c |   16 +++++-----------
 1 files changed, 5 insertions(+), 11 deletions(-)

commit 860791b1421735c58c738ab7f3a2aecdb4753773
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 6 08:54:28 2008 +0000

    GabbleMucChannel: remove pointless guard against multiple initialization - class_init can only run once anyway
    
    
    20080606085428-53eee-e082aa41c394246cfc57af7d678ed712638990f2.gz

 src/gabble-muc-channel.c |   15 +++++----------
 1 files changed, 5 insertions(+), 10 deletions(-)

commit cafda774492ed17a1f19abd675ee498c8fae525b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue May 27 12:19:31 2008 +0000

    GabbleRosterChannel: use less strange API to hook up D-Bus properties
    
    
    20080527121931-53eee-1e36d3cb6322693e4dd4f84144d381e887a03b44.gz

 src/gabble-roster-channel.c |   27 ++++++++++++---------------
 1 files changed, 12 insertions(+), 15 deletions(-)

commit 92b255dd79dfce24625bf3b07eb0363d51b804d1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue May 27 12:19:31 2008 +0000

    GabbleRosterChannel: use less strange API to hook up D-Bus properties
    
    
    20080527121931-53eee-1e36d3cb6322693e4dd4f84144d381e887a03b44.gz

 src/gabble-roster-channel.c |   27 ++++++++++++---------------
 1 files changed, 12 insertions(+), 15 deletions(-)

commit a5ec7fac8ebfcecc97d416b1f8592150e4423bad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue May 27 12:19:16 2008 +0000

    GabbleMUCChannel: use less strange API to hook up D-Bus properties
    
    
    20080527121916-53eee-01c45417fa09fa5e6dd726ea01ddbe1b8f7ca75c.gz

 src/gabble-muc-channel.c |   27 +++++++++++----------------
 1 files changed, 11 insertions(+), 16 deletions(-)

commit f98836e0d9e34a07d13c9373432b9ad270817cf0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue May 27 12:19:16 2008 +0000

    GabbleMUCChannel: use less strange API to hook up D-Bus properties
    
    
    20080527121916-53eee-01c45417fa09fa5e6dd726ea01ddbe1b8f7ca75c.gz

 src/gabble-muc-channel.c |   27 +++++++++++----------------
 1 files changed, 11 insertions(+), 16 deletions(-)

commit 8e2876337e607f7e222f7e0426cca55b3a2b34c1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue May 27 12:18:55 2008 +0000

    GabbleMediaChannel: use less strange API to hook up D-Bus properties
    
    
    20080527121855-53eee-b6b5b4e55628ce7e1952bd517fa427b68f5022a5.gz

 src/gabble-media-channel.c |   26 ++++++++++++--------------
 1 files changed, 12 insertions(+), 14 deletions(-)

commit dd7a97b6f76b5b8414860b6adba112f0fdf39358
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue May 27 12:18:55 2008 +0000

    GabbleMediaChannel: use less strange API to hook up D-Bus properties
    
    
    20080527121855-53eee-b6b5b4e55628ce7e1952bd517fa427b68f5022a5.gz

 src/gabble-media-channel.c |   26 ++++++++++++--------------
 1 files changed, 12 insertions(+), 14 deletions(-)

commit c2ea1d9d4a0969ecea0e67abbdb419ffff589fbf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 18:01:41 2008 +0000

    GabbleRosterChannel: avoid initializing static data twice if we're subclassed
    
    
    20080526180141-53eee-9d2d3e789e0bd5008e166d0ba2260ff98c663fca.gz

 src/gabble-roster-channel.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 7b1324d4c6745bf8bf52bbb7d4603080708bf4c7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 18:01:41 2008 +0000

    GabbleRosterChannel: avoid initializing static data twice if we're subclassed
    
    
    20080526180141-53eee-9d2d3e789e0bd5008e166d0ba2260ff98c663fca.gz

 src/gabble-roster-channel.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 0fdeec83f3efcb88f4b8cad487792cbe65e9cab6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 18:01:28 2008 +0000

    GabbleMucChannel: avoid initializing static data twice if we're subclassed
    
    
    20080526180128-53eee-8afe65986ee88743e914e4fb4e0d38ba5dc330c7.gz

 src/gabble-muc-channel.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit d248be9c2757b4f3716aab155e36ccc2272231b2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 18:01:28 2008 +0000

    GabbleMucChannel: avoid initializing static data twice if we're subclassed
    
    
    20080526180128-53eee-8afe65986ee88743e914e4fb4e0d38ba5dc330c7.gz

 src/gabble-muc-channel.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit aac0821ed915a7327392ac757e131f3d4300d68c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 18:01:12 2008 +0000

    GabbleMediaChannel: avoid initializing static data twice
    
    
    20080526180112-53eee-26435cbae4173481b167aa17938239ead6eabddb.gz

 src/gabble-media-channel.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 26d890a4cc09fb251be92d5e46d511d1b47db470
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 18:01:12 2008 +0000

    GabbleMediaChannel: avoid initializing static data twice
    
    
    20080526180112-53eee-26435cbae4173481b167aa17938239ead6eabddb.gz

 src/gabble-media-channel.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 60aef2696879669803ec1b2c8253d3e117555262
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 17:44:09 2008 +0000

    GabbleRosterChannel: make it clearer exactly what is being passed to tp_group_mixin_init_dbus_properties
    
    
    20080526174409-53eee-e54193ff57243da6d19e6ef3d64ed7666a14fc3c.gz

 src/gabble-roster-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 95e81dda949bb3785dd1df37eef468540f83b296
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 17:44:09 2008 +0000

    GabbleRosterChannel: make it clearer exactly what is being passed to tp_group_mixin_init_dbus_properties
    
    
    20080526174409-53eee-e54193ff57243da6d19e6ef3d64ed7666a14fc3c.gz

 src/gabble-roster-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 46b2887fdfbe335a83afe2a49b2222c75f6e370a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 17:43:55 2008 +0000

    GabbleMucChannel: make it clearer exactly what is being passed to tp_group_mixin_init_dbus_properties
    
    
    20080526174355-53eee-254df983ac317e4f76836d613864e66ba6219e34.gz

 src/gabble-muc-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 42c468d25eaf5798fe6a52b3402fd53da0baf2fb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 17:43:55 2008 +0000

    GabbleMucChannel: make it clearer exactly what is being passed to tp_group_mixin_init_dbus_properties
    
    
    20080526174355-53eee-254df983ac317e4f76836d613864e66ba6219e34.gz

 src/gabble-muc-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7a283f9b5166796518ebe8fe2592a77934c51152
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 17:43:41 2008 +0000

    GabbleMediaChannel: make it clearer exactly what is being passed to tp_group_mixin_init_dbus_properties
    
    
    20080526174341-53eee-88b8a0f43c39bc066f3ac66eb279e2099cf8031d.gz

 src/gabble-media-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7c3a5e347c61f33fb6d7a1febba0ad7922173305
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 17:43:41 2008 +0000

    GabbleMediaChannel: make it clearer exactly what is being passed to tp_group_mixin_init_dbus_properties
    
    
    20080526174341-53eee-88b8a0f43c39bc066f3ac66eb279e2099cf8031d.gz

 src/gabble-media-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 961023a9d234ee048e27e884e8f265f1fe8e6f2d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 16:28:59 2008 +0000

    test-muc-ownership: expect the local self-handle to be owned by the global self-handle
    
    
    20080526162859-53eee-a7804a48fee26e9846684f7e42161cccc3cae901.gz

 tests/twisted/muc/test-muc-ownership.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 146828243f553be55b02ed484242f50533604840
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 16:28:59 2008 +0000

    test-muc-ownership: expect the local self-handle to be owned by the global self-handle
    
    
    20080526162859-53eee-a7804a48fee26e9846684f7e42161cccc3cae901.gz

 tests/twisted/muc/test-muc-ownership.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 88cdff024834170fea5f8933ecc5d5c5126e2d03
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 16:26:41 2008 +0000

    Consider the self handle to be owned by the connection's self handle, even if the MUC service doesn't explicitly say so
    
    
    20080526162641-53eee-f976b373b5d036a03fbd97be58fd55d1a560471a.gz

 src/gabble-muc-channel.c |   14 ++++++++++++++
 1 files changed, 14 insertions(+), 0 deletions(-)

commit dac5f85b0a47eab23f6069ffa9e07ce21c71c6b8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 16:26:41 2008 +0000

    Consider the self handle to be owned by the connection's self handle, even if the MUC service doesn't explicitly say so
    
    
    20080526162641-53eee-f976b373b5d036a03fbd97be58fd55d1a560471a.gz

 src/gabble-muc-channel.c |   14 ++++++++++++++
 1 files changed, 14 insertions(+), 0 deletions(-)

commit c670b52687d3bef0ee3e64b282032cf42f34c56d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 16:24:18 2008 +0000

    Don't clear HANDLE_OWNERS_NOT_AVAILABLE just because our own handle in a MUC has an owner
    
    
    20080526162418-53eee-60cb5cf4378c706ee83720b5f1723ef4b44ec496.gz

 src/gabble-muc-channel.c |   13 ++++++++-----
 1 files changed, 8 insertions(+), 5 deletions(-)

commit 69695f0db8c2c56d57ec2ebf1a9425edba71b8b7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 16:24:18 2008 +0000

    Don't clear HANDLE_OWNERS_NOT_AVAILABLE just because our own handle in a MUC has an owner
    
    
    20080526162418-53eee-60cb5cf4378c706ee83720b5f1723ef4b44ec496.gz

 src/gabble-muc-channel.c |   13 ++++++++-----
 1 files changed, 8 insertions(+), 5 deletions(-)

commit 73a39ac5ce6b77cc0700b8d95b608584856d6b47
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 16:11:55 2008 +0000

    tests/twisted/olpc/olpc-muc-invitation.py: remove race condition between stream-presence and MembersChanged
    
    
    20080526161155-53eee-b03ec4723549fb41076181ade880863f7390dbb7.gz

 tests/twisted/olpc/olpc-muc-invitation.py |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit 25731b0db436ca9c3e39b4611372eceb180780fe
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 16:11:55 2008 +0000

    tests/twisted/olpc/olpc-muc-invitation.py: remove race condition between stream-presence and MembersChanged
    
    
    20080526161155-53eee-b03ec4723549fb41076181ade880863f7390dbb7.gz

 tests/twisted/olpc/olpc-muc-invitation.py |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit f07d57841d196b0eec5ce3f28fc4a02236f55a1d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 16:11:39 2008 +0000

    test-muc-ownership: exercise D-Bus properties
    
    
    20080526161139-53eee-27c212e016f84409063ee1e6875b948a3389f779.gz

 tests/twisted/muc/test-muc-ownership.py |   16 +++++++++++++++-
 1 files changed, 15 insertions(+), 1 deletions(-)

commit 3ffaa3cec7f61fb2936806b3b7248145f9d36565
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 16:11:39 2008 +0000

    test-muc-ownership: exercise D-Bus properties
    
    
    20080526161139-53eee-27c212e016f84409063ee1e6875b948a3389f779.gz

 tests/twisted/muc/test-muc-ownership.py |   16 +++++++++++++++-
 1 files changed, 15 insertions(+), 1 deletions(-)

commit cb4752c102ddaa11be24b60081ce32e0c749fa73
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 15:58:46 2008 +0000

    Use actual dbus-python API to call GetHandleOwners in test-muc-ownership
    
    
    20080526155846-53eee-c94f241b295b8e783d64aa534a7fbbaa786b9074.gz

 tests/twisted/muc/test-muc-ownership.py |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit 58c93b3136dd0bb6b05058e4c68a6f2c0c7e2a33
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 15:58:46 2008 +0000

    Use actual dbus-python API to call GetHandleOwners in test-muc-ownership
    
    
    20080526155846-53eee-c94f241b295b8e783d64aa534a7fbbaa786b9074.gz

 tests/twisted/muc/test-muc-ownership.py |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit 2b3e9ee4ce3f5b47089a1952c326594f0b4c8c02
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 15:57:16 2008 +0000

    test-muc-ownership.py: exercise HandleOwnersChanged
    
    
    20080526155716-53eee-822c7d095886fed92f7d2de477ea8c3f6253b7be.gz

 tests/twisted/muc/test-muc-ownership.py |   35 ++++++++++++++++++++++++++++--
 1 files changed, 32 insertions(+), 3 deletions(-)

commit 980ecd90656e7fcea8764ac9d22591cd2a013d3c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 15:57:16 2008 +0000

    test-muc-ownership.py: exercise HandleOwnersChanged
    
    
    20080526155716-53eee-822c7d095886fed92f7d2de477ea8c3f6253b7be.gz

 tests/twisted/muc/test-muc-ownership.py |   35 ++++++++++++++++++++++++++++--
 1 files changed, 32 insertions(+), 3 deletions(-)

commit 84d910b6e0a4737079ac53f1bd8034a4cfffca28
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 15:49:49 2008 +0000

    Port test-muc-ownership.py to the new API
    
    
    20080526154949-53eee-81848e849407b185e46a174fa008adb5c73ef173.gz

 tests/twisted/muc/test-muc-ownership.py |  105 +++++++++++++------------------
 1 files changed, 43 insertions(+), 62 deletions(-)

commit 400a21d9c655fe6c35cda2ba65a071fe8a9a49bd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 15:49:49 2008 +0000

    Port test-muc-ownership.py to the new API
    
    
    20080526154949-53eee-81848e849407b185e46a174fa008adb5c73ef173.gz

 tests/twisted/muc/test-muc-ownership.py |  105 +++++++++++++------------------
 1 files changed, 43 insertions(+), 62 deletions(-)

commit 07669a019fe8ab0e2f25c89f17bdf207fa9b79af
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 15:31:38 2008 +0000

    GabbleMucFactory: don't leak the room handle when processing an invitation
    
    
    20080526153138-53eee-7321be9a37a50c42be2037ee15b354068aeacd2f.gz

 src/muc-factory.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 82055a3886370b5a621ef525bdde52266ca5285f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 15:31:38 2008 +0000

    GabbleMucFactory: don't leak the room handle when processing an invitation
    
    
    20080526153138-53eee-7321be9a37a50c42be2037ee15b354068aeacd2f.gz

 src/muc-factory.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 4919ebb7dcf6b7c49ac57dc2cab6ef7b8eab453d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 15:24:41 2008 +0000

    In Gabble MUC channels, aggregate initial handle ownership as well as initial handles
    
    
    20080526152441-53eee-8e8e7d21642777eeef7e35f53d861a82f63a48ae.gz

 src/gabble-muc-channel.c |   71 +++++++++++++++++++++++++++++++++------------
 1 files changed, 52 insertions(+), 19 deletions(-)

commit 15b2c634581880bd34145260ad6651df18eb1e7d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 15:24:41 2008 +0000

    In Gabble MUC channels, aggregate initial handle ownership as well as initial handles
    
    
    20080526152441-53eee-8e8e7d21642777eeef7e35f53d861a82f63a48ae.gz

 src/gabble-muc-channel.c |   71 +++++++++++++++++++++++++++++++++------------
 1 files changed, 52 insertions(+), 19 deletions(-)

commit 9bc6c8ae1e3bdebaacc87c8ee78b35c31bf4e821
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 15:03:20 2008 +0000

    olpc-muc-prop-change: be independent of relative ordering of stream-presence and MembersChanged
    
    
    20080526150320-53eee-d4e803ac94bc96f442501468772ac1d46cc21e17.gz

 tests/twisted/olpc/olpc-muc-prop-change.py |   11 ++++++-----
 1 files changed, 6 insertions(+), 5 deletions(-)

commit 0b77d763f57d8e2bf1dd31b6e60eec86086a1798
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 15:03:20 2008 +0000

    olpc-muc-prop-change: be independent of relative ordering of stream-presence and MembersChanged
    
    
    20080526150320-53eee-d4e803ac94bc96f442501468772ac1d46cc21e17.gz

 tests/twisted/olpc/olpc-muc-prop-change.py |   11 ++++++-----
 1 files changed, 6 insertions(+), 5 deletions(-)

commit 5fdc366057f3020dc5a54012d8d9af9b09c751ea
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 15:02:31 2008 +0000

    Remove two unnecessary refs to the self-handle per MUC channel
    
    Note that this will probably assert if the group mixin does not ref the
    self-handle itself (this functionality was added after 0.7.8).
    
    20080526150231-53eee-8e09e7afa4c78353cd71cc4d2c946211fbc06007.gz

 src/gabble-muc-channel.c |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit 675915cefb1f6ee9256b30a0dcefb4cd74993a91
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 15:02:31 2008 +0000

    Remove two unnecessary refs to the self-handle per MUC channel
    
    Note that this will probably assert if the group mixin does not ref the
    self-handle itself (this functionality was added after 0.7.8).
    
    20080526150231-53eee-8e09e7afa4c78353cd71cc4d2c946211fbc06007.gz

 src/gabble-muc-channel.c |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit 865d759923ce181ddd7663eb682727f265f55bc3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 13:23:57 2008 +0000

    Use make -C in tests/README
    
    
    20080526132357-53eee-0f80aacf5022dbf16c2a638b189e0e32970c11f9.gz

 tests/README |   24 ++++++++----------------
 1 files changed, 8 insertions(+), 16 deletions(-)

commit ce383dda8c395173a409062df3433a3a8a1f218c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 13:23:57 2008 +0000

    Use make -C in tests/README
    
    
    20080526132357-53eee-0f80aacf5022dbf16c2a638b189e0e32970c11f9.gz

 tests/README |   24 ++++++++----------------
 1 files changed, 8 insertions(+), 16 deletions(-)

commit 98e816f8c992a80cea2e820ccf51c810f41d5494
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 12:16:19 2008 +0000

    Annotate why we are not adding an owner for the inviter handle
    
    
    20080526121619-53eee-de258f202451403c2475cbc5c2b495ac1f8ecc35.gz

 src/gabble-muc-channel.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 12fac015878052dab824f7e62f7203e809be0e18
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 12:16:19 2008 +0000

    Annotate why we are not adding an owner for the inviter handle
    
    
    20080526121619-53eee-de258f202451403c2475cbc5c2b495ac1f8ecc35.gz

 src/gabble-muc-channel.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 28d921b41a8033d1d909a448f5772c2853d9f195
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 11:47:53 2008 +0000

    gabble_muc_channel_add_member: clarify code where we're adding ourselves to remote pending while removing the inviter JID from the members
    
    
    20080526114753-53eee-7d06e85c863c4cf899ee4e10a762367b6719d87f.gz

 src/gabble-muc-channel.c |   21 ++++++++++-----------
 1 files changed, 10 insertions(+), 11 deletions(-)

commit d5525527c2a9f07175a5d5d0a032bd2885f159e0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 11:47:53 2008 +0000

    gabble_muc_channel_add_member: clarify code where we're adding ourselves to remote pending while removing the inviter JID from the members
    
    
    20080526114753-53eee-7d06e85c863c4cf899ee4e10a762367b6719d87f.gz

 src/gabble-muc-channel.c |   21 ++++++++++-----------
 1 files changed, 10 insertions(+), 11 deletions(-)

commit 9fd3c6a04025afa05eed09a442a4837b6392573f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 11:44:20 2008 +0000

    Add our own handle owner when joining a MUC channel
    
    
    20080526114420-53eee-068223186d13ada995cc0bf2313f753e692bf853.gz

 src/gabble-muc-channel.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit e1103697beda456e321ab8ed34a65eaa98d21280
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 11:44:20 2008 +0000

    Add our own handle owner when joining a MUC channel
    
    
    20080526114420-53eee-068223186d13ada995cc0bf2313f753e692bf853.gz

 src/gabble-muc-channel.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit e29fb112607722ece5b4d12c84869413fac62d38
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 11:41:59 2008 +0000

    Add self-handle owner before adding ourselves to local-pending set
    
    
    20080526114159-53eee-eb694d1d8ddcbf6f93b1e7407d1618d2dbd6d794.gz

 src/gabble-muc-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit e015a0dff3ebb84a5b9b919ff503827d660716d0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 11:41:59 2008 +0000

    Add self-handle owner before adding ourselves to local-pending set
    
    
    20080526114159-53eee-eb694d1d8ddcbf6f93b1e7407d1618d2dbd6d794.gz

 src/gabble-muc-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit a84fbcf05f4a5b1231cf0072c1df55fa64d81182
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 11:39:59 2008 +0000

    Unconditionally add handle owners when adding members due to presence
    
    Note that telepathy-glib <= 0.7.8 will assert if we add handle owners that are
    zero, so this change requires the version with Group properties.
    
    20080526113959-53eee-520a7c57775481118087a025de5cc8f7f512228a.gz

 src/gabble-muc-channel.c |   46 ++++++++++++++++++++++++----------------------
 1 files changed, 24 insertions(+), 22 deletions(-)

commit 30e7cc2930d9106b1d9a1216a92b9ebc510a0202
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 11:39:59 2008 +0000

    Unconditionally add handle owners when adding members due to presence
    
    Note that telepathy-glib <= 0.7.8 will assert if we add handle owners that are
    zero, so this change requires the version with Group properties.
    
    20080526113959-53eee-520a7c57775481118087a025de5cc8f7f512228a.gz

 src/gabble-muc-channel.c |   46 ++++++++++++++++++++++++----------------------
 1 files changed, 24 insertions(+), 22 deletions(-)

commit 97063d72e75126bb933b0161ed23616466aa1b71
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 11:39:21 2008 +0000

    Before adding ourselves to a requested MUC channel, add our handle-owner
    
    
    20080526113921-53eee-b094d999b41d61686bc17eecf9ed09cc5fa55e31.gz

 src/gabble-muc-channel.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit aa6548cd966e9ae80a501d5d758bd611753c8cfc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 11:39:21 2008 +0000

    Before adding ourselves to a requested MUC channel, add our handle-owner
    
    
    20080526113921-53eee-b094d999b41d61686bc17eecf9ed09cc5fa55e31.gz

 src/gabble-muc-channel.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 03b6e1b4d17aedfd23d43bc3c65d76da26814785
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 11:38:50 2008 +0000

    Add basic support for Group properties to MUC channel
    
    
    20080526113850-53eee-44e4f7459e3b458bc91c9bf3ee9833bd1fa2a972.gz

 src/gabble-muc-channel.c |   12 ++++++++++++
 src/gabble-muc-channel.h |    2 ++
 2 files changed, 14 insertions(+), 0 deletions(-)

commit 57bb7dc1e56328b70875d892e7e48096a5fe4007
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 11:38:50 2008 +0000

    Add basic support for Group properties to MUC channel
    
    
    20080526113850-53eee-44e4f7459e3b458bc91c9bf3ee9833bd1fa2a972.gz

 src/gabble-muc-channel.c |   12 ++++++++++++
 src/gabble-muc-channel.h |    2 ++
 2 files changed, 14 insertions(+), 0 deletions(-)

commit 22674c9895a0f47ddb60360c47a0eae9d4662ff9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 11:38:03 2008 +0000

    Implement Group properties on roster channels
    
    
    20080526113803-53eee-3dadae1e38508bc3f86ad5b6fdff7d3733709874.gz

 src/gabble-roster-channel.c |   27 ++++++++++++++++++++++-----
 src/gabble-roster-channel.h |    2 ++
 2 files changed, 24 insertions(+), 5 deletions(-)

commit 1d01da4d3db5f06cbee7e2b7c6ad89b42c8da882
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 11:38:03 2008 +0000

    Implement Group properties on roster channels
    
    
    20080526113803-53eee-3dadae1e38508bc3f86ad5b6fdff7d3733709874.gz

 src/gabble-roster-channel.c |   27 ++++++++++++++++++++++-----
 src/gabble-roster-channel.h |    2 ++
 2 files changed, 24 insertions(+), 5 deletions(-)

commit 221855980ac56403854990394fc04fb8749715d0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 11:37:02 2008 +0000

    Implement Group properties on StreamedMedia channels
    
    
    20080526113702-53eee-a36ec2c9b886d8e2ee74df6ea51a4cf6f5ba6a07.gz

 src/gabble-media-channel.c |   16 ++++++++++++++--
 src/gabble-media-channel.h |    2 ++
 2 files changed, 16 insertions(+), 2 deletions(-)

commit 59a13064d71e38134b405da51ce7eee4e412cb9e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 11:37:02 2008 +0000

    Implement Group properties on StreamedMedia channels
    
    
    20080526113702-53eee-a36ec2c9b886d8e2ee74df6ea51a4cf6f5ba6a07.gz

 src/gabble-media-channel.c |   16 ++++++++++++++--
 src/gabble-media-channel.h |    2 ++
 2 files changed, 16 insertions(+), 2 deletions(-)

commit 155d0df1ba4a1f95beb65a8b32463a9a9b924b39
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 11:36:46 2008 +0000

    Require telepathy-glib 0.7.8.1 devel version (for properties-based Group)
    
    
    20080526113646-53eee-1a0de38178fccaa227adc61049171a886aad5e45.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f279e5c7253589fcbce1785cf3c4bc977fafee24
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Jun 4 10:25:01 2008 +0000

    test-nonblocking-tls.py: Fix message
    
    
    20080604102501-a41c0-7247e3117e165b2be38f9888857ef551ee6bbed7.gz

 tests/twisted/connect/test-nonblocking-tls.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8f3bd7b9b54d805bf3ecb09fba58ff79311c05ca
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Jun 3 17:01:56 2008 +0000

    Connect tests: moved in connect/ directory, separate the blocking-tls test and the connect-twice test
    
    
    20080603170156-a41c0-ecfdd43e0c78e4ef65846e838c6ef72bb1b34670.gz

 tests/twisted/Makefile.am                     |    7 +-
 tests/twisted/connect/test-fail.py            |   17 +++
 tests/twisted/connect/test-nonblocking-tls.py |  133 +++++++++++++++++++++++++
 tests/twisted/connect/test-success.py         |   21 ++++
 tests/twisted/connect/test-twice.py           |   90 +++++++++++++++++
 tests/twisted/test-connect-fail.py            |   17 ---
 tests/twisted/test-connect-twice.py           |  133 -------------------------
 tests/twisted/test-connect.py                 |   21 ----
 8 files changed, 265 insertions(+), 174 deletions(-)

commit 1c348a3295c3b72a1cb04788cdf7f13a61a87536
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Jun 3 16:35:27 2008 +0000

    test-connect-twice.py: disabled
    
    
    20080603163527-a41c0-54371ef3f82f128a0758b1f1754e5614af9b1654.gz

 tests/twisted/test-connect-twice.py |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit ff530472fe6655eb417e3eae905849fc6a2f9d0d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Jun 3 16:31:44 2008 +0000

    Twisted tests: Move BlockForeverTlsAuthenticator from gabbletest.py to test-connect-twice.py
    
    
    20080603163144-a41c0-f47cf9a30662004b58047606520ec588343ef971.gz

 tests/twisted/gabbletest.py         |   36 -----------------------------
 tests/twisted/test-connect-twice.py |   43 ++++++++++++++++++++++++++++++++++-
 2 files changed, 42 insertions(+), 37 deletions(-)

commit b120737fcc8e8e1e17c3faa98035500f8f842cf5
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Jun 3 15:49:40 2008 +0000

    Rename TlsAuthenticator to BlockForeverTlsAuthenticator
    
    
    20080603154940-a41c0-9dc625768a6d08a324a7dde8b4afcc3fc3642b91.gz

 tests/twisted/gabbletest.py         |    6 ++++--
 tests/twisted/test-connect-twice.py |    4 ++--
 2 files changed, 6 insertions(+), 4 deletions(-)

commit a2fd90d8228184c04061079b6e39ad3b15608308
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Jun 3 15:18:31 2008 +0000

    Twisted test: regression test for bug fd.org #14341
    
    
    20080603151831-a41c0-30eb1e2ed010431c8a621541d5e33b356e335d19.gz

 tests/twisted/test-connect-twice.py |   29 +++++++++++++----------------
 1 files changed, 13 insertions(+), 16 deletions(-)

commit 8b49e12c883af4ed9f93ce6925d5cc86f0e79be7
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Jun 3 15:17:38 2008 +0000

    Twisted tests: add TlsAuthenticator that blocks after the <proceed/>
    
    
    20080603151738-a41c0-02ed1e8a9b5feb8f74371bc451b9ab306454ac8b.gz

 tests/twisted/gabbletest.py |   35 +++++++++++++++++++++++++++++++++++
 1 files changed, 35 insertions(+), 0 deletions(-)

commit 3a4ef55c92045c0d92ea9a6c6c2490811b50c7c9
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Jun 3 14:10:07 2008 +0000

    Twisted test: Fix streamStarted() in XmppAuthenticator
    
    
    20080603141007-a41c0-eea80f3cded68d612d05155af8aff7ef5792f2a4.gz

 tests/twisted/gabbletest.py |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 9b3784467df2a679ccf5d8de65ab98199ca5661a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Jun 3 10:58:45 2008 +0000

    Twisted test connect2.py renamed to connect-twice.py
    
    
    20080603105845-a41c0-84b2b1034d1b08a55bd969ec033c9d7b881e3d33.gz

 tests/twisted/Makefile.am           |    2 +-
 tests/twisted/test-connect-twice.py |   87 +++++++++++++++++++++++++++++++++++
 tests/twisted/test-connect2.py      |   87 -----------------------------------
 3 files changed, 88 insertions(+), 88 deletions(-)

commit ca7224b5116e45cb3cf1d8200d3c233441508ab8
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Jun 2 18:41:45 2008 +0000

    Twisted tests: check that Gabble can manage 2 Jabber connection at the same time
    
    
    20080602184145-a41c0-11f6fd9dc39636b4d6362215c0c1bdce99fd4f82.gz

 tests/twisted/Makefile.am      |    1 +
 tests/twisted/test-connect2.py |   87 ++++++++++++++++++++++++++++++++++++++++
 2 files changed, 88 insertions(+), 0 deletions(-)

commit 71a9da420490454945fe0012a964fae2f0d0f402
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Jun 2 18:40:37 2008 +0000

    Twisted test: let the port of the jabber server be parametrable
    
    
    20080602184037-a41c0-e7ded86a66aa6e682665833a9d3c6c6bc3f3e6eb.gz

 tests/twisted/gabbletest.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit fe6334b188a5ac51fa69d77e009023a0319367ce
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Fri May 30 12:29:53 2008 +0000

    tube-stream: Fix off by one error in unix socket path initialization
    
    
    20080530122953-93b9a-155592c3c2f2ce79ef7da7e7c07b522f0bb5ef48.gz

 src/tube-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e30241e860702ed9f2af215d2d4249ac4574544c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 29 12:10:24 2008 +0000

    test-olpc-set-props-preload.py: assert pubsub stanzas are of the right type
    
    
    20080529121024-7fe3f-88c962cf1a5f04a817561835a42be2e875e1df8c.gz

 tests/twisted/olpc/test-olpc-set-props-preload.py |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit dfe91ef5e3cf7af737701ddeacd21af701b0cc87
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 29 11:06:57 2008 +0000

    fix test-olpc-set-props-preload.py
    
    
    20080529110657-7fe3f-fdb9b4910462d519028d1af39ae107e379416aac.gz

 tests/twisted/olpc/test-olpc-set-props-preload.py |   13 +++++++++----
 1 files changed, 9 insertions(+), 4 deletions(-)

commit d3cf147420fc4ca8b38acb3cbea45b7c5aafa0f9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 29 10:22:16 2008 +0000

    fix olpc-muc-prop-change.py
    
    
    20080529102216-7fe3f-a372fc8b17490a743e9e4f6f1f5f8d824af2fdf2.gz

 tests/twisted/olpc/olpc-muc-prop-change.py |   11 +++--------
 1 files changed, 3 insertions(+), 8 deletions(-)

commit 11e988e1674e4de75bc2b06fe05c87e2aae82b39
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 29 10:19:14 2008 +0000

    fix olpc-muc-invitation.py. return False doesn't make the test fail as with the old API
    
    
    20080529101914-7fe3f-ef54d2f0278085dcac2b1e38954743ce9aa65a41.gz

 tests/twisted/olpc/olpc-muc-invitation.py |   15 ++++-----------
 1 files changed, 4 insertions(+), 11 deletions(-)

commit a1eddd9078c02ca8f59cdc8974f2d71f0f7f16fa
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 28 16:35:28 2008 +0000

    src/caps-hash.c: split the too long caps_hash_compute_from_lm_node function: use helper function _parse_dataform()
    
    
    20080528163528-a41c0-f19bbff26caf2bc3b234f979238e4f9bb4743591.gz

 src/caps-hash.c |  156 +++++++++++++++++++++++++++++-------------------------
 1 files changed, 84 insertions(+), 72 deletions(-)

commit dd005de8a835bcfc219628dad1c38f331bd699ba
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 28 16:10:34 2008 +0000

    Twisted tests: rename dbus_sync to sync_dbus
    
    
    20080528161034-a41c0-97cd17e3c6e3cdd814c5f12f544447e1ae7f428a.gz

 tests/twisted/servicetest.py    |    2 +-
 tests/twisted/test-caps-hash.py |   14 +++++++-------
 2 files changed, 8 insertions(+), 8 deletions(-)

commit 64aeb9d54a7707ab6a115280eb0ffc41f650d1c5
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 28 10:58:13 2008 +0000

    Twisted tests: move dbus_sync to servicetest.py
    
    
    20080528105813-a41c0-efe2a7fa4a28940998b2aba0ca856e330c092584.gz

 tests/twisted/servicetest.py    |    5 +++++
 tests/twisted/test-caps-hash.py |    8 +-------
 2 files changed, 6 insertions(+), 7 deletions(-)

commit 89da118866c57c1751041ce62da8b5c57a34c2fc
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 28 10:52:23 2008 +0000

    Twisted tests: Use False and True instead of 0 and 1 in Python
    
    
    20080528105223-a41c0-e1976c68c87a16960c84dcf03aeb3f72c723eb8f.gz

 tests/twisted/test-caps-cache.py |   24 ++++++++++++++++--------
 tests/twisted/test-caps-hash.py  |   28 ++++++++++++++--------------
 2 files changed, 30 insertions(+), 22 deletions(-)

commit 4da04f7983125337f956ecf264f027e1f4678daa
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 28 10:26:33 2008 +0000

    Better comment: the hash algorithm is indicated in the original presence stanza
    
    
    20080528102633-a41c0-7a27b6c6ed9020167668f69a46f7e0ee0b9cec30.gz

 src/presence-cache.c |    8 +++++---
 1 files changed, 5 insertions(+), 3 deletions(-)

commit 4bf9a29d0abe57b46792cfdd28685772a65e3ad8
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 28 10:13:30 2008 +0000

    Rename _extract_cap_bundles to _parse_cap_bundles
    
    
    20080528101330-a41c0-7617b05d9c20431079850159f68c47d15285fcef.gz

 src/presence-cache.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 08d2089cdd2a3f31c119a196d0df3ef1639f5eb5
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 28 10:09:54 2008 +0000

    Use tp_strdiff instead of g_str_equal
    
    
    20080528100954-a41c0-48cba4667be642bdbae1c0b75f716f06a1225035.gz

 src/caps-hash.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit b933ac84d30902545ec1712323801ff943b020ef
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 28 10:03:19 2008 +0000

    src/caps-hash.c: do not leak str when computing the hash of the verification string
    
    
    20080528100319-a41c0-61faf9a666b32fb96af202626727081286aefc10.gz

 src/caps-hash.c |   12 +++++++-----
 1 files changed, 7 insertions(+), 5 deletions(-)

commit 8f84d527330f9ff8003cac3bb6427c196b8de4d5
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 28 10:02:03 2008 +0000

    Merge conflict resolved: delete file tests/twisted/test-caps-update.py
    
    
    20080528100203-a41c0-2d27d04cf85497f2cd93a7d845fabced17c0e616.gz

 tests/twisted/test-caps-update.py |   59 -------------------------------------
 1 files changed, 0 insertions(+), 59 deletions(-)

commit e7d7159aed15c5e18c3513ff46b0a68bae50af98
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 26 11:36:46 2008 +0000

    Require telepathy-glib 0.7.8.1 devel version (for properties-based Group)
    
    
    20080526113646-53eee-1a0de38178fccaa227adc61049171a886aad5e45.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 0a5ab42263c508cb46e59dfeab00b6b3c2591120
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Jun 4 10:25:01 2008 +0000

    test-nonblocking-tls.py: Fix message
    
    
    20080604102501-a41c0-7247e3117e165b2be38f9888857ef551ee6bbed7.gz

 tests/twisted/connect/test-nonblocking-tls.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9a5885a253aaf3057e121d0a234b5b6af2776d81
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Jun 3 17:01:56 2008 +0000

    Connect tests: moved in connect/ directory, separate the blocking-tls test and the connect-twice test
    
    
    20080603170156-a41c0-ecfdd43e0c78e4ef65846e838c6ef72bb1b34670.gz

 tests/twisted/Makefile.am                     |    7 +-
 tests/twisted/connect/test-fail.py            |   17 +++
 tests/twisted/connect/test-nonblocking-tls.py |  133 +++++++++++++++++++++++++
 tests/twisted/connect/test-success.py         |   21 ++++
 tests/twisted/connect/test-twice.py           |   90 +++++++++++++++++
 tests/twisted/test-connect-fail.py            |   17 ---
 tests/twisted/test-connect-twice.py           |  133 -------------------------
 tests/twisted/test-connect.py                 |   21 ----
 8 files changed, 265 insertions(+), 174 deletions(-)

commit 39f862eec7c9fb1bc24511e03448d45790a2f8fa
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Jun 3 16:35:27 2008 +0000

    test-connect-twice.py: disabled
    
    
    20080603163527-a41c0-54371ef3f82f128a0758b1f1754e5614af9b1654.gz

 tests/twisted/test-connect-twice.py |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 1496ccbd3056895df0519ff15ec8c118cad5ffab
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Jun 3 16:31:44 2008 +0000

    Twisted tests: Move BlockForeverTlsAuthenticator from gabbletest.py to test-connect-twice.py
    
    
    20080603163144-a41c0-f47cf9a30662004b58047606520ec588343ef971.gz

 tests/twisted/gabbletest.py         |   36 -----------------------------
 tests/twisted/test-connect-twice.py |   43 ++++++++++++++++++++++++++++++++++-
 2 files changed, 42 insertions(+), 37 deletions(-)

commit c246e177bc2fe47e52850515bc4aad7d666de7d1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Jun 3 15:49:40 2008 +0000

    Rename TlsAuthenticator to BlockForeverTlsAuthenticator
    
    
    20080603154940-a41c0-9dc625768a6d08a324a7dde8b4afcc3fc3642b91.gz

 tests/twisted/gabbletest.py         |    6 ++++--
 tests/twisted/test-connect-twice.py |    4 ++--
 2 files changed, 6 insertions(+), 4 deletions(-)

commit 6f2fbd4c7cd1672a98e9f18216c7fa7cee757152
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Jun 3 15:18:31 2008 +0000

    Twisted test: regression test for bug fd.org #14341
    
    
    20080603151831-a41c0-30eb1e2ed010431c8a621541d5e33b356e335d19.gz

 tests/twisted/test-connect-twice.py |   29 +++++++++++++----------------
 1 files changed, 13 insertions(+), 16 deletions(-)

commit f1a2352675f986b6fba59acab38f2c19e4f17750
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Jun 3 15:17:38 2008 +0000

    Twisted tests: add TlsAuthenticator that blocks after the <proceed/>
    
    
    20080603151738-a41c0-02ed1e8a9b5feb8f74371bc451b9ab306454ac8b.gz

 tests/twisted/gabbletest.py |   35 +++++++++++++++++++++++++++++++++++
 1 files changed, 35 insertions(+), 0 deletions(-)

commit 681e803404cf472db8f01c11327f3679d172eefb
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Jun 3 14:10:07 2008 +0000

    Twisted test: Fix streamStarted() in XmppAuthenticator
    
    
    20080603141007-a41c0-eea80f3cded68d612d05155af8aff7ef5792f2a4.gz

 tests/twisted/gabbletest.py |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit b2fa2fc83df4253537cba268da2289bb32bef718
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Jun 3 10:58:45 2008 +0000

    Twisted test connect2.py renamed to connect-twice.py
    
    
    20080603105845-a41c0-84b2b1034d1b08a55bd969ec033c9d7b881e3d33.gz

 tests/twisted/Makefile.am           |    2 +-
 tests/twisted/test-connect-twice.py |   87 +++++++++++++++++++++++++++++++++++
 tests/twisted/test-connect2.py      |   87 -----------------------------------
 3 files changed, 88 insertions(+), 88 deletions(-)

commit 319f5bb53fab2ad04666d555990da23ff4a0ad5f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Jun 2 18:41:45 2008 +0000

    Twisted tests: check that Gabble can manage 2 Jabber connection at the same time
    
    
    20080602184145-a41c0-11f6fd9dc39636b4d6362215c0c1bdce99fd4f82.gz

 tests/twisted/Makefile.am      |    1 +
 tests/twisted/test-connect2.py |   87 ++++++++++++++++++++++++++++++++++++++++
 2 files changed, 88 insertions(+), 0 deletions(-)

commit 23ad43654ddded0ebc1ec03b4732837a59b2ffb3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Jun 2 18:40:37 2008 +0000

    Twisted test: let the port of the jabber server be parametrable
    
    
    20080602184037-a41c0-e7ded86a66aa6e682665833a9d3c6c6bc3f3e6eb.gz

 tests/twisted/gabbletest.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 48326074bdde7b64ef1c1af1587b848b38939a8f
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Fri May 30 12:29:53 2008 +0000

    tube-stream: Fix off by one error in unix socket path initialization
    
    
    20080530122953-93b9a-155592c3c2f2ce79ef7da7e7c07b522f0bb5ef48.gz

 src/tube-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 81c167de927f258856c6614512d2379b00f22267
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 29 12:10:24 2008 +0000

    test-olpc-set-props-preload.py: assert pubsub stanzas are of the right type
    
    
    20080529121024-7fe3f-88c962cf1a5f04a817561835a42be2e875e1df8c.gz

 tests/twisted/olpc/test-olpc-set-props-preload.py |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 55547c88fc7935b654186ad7671e16f97c68b012
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 29 11:06:57 2008 +0000

    fix test-olpc-set-props-preload.py
    
    
    20080529110657-7fe3f-fdb9b4910462d519028d1af39ae107e379416aac.gz

 tests/twisted/olpc/test-olpc-set-props-preload.py |   13 +++++++++----
 1 files changed, 9 insertions(+), 4 deletions(-)

commit fcc28e475dbb0ee31761ec12db90239f6c3f24ed
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 29 10:22:16 2008 +0000

    fix olpc-muc-prop-change.py
    
    
    20080529102216-7fe3f-a372fc8b17490a743e9e4f6f1f5f8d824af2fdf2.gz

 tests/twisted/olpc/olpc-muc-prop-change.py |   11 +++--------
 1 files changed, 3 insertions(+), 8 deletions(-)

commit 9e5d377fc2b4389a8f2107839494f3e926d8c8a5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 29 10:19:14 2008 +0000

    fix olpc-muc-invitation.py. return False doesn't make the test fail as with the old API
    
    
    20080529101914-7fe3f-ef54d2f0278085dcac2b1e38954743ce9aa65a41.gz

 tests/twisted/olpc/olpc-muc-invitation.py |   15 ++++-----------
 1 files changed, 4 insertions(+), 11 deletions(-)

commit 91fb30b111ccae08766f6497912e0edc18affa71
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 28 16:35:28 2008 +0000

    src/caps-hash.c: split the too long caps_hash_compute_from_lm_node function: use helper function _parse_dataform()
    
    
    20080528163528-a41c0-f19bbff26caf2bc3b234f979238e4f9bb4743591.gz

 src/caps-hash.c |  156 +++++++++++++++++++++++++++++-------------------------
 1 files changed, 84 insertions(+), 72 deletions(-)

commit 4fa25483f3887d49859fb3e7d13670939e0509ef
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 28 16:10:34 2008 +0000

    Twisted tests: rename dbus_sync to sync_dbus
    
    
    20080528161034-a41c0-97cd17e3c6e3cdd814c5f12f544447e1ae7f428a.gz

 tests/twisted/servicetest.py    |    2 +-
 tests/twisted/test-caps-hash.py |   14 +++++++-------
 2 files changed, 8 insertions(+), 8 deletions(-)

commit 1d11ee8651acbd909747b61d6185e49975420a6a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 28 10:58:13 2008 +0000

    Twisted tests: move dbus_sync to servicetest.py
    
    
    20080528105813-a41c0-efe2a7fa4a28940998b2aba0ca856e330c092584.gz

 tests/twisted/servicetest.py    |    5 +++++
 tests/twisted/test-caps-hash.py |    8 +-------
 2 files changed, 6 insertions(+), 7 deletions(-)

commit c53badb0aa1fd5a414e1da44e29006b8afdd622d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 28 10:52:23 2008 +0000

    Twisted tests: Use False and True instead of 0 and 1 in Python
    
    
    20080528105223-a41c0-e1976c68c87a16960c84dcf03aeb3f72c723eb8f.gz

 tests/twisted/test-caps-cache.py |   24 ++++++++++++++++--------
 tests/twisted/test-caps-hash.py  |   28 ++++++++++++++--------------
 2 files changed, 30 insertions(+), 22 deletions(-)

commit ea1f925d5310d6e9ee6e861a313aa9c9bfe9f115
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 28 10:26:33 2008 +0000

    Better comment: the hash algorithm is indicated in the original presence stanza
    
    
    20080528102633-a41c0-7a27b6c6ed9020167668f69a46f7e0ee0b9cec30.gz

 src/presence-cache.c |    8 +++++---
 1 files changed, 5 insertions(+), 3 deletions(-)

commit 596720a66882d2cf99aaaf571582bd626fe99fa1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 28 10:13:30 2008 +0000

    Rename _extract_cap_bundles to _parse_cap_bundles
    
    
    20080528101330-a41c0-7617b05d9c20431079850159f68c47d15285fcef.gz

 src/presence-cache.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 3fda4288584e0fea4a6042c13c1d1a57aed5f443
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 28 10:09:54 2008 +0000

    Use tp_strdiff instead of g_str_equal
    
    
    20080528100954-a41c0-48cba4667be642bdbae1c0b75f716f06a1225035.gz

 src/caps-hash.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 7592b1342d1e74cc527d9aff00009cde8b88846e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 28 10:03:19 2008 +0000

    src/caps-hash.c: do not leak str when computing the hash of the verification string
    
    
    20080528100319-a41c0-61faf9a666b32fb96af202626727081286aefc10.gz

 src/caps-hash.c |   12 +++++++-----
 1 files changed, 7 insertions(+), 5 deletions(-)

commit 40222a4d61cd65263c4154f05a83ddcc5d38676d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 28 10:02:03 2008 +0000

    Merge conflict resolved: delete file tests/twisted/test-caps-update.py
    
    
    20080528100203-a41c0-2d27d04cf85497f2cd93a7d845fabced17c0e616.gz

 tests/twisted/test-caps-update.py |   59 -------------------------------------
 1 files changed, 0 insertions(+), 59 deletions(-)

commit 2dbe5b406220e8a8ead94c51d6d96c0f4a6da4e7
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 21 18:22:45 2008 +0000

    Remove bundles strings, use a 3-state enum for caps type
    
    
    20080521182245-a41c0-b657e309f86c8bb4fd8ea76219ba305a2d72b51b.gz

 src/capabilities.c      |   53 ++++++++++++++++------------------------------
 src/capabilities.h      |   16 ++++---------
 src/gabble-connection.c |   32 ++++++++++-----------------
 3 files changed, 36 insertions(+), 65 deletions(-)

commit fae2b782d37907927a097d072a664df43c2dfb7f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 21 18:22:45 2008 +0000

    Remove bundles strings, use a 3-state enum for caps type
    
    
    20080521182245-a41c0-b657e309f86c8bb4fd8ea76219ba305a2d72b51b.gz

 src/capabilities.c      |   53 ++++++++++++++++------------------------------
 src/capabilities.h      |   16 ++++---------
 src/gabble-connection.c |   32 ++++++++++-----------------
 3 files changed, 36 insertions(+), 65 deletions(-)

commit 68e11077039a7fa6e06415f66ceb55114ca6b18f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 21 18:20:28 2008 +0000

    Fix jingle test: do not assume Gabble has cache for bundles
    
    
    20080521182028-a41c0-552492d27a35439916a6b2de39f574abf4878b1e.gz

 tests/twisted/jingle/jingletest.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 15e23cd71303da3d880b5ead898349e684255a00
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 21 18:20:28 2008 +0000

    Fix jingle test: do not assume Gabble has cache for bundles
    
    
    20080521182028-a41c0-552492d27a35439916a6b2de39f574abf4878b1e.gz

 tests/twisted/jingle/jingletest.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 5486fa9d7cdf0a4ed9dae4a472148808743b9f8e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 21 15:52:25 2008 +0000

    Remove print in test suite
    
    
    20080521155225-a41c0-00878e1f06fe1555e095db31ce850e4ea62d63f4.gz

 tests/twisted/test-caps-cache.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 6a9aceef33230a36b5d98eb1dae68884f57de53a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 21 15:52:25 2008 +0000

    Remove print in test suite
    
    
    20080521155225-a41c0-00878e1f06fe1555e095db31ce850e4ea62d63f4.gz

 tests/twisted/test-caps-cache.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit f50839cf13c08b9482014734021f535853ead3c3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 21 15:44:59 2008 +0000

    Fix checking the absence of signal
    
    
    20080521154459-a41c0-f991a07ec11cccc2643f0a79737e6c1bd5eb8bf2.gz

 tests/twisted/test-caps-hash.py |   52 ++++++++++++++++++---------------------
 1 files changed, 24 insertions(+), 28 deletions(-)

commit f41d3ce873056f629afb8c019a720622faf9c45d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 21 15:44:59 2008 +0000

    Fix checking the absence of signal
    
    
    20080521154459-a41c0-f991a07ec11cccc2643f0a79737e6c1bd5eb8bf2.gz

 tests/twisted/test-caps-hash.py |   52 ++++++++++++++++++---------------------
 1 files changed, 24 insertions(+), 28 deletions(-)

commit 9dfef6b602ddd7c45ad68d6b1c30b918d0b2a6c5
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 21 15:41:48 2008 +0000

    Remove print in test suite
    
    
    20080521154148-a41c0-ed9635ff2dd81424876681b2f2c097650b026f98.gz

 tests/twisted/test-caps-hash.py |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 35991f5ff1879137d750311b3ec68a305456fea3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 21 15:41:48 2008 +0000

    Remove print in test suite
    
    
    20080521154148-a41c0-ed9635ff2dd81424876681b2f2c097650b026f98.gz

 tests/twisted/test-caps-hash.py |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 81c29a3e028b81be755c08e843040eb3c8a2cd19
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 21 14:47:45 2008 +0000

    Use !tp_strdiff instead of g_str_equal
    
    
    g_str_equal(suffix, caps_hash) is never executed when suffix is NULL. However,
    the code is more readable when using !tp_strdiff().
    
    
    20080521144745-a41c0-3fc48cb714e9862a0837d4a9e8510bfb350b4d1e.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9bc477711526b3b43213a2d802bcdbc47422e16a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 21 14:47:45 2008 +0000

    Use !tp_strdiff instead of g_str_equal
    
    
    g_str_equal(suffix, caps_hash) is never executed when suffix is NULL. However,
    the code is more readable when using !tp_strdiff().
    
    
    20080521144745-a41c0-3fc48cb714e9862a0837d4a9e8510bfb350b4d1e.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 42717009e812e8139c387ed67406b213d5de6bb0
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 14 19:29:30 2008 +0000

    Fix comment: do not say settings cap for a handle when we are setting caps for another handle
    
    
    20080514192930-a41c0-568f31c881e24beb0d9cea93f0db90d303bbf76f.gz

 src/presence-cache.c |   10 ++++++----
 1 files changed, 6 insertions(+), 4 deletions(-)

commit f45dc19d6e9f3e43f29fd26b61d472122cde115a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 14 19:29:30 2008 +0000

    Fix comment: do not say settings cap for a handle when we are setting caps for another handle
    
    
    20080514192930-a41c0-568f31c881e24beb0d9cea93f0db90d303bbf76f.gz

 src/presence-cache.c |   10 ++++++----
 1 files changed, 6 insertions(+), 4 deletions(-)

commit 4e8feb2411048ad27fabbfdc6919620d7cf2a471
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 14 19:22:40 2008 +0000

    New test for caps: the "can they DoS us?" use-case
    
    
    20080514192240-a41c0-3049939e8d7edeefe31e727077edba52ea7d0c21.gz

 tests/twisted/test-caps-hash.py |  126 +++++++++++++++++++++++++++++++++++++-
 1 files changed, 122 insertions(+), 4 deletions(-)

commit 2bfcc641fecd478dbe8212e8ae189a46cfdd40a6
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 14 19:22:40 2008 +0000

    New test for caps: the "can they DoS us?" use-case
    
    
    20080514192240-a41c0-3049939e8d7edeefe31e727077edba52ea7d0c21.gz

 tests/twisted/test-caps-hash.py |  126 +++++++++++++++++++++++++++++++++++++-
 1 files changed, 122 insertions(+), 4 deletions(-)

commit 02cadcea1026a47b0feaec50d940681b4b76b274
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 14 14:44:07 2008 +0000

    When receiving a broken verification string, send the request to another contact if there is one
    
    
    20080514144407-a41c0-bc6becb724c20c5fe0640f518d25609b37340dde.gz

 src/presence-cache.c |   57 +++++++++++++++++++++++++++++---------------------
 1 files changed, 33 insertions(+), 24 deletions(-)

commit c6283e87a65ba7bb17456541624e07d2a2aeb139
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 14 14:44:07 2008 +0000

    When receiving a broken verification string, send the request to another contact if there is one
    
    
    20080514144407-a41c0-bc6becb724c20c5fe0640f518d25609b37340dde.gz

 src/presence-cache.c |   57 +++++++++++++++++++++++++++++---------------------
 1 files changed, 33 insertions(+), 24 deletions(-)

commit 3d8a90aea3c2c299377a746961fe626d7b0d1868
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon May 12 16:00:42 2008 +0000

    Debugs
    
    
    20080512160042-a41c0-84e8502c182dcc22056693478060d9b7a44fa002.gz

 src/gabble-connection.c |    6 ++++++
 src/presence-cache.c    |    8 +++++++-
 2 files changed, 13 insertions(+), 1 deletions(-)

commit e776020ca31bd8b5e9792dcb7f91f1ac34637127
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 14 14:52:52 2008 +0000

    When asserting on the absence of D-Bus signal, call synchronously a dummy D-Bus method to be sure to get the signal if any (avoid races)
    
    
    20080514145252-a41c0-2fb2288fd740c4b3f4918cf8e3ba5395c18677bd.gz

 tests/twisted/test-caps-hash.py |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit 82f9c15228e11c57f6b5fc6b59ab9f7774918572
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 14 14:52:02 2008 +0000

    Remove useless assertion on caps_changed_flag
    
    
    20080514145202-a41c0-0e86b49647a47acd2a7b77d83c4022ea4cb5b663.gz

 tests/twisted/test-caps-cache.py |   22 ----------------------
 1 files changed, 0 insertions(+), 22 deletions(-)

commit dc9c9939da44457d6d9b74aadb3854d95a5dd8bb
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 14 11:56:27 2008 +0000

    Remove debugs that I did not mean to record
    
    
    20080514115627-a41c0-3be91cf584e3cc6200819f48a2b17b3596865632.gz

 tests/twisted/jingle/hold-audio.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 42d3e14d2e504d34e02b21396f1411d83b151909
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 14 11:56:11 2008 +0000

    Fix comment about CAPABILITY_BUNDLE_ENOUGH_TRUST
    
    
    20080514115611-a41c0-f988e16f02dd352bbcb2070ad5e4ef328417f5aa.gz

 src/presence-cache.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 94358be5de5662fc6003a398ed8aa83ba1d33292
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 14 11:54:31 2008 +0000

    Do not advertise bundle since we use the verification string, except for voice-v1 for compatibility with Gabble 0.2 and Google Talk
    
    
    20080514115431-a41c0-6c1de1fcbaeec9656e32d77bfc52a955b78182e2.gz

 src/capabilities.c                     |    4 +++
 src/capabilities.h                     |    7 +++++
 src/gabble-connection.c                |   45 +++-----------------------------
 tests/twisted/jingle/jingletest.py     |    6 +++-
 tests/twisted/olpc/test-olpc-bundle.py |    3 --
 5 files changed, 20 insertions(+), 45 deletions(-)

commit 7eef7fe9dc2a4a5afd2a829d7e5d9f928c84b6f9
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 14 10:47:38 2008 +0000

    Add comment about the Google Talk voice-v1 bundle
    
    
    20080514104738-a41c0-a910e77d3b40740bc4a08206d3e9c2ef3fb67eb1.gz

 src/capabilities.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 7ee6dc1ba081cecce954241abecca3a575c49455
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue May 13 11:15:45 2008 +0000

    Coding style
    
    
    20080513111545-a41c0-25bdb2365502875f4c82a374be7f7d3124f6240f.gz

 src/presence-cache.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e551a65ceba19ec290bed18820bd7a0ddd5bf411
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue May 13 11:15:39 2008 +0000

    Use tp_strdiff
    
    
    20080513111539-a41c0-6e2ae98a7be129ae33bbfee9d09f12f6da666986.gz

 src/presence-cache.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 0339223f8504d7ebe2e03de778f65eb58a2e35cb
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue May 13 11:11:18 2008 +0000

    80 columns
    
    
    20080513111118-a41c0-634c123cbd83aaa62b26066d89002b32b5ec3ed5.gz

 src/gabble-connection.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 960fcef04346f140c2cf8c361f75dd03f7a3c7e2
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue May 13 11:00:05 2008 +0000

    Use g_slice_free instead of g_slice_free1
    
    
    20080513110005-a41c0-c680f190f682f3425bde38aab8bb7683ff2a79ec.gz

 src/caps-hash.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 30a59942af66e668b5d0b541c8cb544079aa3078
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue May 13 10:57:26 2008 +0000

    comment on GPtrArray. Case field_name
    
    
    20080513105726-a41c0-7588f5d67da549d0fc338fe9a485585c9974cc6d.gz

 src/caps-hash.c |   12 +++++++-----
 1 files changed, 7 insertions(+), 5 deletions(-)

commit 3142b61286103b060952763afaa3760a5fb2c2b5
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue May 13 10:39:05 2008 +0000

    Use typedef and CamelCase for all types
    
    
    20080513103905-a41c0-0bf6dbbe7d0750e01c16fe0f54c559e7aac36cb8.gz

 src/caps-hash.c |   36 ++++++++++++++++++++----------------
 1 files changed, 20 insertions(+), 16 deletions(-)

commit 88a6b6cfed62a05b79b4e6a0b5e3bb580fb98727
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue May 13 10:35:19 2008 +0000

    Remove unneeded casts
    
    
    20080513103519-a41c0-218ca503148eb3ceee1d44a037c2d6caa5e80ed1.gz

 src/caps-hash.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 3dc6c5b22c731aa0d643f79029c9698a6840c571
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue May 13 10:29:33 2008 +0000

    Coding style and simplification (review from smcv)
    
    
    20080513102933-a41c0-bc468d2c5c99f8ebd19e5848503ea77493fc4806.gz

 src/caps-hash.c |   41 ++++++++++++++++++++---------------------
 1 files changed, 20 insertions(+), 21 deletions(-)

commit 19329b8cd3aeeecb706a2920e18361ee0d8e6a06
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon May 12 17:23:06 2008 +0000

    Fix: also cache the caps set when there is a verification string
    
    
    20080512172306-a41c0-b75025aad5d4afa7df9d1c2e6256e1043e287296.gz

 src/presence-cache.c |   11 +++++++----
 1 files changed, 7 insertions(+), 4 deletions(-)

commit 6fa10d6085cd9c76432e59a60924f0289dc05988
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon May 12 17:10:36 2008 +0000

    Add test on caps cache
    
    
    20080512171036-a41c0-1a9a28d60c657f7da28f6d48b59fc3c4f0e41f88.gz

 tests/twisted/Makefile.am        |    1 +
 tests/twisted/test-caps-cache.py |  188 ++++++++++++++++++++++++++++++++++++++
 2 files changed, 189 insertions(+), 0 deletions(-)

commit cc425198afe5a901afe6caa0861088b05d156c74
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon May 12 16:32:24 2008 +0000

    Check the hash containing a XEP-0128 dataform
    
    
    20080512163224-a41c0-220ecacaf73c438412f0df7f6d5c2cef297794a7.gz

 tests/twisted/test-caps-hash.py |   26 +++++++++++++++++++++++---
 1 files changed, 23 insertions(+), 3 deletions(-)

commit 215332cab38ca03f2bf2e8a46bad986d906830f7
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon May 12 16:14:49 2008 +0000

    Coding style: remove unneeded spaces
    
    
    20080512161449-a41c0-ebba8d354207f65edb69e3b9dd3c694deb9dde4b.gz

 src/presence.c |    1 -
 src/presence.h |    1 -
 2 files changed, 0 insertions(+), 2 deletions(-)

commit 9325740757b058b8291d81259e0a00f0511a1726
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon May 12 16:00:42 2008 +0000

    Debugs
    
    
    20080512160042-a41c0-84e8502c182dcc22056693478060d9b7a44fa002.gz

 src/gabble-connection.c |    6 ++++++
 src/presence-cache.c    |    8 +++++++-
 2 files changed, 13 insertions(+), 1 deletions(-)

commit b696424577dcbd8eafd95cd9a52f3d6162b8e317
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 14 14:52:52 2008 +0000

    When asserting on the absence of D-Bus signal, call synchronously a dummy D-Bus method to be sure to get the signal if any (avoid races)
    
    
    20080514145252-a41c0-2fb2288fd740c4b3f4918cf8e3ba5395c18677bd.gz

 tests/twisted/test-caps-hash.py |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit 403645de3c37f68455b28f94eef88f5685d6dfad
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 14 14:52:02 2008 +0000

    Remove useless assertion on caps_changed_flag
    
    
    20080514145202-a41c0-0e86b49647a47acd2a7b77d83c4022ea4cb5b663.gz

 tests/twisted/test-caps-cache.py |   22 ----------------------
 1 files changed, 0 insertions(+), 22 deletions(-)

commit a2316ff94b469e24b467063c95023162f904de17
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 14 11:56:27 2008 +0000

    Remove debugs that I did not mean to record
    
    
    20080514115627-a41c0-3be91cf584e3cc6200819f48a2b17b3596865632.gz

 tests/twisted/jingle/hold-audio.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit c7d517b0bf9bf2d6278d2edb1830aad2549366de
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 14 11:56:11 2008 +0000

    Fix comment about CAPABILITY_BUNDLE_ENOUGH_TRUST
    
    
    20080514115611-a41c0-f988e16f02dd352bbcb2070ad5e4ef328417f5aa.gz

 src/presence-cache.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 0a8dce2a2b4f7c95cd322fb96471b3c1db77077d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 14 11:54:31 2008 +0000

    Do not advertise bundle since we use the verification string, except for voice-v1 for compatibility with Gabble 0.2 and Google Talk
    
    
    20080514115431-a41c0-6c1de1fcbaeec9656e32d77bfc52a955b78182e2.gz

 src/capabilities.c                     |    4 +++
 src/capabilities.h                     |    7 +++++
 src/gabble-connection.c                |   45 +++-----------------------------
 tests/twisted/jingle/jingletest.py     |    6 +++-
 tests/twisted/olpc/test-olpc-bundle.py |    3 --
 5 files changed, 20 insertions(+), 45 deletions(-)

commit d85942352b305996d05de76a265fbd36c30d5fee
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 14 10:47:38 2008 +0000

    Add comment about the Google Talk voice-v1 bundle
    
    
    20080514104738-a41c0-a910e77d3b40740bc4a08206d3e9c2ef3fb67eb1.gz

 src/capabilities.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 5b457814d44fb856332106e68cb98758942c84be
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue May 13 11:15:45 2008 +0000

    Coding style
    
    
    20080513111545-a41c0-25bdb2365502875f4c82a374be7f7d3124f6240f.gz

 src/presence-cache.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 0b7075b4efd27acccedf1f6e98056cd5ef53d079
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue May 13 11:15:39 2008 +0000

    Use tp_strdiff
    
    
    20080513111539-a41c0-6e2ae98a7be129ae33bbfee9d09f12f6da666986.gz

 src/presence-cache.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit bb8bc78f601218f60a215dfd52ca773326bea241
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue May 13 11:11:18 2008 +0000

    80 columns
    
    
    20080513111118-a41c0-634c123cbd83aaa62b26066d89002b32b5ec3ed5.gz

 src/gabble-connection.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 6efa2555bba487b150a8e96f4a2ccf5a58170d41
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue May 13 11:00:05 2008 +0000

    Use g_slice_free instead of g_slice_free1
    
    
    20080513110005-a41c0-c680f190f682f3425bde38aab8bb7683ff2a79ec.gz

 src/caps-hash.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 4bd9bda7b3c82bcc59935664820d49c0691e5b67
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue May 13 10:57:26 2008 +0000

    comment on GPtrArray. Case field_name
    
    
    20080513105726-a41c0-7588f5d67da549d0fc338fe9a485585c9974cc6d.gz

 src/caps-hash.c |   12 +++++++-----
 1 files changed, 7 insertions(+), 5 deletions(-)

commit 1534f16586dea46ce3b9a7d7efa62bf0c6f65a4f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue May 13 10:39:05 2008 +0000

    Use typedef and CamelCase for all types
    
    
    20080513103905-a41c0-0bf6dbbe7d0750e01c16fe0f54c559e7aac36cb8.gz

 src/caps-hash.c |   36 ++++++++++++++++++++----------------
 1 files changed, 20 insertions(+), 16 deletions(-)

commit 07f4e35b812807e9e189b9bd4ecda6dc8df8e0a6
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue May 13 10:35:19 2008 +0000

    Remove unneeded casts
    
    
    20080513103519-a41c0-218ca503148eb3ceee1d44a037c2d6caa5e80ed1.gz

 src/caps-hash.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 4e4a27f0bc90685efd865c3f037265d131a825e2
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue May 13 10:29:33 2008 +0000

    Coding style and simplification (review from smcv)
    
    
    20080513102933-a41c0-bc468d2c5c99f8ebd19e5848503ea77493fc4806.gz

 src/caps-hash.c |   41 ++++++++++++++++++++---------------------
 1 files changed, 20 insertions(+), 21 deletions(-)

commit 4a58490320cdc180166ed875ddc9b3c47968823e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon May 12 17:23:06 2008 +0000

    Fix: also cache the caps set when there is a verification string
    
    
    20080512172306-a41c0-b75025aad5d4afa7df9d1c2e6256e1043e287296.gz

 src/presence-cache.c |   11 +++++++----
 1 files changed, 7 insertions(+), 4 deletions(-)

commit e0313ba86878f7f4cdc0964e963dbc5904973372
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon May 12 17:10:36 2008 +0000

    Add test on caps cache
    
    
    20080512171036-a41c0-1a9a28d60c657f7da28f6d48b59fc3c4f0e41f88.gz

 tests/twisted/Makefile.am        |    1 +
 tests/twisted/test-caps-cache.py |  188 ++++++++++++++++++++++++++++++++++++++
 2 files changed, 189 insertions(+), 0 deletions(-)

commit 2f565f543653186339a8c7eaeaa10ed83608b4bc
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon May 12 16:32:24 2008 +0000

    Check the hash containing a XEP-0128 dataform
    
    
    20080512163224-a41c0-220ecacaf73c438412f0df7f6d5c2cef297794a7.gz

 tests/twisted/test-caps-hash.py |   26 +++++++++++++++++++++++---
 1 files changed, 23 insertions(+), 3 deletions(-)

commit 88aae0c864453012fb083ef64231f81d5f8c898f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon May 12 16:14:49 2008 +0000

    Coding style: remove unneeded spaces
    
    
    20080512161449-a41c0-ebba8d354207f65edb69e3b9dd3c694deb9dde4b.gz

 src/presence.c |    1 -
 src/presence.h |    1 -
 2 files changed, 0 insertions(+), 2 deletions(-)

commit 1eb9857b65108e29dd47c4e033fc2248d5b18c74
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon May 12 16:00:13 2008 +0000

    Since I moved functions in caps-hash.c, change functions prefix to caps_hash
    
    
    20080512160013-a41c0-45eff4f7701fa08e16c12899d373aa92d6f4b07e.gz

 src/caps-hash.c         |   10 +++++-----
 src/caps-hash.h         |    4 ++--
 src/gabble-connection.c |    6 +++---
 src/presence-cache.c    |    3 +--
 4 files changed, 11 insertions(+), 12 deletions(-)

commit 38eb9abf38291e05b5f9054710acf68c65046f20
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon May 12 16:00:13 2008 +0000

    Since I moved functions in caps-hash.c, change functions prefix to caps_hash
    
    
    20080512160013-a41c0-45eff4f7701fa08e16c12899d373aa92d6f4b07e.gz

 src/caps-hash.c         |   10 +++++-----
 src/caps-hash.h         |    4 ++--
 src/gabble-connection.c |    6 +++---
 src/presence-cache.c    |    3 +--
 4 files changed, 11 insertions(+), 12 deletions(-)

commit 920611a26afc5fe238ead1ed450797877fc19995
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon May 12 15:42:33 2008 +0000

    Add comment on identity
    
    
    20080512154233-a41c0-8ff7994b9d5cc475d9f22fa66541edc1052e1f68.gz

 src/gabble-connection.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 5104a0ec93be972338cabef4ad77d2b3c0584bc3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon May 12 15:42:33 2008 +0000

    Add comment on identity
    
    
    20080512154233-a41c0-8ff7994b9d5cc475d9f22fa66541edc1052e1f68.gz

 src/gabble-connection.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 0cb2432205bc6a5d0687ce5e2dd130a936f384ce
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon May 12 15:36:15 2008 +0000

    Only sha-1 is implemented. Check that the received algorithm name is implemented
    
    
    20080512153615-a41c0-f8c0c58d64468bfbe7b7af56b1323c12b5945d7b.gz

 src/presence-cache.c |   12 +++++++++---
 1 files changed, 9 insertions(+), 3 deletions(-)

commit e25c9d0f5317e3db77a61235c217d103e09b5679
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon May 12 15:36:15 2008 +0000

    Only sha-1 is implemented. Check that the received algorithm name is implemented
    
    
    20080512153615-a41c0-f8c0c58d64468bfbe7b7af56b1323c12b5945d7b.gz

 src/presence-cache.c |   12 +++++++++---
 1 files changed, 9 insertions(+), 3 deletions(-)

commit cbd22d65d4fb8aa9270947148a97c7144a5e3aea
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon May 12 14:54:00 2008 +0000

    Fix parsing of dataforms (do not include "FORM_TYPE" in the verification string)
    
    
    20080512145400-a41c0-660a00c26d4db52702a3be80d41ae5da3258258f.gz

 src/caps-hash.c |   47 ++++++++++++++++++++++++++++++-----------------
 1 files changed, 30 insertions(+), 17 deletions(-)

commit 6bafad5a9f7abb9775d92160e1e8db80b7b9d28d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon May 12 14:54:00 2008 +0000

    Fix parsing of dataforms (do not include "FORM_TYPE" in the verification string)
    
    
    20080512145400-a41c0-660a00c26d4db52702a3be80d41ae5da3258258f.gz

 src/caps-hash.c |   47 ++++++++++++++++++++++++++++++-----------------
 1 files changed, 30 insertions(+), 17 deletions(-)

commit 555fca0b45891a8dfa2e36df15b621b66e8b70de
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri May 9 18:54:10 2008 +0000

    Fix the dataform parsing
    
    
    20080509185410-a41c0-4a9ad48758b047fceccee802a6aba211d055a528.gz

 src/caps-hash.c |   29 ++++++++++++++++++++++-------
 1 files changed, 22 insertions(+), 7 deletions(-)

commit fbefdc331ebc3a8457ab0b8b49c322c2b7be93d6
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri May 9 18:54:10 2008 +0000

    Fix the dataform parsing
    
    
    20080509185410-a41c0-4a9ad48758b047fceccee802a6aba211d055a528.gz

 src/caps-hash.c |   29 ++++++++++++++++++++++-------
 1 files changed, 22 insertions(+), 7 deletions(-)

commit e4af8244b7ae2923f1915af17051b7d528eda0b2
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri May 9 17:10:01 2008 +0000

    Move hash functions in a new file caps-hash.[ch]
    
    
    20080509171001-a41c0-717a00624ff62250c40a772840f88419b64df9dc.gz

 src/Makefile.am         |    2 +
 src/caps-hash.c         |  345 +++++++++++++++++++++++++++++++++++++++++++++++
 src/caps-hash.h         |   31 +++++
 src/gabble-connection.c |    2 +
 src/presence-cache.c    |    1 +
 src/presence.c          |  299 ----------------------------------------
 src/presence.h          |    4 -
 7 files changed, 381 insertions(+), 303 deletions(-)

commit ae0857382af1cdbbdad4882b7de6e20a8ce1b95e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri May 9 17:10:01 2008 +0000

    Move hash functions in a new file caps-hash.[ch]
    
    
    20080509171001-a41c0-717a00624ff62250c40a772840f88419b64df9dc.gz

 src/Makefile.am         |    2 +
 src/caps-hash.c         |  345 +++++++++++++++++++++++++++++++++++++++++++++++
 src/caps-hash.h         |   31 +++++
 src/gabble-connection.c |    2 +
 src/presence-cache.c    |    1 +
 src/presence.c          |  299 ----------------------------------------
 src/presence.h          |    4 -
 7 files changed, 381 insertions(+), 303 deletions(-)

commit 953ca6b98f2be6191e058f7225ba194a7b889870
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri May 9 16:24:50 2008 +0000

    Free temporary structures after hashing caps
    
    
    20080509162450-a41c0-75f8061bb2dc0af8a693122861c24b0c330ba84f.gz

 src/presence.c |   51 ++++++++++++++++++++++++++++++++++++++++++---------
 1 files changed, 42 insertions(+), 9 deletions(-)

commit 7fbcfb8495beb93fb032a144938a7c0063778378
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri May 9 16:24:50 2008 +0000

    Free temporary structures after hashing caps
    
    
    20080509162450-a41c0-75f8061bb2dc0af8a693122861c24b0c330ba84f.gz

 src/presence.c |   51 ++++++++++++++++++++++++++++++++++++++++++---------
 1 files changed, 42 insertions(+), 9 deletions(-)

commit 0e64c201a482126d670b26d3abe0dd94a12362c9
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri May 9 14:34:57 2008 +0000

    Makefile.am: fix conflicts with twisted tests changes
    
    
    20080509143457-a41c0-488311bde7035157e1600522d5098ea9f012f0f5.gz

 tests/twisted/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 5014e6829403189dcc2f83ffaf0b912d1d82847c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri May 9 14:34:57 2008 +0000

    Makefile.am: fix conflicts with twisted tests changes
    
    
    20080509143457-a41c0-488311bde7035157e1600522d5098ea9f012f0f5.gz

 tests/twisted/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 59da38b16da4709983ef3dfeb5e1dbece0795db0
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri May 9 12:18:31 2008 +0000

    test-caps-hash.py: new test for XEP-0115
    
    
    20080509121831-a41c0-6d3d9d04b40565e8f67a511b26c9f70c35f64f3f.gz

 tests/twisted/Makefile.am       |    1 +
 tests/twisted/test-caps-hash.py |  201 +++++++++++++++++++++++++++++++++++++++
 2 files changed, 202 insertions(+), 0 deletions(-)

commit 08c3bab28eea3fb94c9c94cd49dfc1748548eb99
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri May 9 12:18:31 2008 +0000

    test-caps-hash.py: new test for XEP-0115
    
    
    20080509121831-a41c0-6d3d9d04b40565e8f67a511b26c9f70c35f64f3f.gz

 tests/twisted/Makefile.am       |    1 +
 tests/twisted/test-caps-hash.py |  201 +++++++++++++++++++++++++++++++++++++++
 2 files changed, 202 insertions(+), 0 deletions(-)

commit 6cc652c68cd9c3907337a69d47dc7605c853714c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu May 8 17:19:42 2008 +0000

    Implement hash for dataforms
    
    
    20080508171942-a41c0-c9e04d3daa788ae871a0c48c7b7c0fdceadd05e8.gz

 src/presence.c |  144 +++++++++++++++++++++++++++++++++++++++++++++++++++----
 1 files changed, 133 insertions(+), 11 deletions(-)

commit 815cbc81cccc3fabe48ec187a28add9b29b91409
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu May 8 17:19:42 2008 +0000

    Implement hash for dataforms
    
    
    20080508171942-a41c0-c9e04d3daa788ae871a0c48c7b7c0fdceadd05e8.gz

 src/presence.c |  144 +++++++++++++++++++++++++++++++++++++++++++++++++++----
 1 files changed, 133 insertions(+), 11 deletions(-)

commit bc166775868d25fc6bddeba7750514624eff1feb
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu May 8 17:18:18 2008 +0000

    Use g_str_equal. '==' does not work in C !
    
    
    20080508171818-a41c0-19033abd7235f1471ae2eb74aec191b5cda099f3.gz

 src/presence-cache.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3221f3e4587bf8abf6d72c8982eb51bb8dd0b5b3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu May 8 17:18:18 2008 +0000

    Use g_str_equal. '==' does not work in C !
    
    
    20080508171818-a41c0-19033abd7235f1471ae2eb74aec191b5cda099f3.gz

 src/presence-cache.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit cd129efb3011449d7939dca6f5a941b9dda7cd1e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu May 8 17:17:52 2008 +0000

    Do not use freed string hash and ver
    
    
    20080508171752-a41c0-778eded49459bfd76a547e9f48c7477e5eacd305.gz

 src/presence-cache.c |   10 ++++++----
 1 files changed, 6 insertions(+), 4 deletions(-)

commit ddd20e3e3ce88e504f34d7e1e6710feb4df162c4
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu May 8 17:17:52 2008 +0000

    Do not use freed string hash and ver
    
    
    20080508171752-a41c0-778eded49459bfd76a547e9f48c7477e5eacd305.gz

 src/presence-cache.c |   10 ++++++----
 1 files changed, 6 insertions(+), 4 deletions(-)

commit b55d09a3342c015c153297efcdefe238d3158403
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu May 8 10:13:09 2008 +0000

    Fix loop
    
    
    20080508101309-a41c0-7f1a4ca32ef36287676009f1a9adaab14ece525d.gz

 src/presence-cache.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a0e50342b1d30e30c6af7d1b42a459b3e54bf2ed
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu May 8 10:13:09 2008 +0000

    Fix loop
    
    
    20080508101309-a41c0-7f1a4ca32ef36287676009f1a9adaab14ece525d.gz

 src/presence-cache.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit be83e5b5edf767c730b1fe4908c1f9168253b73a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu May 8 09:28:35 2008 +0000

    Fix waiter->ver
    
    
    20080508092835-a41c0-d36693bf0eb22642a3e74f050f9e80a2ee238e4d.gz

 src/presence-cache.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 07202476adffaaf84312ae284c1bbd914d23d519
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu May 8 09:28:35 2008 +0000

    Fix waiter->ver
    
    
    20080508092835-a41c0-d36693bf0eb22642a3e74f050f9e80a2ee238e4d.gz

 src/presence-cache.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 20b8e605d2851c00f20e91c6d198e6f16741e59d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 7 15:24:37 2008 +0000

    Check hash when we receive a caps from a contact
    
    
    20080507152437-a41c0-9ce1a77b5d372f2fa744a59b5aa74c939f514f5c.gz

 src/gabble-connection.c |    5 +-
 src/presence-cache.c    |   91 ++++++++++++++++++++++++++++----
 src/presence.c          |  134 +++++++++++++++++++++++++++++++++++++---------
 src/presence.h          |    4 +-
 4 files changed, 193 insertions(+), 41 deletions(-)

commit 82484245e0100d6098309171d523171fd8a3ed61
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 7 15:24:37 2008 +0000

    Check hash when we receive a caps from a contact
    
    
    20080507152437-a41c0-9ce1a77b5d372f2fa744a59b5aa74c939f514f5c.gz

 src/gabble-connection.c |    5 +-
 src/presence-cache.c    |   91 ++++++++++++++++++++++++++++----
 src/presence.c          |  134 +++++++++++++++++++++++++++++++++++++---------
 src/presence.h          |    4 +-
 4 files changed, 193 insertions(+), 41 deletions(-)

commit 6da6bee8757bc4a6a139b21eae6f00f64128918b
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 7 10:37:18 2008 +0000

    Use PACKAGE_STRING instead of hardcoded string
    
    
    20080507103718-a41c0-fee2de3e8e803e7aa03cb0321a8dd805cb010e56.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ea7ef8d13c2774505a70054f7e0b7171df02eff5
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 7 10:37:18 2008 +0000

    Use PACKAGE_STRING instead of hardcoded string
    
    
    20080507103718-a41c0-fee2de3e8e803e7aa03cb0321a8dd805cb010e56.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 0647fd204c439ed862b8c32c9b4478e6e2398797
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 7 10:36:26 2008 +0000

    Move gabble_presence_get_xep0115_hash() in presence.c
    
    
    20080507103626-a41c0-88682f5a72c410a72ed595722412f031ec3544d9.gz

 src/gabble-connection.c |   67 +---------------------------------------------
 src/presence.c          |   65 +++++++++++++++++++++++++++++++++++++++++++++
 src/presence.h          |    3 ++
 3 files changed, 70 insertions(+), 65 deletions(-)

commit 9e0ca1fbb73e87f7ee7ece0bc67d29d9bbfc4664
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 7 10:36:26 2008 +0000

    Move gabble_presence_get_xep0115_hash() in presence.c
    
    
    20080507103626-a41c0-88682f5a72c410a72ed595722412f031ec3544d9.gz

 src/gabble-connection.c |   67 +---------------------------------------------
 src/presence.c          |   65 +++++++++++++++++++++++++++++++++++++++++++++
 src/presence.h          |    3 ++
 3 files changed, 70 insertions(+), 65 deletions(-)

commit 8003023c429dd31ec4f517b98ae43dd73bd106fb
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue May 6 15:29:26 2008 +0000

    Reply to disco requests from XEP-0115, both version 1.3 and version 1.5
    
    
    20080506152926-a41c0-c4ff4abb3c07986622b51113d541f71eb5c5910a.gz

 src/gabble-connection.c |   56 ++++++++++++++++++++++++++++++++++++++--------
 1 files changed, 46 insertions(+), 10 deletions(-)

commit ed48ca02de135dc9ec1b2552c62993c8b52f20b8
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue May 6 15:29:26 2008 +0000

    Reply to disco requests from XEP-0115, both version 1.3 and version 1.5
    
    
    20080506152926-a41c0-c4ff4abb3c07986622b51113d541f71eb5c5910a.gz

 src/gabble-connection.c |   56 ++++++++++++++++++++++++++++++++++++++--------
 1 files changed, 46 insertions(+), 10 deletions(-)

commit 5c2cfbf754edf65c4a0cb7ac360bfcbc48683f24
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue May 6 14:44:18 2008 +0000

    Remove bogus comment
    
    
    20080506144418-a41c0-397e0a6179ad441a5b00215417d9ce0b7bb2d36e.gz

 src/gabble-connection.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit a8f45270df134cc8c96058b6944f2e9a4e43c1b4
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue May 6 14:44:18 2008 +0000

    Remove bogus comment
    
    
    20080506144418-a41c0-397e0a6179ad441a5b00215417d9ce0b7bb2d36e.gz

 src/gabble-connection.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 10a2ef23c5ea772ababefa68cd33923a72887709
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue May 6 14:41:58 2008 +0000

    Coding style
    
    
    20080506144158-a41c0-1af53b24c91d0ba4178d451b90a3be8682da5383.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit bd6d123f58344708a38ca6531d1307f4f640bae0
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue May 6 14:41:58 2008 +0000

    Coding style
    
    
    20080506144158-a41c0-1af53b24c91d0ba4178d451b90a3be8682da5383.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a289a5ba7646667b0fc50a200707783c5d6bd0ed
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue May 6 14:12:11 2008 +0000

    Revert deletion of 'ext' attribute in presence stanza: we need it for backward compatibility
    
    
    20080506141211-a41c0-95989c88681567b7358fe3323737b449428e0840.gz

 src/gabble-connection.c |   45 +++++++++++++++++++++++++++++++++++++++++++--
 1 files changed, 43 insertions(+), 2 deletions(-)

commit eb0c4d644858047856f97715de230cf6e572c274
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue May 6 14:12:11 2008 +0000

    Revert deletion of 'ext' attribute in presence stanza: we need it for backward compatibility
    
    
    20080506141211-a41c0-95989c88681567b7358fe3323737b449428e0840.gz

 src/gabble-connection.c |   45 +++++++++++++++++++++++++++++++++++++++++++--
 1 files changed, 43 insertions(+), 2 deletions(-)

commit 4c4da79e5e5c1405befd604d472d152f5142b0b7
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue May 6 14:11:38 2008 +0000

    Add comment on backward compatibility on feature bundle "voice-v1"
    
    
    20080506141138-a41c0-70697c5d88304d2d1e2d572225370a13711676d3.gz

 src/capabilities.h |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 0805f0b9426de0832ca7090caa5d6a362a5564a8
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue May 6 14:11:38 2008 +0000

    Add comment on backward compatibility on feature bundle "voice-v1"
    
    
    20080506141138-a41c0-70697c5d88304d2d1e2d572225370a13711676d3.gz

 src/capabilities.h |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 5e60bc61ecfaf186391a430519d395f0f18e6d8a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue May 6 12:28:06 2008 +0000

    Fix hash generation
    
    
    20080506122806-a41c0-7572286075f24fc40be3e35169595be9e646aa86.gz

 src/gabble-connection.c |   30 ++++++++++++++++++++++++------
 1 files changed, 24 insertions(+), 6 deletions(-)

commit 402e67af0f79d75ad503a77c4a4229b994721205
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue May 6 12:28:06 2008 +0000

    Fix hash generation
    
    
    20080506122806-a41c0-7572286075f24fc40be3e35169595be9e646aa86.gz

 src/gabble-connection.c |   30 ++++++++++++++++++++++++------
 1 files changed, 24 insertions(+), 6 deletions(-)

commit c3324445bbe06e91a1c465a6689dbf5195106300
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon May 5 14:07:54 2008 +0000

    Implement the hash as required by XEP-0115
    
    
    20080505140754-a41c0-9cb9dcb147ff8989bf2facfbc642dc7ea5bf8c80.gz

 src/gabble-connection.c |   42 +++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 41 insertions(+), 1 deletions(-)

commit c3673c9e656e03868749a6a80f6ef3fbd75f2296
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon May 5 14:07:54 2008 +0000

    Implement the hash as required by XEP-0115
    
    
    20080505140754-a41c0-9cb9dcb147ff8989bf2facfbc642dc7ea5bf8c80.gz

 src/gabble-connection.c |   42 +++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 41 insertions(+), 1 deletions(-)

commit 6c7172ebca23fb1a08c8cebb454359bfae01b718
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon May 5 11:49:21 2008 +0000

    XEP-0115: send an hash and reply to disco#hash iq queries
    
    
    20080505114921-a41c0-3cfe6538beb3c6eb9039465e006d930d7df9f00d.gz

 src/gabble-connection.c |   73 ++++++++++++++++------------------------------
 1 files changed, 26 insertions(+), 47 deletions(-)

commit 0637f67fd2d3c97f5d420b4d0b725800a5365a80
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed May 7 04:40:40 2008 +0000

    gabbletest.py: split prepare_test into make_connection and make_stream
    
    
    20080507044040-c9803-6ea156e11016990eb67b85b9a9e2751baac3d12a.gz

 tests/twisted/gabbletest.py |   15 ++++++++-------
 1 files changed, 8 insertions(+), 7 deletions(-)

commit 59d3e9e7ca5195c2cbb3709992203548790a70ae
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed May 7 04:38:43 2008 +0000

    port test-caps-update.py to new test API
    
    
    20080507043843-c9803-4696871227c05cb35b364f56f67ab712ea9d6dc9.gz

 tests/twisted/test-caps-update.py |   59 +++++++++++++++++++++++++++++++++++++
 1 files changed, 59 insertions(+), 0 deletions(-)

commit 4dbc6d51d65b2b874d883fb52d6075ef52f47949
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed May 7 03:56:31 2008 +0000

    servicetest.py: rename prepare_test to make_connection
    
    
    20080507035631-c9803-d190929dfc9275cf2003ed5e2a97c47a4bf3e7ad.gz

 tests/twisted/gabbletest.py  |    2 +-
 tests/twisted/servicetest.py |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 5c6e7bc351eb10eab6ef5727c8ff0fad7e7d0a1b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed May 7 02:48:05 2008 +0000

    port test-vcard-cache.py to new test API
    
    
    20080507024805-c9803-02b19f700e799f585cb1b1a54a85d0d0777d26aa.gz

 tests/twisted/vcard/test-vcard-cache.py |  117 ++++++++----------------------
 1 files changed, 31 insertions(+), 86 deletions(-)

commit 235516a5bcca02cb21c85e11513720e360dcee8b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed May 7 02:32:16 2008 +0000

    gabbletest.py: rearrange code
    
    
    20080507023216-c9803-74114315c363b6772829372831a986d27700af70.gz

 tests/twisted/gabbletest.py |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit 97f448eef0611cb86b0456bef30cc1a3919c58ea
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue May 6 23:25:13 2008 +0000

    gabbletest.py: simplify verbosity logic
    
    
    20080506232513-c9803-adbe8919bdad46e19d109ea586a356c231a1674b.gz

 tests/twisted/gabbletest.py |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)

commit e899cbd91d0edb0dc8a7aa6da5c8176407917ead
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue May 6 23:23:45 2008 +0000

    gabbletest.py/servicetest.py: pass in bus to prepare_test rather than creating it there
    
    
    20080506232345-c9803-3e9cf25493b7c76ba11dd8876affbd2d80e36fa9.gz

 tests/twisted/gabbletest.py  |   15 +++++++++------
 tests/twisted/servicetest.py |    5 ++---
 2 files changed, 11 insertions(+), 9 deletions(-)

commit a4485737741baa433591c1e20ca97ad7fb2a0f47
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue May 6 21:04:05 2008 +0000

    gabbletest.py: factor out colouring code
    
    
    20080506210405-c9803-c74a393e2a8458bba3698ef93244bdca680fcd95.gz

 tests/twisted/gabbletest.py |   45 ++++++++++++++++++++++--------------------
 1 files changed, 24 insertions(+), 21 deletions(-)

commit f651e97a977937fb32b1b8ecb7ed21f2984488e1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu May 22 14:44:46 2008 +0000

    Fix README about individual C tests and tests under valgrind
    
    
    20080522144446-a41c0-b7d4c1fd34c62a874d936a0347466e5603ddc7ce.gz

 tests/Makefile.am |    2 +-
 tests/README      |   14 ++++++++++----
 2 files changed, 11 insertions(+), 5 deletions(-)

commit 9b0d4bc4b96b6a00432dc57789cda1855ab0c12e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu May 22 14:09:24 2008 +0000

    Fix test commands in the README file
    
    
    20080522140924-a41c0-75c078876b834d3e97705126f140d601625e0d88.gz

 tests/README |   21 +++++++++++++++++++--
 1 files changed, 19 insertions(+), 2 deletions(-)

commit 82a1f8b9282a2849569527284e167a20685837c4
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 21 17:40:00 2008 +0000

    Fix race in tests: do not request a channel before Gabble receive the caps
    
    
    20080521174000-a41c0-6890d3421577c30998884358f8394be776d08ba2.gz

 tests/twisted/jingle/hold-audio.py                 |    5 ++++-
 tests/twisted/jingle/hold-av.py                    |    5 ++++-
 tests/twisted/jingle/test-incoming-call.py         |    5 ++++-
 .../jingle/test-outgoing-call-deprecated.py        |    5 ++++-
 .../jingle/test-outgoing-call-deprecated2.py       |    5 ++++-
 .../twisted/jingle/test-outgoing-call-rejected.py  |    5 ++++-
 tests/twisted/jingle/test-outgoing-call.py         |    5 ++++-
 7 files changed, 28 insertions(+), 7 deletions(-)

commit 8ff1a4c3a4829519a2f7d1cb3a498d43c233a863
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed May 7 02:27:11 2008 +0000

    gabbletest.py: add sync_stream function to allow forcing processing of sent stanzas
    
    
    20080507022711-c9803-c1661ece9b5493301293a96c9d96d3ab69ebdc3b.gz

 tests/twisted/gabbletest.py |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit df630b99d0b67a66c0cfd48d3ed157edf926cf74
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 14 10:54:37 2008 +0000

    version 0.7.6
    
    
    20080514105437-7fe3f-f76d483d54e2ca867a111a7d1bcabddf1071195d.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 58caa6d6d7d51f320a19f0707c653dd9aca52942
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 14 10:47:56 2008 +0000

    improve NEWS about 0.7.6
    
    
    20080514104756-7fe3f-de4a99cd0b438e6ef7a3fb6d34a469945c3711e4.gz

 NEWS |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9534ca5678f9414ecff3541fa54ff9eb76f7029d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 14 10:43:29 2008 +0000

    version 0.7.6
    
    
    20080514104329-7fe3f-72344335c46250f605534b14822a795594428308.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit c5c1625c603a1964cd56941bb8f954a047a3a3dc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 14 10:41:24 2008 +0000

    write NEWS for 0.7.6
    
    
    20080514104124-7fe3f-901094811a0226059e90c326360f95321a0cb6c0.gz

 NEWS |   23 +++++++++++++++++++++++
 1 files changed, 23 insertions(+), 0 deletions(-)

commit c7a207e0bb00a20e01916ae0ddef0d6a15289705
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 12 11:32:34 2008 +0000

    test-incoming-call.py: use sets when checking members
    
    
    20080512113234-7fe3f-63aab58bf62917d029d53f76df9528fa85bcd41b.gz

 tests/twisted/jingle/test-incoming-call.py |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit b40f76e653a0da50c0d12999241b8eef635a7209
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 12 11:29:38 2008 +0000

    gabble-media-channel: use mixin->members directly
    
    
    20080512112938-7fe3f-192bd65bbe37a152303bb9493d1bd05ad5bfa988.gz

 src/gabble-media-channel.c |   16 ++--------------
 1 files changed, 2 insertions(+), 14 deletions(-)

commit dc45ddc0eebf651a93210d360f3c498bc1b6f6f8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 12 11:24:11 2008 +0000

    gabble-media-channel: esthetic trivial tweak
    
    
    20080512112411-7fe3f-ea29b6eed2ba30a0dc694c914f0454306bd41491.gz

 src/gabble-media-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 16a19bc53d413e85d5c61a8e98cb54389cda3b22
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 12 11:09:10 2008 +0000

    gabble-media-channel: don't move peer to remote-pending if he's already in members (Close fd.o #15791)
    
    
    20080512110910-7fe3f-11a05052b4bc7b4410338a6c3991db68a2b5c054.gz

 src/gabble-media-channel.c |   13 ++++++++++++-
 1 files changed, 12 insertions(+), 1 deletions(-)

commit f1d043225fc7fd11b45ffe1172dc585090f04900
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 12 11:06:38 2008 +0000

    test-incoming-call.py: add a regression test for fd.o #15791
    
    
    20080512110638-7fe3f-bea52474bc9f3d1d15600b27be0f3d4eaa705740.gz

 tests/twisted/jingle/test-incoming-call.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 6c5d1a078f47ee00d8f09a6b4db923128223ce01
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 12 11:00:49 2008 +0000

    gabble-media-channel.c: move comment as now we don't always add the peer to the members list
    
    
    20080512110049-7fe3f-365631bbc5c3659d2138819376eea02aa8dc1a48.gz

 src/gabble-media-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 0deb6210c877b08c1b3fe9509b97d25ea5f8fb21
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 12 10:44:40 2008 +0000

    test-incoming-call.py: check if we are moved the members when accepting the call
    
    
    20080512104440-7fe3f-a2e0ede72d07805a8e59e6d9d6cc753673a98e1e.gz

 tests/twisted/jingle/test-incoming-call.py |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit b809c8c27933038f6937782f256a2b421b39524d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 12 10:43:59 2008 +0000

    test-incoming-call.py: check if the caller is properly moved to members
    
    
    20080512104359-7fe3f-42d9a6955de5ad23af830ce0785fab1d01f85c53.gz

 tests/twisted/jingle/test-incoming-call.py |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 3511cb64457f27f6e43dd9b061e46ea952e07cd3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 12 10:42:58 2008 +0000

    test-incoming-call.py: Gabble now sets the caller as actor in MembersChanged when our self handle is moving to local-pending
    
    
    20080512104258-7fe3f-0c9440c4950b9aa420df12f55fa5f1f29dda69e9.gz

 tests/twisted/jingle/test-incoming-call.py |   10 ++++++----
 1 files changed, 6 insertions(+), 4 deletions(-)

commit 61371ae5dd337d4e77f992815fe5c27fc7232c4a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri May 9 15:16:27 2008 +0000

    Alter PYTHONPATH so gabbleconfig.py is picked up correctly in out-of-tree builds, fixing distcheck
    
    
    20080509151627-53eee-ab037d0eccab37b238e1aa3405c1bdcbf6d1d735.gz

 tests/twisted/Makefile.am |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 4207d5138084304c9e53eb0f0d43c5d72c602ea7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri May 9 12:37:09 2008 +0000

    Now that we depend on telepathy-glib >= 0.7.6 anyway, we might as well implement CallState. However, omit it from GetInterfaces() to avoid making clients think we have a proper implementation
    
    
    20080509123709-53eee-774f7ed592265396e659a5e67475a7e1e04e04cf.gz

 src/gabble-media-channel.c |   21 +++++----------------
 1 files changed, 5 insertions(+), 16 deletions(-)

commit 788c686326d0930a46b22fcc90a5bc66b2d45ebe
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri May 9 12:31:32 2008 +0000

    Fix generation of extensions/extensions.html (fd.o #15422)
    
    
    20080509123132-53eee-7e4a20596a10ebb0f120e608355c57bcf5496f3d.gz

 extensions/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9199f171b8c702aaa557a95cc596a46b83e41629
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri May 9 12:23:25 2008 +0000

    Remove Channel_Interface_Hold from extensions/
    
    
    20080509122325-53eee-2c67dbe30c8c4182cf06afb6a224dd001300beb9.gz

 extensions/Channel_Interface_Hold.xml |  216 ---------------------------------
 extensions/Makefile.am                |    1 -
 extensions/all.xml                    |    1 -
 3 files changed, 0 insertions(+), 218 deletions(-)

commit 3d5e98238b5621a3a67db906ccda1c6dba78530a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri May 9 12:22:16 2008 +0000

    GabbleMediaChannel: use telepathy-glib's version of the Hold API
    
    
    20080509122216-53eee-c6854c4f50600811e0175c490e870e7adbfc0148.gz

 src/gabble-media-channel.c |   90 +++++++++++++++++++++----------------------
 1 files changed, 44 insertions(+), 46 deletions(-)

commit c4825c53877abc723d3dc814f69dad6bf6330a14
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri May 9 12:22:06 2008 +0000

    Require telepathy-glib 0.7.8 (for Hold)
    
    
    20080509122206-53eee-b438fd0da81525669848349ed40a63ebbdce8890.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e9e948bed4964163583790b422aecfe0167fc528
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 8 08:57:48 2008 +0000

    Update Hold API docs from telepathy-spec 0.17.3.1
    
    
    20080508085748-53eee-1178baec38694b13f5307992dbed04363859a249.gz

 extensions/Channel_Interface_Hold.xml |   11 ++++++-----
 1 files changed, 6 insertions(+), 5 deletions(-)

commit 87241ce14a9cc90ad0e8924550e38403e751a3b1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed May 7 16:05:36 2008 +0000

    Adapt check-coding-style hook
    
    
    20080507160536-53eee-2cc37e3a34fda74d3e319a4f6206f807d3e1c550.gz

 src/Makefile.am             |    1 +
 tests/Makefile.am           |    1 +
 tests/twisted/Makefile.am   |    4 +++-
 tools/check-coding-style.mk |    2 +-
 4 files changed, 6 insertions(+), 2 deletions(-)

commit b481375c912a66e67d44d0729c655c00234ff43e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed May 7 15:55:02 2008 +0000

    Allow unstable extension interfaces (for Hold)
    
    
    20080507155502-53eee-8af837ca46ec637a93d64d186a712cb580d6cb7e.gz

 extensions/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit a1fa3e3824f903db8bdee87519c831b154c5c64f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed May 7 15:53:51 2008 +0000

    Require telepathy-glib 0.7.3 due to updated code-gen tools
    
    
    20080507155351-53eee-57fa379af60bad7a707934a0757e5e69524928c0.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ce7c6f7be5c55999d8a93b22ec5df83c684e293a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed May 7 15:52:31 2008 +0000

    Update code-gen tools from telepathy-glib
    
    
    20080507155231-53eee-ce404ef66ef46faab6ae2c46cc2f7efdd40f6263.gz

 tools/c-constants-generator.xsl  |  182 ++++++++++++--------
 tools/c-interfaces-generator.xsl |    2 +-
 tools/check-coding-style.mk      |    4 +-
 tools/doc-generator.xsl          |  352 +++++++++++++++++++++++++++++++++++---
 tools/glib-ginterface-gen.py     |   79 ++++++++--
 tools/libglibcodegen.py          |   27 +++-
 6 files changed, 532 insertions(+), 114 deletions(-)

commit 7cd808417a5f6256e95340850bc292b5d819a94c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri May 9 12:14:14 2008 +0000

    Don't claim support for the CallStates interface unless we're actually compiling it (it's effectively #if 0 at the moment)
    
    
    20080509121414-53eee-d9520544a20f28d4248c00752c98ea5002071c37.gz

 src/gabble-media-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit e865a90bac494669e8fb490b58466b1d601295ab
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed May 7 15:34:50 2008 +0000

    Rephrase comment to avoid needing #if 0
    
    
    20080507153450-53eee-4374c795a9bc49ab879695016baf2916a768f01c.gz

 src/presence-cache.c |   26 ++++++++++----------------
 1 files changed, 10 insertions(+), 16 deletions(-)

commit 97048dc6a6301e99de12ee10823dd303e0b01d9f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed May 7 15:31:58 2008 +0000

    Rephrase comment about why we're not strictly following XEP-0153, to avoid having #if 0'd code
    
    
    20080507153158-53eee-aec58f9a69b519eaf353111da812cd4d505342e5.gz

 src/presence-cache.c |   27 ++++++++++++++-------------
 1 files changed, 14 insertions(+), 13 deletions(-)

commit 51ebcd38ec12eace9bb0473cd42d134c30ac7f85
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu May 8 18:39:56 2008 +0000

    re-order test-capabilities.py to test that we go from none -> video + audio -> audio -> none correctly
    
    
    20080508183956-418b8-a22cb658d43ce19cf0b0e3e96e5cc41c271e40f4.gz

 tests/twisted/test-capabilities.py |   54 +++++++++++++++++++++--------------
 1 files changed, 32 insertions(+), 22 deletions(-)

commit a8b6d341de535678f899400267b22ca2635ee1f2
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu May 8 18:39:37 2008 +0000

    store disco query node attributes in the event objects in the test suite
    
    
    20080508183937-418b8-b1fecc4f87785dbd3939c926766cecf526f9b3e1.gz

 tests/twisted/gabbletest.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit d7ae8c1f0188f506182ccae64d3cddf6bab5068e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu May 8 11:41:59 2008 +0000

    remove test-caps-update.py as it is redundant in light of test-capabilities.py's new/existing checks for CapabilitiesChanged, and fails due to assuming a 1:1 correspondence between having just the jingle audio/video transports and being audio/video callable. these capabilities now depend on the jingle transports as well as gabble's intrinsic jingle and google p2p features.
    
    
    20080508114159-418b8-9b9a7c7633f7476d175886f1870257dc0bd86f57.gz

 tests/twisted/Makefile.am         |    1 -
 tests/twisted/test-caps-update.py |   59 -------------------------------------
 2 files changed, 0 insertions(+), 60 deletions(-)

commit fb475e01c57c16edff0e22f813b2ec38e90813c5
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu May 8 11:41:20 2008 +0000

    update test-capabilities to test that adding a new capability later (adding video in this case) causes another CapabilitiesChanged signal
    
    
    20080508114120-418b8-014da69857d9ed9d5685c7055fb5ccccd3aad28c.gz

 tests/twisted/test-capabilities.py |   23 ++++++++++++++++++++++-
 1 files changed, 22 insertions(+), 1 deletions(-)

commit 8ca5a110b3ddce559f765fd6a6d67ff16f22806d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu May 8 11:07:50 2008 +0000

    fix test-capabilities.py - add google p2p transport to the capabilities so that audio calling is possible
    
    
    20080508110750-418b8-ac0a0f3a850a7ba3eaafbd55496f150804fde58a.gz

 tests/twisted/test-capabilities.py |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit b225e783b44d30a05f8bd24c17c6924846dbd314
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue May 6 13:15:58 2008 +0000

    actually exclude dbus tube tests if they're not supported
    
    
    20080506131558-01440-4575693dec730e57860b7b206aab34ed91ee5d2c.gz

 tests/twisted/tubes/test-get-available-tubes.py |   13 ++++++++++---
 tests/twisted/tubes/test-muc-offer-dbus-tube.py |    5 ++++-
 tests/twisted/tubes/test-si-tubes.py            |    5 +++++
 3 files changed, 19 insertions(+), 4 deletions(-)

commit a30abf610f3edde194a8aa0c118ca7bfa4604a07
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue May 6 13:14:44 2008 +0000

    don't explicitly wait for CONNECTED, so we don't have to deal signal delivery races (2/2)
    
    
    20080506131444-01440-223d50fc8e45e0f72b15c6d69be35c7475f818a8.gz

 tests/twisted/olpc/test-olpc-set-props-preload.py |    2 +-
 tests/twisted/roster/groups-12791.py              |    2 +-
 tests/twisted/roster/groups.py                    |    2 +-
 tests/twisted/roster/test-roster.py               |    2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit b3e0969862a5f374d0cc64c150203ef2114149d1
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue May 6 13:11:50 2008 +0000

    deal with possible races in signal delivery (1/2)
    
    
    20080506131150-01440-3ee46f0547e0cb47cd997f640675a61dd5c96cf3.gz

 tests/twisted/muc/test-muc-invitation.py |   23 ++++++++-------
 tests/twisted/muc/test-muc-properties.py |   46 +++++++++++++++--------------
 tests/twisted/test-group-race.py         |    3 +-
 3 files changed, 37 insertions(+), 35 deletions(-)

commit 144c67b26cee0f05c3e5ee366597a5abaa781fda
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue May 6 13:10:40 2008 +0000

    don't shadow param name
    
    
    20080506131040-01440-e75d684862999563fd3ce1bcbaea73d6976329ad.gz

 src/tube-iface.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 47ec33515cbbc7b5c3de54f12584474c2f7b2156
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue May 6 13:09:45 2008 +0000

    test dbus tubes only if they're supported
    
    
    20080506130945-01440-e2e9c63ec58094ec32c42aa6af401fa5323e449a.gz

 configure.ac                     |    3 ++-
 tests/twisted/gabbleconfig.py.in |    4 ++++
 2 files changed, 6 insertions(+), 1 deletions(-)

commit 14bbc0e4de38b0db0d3f99984085fb83b96f4637
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue May 6 14:36:41 2008 +0000

    In Twisted tests, use the correct version of Python
    
    
    20080506143641-53eee-49c72bb134c4df78e38b370f0a1868e1167b4e23.gz

 tests/twisted/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3023211d99e56ce930bfb391b92db34bc2f52cdd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue May 6 14:36:24 2008 +0000

    Check for a Python suitable for running the tests separately
    
    
    20080506143624-53eee-2d5c04182bc20dd7dfe2d2342f1f6a2a3dd849c6.gz

 configure.ac |   24 +++++++++++++++---------
 1 files changed, 15 insertions(+), 9 deletions(-)

commit 7af77fbfcc493250c3183d8e8d73ee4918c9a172
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue May 6 14:35:58 2008 +0000

    Add a comment explaining why we look for an *old* version of Python by preference
    
    
    20080506143558-53eee-ddb74fe4f4344c80e11419130e011c730f05579e.gz

 configure.ac |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit d7684ad26e2ad13a213f37d670f90930dc5e0d67
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue May 6 19:29:51 2008 +0000

    remove #if 0'd hacky _presence_node_has_google_voice function which has been unused from 0.3.x days
    
    
    20080506192951-418b8-6e4083d52f016b0fcbe0e5c871d097740f8bdaaf.gz

 src/presence-cache.c |   36 ------------------------------------
 1 files changed, 0 insertions(+), 36 deletions(-)

commit f8fda52c93c4e76c73652ee2811d2cef5aa57d13
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue May 6 12:32:26 2008 +0000

    correct _gabble_media_channel_typeflags_to_caps and _gabble_media_channel_caps_to_typeflags to match the semantics of _gabble_media_session_request_streams when deciding what stream types are available.
    
    Specifically, a) we must have GTalk-P2P transport available in order to place
    /any/ calls because it is the only transport we can signal atm, b) any 3rd
    party with Google voice capability is always audio callable, and c) to make
    Jingle audio/video calls to 3rd parties, they must also support Jingle and
    GTalk-P2P. Fixes #15656.
    
    20080506123226-418b8-67895899d5e05e7b1689db970bc2974c8457dd98.gz

 src/gabble-media-channel.c |   44 ++++++++++++++++++++++++++++++++++----------
 1 files changed, 34 insertions(+), 10 deletions(-)

commit d7a0057b7fe4aa8fec2a526713bf8fc1cd58d57e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue May 6 12:31:18 2008 +0000

    add a note to _gabble_media_session_request_streams reminding people to also check that _gabble_media_channel_typeflags_to_caps and _gabble_media_channel_caps_to_typeflags are kept up to date
    
    
    20080506123118-418b8-b5708ae5318baf6a7bb2a9fa36db375309129c39.gz

 src/gabble-media-session.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit da5a413bd8028ec578a71f15f0fa682739dfb4ab
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue May 6 12:16:52 2008 +0000

    avoid duplicating the required PRESENCE_CAP_* for a person to be callable
    
    by calling _gabble_media_channel_caps_to_typeflags instead (this just applies
    to the trivial checking in AddMembers, only relevant when using the
    pre-0.17.2 spec method of adding the member before requesting streams is being
    used)
    
    20080506121652-418b8-5d31be253bb22c2a846e33359648ac6aa4bde433.gz

 src/gabble-media-channel.c |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)

commit 8b904404bbe2307e020a32df1b988adeae13c503
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 5 12:21:38 2008 +0000

    Nano version 0.7.5.1
    
    
    20080505122138-53eee-be55bf529837944079029146ac4933f9c0fc6b58.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2d8bcf42f44cab41c388319b93d5326524137891
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon May 5 11:49:21 2008 +0000

    XEP-0115: send an hash and reply to disco#hash iq queries
    
    
    20080505114921-a41c0-3cfe6538beb3c6eb9039465e006d930d7df9f00d.gz

 src/gabble-connection.c |   73 ++++++++++++++++------------------------------
 1 files changed, 26 insertions(+), 47 deletions(-)

commit 0f2037a1c383c3022cc854731c0a85d9939482a8
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed May 7 04:40:40 2008 +0000

    gabbletest.py: split prepare_test into make_connection and make_stream
    
    
    20080507044040-c9803-6ea156e11016990eb67b85b9a9e2751baac3d12a.gz

 tests/twisted/gabbletest.py |   15 ++++++++-------
 1 files changed, 8 insertions(+), 7 deletions(-)

commit 1e136ed48269e84e8eb1d6c146f072fa3659ab42
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed May 7 04:38:43 2008 +0000

    port test-caps-update.py to new test API
    
    
    20080507043843-c9803-4696871227c05cb35b364f56f67ab712ea9d6dc9.gz

 tests/twisted/test-caps-update.py |   59 +++++++++++++++++++++++++++++++++++++
 1 files changed, 59 insertions(+), 0 deletions(-)

commit 688b0e31f917fc5738d5d48e0858857348b6a447
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed May 7 03:56:31 2008 +0000

    servicetest.py: rename prepare_test to make_connection
    
    
    20080507035631-c9803-d190929dfc9275cf2003ed5e2a97c47a4bf3e7ad.gz

 tests/twisted/gabbletest.py  |    2 +-
 tests/twisted/servicetest.py |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit ac58a6d7405af7f46fec5985fc81c606b86d02be
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed May 7 02:48:05 2008 +0000

    port test-vcard-cache.py to new test API
    
    
    20080507024805-c9803-02b19f700e799f585cb1b1a54a85d0d0777d26aa.gz

 tests/twisted/vcard/test-vcard-cache.py |  117 ++++++++----------------------
 1 files changed, 31 insertions(+), 86 deletions(-)

commit 28b62ba6244dd591accb2ba6532e3c238d13faab
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed May 7 02:32:16 2008 +0000

    gabbletest.py: rearrange code
    
    
    20080507023216-c9803-74114315c363b6772829372831a986d27700af70.gz

 tests/twisted/gabbletest.py |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit dd94ef04e5ce2b6a6d2a75b8882327f0e857dd73
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue May 6 23:25:13 2008 +0000

    gabbletest.py: simplify verbosity logic
    
    
    20080506232513-c9803-adbe8919bdad46e19d109ea586a356c231a1674b.gz

 tests/twisted/gabbletest.py |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)

commit af0c9152c1ccf31043dd0ed5bc9666fae0e13dbe
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue May 6 23:23:45 2008 +0000

    gabbletest.py/servicetest.py: pass in bus to prepare_test rather than creating it there
    
    
    20080506232345-c9803-3e9cf25493b7c76ba11dd8876affbd2d80e36fa9.gz

 tests/twisted/gabbletest.py  |   15 +++++++++------
 tests/twisted/servicetest.py |    5 ++---
 2 files changed, 11 insertions(+), 9 deletions(-)

commit 1cef39ddc1d8e80f8c484cff66b770a9f2911a1b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue May 6 21:04:05 2008 +0000

    gabbletest.py: factor out colouring code
    
    
    20080506210405-c9803-c74a393e2a8458bba3698ef93244bdca680fcd95.gz

 tests/twisted/gabbletest.py |   45 ++++++++++++++++++++++--------------------
 1 files changed, 24 insertions(+), 21 deletions(-)

commit 832ceb1627a3a839e3baa6f2b6717e0c0c522a02
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu May 22 14:44:46 2008 +0000

    Fix README about individual C tests and tests under valgrind
    
    
    20080522144446-a41c0-b7d4c1fd34c62a874d936a0347466e5603ddc7ce.gz

 tests/Makefile.am |    2 +-
 tests/README      |   14 ++++++++++----
 2 files changed, 11 insertions(+), 5 deletions(-)

commit 4d141cb624af964d09875ac592a2b64a511f8c8f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Thu May 22 14:09:24 2008 +0000

    Fix test commands in the README file
    
    
    20080522140924-a41c0-75c078876b834d3e97705126f140d601625e0d88.gz

 tests/README |   21 +++++++++++++++++++--
 1 files changed, 19 insertions(+), 2 deletions(-)

commit e5e343cb0360a80bdf545c1ae0aee8ef9940e208
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed May 21 17:40:00 2008 +0000

    Fix race in tests: do not request a channel before Gabble receive the caps
    
    
    20080521174000-a41c0-6890d3421577c30998884358f8394be776d08ba2.gz

 tests/twisted/jingle/hold-audio.py                 |    5 ++++-
 tests/twisted/jingle/hold-av.py                    |    5 ++++-
 tests/twisted/jingle/test-incoming-call.py         |    5 ++++-
 .../jingle/test-outgoing-call-deprecated.py        |    5 ++++-
 .../jingle/test-outgoing-call-deprecated2.py       |    5 ++++-
 .../twisted/jingle/test-outgoing-call-rejected.py  |    5 ++++-
 tests/twisted/jingle/test-outgoing-call.py         |    5 ++++-
 7 files changed, 28 insertions(+), 7 deletions(-)

commit 83a5e114799e3e7ba9e611643f828944fd2b0c16
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed May 7 02:27:11 2008 +0000

    gabbletest.py: add sync_stream function to allow forcing processing of sent stanzas
    
    
    20080507022711-c9803-c1661ece9b5493301293a96c9d96d3ab69ebdc3b.gz

 tests/twisted/gabbletest.py |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 7c01d36c95191b31c93aeadc2c7a4ac30e3d5647
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 14 10:54:37 2008 +0000

    version 0.7.6
    
    
    20080514105437-7fe3f-f76d483d54e2ca867a111a7d1bcabddf1071195d.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ae915c302417d6b6d1668886054e6a9ae71c2694
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 14 10:47:56 2008 +0000

    improve NEWS about 0.7.6
    
    
    20080514104756-7fe3f-de4a99cd0b438e6ef7a3fb6d34a469945c3711e4.gz

 NEWS |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 913e4d612f43f78ae40b8294c6154b77aadb4f27
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 14 10:43:29 2008 +0000

    version 0.7.6
    
    
    20080514104329-7fe3f-72344335c46250f605534b14822a795594428308.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 4aa192fe54b084705a42ce1cb4de8f68ba35cee5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 14 10:41:24 2008 +0000

    write NEWS for 0.7.6
    
    
    20080514104124-7fe3f-901094811a0226059e90c326360f95321a0cb6c0.gz

 NEWS |   23 +++++++++++++++++++++++
 1 files changed, 23 insertions(+), 0 deletions(-)

commit a676d93f9842a547319667765f9e6ee9f8530433
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 12 11:32:34 2008 +0000

    test-incoming-call.py: use sets when checking members
    
    
    20080512113234-7fe3f-63aab58bf62917d029d53f76df9528fa85bcd41b.gz

 tests/twisted/jingle/test-incoming-call.py |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 1a7184072109d65f24c9f891039cc1fdbbf730f8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 12 11:29:38 2008 +0000

    gabble-media-channel: use mixin->members directly
    
    
    20080512112938-7fe3f-192bd65bbe37a152303bb9493d1bd05ad5bfa988.gz

 src/gabble-media-channel.c |   16 ++--------------
 1 files changed, 2 insertions(+), 14 deletions(-)

commit 81f58fb333caf63d371e3b3e694b3e6924bf543c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 12 11:24:11 2008 +0000

    gabble-media-channel: esthetic trivial tweak
    
    
    20080512112411-7fe3f-ea29b6eed2ba30a0dc694c914f0454306bd41491.gz

 src/gabble-media-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 8525fb6d3527592507c266df60bd0cde6d652321
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 12 11:09:10 2008 +0000

    gabble-media-channel: don't move peer to remote-pending if he's already in members (Close fd.o #15791)
    
    
    20080512110910-7fe3f-11a05052b4bc7b4410338a6c3991db68a2b5c054.gz

 src/gabble-media-channel.c |   13 ++++++++++++-
 1 files changed, 12 insertions(+), 1 deletions(-)

commit 2a1296bbe99283722bb668a9fc2c565e56f7193b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 12 11:06:38 2008 +0000

    test-incoming-call.py: add a regression test for fd.o #15791
    
    
    20080512110638-7fe3f-bea52474bc9f3d1d15600b27be0f3d4eaa705740.gz

 tests/twisted/jingle/test-incoming-call.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 068d032c5038bdf449693db4a7d4ca5b04f68317
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 12 11:00:49 2008 +0000

    gabble-media-channel.c: move comment as now we don't always add the peer to the members list
    
    
    20080512110049-7fe3f-365631bbc5c3659d2138819376eea02aa8dc1a48.gz

 src/gabble-media-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b500f66c71f77c06fdc9fde23b612b3b7fc655f4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 12 10:44:40 2008 +0000

    test-incoming-call.py: check if we are moved the members when accepting the call
    
    
    20080512104440-7fe3f-a2e0ede72d07805a8e59e6d9d6cc753673a98e1e.gz

 tests/twisted/jingle/test-incoming-call.py |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 54e91d8d952cbb4e8f1494a131668a81ad857a50
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 12 10:43:59 2008 +0000

    test-incoming-call.py: check if the caller is properly moved to members
    
    
    20080512104359-7fe3f-42d9a6955de5ad23af830ce0785fab1d01f85c53.gz

 tests/twisted/jingle/test-incoming-call.py |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit c40e9f125d01ea5a540e474f99a0a905d63226b0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 12 10:42:58 2008 +0000

    test-incoming-call.py: Gabble now sets the caller as actor in MembersChanged when our self handle is moving to local-pending
    
    
    20080512104258-7fe3f-0c9440c4950b9aa420df12f55fa5f1f29dda69e9.gz

 tests/twisted/jingle/test-incoming-call.py |   10 ++++++----
 1 files changed, 6 insertions(+), 4 deletions(-)

commit 18b92294a45d941877a2890b865bf320f3ddf634
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri May 9 15:16:27 2008 +0000

    Alter PYTHONPATH so gabbleconfig.py is picked up correctly in out-of-tree builds, fixing distcheck
    
    
    20080509151627-53eee-ab037d0eccab37b238e1aa3405c1bdcbf6d1d735.gz

 tests/twisted/Makefile.am |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit ebab18b48d2e65e8827951c8d0a4f9eed13e29f8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri May 9 12:37:09 2008 +0000

    Now that we depend on telepathy-glib >= 0.7.6 anyway, we might as well implement CallState. However, omit it from GetInterfaces() to avoid making clients think we have a proper implementation
    
    
    20080509123709-53eee-774f7ed592265396e659a5e67475a7e1e04e04cf.gz

 src/gabble-media-channel.c |   21 +++++----------------
 1 files changed, 5 insertions(+), 16 deletions(-)

commit 0d2ce27688e4ff3a9211c4d261898745751acda4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri May 9 12:31:32 2008 +0000

    Fix generation of extensions/extensions.html (fd.o #15422)
    
    
    20080509123132-53eee-7e4a20596a10ebb0f120e608355c57bcf5496f3d.gz

 extensions/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8b6a768e48c9080929fecb759946e040b89d012a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri May 9 12:23:25 2008 +0000

    Remove Channel_Interface_Hold from extensions/
    
    
    20080509122325-53eee-2c67dbe30c8c4182cf06afb6a224dd001300beb9.gz

 extensions/Channel_Interface_Hold.xml |  216 ---------------------------------
 extensions/Makefile.am                |    1 -
 extensions/all.xml                    |    1 -
 3 files changed, 0 insertions(+), 218 deletions(-)

commit a6687980bfd2817806673362e7931cd11a43ae95
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri May 9 12:22:16 2008 +0000

    GabbleMediaChannel: use telepathy-glib's version of the Hold API
    
    
    20080509122216-53eee-c6854c4f50600811e0175c490e870e7adbfc0148.gz

 src/gabble-media-channel.c |   90 +++++++++++++++++++++----------------------
 1 files changed, 44 insertions(+), 46 deletions(-)

commit a7deb841cbcec8c1fe321dd23616dcf3232fc7d8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri May 9 12:22:06 2008 +0000

    Require telepathy-glib 0.7.8 (for Hold)
    
    
    20080509122206-53eee-b438fd0da81525669848349ed40a63ebbdce8890.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 0e8250d0c6982fbe9f2926724597441fc51833c7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 8 08:57:48 2008 +0000

    Update Hold API docs from telepathy-spec 0.17.3.1
    
    
    20080508085748-53eee-1178baec38694b13f5307992dbed04363859a249.gz

 extensions/Channel_Interface_Hold.xml |   11 ++++++-----
 1 files changed, 6 insertions(+), 5 deletions(-)

commit b9c8d50a0bd97c1b5f770483626a370a50c91b3a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed May 7 16:05:36 2008 +0000

    Adapt check-coding-style hook
    
    
    20080507160536-53eee-2cc37e3a34fda74d3e319a4f6206f807d3e1c550.gz

 src/Makefile.am             |    1 +
 tests/Makefile.am           |    1 +
 tests/twisted/Makefile.am   |    4 +++-
 tools/check-coding-style.mk |    2 +-
 4 files changed, 6 insertions(+), 2 deletions(-)

commit 2a0a24d5228b1d367a2fb6913c52d8fc170bed1e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed May 7 15:55:02 2008 +0000

    Allow unstable extension interfaces (for Hold)
    
    
    20080507155502-53eee-8af837ca46ec637a93d64d186a712cb580d6cb7e.gz

 extensions/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 8e6d6e993aa635adbc68ce793d7cc4a09bb17a65
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed May 7 15:53:51 2008 +0000

    Require telepathy-glib 0.7.3 due to updated code-gen tools
    
    
    20080507155351-53eee-57fa379af60bad7a707934a0757e5e69524928c0.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit df80b8c9097b00a228dedaa4cb26a473b934b64e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed May 7 15:52:31 2008 +0000

    Update code-gen tools from telepathy-glib
    
    
    20080507155231-53eee-ce404ef66ef46faab6ae2c46cc2f7efdd40f6263.gz

 tools/c-constants-generator.xsl  |  182 ++++++++++++--------
 tools/c-interfaces-generator.xsl |    2 +-
 tools/check-coding-style.mk      |    4 +-
 tools/doc-generator.xsl          |  352 +++++++++++++++++++++++++++++++++++---
 tools/glib-ginterface-gen.py     |   79 ++++++++--
 tools/libglibcodegen.py          |   27 +++-
 6 files changed, 532 insertions(+), 114 deletions(-)

commit 77e96e2b01abf3fdc0b72e665d6eceefbb3352f3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri May 9 12:14:14 2008 +0000

    Don't claim support for the CallStates interface unless we're actually compiling it (it's effectively #if 0 at the moment)
    
    
    20080509121414-53eee-d9520544a20f28d4248c00752c98ea5002071c37.gz

 src/gabble-media-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 677187954cd91c601bd45a598e853639b9841f27
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed May 7 15:34:50 2008 +0000

    Rephrase comment to avoid needing #if 0
    
    
    20080507153450-53eee-4374c795a9bc49ab879695016baf2916a768f01c.gz

 src/presence-cache.c |   26 ++++++++++----------------
 1 files changed, 10 insertions(+), 16 deletions(-)

commit 96d8168548542cff7ef0a1e91c4a5dc6d716f57c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed May 7 15:31:58 2008 +0000

    Rephrase comment about why we're not strictly following XEP-0153, to avoid having #if 0'd code
    
    
    20080507153158-53eee-aec58f9a69b519eaf353111da812cd4d505342e5.gz

 src/presence-cache.c |   27 ++++++++++++++-------------
 1 files changed, 14 insertions(+), 13 deletions(-)

commit 1b53a80d4b09b6ce7164c73be562f9a12fae148a
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu May 8 18:39:56 2008 +0000

    re-order test-capabilities.py to test that we go from none -> video + audio -> audio -> none correctly
    
    
    20080508183956-418b8-a22cb658d43ce19cf0b0e3e96e5cc41c271e40f4.gz

 tests/twisted/test-capabilities.py |   54 +++++++++++++++++++++--------------
 1 files changed, 32 insertions(+), 22 deletions(-)

commit d634c406fb23d455de16cebff845e55fdfaa6b09
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu May 8 18:39:37 2008 +0000

    store disco query node attributes in the event objects in the test suite
    
    
    20080508183937-418b8-b1fecc4f87785dbd3939c926766cecf526f9b3e1.gz

 tests/twisted/gabbletest.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit ffb7179264796f1da7c44eb6589d349c9bbc698d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu May 8 11:41:59 2008 +0000

    remove test-caps-update.py as it is redundant in light of test-capabilities.py's new/existing checks for CapabilitiesChanged, and fails due to assuming a 1:1 correspondence between having just the jingle audio/video transports and being audio/video callable. these capabilities now depend on the jingle transports as well as gabble's intrinsic jingle and google p2p features.
    
    
    20080508114159-418b8-9b9a7c7633f7476d175886f1870257dc0bd86f57.gz

 tests/twisted/Makefile.am         |    1 -
 tests/twisted/test-caps-update.py |   59 -------------------------------------
 2 files changed, 0 insertions(+), 60 deletions(-)

commit e5201e81cb79a79c95c1850cb2191da50708ee33
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu May 8 11:41:20 2008 +0000

    update test-capabilities to test that adding a new capability later (adding video in this case) causes another CapabilitiesChanged signal
    
    
    20080508114120-418b8-014da69857d9ed9d5685c7055fb5ccccd3aad28c.gz

 tests/twisted/test-capabilities.py |   23 ++++++++++++++++++++++-
 1 files changed, 22 insertions(+), 1 deletions(-)

commit 5cce0199bd58c0e71770856770fd1d096bcf536b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu May 8 11:07:50 2008 +0000

    fix test-capabilities.py - add google p2p transport to the capabilities so that audio calling is possible
    
    
    20080508110750-418b8-ac0a0f3a850a7ba3eaafbd55496f150804fde58a.gz

 tests/twisted/test-capabilities.py |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit ee2f87931e9323198206555c420e9c2465717dca
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue May 6 13:15:58 2008 +0000

    actually exclude dbus tube tests if they're not supported
    
    
    20080506131558-01440-4575693dec730e57860b7b206aab34ed91ee5d2c.gz

 tests/twisted/tubes/test-get-available-tubes.py |   13 ++++++++++---
 tests/twisted/tubes/test-muc-offer-dbus-tube.py |    5 ++++-
 tests/twisted/tubes/test-si-tubes.py            |    5 +++++
 3 files changed, 19 insertions(+), 4 deletions(-)

commit 4d2cc8ecbb04807179592ad45e20af3b1bd84698
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue May 6 13:14:44 2008 +0000

    don't explicitly wait for CONNECTED, so we don't have to deal signal delivery races (2/2)
    
    
    20080506131444-01440-223d50fc8e45e0f72b15c6d69be35c7475f818a8.gz

 tests/twisted/olpc/test-olpc-set-props-preload.py |    2 +-
 tests/twisted/roster/groups-12791.py              |    2 +-
 tests/twisted/roster/groups.py                    |    2 +-
 tests/twisted/roster/test-roster.py               |    2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit fb981fcae7e874565c47c0c43a6f35fcb67b6185
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue May 6 13:11:50 2008 +0000

    deal with possible races in signal delivery (1/2)
    
    
    20080506131150-01440-3ee46f0547e0cb47cd997f640675a61dd5c96cf3.gz

 tests/twisted/muc/test-muc-invitation.py |   23 ++++++++-------
 tests/twisted/muc/test-muc-properties.py |   46 +++++++++++++++--------------
 tests/twisted/test-group-race.py         |    3 +-
 3 files changed, 37 insertions(+), 35 deletions(-)

commit 5e53e702e4431d126f3e0907151d42f119a1a827
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue May 6 13:10:40 2008 +0000

    don't shadow param name
    
    
    20080506131040-01440-e75d684862999563fd3ce1bcbaea73d6976329ad.gz

 src/tube-iface.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 59dafb29f09cfcacc41fcb4c5e12a3aa91848dc0
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue May 6 13:09:45 2008 +0000

    test dbus tubes only if they're supported
    
    
    20080506130945-01440-e2e9c63ec58094ec32c42aa6af401fa5323e449a.gz

 configure.ac                     |    3 ++-
 tests/twisted/gabbleconfig.py.in |    4 ++++
 2 files changed, 6 insertions(+), 1 deletions(-)

commit acccc6eab95752c10005d601d2c45100d51816f9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue May 6 14:36:41 2008 +0000

    In Twisted tests, use the correct version of Python
    
    
    20080506143641-53eee-49c72bb134c4df78e38b370f0a1868e1167b4e23.gz

 tests/twisted/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7f6ef9f2ca7fb64db2c4dd9b3a694ced92f788ea
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue May 6 14:36:24 2008 +0000

    Check for a Python suitable for running the tests separately
    
    
    20080506143624-53eee-2d5c04182bc20dd7dfe2d2342f1f6a2a3dd849c6.gz

 configure.ac |   24 +++++++++++++++---------
 1 files changed, 15 insertions(+), 9 deletions(-)

commit 2113d34e54964b59589c418cef6e04d18fc65a55
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue May 6 14:35:58 2008 +0000

    Add a comment explaining why we look for an *old* version of Python by preference
    
    
    20080506143558-53eee-ddb74fe4f4344c80e11419130e011c730f05579e.gz

 configure.ac |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit d924d89c49095a5f60a1a78b353eb6bfde6218f8
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue May 6 19:29:51 2008 +0000

    remove #if 0'd hacky _presence_node_has_google_voice function which has been unused from 0.3.x days
    
    
    20080506192951-418b8-6e4083d52f016b0fcbe0e5c871d097740f8bdaaf.gz

 src/presence-cache.c |   36 ------------------------------------
 1 files changed, 0 insertions(+), 36 deletions(-)

commit f9e7ef86ed5ca5d8d3309fec7ba816dfe3190172
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue May 6 12:32:26 2008 +0000

    correct _gabble_media_channel_typeflags_to_caps and _gabble_media_channel_caps_to_typeflags to match the semantics of _gabble_media_session_request_streams when deciding what stream types are available.
    
    Specifically, a) we must have GTalk-P2P transport available in order to place
    /any/ calls because it is the only transport we can signal atm, b) any 3rd
    party with Google voice capability is always audio callable, and c) to make
    Jingle audio/video calls to 3rd parties, they must also support Jingle and
    GTalk-P2P. Fixes #15656.
    
    20080506123226-418b8-67895899d5e05e7b1689db970bc2974c8457dd98.gz

 src/gabble-media-channel.c |   44 ++++++++++++++++++++++++++++++++++----------
 1 files changed, 34 insertions(+), 10 deletions(-)

commit 3e415d6616702e1f599c9aa0d1d9a54a7e962c60
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue May 6 12:31:18 2008 +0000

    add a note to _gabble_media_session_request_streams reminding people to also check that _gabble_media_channel_typeflags_to_caps and _gabble_media_channel_caps_to_typeflags are kept up to date
    
    
    20080506123118-418b8-b5708ae5318baf6a7bb2a9fa36db375309129c39.gz

 src/gabble-media-session.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit bdae6c5750fabb6df8ee8c2ae341a42a0300411c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue May 6 12:16:52 2008 +0000

    avoid duplicating the required PRESENCE_CAP_* for a person to be callable
    
    by calling _gabble_media_channel_caps_to_typeflags instead (this just applies
    to the trivial checking in AddMembers, only relevant when using the
    pre-0.17.2 spec method of adding the member before requesting streams is being
    used)
    
    20080506121652-418b8-5d31be253bb22c2a846e33359648ac6aa4bde433.gz

 src/gabble-media-channel.c |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)

commit aa1901af5a1dbf52ff7a3f5fc8b09c67d1ba4413
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 5 12:21:38 2008 +0000

    Nano version 0.7.5.1
    
    
    20080505122138-53eee-be55bf529837944079029146ac4933f9c0fc6b58.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3cad0515231a9e88ec2b8f73a7899541b3abd062
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 5 11:33:40 2008 +0000

    Update NEWS, configure.ac for 0.7.5
    
    
    20080505113340-53eee-fd8e4a52d4ba3a60c07e860ac10eec296efc8604.gz

 NEWS         |    4 +++-
 configure.ac |    4 ++--
 2 files changed, 5 insertions(+), 3 deletions(-)

commit 1b8511eda3660aea48352284cdfa0a27cbf37376
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 5 11:33:40 2008 +0000

    Update NEWS, configure.ac for 0.7.5
    
    
    20080505113340-53eee-fd8e4a52d4ba3a60c07e860ac10eec296efc8604.gz

 NEWS         |    4 +++-
 configure.ac |    4 ++--
 2 files changed, 5 insertions(+), 3 deletions(-)

commit b820ee2e81000a6ffbd1d0fab674ac622b3768f5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 5 11:28:36 2008 +0000

    Update NEWS
    
    
    20080505112836-53eee-bf9047326ae4aba315e7e124d9d33f40e761955a.gz

 NEWS |   11 ++++++++++-
 1 files changed, 10 insertions(+), 1 deletions(-)

commit c49beb44d114dce0bc443524b1bb2add1bd77783
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 5 11:28:36 2008 +0000

    Update NEWS
    
    
    20080505112836-53eee-bf9047326ae4aba315e7e124d9d33f40e761955a.gz

 NEWS |   11 ++++++++++-
 1 files changed, 10 insertions(+), 1 deletions(-)

commit 90a7bd0b0ff4ec4c04eb6826a6ada72900f7c33c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 5 09:42:45 2008 +0000

    Amend NEWS to indicate that #15095 wasn't actually fixed in 0.7.4
    
    
    20080505094245-53eee-7ce87ce46e569bd864598d614ff55c0ecc4c9fbd.gz

 NEWS |   10 ++++++++--
 1 files changed, 8 insertions(+), 2 deletions(-)

commit 1e6a90670d6b7efce2d6e43a32e7c2f3e17f24fa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 5 09:42:45 2008 +0000

    Amend NEWS to indicate that #15095 wasn't actually fixed in 0.7.4
    
    
    20080505094245-53eee-7ce87ce46e569bd864598d614ff55c0ecc4c9fbd.gz

 NEWS |   10 ++++++++--
 1 files changed, 8 insertions(+), 2 deletions(-)

commit 0edd3d22dc1bd028b0aa51ca98a5139fabe3c1f1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 2 10:47:13 2008 +0000

    test-olpc-set-props-preload.py: port to new test API
    
    
    20080502104713-7fe3f-0fa5f73ccdd0f2f2461a87b7448589fe69ada4f5.gz

 tests/twisted/olpc/test-olpc-set-props-preload.py |   38 ++++++---------------
 1 files changed, 11 insertions(+), 27 deletions(-)

commit efab267d76c252013cf4bb54f8b11a8832594ee7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 2 10:47:13 2008 +0000

    test-olpc-set-props-preload.py: port to new test API
    
    
    20080502104713-7fe3f-0fa5f73ccdd0f2f2461a87b7448589fe69ada4f5.gz

 tests/twisted/olpc/test-olpc-set-props-preload.py |   38 ++++++---------------
 1 files changed, 11 insertions(+), 27 deletions(-)

commit 29dcb89f3d03671327f9bcbc4111672fe7cb9b98
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 2 10:18:47 2008 +0000

    olpc-muc-prop-change.py: port to new test API
    
    
    20080502101847-7fe3f-bf9fc52258e04de34ba8c196b66bd6e5087d6ce6.gz

 tests/twisted/olpc/olpc-muc-prop-change.py |  245 ++++++++++------------------
 1 files changed, 87 insertions(+), 158 deletions(-)

commit 96152742713d1517c4095f1a739630bd99b5033f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 2 10:18:47 2008 +0000

    olpc-muc-prop-change.py: port to new test API
    
    
    20080502101847-7fe3f-bf9fc52258e04de34ba8c196b66bd6e5087d6ce6.gz

 tests/twisted/olpc/olpc-muc-prop-change.py |  245 ++++++++++------------------
 1 files changed, 87 insertions(+), 158 deletions(-)

commit f4d9ae6862a4f1946e7ced11c5054b4c559a991a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 2 10:01:38 2008 +0000

    olpc-muc-invitation.py: port to new test API
    
    
    20080502100138-7fe3f-f04d122ca95a6c0fba8443e479702e2467d3d273.gz

 tests/twisted/olpc/olpc-muc-invitation.py |  185 ++++++++++------------------
 1 files changed, 66 insertions(+), 119 deletions(-)

commit b01b6dd5ec3e94c5af4d58364cfd2be2ebe0fee0
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Sat May 3 19:06:25 2008 +0000

    port test-capabilities.py to new test API
    
    
    20080503190625-c9803-371b57ae7be44465f139a30778a8687a394b85a4.gz

 tests/twisted/test-capabilities.py |   69 ++++++++++++++----------------------
 1 files changed, 27 insertions(+), 42 deletions(-)

commit be3ff19a131b01168e1435e829cbb77465aab1b2
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Sat May 3 19:01:28 2008 +0000

    gabbletest.py: if root element is passed to streamStarted, copy ID from it to xmlstream session ID for compatibility with Twisted Words 8.0
    
    
    20080503190128-c9803-23c7613bda17cb257a365d23cc26bf3932a6bc3f.gz

 tests/twisted/gabbletest.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit e95d6cf63949610177169e106b48ee9e95816937
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Sat May 3 00:11:23 2008 +0000

    port test-register.py to new test API
    
    
    20080503001123-c9803-7bd054a19b4327ca70de447356a5cd7a23f689e5.gz

 tests/twisted/test-register.py |   44 ++++++++++++---------------------------
 1 files changed, 14 insertions(+), 30 deletions(-)

commit e8ad2838dce77552de337496499a9582ced6c97d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 2 10:01:38 2008 +0000

    olpc-muc-invitation.py: port to new test API
    
    
    20080502100138-7fe3f-f04d122ca95a6c0fba8443e479702e2467d3d273.gz

 tests/twisted/olpc/olpc-muc-invitation.py |  185 ++++++++++------------------
 1 files changed, 66 insertions(+), 119 deletions(-)

commit db877507099be844e871584444704eb2bb1651ed
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Sat May 3 19:06:25 2008 +0000

    port test-capabilities.py to new test API
    
    
    20080503190625-c9803-371b57ae7be44465f139a30778a8687a394b85a4.gz

 tests/twisted/test-capabilities.py |   69 ++++++++++++++----------------------
 1 files changed, 27 insertions(+), 42 deletions(-)

commit 3b2eea853e3adabb1c0f5b6e25a67cf946eaa08e
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Sat May 3 19:01:28 2008 +0000

    gabbletest.py: if root element is passed to streamStarted, copy ID from it to xmlstream session ID for compatibility with Twisted Words 8.0
    
    
    20080503190128-c9803-23c7613bda17cb257a365d23cc26bf3932a6bc3f.gz

 tests/twisted/gabbletest.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit d11fab72ad47cadef9c84347d0ddf8ed38c4c8dc
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Sat May 3 00:11:23 2008 +0000

    port test-register.py to new test API
    
    
    20080503001123-c9803-7bd054a19b4327ca70de447356a5cd7a23f689e5.gz

 tests/twisted/test-register.py |   44 ++++++++++++---------------------------
 1 files changed, 14 insertions(+), 30 deletions(-)

commit 87b41f5eefd14d318db0c6cff13ce0f479e7953a
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jan 7 13:19:56 2008 +0000

    port test-connect-fail.py to new test API
    
    
    20080107131956-c9803-ff738e5f14baadd489015e27b4a36e7bd4bc19b8.gz

 tests/twisted/test-connect-fail.py |   30 ++++++------------------------
 1 files changed, 6 insertions(+), 24 deletions(-)

commit 2ad0f0236033199ac9993b44ef02b33b2b090f81
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri May 2 17:04:03 2008 +0000

    ignore second argument passed to streamStarted, for compatibility with Twisted Words 8.0
    
    
    20080502170403-c9803-5126ab783b25a116f074abe11200e2cea49c33b0.gz

 tests/twisted/gabbletest.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit bc582b06e861b2bfa93d884cf90f2dcf7a97ff15
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon May 5 09:10:46 2008 +0000

    Remove dead code
    
    
    20080505091046-a41c0-7dcfec1deb6755b0d3fd9788305df7a897fda9bd.gz

 src/disco.h |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 8f5c36e70d08fde8cb408a39f4799e17250e109e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon May 5 09:10:15 2008 +0000

    Add comment on private-tubes-factory.h
    
    
    20080505091015-a41c0-6aced7d54cf428f36d5570af08b17a24dcc622be.gz

 src/private-tubes-factory.h |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 19c8a2e6f3aad15d74a9f74ff05239f38f7dab5b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri May 2 14:20:18 2008 +0000

    Don't assume that htmldir will be defined (it was added in autoconf 2.59c, which is not in Maemo)
    
    
    20080502142018-53eee-c3e171165a1aaaaad933797b005f32f1e9a42058.gz

 docs/Makefile.am |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 169ca96800606c9dee18ffbbeff591d61315ff2f
Author: Olivier Crete <olivier.crete@collabora.co.uk>
Date:   Thu May 1 23:29:41 2008 +0000

    Ignore non-1 components for now
    
    
    20080501232941-3e2dc-87590a9e055ae1c7afe5707b935d0feabb83a9b2.gz

 src/gabble-media-stream.c |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit 9b939189c7514a588ea0fb374d8ed2c541848a67
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 1 18:17:14 2008 +0000

    Nano version
    
    
    20080501181714-53eee-45f0ab6f530668548b99c7b269bbc0133d3eb537.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a1f41e7d638402aee9bfe109045abc263b39bde8
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Apr 25 16:36:18 2008 +0000

    Fix Bug 15095 by allowing a MUC presence stanza to be catched by the GabblePresenceCache callback
    
    
    20080425163618-a41c0-1f7775a39c9344f03098f856afe67c9ead5dcdef.gz

 src/muc-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 80c0b8555c236894704a357eae707f5bd26f3879
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 1 18:10:23 2008 +0000

    Prepare release 0.7.4
    
    
    20080501181023-53eee-66e7fd8d0e1d157e12da161ae47796b7e5b52f0f.gz

 NEWS         |    8 +++++++-
 configure.ac |    4 ++--
 2 files changed, 9 insertions(+), 3 deletions(-)

commit 3038ad5ec4ac9197f842295a796788467b2cb8f9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 1 18:04:47 2008 +0000

    Release weak ref before calling into user code in GabbleDisco, to avoid crashes if the user code causes the weakly reffed object to be destroyed
    
    
    20080501180447-53eee-0ced607caecb1143a9f95c8fe4292d86dc5ec6ee.gz

 src/disco.c |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 8b1838c171d73e26dd1c1625e4d68c4beaa2c507
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 1 17:31:53 2008 +0000

    GabbleDisco: temporarily ref the disco object while calling out to user code
    
    
    20080501173153-53eee-48e86d834e19bce2deae9c1c58fa47bdf665c12d.gz

 src/disco.c |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit df50d776c86fbc198de437884f9ae023442b2f9d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 1 17:31:36 2008 +0000

    tests/twisted/Makefile.am: consider it to be a failure if Gabble dumps core
    
    
    20080501173136-53eee-458c09915720cbad169d1d43455eafeaa789c907.gz

 tests/twisted/Makefile.am |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit d009e94e7aad710648b2489422f4da5de030cd16
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 1 17:19:28 2008 +0000

    Update NEWS
    
    
    20080501171928-53eee-83164e8c2bc853d4dc2f93327f02dc97b565c7ce.gz

 NEWS |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 212a20bd21b4b9c23b471aa1eb2d7a1485992631
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 1 16:53:00 2008 +0000

    Add regression test for fd.o #15198
    
    
    20080501165300-53eee-599ce44459f5848dc12bf1e60a0bd950294e902a.gz

 tests/twisted/test-capabilities.py |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 528a3908009416b203d184f701de77978b87b87a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 1 16:43:58 2008 +0000

    After returning an error from gabble_connection_get_capabilities, don't happily carry on regardless (fd.o #15198)
    
    
    20080501164358-53eee-683a93a370cac7d84eb6b8bdd8c441181be00d75.gz

 src/gabble-connection.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 5804e377ed533c84f3e6c2de15db1ec693bab3c7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 1 16:34:29 2008 +0000

    When adding ourselves to the local-pending set for an incoming call, make the actor the handle of the caller (fd.o #14806)
    
    
    20080501163429-53eee-8f9032ccbd76c08b32845e22f4e724ebc0a0f893.gz

 src/gabble-media-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 95823b01d8133c80b068230da70f0bc278d180f6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 1 14:24:18 2008 +0000

    Improve reference to spec in NEWS
    
    
    20080501142418-53eee-47debf2952cd89aa2318a1d5c5f154e171df2a64.gz

 NEWS |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 1bdf24fa27469bd7c816a346ee4571365e530dc4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 1 14:20:54 2008 +0000

    Update NEWS
    
    
    20080501142054-53eee-d42a5af10da572030cc0fdb2eeaca347fa1745dd.gz

 NEWS |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 2700b060bd8232ac3e5448274fb03b9543c51e57
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 17:17:20 2008 +0000

    test-outgoing-call.py: add a hackish workaround for fd.o#15769 so we don't need to fix it right now
    
    
    20080430171720-53eee-9c0ce3b9e74d604d8c494d3d1da302e78821569f.gz

 tests/twisted/jingle/test-outgoing-call.py |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit d87a3a6bd864b041d32ee3666afaeff47f1f5c98
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 16:23:48 2008 +0000

    test-outgoing-call.py: Don't expect to see a NewSessionHandler until we RequestStreams
    
    
    20080430162348-53eee-91ba72d5ce4419e69de513b96ba8c2f632361711.gz

 tests/twisted/jingle/test-outgoing-call.py |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit 56c4578866a70980d7900c23360ed122b80cf3c9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 16:04:36 2008 +0000

    test-outgoing-call.py: don't add the peer to the group interface, but instead let them appear when called
    
    
    20080430160436-53eee-d930f355ade10e5d3bd51ea104f9a5e5de1ef39a.gz

 tests/twisted/jingle/test-outgoing-call.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ddf5d226125ec69fe6fa5a3cc766d2bbba900a50
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 16:03:38 2008 +0000

    test-outgoing-call-deprecated2.py: instead of requesting a call to foo@bar.com, request a new blank channel and invite foo@bar.com
    
    
    20080430160338-53eee-6d28e665185a6bd66d5505b7644f8b062c406c0b.gz

 .../jingle/test-outgoing-call-deprecated2.py       |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 8a503b6f216ff8b850dfd5aa38b34334a3665a20
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 16:02:31 2008 +0000

    Duplicate tests/twisted/jingle/test-outgoing-call-deprecated.py again, it turns out to have been more deprecated than I thought
    
    
    20080430160231-53eee-7bfbba4ad23d1654dc3d50ef36184dab365cc478.gz

 tests/twisted/Makefile.am                          |    1 +
 .../jingle/test-outgoing-call-deprecated2.py       |   93 ++++++++++++++++++++
 2 files changed, 94 insertions(+), 0 deletions(-)

commit 1591aeb098a21f62989067c46745ebcaf8c63b12
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 16:01:40 2008 +0000

    Duplicate test-outgoing-call.py as test-outgoing-call-deprecated.py
    
    
    20080430160140-53eee-6ed4f66cbce210ad40b288ced8132f4e41728af6.gz

 tests/twisted/Makefile.am                          |    1 +
 .../jingle/test-outgoing-call-deprecated.py        |   93 ++++++++++++++++++++
 2 files changed, 94 insertions(+), 0 deletions(-)

commit 650a1df1fbe563c499c91d056ae5a9a14f99689f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 16:00:26 2008 +0000

    In regression tests, correctly request streams to the other guy, not to ourselves
    
    
    20080430160026-53eee-d78b3e2b8fcf1acebb39537b23cf4c2d55662a20.gz

 tests/twisted/jingle/hold-audio.py                 |    2 +-
 tests/twisted/jingle/hold-av.py                    |    2 +-
 .../twisted/jingle/test-outgoing-call-rejected.py  |    2 +-
 tests/twisted/jingle/test-outgoing-call.py         |    2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit 89a324a56095150158a61292d52f1246c4ef844c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 15:49:36 2008 +0000

    GabbleMediaChannel: when session state changes to indicate we have contacted the peer, stuff them into remote-pending if they're not already there
    
    
    20080430154936-53eee-2d7aa01544e874bfe391180351a112118829755d.gz

 src/gabble-media-channel.c |   37 +++++++++++++++++++++++++------------
 1 files changed, 25 insertions(+), 12 deletions(-)

commit 148c42e1b8d58c31ce84f3c85a3f82de103e19a6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 15:49:26 2008 +0000

    Fix variable name
    
    
    20080430154926-53eee-8a1ffc74c87a8f8dce8a6cfd6c38c1a5ac650855.gz

 src/gabble-media-channel.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit a31befa1b0ed1fdceffe57119404f7c6d0da62ed
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 15:41:39 2008 +0000

    gabble_media_channel_request_streams: don't restrict to only creating streams to a member of the channel (fd.o #14602)
    
    
    20080430154139-53eee-e683b55932e3561aeab7f642ea0c8131b1f9054e.gz

 src/gabble-media-channel.c |    8 --------
 1 files changed, 0 insertions(+), 8 deletions(-)

commit 85f4bf8835c3b2b3f1cd47eb6491a0a993979e07
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 15:39:59 2008 +0000

    gabble_media_channel_request_streams: lazily create a session if necessary (also simplify error handling)
    
    
    20080430153959-53eee-dd8be2453c6882a1880e7cb8b27d75eb60562889.gz

 src/gabble-media-channel.c |   49 +++++++++++++++++++++++++++++++------------
 1 files changed, 35 insertions(+), 14 deletions(-)

commit d569540a79108e12b9a653c10516f72f4d2179a6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 15:32:22 2008 +0000

    GabbleMediaSession: ref the peer handle for the duration. We can't rely on it being reffed by the channel's group interface any more, with telepathy-spec 0.17.3 semantics
    
    
    20080430153222-53eee-1f2bdc70acbce3bda9be817dcf49b8e00fd2b7e4.gz

 src/gabble-media-session.c |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit 8f38052b1e11f021c456b73fe26344387e9bd570
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 15:24:55 2008 +0000

    Allow adding a member to a Media channel if and only if either it has no session, or it has a session and they are the peer
    
    
    20080430152455-53eee-2c9f014685ab6c5d191950c4aecfa378d36632b8.gz

 src/gabble-media-channel.c |   25 ++++++++++++++++++++++---
 1 files changed, 22 insertions(+), 3 deletions(-)

commit fdaa3ecd840fd90c79593bbf4cc73edc4b458991
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 15:19:28 2008 +0000

    Move responsibility for checking VoIP capabilities into create_session()
    
    
    20080430151928-53eee-81bab7f32516ddd27b20d0fe418c06954093b8b3.gz

 src/gabble-media-channel.c |   74 ++++++++++++++++++++++---------------------
 1 files changed, 38 insertions(+), 36 deletions(-)

commit 49e56420816c86f00767d420e46ebbfe810c16a9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 15:13:18 2008 +0000

    In _gabble_media_channel_dispatch_session_action, assert that we're not about to cause create_session() to get confused
    
    
    20080430151318-53eee-bd593255b5a8aed05860daf707a890cd1de3ecd7.gz

 src/gabble-media-channel.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 9a8ed44a994d7c90f0c3082c81db89a2bfcf4f0a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 15:12:43 2008 +0000

    Have create_session() return a GError; for the moment, assert that it always succeeds
    
    
    20080430151243-53eee-c1d749f549a7757522d0232a6a70163a0eeba738.gz

 src/gabble-media-channel.c |    9 ++++++---
 1 files changed, 6 insertions(+), 3 deletions(-)

commit acc0b789fb5737986716a03b3575889dba37616d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 15:12:30 2008 +0000

    Whitespace
    
    
    20080430151230-53eee-5362b80efed78859d6303b6688ebc365a840cf39.gz

 src/gabble-media-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 14ad0776023e3e5e81232891bad1560c6418fbc3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 17:46:23 2008 +0000

    ./tests/twisted/vcard/test-muc-alias.py: adjust for #14467 being fixed
    
    
    20080430174623-53eee-2350be998c53808ea72e7722593ab76a12c8c14d.gz

 tests/twisted/vcard/test-muc-alias.py |   17 ++++++++++-------
 1 files changed, 10 insertions(+), 7 deletions(-)

commit 5712757c34c0690a11631a63ea410eabcb1a02da
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 17:45:57 2008 +0000

    tests/twisted/tubes/test-muc-*: adjust for #14467 being fixed
    
    
    20080430174557-53eee-b2409a400057d4e58a45d88f59a3a4f15cf0b124.gz

 .../tubes/test-muc-accept-stream-tube-ibb.py       |   13 +++++++------
 tests/twisted/tubes/test-muc-offer-dbus-tube.py    |   13 +++++++------
 .../tubes/test-muc-offer-stream-tube-ibb.py        |   13 +++++++------
 3 files changed, 21 insertions(+), 18 deletions(-)

commit d1749f768d4ef3bd3e1bf0ca888a3b0140dc0861
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 17:44:57 2008 +0000

    test-get-available-tubes.py: adjust for #14467 having been fixed
    
    
    20080430174457-53eee-147c7204d62a9a4ddf18a348a4192da3f9fd3ffa.gz

 tests/twisted/tubes/test-get-available-tubes.py |   13 +++++++------
 1 files changed, 7 insertions(+), 6 deletions(-)

commit e5bc867d100bef6433bb97a2279a447a3f909d0b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 17:40:13 2008 +0000

    Adjust sequence of events in test-muc-ownership.py to assert that group membership is aggregated
    
    
    20080430174013-53eee-6d13c52a9d343b778d9314a9c53cee0b6a9a1e8a.gz

 tests/twisted/muc/test-muc-ownership.py |   43 ++++++++++++++++++-------------
 1 files changed, 25 insertions(+), 18 deletions(-)

commit 49f97fda338131ad0d58817d088ff944e88ffbe7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 17:32:37 2008 +0000

    Amend muc/test-muc.py to match Alban's fix for fd.o #14467
    
    
    20080430173237-53eee-1833bf9b961ebd6f1d9aabd73ee84f90263caefd.gz

 tests/twisted/muc/test-muc.py |   17 ++++++++++-------
 1 files changed, 10 insertions(+), 7 deletions(-)

commit f4af381d5d271e5762361cd9449ae84d53ae6086
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 28 18:02:16 2008 +0000

    Reference Debian #446259 as well as fd.o #12791
    
    
    20080428180216-53eee-222ef3a1910ad25a1485c354e60a03ada7996a86.gz

 NEWS |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3292afa8625156ca274bccbd039b8ce1a88aee76
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 28 17:57:28 2008 +0000

    Update NEWS with merged changes since 0.7.3
    
    
    20080428175728-53eee-7c3dcda6112f6aff3f9f522db8859a953cb13c6e.gz

 NEWS |   32 ++++++++++++++++++++++++++++++++
 1 files changed, 32 insertions(+), 0 deletions(-)

commit 13e7cae7d7111a9270bb4d3e158ea1234c64a9a3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 28 16:53:42 2008 +0000

    Amend #12791 regression test to test with what the submitter actually had on their roster, as well as with a garbled roster that the server shouldn't have sent us
    
    
    20080428165342-53eee-2f71e379a51013bdeeb90c5f6077a423f7926aa1.gz

 tests/twisted/roster/groups-12791.py |   25 ++++++++++++++++++-------
 1 files changed, 18 insertions(+), 7 deletions(-)

commit 7efe4aec0214e0fae2ec15f9b198f8e9b3c31042
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 28 16:53:23 2008 +0000

    Skip roster <item>s that contain '/' (fd.o #12791)
    
    
    20080428165323-53eee-e9ccb4093493d76266121f5bd4494c22df973752.gz

 src/roster.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit cf716cb10183955b7534683d39a74900a6751a5e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 28 16:37:05 2008 +0000

    Add fd.o #12791 regression test back as a separate file
    
    
    20080428163705-53eee-961c527cac0f951f14e682682bd2cac67604449c.gz

 tests/twisted/Makefile.am            |    1 +
 tests/twisted/roster/groups-12791.py |   89 ++++++++++++++++++++++++++++++++++
 2 files changed, 90 insertions(+), 0 deletions(-)

commit 5bbcf164d50b9de4688bfb2275dcb321b2acf9dd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 28 16:36:35 2008 +0000

    ./tests/twisted/roster/groups.py: revert addition of #12791 regression test
    
    
    20080428163635-53eee-dfdab263cd49a93baa1664186b39a9f937a90413.gz

 tests/twisted/roster/groups.py |    8 --------
 1 files changed, 0 insertions(+), 8 deletions(-)

commit 683737dcbf7d776f8cc7d828f59707631521c1f3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 23 14:30:54 2008 +0000

    roster: ref handles when they are put in a GroupMembershipUpdate (hopefully fixes fd.o #12791)
    
    
    20080423143054-53eee-17a4c68002214507cd30bc2ed5046b5401f8b5c2.gz

 src/roster.c |   49 ++++++++++++++++++++++++++-----------------------
 1 files changed, 26 insertions(+), 23 deletions(-)

commit fdfda5d1e2453acd338037f3b38a03b0c16c5c29
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 23 14:29:31 2008 +0000

    roster/groups test: include amy's <item> in the roster twice, removing a group the second time (this causes the same crash as fd.o #12791, although it doesn't seem very likely to be the real cause)
    
    
    20080423142931-53eee-8a066770d706e537bed390e5897f2afba673b5bc.gz

 tests/twisted/roster/groups.py |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 62dc2124f7d32d3d568aea64eff8a93a125d1c84
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 23 14:29:10 2008 +0000

    roster/groups test: if assertions fail, print more useful info
    
    
    20080423142910-53eee-58f7dac044c2a51c1e991cab445925d3865e9bd1.gz

 tests/twisted/roster/groups.py |   20 ++++++++++++--------
 1 files changed, 12 insertions(+), 8 deletions(-)

commit 1cda42fa848e2093c1f572262cbf843d88df43ad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 23 13:36:03 2008 +0000

    roster: amend comments for GroupMembershipUpdate/GroupsUpdateContext to indicate where things are borrowed from
    
    
    20080423133603-53eee-e8612a4b2aabf07bb6b038e32f6fed8edefcae51.gz

 src/roster.c |    8 ++++++--
 1 files changed, 6 insertions(+), 2 deletions(-)

commit 9ef957caa9cbd7f3bcc5c16adee0557619b955d5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 23 13:19:41 2008 +0000

    Add a comment to ./tests/twisted/roster/groups.py explaining how fragile it is
    
    
    20080423131941-53eee-b0143cd6c0badec6334b54c460a87dc9aa2bf128.gz

 tests/twisted/roster/groups.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 5d7980ec8fe15d25e176de2d1e70368bc1a9ce42
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 23 13:17:43 2008 +0000

    _gabble_roster_item_update: eliminate unnecessary temporary, old_groups
    
    
    old_groups is slightly misleadingly named - it's a direct pointer to the intset
    underlying item->groups, so its contents change whenever item->groups does.
    (In practice we only used it once, before making any changes.)
    
    20080423131743-53eee-0b3aeadd3136517c2ae4267c440ed2146d1c1110.gz

 src/roster.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 3ba7c75b1b91229e7e3d62f9e50c261c9434b3c1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 23 11:36:47 2008 +0000

    Add a regression test for roster groups
    
    
    20080423113647-53eee-88f64055934cb5c54613267847ca237a2798143a.gz

 tests/twisted/Makefile.am      |    1 +
 tests/twisted/roster/groups.py |   75 ++++++++++++++++++++++++++++++++++++++++
 2 files changed, 76 insertions(+), 0 deletions(-)

commit e251b5857ba420caaa21381d412c9600519131ad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 23 10:35:10 2008 +0000

    roster: misc stylistic fixes
    
    
    20080423103510-53eee-f628702a67f0a3fa2dc63eb0f18f2cdeb7c0c959.gz

 src/roster.c |   15 ++++++++++-----
 1 files changed, 10 insertions(+), 5 deletions(-)

commit 5baf8219d640366a8340ff9ac3ecf23750ed4a81
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 23 10:31:34 2008 +0000

    roster: Annotate GroupsUpdateContext, GroupMembershipUpdate with ownership
    
    
    20080423103134-53eee-aafc845df529968b8d450f6858ccdf1e8923135d.gz

 src/roster.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 46a77835e0a8984f7f618fcc70d9c324488ce0b6
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Apr 25 14:48:30 2008 +0000

    Better comment about aggregation
    
    
    20080425144830-a41c0-f0a5b7d305fa59c10dc0f9bd825564a68caff1a0.gz

 src/gabble-muc-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 98f5ddcaadc10274d883c94634b8e0a5b9d459a0
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Apr 25 14:25:20 2008 +0000

    Coding style, rename variable to initial_members_aggregator, delete the boolean
    
    
    20080425142520-a41c0-b65fc8d87ca5c7d2b1cbf89fec8941980063e0c5.gz

 src/gabble-muc-channel.c |   35 ++++++++++++++++-------------------
 1 files changed, 16 insertions(+), 19 deletions(-)

commit 5f1790a3f25385b6ebe2e39d059e98fd1eabb40b
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Apr 25 12:19:56 2008 +0000

    Use TpHandleSet instead of TpIntSet
    
    
    20080425121956-a41c0-4922473622d203d4fd3173455f1e3c5dd4f51df0.gz

 src/gabble-muc-channel.c |   21 +++++++++++++++------
 1 files changed, 15 insertions(+), 6 deletions(-)

commit 7a23349136fdc4a7dc9ebd9d523c12d357fd3bc4
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Mar 5 13:20:43 2008 +0000

    Fix indentation
    
    
    20080305132043-a41c0-2cfb2cf197b10ac44f6b95c4f3d6d4868b3d749b.gz

 src/gabble-muc-channel.c |   38 ++++++++++++++++++++------------------
 1 files changed, 20 insertions(+), 18 deletions(-)

commit dbb638bcbe8b33c74ee502df654f62802913e1c1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Feb 12 14:42:37 2008 +0000

    MembersChanged aggregation when joining MUC
    
    
    20080212144237-a41c0-c5913d5e4b4fe5d64cb71ef0144329a49d64be50.gz

 src/gabble-muc-channel.c |   36 +++++++++++++++++++++++++++++++++---
 1 files changed, 33 insertions(+), 3 deletions(-)

commit c7790ffdda54287cc8580ee25c3b19f837a3afd4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 23 11:32:02 2008 +0000

    docs/Makefile.am: projects.ccu is now people.ccu
    
    
    20080423113202-53eee-dce6f41cb26f1aaf8cf3dea240c59fab8b04bab4.gz

 docs/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7cb88bca76e5b1d087a1039d287b8e06cbebe71f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 23 11:04:38 2008 +0000

    Update xep.xsl to r1806. Stop pasting in the revision number, it's error-prone if there is a <?xml?> declaration
    
    
    20080423110438-53eee-738b73568ac255cb914c64a3282240d926026e7d.gz

 tools/Makefile.am |    9 +++------
 tools/xep.xsl     |    3 ++-
 2 files changed, 5 insertions(+), 7 deletions(-)

commit 0afbab740623755b895ed014859fc3a154be783c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 22 17:39:50 2008 +0000

    Update xep.xsl to r1803 with an even more lenient license
    
    
    20080422173950-53eee-db392a98e76b5e8e79f96c72a442303eaadea09a.gz

 COPYING       |   79 +++++++++++++++-----------------------------------------
 tools/xep.xsl |   25 +++++++++++++++++-
 2 files changed, 45 insertions(+), 59 deletions(-)

commit 44aaae51d33a1572487dde99d520a7d5d152e217
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 22 17:20:57 2008 +0000

    Put HTML docs in $(htmldir)
    
    
    20080422172057-53eee-d5c5f03a579fe14d45e69066e2ba69c5481f460c.gz

 docs/Makefile.am |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit 31a0e792a6aae71067e0a03739754656f71df9a9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 22 17:18:13 2008 +0000

    COPYING: explain the status of tools/xep.xsl
    
    
    20080422171813-53eee-d5f0d14e17815f29b257a7b1925fe846bb4f92fd.gz

 COPYING |   66 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 66 insertions(+), 0 deletions(-)

commit 352bbbea9cfd292befb14027f3505d3e13cdf706
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 22 17:10:17 2008 +0000

    Build documentation by default
    
    
    20080422171017-53eee-1e0c406098af0f7f2683b1e3846fcae63aade0bd.gz

 docs/Makefile.am |   43 +++++++++++++++++--------------------------
 docs/README      |    6 ------
 2 files changed, 17 insertions(+), 32 deletions(-)

commit 0fce1384aaeceb9a3cfa8cf689cb8f30c428b5f2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 22 17:09:13 2008 +0000

    Add xep.xsl from xmpp.org, and a maintainer-only Makefile target to resync it
    
    
    20080422170913-53eee-854e0a2288b5fbeb0762067d22a2a5cebc04d43c.gz

 tools/Makefile.am |   13 +-
 tools/xep.xsl     |  885 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 897 insertions(+), 1 deletions(-)

commit bcd4e5fe95963b2260f3450ab0a0ee60e0c05fe4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 22 11:05:21 2008 +0000

    autogen.sh: fix bashism "&>"
    
    
    20080422110521-53eee-a00444208729568b1d0d4595fcece5fcb1bd51fc.gz

 autogen.sh |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit deb375380738ab53954d931cbc2cc80a9367e1a6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 21 17:43:17 2008 +0000

    Remove ls-interfaces.xsl from tools/ (no longer used or needed)
    
    
    20080421174317-53eee-86ab2c84d00744f76cd6fbaa9e4b7ca8888c380b.gz

 tools/Makefile.am       |    3 +--
 tools/ls-interfaces.xsl |   35 -----------------------------------
 2 files changed, 1 insertions(+), 37 deletions(-)

commit ef5400f7927f7f47d69644e7c96898d9b53d09f9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 21 16:45:44 2008 +0000

    Add INSTALL to _boring
    
    
    20080421164544-53eee-674bb73ee3273da1e3e458c9437da2c324977c63.gz

 _boring |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 400acf958854eb3705e836efccca5e674f4eb945
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 21 16:44:30 2008 +0000

    Remove unnecessary rule from data/Makefile.am
    
    
    20080421164430-53eee-349d469cec9837443d5b33110b6a6e16c9154184.gz

 data/Makefile.am |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 881c56dfcf520435a62c1746d2a99603932246ae
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 21 16:44:14 2008 +0000

    Use slightly nicer sed syntax in data/Makefile.am
    
    
    20080421164414-53eee-b4337a60b2edec387a416a14cc93b17562269963.gz

 data/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 11dba415f817f232cca23f950d2307d91ae928b1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 21 16:43:50 2008 +0000

    Add comments explaining why the .service.in file has a shorter name than you might expect
    
    
    20080421164350-53eee-d2954a4e3fa188b06027bcbbb6c893779b2dfad0.gz

 data/Makefile.am                |    3 +++
 tests/twisted/tools/Makefile.am |    3 +++
 2 files changed, 6 insertions(+), 0 deletions(-)

commit cfd35bf592be06b5368ee96c8a42e08af3e2e741
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 17 14:30:11 2008 +0000

    Prefer to use automake-1.8, to check that our build will still work in Scratchbox
    
    
    20080417143011-53eee-4038a4fc6ce74d79b8474708fcc39769a16209df.gz

 autogen.sh |   14 +++++++++++++-
 1 files changed, 13 insertions(+), 1 deletions(-)

commit 24d30d6222a20a92ccf3f54ced4ab6a88b843cd7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 17 14:29:55 2008 +0000

    Remove INSTALL from Darcs, autogen.sh will make one for us
    
    
    20080417142955-53eee-2eddf4e302ffad0d91f0a8869a6cbd88e1d98d30.gz

 INSTALL |  236 ---------------------------------------------------------------
 1 files changed, 0 insertions(+), 236 deletions(-)

commit d8897cbbfcb4fcedeb883478a44ba940636d718e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 17 14:29:24 2008 +0000

    tests/twisted/tools/: also rename .service.in file here
    
    
    20080417142924-53eee-043783277a1bf1657f9432e2c4c9bf56e857fc1d.gz

 tests/twisted/tools/Makefile.am                    |    6 +++---
 tests/twisted/tools/gabble.service.in              |    3 +++
 ...p.Telepathy.ConnectionManager.gabble.service.in |    3 ---
 3 files changed, 6 insertions(+), 6 deletions(-)

commit f31a723bea33eac8c84146590066b041700e383c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 11 17:37:21 2008 +0000

    Turn off tar-ustar in configure.ac - it's not supported by automake 1.8, as used on Maemo
    
    
    20080411173721-53eee-69507f2d4c35d91cf6eced5d107fd4567a7cee8c.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9406792f32e5a0c2df9fadf72d0961f2c166b7b9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 17 13:54:29 2008 +0000

    Don't ship as-ac-expand.m4, we no longer need it
    
    
    20080417135429-53eee-30022f9c383404be3c03f18a241671bb4ae09c84.gz

 m4/Makefile.am     |    3 +--
 m4/as-ac-expand.m4 |   49 -------------------------------------------------
 2 files changed, 1 insertions(+), 51 deletions(-)

commit ad4963bbd5d959c6316c43aa91f5c8f22293e1ec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 17 13:53:27 2008 +0000

    Don't AC_DEFINE, AC_SUBST or AS_AC_EXPAND the D-Bus services directory - there's no point, and AS_AC_EXPAND is Bad And Wrong
    
    
    20080417135327-53eee-18c43f9193afa15ae32ef13dd0733431fb2327b7.gz

 configure.ac |    5 -----
 1 files changed, 0 insertions(+), 5 deletions(-)

commit 7a82db888f516660784492bc9e37c43518971edf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 17 13:49:50 2008 +0000

    Simplify data/Makefile.am and rename .service.in filename to be shorter.
    
    
    Shortening the filename should mean we no longer need to use tar-ustar,
    since we're much less likely to hit the old 99-character tarball filename
    limit, even if we do a datestamped prerelease like
    `make dist distdir=telepathy-gabble-0.7.3.1-prerelease-20080416` (prereleases
    for laptop.org were the original motivation for using tar-ustar).
    
    20080417134950-53eee-6c79c938c35e9b4dbe60348636f38a0fb64d1574.gz

 data/Makefile.am                                   |   20 +++++++++-----------
 data/gabble.service.in                             |    3 +++
 ...p.Telepathy.ConnectionManager.gabble.service.in |    3 ---
 3 files changed, 12 insertions(+), 14 deletions(-)

commit 25549f4e68e734141272d46e77466ad715d1925a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 21 13:48:42 2008 +0000

    tests/twisted/Makefile.am: sort TWISTED_TESTS
    
    
    20080421134842-7fe3f-aaa5092f16625120dd4996a94571144399aed779.gz

 tests/twisted/Makefile.am |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 3eaf4dc9b608ad4d9cea5034f26f8830562e2f71
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 21 13:43:08 2008 +0000

    connection: lower-case disco_reply_timeout and make it static
    
    
    20080421134308-7fe3f-79648e882ad796640e7c464709a6cb9f781316b0.gz

 src/gabble-connection.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 0a0e3bc7e14334ba8ed5dec640aaf11f9888b217
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 21 13:29:38 2008 +0000

    test-disco-no-reply.py: no need to extend the timeout anymore as Gabble will timeout after 3 seconds
    
    
    20080421132938-7fe3f-f270a3dc5d0521c5f18e9c46ab5b75e2d639f705.gz

 tests/twisted/test-disco-no-reply.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 92679182836897b9002ee3e6e9146a65293a0fc4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 21 13:28:49 2008 +0000

    run a tweaked version of Gabble with tests
    
    
    20080421132849-7fe3f-811a0d4aecb3eade992caa36d03a1cc299f20ed3.gz

 tests/twisted/Makefile.am               |   14 ++++++++++++++
 tests/twisted/main-debug.c              |   31 +++++++++++++++++++++++++++++++
 tests/twisted/tools/exec-with-log.sh.in |    2 +-
 3 files changed, 46 insertions(+), 1 deletions(-)

commit 753602a69bf6665e1152e3570aa064a5104718e7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 21 13:26:29 2008 +0000

    libtoolize main (renamed gabble_main) and call it from main.c
    
    
    20080421132629-7fe3f-99224c959991c70346c7edddb227f452e6046f0a.gz

 src/Makefile.am |    5 +++--
 src/gabble.c    |    5 +++--
 src/gabble.h    |    2 ++
 src/main.c      |   27 +++++++++++++++++++++++++++
 4 files changed, 35 insertions(+), 4 deletions(-)

commit 5b42ca7b83ee9020e9fe911b3db08b43244ce9a5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 21 13:12:09 2008 +0000

    gabble-connection: allow to tweak the timeout of the disco reply (should be used only for tests)
    
    
    20080421131209-7fe3f-47872568a540f61a1684a4e77fac19550e561241.gz

 src/gabble-connection.c |   12 +++++++++++-
 src/gabble-connection.h |    3 +++
 2 files changed, 14 insertions(+), 1 deletions(-)

commit d896230e507a1fd4efe7e3012da4050bb419f1eb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 21 13:04:29 2008 +0000

    slow tests was a bad idea. All tests should be run by default
    
    
    20080421130429-7fe3f-e43bbd67303e4daea5e37c3818d6f74b19a32393.gz

 configure.ac                              |    8 --------
 tests/twisted/Makefile.am                 |    8 ++------
 tests/twisted/slow/test-disco-no-reply.py |   28 ----------------------------
 tests/twisted/test-disco-no-reply.py      |   28 ++++++++++++++++++++++++++++
 4 files changed, 30 insertions(+), 42 deletions(-)

commit d8da524f68883b4d0a65d1ffd1392154e1ecc5ea
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 16 15:03:02 2008 +0000

    gabble_debug_set_log_file_from_env: trunc the file when opening
    
    
    20080416150302-7fe3f-d7cbe22efc5807ff23de8a00b84e4400c0f2eb0b.gz

 src/debug.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b31b1fa55fecb889e04c67c58d3bc5b064b51bbb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 14 15:51:18 2008 +0000

    we don't need AC_DEFINE and AC_SUBST for --enable-slow-tests
    
    
    20080414155118-7fe3f-9740aec2d533d73733dc54a3a6eef92dd1b89828.gz

 configure.ac |    6 ------
 1 files changed, 0 insertions(+), 6 deletions(-)

commit 3c98dece1aa5dde5ed21c29a85338bbb800eb00a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 14 15:34:37 2008 +0000

    run slow tests only if build with --enable-slow-tests
    
    
    20080414153437-7fe3f-9cec3ba32870abbb55ed90865ec3ae374f30d7a5.gz

 configure.ac              |   14 ++++++++++++++
 tests/twisted/Makefile.am |    6 +++++-
 2 files changed, 19 insertions(+), 1 deletions(-)

commit adbee31c1f2961c0a64f736f3168091a53d53267
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 14 15:19:26 2008 +0000

    move test-disco-no-reply.py to the slow directory
    
    
    20080414151926-7fe3f-afec60336b8645fc0bd30ea18bfcb8ece627795c.gz

 tests/twisted/Makefile.am                 |    2 +-
 tests/twisted/slow/test-disco-no-reply.py |   28 ++++++++++++++++++++++++++++
 tests/twisted/test-disco-no-reply.py      |   28 ----------------------------
 3 files changed, 29 insertions(+), 29 deletions(-)

commit d3ee8aa573617d93a4c45f279479a326dc2a5e54
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 14 12:54:52 2008 +0000

    add test-disco-no-reply.py to tests set
    
    
    20080414125452-7fe3f-3f1ebb0efc717277b57d82d63d9efd04fbf1a920.gz

 tests/twisted/Makefile.am |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 6cfc7b2e3ada61d2f94837c0cadd42b3bb42b550
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 14 12:54:34 2008 +0000

    add test-disco-no-reply.py (re-recorded)
    
    
    20080414125434-7fe3f-6562112521e7560cfb0900823b588f4f2fd7521d.gz

 tests/twisted/test-disco-no-reply.py |   28 ++++++++++++++++++++++++++++
 1 files changed, 28 insertions(+), 0 deletions(-)

commit 0f65ee7802167ed831caed4e9a3d1e8c490a7868
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 14 12:45:56 2008 +0000

    gabble-connection: disconnect the connection if we don't receive a reply to the discovery request
    
    
    20080414124556-7fe3f-d0901d4052c6e18eba4cb95a64256cb61a814c1a.gz

 src/gabble-connection.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 34871ca2855fa273e2ed6d17516d6d4b56203803
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 14 12:32:01 2008 +0000

    allow user to define his own event timeout
    
    
    20080414123201-7fe3f-14342aeff9fad0e62ad999533fc8b0b4be7a0f77.gz

 tests/twisted/gabbletest.py  |    4 ++--
 tests/twisted/servicetest.py |   13 ++++++++-----
 2 files changed, 10 insertions(+), 7 deletions(-)

commit 2103d9b67be7e6b24749f221c31f73963f127430
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 14 12:22:22 2008 +0000

    gabbletest.py: allow user to pass his own protocol to exec_test
    
    
    20080414122222-7fe3f-f074025fb04b75dc7e849c17d897413d237aa9d7.gz

 tests/twisted/gabbletest.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 2825f9200a69810acb42ad476373d3fe01fcad94
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Mar 4 21:58:41 2008 +0000

    fix function comment
    
    
    20080304215841-01440-86860ee3a9389175bd45b2cd3baf26f7117bbc4e.gz

 src/conn-avatars.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 1c8129fad6f2b097d58aefd02afa4dd949944db6
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Mar 6 21:59:22 2008 +0000

    when blocking gtalk contacts, discard their presence
    
    
    20080306215922-01440-4927d34d5cb14eb282aee260e5303c5fb647104c.gz

 src/presence-cache.c |   17 +++++++++++++++++
 src/presence-cache.h |    2 ++
 src/roster.c         |    5 +++++
 3 files changed, 24 insertions(+), 0 deletions(-)

commit 980559a914999149c1da7ccf800edbc3b0b822fb
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Mar 11 14:54:40 2008 +0000

    don't try to gracefully avoid a bug if it's there; assert what can't happen, and fix the bug if and when it happens
    
    
    20080311145440-01440-9d98013f425c24723c49ea134d2673f5a858085d.gz

 src/conn-avatars.c |   11 ++++-------
 1 files changed, 4 insertions(+), 7 deletions(-)

commit ddd093a38bcc3e72981a9d5fcab065d6961b1010
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Mar 11 12:34:52 2008 +0000

    _got_self_avatar_for_get_known_avatar_tokens: in the corner case of us starting disconnect right after GetKnownAvatarTokens call but before our own token is known, don't report bogus handle 0 to the user
    
    
    20080311123452-01440-fc38af01af76c87bcd21da49438fbb89cdc869ac.gz

 src/conn-avatars.c |    9 +++++++--
 1 files changed, 7 insertions(+), 2 deletions(-)

commit 0bee4b6a5e3200de631f4f5dcb3a701d7724524a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Apr 15 14:43:24 2008 +0000

    Fix Copyright
    
    
    20080415144324-a41c0-2c13eaa8e990d46d0a3232bcaa95baf6943c04f8.gz

 src/tube-dbus.c   |    2 +-
 src/tube-iface.c  |    2 +-
 src/tube-stream.c |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 0bf5d247096639d4faacdc2e7af4c84cb2bd7996
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Apr 15 11:01:17 2008 +0000

    Coding style
    
    
    20080415110117-a41c0-d1af40fd4c30dc7db4bc003a5e419104d63b2811.gz

 src/tube-dbus.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8351ec0c173aacc1721b9dc71fae01661fe04ebc
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Apr 15 10:52:12 2008 +0000

    Only limit the queue size with MAX_QUEUE_SIZE bytes. No limit on number of D-Bus messages
    
    
    20080415105212-a41c0-34edda876a2ce0212d98f8cadb0be132d3fe816e.gz

 src/tube-dbus.c |   14 +++-----------
 1 files changed, 3 insertions(+), 11 deletions(-)

commit 5e75245b2bc5b1faabd41209118975de2f0e0bf6
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Apr 15 10:45:37 2008 +0000

    Free priv->dbus_msg_queue in _dispose
    
    
    20080415104537-a41c0-5a167a81a6cddbac449447e0fa6537a4ca4b12e5.gz

 src/tube-dbus.c |   13 +++++++++++++
 1 files changed, 13 insertions(+), 0 deletions(-)

commit d33291d457d6569cdd3a2932a318babdb18cbbec
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Tue Apr 15 10:45:17 2008 +0000

    Code style
    
    
    20080415104517-a41c0-a7b78226e5040576fcf926a169c862d86bb44e20.gz

 src/tube-dbus.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 3be42b6c43f3120e9a0e93cae83f063d06138310
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Apr 14 17:46:23 2008 +0000

    Bug #14343: limit the queue to 16 messages and 4MB
    
    
    20080414174623-a41c0-0dcf6bc6b09be15e07bf176f040176217ee3e7d1.gz

 src/tube-dbus.c |   35 ++++++++++++++++++++++++++++-------
 1 files changed, 28 insertions(+), 7 deletions(-)

commit 81d32d93095ccf7b0663e6590f9bbf4d07068bea
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Apr 14 16:47:49 2008 +0000

    Fix coding style
    
    
    20080414164749-a41c0-a60fac3fa81d1b38c5fffa6fa6495f22793ac1b1.gz

 src/tube-dbus.c |   10 ++++++----
 1 files changed, 6 insertions(+), 4 deletions(-)

commit 41f5fe676d36c4fb76cd67b34a880a1f45cdde11
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Apr 14 16:27:27 2008 +0000

    print debug message "deliver" only if we deliver the message to the application
    
    
    20080414162727-a41c0-8f0cc1d0da49af396311a52124e380087054e9e4.gz

 src/tube-dbus.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 8d6cc8a00136b19e3dd80bee70da8111ddd3ebec
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Apr 14 16:16:35 2008 +0000

    Bug #14343: Do not queue more than 16 messages
    
    
    20080414161635-a41c0-2892355560196332edff16127fc96f5ca6208663.gz

 src/tube-dbus.c |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit ccdf6328c2c25ed6dcb986fb4c21e3aee7d361cf
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon Apr 14 16:15:19 2008 +0000

    Bug #14343: Use GSList instead of GList. Do not leak the list.
    
    
    20080414161519-a41c0-4285971956c0e2a39371b2a6af9060328316a166.gz

 src/tube-dbus.c |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit 689eac83933f802be351c24795ccf42f9dc4c414
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Apr 11 15:38:40 2008 +0000

    Fix race in Bug #14343
    
    
    20080411153840-a41c0-1791295ea0041d8ffb9f2a011a995ef0d72d95b2.gz

 src/tube-dbus.c |   40 ++++++++++++++++++++++++++++++++++------
 1 files changed, 34 insertions(+), 6 deletions(-)

commit 847b52dbdf59085241223f99bd850a9f70c63ac1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 14 11:35:49 2008 +0000

    re-enable tests which aren't in any sub directory
    
    
    20080414113549-7fe3f-f2e0d31426386857926bac666674900b137066ea.gz

 tests/twisted/Makefile.am |   10 +++++++++-
 1 files changed, 9 insertions(+), 1 deletions(-)

commit c5337322f2f4992c2863c4f365638a268cac4d4a
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Sat Apr 12 09:30:59 2008 +0000

    When removing a media stream before the initiate is sent, send it if possible
    
    
    20080412093059-93b9a-4f214a41549e24b3eb656d9028acbd9c808a6031.gz

 src/gabble-media-session.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 8f862847a14bed1b225e0f74f472696345f1dba6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 11 14:57:36 2008 +0000

    Nano version 0.7.3.1
    
    
    20080411145736-53eee-b76fffe1c64fdd48a3c65b27310aac9366e9070c.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 26d99ed6e71c162eaf0188a696d7ee9885d8bab8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 11 14:25:55 2008 +0000

    tests/twisted/tools/Makefile.am: clean up correctly
    
    
    20080411142555-53eee-a3ced66d12ef37c5d831f62924de38f09346b7d5.gz

 tests/twisted/tools/Makefile.am |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit e454d74eee3dc5efcc6950b0f67315652e46b24d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 11 14:25:40 2008 +0000

    tests/twisted/Makefile.am: distribute library code
    
    
    20080411142540-53eee-3db97fa0c71328eab2f13c43e156027f31bee24e.gz

 tests/twisted/Makefile.am |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 9666d68d3bd08e4932d0b8413b3cbc02ef507de6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 11 14:25:29 2008 +0000

    _boring: update for new test infrastructure
    
    
    20080411142529-53eee-dcadeea5472a559824fd8c12f363cce8783a7b9b.gz

 _boring |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 3aa9d4e8e194815783945f47171b43cc89b8d2f1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 11 14:17:39 2008 +0000

    tests/twisted/Makefile.am: actually distribute the tests
    
    
    20080411141739-53eee-41e25ef4caf01f4b0a59159706626eea09496dc5.gz

 tests/twisted/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e345c064984b8853005a067091082c2fc5620c4d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 11 14:14:46 2008 +0000

    tests/twisted/Makefile.am: expect with-session-bus.sh in $(srcdir)
    
    
    20080411141446-53eee-6ba6003c468dec414c3e32d178ba2ca88b2f2574.gz

 tests/twisted/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 11a7afbe6087d9afa84a145948bd94e4c54d6150
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 11 14:13:20 2008 +0000

    Distribute with-session-bus.sh
    
    
    20080411141320-53eee-ed1af0482cab6f057b9cc85fc89acc3f0d2f7c8b.gz

 tests/twisted/tools/Makefile.am |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 1e4b81196b1b9e8b7f02644ef085621d912e1626
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 11 14:05:27 2008 +0000

    tests/twisted: recurse into tools
    
    
    20080411140527-53eee-cda503c017895d0e308c5f07a332c4a8bf84b901.gz

 tests/twisted/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit bf3905355876f85099c4f63f1ac9359a78fe56c5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 11 14:00:48 2008 +0000

    Prepare to release version 0.7.3
    
    
    20080411140048-53eee-72e6a8a9a76adf3758def75183d5479a6672196b.gz

 NEWS         |   30 ++++++++++++++++++++++++++++++
 configure.ac |    4 ++--
 2 files changed, 32 insertions(+), 2 deletions(-)

commit fddd754f6e8e8ff9d8d6c4c902d9d23b443f1360
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Apr 11 02:01:02 2008 +0000

    correct comment
    
    
    20080411020102-418b8-15c6d8fe6f5dde1b72aed38dfc6682ef349b9dd4.gz

 src/gabble-media-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit fa50d73c94e0251059c9b8567839ed03e4842c7f
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Apr 11 00:44:44 2008 +0000

    fix thinko with going to HELD when channel's streams are all UNHELD
    
    
    20080411004444-418b8-7944ff956663afa5dee274730474cb07cfb8f325.gz

 src/gabble-media-channel.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit a6581c50fb711317696646a793fac1a733f27a08
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 4 17:29:24 2008 +0000

    Update jingle/hold-av.py to new Hold draft
    
    
    20080404172924-53eee-6d1f07d4d66ca6d51206adb99bed6786e58f041e.gz

 tests/twisted/jingle/hold-av.py |  250 ++++++++++++++++++++++++++-------------
 1 files changed, 168 insertions(+), 82 deletions(-)

commit 16bf2ea9e9ddfd0e58f596473ba10e7dd55d26e3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 4 17:21:26 2008 +0000

    jingle/hold-audio.py: update to new Hold draft, and include a test case for a failed attempt to unhold
    
    
    20080404172126-53eee-5d82dff92b5a8ed06a28cf88ef9bbcecd1500345.gz

 tests/twisted/jingle/hold-audio.py |  176 ++++++++++++++++++++++--------------
 1 files changed, 108 insertions(+), 68 deletions(-)

commit fbb51e719f56198809c874124814168399558075
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 4 17:21:12 2008 +0000

    jingle/hold-audio.py: add some useful constants for the new Hold draft
    
    
    20080404172112-53eee-c37111eb83b18dcfe022a5a513e440b1536163b7.gz

 tests/twisted/jingle/hold-audio.py |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit b38523ab814e35ff3453b7d460adb50b42ffa3f1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 4 17:20:57 2008 +0000

    GabbleMediaChannel: update to new Hold draft
    
    
    20080404172057-53eee-b2cf8c3b008bdbaf2e0e403d7f9315acdfa50933.gz

 src/gabble-media-channel.c |  319 +++++++++++++++++++-------------------------
 1 files changed, 136 insertions(+), 183 deletions(-)

commit 449e657af4dfadd7b3a141768fbc28186aea6f47
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 4 15:57:01 2008 +0000

    Update Hold spec from tp-spec-smcv-hold branch
    
    
    20080404155701-53eee-559a6234f52a0513112bf2805bb97cdd6f1650bf.gz

 extensions/Channel_Interface_Hold.xml |  151 ++++++++++++++++++++++++++++++---
 1 files changed, 137 insertions(+), 14 deletions(-)

commit f24c36874a49272c9900e3155b1328b1e340c9cb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 3 16:44:37 2008 +0000

    #ifdef out the CallState interface so we don't need to depend on tp-glib 0.7.6
    
    Our stub implementation is a bit misleading anyway (it might make people think
    we will actually ever signal a non-empty call state).
    
    20080403164437-53eee-5bc9c5760a68740eb6781eb267ca7028fb1341a0.gz

 src/gabble-media-channel.c |   16 ++++++++++++++--
 1 files changed, 14 insertions(+), 2 deletions(-)

commit 4dbc8c78320b23d9c373b94bd91fa32618a0561d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 3 16:44:00 2008 +0000

    Use our private copy of the draft Hold spec rather than assuming telepathy-glib will have it
    
    
    20080403164400-53eee-9bab15cea55a8e9c2cd1f0b1ff318ab06267daff.gz

 src/gabble-media-channel.c |   25 +++++++++++++------------
 1 files changed, 13 insertions(+), 12 deletions(-)

commit 672d865044bc1efdecfed79648526acf8c0d40a2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 3 16:42:33 2008 +0000

    extensions/Makefile.am: make everything depend on Makefile.am so if we change the rules, files will be regenerated correctly
    
    
    20080403164233-53eee-8f3a8ab97ecece6b0ee6822ee20ce2be245258bd.gz

 extensions/Makefile.am |   17 +++++++++++------
 1 files changed, 11 insertions(+), 6 deletions(-)

commit 5b9939813dc2505e244f864d6c69503188684954
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 3 16:41:40 2008 +0000

    Add the current (spec 0.17.3) draft of the Hold interface as an extension
    
    
    20080403164140-53eee-8d84c595bc7df71eb309a4e479ef447cd9c7ae06.gz

 extensions/Channel_Interface_Hold.xml |   92 +++++++++++++++++++++++++++++++++
 extensions/Makefile.am                |    1 +
 extensions/all.xml                    |    1 +
 3 files changed, 94 insertions(+), 0 deletions(-)

commit 6853e55599b6b5dc744492eeb71cf3e62d20243a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 1 19:22:40 2008 +0000

    Add hold-av test to Makefile.am
    
    
    20080401192240-53eee-974e5619462652aa4e7e683f890c584f28a4cb0a.gz

 tests/twisted/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit af070bc4e0e891682d2389baa1452e7984239b7c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 1 19:13:06 2008 +0000

    Reverse debug strings for timeout acquiring/releasing resources so they're the right way round
    
    
    20080401191306-53eee-fa5cf83cb9cc6e12a1e8206b587d837cb9665070.gz

 src/gabble-media-channel.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit d91deab503a4700473f3a3ddf2a7f738df03da38
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 31 10:21:14 2008 +0000

    hold-av: add tests equivalent to hold-audio
    
    
    20080331102114-53eee-f3c1cc59cd69f3866075a8c7eb61bda1b347153b.gz

 tests/twisted/jingle/hold-av.py |  129 ++++++++++++++++++++++++++++++++++++++-
 1 files changed, 127 insertions(+), 2 deletions(-)

commit 1b1adfb26fa2e94a14a57dfdc2e6545e7d5f2a81
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 31 10:21:11 2008 +0000

    hold-av: remove excess debug
    
    
    20080331102111-53eee-7afa5db50f44068b6be26f679159ff9356b87df8.gz

 tests/twisted/jingle/hold-av.py |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit 95cceb4090e5287db755e0dbd04cd1925639ccb0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 31 10:19:46 2008 +0000

    GabbleMediaChannel: fix alteration of priv->hold_state when moving from semi-held to unheld state
    
    
    20080331101946-53eee-98b2c661214218a574ab24cd3b3b424668e5f01e.gz

 src/gabble-media-channel.c |   10 ++++++++--
 1 files changed, 8 insertions(+), 2 deletions(-)

commit 3abca2c84e5b38bc36948399668e3feea56d4919
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 31 10:19:22 2008 +0000

    GabbleMediaChannel: add some more debug for hold
    
    
    20080331101922-53eee-03ec728d984ad0ed2ec8235b77c0966c8e6d260f.gz

 src/gabble-media-channel.c |   34 ++++++++++++++++++++++++++++++----
 1 files changed, 30 insertions(+), 4 deletions(-)

commit 82b2d7f2258773167a242428c23b13d586b264a4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 27 20:04:37 2008 +0000

    Add basic support for testing video calls
    
    
    20080327200437-53eee-6e1be0dd1a6e7594d5205c739dd60bf521ed1c7b.gz

 tests/twisted/jingle/jingletest.py |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 4e0159c1e0c00cf9ad8cc75b49c6f0de698f4295
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 27 20:04:13 2008 +0000

    Add a partial test for Hold in an audio + video situation
    
    
    20080327200413-53eee-07bf2a98bd7b8ed088481af6b27c606dbbb099fe.gz

 tests/twisted/jingle/hold-av.py |  158 +++++++++++++++++++++++++++++++++++++++
 1 files changed, 158 insertions(+), 0 deletions(-)

commit e01977b1636da86a7559f927ee0955f70168b685
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 27 19:46:51 2008 +0000

    GabbleMediaChannel: implement local hold/unhold functionality
    
    This version hasn't been tested with multiple streams, and doesn't actually do
    any XMPP signalling (our implemented version of Jingle is too old).
    
    20080327194651-53eee-d94888f9bc6bd575c7d7aa4639bcf05fccbe8d20.gz

 src/gabble-media-channel.c |  274 ++++++++++++++++++++++++++++++++++++++++++--
 1 files changed, 266 insertions(+), 8 deletions(-)

commit 25ec554636e066649f821fc56210d515631b51f8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 27 19:45:06 2008 +0000

    GabbleMediaStream: hook up Hold-related API, and add property, signal and gabble_media_stream_hold method so channel can integrate with it
    
    
    20080327194506-53eee-976f507efc4ff72b3499b1a1f7a3783299fbc836.gz

 src/gabble-media-stream.c |   87 +++++++++++++++++++++++++++++++++++++++++++-
 src/gabble-media-stream.h |    1 +
 2 files changed, 86 insertions(+), 2 deletions(-)

commit ec48fd7bd29497819eee9b4b0936e350353d91d1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 27 19:44:11 2008 +0000

    Add a regression test for holding a one-stream audio call
    
    
    20080327194411-53eee-f56bbb606fbef3d1080199d62a11afc3e5c242b9.gz

 tests/twisted/Makefile.am          |    1 +
 tests/twisted/jingle/hold-audio.py |  238 ++++++++++++++++++++++++++++++++++++
 2 files changed, 239 insertions(+), 0 deletions(-)

commit e5173c87fb2bba8f7aebe74da3d651008136a250
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 27 15:40:24 2008 +0000

    GabbleMediaChannel: simplify priv access
    
    
    20080327154024-53eee-4447b787b7575475bc52677a11151ba324334bd4.gz

 src/gabble-media-channel.c |    6 +-----
 src/gabble-media-channel.h |    3 ++-
 2 files changed, 3 insertions(+), 6 deletions(-)

commit 34d6a98cd6544515242bb1c79165f20e1b5fe363
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 26 18:04:41 2008 +0000

    Return from RequestHold correctly
    
    
    20080326180441-53eee-e0036111927584501e5c33de55ab86977a02a13f.gz

 src/gabble-media-channel.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit e793f0c8d93a7d3b3ed1657bceb95d0ba889e6b3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 26 13:29:41 2008 +0000

    GabbleMediaChannel: correct misleading comments in GetHoldState, RequestHold stubs
    
    
    20080326132941-53eee-2b482087e989bf3726ee7d11412a3aad3309ba02.gz

 src/gabble-media-channel.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 7f87dcdc9e06e652ec24be6ae7b48af05ca84c53
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 25 18:38:28 2008 +0000

    Add stub implementations of Hold and CallState interfaces
    
    
    20080325183828-53eee-f634cb8e943157ea3e5444f31ffa69323d5b035a.gz

 src/gabble-media-channel.c |   72 ++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 72 insertions(+), 0 deletions(-)

commit 357cc7fbe100d1cf259885eef9b94e9b176ad05e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 10 11:05:29 2008 +0000

    _gabble_connection_connect: Wrap "else" body in {} to be consistent with "if" body
    
    
    20080410110529-53eee-a44f67e92606aea4e7f797a8118721da77c12636.gz

 src/gabble-connection.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 27ea2c90a32a21bb6ac899e4253dbdcc410e4450
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 9 12:51:26 2008 +0000

    Don't #ifdef Loudmouth >= 1.3.2 features, just enable them, now we have a hard dependency
    
    
    20080409125126-53eee-1111fc07c3cd25b15772213627898d8ee0093d83.gz

 configure.ac            |    5 -----
 src/gabble-connection.c |   16 ----------------
 2 files changed, 0 insertions(+), 21 deletions(-)

commit f9f54480bff480ac2d593adcaa122fb2dca69967
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 9 12:51:09 2008 +0000

    Add hard dependency on Loudmouth 1.3.2
    
    
    20080409125109-53eee-dff3b7ec6b691ff7fab10ddc2c16dedbeb40f21f.gz

 configure.ac |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 6a5c4af07a29b20240a1de80fbb87faae4ee4b8c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 4 12:18:09 2008 +0000

    Minor coding style fix in main()
    
    
    20080404121809-53eee-837cafb6c24470f3bb90ed9e93643365369333ae.gz

 src/gabble.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c3481f8d24cab2f3140615662588a3620ccd3c19
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 4 12:17:51 2008 +0000

    Fix one remaining use of HAVE_TP_DEBUG_SET_FLAGS
    
    
    20080404121751-53eee-9e897c233fb1527ae2280598026b2aee74ce8749.gz

 src/gabble.c |   12 ++----------
 1 files changed, 2 insertions(+), 10 deletions(-)

commit f01c356d21a939df39289693e380579656768981
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 4 12:14:47 2008 +0000

    Stop supporting telepathy-glib < 0.7.0
    
    
    20080404121447-53eee-01b6139c530b14e4c0958833af2467edcca1422b.gz

 configure.ac    |   14 +-------------
 src/conn-olpc.c |    1 +
 src/debug.c     |    8 ++------
 src/util.c      |   50 --------------------------------------------------
 src/util.h      |    6 ------
 5 files changed, 4 insertions(+), 75 deletions(-)

commit 8acd0d32191298a9e5111c3fc1722d51319ff963
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 4 12:30:29 2008 +0000

    tests/twisted/jingle/test-incoming-call.py: disable, not reliable
    
    
    20080404123029-53eee-08cc709992ee74f99230c8c30ea9b357daabba98.gz

 tests/twisted/jingle/test-incoming-call.py |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 9bb55d6b762f17b48dcae1d71b77b1c7ab62a0a9
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Apr 2 13:17:30 2008 +0000

    rearranged coding style check injection and fixed typo in exec-with-log.sh.in
    
    
    20080402131730-01440-73fc63c0753045f5c6d3e574845ae6285d060b9e.gz

 tests/twisted/Makefile.am               |    3 ++-
 tests/twisted/tools/exec-with-log.sh.in |    4 ++--
 tools/check-coding-style.mk             |    4 +++-
 3 files changed, 7 insertions(+), 4 deletions(-)

commit 852789c86b9503aebb51dc528c7ebaed7ae73f9f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 27 19:43:42 2008 +0000

    Fix up invocation of Twisted tests
    
    
    20080327194342-53eee-6e23afe819300705ddf3b57d23cd57c9669b6f23.gz

 tests/twisted/Makefile.am |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit b64c8481a10e2efdffd41063f8bebf5b5d7c27b8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 27 17:44:47 2008 +0000

    Knock out vCard torture test
    
    
    20080327174447-53eee-c51af9c7fafd727fc008f5c57a3c371ebbb2b64d.gz

 tests/twisted/Makefile.am |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit acf01dbc046d6837d388f335cc4e76a73876710e
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Mar 27 17:47:40 2008 +0000

    fixes in configure.ac and Makefile.am's related to twisted tests
    
    
    20080327174740-01440-fe0b13c11c0876ba7d6db87ac26f3ea91e862985.gz

 configure.ac              |    5 ++---
 tests/Makefile.am         |    5 ++++-
 tests/twisted/Makefile.am |    1 +
 3 files changed, 7 insertions(+), 4 deletions(-)

commit bc3f12d7348fb427febf27309852e90ba5e04853
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Mar 25 16:47:19 2008 +0000

    improved autoconf-fu for twisted tests
    
    
    20080325164719-01440-6cb5bed19736a8513b1d40444514b0babfd55535.gz

 configure.ac              |   13 ++++++-------
 tests/twisted/Makefile.am |    2 +-
 2 files changed, 7 insertions(+), 8 deletions(-)

commit 7a2578640dfc32a5e90564eff2a1b1fe6c61c6aa
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Mar 25 15:04:21 2008 +0000

    twisted tests are executed in make check only if twisted support is found on the system
    
    
    20080325150421-01440-dc2c7082861f5a93dc2ad659287b004b1943a5fd.gz

 configure.ac      |   12 ++++++++++++
 tests/Makefile.am |    2 +-
 2 files changed, 13 insertions(+), 1 deletions(-)

commit e009a31c545c9074d9e12e43a586405901f43910
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Mar 25 14:50:59 2008 +0000

    removed run-with-tmp-session-bus.sh, we use the tp-glib's version (already in tools/)
    
    
    20080325145059-01440-abdc338e16b1eb8a7df569eda6f47eff3e96a733.gz

 tests/twisted/run-with-tmp-session-bus.sh |   49 -----------------------------
 1 files changed, 0 insertions(+), 49 deletions(-)

commit a9f3968d0f89621ca6d6a891e2ce76e344cfdb31
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Mar 25 14:49:31 2008 +0000

    when doing twisted checks, use tools from tools/ subdirectory
    
    
    20080325144931-01440-1351d1423c6c016eefdb8b748fbe9e663732d06c.gz

 configure.ac                                       |    3 +-
 tests/twisted/Makefile.am                          |   28 ++-----------------
 ...p.Telepathy.ConnectionManager.gabble.service.in |    2 +-
 tests/twisted/tools/tmp-session-bus.conf.in        |    2 +-
 4 files changed, 7 insertions(+), 28 deletions(-)

commit d6abe938473b1b61d4f209712b1c74fb2856148b
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Mar 25 14:09:55 2008 +0000

    moved utilities for running twisted tests to tests/twisted/tools
    
    
    20080325140955-01440-56f47b00581c936bfcd15dac3eb26057734e78c5.gz

 tests/twisted/exec-with-log.sh.in                  |   15 ----
 ...p.Telepathy.ConnectionManager.gabble.service.in |    3 -
 tests/twisted/run-with-tmp-session-bus.conf.in     |   30 --------
 tests/twisted/tools/Makefile.am                    |   25 +++++++
 tests/twisted/tools/exec-with-log.sh.in            |   15 ++++
 ...p.Telepathy.ConnectionManager.gabble.service.in |    3 +
 tests/twisted/tools/tmp-session-bus.conf.in        |   30 ++++++++
 tests/twisted/tools/with-session-bus.sh            |   73 ++++++++++++++++++++
 tests/twisted/with-session-bus.sh                  |   73 --------------------
 9 files changed, 146 insertions(+), 121 deletions(-)

commit e3b1c7205d114732aee578a30719e4f7b36a8b6b
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Mar 25 13:53:40 2008 +0000

    simplifying tests/twisted/Makefile.am, changing it to use with-session-bus.sh script
    
    
    20080325135340-01440-3d9c361d574e9484c5940fa5627f8075b3dd9210.gz

 tests/twisted/Makefile.am |   12 +++++++-----
 1 files changed, 7 insertions(+), 5 deletions(-)

commit 9ebe5e9c378542b7280640978e84b9495b8ba355
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Mar 25 13:07:19 2008 +0000

    copied with-session-bus.sh from telepathy-glib sources
    
    
    20080325130719-01440-9660de30c0a567c6cabcb1d2beed548536f11abc.gz

 tests/twisted/with-session-bus.sh |   73 +++++++++++++++++++++++++++++++++++++
 1 files changed, 73 insertions(+), 0 deletions(-)

commit 69a0bcd536f018924b8a6d74cec493e13ec13076
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Mar 20 05:34:58 2008 +0000

    fixed typo
    
    
    20080320053458-01440-df32c031ea98cf0d571b1b4d696a9d0af8ccedba.gz

 tests/twisted/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 65b6991012c53c6f86e83ca55bc9e33d4e164ad5
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Mar 20 05:32:41 2008 +0000

    properly recurse into tests/twisted for make all/clean
    
    
    20080320053241-01440-357c08b135ca0e0101567b24d616cbe6a5974548.gz

 tests/Makefile.am |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit c08d7d271db32667482a83493480193627e408a7
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Mar 20 05:19:14 2008 +0000

    added simple tests for incoming calls, successfull outgoing calls and rejected outgoing calls
    
    
    20080320051914-01440-73ed0c947334e419921ef3b5dc54539467cffeaf.gz

 tests/twisted/Makefile.am                          |    3 +
 tests/twisted/jingle/test-incoming-call.py         |  126 ++++++++++++++++++++
 .../twisted/jingle/test-outgoing-call-rejected.py  |   84 +++++++++++++
 tests/twisted/jingle/test-outgoing-call.py         |   93 ++++++++++++++
 tests/twisted/servicetest.py                       |    6 +
 5 files changed, 312 insertions(+), 0 deletions(-)

commit 093fce0bd0ba8d3f841d40e4c742b16e78da35e9
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Mar 20 05:00:21 2008 +0000

    added support for jingle testing
    
    
    20080320050021-01440-8d137cb0c2977055cf159a386aa24469460ad767.gz

 tests/twisted/jingle/jingletest.py  |  224 +++++++++++++++++++++++++++++++++++
 1 files changed, 224 insertions(+), 0 deletions(-)

commit 15b2ec21015db21557a601e20c0d7f24300b94a8
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Mar 20 04:57:35 2008 +0000

    test code reorganization, step 2: modify makefiles to reflect the new directory structure
    
    
    20080320045735-01440-7f07fda83b5f581235a5421858829f5ec1911a71.gz

 Makefile.am                                        |    2 +-
 tests/Makefile.am                                  |   77 --------------------
 tests/twisted/Makefile.am                          |   15 +----
 ...p.Telepathy.ConnectionManager.gabble.service.in |    2 +-
 tests/twisted/run-with-tmp-session-bus.conf.in     |    2 +-
 5 files changed, 5 insertions(+), 93 deletions(-)

commit f202cf08e9769833d39ce7657292e7ee52455b12
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Mar 20 03:58:09 2008 +0000

    added tests/twisted/Makefile.am
    
    
    20080320035809-01440-f62a3e75b1346bab6dcc4590bd3342ede53dcd48.gz

 configure.ac              |    3 +-
 tests/twisted/Makefile.am |   83 +++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 85 insertions(+), 1 deletions(-)

commit 785c9fac046a443f1f7342d1cef55c8651d90359
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Mar 20 03:51:13 2008 +0000

    test code reorganization, step 1: move related twisted tests into separate subdirectories
    
    
    20080320035113-01440-2be20d697ae6374895b4958b2556fbc1f0f32743.gz

 tests/exec-with-log.sh.in                          |   15 -
 tests/gabbletest.py                                |  340 --------------
 tests/olpc-muc-invitation.py                       |  283 ------------
 tests/olpc-muc-prop-change.py                      |  483 --------------------
 ...p.Telepathy.ConnectionManager.gabble.service.in |    3 -
 tests/run-with-tmp-session-bus.conf.in             |   30 --
 tests/run-with-tmp-session-bus.sh                  |   49 --
 tests/servicetest.py                               |  462 -------------------
 tests/test-alias-empty-vcard.py                    |   50 --
 tests/test-alias-pep.py                            |   48 --
 tests/test-alias.py                                |   54 ---
 tests/test-avatar-async.py                         |   54 ---
 tests/test-avatar-retrieved.py                     |   53 ---
 tests/test-avatar-tokens.py                        |   80 ----
 tests/test-avatar.py                               |   39 --
 tests/test-capabilities.py                         |   92 ----
 tests/test-caps-update.py                          |   59 ---
 tests/test-connect-fail.py                         |   35 --
 tests/test-connect.py                              |   21 -
 tests/test-disco.py                                |   30 --
 tests/test-get-available-tubes.py                  |  111 -----
 tests/test-google-roster.py                        |  145 ------
 tests/test-group-race.py                           |   63 ---
 tests/test-helper.py                               |   84 ----
 tests/test-muc-accept-stream-tube-ibb.py           |  236 ----------
 tests/test-muc-alias.py                            |   88 ----
 tests/test-muc-invitation.py                       |  128 ------
 tests/test-muc-offer-dbus-tube.py                  |  203 --------
 tests/test-muc-offer-stream-tube-ibb.py            |  257 -----------
 tests/test-muc-ownership.py                        |  119 -----
 tests/test-muc-properties.py                       |  146 ------
 tests/test-muc.py                                  |  118 -----
 tests/test-olpc-bundle.py                          |   82 ----
 tests/test-olpc-set-props-preload.py               |   60 ---
 tests/test-register.py                             |   49 --
 tests/test-roster-subscribe.py                     |   77 ---
 tests/test-roster.py                               |   53 ---
 tests/test-save-alias-to-vcard.py                  |   90 ----
 tests/test-set-alias.py                            |   32 --
 tests/test-set-status-idempotence.py               |   77 ---
 tests/test-si-tubes.py                             |  462 -------------------
 tests/test-text-delayed.py                         |   44 --
 tests/test-text-no-body.py                         |   68 ---
 tests/test-text.py                                 |   57 ---
 tests/test-vcard-cache.py                          |  102 ----
 tests/test-vcard-race.py                           |  140 ------
 tests/test-vcard-set-and-get.py                    |  105 -----
 tests/test-vcard-torture.py                        |   57 ---
 tests/twisted/exec-with-log.sh.in                  |   15 +
 tests/twisted/gabbletest.py                        |  340 ++++++++++++++
 tests/twisted/muc/test-muc-invitation.py           |  128 ++++++
 tests/twisted/muc/test-muc-ownership.py            |  119 +++++
 tests/twisted/muc/test-muc-properties.py           |  146 ++++++
 tests/twisted/muc/test-muc.py                      |  118 +++++
 tests/twisted/olpc/olpc-muc-invitation.py          |  283 ++++++++++++
 tests/twisted/olpc/olpc-muc-prop-change.py         |  483 ++++++++++++++++++++
 tests/twisted/olpc/test-olpc-bundle.py             |   82 ++++
 tests/twisted/olpc/test-olpc-set-props-preload.py  |   60 +++
 ...p.Telepathy.ConnectionManager.gabble.service.in |    3 +
 tests/twisted/roster/test-google-roster.py         |  145 ++++++
 tests/twisted/roster/test-roster-subscribe.py      |   77 +++
 tests/twisted/roster/test-roster.py                |   53 +++
 tests/twisted/run-with-tmp-session-bus.conf.in     |   30 ++
 tests/twisted/run-with-tmp-session-bus.sh          |   49 ++
 tests/twisted/servicetest.py                       |  462 +++++++++++++++++++
 tests/twisted/test-capabilities.py                 |   92 ++++
 tests/twisted/test-caps-update.py                  |   59 +++
 tests/twisted/test-connect-fail.py                 |   35 ++
 tests/twisted/test-connect.py                      |   21 +
 tests/twisted/test-disco.py                        |   30 ++
 tests/twisted/test-group-race.py                   |   63 +++
 tests/twisted/test-helper.py                       |   84 ++++
 tests/twisted/test-register.py                     |   49 ++
 tests/twisted/test-set-status-idempotence.py       |   77 +++
 tests/twisted/text/test-text-delayed.py            |   44 ++
 tests/twisted/text/test-text-no-body.py            |   68 +++
 tests/twisted/text/test-text.py                    |   57 +++
 tests/twisted/tubes/test-get-available-tubes.py    |  111 +++++
 .../tubes/test-muc-accept-stream-tube-ibb.py       |  236 ++++++++++
 tests/twisted/tubes/test-muc-offer-dbus-tube.py    |  203 ++++++++
 .../tubes/test-muc-offer-stream-tube-ibb.py        |  257 +++++++++++
 tests/twisted/tubes/test-si-tubes.py               |  462 +++++++++++++++++++
 tests/twisted/vcard/test-alias-empty-vcard.py      |   50 ++
 tests/twisted/vcard/test-alias-pep.py              |   48 ++
 tests/twisted/vcard/test-alias.py                  |   54 +++
 tests/twisted/vcard/test-avatar-async.py           |   54 +++
 tests/twisted/vcard/test-avatar-retrieved.py       |   53 +++
 tests/twisted/vcard/test-avatar-tokens.py          |   80 ++++
 tests/twisted/vcard/test-avatar.py                 |   39 ++
 tests/twisted/vcard/test-muc-alias.py              |   88 ++++
 tests/twisted/vcard/test-save-alias-to-vcard.py    |   90 ++++
 tests/twisted/vcard/test-set-alias.py              |   32 ++
 tests/twisted/vcard/test-vcard-cache.py            |  102 ++++
 tests/twisted/vcard/test-vcard-race.py             |  140 ++++++
 tests/twisted/vcard/test-vcard-set-and-get.py      |  105 +++++
 tests/twisted/vcard/test-vcard-torture.py          |   57 +++
 96 files changed, 5533 insertions(+), 5533 deletions(-)

commit 573f668da4d97f93a436621d73a32f6918336444
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Wed Mar 5 23:35:45 2008 +0000

    gabble_connection_advertise_capabilities: fix previous commit that rename local variable iface to channel_type
    
    
    20080305233545-a41c0-e913ba8005dc92f4c8f866b6c2ec66dc3222c68a.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c6d538df72604e36f39c3ddbea47e747457e759c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 13:10:02 2008 +0000

    Fix minor coding-style nit
    
    
    20080222131002-53eee-a82f4e84d3de97af6201cdd017de16519d319f96.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 99af3664d5f39f5e7f2151967d4f06186e71f7b0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 13:07:10 2008 +0000

    GabbleMucChannel properties_disco_cb: remove unnecessary access to priv
    
    
    20080222130710-53eee-781977cdf1ff3e116cf12f543881365fb62d0aa6.gz

 src/gabble-muc-channel.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit ddcef4f04febd132fd9e6ecf14236fc612b8149d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 13:04:54 2008 +0000

    vcard-manager patch_vcard_foreach: remove unnecessary storage of the return from a function called for its side-effects
    
    
    20080222130454-53eee-bf2bb7ddd49edadfa48202e0976df93940bc7577.gz

 src/vcard-manager.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7986249093500ef2f94f48aa3d09029f03d5e6f1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 13:03:43 2008 +0000

    lm_message_node_add_build_va: remove unreachable code
    
    
    20080222130343-53eee-0d6e137eaa0257bc2eaa5b6912441ba1f7fb35f3.gz

 src/util.c |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit 6c4c9e1ffe1a08e977e88fb531462611c7030460
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 13:02:48 2008 +0000

    GabbleVCardManager delete_request: remove unnecessary call to tp_base_connection_get_handles
    
    
    20080222130248-53eee-f17c3781970141bf99cc0f5b902be4acb0766679.gz

 src/vcard-manager.c |    5 -----
 1 files changed, 0 insertions(+), 5 deletions(-)

commit fb21d7b4cf7528233951459cd3a6caca0085158b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 13:02:09 2008 +0000

    gabble_roster_handle_remove_from_group: Remove unnecessary call to tp_handle_inspect
    
    
    20080222130209-53eee-c4f958658b09138fb19665624e3790a0f54ba95b.gz

 src/roster.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit eaf6fb2a1475ced44bd8938e93178ccbec45428e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:57:32 2008 +0000

    _gabble_media_session_remove_streams: Remove unnecessary store of result of a function called for its side-effects
    
    
    20080222125732-53eee-7c9b329addef322d19866c925d5ffef3bdc5b55a.gz

 src/gabble-media-session.c |    5 +----
 1 files changed, 1 insertions(+), 4 deletions(-)

commit 890d4f16570eb2f88c29e588fa3fa6947adc04d6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:56:17 2008 +0000

    GabbleMediaFactory: remove no-op constructor
    
    
    20080222125617-53eee-b73e5cc8e0f302db2bcd34bea835bf72d2fee76f.gz

 src/media-factory.c |   18 ------------------
 1 files changed, 0 insertions(+), 18 deletions(-)

commit a45436cd714505cb68b38b18762741360137a951
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:55:20 2008 +0000

    Make gabble_disco_dispose, gabble_disco_finalize explicitly static
    
    
    20080222125520-53eee-559fb9f16ccca852ebcd52c3eab32c4992b9fb38.gz

 src/disco.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 932addfb3346edcd9ac77b82eee2dcc46253bd3a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:51:03 2008 +0000

    Compile with -Wdeclaration-after-statement -Wshadow -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations, if available
    
    
    20080222125103-53eee-7abe8ba29223e391760c86350bd1708bbe69e21e.gz

 configure.ac |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 5d390ed0c4aa7c70086c30786cc9723e09c60dd8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:48:28 2008 +0000

    Don't produce _gabble_media_session_debug unless ENABLE_DEBUG
    
    
    20080222124828-53eee-11e93cbed4f666dbb3a514ae53e6e1d7237916b5.gz

 src/gabble-media-session.c |    2 +-
 src/gabble-media-session.h |    6 ++----
 2 files changed, 3 insertions(+), 5 deletions(-)

commit 2ceb20482babc823b86e081d93c096d1a751b6a6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:37:42 2008 +0000

    Remove empty statement from GABBLE_ROSTER_GET_PRIVATE
    
    
    20080222123742-53eee-4415472efcb7fed4f0fc2312eedb6b9488ea7fdc.gz

 src/roster.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 74170a016edca3a2095720a966d75df99206d0b8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:37:08 2008 +0000

    Remove empty statement from accessor macro
    
    
    20080222123708-53eee-54f826f26020894e6061069f4a5940ab7a9e0ae8.gz

 src/request-pipeline.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a27329ef9927840b3457fe6eb61a8e56e0b80279
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:34:28 2008 +0000

    gabble_media_factory_iface_close_all: fix mixed code/declarations
    
    
    20080222123428-53eee-a9421d4498606bfbd7b78b90419cfc86309e2f20.gz

 src/media-factory.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 08ae199bbc9c0777dd405e8e0a9eb30dc55e619f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:33:49 2008 +0000

    gabble_disco_conn_status_changed_cb: fix mixed code/declarations
    
    
    20080222123349-53eee-aad511f34a2e4bc2ede1ec36640301fc86fd9d2f.gz

 src/disco.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 1766631b743e786c80490f69eaf247d0399d26f9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:32:10 2008 +0000

    Remove empty statement in definition of GABBLE_DISCO_GET_PRIVATE that caused -Wdeclaration-after-statement warnings
    
    
    20080222123210-53eee-88bcec1324f6e250b6c4920203d52d014ef0e40a.gz

 src/disco.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3436eb4527234bc468c4f2812850c4462b394592
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:28:41 2008 +0000

    test-handles: make test_handles static
    
    
    20080222122841-53eee-f7060eb6388a8f9f0f2833541ce4501354cb77e6.gz

 tests/test-handles.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit ca9dad3605b910a1e6a49a73b48423813fba66cb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:28:07 2008 +0000

    vcard-manager get_error_from_pipeline_reply: make static
    
    
    20080222122807-53eee-5ecfde1c2b65b2bff76e3eacbc7abec2bcb43dd4.gz

 src/vcard-manager.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 1d1061edc3cdd8bc23adedd13b2039b8dfb58652
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:27:42 2008 +0000

    lm_message_node_add_build_va: don't shadow argument with local variable
    
    
    20080222122742-53eee-757da80322daabce744379e5a4b5e72878d11774.gz

 src/util.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 5598cad0a2d7ec55248c9a39347c6e26487e31a1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:27:14 2008 +0000

    gabble_tubes_channel_get_available_stream_tube_types: rename access to access_control to avoid shadowing access(3)
    
    
    20080222122714-53eee-257094a1c638e6ea97d64a9f63c8187caf781425.gz

 src/tubes-channel.c |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit 6efa0cd7e2c40809fc4990b0e2012696ea574ee5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:26:56 2008 +0000

    gabble_tubes_channel_accept_stream_tube: if accepting fails, don't leak the GError
    
    
    20080222122656-53eee-235775b5790a7637600fcd2280c0602727043ecb.gz

 src/tubes-channel.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 18eced88f442bb93b4096073e08b3affe88ec3dd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:25:55 2008 +0000

    gabble_tubes_channel_accept_stream_tube: remove redundant GError* variable
    
    
    20080222122555-53eee-bc3f044299a989793e7cf74f53b13754aa121290.gz

 src/tubes-channel.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit e5150fd7ddcea2c0198dcb95385658ae3b684fac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:25:24 2008 +0000

    gabble_tubes_channel_accept_d_bus_tube: if virtual accept method fails, don't leak the GError
    
    
    20080222122524-53eee-f52e63c0ce1a9920d7fd80a2014b9977b80cc260.gz

 src/tubes-channel.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 2763ce6297312a92aa10fd7acaf0d92b73023783
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:23:46 2008 +0000

    tubes-channel: avoid shadowing GError *error with GError e
    
    
    20080222122346-53eee-58f8bdbe5546d877e58bdaa15a6d9941ca918160.gz

 src/tubes-channel.c |   54 +++++++++++++++++++++-----------------------------
 1 files changed, 23 insertions(+), 31 deletions(-)

commit 0a2d1a0bff1adf4cfcd33e13960316369d352b7a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:16:57 2008 +0000

    tubes-channel tube_msg_close: remove redundant GError variable
    
    
    20080222121657-53eee-dd2a87caa294a46c031917dbad9699e1b5f19774.gz

 src/tubes-channel.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 8ec06db5ce70c497bacf93bfd97a1e1227ae8a17
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:16:38 2008 +0000

    gabble_tubes_channel_presence_updated: remove redundant variables
    
    
    20080222121638-53eee-afc2263cca6cdfe72cd522dce14824746d1b9510.gz

 src/tubes-channel.c |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit d1e91806267292099dd8e02836678e9daa71551c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:16:07 2008 +0000

    gabble_tubes_channel_presence_updated: skip to next <tube> if tube ID is bad
    
    
    20080222121607-53eee-58c3d33c7f550c2fa801848068010ba3fabdc2b7.gz

 src/tubes-channel.c |    9 +++++++--
 1 files changed, 7 insertions(+), 2 deletions(-)

commit da64f986ab04d819f7ecc51668a2b6ec8f851f6e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:15:18 2008 +0000

    tube-channel: make create_new_tube, tube_msg_close static
    
    
    20080222121518-53eee-0c6c5f89526749f616dd73b2a82699bd5066e5ba.gz

 src/tubes-channel.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 29474ef208d99e65809a20eed5e8934a45d79055
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:14:57 2008 +0000

    tube-stream check_unix_params: rename socket to socket_address to avoid shadowing socket(2)
    
    
    20080222121457-53eee-3d4a87771de6013d3e70d1e0eca5309a1da75b9c.gz

 src/tube-stream.c |   18 +++++++++---------
 1 files changed, 9 insertions(+), 9 deletions(-)

commit f1568e421457cb059c916cbc9180fa24600a86e3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:14:36 2008 +0000

    tube-stream: make data_to_read_on_socket_cb, listen_cb static
    
    
    20080222121436-53eee-cf49f43feb0c699b9b520f27fb676b7d4da0b012.gz

 src/tube-stream.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 5bcb719f2cb15f26cc3984e1cc4d5aab21bd19b6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:12:43 2008 +0000

    gabble_tube_dbus_dispose: avoid redundant call to tp_base_connection_get_handles
    
    
    20080222121243-53eee-cab918e016952aeda39bb5b5da10029c928bd046.gz

 src/tube-dbus.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 09fc7f7c45b7c12444e7e1349d04b1af4237e3f0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:12:17 2008 +0000

    gabble_presence_update: avoid shadowing
    
    
    20080222121217-53eee-7becdfca60aa20d59607bf1ee80f04ae49b2575c.gz

 src/presence.c |   16 +++++++---------
 1 files changed, 7 insertions(+), 9 deletions(-)

commit 60e50ea5f45f2e09ebe5f8cbb91b8a3020d683a9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:11:55 2008 +0000

    presence-cache _caps_disco_cb: avoid shadowing
    
    
    20080222121155-53eee-8973bb668c7c8c9f21043550e2a7dc6088ce5339.gz

 src/presence-cache.c |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit 119d99c6ca345dc669b3d863174914cc12f20f21
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:11:32 2008 +0000

    media-factory jingle_info_iq_callback: make static
    
    
    20080222121132-53eee-d4ef0ce343129ff30f853baf57c8e7020f05d205.gz

 src/media-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b7e725e163a50c2661f257ba19c4bff8af05d92b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:11:07 2008 +0000

    gabble-muc-channel: when error is a boolean, rename it to is_error to avoid shadowing a GError
    
    
    20080222121107-53eee-b857f665f3d677f2ef42aa7b779c07a14e34f05d.gz

 src/gabble-muc-channel.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit 332e844fb3319dc3b4c3ae0755f9e11cba2c0c1f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:10:49 2008 +0000

    change_password_flags: rename remove to del to avoid shadowing remove(3)
    
    
    20080222121049-53eee-56a5068990182cb67a2f5dc54a3c2d4d654caa7c.gz

 src/gabble-muc-channel.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 9547d213314bb090c021200b318437cdfc3e9407
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:09:42 2008 +0000

    gabble-media-session _add_ready_new_streams: add a couple more assertions to make it clearer (or less murky) why the code isn't as buggy as it looks
    
    
    20080222120942-53eee-28439e7c20feb5b8d59b20621e8f9734aec5ce6f.gz

 src/gabble-media-session.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit b7971fdb3fd5156cb92118f1b9527965ee610d5a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:08:54 2008 +0000

    gabble-media-session: make _add_ready_new_streams static
    
    
    20080222120854-53eee-c2f1657150e5b17f1ce8646f7002174b2c5b09e7.gz

 src/gabble-media-session.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 933e908a946ccf1a122e21295111990a60eabd1d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:08:13 2008 +0000

    room_jid_verify: rename parameter index to i to avoid shadowing index(3)
    
    
    20080222120813-53eee-64f4ee4d855b42b6dc6c81b1ceb0e695956bd168.gz

 src/gabble-connection.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit b637e7b365f5e6bbf2743b9b0ce21b3f2fe775a8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:06:01 2008 +0000

    gabble_connection_advertise_capabilities: rename local variable iface to channel_type, to be more descriptive and avoid shadowing a parameter
    
    
    20080222120601-53eee-6334779886bd1187058e5c99353ecd186912c92c.gz

 src/gabble-connection.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit d9e8294b39e7b975d6d4ebf114d61581b7611a30
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:04:15 2008 +0000

    gabble_connection_advertise_capabilities: rename remove parameter to del to avoid shadowing remove(3)
    
    
    20080222120415-53eee-e35618721f05ea9a7ddd5572537d9f5aeaf3f111.gz

 src/gabble-connection.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 4f26ae4f3bb46da0b532e22c285e1c63642037b2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:03:34 2008 +0000

    _emit_capabilities_changed: rename variables for clarity and to avoid shadowing
    
    
    20080222120334-53eee-ea662a3c9e3a337cfefa54ecf67507d2c5a96cce.gz

 src/gabble-connection.c |   18 +++++++++---------
 1 files changed, 9 insertions(+), 9 deletions(-)

commit 9792e11beded4d51e7a05a2151440daaa324fb71
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:03:26 2008 +0000

    connection_iq_disco_cb: fix shadowing for clarity
    
    
    20080222120326-53eee-94230cbcab9d99681a2aef8ec3bd388616334bfd.gz

 src/gabble-connection.c |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit 4eba6d7c593899c577082001c07b126cb5b0fe80
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 12:02:11 2008 +0000

    gabble_disco_dispose: remove unnecessary call to tp_get_bus_proxy()
    
    
    20080222120211-53eee-860918d20021951e202c99ac853f5265c5b794a3.gz

 src/disco.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit fd0cf51ccd1ddcbf3cb5943d0c7636321caed27c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 11:50:36 2008 +0000

    src/Makefile.am: generate gabble-signals-marshal.c in a way that works with -Wmissing-declarations -Wmissing-prototypes.
    
    Also remove a couple of unused rules.
    
    20080222115036-53eee-57e860ae0ed3a16bd268d131bf5aa35f87db272f.gz

 src/Makefile.am |   17 ++++++-----------
 1 files changed, 6 insertions(+), 11 deletions(-)

commit 3b27d8ec9eb153f134c750905fa1ccc9feadcd58
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 11:48:39 2008 +0000

    debug.h: give gabble_debug_set_flags_from_env a proper declaration
    
    
    20080222114839-53eee-9eaa779d429dd9f1fb02fd657ff7da0bb377b9b7.gz

 src/debug.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f706a2c4ae72ec00f4f2b8b6d0d27b29eddbc58e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 11:48:10 2008 +0000

    conn-presence set_own_status_cb: avoid confusing shadowing
    
    
    20080222114810-53eee-04890c9b982104249139e41ab22827182a767d64.gz

 src/conn-presence.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 98720a2874299c84e424e8e529c2445e925c42ed
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 11:46:05 2008 +0000

    olpc_buddy_info_set_activities: remove redundant declaration of GError *error
    
    
    20080222114605-53eee-748a3ca6f0bf57744f9ae6fc91ba2a91b70aa5d5.gz

 src/conn-olpc.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c1d6dd25fa9e189e3dfb7ff7b29fad9c7c62afce
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 11:45:38 2008 +0000

    conn-olpc: remove redundant call to tp_base_connection_get_handles (already called at function scope)
    
    
    20080222114538-53eee-839117752a4d2f5b02701fcb47e0434957835bb7.gz

 src/conn-olpc.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 82cf46c57c8047d03658bfe57a3c66500514d8b1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 11:45:22 2008 +0000

    conn-olpc: make quark-generating functions static
    
    
    20080222114522-53eee-bce6ae49ae98796d370b6186891fbd93890284b7.gz

 src/conn-olpc.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 5fae8ae2845f2e665b6d817c28495fb8abf26178
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 11:45:00 2008 +0000

    conn-avatars: make gabble_connection_clear_avatar static
    
    
    20080222114500-53eee-8fca2d1269d08b1f88d9a6949ecbcfd786df8622.gz

 src/conn-avatars.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a51a6e9dc81431f0e845b9d04e4c06c53fb6be6c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 11:44:22 2008 +0000

    capabilities.h: fix indentation, make capabilities_get_initial_caps a proper declaration by s/()/(void)/
    
    
    20080222114422-53eee-93d620c98a97728d5681f55a3d5954697fc035f7.gz

 src/capabilities.h |    9 +++------
 1 files changed, 3 insertions(+), 6 deletions(-)

commit dec2a450cc5a5dd9ce4fb298551b8273461f2f8b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 11:44:02 2008 +0000

    bytestream-factory: make bytestream_id_* static
    
    
    20080222114402-53eee-bf456c31085acc80d7b5a8ed8bab492013490362.gz

 src/bytestream-factory.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 8be12063335d0211395a5af1bffb3b672e87d075
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Feb 22 11:42:08 2008 +0000

    extensions/Makefile.am: generate signals-marshal.c in a way that works with -Wmissing-declarations -Wmissing-prototypes
    
    
    20080222114208-53eee-a5b558971fa148d092e78eb608b46645d7c12637.gz

 extensions/Makefile.am |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit 37dd4cf8014b0a7c59c13f0315ee00705302c586
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Feb 22 15:25:35 2008 +0000

    refactor Ready function to avoid goto
    
    
    20080222152535-418b8-1eb29ad7bb2cfd0dd30b0295525493810ce0e460.gz

 src/gabble-media-session.c |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit a09fa0712475e7e613f2adddede1e089ae2cb9aa
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Feb 22 15:00:57 2008 +0000

    don't emit NewStreamHandler signals multiple times if Ready is called multiple times on the SessionHandler
    
    
    20080222150057-418b8-00fa54b373e33c44b135945c9f70f21bac8b8040.gz

 src/gabble-media-session.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 933a03544ac1ac671eef2cff07692b1d79760d18
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Feb 18 18:25:27 2008 +0000

    fix hardcoded address type in GetStreamTubeAddress
    
    
    20080218182527-418b8-be33fdac9a6a49980661d67ab51bdeac4558cb6f.gz

 src/tubes-channel.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit a9c188bca238f3a841e0966520519f3b7c72ee5e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 18 15:38:24 2008 +0000

    Now that README explicitly says we require GNU make, turn off Automake portability warnings (fd.o #14020)
    
    
    20080218153824-53eee-857a2a4a4a376b93cc60b5db3158852c4c463096.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit bf3b22c06dfb3916fa3375b59d2745f147573856
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 18 15:38:20 2008 +0000

    Fill in README
    
    
    20080218153820-53eee-92b8ffafcc8a8f66dac01d7487b03d87f679ae2b.gz

 README |   78 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 78 insertions(+), 0 deletions(-)

commit 6c511c3017e7556c342e2c20ce3434cd6d931df2
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jan 7 13:19:56 2008 +0000

    port test-connect-fail.py to new test API
    
    
    20080107131956-c9803-ff738e5f14baadd489015e27b4a36e7bd4bc19b8.gz

 tests/twisted/test-connect-fail.py |   30 ++++++------------------------
 1 files changed, 6 insertions(+), 24 deletions(-)

commit fa2a245e15d418e8a9209b73e6857ebfc47455a9
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri May 2 17:04:03 2008 +0000

    ignore second argument passed to streamStarted, for compatibility with Twisted Words 8.0
    
    
    20080502170403-c9803-5126ab783b25a116f074abe11200e2cea49c33b0.gz

 tests/twisted/gabbletest.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit defb15b454b23bad6fa686831fbc74637f625715
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon May 5 09:10:46 2008 +0000

    Remove dead code
    
    
    20080505091046-a41c0-7dcfec1deb6755b0d3fd9788305df7a897fda9bd.gz

 src/disco.h |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit d0b68f586865b2a838ab74d2a15e2f8062642dc8
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Mon May 5 09:10:15 2008 +0000

    Add comment on private-tubes-factory.h
    
    
    20080505091015-a41c0-6aced7d54cf428f36d5570af08b17a24dcc622be.gz

 src/private-tubes-factory.h |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 163938b5bdee8c78727d662dad6c0d4499f5f0f1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri May 2 14:20:18 2008 +0000

    Don't assume that htmldir will be defined (it was added in autoconf 2.59c, which is not in Maemo)
    
    
    20080502142018-53eee-c3e171165a1aaaaad933797b005f32f1e9a42058.gz

 docs/Makefile.am |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 3a02482ec5aaffbd47c4b742ca0f4cccd7e2671e
Author: Olivier Crete <olivier.crete@collabora.co.uk>
Date:   Thu May 1 23:29:41 2008 +0000

    Ignore non-1 components for now
    
    
    20080501232941-3e2dc-87590a9e055ae1c7afe5707b935d0feabb83a9b2.gz

 src/gabble-media-stream.c |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit b8cd17a40456b2f0e88460ed74abe7200caa00ad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 1 18:17:14 2008 +0000

    Nano version
    
    
    20080501181714-53eee-45f0ab6f530668548b99c7b269bbc0133d3eb537.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 509eca34c4e01d0e4fa7be49e80bbbcc769cf891
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 1 18:10:23 2008 +0000

    Prepare release 0.7.4
    
    
    20080501181023-53eee-66e7fd8d0e1d157e12da161ae47796b7e5b52f0f.gz

 NEWS         |    8 +++++++-
 configure.ac |    4 ++--
 2 files changed, 9 insertions(+), 3 deletions(-)

commit 384db5a93d265ba422bbd0b0441f7a2c7e2fd0d0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 1 18:04:47 2008 +0000

    Release weak ref before calling into user code in GabbleDisco, to avoid crashes if the user code causes the weakly reffed object to be destroyed
    
    
    20080501180447-53eee-0ced607caecb1143a9f95c8fe4292d86dc5ec6ee.gz

 src/disco.c |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 40e1269331e940eaf5b4ae017a2131ff39fde6dc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 1 17:31:53 2008 +0000

    GabbleDisco: temporarily ref the disco object while calling out to user code
    
    
    20080501173153-53eee-48e86d834e19bce2deae9c1c58fa47bdf665c12d.gz

 src/disco.c |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit d0ee9b9737b8f187ab2341f0addc21110dc5650d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 1 17:31:36 2008 +0000

    tests/twisted/Makefile.am: consider it to be a failure if Gabble dumps core
    
    
    20080501173136-53eee-458c09915720cbad169d1d43455eafeaa789c907.gz

 tests/twisted/Makefile.am |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 75d9780d4c07c7d1f3e303421eac225ad6ad17bc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 1 17:19:28 2008 +0000

    Update NEWS
    
    
    20080501171928-53eee-83164e8c2bc853d4dc2f93327f02dc97b565c7ce.gz

 NEWS |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 4c709da80430a595971d85a90968b476cfe45bdc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 1 16:53:00 2008 +0000

    Add regression test for fd.o #15198
    
    
    20080501165300-53eee-599ce44459f5848dc12bf1e60a0bd950294e902a.gz

 tests/twisted/test-capabilities.py |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit bc39c83385703aecf45bfa5e1043066b25e47723
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 1 16:43:58 2008 +0000

    After returning an error from gabble_connection_get_capabilities, don't happily carry on regardless (fd.o #15198)
    
    
    20080501164358-53eee-683a93a370cac7d84eb6b8bdd8c441181be00d75.gz

 src/gabble-connection.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 1db81a9bf58bebb8b6ed81e44b2f1ba19c74c2c0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 1 16:34:29 2008 +0000

    When adding ourselves to the local-pending set for an incoming call, make the actor the handle of the caller (fd.o #14806)
    
    
    20080501163429-53eee-8f9032ccbd76c08b32845e22f4e724ebc0a0f893.gz

 src/gabble-media-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f133ea9add37bbc3f1efe1911bec9637b5e75cb6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 1 14:24:18 2008 +0000

    Improve reference to spec in NEWS
    
    
    20080501142418-53eee-47debf2952cd89aa2318a1d5c5f154e171df2a64.gz

 NEWS |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 98601c999058830d344cc3f56bb05d7cefe4497f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 1 14:20:54 2008 +0000

    Update NEWS
    
    
    20080501142054-53eee-d42a5af10da572030cc0fdb2eeaca347fa1745dd.gz

 NEWS |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit a7f9d4ca0f187897e5ff86452474ff58dcd41a26
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 17:17:20 2008 +0000

    test-outgoing-call.py: add a hackish workaround for fd.o#15769 so we don't need to fix it right now
    
    
    20080430171720-53eee-9c0ce3b9e74d604d8c494d3d1da302e78821569f.gz

 tests/twisted/jingle/test-outgoing-call.py |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit 1153f3ac6d2047cb518a99d4259c5d8aba635d48
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 16:23:48 2008 +0000

    test-outgoing-call.py: Don't expect to see a NewSessionHandler until we RequestStreams
    
    
    20080430162348-53eee-91ba72d5ce4419e69de513b96ba8c2f632361711.gz

 tests/twisted/jingle/test-outgoing-call.py |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit 05bea03ccdb995bec444b87e78be6363b7073d44
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 16:04:36 2008 +0000

    test-outgoing-call.py: don't add the peer to the group interface, but instead let them appear when called
    
    
    20080430160436-53eee-d930f355ade10e5d3bd51ea104f9a5e5de1ef39a.gz

 tests/twisted/jingle/test-outgoing-call.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f1559f9aeafe2ecce982f71fc43b9974f0168ee1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 16:03:38 2008 +0000

    test-outgoing-call-deprecated2.py: instead of requesting a call to foo@bar.com, request a new blank channel and invite foo@bar.com
    
    
    20080430160338-53eee-6d28e665185a6bd66d5505b7644f8b062c406c0b.gz

 .../jingle/test-outgoing-call-deprecated2.py       |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit b3394022cd1c0f3cad5b966254eaa06fccabb7ea
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 16:02:31 2008 +0000

    Duplicate tests/twisted/jingle/test-outgoing-call-deprecated.py again, it turns out to have been more deprecated than I thought
    
    
    20080430160231-53eee-7bfbba4ad23d1654dc3d50ef36184dab365cc478.gz

 tests/twisted/Makefile.am                          |    1 +
 .../jingle/test-outgoing-call-deprecated2.py       |   93 ++++++++++++++++++++
 2 files changed, 94 insertions(+), 0 deletions(-)

commit 4808b84c55b5545a5b23a2234753b621f3ed6fbb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 16:01:40 2008 +0000

    Duplicate test-outgoing-call.py as test-outgoing-call-deprecated.py
    
    
    20080430160140-53eee-6ed4f66cbce210ad40b288ced8132f4e41728af6.gz

 tests/twisted/Makefile.am                          |    1 +
 .../jingle/test-outgoing-call-deprecated.py        |   93 ++++++++++++++++++++
 2 files changed, 94 insertions(+), 0 deletions(-)

commit f1ba37205d85cdb55ed130e3dd87201b02e9c2fd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 16:00:26 2008 +0000

    In regression tests, correctly request streams to the other guy, not to ourselves
    
    
    20080430160026-53eee-d78b3e2b8fcf1acebb39537b23cf4c2d55662a20.gz

 tests/twisted/jingle/hold-audio.py                 |    2 +-
 tests/twisted/jingle/hold-av.py                    |    2 +-
 .../twisted/jingle/test-outgoing-call-rejected.py  |    2 +-
 tests/twisted/jingle/test-outgoing-call.py         |    2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit fd0fae17f8b58d81b8474714201044ce3112da7f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 15:49:36 2008 +0000

    GabbleMediaChannel: when session state changes to indicate we have contacted the peer, stuff them into remote-pending if they're not already there
    
    
    20080430154936-53eee-2d7aa01544e874bfe391180351a112118829755d.gz

 src/gabble-media-channel.c |   37 +++++++++++++++++++++++++------------
 1 files changed, 25 insertions(+), 12 deletions(-)

commit cc79381385fa996bdb858606ad01741733ce61be
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 15:49:26 2008 +0000

    Fix variable name
    
    
    20080430154926-53eee-8a1ffc74c87a8f8dce8a6cfd6c38c1a5ac650855.gz

 src/gabble-media-channel.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 16f5749234c89f5356df2c8dee913d0f40e8ab98
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 15:41:39 2008 +0000

    gabble_media_channel_request_streams: don't restrict to only creating streams to a member of the channel (fd.o #14602)
    
    
    20080430154139-53eee-e683b55932e3561aeab7f642ea0c8131b1f9054e.gz

 src/gabble-media-channel.c |    8 --------
 1 files changed, 0 insertions(+), 8 deletions(-)

commit c85575d17ebcb8a59ecbc10ef1ad6f628bf6eb7c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 15:39:59 2008 +0000

    gabble_media_channel_request_streams: lazily create a session if necessary (also simplify error handling)
    
    
    20080430153959-53eee-dd8be2453c6882a1880e7cb8b27d75eb60562889.gz

 src/gabble-media-channel.c |   49 +++++++++++++++++++++++++++++++------------
 1 files changed, 35 insertions(+), 14 deletions(-)

commit d92f9a33f3dac2f7c43bfb6f49992fcbf4c25c4a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 15:32:22 2008 +0000

    GabbleMediaSession: ref the peer handle for the duration. We can't rely on it being reffed by the channel's group interface any more, with telepathy-spec 0.17.3 semantics
    
    
    20080430153222-53eee-1f2bdc70acbce3bda9be817dcf49b8e00fd2b7e4.gz

 src/gabble-media-session.c |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit edfab76d3b3e64d7115b5fe42de379d7a9cd11d2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 15:24:55 2008 +0000

    Allow adding a member to a Media channel if and only if either it has no session, or it has a session and they are the peer
    
    
    20080430152455-53eee-2c9f014685ab6c5d191950c4aecfa378d36632b8.gz

 src/gabble-media-channel.c |   25 ++++++++++++++++++++++---
 1 files changed, 22 insertions(+), 3 deletions(-)

commit ae023d00ca8f9a68a18d3923b7e917cb79f2732c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 15:19:28 2008 +0000

    Move responsibility for checking VoIP capabilities into create_session()
    
    
    20080430151928-53eee-81bab7f32516ddd27b20d0fe418c06954093b8b3.gz

 src/gabble-media-channel.c |   74 ++++++++++++++++++++++---------------------
 1 files changed, 38 insertions(+), 36 deletions(-)

commit 32f0b8105bcf973883569409d415130f8cfa1323
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 15:13:18 2008 +0000

    In _gabble_media_channel_dispatch_session_action, assert that we're not about to cause create_session() to get confused
    
    
    20080430151318-53eee-bd593255b5a8aed05860daf707a890cd1de3ecd7.gz

 src/gabble-media-channel.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 9554d815423b9d289f7b32174fc81aae5bd2b4dc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 15:12:43 2008 +0000

    Have create_session() return a GError; for the moment, assert that it always succeeds
    
    
    20080430151243-53eee-c1d749f549a7757522d0232a6a70163a0eeba738.gz

 src/gabble-media-channel.c |    9 ++++++---
 1 files changed, 6 insertions(+), 3 deletions(-)

commit a19b7773d8d5a00d774880d06d5bc78d5987ba52
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 15:12:30 2008 +0000

    Whitespace
    
    
    20080430151230-53eee-5362b80efed78859d6303b6688ebc365a840cf39.gz

 src/gabble-media-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d4fee4b85e569b39d0ac955dc370e9752a150d83
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 17:46:23 2008 +0000

    ./tests/twisted/vcard/test-muc-alias.py: adjust for #14467 being fixed
    
    
    20080430174623-53eee-2350be998c53808ea72e7722593ab76a12c8c14d.gz

 tests/twisted/vcard/test-muc-alias.py |   17 ++++++++++-------
 1 files changed, 10 insertions(+), 7 deletions(-)

commit 20d2dc4617611eb0da548307ad5129b30beff323
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 17:45:57 2008 +0000

    tests/twisted/tubes/test-muc-*: adjust for #14467 being fixed
    
    
    20080430174557-53eee-b2409a400057d4e58a45d88f59a3a4f15cf0b124.gz

 .../tubes/test-muc-accept-stream-tube-ibb.py       |   13 +++++++------
 tests/twisted/tubes/test-muc-offer-dbus-tube.py    |   13 +++++++------
 .../tubes/test-muc-offer-stream-tube-ibb.py        |   13 +++++++------
 3 files changed, 21 insertions(+), 18 deletions(-)

commit 963269af4202e1da878a2901e0b53fe6652c791d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 17:44:57 2008 +0000

    test-get-available-tubes.py: adjust for #14467 having been fixed
    
    
    20080430174457-53eee-147c7204d62a9a4ddf18a348a4192da3f9fd3ffa.gz

 tests/twisted/tubes/test-get-available-tubes.py |   13 +++++++------
 1 files changed, 7 insertions(+), 6 deletions(-)

commit d071d72c03b100bfe186961bc6a3bd71d5651a87
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 17:40:13 2008 +0000

    Adjust sequence of events in test-muc-ownership.py to assert that group membership is aggregated
    
    
    20080430174013-53eee-6d13c52a9d343b778d9314a9c53cee0b6a9a1e8a.gz

 tests/twisted/muc/test-muc-ownership.py |   43 ++++++++++++++++++-------------
 1 files changed, 25 insertions(+), 18 deletions(-)

commit 4f3525e567be23e4494e69e1b05fb63c74409ada
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 30 17:32:37 2008 +0000

    Amend muc/test-muc.py to match Alban's fix for fd.o #14467
    
    
    20080430173237-53eee-1833bf9b961ebd6f1d9aabd73ee84f90263caefd.gz

 tests/twisted/muc/test-muc.py |   17 ++++++++++-------
 1 files changed, 10 insertions(+), 7 deletions(-)

commit afd33c4ece588cd43f5e48471026cfbcb0df840b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 28 18:02:16 2008 +0000

    Reference Debian #446259 as well as fd.o #12791
    
    
    20080428180216-53eee-222ef3a1910ad25a1485c354e60a03ada7996a86.gz

 NEWS |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 57999c2048a8c10b0cc893543841f26bcaae2f0e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 28 17:57:28 2008 +0000

    Update NEWS with merged changes since 0.7.3
    
    
    20080428175728-53eee-7c3dcda6112f6aff3f9f522db8859a953cb13c6e.gz

 NEWS |   32 ++++++++++++++++++++++++++++++++
 1 files changed, 32 insertions(+), 0 deletions(-)

commit 29e789e98c0c7ac8c3b40a2a6a08b820eecf1917
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 28 16:53:42 2008 +0000

    Amend #12791 regression test to test with what the submitter actually had on their roster, as well as with a garbled roster that the server shouldn't have sent us
    
    
    20080428165342-53eee-2f71e379a51013bdeeb90c5f6077a423f7926aa1.gz

 tests/twisted/roster/groups-12791.py |   25 ++++++++++++++++++-------
 1 files changed, 18 insertions(+), 7 deletions(-)

commit b4bbd99bdfc655def2bb5a68e3aa1361ceec38f2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 28 16:53:23 2008 +0000

    Skip roster <item>s that contain '/' (fd.o #12791)
    
    
    20080428165323-53eee-e9ccb4093493d76266121f5bd4494c22df973752.gz

 src/roster.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 644db8066468d9e14703d68359b3bee9978d921a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 28 16:37:05 2008 +0000

    Add fd.o #12791 regression test back as a separate file
    
    
    20080428163705-53eee-961c527cac0f951f14e682682bd2cac67604449c.gz

 tests/twisted/Makefile.am            |    1 +
 tests/twisted/roster/groups-12791.py |   89 ++++++++++++++++++++++++++++++++++
 2 files changed, 90 insertions(+), 0 deletions(-)

commit 33936e508e6ba21957f25aa3d96daba3e258abf3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 28 16:36:35 2008 +0000

    ./tests/twisted/roster/groups.py: revert addition of #12791 regression test
    
    
    20080428163635-53eee-dfdab263cd49a93baa1664186b39a9f937a90413.gz

 tests/twisted/roster/groups.py |    8 --------
 1 files changed, 0 insertions(+), 8 deletions(-)

commit 55cd8fda2cd2e626e755202e04e613068b988521
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 23 14:30:54 2008 +0000

    roster: ref handles when they are put in a GroupMembershipUpdate (hopefully fixes fd.o #12791)
    
    
    20080423143054-53eee-17a4c68002214507cd30bc2ed5046b5401f8b5c2.gz

 src/roster.c |   49 ++++++++++++++++++++++++++-----------------------
 1 files changed, 26 insertions(+), 23 deletions(-)

commit 46e7b1890145f919b3adcd247b581d1983f3dcb1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 23 14:29:31 2008 +0000

    roster/groups test: include amy's <item> in the roster twice, removing a group the second time (this causes the same crash as fd.o #12791, although it doesn't seem very likely to be the real cause)
    
    
    20080423142931-53eee-8a066770d706e537bed390e5897f2afba673b5bc.gz

 tests/twisted/roster/groups.py |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 424df4157d89af187d63e640ba487eff365aee24
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 23 14:29:10 2008 +0000

    roster/groups test: if assertions fail, print more useful info
    
    
    20080423142910-53eee-58f7dac044c2a51c1e991cab445925d3865e9bd1.gz

 tests/twisted/roster/groups.py |   20 ++++++++++++--------
 1 files changed, 12 insertions(+), 8 deletions(-)

commit 23d2ddd5e30e3b2260ae3578489e882b8654f856
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 23 13:36:03 2008 +0000

    roster: amend comments for GroupMembershipUpdate/GroupsUpdateContext to indicate where things are borrowed from
    
    
    20080423133603-53eee-e8612a4b2aabf07bb6b038e32f6fed8edefcae51.gz

 src/roster.c |    8 ++++++--
 1 files changed, 6 insertions(+), 2 deletions(-)

commit 2d85fdb07aa4d86a68bb3554cb5dddae30f474a4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 23 13:19:41 2008 +0000

    Add a comment to ./tests/twisted/roster/groups.py explaining how fragile it is
    
    
    20080423131941-53eee-b0143cd6c0badec6334b54c460a87dc9aa2bf128.gz

 tests/twisted/roster/groups.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 9eb5d000c26620b1e966a0009a0de042602d318f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 23 13:17:43 2008 +0000

    _gabble_roster_item_update: eliminate unnecessary temporary, old_groups
    
    
    old_groups is slightly misleadingly named - it's a direct pointer to the intset
    underlying item->groups, so its contents change whenever item->groups does.
    (In practice we only used it once, before making any changes.)
    
    20080423131743-53eee-0b3aeadd3136517c2ae4267c440ed2146d1c1110.gz

 src/roster.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit c158c82e696f8448b18c9ed6fd322660427c3665
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 23 11:36:47 2008 +0000

    Add a regression test for roster groups
    
    
    20080423113647-53eee-88f64055934cb5c54613267847ca237a2798143a.gz

 tests/twisted/Makefile.am      |    1 +
 tests/twisted/roster/groups.py |   75 ++++++++++++++++++++++++++++++++++++++++
 2 files changed, 76 insertions(+), 0 deletions(-)

commit a24ca4d67452d287dcfb3f2558766dbd861dbfbd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 23 10:35:10 2008 +0000

    roster: misc stylistic fixes
    
    
    20080423103510-53eee-f628702a67f0a3fa2dc63eb0f18f2cdeb7c0c959.gz

 src/roster.c |   15 ++++++++++-----
 1 files changed, 10 insertions(+), 5 deletions(-)

commit 8af9b5426808a7484721fa30ad03ae66cdd91652
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 23 10:31:34 2008 +0000

    roster: Annotate GroupsUpdateContext, GroupMembershipUpdate with ownership
    
    
    20080423103134-53eee-aafc845df529968b8d450f6858ccdf1e8923135d.gz

 src/roster.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 9df928546d56d7ecfb66e480d61579c38bcc27c4
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   Fri Apr 25 16:36:18 2008 +0000

    Fix Bug 15095 by allowing a MUC presence stanza to be catched by the GabblePresenceCache callback
    
    
    20080425163618-a41c0-1f7775a39c9344f03098f856afe67c9ead5dcdef.gz

 src/muc-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d55886dcf9cb6100d265a2cc645ecba331f2978b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jan 7 13:16:38 2008 +0000

    port test-avatar-async.py to new test API
    
    
    20080107131638-c9803-c90de3d641b8e825cd279344033546005ac0b561.gz

 tests/test-avatar-async.py |  106 ++++++++++----------------------------------
 1 files changed, 24 insertions(+), 82 deletions(-)

commit 1477e6ae45e12e94d2ebae889e5f4b654edd0e66
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jan 7 13:15:15 2008 +0000

    port test-disco.py to new test API
    
    
    20080107131515-c9803-55ceb4b710f899c4855fa5cdbc021f6152ceecd7.gz

 tests/test-disco.py |   48 +++++++++++-------------------------------------
 1 files changed, 11 insertions(+), 37 deletions(-)

commit b04c022ed4ef83acb7614c1cfd3c52727f3a430b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Dec 26 16:57:37 2007 +0000

    port test-avatar.py to new test API
    
    
    20071226165737-c9803-25ec39eddc772fbf9b27ffe6bc92bfc853f9e5c9.gz

 tests/test-avatar.py |   75 ++++++++++++++------------------------------------
 1 files changed, 21 insertions(+), 54 deletions(-)

commit 716c4e666b7d89b4ae053b48bea9b819f2e3b070
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Dec 26 16:35:29 2007 +0000

    port test-roster.py to new test API
    
    
    20071226163529-c9803-b82f1edef3436043c84a3b03e2a466cf989eaa8c.gz

 tests/test-roster.py |   68 +++++++++++++++++--------------------------------
 1 files changed, 24 insertions(+), 44 deletions(-)

commit 6c7b334624f8fdb27f361215e358c66c159615bb
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Dec 26 16:24:04 2007 +0000

    port test-text-delayed.py to new test API
    
    
    20071226162404-c9803-764c3f7199e9c7908799455b9628d606827e2427.gz

 tests/test-text-delayed.py |   63 ++++++++-----------------------------------
 1 files changed, 12 insertions(+), 51 deletions(-)

commit 68d644f441468105527dc4009fa148d170c99137
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Dec 26 16:16:19 2007 +0000

    port test-text.py to new test API
    
    
    20071226161619-c9803-350370e83ef1d8248277aac0be2b03261424ca74.gz

 tests/test-text.py |   70 +++++++++++----------------------------------------
 1 files changed, 15 insertions(+), 55 deletions(-)

commit 1c75dd9a82f9b1ea42d84ba20596439d193b1d37
Author: Marco Barisione <marco@barisione.org>
Date:   Tue Feb 12 12:49:02 2008 +0000

    src/Makefile.am: use POSIX character classes instead of ranges
    
    
    20080212124902-f1355-c618575b0194de8fd8f9eb2b11786afe7494fa42.gz

 src/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2b237ba9d8b83473d6af590f66d8c5c9a30baec3
Author: Marco Barisione <marco@barisione.org>
Date:   Tue Feb 12 12:22:38 2008 +0000

    src/Makefile.am: allow digits in type names while generating marshallers
    
    
    20080212122238-f1355-e041ff3458dd5d8c5c950244e1c5f25cf05a9cae.gz

 src/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2c597d92fcd3b99b098f76f250f0f54f050d7dc3
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Sun Jan 20 13:40:02 2008 +0000

    test-avatar-retrieved.py: check that AvatarRetrieved signal is emitted only once for each contact
    
    
    20080120134002-01440-72ebc06f0d264aa3b52d267161afdc1c5edf3bc0.gz

 tests/Makefile.am              |    3 +-
 tests/test-avatar-retrieved.py |   53 ++++++++++++++++++++++++++++++++++++++++
 2 files changed, 55 insertions(+), 1 deletions(-)

commit e4b426a01120e48e4bd26e4d34443f5f32cec121
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Sun Jan 20 13:37:48 2008 +0000

    conn-avatars.c: emit only one AvatarRetrieved per contact, no matter how many pending requests we had
    
    
    20080120133748-01440-5a014d794b042f04b081694505f091eb6a13171d.gz

 src/conn-avatars.c      |   38 +++++++++++++++++++++++++++++++++-----
 src/gabble-connection.c |    4 ++++
 src/gabble-connection.h |    3 +++
 3 files changed, 40 insertions(+), 5 deletions(-)

commit 0634bf61a29706fb5f245201f6c6921c77781951
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Sat Jan 19 23:11:36 2008 +0000

    _gabble_connection_connect: fixed misleading SRV debug message
    
    
    20080119231136-01440-52362244f359a4edf93e2685e9b7da50bb7ebda8.gz

 src/gabble-connection.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 216655299d79e7b27cf55b03273507c7649e8c9f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jan 9 16:45:45 2008 +0000

    tube-dbus: get_tube_state: replace g_assert_not_reached by g_return_val_if_reached
    
    
    20080109164545-7fe3f-e9687265a26c5dd7f8eb99e60c502ead7cfd7a6b.gz

 src/tube-dbus.c |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit fc8c8e5bc0ad5c6fecd69cf5829f74688d5d1319
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jan 7 10:00:43 2008 +0000

    tube-dbus: get_tube_state: add a g_return_val_if_reached to make facist gcc happy
    
    
    20080107100043-7fe3f-ce28372a96ed941c02bc90547084839b22360af6.gz

 src/tube-dbus.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 0afe5c8cc8c35263ecfdde10634bdb41b5546a3a
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Jan 17 21:40:50 2008 +0000

    Development version 0.7.2.11
    
    
    20080117214050-01440-d3609e1044ea7e1db619caf00e3db979239164fc.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 22ca74a781a8964c2fc136df9dff4d97ada2cc71
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Jan 17 14:05:20 2008 +0000

    version 0.7.2
    
    
    20080117140520-01440-5c7e878c56139287922b6116a146a29969b6bb75.gz

 NEWS         |   52 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 configure.ac |    6 +++---
 2 files changed, 55 insertions(+), 3 deletions(-)

commit fa32638fd4d126efaaeaa2db57fc448b936c4925
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Jan 11 13:47:26 2008 +0000

    correct comment; we don't set the port in this case
    
    
    20080111134726-418b8-205bc81d3c59fc7f6e254f770887c62776319d1f.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 10f188610667dc0c4bb9a2a5a1fb3d36f1c6b853
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Jan 10 22:01:26 2008 +0000

    remove the H263 N800 hack; in light of RFC 4629, the behaviour of not enabling any H263 annexes unless specifically negotiated is in fact entirely correct, and this behaviour is now implemented in recent versions of Farsight when negotiating the H263-1998 payloading
    
    
    20080110220126-418b8-d2d3de9515c0979e5bd31963d316eb585a073ed5.gz

 src/gabble-media-stream.c |   59 ---------------------------------------------
 1 files changed, 0 insertions(+), 59 deletions(-)

commit 43ddd11dfd70f76957ed0754e056cf2a887d5dc8
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Jan 10 21:46:25 2008 +0000

    remove code to enable h263-n800-hack when calling old OS2006 N800s
    
    
    20080110214625-418b8-e27a71b3bb7ae98cf112a2702839a1442eb16bc7.gz

 src/gabble-media-session.c |   16 ----------------
 src/gabble-types.h         |   15 +++++++--------
 2 files changed, 7 insertions(+), 24 deletions(-)

commit 9ce21e44b7eaa7ca4e5f1860aa23bfc4b0d09b38
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Jan 10 21:42:30 2008 +0000

    remove code to detect the N800's OS2006 version of Gabble
    
    
    20080110214230-418b8-f62f9bb1c72f548bb606e14af7ccbd8395d08250.gz

 src/presence-cache.c |   26 --------------------------
 1 files changed, 0 insertions(+), 26 deletions(-)

commit c30f770c1adf3a3c7800a6915e05128cecd30b3e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Jan 10 21:38:37 2008 +0000

    remove Nokia Instant Video specific device registration code
    
    
    20080110213837-418b8-eb378c278436453fc708f885a59bacd5228bcf7d.gz

 src/gabble-connection.c |    2 -
 src/gabble-register.c   |  211 +++--------------------------------------------
 src/namespaces.h        |    2 -
 3 files changed, 12 insertions(+), 203 deletions(-)

commit f6c4f0cabf10c5c33555bfec2c83ab3dfd1426ec
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Jan 10 21:37:39 2008 +0000

    remove 'auth-mac' and 'auth-btid' properties, specific to long-dead Nokia Instant Video Call service
    
    
    20080110213739-418b8-6e4e5150431b9e14a03c2a5ad7790f58cae86e85.gz

 src/gabble-connection-manager.c |   15 ---------------
 src/gabble-connection.c         |   37 -------------------------------------
 2 files changed, 0 insertions(+), 52 deletions(-)

commit 8ded55251085527f93a1e96bbd6089c43205651d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Jan 10 20:12:18 2008 +0000

    don't pass the port in at all if it's not specified, it defaults to 5222 inside loudmouth
    
    
    20080110201218-418b8-108c3143f0a188d4068f3dab693cd104d043e0bc.gz

 src/gabble-connection.c |   19 ++++++-------------
 1 files changed, 6 insertions(+), 13 deletions(-)

commit ae2a9e3a6aae5e6ebc6bccd44ba72b1cb7537c17
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Jan 9 13:32:21 2008 +0000

    if a "server" or "port" parameter are specified, disable SRV lookups and use the given values (falling back to the JID domain for the server, or 5222 for the port, if only one or the other is specified)
    
    
    20080109133221-418b8-b4f6c5ce0125de63c41d3f9ac3237297fc9ca406.gz

 src/gabble-connection.c |   41 ++++++++++++++++++++++++++++-------------
 1 files changed, 28 insertions(+), 13 deletions(-)

commit 845965a4e7ffdde018c55900132097ed907504b9
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Jan 9 13:16:07 2008 +0000

    remove default value for "port" parameter
    
    
    20080109131607-418b8-759ed518434a3af4169d08ab6e9d8c72507a4311.gz

 src/gabble-connection-manager.c |    3 +--
 src/gabble-connection.c         |    4 ++--
 src/gabble-connection.h         |    1 -
 3 files changed, 3 insertions(+), 5 deletions(-)

commit 9075bfdcc105665af3dfa8d792ad32730d98cb2a
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Jan 2 16:48:24 2008 +0000

    if we don't have SRV support in loudmouth, don't defend against the server mysteriously being set anyway
    
    
    20080102164824-418b8-64835720d364a5a880dc2a907ccee2e5002c2c8a.gz

 src/gabble-connection.c |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit 6a52ca9884550e07e4610907c733a80591d3d878
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Jan 2 16:48:07 2008 +0000

    restore old behaviour of taking the server from the JID when old SSL is used, disabling any LM srv lookup code, otherwise the port number will be ignored when making an old SSL connection (fixes fd.o #13816)
    
    
    20080102164807-418b8-cb5202634f09588561b26fdebac2f0865ac05ba1.gz

 src/gabble-connection.c |   10 +++++++++-
 1 files changed, 9 insertions(+), 1 deletions(-)

commit f0da91adafe5ced124cfabb8fe66546abe77a6e8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 3 16:22:34 2008 +0000

    Also fix fd.o #13896 for Tubes channels (separated to make backporting easier)
    
    
    20080103162234-53eee-1c493f335da54b93de7d5653d17661ccd0c9427c.gz

 src/tubes-channel.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit d5610111cc81f67aea616e649da5166a3c494c00
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 3 16:21:54 2008 +0000

    Cope with TpChannelIface channel-type property becoming writeable in telepathy-glib > 0.7.0, avoiding warnings when channels are constructed (fd.o #13896).
    
    If telepathy-glib is <= 0.7.0, the added code will never execute, but is
    harmless.
    
    20080103162154-53eee-c3e2cbf7bab827e33bea37ad837da8fcaacd57f9.gz

 src/gabble-im-channel.c       |    5 +++--
 src/gabble-media-channel.c    |    8 +++-----
 src/gabble-muc-channel.c      |    5 +++--
 src/gabble-roomlist-channel.c |   10 ++++------
 src/gabble-roster-channel.c   |    4 ++++
 5 files changed, 17 insertions(+), 15 deletions(-)

commit 03c805dbec3ee339b3a64aa15450fb5b8db049b7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 20 12:18:13 2007 +0000

    tubes-channel: use g_return_val_if_reached instead of g_assert_not_reached to make some compiler happy (fd #13752)
    
    
    20071220121813-7fe3f-a01dfb19f5179170cc1350342287f8357879991e.gz

 src/tubes-channel.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit dddab4b617ce0f8168cdb0421118cea3449f98ac
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 20 12:16:57 2007 +0000

    tube-stream: use g_return_val_if_reached instead of g_assert_not_reached to make some compiler happy (fd #13752)
    
    
    20071220121657-7fe3f-88640fe04c7e4228692c58328e279ede328af41a.gz

 src/tube-stream.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit db50085f94373a2d845249b5cc6d35e7bbd8b880
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jan 2 12:38:21 2008 +0000

    test-si-tubes.py: remove unused import
    
    
    20080102123821-7fe3f-326cd2b963696b59ff7ceb8cbc9cceffe9dc017c.gz

 tests/test-si-tubes.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit f278562ef32203af73a5083f3ca3167727d7ea8e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jan 2 12:38:07 2008 +0000

    test-muc-offer-stream-tube-ibb.py: remove unused imports
    
    
    20080102123807-7fe3f-7375b24054102e974b84d19006a7322a851b1984.gz

 tests/test-muc-offer-stream-tube-ibb.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 0cf5246e9c8b494a4ebc485ac99eed62899a806a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jan 2 12:37:52 2008 +0000

    test-muc-offer-dbus-tube.py: remove unused imports
    
    
    20080102123752-7fe3f-cd6b97b0cdb301e5cd2d3c74318164aaabec1739.gz

 tests/test-muc-offer-dbus-tube.py |    5 -----
 1 files changed, 0 insertions(+), 5 deletions(-)

commit e668b49efc72ddb3806238ddcb1e95ae4e67a1fe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jan 2 12:30:34 2008 +0000

    test-muc-accept-stream-tube-ibb.py: remove unused imports
    
    
    20080102123034-7fe3f-460633138faf4a166758499b4d99d33b77496407.gz

 tests/test-muc-accept-stream-tube-ibb.py |    6 +-----
 1 files changed, 1 insertions(+), 5 deletions(-)

commit a44f4b9080475f107210ac7d766e378968b0e4fa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jan 2 12:28:54 2008 +0000

    test-get-available-tubes.py: remove unused imports
    
    
    20080102122854-7fe3f-a7bbd6784fdad0be20c2672a0693939e690dfe99.gz

 tests/test-get-available-tubes.py |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit 3a810bfdbd9646458236531926980aec788b0f6d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jan 2 12:27:35 2008 +0000

    servicetest.py: remove unused dbus import
    
    
    20080102122735-7fe3f-b84d8497ef01b77ca106fa38093bb4e6ce642958.gz

 tests/servicetest.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit a50dd570b0eadf1b87a41455cbe2ef9a50327eea
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jan 2 12:25:32 2008 +0000

    servicetest.py: define EventProtocolClientFactory using multi inheritance
    
    
    20080102122532-7fe3f-896fc76f77595a28b9376ae63936afe5539667cd.gz

 tests/servicetest.py |   10 ++--------
 1 files changed, 2 insertions(+), 8 deletions(-)

commit e807a249076474fbe7c8050671628c565bbfe9a0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jan 2 12:11:03 2008 +0000

    test-muc-accept-stream-tube-ibb.py: remove useless debug test
    
    
    20080102121103-7fe3f-c9830473d3896fa10b7c58101828bf8741d72a55.gz

 tests/test-muc-accept-stream-tube-ibb.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 82b2c6a19459b3cb1c8b4ce55875d2f39a51f00a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jan 2 12:09:53 2008 +0000

    test-muc-accept-stream-tube-ibb.py: remove useless ClientCreator instantiation
    
    
    20080102120953-7fe3f-577914d4e7e96800982ba010c5efb3af8b685035.gz

 tests/test-muc-accept-stream-tube-ibb.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 688ba7a65cb54a9cabedad0d57d9f554a1d25244
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jan 2 12:05:54 2008 +0000

    tubes-channel: add the bug number about AcceptDBusTube broken with 1-1 tube
    
    
    20080102120554-7fe3f-cb32d6dd41bb3d7e2c820674c099edeee5a68079.gz

 src/tubes-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9442b7e3b26292eb27fa730ec9d19344b2c1cd37
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jan 2 11:59:18 2008 +0000

    test-get-available-tubes.py: remove useless import
    
    
    20080102115918-7fe3f-d0ef846571d04af0cb500b487bbd834bf1384354.gz

 tests/test-get-available-tubes.py |    5 +----
 1 files changed, 1 insertions(+), 4 deletions(-)

commit 6239700ade9af1de8f1d4938efba49ab46aef6fb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jan 2 11:51:44 2008 +0000

    bytestream-ibb: add more information in debug output when the stream is accepted
    
    
    20080102115144-7fe3f-370d81e6af3c5d5ec4758738237b007a25a5e236.gz

 src/bytestream-ibb.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 0cd2374b6cb20026ea289fdcd3860f50af5eae8e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 27 18:52:57 2007 +0000

    rename tube_conn parameter of watch_tube_signals to "tube"
    
    
    20071227185257-7fe3f-9f03de3860ec7500cd316162f2fc4c6556d01050.gz

 tests/servicetest.py   |    6 +++---
 tests/test-si-tubes.py |    8 ++++----
 2 files changed, 7 insertions(+), 7 deletions(-)

commit d6c535452458c86b01cb69b330bd2ea976b6a210
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 27 18:49:56 2007 +0000

    test-si-tubes: use watch_tube_signals instead of our own copy of it
    
    
    20071227184956-7fe3f-ab48963f86ccd70c74ff9eb54ce73f46d2a0e6b2.gz

 tests/test-si-tubes.py |   12 ++----------
 1 files changed, 2 insertions(+), 10 deletions(-)

commit 6e42597c4c7ce248607e96e016e1d9013787c394
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 27 18:48:59 2007 +0000

    servicetest.py: add watch_tube_signals function
    
    
    20071227184859-7fe3f-45f18f74595735d5ff421dd48427ac20593e1846.gz

 tests/servicetest.py |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit b6cd94bc74f5db75bbd086e87424d5cc01021b59
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 27 18:47:15 2007 +0000

    test-si-tubes.py: make test actually works
    
    
    20071227184715-7fe3f-7016652fc69f030cba8e61c018867de8bc347e47.gz

 tests/test-si-tubes.py |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit 694d94d8094f4ab1461f0f35ddadb5382701a52b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 27 18:36:13 2007 +0000

    test-muc-offer-dbus-tube.py: add few more assertions
    
    
    20071227183613-7fe3f-6d7fb9b960d46916bbcad8a9f35f1d4b770beb73.gz

 tests/test-muc-offer-dbus-tube.py |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 7b9fa91fd0e6ee21afe1ebc6d8cc3296c4a7369b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 27 18:26:01 2007 +0000

    test-get-available-tubes.py: remove debug print
    
    
    20071227182601-7fe3f-3e6fcafa47b0aa550617ee9cea79995e1be5a6c5.gz

 tests/test-get-available-tubes.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit ba3068321db20f5992faec637b418ef5e30d9463
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 27 18:25:22 2007 +0000

    test-muc-offer-stream-tube-ibb.py: use EventProtocolFactory
    
    
    20071227182522-7fe3f-e56526758262a954a0d31398adac6928ec1d41d6.gz

 tests/test-muc-offer-stream-tube-ibb.py |   27 +++++++++++++++------------
 1 files changed, 15 insertions(+), 12 deletions(-)

commit b244bbcb45bb727c7d17ec1333655399e026f773
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 27 18:20:55 2007 +0000

    servicetest.py: add EventProtocolFactory
    
    
    20071227182055-7fe3f-9a454a9a22a11e3eaf0c5627064e09bd2fd0a04c.gz

 tests/servicetest.py |   11 ++++++++++-
 1 files changed, 10 insertions(+), 1 deletions(-)

commit 6308edf0c20fd916ebcc1e0dd8ba31fe5f125eb7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 27 17:24:54 2007 +0000

    rename EventProtocolFactory to EventProtocolClientFactory
    
    
    20071227172454-7fe3f-9efc0c20396a4b36c8a0a40f6ed1d73d553accea.gz

 tests/servicetest.py                     |    2 +-
 tests/test-muc-accept-stream-tube-ibb.py |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 03da435ffb94fbfafcb9b59d936a4465b9e713e6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 27 17:12:10 2007 +0000

    add test-get-available-tubes.py to tests suite
    
    
    20071227171210-7fe3f-aaa70b23330a93135ae9f3d266608c59ddeca362.gz

 tests/Makefile.am |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 35e55f4ca083f10e5c8015ed444135020d24b57d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 27 17:11:55 2007 +0000

    add test-get-available-tubes.py
    
    
    20071227171155-7fe3f-783d62a9a5407014956e1b200a8328b42265dc02.gz

 tests/test-get-available-tubes.py |  119 +++++++++++++++++++++++++++++++++++++
 1 files changed, 119 insertions(+), 0 deletions(-)

commit 68aab5e9fb45f24ce5b869080abef4f8c7486d78
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 27 14:50:13 2007 +0000

    test-muc-accept-stream-tube-ibb.py: be sure "socket-data" event is about the right protocol object
    
    
    20071227145013-7fe3f-27e7143cbe4b9e1f81a1f9b4d960a30c4b23ce79.gz

 tests/test-muc-accept-stream-tube-ibb.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d73eeca78a72741a0b3cfabb6562fd6e43d310bc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 27 14:49:30 2007 +0000

    test-muc-accept-stream-tube-ibb.py: remove now useless gotProtocol callback
    
    
    20071227144930-7fe3f-1a7eec7da8e675eed4b90a1c7c1664f8f990d199.gz

 tests/test-muc-accept-stream-tube-ibb.py |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit 3e3fa479741e081cc43ce925809097a8cfa27834
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 27 14:48:20 2007 +0000

    add socket-connected event so we can properly wait for our socket to be connected
    
    
    20071227144820-7fe3f-09e3187935a3207b213bfb70db968d1c7d3df668.gz

 tests/servicetest.py                     |   14 +++++++++++---
 tests/test-muc-accept-stream-tube-ibb.py |    9 +++++++--
 2 files changed, 18 insertions(+), 5 deletions(-)

commit fd81f98ebb5ee3c7b2e9084ca9db07cb1b2a4a7a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 27 14:35:46 2007 +0000

    move sendMessage method to EventProtocol::sendData
    
    
    20071227143546-7fe3f-fa2a0129ff918d1d9d818db1e95ef776b1082cf8.gz

 tests/servicetest.py                     |    4 ++++
 tests/test-muc-accept-stream-tube-ibb.py |   11 ++---------
 2 files changed, 6 insertions(+), 9 deletions(-)

commit fb843eba45074fb3ebdcc6b965b9a217c9d574ae
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 27 14:31:37 2007 +0000

    test-muc-accept-stream-tube-ibb.py: move protocol.queue initiation to the got_protocol cb
    
    
    20071227143137-7fe3f-1255f15e7038f845a62173d46c1e2a1b05bc8729.gz

 tests/test-muc-accept-stream-tube-ibb.py |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 3273298d2593c5342096f4bd98e2360dad4cd93f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 27 13:00:45 2007 +0000

    test-muc-accept-stream-tube-ibb.py: check if we received the right data on the socket
    
    
    20071227130045-7fe3f-b07bae55452ffcb6dd9cdcf51c8a166dee025742.gz

 tests/test-muc-accept-stream-tube-ibb.py |   22 +++++++++++++++-------
 1 files changed, 15 insertions(+), 7 deletions(-)

commit 0567940b2a1ebec841db09e8e153551b59db5397
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 27 12:59:39 2007 +0000

    servicetest.py: add EventProtocol class that raise Event when data are received from a protocol (useful for stream tubes tests)
    
    
    20071227125939-7fe3f-bb069a96b2ab89f052c6a52088ca81f5641b86dd.gz

 tests/servicetest.py |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit f2e762cc5edf62bf362ec7f849d03197fe6a341a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 27 10:52:33 2007 +0000

    add test-muc-accept-stream-tube-ibb.py to tests suite
    
    
    20071227105233-7fe3f-43e3c3c489cd5214fbd6fb745b0739846e9c31e8.gz

 tests/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit d810a0d9970ed3e30e52a573d23b7c663a57c9ec
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 27 10:52:15 2007 +0000

    add test-muc-accept-stream-tube-ibb.py
    
    
    20071227105215-7fe3f-e0b711b814c030dfb68d85d5b43e463d087cb679.gz

 tests/test-muc-accept-stream-tube-ibb.py |  240 ++++++++++++++++++++++++++++++
 1 files changed, 240 insertions(+), 0 deletions(-)

commit 2ccf24c8db3b5c0ce01bbd32cd9b9771958c7a4f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 26 15:50:29 2007 +0000

    gabbletest.py: enable verbose output when using the new API and CHECK_TWISTED_VERBOSE is defined
    
    
    20071226155029-7fe3f-b6d9d325814f4a9dd70b51d6bc361f94167b3534.gz

 tests/gabbletest.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit bfcc162855d7f86cfc9b70784143be0cd8c40bd5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 26 15:27:56 2007 +0000

    tests/Makefile.am: update after test-muc-tubes.py split
    
    
    20071226152756-7fe3f-35fdd669ba899ca7b0a2f1d76966a4159aed2d5e.gz

 tests/Makefile.am |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 3f2000732ea4ff522980c44ed93d1a26467f8fb5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 26 15:27:04 2007 +0000

    add test-muc-offer-dbus-tube.py
    
    
    20071226152704-7fe3f-1f45d19026ff8c76cb13925d92d12d43ce915a8c.gz

 tests/test-muc-offer-dbus-tube.py |  208 +++++++++++++++++++++++++++++++++++++
 1 files changed, 208 insertions(+), 0 deletions(-)

commit 32cb2d539e642663700b2393630a98f344912e47
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 26 14:51:55 2007 +0000

    test-muc-offer-stream-tube-ibb.py: remove D-Bus tube test
    
    
    20071226145155-7fe3f-fc82edd1d69dc6c59da94ef6b74da23f5732ee82.gz

 tests/test-muc-offer-stream-tube-ibb.py |  121 ++-----------------------------
 1 files changed, 5 insertions(+), 116 deletions(-)

commit 624fa670c76f51a3109e85911f214083a0b4b862
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 26 14:27:39 2007 +0000

    rename test-muc-tubes.py to test-muc-offer-stream-tube-ibb.py
    
    
    20071226142739-7fe3f-594796a050a45a3190a7d78b1e23e426699032da.gz

 tests/test-muc-offer-stream-tube-ibb.py |  366 +++++++++++++++++++++++++++++++
 tests/test-muc-tubes.py                 |  366 -------------------------------
 2 files changed, 366 insertions(+), 366 deletions(-)

commit 4b6216c55602ce63f4fa75680d46a393518bf361
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 20 17:41:49 2007 +0000

    test-si-tubes: various cleanup and improvements
    
    
    20071220174149-7fe3f-555b6f32da59c24b385e468c90b680c8ef601416.gz

 tests/test-si-tubes.py |   88 +++++++++++++++++++-----------------------------
 1 files changed, 35 insertions(+), 53 deletions(-)

commit af102c08d8dd2d36fcbc8f970ac52bfadfcd6fd3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 20 17:13:35 2007 +0000

    test-si-tubes.py: port to new test API
    
    
    20071220171335-7fe3f-6d1a476344827d1477cf55b5f33b6b65284d54be.gz

 tests/test-si-tubes.py |  291 ++++++++++++++++++------------------------------
 1 files changed, 106 insertions(+), 185 deletions(-)

commit fcef0d412109d9fcc1e757a778ef9acf49a08952
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 20 16:18:52 2007 +0000

    test-muc-tubes: use message_type keyword instead of an assertion
    
    
    20071220161852-7fe3f-148ca9bf2f0e941883c4cf08b2d7b31ce5dd857c.gz

 tests/test-muc-tubes.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 6c6752736c7886b49bf7594b2777a7afd08735f9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 20 16:17:59 2007 +0000

    gabbletest.py: add message_type attribute to stream-message
    
    
    20071220161759-7fe3f-501208bdf99834f72f0e8510aee3675f8fe1790e.gz

 tests/gabbletest.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit f2bd518479777fab66457753c51bf893bd4e4448
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 20 16:15:11 2007 +0000

    test-muc-tubes: more test cleanup
    
    
    20071220161511-7fe3f-e83df2fe66705b32a59bd83a91d483130f6b94dd.gz

 tests/test-muc-tubes.py |   36 ++++++++++++++----------------------
 1 files changed, 14 insertions(+), 22 deletions(-)

commit ab62e51458bd17c589d73aac8f1698c2323a9516
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 20 16:00:27 2007 +0000

    gabbletest.py: use make_stream_event when installing stream-message observer
    
    
    20071220160027-7fe3f-a22a9566a027c6113c0f1f0a193fe293aab8c0cc.gz

 tests/gabbletest.py |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit c852a14ee515adce465ca2714bb00ebdf2abc101
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 20 15:54:59 2007 +0000

    test-muc-tubes: replace some assertions by expect keywords
    
    
    20071220155459-7fe3f-f429c031b84cdbecf42e825ffc79b522d9192c0e.gz

 tests/test-muc-tubes.py |   27 +++++++++------------------
 1 files changed, 9 insertions(+), 18 deletions(-)

commit bc1ae991771cc7b72cd0d498858805394bcbcbde
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 20 15:17:42 2007 +0000

    test-muc-tubes.py: port to new test API
    
    
    20071220151742-7fe3f-cfbd479f784330cb304f96f659bc10dc4c0b302f.gz

 tests/test-muc-tubes.py |  284 ++++++++++++++++++++---------------------------
 1 files changed, 120 insertions(+), 164 deletions(-)

commit 0d1b009ba101501f306443a1966e5097281dd08f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 19 15:04:46 2007 +0000

    bytestream-muc: implement "protocol" properties
    
    
    20071219150446-7fe3f-f69a3aa3572c3d77ee095b008df8c501b39245d7.gz

 src/bytestream-muc.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit ea504e147537e6b4239590b605283bc1e959c7de
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 19 15:04:28 2007 +0000

    bytestream-ibb: implement "protocol" properties
    
    
    20071219150428-7fe3f-ddc5b54c49a85e54225cd86d3cf45a6ebfe638e5.gz

 src/bytestream-ibb.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 71645572a1c880bfb547b0654ff3805f8f351461
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 19 15:04:05 2007 +0000

    bytestream-iface: add "protocol" properties
    
    
    20071219150405-7fe3f-69ceb57ae87f5b705b9530fd12de33218b45203a.gz

 src/bytestream-iface.c |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit a1aa225ed500b025f8e818c41b7e088d65859e31
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 19 14:52:43 2007 +0000

    bytestream-muc: stop to implement gabble_bytestream_iface_get_protocol
    
    
    20071219145243-7fe3f-4c743935339144b43863605f319f892385543f32.gz

 src/bytestream-muc.c |   12 ------------
 1 files changed, 0 insertions(+), 12 deletions(-)

commit 430a32c81639d4a0648897fa6bf68f6c75584aa6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 19 14:52:33 2007 +0000

    bytestream-ibb: stop to implement gabble_bytestream_iface_get_protocol
    
    
    20071219145233-7fe3f-f49f71508a180bf8ddf4c6c147460d63021374f5.gz

 src/bytestream-ibb.c |   12 ------------
 1 files changed, 0 insertions(+), 12 deletions(-)

commit 58fde7999348d64b9bf4a6eafb463d5b8b0bbc45
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 19 14:52:07 2007 +0000

    bytestream-iface: remove gabble_bytestream_iface_get_protocol
    
    
    20071219145207-7fe3f-f71e91f32fe08494f29dbfad19a25121a928512b.gz

 src/bytestream-iface.c |    9 ---------
 src/bytestream-iface.h |    4 ----
 2 files changed, 0 insertions(+), 13 deletions(-)

commit 969df0bb0cd2cb1a16cf84be95bac0e6b7f7cc12
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 19 14:06:20 2007 +0000

    tube-stream: use new gabble_bytestream_iface_accept API
    
    
    20071219140620-7fe3f-d06744ae22e6c79f9614b435bdda64be62f0f8dc.gz

 src/tube-stream.c |   45 +++++++++++----------------------------------
 1 files changed, 11 insertions(+), 34 deletions(-)

commit 2f2976798e311c4dba95125047989dfda0ccdd84
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 19 14:06:06 2007 +0000

    tube-dbus: use new gabble_bytestream_iface_accept API
    
    
    20071219140606-7fe3f-68ba7ae10129a10665e5a0edd202cd451abd9d6f.gz

 src/tube-dbus.c |   38 ++++++++++++--------------------------
 1 files changed, 12 insertions(+), 26 deletions(-)

commit 4473638ddce480397054b7ceac57db1bef2f08c2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 19 14:04:41 2007 +0000

    bytestream-muc: implement new gabble_bytestream_iface_accept interface
    
    
    20071219140441-7fe3f-c0286202890392e79c0c2f75864f91f319a8bc12.gz

 src/bytestream-muc.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 2d91472d2f7b9450c9e96359776e9588ccb46d61
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 19 14:04:19 2007 +0000

    bytestream-ibb: implement new gabble_bytestream_iface_accept API
    
    
    20071219140419-7fe3f-abd09bbfee63c9ebb5b7f7019cbc6c12293b14dc.gz

 src/bytestream-ibb.c |   20 +++++++++++++++++++-
 1 files changed, 19 insertions(+), 1 deletions(-)

commit dadb77f8430c4134d976a08df18d3461fa18001a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 19 14:02:24 2007 +0000

    bytestream-iface: gabble_bytestream_iface_accept now take a function ptr instead of the whole stanza (as in Salut)
    
    
    20071219140224-7fe3f-952294ac55cb89029fc0e8bed622a59fbddce473.gz

 src/bytestream-iface.c |    8 +++++---
 src/bytestream-iface.h |    8 ++++++--
 2 files changed, 11 insertions(+), 5 deletions(-)

commit 3b60cfaaee6aea45d0d084b2232008d0324e3b28
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 19 13:48:45 2007 +0000

    test-si-tubes.py: test joiner side of 1-1 D-Bus tubes
    
    
    20071219134845-7fe3f-2dde2a72655feec2e8975c76dddc8f53ee449eeb.gz

 tests/test-si-tubes.py |   92 ++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 92 insertions(+), 0 deletions(-)

commit 7b70517658812f563baceb89fc7a5800cec3fc73
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 19 13:45:55 2007 +0000

    tube-dbus: add a <tube> node to SI reply
    
    
    20071219134555-7fe3f-31fed57ab2508cdb438870c71ce1e3f866d3aeb1.gz

 src/tube-dbus.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 3d84913891106806774ff411acbf599524ff3af7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 19 13:38:08 2007 +0000

    tubes-channel: add a FIXME about AcceptDBusTube broken with 1-1 tubes
    
    
    20071219133808-7fe3f-66e516bd4d3362d8864064721b7238e224481906.gz

 src/tubes-channel.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 93d85606f901f0fe91c2bbd553132b8d5307f33d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Dec 18 17:18:40 2007 +0000

    test-muc-stanza: check SI reply stanza
    
    
    20071218171840-7fe3f-17a14cffd8b4d37a234984a538f68267fefbf399.gz

 tests/test-muc-tubes.py |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit a081e4a0312877379a7d7f6340eef125d7e5d132
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Dec 18 17:06:12 2007 +0000

    test-si-tubes: check SI reply stanza
    
    
    20071218170612-7fe3f-72824915915c41197b47d7f8e25c62770e653848.gz

 tests/test-si-tubes.py |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 549cd921fe9c8dac95039c414f0c1fc1e0c130d7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Dec 18 15:32:28 2007 +0000

    namespaces.h: add NS_OOB
    
    
    20071218153228-7fe3f-5f615fe6169da17ff3779a77ba8d1291b1968894.gz

 src/namespaces.h |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit a41e85563612592123208c1589aae3e1e24c44ff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Dec 18 15:20:38 2007 +0000

    bytestream-ibb.c: debug flag have to "bytestream" not "tubes"
    
    
    20071218152038-7fe3f-e480b03a8c6a7d91d4b7b46a117c73243b277da5.gz

 src/bytestream-ibb.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit fd66a01cc4cdee9e1d3cbd071ac69fbfb6faad46
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 13 10:41:28 2007 +0000

    rename OLPC bundle to "olpc1"
    
    
    20071213104128-7fe3f-54d6284e3c67163089b44aa87a420a899119cc3c.gz

 src/capabilities.c        |    8 ++++----
 src/capabilities.h        |    2 +-
 src/conn-olpc.c           |   16 ++++++++--------
 src/gabble-types.h        |    2 +-
 src/presence-cache.c      |    2 +-
 tests/test-olpc-bundle.py |    2 +-
 6 files changed, 16 insertions(+), 16 deletions(-)

commit 7f83d2039c54aa0412260f65cb55eb3bc98109b9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 13 10:32:14 2007 +0000

    _gabble_connection_signal_own_presence: add a comment about the hash table used as a set
    
    
    20071213103214-7fe3f-6e38dd8691d0c2b8ae85d72c97dd7b590fab010d.gz

 src/gabble-connection.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 0445a53a16ab968be579aa102ba72b581406a706
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 12 17:32:54 2007 +0000

    _gabble_connection_signal_own_presence: use a GString instead of multi string allocation
    
    
    20071212173254-7fe3f-c17cce09bcca51b4dc9dd40cbe392b3a53cba130.gz

 src/gabble-connection.c |   16 +++++++---------
 1 files changed, 7 insertions(+), 9 deletions(-)

commit 57305ece1ac06891bbf0b7aad9a61dd45eb891fa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 12 15:26:42 2007 +0000

    test-olpc-bundle.py: remove unused import
    
    
    20071212152642-7fe3f-7d441f95728ec2c0ab4c7b50c3bfa185a344b963.gz

 tests/test-olpc-bundle.py |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit 270a845644cbae9df17f4cb2e302b920f89e15e9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Dec 12 15:23:55 2007 +0000

    test-olpc-bundle.py: updated to use new test API
    
    
    20071212152355-7fe3f-8544c98cba3f685f25f30c9557f9a4a06fdd06d2.gz

 tests/test-olpc-bundle.py |   64 +++++++++++++++++++--------------------------
 1 files changed, 27 insertions(+), 37 deletions(-)

commit 7a0edce72429d2a1f9e1544fe677894d89214daf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Dec 7 10:43:16 2007 +0000

    gabble-connection: use a hash table instead of a IntSet to store bundles
    
    
    20071207104316-7fe3f-f72b6f9ec2f9032fee51b677c9f69b7857737d25.gz

 src/gabble-connection.c |   20 ++++++++------------
 1 files changed, 8 insertions(+), 12 deletions(-)

commit 9f6bfa36b034ae9e3948530977be2f1d79e1b7d2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 6 12:36:26 2007 +0000

    add test-olpc-bundle.py to tests set
    
    
    20071206123626-7fe3f-72bf9faa80769cd3618c6e5d29c053313ceff9ce.gz

 tests/Makefile.am |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit f68f5af3a212ad1febec4385ddefdd9c9a72ea3e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 6 12:36:15 2007 +0000

    add test-olpc-bundle.py
    
    
    20071206123615-7fe3f-441b4173e61143e298b37c61633cfe81c7dda811.gz

 tests/test-olpc-bundle.py |   96 +++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 96 insertions(+), 0 deletions(-)

commit f69336bc752bf8ff1d36feaf0ca4ccaa1e658c96
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 6 12:11:36 2007 +0000

    gabble-connection: ensure we don't set more than one time each bundle in our presence
    
    
    20071206121136-7fe3f-c9a452c1002dc9f0b07e0b3ba02ad6bfc040706d.gz

 src/gabble-connection.c |   23 ++++++++++++++++++++---
 1 files changed, 20 insertions(+), 3 deletions(-)

commit 9dfa001830d723781e65bfcbb9cf8b44e6c0c1f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 6 11:38:54 2007 +0000

    presence-cache: set the PRESENCE_CAP_OLPC when seeing OLPC PEP notify NS
    
    
    20071206113854-7fe3f-f39d8143bd34c78acc61c3ebcae75a3d9e79c027.gz

 src/presence-cache.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 53ed2da4968e18ef4af68d86355dc40cf771e18d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 6 10:36:41 2007 +0000

    ensure we have set the PRESENCE_CAP_OLPC when we use the OLPC interface
    
    
    20071206103641-7fe3f-bbb8aaf05bf27f57dccf347a36cbc326d51dc80e.gz

 src/conn-olpc.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 41d1168a3aebda1b2b0997081014f9cf68109a5c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 6 10:32:34 2007 +0000

    add gabble_connection_ensure_capabilities
    
    
    20071206103234-7fe3f-af460e1fe6872d8ec3e362f5810285394f962d55.gz

 src/gabble-connection.c |   23 +++++++++++++++++++++++
 src/gabble-connection.h |    3 +++
 2 files changed, 26 insertions(+), 0 deletions(-)

commit 5d5ef67d3a0dd7a3f1c9d6653b4365940bfc536b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 6 10:30:57 2007 +0000

    move OLPC notify ns to the "olpc" bundle
    
    
    20071206103057-7fe3f-1610f41bc414fb096c106b408c2270dd367c3f4a.gz

 src/capabilities.c |   14 ++++++--------
 src/capabilities.h |    1 +
 2 files changed, 7 insertions(+), 8 deletions(-)

commit cb10a17dedc8886ce482c8f57c3e80736bb79340
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Dec 6 10:27:54 2007 +0000

    move GabblePresenceCapabilities from presence.h to gabble-types.h as we'll need it in gabble-connection.h
    
    
    20071206102754-7fe3f-191144a8d11f9f25a7ad12d9dc436774c5966d5a.gz

 src/gabble-types.h |   17 +++++++++++++++++
 src/presence.h     |   16 ----------------
 2 files changed, 17 insertions(+), 16 deletions(-)

commit 7b649eb9cf5df835f21c21d67f1498e2f56bc44e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Dec 11 00:54:40 2007 +0000

    elide un-necessary boolean from gabble_disco_find_service
    
    
    20071211005440-418b8-ce73df189b3feb83a1bfdf73b4f14ac8ebd24c83.gz

 src/disco.c |   14 ++++++--------
 1 files changed, 6 insertions(+), 8 deletions(-)

commit b1decd7485b48f01e785e8cca872c3349f757c91
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Dec 11 00:50:13 2007 +0000

    when handling the attributes of disco <identity> elements in code, always put category before text because this is the hierachically sensible order (category -> type -> name) which they are referred to in the XEPs, schemas, debug messages, etc. otherwise people might get the arguments to gabble_disco_find_service in the wrong order or something (its called in one place - the call was right, but the function was wrong... :D)
    
    
    20071211005013-418b8-4a24f999e64f741fffab2d188b8812bc4a3220d2.gz

 src/disco.c              |    6 +++---
 src/disco.h              |    4 ++--
 src/gabble-muc-channel.c |   10 +++++-----
 3 files changed, 10 insertions(+), 10 deletions(-)

commit 14ca0de18414bfc9fbfbaa07a666eb147c07caa1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Dec 4 11:14:28 2007 +0000

    Remove tools that are no longer needed
    
    
    20071204111428-53eee-f35eaeab46042356b8cb8ed293969d2bfd59a569.gz

 tools/Makefile.am            |    5 +--
 tools/make-all-async.xsl     |   43 ------------------------
 tools/spec-to-introspect.xsl |   51 ----------------------------
 tools/update-spec-gen-am.sh  |   75 ------------------------------------------
 4 files changed, 1 insertions(+), 173 deletions(-)

commit 4668f7cd43a9e7ad729a22c824d6dda7d87febca
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Dec 4 11:01:01 2007 +0000

    Stop checking for dbus-binding-tool, we no longer run it (much rejoicing)
    
    
    20071204110101-53eee-813661d0b0c0de9422f0195cc875e7c0119bda5d.gz

 configure.ac |    5 -----
 1 files changed, 0 insertions(+), 5 deletions(-)

commit 536687eec2f8204155ba9e5b297afeb5f30c8a73
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Dec 4 10:52:25 2007 +0000

    Simplify extensions/Makefile.am with new tools
    
    
    20071204105225-53eee-a893c8a3f191145c1e268ddc96c228128f04c17e.gz

 autogen.sh             |    8 -----
 extensions/Makefile.am |   77 ++++++++++++++++++------------------------------
 2 files changed, 29 insertions(+), 56 deletions(-)

commit de35b7035b303c1aeae37a10b500ea567c0d5b9b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Dec 4 10:51:47 2007 +0000

    Add missing identity.xsl
    
    
    20071204105147-53eee-badb100ea3ab4252a3f4a0aa7e961376806f9d22.gz

 tools/Makefile.am  |    1 +
 tools/identity.xsl |    7 +++++++
 2 files changed, 8 insertions(+), 0 deletions(-)

commit df6df6e8ca01cf3e8b7b1b14ebee024bfe951710
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Dec 4 10:50:58 2007 +0000

    Remove genginterface (no longer needed)
    
    
    20071204105058-53eee-f6e17ca08270843ab6ec18f3d2c732e6f7f77b03.gz

 tools/Makefile.am      |    1 -
 tools/genginterface.py |  729 ------------------------------------------------
 2 files changed, 0 insertions(+), 730 deletions(-)

commit 8864d11897352f55dd000a90534ade3cb6ca7ed7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Dec 4 10:50:04 2007 +0000

    Also add glib-signals-marshal-gen.py from telepathy-glib
    
    
    20071204105004-53eee-25de5fad0a463893b2770fd907add4365f8b63a6.gz

 tools/Makefile.am                 |    1 +
 tools/glib-signals-marshal-gen.py |   55 +++++++++++++++++++++++++++++++++++++
 2 files changed, 56 insertions(+), 0 deletions(-)

commit 4234af34f0c5f8c20f437ea58e80c13d184ab6d1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Dec 4 10:42:26 2007 +0000

    Add libglibcodegen.py and glib-ginterfaces-generator.py (from telepathy-glib)
    
    
    20071204104226-53eee-a44737aa6163ff52319f0e71bbbf55f2c2d014cf.gz

 tools/Makefile.am            |    2 +
 tools/glib-ginterface-gen.py |  654 ++++++++++++++++++++++++++++++++++++++++++
 tools/libglibcodegen.py      |  299 +++++++++++++++++++
 3 files changed, 955 insertions(+), 0 deletions(-)

commit 8e241c1571f2d4a0f6c9d7a55baebf10a115ca47
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Dec 4 10:39:57 2007 +0000

    _boring: Ignore all test executables
    
    
    20071204103957-53eee-51da18081144832e2f00e152ad80c9e2c64950d4.gz

 _boring |    6 +-----
 1 files changed, 1 insertions(+), 5 deletions(-)

commit 71e6807de7f96addf2338f87a34674f0abff4c2c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Dec 4 10:37:37 2007 +0000

    Sync check-coding-style.mk etc. from telepathy-glib (add check-misc.sh, adjust for being in tools/ dir)
    
    
    20071204103737-53eee-1b97603f0b88b1dfcaffdf49366637475ba12cd3.gz

 tools/Makefile.am           |    1 +
 tools/check-c-style.sh      |    2 +-
 tools/check-coding-style.mk |    6 ++++--
 tools/check-misc.sh         |   13 +++++++++++++
 4 files changed, 19 insertions(+), 3 deletions(-)

commit 3e85a441be6bf2135b6a38cda737a7fff08774d8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Dec 4 10:35:17 2007 +0000

    Sync XSLT from telepathy-glib (use new FSF address, Lesser rather than Library GPL, irrelevant XSLT tweaks to make c-*-generator cope with different document structures)
    
    
    20071204103517-53eee-2001c1d37672373484db78aec5f269308d35c6ff.gz

 tools/c-constants-generator.xsl  |    4 ++--
 tools/c-interfaces-generator.xsl |    4 ++--
 tools/ls-interfaces.xsl          |    4 ++--
 tools/make-all-async.xsl         |    4 ++--
 tools/spec-to-introspect.xsl     |    4 ++--
 5 files changed, 10 insertions(+), 10 deletions(-)

commit 22a8e1051147904d2e028b6f0886437386292dd3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Dec 4 10:33:31 2007 +0000

    Add a rule to tools/Makefile.am to update the tools from ../telepathy-glib when run manually
    
    
    20071204103331-53eee-6d926a0bad7bff6e5f9434b6e53a7c3e44f061ea.gz

 tools/Makefile.am |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit edb62c8475a47cb83ea8ee628f8280050f092e05
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Dec 4 10:25:17 2007 +0000

    darcs mv check-* tools/ ; adjust src/Makefile.am, tests/Makefile.am, tools/Makefile.am, Makefile.am accordingly
    
    
    20071204102517-53eee-9ffd2adb59a5b4018c97c2ba8d85c6bd93812f97.gz

 Makefile.am                 |    5 -----
 check-c-style.sh            |   36 ------------------------------------
 check-coding-style.mk       |   15 ---------------
 check-whitespace.sh         |   17 -----------------
 src/Makefile.am             |    2 +-
 tests/Makefile.am           |    2 +-
 tools/Makefile.am           |    3 +++
 tools/check-c-style.sh      |   36 ++++++++++++++++++++++++++++++++++++
 tools/check-coding-style.mk |   15 +++++++++++++++
 tools/check-whitespace.sh   |   17 +++++++++++++++++
 10 files changed, 73 insertions(+), 75 deletions(-)

commit 1c7eb2faf81ea8c00062f80b0f055e8443308081
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Dec 4 10:22:42 2007 +0000

    darcs mv extensions/tools tools ; adjust Makefile.am, cnfigure.ac, autogen.sh, extensions/Makefile.am, tools/update-spec-gen-am.sh appropriately
    
    
    20071204102242-53eee-ce5e80ebda9864c4b980d84a822d023d3ee82023.gz

 Makefile.am                                 |    2 +-
 autogen.sh                                  |    2 +-
 configure.ac                                |    4 +-
 extensions/Makefile.am                      |   12 +-
 extensions/tools/Makefile.am                |    9 -
 extensions/tools/c-constants-generator.xsl  |  257 ----------
 extensions/tools/c-interfaces-generator.xsl |   84 ---
 extensions/tools/doc-generator.xsl          |  458 -----------------
 extensions/tools/genginterface.py           |  729 ---------------------------
 extensions/tools/ls-interfaces.xsl          |   35 --
 extensions/tools/make-all-async.xsl         |   43 --
 extensions/tools/spec-to-introspect.xsl     |   51 --
 extensions/tools/update-spec-gen-am.sh      |   75 ---
 tools/Makefile.am                           |    9 +
 tools/c-constants-generator.xsl             |  257 ++++++++++
 tools/c-interfaces-generator.xsl            |   84 +++
 tools/doc-generator.xsl                     |  458 +++++++++++++++++
 tools/genginterface.py                      |  729 +++++++++++++++++++++++++++
 tools/ls-interfaces.xsl                     |   35 ++
 tools/make-all-async.xsl                    |   43 ++
 tools/spec-to-introspect.xsl                |   51 ++
 tools/update-spec-gen-am.sh                 |   75 +++
 22 files changed, 1750 insertions(+), 1752 deletions(-)

commit 7c7d3056b25aacf100d3e9991f4292955b57f0e6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Nov 30 13:11:11 2007 +0000

    muc-channel: remove useless string buffer crack to get val_str from a boolean
    
    
    20071130131111-7fe3f-12f243108d83a509cc16151a7e5d3c1bacf5af4b.gz

 src/gabble-muc-channel.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit e9fd4a7344da73f7edd6615e0e4b80f0ee1ec239
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Nov 30 13:06:40 2007 +0000

    test-muc-properties.py: set password-required property so we test a boolean setting too
    
    
    20071130130640-7fe3f-344c5740d273f1227486084b3fd0e5c7a284bc14.gz

 tests/test-muc-properties.py |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

commit 8e61a7696faf67604e7c22e5f89335368a1adc49
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Nov 30 12:58:10 2007 +0000

    muc-channel: remove useless test when copying muc settings
    
    
    20071130125810-7fe3f-3340c6bbe81603574a25983741bcc1f2039a77b2.gz

 src/gabble-muc-channel.c |   18 +++++++-----------
 1 files changed, 7 insertions(+), 11 deletions(-)

commit 21190c79cf1769ba877759044ca4de15207715a3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Nov 30 12:01:27 2007 +0000

    muc-channel: move value_node declaration
    
    
    20071130120127-7fe3f-d27035eb040a10bf24b64a6887b029f8c01f5538.gz

 src/gabble-muc-channel.c |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit 9eba60acf7d48553d54676888cf22c33cdc10800
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Nov 30 11:53:12 2007 +0000

    muc-channel: copy all the <value> nodes if we don't know about a setting
    
    
    20071130115312-7fe3f-982dbe7da2698f05705aa34022654d1fb7065191.gz

 src/gabble-muc-channel.c |  129 +++++++++++++--------------------------------
 1 files changed, 37 insertions(+), 92 deletions(-)

commit f90a1003e9696bcdc2060b289ab6f52b07000213
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Nov 29 15:52:08 2007 +0000

    muc-channel: handle multi values muc setting
    
    
    20071129155208-7fe3f-5f23448f2a558b10123b0787b280fd7f30f0d313.gz

 src/gabble-muc-channel.c |  150 ++++++++++++++++++++++++++++++++-------------
 1 files changed, 106 insertions(+), 44 deletions(-)

commit c439b646c1ff9f0df67a2bb12ecdb47e2bc4d8f3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Nov 29 15:32:15 2007 +0000

    test-muc-properties.py: add a multi values setting in server reply. Exhibit a bug as Gabble currently doesn't properly handle them
    
    
    20071129153215-7fe3f-17b9262ed1170e7a6bb3373c6058bf53500753a1.gz

 tests/test-muc-properties.py |   20 ++++++++++++++++----
 1 files changed, 16 insertions(+), 4 deletions(-)

commit a782857d7d05e87c12b83e7d9ad1181df11a47d6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Nov 28 16:02:07 2007 +0000

    conn-olpc: explicitely ignore echoed PEP notifications. Ejabberd doesn't send them but Openfire does
    
    
    20071128160207-7fe3f-6e45553ab0fdfbaf5165fa3d873ff1ac80ecfc93.gz

 src/conn-olpc.c |   21 +++++++++++++++++++++
 1 files changed, 21 insertions(+), 0 deletions(-)

commit b14424574063bccb45c208064024846391080d7f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Nov 28 12:32:43 2007 +0000

    test-group-race.py: assert we got the NewChannel signal
    
    
    20071128123243-7fe3f-1d71f601cc78a970f2dfca11f31d910482f47d0b.gz

 tests/test-group-race.py |   15 +++++++++++++++
 1 files changed, 15 insertions(+), 0 deletions(-)

commit 793e5c7b421eb5b4baa6774afc04f1a4a772d1e7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Nov 28 11:50:34 2007 +0000

    roster.c: always create the requested channel so the request is not lost if the roster wasn't received yet
    
    
    20071128115034-7fe3f-0ec72633185abc46cef8839fe65c11c60292a695.gz

 src/roster.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 3340f55b49da59cd37db97a4c11321797e9851a1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Nov 28 11:50:08 2007 +0000

    add tests/test-group-race.py exhibiting a group race bug
    
    
    20071128115008-7fe3f-4fcbc840f93f5d6e15d6ceb1dd02f4db0dcfc06f.gz

 tests/Makefile.am        |    3 +-
 tests/test-group-race.py |   48 ++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 50 insertions(+), 1 deletions(-)

commit 4f039fb142d60f04734e140993cf6f510a07fd32
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Nov 16 10:34:17 2007 +0000

    conn-olpc: wrap a big line
    
    
    20071116103417-7fe3f-14aa7a336f27ed3d126e03e06d1c9f39d3d4cd81.gz

 src/conn-olpc.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit e66ece1c7623e2be74702cb82e9b9849a6feba72
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Nov 28 01:44:51 2007 +0000

    correct the LGPL 2.1 boilerplate (s/Library/Lesser/ and update FSF address)
    
    
    20071128014451-418b8-0a295801dc2f0c0aa3cf89509a62ed332015357a.gz

 extensions/OLPC_Activity_Properties.xml     |    4 ++--
 extensions/OLPC_Buddy_Info.xml              |    4 ++--
 extensions/all.xml                          |    4 ++--
 extensions/tools/c-constants-generator.xsl  |    2 +-
 extensions/tools/c-interfaces-generator.xsl |    2 +-
 extensions/tools/doc-generator.xsl          |    4 ++--
 extensions/tools/genginterface.py           |    4 ++--
 extensions/tools/ls-interfaces.xsl          |    4 ++--
 extensions/tools/make-all-async.xsl         |    4 ++--
 extensions/tools/spec-to-introspect.xsl     |    4 ++--
 10 files changed, 18 insertions(+), 18 deletions(-)

commit aa7f39c8ba10e3f1d6d6d67947c6887700570d83
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Nov 28 01:44:16 2007 +0000

    correct default MUC bytestream block size to 45k before base64 encoding, so we're unlikely to produce stanzas greater than 64k in size
    
    
    20071128014416-418b8-410a1157e053bc61f47e3eaee0dcc4a3733479c1.gz

 src/bytestream-muc.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 55e64976d2ea5ae8a6f415ff80dcd4e1f907c534
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Nov 23 12:36:33 2007 +0000

    Annotate check for g_hash_table_remove_all too
    
    
    20071123123633-53eee-dda5dbf4a6d157075fee075f8c2709ee5536a1b5.gz

 configure.ac |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit fd71bf6350574590c5830b9f8a1b027d9b07491b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Nov 23 12:33:56 2007 +0000

    Annotate checks for functions with the version at which we can remove them
    
    
    20071123123356-53eee-f783d2b68472bfde97a3524d542f3482e02b7038.gz

 configure.ac |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 37babc9bb1be01e52aabc9b02b6e45b845b1b1fc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Nov 23 12:30:04 2007 +0000

    Use tp_g_hash_table_update from telepathy-glib, if available
    
    
    20071123123004-53eee-1f13209baa15754683d2e5482daf143dca2501b9.gz

 configure.ac    |    5 +++++
 src/conn-olpc.c |    4 ++--
 src/util.c      |    2 ++
 src/util.h      |    5 +++++
 4 files changed, 14 insertions(+), 2 deletions(-)

commit 379022fc89864a07cee822651f37cdc64aeb4993
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Nov 23 12:13:19 2007 +0000

    servicetest: catch KeyboardInterrupt and treat as an error, even in Python 2.5
    
    
    20071123121319-53eee-eb4a8d780b52fa8f77e7de9c0bddfa5524756fff.gz

 tests/servicetest.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 726ed90d7835f40e974e78f72a5a985d6041215f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Nov 23 12:12:28 2007 +0000

    servicetest: catch SystemExit and use it to end the test (even in Python 2.4) - fixes test-google-roster on 2.4
    
    
    20071123121228-53eee-2c67bcf41605e95b33068457fcb307ac48d1ba1b.gz

 tests/servicetest.py |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 8e48acde0a6f9cb10c3a9e708429a711a826e7f7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Nov 12 20:12:17 2007 +0000

    Development version 0.7.1.1
    
    
    20071112201217-53eee-060bcfcf56610a5f617812e3bb47eb7c1243375c.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b3008faa3ff4cfab60a39a80fafaef97f8fed92f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Nov 12 20:08:26 2007 +0000

    Version 0.7.1
    
    
    20071112200826-53eee-f6aff01b2f7683a0cd3700c3f7d6ff87e4fb1234.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 6bf0f046050ec30c044bd7ec11cf41f1420d9d9a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Nov 12 19:57:42 2007 +0000

    Minimal patch for correct detection of loudmouth >= 1.3.2 - PKG_CHECK_MODULES doesn't work like that
    
    
    20071112195742-53eee-834d038d3b92e6b1c4caef76f01dbaaeb77d4725.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3f0402b81ad4f9cc3dcfaae3e69d02e5d38a31c5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Nov 12 09:46:14 2007 +0000

    Use tp_debug_set_flags() if available, to separate 'persist' from the rest of the debug flags
    
    
    20071112094614-53eee-5e3c08b897af1a87c8744ee879d861dde29929e9.gz

 configure.ac |    5 +++++
 src/debug.c  |    8 ++++++--
 src/debug.h  |    3 +--
 src/gabble.c |   12 +++++++++---
 4 files changed, 21 insertions(+), 7 deletions(-)

commit b7e83103541793e13a749fdf70c422937ca36d60
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Nov 7 16:20:52 2007 +0000

    Implement require-encryption param for RequestConnection
    
    
    20071107162052-01440-86506ec3d0e840145556c15f023263864ef2ec35.gz

 src/gabble-connection-manager.c |    9 +++++++++
 src/gabble-connection.c         |   25 ++++++++++++++++++++++---
 2 files changed, 31 insertions(+), 3 deletions(-)

commit ee34b4c6d144ec4039b641e986f0992068a40eed
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Nov 7 16:20:12 2007 +0000

    configure.ac: properly detect Loudmouth 1.3.2 version
    
    
    20071107162012-01440-6dc9aba3457db7175b85ec3b57679e8710751add.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d960ad39782072dd659c0612761ddd93a0d007a4
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Nov 7 16:19:17 2007 +0000

    configure.ac: require Loudmouth version 1.1.1
    
    
    20071107161917-01440-4ccba0e34b5b530ed75533559403fe83a3a50c68.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b575e65f3cfd0814ab800754e5176e98dc1ce0a5
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Oct 31 15:45:15 2007 +0000

    Use standard LM _get_full_jid() instead of made-up _get_effective_jid()
    
    
    20071031154515-01440-4dc79e86f6caa4f23d692f61b40a6bed9015ce8a.gz

 configure.ac            |    2 +-
 src/gabble-connection.c |    6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit cf9e9504dc539e8b8726576099d1f8f06c015b0e
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Oct 30 00:01:40 2007 +0000

    Enable optional usage of Loudmouth 1.3.2 features (SRV, SASL, StartTLS)
    
    
    20071030000140-01440-bb724c041f57b9cc2b4e66677c499e8a1065de8e.gz

 configure.ac            |   19 ++++++-------------
 src/gabble-connection.c |   17 +++++++++++++++++
 2 files changed, 23 insertions(+), 13 deletions(-)

commit 6ff1a68a9ec925dbf45dff4c3d1f09bf7a3bd2ec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Nov 7 15:03:54 2007 +0000

    Development version 0.7.0.1
    
    
    20071107150354-53eee-2f18267e24acbffa5ed5ac0147e22743ab4b908f.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ec90bbcda41a10a4a458a24e3325f0528fa162e8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Nov 7 11:56:24 2007 +0000

    Version 0.7.0
    
    
    20071107115624-53eee-27f2a851e8a464a9411abb1c708993e34ad74811.gz

 configure.ac |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit fc4719056fa750fd55b606dc23dc778a708d2492
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Nov 6 17:13:31 2007 +0000

    Correctly add activities to buddies' activity sets even if the buddy already had an activity set (laptop.org #4694)
    
    
    20071106171331-53eee-ccea0e6c3b59eea5abb33406577ec5a71573a31d.gz

 src/conn-olpc.c |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit ae9af48c4856a7bb331fe364b35f93f282c38caa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Nov 6 17:07:42 2007 +0000

    Fix comments at the top of the OLPC tests
    
    
    20071106170742-53eee-f7d1290e61803cd6a6cd481aaa16b7948eddc17d.gz

 tests/olpc-muc-invitation.py  |    2 +-
 tests/olpc-muc-prop-change.py |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 81179ff336601958f8be485ad4f267517efc64f8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Nov 2 17:29:11 2007 +0000

    docs/: bring olpc.xml up to date with latest Salut changes
    
    
    20071102172911-53eee-6086f8e6c1982aa91b1cbe72cbf462d4ba16ec59.gz

 docs/olpc.xml |   62 ++++++++++++++++++++++++++++----------------------------
 1 files changed, 31 insertions(+), 31 deletions(-)

commit bf4efcfe09ed0b11c9e1a70aff74791780ffc047
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 16 13:37:42 2007 +0000

    Explicitly indicate the protocol for each tube
    
    
    20071016133742-53eee-2633109282283b75f2af28c40c8d3eeea193411e.gz

 docs/tubes.xml |   49 ++++++++++++++-----------------------------------
 1 files changed, 14 insertions(+), 35 deletions(-)

commit d0db83fceb67f1324c492dd196bfd6632470eb43
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Oct 26 17:16:23 2007 +0000

    Fix initial PEP reset conflict with HEAD, but properly this time
    
    
    20071026171623-53eee-d100acae5c494888c84dfd4cd39d90a7f2d80ce6.gz

 src/conn-olpc.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit bb60e45903150d20d59b5bcf5806a859fd026313
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Oct 26 17:10:09 2007 +0000

    Fix conflict with HEAD - ignoring replies we don't care about, vs. we now check all PEP replies
    
    
    20071026171009-53eee-adb1b055e9c83d03d6164c13e1b8898b2de18dda.gz

 src/conn-olpc.c |   26 +++++++++++---------------
 1 files changed, 11 insertions(+), 15 deletions(-)

commit 86450d53ae2829e96c283831fd89f43f66a5262c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 17 16:09:38 2007 +0000

    Document existing practice for Salut: re-inviting works by sending an updated invitation, rather than using a pseudo-invitation
    
    
    20071017160938-53eee-445c6c16e4110cb6ea2ae8bad8ca0b518c0d6730.gz

 docs/olpc.xml |   32 +++++++++++++++++++-------------
 1 files changed, 19 insertions(+), 13 deletions(-)

commit 9ed57be3b60c34ce1142c9e043c23d07786989ba
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 17 15:27:37 2007 +0000

    Add a hint regarding how to get xep.xsl
    
    
    20071017152737-53eee-628bc68402f939fc4400094de80a4cd6b36b7766.gz

 docs/Makefile.am |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit baa68535459c73c1b0b09422a92276f7445b74da
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 17 15:27:15 2007 +0000

    Add OLPC activities protocol to docs/
    
    
    20071017152715-53eee-3a28adfd8b1eec5efc80c1226349e6bf8d08ecd1.gz

 docs/Makefile.am |    1 +
 docs/olpc.xml    |  791 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 792 insertions(+), 0 deletions(-)

commit b3db3e3a9cc0a8219c492bd65de1c1b17e612186
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 16 13:37:42 2007 +0000

    Explicitly indicate the protocol for each tube
    
    
    20071016133742-53eee-ab4cc5378ad4187f324c79b3589c3d60211fd5f2.gz

 docs/tubes.xml |   49 +++++++++++++++++++++++++++++++++++--------------
 1 files changed, 35 insertions(+), 14 deletions(-)

commit 4408e4a2cd8daf077075cdcd3bb4868f051eb442
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 16 13:26:07 2007 +0000

    Recommend putting the .local hostname in the OOB negotiation for link-local MUC tubes
    
    
    20071016132607-53eee-15cd140769a3f29b05e321907cdd0638068eca9a.gz

 docs/tubes.xml |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit f64bf605edfc7be96a8147192f3fd5795daaa9ff
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 16 11:13:52 2007 +0000

    Document link-local MUC usage too
    
    
    20071016111352-53eee-c38a191e165250bff9269984dcb10c7c6e5e10fd.gz

 docs/tubes.xml |  233 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 233 insertions(+), 0 deletions(-)

commit 4d87201d538ae1715c3d3477cb5851087acdf3b0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 26 15:38:40 2007 +0000

    Add test-muc-invitation.py to tests/Makefile.am [re-recorded]
    
    
    20070926153840-53eee-94a1b755e3b56580cdf0e65a8981f524fbf4431a.gz

 tests/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 361dfc1e493e2aa1719d8fd08e30817aaf377d7a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 26 15:38:30 2007 +0000

    Add olpc-muc-{invitation,prop-change}.py to tests/Makefile.am [re-recorded]
    
    
    20070926153830-53eee-f8be029e4ef437ae3643852367026caecadb30cd.gz

 tests/Makefile.am |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 2ed36e44c80e4b2d059c77fcda741656200f9876
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 26 15:37:57 2007 +0000

    Add tests/test-muc-invitation.py [re-recorded]
    
    
    20070926153757-53eee-95bb388d3b87297ed3726a0ae40c9122b9e9e04e.gz

 tests/test-muc-invitation.py |  128 ++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 128 insertions(+), 0 deletions(-)

commit 8918291a8b16e85426f66c6ead11cac9c72922f9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 26 15:37:38 2007 +0000

    Add tests/olpc-muc-prop-change [re-recorded]
    
    
    20070926153738-53eee-2e2cc882c90fcf40ecd748835ee82c39d857fe74.gz

 tests/olpc-muc-prop-change.py |  483 +++++++++++++++++++++++++++++++++++++++++
 1 files changed, 483 insertions(+), 0 deletions(-)

commit 174f9ba35a489b1580d7864ad39b2a003e5be8ae
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 26 15:37:25 2007 +0000

    Add tests/olpc-muc-invitation.py [re-recorded]
    
    
    20070926153725-53eee-7e2adc164ecfa80966af7f92ab7cc7d97b12f756.gz

 tests/olpc-muc-invitation.py |  283 ++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 283 insertions(+), 0 deletions(-)

commit d9aa216673c3f4d8c4bb493230efd0adb7eb34b2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 26 15:34:32 2007 +0000

    emit ActivityPropertiesChanged when user change activity properties [re-recorded]
    
    Conflicts with -trial3a and -activities branches.
    Original header:
    Wed Aug 29 14:59:13 BST 2007  Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
    
    20070926153432-53eee-4a50978a396a0768f00620ff70b67e4d131dd110.gz

 src/conn-olpc.c |   67 ++++++++++++++++++++++++++++++++-----------------------
 1 files changed, 39 insertions(+), 28 deletions(-)

commit 2b99f569e3dd15028befea42df79d4d6a5615af9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 26 15:27:43 2007 +0000

    Remove obsolete comment [re-recorded, conflicts with trial3a and -activities branches]
    
    
    20070926152743-53eee-1eae857e0dbc4faed57cc9f34dbad1757ec475d5.gz

 src/conn-olpc.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 63c855b4871694b2840a6090a43b83ac4025b3be
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 26 15:22:33 2007 +0000

    Resolve conflict: remove gabble_muc_factory_find_channel, again (thdarcs)
    
    
    20070926152233-53eee-e7ccd4bc0783325087bf8860d4b4817cc5ac537e.gz

 src/muc-factory.h |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 729a8bb61bb4e67789b74be983a03c7e2cbecbad
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 20 13:25:52 2007 +0000

    conn-olpc: muc contact-join signal now use global self handle
    
    
    20070920132552-7fe3f-7aace5ae1abd9af2eee480ab6b5ccc75b12c65f7.gz

 src/conn-olpc.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 8373eb5c1fe8d3c0d43f604df17a5cc70e3e9107
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 20 13:25:05 2007 +0000

    gabble-muc-channel: use global self handle instead of muc specific self handle when emitting the contact-join signal
    
    
    20070920132505-7fe3f-da4caedd9f534c248225a0e65683ac59fcd984b0.gz

 src/gabble-muc-channel.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 90295a956edef565ed933b55df0b8dd61f9d2709
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 20 11:01:51 2007 +0000

    conn-olpc: emit BuddyInfo::ActivitiesChanged in remove_invite_foreach
    
    
    20070920110151-7fe3f-a4a95c94c22ac4c00a8e6251efaf35f3fa6dfba5.gz

 src/conn-olpc.c |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit 37c24b29a080f86859db0f9422c5316f349613ef
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 17 12:45:30 2007 +0000

    conn-olpc: add comments in remove_invite_foreach
    
    
    20070917124530-7fe3f-d73367ccb418fb4125e48d5bae87a742323b0ab9.gz

 src/conn-olpc.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 58919ad41be3d4baf2cb3c4894464c5853820e77
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 17 09:33:56 2007 +0000

    conn-olpc: add debug output when revoking invitations
    
    
    20070917093356-7fe3f-505c9d189298de3116406c447c10dac1e443d56c.gz

 src/conn-olpc.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 92ab68996c85752333157a5eaca2761e1408e75b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 17 08:54:13 2007 +0000

    emit BuddyInfo::ActivitiesChanged when we receive an uninvite message
    
    
    20070917085413-7fe3f-93c8729c27b8471a6db7157cc7a8675c75c6780f.gz

 src/conn-olpc.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 16d25357c7792a8a687343b1f8bf188c228afd0e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 17 08:34:20 2007 +0000

    conn-olpc: wait we have really joined the muc before forget about the invites
    
    
    20070917083420-7fe3f-ead2b41505f2ef97423e23b44e7c8af07da951fb.gz

 src/conn-olpc.c |   49 ++++++++++++++++++++++++++++++-------------------
 1 files changed, 30 insertions(+), 19 deletions(-)

commit 64734a22d78f30af3efcd4c62878e14a4a627555
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 17 07:53:39 2007 +0000

    muc-channel: emit the "contact-join" when the local user has joined the channel too
    
    
    20070917075339-7fe3f-071f684b15973df876972ad736da65eb131f32cd.gz

 src/gabble-muc-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 6cc84c0ec895549ee41ab38ab66c983ba11ab636
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 14 15:54:50 2007 +0000

    conn-olpc: Start to implement activity uninvite (not working yet)
    
    
    20070914155450-7fe3f-72d6b95a124b23cffbebb6f510907cbe9cdd0ce2.gz

 src/conn-olpc.c   |  140 ++++++++++++++++++++++++++++++++++++++++++++++++++++-
 src/conn-olpc.h   |    3 +
 src/muc-factory.c |    4 ++
 3 files changed, 145 insertions(+), 2 deletions(-)

commit 0c705e496e512272d58ecc6eb9532959495b7558
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 14 14:27:13 2007 +0000

    conn-olpc: when we join an activity, forget about all its invites
    
    
    20070914142713-7fe3f-7c66005fedc4f795ce0259183f2ac8adce4e4000.gz

 src/conn-olpc.c |   41 +++++++++++++++++++++++++++++++++++++++++
 1 files changed, 41 insertions(+), 0 deletions(-)

commit cb204abcfbdc192c3dec78cef1764f4e41b1bed6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 13 12:32:40 2007 +0000

    When current activity changes to nothing, still emit the signal
    
    
    20070913123240-53eee-bdb59dd7157d7475fef3baf120cbe069ad141c9a.gz

 src/conn-olpc.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 5f36564ffceee8e27acb1ee19c1b0d6dcd57744c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 13 12:32:21 2007 +0000

    improve debug output for current activity changes
    
    
    20070913123221-53eee-5d6a6caf3752a000f1d1970bd43973cc420ac77e.gz

 src/conn-olpc.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 97dd883ba7f623f540aad642da55d610fc16de67
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 13 12:31:55 2007 +0000

    GetCurrentActivity: remove code that made no sense and would never run
    
    
    20070913123155-53eee-c27eb43214830db17b6027ac4f629c3879798df6.gz

 src/conn-olpc.c |    7 ++-----
 1 files changed, 2 insertions(+), 5 deletions(-)

commit de6c0995d26703d9fb4b26e1377b7061e13816c1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 13 12:31:35 2007 +0000

    extract_current_activity: return FALSE if room name is ""
    
    
    20070913123135-53eee-ad28de7e68f61aa124ce6485ecabc0cc7cad2aea.gz

 src/conn-olpc.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 831f8e225245f028078e5265d86fe4241a9d41dd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 29 14:53:00 2007 +0000

    conn-olpc: fix activities array leak
    
    
    20070829145300-7fe3f-646f36cedaffcde8b94364dca64c5fc022fae058.gz

 src/conn-olpc.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit dffe2e56c21ef3cfc60c17d7a8f4f7b309f7188f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 29 14:14:52 2007 +0000

    get_activities_reply_cb: raise a D-Bus error if pubsub reply is bugged
    
    
    20070829141452-7fe3f-598f8573bc3a298b191b90360b1606a9bcdbba0e.gz

 src/conn-olpc.c |   58 ++++++++++++++++++++----------------------------------
 1 files changed, 22 insertions(+), 36 deletions(-)

commit a127b702c6225c704ecc430afee2ebe840b438b8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 29 13:37:00 2007 +0000

    conn_olpc_process_activity_properties_message: return when ignoring echoed activity properties message
    
    
    20070829133700-7fe3f-14b0b2e808289aeb74782ece39dc931a684782d0.gz

 src/conn-olpc.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 2820c8cac6d291329ed8cd760a3266c9a3ed0ae3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 29 13:34:22 2007 +0000

    conn-olpc: replace 3 lm_message_node_set_attribute calls by lm_message_node_set_attributes
    
    
    20070829133422-7fe3f-de3c7a406d5a2c35838fad90cfd5a5fd6b4e0154.gz

 src/conn-olpc.c |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

commit 7714d7b016586d06a62759ef2e0d9ef416be0a02
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 29 13:32:29 2007 +0000

    s/activities_list/activities_set
    
    
    20070829133229-7fe3f-e83ce9398341c01fa9dba1bd6f5068e66cb9abcf.gz

 src/conn-olpc.c |   90 +++++++++++++++++++++++++++---------------------------
 1 files changed, 45 insertions(+), 45 deletions(-)

commit 15bb31e40e233f739229524edcbff9460b8d093e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 29 13:24:10 2007 +0000

    conn-olpc: remove ActivityInfoChangeCallback as it's not used
    
    
    20070829132410-7fe3f-2558cf8314d1e747e44018c9a2aa3e63cf064e2e.gz

 src/conn-olpc.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 21519aadc8b5eac1b00bfda588a097a2f04a25b5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 29 13:22:50 2007 +0000

    OLPC activities are private by default
    
    
    20070829132250-7fe3f-2b63377f447535355bddefeffe4f220fca361470.gz

 src/conn-olpc.c |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit e4c4b41d1e101dd6feed3c9b8d67f997b15fd55b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 29 13:13:32 2007 +0000

    use upload_activities_pep in olpc_buddy_info_set_activities so only public activities are send
    
    
    20070829131332-7fe3f-60a60efb128483d2e40e7ed33e658b250c7dd01d.gz

 src/conn-olpc.c |   16 +---------------
 1 files changed, 1 insertions(+), 15 deletions(-)

commit 510d65cb80073a5c223001c2bb84515847c2cc93
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 29 12:58:29 2007 +0000

    s/conctact/contact
    
    
    20070829125829-7fe3f-931e6fed8766191892911c79feaa645abfc04d86.gz

 src/conn-olpc.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 1a4860510f7f4b45c086fcaae57672ec5f7d87b1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 24 14:20:55 2007 +0000

    set properties changes muc message type="groupchat" to make server happy
    
    
    20070824142055-7fe3f-28990feda1729ecd7dff91667fe3a556f8b1b5af.gz

 src/conn-olpc.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit d27347f1a85b3ca69bf5965d18745de45e6b18f3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 24 12:33:00 2007 +0000

    always add the invitee handle in the set when catching the pre-invite signal
    
    
    20070824123300-7fe3f-257cb1804c6a9c16aa7b1b90be77e96fe855c928.gz

 src/conn-olpc.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ea7780412d06d5ca3f31be36913a7aebfec49055
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 23 15:10:51 2007 +0000

    conn-olpc: add boolean check in check_prop_in_old_properties so we can know if the privacy status of the activity was changed
    
    
    20070823151051-7fe3f-20554957d5d1d23ddb4e7ea6e4fc445591283779.gz

 src/conn-olpc.c |   13 ++++++++++++-
 1 files changed, 12 insertions(+), 1 deletions(-)

commit 9208a66fcd70a9b96f5f23556ad8e5ee63fdd9d9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 23 14:26:17 2007 +0000

    Don't crash when a contact with no advertised activities goes offline
    
    
    20070823142617-53eee-22fd0b19b1479004638cc8afaad486badf3d07c6.gz

 src/conn-olpc.c |   10 ++++++----
 1 files changed, 6 insertions(+), 4 deletions(-)

commit cb09e43e33f0fe7f71378e3b356c5e4a6fd8fd7f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 23 13:48:47 2007 +0000

    Get MUC channel self-handle correctly
    
    
    20070823134847-53eee-bb6404b724a3d48e73af3e141284f4ff8b979345.gz

 src/conn-olpc.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit d208000a9159836292ca55fe95353a296b2439b1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 22 14:55:20 2007 +0000

    Only re-send pseudo-invitations if activity properties actually changed
    
    
    20070822145520-53eee-d2625223fe3bd8fa8bd63bbe8964ce856ac266fe.gz

 src/conn-olpc.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b52c0a316aa6d6f02e0f359934d31b4b483f34c7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 22 14:55:06 2007 +0000

    Ignore echoed activity properties messages in MUCs
    
    
    20070822145506-53eee-58b3a7c5b0e5e6ce87f154e0e8a44f972aa45de6.gz

 src/conn-olpc.c |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit 84dc47a6e8789a50235598d9a5410e31eeca3699
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 22 13:53:15 2007 +0000

    Refresh invitations when someone else changes activity properties too
    
    
    20070822135315-53eee-fcf9dc2e1fbdb63cd87b6182d2b36f9754aa01af.gz

 src/conn-olpc.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 9373dac02340ed645422ee652e62aa5eb6624da1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 22 13:44:56 2007 +0000

    Send re-invitations to people we already invited when we change activity properties
    
    
    20070822134456-53eee-9aa418bd7b392ba7cc5f624ce463835412f620cb.gz

 src/conn-olpc.c |   78 ++++++++++++++++++++++++++++++++++++++++++++++++++----
 1 files changed, 72 insertions(+), 6 deletions(-)

commit 48c751ca0553795dbcbec159a134c537b5b28108
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 22 11:07:07 2007 +0000

    Drop now-unused set_activity_properties helper function
    
    
    20070822110707-53eee-85883aabfcbaa8d86b6091f8c884532b0d207e6b.gz

 src/conn-olpc.c |   11 -----------
 1 files changed, 0 insertions(+), 11 deletions(-)

commit 82b6b6a262f36218f2900fd3786a7d8a4376d2f9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 22 11:06:03 2007 +0000

    In activity properties PEP uploads, only include things in our advertised activities list
    
    
    20070822110603-53eee-6b56154958495b91e158a454809790a0d60ef60c.gz

 src/conn-olpc.c |   20 +++++++++++++++++---
 1 files changed, 17 insertions(+), 3 deletions(-)

commit 1341b2906e2e424304e771f1216228eee5b1d064
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 22 11:05:32 2007 +0000

    When resetting PEP on initial connection, use upload_activities_pep() and upload_activity_properties_pep()
    
    
    20070822110532-53eee-5fcbc2d3fc01b090c8c72a80e6addc2ce4bf3000.gz

 src/conn-olpc.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit f1a73c66141ec252fba6a19e7383e47f1d7c7ed7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 22 10:11:43 2007 +0000

    When we leave a public activity, delete it from our PEP
    
    
    20070822101143-53eee-64faa23e5047b46d5214188099a25b0015b1abf6.gz

 src/conn-olpc.c |   29 +++++++++++++++++++++++++++--
 1 files changed, 27 insertions(+), 2 deletions(-)

commit 906166a925bdb81e4bdee73838e186448cbbc932
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 21 17:23:07 2007 +0000

    Emit ActivitiesChanged when someone invites us. Alter our PEP activities list if someone else changes activity privacy
    
    
    20070821172307-53eee-8a30781ff7645b23f7252c4892de2baa0523a4b0.gz

 src/conn-olpc.c |  242 ++++++++++++++++++++++++++++++++++--------------------
 1 files changed, 152 insertions(+), 90 deletions(-)

commit 6ea70e07c21bd7ae1496f7e02f21f27889c8306c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 21 16:31:36 2007 +0000

    Emit ActivitiesChanged(handle, []) when someone goes offline
    
    
    20070821163136-53eee-2b719c0f011fb91985309583e0f2b7a29eb8f06b.gz

 src/conn-olpc.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit e36705d215464478f4abdae4e66700357f88cf98
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 21 16:30:01 2007 +0000

    Avoid advertising private activities in PEP
    
    
    20070821163001-53eee-d7a74883964fc757f72b88e89f2758b3ed1503e4.gz

 src/conn-olpc.c |  203 ++++++++++++++++++++++++++++++++++++++++++++++++------
 1 files changed, 180 insertions(+), 23 deletions(-)

commit 682c8f01377efc72ee022f63e77589fbf90f9b19
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 21 15:35:34 2007 +0000

    In activity SetProperties implementation, add missing return in error path
    
    
    20070821153534-53eee-9b28cb38bc12d7d756c4649b5d78841da94e2601.gz

 src/conn-olpc.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 8caddbaa646d9b5353358fdb9f1dd68795d0684f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 21 11:42:04 2007 +0000

    Notify MUCs when we change the activity properties
    
    
    20070821114204-53eee-eae321df1fb96624d9a7a99780b3546c7f1013e5.gz

 src/conn-olpc.c |   31 +++++++++++++++++++++++++++++++
 1 files changed, 31 insertions(+), 0 deletions(-)

commit 42660905852a1461c70a84756b20c6c6d7bc38e3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 21 11:41:42 2007 +0000

    Don't leak outgoing message when sending SetProperties() PEP
    
    
    20070821114142-53eee-cd23870dd5f5f3c465f763f2cd84124d23612f5f.gz

 src/conn-olpc.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 0b00a315c38bec2a942f79bb3c0769b8e11b3ac1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 21 11:05:00 2007 +0000

    Allow activity property changes to be signalled via broadcasts in MUCs (same format as the pseudo-invitation, except @room is optional and ignored)
    
    
    20070821110500-53eee-cd0db1de4cfea7d78921a10707a1e272adfddf59.gz

 src/conn-olpc.c |  208 +++++++++++++++++++++++++++++++++++++++++++------------
 1 files changed, 162 insertions(+), 46 deletions(-)

commit 0e45e2862898e5fd435207e9e8e36e34d9428e6f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 21 11:04:35 2007 +0000

    Expose GabbleMucState enum in gabble-muc-channel.h so the state property can be interpreted correctly
    
    
    20070821110435-53eee-485826770b8b53e67d8f75f2a92d397225567c9c.gz

 src/gabble-muc-channel.c |    8 --------
 src/gabble-muc-channel.h |    8 ++++++++
 2 files changed, 8 insertions(+), 8 deletions(-)

commit 1a1ce1834fbaad7efe30d0b2b894bff3bb9299c2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 21 10:59:51 2007 +0000

    Simplify removal of closed channels from activity property records
    
    
    20070821105951-53eee-a3704e41e0fe23aeae1140fa295f333c17b89e9e.gz

 src/conn-olpc.c |   22 +++++++++++++---------
 1 files changed, 13 insertions(+), 9 deletions(-)

commit 991bf961ecbb7e7df5b347cdcc9097cc0ed3d058
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 21 10:58:42 2007 +0000

    Only put public activities in PEP activity-properties node
    
    
    20070821105842-53eee-2e2a5e627b2fce0b90bdb7638eeaf39744ecb8fd.gz

 src/conn-olpc.c |   36 +++++++++++++++++++++++++++++++++---
 1 files changed, 33 insertions(+), 3 deletions(-)

commit 14313881277fcee4cbe1ae4992603ac41b59bbe1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 20 17:19:35 2007 +0000

    conn-olpc: Use handle sets rather than linked lists of ActivityInfo
    
    
    20070820171935-53eee-7927cfff52da266223407dc0ff6a0355da20cbb9.gz

 src/conn-olpc.c |  222 ++++++++++++++++++++++++++++++-------------------------
 1 files changed, 122 insertions(+), 100 deletions(-)

commit 120b96375ef6ca854a043c5002f7f4e64e06772f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 20 16:15:12 2007 +0000

    Harvest activity info from pseudo-invitation messages
    
    
    20070820161512-53eee-b715de050997c34ab28aa5c0b33d8b1d1d687387.gz

 src/conn-olpc.c |   80 ++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 79 insertions(+), 1 deletions(-)

commit fb8b04395ed0d0a459be649ca310f4ed5f9166a8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 20 16:13:33 2007 +0000

    Put private (invited) activities in the return from GetActivities()
    
    
    20070820161333-53eee-478e0ae3ef09f18d5f1ce9c43f1d34820d755838.gz

 src/conn-olpc.c |   35 ++++++++++++++++++++++++++++++++++-
 1 files changed, 34 insertions(+), 1 deletions(-)

commit 9d4b3598eff79033fe5ea9d86cddbf10d469baf5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 20 16:11:27 2007 +0000

    Split olpc_contacts_activities into olpc_pep_activities and olpc_invited_activities
    
    
    20070820161127-53eee-9ed0416e5badcc0c757f56f07bf116a8da5fd50a.gz

 src/conn-olpc.c         |   79 ++++++++++++++++++++++++++++++----------------
 src/gabble-connection.c |    3 +-
 src/gabble-connection.h |    3 +-
 3 files changed, 55 insertions(+), 30 deletions(-)

commit 5454cb6dbd0c985aff70378d3997372307e30c84
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 20 16:11:06 2007 +0000

    Debug improvements in extract_activities()
    
    
    20070820161106-53eee-9b0e3a3a7a1ea04cee86b17b0b65f3ef7bcbd4be.gz

 src/conn-olpc.c |   25 ++++++++++++++++++-------
 1 files changed, 18 insertions(+), 7 deletions(-)

commit 31b2e32776b4bb022407f103534393a74d9c3299
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 20 16:06:38 2007 +0000

    Don't return early if pubsub reply has no <activities> - we still want to put any invited activities in the GetActivities() reply
    
    
    20070820160638-53eee-8fc0e5b501b649d9c2e267d83639af3632b6eb5c.gz

 src/conn-olpc.c |    9 ++++-----
 1 files changed, 4 insertions(+), 5 deletions(-)

commit 8a66a4e9fca332da11bdeab0aa352f382bbb70b4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 20 13:02:07 2007 +0000

    Include the activity ID in activity properties.
    
    This may mean we can get rid of the split between activities and activity
    properties in PEP eventually.
    
    20070820130207-53eee-acdd4a18c4cc5e88d7c2f21ccf85bd8643b0e258.gz

 src/conn-olpc.c |   22 ++++++++++++++--------
 1 files changed, 14 insertions(+), 8 deletions(-)

commit 5f4cac375e7279870a6f796f31d9134830d579a0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 20 13:00:26 2007 +0000

    Pick up activity IDs from SetActivities() and the corresponding PEP node
    
    
    20070820130026-53eee-8ce72d99a9543d3b5d34c6381aee3b5487244ad6.gz

 src/conn-olpc.c |   20 ++++++++++++++------
 1 files changed, 14 insertions(+), 6 deletions(-)

commit 12fd8b053a1c6e9386f508e0df3524d4ce9b6338
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 20 12:12:40 2007 +0000

    Refactor out activity_info_contribute_properties
    
    
    20070820121240-53eee-26ca0c055dd181f986a4b86bb37e3db28d6951c2.gz

 src/conn-olpc.c |   29 +++++++++++++++++++----------
 1 files changed, 19 insertions(+), 10 deletions(-)

commit 9a7c4c4e681802714e7a1871efa5df5d726820e4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 17 12:08:42 2007 +0000

    Merge -tubes and -invites versions of gabble_muc_factory_find_text_channel
    
    
    20070817120842-53eee-e22390339a8eee47953da57013189ef8371b71b9.gz

 src/muc-factory.c |   15 +++------------
 src/muc-factory.h |    2 +-
 2 files changed, 4 insertions(+), 13 deletions(-)

commit d36f305fbcf4718849a81a3fedbb611a35a6f45b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 14 19:53:33 2007 +0000

    Add gabble_muc_factory_find_text_channel (for use by conn-olpc, mostly)
    
    
    20070814195333-53eee-68c909ff75aaee8379ac67e3bdc27657e4685b6b.gz

 src/muc-factory.c |    7 +++++++
 src/muc-factory.h |    3 +++
 2 files changed, 10 insertions(+), 0 deletions(-)

commit fcaff794ae9ff7069b6669c103d247ecc81e6c45
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Sep 3 17:44:23 2007 +0000

    Resolve conflict between -tubes-muc and -trial3a
    
    
    20070903174423-53eee-cd3309c58e793bcdbec0967e8dfd1564566053e0.gz

 src/bytestream-factory.c |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit e5710506beb781bbf76e9a2cfdcc013bdd46e5f5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 28 18:22:47 2007 +0000

    use gabble_muc_factory_find_text_channel instead of gabble_muc_factory_find_channel
    
    
    20070828182247-7fe3f-d8b8454908a037d372ece4de8004b45fb9e49e29.gz

 src/bytestream-factory.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit cd9be6048e338387ac0484aae65264637d342479
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 14 11:52:58 2007 +0000

    Merge -tubes fixes with -activities
    
    
    20070914115258-53eee-1120f637254cb5cffbb8f7fddf573963a77772e1.gz

 src/gabble-muc-channel.c |   30 ++++++++++++++++++++++++++++++
 1 files changed, 30 insertions(+), 0 deletions(-)

commit 33a0436ff9ee454cdcca1aedb0f7199bdce979ac
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 24 13:20:45 2007 +0000

    stop sending invitations refresh after contact have joined the room
    
    
    20070824132045-7fe3f-687a81223928a1990376f981cc11d77402ade1e2.gz

 src/conn-olpc.c          |   17 +++++++++++++++++
 src/gabble-muc-channel.c |    2 ++
 2 files changed, 19 insertions(+), 0 deletions(-)

commit 1918933fd2fa8919df0e871dd16184c18c4f155c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 20 12:14:41 2007 +0000

    Hook up signals etc. needed for invitations. Send a pseudo-invitation with activity properties before sending each invitation
    
    
    20070820121441-53eee-bd99fff51a7c3348e245be47f9de86863fdcce05.gz

 src/conn-olpc.c   |  107 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/conn-olpc.h   |    3 +
 src/muc-factory.c |    5 ++
 3 files changed, 115 insertions(+), 0 deletions(-)

commit 03ddc11687fb27ca482200c151e082b8d63c8545
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 17 16:06:18 2007 +0000

    gabble-muc-channel: Emit a signal just before sending invitations
    
    
    20070817160618-53eee-65cc97eceba454ba4b2735af9ae3e947e43bf215.gz

 src/gabble-muc-channel.c |   12 ++----------
 1 files changed, 2 insertions(+), 10 deletions(-)

commit 5b4b1d20c56faaf3d2982746adb5033b695a2f39
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Oct 18 11:51:13 2007 +0000

    conn-avatars.c: properly propagate error in update_own_avatar_sha1
    
    
    20071018115113-01440-5d3684bbba2a8cb2b480dc65250690a576bfe2d7.gz

 src/conn-avatars.c |    8 ++------
 1 files changed, 2 insertions(+), 6 deletions(-)

commit b60a3d5f2f27d527faaf3c92948c06c9eeaa592d
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Oct 18 10:43:35 2007 +0000

    debug.c: enable request pipeline debug flag
    
    
    20071018104335-01440-ef148b58e7ededc8c3e75ca83cd065c86415ebc9.gz

 src/debug.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit ef1c3bb636b52e397c5daab8ec5090e890bd0d8d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Nov 5 11:09:56 2007 +0000

    Add telepathy-gabble.8 man page
    
    
    20071105110956-53eee-5decc76bbd5c74fd9a15e8427e75be796670ef03.gz

 _boring                    |    1 +
 docs/Makefile.am           |   12 +++++++++++-
 docs/telepathy-gabble.8.in |   37 +++++++++++++++++++++++++++++++++++++
 3 files changed, 49 insertions(+), 1 deletions(-)

commit b3ece2d3560aae48cbe9b8a492a580893e5083d8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Nov 2 17:46:38 2007 +0000

    Merge two patches both called "muc-factory: fix text_needed_for_tubes leak"
    
    
    20071102174638-53eee-75406817a2eaabe02513a17a64dba3bf9c4044f1.gz

 src/muc-factory.c |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit 416e6b81d93efe9ddc1e3f8470ecc18d4d3b711b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 29 14:48:52 2007 +0000

    muc-factory: fix text_needed_for_tubes leak
    
    
    20070829144852-7fe3f-6bee9c666ddd37a7226d8003a7597484bc740ffe.gz

 src/muc-factory.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 769493f772178ad11e7804e3f14ecd87f4d97a64
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 20 16:09:14 2007 +0000

    Use tp_strdiff for clarity
    
    
    20070820160914-53eee-3905413801db5fef5f2a31724f846a2c42779ee4.gz

 src/conn-olpc.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 7deffe43acf6b7e3d16fa76d16bb13cc72ff8fa4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 20 16:04:42 2007 +0000

    Don't segfault on <activities> replies with no @from
    
    
    20070820160442-53eee-d15ee2869bd837316cdeeee1190618297f5d1e99.gz

 src/conn-olpc.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit cdca9e6106b63e6a00b3a442862f5b3608831b25
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 14 20:05:50 2007 +0000

    If we get OLPC activity properties containing unknown types, err on the side of emitting unnecessary rather than insufficient signals
    
    
    20070814200550-53eee-738f1538599b3a4aabd9db36d9d7a00a5f77f173.gz

 src/conn-olpc.c |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit a5bcb8c76ca242813bcc52597ef2473bf602ca3e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 17 13:05:47 2007 +0000

    Trivial: no need for strlen() to check for zero length
    
    
    20070817130547-53eee-06a7ca6d5c1c2da71dff809fbafdb6c3f4b1daea.gz

 src/conn-olpc.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 849115b0e6533fc2b83f450301f77114e3891c6e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 14 19:49:16 2007 +0000

    conn-olpc: give ActivityInfo a conn member, enabling it to be self-freeing
    
    
    20070814194916-53eee-079aa36d1120e1f9d81be29dbe2beb9dc4171258.gz

 src/conn-olpc.c |   24 ++++++++++++++++--------
 1 files changed, 16 insertions(+), 8 deletions(-)

commit 1bfbb8ce903d062f59a051295bb918f17ab69a33
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 14 14:58:02 2007 +0000

    gabble-muc-channel: re-order #includes
    
    
    20070814145802-53eee-4c4e63cfd4aa63ee7a09c1d9efbd1e223c01e629.gz

 src/gabble-muc-channel.c |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit bf58cce9a95fdd2e2f5febfd0daa808269285a14
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Oct 12 14:04:39 2007 +0000

    Use ustar (POSIX 1998) tarballs to allow >99 character filenames
    
    
    20071012140439-53eee-36367a3e2aa582004c0f0dde7c9a67349c3e065f.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 1f0cec92a5c035cac9d73e9965e1f278752c9583
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Mon Oct 29 10:44:40 2007 +0000

    gabble_media_session_error(): access temporary array instead of just cleared private member
    
    
    20071029104440-01440-47b5f3a33bede5e8761f5a516ed6f1d5fb2dd230.gz

 src/gabble-media-session.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 53d3887290c26ba52c31e82e19e68d90bf5a645a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Oct 26 11:00:17 2007 +0000

    Install telepathy-gabble in libexecdir, adjust .service accordingly
    
    
    20071026110017-53eee-cc8dc001ab35e3adb265ba37ac03ae18e9eb5c5d.gz

 data/Makefile.am                                   |    4 ++--
 ...p.Telepathy.ConnectionManager.gabble.service.in |    2 +-
 src/Makefile.am                                    |    2 +-
 3 files changed, 4 insertions(+), 4 deletions(-)

commit 15278c1f09a33c0fc4d4f72520a757ca0fd6d577
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Oct 15 15:48:38 2007 +0000

    port test-set-alias.py to new test API
    
    
    20071015154838-c9803-3d471d27a5ab562aedaaed2f93573c40d7777295.gz

 tests/test-set-alias.py |   62 +++++++++++++---------------------------------
 1 files changed, 18 insertions(+), 44 deletions(-)

commit 16632cc27b48972181bf0ab50b8d13bc75826b61
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Oct 15 15:10:43 2007 +0000

    port test-alias-pep.py to new test API
    
    
    20071015151043-c9803-ad02eaa8ef39280271af1547bd431adb92cd7fa6.gz

 tests/test-alias-pep.py |   83 +++++++++++++++-------------------------------
 1 files changed, 27 insertions(+), 56 deletions(-)

commit 69fe7f97a10d866408e3fc45ba42cf903239b21f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Oct 15 13:21:06 2007 +0000

    servicetest.py: wrap connection proxy in interface helper
    
    
    20071015132106-c9803-bc1383d4a66c2fcf2358a1d68e842ff1ffadb35d.gz

 tests/servicetest.py |   23 ++++++++++++++++++++++-
 1 files changed, 22 insertions(+), 1 deletions(-)

commit 195536224b7c8a2c29d4cd390fc6830d1a80feb8
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Oct 15 12:52:55 2007 +0000

    gabbletest.py: cope with IQ not having a "to" attribute
    
    
    20071015125255-c9803-b999b088e262f0e5a5d4c3d43e63f9fccdd90add.gz

 tests/gabbletest.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9a0cb51fa9be121b5d6ac6bd717a552ee0c26f21
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Oct 15 12:52:03 2007 +0000

    gabbletest.py: add exec_test()
    
    
    20071015125203-c9803-d1ba70d4f744fd47c39b047f234cd9e9fb54646a.gz

 tests/gabbletest.py |   43 +++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 43 insertions(+), 0 deletions(-)

commit 847b0576d6cd837e8de1a3fcf8da7d6be5e5578c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Oct 15 12:45:38 2007 +0000

    port test-alias-empty-vcard.py
    
    
    20071015124538-c9803-dcd4a7203fb1956ee59d5a4369ab759c2cb5bed7.gz

 tests/test-alias-empty-vcard.py |   80 +++++++++++++--------------------------
 1 files changed, 26 insertions(+), 54 deletions(-)

commit 3d76b7c28c6fce31918c5a0faa7fe7b5671994b6
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Oct 15 12:45:04 2007 +0000

    port test-alias.py to new test API
    
    
    20071015124504-c9803-9729338b715dc7cef7ce94ed80c3c1be6b8d2309.gz

 tests/test-alias.py |   93 ++++++++++++++++-----------------------------------
 1 files changed, 29 insertions(+), 64 deletions(-)

commit 4191bd6d9628c816d2fbcd85ee39fd3e258c26ab
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Oct 15 12:19:41 2007 +0000

    port test-connect.py to new test API
    
    
    20071015121941-c9803-b7703ceb1595413b7afce9fe10b6312cd55a2d5d.gz

 tests/test-connect.py |   37 ++++++++++++-------------------------
 1 files changed, 12 insertions(+), 25 deletions(-)

commit 8939c26277df29cb3b4d65221926f28c518923c2
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Sep 25 16:00:42 2007 +0000

    make exec-with-log.sh executable after generating it
    
    
    20070925160042-c9803-938a2bd677915d0af55759cc2ca02ce90b65f62b.gz

 tests/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit fcab2f7853313b510db245eb72f35422955de7cd
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Sep 25 15:59:58 2007 +0000

    don't make sed commands quiet when generating test support files
    
    
    20070925155958-c9803-2a83e842d9743349064544199259ec4482af2427.gz

 tests/Makefile.am |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit bc75f2545d8ecc07bbed12ead80baeaf1e6092ee
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Sep 25 15:34:43 2007 +0000

    fix logging in EventQueue.demand()
    
    
    20070925153443-c9803-ccc180a561c0ec437a56c173f2b99c49341e7df6.gz

 tests/servicetest.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 4651284412999c1dc9c7287483576d6ed28d1576
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Sep 24 14:47:39 2007 +0000

    make IteratingEventQueue.handle_event a synonym for .append, so that it can be passed to call_async
    
    
    20070924144739-c9803-9544fdae7f3959aeed3a0e0ac5dff12de31ed281.gz

 tests/servicetest.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit ece644d37adefb7c245ca6555cd357fdba566208
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Sep 24 12:15:22 2007 +0000

    servicetest.py: unwrap D-Bus method return values
    
    
    20070924121522-c9803-5cab0a008d1fa30a26c6a0fa288eebd22728d9af.gz

 tests/servicetest.py |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 4c0038c98915910f38e3acacffe9bac579dba694
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Sep 24 11:44:39 2007 +0000

    tests/Makefile.am: add test-google-roster.py to TWISTED_TESTS
    
    
    20070924114439-c9803-46c07ab0a1bb303c716bbd977af02cf11cf3901f.gz

 tests/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit ba706fa4f08aee7f6f1b03413471201a60190876
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Sep 24 11:38:35 2007 +0000

    make_result_iq(): copy query element's name into result stanza
    
    
    20070924113835-c9803-19756568f463a2ed22ed169deabc4282ae13dd81.gz

 tests/gabbletest.py     |    2 +-
 tests/test-alias-pep.py |    2 +-
 tests/test-alias.py     |    3 +--
 3 files changed, 3 insertions(+), 4 deletions(-)

commit 3ccc93486f4aa10860e7b1239f92655cdfafd600
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Sep 21 15:27:56 2007 +0000

    gabbletest.py: add presence_type property to steam-presence events
    
    
    20070921152756-c9803-180893a9f9f7417feb47a1cb8fb52576ab3f1942.gz

 tests/gabbletest.py |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit 74e9a74d950c6353a2ada136681d30ee27f236af
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Sep 21 15:10:18 2007 +0000

    gabbletest.py: generalise IQ event's query property to any subelement; add query_name property
    
    
    20070921151018-c9803-d17380d51eec96170db8bd20ad38ef5961c8cf43.gz

 tests/gabbletest.py |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

commit 22e7829a9437dfaf040b0efd7314b9243d788a1c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Sep 20 15:55:51 2007 +0000

    make prepare_test functions return tuples instead of hashes
    
    
    20070920155551-c9803-192d6852fbc3180decc8de9569cfa4883c79435c.gz

 tests/gabbletest.py  |   18 ++++++++++++------
 tests/servicetest.py |    6 +-----
 2 files changed, 13 insertions(+), 11 deletions(-)

commit 5c0173fd7ac1001bce24a834a19c26aaf5309c8d
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Sep 20 15:40:08 2007 +0000

    use t.i.p.Factory with pre-instantiated stream instead of own XmlStreamFactory
    
    
    20070920154008-c9803-5394efd52180266011b4599cf558ad343bbed06c.gz

 tests/gabbletest.py |   29 ++++-------------------------
 1 files changed, 4 insertions(+), 25 deletions(-)

commit ae6b2c878e8b2fadee03d27e7b52edce36f36604
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Sep 20 14:23:39 2007 +0000

    servicetest.py: don't include CM in test data
    
    
    20070920142339-c9803-a00775e8a44e753c9112e97e4f0039fda5c0afd6.gz

 tests/servicetest.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 228d73b356309d3c8421119759504e9be44c8d7f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 19 21:12:06 2007 +0000

    servicetest.py: run tests if invoked
    
    
    20070919211206-c9803-82fff21d92dff64906781c4dc4a5b86f66d031a0.gz

 tests/servicetest.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 4fcabbff8c8799dd4f83b6067f1994e57e933b0a
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 19 21:08:39 2007 +0000

    add EventQueue and supporting code
    
    
    20070919210839-c9803-24ce3eab33cc3c00939fa7c6ce2ea2311b254658.gz

 tests/servicetest.py |  150 ++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 150 insertions(+), 0 deletions(-)

commit 1b1e56abb344b326e3033e2415238bd1bd0c5aed
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 19 21:06:47 2007 +0000

    fold servicetest.run_test into gabbletest.go as it doesn't do much
    
    
    20070919210647-c9803-2db5e47c913c245adbf10f59f9b728f78c3f0b20.gz

 tests/gabbletest.py  |   15 +++++++++++++--
 tests/servicetest.py |   20 --------------------
 2 files changed, 13 insertions(+), 22 deletions(-)

commit d5b9088ec4edf7f91b878ab916ad256cf566e9e6
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 19 20:44:08 2007 +0000

    servicetest.py: refactor event formatting
    
    
    20070919204408-c9803-4665f04efa7ddb2793e32e07007f5e6d57b24cac.gz

 tests/servicetest.py |   21 ++++++++++++++-------
 1 files changed, 14 insertions(+), 7 deletions(-)

commit e6d0a8c18e50e30399ee9e5f9161cf75f80caf6a
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 19 20:23:47 2007 +0000

    refactor gabbletest.go()
    
    
    20070919202347-c9803-a6250493af6aabf713a30d1f2340c7b9191fa8a6.gz

 tests/gabbletest.py |   26 ++++++++++++++++----------
 1 files changed, 16 insertions(+), 10 deletions(-)

commit 1d51425337882e7001e50460fd621f7d4427b6b8
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 19 20:17:23 2007 +0000

    make BaseXmlStream take function instead of handler object
    
    
    20070919201723-c9803-31c8a34f2e9bdee37434fcde592cc49d54d4ec4c.gz

 tests/gabbletest.py |   28 ++++++++++++++++------------
 1 files changed, 16 insertions(+), 12 deletions(-)

commit 4090273b4514399a17718d4a2d4ab0f77f47dace
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 19 20:00:11 2007 +0000

    servicetest.py: make prepare_test take handler function and return data
    
    
    20070919200011-c9803-2ba64f4d240eab5f34a95fb857c0c33d68d0402c.gz

 tests/gabbletest.py  |    4 +++-
 tests/servicetest.py |   15 +++++----------
 2 files changed, 8 insertions(+), 11 deletions(-)

commit b6662f84fb060f1e7ac6be64fa3ecd9680d120da
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 19 19:52:31 2007 +0000

    servicetest.py: factor out event handler loading
    
    
    20070919195231-c9803-1080ee182de6d107f8023d24db14df57b52859b0.gz

 tests/servicetest.py |   10 ++++++++--
 1 files changed, 8 insertions(+), 2 deletions(-)

commit 2484f135cd61bd767b3f8fadf6ded96a752c2dc3
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Sep 19 19:36:39 2007 +0000

    gabbletest.py: remove factory from test data as it's useless
    
    
    20070919193639-c9803-621f4f76ebe323200495abfdfe205b1f70699385.gz

 tests/gabbletest.py |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit ea889e26594864f4e9be88afeb66c43e4e62c9da
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 25 16:00:13 2007 +0000

    gabble-media-session: pass NULL as reply_func to _send_with_reply instead of using our own ignore_reply_cb
    
    
    20071025160013-7fe3f-e0f60a86f52bf3d1734c5e5d7fd1aa2db3f46d7a.gz

 src/gabble-media-session.c |   16 ++--------------
 1 files changed, 2 insertions(+), 14 deletions(-)

commit 3036933f733622e3002e9d57dfea905e2c421f06
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 25 15:57:42 2007 +0000

    bytestream-ibb: pass NULL as reply_func to _send_with_reply instead of using our own ignored_reply_cb
    
    
    20071025155742-7fe3f-35dcb914b620d1a6140d0b8c15e5c575ad1d7d64.gz

 src/bytestream-ibb.c |   16 +++-------------
 1 files changed, 3 insertions(+), 13 deletions(-)

commit b52e1c72204314b44568771b3aee159b87acca5b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 25 15:56:01 2007 +0000

    conn-olpc: pass NULL as reply_func to _send_with_reply instead of using our own ignored_reply_cb
    
    
    20071025155601-7fe3f-71de10c3032c94ca4145f2d8c262d3022096ee07.gz

 src/conn-olpc.c |   13 +------------
 1 files changed, 1 insertions(+), 12 deletions(-)

commit 68537e717f2f1e05a4c7f63826f59423b00ed372
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 25 15:55:00 2007 +0000

    gabble-connection: allow reply_func to be NULL in _gabble_connection_send_with_reply
    
    
    20071025155500-7fe3f-331d36664890191a63cd646eb156412b17243687.gz

 src/gabble-connection.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 5491b6cefd6d2255204aff3da0b39a07675589f3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 25 15:27:13 2007 +0000

    bytestream-ibb: use _gabble_connection_send_with_reply when sending the IBB close IQ so connection_iq_unknown_cb is not called
    
    
    20071025152713-7fe3f-926d2304296aa7c96630416cf550ee39de445c97.gz

 src/bytestream-ibb.c |   15 ++++++++++++++-
 1 files changed, 14 insertions(+), 1 deletions(-)

commit e75a2ea1d1e7172ba38533a93f744fb93333ee9b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 25 15:02:51 2007 +0000

    conn-olpc: always use _gabble_connection_send_with_reply so connection_iq_unknown_cb is not called
    
    
    20071025150251-7fe3f-737345b8f3eaa96e0757f26620db2c14980b80a4.gz

 src/conn-olpc.c |   14 +++++++++++++-
 1 files changed, 13 insertions(+), 1 deletions(-)

commit dc5c34eb30ae3750be4b5d0bc063cf7984b5d5c0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 18 13:23:12 2007 +0000

    muc-factory: remove useless double instructions
    
    
    20071018132312-7fe3f-cbe3926074b90c627d14d1790073598711ec5964.gz

 src/muc-factory.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 6eb6cf75401077ef2db59a6885d2e6003c81a540
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 18 13:20:26 2007 +0000

    muc-factory: fix text_needed_for_tubes leak
    
    
    20071018132026-7fe3f-8e97ef02bfa3841bd29f0a85426291b4ab15528d.gz

 src/muc-factory.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 3e5a0e9e0f53579c1a63421f38b13fc2209c0d7b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 18 13:14:01 2007 +0000

    tube-stream: close_each_extra_bytestream: Don't remove element from priv->fd_to_bytestream hash table when we are iterating over it. Fix a memory corruption bug
    
    
    20071018131401-7fe3f-5bb26d71c54dea9ea73bf4ba1569e647b6966575.gz

 src/tube-stream.c |   21 +++++++++++++++++++--
 1 files changed, 19 insertions(+), 2 deletions(-)

commit ce931332aa8003a67be87bc275ada5afe3178544
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 18 12:20:44 2007 +0000

    add parentheses around the expansion of GABBLE_XMPP_ERROR
    
    
    20071018122044-7fe3f-1d0a2bf56d4e693d56359d38d3b25043b6352a69.gz

 src/gabble-error.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 78f1f75f93a4641588965a33dd421c29bd0ad29a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 18 12:19:29 2007 +0000

    drop INVALID_XMPP_ERROR. Use XMPP_ERROR_UNDEFINED_CONDITION instead
    
    
    20071018121929-7fe3f-587e4cecbbb71a30e3c5a41d89ff11e1c56e9e6c.gz

 src/gabble-error.c       |    4 ++--
 src/gabble-error.h       |    1 -
 src/gabble-muc-channel.c |   12 ++----------
 src/gabble-register.c    |   14 ++++----------
 src/media-factory.c      |    5 ++---
 5 files changed, 10 insertions(+), 26 deletions(-)

commit 2c86ddb242c5a384b11f99b430f2b399df640544
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 18 12:10:24 2007 +0000

    gabble-error: update copyright and drop @author
    
    
    20071018121024-7fe3f-fcfb8b9ab51be8633fb015f0e62cbe1eec9faf26.gz

 src/gabble-error.c |    3 +--
 src/gabble-error.h |    3 +--
 2 files changed, 2 insertions(+), 4 deletions(-)

commit 78c83f85027d4712550aa44b9f8ad330e44b1f93
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 18 12:09:38 2007 +0000

    gabble_xmpp_error_to_node shouldn't accept XMPP_ERROR_UNDEFINED_CONDITION
    
    
    20071018120938-7fe3f-d999989472731f8d43fd226302afdfda66371f31.gz

 src/gabble-error.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit e6c28c4ed64151ddfbe90b111f990616ed99d66f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 18 12:08:25 2007 +0000

    gabble-error: use the NS when looking for the error child
    
    
    20071018120825-7fe3f-3c16b747212ff9e27c212f0f9e1aaf1b05c215b6.gz

 src/gabble-error.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit b64e90ddb8e60ca42cfd450658e5f5ca09c5e3d0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 18 12:06:35 2007 +0000

    move XMPP_ERROR_UNDEFINED_CONDITION to index 0 of xmpp_errors
    
    
    20071018120635-7fe3f-ca3428ffb19c46f0fc61dd67d7a96f813f51752d.gz

 src/gabble-error.c |   26 +++++++++++++++-----------
 src/gabble-error.h |    4 ++--
 2 files changed, 17 insertions(+), 13 deletions(-)

commit a5aed96ffdb2901bbe8a80eb3d78283be5f13096
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 18 12:02:22 2007 +0000

    use XMPP_ERROR_UNDEFINED_CONDITION instead of XMPP_ERROR_UNKNOWN
    
    
    20071018120222-7fe3f-12d0baacf43efac7e68158dbb2a58de634973182.gz

 src/gabble-error.c |    6 +++---
 src/gabble-error.h |    2 --
 2 files changed, 3 insertions(+), 5 deletions(-)

commit 742b32319630ad270fc688932e68937bdd231d62
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 18 12:00:13 2007 +0000

    rename XMPP_ERROR_JINGLE_UNKOWN_SESSION to XMPP_ERROR_JINGLE_UNKNOWN_SESSION
    
    
    20071018120013-7fe3f-cef51a3e6dd28704c485aaaf4f4ec8d235cf06cc.gz

 src/gabble-error.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit bd43e0fb622a994fc55904fe949e67ca700ceb8f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 18 11:58:26 2007 +0000

    gabble-error: set NS to GIBBER_XMPP_NS_STANZAS instead of NULL
    
    
    20071018115826-7fe3f-c927e1b37e7b54f1fe4f7153ac9bf3fa35d9a8e9.gz

 src/gabble-error.c |   44 ++++++++++++++++++++++----------------------
 1 files changed, 22 insertions(+), 22 deletions(-)

commit b9589b0d6c673f11ab6c3efd45e1cad68831d53f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 17 14:17:43 2007 +0000

    remove gabble_xmpp_error_to_g_error as we don't use it anymore
    
    
    20071017141743-7fe3f-e5d3ab78811c6e153042a3f5c86946d5df1b1c72.gz

 src/gabble-error.c |    2 +-
 src/gabble-error.h |    1 -
 2 files changed, 1 insertions(+), 2 deletions(-)

commit 18e4c7be5dc2046454253bbd271bd0818acdd458
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 17 14:13:18 2007 +0000

    use gabble_message_get_xmpp_error instead of gabble_xmpp_error_to_g_error and gabble_xmpp_error_from_node
    
    
    20071017141318-7fe3f-d436324f452a170f884feb3ea95dad342b0137d2.gz

 src/disco.c         |    9 +--------
 src/vcard-manager.c |    8 +-------
 2 files changed, 2 insertions(+), 15 deletions(-)

commit 1e9d06de043fe207e6c8a9736eb79a48589f1be9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 17 13:54:32 2007 +0000

    gabble-error: use the NUM_XMPP_ERRORS when iterate
    
    
    20071017135432-7fe3f-5fce3e6f4b2d59c8f86d3d0e21070d75b466ad9f.gz

 src/gabble-error.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 9e5ef464ce140c44e818e853f0bbce0023aa2cad
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 17 13:51:15 2007 +0000

    gabble-error: make NUM_XMPP_ERRORS > XMPP_ERROR_UNKNOWN so it is *really* the number of "defined" errors
    
    
    20071017135115-7fe3f-3b3d959d66f778c0b65cf6024b6458f2f38417d1.gz

 src/gabble-error.h |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 7594414753d8641103ea422faf308f8ee6d48e4a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 17 13:24:26 2007 +0000

    gabble-error: gibber_xmpp_error_from_node iterate errors backward so highest priority error will be choiced first
    
    
    20071017132426-7fe3f-0a7228d7b2f86450ad707976439ddfc161523187.gz

 src/gabble-error.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 58eda41701ecbbf5d601a558c25a4defc0e2c4ab
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Oct 17 12:46:03 2007 +0000

    gabble-error: fix assertion in gabble_message_get_xmpp_error
    
    
    20071017124603-7fe3f-f69c679173caba8e85e9c2ec2b7dabb495209564.gz

 src/gabble-error.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7ac3eb4f019e1ac6017caef34c148c32fe0ade0b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 16 12:49:28 2007 +0000

    tubes-channel: check if we have to publish the tube *before* adding the <tube> markup
    
    
    20071016124928-7fe3f-49acd595e43db5269fdc3df6162d26e92aa65190.gz

 src/tubes-channel.c |   21 ++++++++++++---------
 1 files changed, 12 insertions(+), 9 deletions(-)

commit c8cf925992975fb357c5219abbfc48718a8597ee
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 16 10:51:07 2007 +0000

    tubes-channel: fix a leak when we don't announce a stream tube because we didn't initiate it
    
    
    20071016105107-7fe3f-6610a99cb1504cf3769787e27da593fb21decd05.gz

 src/tubes-channel.c |    9 ++++++---
 1 files changed, 6 insertions(+), 3 deletions(-)

commit 51a4755d87d6ff128079d2ae876f95f8287dc26d
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Oct 10 08:54:04 2007 +0000

    RequestPipeline, VCardManager: increased pipeline bandwidth, timeouts and cache entry ttl
    
    
    20071010085404-01440-83c7bd987fc539423057f9d80970cffb3ee5c5f7.gz

 src/request-pipeline.c |    2 +-
 src/vcard-manager.c    |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit f06aad0e244f83bd456596a9b8711b0ccebe6dc4
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Oct 5 13:46:07 2007 +0000

    GabbleVCardManager: destroy pending edits if GET request for our VCard failed
    
    
    20071005134607-01440-4d62f8dc72ff92a5731adc5d3ccdad0164abeafd.gz

 src/vcard-manager.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit d26e051aa304e382d473b08a66e79646b59b4361
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Oct 11 16:11:58 2007 +0000

    tube-stream: Use "%"G_GSIZE_FORMAT instead of "%zu" to print size_t quantities
    
    
    20071011161158-53eee-a7b0216867d37ab1bb817efe7fcea8fcca53309b.gz

 src/tube-stream.c |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

commit c5dc76090cd0538373d342868f6ffa27929a824f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Sun Oct 7 20:54:40 2007 +0000

    tube-stream: fix an indentation bug
    
    
    20071007205440-7fe3f-e2ab63567296707985417137cf8b9257d6c19bc5.gz

 src/tube-stream.c |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit d6fa70a7f1808a357bd258abd0673004eb53fe8a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Sun Oct 7 16:27:40 2007 +0000

    tube-stream: fix a crasher when disposing a not accepted tube
    
    
    20071007162740-7fe3f-688887358307bce75f6293fdf34ada2c87dc23b0.gz

 src/tube-stream.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 98455e1b0cd2e783a98205e67dd0cdcd867cf852
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 23:48:21 2007 +0000

    tube-stream: use %zu instead of %d in the "unix path is too long" message
    
    
    20071005234821-7fe3f-c8f82d6340437ebbe3c70a088f33a73a130a8a2f.gz

 src/tube-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b437b4e01c9ecc4dc6b2daed5f13abf36f1f80b9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 23:43:37 2007 +0000

    add IPV6 sockets to GetAvailableStreamTubeTypes
    
    
    20071005234337-7fe3f-7277f3366857b5d0e6a84310009ade4edad524cd.gz

 src/tubes-channel.c |   11 ++++++++++-
 1 files changed, 10 insertions(+), 1 deletions(-)

commit 1e0ddfca6b6c1e5637dc51f96b15129c8fd8b436
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 22:45:49 2007 +0000

    tube-stream: add support to accept IPv6 sockets
    
    
    20071005224549-7fe3f-c8c35c95b04d1c43bc6af52a2593b938a8c40723.gz

 src/tube-stream.c   |   52 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/tubes-channel.c |    3 +-
 2 files changed, 54 insertions(+), 1 deletions(-)

commit d3aa378e5ac31da946c24e4e0f38799515177b52
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 22:26:04 2007 +0000

    tube-stream: add suport to offer IPv6 sockets
    
    
    20071005222604-7fe3f-effce9b66a74fef6de2d5cbc667fe08f03a33596.gz

 src/tube-stream.c |   33 ++++++++++++++++++++++++++-------
 1 files changed, 26 insertions(+), 7 deletions(-)

commit 28a626fe7b0b892ce1f48b49e091abc51fc2f21c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 22:16:48 2007 +0000

    tube-stream: check access_control param for IP sockets
    
    
    20071005221648-7fe3f-5b76e9a87eb969c9f27c4b1284e4ff45f82320b1.gz

 src/tube-stream.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit b557d29e72742f7eb6b35be3e50fb1a3736f8d2d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 22:12:28 2007 +0000

    tube-stream: refactor gabble_tube_stream_check_params to use a switch
    
    
    20071005221228-7fe3f-0d2ba38817baab72b52b390e11299bccd370fb34.gz

 src/tube-stream.c |  164 ++++++++++++++++++++++++++++------------------------
 1 files changed, 88 insertions(+), 76 deletions(-)

commit 5f1e66f9e5d423d7cfc9e60438e1cf041187f020
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 22:06:15 2007 +0000

    gabble_tube_stream_check_params: check ipv6 params
    
    
    20071005220615-7fe3f-b05c8e8c2c4ff094d6ec765f53be8af94ad281d3.gz

 src/tube-stream.c |  122 +++++++++++++++++++++++++++++++++-------------------
 1 files changed, 77 insertions(+), 45 deletions(-)

commit b369eab768c8ab3b6e2ee9a9087bd2b2ab6b2822
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 21:31:32 2007 +0000

    tube-stream: uncomment ipv4 address type checking
    
    
    20071005213132-7fe3f-3bcb7bfef87c6be7428f05a3e0604a3e080a2005.gz

 src/tube-stream.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 3c9540ec4a0024b190c11f78b4e85e48f904ee4c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 18:12:56 2007 +0000

    tube-stream: use the right host <-> network conversion functions
    
    
    20071005181256-7fe3f-9ab2d5e8d33b831f45a9a490d8e897947aed16ef.gz

 src/tube-stream.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 4ad6819af9c975a09dbc0c5e29f4f9a48e6a38a6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 18:06:19 2007 +0000

    tube-stream: new_connection_to_socket: don't pass the port number to getaddrinfo (save a g_strdup_printf)
    
    
    20071005180619-7fe3f-3e34807ad8c0790d68acf1bfad0fd7bc14017653.gz

 src/tube-stream.c |   11 ++++-------
 1 files changed, 4 insertions(+), 7 deletions(-)

commit f8911e114e22cf9e42d2f7f59a37e2e1a2c1059b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 17:56:48 2007 +0000

    tube-stream: don't define UNIX_PATH_MAX
    
    
    20071005175648-7fe3f-5d615d9998c6815e440ba8d8e66298fc9c1bd871.gz

 src/tube-stream.c |   13 ++++++-------
 1 files changed, 6 insertions(+), 7 deletions(-)

commit 390c4dff7847f01215f71f259c61288c538b77c4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 17:50:48 2007 +0000

    tube-stream: use our SockAddr union in listen_cb instead of sockaddr_storage
    
    
    20071005175048-7fe3f-f92ee2f411c157c04aa405e0a5d5d19e55770fe4.gz

 src/tube-stream.c |   35 ++++++++++++++++++++++++++---------
 1 files changed, 26 insertions(+), 9 deletions(-)

commit 73ed498c7bba5d1ef37bd5b192982ae1cb512d47
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 17:41:59 2007 +0000

    tube-stream: gabble_tube_stream_check_params: don't allow null bytes in Unix socket path
    
    
    20071005174159-7fe3f-3e66630488c849f95897ec57fdde26f7d31d425f.gz

 src/tube-stream.c |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit bf8ee7125678d95efc17f73c389914cb91f626de
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 4 20:42:30 2007 +0000

    tube-stream: use sockaddr_storage instead of sockaddr_un in listen_cb
    
    
    20071004204230-7fe3f-21930393553b7981748496c72d76237016110d65.gz

 src/tube-stream.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit f841ef8b69655f25da12a4111a626b3672443ffb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 4 20:11:36 2007 +0000

    tube-stream: new_connection_to_socket: use a variable to store the length of the sockaddr struct that will be used by connect (if not, UNIX sockets doesn't work anymore)
    
    
    20071004201136-7fe3f-75bb32165504bff51b4d24ab909b1116c7f40bdb.gz

 src/tube-stream.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 72263e93ec4b2032edd17a2d4c536acce9aa30c8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 4 19:21:10 2007 +0000

    tube-stream: tube_stream_open: fix a overflow and save a g_strdup_printf
    
    
    20071004192110-7fe3f-83963ecb94260f45ec35809b3a27534e5015da23.gz

 src/tube-stream.c |   23 ++++++++++-------------
 1 files changed, 10 insertions(+), 13 deletions(-)

commit af79d983617ee881a825c9b74762c070b156056c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 4 19:13:03 2007 +0000

    tube-stream: use a union for sockaddr in new_connection_to_socket
    
    
    20071004191303-7fe3f-d46ca73aac9029a86b5b48c1c56a63a766c4774b.gz

 src/tube-stream.c |   16 +++++++++++-----
 1 files changed, 11 insertions(+), 5 deletions(-)

commit ea066eb1f360dc5820904a17e95d13461cd65426
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 4 17:30:52 2007 +0000

    tube-stream: gabble_tube_stream_check_params: check Unix socket path length
    
    
    20071004173052-7fe3f-4021ec9439abf6e25bba2ceeac9f4bc78a8b0fa6.gz

 src/tube-stream.c |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 31352da6ac1a5139d0247854f378e186d8cfa6b3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 4 17:26:40 2007 +0000

     tube-stream: new_connection_to_socket protect from overflow and be sure the sun_path is ended by a zero byte
    
    
    20071004172640-7fe3f-1e1658b57ff431cf6ab79a951cbf02ab07e2eb47.gz

 src/tube-stream.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit f158603c032402e2bdbda7f58a18fe64c653826d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 4 16:14:23 2007 +0000

    tube-stream: remove the port from gabble_tube_stream_check_params
    
    
    20071004161423-7fe3f-d5eaad9ae6ab83fc8fc332f36fe1f0412bfcf620.gz

 src/tube-stream.c |    8 ++------
 1 files changed, 2 insertions(+), 6 deletions(-)

commit 1f24ba8f608e01781d983535d5923ade8e0ff1de
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 4 16:11:28 2007 +0000

    tube-stream: simplify tube_stream_open: drop getaddrinfo and set port to 0 to let the OS automatically choose one
    
    
    20071004161128-7fe3f-1a7482fb38448e4c1babff45fb88eb228f1c4dd9.gz

 src/tube-stream.c |   74 ++++++++++++++++++-----------------------------------
 1 files changed, 25 insertions(+), 49 deletions(-)

commit 89efd695c6fc8672fc96c8498bffdc43ad0f7d50
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 2 16:56:40 2007 +0000

    tube-stream: add a GError argument too tube_stream_open
    
    
    20071002165640-7fe3f-4c342f2c939bc2d1dbf4831bb1084deb9fa413ed.gz

 src/tube-stream.c |   22 +++++++++++++++++-----
 1 files changed, 17 insertions(+), 5 deletions(-)

commit 0089bece0b6c15675827177140dfe49059c01ddb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 2 16:44:15 2007 +0000

    tubes-channel: return a D-Bus error if gabble_tube_iface_accept fails
    
    
    20071002164415-7fe3f-c5669cc928cff569d47dcfc4d0f2c06c424aa441.gz

 src/tubes-channel.c |   14 ++++++++++++--
 1 files changed, 12 insertions(+), 2 deletions(-)

commit df8f504e2c96cca3868bb99f85a6a873c9e288af
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 2 16:40:28 2007 +0000

    gabble_tube_iface_accept: return a bool and take a GError** as argument
    
    
    20071002164028-7fe3f-5456d1d265d7cbb83433541d872c3099997ea94f.gz

 src/tube-dbus.c     |   10 +++++++---
 src/tube-iface.c    |    9 +++++----
 src/tube-iface.h    |    4 ++--
 src/tube-stream.c   |   13 +++++++++----
 src/tubes-channel.c |    6 +++---
 5 files changed, 26 insertions(+), 16 deletions(-)

commit 3b3b7a68c191cc99f1ffc703ae8cbd10f1c61fa4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 2 16:15:41 2007 +0000

    tube-stream: don't open the tube if tube_stream_open failed
    
    
    20071002161541-7fe3f-b8092a7706666d98eb8383022b0f640f4cecd476.gz

 src/tube-stream.c |   34 +++++++++++++++++-----------------
 1 files changed, 17 insertions(+), 17 deletions(-)

commit f99cf28c6bc9b51636c5edb7d544c74b0ff91d58
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 2 16:02:54 2007 +0000

    tube-stream: coding style fix
    
    
    20071002160254-7fe3f-71469c9985194887ab091df00cbb642a3908d3b2.gz

 src/tube-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 6f596ac228f64672d6a586fbe182223468a68673
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 2 15:59:14 2007 +0000

    add IPV4 socket type in GetAvailableStreamTubeTypes result
    
    
    20071002155914-7fe3f-82bf73c0b66ca6f1a7270780c47ca9255215c8b0.gz

 src/tubes-channel.c |   21 +++++++++++++++------
 1 files changed, 15 insertions(+), 6 deletions(-)

commit bd2d63643bfd0bc6575b80b440b7177ac16b2ced
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 2 15:52:06 2007 +0000

    tube-stream: implement inet socket on the not initiator side
    
    
    20071002155206-7fe3f-ea05cb060ef8851ab3298fe95b2dce169d7f334c.gz

 src/tube-stream.c   |  113 ++++++++++++++++++++++++++++++++++++++-------------
 src/tubes-channel.c |    3 +-
 2 files changed, 86 insertions(+), 30 deletions(-)

commit eaa873b511a2748b6798db059e09615fc05b37f2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 2 14:36:12 2007 +0000

    tube-stream: fix getaddrinfo error handling
    
    
    20071002143612-7fe3f-05ba6034a5d3ac9605cb369e412c76922f231fca.gz

 src/tube-stream.c |   12 ++++++++----
 1 files changed, 8 insertions(+), 4 deletions(-)

commit 6a130d8ab87b871448731d1b0b02e615fb5337a8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 2 14:22:31 2007 +0000

    tube-stream: allow to export a inet socket
    
    
    20071002142231-7fe3f-476b20fd0449374350a42ded7cbc6163ebf6148f.gz

 src/tube-stream.c |   72 ++++++++++++++++++++++++++++++++++++++--------------
 1 files changed, 52 insertions(+), 20 deletions(-)

commit e5072fabb684bec3ec0b97781ef69e8ea8677e44
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 2 13:46:16 2007 +0000

    tube-stream: gabble_tube_stream_check_params add ipv4 support
    
    
    20071002134616-7fe3f-e5434df02e04e25bcf664b15c03b6b9f18dc8340.gz

 src/tube-stream.c |   51 ++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 50 insertions(+), 1 deletions(-)

commit 0b645f6d059f2291eabbe6ffaa1b185479bd87cb
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Oct 11 00:11:01 2007 +0000

    fix crash if the user's own avatar is in invalid base64
    
    
    20071011001101-418b8-2f91bef075f1fc0a5d68112fe08ebc42344f39b4.gz

 src/vcard-manager.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 52f237b1def0946051afcf321351b62baf31a449
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Oct 8 15:35:18 2007 +0000

    don't build dbus unique name test if we're building without dbus tubes
    
    
    20071008153518-418b8-1091567ab3d6ab460c13ab8098ff8e9e69728284.gz

 tests/Makefile.am |   21 ++++++++++++++++++---
 1 files changed, 18 insertions(+), 3 deletions(-)

commit e1cdf96bc7201e713b554832f9a0c1072f4092b9
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Oct 8 15:34:56 2007 +0000

    fix tubes-channel.c to build without support for dbus tubes
    
    
    20071008153456-418b8-3874d02fbbdda77e50865624a9439f3d8a1607aa.gz

 src/tubes-channel.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 664de91fbbacf5b65eb7498333e6d27368ae7716
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Sun Oct 7 16:23:25 2007 +0000

    bytestream-ibb: remove init of block_size as it will be done by the property constructor
    
    
    20071007162325-7fe3f-43c0c4b93a2bc0c1f5c9db9c5048d5b01580d87d.gz

 src/bytestream-ibb.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 96a85c07bcf60d7e0e1061950880aa2c859877ba
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Sat Oct 6 16:35:05 2007 +0000

    sha1_bin 3rd argument have to be "guchar" instead of "gchar"
    
    
    20071006163505-7fe3f-b346d3135d86643f2956236032ad7d63b2c78d86.gz

 src/tube-dbus.c |    4 ++--
 src/util.c      |    2 +-
 src/util.h      |    2 +-
 3 files changed, 4 insertions(+), 4 deletions(-)

commit 27155be81cc43eb0e4d8ffb0e9ced4df042f17c3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Sat Oct 6 16:05:42 2007 +0000

    tubes-channel.c: fix 2 trivial space bugs
    
    
    20071006160542-7fe3f-88fd1e30f3d2e570df0b01b81123542838dbe1ff.gz

 src/tubes-channel.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 54524269b13dac73e1467279d09674ea20f41aec
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 23:37:25 2007 +0000

    gabble-muc-channel.c: add 3rd argument to create_presence_message so we can get a pointer to <x> if we want
    
    
    20071005233725-7fe3f-2d0c7047fec4bf1d423ca6dd1ce50d3ab49ea469.gz

 src/gabble-muc-channel.c |   21 +++++++++++++--------
 1 files changed, 13 insertions(+), 8 deletions(-)

commit 33b8df8aa118dc2c3aa5f0e3710f31925af9105a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 23:31:46 2007 +0000

    tube-dbus: identation fix
    
    
    20071005233146-7fe3f-7479f703a572a5ced867ff797390bbdacd655d80.gz

 src/tube-dbus.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 80733d6d6b5a1cc6cde83adebc341d83789b5931
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 23:24:51 2007 +0000

    private-tubes-factory.c: identation fix
    
    
    20071005232451-7fe3f-8e1493d2f105de686f06f40e03178e10e734a2ff.gz

 src/private-tubes-factory.c |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

commit 71c805107ca79664e72b3a61d6e9eac0982ce8e4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 23:21:30 2007 +0000

    muc-factory: indentation fix
    
    
    20071005232130-7fe3f-e6bc5a841a49dff115fbd55f825cf9e7c18f5ab1.gz

 src/muc-factory.c |   24 ++++++++++++------------
 1 files changed, 12 insertions(+), 12 deletions(-)

commit 745dce886e01665c227f8aa220521117ae85fd1c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 22:59:27 2007 +0000

    use "%zu" as format when printing gsize (thanks to Alban Crequy)
    
    
    20071005225927-7fe3f-9b90616b60ee402c0150752acc6c7939a4b08398.gz

 src/bytestream-muc.c |    4 ++--
 src/tube-stream.c    |    6 +++---
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 49dfcf7257e315206c47cfa09a5d20349819e10a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 20:51:33 2007 +0000

    simplify gabble_tubes_channel_init
    
    
    20071005205133-7fe3f-76ed75240c9cf72cb0ac160a8fa504f631243816.gz

 src/tubes-channel.c |    5 -----
 1 files changed, 0 insertions(+), 5 deletions(-)

commit 66fe369a6e96a4cf711af36f1d5de421cee1e2d8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 20:50:34 2007 +0000

    simplify gabble_tube_dbus_init
    
    
    20071005205034-7fe3f-9b08ccd9e12dee593b92ff8d9742c9a23e66b0d4.gz

 src/tube-dbus.c |    5 -----
 1 files changed, 0 insertions(+), 5 deletions(-)

commit 6750a408f92195fa50235325ab302e6bb7aa1ac9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 20:48:51 2007 +0000

    bytestream-muc: add dispose_has_run
    
    
    20071005204851-7fe3f-bfd1f2147b565e0e245b482e32edc03a2c27a3a1.gz

 src/bytestream-muc.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 51e9184efaa22b64b6ee41cc495ce42c191d09ff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 20:45:52 2007 +0000

    simplify gabble_bytestream_factory_init
    
    
    20071005204552-7fe3f-7e6ce51e9fe4e7dbb7bb3612ab80148d4792fe01.gz

 src/bytestream-factory.c |    7 -------
 1 files changed, 0 insertions(+), 7 deletions(-)

commit 1f7b320e67898d82cd17f6a71712dd068f17ab71
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 20:45:09 2007 +0000

    bytestream-ibb: add dispose_has_run
    
    
    20071005204509-7fe3f-a9e20c40c110b91954f721985a8c970818e0f9be.gz

 src/bytestream-ibb.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit dad5f9ed5bb3d772c51bdb871fb2720caa54b684
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 20:29:23 2007 +0000

    simplify gabble_bytestream_ibb_init
    
    
    20071005202923-7fe3f-4dbddc17711586efbe0a02d87b0b6bbe3334c63b.gz

 src/bytestream-ibb.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 11d32ddf04d8e7c7e76352e31d1f0abbe3ca429f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 20:26:46 2007 +0000

    fix declaration style in few tubes related headers
    
    
    20071005202646-7fe3f-0bef40c13dc8e591afc2e039e2890f54e67d08a4.gz

 src/bytestream-iface.h |    2 +-
 src/tube-dbus.h        |    4 ++--
 src/tube-stream.h      |    2 +-
 3 files changed, 4 insertions(+), 4 deletions(-)

commit c7b1eaf9350a08941760b3092c7301b0382a2bb1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 20:23:02 2007 +0000

    bytestream-ibb: gabble_bytestream_ibb_accept: use g_object_set to change the state the the state-changed signal is emitted
    
    
    20071005202302-7fe3f-f498bb3cae5973360a84daac9e5f43b6c1fcd97b.gz

 src/bytestream-ibb.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 71fd9a83fbd73152110025c8d6923a83eb14dd88
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 20:10:02 2007 +0000

    bytestream-muc: check if base64_decode doesn't return NULL
    
    
    20071005201002-7fe3f-fdb1605d8e0b8f67d259862a1da4fff574618194.gz

 src/bytestream-muc.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit ab87d75aa0cf5352a73860f877b9e57b34b92270
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 20:07:20 2007 +0000

    bytestream-ibb: check if base64_decode doesn't return NULL
    
    
    20071005200720-7fe3f-eafc506df2f674491ce1eb63d47b9d42782515c3.gz

 src/bytestream-ibb.c |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 44a1a50b56d4547ed902886bfb02a39454fe8d84
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 20:02:53 2007 +0000

    bytestream-ibb: set the G_PARAM_CONSTRUCT flag to the block-size property so it will be properly initialized
    
    
    20071005200253-7fe3f-845c79b06023b49aedfbb29b4bd216a3fe4af5dc.gz

 src/bytestream-ibb.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 57f2815eb6e81a01e1a058b722acbdf1c5eeba99
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 19:56:08 2007 +0000

    bytestream-ibb: set default param string value to NULL instead of ""
    
    
    20071005195608-7fe3f-d89e7ed2b78b3f221062f867083058ed755a780a.gz

 src/bytestream-ibb.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit ec179767cdad0777accb8f9fd6b4164c7ae0c8f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 19:36:26 2007 +0000

    bytestream-factory: make SI reply parsing more robust
    
    
    20071005193626-7fe3f-58c16ad5e220be8370344963ae9864708e3a234c.gz

 src/bytestream-factory.c |   65 ++++++++++++++++++++++++---------------------
 1 files changed, 35 insertions(+), 30 deletions(-)

commit 769cc8860101a41a3747fcea6744a1c0d53641b0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 19:12:05 2007 +0000

    bytestream-factory: fix a typo + header declaration style
    
    
    20071005191205-7fe3f-a86bb081a58c59dad58bfbad6be9185d799cecec.gz

 src/bytestream-factory.c |    2 +-
 src/bytestream-factory.h |   12 ++++++------
 2 files changed, 7 insertions(+), 7 deletions(-)

commit 1d15854885269bd51fbaeb5398e325988a7ce05b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 18:58:03 2007 +0000

    bytestream-factory.c: identation fix
    
    
    20071005185803-7fe3f-c948f582fb833edc3c1eeb73504ef1ae45cdd577.gz

 src/bytestream-factory.c |   25 ++++++++++++-------------
 1 files changed, 12 insertions(+), 13 deletions(-)

commit a631b34640543bf82223f52a9efd74ba02c65490
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 18:55:35 2007 +0000

    bytestream-factory: be sure to don't use _gabble_connection_send_iq_error in reply to a non-iq stanza
    
    
    20071005185535-7fe3f-9b82530cda5d16751c1d36312664a029989679bf.gz

 src/bytestream-factory.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 834b73db05451df2c46e76936e7b9410c3532f15
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Oct 5 18:53:09 2007 +0000

    bytestream-factory.c: use _gabble_connection_send_iq_error and _gabble_connection_acknowledge_set_iq in handle_ibb_close_iq
    
    
    20071005185309-7fe3f-306b0624370054f5e557898bd81df5b72c08fd87.gz

 src/bytestream-factory.c |   19 +++----------------
 1 files changed, 3 insertions(+), 16 deletions(-)

commit cba1aec1eaff6abce71b94542dc65b674fb31518
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Oct 4 19:56:32 2007 +0000

    bytestream-factory: fix crash if bytestream is NULL in streaminit_reply_cb
    
    
    20071004195632-7fe3f-5db1fa51ce5d6a95effa8c6bc8013d9d263034f2.gz

 src/bytestream-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 69eaf6c36aa8339dab571febcf212673f28c1add
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 2 11:08:21 2007 +0000

    tube-stream: close the tube if an error occurs in tube_stream_open
    
    
    20071002110821-7fe3f-69b58e19bb3ce4289d2136f6e60a01194a9e270b.gz

 src/tube-stream.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 78f670aced86590144195f4c6dbe7bb4e4271e58
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Oct 2 11:03:35 2007 +0000

    tube-stream: unlink the socket if we created one
    
    
    20071002110335-7fe3f-02e2973db293a2e437fef58609e487bd79923268.gz

 src/tube-stream.c |   18 ++++++++++++++++++
 1 files changed, 18 insertions(+), 0 deletions(-)

commit ad346499433531236a1dd927a96b6ebd06ca143c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 1 14:07:06 2007 +0000

    private-tubes-factory: update the FIXME in gabble_private_tubes_factory_handle_si_tube_request
    
    
    20071001140706-7fe3f-7f87838db53b5ae6e0149b04a2cb174c1506827d.gz

 src/private-tubes-factory.c |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit 865dab3e168b296e64b95cc0ea85297cd3cd3b15
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 1 13:42:50 2007 +0000

    gabble-connection: rename tubes_factory to private_tubes_factory
    
    
    20071001134250-7fe3f-472a7ce3986385dddda081f8e06c91798ad9d719.gz

 src/bytestream-factory.c |    6 ++++--
 src/gabble-connection.c  |    6 +++---
 src/gabble-connection.h  |    2 +-
 3 files changed, 8 insertions(+), 6 deletions(-)

commit 3a3df4dd76c1c85fe6403a2f2e5c1abafb6b0d42
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 1 13:37:33 2007 +0000

    private-tubes-factory.c: wrap lines that became too long after the rename
    
    
    20071001133733-7fe3f-6094930f8322103f12d01656483cb66c80e6a18f.gz

 src/private-tubes-factory.c |   73 ++++++++++++++++++++++++++----------------
 1 files changed, 45 insertions(+), 28 deletions(-)

commit 6c92b563f7eca9df302fc0fb5fd7b60350eff66c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 1 13:32:50 2007 +0000

    rename GabbleTubesFactory to GabblePrivateTubesFactory
    
    
    20071001133250-7fe3f-5ce296148b20a656b196801c627d4185d2cae899.gz

 src/bytestream-factory.c    |    8 +-
 src/gabble-connection.c     |    2 +-
 src/gabble-connection.h     |    2 +-
 src/gabble-types.h          |    2 +-
 src/private-tubes-factory.c |  155 +++++++++++++++++++++----------------------
 src/private-tubes-factory.h |   67 ++++++++++---------
 6 files changed, 117 insertions(+), 119 deletions(-)

commit 96602aabcb2ee2f3e43018fb3b7792a318e0fa57
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 1 13:20:51 2007 +0000

    mv tubes-factory.[ch] private-tubes-factory.[ch]
    
    
    20071001132051-7fe3f-f2d75ac3efcb9a6f4e24b2c9f87935a0c057f67c.gz

 src/Makefile.am             |    4 +-
 src/bytestream-factory.c    |    2 +-
 src/gabble-connection.c     |    2 +-
 src/private-tubes-factory.c |  544 +++++++++++++++++++++++++++++++++++++++++++
 src/private-tubes-factory.h |   77 ++++++
 src/tubes-factory.c         |  544 -------------------------------------------
 src/tubes-factory.h         |   77 ------
 7 files changed, 625 insertions(+), 625 deletions(-)

commit 0f963ee83a279bb42940552b0b5b717e2851b57a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Oct 1 12:39:50 2007 +0000

    bytestream-ibb: close the bytestream if sending stanza failed
    
    
    20071001123950-7fe3f-8b30db3b9429438864290972fbb5e0d073c2361d.gz

 src/bytestream-ibb.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 39b6e39478812e92ce15309a312383bebc570e47
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 28 15:52:46 2007 +0000

    test-si-tubes.py: remove deprecated FIXME
    
    
    20070928155246-7fe3f-60878002b38ae9ea73f1037bb526ef0632ea7807.gz

 tests/test-si-tubes.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit eb9c8370067bf030e5a8282b3f72336e713aa351
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 28 15:49:58 2007 +0000

    test-muc-tubes.py and test-si-tubes.py: assert presence and tube offer doesn't contain an initiator attribute
    
    
    20070928154958-7fe3f-e444ae831d95d7757bed7b122deb8e93431bedef.gz

 tests/test-muc-tubes.py |    1 +
 tests/test-si-tubes.py  |    1 +
 2 files changed, 2 insertions(+), 0 deletions(-)

commit aec18efd226f8c5ec399b733146310a2058f1a2d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 28 15:29:53 2007 +0000

    add AMP info in tubes close message too
    
    
    20070928152953-7fe3f-ae481a37195ec4518ec13465cd035dcdb08679c6.gz

 src/tube-stream.c   |   16 +++++++++++++++-
 src/tubes-channel.c |   16 +++++++++++++++-
 2 files changed, 30 insertions(+), 2 deletions(-)

commit ad2d8e6b6481af140a727f200dd05a90bbc51d1b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 28 15:25:34 2007 +0000

    tubes-channel: add AMP info to 1-1 stream tube offers
    
    
    20070928152534-7fe3f-0183894dd5e5594d1f60b6bc62430bf92eabca32.gz

 src/tubes-channel.c |   16 +++++++++++++++-
 1 files changed, 15 insertions(+), 1 deletions(-)

commit 9822c8f4ba992ebd4d223dd030f1c0be56b19446
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 28 15:11:29 2007 +0000

    tests/test-si-tubes.py: update to fit new 1-1 stream tubes protocol
    
    
    20070928151129-7fe3f-08914fd07ba834dfec0d825e1c7785a4b9c293dd.gz

 tests/test-si-tubes.py |  110 ++++++++++++++----------------------------------
 1 files changed, 32 insertions(+), 78 deletions(-)

commit 8173eb1b40777a51face7a031aff7f27a5f6a6d8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 28 14:33:05 2007 +0000

    tests/test-muc-tubes.py: the initiator was removed from stream tubes presence
    
    
    20070928143305-7fe3f-256d1df360db997f7c0365a6d4cba0d7806d0e11.gz

 tests/test-muc-tubes.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 4c5b23dcdd2180eafec58d1b4d433ee236f2cbb9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 28 13:02:01 2007 +0000

    tubes-channel: tube_msg_offered: close both tubes if we receive an offer with an existing tube id
    
    
    20070928130201-7fe3f-5e42120d2ae4fa4cb7b470595a90a345b6017196.gz

 src/tubes-channel.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 5ee28351c34f9962af4caa21755ef744901846cc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 28 12:58:47 2007 +0000

    tubes-channel: tube_msg_offered: send close message if we receive a bugged tube message
    
    
    20070928125847-7fe3f-7b03a56c16b9fdafe3f2e36a9b1dd8828883dd83.gz

 src/tubes-channel.c |   35 +++++++++++++++++++++++++++++++----
 1 files changed, 31 insertions(+), 4 deletions(-)

commit b9dea43c76e5a7fa88ed4e472d85ed819a6bba85
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 28 12:27:19 2007 +0000

    tube-stream: close the tube when disposing it to be send the close message when the tubes channel is closed
    
    
    20070928122719-7fe3f-1162c938808fa16f9f70a2150845b50073e0e993.gz

 src/tube-stream.c |   14 +++++++++++---
 1 files changed, 11 insertions(+), 3 deletions(-)

commit 9bc026d9cd831ceaa376ecf87c68f9bc2353bbd2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 28 12:00:56 2007 +0000

    handle stream tubes close message
    
    
    20070928120056-7fe3f-40ee82461b6aa82d79231e35df8889a1cae3afa0.gz

 src/tubes-channel.c |   57 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/tubes-factory.c |   24 +++++++++++++++++----
 2 files changed, 76 insertions(+), 5 deletions(-)

commit e3bc237e69e5504c7b40af9a3d78d3a20c0b50bd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 28 12:00:12 2007 +0000

    tube-stream: send the close message when closing the tube
    
    
    20070928120012-7fe3f-3b1b43860ad4ffa76b100348e34af5f984c6dd93.gz

 src/tube-stream.c |   25 +++++++++++++++++++++++++
 1 files changed, 25 insertions(+), 0 deletions(-)

commit a1bdbc24a55d48e9654071aaaf14c45bf1aefa18
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 28 11:19:03 2007 +0000

    tube-stream: move tube state from remote pending to open when we receive the new first connection
    
    
    20070928111903-7fe3f-9c763b662ec05d2f3ccc31571286f5b556b92ca8.gz

 src/tube-stream.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit cb7ea907e38ad27f373656908af706abd151dee7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 28 10:49:23 2007 +0000

    tube-stream: remove the default-bytestream
    
    
    20070928104923-7fe3f-33ff518747aaafe8c729b18ee504a955b0142079.gz

 src/tube-stream.c |  102 ++--------------------------------------------------
 1 files changed, 4 insertions(+), 98 deletions(-)

commit 83dcc4b26eb42ac9c0ebd6afd1d64fb3a1401597
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 28 10:37:27 2007 +0000

    remove the "bytestream" property from tube-iface as tube-stream won't have a "default bytestream" anymore
    
    
    20070928103727-7fe3f-2b1fdf67293699af5a87bedc18a869fee0186376.gz

 src/tube-dbus.c   |   15 +++++++++++++--
 src/tube-iface.c  |   12 ------------
 src/tube-stream.c |    2 --
 3 files changed, 13 insertions(+), 16 deletions(-)

commit 858e0ca8f3048f71cd9bc9e1d7dcc3239885d050
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 28 10:27:46 2007 +0000

    tubes-channel: doesn't allow to create stream tubes using SI
    
    
    20070928102746-7fe3f-63b9d90ba36f93e2ebddd14d89384bd000ae6815.gz

 src/tubes-channel.c |   14 ++++++++++++++
 1 files changed, 14 insertions(+), 0 deletions(-)

commit fb7cdef777edbca7d5e3bb154fe76a78a138f790
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 28 10:19:40 2007 +0000

    create stream tubes when we receive a tubes <message>
    
    
    20070928101940-7fe3f-1a40445d051063815c0758972d85947438cc7519.gz

 src/tubes-channel.c |   67 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/tubes-channel.h |    2 +
 src/tubes-factory.c |    2 +
 3 files changed, 71 insertions(+), 0 deletions(-)

commit 53585839d245ff37d2e09506b965ec6185535c82
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 28 09:59:18 2007 +0000

    tubes-factory: fix tubes_factory_msg_tube_cb declaration style
    
    
    20070928095918-7fe3f-97a7a2c97d6a34f0c5adf8e03da26ce097d6b5f4.gz

 src/tubes-factory.c |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)

commit bb96700b66c26526bb07623af7aaf878b29283bc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 28 09:53:17 2007 +0000

    tubes-factory: add a LM handler to handle tubes related messages
    
    
    20070928095317-7fe3f-ac3d3d3f212af59835ebd67a03fbcdedc9dd318f.gz

 src/tubes-factory.c |   81 +++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 81 insertions(+), 0 deletions(-)

commit 32e4a100f42097e199683711ab01ef938780d313
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 28 09:06:46 2007 +0000

    rename gabble_tubes_channel_tube_offered to gabble_tubes_channel_tube_si_offered
    
    
    20070928090646-7fe3f-72b67f6c8ab4d1214e20a9a1d30c4dafab7ddff5.gz

 src/tubes-channel.c |    6 +++---
 src/tubes-channel.h |    2 +-
 src/tubes-factory.c |    2 +-
 3 files changed, 5 insertions(+), 5 deletions(-)

commit 93bb4b2152d2d88c8b86f1292285c134de0082fc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 28 09:03:07 2007 +0000

    tubes-channel: send message instead of SI when offering a new 1-1 stream tube
    
    
    20070928090307-7fe3f-b252c28f0f93e9e07cbd9af11ac08109b5cec6b7.gz

 src/tubes-channel.c |   43 ++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 42 insertions(+), 1 deletions(-)

commit 7ee20f4f51cddb146f13d474ba73ac479ea04937
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 27 16:26:46 2007 +0000

    gabble_tubes_channel_presence_updated: add comment above continue when parsing <tubes> children
    
    
    20070927162646-7fe3f-7c12050903e0931a725e54b7c4fbfdd1b406ed64.gz

 src/tubes-channel.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit c0ae192525844d9f2aa0d1e0470a8cbd50d11edd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 27 16:21:20 2007 +0000

    tubes-channel: move break outside case's block for better style
    
    
    20070927162120-7fe3f-e10af736c471356f315292c22acdeeffdbb6deec.gz

 src/tubes-channel.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit b62f02ad84433eeddaa6366e61577f4e3c322954
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 27 15:55:33 2007 +0000

    tubes-channel: add forgotton break
    
    
    20070927155533-7fe3f-72070a4e1f47850bcfca1f74f63f2bb0ae62f1a0.gz

 src/tubes-channel.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 26533d4c8294c39abd520a4709b9bb4cf92f6769
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 27 15:46:34 2007 +0000

    tubes-channel: use switch instead of if/else in publish_tube_in_node and gabble_tubes_channel_presence_updated
    
    
    20070927154634-7fe3f-10e4839b80c66674fd048377b8a5cf6230da4b1c.gz

 src/tubes-channel.c |   94 +++++++++++++++++++++++++++------------------------
 1 files changed, 50 insertions(+), 44 deletions(-)

commit 2ab5f4947b37c447ceb478694d46793254019c99
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 27 15:34:14 2007 +0000

    tubes-channel: fix initiator handle reffing after calling extract_tube_information
    
    
    20070927153414-7fe3f-be2da47f9bbd210f27f1a617bc937f5f78cc86de.gz

 src/tubes-channel.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 1979b5c729e165a87fe93fadb2e74b93232eca8a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 27 14:44:06 2007 +0000

    tubes-channel: properly deal with tubes node without initiator attribute
    
    
    20070927144406-7fe3f-ec9c6a8607be77277cef8429412874648709f3b6.gz

 src/tubes-channel.c |   39 ++++++++++++++++++++++++++++++---------
 1 files changed, 30 insertions(+), 9 deletions(-)

commit 3f0603e785cc02ffac0350591813efb526fa57c7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 27 14:02:16 2007 +0000

    tubes-channel: publish_tube_in_node: drop the "initiator" attribute for stream tubes
    
    
    20070927140216-7fe3f-a695e2ffb7dbd48f7d3e410306238560fcc8cf94.gz

 src/tubes-channel.c |   25 ++++++++++---------------
 1 files changed, 10 insertions(+), 15 deletions(-)

commit aad1c9a850fa9e159417c104434e970294739970
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 27 13:52:54 2007 +0000

    tubes-channel: only announce in our presence stream tubes we initiated.
    
    
    20070927135254-7fe3f-b74919aa3441a51fd8418638a55434bf1ad17990.gz

 src/tubes-channel.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 96021a48ab0654b5379c6f61acd12f157cbc1566
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 28 12:26:03 2007 +0000

    Don't bother using g_strdup_printf just to get "1" or "0" from a boolean. Add a comment explaining why we're not using the XML Schema canonical representation, which is "true"/"false".
    
    
    20070928122603-53eee-682eff9825a8f48690fe3ec8d60938bae4ab56cd.gz

 src/util.c |   11 +++++------
 1 files changed, 5 insertions(+), 6 deletions(-)

commit a0d171f815cb1500779873ff6fc29338fb06fdbb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 28 12:25:32 2007 +0000

    tubes.xml: when defining <parameters>, explain in terms of XML Schema
    
    
    20070928122532-53eee-ca110df60f4e173eb08aee927404abce43fbc3b9.gz

 docs/tubes.xml |   25 ++++++++++++++++---------
 1 files changed, 16 insertions(+), 9 deletions(-)

commit 1184a7f4e85d1cd27c9815e9410c33f6d12e6097
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 28 12:16:20 2007 +0000

    Accept "true" or "false" as values for bool parameters, to align with XML Schema xs:boolean and XEP-0004 Data Forms
    
    
    20070928121620-53eee-690e9abea9ec03a6cf4f0c32a619d4a47028edff.gz

 src/util.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 201215fbba71a660c1002be9e06c3c42cd4196e4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 29 13:21:30 2007 +0000

    lm_message_node_extract_properties: only accept "1" and "0" as boolean property value
    
    
    20070829132130-7fe3f-bf02c947e770f018cf891ccb75669092184d6304.gz

 src/util.c |   18 +++++++++++++++++-
 1 files changed, 17 insertions(+), 1 deletions(-)

commit 1c4420306a69cab811a6d3a3846753c4fcaa3bf1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 17 16:05:24 2007 +0000

    Use more appropriate functions to deal with uints. Support boolean properties
    
    
    20070817160524-53eee-d141a14082be7df075ded874c6588c274fa15168.gz

 src/util.c |   26 +++++++++++++++++++++++---
 1 files changed, 23 insertions(+), 3 deletions(-)

commit 98cb227d2b0ba39c2daf4ed2f97d6c0454c2079a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 28 12:11:30 2007 +0000

    tubes.xml: Tubes XMLNS does not contain /protocol/. Also remove spurious initiator attributes
    
    
    20070928121130-53eee-95d7c36d78cf91b7d4debc8dd8e1264df2f1be26.gz

 docs/tubes.xml |   38 +++++++++++++++++---------------------
 1 files changed, 17 insertions(+), 21 deletions(-)

commit b0205fb4735c4c98380f94c016430ec809c15306
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 27 19:04:16 2007 +0000

    Allow both initiator and non-initiator to close 1-1 stream tubes
    
    
    20070927190416-53eee-723935da3fdc087372ffcb49222717872ffc1871.gz

 docs/tubes.xml |   20 ++++++++++++++++----
 1 files changed, 16 insertions(+), 4 deletions(-)

commit e616039cbcb0cb8111657ea10dacb108d3592b44
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 27 13:53:47 2007 +0000

    tubes.xml: add <close/> to XML schema
    
    
    20070927135347-53eee-c786dee62e384cbe16067d7145456f3ec293735d.gz

 docs/tubes.xml |    8 +++++---
 1 files changed, 5 insertions(+), 3 deletions(-)

commit e460ca3d215e2b1586d469488b12298329c06e81
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 27 13:53:25 2007 +0000

    tubes.xml: change schema to make initiator required for MUC D-Bus tubes only
    
    
    20070927135325-53eee-bbba2cee7f1f98eca46887873ee9ab280f1344cd.gz

 docs/tubes.xml |    9 ++++-----
 1 files changed, 4 insertions(+), 5 deletions(-)

commit 0b9e2fe2f2b6e66f80ae6c255be191bcf2379aab
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 27 13:52:08 2007 +0000

    tubes.xml: Use a <message>-based protocol to offer and un-offer 1-1 stream tubes, instead of having the weird default bytestream
    
    
    20070927135208-53eee-54e6058e431a1f87cf77e0be5a2cce1445f6b760.gz

 docs/tubes.xml |   67 ++++++++++++++++++++------------------------------------
 1 files changed, 24 insertions(+), 43 deletions(-)

commit 0d995a746085d8268d326f7eb975bf1186178014
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 27 13:51:47 2007 +0000

    Fix example in tubes.xml - closing tag for <iq> is not </presence>!
    
    
    20070927135147-53eee-9fa45b032d355cdc1fe92ea57540500f28a527f1.gz

 docs/tubes.xml |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit fd06d4da8116c5c06513863185de37f7e399e6fc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 27 13:51:35 2007 +0000

    Tube IDs must be numeric... fix example
    
    
    20070927135135-53eee-e6adf27ad858b2f24a61d1c836bcf14b8ef9b104.gz

 docs/tubes.xml |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9544b0f0a1e43284202f3603b40908a460f5e3b4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 27 13:49:27 2007 +0000

    Don't put initiator in MUC stream tube info
    
    
    20070927134927-53eee-192aec40606af62d9d96e615465de930b4eb177c.gz

 docs/tubes.xml |   13 +++++++++++--
 1 files changed, 11 insertions(+), 2 deletions(-)

commit deceb58f5873c018f37b9d7f18b980e470f1ea18
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 27 13:40:23 2007 +0000

    tubes.xml: Don't copy stream tubes into MUC presence, they're useless once the initiator leaves
    
    
    20070927134023-53eee-71e0376808c6d0422b68dfeba1debb00c6f29929.gz

 docs/tubes.xml |   28 ----------------------------
 1 files changed, 0 insertions(+), 28 deletions(-)

commit 7bdf4f75cfb5b6bccdc824381f8615f320e91a36
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 26 15:23:53 2007 +0000

    Move test-muc-tubes to correct sort order in tests/Makefile.am
    
    
    20070926152353-53eee-e2b64a6075004c9ffe15cc3fe798292c0d89a7cb.gz

 tests/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b6f727172e473fccc072fbb579185ca2efd11afd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 25 19:04:06 2007 +0000

    Update and merge with HEAD and current -tubes
    
    
    20070925190406-53eee-b69e3407bba0d7dd619bec9299dfd2ba70e0d4d8.gz

 src/tube-stream.c   |   38 ++++++++++----------
 src/tube-stream.h   |    7 ++--
 src/tubes-channel.c |   97 ++++++++------------------------------------------
 3 files changed, 39 insertions(+), 103 deletions(-)

commit 071ae39dff25b48bd1b58447c3a2377e3a1b5c7a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 20 15:15:12 2007 +0000

    Remove test for obsolete tubes API
    
    
    20070920151512-53eee-d8c7e73850dec6a24ba65a19deb1517a8aa84cea.gz

 tests/test-muc-tubes-oldapi.py |  238 ----------------------------------------
 1 files changed, 0 insertions(+), 238 deletions(-)

commit cbc672f62dc2ab0a85ca716ebcc8c2abf34d347a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 20 15:14:36 2007 +0000

    Use GetDBusTubeAddress in tests, not GetDBusServerAddress
    
    
    20070920151436-53eee-293c3ef950b4c0a7d97799f1915732c2b043d0ad.gz

 tests/test-muc-tubes.py |    6 +++---
 tests/test-si-tubes.py  |    6 +++---
 2 files changed, 6 insertions(+), 6 deletions(-)

commit 56facde3c92cc65fef7d625b52e9a0ca7e271a7e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 20 15:14:29 2007 +0000

    Don't test the old tubes API
    
    
    20070920151429-53eee-5f021a4fdfd5d7ae64f32ac206fa7bd72dadbcdc.gz

 tests/Makefile.am |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 8d795e7c303f151e047adb7c00e9d23e9e07a7c6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 20 15:07:47 2007 +0000

    Fix up tube-related constants
    
    
    20070920150747-53eee-ec25c889a78ad11f093eb1c47c577bd3752484d7.gz

 src/muc-factory.c   |    2 +-
 src/tube-dbus.c     |   12 ++--
 src/tube-iface.c    |    2 +-
 src/tube-stream.c   |   12 ++--
 src/tubes-channel.c |  188 +++++++++++++++++++++++++++++++++-----------------
 src/tubes-factory.c |    2 +-
 6 files changed, 139 insertions(+), 79 deletions(-)

commit 069ead0235fdad83f089394592527344603635fb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 20 13:52:25 2007 +0000

    Remove our copy of the Tubes spec
    
    
    20070920135225-53eee-b4893ed8c01a85695944a09facd84ac28c04fdea.gz

 extensions/Channel_Type_Tubes.xml |  635 -------------------------------------
 extensions/all.xml                |    1 -
 2 files changed, 0 insertions(+), 636 deletions(-)

commit 2fcc1c4e8e460fa9a8439395b68400007f30c798
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 20 13:51:30 2007 +0000

    Compile against telepathy-glib's version of the Tubes spec
    
    
    20070920135130-53eee-c6c25f083373811a65c721b14ce3ca599bc86b8a.gz

 src/tubes-channel.c |   68 +++++++++++++++++++++++++++------------------------
 1 files changed, 36 insertions(+), 32 deletions(-)

commit 7c24a6d7775205f44f8c07b45bceaffded67c231
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 20 13:34:42 2007 +0000

    Remove old deprecated API from Tubes channel (https://dev.laptop.org/ticket/3654)
    
    
    20070920133442-53eee-bf8d201a26fa69ae7770bfa11cc73af0269d9047.gz

 extensions/Channel_Type_Tubes.xml |   76 -------------------------------------
 src/tubes-channel.c               |   63 ------------------------------
 2 files changed, 0 insertions(+), 139 deletions(-)

commit 5e9f9618dd5e8377add008c8355370c4b33d6c16
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 26 13:06:39 2007 +0000

    Move support for declining SIs with a reason to the bytestream interface, by adding a NULLable GError* to the close() method
    
    
    20070926130639-53eee-22831ebd47aba20cb0e36e2926a8aae886a44f28.gz

 src/bytestream-factory.c |   25 +++++++++++-------
 src/bytestream-ibb.c     |   25 +++++++++++-------
 src/bytestream-ibb.h     |    3 --
 src/bytestream-iface.c   |    7 +++--
 src/bytestream-iface.h   |    5 ++-
 src/bytestream-muc.c     |    5 ++-
 src/muc-factory.c        |    8 ++++--
 src/muc-factory.h        |    3 +-
 src/tube-dbus.c          |    6 ++--
 src/tube-stream.c        |   14 +++++-----
 src/tubes-channel.c      |   60 +++++++++++++++++++++++++++------------------
 src/tubes-channel.h      |    5 +--
 src/tubes-factory.c      |   10 ++++---
 src/tubes-factory.h      |    5 +--
 14 files changed, 102 insertions(+), 79 deletions(-)

commit b80b6101818f300d1e9c5ed7597bfbb7201ee283
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 25 18:54:29 2007 +0000

    Also remove now-unused variables
    
    
    20070925185429-53eee-27acfd68e03d5ee0748134166c63170ef4b46dff.gz

 src/tubes-channel.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 20202322b81bc807c2551bf55f5c96b26fa99e2e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 25 18:39:05 2007 +0000

    Remove now-unnecessary inspection of 1-1 D-Bus tube acceptance message to find the dbus-name (in the new protocol there's no such thing)
    
    
    20070925183905-53eee-0e1a55f8c3f98104feec7c3e9f0041afaa5d6d8d.gz

 src/tubes-channel.c |   17 -----------------
 1 files changed, 0 insertions(+), 17 deletions(-)

commit c76042f284913afaa63ac027564eb53a4512f64a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 25 17:57:44 2007 +0000

    Treat tube IDs as unsigned 32-bit integers everywhere
    
    
    20070925175744-53eee-ba9cef42b7e0bdb706eaed63e230e75420828913.gz

 src/tubes-channel.c |   27 ++++++++++++++++-----------
 1 files changed, 16 insertions(+), 11 deletions(-)

commit 854437ca6a86ed340ced8c05b97ad307f5cfa460
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 25 17:13:25 2007 +0000

    Make gabble_tubes_channel_tube_offered guarantee to handle the bytestream (possibly by declining it)
    
    
    20070925171325-53eee-6992702fd430ee281ce226b93c18d5c61580cb34.gz

 src/tubes-channel.c |   48 ++++++++++++++++++++++++------------------------
 src/tubes-channel.h |    4 ++--
 src/tubes-factory.c |    8 +-------
 3 files changed, 27 insertions(+), 33 deletions(-)

commit c41791e59726868f78420266568f973cd2fef78e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 25 17:13:08 2007 +0000

    Make gabble_tubes_channel_bytestream_offered decline SI tubes internally
    
    
    20070925171308-53eee-a522c23527b64a8344b36604ae5c5103a706c219.gz

 src/muc-factory.c   |    8 +-------
 src/tubes-channel.c |   31 +++++++++++++++++--------------
 src/tubes-channel.h |    5 +++--
 src/tubes-factory.c |    8 +-------
 4 files changed, 22 insertions(+), 30 deletions(-)

commit 99af5d481a18af8a7d11b33a5286db51b268b9ac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 25 17:08:02 2007 +0000

    test-si-tubes: assert that dbus-name is not emitted for D-Bus tubes in 1-1 context
    
    
    20070925170802-53eee-4120f2531d3fcc4e739cc9b4d016abf88e66e363.gz

 tests/test-si-tubes.py |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 112d7073a9eea7d669fbac85afa7624732c7cac8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 25 16:51:14 2007 +0000

    Correct cut & paste error: _handle_si_tube_request should add a tube, not a bytestream
    
    
    20070925165114-53eee-03e821a11bf632f5f771fdc52df6a8749b13b4eb.gz

 src/tubes-factory.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 8e72a662e15706c9ac4cea6612946da37b9815b2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 25 16:43:53 2007 +0000

    Fix syntax
    
    
    20070925164353-53eee-59020a130783f86a5c70283b7585a9a1b1954c8d.gz

 src/muc-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 75460bfc5be28a8f1e13a6af9fea4298376fc42c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 25 16:42:18 2007 +0000

    Guarantee that gabble_tubes_factory_handle_si_stream_request and gabble_tubes_factory_handle_si_tube_request always handle the request (if only by declining the bytestream)
    
    
    20070925164218-53eee-9397e82aa54c51944142b9b9bd84264215bde260.gz

 src/bytestream-factory.c |   32 +++++++++-----------------------
 src/tubes-factory.c      |   36 ++++++++++++++++++++++++------------
 src/tubes-factory.h      |   11 ++++++-----
 3 files changed, 39 insertions(+), 40 deletions(-)

commit f886074e7f0981fbd57a246f9beb9ec3d2c9dd4c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 25 16:41:45 2007 +0000

    Guarantee that gabble_muc_factory_handle_si_stream_request always handles the SI (declining if necessary)
    
    
    20070925164145-53eee-52318405e5820265a5b70e2982dce998b8070269.gz

 src/bytestream-factory.c |    6 +++---
 src/muc-factory.c        |   19 +++++++++++++------
 src/muc-factory.h        |    5 +++--
 3 files changed, 19 insertions(+), 11 deletions(-)

commit 88630698d580fd8eb1a0dd078ae05f70ce2b1b44
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 25 16:25:14 2007 +0000

    Note that gabble_bytestream_ibb_decline should eventually become a method in some sort of GabbleSIBytestreamIface
    
    
    20070925162514-53eee-de09fa68aca35bf715b474632e014344e3cc56c7.gz

 src/bytestream-ibb.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 3814b79e25976a1178664a80a1fef15bab30e7e8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 25 16:22:57 2007 +0000

    Decline <muc-stream> if received in a non-MUC context
    
    
    20070925162257-53eee-d35aea5206c1bcfe4954252ff4f7880ebf60ebf1.gz

 src/bytestream-factory.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 87b4310145c924b45695a368219c89d4f6947778
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 25 16:22:46 2007 +0000

    Properly decline IBB bytestreams on error
    
    
    20070925162246-53eee-5b98117f2e7119edc679ccafa7370fb8dff68208.gz

 src/bytestream-factory.c |   36 ++++++++++++++++--------------------
 1 files changed, 16 insertions(+), 20 deletions(-)

commit 70fa2a0822c2e6464f642c2abbac345a7ee0da5d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 25 16:05:04 2007 +0000

    Make gabble_bytestream_ibb_decline take the XMPP error in parameters
    
    
    20070925160504-53eee-0d8072af319a1d48341211ff64bc302342704f2b.gz

 src/bytestream-ibb.c |   10 ++++++----
 src/bytestream-ibb.h |    5 ++++-
 2 files changed, 10 insertions(+), 5 deletions(-)

commit 26f4123fcb0a95a9a54f5710a3470fbe04911ba6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 25 16:02:51 2007 +0000

    Make gabble_bytestream_ibb_decline also close the bytestream. Make it extern
    
    
    20070925160251-53eee-4783ce2dd221646f5b52a059ca5f9b729ffa3339.gz

 src/bytestream-ibb.c |    8 +++++---
 src/bytestream-ibb.h |    2 ++
 2 files changed, 7 insertions(+), 3 deletions(-)

commit ecf641ed5c45db00a5af58b309183fb24ad07078
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 25 16:01:20 2007 +0000

    Construct SI decline IQ using gabble_xmpp_error_to_node
    
    
    20070925160120-53eee-6f5ea9cbe43eef10c52043b96dcba769eed419fe.gz

 src/bytestream-ibb.c |   14 ++++----------
 1 files changed, 4 insertions(+), 10 deletions(-)

commit e5dead0a652879bb606ffa6d27ddfaa7eb77f3b6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 25 16:00:23 2007 +0000

    Inline gabble_bytestream_factory_make_decline_iq into its only caller
    
    
    20070925160023-53eee-4a12388f248b7c227ca4adaea2091cee7cac0169.gz

 src/bytestream-factory.c |   29 -----------------------------
 src/bytestream-factory.h |    3 ---
 src/bytestream-ibb.c     |   15 +++++++++++++--
 3 files changed, 13 insertions(+), 34 deletions(-)

commit 103401eea7d604444b0d4d3370bb5da7ed4cee63
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 25 15:58:45 2007 +0000

    Make gabble_bytestream_ibb_decline assert that the state is LOCAL_PENDING
    
    
    20070925155845-53eee-289c3f026495360b6bd1218e2de0193d238cfe1f.gz

 src/bytestream-ibb.c |    7 +------
 1 files changed, 1 insertions(+), 6 deletions(-)

commit 6c37f82692a092a42cfac25ba136063aef3baed3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 25 15:57:33 2007 +0000

    Add comments indicating that my "corrections" to bytestream rejection handling were in fact wrong
    
    
    20070925155733-53eee-bde70219c3e7808bc3a808da4f70812aa5d21349.gz

 src/bytestream-factory.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 013dcec97709a9e7bd1bdcce81d986266213ae95
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 25 14:47:08 2007 +0000

    Trivial comment tweak
    
    
    20070925144708-53eee-dd395a12dc26b70f78dd7d96263d4194df00413e.gz

 src/bytestream-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 63ac55b28624bbe6ac81476df8793d9ceb2a1480
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 25 17:47:11 2007 +0000

    tubes.xml schema: tube IDs are unsigned 32-bit integers (xs:unsignedInt)
    
    
    20070925174711-53eee-a37705cecd8217371af2d14e88309e746104d780.gz

 docs/tubes.xml |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit ebc941da6204070eb62417102c5315270b1f0104
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 25 13:57:34 2007 +0000

    tubes proto-XEP: include test cases for the unique name algorithm
    
    
    20070925135734-53eee-2f89b4e1d68237121815132b878c800682aec633.gz

 docs/tubes.xml |   22 ++++++++++++++++++++++
 1 files changed, 22 insertions(+), 0 deletions(-)

commit 7f21ad2b6a7cd0a75643c354efa2c5c8c7e52afb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 25 13:39:07 2007 +0000

    Tubes proto-XEP: make it completely clear that we're not using sha1_hex() or equivalent
    
    
    20070925133907-53eee-a89a07913fbda66a4391bd098e13a094eddc025b.gz

 docs/tubes.xml |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 70874d802a528a7031b2269503c44c18fe84f1bc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 25 12:42:45 2007 +0000

    Add current drafts of tubes-over-XMPP to the docs directory
    
    
    20070925124245-53eee-7b46de69bcfa0e01a0df6a727921d70277edc74e.gz

 _boring                 |    2 +
 docs/Makefile.am        |   21 ++
 docs/README             |    6 +
 docs/muc-bytestream.xml |  183 +++++++++++++
 docs/tubes.xml          |  654 +++++++++++++++++++++++++++++++++++++++++++++++
 5 files changed, 866 insertions(+), 0 deletions(-)

commit 9776c3a3c7442a1952b4aa61845ecf1b0362b57f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 25 12:42:23 2007 +0000

    Add a docs directory
    
    
    20070925124223-53eee-4d631c952d383012ea6cb87a25cca361cc826aea.gz

 Makefile.am         |    2 +-
 configure.ac        |    1 +
 2 files changed, 2 insertions(+), 1 deletions(-)

commit 33e9996b3177dffb8402d9ca5c73a48b50807631
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 25 17:37:23 2007 +0000

    Merge gabble_connection_dispose with HEAD for the n'th time
    
    
    20070925173723-53eee-dfc57af1a1055f130ef2d75914ee02ac7d3a215c.gz

 src/gabble-connection.c |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit 65d4b243c4176e2bd368b3221c99e5063b1aa883
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 25 16:20:01 2007 +0000

    tube-dbus: check D-Bus validity if it starts with ":2."
    
    
    20070925162001-7fe3f-83c336a86dd1e8a2631d6288dbf56ee95f3c8092.gz

 src/tube-dbus.c |   20 ++++++++++++++++++++
 1 files changed, 20 insertions(+), 0 deletions(-)

commit 1beb22ab67c62ed471014f07d94dcc8ee794d723
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 25 16:02:38 2007 +0000

    tubes-channel: only emit the DBusNamesChanged signal only if the mapping was effectively changed
    
    
    20070925160238-7fe3f-3202c6d3d9087585d82ebf75354f9062fa92a25c.gz

 src/tubes-channel.c |   18 ++++++++++--------
 1 files changed, 10 insertions(+), 8 deletions(-)

commit 27f4664e20aac1a1482baab81adfd2436c55505b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 25 15:58:12 2007 +0000

    tube-dbus: ensure dbus-names is used by muc tubes only
    
    
    20070925155812-7fe3f-e1b36be5ed995bd0a4e9059c04a570838f9ef272.gz

 src/tube-dbus.c |   27 +++++++++++++++++----------
 1 files changed, 17 insertions(+), 10 deletions(-)

commit 442e4de5facf00bb06d66c0dc1a669fefc6f2290
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 25 15:47:20 2007 +0000

    tubes-channel: Don't modify D-Bus name mapping in 1-1 tubes
    
    
    20070925154720-7fe3f-232984bf03b8ea1b9fb445f5e53c694ccda19981.gz

 src/tubes-channel.c |   69 +++++++++++++++++----------------------------------
 1 files changed, 23 insertions(+), 46 deletions(-)

commit c25a8a4e021a7aef1b3e501ddd8cbd253281c4f2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 25 15:22:26 2007 +0000

    tube-dbus: generate and use the D-Bus local name only for muc tubes
    
    
    20070925152226-7fe3f-6302f4ff709d6ff83aef6189b2dfc32484d9085c.gz

 src/tube-dbus.c |   29 ++++++++++-------------------
 1 files changed, 10 insertions(+), 19 deletions(-)

commit 0c42c2c6f06e87b3f5981839fcde941926950500
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 25 15:14:12 2007 +0000

    tube-dbus: use _gabble_generate_dbus_unique_name for muc tubes
    
    
    20070925151412-7fe3f-0bfcd575ef003218092cf2cae6621b7203a57953.gz

 src/tube-dbus.c |   27 +++++++++++++++++++--------
 1 files changed, 19 insertions(+), 8 deletions(-)

commit 6b44d3ceb453627f7582cebeabce96227814e438
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 25 15:12:12 2007 +0000

    tube-dbus: fix a leak and remove useless GString
    
    
    20070925151212-7fe3f-35d890d865506291f0e3e8778c61dfa94a848872.gz

 src/tube-dbus.c |   18 ++++++------------
 1 files changed, 6 insertions(+), 12 deletions(-)

commit d080322a25abf016fdc3cd9bc85e5c21a2c58293
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 25 14:33:19 2007 +0000

    gabble_tube_dbus_add_name now returns TRUE if the name was properly added
    
    
    20070925143319-7fe3f-ef98b7eb610680b5a9f16a6d90497d8f018cfdf0.gz

 src/tube-dbus.c |    8 +++++---
 src/tube-dbus.h |    2 +-
 2 files changed, 6 insertions(+), 4 deletions(-)

commit f8130ad88c48e28c6e1c9f69d9ad9697bc2a1977
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 25 14:00:46 2007 +0000

    add and build tests/test-dtube-unique-names.c
    
    
    20070925140046-7fe3f-1dce1fe52c5afda11ea1cad256dfb141434227a6.gz

 tests/Makefile.am               |    6 +++-
 tests/test-dtube-unique-names.c |   71 +++++++++++++++++++++++++++++++++++++++
 2 files changed, 76 insertions(+), 1 deletions(-)

commit a71b19fef2c506949ee5a1206b8e9d56094e857d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 25 13:59:08 2007 +0000

    tube-dbus: add _gabble_generate_dbus_unique_name function
    
    
    20070925135908-7fe3f-5beba79e4ba98f8379165277cf7b67c2bab32d58.gz

 src/tube-dbus.c |   58 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/tube-dbus.h |    3 ++
 2 files changed, 61 insertions(+), 0 deletions(-)

commit 4725771b9b8fc395a129c94a2610b37a292a207c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 25 13:58:37 2007 +0000

    util: add sha1_bin function
    
    
    20070925135837-7fe3f-460b50598476908aaec1c517b64b07c28059da9e.gz

 src/util.c |   12 ++++++++++++
 src/util.h |    2 ++
 2 files changed, 14 insertions(+), 0 deletions(-)

commit 45b286865862880995cc859daf8ef5e1f17624c0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 25 12:24:40 2007 +0000

    add a "split_lines" argument to base64_encode
    
    
    20070925122440-7fe3f-7a1dfa5ed82a34a14c3c7316b010908c28a9aaeb.gz

 src/base64.c         |    4 ++--
 src/base64.h         |    2 +-
 src/bytestream-ibb.c |    2 +-
 src/bytestream-muc.c |    2 +-
 src/conn-avatars.c   |    2 +-
 src/util.c           |    2 +-
 tests/test-base64.c  |    2 +-
 7 files changed, 8 insertions(+), 8 deletions(-)

commit 12e12c374202e7c2d3ae9c4027ff8959b74a2d14
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 25 11:15:26 2007 +0000

    fix tubes functions declarations style in headers
    
    
    20070925111526-7fe3f-35d56b4ded3a9109206e9111aa203a8310e420fc.gz

 src/bytestream-factory.h |   37 ++++++++++++++++---------------------
 src/bytestream-iface.h   |   18 +++++++-----------
 src/bytestream-muc.h     |    5 ++---
 src/muc-factory.h        |    2 +-
 src/tube-dbus.h          |    3 +--
 src/tube-iface.h         |    9 +++------
 src/tube-stream.h        |   11 +++++------
 src/tubes-channel.h      |    9 +++------
 src/tubes-factory.h      |   14 +++++---------
 9 files changed, 43 insertions(+), 65 deletions(-)

commit 2ca4b08407bb281cde3389558aace3cef43e43ff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 25 10:30:06 2007 +0000

    update tubes tests due to XMPP protocol changes
    
    
    20070925103006-7fe3f-8402c996a85aed959cb5e482f8aa36d9202ee367.gz

 tests/test-muc-tubes.py |    5 ++---
 tests/test-si-tubes.py  |    7 ++-----
 2 files changed, 4 insertions(+), 8 deletions(-)

commit 3f7e5acb3e2ddb0b9fc9d9f63a35e6a64bb5d1bf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 25 10:20:54 2007 +0000

    implement new stream tubes extra bytestream protocol. Use <stream> and <muc-stream> instead of <tube>
    
    
    20070925102054-7fe3f-fdf040637a688b41340bcf5b1d54b65109a4394f.gz

 src/bytestream-factory.c |   51 ++++++++++++++++-------------
 src/muc-factory.c        |   14 ++++----
 src/muc-factory.h        |    2 +-
 src/tube-stream.c        |   16 ++++++---
 src/tubes-channel.c      |   79 +++++++++++++++++++++++++++++++++++++++++-----
 src/tubes-channel.h      |    4 ++
 src/tubes-factory.c      |   44 ++++++++++++++++++++-----
 src/tubes-factory.h      |    8 ++++-
 8 files changed, 163 insertions(+), 55 deletions(-)

commit 55fce8b19c13b09fc8f0920c20a8cc51065dca24
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 25 08:13:44 2007 +0000

    remove the "offering" attribute in tubes SI request
    
    
    20070925081344-7fe3f-d00dba993257b39ada38d9bf22450bf0f3404288.gz

 src/tube-stream.c   |    1 -
 src/tubes-channel.c |   36 ++++--------------------------------
 2 files changed, 4 insertions(+), 33 deletions(-)

commit aa056abcd9c5814c8a5acbf9ace6bd6b68933d2c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 24 15:04:02 2007 +0000

    update tubes test to fit new tubes SI profile NS
    
    
    20070924150402-7fe3f-b80da7c88fee5bddedc08a0667ae879d02ca8a48.gz

 tests/test-muc-tubes.py |    6 ++----
 tests/test-si-tubes.py  |   14 +++++---------
 2 files changed, 7 insertions(+), 13 deletions(-)

commit 07655cec90ac56b6266ac82acfc60eef25885b5c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 24 14:57:05 2007 +0000

    drop NS_SI_TUBES and NS_SI_TUBES_OLD namespaces and use NS_TUBES as SI profile namespace
    
    
    20070924145705-7fe3f-5d950d80b1a138c07380d3e76fcba320ff7b6131.gz

 src/bytestream-factory.c |    3 +--
 src/capabilities.c       |    3 +--
 src/namespaces.h         |    4 ----
 src/presence-cache.c     |    4 +---
 src/tube-dbus.c          |    2 +-
 src/tube-stream.c        |    8 ++++----
 src/tubes-channel.c      |   13 +++++--------
 7 files changed, 13 insertions(+), 24 deletions(-)

commit b762345830c8646693383eaa3f3243c17e10f421
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 24 12:44:20 2007 +0000

    bytestream-muc: add "complete" as default frag value
    
    
    20070924124420-7fe3f-46871e372a6268405370a48d2856d5343143ef8a.gz

 src/bytestream-muc.c |   10 ++++++----
 1 files changed, 6 insertions(+), 4 deletions(-)

commit ab7e949d4aa425640aa23eb22bcdc81ab7f5e48b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 24 12:22:37 2007 +0000

    tube-stream: no need to explicitely cast gpointer to GValue*
    
    
    20070924122237-7fe3f-28de6d75d5e746147f162243434b0cba16cfd658.gz

 src/tube-stream.c |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit c40822f555a3259be58f89cde5361f52e7e24b14
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 24 12:18:43 2007 +0000

    tube-stream: remove one deprecated commented line
    
    
    20070924121843-7fe3f-a4b83763ea86f3180af8a2c792cb893a2beaf506.gz

 src/tube-stream.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 76111bb71f0b3b0422cd94ff90e2cdb57d177b7b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 24 12:16:55 2007 +0000

    tube-dbus: use priv->self_handle so we'll use the muc jid for muc tubes
    
    
    20070924121655-7fe3f-2fdc7641621e57be3cf81f3c854ba5afb9f09a88.gz

 src/tube-dbus.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 13815aa999bf70db6c2d39d3c6e1487245e49e7d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 24 11:24:38 2007 +0000

    add stream-tube access-control and access-control-param properties
    
    
    20070924112438-7fe3f-47853d9df02b56a5b97f344b7ec4edb21bf5f5a1.gz

 src/tube-stream.c   |   64 +++++++++++++++++++++++++++++++++++++++++++++++++-
 src/tubes-channel.c |    4 +++
 2 files changed, 66 insertions(+), 2 deletions(-)

commit 06c18983035ee4844ab6aa40105606c963239b38
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 24 10:50:34 2007 +0000

    rename gabble_tube_stream_check_address  to gabble_tube_stream_check_params so we can check access control too
    
    
    20070924105034-7fe3f-604bac23e79bab72e5681795926486c00f407bd0.gz

 src/tube-stream.c   |   15 ++++++++++++---
 src/tube-stream.h   |    5 +++--
 src/tubes-channel.c |   14 ++------------
 3 files changed, 17 insertions(+), 17 deletions(-)

commit 114021ca0cd7a2e8589569cbfadeb2d63f74087d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 24 10:10:08 2007 +0000

    move stream tube address checks from tubes-channel to tube-stream
    
    
    20070924101008-7fe3f-a68ce237c7a0f9971a8d4ab0cc7aff5a2f5e48c4.gz

 src/tube-stream.c   |   60 ++++++++++++++++++++++++++++++++++++++++++++++++++
 src/tube-stream.h   |    5 ++++
 src/tubes-channel.c |   61 +-------------------------------------------------
 3 files changed, 67 insertions(+), 59 deletions(-)

commit c5cd57844a487efb73eff618d2b0cd308676e670
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 24 09:14:59 2007 +0000

    tube-stream: remove get_unix_socket_path as we don't really need it
    
    
    20070924091459-7fe3f-ffd4689b026a03f5780b4a63545f5e52178d13da.gz

 src/tube-stream.c |   26 +++++---------------------
 1 files changed, 5 insertions(+), 21 deletions(-)

commit cee8463d386a46ccd263c11fc50d8dc1a1abd37a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 24 08:42:16 2007 +0000

    Add "address" and "address-type" properties to GabbleTubeStream as that's what we use in latest spec
    
    
    20070924084216-7fe3f-946922df8bbd330e5817619e0a53e3bb1149cc04.gz

 src/tube-stream.c   |  133 ++++++++++++++++++++++++++++++++++++++++----------
 src/tubes-channel.c |   33 +++++--------
 2 files changed, 118 insertions(+), 48 deletions(-)

commit b96ecb0ceff9f2b567078d8d1c2ca32606c52442
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 21 09:11:13 2007 +0000

    tube-dbus: use the jid to generate the local D-Bus name so we shouldn't clash with other bus names
    
    
    20070921091113-7fe3f-c809b5af8128cd36bda42182decdc77ab18c90cd.gz

 src/tube-dbus.c |   19 +++++++++++--------
 1 files changed, 11 insertions(+), 8 deletions(-)

commit 6bc877a26a706f98bab9390bfe28ab2104f5384c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 20 11:10:32 2007 +0000

    bytestream-ibb: fix debug message
    
    
    20070920111032-7fe3f-56a293fe3840594adf7a7824e50fcb787cd5cb73.gz

 src/bytestream-ibb.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c2bd5aafee936073b80b24be677ef6c70d8d279e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 19 13:21:29 2007 +0000

    bytestream-ibb: implement stanza fragementation
    
    
    20070919132129-7fe3f-ae9c9a9eec79adbce14e11a5be501c7e137d56dc.gz

 src/bytestream-ibb.c |   62 +++++++++++++++++++++++++++++++++++++++++---------
 1 files changed, 51 insertions(+), 11 deletions(-)

commit 6a7a69b0981535f2209fb94a96a6be330f7b0c41
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 19 12:38:19 2007 +0000

    bytestream-ibb: don't hardcode block-size in open IQ
    
    
    20070919123819-7fe3f-fb8dda21a42408a19f631d6ed7d84068412446ba.gz

 src/bytestream-ibb.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 279a30789e5032d23b5d394732e19ee7ca76e422
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 19 12:31:05 2007 +0000

    handle_ibb_open_iq: parse block-size from IBB open stanza
    
    
    20070919123105-7fe3f-1e984e076f55ee87cbb98e9d960331306850ae27.gz

 src/bytestream-factory.c |   12 ++++++++++--
 1 files changed, 10 insertions(+), 2 deletions(-)

commit ed37dd04e94f4ab50d4031fdadb8738f98ff93c7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Sep 19 12:30:05 2007 +0000

    bytestream-ibb: add a block-size property
    
    
    20070919123005-7fe3f-290675b90a65c966916423894834f0b2c62a60d6.gz

 src/bytestream-ibb.c |   21 +++++++++++++++++++++
 1 files changed, 21 insertions(+), 0 deletions(-)

commit 488d51ad7993a218bd9ec0b585a9984032975e38
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 14 16:03:50 2007 +0000

    test-si-tubes: test that we can receive (possibly fragmented) messages over D-Bus-over-IBB
    
    
    20070914160350-53eee-75ea6e2f66d43b3c01c1479078fc549aa5d6a198.gz

 tests/test-si-tubes.py |   73 ++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 71 insertions(+), 2 deletions(-)

commit fbc4e9b98145cfc92dc9b3fae85fede80bfe3fc7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 14 16:03:22 2007 +0000

    Fix D-Bus-over-IBB message reassembly
    
    
    20070914160322-53eee-15f662ab837f8718a61223ec18eeca4967c0cead.gz

 src/tube-dbus.c |   12 +++++++++++-
 1 files changed, 11 insertions(+), 1 deletions(-)

commit 9f4a28bf2914d8c3c7aa1a40e4343240a7f2689a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 14 16:03:05 2007 +0000

    Assert that the reassembly buffer does, in fact, exist
    
    
    20070914160305-53eee-51d9a45f530ba45d10d21a3b979182485c1609ce.gz

 src/tube-dbus.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 015c4e496813c8d4986d09d4274b639db27ddb71
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 14 15:42:02 2007 +0000

    Don't bother checking source or destination addresses for peer-to-peer D-Bus tubes, only for MUC D-Bus tubes
    
    
    20070914154202-53eee-b703f0b93044ea39656f4f888368ba3a94c01311.gz

 src/tube-dbus.c |   38 +++++++++++++++++++++-----------------
 1 files changed, 21 insertions(+), 17 deletions(-)

commit 10678fe5468e2c1513d9b7ded45c5232d21a5fd3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 14 15:02:46 2007 +0000

    Allocate the reassembly buffer
    
    
    20070914150246-53eee-6c18edc095a76d5ab38fb5d96df25a7227281b0c.gz

 src/tube-dbus.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 8823e1b9ff5d0c4feccb63cfe9f4b95d0429f4eb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 14 13:01:47 2007 +0000

    Use libdbus #defines for protocol constants
    
    
    20070914130147-53eee-ad8594122a5f9628c8878969b0be9d869bdc525d.gz

 src/tube-dbus.c |   18 +++++++++---------
 1 files changed, 9 insertions(+), 9 deletions(-)

commit 4df2b2f3e1d7a66cf22af32aa6192f4fff02241a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 14 12:53:09 2007 +0000

    Merge with Guillaume
    
    
    20070914125309-53eee-f2a4d2bce8e32ce5f1c563f870d98317c0641a58.gz

 src/tube-dbus.c |   16 ++++++++++++++++
 1 files changed, 16 insertions(+), 0 deletions(-)

commit 8d6275ba676feb46353840a6a226f99aa061ad2e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 13 16:23:32 2007 +0000

    Reassemble D-Bus messages in IBB tubes, even if IBB message boundaries don't align with D-Bus message boundaries
    
    
    20070913162332-53eee-a03f70a6b506d9423d8acd0608484e15d51ffab0.gz

 src/tube-dbus.c |  160 +++++++++++++++++++++++++++++++++++++++++++------------
 1 files changed, 126 insertions(+), 34 deletions(-)

commit 9638746863bc44c9cb16e41c23eb06f7709109cb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 14 13:18:05 2007 +0000

    gabble_tube_dbus_add_name: check if handle/name wasn't previoulsy added in hash table before inserting
    
    
    20070914131805-7fe3f-ec7b0e7ca9266ec1d676a6966c0aaaeb49f2016f.gz

 src/tube-dbus.c |   13 +++++++++++++
 1 files changed, 13 insertions(+), 0 deletions(-)

commit c810e3af488421d2f54cc3b70aade86cfaa1bd59
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 14 13:11:53 2007 +0000

    tube-dbus: make dbus_name_to_handle use dbus_names's copy of the "name" string
    
    
    20070914131153-7fe3f-e847dec9e181a1eda3f02cba0c7fef14edf664e3.gz

 src/tube-dbus.c |    8 +++++---
 1 files changed, 5 insertions(+), 3 deletions(-)

commit dc1d0a703a21965b27c7a20688ee61bf8c9a9b78
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 14 12:57:28 2007 +0000

    tube-dbus: rename DBUS_SERVER_LISTEN_MAX_TRY to SERVER_LISTEN_MAX_TRIES
    
    
    20070914125728-7fe3f-e26baad7b015cc1eb62041e355ecd2ab9161d917.gz

 src/tube-dbus.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit e55c496e8e6664fa8b7157adbb8bd6ce2181eae7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 14 12:28:27 2007 +0000

    print the D-Bus error name too
    
    
    20070914122827-7fe3f-eaef347a369dd3e9effa8486ecf6db884ebccf3c.gz

 src/tube-dbus.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 8e778b71cebe1b57969289efa267730510784ec7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 14 12:15:11 2007 +0000

    tube-dbus: fix DBusError usage
    
    
    20070914121511-7fe3f-52593b60ec0d362094822f501653f27d5a3fa6e0.gz

 src/tube-dbus.c |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

commit 4d891f147e1bc5b87b480e30009b08d05fc4a8fa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 14 11:00:28 2007 +0000

    tube-dbus: store the path of the UNIX socket instead of parsing the D-Bus server address to find it
    
    
    20070914110028-7fe3f-624bcafcc92bef878d38276f2855f4e2d0200676.gz

 src/tube-dbus.c |   25 ++++++++++++++++++-------
 1 files changed, 18 insertions(+), 7 deletions(-)

commit c29d1b40ae74667763eedf0582e3cfb8220a5335
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 14 10:49:34 2007 +0000

    tube-dbus: rename dbus_names_reverted to dbus_name_to_handle
    
    
    20070914104934-7fe3f-4ab97859b2904b9073497592d33d1abda7b41d7c.gz

 src/tube-dbus.c |   20 ++++++++++----------
 1 files changed, 10 insertions(+), 10 deletions(-)

commit 6a4ce936f6b64b170568267a4df7625c6450a8e2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 14 10:03:32 2007 +0000

    tube-dbus: retry with a different address if dbus_server_listen fails. Close the tube if we finally give up
    
    
    20070914100332-7fe3f-9301fb0f82d400d22042bf196dbe00da9746401a.gz

 src/tube-dbus.c |   66 ++++++++++++++++++++++++++++++++++++++----------------
 1 files changed, 46 insertions(+), 20 deletions(-)

commit d58fca21b4b6d2eb9baf88a00e523da3772fe671
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 14 09:38:54 2007 +0000

    tube-dbus: keep a dbus_names reverted mapping so avoid a O(n) lookup each time we receive a not broadcasted D-Bus message
    
    
    20070914093854-7fe3f-428bdca844ed29340e28f7f816b8318a1c8ea8e7.gz

 src/tube-dbus.c |   61 ++++++++++++++++++++++++++++---------------------------
 1 files changed, 31 insertions(+), 30 deletions(-)

commit 156cc1da83b7a43e61d18d2c70b43c57e7b82d1a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 14 09:19:09 2007 +0000

    add gabble_tube_dbus_handle_in_names public method
    
    
    20070914091909-7fe3f-a72c2e7ce9627628f3bd441de33d4f637b34c8ce.gz

 src/tube-dbus.c     |   10 ++++++++++
 src/tube-dbus.h     |    3 +++
 src/tubes-channel.c |   22 ++++------------------
 3 files changed, 17 insertions(+), 18 deletions(-)

commit 4c00a66ea546b82f5674d7997f5a8a2916fda407
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 14 09:01:27 2007 +0000

    add gabble_tube_dbus_add_name and gabble_tube_dbus_remove_name public methods so tubes-channel doesn't have to directly modify the hash table
    
    
    20070914090127-7fe3f-3a658b82fb78fedb7298fae3d7c8ec9d2c132a62.gz

 src/tube-dbus.c     |   29 +++++++++++++++++++++++++++++
 src/tube-dbus.h     |    5 +++++
 src/tubes-channel.c |   23 ++---------------------
 3 files changed, 36 insertions(+), 21 deletions(-)

commit b0408796b3e37e72c0c21812c5d3fc424fff3b58
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 14 08:24:05 2007 +0000

    tube-dbus: unlink the unix socket when disposing
    
    
    20070914082405-7fe3f-27665f0d7dc59050d09397ec02a8b3b21b15a58e.gz

 src/tube-dbus.c |   12 ++++++++++--
 1 files changed, 10 insertions(+), 2 deletions(-)

commit e1387e977a104ef854f1252f997406432919016d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Sep 14 08:04:07 2007 +0000

    tube-dbus: use g_get_tmp_dir() instead of /tmp hardcoding
    
    
    20070914080407-7fe3f-7c49531405f5a597941e1fb54c6208fb95cf8803.gz

 src/tube-dbus.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 300f1900353f1ba816fc2324ddc5342c2c0f13d1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 13 16:22:00 2007 +0000

    Don't leak D-Bus errors; improve debug messages
    
    
    20070913162200-53eee-26d95b40c7077685bea8fd20eade6839247b4b26.gz

 src/tube-dbus.c |   10 ++++++----
 1 files changed, 6 insertions(+), 4 deletions(-)

commit 2030a779eaf9602a48ef9d1051e85e26fe92555b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 13 15:24:23 2007 +0000

    tube-dbus.c: add FIXME comments to keep track of issues
    
    
    20070913152423-53eee-6ea842a138d21f4776f1d8cc7daf1c6a59071c5b.gz

 src/tube-dbus.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit e30c5abea5fe3bde729c0cf7708f93f100cc9fea
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 13 15:23:42 2007 +0000

    Explain in a comment how to do the necessary minimal parsing on D-Bus messages
    
    
    20070913152342-53eee-b58dd549797d99dd2e02058b5e414f251de977fa.gz

 src/tube-dbus.c |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit 31236984648009b756565ec92ed1d8d083151b2d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 13 15:15:00 2007 +0000

    tube-dbus: don't discard echoed broadcast messages - the reference dbus-daemon doesn't
    
    
    Before merging this patch into OLPC builds, activities that use signals will
    need auditing to make sure they won't get confused by their own echoed signals.
    
    20070913151500-53eee-0dd24e28229533410aa6015cc422865d5e8b2cfb.gz

 src/tube-dbus.c |    6 ------
 1 files changed, 0 insertions(+), 6 deletions(-)

commit c1928cedd6796445385fd934040649d4fe95bbeb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 13 15:13:57 2007 +0000

    tube-dbus: data_received_cb takes any GabbleBytestreamIface now, not just the GabbleBytestreamIBB implementation
    
    
    20070913151357-53eee-b8ea410ca0dce19937e72d3c9b29e70a0abbcd9f.gz

 src/tube-dbus.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 4ea7bf402a7b27601908e2a6e6342642afc2717e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 13 15:39:59 2007 +0000

    add FIXME about private-tubes renaming
    
    
    20070913153959-7fe3f-5ebcf52926aad6c3b00782e8c7a09a847e4023cd.gz

 src/tubes-factory.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 76965daa95db074509e567ba222183fb30627848
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 13 15:24:58 2007 +0000

    tubes-factory: raise "not available" error instead of "invalid handle" when trying to open a channel to our self handle
    
    
    20070913152458-7fe3f-e66eb22c26663464c70e681c1909b54132b7fbbc.gz

 src/tubes-factory.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 0df57b4fc7292fef2ebde119be7b7a1ccf399758
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 13 15:03:45 2007 +0000

    tubes-channel: emit the "pre-presence" signal just before sending the stanza so other components see something more closer to the final msg
    
    
    20070913150345-7fe3f-181cf4dfd1cb2fd0fe8896fe13a09840c125cc25.gz

 src/gabble-muc-channel.c |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit 9f3ce6bed3ebfeb4291500b0a66d65d7f98356cf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 13 15:00:14 2007 +0000

    gabble_bytestream_muc_send_to: check if the contact's jid contains a '/' right after the muc jid
    
    
    20070913150014-7fe3f-5cccef02cec6b7bb9bf72346bba4eb30af166d24.gz

 src/bytestream-muc.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 510defdd0bd58c10b29499931bc780003d681f55
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 13 14:42:36 2007 +0000

    tubes-channel: disconnect the pre-presence signal when disposing
    
    
    20070913144236-7fe3f-4140f983039ebaef77ed0a23268d764885de163c.gz

 src/tubes-channel.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit f1ebe9ab2046a6919bdd8f13861df64502e047b3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 13 14:26:32 2007 +0000

    tubes-channel: use the muc-channel to send presences
    
    
    20070913142632-7fe3f-7028c898ce4178b0d026a533d73a17504e4fb7ca.gz

 src/tubes-channel.c |   57 +++++++++++++++++++-------------------------------
 1 files changed, 22 insertions(+), 35 deletions(-)

commit 190f5ca9a465bd6d460f379d2ae1ee1e29f2188d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 13 14:16:45 2007 +0000

    add a gabble_muc_channel_send_presence public method and a pre-presence signal so other components can extend the presence
    
    
    20070913141645-7fe3f-412e6f2f7fca30690b373e427b791b8f22f7045d.gz

 src/gabble-muc-channel.c |   54 ++++++++++++++++++++++++++++++++++++++++------
 src/gabble-muc-channel.h |    3 ++
 2 files changed, 50 insertions(+), 7 deletions(-)

commit 82c22fe1d27a16c7fec046fad37e2e8a71d31d0b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 13 14:09:42 2007 +0000

    bytestream-muc.c:check if contact is potentially member of the muc using his jid
    
    
    20070913140942-7fe3f-c99224c14b2cb1cad5e4cef3eed985550db4dbbf.gz

 src/bytestream-muc.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 1d0eab2fa8af1149088166c575f377acfa3fbc25
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Sep 13 12:01:58 2007 +0000

    tube-dbus: filter_cb: rename the data arg to user_data to avoid confusion with the data variable declared in an if block
    
    
    20070913120158-7fe3f-7bf2af3b5378ea3e309d79cfeb515419ee48cce6.gz

 src/tube-dbus.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit e0ce93c2d67b6a05d4720ea8b34c67186b92a0d2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 6 13:01:28 2007 +0000

    Merge gabble-connection.c: PEP aliasing vs. tubes
    
    
    20070906130128-53eee-edf01902a184306abc01d622e8406615781b023b.gz

 src/gabble-connection.c |    6 ------
 1 files changed, 0 insertions(+), 6 deletions(-)

commit b79de20a43353d5aa48825c7efc0d83330c6769e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 4 18:13:57 2007 +0000

    test-muc-tubes.py: Port to new tubes API and protocol. Re order events to have test always working (hopefully!)
    
    
    20070904181357-7fe3f-ce6eaf790db5d06407a405ea85ceb2e437e76bfe.gz

 tests/test-muc-tubes.py |  209 ++++++++++++++++++++++++-----------------------
 1 files changed, 108 insertions(+), 101 deletions(-)

commit 6079a266581ca606292fc78ea34415c801f1c4cd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 4 18:11:14 2007 +0000

    test-si-tubes.py: port to new stream tubes API
    
    
    20070904181114-7fe3f-0dd66d3d9fb6dcf6df06633d83573a80820cee42.gz

 tests/test-si-tubes.py |    8 +++++---
 1 files changed, 5 insertions(+), 3 deletions(-)

commit 3c88ba7a2ae4215d737a165040ab811cda06bcc2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Sep 4 13:22:52 2007 +0000

    test-muc-tubes-oldapi.py: updated to use new MUC bytestream
    
    
    20070904132252-7fe3f-ac3c101fab859b63427a2560debff924392cc65a.gz

 tests/test-muc-tubes-oldapi.py |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit e66d1fc7d3394b61cc07567d56c83a94350567ed
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 3 12:55:58 2007 +0000

    factor out tubes properties to tube-iface
    
    
    20070903125558-7fe3f-c7a2de30b29c027e700da89d271546a1e52db89b.gz

 src/tube-dbus.c   |  158 ++++++++---------------------------------------------
 src/tube-iface.c  |  150 ++++++++++++++++++++++++++++++++++++++++++++++++++-
 src/tube-stream.c |  154 +++++++--------------------------------------------
 3 files changed, 195 insertions(+), 267 deletions(-)

commit 3125a1379125793512e13eadf4b72991dcbfc2ee
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 3 11:48:34 2007 +0000

    move stream-init-id property to bytestream-iface as it's private bytestream specific
    
    
    20070903114834-7fe3f-38349a3000f83a9f2d61d9bc993728c41be8b210.gz

 src/bytestream-ibb.c   |   14 ++++++++++++--
 src/bytestream-iface.c |   11 -----------
 src/bytestream-muc.c   |    6 ------
 3 files changed, 12 insertions(+), 19 deletions(-)

commit 6f9cb4eb6187d9cc6a9edb721f8eb099d6d2ce8e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 3 11:47:34 2007 +0000

    use tube's handle type instead of the stream-init-id to check if we need to answer to a SI request
    
    
    20070903114734-7fe3f-d563fe451caa59c9c27e4b0cc0d8cd1a0d1cb010.gz

 src/tube-dbus.c   |   10 +++-------
 src/tube-stream.c |    7 +------
 2 files changed, 4 insertions(+), 13 deletions(-)

commit dc194f1cf3cbadcb7c5bbb22c86268fe697fbc3b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 3 11:33:44 2007 +0000

    move "peer-resource" property to bytestream-ibb as it's private bytestream specific
    
    
    20070903113344-7fe3f-677cf828c3cf438d221d891bc6298cb70355316b.gz

 src/bytestream-ibb.c   |   16 ++++++++++++++--
 src/bytestream-iface.c |   11 -----------
 src/bytestream-muc.c   |    6 ------
 3 files changed, 14 insertions(+), 19 deletions(-)

commit 0ead9c6cb15fecf112034e92f4fa4f0101c3d2a1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Sep 3 10:38:06 2007 +0000

    move bytestream properties definition to bytestream-iface
    
    
    20070903103806-7fe3f-12188193ae2eeaec38bc6ebc5496577a113735d8.gz

 src/bytestream-ibb.c   |  115 +++++++-----------------------------------------
 src/bytestream-iface.c |  110 +++++++++++++++++++++++++++++++++++++++++++++-
 src/bytestream-muc.c   |  113 +++++++----------------------------------------
 3 files changed, 141 insertions(+), 197 deletions(-)

commit 24806a5939532a8c352a150154c360f1633f918a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 31 12:13:42 2007 +0000

    use lm_message_build '*' vararg to get the data node
    
    
    20070831121342-7fe3f-7d96c34af361539f064d8e561541fc4e2f6b3afd.gz

 src/bytestream-muc.c |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit 893a4d9b70aad1eb253c2712bd9b80bc5433ef58
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 31 11:53:09 2007 +0000

    bytestream-muc: ref priv->peer_handle and don't dup priv->peer_jid
    
    
    20070831115309-7fe3f-9ebc747c9466d871955bfb1a327bb6625512e3b7.gz

 src/bytestream-muc.c |   15 ++++++++++-----
 1 files changed, 10 insertions(+), 5 deletions(-)

commit 1363cfd5653938a3c2f1b3955e3f1d18019fc6f6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 31 11:52:36 2007 +0000

    bytestream-ibb: ref priv->peer_handle
    
    
    20070831115236-7fe3f-cb69278ae860473313baf986fe95c54bd98f5781.gz

 src/bytestream-ibb.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit fb8542ece2cbee26cae434e1ffd02aa980c1709f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 31 11:38:35 2007 +0000

    bytestream-muc: better priv->buffer comment
    
    
    20070831113835-7fe3f-b5e78f736f9769b6df11e6314a8b3a979b417ab4.gz

 src/bytestream-muc.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 72b400b0dfdde7ef3a6f428d3546b45c575ef65e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 31 11:36:14 2007 +0000

    fix copyright
    
    
    20070831113614-7fe3f-2f4ef0476fdb4bdb2a7b43d99422201bd5815064.gz

 src/bytestream-ibb.c   |    2 +-
 src/bytestream-iface.c |    2 +-
 src/bytestream-muc.c   |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 29035e42fb501dd3be4f816f107add7e2d6e93bf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 31 11:32:36 2007 +0000

    rename gabble_bytestream_iface_initiation to gabble_bytestream_iface_initiate
    
    
    20070831113236-7fe3f-8e307c1fee987256419c399cb13f086b21a9dfb0.gz

 src/bytestream-factory.c |    2 +-
 src/bytestream-ibb.c     |    8 ++++----
 src/bytestream-iface.c   |    4 ++--
 src/bytestream-iface.h   |    4 ++--
 src/bytestream-muc.c     |    8 ++++----
 5 files changed, 13 insertions(+), 13 deletions(-)

commit ffcd4c8297d226533f03375874e727ee2527d864
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 31 11:27:17 2007 +0000

    remove a deprecated comment in bytestream-ibb.c
    
    
    20070831112717-7fe3f-d64c14459edced60781cbf3b68d75abe3944643d.gz

 src/bytestream-ibb.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 9ba076e1823b79660f16088df70794bdd3a91afa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 31 11:26:45 2007 +0000

    gabble_bytestream_iface_send now takes a const gchar *
    
    
    20070831112645-7fe3f-97e9cf39b72a22339f1ac65a4f4924761bed8439.gz

 src/bytestream-ibb.c   |    2 +-
 src/bytestream-iface.c |    4 ++--
 src/bytestream-iface.h |    5 +++--
 src/bytestream-muc.c   |    4 ++--
 4 files changed, 8 insertions(+), 7 deletions(-)

commit 277b3344ac4dd3a906b3c09cc8ea5d8d0bc492cf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 31 11:23:24 2007 +0000

    rename LAST_GABBLE_BYTESTREAM_STATE to NUM_GABBLE_BYTESTREAM_STATES
    
    
    20070831112324-7fe3f-452721e7c081618bb345359e709c0048a7f0875f.gz

 src/bytestream-ibb.c   |    2 +-
 src/bytestream-iface.h |    2 +-
 src/bytestream-muc.c   |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit b72a56dadcbe3cab741dd4d7827ee25babb9301c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 31 09:34:42 2007 +0000

    bytestream-muc: implement fragmentation
    
    
    20070831093442-7fe3f-dc899a97ef3ff5419da00e9211529e67e5ce1dc9.gz

 src/bytestream-muc.c |  201 +++++++++++++++++++++++++++++++++++++++++++++++---
 1 files changed, 189 insertions(+), 12 deletions(-)

commit 70b9cac849f4b4293192918ac1eee5feb85e5c64
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 30 15:50:02 2007 +0000

    drop gabble_bytestream_ibb_send_to as it doesn't make sense anymore
    
    
    20070830155002-7fe3f-6b572f41b2eafac26401119308fb8f04ba65cf0b.gz

 src/bytestream-ibb.c |   62 ++++++++-----------------------------------------
 src/bytestream-ibb.h |    4 ---
 2 files changed, 10 insertions(+), 56 deletions(-)

commit 63f3f8ddd29009a69525facc405a384d6ea67cfb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 30 15:49:13 2007 +0000

    tube-dbus: check for BytestreamMuc to use send_to
    
    
    20070830154913-7fe3f-987c7231225a73c8a815259e5958e9f39aa99a45.gz

 src/tube-dbus.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit d1788145dcfb3fe6a0f583e3f12264ce0029f893
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 30 15:38:54 2007 +0000

    bytestream-factory: add BytestreamMuc support
    
    
    20070830153854-7fe3f-09a5f84f1990f1baf0cd323266dccc2853571b50.gz

 src/bytestream-factory.c |  133 ++++++++++++++++++++++++++++++++--------------
 src/bytestream-factory.h |    8 ++-
 2 files changed, 99 insertions(+), 42 deletions(-)

commit d6ca28f919933b0e02e8427558244823e7041f1e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 30 15:38:05 2007 +0000

    bytestream-ibb: drop muc support
    
    
    20070830153805-7fe3f-e4e5091066805ebb7826809403b2ba70e72544eb.gz

 src/bytestream-ibb.c |  153 ++++++++++----------------------------------------
 1 files changed, 31 insertions(+), 122 deletions(-)

commit 5363d968f411f7bb3a68fe42384e147b618d7e1f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 30 15:36:40 2007 +0000

    tube-dbus: use GabbleBytestreamMuc instead of GabbleBytestreamIBB for muc D-Bus tubes
    
    
    20070830153640-7fe3f-a5ac9685c4003ef87903abff5bbf9b8a82c90bce.gz

 src/tube-dbus.c |    7 ++-----
 1 files changed, 2 insertions(+), 5 deletions(-)

commit b68c0eb48a859c13d6907c709d9f366c7e158480
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 30 15:35:51 2007 +0000

    add NS_MUC_BYTESTREAM
    
    
    20070830153551-7fe3f-2ec0870645882070a4d0ba72cd4883df400a9fc2.gz

 src/namespaces.h |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit c4adcbd25f4a1f13644295967453cc085cecb30a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 30 15:35:38 2007 +0000

    build bytestream-muc
    
    
    20070830153538-7fe3f-0ddc9700f788e81692526a93082bdb52163aec18.gz

 src/Makefile.am |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 6815ce5830117ca71387f930af3cc250f12da36d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 30 15:35:16 2007 +0000

    add bytestream-muc.[ch]
    
    
    20070830153516-7fe3f-c74c5b3129624b7feb2bcaad189da6f67c640066.gz

 src/bytestream-muc.c |  555 ++++++++++++++++++++++++++++++++++++++++++++++++++
 src/bytestream-muc.h |   71 +++++++
 2 files changed, 626 insertions(+), 0 deletions(-)

commit 07cc83be589a58124b4fb4798a0986b2bbd27a5c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 30 14:19:18 2007 +0000

    bytestream-ibb: fix typo
    
    
    20070830141918-7fe3f-c09b32c4268bdc36ba3dd7fd7acea55f3b2f99c2.gz

 src/bytestream-ibb.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 2894e7349821393df0cfd2cdb9c0c71357f698a5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 30 13:13:51 2007 +0000

    drop gabble_bytestream_iface_make_accept_iq and use gabble_bytestream_iface_get_protocol to create the SI request (as in Salut)
    
    
    20070830131351-7fe3f-7061d48387ccd9815ac59f8d6bf096e245d587b9.gz

 src/bytestream-ibb.c   |   22 ----------------------
 src/bytestream-iface.c |    9 ---------
 src/bytestream-iface.h |    4 ----
 src/tube-dbus.c        |   11 ++++++++++-
 src/tube-stream.c      |   39 +++++++++++++++++++++++----------------
 5 files changed, 33 insertions(+), 52 deletions(-)

commit 1140e4e99623920c680dd4fbe68a6d2eaf43dad7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 30 12:36:46 2007 +0000

    tubes-factory: port to use the bytestream interface
    
    
    20070830123646-7fe3f-f814d62d2f9499da08c5fb7e9dd63abf8d3e7ec7.gz

 src/tubes-factory.c |    2 +-
 src/tubes-factory.h |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 9491848a198bfeebbf041cd68957401927303261
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 30 12:36:35 2007 +0000

    tubes-channel: port to use the bytestream interface
    
    
    20070830123635-7fe3f-853df634ed1698ab57adeb44cfa4cc9da90a7f00.gz

 src/tubes-channel.c |    6 +++---
 src/tubes-channel.h |    4 ++--
 2 files changed, 5 insertions(+), 5 deletions(-)

commit bb6c7224489ef60fec203eaf7bc7b259b7419766
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 30 12:36:25 2007 +0000

    tube-stream: port to use the bytestream interface
    
    
    20070830123625-7fe3f-373abef652a09ccbfd034ae5480bdefec98834e4.gz

 src/tube-stream.c |   74 ++++++++++++++++++++++++++--------------------------
 1 files changed, 37 insertions(+), 37 deletions(-)

commit 60f9795698e9f25abdef99c0f1f227ee5ee47bd7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 30 12:35:48 2007 +0000

    tube-dbus: port to use the bytestream interface
    
    
    20070830123548-7fe3f-29014b9d883c469cc1f6527d681368500744d405.gz

 src/tube-dbus.c |   61 ++++++++++++++++++++++++++++---------------------------
 src/tube-dbus.h |    4 +-
 2 files changed, 33 insertions(+), 32 deletions(-)

commit eb14d27d4fe1f8854486c1ee91f684cdde12fdc8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 30 12:35:31 2007 +0000

    tube-iface: port to use the bytestream interface
    
    
    20070830123531-7fe3f-79433198939678aa2e8464a9028bbb79af9f16ff.gz

 src/tube-iface.c |    4 ++--
 src/tube-iface.h |    6 +++---
 2 files changed, 5 insertions(+), 5 deletions(-)

commit a2166e2dbb082358defa50fcbcd17a6c75c566aa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 30 12:33:51 2007 +0000

    muc-factory: port to use the bytestream interface
    
    
    20070830123351-7fe3f-96873fc32b1beed6bb3ee8edff1f82517e08c264.gz

 src/muc-factory.c |    2 +-
 src/muc-factory.h |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit ba821fb104100e2ad7eec0678b2722349b23b27a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 30 12:33:22 2007 +0000

    bytestream-factory: port to use the bytestream interface
    
    
    20070830123322-7fe3f-050d2a2f77ceb26f70bfcf6969edb4fa474899bb.gz

 src/bytestream-factory.c |   37 ++++++++++++++++++++-----------------
 src/bytestream-factory.h |    5 +++--
 2 files changed, 23 insertions(+), 19 deletions(-)

commit f609e37524d6da7624a6394ebaae6bb5ae4b6fca
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 30 12:32:44 2007 +0000

    abstract GabbleBystreamIBB using GabbleBystreamIface
    
    
    20070830123244-7fe3f-6b9f0e5c9a4debecfa36434defa10e65c24eab5c.gz

 src/bytestream-ibb.c |  126 +++++++++++++++++++++++++++++++++++++-------------
 src/bytestream-ibb.h |   32 -------------
 2 files changed, 93 insertions(+), 65 deletions(-)

commit 2076e83ee0f465239c5c3de2d691a97e29c1890e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 30 12:32:19 2007 +0000

    build bytestream-iface
    
    
    20070830123219-7fe3f-49d71f5fe7c934f4dec0d2e7d46f7a76098b7dc8.gz

 src/Makefile.am |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 7d154d80a7f14c80bb6b69313004d1f5b52c00e4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Aug 30 12:31:49 2007 +0000

    add bytestream-iface.[ch]
    
    
    20070830123149-7fe3f-0b3a19db2397271a7a1a69c77d69bd3dd7ff0697.gz

 src/bytestream-iface.c |  104 ++++++++++++++++++++++++++++++++++++++++++++++++
 src/bytestream-iface.h |   94 +++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 198 insertions(+), 0 deletions(-)

commit 824b6fdc733ab8f26868beea0a8112a8f5d60633
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 30 18:33:25 2007 +0000

    bytestream-factory: streaminit_reply_cb: don't use 'success' uninitialized
    
    
    20070830183325-53eee-55e9c8a165978b0143b555ba0b60e1f57825af1f.gz

 src/bytestream-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4c3d5769de67eff08e8809a002514769ada3b49f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 30 16:28:56 2007 +0000

    Merge tests/Makefile.am HEAD<->tubes (test-muc-alias vs test-muc-tubes)
    
    
    20070830162856-53eee-e42cf395560fc0df878511c11009ba32974b04f8.gz

 tests/Makefile.am |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 76afd9d3600d1a0ab0c3f19ab9f16b5a59fc30dc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 28 17:06:28 2007 +0000

    Unix socket address have to be 'ay' as said in the spec
    
    
    20070828170628-7fe3f-c2b7fb5be7a48a1c32073b5c9fce889c250571a2.gz

 src/tubes-channel.c |   38 +++++++++++++++++++++++++++++---------
 1 files changed, 29 insertions(+), 9 deletions(-)

commit 48152c81f2f17f7835b5ede7690cbb2d63c798d7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 28 16:33:51 2007 +0000

    re-implement deprecated OfferTube, AcceptTube and GetDBusServerAddress to be backward compatible
    
    
    20070828163351-7fe3f-7e8157e2a160167b7fb98f7a46c2ae29a9a6cf9e.gz

 extensions/Channel_Type_Tubes.xml |   76 +++++++++++++++++++++++++++++++++++++
 src/tubes-channel.c               |   63 ++++++++++++++++++++++++++++++
 2 files changed, 139 insertions(+), 0 deletions(-)

commit fb658db0c809d02df9c22aaa57d25875a2f29c02
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 28 16:18:46 2007 +0000

    implement GetAvailableStreamTubeTypes
    
    
    20070828161846-7fe3f-b93e1f7604692deff73108183666161c129e4679.gz

 src/tubes-channel.c |   32 ++++++++++++++++++++++++++++++++
 1 files changed, 32 insertions(+), 0 deletions(-)

commit 3dbc5a4f775e6692d041d48788c8407e1f2eea80
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 28 15:59:02 2007 +0000

    update tubes-channel implementation to fit tubes spec 0.5.15
    
    
    20070828155902-7fe3f-e15fc0e5f1e66e6a1b7a0945d2b36bd7ad24a490.gz

 src/tubes-channel.c |   66 +++++++++++++++++++++++++-------------------------
 1 files changed, 33 insertions(+), 33 deletions(-)

commit 971e3c69b56eb749f6fdcc8193f149e30258f584
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 28 15:48:39 2007 +0000

    update ./extensions/Channel_Type_Tubes.xml to fit spec 0.15.5
    
    
    20070828154839-7fe3f-a60f1d4930e50ab7426c12961d0456c103d58ecb.gz

 extensions/Channel_Type_Tubes.xml |  168 ++++++++++++++++++++++++++++---------
 1 files changed, 128 insertions(+), 40 deletions(-)

commit 2bc279c7b9c8368c582ce74e826920a2e200142b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Aug 28 15:19:57 2007 +0000

    when handling IBB data, check if we have a muc channel having the room handle
    
    
    20070828151957-7fe3f-3c059b6724dbed9f77d868fffb949a61011e6e0c.gz

 src/bytestream-factory.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 1d56e3f43f05cb4d58cba0d0ce386fb88954ce21
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 27 13:57:08 2007 +0000

    update tubes to fit latest API
    
    
    20070827135708-7fe3f-7609018a07321e893347ba217e8bc39b058a91ee.gz

 src/tube-stream.c   |    4 +-
 src/tubes-channel.c |  221 ++++++++++++++++++++++++++++++++++++++++-----------
 2 files changed, 175 insertions(+), 50 deletions(-)

commit 0606c40110855bda9514f58eeeb068ad8b3b2f31
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 27 12:38:33 2007 +0000

    Channel_Type_Tubes.xml: re-add OfferTube for backward compatibility
    
    
    20070827123833-7fe3f-4993f83b5bb3eb1a82d110887a1035cd2fde3eac.gz

 extensions/Channel_Type_Tubes.xml |   29 +++++++++++++++++++++++++++++
 1 files changed, 29 insertions(+), 0 deletions(-)

commit edc840168399dd6de6c86e5e3562204078689f1f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 27 11:42:20 2007 +0000

    update extensions/Channel_Type_Tubes.xml
    
    
    20070827114220-7fe3f-a0795f3923e45a576af8bd46a15d2f9a3731695b.gz

 extensions/Channel_Type_Tubes.xml |  195 +++++++++++++++++++++++++------------
 1 files changed, 131 insertions(+), 64 deletions(-)

commit 22d2e750125a6bf3d0d1476f1036538136ada991
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 27 11:30:32 2007 +0000

    bytestream-factory: when handling IBB data, always look for the bytestream in ibb_bytestreams if we didn't find it previously as datas coming from a muc contact can also be in a private bytestreams (as in muc stream tubes)
    
    
    20070827113032-7fe3f-fb056d70fcdc2de838349d584ae2181edae7a9dc.gz

 src/bytestream-factory.c |   11 +++++++----
 1 files changed, 7 insertions(+), 4 deletions(-)

commit f97cda01d6226285437d6046cfa1173907674eb0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 27 11:18:25 2007 +0000

    add the jid in the debug output when creating a new IBB bytestream
    
    
    20070827111825-7fe3f-217fdfd2e34097383dffb914686630f43d489b62.gz

 src/bytestream-factory.c |   11 ++++++-----
 1 files changed, 6 insertions(+), 5 deletions(-)

commit a46212ed30a7ab72cef0265211e0c355d236531c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 27 10:50:36 2007 +0000

    tube-stream: move the tube markup from <iq> to <si>
    
    
    20070827105036-7fe3f-032f69a169ed01dd1618a69c1957ccee627e9e1e.gz

 src/tube-stream.c |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit bd441b244d85998efa469253102510f2a0ba233f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Aug 27 10:26:11 2007 +0000

    when handling IBB stanza, use the room handle instead of the groupchat subtype as we use private muc messages when it's possible to save bandwith
    
    
    20070827102611-7fe3f-5512d5b8f6f6114de0961ad1e88de4c3938e3076.gz

 src/bytestream-factory.c |   11 ++++++++---
 1 files changed, 8 insertions(+), 3 deletions(-)

commit 034b7773d2e526ae42616e85f295651e263ead11
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 16 16:00:58 2007 +0000

    Fix thinko in assertion
    
    
    20070816160058-53eee-367fb0b56334f619857632c1de2ea63b7a0526e3.gz

 src/tubes-channel.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 002017a5aedd406d5c7b126b0b7dd5ab4dff86ba
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 16 15:15:59 2007 +0000

    gabble_tubes_channel_tube_offered: assert that the message is an IQ with type="set"
    
    
    20070816151559-53eee-37eb3b6535c48273f54ca98141e38e5b40f987e0.gz

 src/tubes-channel.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit e6eb176b44a7ff26cc526f4119bd6183b36eac3a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 16 13:03:08 2007 +0000

    Upgrade invalid handle passed to gabble_muc_factory_handle_si_request to be an assertion failure
    
    
    20070816130308-53eee-739fe885c41a5870c2d56a124964ef45c4f78236.gz

 src/muc-factory.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 7f85e7ff4ac83dadc8ca5527631129057c8a0d57
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 16 12:55:26 2007 +0000

    Return an IQ error if an SI request happens and nobody cared
    
    
    20070816125526-53eee-7126605730120511ee6e78d2b29bace9583b617e.gz

 src/bytestream-factory.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit a96ee72abd7f31b73b2bf972a73b3e65c937b4c0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 16 12:50:10 2007 +0000

    Make it explicit that gabble_tubes_channel_tube_offered expects and asserts that the message is a SI request
    
    
    20070816125010-53eee-8fc2f322e3559d34c69403c62cb2973ab5a5a3c2.gz

 src/tubes-channel.c |   22 +++++++++-------------
 1 files changed, 9 insertions(+), 13 deletions(-)

commit af93a62a20514edb76f598f7579d9094af5d19d1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 16 11:49:19 2007 +0000

    Stop using old tubes namespace
    
    
    20070816114919-53eee-951d1e624669b5221044419486aa4fad2aff8315.gz

 src/tube-dbus.c         |    2 +-
 src/tube-stream.c       |    8 ++++----
 src/tubes-channel.c     |    6 +++---
 tests/test-muc-tubes.py |    4 ++--
 tests/test-si-tubes.py  |    8 ++++----
 5 files changed, 14 insertions(+), 14 deletions(-)

commit 6b5e6b4186ab580a29480ae0b95fbff3c5ebf808
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 15 17:23:00 2007 +0000

    bytestream-factory: In streaminit_reply_cb, close the stream on errors
    
    
    20070815172300-53eee-30a8fe61e0a2bd107deb25abc0d88fe75434f019.gz

 src/bytestream-factory.c |   12 ++++++++++--
 1 files changed, 10 insertions(+), 2 deletions(-)

commit 39ad2a8c30ec91df9ed2ecdab5f8b55ea4cd964a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 15 16:59:25 2007 +0000

    bytestream-ibb: in gabble_bytestream_ibb_receive don't bother checking correctness of sender - caller should already have done that
    
    
    20070815165925-53eee-f28501997c524d988e09c75ecbe1c5df7874af16.gz

 src/bytestream-ibb.c |   60 +++++++++++++------------------------------------
 1 files changed, 16 insertions(+), 44 deletions(-)

commit fe60b4c87e92585346a45d383c2e27f5190e82f7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 15 16:49:31 2007 +0000

    bytestream-factory: dispatch IBB according to (handle type, JID, stream ID) tuples rather than just by stream ID
    
    
    20070815164931-53eee-8ac911ecae154cee33d146630380219641d46a0f.gz

 src/bytestream-factory.c |  179 +++++++++++++++++++++++++++++++++++++--------
 1 files changed, 147 insertions(+), 32 deletions(-)

commit cfb9629245f12625e25fda290c9d7fd007415cf7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 15 15:57:08 2007 +0000

    Give GabbleBytestreamIBB a readable property peer-jid
    
    
    20070815155708-53eee-8fb21e9b2440aedee8149e838d67601b60568c0b.gz

 src/bytestream-ibb.c |   16 ++++++++++++++++
 1 files changed, 16 insertions(+), 0 deletions(-)

commit 177fed96904153cff8b687356eaa4db90c7afc7a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 15 14:38:01 2007 +0000

    tube-dbus: gabble_bytestream_ibb_make_accept_iq can't return NULL unless sanity check fails, so make non-NULL an assertion
    
    
    20070815143801-53eee-4489e0dc90138dcd85889bb378e476c54e572c5c.gz

 src/tube-dbus.c |    7 +------
 1 files changed, 1 insertions(+), 6 deletions(-)

commit ac513e3612cb0cbf0751b9a559b6531387eaf275
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 15 14:37:35 2007 +0000

    tube-dbus: trivial grammatical fix "not intended to this" -> "not intended for this"
    
    
    20070815143735-53eee-f8942b2c3a3d8a88f41a88fd666c9e47b5428d45.gz

 src/tube-dbus.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit fe5ae6c4de418c482f34f6033ee3aec5dd799fb4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 15 14:37:11 2007 +0000

    bytestream-ibb: gabble_bytestream_ibb_make_accept_iq: use g_return_val_if_fail for sanity checks
    
    
    20070815143711-53eee-876b8a1d9a2f6816989d918bce1a1a7652a17767.gz

 src/bytestream-ibb.c |    8 ++------
 1 files changed, 2 insertions(+), 6 deletions(-)

commit 174447f869037f3e369937a0e6f5f13cca1b21b6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 15 14:36:55 2007 +0000

    bytestream-ibb: re-order #includes
    
    
    20070815143655-53eee-2f9d1110a1eb13975c9db081e72a5d1caf4b7131.gz

 src/bytestream-ibb.c |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

commit d99ff578a18f53d087f9151569e19e177f7dda8c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 15 11:16:21 2007 +0000

    Add a test case for the old tubes API (as used by OLPC Trial-2)
    
    
    20070815111621-53eee-46f43c8f863eda45a6329f44616ac64a02cd60cb.gz

 tests/test-muc-tubes-oldapi.py |  237 ++++++++++++++++++++++++++++++++++++++++
 1 files changed, 237 insertions(+), 0 deletions(-)

commit a031bb28cf0707ce5eda349fa17f53cfb632afc8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 15 10:31:11 2007 +0000

    Implement the old OfferTube method so this Gabble can be used with old versions of Sugar
    
    
    20070815103111-53eee-81e2d6d34d1157ac0eebd01959fd606e92b62b20.gz

 src/tubes-channel.c |   30 ++++++++++++++++++++++++++++++
 1 files changed, 30 insertions(+), 0 deletions(-)

commit de22a33a4593fcd0fdc296af66cb29b88acfd93c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 15 09:49:09 2007 +0000

    Add note to OfferTube indicating that it's deprecated
    
    
    20070815094909-53eee-7175a10b93a01b9f334c515916e33028452d2075.gz

 extensions/Channel_Type_Tubes.xml |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit a9a14043dab9c646b2a2e24a16d36d16abd4a9f0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 15 09:46:05 2007 +0000

    Add backwards-compatible version of OfferTube to tubes spec copy
    
    
    20070815094605-53eee-1a1004399334059d7408bca6ff569a1592190bab.gz

 extensions/Channel_Type_Tubes.xml |   28 ++++++++++++++++++++++++++++
 1 files changed, 28 insertions(+), 0 deletions(-)

commit f5660351bdd24b4b9e5f5d745301ab8bce2bfc08
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 14 11:53:25 2007 +0000

    test-si-tubes: oops, use self_handle instead of tubes_self_handle for global self handle
    
    
    20070814115325-53eee-a8a528defa651b8781ef3df98552a13fc35320e5.gz

 tests/test-si-tubes.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit d25c929ae12492887053913de97b9c04ccc8f94a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 13 19:29:40 2007 +0000

    Merge tests into one for SI and one for MUC
    
    
    20070813192940-53eee-18a69efa864e57ce15d2c97dc6dd7a6ec7dd964c.gz

 tests/Makefile.am                    |    3 +-
 tests/test-muc-tubes-offer-dbus.py   |  227 -----------------
 tests/test-muc-tubes-offer-stream.py |  239 ------------------
 tests/test-muc-tubes.py              |  414 +++++++++++++++++++++++++++++++
 tests/test-si-tubes-offer-dbus.py    |  241 ------------------
 tests/test-si-tubes-offer-stream.py  |  309 -----------------------
 tests/test-si-tubes.py               |  447 ++++++++++++++++++++++++++++++++++
 7 files changed, 862 insertions(+), 1018 deletions(-)

commit 21ff03e7d8a570f14eca628ff54bdcdec546dd3a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 13 18:58:09 2007 +0000

    Fix declaration of TWISTED_TESTS
    
    
    20070813185809-53eee-82f3acef51c6fe4b47ba029f271797b268738f6e.gz

 tests/Makefile.am |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit dccde2e25ab0ca91442e3e01dd339d040e38dd33
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 13 18:57:09 2007 +0000

    Add stream tests to Makefile.am
    
    
    20070813185709-53eee-26615a685eea58131721a1e36e443b3583b224cb.gz

 tests/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 3e448a2bcc80a01a58a996a4b9fcbb59d90333d2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 13 18:56:15 2007 +0000

    Add a simple test for Stream tubes in a MUC context
    
    
    20070813185615-53eee-56ee9999f1b79c3b4d2bd1a597b1a858c115d583.gz

 tests/test-muc-tubes-offer-stream.py |  239 ++++++++++++++++++++++++++++++++++
 1 files changed, 239 insertions(+), 0 deletions(-)

commit 09741d1062576007463194c930e1278c0cdf2266
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 13 18:46:14 2007 +0000

    Add a simple test for offering stream tubes
    
    
    20070813184614-53eee-d5b75137d0fdf78bfb14585c6155535f4e069f5b.gz

 tests/test-si-tubes-offer-stream.py |  309 +++++++++++++++++++++++++++++++++++
 1 files changed, 309 insertions(+), 0 deletions(-)

commit 3489b239a26763fdf7257e73ae1883e7acdaa8ab
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 13 18:45:40 2007 +0000

    tubes-factory: gabble_tubes_factory_handle_si_request: don't accept invalid handles
    
    
    20070813184540-53eee-ec4ea1ca43bb873b5a65c16652a35f09bbacec30.gz

 src/tubes-factory.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 224e257b8654d15979491fb49043ed7a6c1d1ca8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 13 18:44:12 2007 +0000

    Fix addition of streams to SI tubes: accept either NS_SI_TUBES or NS_SI_TUBES_OLD, rather than requiring the protocol to be both (which is impossible)
    
    
    20070813184412-53eee-07a931b7310cc2766fd80d26238ed755fc2174c3.gz

 src/bytestream-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c3b1a2772112188aeed18ab56099fae4580db232
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 13 16:16:39 2007 +0000

    Add simple test cases for offering D-Bus tubes in MUC and SI modes
    
    
    20070813161639-53eee-6365059eabddf0d8a2a5903c7daa2bde04799a47.gz

 tests/Makefile.am                  |    2 +-
 tests/test-muc-tubes-offer-dbus.py |  227 +++++++++++++++++++++++++++++++++
 tests/test-si-tubes-offer-dbus.py  |  241 ++++++++++++++++++++++++++++++++++++
 3 files changed, 469 insertions(+), 1 deletions(-)

commit 749d3510faa09f39f536887e5cc830905c6c65a2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 10 18:33:26 2007 +0000

    bytestream-factory, bytestream-ibb: make sure we reply with *something* to all IBB IQs, even errors
    
    
    20070810183326-53eee-e8c703a318e268858be34704fb2f9d74de5196bd.gz

 src/bytestream-factory.c |   34 ++++++++++++++++-----
 src/bytestream-ibb.c     |   76 ++++++++++++++++++++++++++++-----------------
 src/bytestream-ibb.h     |    5 +--
 3 files changed, 75 insertions(+), 40 deletions(-)

commit 47f400067d524d31a1a6d12294a56eeeb0c28f13
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 10 15:43:12 2007 +0000

    tubes-factory: make comment less misleading
    
    
    20070810154312-53eee-84b4cc09738eb1236be41abeecd8f52de42b5ccf.gz

 src/tubes-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 91ba51c21163a4684ea3cfceb3616dd43d352f1a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 10 15:43:08 2007 +0000

    gabble-muc-channel, muc-factory: declare gabble_muc_factory_find_channel in a more appropriate place. Also reindent gabble_muc_factory_handle_si_request declaration
    
    
    20070810154308-53eee-c06005d3d5314840cee0548718f679070c52fda0.gz

 src/gabble-muc-channel.h |    7 ++-----
 src/gabble-types.h       |    1 +
 src/muc-factory.h        |    7 +++++--
 3 files changed, 8 insertions(+), 7 deletions(-)

commit 8b7305b7f2f622e8bb4177b24ff78601fd8e3385
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 10 15:37:41 2007 +0000

    tube-dbus dispose: move assignment to dispose_has_run to the top. Don't check for NULL before calling g_free
    
    
    20070810153741-53eee-abaeff07829b64b787af418a1ed44062bb0aae0e.gz

 src/tube-dbus.c |   11 ++++-------
 1 files changed, 4 insertions(+), 7 deletions(-)

commit d3c51d2d0d8600ddbb659740e5bb4c6d2aae0913
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 10 15:35:51 2007 +0000

    tubes-factory: use GUINT_TO_POINTER for handles, not GINT_TO_POINTER
    
    
    20070810153551-53eee-01361c3fbbffde7b8b15ca87c3a8621d8933bcb6.gz

 src/tubes-factory.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 3d3821378a60de5ed3a1acc6c261ccee45ab59c6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 10 15:34:52 2007 +0000

    Replace ungrammatical variable "readed" with "num_read"
    
    
    20070810153452-53eee-1d6cd8c7d5d058a08b9dfeb9244a17ee6c09602b.gz

 src/tube-stream.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 531a2f144b13f91f95801bdf75f8a45fdf7cfc19
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 9 17:43:02 2007 +0000

    Make it explicit that gabble_muc_factory_handle_si_request takes a ROOM handle
    
    
    20070809174302-53eee-6d2ae14840ae5c4a5307c9f6270496f277be00b2.gz

 src/muc-factory.c |    6 +++---
 src/muc-factory.h |    2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 980848c8afa4748cec61caaac0a032c3c5a7e5ff
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 9 14:41:32 2007 +0000

    gabble-connection: re-indent g_object_new arguments
    
    
    20070809144132-53eee-46e13905895e8d88666836e9f5ec5701ebd7498a.gz

 src/gabble-connection.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 764817361c6c1dff7d04bd0df5fa398c8d0e82b9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 9 14:41:16 2007 +0000

    gabble-connection: re-order #includes
    
    
    20070809144116-53eee-f1df4643025d5bdaa86db47028c64b8718666a48.gz

 src/gabble-connection.c |   25 +++++++++++++------------
 1 files changed, 13 insertions(+), 12 deletions(-)

commit 0c06a0dcc4a281f3f3c896938cd6d2f0fe633d16
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 9 14:38:51 2007 +0000

    Make it clearer which references are just borrowed from TpBaseConnection
    
    
    20070809143851-53eee-70fc70f7eed3caafeb2f72109ff72617ab126d88.gz

 src/gabble-connection.h |   10 +++-------
 1 files changed, 3 insertions(+), 7 deletions(-)

commit e555669dfa77dd174fef32755f8f2c9282f03f98
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 9 14:30:56 2007 +0000

    Cope with SI IQ having feature negotiation fields that aren't stream-method
    
    
    20070809143056-53eee-cd725b677ae02a96e2ca59bb7e6d835c143a7fca.gz

 src/bytestream-factory.c |   84 +++++++++++++++++++++++-----------------------
 1 files changed, 42 insertions(+), 42 deletions(-)

commit 6d9998a3ca52cd662a7fc5d9da96788df784ec09
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 9 14:06:17 2007 +0000

    Don't set mime-type in outgoing SI IQs - the default is application/octet-stream anyway, and if we ever implement file transfer it'll want to change the MIME type before sending.
    
    
    20070809140617-53eee-387b399ad15dadea2b97fb6dcad13fc34ae34df5.gz

 src/bytestream-factory.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 54443b45877afe9e7a77f657767e59b4c2ef6758
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 9 14:02:21 2007 +0000

    Amend comment to observe that "binary/octect-stream" is not, in fact, a MIME type
    
    
    20070809140221-53eee-f08c165e776035e31153551624e3ab1bb90ca2ed.gz

 src/bytestream-factory.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit f9fd5ba18681c43089e0a0b608717a73d9a7e2b1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 9 13:50:32 2007 +0000

    When handling IBB "open" IQs, return error messages where appropriate (final part of Rob's patch)
    
    
    20070809135032-53eee-4e3006d3b78d4cdf8cca855667e4739f26e6228f.gz

 src/bytestream-factory.c |   38 ++++++++++++++------------------------
 1 files changed, 14 insertions(+), 24 deletions(-)

commit 46cd6a0bd2e39db79482031bbcf43ea2b134359e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 9 13:49:54 2007 +0000

    Don't bother checking in streaminit_parse_request for things that have already been checked (part of Rob's patch)
    
    
    20070809134954-53eee-8ccf2edb4cbaf6ad036dfd1659b923148f58a2ea.gz

 src/bytestream-factory.c |   14 ++++----------
 1 files changed, 4 insertions(+), 10 deletions(-)

commit 4e8b3d7577fd0b4c77008197c4e2951ab1675414
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 9 13:39:23 2007 +0000

    Fix some bits of Rob's patch where the underlying code has changed since the patch was made
    
    
    20070809133923-53eee-f58488e1542e5c4b77c4016ecb55ef448bce7460.gz

 src/bytestream-factory.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 5af331f5bd9dea23ef4273428c58c87eeb881921
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 9 11:42:47 2007 +0000

    Get rid of now-unused -make_profile_not_understood_iq and -make_no_valid_stream_iq (part of patch from Rob)
    
    
    20070809114247-53eee-e40db536126cd40f9e0d833b99c006f83698fa1d.gz

 src/bytestream-factory.c |   46 ----------------------------------------------
 1 files changed, 0 insertions(+), 46 deletions(-)

commit 37bc22c0b3a16debca475ceec5cf2e6335feebed
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 9 11:40:02 2007 +0000

    Refactor bytestream_factory_iq_si_cb to make sure we send back errors when appropriate (patch from Rob McQueen)
    
    
    20070809114002-53eee-7a887727e61ffab320885ffe721fe80be7f996e4.gz

 src/bytestream-factory.c |  112 ++++++++++++++++++++++++----------------------
 1 files changed, 58 insertions(+), 54 deletions(-)

commit 361c24c210a57ffb3e6c0800d38b1d52072dac71
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 9 11:34:12 2007 +0000

    Use tp_strdiff instead of strcmp, for clarity (part of patch from Rob McQueen)
    
    
    20070809113412-53eee-ff49bbb62eed8c7e1d10a3d799f7381275c03c85.gz

 src/bytestream-factory.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 8987215029f624b16a36692fe3020715936e3c91
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 9 11:26:57 2007 +0000

    Use _gabble_connection_send_iq_error instead of make_no_valid_stream_iq (part of patch from Rob McQueen)
    
    
    20070809112657-53eee-d9945a5c53bd9b6ca1ab6c86ff4889325aae88b3.gz

 src/bytestream-factory.c |    9 +++------
 1 files changed, 3 insertions(+), 6 deletions(-)

commit 77686be80c187647243185afdadc7ec40bb28ec5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 9 11:22:55 2007 +0000

    formatting/trivia (patch from Rob McQueen)
    
    
    20070809112255-53eee-8cc82d76deccbfaf50da54713935a0af8cf5a8ab.gz

 src/bytestream-factory.c |   14 ++++++--------
 1 files changed, 6 insertions(+), 8 deletions(-)

commit a5c668bcf1e84515f9d5e7e7733e3b18d3097bb4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 9 11:19:28 2007 +0000

    Add SI:no-valid-streams and SI:bad-profile XMPP errors (patch from Rob McQueen)
    
    
    20070809111928-53eee-bd094dd93f966308bc68c1354e843f8d4eede951.gz

 src/gabble-error.c |   18 ++++++++++++++++++
 src/gabble-error.h |    3 +++
 2 files changed, 21 insertions(+), 0 deletions(-)

commit fb0cf6351c62d0e883b0f24beb10da17cdb2b1f7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 9 11:16:23 2007 +0000

    configure.ac: apply and adapt Rob's patch to improve the diagnostic message when not building D-Bus tubes
    
    
    20070809111623-53eee-b183ba081f023049c9c5f374f7c2e6bf7c0fc883.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit fba97f77e288f9131136fa0216e41fa168edcc61
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 9 11:08:50 2007 +0000

    util.h: Remove declarations of LM API
    
    
    20070809110850-53eee-ee2688141a537366651d49b3cd9d7db74bff61f1.gz

 src/util.h |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 0f3efea4ee90bd3ecd0f0dcf5fc60988940cd6e7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 9 11:06:47 2007 +0000

    Implement gabble_muc_factory_find_channel with g_hash_table_lookup rather than unnecessarily being O(n)!
    
    
    20070809110647-53eee-13f460305bcb2ff60833bdd94af96f10f518f898.gz

 src/muc-factory.c |   21 +--------------------
 1 files changed, 1 insertions(+), 20 deletions(-)

commit 3476b530a5b41110a09c1f42f1c26cd7ca3f1063
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 9 11:01:34 2007 +0000

    Remove FIXME: we've concluded that closing the tubes channel shouldn't force the text channel to close
    
    
    20070809110134-53eee-e391e66957e5d55ddd1744002eb317a00156510b.gz

 src/muc-factory.c |    5 -----
 1 files changed, 0 insertions(+), 5 deletions(-)

commit af04a3a29d73e590ef56c2f78ee478a4634b7a03
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 9 10:59:58 2007 +0000

    muc-factory.c: re-order #includes
    
    
    20070809105958-53eee-5522bf71327c4b654f880ade45594a6ffb195c2a.gz

 src/muc-factory.c |   12 ++++--------
 1 files changed, 4 insertions(+), 8 deletions(-)

commit e1f19ff29198f76d5399e86a51be2659eeb0b263
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 8 18:56:50 2007 +0000

    Use in-tree copy of Tubes spec to generate interfaces.
    
    This changes e.g. TpSvcFoo to GabbleSvcFoo.
    The version of the Tubes spec used is what the Gabble -tubes branch implements,
    which turns out to be Guillaume's proposed spec as of 5th June.
    
    20070808185650-53eee-098a4d49f970d6e0389092b1992ebcf92c62b9fb.gz

 extensions/Channel_Type_Tubes.xml |  422 +++++++++++++++++++++++++++++++++++++
 extensions/all.xml                |    1 +
 src/muc-factory.c                 |    4 +-
 src/tube-dbus.c                   |   20 +-
 src/tube-stream.c                 |   22 +-
 src/tubes-channel.c               |  168 ++++++++--------
 src/tubes-factory.c               |    4 +-
 7 files changed, 532 insertions(+), 109 deletions(-)

commit 1f61c97039e12d8423aba1cbeb9b9ecd384e9472
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 8 18:49:02 2007 +0000

    tubes-channel: avoid unused variable with --disable-debug
    
    
    20070808184902-53eee-72bb2f07c75cd68d56169b5013bc260266a00d1f.gz

 src/tubes-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 13ee9b80ef96f73986e0e2fa4791062af1526b50
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 8 18:12:26 2007 +0000

    Stop using tp-glib-unstable
    
    
    20070808181226-53eee-f169a695b3fa720f1fa626818ab442a1d8f129bf.gz

 configure.ac      |    7 -------
 src/Makefile.am   |    6 ++----
 tests/Makefile.am |    3 +--
 3 files changed, 3 insertions(+), 13 deletions(-)

commit 026f3a5a5ea36b44469c6e5e35c1a3f87d7072bc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 6 16:37:59 2007 +0000

    Resolve conflict in gabble-types.h: bytestream and tubes factories vs req pipeline
    
    
    20070806163759-53eee-03422c9ecf9476201ed22fe1b516f0176117602e.gz

 src/gabble-types.h |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 354466a2af35a123b03db18890a321e3cf1e7b7d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 6 16:37:47 2007 +0000

    Resolve conflict in gabble-connection.h header inclusion
    
    
    20070806163747-53eee-7675f690367985fca2267bcb5645efe69ff08c35.gz

 src/gabble-connection.h |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit f9c4bbff1947bc858d043886d73c0327e27d9225
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 1 12:26:02 2007 +0000

    tube-dbus.c: use a switch instead of if/else (backported from Salut)
    
    
    20070801122602-7fe3f-0c4f0eb0bca258009f31033c651368900755c16c.gz

 src/tube-dbus.c |   27 +++++++++++++++------------
 1 files changed, 15 insertions(+), 12 deletions(-)

commit 3271d949a62e8c20a6b6fd659c4489775d693c5f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 1 12:21:07 2007 +0000

    allow GetDBusNames on non open tubes
    
    
    20070801122107-7fe3f-c5e442164c19b16cb300a8267d21f9fe3a709d77.gz

 src/tubes-channel.c |    9 ---------
 1 files changed, 0 insertions(+), 9 deletions(-)

commit 5dbf84cda1d87437089fecf077c650103677a0ac
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 1 11:16:04 2007 +0000

    tubes-channel.c: create_new_tube new returns the tube created so we don't have to lookup it in the hash table (backport from Salut)
    
    
    20070801111604-7fe3f-3630371e341710523110ff9b65988be1ea23465d.gz

 src/tubes-channel.c |   19 +++++++------------
 1 files changed, 7 insertions(+), 12 deletions(-)

commit d2f73da7d6ab925ea238dcbbfa93f868022bc60a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 1 11:13:46 2007 +0000

    set the bytestream during the tube's construction. Fix state bug in create_new_tube as the requested state was wrong because the wasn't yet set. (Patch backported from Salut)
    
    
    20070801111346-7fe3f-3bcda87e721a7cbb9bbb7044bca76f3ea7d49cc1.gz

 src/tube-dbus.c     |   10 ++++++++--
 src/tube-dbus.h     |    3 ++-
 src/tubes-channel.c |   15 +++++++--------
 3 files changed, 17 insertions(+), 11 deletions(-)

commit 14f37acb4422c6523b5fc289e9d94aef65991989
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jul 27 10:14:47 2007 +0000

    tubes-factory.c: add a XXX in gabble_tubes_factory_handle_si_request
    
    
    20070727101447-7fe3f-eff1f698a46c67a6c63e06378b246626dfc962c5.gz

 src/tubes-factory.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 90508314141521e879f6ced9e2e0e305900d28eb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jul 27 09:50:56 2007 +0000

    tubes-channel.c: fix typo in gabble_tubes_channel_tube_offered debug output
    
    
    20070727095056-7fe3f-a995d474969f9734346284ca1f7eb27e53db1c2c.gz

 src/tubes-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 608c99c6963e3f24825b150cef32ccbb6cd018f7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jul 26 08:43:25 2007 +0000

    gabble_bytestream_factory_negotiate_stream: free the data structure if _gabble_connection_send_with_reply failed as the cb can't be called then
    
    
    20070726084325-7fe3f-daf49a56c7ddaa4e943e7d2757fc849790f0a92f.gz

 src/bytestream-factory.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 25f5f99e19096b8956573114f1660646b4c7264e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 25 17:28:22 2007 +0000

    fix SI request stanza bug. According to the XEP the <tube> markup have to be a child of <si> and not the <iq>
    
    
    20070725172822-7fe3f-39027ce0f51e087aabc0f63698375361843c5b1d.gz

 src/tubes-channel.c |   35 +++++++++++++++++++----------------
 1 files changed, 19 insertions(+), 16 deletions(-)

commit 97eff5a6b842f106723e9fdb02d6960c3f67483b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jul 25 12:36:35 2007 +0000

    Emit DBusNamesChanged for all its D-Bus tube when a contact left the muc
    
    
    20070725123635-7fe3f-f0631b9d717a1d8479e56227f292226b94ac656f.gz

 src/muc-factory.c   |   54 ++++++++++++++++++++++++++++----------------------
 src/tubes-channel.c |   53 ++++++++++++++++++++++++++++++++++++++++++++++++-
 src/tubes-channel.h |    2 +-
 3 files changed, 82 insertions(+), 27 deletions(-)

commit 77bd761b9101f56417621683c51921e3f6ff2e45
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 24 10:00:03 2007 +0000

    fix conflict with HEAD: remove src/gabble-signals-marshal.list as we dont't need it anymore
    
    
    20070724100003-7fe3f-c3bf8f6ddf2bc42e7f9e4cc6545a06e1ea65ba86.gz

 src/gabble-signals-marshal.list |    7 -------
 1 files changed, 0 insertions(+), 7 deletions(-)

commit a1688ad069ca49105b9be96bfa1c4e09af06481a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jul 17 17:01:05 2007 +0000

    remove HAVE_TUBES variable as tubes support is now always build thanks to stream tubes
    
    
    20070717170105-7fe3f-7d1b675576db47886131a6df0a1b7adf20bf2793.gz

 src/muc-factory.c |   40 ----------------------------------------
 1 files changed, 0 insertions(+), 40 deletions(-)

commit 6962c950b020625dded51c50372b0358a0eb7489
Author: Mads Chr. Olesen <shiyee@shiyee.dk>
Date:   Tue Jul 17 16:27:07 2007 +0000

    Compile fixes for compiling without d-bus tubes support
    
    
    20070717162707-f3554-091ea11fa643bc1fb8841d1c16f1360274556eff.gz

 src/muc-factory.c   |    4 +---
 src/tubes-channel.c |    7 ++++++-
 2 files changed, 7 insertions(+), 4 deletions(-)

commit 392c339d1cb851bbdb56571d053f1703105f7e53
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 2 18:41:03 2007 +0000

    Merge null conflict in tests/Makefile.am
    
    
    20070702184103-53eee-c867636dccb1a6b33d5355c7fc56c4f44e2b13a3.gz

 tests/Makefile.am |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit 6626fba0f07cd89eacceca7cd3d470ee482c268b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 2 18:40:12 2007 +0000

    Merge -olpc-rollup with -tubes: src/util.h
    
    
    20070702184012-53eee-f6522d6b93a206338dd9cd64ffb7f07a4127efed.gz

 src/util.h |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit c3806300230b4fd01b759c5b27f5e1bc344dba52
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 31 17:59:25 2007 +0000

    Fix conflicts with HEAD
    
    
    20070531175925-53eee-5146946067c3b760a93be2ad120f61cfde318289.gz

 src/util.h        |    4 ----
 tests/Makefile.am |    8 +-------
 2 files changed, 1 insertions(+), 11 deletions(-)

commit b7469b8271439816565e78850c4336c1c49b666a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jul 2 18:31:55 2007 +0000

    Merge conflict in src/presence.h, again: GabblePresenceCapabilities
    
    
    20070702183155-53eee-48a939e79f95cb0d2f7d46b7f965c13f54652840.gz

 src/presence.h |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 7bc9a570c730912731f431422c25114754672c4d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jun 12 15:13:20 2007 +0000

    Merge presence.h between Gabble OLPC rollup and Gabble HEAD
    
    
    20070612151320-53eee-bcfee6fb0523e4ce17f17ab58a49e8c05da16217.gz

 src/presence.h |    6 ------
 1 files changed, 0 insertions(+), 6 deletions(-)

commit 27fdeb7bd1c575e8019d0d2ee642c759befd2e62
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jun 28 14:30:16 2007 +0000

    fix typo in bytestream factory comment
    
    
    20070628143016-7fe3f-4ee7623d3fe2e9a32ed5823714968c06f0eb7820.gz

 src/bytestream-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c89faaf5693199503a6a02bced79a3a77ec41602
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jun 27 10:22:54 2007 +0000

    tubes-channel: set the initiator in publish_tube_in_node and not in publish_tubes_in_node
    
    
    20070627102254-7fe3f-0b2be89944717718a51796c09975758a62ffe0b7.gz

 src/tubes-channel.c |   30 +++++++++++++-----------------
 1 files changed, 13 insertions(+), 17 deletions(-)

commit 314c7c32b98b4be91d31d9d588d2ee98aaea333c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jun 27 10:06:03 2007 +0000

    simplify gabble_bytestream_factory_generate_stream_id
    
    
    20070627100603-7fe3f-fefe27cf7e5094f00452603c1402d68c2ad07f52.gz

 src/bytestream-factory.c |   11 +++--------
 1 files changed, 3 insertions(+), 8 deletions(-)

commit fe174de965bea57cc2842c24cdcb08039bcda53b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jun 27 10:00:04 2007 +0000

    update_tubes_presence returns a boolean so caller can know if it worked fine
    
    
    20070627100004-7fe3f-59a4cc4e037e0bf59ff88750e2f962f7f5eba21b.gz

 src/tubes-channel.c |   10 ++++++----
 1 files changed, 6 insertions(+), 4 deletions(-)

commit a4e5975f59f082c48d846bcd1f3927acb8c0677b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jun 27 09:43:18 2007 +0000

    tube-dbus: we really have to check if destination != NULL to manage broadcasted messages
    
    
    20070627094318-7fe3f-70918e1d2b24874760738c6a2795d7c10907108d.gz

 src/tube-dbus.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit a0fd8e43350d9ccdd874e76171cb9808bbddc0c3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jun 27 09:37:25 2007 +0000

    publish_tube_in_node: set stream-id instead of stream_id as attribute to be more consistent
    
    
    20070627093725-7fe3f-c4ba0337a624eb919c684ed726ca09eab3088555.gz

 src/tubes-channel.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 4847d5521c4a2bb13b139cc3163c761aafa922b0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jun 27 09:29:31 2007 +0000

    extract_tube_information have to check the value of this initiator_handle and not the pointer
    
    
    20070627092931-7fe3f-3e09af97c149faafa01664e6ac7395a73a2e48e7.gz

 src/tubes-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3c8612947e0a073c593630698e352df3c775ed67
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jun 27 09:26:32 2007 +0000

    tubes-channel: extract_tube_information: check if tube id is numeric
    
    
    20070627092632-7fe3f-83513689b460cd99869f46eea1d382d68d2d712e.gz

 src/tubes-channel.c |   10 +++++++++-
 1 files changed, 9 insertions(+), 1 deletions(-)

commit 0a4ab787d882a9a7f5948748280018851bf18c97
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jun 27 09:07:20 2007 +0000

    tubes: unknow -> unknown
    
    
    20070627090720-7fe3f-23588f7e7794c936cd788d7cca7f035ba6e2963f.gz

 src/bytestream-factory.c |    6 +++---
 src/tubes-channel.c      |    2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 2a0350bb7b62e129a05d0a15481e823ccb2efb8b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jun 27 08:42:23 2007 +0000

    intented -> intended
    
    
    20070627084223-7fe3f-2dbd97babb252ebd471df850e8eda75492f70635.gz

 src/tube-dbus.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 28fa7675c09f4c056a22cefa3dfbfe743851bd4c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jun 27 08:40:37 2007 +0000

    tube-dbus.c: remove useless dbus_message_get_destination extra calls
    
    
    20070627084037-7fe3f-56fc05c321f004e7682fcf76af5b02d4e148058e.gz

 src/tube-dbus.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit f3368662a2a61a526d25bc9cd8f177f2435dc8ca
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jun 27 08:32:57 2007 +0000

    set bytestream state in a variable to avoid double gabble_bytestream_factory_create_ibb call
    
    
    20070627083257-7fe3f-aa213e2c161e12e17e4caf77f712fbefba07808b.gz

 src/tube-dbus.c |   28 ++++++++++++----------------
 1 files changed, 12 insertions(+), 16 deletions(-)

commit b3c99a980f54b4cd000656ecb9a30e462e7f82e8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jun 26 15:11:33 2007 +0000

    tube-dbus.c: pass the contact_repo to unref_handle_foreach instead of the tube object
    
    
    20070626151133-7fe3f-2fbc8de8fd9dde4377bb78ad27718150084aaae2.gz

 src/tube-dbus.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit a1956b049f8fe92ed8aff92902b12a1d6feceb87
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 25 17:34:58 2007 +0000

    tube-dbus: discard echo messages
    
    
    20070625173458-7fe3f-32bf46aba5d1cd986177385d4adfd4ed829f6490.gz

 src/tube-dbus.c |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit f75fa37a114186f7007bb86e3cb13fd640d34107
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jun 14 11:10:33 2007 +0000

    bytestream-ibb.c: don't extract the msg type when parsing IBB stanza as we don't use it
    
    
    20070614111033-7fe3f-543cbd1ec9111eb97bb770df97dbcc5a6ff3c000.gz

 src/bytestream-ibb.c |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit 64c19f5a10784828b9903577726c23665f044118
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 11 09:45:02 2007 +0000

    set BystreamIBBState in the Gabble namespace as it's a public enum
    
    
    20070611094502-7fe3f-71e85f1c428919f9be719c0e39f07e82fa491d09.gz

 src/bytestream-factory.c |   14 +++++++-------
 src/bytestream-factory.h |    2 +-
 src/bytestream-ibb.c     |   31 ++++++++++++++++---------------
 src/bytestream-ibb.h     |   14 +++++++-------
 src/tube-dbus.c          |   30 +++++++++++++++---------------
 src/tube-stream.c        |   16 ++++++++--------
 6 files changed, 54 insertions(+), 53 deletions(-)

commit ce5c0ca6ef59c9767e9f5ca62e2c1e6d6635a838
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 11 09:17:07 2007 +0000

    fix typo in bytestream-ibb.h header
    
    
    20070611091707-7fe3f-0f432557836906b3d879ca2c2363d42366a39c3d.gz

 src/bytestream-ibb.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 54ec4c26fd5b38da9345136fda20c2871c5387db
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 11 07:16:22 2007 +0000

    tp-glib-unstable is now a hard dependency as we don't build tubes support conditionnaly anymore
    
    
    20070611071622-7fe3f-7a6ae6c342f15820f70171540b3b0644ec6f1836.gz

 configure.ac |   10 ++++------
 1 files changed, 4 insertions(+), 6 deletions(-)

commit 5fbc0a34cbb1cdc31b4b06746b27767d590426c3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 8 16:19:51 2007 +0000

    gabble_tubes_channel_get_d_bus_server_address use GabbleTubeIface* instead of GabbleTubeDBus*
    
    
    20070608161951-7fe3f-a05e00a07c56eeecdcefea0a8efe3b3dfc5b7744.gz

 src/tubes-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2a9073b13cdbabb32f4944538e8468746667bf4e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 8 14:01:27 2007 +0000

    rename TP_CHANNEL_TUBE_TYPE to GABBLE_CHANNEL_TUBE_TYPE to avoid namespace clash when this type will be generated in tp-glib
    
    
    20070608140127-7fe3f-1825540f8ed571309f686683645e4371a2a3f3d5.gz

 src/tubes-channel.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit a83fe668a097e84578098f0738edd3e357cb14a2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 8 13:50:25 2007 +0000

    fix a coding style bug
    
    
    20070608135025-7fe3f-6ab2ba73e6dac27202058cd184287541dfeecbc8.gz

 src/tubes-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 294bbdec009571444da73c4988e93265e103e651
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 8 12:15:24 2007 +0000

    tubes-channel: unref the handle in dispose and not finalize
    
    
    20070608121524-7fe3f-b016182afa81bb59a76331ab176307a4d2aa930e.gz

 src/tubes-channel.c |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit baea4c2ce03665b585b497afd471dbdb884096eb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 8 12:01:50 2007 +0000

    tubes-channel: ref the channel handle
    
    
    20070608120150-7fe3f-2e3f3dc9f5c81694f29db8da9fc9f86f02361366.gz

 src/tubes-channel.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 4e713465559aab952f9a5e38e7fe870d086f264b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jun 7 13:51:03 2007 +0000

    tubes-channel: return TP_CHANNEL_FACTORY_REQUEST_STATUS_INVALID_HANDLE instead of TP_CHANNEL_FACTORY_REQUEST_STATUS_ERROR if handle is invalid and check if handle == our self handle
    
    
    20070607135103-7fe3f-a30e73f220a4f8f57f761eba5664588a687a663f.gz

 src/tubes-factory.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit c991481abc673dcc9a56a15c9b27c05c07c2848d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jun 5 12:47:16 2007 +0000

    tube-stream: bytestream_negotiate_cb -> extra_bytestream_negotiate_cb
    
    
    20070605124716-7fe3f-58a18bef36754063ac7f0a2f56a6b6f73e627063.gz

 src/tube-stream.c |   16 ++++++++--------
 1 files changed, 8 insertions(+), 8 deletions(-)

commit 759af15576574445dadb714eee31dae5cdd0f9b1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jun 5 11:59:10 2007 +0000

    tube-stream: remove the watcher if we don't find the bytestream in data_to_read_on_socket_cb
    
    
    20070605115910-7fe3f-586c15b8999cde27fe0930bb374cbad7cc0b6556.gz

 src/tube-stream.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 536026fbf2fcb007d6358b258b5d513765d4b649
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jun 5 11:53:16 2007 +0000

    fix typo in a comment
    
    
    20070605115316-7fe3f-4880fbd5e4b6c8846589ea7045de206c57dad4e6.gz

 src/tube-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 82822b7913e05490f88535a11839a80c9320a706
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jun 5 10:01:27 2007 +0000

    properly initiate the 3rd argument of accept
    
    
    20070605100127-7fe3f-4108617ab638e5f9c43b168baa0c6ef57caaff54.gz

 src/tube-stream.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 47c6d481cf8e7b7e929f2b4284a05acfddfd83ae
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Jun 5 08:28:03 2007 +0000

    trailing space
    
    
    20070605082803-7fe3f-df798dda82a66ff067cc4d17c5519b1181d41a97.gz

 src/tubes-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 368c61cb628a96bbb1bded344c936b6a8cd831d7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 4 17:54:23 2007 +0000

    properly manage private and muc SI requests
    
    
    20070604175423-7fe3f-d8a6d7327602cefce0f12ea93d7ce0877ffc8798.gz

 src/bytestream-factory.c |   46 ++++++++++++++++++++++++++++++++++++++++++----
 src/tubes-channel.c      |   11 -----------
 2 files changed, 42 insertions(+), 15 deletions(-)

commit 0e028189e28150eb3c425d6a7929cd3a284add09
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 4 17:41:23 2007 +0000

    muc-factory: add gabble_muc_factory_handle_si_request to handle extra bytestream SI request
    
    
    20070604174123-7fe3f-352a3f50d876988f874fe662627d042e466de312.gz

 src/muc-factory.c |   25 +++++++++++++++++++++++++
 src/muc-factory.h |    7 +++++++
 2 files changed, 32 insertions(+), 0 deletions(-)

commit 25152c9fcb5de9336ad3d6c9268557fb69162b12
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 4 17:34:13 2007 +0000

    gabble_tubes_factory_handle_si_request returns a boolean saying if the bystream was properly handled
    
    
    20070604173413-7fe3f-9a2273c9115f7c724479289e34c2a6ebac6ba148.gz

 src/tubes-factory.c |    8 ++++----
 src/tubes-factory.h |    2 +-
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 63482ebcb2fba409938730c39876c8503f9858b0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 4 17:32:33 2007 +0000

    don't create D-Bus tube if its SI request doesn't contain the D-Bus name of its initiator
    
    
    20070604173233-7fe3f-01eb9e49a6b83c5a75e81b9f43d745f4f3bba040.gz

 src/tubes-channel.c |   35 ++++++++++++++++++-----------------
 1 files changed, 18 insertions(+), 17 deletions(-)

commit 8d9e79a7b8c0d0226503e9bd3c8cc4ad7ad0e02a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 4 17:25:03 2007 +0000

    gabble_tubes_channel_tube_offered returns boolean saying if the SI request was correctly handled
    
    
    20070604172503-7fe3f-531d8f89e07a2754d40c794fbb00a7e7f2c6c132.gz

 src/tubes-channel.c |   24 +++++++++++++-----------
 src/tubes-channel.h |    2 +-
 2 files changed, 14 insertions(+), 12 deletions(-)

commit a8503075cb026e646cf8204319e1001bb431bd4a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 4 16:42:12 2007 +0000

    tubes-factory: remove muc tube specific code as muc tubes are managed in muc-factory now
    
    
    20070604164212-7fe3f-a5a4147159e7170f6c7f2705394638670c42c61b.gz

 src/tubes-factory.c |   13 -------------
 1 files changed, 0 insertions(+), 13 deletions(-)

commit d9d7b6a9b9ddfe683e1e93d4051cb431e565181d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 4 16:05:28 2007 +0000

    fix conflict with -tubes due to -tubes-smcv merge
    
    
    20070604160528-7fe3f-54b49618c3ccee347b9c46f27f6fa24f7ca553b8.gz

 src/tubes-channel.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 218f3238822b9b124f4975603701c72c47bd55db
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 4 14:39:01 2007 +0000

    tubes-channel: fix leaks when receiving extra bytestream SI
    
    
    20070604143901-7fe3f-49fd637786b03c3b6e3b2b8fc29daae16fef154f.gz

 src/tubes-channel.c |   33 +++++++++++++++++++++++++--------
 1 files changed, 25 insertions(+), 8 deletions(-)

commit 6c91777db191a14e26a732e05b67bd750b7313e6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 4 14:04:53 2007 +0000

    emit StreamUnixSocketNewConnection
    
    
    20070604140453-7fe3f-01be68ca1a51d4f2ecedaeb53d39c2506a2aaf94.gz

 src/tube-stream.c   |   15 +++++++++++++++
 src/tubes-channel.c |   22 ++++++++++++++++++++++
 2 files changed, 37 insertions(+), 0 deletions(-)

commit e6ed8fa31bad23a298730b5848cac3e612fee52f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 4 12:52:33 2007 +0000

    set stream-init-id and peer-ressource construct only parameters as we use peer-ressource in the constructor
    
    
    20070604125233-7fe3f-53a821f03e4fbed31388496c2d89a62ad8ff80ee.gz

 src/bytestream-factory.c |    8 ++------
 src/bytestream-ibb.c     |    2 ++
 2 files changed, 4 insertions(+), 6 deletions(-)

commit a70b6b703b048b844b82c1c83d33441e692a97a1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 4 10:44:41 2007 +0000

    tubes-factory: use room_handle instead of contact handle to find tubes channel when we receive a SI request from a muc jid
    
    
    20070604104441-7fe3f-a23d7e0db9c3b658f5e66b33c6117d06be9a5639.gz

 src/tubes-factory.c |   13 +++++++++++++
 1 files changed, 13 insertions(+), 0 deletions(-)

commit 06ee74e4ac414b95a549f6d3d0bb71b0a0fb505b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 4 08:25:05 2007 +0000

    bytestream-factory: doesn't extract peer_ressource if we deal with a muc contact
    
    
    20070604082505-7fe3f-33512c9a30cb4c7b1abe7a46e4dac8e7998d9cbe.gz

 src/bytestream-factory.c |   21 +++++++++++++++++----
 1 files changed, 17 insertions(+), 4 deletions(-)

commit 6754f432128b0b2127191b991903a75c734b51a0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 1 15:48:35 2007 +0000

    bytestream IBB: store the jid of the peer so we don't have to compute it each time we send a message
    
    
    20070601154835-7fe3f-2b47cb6449f3688737dacb5436d861667b6448db.gz

 src/bytestream-ibb.c |  118 ++++++++++++++++++++++++--------------------------
 1 files changed, 57 insertions(+), 61 deletions(-)

commit a06aa85fce8580c5ffc6fc7d27144f237054dab3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 1 15:05:22 2007 +0000

    check if gabble_bytestream_ibb_make_accept_iq returns NULL to avoid crash
    
    
    20070601150522-7fe3f-873a67eecfcdbefa7a7463a709297db33ad033e5.gz

 src/tube-dbus.c   |    6 ++++++
 src/tube-stream.c |   12 ++++++++++++
 2 files changed, 18 insertions(+), 0 deletions(-)

commit 015444f4986ab6c4ec65fad9f718f1518a35ff6e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 1 13:54:47 2007 +0000

    update to new draft spec. Stream tube are now stream unix tube
    
    
    20070601135447-7fe3f-999185bda5699b3597fd4385a0d1421e35707bb9.gz

 src/tube-stream.c   |    4 ++--
 src/tubes-channel.c |   42 +++++++++++++++++++++---------------------
 2 files changed, 23 insertions(+), 23 deletions(-)

commit 1d1e0dbb89242152e304df0f41cfb8104122fb28
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 1 12:37:25 2007 +0000

    add debug msg when we add a new bystream
    
    
    20070601123725-7fe3f-56972a2547bce9caafeb3a1040090a1eeafa1b4f.gz

 src/bytestream-factory.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit f0b116854d8bbccae180a1c73b4c448976f80756
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 1 12:34:06 2007 +0000

    add a "offering" attribute in tube SI request so we can know if contact is offering a new tube or requesting a new bystream for a existing tube
    
    
    20070601123406-7fe3f-ac5f834968097d2ed2baf5e1506c5b2f31fb18fa.gz

 src/tube-stream.c   |    1 +
 src/tubes-channel.c |   28 ++++++++++++++++++++++++++--
 2 files changed, 27 insertions(+), 2 deletions(-)

commit 72abe5349da8ae4502ada985755e0107f2f17302
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 1 11:12:35 2007 +0000

    change tubes NS_SI_TUBES to match telepathy NS but still use the old one to don't break compatibility
    
    
    20070601111235-7fe3f-ee4c422bb2c451c88b6e9f12076d4bf383d6da98.gz

 src/bytestream-factory.c |    3 ++-
 src/capabilities.c       |    1 +
 src/namespaces.h         |    5 ++++-
 src/presence-cache.c     |    2 ++
 src/tube-dbus.c          |    2 +-
 src/tube-stream.c        |    8 ++++----
 src/tubes-channel.c      |   10 ++++++++--
 7 files changed, 22 insertions(+), 9 deletions(-)

commit 60b7e9f1fade4f0bbf49a031845b263c08baea50
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 1 10:57:27 2007 +0000

    tube-stream: don't use presence/resource when sending SI requests in the muc tube case
    
    
    20070601105727-7fe3f-6ea55f4019d4f37bc52e788800b061a8472227d7.gz

 src/tube-stream.c |   56 ++++++++++++++++++++++++++++++++--------------------
 1 files changed, 34 insertions(+), 22 deletions(-)

commit e4ccda965ef7259e75707c5c2daccdff71805445
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 31 15:45:52 2007 +0000

    stream-tubes: don't use the default bytestream to find tube's state
    
    
    20070531154552-7fe3f-2577fd31d27acc27b50c21833d3f5f6ea0e5bd71.gz

 src/tube-stream.c |   77 ++++++++++++++++++++++++-----------------------------
 1 files changed, 35 insertions(+), 42 deletions(-)

commit 383a825688cd7780f54cbe7111b635b8ac7d3cf2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 31 14:23:49 2007 +0000

    remove gabble_tube_iface_get_stream_id as all tube type doesn't have only one stream ID
    
    
    20070531142349-7fe3f-c5158c58e6847f13f3de2f073e6ce6f4805a5782.gz

 src/tube-dbus.c   |   15 ---------------
 src/tube-iface.c  |    9 ---------
 src/tube-iface.h  |    4 ----
 src/tube-stream.c |   20 --------------------
 4 files changed, 0 insertions(+), 48 deletions(-)

commit 59363f853dbcc8615e579483fe0f99346f2f62a5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 31 14:17:08 2007 +0000

    tubes-channel: remove stream_id_to_tube_id becomed useless now tube have globally unique ID
    
    
    20070531141708-7fe3f-0bfc2ce5829d6a3034265877dcdac92bcdfc2080.gz

 src/tubes-channel.c |   29 -----------------------------
 1 files changed, 0 insertions(+), 29 deletions(-)

commit f0308aa1b31d492be770b59d6563be7d00447481
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 31 14:16:31 2007 +0000

    add debug output when adding/removing tubes
    
    
    20070531141631-7fe3f-a980eefedee7514f497ac1e74d3421cb957f9779.gz

 src/tubes-channel.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 7fafb539865ac4d2f474f81fa214a04b7648df0b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 31 14:13:32 2007 +0000

    fix stupid mistake I added when refactored bytestream_negotiate_cb
    
    
    20070531141332-7fe3f-fd0208b96a8e47c4ab261b7922239f260155cc50.gz

 src/tubes-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4f67969d4a2d4bf9a5d0176caf9759effec48e87
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 31 13:44:01 2007 +0000

    add missing whitespace in a debug output
    
    
    20070531134401-7fe3f-5c498ef6edfc667908f06a6ab721179a86b96eaf.gz

 src/tube-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e4169821a5287e15b45ab659e8831cc8532de565
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 31 12:37:24 2007 +0000

    update_tubes_presence use now priv->tubes instead of priv->stream_id_to_tube_id to iterate on tubes
    
    
    20070531123724-7fe3f-4e7f620ca93dd3186fe08257340bf3007426fc06.gz

 src/tubes-channel.c |    7 ++-----
 1 files changed, 2 insertions(+), 5 deletions(-)

commit f9a014f6ada34803425409bb0bbe96a5b0ed6dc4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 31 12:30:21 2007 +0000

    tubes-channel: remove next_tube_id becomed useless now tube ID are global
    
    
    20070531123021-7fe3f-79d94ce681281f2e59f51e356ee23a5d292cc179.gz

 src/tubes-channel.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 6edcea587d9351465a2042f9d490e32f75d4a919
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 31 12:28:44 2007 +0000

    only the the stream_id in MUC presence for D-Bus tube
    
    
    20070531122844-7fe3f-85a693d38186bb9369d6a427fa21e6b44981ae67.gz

 src/tubes-channel.c |   20 ++++++++++++--------
 1 files changed, 12 insertions(+), 8 deletions(-)

commit 8d24181e94c11a54011c3d4c0b434d786fcbb9b4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 31 12:16:54 2007 +0000

    add a comment explaining when gabble_tubes_channel_presence_updated is called
    
    
    20070531121654-7fe3f-a4c7229b5492ba98a2a7004096a761e3b6c3149a.gz

 src/tubes-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 4abddf4448437f57e551944a52fc929223dcdf21
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 31 12:10:08 2007 +0000

    don't set the stream ID in the tube section of the SI request as this ID is already in the SI section
    
    
    20070531121008-7fe3f-8a11c91f56ce9610b58e72eb5264b63a8cf7bfb8.gz

 src/tubes-channel.c |   20 ++++++++++++++------
 1 files changed, 14 insertions(+), 6 deletions(-)

commit 71bba1ef79f48da4007fe561a6fb17eb4f53b61a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 31 12:01:36 2007 +0000

    add a comment explaining when gabble_tubes_channel_tube_offered is called and fix a typo in DEBUG msg
    
    
    20070531120136-7fe3f-1cdc1a9a42f7de77d587d20255abc3b6faa155b5.gz

 src/tubes-channel.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 93dca76792ce3b7838cf7cadf31f123a14df97a0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 31 11:51:40 2007 +0000

    publish_tube_in_node don't have to set the stream_id to the XML message
    
    
    20070531115140-7fe3f-9d2b0af54bd4a3a70054eb193997a8e71fa65b65.gz

 src/tubes-channel.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit a010ada4497f8ff80aaed0f500a652a5b2f2b28f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 31 11:38:25 2007 +0000

    tubes-channel: get tube ID from tube's property instead of use stream_id_to_tube_id
    
    
    20070531113825-7fe3f-dd019a0cd80c00a8f189e1fbd9bb5170a0e318bd.gz

 src/tubes-channel.c |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit 7b0726cf172de814fa19e1c6c1d2bb30285727da
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 31 11:32:28 2007 +0000

    tubes-channel: add a comment in bytestream_negotiate_cb
    
    
    20070531113228-7fe3f-45784cb121fcd9b10eaca0433d091d94c3cb60cc.gz

 src/tubes-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f5669bc898604e547a2d3f68ac2310147210cfc4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 31 11:28:22 2007 +0000

    tubes-channel: early return in bytestream_negotiate_cb if the bytestream was refused
    
    
    20070531112822-7fe3f-97681f84ba390519470dc49d32b2afbaadc2c66b.gz

 src/tubes-channel.c |   68 ++++++++++++++++++++++++--------------------------
 1 files changed, 33 insertions(+), 35 deletions(-)

commit 946a962b3e0139ed20d1543e7a6648081fbaafb0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 31 11:25:23 2007 +0000

    tubes-channel: pass a struct containing the self pointer and the tube as data pointer to negotiate_stream
    
    
    20070531112523-7fe3f-2f36c155f47f2f6512cb50a0cf746333ec7fdf51.gz

 src/tubes-channel.c |   31 +++++++++++++++++++++----------
 1 files changed, 21 insertions(+), 10 deletions(-)

commit ecb198e522a91ea7c5299d504e679b3a2ae8a14a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 31 10:59:20 2007 +0000

    tube-stream: remove watcher source when closing the tube because they ref the IO channel
    
    
    20070531105920-7fe3f-b0b9ec73713fa8e3b7c0033404a678a5be5008ab.gz

 src/tube-stream.c |   48 ++++++++++++++++++++++++++++++++++++++++++++----
 1 files changed, 44 insertions(+), 4 deletions(-)

commit f3950881e390833aa3a5ffd9a94a33b318b14d7e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 31 10:15:18 2007 +0000

    close all extra bystreams when closing a stream tube
    
    
    20070531101518-7fe3f-2c7a002b2d6e1bb7364a26c01a37585337288edf.gz

 src/tube-stream.c |   13 +++++++++++++
 1 files changed, 13 insertions(+), 0 deletions(-)

commit e5b5ee0aac73e9d8bf3065259c7db20cbd5a79c2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 30 16:16:47 2007 +0000

    use stream-id property in gabble_tube_dbus_get_stream_id instead of fetching it from bytestream
    
    
    20070530161647-7fe3f-683ac72232fd294b5fd938fc058729f25f475625.gz

 src/tube-dbus.c |    7 +------
 1 files changed, 1 insertions(+), 6 deletions(-)

commit 948e576599e62f328559db73e0b4c1825415c91a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 30 16:04:00 2007 +0000

    remove trailing \n in debug messages
    
    
    20070530160400-7fe3f-c9fc199539a619fd1834331ffcb2a30cc78683e5.gz

 src/bytestream-factory.c |    6 +++---
 src/tube-stream.c        |    2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 2f9c314064be3c962cf5e9ac3767d6fe07768926
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 30 15:51:03 2007 +0000

    add 2 debug outputs
    
    
    20070530155103-7fe3f-dbabcd776a84d33688b246cde5d5ebf5323bdf00.gz

 src/bytestream-factory.c |    2 ++
 src/bytestream-ibb.c     |    1 +
 2 files changed, 3 insertions(+), 0 deletions(-)

commit 1077000524ecc035e0832e37582bd5c484a127df
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 30 14:47:59 2007 +0000

    tubes-channel: properly ref default_bytestream
    
    
    20070530144759-7fe3f-329769e5f0b37717a0a7e0f58d3a89c92719b4a5.gz

 src/tube-stream.c |   10 ++++++++--
 1 files changed, 8 insertions(+), 2 deletions(-)

commit cd91e559bdccd5b2f3928a183f823238af23ff44
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 30 14:40:36 2007 +0000

    tube-dbus: properly ref the bytestream
    
    
    20070530144036-7fe3f-d449a9ca90cd4750ed608f6a090a97a0613efea3.gz

 src/tube-dbus.c |   27 ++++++++++++++-------------
 1 files changed, 14 insertions(+), 13 deletions(-)

commit 1bb80da0b731292197d41c8117546541dca3f943
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 30 14:34:22 2007 +0000

    free stream_id in tube-dbus destructor
    
    
    20070530143422-7fe3f-eb4bcb2bc5662dadcf671d4c953a747d4a827c2d.gz

 src/tube-dbus.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit e814256670370b1a555085517e1cb86239d2f5dd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 30 14:29:46 2007 +0000

    no need to call get_stream_id in publish_tubes_in_node as we already have it as the hash table key
    
    
    20070530142946-7fe3f-e440fe6a19801aba3022e29a5e54762a3fa9fbef.gz

 src/tubes-channel.c |    6 +-----
 1 files changed, 1 insertions(+), 5 deletions(-)

commit 6e44d23e63d1b5fde83a649dc58b1c36c9649bc0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 30 14:24:45 2007 +0000

    check if tube is NULL in publish_tubes_in_node to avoid crash
    
    
    20070530142445-7fe3f-cceba9a0ad06f8c228d1b7d86da42bfaf7c68ab3.gz

 src/tubes-channel.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 964b40e13c120e26f857c1286fa201f9a0498f53
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 30 13:51:15 2007 +0000

    tubes-channel: don't handle tube closed signal if we are closing the channel
    
    
    20070530135115-7fe3f-5518d51b3b66b0f6a88759b417ea4d95de221f0f.gz

 src/tubes-channel.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit e9233e7a4347dbeb80f88f53bca303fc6f88fa4f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 30 12:19:23 2007 +0000

    tube-stream: fix args coding style in functions definitions
    
    
    20070530121923-7fe3f-f0eb800b570c82a06e01b007e8ae3ca988eac462.gz

 src/tube-stream.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit 15ab91b7172c8d0c1eb84064ca35db9e5a618ef5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 30 12:12:14 2007 +0000

    close the socket if start SI failed
    
    
    20070530121214-7fe3f-a8a5e77fa0b4f71c8752ff3a6464f31da589b8f9.gz

 src/tube-stream.c |   17 +++++++++--------
 1 files changed, 9 insertions(+), 8 deletions(-)

commit 68c8f4ec62ffad0f409567910bebdc1c91031af0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 30 10:38:45 2007 +0000

    close IO channels when freeing them
    
    
    20070530103845-7fe3f-19f76e95af893e3c44caa4067ca2bfe13836a424.gz

 src/tube-stream.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 11a9afeaf9c90ba2556b8643e1b5879b62d0b596
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 30 10:09:37 2007 +0000

    better errors handling when reading data from socket
    
    
    20070530100937-7fe3f-b20dfb2f2b1367e310117570c763aec3cfa0e716.gz

 src/tube-stream.c |   24 ++++++++++++++++++++----
 1 files changed, 20 insertions(+), 4 deletions(-)

commit 88b4acf2911d93fd32e4b31e725a4af9f381756a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 30 09:41:19 2007 +0000

    tube-stream: always wait extra bytestream is open before watching data from the socket
    
    
    20070530094119-7fe3f-1bbbf061966b101bcd71517a01250a29b43b7b37.gz

 src/tube-stream.c |    9 +++------
 1 files changed, 3 insertions(+), 6 deletions(-)

commit 75027905328fce581f3f15a6cf6e4d21830d9a0c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 30 09:29:09 2007 +0000

    tube-stream: rename socket_recv_data_cb to data_to_read_on_socket_cb
    
    
    20070530092909-7fe3f-71c403ba0283fca1999471497598f8e479355ecc.gz

 src/tube-stream.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit 02438b58f0c1abace8f1f0c56934816c072df58d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 29 16:30:12 2007 +0000

    tube-stream: start to implement multi bytestreams support
    
    
    20070529163012-7fe3f-190ef43c3d5cc284987f3a459762de926c1ad2ed.gz

 src/tube-stream.c |  300 +++++++++++++++++++++++++++++++++++++++++++++--------
 1 files changed, 254 insertions(+), 46 deletions(-)

commit 9e44a7bd82371b3b54bca8e60f6add447f984f30
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 29 16:29:36 2007 +0000

    call gabble_tube_iface_add_bytestream when receiving a SI request using a existing tube id
    
    
    20070529162936-7fe3f-46f3c24ed08378faf51b3961b55b644e9b0236d4.gz

 src/tubes-channel.c |   12 +++++++++++-
 1 files changed, 11 insertions(+), 1 deletions(-)

commit 08c6c67683affbf26a856a9edf8dac37289e5a28
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 29 16:28:33 2007 +0000

    add few debug output
    
    
    20070529162833-7fe3f-ddb0d5fd2b7d8622a96ccd26bf965d4da78041ab.gz

 src/bytestream-factory.c |    2 ++
 src/bytestream-ibb.c     |    1 +
 src/tubes-channel.c      |    1 +
 3 files changed, 4 insertions(+), 0 deletions(-)

commit 17abce8b75ae503b1ce18111f672429d35c3ef84
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 29 12:59:10 2007 +0000

    tube-stream: implement add_bytestream method
    
    
    20070529125910-7fe3f-a19a7d47231ee835305371a5374a81eb9bbf938a.gz

 src/tube-stream.c |   17 +++++++++++++++++
 1 files changed, 17 insertions(+), 0 deletions(-)

commit 2b188fdfccdc6c41fd25a28143f16ec25800652a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 29 12:58:46 2007 +0000

    tube-dbus.c: implement add_bytestream method
    
    
    20070529125846-7fe3f-6c74ebb8822c443001b2933439278a5d330e513f.gz

 src/tube-dbus.c |   15 +++++++++++++++
 1 files changed, 15 insertions(+), 0 deletions(-)

commit 380c20adf53bafcafa8144db9ccf8ad466f329f8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 29 12:57:47 2007 +0000

    tube-iface: new add_bytestream method
    
    
    20070529125747-7fe3f-15c9e5ed132ea10f61dcde0a2020b9ae3e0dfe62.gz

 src/tube-iface.c |   10 ++++++++++
 src/tube-iface.h |    8 ++++++++
 2 files changed, 18 insertions(+), 0 deletions(-)

commit c4f0b746564acda8680c34c53398013658405283
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 29 12:32:13 2007 +0000

    tubes-iface.h: fix typo
    
    
    20070529123213-7fe3f-45b1eb1453309100697924318df2fd75571f7624.gz

 src/tube-iface.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8e250d7ebc589131ff97f83a11de0fc16ab8d237
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 29 12:27:02 2007 +0000

    tubes-channel: limit the size of tube ID to G_MAXINT as atoi returns int values
    
    
    20070529122702-7fe3f-7ef358de3f6cb9dd93c3b44e0272c5738a2696ec.gz

 src/tubes-channel.c |   10 ++++++++--
 1 files changed, 8 insertions(+), 2 deletions(-)

commit b99de330e88829d1551eccb4375e82399d2b1a38
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 29 11:01:25 2007 +0000

    tubes-channel.c: check if tube id is NULL and a DEBUG output
    
    
    20070529110125-7fe3f-cf744feb28b53a30c90bb0322fba9cbce42f9820.gz

 src/tubes-channel.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit a287462602566f02be35046e947f8516a5476c5c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 29 10:07:32 2007 +0000

    tube-stream: don't use default bytestream to write/read datas
    
    
    20070529100732-7fe3f-f75e511f74b32767b9b01061fc3da405416b8b1c.gz

 src/tube-stream.c |  147 ++++++++++++++++++++++++++++++++++++-----------------
 1 files changed, 100 insertions(+), 47 deletions(-)

commit da4ab6e27f433fd4275ae113e2823bf89f4ad75f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 28 19:55:40 2007 +0000

    remove find_tube_id becoming useless now we have globally unique id
    
    
    20070528195540-7fe3f-b473af63d53a22894d7b4b430caa8f1d3ba10138.gz

 src/tubes-channel.c |   47 ++++++-----------------------------------------
 1 files changed, 6 insertions(+), 41 deletions(-)

commit 9ccee4b4f9f497119c7eb0f08a8362ef1763160c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 28 17:52:02 2007 +0000

    make the unique id a unsigned and use it instead it instead of the locally unique id
    
    
    20070528175202-7fe3f-b9faca47de3ca15ffc5a0da145018dc5804f1226.gz

 src/tube-dbus.c     |   27 ++++++------
 src/tube-dbus.h     |    2 +-
 src/tube-stream.c   |   27 ++++++------
 src/tube-stream.h   |    2 +-
 src/tubes-channel.c |  112 ++++++++++++++++-----------------------------------
 5 files changed, 63 insertions(+), 107 deletions(-)

commit 325ea17a162916facbbeeb3f1ad9b698c711a52f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 28 16:22:45 2007 +0000

    gabble_bytestream_factory_generate_stream_id: use %u instead of %d as the random number is unsigned
    
    
    20070528162245-7fe3f-ec8f71db8539f473ebf87f5c296a3070b1755d06.gz

 src/bytestream-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit debe9e4d7acf8ba34a38254cf6105f15fe19265c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 28 15:46:35 2007 +0000

    tube-stream: rename bytestream to default_bytestream
    
    
    20070528154635-7fe3f-9771871aadba45c924dcc9862570309c06133e19.gz

 src/tube-stream.c |   64 +++++++++++++++++++++++++++++-----------------------
 1 files changed, 36 insertions(+), 28 deletions(-)

commit 55e63623317806b967affb1a7df54cd1923a79f9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 28 14:54:54 2007 +0000

    tubes-channel: store tube unique id
    
    
    20070528145454-7fe3f-20481cb2b801451e77dbbe98a80af05de60bb221.gz

 src/tubes-channel.c |   26 ++++++++++++++++++++++++--
 1 files changed, 24 insertions(+), 2 deletions(-)

commit 90c92859f27e8fd9a439e82cfd9cc76bc06bf162
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 28 13:46:39 2007 +0000

    set and extract tube ID to/from XML
    
    
    20070528134639-7fe3f-a264264ef0fd0bda321d1beec4443f2ca4a8328b.gz

 src/tubes-channel.c |   41 +++++++++++++++++++++++++++++------------
 1 files changed, 29 insertions(+), 12 deletions(-)

commit 765b87ded6a2bb8884d6c0bdd4df320278713d29
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 28 13:10:37 2007 +0000

    stream tube: add unique id property
    
    
    20070528131037-7fe3f-463bf74b6d338c3bc34997d03373a9dd9111cf2c.gz

 src/tube-stream.c   |   25 ++++++++++++++++++++++++-
 src/tube-stream.h   |    2 +-
 src/tubes-channel.c |    2 +-
 3 files changed, 26 insertions(+), 3 deletions(-)

commit 91a899f8fce0c7f4e77a22203a9136d898e11f36
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 28 13:07:22 2007 +0000

    D-Bus tube: add unique-id property
    
    
    20070528130722-7fe3f-e883df29aaa677d2a540531019bfdb1f6766970e.gz

 src/tube-dbus.c     |   25 ++++++++++++++++++++++++-
 src/tube-dbus.h     |    3 ++-
 src/tubes-channel.c |   34 ++++++++++++++++++++++++++++------
 3 files changed, 54 insertions(+), 8 deletions(-)

commit ab2ffa751b988923d1cd1ebb54911ac576ba8e6b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 28 10:47:34 2007 +0000

    s/listenning/listening
    
    
    20070528104734-7fe3f-5f02604faa9da950a3f4a8577e4b919330682069.gz

 src/tube-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 70f60d08b01123a7953628f2f9a438e889550234
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 28 10:46:41 2007 +0000

    check if file exists and if it's a socket when calling OfferStreamTube
    
    
    20070528104641-7fe3f-d095b03abc3aeff374b43541ea1f4e7de5e2a84a.gz

 src/tubes-channel.c |   38 +++++++++++++++++++++++++++++++++++++-
 1 files changed, 37 insertions(+), 1 deletions(-)

commit 123b32702ca5d497aad061ddf221029a7d5600c5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 28 10:02:49 2007 +0000

    remove one trailing space so make check is happy
    
    
    20070528100249-7fe3f-1e1dbf8fb1818162c882087cb7cd588693f77819.gz

 src/tube-dbus.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 6b3d053dc65e21a651897a6253c3fada5e84e7bc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 28 09:55:00 2007 +0000

    don't create muc bytestream when offering a stream tube
    
    
    20070528095500-7fe3f-eb028707567d3dc2479c68bbcb1cd7b0da997b52.gz

 src/tubes-channel.c |   24 ------------------------
 1 files changed, 0 insertions(+), 24 deletions(-)

commit 072d4739f360f3a885756060e991ac0572c89633
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 28 09:49:42 2007 +0000

    D-Bus tube now creates its muc bytestream during its construction and not in tubes-channel because all tube type doesn't have a muc bytestream by default
    
    
    20070528094942-7fe3f-1677385b44a2cf15cd3d54064a64e1a432f3fb1f.gz

 src/tube-dbus.c     |   51 ++++++++++++++++++++++++++++++++++++++++++++++++++-
 src/tubes-channel.c |   51 +++++----------------------------------------------
 2 files changed, 55 insertions(+), 47 deletions(-)

commit c9e1795f0e36bf95e1e862f059979902d222130b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 28 09:17:00 2007 +0000

    set the stream-id property when creating a D-Bus tube
    
    
    20070528091700-7fe3f-ef7b60136fecaec4b8001a91d7b0d0b7d075d824.gz

 src/tube-dbus.c     |    4 +++-
 src/tube-dbus.h     |    2 +-
 src/tubes-channel.c |    2 +-
 3 files changed, 5 insertions(+), 3 deletions(-)

commit 1429a48e941067e91ef331d50ce53d54fd95135d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 25 15:49:11 2007 +0000

    tube-dbus: add stream-id property
    
    
    20070525154911-7fe3f-6de514baa101348f6644e3692b40f479c91dfc7f.gz

 src/tube-dbus.c |   21 +++++++++++++++++++++
 1 files changed, 21 insertions(+), 0 deletions(-)

commit dbfd9651871ed4c1f9415b531075bc34c3529e41
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 25 15:40:10 2007 +0000

    use gabble_tube_*_new functions instead of g_object_new
    
    
    20070525154010-7fe3f-fe17aff1b262e0f6292585c1fb45ae6249bd1adb.gz

 src/tubes-channel.c |   19 ++++++-------------
 1 files changed, 6 insertions(+), 13 deletions(-)

commit 25bbcace08ea997adc2a6135084e8b53780ba67b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 25 15:31:10 2007 +0000

    gabble_tube_dbus_new: fix properties alignement
    
    
    20070525153110-7fe3f-6c5f37621abf9f0d7d4321d3fc67ace7fb2be84f.gz

 src/tube-dbus.c |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit fd7041a67947ec65d027b479891fd8d1908f9721
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 25 15:26:24 2007 +0000

    add gabble_tube_stream_new
    
    
    20070525152624-7fe3f-a932ad100e464682779c0f1ae20818722a4465a1.gz

 src/tube-stream.c |   20 ++++++++++++++++++++
 src/tube-stream.h |    7 +++++++
 2 files changed, 27 insertions(+), 0 deletions(-)

commit 89d14bedcfd06553e408863bd61ded6410279b2c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 25 14:43:08 2007 +0000

    add gabble_tube_dbus_new
    
    
    20070525144308-7fe3f-c1485db47b471ef597be780518b2b953310e2d2c.gz

 src/tube-dbus.c |   20 ++++++++++++++++++++
 src/tube-dbus.h |    7 +++++++
 2 files changed, 27 insertions(+), 0 deletions(-)

commit 547db41a590f52535dac408c53b68d59547504f2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 25 14:28:00 2007 +0000

    set tube self-handle property when creating a tube
    
    
    20070525142800-7fe3f-3c7576b9ebda5494e1def2a2470d1939a16809ec.gz

 src/tubes-channel.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit c09de23d9085b50c9ce68df201476aafe946489b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 25 14:27:37 2007 +0000

    tube-stream: add self-handle property
    
    
    20070525142737-7fe3f-3aabfe8863f2050d0d9d065aa441af2cb868cdc7.gz

 src/tube-stream.c |   21 +++++++++++++++++++++
 1 files changed, 21 insertions(+), 0 deletions(-)

commit 01264bb617243b06ad2c02dcb8259cde79f1f311
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 25 14:23:28 2007 +0000

    tube-dbus: add self-handle property
    
    
    20070525142328-7fe3f-6944e6d6c900b435d5a59ac8a99d481abfbeda73.gz

 src/tube-dbus.c |   21 +++++++++++++++++++++
 1 files changed, 21 insertions(+), 0 deletions(-)

commit 4392080cae4a262c6a0da0f9ac693553529bda71
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 25 13:39:47 2007 +0000

    set listen backlog parameter to 5
    
    
    20070525133947-7fe3f-32b57793d4c467c3ebbf07ce84cdf19fc485df35.gz

 src/tube-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 6d639bb371e6d6295ce87349f07f47175ae7a2f2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 25 09:58:43 2007 +0000

    fix conflicts with -tubes
    
    
    20070525095843-7fe3f-bea098181eba7a3418d102537d24649afd75b857.gz

 src/tube-dbus.c |   59 +-----------------------------------------------------
 1 files changed, 2 insertions(+), 57 deletions(-)

commit f1d412c4dba4bd8998304d37c24bf50811c150df
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 24 13:38:36 2007 +0000

    call update_tubes_presence in tube_closed_cb
    
    
    20070524133836-7fe3f-78ba018573a81316a2e50d1b22b2b6ec785016ac.gz

 src/tubes-channel.c |   20 +++++++-------------
 1 files changed, 7 insertions(+), 13 deletions(-)

commit 89bdcf474b3eeb319167eaa9de42c1c757163464
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 24 13:25:59 2007 +0000

    automatically reject D-Bus tubes offer if D-Bus tubes support is not built
    
    
    20070524132559-7fe3f-a943d3a529a98d4bf06f9956a366e88e5a32f9d1.gz

 src/tubes-channel.c |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit 7dda8941bcd270eaa535ff51fa3e1d27552a7558
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 24 13:22:06 2007 +0000

    s/#if/#ifdef
    
    
    20070524132206-7fe3f-c0018f1415715259b6e2b4ed3aab353d9390026d.gz

 src/tubes-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8552c9fb9a4c7cb5222f94efa288140b628d73ec
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 24 13:03:27 2007 +0000

    when parsing muc presence, don't create d-bus tube if HAVE_DBUS_TUBE is not defined
    
    
    20070524130327-7fe3f-bb86f2072b82b99c5aafa1ad2f96e0aec8bd6064.gz

 src/tubes-channel.c |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 68f6b37b48c85058507b13cd2d0b770af77ba733
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 24 12:47:42 2007 +0000

    gabble_tube_stream_close: always emit the closed signal even if it doesn't have a bytestream
    
    
    20070524124742-7fe3f-a7e63990930631c2b9a78963c0287f54834fc3dc.gz

 src/tube-stream.c |   11 +++++++++--
 1 files changed, 9 insertions(+), 2 deletions(-)

commit 2753c3b07255e689ea80a07b7e15273ac0309a40
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 24 11:29:38 2007 +0000

    tubes-channel.c: move close_tube code to tube_closed_cb
    
    
    20070524112938-7fe3f-1e63f9e7b6602d37da7adab1ad719392d8a1eb41.gz

 src/tubes-channel.c |   78 ++++++++++++++++++++------------------------------
 1 files changed, 31 insertions(+), 47 deletions(-)

commit a335aa82fad65ee27f47eb73a21d88ce172d576c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 24 09:11:40 2007 +0000

    return errors when trying to offer a tube to a contact who doesn't support tubes
    
    
    20070524091140-7fe3f-0cda12a7d077cd2606204a5b2dc4daa3511394fe.gz

 src/tubes-channel.c |   19 +++++++++++++++++++
 1 files changed, 19 insertions(+), 0 deletions(-)

commit 6926961da8a8aa5b9b9fe91b27f5fceb8c52e121
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 23 16:26:31 2007 +0000

    set the socket's path when offering a new stream tube
    
    
    20070523162631-7fe3f-daec1aeca40643a20e1607cf39b5478d8419bd9a.gz

 src/tube-stream.c   |   13 ++++++++-----
 src/tubes-channel.c |    4 ++++
 2 files changed, 12 insertions(+), 5 deletions(-)

commit 6d30fd3a0f83b0519f140532d6e86ecc67cb759b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 23 14:49:16 2007 +0000

    implement GetStreamSocketAddress
    
    
    20070523144916-7fe3f-08bb7823cc603dd0abdd339036848b2ec74a0a19.gz

 src/tubes-channel.c |   61 +++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 61 insertions(+), 0 deletions(-)

commit 8fac85dcab9d220f21971e0f06f6b323cd458d36
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 23 14:38:52 2007 +0000

    gabble_tubes_channel_get_d_bus_names: use GabbleTubeIface* instead of GObject*
    
    
    20070523143852-7fe3f-5344549b8785f58acfcb94e24322e41e56d6fe10.gz

 src/tubes-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e78bb88cef2170a786a577821987362c65515fa1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 23 14:16:17 2007 +0000

    implement OfferStreamTube
    
    
    20070523141617-7fe3f-68431c25eb1af68ecc3287cddb5dfe5d29a628a1.gz

 src/tubes-channel.c |   85 +++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 85 insertions(+), 0 deletions(-)

commit 213b1d8efbc42dd7c4bf0bfa04b1312c58e6a0d0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 23 13:58:45 2007 +0000

    factor out stream initation code from gabble_tubes_channel_offer_d_bus_tube
    
    
    20070523135845-7fe3f-81ca05be7d6fd27608457a9f8cedd4e08223c547.gz

 src/tubes-channel.c |   95 +++++++++++++++++++++++++++++---------------------
 1 files changed, 55 insertions(+), 40 deletions(-)

commit 7fadef8b826f408e5a4bdea6164f0786fe6dcaf1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 23 12:30:02 2007 +0000

    replace OfferTube by OfferDBusTube (new API)
    
    
    20070523123002-7fe3f-1ac20aed7bc42ef288fe034603bd216464dff3d6.gz

 src/tubes-channel.c |   52 ++++++++++++++++++--------------------------------
 1 files changed, 19 insertions(+), 33 deletions(-)

commit 3cb4d48b3098487c5d1e9bedce03e86fa2cdcb89
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 22 16:43:47 2007 +0000

    set handle and handle-type properties when creating a new tube
    
    
    20070522164347-7fe3f-71a5a2b01b2c43ad49b72295b50fb3ab7bb70cb4.gz

 src/tubes-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 392f7e3c32c6d6661e955647eabc68a8b1cf01c6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 22 16:34:58 2007 +0000

    tube-dbus.c: fix bad naming of handle and handle type properties
    
    
    20070522163458-7fe3f-e86d6548c715b65d0209819ccff3a258783eb1dd.gz

 src/tube-dbus.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit f9ff1cb1f20f7592ce38a4aa83b65073e171d6ff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 22 16:34:22 2007 +0000

    properly install handle and handle types properties
    
    
    20070522163422-7fe3f-242a4f0a64861030f12021ea0f45bbec49e4c7a8.gz

 src/tube-stream.c |   27 +++++++++++++++++++++++++++
 1 files changed, 27 insertions(+), 0 deletions(-)

commit 8ccf79e960a432ac04b2415d7b08c53d872822a3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 22 16:15:10 2007 +0000

    stream-tube.c: add handle and handle types properties
    
    
    20070522161510-7fe3f-c0c40c515073618526602475811a6cbab1cb9b5e.gz

 src/tube-stream.c |   16 ++++++++++++++++
 1 files changed, 16 insertions(+), 0 deletions(-)

commit e517ba043d340dd1f6ebab421706933f36b4098d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 22 16:12:59 2007 +0000

    tube-dbus.c: add handle and handle type properties
    
    
    20070522161259-7fe3f-55c7d2d731f7e3d6d9c957e9822f7e4c36523634.gz

 src/tube-dbus.c |   43 +++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 43 insertions(+), 0 deletions(-)

commit 95d2a05bdd5f3552e79cf98b91a84a0ab1e8612c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 22 13:56:28 2007 +0000

    fix some coding style issues
    
    
    20070522135628-7fe3f-fc11b4573990f53c4d2a10c56a8e3a45fa19b88a.gz

 src/tube-stream.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit cd8a21fea934400dc063b8cceb4d095ee8b9b542
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 22 13:43:05 2007 +0000

    now we have another tube type implemented, we have to build tubes support and just disable D-Bus tube if D-Bus version is too old
    
    
    20070522134305-7fe3f-fdeca4daf06b08c71d4a190f0acb0c9c61ecb957.gz

 src/Makefile.am          |   12 ++---
 src/bytestream-factory.c |    4 --
 src/gabble-connection.c  |    2 -
 src/gabble-connection.h  |    2 -
 src/tubes-channel.c      |   94 +++++++++++++++++++++++++++++++++++++++------
 5 files changed, 86 insertions(+), 28 deletions(-)

commit 350a91e83d36018118d9fc41930d70cdc76e70fd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 22 10:35:26 2007 +0000

    interface bytestream and local socket
    
    
    20070522103526-7fe3f-b56678a9a261c1afea8521a69f0cac5056fcaf03.gz

 src/tube-stream.c |   95 +++++++++++++++++++++++++++++++++++++++-------------
 1 files changed, 71 insertions(+), 24 deletions(-)

commit eba891ac774681236ed6172973076550563f8e04
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 21 16:44:02 2007 +0000

    create sockets whe opening the stream tube
    
    
    20070521164402-7fe3f-8193131208d466c4dfe50d79c0ec64ec53c379c9.gz

 src/tube-stream.c |  187 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 187 insertions(+), 0 deletions(-)

commit f5191e2ed948aa91a159dfb465bf744f167653e5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 21 09:50:25 2007 +0000

    add 2 tests to check tube type before excute dbus-tube specific code
    
    
    20070521095025-7fe3f-1f9d2b70154d2e3d7a9b4f13be62ea27362d1bb0.gz

 src/tubes-channel.c |   24 ++++++++++++++++--------
 1 files changed, 16 insertions(+), 8 deletions(-)

commit 6be479cbdf4f6e66cc16c8bc243e416c9dd88543
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 21 09:35:30 2007 +0000

    add missing break when publishing stream tubes in muc presence
    
    
    20070521093530-7fe3f-d579308c91467f988ea7d7e1f69a4422c9ef1390.gz

 src/tubes-channel.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit f6888fac1b6c4ea8b19b0b7795ee7dd0e4b57acd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 18 12:40:10 2007 +0000

    make tubes-channel stream tube aware
    
    
    20070518124010-7fe3f-6019e9c120f538f1cdbda36c5549954181d7e69e.gz

 src/tubes-channel.c |   18 ++++++++++++++++--
 1 files changed, 16 insertions(+), 2 deletions(-)

commit f11bd736e5f506b2e45b1c22d3632c7304ed68d6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 21 09:22:36 2007 +0000

    build tube-stream.c
    
    
    20070521092236-7fe3f-bdf5345d80a4170a5237a4b0594b427ad4dbe1f3.gz

 src/Makefile.am |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit bb2818781b218e9e77596fc007d8a445727417fe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 21 09:21:29 2007 +0000

    add tube-stream.[ch]
    
    
    20070521092129-7fe3f-a18108b4c8deba53ca7563c86a845d241b94794e.gz

 src/tube-stream.c |  531 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/tube-stream.h |   60 ++++++
 2 files changed, 591 insertions(+), 0 deletions(-)

commit b46c9561779bb44ec1b6607f1e3e678e82992db4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 21 09:20:21 2007 +0000

    documents tube implementation of GabbleTubeIface
    
    
    20070521092021-7fe3f-c630a2305ec2f786a35f0f3395f0ba3e6e2db8e1.gz

 src/tube-dbus.c |   74 +++++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 72 insertions(+), 2 deletions(-)

commit a0c45ec1f63403aae1765a6c1b6641528e82bf36
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 18 16:28:54 2007 +0000

    modify tube-dbus.[ch] to implement GabbleTubeIface
    
    
    20070518162854-7fe3f-c20e6b193413a01065151c905897ad8a85ae9063.gz

 src/tube-dbus.c     |   35 +++++++++++++++++++++++++++--------
 src/tube-dbus.h     |    9 ---------
 src/tubes-channel.c |   43 ++++++++++++++++++++++---------------------
 3 files changed, 49 insertions(+), 38 deletions(-)

commit 3ff936c4f02a123deeaa93de1537920035546386
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 18 16:28:09 2007 +0000

    build tube-iface.c
    
    
    20070518162809-7fe3f-6aa13f0cdd6767c08ad4f4bd7bcc5892b35dc972.gz

 src/Makefile.am |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 8141928d8039c4b9688f3c1c88c3b6580382f153
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 18 16:27:17 2007 +0000

    tube-iface.[ch]
    
    
    20070518162717-7fe3f-056132f975f44a546bca183ba5164daa61ff9d9f.gz

 src/tube-iface.c |   74 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/tube-iface.h |   62 +++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 136 insertions(+), 0 deletions(-)

commit 0402ce5be876696b38c7c716fb963e79b3d192a3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Jun 8 23:23:22 2007 +0000

    fix conflict with head
    
    
    20070608232322-7fe3f-9aabd1d8927df41bbb887db6be06f37300bd1d82.gz

 src/presence.h |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit ea5e798d597a8e63b31185c9f1b2e9c590516149
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jun 4 15:31:09 2007 +0000

    Coding style tweaks
    
    
    20070604153109-53eee-3e96077de7eceebd75f74b5f1e3a3a8ffa44293b.gz

 src/muc-factory.c |   42 +++++++++++++++++++++---------------------
 1 files changed, 21 insertions(+), 21 deletions(-)

commit d6e717019482f2cd3d7c36fe1a6aaf997f3e72f3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Jun 4 15:12:50 2007 +0000

    fix a conflict between telepathy-gabble-tubes and gabble-olpc-smcv
    
    
    20070604151250-7fe3f-e266f3a8c4c7763c3e24e46a41ebd718f3813c79.gz

 src/tubes-channel.h |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit cb0015911402867f03b835029867e0f75c0183b8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 1 16:45:47 2007 +0000

    muc-factory: use gabble_get_room_handle_from_jid()
    
    
    20070601164547-53eee-b26131112fb3837d1d4ac42eb4997af3224722d9.gz

 src/muc-factory.c |   25 +++----------------------
 1 files changed, 3 insertions(+), 22 deletions(-)

commit bcd72fa17cc7952f3903f0630451cf82cdf64423
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 1 11:57:39 2007 +0000

    Signal creation of tubes channel if the corresponding MUC was already ready
    
    
    20070601115739-53eee-0f8725c36a55689671c4238075244aab5f4a80f1.gz

 src/muc-factory.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 9d9d179f178fe01760ff321c580e6de8efcef85c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 1 11:49:15 2007 +0000

    Install the MUC property
    
    
    20070601114915-53eee-aa445465a604798ee9d4fd09d1828f9bcf8ccd58.gz

 src/tubes-channel.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 9dd7e5692acca7b7bc201462a0d7555f2cf8629a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 1 11:36:21 2007 +0000

    Update to newer external group mixin API (now the tubes channel will emit MembersChanged)
    
    
    20070601113621-53eee-0e6f6808dfcd103f55daba8019f0373b975d8415.gz

 src/tubes-channel.c |    8 +++++---
 1 files changed, 5 insertions(+), 3 deletions(-)

commit c1cad8371f6a92ed67ad0cc8036ccc5a93780b03
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 1 11:36:16 2007 +0000

    Whitespace
    
    
    20070601113616-53eee-566ebffc9408c9a04bbef1d2d535e6f1e7deb69c.gz

 src/tubes-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8f81dee6a26674210b76c7413d03d225fd09422e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 31 18:21:32 2007 +0000

    If a tubes channel has a MUC attached, give it the groups interface
    
    
    20070531182132-53eee-207d8a6f8eab1c64cec857b4a867db763f75dd13.gz

 src/tubes-channel.c |   12 +++++++++++-
 1 files changed, 11 insertions(+), 1 deletions(-)

commit 0fa1fe1d9c0c277a5451a338db76b713b19fef8c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 31 18:17:54 2007 +0000

    Let tubes channel implement the group interface, using new tp_external_group_mixin functionality in telepathy-glib
    
    
    20070531181754-53eee-c00f1dc6746a866be8d1548a8a63752a2c8f956b.gz

 src/tubes-channel.c |   24 +++++++++++++++---------
 src/tubes-channel.h |    5 ++---
 2 files changed, 17 insertions(+), 12 deletions(-)

commit 1d06ee84baa8eda00b44d8cfe6b99964bbee6f84
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 31 13:39:16 2007 +0000

    Close tubes channels when their corresponding text channel closes
    
    
    20070531133916-53eee-5ccb7a2d58b570879c0870d94ba6588e60f9f9ff.gz

 src/muc-factory.c   |    7 ++++++-
 src/tubes-channel.c |   26 +++++++++++++-------------
 src/tubes-channel.h |    2 ++
 3 files changed, 21 insertions(+), 14 deletions(-)

commit f25fd2244efe972060fef171199397d4020eab84
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 31 13:39:11 2007 +0000

    Instead of self-handle, Tubes channels have a muc property
    
    
    20070531133911-53eee-0b68705426341d9aaaa6e1c309d7941cb30de23d.gz

 src/muc-factory.c   |    2 +-
 src/tubes-channel.c |   53 +++++++++++++++++++++++++++++++++-----------------
 src/tubes-factory.c |    1 -
 3 files changed, 36 insertions(+), 20 deletions(-)

commit e484b3a38b7f821d414041b3aa6f89be63b10ebb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 31 12:05:41 2007 +0000

    Make the MUC factory responsible for MUC tubes channels.
    
    The tubes factory only handles one-to-one SI tubes now.
    
    20070531120541-53eee-6a8b0571f81032eca3a97141865bb48686543683.gz

 src/muc-factory.c   |  325 ++++++++++++++++++++++++++++++++++++++++++++-------
 src/tubes-factory.c |  136 +++-------------------
 2 files changed, 299 insertions(+), 162 deletions(-)

commit 5a6321ecb65878e196046bed7a598a7e602c7213
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 29 10:49:36 2007 +0000

    fix gabble_tubes_factory_handle_si_request coding style definition
    
    
    20070529104936-7fe3f-0b51e265ed1a2fdf77647880c83d534c9acf65cf.gz

 src/tubes-factory.c |   11 ++++++-----
 1 files changed, 6 insertions(+), 5 deletions(-)

commit 619bf3fb55d23cc8b6eaf69ac1e0a3bbe56006cb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 24 13:13:13 2007 +0000

    add a comment explaining why we call gabble_bytestream_ibb_decline when closing the stream
    
    
    20070524131313-7fe3f-ed70b1776d3ae97942e98e3876a0598b2022c139.gz

 src/bytestream-ibb.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit b0758897525a02279c7707af1310fccb94ec7180
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 24 11:25:15 2007 +0000

    bytestream IBB: check if bytestream is already closed before closing it
    
    
    20070524112515-7fe3f-65ee2e440151aab3baaaa688546fdc6f9fdb6813.gz

 src/bytestream-ibb.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 77f258b969c95c448f60592d036b639db10a7f9d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 24 11:02:47 2007 +0000

    tube-dbus: gabble_tube_dbus_close always emit the closed signal even if it doesn't have a bytestream
    
    
    20070524110247-7fe3f-4dd99833a9fd16f0b226bd781067d9782e1c675f.gz

 src/tube-dbus.c |   11 +++++++++--
 1 files changed, 9 insertions(+), 2 deletions(-)

commit 912117f5d94574cf3b9e7e29a5287881f43c2ea0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 24 10:49:38 2007 +0000

    bytestream IBB doesn't emit the the state-changed signal if the its state wasn't effectively changed
    
    
    20070524104938-7fe3f-9441822d4dfd64563f36e1429e9f96f1df421f53.gz

 src/bytestream-ibb.c |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit 1a676b40f67baa0f5d5d8232e94126027bdacab5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 22 15:33:09 2007 +0000

    rename gabble_tubes_factory_handle_request  to gabble_tubes_factory_handle_si_request
    
    
    20070522153309-7fe3f-a571073692326406622a60ba4cd2bb75fdff0d90.gz

 src/bytestream-factory.c |    2 +-
 src/tubes-factory.c      |   11 +++++------
 src/tubes-factory.h      |    2 +-
 3 files changed, 7 insertions(+), 8 deletions(-)

commit 5d1edcb38c0f42fee5061d3c5c03a5166d2b1b3b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 25 09:43:09 2007 +0000

    fix a leak when parsing IBB iq stanza
    
    
    20070525094309-7fe3f-b9ffd2ea00e735f990f95895628b4cd9a9a6fa8c.gz

 src/bytestream-factory.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 33d77ac20f3b1f408e3474bff2950fcaf9bec413
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 25 09:41:53 2007 +0000

    fix leaks when initating IBB bytestreams
    
    
    20070525094153-7fe3f-c663ee72889b2e306b51b88a32693effd8db6f55.gz

 src/bytestream-ibb.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 1a17ba3aa8559a4b351e4f4ba92b886f807f4dc2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 25 09:38:17 2007 +0000

    fix a leak when responding to IBB close stanza
    
    
    20070525093817-7fe3f-d6c1b90deb1424a2bba406a0628babaac4598485.gz

 src/bytestream-factory.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 5ced5e807ef4bdb9349de949b6b6fa6a01b2fbf2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 25 09:36:47 2007 +0000

    fix a leak when accepting a tube
    
    
    20070525093647-7fe3f-062bb807d323962eb82d038e4465f44d9c2c350d.gz

 src/tube-dbus.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit e0981028fcfee6efc9e7060fc9f149193a9dddd2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 24 09:23:41 2007 +0000

    fix NS_SI alignement
    
    
    20070524092341-7fe3f-631d31becf2cd4b44efe493b3a39e0ce8eeeeb02.gz

 src/namespaces.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4d1d7b6879e943f064a6819f8115f2726a384ebb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 23 14:55:49 2007 +0000

    fix args alignement
    
    
    20070523145549-7fe3f-36aeaac7010dd217b38f989c77cf298e0fc33038.gz

 src/tubes-channel.c |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit 121d599e152e8fa290b5ffd38e8a2c53204846be
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 23 11:56:18 2007 +0000

    raise TP_ERROR_NOT_AVAILABLE in GetDBusNames and GetDBusServerAddress if the tube is not open as said in the spec
    
    
    20070523115618-7fe3f-0e942859b62d86b3943706534fb5dec0e3e3724f.gz

 src/tubes-channel.c |   32 +++++++++++++++++++++++++++++---
 1 files changed, 29 insertions(+), 3 deletions(-)

commit 2ea1e55aa83190891643099761864e1981e0ae8b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 22 13:49:47 2007 +0000

    use tp_g_value_slice_free instead of your own function
    
    
    20070522134947-7fe3f-7de4decf8750050350a6e4ea4d8dca197ab50bfa.gz

 src/tubes-channel.c |    9 +--------
 1 files changed, 1 insertions(+), 8 deletions(-)

commit a8ea8180f5ed059b99ac5151cdff186d33cbf17f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 21 12:54:14 2007 +0000

    destroy the tube if the negotiation of its stream failed
    
    
    20070521125414-7fe3f-907232c557b4816075829d692357d9c52a12d01b.gz

 src/tubes-channel.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit cd56e79fade65097a5a4bf8b5d2f81e94bfd91c9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 18 12:15:34 2007 +0000

    remove TUBE_PARAMETERS_TYPE as we don't use it anymore
    
    
    20070518121534-7fe3f-154eb2e7860e797e70d4febfa6cc5386a1c9d7ef.gz

 src/bytestream-ibb.c |    3 ---
 src/tube-dbus.c      |    3 ---
 2 files changed, 0 insertions(+), 6 deletions(-)

commit 19e95212d7b0a14cd00ab958726f0275212d798e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 18 11:50:28 2007 +0000

    fix coding style typo
    
    
    20070518115028-7fe3f-c7f03559eb8955a0d7293edf7d5dea6568d384ec.gz

 src/tubes-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 22f700b92c612a65277cb51fddc1417d937ebd17
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri May 18 11:04:13 2007 +0000

    Check for dbus_message_marshal in the libdbus we'll be using, not the system libdbus (if different)
    
    
    20070518110413-53eee-2087d597f749043b1f39a5ebc32f67b02e4db859.gz

 configure.ac |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit c93560be707c8b74edd9d4bff05b03e11ade851c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 11 12:59:24 2007 +0000

    avoid empty block if we build with --disable-debug
    
    
    20070511125924-7fe3f-fe557244962571750531d1faa6730dc2086048ef.gz

 src/bytestream-ibb.c |   18 +++++++++---------
 1 files changed, 9 insertions(+), 9 deletions(-)

commit 46bf9b7929ae45871e94140687ff86292477bb7d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 9 15:48:19 2007 +0000

    don't include tubes-factory.h if we don't build tubes
    
    
    20070509154819-7fe3f-7c1b07f06556ed9c913f8b112b72411b903ab30d.gz

 src/bytestream-factory.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit a6d2d86970c6f78907b94a02401f73178a687bcd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 8 10:11:31 2007 +0000

    fix typo
    
    
    20070508101131-7fe3f-62c0d84ab6d0978cd6bd376701c9c1c0e067a0bd.gz

 src/bytestream-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 1607426248e8b30b406de89055d95b5de289ce99
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 2 16:25:11 2007 +0000

    use gabble_bytestream_ibb_send in gabble_bytestream_ibb_send_to when used with a private bytestream
    
    
    20070502162511-7fe3f-f410f78332eb15944810577613a39b96985b30aa.gz

 src/bytestream-ibb.c |   15 +++++++++++++++
 1 files changed, 15 insertions(+), 0 deletions(-)

commit 55c82553f0cf4e573e116790cbb9e2121953b278
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 2 15:58:47 2007 +0000

    IBB send to the full jid as said in the XEP
    
    
    20070502155847-7fe3f-b39f7be684a7b771fe1e1a4845e5fb84468591e4.gz

 src/bytestream-ibb.c |   23 ++++++++++++++++++-----
 1 files changed, 18 insertions(+), 5 deletions(-)

commit 205de39bf255673fd1920b65815467ebb1a81f09
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 2 12:44:12 2007 +0000

    catch sending errors when sending IBB open stanza
    
    
    20070502124412-7fe3f-dc29b6362a6809463a67bb102e970fee5bd2c6c8.gz

 src/bytestream-factory.c |   14 ++++++++------
 src/bytestream-ibb.c     |   18 +++++++++++-------
 src/bytestream-ibb.h     |    2 +-
 3 files changed, 20 insertions(+), 14 deletions(-)

commit 2ade13d0c9729a3f99b7d459cf86ec4ff5dd03e5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 2 11:06:38 2007 +0000

    we don't need to explicitely call gabble_tube_dbus_accept if we create an already open tube
    
    
    20070502110638-7fe3f-d0ebd6e199f69f6a2f7e2f43f9b3890132533767.gz

 src/tubes-channel.c |    6 ------
 1 files changed, 0 insertions(+), 6 deletions(-)

commit 322e4721ca127e93a5c9f350ca452c78583eabe1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 2 10:59:16 2007 +0000

    split the acceptance of a tube and its opening
    
    
    20070502105916-7fe3f-19af0a17a05c0de1f2e2de13c610e6eeee6c87ed.gz

 src/tube-dbus.c     |   90 +++++++++++++++++++++++++++++---------------------
 src/tube-dbus.h     |    2 +-
 src/tubes-channel.c |    6 ++--
 3 files changed, 56 insertions(+), 42 deletions(-)

commit 3ee27477ee9a9ffa04289b5e54841722333c57df
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed May 2 09:38:02 2007 +0000

    muc tubes have to be local pending while user doesn't accept it
    
    
    20070502093802-7fe3f-333088317f74edf04c95c5d8c6c8158b74b8561f.gz

 src/tube-dbus.c     |   35 +++++++++++++++++++++++------------
 src/tubes-channel.c |    2 +-
 2 files changed, 24 insertions(+), 13 deletions(-)

commit 687f243f15b8e7d57a2ecef01c918b6841a286c4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 1 17:38:01 2007 +0000

    don't emit TubeStateChanged while the stream is not fully initiated
    
    
    20070501173801-7fe3f-d29c539ba37c2bd27b3262ee5473a41eb54a7bc9.gz

 src/tubes-channel.c |    6 ------
 1 files changed, 0 insertions(+), 6 deletions(-)

commit ab2b859ba87d8c294e205fed2b8eed30e065cb41
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 1 17:24:14 2007 +0000

    we don't need a state-changed signal in D-Bus tube as tube can only become opened or closed after its creation
    
    
    20070501172414-7fe3f-3caaf5b11325fb304f07a710cb0708d7c596758d.gz

 src/tube-dbus.c     |   15 +++++++--------
 src/tubes-channel.c |   11 +++++------
 2 files changed, 12 insertions(+), 14 deletions(-)

commit 7a87175b3e7b020e87a97c659275aa414dad4bc2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 1 17:10:36 2007 +0000

    stream_id from gabble_tube_dbus_get_stream_id have to be freed
    
    
    20070501171036-7fe3f-268537404ef160a1801fbe1300a347fd31d8f6f8.gz

 src/tubes-channel.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit ad026b1996081cb40476c31848b72a75a1bc3004
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 1 17:04:15 2007 +0000

    TubeDbus emit signals when its state change so tubes-channel can emit D-Bus signal to inform user of this changes
    
    
    20070501170415-7fe3f-91139feaa04ec7aa835c57cf4366baffa75b70e8.gz

 src/tube-dbus.c     |   64 +++++++++++++++++++++++++++++++++++++++------------
 src/tubes-channel.c |   58 ++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 107 insertions(+), 15 deletions(-)

commit f1f7175cc09e95e93e15b8d4b1f4019e07ab3813
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 1 16:18:06 2007 +0000

    perform IBB initiations after the SI was accepted
    
    
    20070501161806-7fe3f-e6aa291941f9f895509d4e97611277fe4def8b1f.gz

 src/bytestream-factory.c |   89 ++++++++++++++++++++++++++++++++++++++++-----
 src/bytestream-ibb.c     |   91 +++++++++++++++++++++++++++++++++++++++++-----
 src/bytestream-ibb.h     |    9 +++--
 src/tube-dbus.c          |   11 ++++--
 4 files changed, 174 insertions(+), 26 deletions(-)

commit 6a60e5f90e80af0f48753b35b93dafc3de00d81e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 1 14:26:01 2007 +0000

    remove double declaration of gabble_bytestream_ibb_close
    
    
    20070501142601-7fe3f-4685c1bfdc7d5e2c7584603b76ec574f931e712d.gz

 src/bytestream-ibb.h |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit d8d06da3aeaa1ccaefbad27e7f5b416f302738c8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 1 13:49:23 2007 +0000

    don't explicitely store the tube state but use bytestream's states to find it. So we avoid redundancy or incoherence between these 2 states type
    
    
    20070501134923-7fe3f-0c3265fbd852d15f496eec557995c2ef26ec8bdd.gz

 src/bytestream-ibb.c |    2 +-
 src/bytestream-ibb.h |    8 ++++++--
 src/tube-dbus.c      |   49 ++++++++++++++++++++++++++++++++++---------------
 src/tube-dbus.h      |    3 +++
 src/tubes-channel.c  |   34 ++++++++++++++++++++--------------
 5 files changed, 64 insertions(+), 32 deletions(-)

commit b811fa8311f2db3cf81a1baf21975cbde3151e96
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 1 12:49:36 2007 +0000

    returns REMOVE_MESSAGE if IBB close iq stanza are malformed
    
    
    20070501124936-7fe3f-00a48dfd8b2f0bb133375565a2204e9ed3d43251.gz

 src/bytestream-factory.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 33e90c17580494826759140563d05033bbc536f3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 1 12:45:29 2007 +0000

    use parse_ibb_data in IQ IBB cb as we can receive data through IQ stanza too
    
    
    20070501124529-7fe3f-3e517aa397f4d458500fe81fb453ded4fb8fd5d7.gz

 src/bytestream-factory.c |   45 ++++++++++++++++++++++++---------------------
 1 files changed, 24 insertions(+), 21 deletions(-)

commit f6b4bc5446302ef048e490dd95b0bc4d4b625876
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 1 12:41:30 2007 +0000

    add some debug messages in tube-dbus
    
    
    20070501124130-7fe3f-89230b37278010829a93c521d10589da9b8577bc.gz

 src/tube-dbus.c |    8 ++++++--
 1 files changed, 6 insertions(+), 2 deletions(-)

commit b4468e9930f19c7838a1dbdc3ac15963da5779a5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 1 12:34:53 2007 +0000

    factor out IBB msg data parsing
    
    
    20070501123453-7fe3f-ca92006d8533640f6ff7e046d7e6b09b82fc3c18.gz

 src/bytestream-factory.c |   50 +++++++++++++++++++++++++++------------------
 1 files changed, 30 insertions(+), 20 deletions(-)

commit 004244c1c3ddb4e73f2bcfe1b130ddbf4276950c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 1 09:37:23 2007 +0000

    check if stream id is not null when parsing IBB msg data
    
    
    20070501093723-7fe3f-8838329c4f9e5b4b109c4c522e0581661a313d91.gz

 src/bytestream-factory.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 12def4575b49e69e03630f7898b8bff5269bd21d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 1 09:35:15 2007 +0000

    close an IBB bytestream when we receive the close msg
    
    
    20070501093515-7fe3f-215751d9a67db35f40d288d7934f370df769f63d.gz

 src/bytestream-factory.c |   98 ++++++++++++++++++++++++++++++++++++++++++++++
 src/bytestream-ibb.c     |    1 -
 2 files changed, 98 insertions(+), 1 deletions(-)

commit 8ea450df98084b9e1db502933f3be0f1c5c50209
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 30 16:37:08 2007 +0000

    send IBB close message when closing an open stream
    
    
    20070430163708-7fe3f-e958cd02702a5aafc5055cbf4c9cfc78fe9d8004.gz

 src/bytestream-ibb.c |   24 +++++++++++++++++++++++-
 1 files changed, 23 insertions(+), 1 deletions(-)

commit d72869fc16185d11fa8cca1afde27886820645f6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 30 16:24:10 2007 +0000

    catch state-changed signal in dbus-tube
    
    
    20070430162410-7fe3f-b5b00799c4ec17a7b53778838698163063234ae7.gz

 src/tube-dbus.c |   15 +++++++++++++++
 1 files changed, 15 insertions(+), 0 deletions(-)

commit 1dbdb100a81a4523880a38489c5d6cf1352de686
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 30 16:15:39 2007 +0000

    prevent to change tube's bytestream during its lifetime
    
    
    20070430161539-7fe3f-457fe56eb5cade74c06a3c82f8369fa2efe39abf.gz

 src/tube-dbus.c |    9 ++++++---
 1 files changed, 6 insertions(+), 3 deletions(-)

commit 45f64d5d133d974bda72ba99c2106a2c2e4adc75
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 30 15:27:37 2007 +0000

    close IBB bytestream when dispose it
    
    
    20070430152737-7fe3f-8082eca0729f8df54a66cc86caa13dceacfbc0c4.gz

 src/bytestream-ibb.c |   15 +++++++++++++++
 1 files changed, 15 insertions(+), 0 deletions(-)

commit 826b753f9c2a5f21b967566c712895260110dad7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 30 15:25:15 2007 +0000

    BytestreamIBB: use the property setter to emit the state-changed signal
    
    
    20070430152515-7fe3f-6eb62740c735e00c5a3982d3f5f8a35d3b191ea6.gz

 src/bytestream-ibb.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 22c28598d92dd8d30f3a673a953c8dd49e70b116
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 30 15:11:51 2007 +0000

    BytestreamIBB replace the "closed" signal by "status-changed"
    
    
    20070430151151-7fe3f-8b94bb4c7d0c39dfd16a984cb4f1fe01c7e56309.gz

 src/bytestream-factory.c |   13 +++++++++----
 src/bytestream-ibb.c     |   13 +++++++------
 src/bytestream-ibb.h     |    1 +
 3 files changed, 17 insertions(+), 10 deletions(-)

commit c6e7b94b06ce96256d3917dc38504d9ee629d565
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 30 13:11:09 2007 +0000

    set his dbus name in SI reply so we can properly update dbus-names in private tubes
    
    
    20070430131109-7fe3f-91693e088659abb1ac63481e1f988e8a666308e7.gz

 src/bytestream-ibb.c |   35 ++++++++++++++------
 src/bytestream-ibb.h |    5 ++-
 src/tube-dbus.c      |   38 +++++++++++++++++++--
 src/tubes-channel.c  |   87 ++++++++++++++++++++++++++++---------------------
 4 files changed, 112 insertions(+), 53 deletions(-)

commit 54e964a0e2958e310f9c290a4c42acb3aab35568
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 30 10:59:47 2007 +0000

    update dbus-names and emit DBusNamesChanged when we receive a tube SI request
    
    
    20070430105947-7fe3f-ab2bd8d14cbc462f0ef489a00ae8a462f673db99.gz

 src/tubes-channel.c |   35 +++++++++++++++++++++++++++++++++--
 1 files changed, 33 insertions(+), 2 deletions(-)

commit 0557154c53225bbdf9b8618b27b95a9b542b6d59
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 30 09:24:22 2007 +0000

    BytestreamIBB: use a "state" property instead of just an "open" boolean
    
    
    20070430092422-7fe3f-66f0b360dd0af7379219e96674bf474d434e900e.gz

 src/bytestream-factory.c |   17 +++++++-----
 src/bytestream-factory.h |    2 +-
 src/bytestream-ibb.c     |   68 ++++++++++++++++++++++++---------------------
 src/bytestream-ibb.h     |   11 +++++++
 src/tubes-channel.c      |    6 ++--
 5 files changed, 61 insertions(+), 43 deletions(-)

commit c180ef898fbb38b51d8e35e8fd48c5c343e3757d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 17 17:48:06 2007 +0000

    fix conflicts with -tubes-cassidy
    
    
    20070517174806-7fe3f-b136899e17b8cbdab828ad032148f64b95c7e6ce.gz

 src/tubes-channel.c |   46 ----------------------------------------------
 src/util.h          |    4 ++++
 2 files changed, 4 insertions(+), 46 deletions(-)

commit 98ec95705124a845f90857185e21f2f2d2043b1d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 1 08:29:40 2007 +0000

    remove double empty lines
    
    
    20070501082940-7fe3f-ecad76948639566084c713bb1a38819997c04907.gz

 src/bytestream-factory.c |    1 -
 src/tube-dbus.c          |    1 -
 src/tubes-channel.c      |    9 ---------
 src/tubes-factory.c      |    2 --
 4 files changed, 0 insertions(+), 13 deletions(-)

commit ea36b5ba22cf2c38ee17126506893f84d56cd978
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 30 10:10:40 2007 +0000

    add_yourself_in_dbus_names: don't unref the name as we keep a ref on it in the hash table
    
    
    20070430101040-7fe3f-22d04dce2ef1d5f608b7dfc605f228793fc00207.gz

 src/tubes-channel.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit eaeb86d5c2ce06e5ca0a070f1d880525bc2f350f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 30 10:02:41 2007 +0000

    always emit the DBusNamesChanged when adding himself dbus names
    
    
    20070430100241-7fe3f-c06ecc718a0d7c01069299bbf8ca8a37cb13c7c1.gz

 src/tube-dbus.c     |    1 -
 src/tubes-channel.c |   77 ++++++++++++++++++++++++++++++++++++++++----------
 2 files changed, 61 insertions(+), 17 deletions(-)

commit 3c957ac361b30770bac1a92a9020cbd62caae939
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 27 13:22:16 2007 +0000

    esthetic trivial changes
    
    
    20070427132216-7fe3f-49612069a5b407774d03beae08fe74fca764f5a6.gz

 src/bytestream-ibb.c |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit bfc8eb8e570578940249049d2100c9aaf4fe9540
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 27 12:08:50 2007 +0000

    include self header first and fix header inclusion problems
    
    
    20070427120850-7fe3f-1ed4e3a14aab0b6a3c3c8e6ceb06633aeb8bb533.gz

 src/bytestream-factory.c |    6 ++++--
 src/bytestream-factory.h |    8 +++++---
 src/bytestream-ibb.c     |    4 +++-
 src/bytestream-ibb.h     |    4 ++++
 src/gabble-connection.c  |    1 +
 src/gabble-connection.h  |    4 ----
 src/gabble-types.h       |    3 ++-
 src/tube-dbus.c          |    3 ++-
 src/tubes-channel.c      |    4 ++--
 src/tubes-channel.h      |    3 +++
 src/tubes-factory.c      |    3 ++-
 src/tubes-factory.h      |    6 ++++--
 12 files changed, 32 insertions(+), 17 deletions(-)

commit 4ca9c8d3de2a8048ebaad77ff7de9cdb3100fbd6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 27 11:17:28 2007 +0000

    remove file transfer NS/cap/debug as we don't implement it yet
    
    
    20070427111728-7fe3f-9270c51f112bdb699e0d9b54d9e2e4c297027e2a.gz

 src/capabilities.c   |    1 -
 src/debug.c          |    1 -
 src/debug.h          |    1 -
 src/namespaces.h     |    1 -
 src/presence-cache.c |    2 --
 5 files changed, 0 insertions(+), 6 deletions(-)

commit ab04006d3ea6096bd2feabc78024bae1dc25e5d1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 27 11:10:05 2007 +0000

    some cosmetic changes
    
    
    20070427111005-7fe3f-17159e71abef172adb290119b8e59537f1e91597.gz

 src/bytestream-factory.c |   18 +++++++++---------
 1 files changed, 9 insertions(+), 9 deletions(-)

commit 0ac2de8b92c10a7a168fd6b079d716731222fbe2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 27 10:52:26 2007 +0000

    properly reject the stream if there isn't any supported stream method
    
    
    20070427105226-7fe3f-f2fc5ecee6da8afeb6006f24568597913ac09fd0.gz

 src/bytestream-factory.c |   38 ++++++++++++++++++++++++++++++++++----
 1 files changed, 34 insertions(+), 4 deletions(-)

commit 9db2d5d6491f5dbc90474f005b46c94813ca025c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 27 10:36:57 2007 +0000

    properly reject the stream if we don't support its profile
    
    
    20070427103657-7fe3f-0e51e11ec37ccdfdd5e4a1a05b127fa9e7249d93.gz

 src/bytestream-factory.c |   99 +++++++++++++++++++++++++++++++++++-----------
 1 files changed, 76 insertions(+), 23 deletions(-)

commit 6603f9485b3aa0344a5968b7091db63d13f4b11a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 27 10:17:09 2007 +0000

    always send the close signal in gabble_bytestream_ibb_close
    
    
    20070427101709-7fe3f-edf7bf237c346e5954a9d070081a4b4893859e77.gz

 src/bytestream-ibb.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit f43e61e9064a3b8df62710226ec42c0b556bfb60
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 27 09:45:32 2007 +0000

    rename and document SI functions
    
    
    20070427094532-7fe3f-051fa2b4ab2f623b3ef341710c04bf5ab68bd2fb.gz

 src/bytestream-factory.c |   53 +++++++++++++++++++++++++++++++++++++--------
 src/bytestream-factory.h |    6 ++--
 src/bytestream-ibb.c     |    4 +-
 src/tubes-channel.c      |    2 +-
 4 files changed, 49 insertions(+), 16 deletions(-)

commit d2951e8a7da1693b7df7350db82ff8134d0affd7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 27 09:14:22 2007 +0000

    use early returns when parsing stream methods to limit nesting
    
    
    20070427091422-7fe3f-ad0f33d4e9e9dbb9f94156e1e69fa3aaa48de155.gz

 src/bytestream-factory.c |   23 +++++++++++------------
 1 files changed, 11 insertions(+), 12 deletions(-)

commit 2d61498812e3564007b0539284f0741513f079cb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 27 09:04:00 2007 +0000

    rename LmMessageHandler* too
    
    
    20070427090400-7fe3f-dd19a0ce4cba2330b6738b89090805faeb9d360b.gz

 src/bytestream-factory.c |   26 +++++++++++++-------------
 1 files changed, 13 insertions(+), 13 deletions(-)

commit 44fb3a0b9cce8fc1fa292ac67cc0310b3b63f03f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 27 08:58:47 2007 +0000

    better naming/comments of lm cb
    
    
    20070427085847-7fe3f-132a0a2196656209637c325cf428886bd1c9c809.gz

 src/bytestream-factory.c |   34 ++++++++++++++++++----------------
 1 files changed, 18 insertions(+), 16 deletions(-)

commit 4eb43cb2b8e997638914a5ddab59f2cb4ca2395d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 27 08:51:55 2007 +0000

    remove a trailing space
    
    
    20070427085155-7fe3f-a31e1a8cb46d3e94c80a4949a27d594fda469c3c.gz

 src/bytestream-factory.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9ecd8a6137cdbd609ee0d8b29415d45374e9506f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 26 15:44:57 2007 +0000

    move SI accept stream init code to bytestream factory
    
    
    20070426154457-7fe3f-de0d5ee9d3965638824f6a381cf1193fdefe433a.gz

 src/bytestream-factory.c |   26 +++++++++++++++++++++++++-
 src/bytestream-factory.h |    4 ++++
 src/bytestream-ibb.c     |   19 ++-----------------
 3 files changed, 31 insertions(+), 18 deletions(-)

commit 3b9a0d78396751b1288f72b42c57d9e0e2f6a97f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 26 15:30:37 2007 +0000

    move SI decline message code to bytestream factory
    
    
    20070426153037-7fe3f-ef31d62344fb2c2a8c3b0dcba6726435a37a52db.gz

 src/bytestream-factory.c |   19 +++++++++++++++++++
 src/bytestream-factory.h |    4 ++++
 src/bytestream-ibb.c     |   15 ++-------------
 3 files changed, 25 insertions(+), 13 deletions(-)

commit da40d1123bc6acc26081d67f6b2fa6a9a67928f8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 26 15:21:07 2007 +0000

    fix functions declarations style in header files
    
    
    20070426152107-7fe3f-c8c25724394a3205234c969ccd0a6fb477dcbe74.gz

 src/bytestream-factory.h |   15 ++++++++-------
 src/bytestream-ibb.h     |   22 ++++++++++++++++------
 src/tube-dbus.h          |    7 +++++--
 src/tubes-channel.h      |    6 ++++--
 src/tubes-factory.h      |    6 ++++--
 5 files changed, 37 insertions(+), 19 deletions(-)

commit 904a8e3ee464edbbadd62e8bc45d37e0b4c6cf47
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 26 15:00:49 2007 +0000

    set gabble_bytestream_ibb_decline as static as it's the job of the close method to decline the bytestream if needed
    
    
    20070426150049-7fe3f-27c10bd94ea56eeb350de808e346812ef865bace.gz

 src/bytestream-ibb.c |   45 +++++++++++++++++++++++----------------------
 src/bytestream-ibb.h |    1 -
 src/tube-dbus.c      |   11 ++---------
 3 files changed, 25 insertions(+), 32 deletions(-)

commit 034e0efca3aab4d3c8d029fc767e6cbc7c74fa57
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 26 13:33:33 2007 +0000

    use lm_message_build in gabble_bytestream_ibb_decline
    
    
    20070426133333-7fe3f-961bdcd6a145e2cabff154b0dd4ffd9b15e9a2eb.gz

 src/bytestream-ibb.c |   30 +++++++++++++-----------------
 1 files changed, 13 insertions(+), 17 deletions(-)

commit b0d145fb3726576f27f5e46d43330dcbeb060848
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 26 13:17:58 2007 +0000

    use lm_message_build in gabble_bytestream_ibb_accept
    
    
    20070426131758-7fe3f-3210638973f58bf5f941a57903584734a167c2b6.gz

 src/bytestream-ibb.c |   38 +++++++++++++++++---------------------
 1 files changed, 17 insertions(+), 21 deletions(-)

commit 07ab304ebc9408e870b78fe940c90f64fd857101
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 26 12:56:06 2007 +0000

    use lm_message_build in IBB send_data_to
    
    
    20070426125606-7fe3f-7cd9a800c4d0d6e4e63594c0571b013729e58c17.gz

 src/bytestream-ibb.c |   46 +++++++++++++++++++---------------------------
 1 files changed, 19 insertions(+), 27 deletions(-)

commit b9c5a98087fa26e617bb9cf13a3bd6959e45c609
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 26 11:51:42 2007 +0000

    use lm_message_build in gabble_bytestream_factory_make_stream_init_message
    
    
    20070426115142-7fe3f-174a179df8afb32fc351e9892f5a7cd244b70d8a.gz

 src/bytestream-factory.c |   58 ++++++++++++++++++---------------------------
 1 files changed, 23 insertions(+), 35 deletions(-)

commit 20045e737dfc6b77d1ebd50f5ad8826ed29c9ff8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 26 11:19:03 2007 +0000

    we don't need to give the peer_handle as argument to gabble_bytestream_factory_negotiate_stream
    
    
    20070426111903-7fe3f-98bd428cd79b8cd2d6c66ca025f9a4fc76c331d8.gz

 src/bytestream-factory.c |   14 ++++++++------
 src/bytestream-factory.h |    2 +-
 src/tubes-channel.c      |    1 -
 3 files changed, 9 insertions(+), 8 deletions(-)

commit a01f04a24482c018b843a9509cf4d850563e0bcb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 26 11:03:30 2007 +0000

    remove lm_message_node_{new,free,ref,unref}
    
    
    20070426110330-7fe3f-e740d6d216d1bc3c1a5b292a74c9d5f502a828ce.gz

 src/util.c |   81 ------------------------------------------------------------
 src/util.h |    8 ------
 2 files changed, 0 insertions(+), 89 deletions(-)

commit efdac3c988ca8a64f59eeed1e643883968c8dada
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 26 10:59:22 2007 +0000

    factor out the SI msg creation from negotiate_stream so we can avoid to do insane stuffs with LmMessageNode
    
    
    20070426105922-7fe3f-4e6871ce8932f2e1ba69e9bded28f39a13eda9a8.gz

 src/bytestream-factory.c |   43 ++++++++-----------------------------------
 src/bytestream-factory.h |    8 ++++++--
 src/tubes-channel.c      |   31 ++++++++++++++++++++++++++-----
 3 files changed, 40 insertions(+), 42 deletions(-)

commit 4c50f5395fc56be94887c21e4d341c38c64665cd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Apr 24 11:50:21 2007 +0000

    remove base64.h include in tubes-channel.c
    
    
    20070424115021-7fe3f-bb259d6f03b858f18d6e629c33cfe19f04fd75bd.gz

 src/tubes-channel.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 549ecddd06c83bfa58bb62df692cf0dbaefb74d1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Apr 24 11:41:02 2007 +0000

    tubes-channel.c: use new mapping XML <--> HashTable functions from util.c
    
    
    20070424114102-7fe3f-671304b47a8c24f42c098bb29e36aa157b9ec136.gz

 src/tubes-channel.c |  162 +-------------------------------------------------
 1 files changed, 4 insertions(+), 158 deletions(-)

commit 9c7c54d06a08f801927981eb730399e8f48801c9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Apr 24 12:54:56 2007 +0000

    properly destroy and decline the stream if the tube offer is buggy
    
    
    20070424125456-7fe3f-7af401b47adbf3d0e64e5e7697fa7866f5c70853.gz

 src/bytestream-ibb.c |    8 ++++++++
 src/tubes-channel.c  |    8 ++++----
 2 files changed, 12 insertions(+), 4 deletions(-)

commit 8b9721d0250b3cb966e43294c2719e3048572f85
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Apr 24 12:28:41 2007 +0000

    catch send errors when trying to negotiate a stream
    
    
    20070424122841-7fe3f-fdda23971526dae657211fb7abd46c801b0571b3.gz

 src/bytestream-factory.c |   23 +++++++++++++----------
 src/bytestream-factory.h |    4 ++--
 src/tubes-channel.c      |   14 ++++++++++++--
 3 files changed, 27 insertions(+), 14 deletions(-)

commit f20a759f0b86680f3b3a65ff0893242ae9a92153
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu May 17 17:39:41 2007 +0000

    fix conflicts with HEAD
    
    
    20070517173941-7fe3f-8dec4f007da40f83c48df4f769e9fd0d224434df.gz

 src/util.h        |    8 ++++++++
 tests/Makefile.am |    8 +++++++-
 2 files changed, 15 insertions(+), 1 deletions(-)

commit e21dba06f503900f5e9d947b00924673acf2d793
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri May 11 10:57:33 2007 +0000

    Assert that D-Bus tubes have an initiator and a connection
    
    
    20070511105733-53eee-a559aafa690fe35c373fafdbb3fb90028d36c650.gz

 src/tube-dbus.c |   25 ++++++++++---------------
 1 files changed, 10 insertions(+), 15 deletions(-)

commit a8e3cb73f807dfe51cb16a924b297a04ef162f4b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 10 17:52:08 2007 +0000

    GabbleTubesChannel: add debug when people join and leave tubes
    
    
    20070510175208-53eee-4069b13d05a0e447a6dc19658636b5b9f05c37cb.gz

 src/tubes-channel.c |   10 +++++++++-
 1 files changed, 9 insertions(+), 1 deletions(-)

commit fc315029ffaf82c11711dd0c39f2ae287c209f6e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 10 17:44:35 2007 +0000

    GabbleTubesChannel: have extract_tube_information create the handle if necessary.
    
    This fixes the following failure:
    * you join a tubes channel
    * there is a tube whose initiator is A, also containing B
    * you receive B's MUC presence before A's
    * the initiator listed in B's MUC presence is A, who isn't in the handle repo
      yet, so the lookup fails and the tube (along with the announcement of B's
      bus name ":1.bbbbbbbb" in it) is ignored
    * you see the tube listed in A's MUC presence and decide to join it
    * you will now reject messages from B because they have sender name
      ":1.bbbbbbbb", but when B is looked up in the GHashTable of valid senders,
      the result is NULL
    
    20070510174435-53eee-f7887cab678b464889c3bb87c0b997f0f85b1209.gz

 src/tubes-channel.c |   13 +++++++++----
 1 files changed, 9 insertions(+), 4 deletions(-)

commit ae8b79d9c361205174277e8b115725780f06884f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 10 17:42:26 2007 +0000

    GabbleTubeDBus: when someone spoofs their sender address, be more helpful in the debug message
    
    
    20070510174226-53eee-ad0e7a6d06c70c78fa5dadaf446475610b50dd37.gz

 src/tube-dbus.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 80164b47f832a5235d87ef1972c077768e35dfc8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 10 17:41:57 2007 +0000

    GabbleTubeDBus: reference the initiator handle rather than borrowing it and hoping it doesn't go away
    
    
    20070510174157-53eee-25d3acf865a875989545f2420581861d19c859a8.gz

 src/tube-dbus.c |   34 ++++++++++++++++++++++++++++++++++
 1 files changed, 34 insertions(+), 0 deletions(-)

commit c09b23e2adfc938b2892b2c913bf40578a6df7ca
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 26 09:35:28 2007 +0000

    instanciate tubes and bytestream factories (re recorded)
    
    
    20070426093528-7fe3f-468ec58461e021bf623062da0843c86d320e549f.gz

 src/gabble-connection.c |   22 ++++++++++++++++++----
 src/gabble-connection.h |   17 +++++++++++++++++
 2 files changed, 35 insertions(+), 4 deletions(-)

commit 8add6de25fbd6c7cfd695ce0bfcfcc74b4e40bf9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 26 09:16:36 2007 +0000

    fix conflicts in capabilities and debug
    
    
    20070426091636-7fe3f-c5b170a577dbc35fd4a7d85e372cb2892ee44bab.gz

 src/capabilities.c |   14 ++++++++++++++
 src/debug.c        |    4 ++++
 src/debug.h        |    4 ++++
 3 files changed, 22 insertions(+), 0 deletions(-)

commit bb7e6ba739b5879b3ae8992ddd6294917500c087
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Apr 23 19:03:34 2007 +0000

    D-Bus tube: don't ignore messages with no destination address
    
    
    20070423190334-c9803-65947d145dce325a58cabc30d67a61c1a88091d0.gz

 src/tube-dbus.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit f41c56808296bfb6bb618667bc1bbc9128a87e4f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Apr 23 19:02:34 2007 +0000

    D-Bus tube: don't try to look up a destination JID for messages with no destination D-Bus address
    
    
    20070423190234-c9803-11fd5cce187badac1e4be6003a30e9230ad6c192.gz

 src/tube-dbus.c |   22 ++++++++++++++--------
 1 files changed, 14 insertions(+), 8 deletions(-)

commit 9c373f4e006f19b78032939379e0ae7ea4e065fe
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Apr 23 17:28:34 2007 +0000

    use channel self handle instead of connection self handle when offering tube
    
    
    20070423172834-c9803-745d59d3deb89bc40c56108895366a42f4d8cba3.gz

 src/tubes-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e49aefa3f7fc97781fa34816720e0bf3d6cd3e02
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 23 09:17:07 2007 +0000

    coding styles trivial fix
    
    
    20070423091707-7fe3f-965d14302c6a041326749d29c13b7f1d9fff609e.gz

 src/bytestream-factory.h |    2 +-
 src/bytestream-ibb.c     |    4 ++--
 src/bytestream-ibb.h     |    2 +-
 src/tube-dbus.h          |    2 +-
 src/tubes-channel.h      |    2 +-
 src/tubes-factory.h      |    2 +-
 6 files changed, 7 insertions(+), 7 deletions(-)

commit 57357f6a000d9b87688d2ad214448a65d5deeae3
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Apr 23 13:19:22 2007 +0000

    don't use AM_LDFLAGS for stuff which should be in *_LDADD
    
    I wish there were an AM_LDADD.
    
    20070423131922-c9803-1bd254070858b88a7dba945ec43e568217f87ca3.gz

 src/Makefile.am   |    6 +++---
 tests/Makefile.am |   13 ++++---------
 2 files changed, 7 insertions(+), 12 deletions(-)

commit 8fbb46804db73e57eb65987c45a71e6a7cd5cf6d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 23 08:36:17 2007 +0000

    remove useless test in configure.ac
    
    
    20070423083617-7fe3f-3c76399a4817736239df2486dd131fee08cb2e3e.gz

 configure.ac |    7 ++-----
 1 files changed, 2 insertions(+), 5 deletions(-)

commit 4521418a5f6156ac76506b66337caff585b2b1db
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 20 17:33:59 2007 +0000

    Add telepathy-glib-unstable as a soft dependency
    
    
    20070420173359-7fe3f-e92653e73534c63ed7d1d03ddbc5847c32288640.gz

 configure.ac    |   27 ++++++++++++++++++++++-----
 src/Makefile.am |    6 ++++--
 2 files changed, 26 insertions(+), 7 deletions(-)

commit 2ddf9eee45769fb304f257ed264cf2d1bb7eaf09
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 20 16:04:50 2007 +0000

    build tubes support if we find dbus_message_marshal in libdbus.so
    
    
    20070420160450-7fe3f-28645de820820985f66c52b961c9cbd41c5eebc5.gz

 configure.ac    |   12 ++++++++++++
 src/Makefile.am |   13 +++++++++++++
 2 files changed, 25 insertions(+), 0 deletions(-)

commit dde12a8f5d5a6d8dd9ebe1198860cffe42d21369
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 20 15:28:10 2007 +0000

    implement gabble_muc_factory_find_channel
    
    
    20070420152810-7fe3f-54c9a361810c4d3f808f15ef19a740b1ac5c3df2.gz

 src/gabble-muc-channel.h |    4 ++++
 src/muc-factory.c        |   29 +++++++++++++++++++++++++++++
 src/tubes-factory.c      |    2 ++
 3 files changed, 35 insertions(+), 0 deletions(-)

commit 3bc38eb5a1e18419ce5aaff0c9c5d61e708c2d96
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 20 14:20:32 2007 +0000

    include svc-unstable.h
    
    
    20070420142032-7fe3f-a1a34f39b18c563b94036691f2aee59331303c56.gz

 src/tube-dbus.c     |    2 +-
 src/tubes-channel.c |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 7b5f6aacae987635f56c48b04723498364002bc6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 20 13:46:24 2007 +0000

    doesn't include handles.h
    
    
    20070420134624-7fe3f-67cefd601e400b8844ffb5b1279a56052c999e31.gz

 src/bytestream-factory.c |    1 -
 src/bytestream-ibb.c     |    1 -
 src/tube-dbus.c          |    1 -
 src/tubes-factory.c      |    1 -
 4 files changed, 0 insertions(+), 4 deletions(-)

commit b70cea7aca5f53b78de23c3d8f6591d52c33ad50
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 20 13:41:43 2007 +0000

    build bytestream-factory and bytestream-ibb
    
    
    20070420134143-7fe3f-c4cbda93916dc2df80ab8643a7a181db1bd4668f.gz

 src/Makefile.am |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 7c4326936b0a5384e44a6352f66a77dbcc7c40cd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 20 13:38:56 2007 +0000

    add 2 new marshals
    
    
    20070420133856-7fe3f-d6a24f20f756ce9297176ea9e71f095d9c93e79c.gz

 src/gabble-signals-marshal.list |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 78341841f440f65046a04f3a7afe6c1e9fb63777
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 20 13:29:07 2007 +0000

    add some lm_message_node utility functions
    
    
    20070420132907-7fe3f-e86a2348b4cec8699ed9b6e25736b7382607009e.gz

 src/util.c |  126 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/util.h |    4 --
 2 files changed, 126 insertions(+), 4 deletions(-)

commit 489bc318e6c90bba30ba32bde33f98cef2e94ab8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 20 13:23:19 2007 +0000

    add tubes and bytestream debug flags
    
    
    20070420132319-7fe3f-a82dab4aae0364706b03dd9ec8e741d7a27e460a.gz

 src/debug.c |    1 -
 src/debug.h |    1 -
 2 files changed, 0 insertions(+), 2 deletions(-)

commit 76eebae22af28784c6374491404f86e789980fbd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 20 13:20:44 2007 +0000

    add tubes/SI caps
    
    
    20070420132044-7fe3f-73156ddf604c6bfd733a95d4ef49f373eb8adac1.gz

 src/capabilities.c   |   10 ----------
 src/presence-cache.c |   10 ++++++++++
 src/presence.h       |    2 --
 3 files changed, 10 insertions(+), 12 deletions(-)

commit ff800b9237c2d4e1297b68602ce18380564be561
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 20 13:15:44 2007 +0000

    add tubes/SI related namespaces
    
    
    20070420131544-7fe3f-d06418b286eef0003f36529719831f35431183f2.gz

 src/namespaces.h |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 17c6a2b54735013871f30ea5986583be78285a46
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 20 13:09:03 2007 +0000

    add tubes-factory.[ch]
    
    
    20070420130903-7fe3f-da04d21fc9115b330ab24216c669e621f54afe99.gz

 src/tubes-factory.c |  513 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/tubes-factory.h |   71 +++++++
 2 files changed, 584 insertions(+), 0 deletions(-)

commit 6c4a6487e163d69465c20e90f480db6666ce672e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 20 13:08:08 2007 +0000

    add tube-dbus.[ch]
    
    
    20070420130808-7fe3f-ad043a778427393b08de3bc08dcd5ad7ef5c4875.gz

 src/tube-dbus.c |  639 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/tube-dbus.h |   63 ++++++
 2 files changed, 702 insertions(+), 0 deletions(-)

commit 499389a4532184afacd0d8ad23b91c2f3f5dad8c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 20 13:07:29 2007 +0000

    add tubes-channel.[ch]
    
    
    20070420130729-7fe3f-920f39da7ac0d295b1ad01c388e510b871c5948a.gz

 src/tubes-channel.c | 1710 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/tubes-channel.h |   68 ++
 2 files changed, 1778 insertions(+), 0 deletions(-)

commit 64c15ad8cf223e89d8b1d3a7b5f0b3a7e021eaac
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 20 13:06:08 2007 +0000

    add bytestream-ibb.[ch]
    
    
    20070420130608-7fe3f-dcef80433d9dd599bebdc4c45e7e3ea368d9d011.gz

 src/bytestream-ibb.c |  619 ++++++++++++++++++++++++++++++++++++++++++++++++++
 src/bytestream-ibb.h |   72 ++++++
 2 files changed, 691 insertions(+), 0 deletions(-)

commit a08e7e6b13c4869d8fdd412909970c9c5fee3419
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 20 13:03:15 2007 +0000

    add bytestream-factory.[ch]
    
    
    20070420130315-7fe3f-61e300d381c510e665a3c1a8c7c0df32177dc7bc.gz

 src/bytestream-factory.c |  769 ++++++++++++++++++++++++++++++++++++++++++++++
 src/bytestream-factory.h |   85 +++++
 2 files changed, 854 insertions(+), 0 deletions(-)

commit a71982fb658acb075d5e1243226d2db3e3def482
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Oct 4 16:18:52 2007 +0000

    Re-sync from telepathy-glib (trivial)
    
    
    20071004161852-53eee-a1bc3bcc12cbc3aec2d9e6a49474a8c1920f000e.gz

 extensions/tools/c-constants-generator.xsl  |    2 +-
 extensions/tools/c-interfaces-generator.xsl |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 6789b1721604ed2c3083c78da184d921907cf95a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Oct 4 11:55:23 2007 +0000

    Sync doc-generator.xsl from telepathy-spec (add <a name=...> around signal, method headings)
    
    
    20071004115523-53eee-3e4f1dbd896c41c3fe4a85b824d5f765b9b8c6a5.gz

 extensions/tools/doc-generator.xsl |   37 +++++++++++++++++++++++++++++++++--
 1 files changed, 34 insertions(+), 3 deletions(-)

commit a557a7d637cbef9c64517b0b4f33a2cd8fd22a92
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Oct 4 11:54:55 2007 +0000

    Sync ls-interfaces.xsl, spec-to-introspect.xsl from telepathy-spec (comment-only changes)
    
    
    20071004115455-53eee-ef275efaf3a6901df38156f6ff478594556290d9.gz

 extensions/tools/ls-interfaces.xsl      |    2 ++
 extensions/tools/spec-to-introspect.xsl |   25 +++++++++++++++++++++++++
 2 files changed, 27 insertions(+), 0 deletions(-)

commit cdf630d918a01f470f83f14c98a8c553ffc12ae2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Oct 4 11:54:33 2007 +0000

    Sync tools from telepathy-glib (comment-only changes)
    
    
    20071004115433-53eee-9a5e0649a33e4db6717bec3fd1a25c68ea246707.gz

 extensions/tools/c-constants-generator.xsl  |    2 ++
 extensions/tools/c-interfaces-generator.xsl |    2 ++
 extensions/tools/genginterface.py           |   20 ++++++++++++++++++++
 extensions/tools/make-all-async.xsl         |   21 +++++++++++++++++++++
 4 files changed, 45 insertions(+), 0 deletions(-)

commit 467873d2fdc6afb0b15d76c65d95d6127472127c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Oct 2 17:31:59 2007 +0000

    add timestamps to debug messages if GABBLE_TIMING env variable is set
    
    
    20071002173159-c9803-c2a694a7fd08dde10532c21b0b971f141e370edc.gz

 src/gabble.c |   27 +++++++++++++++++++++++++++
 1 files changed, 27 insertions(+), 0 deletions(-)

commit b59302527783cabe4dab5cf0277d18bf358c7ba5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 28 16:28:37 2007 +0000

    Fix coding style in test-parse-message.c to fix `make check`
    
    
    20070928162837-53eee-35489093decc6753f94514787f4da53fffad3477.gz

 tests/test-parse-message.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7b1b542f34ecb8cb7577e8eab2ea9730f88dc14f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 28 16:26:01 2007 +0000

    Replace g_hash_table_remove_all() in a more reliable way (if detection fails for some reason, don't fail to compile)
    
    
    20070928162601-53eee-23615e5f00db05887677717d796a36968d645ada.gz

 src/conn-olpc.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 907102e47b7ff1e817cc27593354982164a992cb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 28 16:20:35 2007 +0000

    conn-olpc: include config.h for HAS_G_HASH_TABLE_REMOVE_ALL
    
    
    20070928162035-53eee-8024fc0f2ff823144077d709fcc451fd14aca72e.gz

 src/conn-olpc.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 0a6389accb36a89d731c28a549607a66f62afad0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 28 15:22:15 2007 +0000

    Bump version to 0.6.999.1 so we get -Werror
    
    
    20070928152215-53eee-041bb284f93da2fe68909ad9350bc9118edaf8da.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 6e3db26c3bd173418345f5caf1a97f571109a626
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Sep 28 09:05:18 2007 +0000

    version 0.6.999
    
    
    20070928090518-c9803-a1b9748247c7e4f4b6648f21718d6da1b17f6607.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 6028831d4cb91c443fa028ee172a8bfc91cff093
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Sep 28 08:47:59 2007 +0000

    version 0.6.0
    
    
    20070928084759-c9803-f11f2665c06470a347a2127845292642345542ee.gz

 configure.ac |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 61bb5e6ea651b3cb83c82b0263265a94ecc43151
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 26 14:01:44 2007 +0000

    Remove false comment from configure.ac
    
    
    20070926140144-53eee-f7988c89aed17cbd22627c70d1a9b27158a08b19.gz

 configure.ac |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 09d81381b41df9cccbf715ac8c689aa7475321de
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 26 13:24:51 2007 +0000

    test-vcard-set-and-get: ignore the AvatarUpdated signal with empty token caused by the initial vCard fetch
    
    
    20070926132451-53eee-839c0e770265dff53f47e928518e6f94dff4e652.gz

 tests/test-vcard-set-and-get.py |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 2c64e626855beb12895497d0b65694f90c6f28a2
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Sep 27 15:56:20 2007 +0000

    configure.ac: check for function presence instead of GLib version
    
    
    20070927155620-01440-9d24dc1b09c7f60f556f5c4bd8e77a122b7c59b0.gz

 configure.ac |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 6db8b3a2dd802522219799ecaa322e3d63f9dee3
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Sep 27 14:50:31 2007 +0000

    improved the g_hash_table_remove_all() detection
    
    
    20070927145031-01440-266a104d6887f93642adfebda8bd7e4a08c5ef2a.gz

 configure.ac    |    8 ++++----
 src/conn-olpc.c |    6 +++---
 2 files changed, 7 insertions(+), 7 deletions(-)

commit 48b4fb8cbc10cdc64a5535b784423fb8ca947c67
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Sep 27 13:47:59 2007 +0000

    Use replacement if g_hash_table_remove_all() isn't provided by GLib
    
    
    20070927134759-01440-e5046dc134246e99d801776ade7ab4bdd23eac29.gz

 configure.ac    |    5 +++++
 src/conn-olpc.c |   14 ++++++++++++++
 2 files changed, 19 insertions(+), 0 deletions(-)

commit 3a4df2954becfbc195fadfc325a5c6f3d2eefbcf
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Sep 27 15:03:28 2007 +0000

    use MessageTypeNormal for offline messages without type attribute that Google server sends
    
    
    20070927150328-c9803-8260c75354af8c7abbf781f8fe6d7bb9a7a63f92.gz

 src/text-mixin.c           |   12 +++++++++++-
 tests/test-parse-message.c |   38 ++++++++++++++++++++++++++++++++++++++
 2 files changed, 49 insertions(+), 1 deletions(-)

commit 22083c7a6f9dbf64c6d405310cf2ba130921f90a
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Sep 27 08:44:42 2007 +0000

    presence.c: properly include time.h
    
    
    20070927084442-01440-e559d4f76d9544068abdcfe6368c67c464ae5d24.gz

 src/presence.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 9fcae3de14df36a6793054eb68636aa839afe76d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 26 12:14:08 2007 +0000

    debug.h: use better definition of DEBUG and NODE_DEBUG in the non-debug case
    
    
    20070926121408-53eee-70f7fc7809654d1561daedc9d87d30916cdea696.gz

 src/debug.h |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit cf3ca513c8b1ac05cff2ab52817dbbaf02ef53f0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 26 12:13:16 2007 +0000

    debug.h: NODE_DEBUG: allow s argument to be non-literal (and don't break if it contains %)
    
    
    20070926121316-53eee-ff425df5b99330eda172e31dacebe00b3e3efd8f.gz

 src/debug.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f4e7b26bae53cfb771fcf8b6661051ef5d9caf27
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 25 17:56:01 2007 +0000

    Move debug message so it's after SHA-1 has actually been calculated
    
    
    20070925175601-53eee-f37987350f6c5607cd3e3cd3f18c2bee2b9f49ec.gz

 src/vcard-manager.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b8edc006f1dc6f64aa45ffe850cd017ba7340975
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Sep 25 16:16:24 2007 +0000

    add test for spurious new text channels
    
    
    20070925161624-c9803-d845d4694c598f4f765db86808d81f723e90b241.gz

 tests/Makefile.am          |    1 +
 tests/test-text-no-body.py |   68 ++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 69 insertions(+), 0 deletions(-)

commit 30473ff1987b97a7fe19d1debd3397dcd0615796
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Sep 25 16:13:19 2007 +0000

    don't create new text channel if we receive a message with a chat state but no body
    
    
    20070925161319-c9803-f7ec6226e6aec05cbdaabc37ce8c8fd8121991c9.gz

 src/im-factory.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 8439033050f295317d8844a7b59fce54d77ac305
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Sep 25 14:57:57 2007 +0000

    fixed merge conflicts
    
    
    20070925145757-01440-fb9cc15f3eccee21e4e7503873a3215215b3a110.gz

 tests/Makefile.am |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit c24647a921c64cfc8a1385f7e735622514e199c3
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Mon Sep 24 11:13:10 2007 +0000

    test-caps-update.py: make it clear that we don't depend on gabble version for the test
    
    
    20070924111310-01440-70ceca012331ab0c10b19ba92356137eec5f71f6.gz

 tests/test-caps-update.py |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit 02aa3ba05a67dbde46155c0aa9eab46ef1db44f0
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Mon Sep 24 11:11:20 2007 +0000

    presence-cache.c: simplify presence change detection, ensure we use newly created presence
    
    
    20070924111120-01440-e062e6f12ad9b0de4dfc9c733c98ad4d9eab6e19.gz

 src/presence-cache.c |   27 ++++++++++++++-------------
 1 files changed, 14 insertions(+), 13 deletions(-)

commit a03bb4100b5ae298860020cfa742a32d7588677c
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Sep 21 12:04:36 2007 +0000

    added test for CapabilitiesChanged signal emission
    
    
    20070921120436-01440-49638b9dd3da0d2abedaf8d7a3cfb4292c62902a.gz

 tests/Makefile.am         |    1 -
 tests/test-caps-update.py |   60 +++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 60 insertions(+), 1 deletions(-)

commit 846fc1d7aa67cc74be66f8fe1446a0e6d8efa81c
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Sep 20 15:27:43 2007 +0000

    presence-cache.c: emit capabilities update only once after all caps uris have been processed
    
    
    20070920152743-01440-01f4a42c0e5ebac2c9393e9fe664c8d6295bbce6.gz

 src/presence-cache.c |   36 +++++++++++++++++++++++++++++-------
 1 files changed, 29 insertions(+), 7 deletions(-)

commit 965450d193791ae48800f5f43ee4b32431a87564
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Sep 25 14:05:11 2007 +0000

    gabble_connection_dispose: free the vCard manager and the roster after the request pipeline, so that any callbacks from request cancellations can use them
    
    
    20070925140511-c9803-195ae35b5632199cbfe1453acd5d928e4d03f0a4.gz

 src/gabble-connection.c |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit b78f31a3d76c43e14b75a9659783da2793c5007c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Sep 25 14:03:02 2007 +0000

    vCard manager: emit got-self-initial-avatar even when our vCard doesn't contain an avatar
    
    
    20070925140302-c9803-58b78e9539f98a714dae743a9fa36f40b47d061d.gz

 src/vcard-manager.c |  109 ++++++++++++++++++++++++++------------------------
 1 files changed, 57 insertions(+), 52 deletions(-)

commit ceb0960e8f9339a47f3f442400dd66f0c554bbd0
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Sep 25 14:00:28 2007 +0000

    RequestAliases: ref the handles we're getting aliases for for the duration of the call
    
    
    20070925140028-c9803-6b1c6e5e38ecabbc3094edb5a88b3adbe219acfa.gz

 src/conn-aliasing.c |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit 22184535839ae7f987a7133688d7da1304347dee
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Sep 25 13:59:08 2007 +0000

    GetKnownAvatarTokens: store connection in request struct so that it's valid later
    
    
    20070925135908-c9803-dffb2c0aa955560f727ab1508e14c21d2f0eff34.gz

 src/conn-avatars.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 19be9875946d4b6945ade284f9a5300ea910a9ec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Sep 25 12:31:11 2007 +0000

    Add gabble-testing.log to _boring
    
    
    20070925123111-53eee-ade1b778c8584f36b30c9b312251ce7bd0acc1ab.gz

 _boring |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit a5eed7b11209e6ef912a4ddd5d35e736ae40d5bb
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Sep 25 11:19:18 2007 +0000

    GabbleRequestPipeline: remove misleading comment
    
    
    20070925111918-01440-b3c9961ff382321aba63047d75b74c4a54a0a7ca.gz

 src/request-pipeline.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 6898718a67200338beaa76d73cc106dba67b22e1
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Sep 25 11:16:18 2007 +0000

    gabble_connection_request_aliases(): fixed LmConnection ref leak
    
    
    20070925111618-01440-09e45e9f2da0dd0427e11d0e324adb4a527cc7b5.gz

 src/conn-aliasing.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 4ef4b8be32c11e57b2a5d9cf3d7e3119957798c6
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Sep 25 09:25:07 2007 +0000

    conn-aliasing.c: plug leak of PEP request array
    
    
    20070925092507-c9803-287882fb96c1c89d92e4ac623bbd5764fb6e2324.gz

 src/conn-aliasing.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 2e3a94df667c1367ade96838af7bdc8b17957efb
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Sep 25 09:02:29 2007 +0000

    plug memory leak in GetCapabilities
    
    
    20070925090229-c9803-0d9b9e8093da879d9790f0cb77eefb25bf003232.gz

 src/gabble-connection.c |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit 77225617e1035deab73e7a32f73b0169213a2e9a
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Sep 24 11:44:18 2007 +0000

    tests/Makefile.am: sort TWISTED_TESTS
    
    
    20070924114418-c9803-05f3872076e66c2cbc3320a80b297574a94a0835.gz

 tests/Makefile.am |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit d5763c445f9c597d46d73bb639a40c40f9600c44
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Sep 21 14:19:12 2007 +0000

    presence.c: separate caps filtering and resource ordering more logically
    
    
    20070921141912-01440-e3e63084335e9c4db6431d8e12a451320a2cd397.gz

 src/presence.c |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

commit 69ecd3bdb67c04aab5e108fc54bac5a29cd8666a
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Sep 21 12:54:50 2007 +0000

    test-gabble-presence.c: test for correct ordering of resources when picking for voip call
    
    
    20070921125450-01440-9a84744660c5bdff0641f23d09476572296612a3.gz

 tests/test-gabble-presence.c |   34 ++++++++++++++++++++++++++++++++++
 1 files changed, 34 insertions(+), 0 deletions(-)

commit ac0bfbb697d250b1b4878f6190c2133c3b28b8d8
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Sep 20 12:14:35 2007 +0000

    gabble_presence_pick_resource_by_caps: simplified resource comparison
    
    
    20070920121435-01440-b4661fe44030aca611f403b112371c4aeb6b49dc.gz

 src/presence.c |   36 ++++++++++++++++++++++++------------
 1 files changed, 24 insertions(+), 12 deletions(-)

commit 417c27a9fed7ce3883e4993a8136dace03fa8eb5
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Sep 20 08:08:55 2007 +0000

    GabblePresence: pick resource based on (presence, last activity timestamp, priority) ordering
    
    
    20070920080855-01440-5b9f1fb637f887d25b95cb86c04d52e44cf7e575.gz

 src/presence.c |   21 +++++++++++++++++----
 1 files changed, 17 insertions(+), 4 deletions(-)

commit 28fe6d61f5180fb163a01e1605ae998b6833ca47
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Sep 20 08:07:41 2007 +0000

    GabbleVCardManager: don't crash while updating vcard node if old one wasn't set
    
    
    20070920080741-01440-a694c55e2677c6a58649715e349fe9d7fe055394.gz

 src/vcard-manager.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit bf92c6184951ca5af10c5676c2784c1cba0d17b1
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Sep 19 16:05:36 2007 +0000

    GabbleVCardManager: don't expect that patched node exists in case of stream errors
    
    
    20070919160536-01440-ab124aa632b9cdd91df3b53f613da7e6062da2e2.gz

 src/vcard-manager.c |    9 ++++++---
 1 files changed, 6 insertions(+), 3 deletions(-)

commit 5185a3c74ff90338ad30d39bef87259100bf13ad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 12 16:55:14 2007 +0000

    Sync check-c-style.sh from telepathy-glib: use [:upper:] and friends instead of A-Z
    
    
    20070912165514-53eee-abdb417ae78fac3080a922ac3cb7dc2f8865eca0.gz

 check-c-style.sh |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit ffb2e72a0ceeafd21596eaa38e13f5ef7f98e838
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 12 16:51:53 2007 +0000

    src/Makefile.am: use [:upper:]
    
    
    20070912165153-53eee-ba9147fa291f5d4dcc307b759378d55501fb78b6.gz

 src/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 1c53d7899a6ebe58e02bae989d7f01d51f79b2fb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 12 16:51:38 2007 +0000

    extensions/Makefile.am: use [:upper:] and [:lower:]
    
    
    20070912165138-53eee-d64560fe7f2931260edb0636f0fc118c37e80c42.gz

 extensions/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2cb0761df7fe1c2a9dddb9dba66208743f5252d2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 12 16:22:14 2007 +0000

    Force coding style checks to be non-fatal until we get all the MACRO(foo) invocations replaced with MACRO (foo)
    
    
    20070912162214-53eee-f203caffc2e9d885fe8f0b564050d049cfcf0661.gz

 configure.ac |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 8e66994699dcef5618c0f55a81eca5fda8ff83e2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 12 16:22:14 2007 +0000

    Force coding style checks to be non-fatal until we get all the MACRO(foo) invocations replaced with MACRO (foo)
    
    
    20070912162214-53eee-96c7725a5de22524aa8e59495a4fd1d0bb846b49.gz

 configure.ac |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 8b1f0fa4f72c0426090d2ba3d9691ede3d4412bf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 12 15:34:01 2007 +0000

    Add write-only support for invite-restricted
    
    
    20070912153401-53eee-07fce7b1a8a457a970787814aeeaf6b7a2c5118b.gz

 src/gabble-muc-channel.c |   15 ++++++++++++++-
 1 files changed, 14 insertions(+), 1 deletions(-)

commit eaa13cb6c1ff448854a9c5728ce729aa084af468
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 7 11:27:03 2007 +0000

    Correct default TOP_SRCDIR in update-spec-gen-am.sh
    
    
    20070907112703-53eee-b89ab6c4bd5b563adaed33bfa6a38f6544fed7cc.gz

 extensions/tools/update-spec-gen-am.sh |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3e2678dab63f2195309f148865b2e551e064c121
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 7 11:24:53 2007 +0000

    Sync code-generation tools from telepathy-glib
    
    
    20070907112453-53eee-5e50f6c20363584a679c5a66760f50b570fb257e.gz

 extensions/tools/genginterface.py      |    2 +-
 extensions/tools/update-spec-gen-am.sh |    6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit ad112d26bcb3d6e862fd324d54b2e68f1be3dd19
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 6 11:39:50 2007 +0000

    Inline gabble_conn_aliasing_get_cached_pep_alias into its only caller, which is now in the same file
    
    
    20070906113950-53eee-a9f0fa526e8ddf80d1a0e22199858273db31d1a1.gz

 src/conn-aliasing.c |   22 +++-------------------
 src/conn-aliasing.h |    3 ---
 2 files changed, 3 insertions(+), 22 deletions(-)

commit bb41418273601edd64dcee4905f0d15ad780ce20
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 6 11:37:38 2007 +0000

    Move _gabble_connection_get_cached_alias to conn-aliasing.c
    
    
    20070906113738-53eee-6d8bd37c7620a332ecae5fed74e33f3fe996124c.gz

 src/conn-aliasing.c     |  127 +++++++++++++++++++++++++++++++++++++++++++++++
 src/conn-aliasing.h     |    3 +
 src/gabble-connection.c |  127 -----------------------------------------------
 src/gabble-connection.h |    3 -
 src/roster.c            |    1 +
 src/util.c              |    1 +
 src/vcard-manager.c     |    1 +
 7 files changed, 133 insertions(+), 130 deletions(-)

commit 0f3e5a868d33d7c3131e46643093a1898971abd7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 6 11:33:48 2007 +0000

    _gabble_connection_get_cached_alias: don't rely on having access to priv
    
    
    20070906113348-53eee-98e0b2d7bfceed14c7baa029e5fb5c96fe192ac9.gz

 src/gabble-connection.c |   21 ++++++++++++++++-----
 1 files changed, 16 insertions(+), 5 deletions(-)

commit fbac6d7a825430f3c65263c0f160d231d95f0d19
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 6 11:29:45 2007 +0000

    Move connection_nickname_update_cb to conn-aliasing.c
    
    
    20070906112945-53eee-9fd7bf03dcb7c4b3af213499e3ef61c2813a4169.gz

 src/conn-aliasing.c     |   77 +++++++++++++++++++++++++++++++++++++++++-
 src/conn-aliasing.h     |    3 ++
 src/gabble-connection.c |   86 ++---------------------------------------------
 src/gabble-connection.h |    4 --
 4 files changed, 82 insertions(+), 88 deletions(-)

commit 5dc0c2e410a8deecfcd9e09c917a34786a569aa1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Sep 6 17:31:16 2007 +0000

    version 0.5.14.1
    
    
    20070906173116-c9803-60e4941f67bf7ade0ecb553446b13d39401a6ce5.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f52be8d3a36e7d233c2b3d137ed7fc7c38411166
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Sep 6 15:03:59 2007 +0000

    version 0.5.14
    
    
    20070906150359-c9803-888589ad20ed5d4b4df12e051a1ab6b315abe308.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit a8f15c0843633e58fa713504da9a8461a40c24f0
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Sep 6 14:55:56 2007 +0000

    fix spurious coding style warning
    
    
    20070906145556-c9803-c49db59b0e2362df637323d3d5de7d44716e3d81.gz

 check-c-style.sh |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 10859c2c4da0238b12d62236e2ba123b84b1dd35
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 6 12:44:28 2007 +0000

    [cosmetic] newline before block
    
    
    20070906124428-53eee-762b05344e9dc2b89f063c71ade27aa2c41dd10e.gz

 src/conn-aliasing.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 642ab203509398aa94db98c351e6ac499244a682
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 6 11:13:58 2007 +0000

    servicetest: allow verbosity to be enabled via environment
    
    
    20070906111358-53eee-79c9ae54d5d67d629621c719bcaf5ac32e133675.gz

 tests/servicetest.py |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit aab27442887558996a121bc3ba2a43e52fe86028
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 6 11:12:16 2007 +0000

    conn-aliasing: [cosmetic] avoid complicated assign-on-declare
    
    
    20070906111216-53eee-788e83835f04ad2332bd0a376736d99fac1b215f.gz

 src/conn-aliasing.c |   10 ++++++----
 1 files changed, 6 insertions(+), 4 deletions(-)

commit 8f382abc832ece477d4c9fe4de150ab06a6bbb24
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 6 11:11:25 2007 +0000

    conn-aliasing: implement negative caching
    
    
    20070906111125-53eee-7b8817dbd16cff0ed77b538b48ddcf6267c4cd8e.gz

 src/conn-aliasing.c     |   56 ++++++++++++++++++++++++++++++++++++++++++++--
 src/conn-aliasing.h     |    3 +-
 src/gabble-connection.c |    3 +-
 3 files changed, 56 insertions(+), 6 deletions(-)

commit 5d67f1811543aefa2dd0cd5f23e8134e9a8e54b2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 5 18:07:29 2007 +0000

    Avoid requesting vCards if we already have them cached, which trips an assertion
    
    
    20070905180729-53eee-a58d96e525f369a2be95f7a40204b94424c037e4.gz

 src/conn-aliasing.c |   17 +++++++++--------
 1 files changed, 9 insertions(+), 8 deletions(-)

commit 18b2b2b358b1bd5d88ae134ad37b289c7c674a01
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 5 17:58:34 2007 +0000

    Don't re-request the vCard if we have it cached already
    
    
    20070905175834-53eee-f85500022cd2df5b35ce1c9408966ba3541cde79.gz

 src/conn-aliasing.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a370d0300fcb02f158330fbaef8e5f14ff19749f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 5 17:54:39 2007 +0000

    test-vcard-cache.py: cope with PEP alias support (unfortunately this triggers an assertion somewhere in the vCard code)
    
    
    20070905175439-53eee-14233438c017714f84f3405110c9ef6d9d7fa290.gz

 tests/test-vcard-cache.py |   43 ++++++++++++++++++++++++++++++++++---------
 1 files changed, 34 insertions(+), 9 deletions(-)

commit f4d08c4a2b25738d034cc4bbbf70b579feb69426
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 5 17:54:08 2007 +0000

    test-alias.py: improve namespace assertions, cope with attempted PEP alias fetching
    
    
    20070905175408-53eee-a12803c2b51beb6961023fb4aa7ad7dd9b7e0055.gz

 tests/test-alias.py |   22 ++++++++++++++++++++++
 1 files changed, 22 insertions(+), 0 deletions(-)

commit 7d6cf7321d1c7d7b872b6e02f2c2a940546c53c3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 5 17:53:51 2007 +0000

    Add test-alias-pep.py to Makefile.am (recorded separately to reduce conflicts)
    
    
    20070905175351-53eee-9230df9344060dc7005a12b6b7ecd7ab95079951.gz

 tests/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 7add3a9592d54890d52691645d0143d31cf433ca
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 5 17:53:33 2007 +0000

    Add test-alias-pep.py: testing that aliases can be fetched from PEP
    
    
    20070905175333-53eee-97a3e4a627cefc2f96de76fc83c4e74c9d474a70.gz

 tests/test-alias-pep.py |   77 +++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 77 insertions(+), 0 deletions(-)

commit 5b62b247a314128c681fc74b7c10264407f35572
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 5 17:53:16 2007 +0000

    Update test-alias-empty-vcard.py to cope with PEP aliases
    
    
    20070905175316-53eee-ddac891d4ba0fe22a6fb6ca3c4dbc238e78f06ff.gz

 tests/test-alias-empty-vcard.py |   19 +++++++++++++++++++
 1 files changed, 19 insertions(+), 0 deletions(-)

commit 86298e681b4b4d882693ffd7c433d4c2fd5720ae
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 5 17:53:01 2007 +0000

    Handle PEP errors correctly
    
    
    20070905175301-53eee-f497812da8b10f31b3e38d113bc34833e41b016e.gz

 src/conn-aliasing.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 483205d43f4658c3b3fb5bbc37fa221e7d4c813a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 5 17:22:38 2007 +0000

    Remove unnecessary check
    
    
    20070905172238-53eee-8223ac21da07f50ce5fd3e8153ba2b0cad12ff7e.gz

 src/presence-cache.c |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit aa1fd9d311d457e003a587fa64b0da7474de64ba
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 5 17:22:03 2007 +0000

    Explicitly look up PEP nicknames when looking for aliases, before requesting the vCard
    
    
    20070905172203-53eee-329a90af227ac591c27ba79bb411d0f1c3ecec9a.gz

 src/conn-aliasing.c |  104 +++++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 101 insertions(+), 3 deletions(-)

commit 85455c22a92ed5f2113d95444f0b0bd0a45f81a3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 5 17:20:41 2007 +0000

    Move PEP <nick> handling to conn-aliasing
    
    
    20070905172041-53eee-0fcf2b715c0eb7f5eae8e2bebacb7d3d1394ec99.gz

 src/conn-aliasing.c     |  107 +++++++++++++++++++++++++++++++++++++++++++++++
 src/conn-aliasing.h     |    7 +++
 src/gabble-connection.c |   26 +++++++++++-
 src/gabble-connection.h |    3 +
 src/presence-cache.c    |   28 ------------
 src/presence-cache.h    |    2 -
 src/pubsub.c            |    4 +-
 7 files changed, 144 insertions(+), 33 deletions(-)

commit 447d6445553b0f693369f8897ed22f21111b996f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 5 17:55:17 2007 +0000

    test-vcard-torture.py: don't use vcard['xmlns'] (doesn't work)
    
    
    20070905175517-53eee-f0d827b15bdb43038dd25d5a2d07d9aedcb18375.gz

 tests/test-vcard-torture.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 5cae0ff48b3d38688a01b7c33652faea7c95c078
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 5 15:34:18 2007 +0000

    Check for vCard namespace being vcard-temp
    
    
    20070905153418-53eee-3d960ac5604c4db3dc1858bfe444e0ee8123a4d7.gz

 tests/test-vcard-race.py    |    6 ++++++
 tests/test-vcard-torture.py |    2 ++
 2 files changed, 8 insertions(+), 0 deletions(-)

commit 893f147b7193aab1fc871d76730c9349911f0101
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Sep 5 15:22:50 2007 +0000

    Copy XMLNS in vcard_copy(), fixing inability to edit our vCard
    
    
    20070905152250-53eee-cd970433b3532b5ef7241698c055d703a5eff20e.gz

 src/vcard-manager.c |   13 +++++++++++--
 1 files changed, 11 insertions(+), 2 deletions(-)

commit 0e1bed3a682a3f0a5a263cd4595241dfe51760e1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 30 18:50:05 2007 +0000

    bump nano back to 1
    
    
    20070830185005-c9803-3a2999384b51ff3a27db7527a1c05b060baf0e64.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 34f726438a0db07fde9b9dc2e52b649f8d146ac1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 30 18:32:29 2007 +0000

    version 0.5.13
    
    
    20070830183229-c9803-e592cb7f975e7c8ce419b783d25db0db1a8dd211.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 6a34ab887d3a7cd454f78ce64bb4358b3f35ec44
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 30 18:22:09 2007 +0000

    request pipeline: remove idle handler on dispose
    
    
    20070830182209-c9803-7984295b355840df2ce167d4fdeffad95027d5b4.gz

 src/request-pipeline.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 0625b71fc3c81d326111d0902cd0381f1b847043
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 30 18:19:16 2007 +0000

    relax constraint in MUC alias test
    
    
    20070830181916-c9803-e910b431f6959db2141467028e8499bf090cd9cb.gz

 tests/test-muc-alias.py |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 98975afb74083f4d7afb76180816b13c342adbd3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Aug 31 10:46:53 2007 +0000

    coding style trivial fix
    
    
    20070831104653-7fe3f-29466d046abf84f4dde9bc9f5cb77ce13a19ffe3.gz

 src/conn-avatars.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 20df08f1723507072985aa04ba8b3919ce1b8e5f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 30 16:08:49 2007 +0000

    when ENABLE_DEBUG is not defined, define DEBUG to no-op statement
    
    
    20070830160849-c9803-63597a3133512f7fb1a40978e123a876229b3dd6.gz

 src/debug.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 09bb892a40bbe5f1164c1b8813e4689c829f9e63
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 30 15:11:56 2007 +0000

    add test for MUC aliases
    
    
    20070830151156-c9803-72057bffcdf806a88f3af56ec9469e4320c70950.gz

 tests/Makefile.am       |    1 +
 tests/test-muc-alias.py |   89 +++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 90 insertions(+), 0 deletions(-)

commit 52ae5ac96c3d316dbf698361bda806a038d47033
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 30 15:08:52 2007 +0000

    use exception.args[0] instead of exception.message, for Python 2.4 compatibility
    
    
    20070830150852-c9803-15be8ccde23332d728a051c1f570421d24ca0174.gz

 tests/test-vcard-cache.py       |    2 +-
 tests/test-vcard-set-and-get.py |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 064ff3298a3615808034be95f3180aa954bbc141
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 30 15:07:54 2007 +0000

    disable test-google-roster.py as it fails with Python 2.4
    
    
    20070830150754-c9803-47589d858813b9b877e71f915b9c17efe5d82461.gz

 tests/Makefile.am |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 8c03c413b41fcff7ac68395be4651895b4c4cd55
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 30 15:07:01 2007 +0000

    add check-all rule for convenience
    
    
    20070830150701-c9803-cce1b5a129646d2505e1bbaaa1c80778f54c2f48.gz

 Makefile.am |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 5c01270a70ffe106c35e4ec7bee2300ee2561b6f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 30 15:06:41 2007 +0000

    remove unused check-extra rule
    
    
    20070830150641-c9803-f5324f538cdd1b79d2b1b4496e2be8b77deb8ddf.gz

 Makefile.am |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 392c120532491cc96a28e5b43eff8fb30d6e61f7
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 30 15:06:14 2007 +0000

    make top-level check-twisted depend on all, not check
    
    
    20070830150614-c9803-21a404bbd96561932c40cb672398d4a28587c881.gz

 Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 08db06aa1c189a6b26e8c710f3809d02a41b1422
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 30 15:04:52 2007 +0000

    give MUC contacts their own alias source with higher priority than vCard
    
    
    20070830150452-c9803-6ddfc93c5db86a21441c43d9237a4a1f805d34b0.gz

 src/gabble-connection.c |   27 +++++++++++++--------------
 src/gabble-connection.h |    1 +
 2 files changed, 14 insertions(+), 14 deletions(-)

commit 25ebb2697287b3dc282193858142021732104d30
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Aug 30 14:17:37 2007 +0000

    GabbleVCardManager: dont register negative alias update if previous nickname wasn't set; observe newly patched vcard when server confirms it's properly updated
    
    
    20070830141737-01440-fe6f9a9a0aa356bc71a311a0f1f85f21e6691818.gz

 src/vcard-manager.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit f8cfa3a54db37bb04a1a7aba4c57887677953ac2
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Aug 30 11:52:00 2007 +0000

    gabbletest.py now properly stores set vCard; removed extra space in tests
    
    
    20070830115200-01440-2c8c95df6e803591a52e171e47e7cc89969986b5.gz

 tests/gabbletest.py             |    7 ++++---
 tests/test-vcard-cache.py       |    6 +++---
 tests/test-vcard-set-and-get.py |    8 ++++----
 3 files changed, 11 insertions(+), 10 deletions(-)

commit 4a782ec13526d40276129e0c133432eaa67cc917
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Aug 30 11:50:07 2007 +0000

    vcard-manager.c: removed extra space
    
    
    20070830115007-01440-67278d07c5fb15a9efea894846ad3a8f44e1accd.gz

 src/vcard-manager.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 608594f8739c725ded0b2b25c44e07a953b9ee97
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Aug 30 11:48:59 2007 +0000

    GabbleVCardManager: deep-copy original vCard before patching
    
    
    20070830114859-01440-96faf26f75ebcc826a21b431e2773280c9396c4f.gz

 src/vcard-manager.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit 74b132c35266662790c6936aa20d36cd9f0ffdff
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Aug 29 19:15:09 2007 +0000

    more vcard tests
    
    
    20070829191509-01440-67c1f36b8d9b5d597e6bade9153aaf1a9e6db7d6.gz

 tests/Makefile.am               |    3 +-
 tests/gabbletest.py             |   47 +++++++++++++++
 tests/test-vcard-cache.py       |   77 +++++++++++++++++++++++++
 tests/test-vcard-set-and-get.py |  103 +++++++++++++++++++++++++++++++++
 tests/test-vcard-torture.py     |  120 ++-------------------------------------
 5 files changed, 234 insertions(+), 116 deletions(-)

commit 46c5c04ddbcfc07566b5f7116c0849c8befbc94a
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Aug 29 19:07:53 2007 +0000

    GabbleVCardManager: specify number of vcard items in edit calls, instead of NULL-terminating the list
    
    
    20070829190753-01440-f0e03f143f319bd27bd179d89b04f87d1f8b313e.gz

 src/conn-aliasing.c |    2 +-
 src/conn-avatars.c  |    3 +--
 src/vcard-manager.c |   35 +++++++++++++++++------------------
 src/vcard-manager.h |    4 ++--
 4 files changed, 21 insertions(+), 23 deletions(-)

commit 96303d81acb423b312e655ca2ba932207aebc7e5
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Aug 29 17:26:47 2007 +0000

    GabbleRequestPipeline: make timeout/cancelled requests zombies instead of destroying them, so that eventual connection replies can be properly handled
    
    
    20070829172647-01440-ebc42b92e103162ace8f46539c64bed05dd89f03.gz

 src/request-pipeline.c |   23 ++++++++++++++++-------
 1 files changed, 16 insertions(+), 7 deletions(-)

commit 9eef990c4620bafa99a0ac2433e2e53d40027e0f
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Aug 29 17:03:39 2007 +0000

    GabbleVCardManager: get rid of redundant 'message' attribute in vcard cache entry
    
    
    20070829170339-01440-354bbb8d7eeb7df8caf2f93479c2f3c3ea312b25.gz

 src/vcard-manager.c |   32 +++++++++++++-------------------
 1 files changed, 13 insertions(+), 19 deletions(-)

commit d7d248880761541f999176b0d6e8a294e07769ad
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Aug 29 15:58:44 2007 +0000

    GabbleVCardManager: remove unused error param to the request function
    
    
    20070829155844-01440-e563e8c55b0e3f791cdf5301e522626190ea7499.gz

 src/conn-aliasing.c |   11 +----------
 src/conn-avatars.c  |    4 ++--
 src/vcard-manager.c |    8 ++++----
 src/vcard-manager.h |    3 +--
 4 files changed, 8 insertions(+), 18 deletions(-)

commit 6d7aeb630d48c0cfef2e986502186e1e3a65bc25
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Aug 29 15:56:35 2007 +0000

    GabbleVCardManager: hide newly-patched vcard until server confirmes we replaced the old one
    
    
    20070829155635-01440-270a7e6dd647458da5406d9f9d32c7d5f965ef93.gz

 src/vcard-manager.c |   60 ++++++++++++++++++++++++++++++++++++++------------
 1 files changed, 45 insertions(+), 15 deletions(-)

commit f85332ca00d4b9ad26910bacde4fb6e8528cf054
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Aug 29 15:55:46 2007 +0000

    vcard-manager.c: indentation cosmetics
    
    
    20070829155546-01440-32e6089382b4b74e3a1c19ff0bbe12c6c6b93caa.gz

 src/vcard-manager.c |   33 ++++++++++++++-------------------
 1 files changed, 14 insertions(+), 19 deletions(-)

commit 322a0a299e04d548cd16163f0b824345bdca3557
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Aug 29 15:54:37 2007 +0000

    vcard-manager.c: improved comments
    
    
    20070829155437-01440-49e243198dc93be9ff53a9535dcfdd1a54cae4a9.gz

 src/vcard-manager.c |   16 +++++++++++++---
 1 files changed, 13 insertions(+), 3 deletions(-)

commit 1bd939dd368095a8026fc33701e1b3a724bd76e2
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Aug 29 13:47:00 2007 +0000

    GabbleVCardManager: simplify edit_requests traversal, assert that we don't request vcards we already have cached, and fix for crash due to usage of invalidated cache entry
    
    
    20070829134700-01440-85b7874a8df86eee5cf1a2d845a1156e6159a16b.gz

 src/vcard-manager.c |   12 ++++++++----
 1 files changed, 8 insertions(+), 4 deletions(-)

commit ad2f928df89c1815da051b04c47b89cad5e63d7f
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Aug 29 11:13:19 2007 +0000

    fixed merge conflicts
    
    
    20070829111319-01440-8415f3fefc85a92fb48143ef15ab62ae88faf134.gz

 tests/Makefile.am |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 4fa8e8a937bb738bda073527df9da206470a76fe
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Aug 29 11:05:31 2007 +0000

    added new vcard test
    
    
    20070829110531-01440-0b9102367d1070f582be3b9218a99b29da6e259f.gz

 tests/Makefile.am           |    3 +-
 tests/test-vcard-torture.py |  165 +++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 166 insertions(+), 2 deletions(-)

commit c3b08e0f0adac295d60b99e3d127406fbac4905d
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Aug 29 11:02:07 2007 +0000

    use the new vcard editing interface in conn-avatars
    
    
    20070829110207-01440-d2105e88711d54ff51c18e7cf35cc3e9046b69df.gz

 src/conn-avatars.c  |    3 +--
 src/vcard-manager.h |   26 ++++++++++++++++++--------
 2 files changed, 19 insertions(+), 10 deletions(-)

commit 4a2e57e01ec31e4bf094758e4432abb44503e442
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Aug 29 11:00:35 2007 +0000

    first step in rewriting vcard setting code
    
    
    20070829110035-01440-2940d69b806495821b70ff36b9599905108a415c.gz

 src/vcard-manager.c |  490 +++++++++++++++++++++++++++++----------------------
 1 files changed, 280 insertions(+), 210 deletions(-)

commit 8f2154c441d600a54d1dc0e77818846b3dd17735
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Aug 29 13:08:17 2007 +0000

    exec-with-log.sh: save log to gabble-testing.log, not gabble-$$.log
    
    
    20070829130817-c9803-585477bfa60bbcf59632013263905ec3ddb40f2c.gz

 tests/exec-with-log.sh.in |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 812dd3ae680fbfe7566cc1a4f71845d5565803c8
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Aug 29 13:07:31 2007 +0000

    exec-with-log.sh: run Gabble under valdrind if GABBLE_TEST_VALGRIND is set
    
    
    20070829130731-c9803-9b93b0e08d4cd98f06d556d6f96d312011fb2063.gz

 tests/exec-with-log.sh.in |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit 0b49aff7b20f1ab47c9ac4068f6567762b4f6306
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 29 15:50:41 2007 +0000

    re add comment about gabble_g_hash_table_update tp-glib inclusion
    
    
    20070829155041-7fe3f-831d3e4fa6f00b4df0ec6e7e9a20ece6ac256626.gz

 src/util.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 80bd166e76c84709ddd879b5e798f2b6e84b58e5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Aug 29 15:44:32 2007 +0000

    use tp_g_value_slice_dup instead of our own implementation
    
    
    20070829154432-7fe3f-5ad8694fa4a0cf4d81916619a159e31f35557fed.gz

 src/conn-olpc.c |    4 ++--
 src/util.c      |   21 ---------------------
 src/util.h      |    1 -
 3 files changed, 2 insertions(+), 24 deletions(-)

commit 0f76df0145ff2c2df242af1b5df35c55a69252a6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 29 15:29:39 2007 +0000

    Require telepathy-glib 0.5.14
    
    
    20070829152939-53eee-f3ae8a645cc666af1342ad40a7b6d364fe5c31b7.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 0ef105a3ac25ad63411361308a3ebab8bd3e418e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 29 15:18:39 2007 +0000

    Regenerate _gen/enums.h and _gen/interfaces.h when the individual spec XML files change
    
    
    20070829151839-53eee-e51de8c0671c4a1cef8f485db2a2dc24b2103d4d.gz

 extensions/Makefile.am |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 8cbeefbfe1afc9160fd5864a9325bf5d07faa5dd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 15 11:14:54 2007 +0000

    Distribute TWISTED_TESTS in tarballs
    
    
    20070815111454-53eee-355131553c27950b9ff4e09f7ef00bc1d6c49436.gz

 tests/Makefile.am |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit fbb599e3fa02e391b8d70ad17f15dffbf2609f80
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 14 21:01:57 2007 +0000

    test-muc-ownership, test-muc-properties: apply the same fix as to test-muc
    
    
    20070814210157-53eee-4204ec3ab85057794b2e26bc3b4ad38cda577d46.gz

 tests/test-muc-ownership.py  |    3 +--
 tests/test-muc-properties.py |    3 +--
 2 files changed, 2 insertions(+), 4 deletions(-)

commit a79e29b424a25b3059a76b14445ecbfc006d4a01
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 14 17:38:42 2007 +0000

    test-muc: Relax assertion about exact event ordering
    
    
    20070814173842-53eee-076bc10b5a33c8ac38422bf265ec71b05ab0c90c.gz

 tests/test-muc.py |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit e754283cb4c753ec27b85e9c4f2be84129cbcbd0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 14 11:59:05 2007 +0000

    Add casts to keep compiler happy
    
    
    20070814115905-53eee-f38e7acb8dabed76e8bd14a89ba5ea0b29680b7f.gz

 src/conn-olpc.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 784639be57d42fcab97002cec0d3f2138038e5d0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Jun 27 09:07:58 2007 +0000

    conn-olpc: unknow -> unknown
    
    
    20070627090758-7fe3f-d9b4163e9b7cef05e6d406db56f98bcc544b6aae.gz

 src/conn-olpc.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3df04df295cf2dce8667f48ab43c29343f8e5753
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 14 11:52:49 2007 +0000

    conn-olpc: use gabble_g_hash_table_update and gabble_g_value_slice_dup instead of reinventing them
    
    
    20070814115249-53eee-0e7c6dc4c47a86f6ae5f375a2d2defd0d1ae3795.gz

 src/conn-olpc.c |   21 ++-------------------
 1 files changed, 2 insertions(+), 19 deletions(-)

commit be1619ac02527654461efafd1babee8810cf01c4
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Aug 29 11:08:59 2007 +0000

    fixing tests to allow first vcard request to come before the status has changed to connected
    
    
    20070829110859-01440-2c620e3966324525bfce0aaab339b800b23e4f93.gz

 tests/test-alias-empty-vcard.py |    3 ++-
 tests/test-alias.py             |    3 ++-
 tests/test-avatar-async.py      |    1 +
 tests/test-avatar.py            |    3 ++-
 tests/test-set-alias.py         |    3 ++-
 5 files changed, 9 insertions(+), 4 deletions(-)

commit e13c173532b759757447795d3a82e9f625df72f6
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Aug 29 11:03:01 2007 +0000

    test-vcard-race.py: connected signal can happen after first vcard request, fixing test
    
    
    20070829110301-01440-345ceba7be98487c2b7428037ac90fc6166e1342.gz

 tests/test-vcard-race.py |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit c4e814afe5b1859f6bb8beb83f940f307db0ad9c
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Aug 29 11:01:49 2007 +0000

    GabbleRequestPipeline: properly ref and unref messages
    
    
    20070829110149-01440-8d8bb3d158b3da93e03bb4eb609dccdd34d5db97.gz

 src/request-pipeline.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 90a30b3d469fe8f3894948c9130645fa70e2f445
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Aug 28 12:28:49 2007 +0000

    cosmetic and indentation changes
    
    
    20070828122849-01440-b03851bc093b95abd3f2b09762248a90ab311fb4.gz

 src/conn-avatars.c       |    8 ++++----
 src/gabble-muc-channel.c |    2 +-
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 477ce123bdea50016cfceaec95bc702943786b4a
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Aug 28 12:28:22 2007 +0000

    test-avatar-tokens.py: fix test description, remove unneeded id attribute from presence stanza
    
    
    20070828122822-01440-85df35916406345da3b84e99ec4295104ed59aa5.gz

 tests/test-avatar-tokens.py |    8 +-------
 1 files changed, 1 insertions(+), 7 deletions(-)

commit 67e4b1f5dc228982842f5b5e4c4d5ecd5cf7098f
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Mon Aug 27 21:32:56 2007 +0000

    Connection.Interface.Avatars: added GetKnownAvatarTokens() implementation, and test for it
    
    
    20070827213256-01440-c06ecc1007d7f52aa6cedb1da7bb2028f79db380.gz

 src/conn-avatars.c          |  131 ++++++++++++++++++++++++++++++++++++++++++-
 tests/Makefile.am           |    3 +-
 tests/test-avatar-tokens.py |   86 ++++++++++++++++++++++++++++
 3 files changed, 218 insertions(+), 2 deletions(-)

commit c9c6b5b51ca1f996bf41542c1733a1d851e105af
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Mon Aug 27 13:41:38 2007 +0000

    GabbleMucChannel: if unknown person changes the topic, set 'subject-contact' to 0
    
    
    20070827134138-01440-02031b8fe7a983f584cd9f045d32cb1eb27ccfb6.gz

 src/gabble-muc-channel.c |   23 ++++++++++++++---------
 1 files changed, 14 insertions(+), 9 deletions(-)

commit c0195cd9a71ec8e906fb88fbcc228b70d5cbb0e6
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Aug 17 18:38:05 2007 +0000

    GabbleMediaSession: if the session we initiated timeouts, we assume the callee didn't answer the call
    
    
    20070817183805-01440-c34ef267ea63909130cb7aa1e5d21dd3d2352c29.gz

 src/gabble-media-session.c |    8 ++++++--
 1 files changed, 6 insertions(+), 2 deletions(-)

commit 0dda9d18ab5d890ca2923c9913d45804cc019e2f
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Aug 24 13:28:37 2007 +0000

    Add a test for google roster workarounds
    
    
    20070824132837-01440-30a5837371ae6fe6deb99ae8daaa60f6b17ed82c.gz

 tests/Makefile.am           |    3 +-
 tests/test-google-roster.py |  145 +++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 147 insertions(+), 1 deletions(-)

commit d815c87e5cb5fa04ac20ac57f6cb0ff9657e5324
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Aug 24 10:30:21 2007 +0000

    roster.c: don't let gtalk demote subscribe channel member to remote pending
    
    
    20070824103021-01440-d21e021678fabab747f0d8eb2e92b72a1eac579d.gz

 src/roster.c |   10 +++++++++-
 1 files changed, 9 insertions(+), 1 deletions(-)

commit 1d4a9936768ed20a1686e0386ac9b82751a55e3e
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Aug 24 13:14:45 2007 +0000

    servicetest.py: properly reinsert lazy handler in the queue even if it's the last one
    
    
    20070824131445-01440-f9c6d949e8c2e6bf38f9fd606383938af0aed834.gz

 tests/servicetest.py |    8 +++-----
 1 files changed, 3 insertions(+), 5 deletions(-)

commit 710365d1d779d5ed6ee027256af750745ce615b1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 23 16:26:48 2007 +0000

    remove Group interface from assumed capability list; it should only include channel types
    
    
    20070823162648-c9803-e10d93cacef7297f4696897569640930f006e8d1.gz

 src/gabble-connection.c    |    1 -
 tests/test-capabilities.py |    2 +-
 2 files changed, 1 insertions(+), 2 deletions(-)

commit b0c2e67e824720ae3e84bcd369db0be3aa7a9c2c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 23 16:08:36 2007 +0000

    presence cache: emit capabilities-update if capabilities changed during presence update
    
    
    20070823160836-c9803-99c04c11bf244eae56667056bf4115e2c3dfd8b8.gz

 src/presence-cache.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 65e42379571ee53b858a74c392e34191bbce95bb
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 23 16:08:14 2007 +0000

    presence.c: update aggregated presence when resource is removed
    
    
    20070823160814-c9803-ddbcf7f7c5ac6057b80cf13fabdb871007f0dc52.gz

 src/presence.c |   13 +++++++++++++
 1 files changed, 13 insertions(+), 0 deletions(-)

commit 249525a03e865c8aaf958994ce866b448e2f3062
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 23 16:07:39 2007 +0000

    add test for capabilities interface
    
    
    20070823160739-c9803-ad076e9b1dc0ad3971d31191bdf38c2012dd9fde.gz

 tests/Makefile.am          |    1 +
 tests/test-capabilities.py |   92 ++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 93 insertions(+), 0 deletions(-)

commit d0994bb3f642d538dc05ef94a7771cabf02e2c28
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Aug 22 16:40:00 2007 +0000

    refactor Twisted test setup
    
    
    20070822164000-c9803-aef33cfc9e0054f8901f51f63c36a36034b61b9b.gz

 tests/gabbletest.py  |    3 ++-
 tests/servicetest.py |    3 +--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 68637e1fba3d779bc5f6a9fd8035092f1b3695e1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Aug 22 12:44:42 2007 +0000

    servicetest.py: re-insert skipped lazy handlers into queue after processing event
    
    
    20070822124442-c9803-59a113452edbba82aae2c2ce767e4b82c8d8c158.gz

 tests/servicetest.py |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 59d5cb386faa1718cd54d2c4d8b64fc282927323
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Aug 17 17:06:43 2007 +0000

    add test for setting alias
    
    
    20070817170643-c9803-2d66a638f0b2f9fe1807ae7c4f7e6d490a256776.gz

 tests/Makefile.am       |    1 +
 tests/test-set-alias.py |   57 +++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 58 insertions(+), 0 deletions(-)

commit 8b0cbd46ee30cca78d4cbed0e15b0a01d3e4eb9a
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Aug 15 13:52:19 2007 +0000

    add regression test for RequestAliases not returning on empty vCard
    
    
    20070815135219-c9803-9398aab7e71e5568f8d044a9fa66119a8decf803.gz

 tests/Makefile.am               |    1 +
 tests/test-alias-empty-vcard.py |   58 +++++++++++++++++++++++++++++++++++++++
 2 files changed, 59 insertions(+), 0 deletions(-)

commit eab59119affbc89f6225c46fc6263f3019d352b8
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 14 14:51:05 2007 +0000

    gabble_connection_request_aliases: remove code that should never be reached
    
    
    20070814145105-c9803-9ddca7b425e042cd1214741ebc7746e9cf3034dc.gz

 src/conn-aliasing.c |   13 -------------
 1 files changed, 0 insertions(+), 13 deletions(-)

commit d23d202e66210bd13c91bb2e57fc3151951fb12f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 14 14:25:10 2007 +0000

    add test for RequestAliases/AliasesChanged
    
    
    20070814142510-c9803-5931dd820f5f584cc0939149abf4428116da68aa.gz

 tests/Makefile.am   |    1 +
 tests/test-alias.py |   67 +++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 68 insertions(+), 0 deletions(-)

commit 1e570c01e926d13d5d6e82e868fef857cf167e02
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 14 11:37:12 2007 +0000

    vCard manager: don't skip negative alias caching if both old and new alias are NULL
    
    
    20070814113712-c9803-6a836f0d66bd8be348d92be0160f935bf515ab90.gz

 src/vcard-manager.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit bf1050d578db91f7a42a41ac7b046d64759ea2df
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 8 18:56:23 2007 +0000

    _boring: gabble-signals-marshal.list is boring
    
    
    20070808185623-53eee-7548bda1171ec3683e5187f121e45b04960239be.gz

 _boring |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 5efc2acbfc6dbfbaba16257ee49352d6737474d7
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Aug 7 17:53:01 2007 +0000

    room_jid_disco_cb: properly return from function in case of error
    
    
    20070807175301-01440-9673f253474ed296f71c5f481dec0bf6e56da95e.gz

 src/gabble-connection.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 28ea4567ddb36732850510a435a073fa54af639f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 6 16:09:55 2007 +0000

    gabble_xmpp_error_from_node: g_return_if_fail (error_node != NULL, INVALID_XMPP_ERROR)
    
    
    20070806160955-53eee-8e6af8662d2635b92ece8b105c06f5d530a388e2.gz

 src/gabble-error.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit ad037f96cb87d2d85e73f77682fb9d5c378c87b7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 6 15:39:27 2007 +0000

    Get rid of gabble-signals-marshal.list in distclean
    
    
    20070806153927-53eee-53fdd6e1dfbd7de32de206c0b9c51a167c196cb8.gz

 src/Makefile.am |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit efb5a8899984f116c597f8910a8e1a3866da4616
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Mon Aug 6 16:26:04 2007 +0000

    GabbleMucFactory, GabbleMucChannel: allow text message and subject change in the same message; prepare subject text and pass only used params to handle_subject; simplified error-reporting code in handle_subject
    
    
    20070806162604-01440-ea9a63324bb5e51042c91559fb954899b213bcdf.gz

 src/gabble-muc-channel.c |   19 ++++---------------
 src/gabble-muc-channel.h |    2 +-
 src/muc-factory.c        |   14 ++++++++++----
 3 files changed, 15 insertions(+), 20 deletions(-)

commit 4f3edeef985653dd7558046f08016702f27250ff
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Mon Aug 6 15:29:53 2007 +0000

    GabbleMucChannel: split room subject and muc message handling into separate functions
    
    
    20070806152953-01440-32142e73770b16810a809b28aea0fd15fbef2da5.gz

 src/gabble-muc-channel.c |  185 ++++++++++++++++++++++++++--------------------
 src/gabble-muc-channel.h |    3 +
 src/muc-factory.c        |    3 +
 3 files changed, 110 insertions(+), 81 deletions(-)

commit 14765ca7c0bc3264f9341e431324f9a3d6ca045a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 6 15:37:08 2007 +0000

    Get rid of useless variable when not debugging; it's not really any use when debugging either, so lose it completely
    
    
    20070806153708-53eee-7029a01975706e152cfe284c7932ce989407d852.gz

 src/vcard-manager.c |    6 ++----
 1 files changed, 2 insertions(+), 4 deletions(-)

commit c6bd6951f0494494226ff66bf17ad62478177f85
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 6 15:33:37 2007 +0000

    Now that the request pipeline works, pipeline up to 3 requests (that's how deep the vCard pipeline used to be)
    
    
    20070806153337-53eee-0ab759d4b7c35838f8477836f3e120ae820368dc.gz

 src/request-pipeline.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 85e9ad24617eb09081d66046bc07cc1cd3627e66
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 6 15:32:42 2007 +0000

    Move unref of request pipeline after that of code that uses it, now that referencing thinko has been fixed
    
    
    20070806153242-53eee-88d26d1c5abab335a917d126aef6c718e68e2b51.gz

 src/gabble-connection.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 8d235b94d812027770903e686a509d35f215293e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 6 15:32:04 2007 +0000

    When freeing vCard cache entries, cancel their corresponding pipeline item, if any (it has a pointer to them)
    
    
    20070806153204-53eee-f25de62753cbc2f47945d370776b70f3fe302e47.gz

 src/vcard-manager.c |    9 ++++++++-
 1 files changed, 8 insertions(+), 1 deletions(-)

commit f449bc6ea9c924092c5d631fd82d019428fb41ee
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 6 15:31:50 2007 +0000

    Remove unused gabble_request_pipeline_cache_quark
    
    
    20070806153150-53eee-102c45d94c418d995b2f5d5fc26c0c6a13887a47.gz

 src/request-pipeline.c |    9 ---------
 1 files changed, 0 insertions(+), 9 deletions(-)

commit 2909fc1cfc4f72a356d3f91c36fe0885bd3bd972
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 2 17:52:09 2007 +0000

    Put vCard requests through the request pipeline, and fix fd.o#11201.
    
    
    The bugfix is that we now coalesce multiple edits into one type="set" request,
    and keep applying edits to subsequent type="set" requests until they finally
    succeed or fail.
    
    20070802175209-53eee-77c82b76a32d34d348e7164b208088947df34e8c.gz

 src/conn-aliasing.c        |    2 +-
 src/conn-avatars.c         |   82 +----
 src/vcard-manager.c        |  997 +++++++++++++++++++-------------------------
 src/vcard-manager.h        |    9 -
 tests/test-avatar-async.py |   19 +-
 tests/test-avatar.py       |   15 +
 tests/test-vcard-race.py   |   52 +---
 7 files changed, 481 insertions(+), 695 deletions(-)

commit d1818108b1651dc618ac81f081e2e6e3ce9a3128
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 2 17:48:15 2007 +0000

    In gabble_g_hash_table_update, allow key_dup and value_dup to be NULL (meaning don't duplicate the pointer)
    
    
    20070802174815-53eee-13cd8bc53aab1aaae4232c2bec47a2455d154e8b.gz

 src/util.c |   10 ++++------
 1 files changed, 4 insertions(+), 6 deletions(-)

commit 4ff66ba2c0a06c9762c2cddf528146ef1db430e0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 2 17:47:47 2007 +0000

    Unref request pipeline earlier, so all requests are cancelled before the vCard manager is freed
    
    
    20070802174747-53eee-0d952fa7eb1a1b3333ea9ccc11b00e4837888b3f.gz

 src/gabble-connection.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 37b226f93616c9fb4a6181631059a95a79bc7fc6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 2 17:45:43 2007 +0000

    request-pipeline: correctly pass user_data to callbacks
    
    
    20070802174543-53eee-98b5ec67d2e378089dd1315a081b845c21c062ef.gz

 src/request-pipeline.c |   11 +++++++----
 1 files changed, 7 insertions(+), 4 deletions(-)

commit d5c7cc8610fe22a343e9cf17273974e42a6e4c32
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 2 17:45:28 2007 +0000

    request-pipeline: use DEBUG
    
    
    20070802174528-53eee-b88d26367a63c60aff332cb7cf383b373423ea4e.gz

 src/request-pipeline.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit d99ccc07f6602910c444d95d9f4bcac80c20778e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 17 10:54:19 2007 +0000

    Add a generic request pipeline (mostly written by Senko Rasic)
    
    
    20070717105419-53eee-42c9dceec0f6550ed0a44578717eefa968914bba.gz

 src/Makefile.am         |    2 +
 src/gabble-connection.c |    5 +
 src/gabble-connection.h |    8 +-
 src/gabble-types.h      |    1 +
 src/request-pipeline.c  |  398 +++++++++++++++++++++++++++++++++++++++++++++++
 src/request-pipeline.h  |   87 ++++++++++
 6 files changed, 499 insertions(+), 2 deletions(-)

commit 7872b27a4f9196df6172304993a775aa2993c40d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 13 15:30:11 2007 +0000

    Fix vCard race regression test
    
    
    20070713153011-53eee-0adc72209bbe2a0d54a45eb363744b9245628b0b.gz

 tests/test-vcard-race.py |   20 +++++++++++---------
 1 files changed, 11 insertions(+), 9 deletions(-)

commit ff3e970290570cd8477082fa1105e430215e327b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 13 13:09:58 2007 +0000

    Add a regression test (which currently fails) for the vCard updating race (fd.o #11201)
    
    
    20070713130958-53eee-82cc4fccf40047c5d947f6db1b685bd442fec14b.gz

 tests/Makefile.am        |    3 +-
 tests/test-vcard-race.py |  177 ++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 179 insertions(+), 1 deletions(-)

commit ec859e64cd3c6f7521e8e242f326a81bc4433ea2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jun 19 12:11:51 2007 +0000

    Resolve conflict in gabbletest: addition of start= vs addition of authenticator=, protocol=
    
    
    20070619121151-53eee-c08c79efe94d8f6d5a49f882f81304745866c993.gz

 tests/gabbletest.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d1feaee7c0a93b94528ca8e6defb2c0618faa8c8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jun 13 14:26:57 2007 +0000

    Add a test for calling SetProperties before we go CONNECTED
    
    
    20070613142657-53eee-450a4d414ad3959e54ea1c240c71068c6511403f.gz

 tests/Makefile.am                    |    1 +
 tests/test-olpc-set-props-preload.py |   60 ++++++++++++++++++++++++++++++++++
 2 files changed, 61 insertions(+), 0 deletions(-)

commit 9d2551062ba608edfd1305d3facf9bbd973d854c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jun 13 14:25:17 2007 +0000

    gabbletest, servicetest: Allow a custom callback to be run before starting the reactor, instead of hard-coding Connect(), so we can test pre-Connect things too
    
    
    20070613142517-53eee-29280bde9be8ce47d4d9138428690328ea16edf3.gz

 tests/gabbletest.py  |    4 ++--
 tests/servicetest.py |   10 +++++++---
 2 files changed, 9 insertions(+), 5 deletions(-)

commit 1bd5dfc95a05b7df884df1f0fe376cb51ca3e6df
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jun 13 14:24:32 2007 +0000

    gabbletest: give the fake server PEP support so we can test OLPC properties
    
    
    20070613142432-53eee-2c2c23e7d831811a14883ec801a403cc8b9542f1.gz

 tests/gabbletest.py |   10 +++++++++-
 1 files changed, 9 insertions(+), 1 deletions(-)

commit 913bf2f34e802b6a40db1166a8f0a7d053646b4a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jun 13 14:24:14 2007 +0000

    Allow OLPC Buddy.SetProperties() to be called before we go CONNECTED, in which case it will always succeed, saving the properties for later.
    
    
    20070613142414-53eee-4f7fd1f897ea5cc06c0cf945cfe601c07dee4d61.gz

 src/conn-olpc.c         |   97 +++++++++++++++++++++++++++++++++++++++++-----
 src/conn-olpc.h         |    2 +
 src/gabble-connection.c |    9 ++++
 3 files changed, 97 insertions(+), 11 deletions(-)

commit 8aa486e8879e9e9d6688b9c2772ed9b29e059ccc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jun 13 11:22:35 2007 +0000

    util: add gabble_g_value_slice_dup, gabble_g_hash_table_update
    
    
    20070613112235-53eee-abf5bd9213888a9c2fbe0c1ae0bc0993f62c8e8e.gz

 src/util.c |   69 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/util.h |    3 ++
 2 files changed, 72 insertions(+), 0 deletions(-)

commit 4692b78121aabe96027d323704a9d37de51682a1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 2 17:49:37 2007 +0000

    servicetest: log complete errors, not just the repr()
    
    
    20070802174937-53eee-c559c68f584dda3860c1123da50513562b3a91f9.gz

 tests/servicetest.py |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit a9fccd9d611ade7789e364fc99d7b2af0dbcd445
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 2 17:46:55 2007 +0000

    Add gabble_message_get_xmpp_error(); make gabble_xmpp_error_to_g_error() always return *something* for code simplification
    
    
    20070802174655-53eee-284a8c970662586d7ce470d1ddce88748e6bf146.gz

 src/gabble-error.c |   28 +++++++++++++++++++++++++++-
 src/gabble-error.h |    3 +++
 2 files changed, 30 insertions(+), 1 deletions(-)

commit 24c8599ec02d3e02deb4e77a66bdaf4b0a45e0c5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 17 10:53:20 2007 +0000

    _boring: add *.rej and src/gabble-signals-marshal.h
    
    
    20070717105320-53eee-2193b7437dd23ad22a2f7f09803ecadc0df5ada9.gz

 _boring |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 960a9555245aa6ba1ab009bcc3bf5f064d372974
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 13 16:34:20 2007 +0000

    Don't tp_get_bus_proxy() in gabble_vcard_manager_dispose (why was this ever here?!)
    
    
    20070713163420-53eee-cea70e3ab12a3a957cc97b40dc5c64fc2c1b6c85.gz

 src/vcard-manager.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 102f0b9ff812cb2da1a28ff7148d4e381d17e579
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 13 15:36:16 2007 +0000

    gabble-connection.c: index() is not ISO C, use strchr()
    
    
    20070713153616-53eee-f1ddeb8f0251a4cd0bb4d7157c1de4ff123f18f1.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9967ce8ee148949e9644ca263907cb9e132896f8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 13 15:30:03 2007 +0000

    base64_encode(): don't assume that the gchar * is NUL-terminated
    
    
    20070713153003-53eee-9ea330023ef8c3dee32fefc083c48684788361ba.gz

 src/base64.c        |    6 ++++--
 tests/test-base64.c |   34 ++++++++++++++++++++++------------
 2 files changed, 26 insertions(+), 14 deletions(-)

commit 7fca63c2790d803b306126a9e5c27a9c623fc361
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jul 13 12:58:05 2007 +0000

    Fix "make check" in tests: stop trying to grep the now-removed check-extra files. Do run style checks on the twisted tests, though.
    
    
    20070713125805-53eee-51627076e1681bed89bda0a09eb936c471673989.gz

 tests/Makefile.am |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit 1e59664c8f330a7603bc4d307c410373aa47057c
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Aug 1 05:54:18 2007 +0000

    gabble-media-session.c: change default session timeout to 60 seconds
    
    
    20070801055418-01440-46cd422e7ebda0192236a4296fd2b52819f777ef.gz

 src/gabble-media-session.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f93323d6781313f83661ebe3e2c0d7f08c351e61
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Jul 10 18:23:06 2007 +0000

    when searching for MUC servers in disco responses, only find those with type="conference" category="text" to avoid false-positives of stuff like IRC gateways
    
    
    20070710182306-418b8-a0174e3c155ba77c17b972fd39c79872e7719792.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b708f0af884cf780131caf09eb12e211c4dc108d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Jul 10 18:22:15 2007 +0000

    factor out the disco type -> xmlns function so we can deal with <disco:query xmlns:disco="..."> stanzas
    
    
    20070710182215-418b8-cd3f0cc0d62d858fdeab727c98ce4ac2317f07d7.gz

 src/disco.c |   33 ++++++++++++++++++---------------
 1 files changed, 18 insertions(+), 15 deletions(-)

commit 606c8cf499b5ed80bf39c2eae282d949d10954b7
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Jun 27 20:41:40 2007 +0000

    fix thinko in media codec emission in SetRemoteCodecs, set the type based on the stream's type
    
    
    20070627204140-418b8-9ee1e86706da6d7789bf8784b15ef49061edd3b9.gz

 src/gabble-media-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ba6e7479fc63b87ff939ddf17eb5f225acbd65e2
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Jul 13 11:28:38 2007 +0000

    tests: call Disconnect on connection interface
    
    
    20070713112838-c9803-3aca1f3b8c5efcd647af8b6318b568c9f02682c3.gz

 tests/test-text-delayed.py |    2 +-
 tests/test-text.py         |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 7072c07e2b00e2ff2219a1073b73b051c01e4f1b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Jul 13 11:27:27 2007 +0000

    test-muc.py: refactor
    
    
    20070713112727-c9803-3e02a13e11766c4e2f54fbe907d7e95e7c446439.gz

 tests/test-muc.py |   21 +++++++++------------
 1 files changed, 9 insertions(+), 12 deletions(-)

commit 7dfbb4c0fc055ef03deafebec7b759190358960a
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Jul 13 09:48:33 2007 +0000

    test-muc-ownership.py: refactor
    
    
    20070713094833-c9803-2d913ec85452d1fbd56087a31eb943c4321c124b.gz

 tests/test-muc-ownership.py |   21 +++++++++------------
 1 files changed, 9 insertions(+), 12 deletions(-)

commit 2872efb40ec63a757fa0554da788bbf5dbffeaf5
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Jul 10 17:27:27 2007 +0000

    test-muc.py: call Disconnect on connection interface
    
    
    20070710172727-c9803-dfd6659843adc74b9ffaf42daca7f5f5d0ffe6a1.gz

 tests/test-muc.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 74d7a0f9eeaff29a74e83a2ad942865fa65ee4ef
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Jul 10 17:26:12 2007 +0000

    gabbletest.py: add "to" attribute to presence events
    
    
    20070710172612-c9803-c9101d9c472baf30ac91e0d1656669b5920e48e3.gz

 tests/gabbletest.py |   10 +++++++---
 1 files changed, 7 insertions(+), 3 deletions(-)

commit d94011212c28fcd26f213dadd0ca5ef542bfd880
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Jul 10 17:24:30 2007 +0000

    add test for MUC properties
    
    
    20070710172430-c9803-44a7bcfd24c90c57a28e5bad41d0ec3771ea194a.gz

 tests/Makefile.am            |    1 +
 tests/test-muc-properties.py |  134 ++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 135 insertions(+), 0 deletions(-)

commit fb4ff0526c9d944b4540d9aff45826684cf08164
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Jul 10 17:14:15 2007 +0000

    gabbletest.py: add utility functions for IQ handling
    
    
    20070710171415-c9803-dd2ff8def8abe8bee672869808ccb48bf4af5645.gz

 tests/gabbletest.py |   13 +++++++++++++
 1 files changed, 13 insertions(+), 0 deletions(-)

commit 3bbdd83822ee7f30381faafce085a8ac560cfe11
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Jul 10 16:15:16 2007 +0000

    remove superfluous imports
    
    
    20070710161516-c9803-ac336e5dd1568af1f4ed0deb96a707ade5341ecd.gz

 tests/test-muc-ownership.py |    2 +-
 tests/test-muc.py           |    2 +-
 tests/test-roster.py        |    2 --
 3 files changed, 2 insertions(+), 4 deletions(-)

commit e6dd07fc679391dbd43bd7af8202fe4acb4a0019
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Jul 10 15:54:27 2007 +0000

    servicetest.py: refactor logging
    
    
    20070710155427-c9803-e1817461e87adc8af85a4f4ae90c2c623446f1f2.gz

 tests/servicetest.py |   36 +++++++++++++++---------------------
 1 files changed, 15 insertions(+), 21 deletions(-)

commit dd5b0264617b92c5379d5aa905ae0b09a79aebb3
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Jul 10 15:39:02 2007 +0000

    remove redundant Python test and the check-extra Makefile rule
    
    
    20070710153902-c9803-185017d5ba076447ec764483b1cbb94fbfe93320.gz

 tests/Makefile.am           |   12 -
 tests/dbustesting.py        |  609 -------------------------------------------
 tests/test-basic-connect.py |   90 -------
 3 files changed, 0 insertions(+), 711 deletions(-)

commit f563a30c827a7c2f27fbf3ecdbdce878cd9a4034
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Jul 10 13:44:28 2007 +0000

    servicetest.py: tweak logging
    
    
    20070710134428-c9803-589c04ffdbd677ce4843d405f926d05b7d3da4df.gz

 tests/servicetest.py |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 12541fdf1ab8016cf7bac8e6587f2d6fa485e145
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Jul 10 13:43:03 2007 +0000

    servicetest.py: restructure to avoid redundant logging
    
    
    20070710134303-c9803-7b8caf549fa1411197d7fb0e014889bdc080c6a9.gz

 tests/servicetest.py |   25 +++++++++++++++++--------
 1 files changed, 17 insertions(+), 8 deletions(-)

commit 08eeadb522ecd4612263face1a06410bac1e97a9
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Jul 5 15:07:17 2007 +0000

    gabbletest.py: add iq_type attribute to IQ events
    
    
    20070705150717-c9803-a8152d89c7de2f074eeba88d24b2cd21c205acc8.gz

 tests/gabbletest.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit c4fd66a7d35149d80695bdb9f57087d1b6fbb791
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jul 5 17:32:45 2007 +0000

    Fix out-of-tree builds; avoid unnecessary compilation by not always replacing signals-marshal.list
    
    
    20070705173245-53eee-d829e543e4a4ab1f6b76807a5a0ec005df8ca2f6.gz

 src/Makefile.am |   10 ++++++++--
 1 files changed, 8 insertions(+), 2 deletions(-)

commit 57f45c92b059c8a431d5806a1f42042de4761720
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jul 3 11:06:59 2007 +0000

    Generate gabble-signals-marshal.list from C sources
    
    
    20070703110659-53eee-c696927157a2c17a57988520eaa8b854a5c8df9a.gz

 src/Makefile.am                 |    8 ++++++--
 src/gabble-signals-marshal.list |    7 -------
 2 files changed, 6 insertions(+), 9 deletions(-)

commit aa3253d172ef876fa22ebdcfa117c938df7bd741
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Jul 3 12:40:46 2007 +0000

    add test for roster subscription
    
    
    20070703124046-c9803-42670797260af968672c340a426c453d10efd2af.gz

 tests/Makefile.am              |    1 +
 tests/test-roster-subscribe.py |   77 ++++++++++++++++++++++++++++++++++++++++
 2 files changed, 78 insertions(+), 0 deletions(-)

commit 00580318f7bf1b72589dcf283dea4473d4e1c1fd
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Jul 4 17:37:20 2007 +0000

    roster.c: add types to declaration of gabble_roster_factory_iface_init
    
    
    20070704173720-c9803-8ad383e506d08a2d2548f3c36794efac330ac1e7.gz

 src/roster.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit c0223b788ef07cde892e17c19a91aebd1c089fc5
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Jun 29 13:52:28 2007 +0000

    add test for registration
    
    
    20070629135228-c9803-2d02b6fde91ac3dafe6325ab0536283ac0c6694e.gz

 tests/Makefile.am      |    1 +
 tests/test-register.py |   49 ++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 50 insertions(+), 0 deletions(-)

commit 0ae273ff6596c28e49a441fd050a23b0ab3c0b69
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Jun 29 13:50:28 2007 +0000

    tests/Makefile.am: sort TWISTED_TESTS entries
    
    
    20070629135028-c9803-817b33770483e68706fea904d4aca6995ca451a3.gz

 tests/Makefile.am |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit 7b1ee49c638cafc553183872674f0dbbad92e8cd
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Jun 29 13:02:13 2007 +0000

    fix typo in comment
    
    
    20070629130213-c9803-8a8e8a581fd1fd96f02f9d7d56fbfce5ee655006.gz

 tests/gabbletest.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 47141d7bd13c126c4cc55af7e9dae113653e0c86
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jun 21 15:54:09 2007 +0000

    conn-avatars: RequestAvatars: data[] is a gchar*, not a TpHandle[], so use the appropriate macro to dereference it. Fixes a crash when more than one avatar is requested.
    
    
    20070621155409-53eee-3811e1f3b64c4e70ecdaa7b1b421bde1b0ebd2b2.gz

 src/conn-avatars.c |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit 57e35fffe2a4c3d9929495e1fdee88fb844fd0be
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Jun 20 12:24:06 2007 +0000

    correct tests/README to actually be correct
    
    
    20070620122406-418b8-96c661538236e901c8a259ca909dbc17dbdb7772.gz

 tests/README |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 7aa64d2c8ffa2e8ed3a72fa1a89f2750539b8b84
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Jun 20 12:19:16 2007 +0000

    update set status test to new @match format
    
    
    20070620121916-418b8-813d461cdfd4ed1e69869c1f6719f3a55037af08.gz

 tests/test-set-status-idempotence.py |   63 ++++++----------------------------
 1 files changed, 11 insertions(+), 52 deletions(-)

commit df0aa3ed35bc3e8c0297be4ec21b69e2e3b4f3f0
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Jun 20 12:18:18 2007 +0000

    tweak indentation
    
    
    20070620121818-418b8-895d720be9305c1190286d2228a0e5db67109855.gz

 tests/test-set-status-idempotence.py |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 2a4747b759e2d05aed878aed2f1f24179fdfea3a
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Jun 20 11:49:46 2007 +0000

    add test case to set status test which calls SetStatus with available and no optional arguments
    
    
    20070620114946-418b8-e1f66a54cf4041f1cc2a1612001cb262eaaa8c89.gz

 tests/test-set-status-idempotence.py |   21 +++++++++++++++++++++
 1 files changed, 21 insertions(+), 0 deletions(-)

commit 1d6aea2173a436bd30654b198a511a99919f85ae
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Jun 20 11:49:01 2007 +0000

    tweak set status test to store the presence dbus.Interface in the data dict, for reuse
    
    
    20070620114901-418b8-56d33a6911c5ecbd1aad76011338596b13d4fede.gz

 tests/test-set-status-idempotence.py |   11 ++++-------
 1 files changed, 4 insertions(+), 7 deletions(-)

commit a651677dda4d98ecc439cf8b0687f32049c8296d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Jun 20 11:48:23 2007 +0000

    correct readme for tests to have run-with-tmp-session-bus.sh instead of run-with-tmp-session-bus.py
    
    
    20070620114823-418b8-d0330078763cde5537a49a223ae1cf5a6feef6e2.gz

 tests/README |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 5d4b8711077392d32d1dd3517adb959135694325
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Jun 20 11:47:48 2007 +0000

    make set_own_status function safe against the status having NULL optional_arguments
    
    
    20070620114748-418b8-5ad4e04746d07b73c4902b01f3907843a8853e3c.gz

 src/conn-presence.c |    9 +++++++--
 1 files changed, 7 insertions(+), 2 deletions(-)

commit 03c03e9d5c75067c2eefa0b29d1be87d597ad513
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jun 19 12:02:37 2007 +0000

    Increment version to 0.5.12.1 for development
    
    
    20070619120237-53eee-56c760de431dafbbad1de05e3755ff66e87abfd0.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 421b0c6734efa917594d1c4d83fcee0883f9bcf9
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Jun 15 13:01:13 2007 +0000

    test-muc.py: use new IQ event attributes
    
    
    20070615130113-c9803-feee0cb03b2b51e0434c0ed293399567c1f9e15b.gz

 tests/test-muc.py |   19 +++++--------------
 1 files changed, 5 insertions(+), 14 deletions(-)

commit f24dc42c61aa2d34391a889149e201e758f976ed
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Jun 15 13:00:46 2007 +0000

    bump version to 0.5.12
    
    
    20070615130046-c9803-f892ad27a184aba1012d097f6faa85745947d788.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit c912f06c742168864ba9d76fae0f74c83e287869
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Jun 15 12:58:55 2007 +0000

    MUC chanel: set HANDLE_OWNERS_NOT_AVAILABLE by default; remove it when we know the owner of at least one handle
    
    
    20070615125855-c9803-d127b7d2e94a676258f6d081d6b6880a7bc006eb.gz

 src/gabble-muc-channel.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 1adc91660193cb57c8d8b21d7d9821f405b712e9
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Jun 15 12:56:59 2007 +0000

    add MUC handle ownership test to suite
    
    
    20070615125659-c9803-cb84fe822c07ae3f19bb17dc378a3eda0b63e109.gz

 tests/Makefile.am |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 62e8b8ddfa875c4038df3ea2e426e8f46510fb53
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Jun 15 12:56:31 2007 +0000

    add test for MUC handle ownership
    
    
    20070615125631-c9803-d4a3854bc853fbde55f8815a74d094d340a3737a.gz

 tests/test-muc-ownership.py |  123 +++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 123 insertions(+), 0 deletions(-)

commit da1206dc2fa7ebd07edb78f38d2b4b9155110946
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Jun 14 22:40:38 2007 +0000

    make loop more idiomatic
    
    
    20070614224038-c9803-2e74d6652c2596ff2484c13e501bf1e01c3802dd.gz

 src/disco.c |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit 41ef9196a874d84ad7d3f7ca4e7a42fbf2a76d39
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Jun 14 22:38:08 2007 +0000

    test-roster.py: use @match/new IQ event attributes
    
    
    20070614223808-c9803-196e81af3dfeb4c0794f7c4c63ac24c640385db6.gz

 tests/test-roster.py |   55 ++++++++++---------------------------------------
 1 files changed, 12 insertions(+), 43 deletions(-)

commit 1f39b07995a5d3c2c236417f8a90a8d907d432be
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Jun 14 22:34:50 2007 +0000

    fix docstring
    
    
    20070614223450-c9803-e389d8045da6e8f61611928b0110696af00c34e7.gz

 tests/servicetest.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3216aae530f850d3cb2a5f51cf61c76bbddcd03c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Jun 14 22:24:01 2007 +0000

    gabbletest.py: extract to attribute/query node/query xmlns for IQ events
    
    
    20070614222401-c9803-f57b4c0ba6a92793edbe70f5d2373d1a2f30844a.gz

 tests/gabbletest.py |   13 ++++++++++++-
 1 files changed, 12 insertions(+), 1 deletions(-)

commit f0a33c5d68c1efc7ab31095784a128c9f0caef93
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Jun 14 22:23:27 2007 +0000

    servicetest.match(): pass through extra arguments to event handlers
    
    
    20070614222327-c9803-d0202efe81d3c97dd2ee278a145bb2e5367b25dd.gz

 tests/servicetest.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 7d0f8a21468906b74bf7a8c721891c0fb7c5775d
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Jun 14 15:25:58 2007 +0000

    staticify functions
    
    
    20070614152558-c9803-2026c7d9e49aa1b6459933c79f85af4eefda5fe1.gz

 src/gabble-roomlist-channel.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 0ffa2987174d6ff72f67fb1a9da79a50caa73f79
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Jun 13 14:11:17 2007 +0000

    test-muc.py: use @match
    
    
    20070613141117-c9803-b09859e325a108f8004526954fd455e2331cca68.gz

 tests/test-muc.py |   61 ++++++++--------------------------------------------
 1 files changed, 10 insertions(+), 51 deletions(-)

commit 37015e5a8e214ff8cdd8b6da5005ff1be0c91f01
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Jun 13 14:08:09 2007 +0000

    gabbletest.go(): allow overriding protocol/authenticator
    
    
    20070613140809-c9803-28f0acc740e0bad7ab7b0c831e4718455519dbf4.gz

 tests/gabbletest.py |   11 ++++++++---
 1 files changed, 8 insertions(+), 3 deletions(-)

commit 4bf3ff1cc25038d8158a98225dedcbeab61fe8a4
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Jun 12 17:10:51 2007 +0000

    add hack so that Element objects are printed to XML in test debug logs
    
    
    20070612171051-c9803-977220e27b2e21a5bf233c70e1f45bdc6c00efc4.gz

 tests/gabbletest.py |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit a86737e28959c1b1eea99a936419dbf52bdc191e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Jun 14 15:31:35 2007 +0000

    lm_message_node_extract_properties: use g_value_set_uint and no g_value_set_int if the type is "uint"
    
    
    20070614153135-7fe3f-a534c3cf39b2f3b3362d8662b6d5bb6f103f8825.gz

 src/util.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 1e483510931c92f6184fc470c2746b9bd6a12610
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jun 13 14:26:27 2007 +0000

    _boring: ignore extensions/extensions.html
    
    
    20070613142627-53eee-a7013d5df58a26704f0531fcb57b3e13c0fa8216.gz

 _boring |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit ec09d36dde5c1869d0019dc93721c23731cebe3b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jun 7 12:11:52 2007 +0000

    Update genginterface.py from telepathy-glib
    
    
    20070607121152-53eee-7a8f6fdfa9b99b3f42ad57f604e3524dbad64a7f.gz

 extensions/tools/genginterface.py |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 615b1e84478741982dbb104fed94433c6344b6f8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jun 7 12:06:57 2007 +0000

    Update c-constants-generator from telepathy-glib (requires --stringparam mixed-case-prefix)
    
    
    20070607120657-53eee-d47b0efb1491847762152b90f5824169a45d4012.gz

 extensions/Makefile.am                     |    1 +
 extensions/tools/c-constants-generator.xsl |   47 ++++++++++++++++++---------
 2 files changed, 32 insertions(+), 16 deletions(-)

commit 46e3593675376e0deb59d0fa20a794fd0779d0af
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jun 7 11:43:13 2007 +0000

    Update c-interfaces-generator.xsl from telepathy-glib - it now takes a --stringparam to set the prefix for interface constants
    
    
    20070607114313-53eee-4434b4f32c1df90a9f52177984e94b8c8ed8a1a3.gz

 extensions/Makefile.am                      |    1 +
 extensions/tools/c-interfaces-generator.xsl |   51 ++++++++++++++++++++-------
 2 files changed, 39 insertions(+), 13 deletions(-)

commit abc9db561e1a48844ff1dbb9682c83f19a887a36
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jun 6 17:28:30 2007 +0000

    extensions/Makefile.am: get all.xml from $(srcdir)
    
    
    20070606172830-53eee-75218bf3ad28ae3876450e52f1e8112876ff6e99.gz

 extensions/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 042ab4b4ef33e925866f003ea4b967c4faa88006
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jun 6 12:20:51 2007 +0000

    OLPC_Buddy_Info.xml: explicitly specify that unchanged properties are included in PropertiesChanged
    
    
    20070606122051-53eee-b3a35b29ef21339b798ad3be09ffd43e70dae2ed.gz

 extensions/OLPC_Buddy_Info.xml |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit b1451f91dc95a9f06f661d21ff3fa66b244fc9fa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jun 6 11:59:35 2007 +0000

    Add paragraphing to SetProperties() docstring
    
    
    20070606115935-53eee-4ea63335d146f5aa30c3162fa55347cea7ea0bb2.gz

 extensions/OLPC_Buddy_Info.xml |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit d75bda10f97ad70b619b91431d1e3120be1bc386
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jun 6 11:58:03 2007 +0000

    Explicitly specify that SetProperties is a "replace", not "update" operation
    
    
    20070606115803-53eee-4fca38b88749be1c4bb6e5f063608f366c3c97ec.gz

 extensions/OLPC_Buddy_Info.xml |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 84cf985aed1b57e9d5c5c9e769603f8824f073c7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri May 11 13:45:21 2007 +0000

    Add JID to OLPC buddy info extension
    
    
    20070511134521-53eee-a83e909ee9dac63746a5b9077b4d8ad5aea3b8f7.gz

 extensions/OLPC_Buddy_Info.xml |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit b21e5c4faf82f52b893c6252d159e388cc79616f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jun 6 10:14:41 2007 +0000

    Textual tweaks to the BuddyInfo specification
    
    
    20070606101441-53eee-3573111b61bbfd5b417b96c48a525b43dea4c4ff.gz

 extensions/OLPC_Buddy_Info.xml |   34 +++++++++++++++++++---------------
 1 files changed, 19 insertions(+), 15 deletions(-)

commit e065a62ff4ce093387157762aacd5311f03fc1ca
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jun 6 10:14:04 2007 +0000

    Correct BuddyInfo spec: the subscribe list is called subscribe, not subscribed
    
    
    20070606101404-53eee-1c50ca55c25f90c9f361e08364e065136c0d2440.gz

 extensions/OLPC_Buddy_Info.xml |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit 42f454dd2f69e9136effe8322ed598fd1ccc9149
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jun 6 10:13:41 2007 +0000

    Require that SetProperties() in the BuddyInfo interface can be called before Connect()
    
    
    20070606101341-53eee-791e1c90df447e6177619ff50fad1982d24bf32c.gz

 extensions/OLPC_Buddy_Info.xml |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 59c82c965c7ead7b33a1d0a856c6b9688918653b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jun 11 17:21:17 2007 +0000

    test-avatar.py: use @match
    
    
    20070611172117-c9803-088c2be26f0a06d7a81b2219b53bb6cd8924ec52.gz

 tests/test-avatar.py |   33 +++++----------------------------
 1 files changed, 5 insertions(+), 28 deletions(-)

commit 0599c62cf939cfd0e657a035e4f99cf90408c8a4
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jun 11 16:39:31 2007 +0000

    test-connect.py: use @match
    
    
    20070611163931-c9803-04ac0d14cfbc27f55f85010c4ef02a423575fb3f.gz

 tests/test-connect.py |   42 ++++++------------------------------------
 1 files changed, 6 insertions(+), 36 deletions(-)

commit e5ab6f0da8347cab8ef52c4ddaaec29b8cc133af
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jun 11 16:38:33 2007 +0000

    servicetest.py: remove Telepathy prefix from D-Bus signal path
    
    
    20070611163833-c9803-8d718e0b1506e9ef6320130689fa3a30316aa6a7.gz

 tests/servicetest.py |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit be0eaa0cc98f36ab8f42e5a3b6c6106dc4bc5297
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jun 11 16:36:40 2007 +0000

    servicetest.py: add match() decorator for convenience
    
    
    20070611163640-c9803-0b9b99bc3f594dfadd97d91ef0f0aa7d9895bad5.gz

 tests/servicetest.py |   20 ++++++++++++++++++++
 1 files changed, 20 insertions(+), 0 deletions(-)

commit fe836f0e2b6173636c8983834770bc8fe9c55c05
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jun 11 16:29:01 2007 +0000

    clarify comment
    
    
    20070611162901-c9803-de5a0199438fceb94332db237c153c3d3649b6cc.gz

 tests/gabbletest.py |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 24cd46b68c49a00541d681fef9ed47c5393364ca
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jun 11 16:21:14 2007 +0000

    gabbletest.py: remove unused code
    
    
    20070611162114-c9803-22fcd002880058a0f09fefe7e899de24aa50397c.gz

 tests/gabbletest.py |    6 ------
 1 files changed, 0 insertions(+), 6 deletions(-)

commit 5173a066270f3b3ac5f0604ab87231b68a0439b9
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jun 11 16:06:38 2007 +0000

    port tests to matching by event attribute instead of index
    
    
    20070611160638-c9803-206fc96813c2a6537f5055d54626185d0fb09a49.gz

 tests/test-avatar-async.py           |   42 +++++++++++-----------
 tests/test-avatar.py                 |   24 ++++++------
 tests/test-connect-fail.py           |   12 +++---
 tests/test-connect.py                |   26 +++++++-------
 tests/test-disco.py                  |   16 ++++----
 tests/test-muc.py                    |   62 +++++++++++++++++-----------------
 tests/test-roster.py                 |   22 ++++++------
 tests/test-save-alias-to-vcard.py    |   20 +++++-----
 tests/test-set-status-idempotence.py |   32 +++++++++---------
 tests/test-text-delayed.py           |   34 +++++++++----------
 tests/test-text.py                   |   40 +++++++++++-----------
 11 files changed, 164 insertions(+), 166 deletions(-)

commit 804f643e23cb700eb3b0f9b933a7165a1801d6f7
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jun 11 16:05:55 2007 +0000

    tests: use Event objects rather than tuples for representing events
    
    
    20070611160555-c9803-4366bce64ed0c8f5ea272f260fd6d3f80919caaf.gz

 tests/gabbletest.py  |    8 ++++----
 tests/servicetest.py |   22 +++++++++++++++-------
 2 files changed, 19 insertions(+), 11 deletions(-)

commit 9f8309eea7139e2dc23fb0970fa91418fa5744ef
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jun 11 15:30:17 2007 +0000

    gabbletest.py: add XMPP 1.0 authenticator
    
    
    20070611153017-c9803-558a8b7ed0774081d63cc63a9ef26d6827620b7a.gz

 tests/gabbletest.py |   53 ++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 52 insertions(+), 1 deletions(-)

commit 2ed4b97922eb9be288d100cae897d9be3a84e13d
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jun 11 14:33:54 2007 +0000

    JabberAuthenticator: take username/password rather than username/digest
    
    
    20070611143354-c9803-f2fca738542360c43db5cdf9d28568d9ff22cb67.gz

 tests/gabbletest.py |   16 +++++++++-------
 1 files changed, 9 insertions(+), 7 deletions(-)

commit a89a6ce83207b4b799d6df111d9254d87b56d84f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jun 11 14:29:46 2007 +0000

    BaseXmlStream: don't set SID; let Twisted do it for us
    
    
    20070611142946-c9803-0f552abc24e7437e4653d57834c78f85d3e275f8.gz

 tests/gabbletest.py |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 56a63ec805d5797802002743249119d81da623fa
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Jun 11 14:27:30 2007 +0000

    JabberXmlStream: only send header once stream is started, not when connection is made
    
    
    20070611142730-c9803-f5eb292784246f2b5efd6493091f161a063f91a8.gz

 tests/gabbletest.py |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit 7ee70e8a3148b207aac05b70f89398676e6e6478
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Jun 8 13:58:14 2007 +0000

    rename Authenticator to JabberAuthenticator
    
    
    20070608135814-c9803-819602076c1d5d29ed46c7a8d6b2d1a313c1b1d5.gz

 tests/gabbletest.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 15a8e3a928fecda60d7dcbcd04fe8a64742754e1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Jun 8 13:46:09 2007 +0000

    fix stream version numbers to be tuples rather than strings
    
    
    20070608134609-c9803-59043c535f2c7ef93b60bd71c1c9600b700f05d5.gz

 tests/gabbletest.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 75260b21247816f1122b3e858ab122f04e0b5d42
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Jun 8 12:17:39 2007 +0000

    split XmlStream into JabberXmlStream and XmppXmlStream
    
    Also: make XmlStreamFactory instantiate self.protocol instead of XmlStream,
    and set XmlStreamFactory.protocol to JabberXmlStream.
    
    20070608121739-c9803-4978bdc9205017ecd556ea69008691d97c231b8c.gz

 tests/gabbletest.py |   25 +++++++++++++++++++------
 1 files changed, 19 insertions(+), 6 deletions(-)

commit 1d0da4483cfa1c368747a9ab76a21d8bd87dd2aa
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Jun 8 12:00:09 2007 +0000

    test authenticator: specifically wait for jabber:iq:auth IQ
    
    
    20070608120009-c9803-08597f7d0d2c512232426aae2832abec352a4e20.gz

 tests/gabbletest.py |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit bb67036a9f3ee325fce4cd77553c003e8e2b8f96
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Jun 5 19:00:52 2007 +0000

    test-avatar-async.py: use data['conn_iface'] instead of conn_iface(data['conn'])
    
    
    20070605190052-c9803-ef2a295594632bfbc5e4ad802788f39e1aa52fdb.gz

 tests/test-avatar-async.py |    7 ++-----
 1 files changed, 2 insertions(+), 5 deletions(-)

commit 891474e6b9d1f9c8ebbdfa5bb6e5e07953a789c1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Jun 5 18:59:20 2007 +0000

    simplify test setup code by building data dict after instantiating everything
    
    
    20070605185920-c9803-2316fdb07401fc308c8e0fa8cf3b3a982f0a59d0.gz

 tests/servicetest.py |   30 +++++++++++++-----------------
 tests/test-avatar.py |    2 +-
 tests/test-muc.py    |    4 ++--
 3 files changed, 16 insertions(+), 20 deletions(-)

commit 7269291e7870dc3d246468f1d32ba90b7ff82fab
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Jun 6 15:07:53 2007 +0000

    merge conflicts from 0.4 google roster patch
    
    
    20070606150753-418b8-f7ad108686f717d7ec0c893fd1aa235064fbebf5.gz

 src/roster.c |   53 ++++++++++++++++++++++++++++++++++-------------------
 1 files changed, 34 insertions(+), 19 deletions(-)

commit f644ce1ea51a71e395924025ebaf62860fa95641
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Jun 5 16:02:57 2007 +0000

    rename confusing chan/schan variables in roster to pub_chan and sub_chan
    
    
    20070605160257-418b8-82818e200cd3f65c611a2c7c5d248e623d89f91e.gz

 src/roster.c |   16 +++++-----------
 1 files changed, 5 insertions(+), 11 deletions(-)

commit 59ebaa1d4e648511d51c687f78312c50845e6d51
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue May 8 10:46:01 2007 +0000

    roster.c: don't remove handles from subscribe/known lists if they're remote pending in subscribe list
    
    
    20070508104601-01440-0a18ab2dfffcea56107b65322088a13f1921ebf8.gz

 src/roster.c |   13 +++++++++----
 1 files changed, 9 insertions(+), 4 deletions(-)

commit 48358b7e1871829937c5d236f69b70c9f32fd455
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Jun 6 14:47:03 2007 +0000

    merge conflicts between H263-N800 hack from 0.4 and trunk
    
    
    20070606144703-418b8-8c51e7fff8fa01a952964fe2842e72c8b88d0cdc.gz

 src/gabble-media-stream.c |   16 +++++++++++++++-
 src/presence-cache.c      |   10 +++++++++-
 src/presence.h            |    2 ++
 3 files changed, 26 insertions(+), 2 deletions(-)

commit 08bc32307e1ff05631a6c537ed5405b7c5147991
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue May 22 17:52:03 2007 +0000

    GabbleMediaStream: when the H263-N800 hack is enabled, discard any local codecs called H263-1998, and advertise H263-N800 and H263-1998
    
    
    20070522175203-418b8-5b90f7d7859c791a0a80e38cfbe6813e7d7e69d2.gz

 src/gabble-media-stream.c |   20 ++++++++++++++++++++
 1 files changed, 20 insertions(+), 0 deletions(-)

commit 786994067c3fe2964b8d99f8aef363f7f86500ba
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue May 22 17:50:43 2007 +0000

    GabbleMediaStream: when the H263-N800 hack is enabled, discard any remote codecs called H263-N800, and turn their H263-1998 into H263-N800
    
    
    20070522175043-418b8-8c8e7855842546cce52d5ef8f5463dacfc2eba72.gz

 src/gabble-media-stream.c |   18 ++++++++++++++++++
 1 files changed, 18 insertions(+), 0 deletions(-)

commit 2191ab559e8f4261d74c5c91a4f887c7ab227e6b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue May 22 17:28:56 2007 +0000

    GabbleMediaSession: set the h263-n800-hack property on video streams with contacts who have the H263_N800_HACK capability set
    
    
    20070522172856-418b8-799210877250522ceea4465c53e1684eca0873de.gz

 src/gabble-media-session.c |   16 ++++++++++++++++
 1 files changed, 16 insertions(+), 0 deletions(-)

commit 601912107c277d7b80b7e8edede282f0aba5f7ff
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue May 22 16:44:18 2007 +0000

    GabbleMediaStream: add a "h263-n800-hack" construct property
    
    
    20070522164418-418b8-ee27c194e2109b1d9e3cfc32ee2f47e06d01c836.gz

 src/gabble-media-stream.c |   29 +++++++++++++++++++----------
 1 files changed, 19 insertions(+), 10 deletions(-)

commit 5b04073786ad58bc1bb6d2dceb8827ea42eae44d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue May 22 15:03:47 2007 +0000

    GabblePresenceCache: set a JINGLE_H263_N800_HACK on people who have the Gabble versions released with older N800 images
    
    
    20070522150347-418b8-94c6169a9bb41e418af81e2759dd5012659cf7a2.gz

 src/presence-cache.c |   31 +++++++++++++++++++++++++------
 src/presence.h       |    1 -
 2 files changed, 25 insertions(+), 7 deletions(-)

commit 86dbeca251ee945d3edf081e6c088fb154ba8474
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Jun 5 15:55:04 2007 +0000

    when joining a MUC, use GROUP_CHANGE_REASON_NONE instead of _INVITED if we weren't invited
    
    
    20070605155504-c9803-8db0b8d8e61289aceefcaab2887cc1180008b38d.gz

 src/gabble-muc-channel.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 5fc6807fd1b90bea7e4557f87e093632d76ae82d
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Jun 5 15:54:38 2007 +0000

    add test for MUCs
    
    
    20070605155438-c9803-cf1ecb4d9cfd2d6aa90770cc4995b79856322cc8.gz

 tests/Makefile.am |    3 +-
 tests/test-muc.py |  172 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 174 insertions(+), 1 deletions(-)

commit 36ea253e0f061fcb10493bc2a050a59f1c80d03e
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue May 29 07:45:17 2007 +0000

    make request_send() return void instead of always returning the request
    
    
    20070529074517-c9803-aeef1689a35e3e54aebcdcbeb33f50f2c140ff4e.gz

 src/vcard-manager.c |   25 +++++++------------------
 1 files changed, 7 insertions(+), 18 deletions(-)

commit 426dafd7d116098954fb5bd9cf434b1d15d1e9f8
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue May 29 07:42:59 2007 +0000

    remove unreachable code path
    
    
    20070529074259-c9803-7b6ec727f23f5cfbc9a5c59c09ac557860eb2e9a.gz

 src/vcard-manager.c |   10 +---------
 1 files changed, 1 insertions(+), 9 deletions(-)

commit 86d529068b14f1c00d082a909341638bc3cfe629
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue May 29 07:23:21 2007 +0000

    remove unused GError parameter from request_send()
    
    
    20070529072321-c9803-e7b34f632b2029cb3d6c4f33c61edc3cb1e211dd.gz

 src/vcard-manager.c |   13 ++++++-------
 1 files changed, 6 insertions(+), 7 deletions(-)

commit 789b4cb919c3376886cd34167ac1ae9ba8c39e33
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jun 5 12:13:23 2007 +0000

    In Twisted tests, use ByteArray to simplify the code
    
    
    20070605121323-53eee-654035c568535cfc3dec20c110cf796ea007c278.gz

 tests/servicetest.py       |    3 ++-
 tests/test-avatar-async.py |    4 ++--
 2 files changed, 4 insertions(+), 3 deletions(-)

commit 3d72dc2da517671d7c06d08872674b831b622124
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jun 5 11:52:04 2007 +0000

    Bump required tp-glib version to 0.5.13 for TpPresenceMixin
    
    
    20070605115204-53eee-2781e711276f61fddcb1849c26e7131f4d9b2194.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 592c9bd222180d24a8edbdca11dcd21b04bff748
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 1 16:45:33 2007 +0000

    util.[ch]: add gabble_get_room_handle_from_jid()
    
    
    20070601164533-53eee-d3dd8f848071c2ba4ed1e7986bf560ccdaf42d97.gz

 src/util.c |   29 +++++++++++++++++++++++++++++
 src/util.h |    2 ++
 2 files changed, 31 insertions(+), 0 deletions(-)

commit 54cdbcf0ca1725d77175b895427b15a0fa0713b9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jun 1 12:33:28 2007 +0000

    Don't chmod +x the Twisted tests (unnecessary)
    
    
    20070601123328-53eee-09e17a5ffe5fa31c889cb71705ca14ca794f2caf.gz

 tests/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ba3fa193443914bb5f162f81ffb079f45629a32b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 31 18:17:24 2007 +0000

    Make test-avatar-async.py work
    
    
    20070531181724-53eee-92e7952fbcfe0222e91fa7f935b9edbe157e9ca0.gz

 tests/test-avatar-async.py |   11 ++++++-----
 1 files changed, 6 insertions(+), 5 deletions(-)

commit efdf50f2507eec7d2392e9ee4fea7486e26d1c6b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 31 18:16:58 2007 +0000

    Make tests/servicetest.py stop raising DeprecationWarning
    
    
    20070531181658-53eee-6abfeb12577f6fd44f81ab297827749933d616d4.gz

 tests/servicetest.py |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit 380161bae88db3c02585c5feed65c63e5bb85f1a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 31 18:16:39 2007 +0000

    chmod files appropriately before running check-twisted
    
    
    20070531181639-53eee-fe4313fbd72a75ae7e546221ef90a7e0e46ed77e.gz

 tests/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 5083f4cfc142440a8186b0048eb6fbd14f107853
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu May 31 18:16:12 2007 +0000

    Add check-twisted forwarder to top-level Makefile
    
    
    20070531181612-53eee-1e2233f14ee5aa2c6e66a9c89a64b7646b30154c.gz

 Makefile.am |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 5dbc488ac75ab5a864307673194afd16e30f19db
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed May 23 16:46:50 2007 +0000

    Set extensions.html title from spec title (and possibly version)
    
    
    20070523164650-53eee-fbb3a2e42a389c0f7bb7011a49fa63780a74e2ad.gz

 extensions/tools/doc-generator.xsl |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit a85d8a9ec6030d9dc5c37c93d06c2e8282787b94
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed May 23 16:09:13 2007 +0000

    Add stylesheet (from telepathy-spec) and Makefile rules to generate extensions.html
    
    
    20070523160913-53eee-820c7fe87da8874c6d4cdb8c76a2a3804793589d.gz

 extensions/Makefile.am             |    7 +-
 extensions/all.xml                 |    2 +-
 extensions/tools/Makefile.am       |    1 +
 extensions/tools/doc-generator.xsl |  421 ++++++++++++++++++++++++++++++++++++
 4 files changed, 429 insertions(+), 2 deletions(-)

commit 9d340d98c0927d5399f799c21fa7800027acda44
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Fri Jun 1 13:45:38 2007 +0000

    Don't use g_hash_table_unref
    
    
    20070601134538-9db4d-6f37083a1db3b981155c3753bb29c84a5a8525f9.gz

 src/conn-presence.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit fcda10eb81e4c465ab643c5e362deb58337efc60
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Thu May 31 11:56:53 2007 +0000

    Error instead of assert in construct_contact_statuses_cb for invalid handles
    
    
    20070531115653-9db4d-ab88d77dfe62a37e1c2ea1da70ec4ebbf6be7ca0.gz

 src/conn-presence.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 25c56ba0d8302192b1fd384f0296f9ef255c81f9
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Thu May 31 10:00:26 2007 +0000

    Initialize the padding fields in TpPresenceStatusOptionalArgumentSpec structs to NULL
    
    
    20070531100026-9db4d-9ec35cf1262d4c8f5415a43572708bcf0e98b747.gz

 src/conn-presence.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 15a2bfcb4a186972d4a44b840d9955afb3d4a31e
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Thu May 31 09:43:45 2007 +0000

    Tidy up the TpPresenceMixin usage a bit
    
    
    20070531094345-9db4d-cfc027e890dcc96d02e545e00c0300b0912c41a3.gz

 src/conn-presence.c |   30 ++++++++----------------------
 1 files changed, 8 insertions(+), 22 deletions(-)

commit 19bc8130bce36557a78d8f0d6cc454c834cf471b
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Thu May 31 09:40:38 2007 +0000

    Use ClearStatuses, RemoveStatuses and SetStatus from telepathy-glib
    
    
    20070531094038-9db4d-18cda03085e6eae6eecf0e068bfcb246bc0956dc.gz

 src/conn-presence.c |  284 +++++++++------------------------------------------
 1 files changed, 47 insertions(+), 237 deletions(-)

commit 45bf3da59c4fce40c9542651c6bf02113f31351b
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Thu May 31 08:53:15 2007 +0000

    Unref the parameters hashtable in construct_presence_statuses
    
    
    20070531085315-9db4d-9483fd389d45b748af3a6e0dd37607b19dd122e9.gz

 src/conn-presence.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 91155f6b37cf276611f2175934bdc9f61c8a916a
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Wed May 30 16:00:52 2007 +0000

    Use GetPresence and RequestPresence in TpPresenceMixin
    
    
    20070530160052-9db4d-f468ec1e4229dbc93feaa8c2314d6e0cef7665c2.gz

 src/conn-presence.c |  160 ++------------------------------------------------
 1 files changed, 7 insertions(+), 153 deletions(-)

commit ab57bb2e70bd513f0ccbd4ea4293ba1d3046a367
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Wed May 30 13:06:50 2007 +0000

    Use TpPresenceMixin to emit PresenceUpdate
    
    
    20070530130650-9db4d-352b6feb0e89721ba68e273bcef152973714309a.gz

 src/conn-presence.c |   71 +++++++++++++++++++++++++++++++++++++++++++++++---
 1 files changed, 66 insertions(+), 5 deletions(-)

commit 642c9b89d80725f19cb30fe5014968d4b496ccd8
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Tue May 29 15:49:32 2007 +0000

    TpPresenceMixin implements AddStatus now
    
    
    20070529154932-9db4d-fef77f21eefae34032ada3b5fa13741610b9f8c0.gz

 src/conn-presence.c |   29 -----------------------------
 1 files changed, 0 insertions(+), 29 deletions(-)

commit 24886da381ae07ca263d2c2b353441dea3908da5
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Tue May 29 15:34:34 2007 +0000

    TpPresenceMixin implements SetLastActivityTime now
    
    
    20070529153434-9db4d-b85d467d4b3ebf52acacca35d4a618ceaf169c41.gz

 src/conn-presence.c |   24 ------------------------
 1 files changed, 0 insertions(+), 24 deletions(-)

commit 91910f13c99bcb95115f43c9a8fccc93901c8421
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Tue May 29 15:32:50 2007 +0000

    TABS!!!!!
    
    
    20070529153250-9db4d-fae6f2e3d1895cad34184f719d1b6df5ab3c1056.gz

 src/gabble-connection.h |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 2ea8dc1448a90d102efb229bfd40813957e33e78
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Tue May 29 15:15:25 2007 +0000

    Use TpPresenceMixin in GabbleConnection, currently just implementing GetStatuses
    
    
    20070529151525-9db4d-0ea4f2a48d2670f8455eacfbb878aa45aae2e134.gz

 src/conn-presence.c     |  154 +++++++++++++++-------------------------------
 src/conn-presence.h     |    2 +
 src/gabble-connection.c |    4 +
 src/gabble-connection.h |    3 +
 4 files changed, 59 insertions(+), 104 deletions(-)

commit 3f7681f8bfd8e52f837d0ab87677eded7bc8a718
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu May 31 09:00:58 2007 +0000

    fix whitespace
    
    
    20070531090058-418b8-f838982522ef70c2f3f26341e6d8589c9397dedd.gz

 src/conn-avatars.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit af235830b1956c3375e7bbfc853486d9cbcd96cb
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed May 30 16:01:26 2007 +0000

    fix avatars so that a missing <TYPE> node gives an empty type string, not an error
    
    
    20070530160126-418b8-532b7131f82ddf08c08416b3639c68b18108b1a6.gz

 src/conn-avatars.c |   11 ++++++-----
 1 files changed, 6 insertions(+), 5 deletions(-)

commit 585e91ed9b1c82bfe5358e49ca3fee590e3f5480
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed May 30 15:10:00 2007 +0000

    don't process incoming <nick> elements if we receive a <message type="error">, otherwise we can confuse our nick with the erroneous contact's
    
    
    20070530151000-418b8-cf59a5e8daebbbdfda43a992104553e09629f376.gz

 src/presence-cache.c |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit 085ab7b30ab2578df98bfddcfab35b72b7346352
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed May 30 15:07:47 2007 +0000

    add missing method return to StopListing method on the room list channel
    
    
    20070530150747-418b8-706ce7b30a90c82c5e1ea6e59d64b359b018a3a5.gz

 src/gabble-roomlist-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 5135e414c4ea9e5658cd9cf7a2d318faf67888c5
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue May 29 15:29:20 2007 +0000

    don't process <c> or <x xmlns="vcard-temp:x:update"> nodes in incoming <message> stanzas, both aren't specified in the relevant XEPs, and we don't send them anyway...
    
    
    20070529152920-418b8-a4ecae80ce656faf62f3e9164a920f477b670307.gz

 src/presence-cache.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 0a8fada04a059383023c13039a9feb4aaaedd47a
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sat May 5 15:32:55 2007 +0000

    GabbleRoster: when creating new items, if we have any nickname info for a contact which isn't just part of the JID, store it in the item
    
    
    20070505153255-418b8-5ffd35997087cf914e954813a847842dc4c956ae.gz

 src/roster.c |   14 ++++++++++++++
 1 files changed, 14 insertions(+), 0 deletions(-)

commit f218c09ad9b0edfa823a98ed07fd7982f78defe4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri May 11 15:17:02 2007 +0000

    Change TpHandle cast to GPOINTER_TO_UINT to keep 64-bit gcc happy
    
    
    20070511151702-53eee-9b76edf2e9cdb067392c3e983ac3a7456b88d1df.gz

 src/roster.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 76b12300d0373ea9db0ca88e0970f46bc33d72de
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue May 29 09:22:05 2007 +0000

    Changed the decorator name for lazily performed expects
    
    
    20070529092205-01440-eb093cb8c56be8ad560233e200fb533c794468a3.gz

 tests/servicetest.py              |    2 +-
 tests/test-roster.py              |    4 ++--
 tests/test-save-alias-to-vcard.py |    4 ++--
 3 files changed, 5 insertions(+), 5 deletions(-)

commit 238a2a45988da6f716bd4ef05841cbfd4407a5f5
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue May 29 08:20:34 2007 +0000

    Actually added servicetest.py to darcs; fixed two tests to use delayed expect functions
    
    
    20070529082034-01440-a328bccc340ec1b176f30a16b106d26a87318839.gz

 tests/servicetest.py              |  218 +++++++++++++++++++++++++++++++++++++
 tests/test-roster.py              |    2 +
 tests/test-save-alias-to-vcard.py |    2 +
 3 files changed, 222 insertions(+), 0 deletions(-)

commit f876e24c533f896f7f76e2587ea38edd9b28dd2d
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue May 29 08:12:59 2007 +0000

    Ported the existing tests to new testing framework
    
    
    20070529081259-01440-0b6314d07ee08ace96fe36238a33bf03bc465ab4.gz

 tests/test-avatar.py                 |   13 +++++--------
 tests/test-connect-fail.py           |    3 ---
 tests/test-connect.py                |    5 +----
 tests/test-disco.py                  |    5 +----
 tests/test-roster.py                 |   13 ++++---------
 tests/test-save-alias-to-vcard.py    |    7 ++-----
 tests/test-set-status-idempotence.py |    7 ++-----
 tests/test-text-delayed.py           |    7 ++-----
 tests/test-text.py                   |    7 ++-----
 9 files changed, 19 insertions(+), 48 deletions(-)

commit aa546e4f0c4e4fe86bc2bbfa9eeafd01286b7f4f
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue May 29 07:59:32 2007 +0000

    The check-twisted "jabber" server uses legacy jabber protocol, fixed xmlstream attributes to reflect this
    
    
    20070529075932-01440-e4cddf470386521e0c9cc40299272c011b56c555.gz

 tests/gabbletest.py |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit a90ed2aca4ca426679782bb4d2677ef01baf92fb
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue May 29 07:58:20 2007 +0000

    Split gabbletest into generic testing framework and gabble-specific stuff
    
    
    20070529075820-01440-03bb32c33908087f9346aa9fbb5d8b4220b76df9.gz

 tests/gabbletest.py |  197 ++-------------------------------------------------
 1 files changed, 5 insertions(+), 192 deletions(-)

commit 982e536189c5bf36660859965bc68f5d352cc677
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun May 20 20:32:02 2007 +0000

    ImFactory: ignore GONE chat states if there's no existing channel, preventing unavoidable loops
    
    
    20070520203202-418b8-33f9e3c827b41aabbf10de7ff7dda38c8bacdcca.gz

 src/im-factory.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 1e4dc71a065031617e5db262c727ae8acfb51c3d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon May 28 13:58:53 2007 +0000

    add "handle-name" to the dict returned in the GotRooms signal
    
    
    20070528135853-418b8-2787d96fee8f60317e6641f98bbdc99c068d3dea.gz

 src/gabble-roomlist-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 9371c5824142b7c4e1bd5320321ddf617a0b5194
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue May 29 07:59:30 2007 +0000

    remove silly debug code
    
    
    20070529075930-c9803-d63df048cf6daa83bbcb189fe3305563ef73cdad.gz

 src/conn-avatars.c |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit 00366ad53fe62f76b8710fee44d78929089f9599
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon May 28 22:04:49 2007 +0000

    add test for RequestAvatars/AvatarReceived
    
    
    20070528220449-c9803-5dbb55cdf4b73367b1b6181ba96967bc06390114.gz

 tests/Makefile.am          |    3 +-
 tests/test-avatar-async.py |  100 ++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 102 insertions(+), 1 deletions(-)

commit 0e048928bc3179376d2db3bbca3018d1c71dedbe
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon May 28 16:52:15 2007 +0000

    implement RequestAvatars()
    
    
    20070528165215-c9803-fda5ece3dab5f7d232c1eb5353f36b9a8a07a9f2.gz

 src/conn-avatars.c |   80 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 80 insertions(+), 0 deletions(-)

commit 1e4a3c84b66a8d3c8a732a26c4d8a7195751efa8
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu May 24 15:53:19 2007 +0000

    factor out avatar parsing
    
    
    20070524155319-c9803-218d7c5065e56437c144bbc7c665c800ff7431f9.gz

 src/conn-avatars.c |  100 ++++++++++++++++++++++++++++-----------------------
 1 files changed, 55 insertions(+), 45 deletions(-)

commit ae11649f82e3f01a1c3d08777381cea0e9e2f380
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon May 28 16:43:51 2007 +0000

    gabbletest.py: ask to always have byte arrays passed into signal handlers
    
    
    20070528164351-c9803-fdeef62030a955d11f06e8accee935295d376c07.gz

 tests/gabbletest.py |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit ed839e78b2b59e2155184268aaab89073fc3ec58
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon May 28 16:28:52 2007 +0000

    gabbletest.py: use positional arguments with add_signal_receiver()
    
    
    20070528162852-c9803-d6907481f3c0e0741ac4322892bcec7c3772ea82.gz

 tests/gabbletest.py |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit 2feb740922a80e342266f78841e302b4a711ea37
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon May 28 16:27:32 2007 +0000

    gabbletest.py: complain when event handlers return non-boolean values
    
    
    20070528162732-c9803-c49e4990b8b36dfc970c5bdefb41cd51ccf26f21.gz

 tests/gabbletest.py |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 630db7522f8024ac63c7c679c5271b69259fcd5f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon May 28 16:24:26 2007 +0000

    gabbletest.py: only respond to disco request if host is localhost, so that we can emulate conference servers
    
    
    20070528162426-c9803-de982eb2558a62030962bc0128f4d245c93dfeb9.gz

 tests/gabbletest.py |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit 6aaf72276e8a2db4de725b19e3f23ab132b8eeb8
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed May 23 16:29:56 2007 +0000

    add avatar test
    
    
    20070523162956-c9803-d9a315d2571d35b4e227c716e8bc01ba441d2f25.gz

 tests/Makefile.am    |    3 +-
 tests/test-avatar.py |   82 ++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 84 insertions(+), 1 deletions(-)

commit e8ce79b1757da3bb13fc37dcc2cfe24ad0855e07
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed May 23 16:09:53 2007 +0000

    gabbletest.py: add helper function for async D-Bus calls
    
    
    20070523160953-c9803-aad232660d56ff2bfa73040e643d72bb91bdbda3.gz

 tests/gabbletest.py |   14 ++++++++++++++
 1 files changed, 14 insertions(+), 0 deletions(-)

commit 866666b530a64ad245a4df221829999f8710e1b4
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed May 23 16:09:08 2007 +0000

    gabbletest.py: pass in test to event handlers as data['test']
    
    
    20070523160908-c9803-45ddde2952a332e1545a87509d84407f595f6695.gz

 tests/gabbletest.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 855cd4d83a36124d61507db4f9b0bbff6a775cdf
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue May 22 02:31:41 2007 +0000

    gabbletest.py: refactor authentication code
    
    
    20070522023141-c9803-548fecd7a6abd91de75c2f5270b479ba1b3622c8.gz

 tests/gabbletest.py |   13 +++----------
 1 files changed, 3 insertions(+), 10 deletions(-)

commit 7abc9513560a2ea5c549a78cd54a837cf99c66a7
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue May 22 02:23:28 2007 +0000

    gabbletest.py: refactor to minimise code in try block
    
    
    20070522022328-c9803-ff7042ef9b48ec767be2239bb571722b53c6437c.gz

 tests/gabbletest.py |   26 ++++++++++++++------------
 1 files changed, 14 insertions(+), 12 deletions(-)

commit 76208b75c25fb1f63e12b03bdf67b5bd35034728
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue May 22 01:39:45 2007 +0000

    gabbletest.py: query for username in the same way as other nodes
    
    
    20070522013945-c9803-dac85c8fc045bab01a88ac3573fbc16694d59e5c.gz

 tests/gabbletest.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b95d31f312418cfbe4fb5287015830c8d7b1c492
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu May 17 18:14:27 2007 +0000

    test executables are boring
    
    
    20070517181427-c9803-fa34ea58ad116ee71d16f0347e21d5f43a07e850.gz

 _boring |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 9c1a237734b951d3b0448ab764513064121fae30
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu May 17 17:27:27 2007 +0000

    add test for delayed messages
    
    
    20070517172727-c9803-e25ea2fa2669917ac3481ecf76d69293f484176b.gz

 tests/Makefile.am          |    1 +
 tests/test-text-delayed.py |   88 ++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 89 insertions(+), 0 deletions(-)

commit 7088eb484cae0dac1648163ad9ade0d848346691
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu May 17 17:24:38 2007 +0000

    test-text.py: send/check for type="chat" messages
    
    
    20070517172438-c9803-1c8f473b6aed99685ae82dd01e90023962a19dc5.gz

 tests/test-text.py |   10 ++++++++--
 1 files changed, 8 insertions(+), 2 deletions(-)

commit c6f84514afed1cfea7a6fecf56beb3f12eef053a
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu May 17 17:22:02 2007 +0000

    remove unnecessary import
    
    
    20070517172202-c9803-f28535da55b5350f9ad31b3d4d4f862b4222708c.gz

 tests/test-roster.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8fb215dc1ca6f09ce28e4ec59dd81de64d829851
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu May 17 16:37:24 2007 +0000

    add README to tests/ directory
    
    
    20070517163724-c9803-f699196d9e99c970e5cc1b9dd9b7cd3bf83c3558.gz

 tests/README |   33 +++++++++++++++++++++++++++++++++
 1 files changed, 33 insertions(+), 0 deletions(-)

commit cbc33e14ccc4316a3751320c463b5eb88e0a9cdd
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu May 17 16:36:31 2007 +0000

    add helper script for writing Twisted tests
    
    
    20070517163631-c9803-4945e61563f758a639fa9a62d07129a4c19d513c.gz

 tests/test-helper.py |   84 ++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 84 insertions(+), 0 deletions(-)

commit f88a5c35d2f620f55e7c5c43195290a1b680bedb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon May 21 17:05:24 2007 +0000

    Update AS_AC_EXPAND macro from autostars.sf.net CVS, fixing recursive expansion
    
    
    20070521170524-53eee-cabdf8d1f2e19cb880c77b824722ae7c23fd1a9b.gz

 m4/as-ac-expand.m4 |   17 +++++++++++++----
 1 files changed, 13 insertions(+), 4 deletions(-)

commit 14131c65f68e32b133c785b4264c32669358887b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed May 16 14:16:40 2007 +0000

    correct comment
    
    
    20070516141640-c9803-e912eacaa6f22aa1a9a376dbb739df74d732da93.gz

 src/util.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 550b49131de5a4ffb2139cda3db5c837f6042464
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue May 15 17:45:17 2007 +0000

    port more tests to using gabbletest.go()
    
    
    20070515174517-c9803-da44cea434d87d7fd5094df1dd278c920235c9a3.gz

 tests/test-disco.py               |   10 ++--------
 tests/test-roster.py              |   21 ++++++---------------
 tests/test-save-alias-to-vcard.py |   11 ++---------
 tests/test-text.py                |   12 ++----------
 4 files changed, 12 insertions(+), 42 deletions(-)

commit 6878d8cd598fc9c56fd939c4aceccd1e117f29f9
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue May 15 17:39:25 2007 +0000

    add docstrings to tests
    
    
    20070515173925-c9803-36613c366225e625b0356c3db5e123578aea6ea3.gz

 tests/test-connect.py |    4 ++++
 tests/test-disco.py   |    4 ++++
 tests/test-roster.py  |    4 ++++
 tests/test-text.py    |    4 ++++
 4 files changed, 16 insertions(+), 0 deletions(-)

commit 4f8cedb0da737f92fe06d0ce18e1c83a29f9ff61
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue May 15 17:38:36 2007 +0000

    add test for connection failure
    
    
    20070515173836-c9803-a88da13657955fa4ee7445fb9b268aa6358944b0.gz

 tests/Makefile.am          |    1 +
 tests/test-connect-fail.py |   38 ++++++++++++++++++++++++++++++++++++++
 2 files changed, 39 insertions(+), 0 deletions(-)

commit 6e40386ba91ea4456e7be597f5d70d1f4342a521
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue May 15 15:28:26 2007 +0000

    make Twisted tests share a session bus, since this doesn't seem to cause any problems
    
    
    20070515152826-c9803-2863d4237be043caa3efc0b9696b28b4abd187be.gz

 tests/Makefile.am |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit f9889b3f2783e9ddf77cf07336e59c56bd3d2bab
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue May 15 15:27:26 2007 +0000

    remove unnecessary imports
    
    
    20070515152726-c9803-89caf0fe3cc4916532477d4ed6f538b4ce52d340.gz

 tests/test-disco.py               |    3 ---
 tests/test-roster.py              |    3 +--
 tests/test-save-alias-to-vcard.py |    7 +------
 tests/test-text.py                |    3 +--
 4 files changed, 3 insertions(+), 13 deletions(-)

commit de0807b1a02f474f99454405399b7d99951fe17c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue May 15 14:03:02 2007 +0000

    add test for SetStatus idempotence
    
    
    20070515140302-c9803-22d7f8eff91658d4e8ef5a44bc539b9b7a7234f8.gz

 tests/Makefile.am                    |    3 +-
 tests/test-set-status-idempotence.py |  103 ++++++++++++++++++++++++++++++++++
 2 files changed, 105 insertions(+), 1 deletions(-)

commit ad59f8f0dc177bd367f4b5b23e377a5c206ea623
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue May 15 13:32:37 2007 +0000

    gabbletest.py: generate events for presence stanzas
    
    
    20070515133237-c9803-e0966ffd8da46ed35631e0106f34d5122ff4c6be.gz

 tests/gabbletest.py |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 2fc9a68cb3c359883a9739c4941a4b801a5dea93
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon May 14 17:35:43 2007 +0000

    port to using gabbletest.go()
    
    
    20070514173543-c9803-940d7e42b7f74b4bda1071af8254f5737bdc76eb.gz

 tests/test-connect.py |   17 ++---------------
 1 files changed, 2 insertions(+), 15 deletions(-)

commit 413efc9e05f0b06d4b156f9736cc585d66d18535
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon May 14 17:34:25 2007 +0000

    gabbletest.py: add convenience function to build test from functions in __main__ and run it
    
    
    20070514173425-c9803-bbf300bfa80b8f4d92c47204e556fe8974ca4748.gz

 tests/gabbletest.py |   18 ++++++++++++++++++
 1 files changed, 18 insertions(+), 0 deletions(-)

commit 20b566cdc14d3d8f638bf8e57ded8a6825d9e85d
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri May 11 16:40:20 2007 +0000

    add test for saving alias to vCard
    
    
    20070511164020-c9803-61bffefb08303a09af6f1566462b59392c096300.gz

 tests/Makefile.am                 |    3 +-
 tests/test-save-alias-to-vcard.py |  103 +++++++++++++++++++++++++++++++++++++
 2 files changed, 105 insertions(+), 1 deletions(-)

commit 5ddbae916f361742c33d52cfccf42db89b5631f1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri May 11 16:27:07 2007 +0000

    gabbletest.py: use port 4222, not 5222, to avoid spurious failures when there's a local Jabberd running
    
    
    20070511162707-c9803-0083fd8d7facc876c293eaff5559b54fae9ece8c.gz

 tests/gabbletest.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 80393e31410c415d2544cd65518ee34d24a27dd1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri May 11 16:22:49 2007 +0000

    test-text.py: improve comments
    
    
    20070511162249-c9803-1943198979c0befb78eff1109e0296d1acbf5bff.gz

 tests/test-text.py |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit c97f91d728438e62395561a6818ed6ad5ce880a6
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri May 11 16:22:27 2007 +0000

    test-text.py: use gabbletest.run()
    
    
    20070511162227-c9803-4aadee9ba3214687eb4347055539a1c2f23e98b3.gz

 tests/test-text.py |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit fd69349f727b8b7c5c2b2c8254c19b1816693fc7
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri May 11 16:18:11 2007 +0000

    gabbletest.py: allow overriding connection parameters in gabble_test_setup()/run()
    
    
    20070511161811-c9803-e8f76e396bee32f0a7943bc07918d38fa11d7273.gz

 tests/gabbletest.py |   15 ++++++++++-----
 1 files changed, 10 insertions(+), 5 deletions(-)

commit 885d55b261e78b52ca4e50bd1b5b9c776059d528
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed May 9 14:59:00 2007 +0000

    add make rule for running Twisted tests
    
    
    20070509145900-c9803-e9323a2b1e5bd0bf636c8b90885419b49d431917.gz

 tests/Makefile.am |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit 4b34e1694bddbaa1d0125c19b65f60d840d3aadc
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed May 9 14:33:55 2007 +0000

    add some Python tests
    
    
    20070509143355-c9803-39765202c6ffed40eb140829664077076735330b.gz

 tests/test-connect.py |   76 ++++++++++++++++++++++++++++++++
 tests/test-disco.py   |   64 +++++++++++++++++++++++++++
 tests/test-roster.py  |  115 +++++++++++++++++++++++++++++++++++++++++++++++++
 tests/test-text.py    |   99 ++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 354 insertions(+), 0 deletions(-)

commit e1120dc868e354043b2547244a7b9641a6848210
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed May 9 14:32:33 2007 +0000

    add Twisted-based test infrastructure
    
    
    20070509143233-c9803-031f36f97ca02871d9e6e8f4176e9bf011609dd2.gz

 tests/gabbletest.py |  273 +++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 273 insertions(+), 0 deletions(-)

commit 4bbc8a833e06e900a31aa0159014784a512bef2d
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue May 8 12:56:04 2007 +0000

    add message parsing test
    
    
    20070508125604-c9803-26c05b2d4c34dfafbc68864a30dee3b1069a831f.gz

 tests/Makefile.am          |    6 ++-
 tests/test-parse-message.c |  139 ++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 144 insertions(+), 1 deletions(-)

commit 5dc36203f59c18074f18762d534f2a79273508e3
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue May 8 12:46:05 2007 +0000

    lm_message_build_with_sub_type ()
    
    
    20070508124605-c9803-5c94680876c78209f0288d6a17fbd5336cb37dbc.gz

 src/util.c |   20 ++++++++++++++++++++
 src/util.h |    4 ++++
 2 files changed, 24 insertions(+), 0 deletions(-)

commit c03441efea4bac1b705dd9b8045779c2ccc15a03
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue May 8 11:45:49 2007 +0000

    refactor lm_message_build to separate creating the LmMessage from adding nodes
    
    
    20070508114549-c9803-0cb09a695ebeb4341e8f70c95d85a82e951d2d1b.gz

 src/util.c |   68 +++++++++++++++++++++++++++++++++--------------------------
 1 files changed, 38 insertions(+), 30 deletions(-)

commit d8dd5595346fa2d0f066aa04d57f45bf4a0e6b77
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed May 2 16:12:05 2007 +0000

    test-gabble-presence: fix memory leak
    
    
    20070502161205-c9803-1b20c6616df218d53124ee01033a4f38d548644d.gz

 tests/test-gabble-presence.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 17fa0b7ce1740711ec471f10097e27539edc7e3a
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed May 2 14:28:17 2007 +0000

    add test for JID decoding
    
    
    20070502142817-c9803-fac595172d796cde5e0e626a53bd9bbd1a8edacb.gz

 tests/Makefile.am       |    6 +++-
 tests/test-jid-decode.c |   79 +++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 84 insertions(+), 1 deletions(-)

commit cb3c747d7b6e51600dc1b77fcf83ef3d2d9f94e3
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed May 2 14:25:53 2007 +0000

    add check-valgrind rule
    
    
    20070502142553-c9803-b6f7c67e593d413c78fcdbb86306c6d3ac567461.gz

 tests/Makefile.am |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit 9d093338742e4f5928a8fda8f26eb80b3486a8f1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue May 15 13:43:24 2007 +0000

    better error message when PEP publish/query failed
    
    
    20070515134324-7fe3f-ecdd6643b3c107e90bebdf84b1dc1de60c4ff8c6.gz

 src/conn-olpc.c |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit 32a4a6111d273223eba634b21701f153dd5e0a19
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 14 19:45:56 2007 +0000

    conn-olpc.c: add debug output to help PS debugging
    
    
    20070514194556-7fe3f-d203633a86979b6515855056554ad30420f82901.gz

 src/conn-olpc.c |   19 +++++++++++++++++++
 1 files changed, 19 insertions(+), 0 deletions(-)

commit 14e0a28ec3c747df6ff808df584a07ad1ab463fc
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue May 15 13:14:24 2007 +0000

    SetStatus: don't emit PresenceUpdate or send <presence> messages if the presence didn't actually change
    
    
    20070515131424-c9803-6a87d06ec63937ec7fcea354e192cdc00615ee41.gz

 src/conn-presence.c |   17 ++++++++++++-----
 1 files changed, 12 insertions(+), 5 deletions(-)

commit e1752897d1947faac16f157d9ad04f34a601e570
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri May 11 14:30:22 2007 +0000

    GabbleVCardManager: allow callers to modify vcard cache message in-place and reuse it in replace request
    
    
    20070511143022-01440-6adb5a9c612f9bfa5a351ea1d410854730365e57.gz

 src/vcard-manager.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 9671673f5a529fa57854bf496893dbfab7104c29
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri May 11 13:22:11 2007 +0000

    define gabble_debug_set_log_file_from_env even if ENABLE_DEBUG is not set
    
    
    20070511132211-7fe3f-457911c5855e8231a86cc26ca684e21e214cddd9.gz

 src/debug.c |   71 +++++++++++++++++++++++++++++------------------------------
 src/debug.h |    7 +++++-
 2 files changed, 41 insertions(+), 37 deletions(-)

commit 14c2ebb9f805439d5c84655c016966b2b64f877c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 7 11:51:08 2007 +0000

    properly catch close and dup2 errors
    
    
    20070507115108-7fe3f-f95bbbe74f80eb3101960ea92b620cee5cc2c260.gz

 src/debug.c  |   21 +++++++++++++++++----
 src/debug.h  |    2 +-
 src/gabble.c |    2 +-
 3 files changed, 19 insertions(+), 6 deletions(-)

commit fe09e9d6bb247fee88ebc7617d109d9e00dd6c1f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 7 11:40:50 2007 +0000

    s/GABBLE_OUTPUT/GABBLE_LOGFILE
    
    
    20070507114050-7fe3f-7ee1973e0da95ac1eaee9f444be4c70dfc6b50a7.gz

 src/debug.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 04b0e4979651dc2eb81e61b80c5b967ea7b9ce8c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 7 11:33:22 2007 +0000

    use dup2 instead of dup/close
    
    
    20070507113322-7fe3f-da6f781bd3c32e7ef50a40be1f9f583db8337347.gz

 src/debug.c |    7 ++-----
 1 files changed, 2 insertions(+), 5 deletions(-)

commit 4637e48770cb3a11cb8a0030ffce9b2dc3c17cae
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon May 7 11:00:04 2007 +0000

    add env variable GABBLE_OUTPUT used to define a file as output instead of stdout/stderr
    
    
    20070507110004-7fe3f-b308a8b1fa8f882381b4cedd1b78129f31621012.gz

 src/debug.c  |   29 +++++++++++++++++++++++++++++
 src/debug.h  |    1 +
 src/gabble.c |    2 ++
 3 files changed, 32 insertions(+), 0 deletions(-)

commit 049a1771c99109475ba257b09f3cd623b42c858f
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed May 2 17:26:24 2007 +0000

    bump version to 0.5.11.1
    
    
    20070502172624-418b8-03702a3c08345b1c34b9fdcb6af18bb3b28ba96f.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 04c3cae0aa1b80809e2a16f878dac022d062d698
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed May 2 15:23:09 2007 +0000

    bump version to 0.5.11
    
    
    20070502152309-418b8-c1266b902bdabeda2603f019ca4288bde0c57628.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 560c49901901b3d88a84581d44932a93be38d957
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue May 1 17:43:30 2007 +0000

    set the stream-server, user and resource based on the JID we get back from the server
    
    
    20070501174330-418b8-dd0fc3fde8b4e909905241e6f8e124ed3758a59a.gz

 src/gabble-connection.c |   34 ++++++++++++++++++++++++----------
 1 files changed, 24 insertions(+), 10 deletions(-)

commit 342839ee70c0d3aa0f9df411ccf2a65cde6396f3
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Apr 30 00:37:00 2007 +0000

    when receiving remote candidates, don't allow tcp candidates on port 443, but instead report ssltcp candidates on port 443 as TCP
    
    
    20070430003700-418b8-7f7a724db7b6a5cf139579320a2d4c63a22113e5.gz

 src/gabble-media-stream.c |   18 +++++++++++++++---
 1 files changed, 15 insertions(+), 3 deletions(-)

commit 1fb50b64600b59c19047a93718111206861e5aaf
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Apr 30 00:20:51 2007 +0000

    when signalling native candidates, assume that tcp relay candidates on port 443 are ssltcp
    
    
    20070430002051-418b8-1b2d0260829644863a881eb16a9ba0eaa255f0b6.gz

 src/gabble-media-stream.c |   22 +++++++++++++++++++---
 1 files changed, 19 insertions(+), 3 deletions(-)

commit 4fb2f3c37f0986b38f7013b140418d39e319247f
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Apr 30 00:19:30 2007 +0000

    fix leak/assert on bad dbus input to NewNativeCandidate
    
    
    20070430001930-418b8-12d4902b76011a44e0b6d1fe6ab072b7fab101be.gz

 src/gabble-media-stream.c |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit 699b508fd106ecedbdba91222d5f8f9cfff330fd
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Apr 27 03:58:36 2007 +0000

    add missing props mixin finalize call to the media channel
    
    
    20070427035836-418b8-f4b6adaebdedb8676a725abf24512c77bf9b7de7.gz

 src/gabble-media-channel.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 3cd4c1bc1cf84cb293eba132c2e48789031bae0e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Apr 26 17:16:15 2007 +0000

    fix roster editing callback to not allow more handlers
    
    
    20070426171615-418b8-f6dd90ffc2ab9503fe29f97ef6afac494bb0f3ee.gz

 src/roster.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 9110f5d15a4cc2be5a8169fe339381f0f54dc570
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Sat Apr 28 11:53:01 2007 +0000

    GabbleConnection: use jid that lm returns after authentication for our self handle
    
    
    20070428115301-01440-ad8832fb6d77269f0c86b3a35c315f1fb83aac1a.gz

 src/gabble-connection.c |   32 +++++++++++++++++++++++---------
 1 files changed, 23 insertions(+), 9 deletions(-)

commit 5414b2e21e0a5cbd05ae97fd4ee98a1e9478f526
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 26 16:57:06 2007 +0000

    Don't use a TP_ prefix on our type #defines, to avoid errors when they're added to telepathy-glib
    
    
    20070426165706-53eee-5ab8372c33b4da43703d68e7e2c0490279e5292b.gz

 src/gabble-connection.c       |   32 ++++++++++++++--------------
 src/gabble-media-channel.c    |   12 +++++-----
 src/gabble-media-stream.c     |   46 ++++++++++++++++++++--------------------
 src/gabble-media-stream.h     |   20 +++++++++---------
 src/gabble-roomlist-channel.c |   12 +++++-----
 src/im-factory.c              |    4 +-
 src/muc-factory.c             |    6 ++--
 src/text-mixin.c              |    2 +-
 src/text-mixin.h              |    2 +-
 9 files changed, 68 insertions(+), 68 deletions(-)

commit 18139cee437b499e053c371ee009b6e241aae4e2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 26 12:32:10 2007 +0000

    bump nano version to be able to receive olpc PEP notifications
    
    
    20070426123210-7fe3f-66fbe927d9e9e7090cf55123f4af19de4985f26d.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 1e081e11bf252e0a1ad8fbdbacf53f1aa038fa87
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 26 12:17:57 2007 +0000

    use "to" arg when calling lm_message_build so we don't need to manually add it as attribute
    
    
    20070426121757-7fe3f-e3fa75e703c1091eb8a1a61288598ce1a0c7ab92.gz

 src/pubsub.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 7f8f9281faf0c10e57a641473e2f022ef008cf54
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 26 12:02:44 2007 +0000

    remove 2 trailing spaces
    
    
    20070426120244-7fe3f-21c6150596828a98d0a601c478fedac144595362.gz

 src/pubsub.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit c4593957371424ac66e10ec6bdf5f5a9d3d9c7ec
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 25 18:37:51 2007 +0000

    remove newline
    
    
    20070425183751-7fe3f-7d1c5c0b311e6ab9e21dbc311d344c368e158ec3.gz

 src/capabilities.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 0e51ef3a223ebfb65ff58c6ab2bae618bef04d48
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 25 18:30:05 2007 +0000

    remove the OLPC bundle as we don't use it
    
    
    20070425183005-7fe3f-a5136165a22b3f5803ffa5c26e004995371e9be7.gz

 src/capabilities.c |   16 ++++++++--------
 src/capabilities.h |    1 -
 2 files changed, 8 insertions(+), 9 deletions(-)

commit 58d16740e915af653733a200b3c2a38b8c64a1b8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 24 12:47:41 2007 +0000

    Fix check for trailing whitespace
    
    
    20070424124741-53eee-94d0dc0b360c3ad066733fd1ecab53938afc33d2.gz

 check-whitespace.sh |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 09e83c719f7ea2abf4ba1bc29ed93b5ec5f011b7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 24 12:08:12 2007 +0000

    autogen.sh: Respect --no-configure
    
    
    20070424120812-53eee-a3b91b00237b92663494fa1b500f3b141dc58580.gz

 autogen.sh |   15 ++++++++++++++-
 1 files changed, 14 insertions(+), 1 deletions(-)

commit abb802332a14ce599f40543fd2f2e4d7bc7abaf7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 25 18:13:36 2007 +0000

    s/previoulsy/previously
    
    
    20070425181336-7fe3f-186db854efe56d5c43cdd67c27e643ae47058632.gz

 src/conn-olpc.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit fbbe04e9fce4895b7b5fa9a2e729b31282040326
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 25 17:26:01 2007 +0000

    add lm_message_node_extract_properties and lm_message_node_add_children_from_properties in utility functions (re-recored)
    
    
    20070425172601-7fe3f-2ce647844f3727c253f09ff25c9eb33f7d56ae34.gz

 src/util.c |  218 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/util.h |    7 ++
 2 files changed, 225 insertions(+), 0 deletions(-)

commit dd010c806313e9d3957f0f1aababf0b5e36be486
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 25 15:59:35 2007 +0000

    conn-olpc.h: fix functions declarations style
    
    
    20070425155935-7fe3f-cc428e337d9de2c8d4957c31294db47a6988d447.gz

 src/pubsub.h |   20 +++++---------------
 1 files changed, 5 insertions(+), 15 deletions(-)

commit 60127b9d21d48bc00d8169ea57676773d272bb8f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 25 15:57:13 2007 +0000

    move pubsub event cb from gabble-connection.c to pubsub.c
    
    
    20070425155713-7fe3f-79e87290c7c51b0f18356f2dde064819278258ad.gz

 src/gabble-connection.c |   60 +----------------------------------------------
 src/pubsub.c            |   54 ++++++++++++++++++++++++++++++++++++++++++
 src/pubsub.h            |    5 ++++
 3 files changed, 60 insertions(+), 59 deletions(-)

commit 2c3d3fb0d649eae069f4b6fd9b86b3fcb362f087
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 20 13:35:34 2007 +0000

    use new base64_encode API in conn-avatars
    
    
    20070420133534-7fe3f-6f40552f3e78628fec12d5c868a1b585b15f491b.gz

 src/conn-avatars.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ffbfaf58fed6d2e2e1f65f62e59f9d1f9b2329d2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 20 13:33:11 2007 +0000

    make base64_encode take length + gchar * instead of GString
    
    
    20070420133311-7fe3f-763e0cdc0d46396898ef4bce55470cede146a8ea.gz

 src/base64.c        |   22 ++++++++++------------
 src/base64.h        |    2 +-
 tests/test-base64.c |   36 +++++++++++++-----------------------
 3 files changed, 24 insertions(+), 36 deletions(-)

commit 9cb594ba48b34942a1c9d00bb661479b993bc302
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Apr 24 11:36:16 2007 +0000

    conn-olpc: use new mapping XML <--> HashTable functions from util.c
    
    
    20070424113616-7fe3f-2561d5b0f995ecf97cd749671fd4573e597b797b.gz

 src/conn-olpc.c |  128 +++----------------------------------------------------
 1 files changed, 7 insertions(+), 121 deletions(-)

commit b7680143d75a8f8bafa7008ebc8ee53b7b285aac
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Apr 23 11:11:20 2007 +0000

    OLPC properties: adapt bas64_encode call to revised interface
    
    
    20070423111120-c9803-d9296e6ab3b7cae95cf88c6fbd6a079f24a155a8.gz

 src/conn-olpc.c |    5 +----
 1 files changed, 1 insertions(+), 4 deletions(-)

commit f3d9df5cc91be42a1e349b82191d0b9a4188c1d2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Apr 25 14:57:02 2007 +0000

    include conn-olpc.h first
    
    
    20070425145702-7fe3f-2e6f87083c5b32ca21a8de0e0894a5bee010db69.gz

 src/conn-olpc.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit b012dbe01a896ce505c9a59e06ecaae2e22a4d35
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Tue Apr 24 09:17:01 2007 +0000

    set GABBLE_IFACE as prefix for extensions interfaces
    
    
    20070424091701-7fe3f-27e739b3c153bb87c8c776b6c14958177152a4a5.gz

 extensions/tools/c-interfaces-generator.xsl |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 991293d340e62f3cc5acc05ba12daebcf16748ba
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 20 16:56:01 2007 +0000

    src/gabble-connection.c: Use the interface-name strings generated in extensions/
    
    
    20070420165601-53eee-a1bb7ef8564d3398ee39e2353878dce32b87dd46.gz

 src/gabble-connection.c |   10 ++--------
 1 files changed, 2 insertions(+), 8 deletions(-)

commit 2e8d55a076c6c7caa789aaa61bf46e3d9462c366
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 20 16:54:20 2007 +0000

    conn-olpc.h: Use the "official" extensions.h
    
    
    20070420165420-53eee-32fba7ba508bc57fc0b591f8134b5b4b39c6e76d.gz

 src/conn-olpc.h |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit ca7837b7fe3f93e1364169be5b1e34cdc7e5d258
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 20 16:53:38 2007 +0000

    src/Makefile.am: make sure we can use generated headers
    
    
    20070420165338-53eee-1aa5987d274b005a45b86e3445f072922ba1f8e2.gz

 src/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 577526755343d87385cdaf425472805434a0ee2e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 20 16:52:12 2007 +0000

    Generate list of GabbleSvc* headers, and also enums and interface strings. Fix "make distcheck" in extensions directory.
    
    
    20070420165212-53eee-858249b08365b9018fd99561e34ac57a537c47e3.gz

 configure.ac                                |    1 +
 extensions/Makefile.am                      |   37 ++++-
 extensions/extensions.h                     |   10 +
 extensions/tools/Makefile.am                |    8 +
 extensions/tools/c-constants-generator.xsl  |  240 +++++++++++++++++++++++++++
 extensions/tools/c-interfaces-generator.xsl |   57 +++++++
 6 files changed, 349 insertions(+), 4 deletions(-)

commit ed70c3a6b533569767244413926f257226ea7d31
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Apr 20 16:15:11 2007 +0000

    let tp_handle_is_valid set an error for us, rather than creating our own
    
    
    20070420161511-c9803-0223ae0ed5d94466e3d613da6f9b69d24aef5520.gz

 src/conn-olpc.c |    7 ++-----
 1 files changed, 2 insertions(+), 5 deletions(-)

commit 0a9cd8a348433e7f65f9afffaec09e610778e6b3
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Apr 20 16:11:37 2007 +0000

    use tp_g_value_slice_free instead of our own function
    
    
    20070420161137-c9803-691ff6657668ae06234ac8f931c5be3e29e64cf5.gz

 src/conn-olpc.c |   11 ++---------
 1 files changed, 2 insertions(+), 9 deletions(-)

commit 9b57708851a748f55d572ac16566956e84af17c6
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Apr 20 16:06:58 2007 +0000

    host comment
    
    
    20070420160658-c9803-6d189cc2eb002af1fb9ca1d4970eea93bcdadb88.gz

 src/conn-aliasing.c |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

commit fc91e613ed3de7c72aabc447cf4a153173470a59
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Apr 20 16:04:44 2007 +0000

    extensions/_gen is boring
    
    
    20070420160444-c9803-a7d1702fa4d92cddbc380935c150e3fdcac038bb.gz

 _boring |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit e7df5f9181f734703bc507780f981e0fd1649db3
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Apr 20 15:58:39 2007 +0000

    remove lying comment from extensions/Makefile.am
    
    
    20070420155839-c9803-f3ecaa8bc3249bbcca2d66db910e31df48ac630e.gz

 extensions/Makefile.am |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit d03c91ba6148c49b2c53194b48b00acffa4b9a38
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Apr 20 14:37:55 2007 +0000

    support PEP nicknames
    
    
    20070420143755-c9803-f94cbd201fbae080720a5724f9ec17b316c7c001.gz

 src/conn-aliasing.c  |   44 ++++++++++++++++++++++++++++++++++++++++++++
 src/presence-cache.c |   27 +++++++++++++++++++++++++++
 src/presence-cache.h |    2 ++
 3 files changed, 73 insertions(+), 0 deletions(-)

commit 7422ed056d992bf9c9c44d4f883ee27206eddfc2
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Apr 20 14:36:15 2007 +0000

    autogen.sh: fix update-spec-gen-am.sh invocation
    
    
    20070420143615-c9803-2ad472913f32798a9e46a2054328692b12b221e7.gz

 autogen.sh |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f3e4527211ec7e740adc7881179c522ba7326cc3
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Apr 20 14:27:19 2007 +0000

    autogen.sh: bootstrap extensions/ code generation
    
    
    20070420142719-c9803-86b5359ef33c100a9cc6cfc50407a10ae33146c4.gz

 autogen.sh |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit ef0a2f44567e28b88300785dafa00ddb482bc9e7
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Apr 20 14:22:36 2007 +0000

    GabbleConnection: hook up OLPC/PubSub code
    
    
    20070420142236-c9803-a1d9f8d204ce9f53175763f0d5b715dcd48cd339.gz

 src/gabble-connection.c |   96 +++++++++++++++++++++++++++++++++++++++++++++++
 src/gabble-connection.h |    4 ++
 2 files changed, 100 insertions(+), 0 deletions(-)

commit 9d20b11c59d17443403b6b21d1c37cbea4cda1ee
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Apr 20 14:20:47 2007 +0000

    define OLPC capability bundle
    
    
    20070420142047-c9803-c99d330eae1307d251f883fdb3a7b9211aae1f6a.gz

 src/capabilities.c |   11 +++++++++++
 src/capabilities.h |    1 +
 2 files changed, 12 insertions(+), 0 deletions(-)

commit ce2a54a705271f7a0339ec857b5fbc5c506a58e2
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Apr 20 14:19:50 2007 +0000

    build OLPC/PubSub code
    
    
    20070420141950-c9803-badec14f6cd8599c854e4fb515d4049fae3cf39e.gz

 src/Makefile.am |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit b947e088765f191424773bc3711d3ce86fbc7101
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Apr 20 14:18:41 2007 +0000

    define namespaces for OLPC Jabber extensions
    
    
    20070420141841-c9803-d4903fb659eedd17b04e089f95abae234a0575c6.gz

 src/namespaces.h |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 971b5c5cdf7b9e3138df8f45fe832aa7bc921bbb
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Apr 20 14:18:25 2007 +0000

    add debug flag for OLPC code
    
    
    20070420141825-c9803-697e6c79786c4dcd813158525a9201f3463b8edd.gz

 src/debug.c |    1 +
 src/debug.h |    1 +
 2 files changed, 2 insertions(+), 0 deletions(-)

commit 71734ce4f3cec69dc2f4c58d8551e9145254ca80
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Apr 20 14:17:56 2007 +0000

    include extensions/ in build
    
    
    20070420141756-c9803-0bb19cb16edc9fa1b158fac80517cabce45e197b.gz

 Makefile.am  |    2 +-
 configure.ac |    1 +
 2 files changed, 2 insertions(+), 1 deletions(-)

commit a745b41bc81e0987698a405ccb6b0f6f5f1fcdc9
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Apr 20 14:16:42 2007 +0000

    add libgabble-extensions to libgabble-convenience
    
    
    20070420141642-c9803-9de646f32f16b2c14df6444b6cd396bcdea31b2a.gz

 src/Makefile.am |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 589fe69148c21451e8e8e2899263cce7cb924b45
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Apr 20 14:15:59 2007 +0000

    add extensions/Makefile.am
    
    
    20070420141559-c9803-2e4ab392b3444f03e9fc9f088995568a5b1593a1.gz

 extensions/Makefile.am |   61 ++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 61 insertions(+), 0 deletions(-)

commit e19aefc743f09b63bc4e43b5bc5c108790e32dc8
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Apr 20 14:12:49 2007 +0000

    add OLPC interface implementation
    
    
    20070420141249-c9803-ce658f43befad7cd9a6530f675490393d4c148e5.gz

 src/conn-olpc.c | 1578 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/conn-olpc.h |   54 ++
 2 files changed, 1632 insertions(+), 0 deletions(-)

commit ac995bdbb24e0dbff10b920a6f93e5875db4972d
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Apr 20 10:44:19 2007 +0000

    copy code generation tools from telepathy-glib in order to build extensions
    
    
    20070420104419-c9803-43fc452860b842203fa3e542d8894e9520983aca.gz

 extensions/tools/genginterface.py       |  707 +++++++++++++++++++++++++++++++
 extensions/tools/ls-interfaces.xsl      |   33 ++
 extensions/tools/make-all-async.xsl     |   22 +
 extensions/tools/spec-to-introspect.xsl |   26 ++
 extensions/tools/update-spec-gen-am.sh  |   75 ++++
 5 files changed, 863 insertions(+), 0 deletions(-)

commit a964be38093277082fd519b8311c0c1390fc6b27
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Apr 20 09:02:40 2007 +0000

    add extensions/ directory with OLPC interface XML
    
    
    20070420090240-c9803-ac8fe8a1696ab5b74469537a93aae6843f9cf6e5.gz

 extensions/OLPC_Activity_Properties.xml |   99 +++++++++++++
 extensions/OLPC_Buddy_Info.xml          |  232 +++++++++++++++++++++++++++++++
 extensions/all.xml                      |   28 ++++
 3 files changed, 359 insertions(+), 0 deletions(-)

commit 8005de414afb9deadc0a08d8285a619a6d7b104e
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Apr 19 18:13:55 2007 +0000

    add pubsub support code
    
    
    20070419181355-c9803-407352a4e1355a1096cfc4f5e17f0736137656bf.gz

 src/pubsub.c |  129 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/pubsub.h |   64 +++++++++++++++++++++++++++++
 2 files changed, 193 insertions(+), 0 deletions(-)

commit 6c849b5cdd459433a7bf6535ead0ba099d093711
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 23 15:48:52 2007 +0000

    if (ptr != NULL) is better from a coding style Pov
    
    
    20070423154852-7fe3f-efe2b21337395fbfce456e59a6cce0591168614f.gz

 src/gabble-muc-channel.c |    2 +-
 src/presence-cache.c     |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit c2e0ab4b6e07b28af45fe2a5cb976b3f762fd6c6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 23 15:38:13 2007 +0000

    resource should not start with '/'
    
    
    20070423153813-7fe3f-8b8033b95a216a00f7f683f6b6aeac0b7fe725e1.gz

 src/gabble-muc-channel.c |    2 ++
 src/media-factory.c      |    1 +
 2 files changed, 3 insertions(+), 0 deletions(-)

commit f7a29a316c048d8640feecc7164aee06ba45eaa3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 23 15:27:51 2007 +0000

    don't increment resource ptr if NULL
    
    
    20070423152751-7fe3f-b6af656dfaf6dc0c71c44285e180a447203b64ca.gz

 src/presence-cache.c |    8 ++++++--
 1 files changed, 6 insertions(+), 2 deletions(-)

commit 0a516c21eb4b49025a5c5cd2a8a5c9d3b3706e22
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 23 15:17:45 2007 +0000

    strchr returns a pointer on the first '/' but we don't want it in the resource
    
    
    20070423151745-7fe3f-85d73d8a704cfcc19e1bc8ad73ce0dc50690e640.gz

 src/presence-cache.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 0ce1f7d78cf2feb133246171fec15c6680d951df
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 18:39:26 2007 +0000

    Increment version to 0.5.10.1
    
    
    20070419183926-53eee-e48a0d8cc452498a5112f67daf4d5b02a1fb9947.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 086e262e523e4274d2ca217780407dd072b7911b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 18:21:31 2007 +0000

    Increment version to 0.5.10
    
    
    20070419182131-53eee-c84b58edda013f0d3a04a13f2257dd5a1831b3e2.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit bf8ead881031229d1e784cbf6b6b7c1588f8d8f8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 18:19:41 2007 +0000

    #include handle-repo-dynamic.h, not handle-repo-dynamic.c!
    
    
    20070419181941-53eee-9ee8a1a151b63d71e4e4980db29af34d3db4fb93.gz

 src/util.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b05d262d71cd5ee7b11fc064db9d2dbff87fd0ee
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 18:19:31 2007 +0000

    Don't try to ship gtk-doc.m4
    
    
    20070419181931-53eee-a05cde148095771084c1f4b9ab9acf8ce4bcc8db.gz

 m4/Makefile.am |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit df92ad8ed11e11e7c5e38d215c0656afbaad1327
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 18:10:14 2007 +0000

    Remove lib/ directory - telepathy-glib is now externally maintained
    
    
    20070419181014-53eee-119ce25778dc483b0586bf74391d41e65f5e8dd3.gz

 lib/Makefile.am                                 |   11 -
 lib/docs/Makefile.am                            |    1 -
 lib/docs/reference/Makefile.am                  |   88 --
 lib/docs/reference/telepathy-glib-docs.sgml     |   52 -
 lib/docs/reference/telepathy-glib-sections.txt  | 1234 -----------------
 lib/docs/reference/telepathy-glib.types         |   10 -
 lib/docs/reference/tp-svc.xml                   |  215 ---
 lib/spec/Channel.xml                            |  126 --
 lib/spec/Channel_Interface_Chat_State.xml       |   98 --
 lib/spec/Channel_Interface_DTMF.xml             |  132 --
 lib/spec/Channel_Interface_Group.xml            |  458 -------
 lib/spec/Channel_Interface_Hold.xml             |  123 --
 lib/spec/Channel_Interface_Media_Signalling.xml |   96 --
 lib/spec/Channel_Interface_Password.xml         |   98 --
 lib/spec/Channel_Interface_Transfer.xml         |   52 -
 lib/spec/Channel_Type_Contact_List.xml          |   69 -
 lib/spec/Channel_Type_Contact_Search.xml        |  133 --
 lib/spec/Channel_Type_Room_List.xml             |  106 --
 lib/spec/Channel_Type_Streamed_Media.xml        |  324 -----
 lib/spec/Channel_Type_Text.xml                  |  353 -----
 lib/spec/Connection.xml                         |  532 --------
 lib/spec/Connection_Interface_Aliasing.xml      |  118 --
 lib/spec/Connection_Interface_Avatars.xml       |  208 ---
 lib/spec/Connection_Interface_Capabilities.xml  |  162 ---
 lib/spec/Connection_Interface_Contact_Info.xml  |   82 --
 lib/spec/Connection_Interface_Forwarding.xml    |   75 -
 lib/spec/Connection_Interface_Presence.xml      |  313 -----
 lib/spec/Connection_Interface_Privacy.xml       |   92 --
 lib/spec/Connection_Interface_Renaming.xml      |   66 -
 lib/spec/Connection_Manager.xml                 |  248 ----
 lib/spec/Makefile.am                            |    8 -
 lib/spec/Media_Session_Handler.xml              |   74 -
 lib/spec/Media_Stream_Handler.xml               |  281 ----
 lib/spec/Properties_Interface.xml               |  142 --
 lib/spec/all.xml                                |   60 -
 lib/spec/errors.xml                             |   80 --
 lib/telepathy-glib-unstable.pc.in               |   11 -
 lib/telepathy-glib.pc.in                        |   11 -
 lib/telepathy-glib/Makefile.am                  |  272 ----
 lib/telepathy-glib/base-connection-manager.c    |  764 -----------
 lib/telepathy-glib/base-connection-manager.h    |  295 ----
 lib/telepathy-glib/base-connection.c            | 1660 -----------------------
 lib/telepathy-glib/base-connection.h            |  326 -----
 lib/telepathy-glib/channel-factory-iface.c      |  280 ----
 lib/telepathy-glib/channel-factory-iface.h      |  199 ---
 lib/telepathy-glib/channel-iface.c              |  140 --
 lib/telepathy-glib/channel-iface.h              |   75 -
 lib/telepathy-glib/dbus.c                       |  104 --
 lib/telepathy-glib/dbus.h                       |   40 -
 lib/telepathy-glib/debug-ansi.h                 |  128 --
 lib/telepathy-glib/debug.c                      |  194 ---
 lib/telepathy-glib/debug.h                      |   14 -
 lib/telepathy-glib/enums.h                      |    6 -
 lib/telepathy-glib/errors.c                     |   72 -
 lib/telepathy-glib/errors.h                     |   45 -
 lib/telepathy-glib/extra-gtkdoc.h               |  147 --
 lib/telepathy-glib/group-mixin.c                | 1369 -------------------
 lib/telepathy-glib/group-mixin.h                |  189 ---
 lib/telepathy-glib/handle-repo-dynamic.c        |  814 -----------
 lib/telepathy-glib/handle-repo-dynamic.h        |  109 --
 lib/telepathy-glib/handle-repo-static.c         |  338 -----
 lib/telepathy-glib/handle-repo-static.h         |  112 --
 lib/telepathy-glib/handle-repo.c                |  530 --------
 lib/telepathy-glib/handle-repo.h                |  190 ---
 lib/telepathy-glib/handle-set.c                 |  301 ----
 lib/telepathy-glib/handle.c                     |   52 -
 lib/telepathy-glib/handle.h                     |   85 --
 lib/telepathy-glib/heap.c                       |  289 ----
 lib/telepathy-glib/heap.h                       |   41 -
 lib/telepathy-glib/interfaces.h                 |    6 -
 lib/telepathy-glib/internal-debug.h             |   74 -
 lib/telepathy-glib/internal-handle-repo.h       |   79 --
 lib/telepathy-glib/intset.c                     |  645 ---------
 lib/telepathy-glib/intset.h                     |  138 --
 lib/telepathy-glib/properties-mixin.c           | 1155 ----------------
 lib/telepathy-glib/properties-mixin.h           |  267 ----
 lib/telepathy-glib/run.c                        |  242 ----
 lib/telepathy-glib/run.h                        |   33 -
 lib/telepathy-glib/signals-marshal.list         |    2 -
 lib/telepathy-glib/stable-interfaces.mk         |   13 -
 lib/telepathy-glib/svc-channel.h                |   15 -
 lib/telepathy-glib/svc-connection-manager.h     |    4 -
 lib/telepathy-glib/svc-connection.h             |   10 -
 lib/telepathy-glib/svc-media-interfaces.h       |    7 -
 lib/telepathy-glib/svc-properties-interface.h   |    4 -
 lib/telepathy-glib/svc-unstable.h               |   10 -
 lib/telepathy-glib/text-mixin.c                 |  707 ----------
 lib/telepathy-glib/text-mixin.h                 |  104 --
 lib/telepathy-glib/util.c                       |  204 ---
 lib/telepathy-glib/util.h                       |   38 -
 lib/tests/Makefile.am                           |   41 -
 lib/tests/test-handle-set.c                     |   87 --
 lib/tests/test-heap.c                           |   35 -
 lib/tests/test-internal-debug.c                 |   79 --
 lib/tests/test-intset.c                         |  123 --
 lib/tests/test-util.c                           |   43 -
 lib/tools/Makefile.am                           |   11 -
 lib/tools/c-constants-generator.xsl             |  240 ----
 lib/tools/c-interfaces-generator.xsl            |   57 -
 lib/tools/genginterface.py                      |  707 ----------
 lib/tools/glib-errors-enum-body.xsl             |   51 -
 lib/tools/glib-errors-enum-header.xsl           |   52 -
 lib/tools/identity.xsl                          |    7 -
 lib/tools/ls-interfaces.xsl                     |   33 -
 lib/tools/make-all-async.xsl                    |   22 -
 lib/tools/spec-to-introspect.xsl                |   26 -
 lib/tools/update-spec-gen-am.sh.in              |   75 -
 107 files changed, 0 insertions(+), 20968 deletions(-)

commit 3f6acd3553948e05d8f8c2d2a22cdc7c2011599d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 18:09:38 2007 +0000

    Remove telepathy-glib from build system, use an external copy instead
    
    
    20070419180938-53eee-0617e942744c8271e047bbd10e1e97503b36b80d.gz

 Makefile.am       |    7 ++---
 _boring           |   13 -----------
 autogen.sh        |   11 ---------
 configure.ac      |   59 +++++++---------------------------------------------
 src/Makefile.am   |   12 ++++------
 tests/Makefile.am |   14 ++++--------
 6 files changed, 21 insertions(+), 95 deletions(-)

commit 3a7f26b9857e9077635aba41e20a590e448bfe11
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 16:21:52 2007 +0000

    Don't force --enable-gtk-doc --enable-handle-leak-debug when running autogen.sh
    
    
    20070419162152-53eee-d077ee6dfbd5c6550e857751a1580bd8704d4e47.gz

 autogen.sh |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 80779b7ba64997265afd016366c8651150e32059
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 16:02:25 2007 +0000

    Use ${MAKE} -C instead of make -C
    
    
    20070419160225-53eee-36fc85408153652eb80bbd001e2a65c7f3aa8db3.gz

 Makefile.am |    2 +-
 autogen.sh  |    7 ++++++-
 2 files changed, 7 insertions(+), 2 deletions(-)

commit b460017efd9356676831ece5057ad41bd1dd57f7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 15:57:47 2007 +0000

    Generate telepathy-glib's spec-gen.am inside _gen. Remove the old spec-gen.am
    
    
    20070419155747-53eee-669bc2eb18018f610ddfbd0815261ac4a08b9403.gz

 autogen.sh                     |    2 +-
 lib/telepathy-glib/Makefile.am |   21 ++---
 lib/telepathy-glib/spec-gen.am |  182 ----------------------------------------
 3 files changed, 9 insertions(+), 196 deletions(-)

commit c4260ad0876afa1f8fdd16d28bd9ebebaf29a1b7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 15:57:33 2007 +0000

    Update _boring
    
    
    20070419155733-53eee-f72431125fb6d743885dcf5f49374c660a00194e.gz

 _boring |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit d2ac11c922c3b2ea113abefa1b54d5f7be7fbd56
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 15:57:02 2007 +0000

    Remove lib/spec/spec-gen.am from darcs
    
    
    20070419155702-53eee-b9175405d3eebd3eddd11016cf851ae12e953f23.gz

 lib/spec/spec-gen.am |   66 --------------------------------------------------
 1 files changed, 0 insertions(+), 66 deletions(-)

commit 80e6fa4ab9c0b7db9197bd61079197cae71b53cb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 15:50:13 2007 +0000

    Remove gtk-doc bits (autogen.sh will copy them in now)
    
    
    20070419155013-53eee-cd17025dc091f32fd9dffad6044e47049d023c31.gz

 gtk-doc.make  |  155 ---------------------------------------------------------
 m4/gtk-doc.m4 |   53 -------------------
 2 files changed, 0 insertions(+), 208 deletions(-)

commit b25ded6524d07e4b662cbfe2ff5d0f1f19e0c883
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 15:44:10 2007 +0000

    Add autogen.sh which runs gtkdocize, update-spec-gen-am.sh, stable-interfacs.mk and autoreconf
    
    
    20070419154410-53eee-b4b2b55c62b080b9a8da6b060284f8ce7879b461.gz

 autogen.sh |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit 58cf4a0ddcc1fb83df49088b596213e17178d136
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 15:34:03 2007 +0000

    Make libtelepathy-glib shared
    
    
    20070419153403-53eee-ce7f9a8a8cd33a90586f7d5739b5de0699df642b.gz

 configure.ac                   |   17 +++++++++++++++++
 lib/telepathy-glib/Makefile.am |   26 +++++++++++++-------------
 lib/tests/Makefile.am          |    4 +++-
 3 files changed, 33 insertions(+), 14 deletions(-)

commit 84677af06c2ddc15a5e7d59bb90adba47614cf39
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 15:30:50 2007 +0000

    Rename _gen/svc-unstable.h to _gen/unstable-svc.h so the pattern rule for svc-%.h doesn't match it
    
    
    20070419153050-53eee-86d1cb20a94143b8265ea3a27afae8fc664906ea.gz

 lib/telepathy-glib/Makefile.am    |    4 ++--
 lib/telepathy-glib/svc-unstable.h |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 4a658215827b5ed15d0c4b57f53de2092e5aa357
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 15:28:50 2007 +0000

    Make _gen/svc-whatever.h depend on Makefile.am now there's significant logic in Makefile.am
    
    
    20070419152850-53eee-517f756443b7d0b449b7e97ac99bc6f6af394e24.gz

 lib/telepathy-glib/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 45daa0ac1a534c46e8c0a676a4e62883fd51ad94
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 15:28:20 2007 +0000

    Add missing signals marshalling files to BUILT_SOURCES
    
    
    20070419152820-53eee-370124534be22187178b4e68f909a9c7de3cb133.gz

 lib/telepathy-glib/Makefile.am |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 5f453d5582768c55f1f9b6cca4d9a84d675879ee
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 15:10:31 2007 +0000

    Give tp-glib-unstable its own set of signal marshallers because when we make tp-glib shared, the signal marshallers will no longer be visible
    
    
    20070419151031-53eee-c779d2d4754b90edccdc135f838bcb2ce9612c40.gz

 lib/telepathy-glib/Makefile.am |   25 +++++++++++++++++++++----
 1 files changed, 21 insertions(+), 4 deletions(-)

commit 291b75684e961d022bb108229fd06e8c2510ee5f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 14:34:32 2007 +0000

    Install the right unstable headers to the right places
    
    
    20070419143432-53eee-6cc85cd029602cb42a101d617bd5c42449eead56.gz

 lib/telepathy-glib/Makefile.am |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit cd56f245c6fbab4dc1e3940e18ac42157310cf4f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 14:34:06 2007 +0000

    Add a comment explaining why lib/docs/reference/Makefile.am cares about out-of-tree builds
    
    
    20070419143406-53eee-9626aec60f11721a5c2aff20a98948d687afbdb3.gz

 lib/docs/reference/Makefile.am |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit c9f731e410e37624cdf4a64b2330c70d61300755
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 13:34:30 2007 +0000

    Include stable-interfaces.txt in CLEANFILES
    
    
    20070419133430-53eee-3ea643e599533cba2cda6bd1afcf2e8b8c46c2f4.gz

 lib/telepathy-glib/Makefile.am |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit a53158a3644505747837ecca4c79f80b2fd22d83
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 13:02:17 2007 +0000

    Fix variable reference in generation of _gen/svc-unstable.h
    
    
    20070419130217-53eee-603b03aa353ac58d470ba3fe94ee9a95ac81d7be.gz

 lib/telepathy-glib/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit dbac7848826db3f8b0a17954344611c990b2d141
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 13:00:35 2007 +0000

    Move the unstable interfaces' names and enums to svc-unstable documentation
    
    
    20070419130035-53eee-79d6a9e341b075cef31239d9777d78b872f6cf67.gz

 lib/docs/reference/telepathy-glib-sections.txt |   24 +++++++++++++-----------
 1 files changed, 13 insertions(+), 11 deletions(-)

commit 5c20744a625e9773e55c06abb070837db3d55e75
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 12:59:45 2007 +0000

    Allow docstrings to contain < and > without breaking gtkdoc (in a very hackish way)
    
    
    20070419125945-53eee-3cb140172984f7f093730cbc821074416b1fb666.gz

 lib/tools/c-constants-generator.xsl |   13 ++++++-------
 1 files changed, 6 insertions(+), 7 deletions(-)

commit ca1f3c8e2b8ca76798712a43661a590afb053857
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 12:52:10 2007 +0000

    Actually include interfaces and enums in the docs
    
    
    20070419125210-53eee-fdb3deb0b49a4f9d5f5d5a71e8a72c3c78cbfe8e.gz

 lib/docs/reference/telepathy-glib-docs.sgml |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit add37c911a9e4b61b24f81704322c08c550b090e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 12:47:54 2007 +0000

    Regenerate lib/telepathy-glib/spec-gen.am
    
    
    20070419124754-53eee-39a52a9a59835189632a734967bcc75ff928f6b1.gz

 lib/telepathy-glib/spec-gen.am |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit d675bfa803cc454892f354e999fdebfcf0701eb9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 12:47:37 2007 +0000

    Remove lib/stable-interfaces.txt (no longer used)
    
    
    20070419124737-53eee-e334464d3203e9e73865d631952e007f7e2800bb.gz

 0 files changed, 0 insertions(+), 0 deletions(-)

commit 0ed304ba9b325844433648b8a2edcb8c91cc40b7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 12:47:03 2007 +0000

    Move svc-unstable interfaces to their own section in the docs
    
    
    20070419124703-53eee-fbbafd7049ccb7c2c38be830a0749ae8e07f504a.gz

 lib/docs/reference/telepathy-glib-docs.sgml    |    1 +
 lib/docs/reference/telepathy-glib-sections.txt |  224 ++++++++++++------------
 lib/stable-interfaces.txt                      |   19 --
 lib/telepathy-glib/extra-gtkdoc.h              |   14 ++
 4 files changed, 130 insertions(+), 128 deletions(-)

commit 1f62b6b92d414c755b770d67e2147ee820d6fc88
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 12:39:48 2007 +0000

    Improve build system for unstable interfaces:
    
    * Remove unstable interfaces from svc-* public headers.
    * Generate stable interfaces whitelist from those public headers.
    * Separate out the generation of that whitelist into a separate .mk that
      can be invoked from autogen.sh, or otherwise used to start off the process.
    * Produce a svc-unstable.h as a public header for the unstable API.
    * Remove unstable enums and interface name #defines from main header too.
      Put them in svc-unstable.h.
    * Install unstable headers to ${includedir}/telepathy-unstable.
    * Remove --disable-unstable - the unstable part is easy for packagers to omit
      if desired (/usr/include/telepathy-unstable,
      /usr/lib/libtelepathy-glib-unstable.a,
      /usr/lib/pkgconfig/telepathy-glib-unstable.pc) and having it optional will
      get gtkdoc confused.
    
    20070419123948-53eee-f7da7afca818506e4ef51b0587d3ecd4f1639739.gz

 configure.ac                            |    7 --
 lib/Makefile.am                         |    6 +--
 lib/telepathy-glib-unstable.pc.in       |    2 +-
 lib/telepathy-glib/Makefile.am          |  111 ++++++++++++++++++++++++-------
 lib/telepathy-glib/stable-interfaces.mk |   13 ++++
 lib/telepathy-glib/svc-channel.h        |    3 -
 lib/telepathy-glib/svc-connection.h     |    4 -
 lib/telepathy-glib/svc-unstable.h       |   10 +++
 8 files changed, 111 insertions(+), 45 deletions(-)

commit 520567ffed4e8a755d82ad99a539cb791d53ded0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 12:38:01 2007 +0000

    Regenerate lib/spec/spec-gen.am
    
    
    20070419123801-53eee-f60eda7b796ede2013d8dd0dad5bde8e889c2826.gz

 lib/spec/spec-gen.am |  236 +++++++++++++-------------------------------------
 1 files changed, 61 insertions(+), 175 deletions(-)

commit 57202eaad55eeaa1ccd0c5cbe4dcbb2ecbb86deb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 12:36:04 2007 +0000

    update-spec-gen-am.sh.in: If no generated-code directory is given, don't output variables for code generation. If no stable-interfaces whitelist is given, don't split stable and unstable interfaces
    
    
    20070419123604-53eee-67789fb56926b39c5ebb41f0c4abcd07ba97666c.gz

 lib/tools/update-spec-gen-am.sh.in |   53 +++++++++++++++++++++++------------
 1 files changed, 35 insertions(+), 18 deletions(-)

commit 19e14df89c90f69b8b38ed56cc66bf921b8e5689
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 19 12:35:20 2007 +0000

    lib/tools/identity.xsl: Add an XSLT identity transformation
    
    
    20070419123520-53eee-8c48b78ced7cbe6b42295412692a19c4f8ad1d2d.gz

 lib/tools/Makefile.am  |    1 +
 lib/tools/identity.xsl |    7 +++++++
 2 files changed, 8 insertions(+), 0 deletions(-)

commit 3297db8ba3bfad5b6aa76aa330898c1400c14bbb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 18 18:01:55 2007 +0000

    Adapt genginterface.py to remove all the Telepathy-specific bits. Put them in its command-line options instead.
    
    
    20070418180155-53eee-decdb4f09406349775bd41ca02bcbcc73c51d5d4.gz

 lib/telepathy-glib/Makefile.am |    8 +++-
 lib/tools/genginterface.py     |   79 ++++++++++++++++++++++++++++++----------
 2 files changed, 65 insertions(+), 22 deletions(-)

commit c4805e7853d6454fbd92ca71b1106bc5476fec94
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 18 16:32:58 2007 +0000

    If doing an out of tree build, scan the build directory for generated source as gtkdoc input too
    
    
    20070418163258-53eee-e1af59d6ee2a8444b4ab717baf3765b226ca9fe6.gz

 configure.ac                   |    4 ++++
 lib/docs/reference/Makefile.am |    7 +++++++
 2 files changed, 11 insertions(+), 0 deletions(-)

commit a70c0a3380c7fff7be8ac6ad84e6e8ed81a50605
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 18 16:05:16 2007 +0000

    Regenerate spec-gen.am with ContactInfo marked as unstable
    
    
    20070418160516-53eee-17937fd007869bc0a16994c2e5d26634046aa4e7.gz

 lib/spec/spec-gen.am           |   12 ++++++------
 lib/telepathy-glib/spec-gen.am |   12 ++++++------
 2 files changed, 12 insertions(+), 12 deletions(-)

commit 06f37d69a0990d8d296978ca8bfa4d82f497e3c9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 18 16:05:10 2007 +0000

    Add a .pc file for libtelepathy-glib-unstable.a
    
    
    20070418160510-53eee-ff6328beb21981258a73bbdf51c0d44dff275ae7.gz

 configure.ac                      |    1 +
 lib/Makefile.am                   |    4 ++++
 lib/telepathy-glib-unstable.pc.in |   11 +++++++++++
 3 files changed, 16 insertions(+), 0 deletions(-)

commit 6d538758bc0ee61408967b2fb4ce37983f0eb954
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 18 15:24:10 2007 +0000

    Add comment noting that the "stable" libtelepathy-glib has all the signal marshallers for both itself and -unstable
    
    
    20070418152410-53eee-13bf363ead3090e585cae11f79590d9dc73478cb.gz

 lib/telepathy-glib/Makefile.am |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit a3fc832a17e773abba33d188b69367065593dbc4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 18 15:22:40 2007 +0000

    Don't duplicate signals marshallers and error handling in -unstable
    
    
    20070418152240-53eee-305adb227a5eb61e832c61068568e2568d206751.gz

 lib/telepathy-glib/Makefile.am |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit df17e740b4abf8c32833428d0dc40ffaf8c03e27
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 18 15:15:31 2007 +0000

    Correct sense of assertion
    
    
    20070418151531-53eee-4c4dab742f2133ad67d92d296d07a6f41a73b2e3.gz

 lib/telepathy-glib/base-connection-manager.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 16690318ccaf1101e2a8a1921ea59c8ab97d3635
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 18 15:15:04 2007 +0000

    Remove ContactInfo from the "stable interfaces" whitelist - it isn't
    
    
    20070418151504-53eee-348516331536fc342bee7c5c8e9a760d4ae61fd3.gz

 lib/stable-interfaces.txt |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 1d73ec070b9719396aad5b926f7e55078019ede5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 18 14:39:39 2007 +0000

    Validate Gabble CM parameters using callbacks
    
    
    20070418143939-53eee-d574c002c90fd9485c5ccde409d207f5ecd1d7e5.gz

 src/gabble-connection-manager.c |  107 ++++++++++++++++++---------------------
 1 files changed, 49 insertions(+), 58 deletions(-)

commit e46d0d96048d40a164a3a0d400397a67e7c1db1a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 18 14:38:13 2007 +0000

    Add CM parameter validation using callbacks
    
    
    20070418143813-53eee-5fc6eb0cd63317d0617457546048fe322a935f7c.gz

 lib/docs/reference/telepathy-glib-sections.txt |    3 +
 lib/telepathy-glib/base-connection-manager.c   |   45 +++++++++++++++++++
 lib/telepathy-glib/base-connection-manager.h   |   56 +++++++++++++++++++++++-
 3 files changed, 102 insertions(+), 2 deletions(-)

commit c4e9f793c77379297a84f2b9665fbf522edd92e7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 18 12:55:51 2007 +0000

    Make DEBUG expand to non-empty under --disable-debug
    
    
    20070418125551-53eee-10b852d910608ad8e778c8aaba5fb3f646b004db.gz

 lib/telepathy-glib/internal-debug.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 56f32ab1152576ecafdbfb84178250614bcbee1b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 18 12:24:03 2007 +0000

    Reinstate code to avoid emitting passwords in debug output, but this time have it take effect for any param containing "password" in its name (for proxy passwords, etc.)
    
    
    20070418122403-53eee-767f146e18f460fcc6ee309c1fa201031ff44547.gz

 lib/telepathy-glib/base-connection-manager.c |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit 9e42f87499d10883333b56eaca1073fe428df007
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 18 12:15:23 2007 +0000

    Don't emit debug output from parse_parameters when parsing a user-specified value - set_param_from_value is now responsible
    
    
    20070418121523-53eee-b5e8f47454ea8e1de0f24ee7cdd231f892de38f4.gz

 lib/telepathy-glib/base-connection-manager.c |   28 --------------------------
 1 files changed, 0 insertions(+), 28 deletions(-)

commit 1bfc15c1c50a40dcd7f48fc21e66783e489dd3ca
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 18 12:14:38 2007 +0000

    When setting parameters from defaults, don't go via a useless GValue
    
    
    20070418121438-53eee-a433060636148ce8092ae3734f77a65333aed848.gz

 lib/telepathy-glib/base-connection-manager.c |   64 ++++++++++++++++++++++----
 1 files changed, 55 insertions(+), 9 deletions(-)

commit 6223386542e6f33db26eff43bfeeb6a366f1bc07
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 18 12:14:04 2007 +0000

    Move responsibility for ignoring obsolete provided parameters
    
    
    20070418121404-53eee-af8633b6e6eb7f5b8d701e31e778034924b05ba9.gz

 lib/telepathy-glib/base-connection-manager.c |   13 +++++++------
 1 files changed, 7 insertions(+), 6 deletions(-)

commit 018db78c4399b4eec22c7bae19787bb22f56a255
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 18 12:12:48 2007 +0000

    param_default_value: Don't return an invalid GValue if there is no default - instead return a valid GValue of the correct type, with fairly arbitrary contents.
    
    
    20070418121248-53eee-49d2efde19447b97280b1d3d39ce1bf7e204ffd0.gz

 lib/telepathy-glib/base-connection-manager.c |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit ebddb0f0b3217b918d4cb61f2b2551b9754f163e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 18 12:11:00 2007 +0000

    Improve debugging in base-connection-manager by having a debug flag for parameter parsing
    
    
    20070418121100-53eee-7d0dc5352a4133c0eed0cbab75ff729979b5892d.gz

 lib/telepathy-glib/base-connection-manager.c |   44 +++++++++++++++++--------
 lib/telepathy-glib/debug.c                   |    3 ++
 lib/telepathy-glib/internal-debug.h          |    1 +
 3 files changed, 34 insertions(+), 14 deletions(-)

commit 2af0315d92e262d99fc4b59b46fe56b3c9de6d27
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 17 16:56:04 2007 +0000

    If PARAM_FLAG_HAS_DEFAULT, set the struct member to the default value
    
    
    20070417165604-53eee-b40c132df67d9f053c3cfded35ca400cb9b65503.gz

 lib/telepathy-glib/base-connection-manager.c |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit 0e07307148db679ce1bb5e5c7052a8b9e237a72f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 17 16:44:18 2007 +0000

    Instead of asserting that things with REQUIRED and REGISTER have no default, assert that things without HAS_DEFAULT have no default
    
    
    20070417164418-53eee-8779fd0ce9078a6fdb776679c391e855b342b240.gz

 lib/telepathy-glib/base-connection-manager.c |    5 +----
 1 files changed, 1 insertions(+), 4 deletions(-)

commit f14496fa9d7189296e9ca6c3cb7a01810fa950ba
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 11 15:25:33 2007 +0000

    In Gabble, verify that string parameters aren't empty if they shouldn't be, since TpBaseConnection no longer does that for us
    
    
    20070411152533-53eee-088ed646c7ec4ddd7a5fc248080ccf8ced22368b.gz

 src/gabble-connection-manager.c |   39 +++++++++++++++++++++++++++++++++++++++
 1 files changed, 39 insertions(+), 0 deletions(-)

commit e85216af0916d1c0422859c1b5e728bccb918a86
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 11 15:20:34 2007 +0000

    Allow string CM parameters to be empty; if the params structure allocator sets some defaults, properly free them
    
    
    20070411152034-53eee-5151a53369e6971aad974066b9fd796a98a00409.gz

 lib/telepathy-glib/base-connection-manager.c |   18 ++++++++++--------
 1 files changed, 10 insertions(+), 8 deletions(-)

commit 4f0c591da837591869da46032832018080448f03
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 18 14:06:55 2007 +0000

    Allocate enough memory for the NULL terminator in tp_base_connection_manager_list_protocols
    
    
    20070418140655-53eee-3d6a7aad64b78da67078c42eb671bb6cc8afa96a.gz

 lib/telepathy-glib/base-connection-manager.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a9ca383a6be085299bad775238cb610a9b94a6cc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 17 16:02:20 2007 +0000

    Update spec-gen.am
    
    
    20070417160220-53eee-47bb196557eb26573b36a183be530fd35100263b.gz

 lib/spec/spec-gen.am           |  338 +++++++++++++++++++++-------------------
 lib/telepathy-glib/spec-gen.am |  338 +++++++++++++++++++++-------------------
 2 files changed, 350 insertions(+), 326 deletions(-)

commit 1b83e6270f963e024b4dfa6bdf6660beb2e419ea
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 17 16:00:52 2007 +0000

    Split telepathy-glib into stable and unstable parts
    
    
    20070417160052-53eee-7d258d2ea8f778b431a5cf729d1f078194e7ac00.gz

 configure.ac                       |    7 ++++
 lib/stable-interfaces.txt          |   20 ++++++++++++
 lib/telepathy-glib/Makefile.am     |   43 +++++++++++++++++++++++----
 lib/tools/update-spec-gen-am.sh.in |   57 ++++++++++++++---------------------
 4 files changed, 87 insertions(+), 40 deletions(-)

commit 88054dd8667fdeff1056dc8084a3384e5829d42c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 17 12:14:32 2007 +0000

    Add a function to stringify handle types
    
    
    20070417121432-53eee-b3c6c20f8f65c6af9d66011de81725a50cf1715e.gz

 lib/docs/reference/telepathy-glib-sections.txt |    1 +
 lib/telepathy-glib/Makefile.am                 |    1 +
 lib/telepathy-glib/handle-repo-dynamic.c       |    8 +--
 lib/telepathy-glib/handle-repo-static.c        |    5 +-
 lib/telepathy-glib/handle.c                    |   52 ++++++++++++++++++++++++
 lib/telepathy-glib/handle.h                    |    4 +-
 6 files changed, 63 insertions(+), 8 deletions(-)

commit c04792e0c68c3d8370d524c23904bcc257c170fb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 17 12:06:27 2007 +0000

    Add ABI padding to TpBaseConnection, TpBaseConnectionManager
    
    
    20070417120627-53eee-578db716170d7721dfd6d1e4ec3d3b3481c2477b.gz

 lib/telepathy-glib/base-connection-manager.h |   33 ++++++++++++++++++++++---
 lib/telepathy-glib/base-connection.h         |   22 +++++++++++++++--
 lib/telepathy-glib/text-mixin.h              |    4 +++
 3 files changed, 52 insertions(+), 7 deletions(-)

commit fcd94ee59604e04099530aa20b4f337c90255517
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 16 15:31:39 2007 +0000

    Update FSF address in c-constants-generator; add copyright to c-interfaces-generator
    
    
    20070416153139-53eee-3036a78c7b7a3b2099befa5eb78314f3b4eef0ac.gz

 lib/tools/c-constants-generator.xsl  |    2 +-
 lib/tools/c-interfaces-generator.xsl |   19 +++++++++++++++++++
 2 files changed, 20 insertions(+), 1 deletions(-)

commit ad9ac81663bc4d8a0878830c0c90b43d40db01dd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 16 14:29:02 2007 +0000

    c-constants-generator.xsl: Cope with either @plural and @singular or @name and @value-prefix on enums and flag-sets; ditto @suffix or @name on flags and enum values
    
    
    20070416142902-53eee-f7d40bf95da72e2381d363cb22b0f78c591c3959.gz

 lib/tools/c-constants-generator.xsl |   72 ++++++++++++++++++++++++++++------
 1 files changed, 59 insertions(+), 13 deletions(-)

commit 1c710b4398acc152d382530481990f50fb14c77c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 16 13:16:10 2007 +0000

    Enable fatal coding style checks under the same circumstances as -Werror, with a ./configure option to make them non-fatal again
    
    
    20070416131610-53eee-f60b1602648c613b11aec8c071ac2f3e3b73dcad.gz

 check-coding-style.mk |    2 +-
 configure.ac          |   16 ++++++++++++++++
 2 files changed, 17 insertions(+), 1 deletions(-)

commit 0d127ebe5e3343b2564cbfa29dfe58d2e69b6c70
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 16 13:00:30 2007 +0000

    Update documentation for new DTMF spec. Re-order enums and associated #defines to make more sense
    
    
    20070416130030-53eee-ce56a04c89bc2931570a99804090b8f545beb6d1.gz

 lib/docs/reference/telepathy-glib-sections.txt |   54 ++++++++++++++----------
 1 files changed, 31 insertions(+), 23 deletions(-)

commit 5db664a6204bbb581f25e93dca93f3e52e134872
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 11 15:21:30 2007 +0000

    Drop the _TP_CM_UPDATED_FOR_0_5_7 hack and always use GObject* and GObjectClass* in the groups mixin API
    
    
    20070411152130-53eee-43e0510d2c8e8c846bea13e40ca9a2c600efcf96.gz

 lib/telepathy-glib/group-mixin.c |    3 --
 lib/telepathy-glib/group-mixin.h |   47 ++++++++++++++-----------------------
 src/gabble-media-channel.c       |    3 --
 src/gabble-muc-channel.c         |    3 --
 src/gabble-roster-channel.c      |    3 --
 src/roster.c                     |    3 --
 6 files changed, 18 insertions(+), 44 deletions(-)

commit c488e104cc712090098157027fb9e56cf5182a72
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 18 12:24:08 2007 +0000

    When running check-extra, produce logfiles in ${top_buildddir}/tests/gabble-<pid>.log and enable core dumps
    
    
    20070418122408-53eee-55ddd468cd22e56394039fe2e9caba48653d7c82.gz

 _boring                                            |    2 ++
 tests/Makefile.am                                  |   17 ++++++++++-------
 tests/exec-with-log.sh.in                          |    9 +++++++++
 ...p.Telepathy.ConnectionManager.gabble.service.in |    2 +-
 4 files changed, 22 insertions(+), 8 deletions(-)

commit 8f92c5e6489a39ff2ecb1cbe908faa8d37d45b1a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 17 13:25:43 2007 +0000

    During "make check", grep for comments that indicate potential problems, with output into lib/FIXME.out
    
    
    20070417132543-53eee-1339aac91f244fb1504af1fe43656a5d2de7e225.gz

 _boring         |    1 +
 lib/Makefile.am |    6 ++++++
 2 files changed, 7 insertions(+), 0 deletions(-)

commit 001cade18d2278782686c56faf0d456d1db691ba
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 16 20:10:08 2007 +0000

    Encapsulate the generation of spec-gen.am in a file
    
    
    20070416201008-53eee-4228e1231e6663f7b1c38d009a2bc80287d754d0.gz

 _boring                            |    1 +
 configure.ac                       |    1 +
 lib/spec/Makefile.am               |   16 +---
 lib/spec/spec-gen.am               |  170 ++++++++++++++++++++++++++++++++++-
 lib/telepathy-glib/Makefile.am     |   18 ----
 lib/telepathy-glib/spec-gen.am     |  174 ++++++++++++++++++++++++++++++++++--
 lib/tools/Makefile.am              |    3 +-
 lib/tools/update-spec-gen-am.sh.in |   69 ++++++++++++++
 8 files changed, 410 insertions(+), 42 deletions(-)

commit 2dc95c8aa07645487f7c90cf866fb0cad98d3d15
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 18 12:10:29 2007 +0000

    Allow "make check-extra" at top level (it runs check, then check-extra)
    
    
    20070418121029-53eee-1f9b8c4b075e3b95ef737359109ffd53b3986f1e.gz

 Makefile.am |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit dd1caabb640d6fd7c634ddde5149ae1e4ab560f9
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Apr 16 17:54:31 2007 +0000

    remove unused src/handles.[ch]
    
    
    20070416175431-418b8-b830a6c4ffe7cec0c558bbcfb5098e2775bfd0de.gz

 src/Makefile.am               |    2 -
 src/gabble-connection.c       |    1 -
 src/gabble-im-channel.c       |    1 -
 src/gabble-media-channel.h    |    1 -
 src/gabble-media-session.c    |    1 -
 src/gabble-media-stream.c     |    1 -
 src/gabble-muc-channel.h      |    1 -
 src/gabble-roomlist-channel.c |    1 -
 src/gabble-roster-channel.c   |    1 -
 src/handles.c                 |   68 -----------------------------------------
 src/handles.h                 |   38 -----------------------
 src/im-factory.c              |    1 -
 src/media-factory.c           |    1 -
 src/muc-factory.c             |    1 -
 src/presence-cache.h          |    1 -
 src/roster.c                  |    1 -
 src/text-mixin.h              |    1 -
 src/vcard-manager.c           |    2 -
 tests/test-handles.c          |    1 -
 19 files changed, 0 insertions(+), 125 deletions(-)

commit 8d43e1845b33ab37283346c19eac59e68bc60d34
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Apr 16 17:47:56 2007 +0000

    remove assertion in gabble_decode_jid that the JID is not zero length; it's inconsistent with the documentation, and in all places where this function is called, the zero-length case is handled, or cannot occur
    
    
    20070416174756-418b8-3b39999dd2b02416abacc0f2e28e06cd1b380a2c.gz

 src/util.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit d8093237c88296edc21178e1277780f11bb7da5c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Apr 16 17:47:21 2007 +0000

    remove call gabble_decode_jid in favour of strchr to find a room member's nickname
    
    
    20070416174721-418b8-b760141441ad73ea8e25474bb35463a639d5fcf8.gz

 src/gabble-muc-channel.c |    7 ++-----
 1 files changed, 2 insertions(+), 5 deletions(-)

commit daf79c3c53114d0a6d32da5e4a40d0dfa01c3c2a
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Apr 16 17:46:53 2007 +0000

    remove un-necessary decode/free of server in MUC channel
    
    
    20070416174653-418b8-67c492fab1aa15c7a7b3d0568bd5ff51bf0b9be1.gz

 src/gabble-muc-channel.c |    6 ++----
 1 files changed, 2 insertions(+), 4 deletions(-)

commit e50dfbaa3319e0922bebf12d2468512f2adf11e0
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Apr 16 17:40:38 2007 +0000

    replace calls to gabble_decode_jid with strchr to find the resource
    
    
    20070416174038-418b8-5ea9ac0f68b32bf1119f6c4d1e9e32cd3528ba1a.gz

 src/presence-cache.c |   15 ++++-----------
 1 files changed, 4 insertions(+), 11 deletions(-)

commit 2a0e61ca16550810fd1604a494d0f3c4cae32f4c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Apr 16 17:40:35 2007 +0000

    for jingle channels, get the resource with strchr instead of gabble_decode_jid and freeing it
    
    
    20070416174035-418b8-0a385dd894e2318c5a3ba25e4260803ded86705d.gz

 src/media-factory.c |   12 ++++++++----
 1 files changed, 8 insertions(+), 4 deletions(-)

commit bc1b922c26c119c66632d6ceabfad283e71dafee
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Apr 16 17:08:31 2007 +0000

    catch error case where room JIDs passed to RequestHandles are not correctly composed of room@service
    
    
    20070416170831-418b8-aa5f17e5c402dc97f06e921dc3c6cd13db684e3f.gz

 src/gabble-connection.c |   13 ++++++++++++-
 1 files changed, 12 insertions(+), 1 deletions(-)

commit d1b0566a783c956dd139b304f3798a6fb0d00eaf
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Apr 16 16:56:23 2007 +0000

    correct comment; user and user/resource are not valid forms for the "account" property
    
    
    20070416165623-418b8-65a2f8f36150a3e0c0f4eb1b7bae3a8bf584efbe.gz

 src/gabble-connection.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 911f6731d27aa34a1ad5bc574b8328a5c6fe876b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Apr 16 08:40:39 2007 +0000

    fix piling-up GErrors when set_param_from_value fails
    
    
    20070416084039-418b8-aa73cd48dcd19ab9288a30c9ab06f1bd797654de.gz

 lib/telepathy-glib/base-connection-manager.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit a02ea1aa16f7f866e43a6a98ef26424fb48eac5a
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Apr 13 14:41:49 2007 +0000

    bump version to 0.5.9.1
    
    
    20070413144149-418b8-f0e93941c55a95414498f77ca16d2644ed869548.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 94daa29c9a7f4f1d9b370f8f9214b589da5e5964
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Apr 13 14:19:14 2007 +0000

    bump version to 0.5.9
    
    
    20070413141914-418b8-38f4dfb8736a02f4e741366b2c74eac94c137460.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit eefb41fe4ff653283388080b2d6b1878e0c4a73d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Apr 13 14:14:47 2007 +0000

    update spec to 0.15.2
    
    
    20070413141447-418b8-f20e7820a1cae587c0fd5b26819baab35f40aed8.gz

 lib/spec/Channel_Interface_Chat_State.xml      |    2 +-
 lib/spec/Channel_Interface_DTMF.xml            |    4 ++--
 lib/spec/Channel_Interface_Group.xml           |    4 ++--
 lib/spec/Channel_Interface_Hold.xml            |    2 +-
 lib/spec/Channel_Interface_Password.xml        |    2 +-
 lib/spec/Channel_Type_Contact_Search.xml       |    2 +-
 lib/spec/Channel_Type_Streamed_Media.xml       |   10 +++++-----
 lib/spec/Channel_Type_Text.xml                 |    6 +++---
 lib/spec/Connection.xml                        |    6 +++---
 lib/spec/Connection_Interface_Aliasing.xml     |    2 +-
 lib/spec/Connection_Interface_Capabilities.xml |    2 +-
 lib/spec/Connection_Interface_Presence.xml     |    2 +-
 lib/spec/Connection_Manager.xml                |    2 +-
 lib/spec/Media_Stream_Handler.xml              |   13 ++++---------
 lib/spec/Properties_Interface.xml              |    2 +-
 lib/spec/all.xml                               |    2 +-
 16 files changed, 29 insertions(+), 34 deletions(-)

commit 5ac6454aedfa4901a96caeec045467a6ae6b019b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Apr 13 03:36:14 2007 +0000

    bump version to 0.5.8.1
    
    
    20070413033614-418b8-a13c55d9fd72b2ee852d3459d2738619edad46b4.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8ffeed6470e3af9e8c2fedc298b37e1a3284029d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Apr 13 03:20:12 2007 +0000

    bump version to 0.5.8
    
    
    20070413032012-418b8-5df707013ab4b0a13f13434eead3014ba743fa76.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 33d0637baadaf61690ceb0a44066feaac896be29
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Apr 13 02:58:37 2007 +0000

    update spec to 0.15.1
    
    
    20070413025837-418b8-300ca0c310d71b3a89a07c7451dd7deefc5d9f3c.gz

 lib/spec/Channel_Interface_DTMF.xml      |  120 ++++++++++++++++++++++++------
 lib/spec/Channel_Interface_Group.xml     |    7 ++
 lib/spec/Channel_Type_Streamed_Media.xml |    6 +-
 lib/spec/Connection.xml                  |    3 +
 lib/spec/Connection_Manager.xml          |    5 +
 lib/spec/Media_Stream_Handler.xml        |   30 +++++++-
 lib/spec/all.xml                         |    3 +-
 lib/spec/spec-gen.am                     |    1 +
 8 files changed, 145 insertions(+), 30 deletions(-)

commit fe79e3afc41dbed10a470fb496de3e210fc90381
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 6 13:39:31 2007 +0000

    tests/: wrap long lines
    
    
    20070406133931-53eee-86aa77025afbf1e4bac52e766e4d6b7abf969820.gz

 tests/test-gabble-presence.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 86ba7b6b4aceb3aa1c7b2868a0e9682407568466
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 6 13:39:23 2007 +0000

    src/: wrap long lines
    
    
    20070406133923-53eee-22266acba8f3eb201c93b257886aa4d76c1ff52a.gz

 src/capabilities.c            |   17 +++++--
 src/conn-aliasing.c           |    6 ++-
 src/conn-avatars.c            |    6 ++-
 src/conn-presence.c           |    6 ++-
 src/debug.c                   |    3 +-
 src/disco.c                   |   15 ++++--
 src/disco.h                   |    4 +-
 src/gabble-connection.c       |   58 ++++++++++++++---------
 src/gabble-error.h            |    3 +-
 src/gabble-im-channel.c       |   23 ++++++---
 src/gabble-im-channel.h       |   10 +++-
 src/gabble-media-channel.c    |   54 ++++++++++++++-------
 src/gabble-media-session.c    |   69 ++++++++++++++++-----------
 src/gabble-media-session.h    |   25 ++++++----
 src/gabble-media-stream.c     |  104 +++++++++++++++++++++--------------------
 src/gabble-muc-channel.c      |   61 ++++++++++++++----------
 src/gabble-muc-channel.h      |   27 +++++++----
 src/gabble-register.c         |    7 ++-
 src/gabble-register.h         |    3 +-
 src/gabble-roomlist-channel.c |   57 +++++++++++++++-------
 src/gabble-roomlist-channel.h |   12 +++--
 src/gabble-roster-channel.c   |   24 ++++++----
 src/gabble-roster-channel.h   |    9 ++-
 src/handles.c                 |    4 +-
 src/handles.h                 |    3 +-
 src/im-factory.c              |   27 +++++++----
 src/im-factory.h              |    6 ++-
 src/media-factory.c           |   58 +++++++++++++++--------
 src/media-factory.h           |   18 +++++--
 src/muc-factory.c             |   54 +++++++++++++--------
 src/muc-factory.h             |    9 ++-
 src/namespaces.h              |   12 +++--
 src/presence-cache.c          |   51 +++++++++++++-------
 src/presence.h                |   19 ++++---
 src/roster.c                  |   65 ++++++++++++++-----------
 src/roster.h                  |    9 ++-
 src/text-mixin.c              |    3 +-
 src/text-mixin.h              |    7 ++-
 src/util.h                    |   15 ++++--
 src/vcard-manager.c           |   74 ++++++++++++++++++-----------
 src/vcard-manager.h           |    9 ++-
 41 files changed, 650 insertions(+), 396 deletions(-)

commit f979b544590635d51be35eb33292e3410afd89b4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 6 13:39:10 2007 +0000

    lib/telepathy-glib/: wrap long lines
    
    
    20070406133910-53eee-1123742747db19697fdd33077b26f0e94ed6d011.gz

 lib/telepathy-glib/base-connection-manager.c |   18 ++++++++++++------
 lib/telepathy-glib/base-connection-manager.h |    9 ++++++---
 lib/telepathy-glib/base-connection.c         |   16 ++++++++++------
 lib/telepathy-glib/channel-iface.c           |    3 ++-
 lib/telepathy-glib/group-mixin.c             |    8 ++++----
 lib/telepathy-glib/handle-repo-dynamic.c     |   15 ++++++++++-----
 lib/telepathy-glib/handle-repo-static.c      |   15 ++++++++++-----
 lib/telepathy-glib/intset.h                  |    6 ++++--
 lib/telepathy-glib/text-mixin.c              |    3 ++-
 lib/telepathy-glib/text-mixin.h              |   18 +++++++++++++-----
 10 files changed, 73 insertions(+), 38 deletions(-)

commit 6e963ef67d4d2ed164d126cb88ae07b503aa7796
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 5 19:38:32 2007 +0000

    Make the corresponding header the first include in each .c file, to ensure self-containedness. Add a few missing inclusions found by doing so
    
    
    20070405193832-53eee-1e0f03d4d701e27dcae677dbaeef8226c74cadbc.gz

 lib/telepathy-glib/debug.c       |    4 ++--
 lib/telepathy-glib/group-mixin.c |    3 ++-
 lib/telepathy-glib/run.c         |    2 ++
 src/base64.c                     |    2 ++
 src/conn-avatars.c               |    4 ++--
 src/conn-presence.c              |    2 ++
 src/conn-presence.h              |    4 ++++
 src/disco.c                      |    3 ++-
 src/gabble-connection-manager.c  |    4 ++--
 src/gabble-connection.c          |    4 ++--
 src/gabble-error.c               |    3 ++-
 src/gabble-im-channel.c          |    4 ++--
 src/gabble-media-channel.c       |    4 ++--
 src/gabble-media-session.c       |    3 ++-
 src/gabble-media-stream.c        |    3 ++-
 src/gabble-muc-channel.c         |    4 ++--
 src/gabble-register.c            |    3 ++-
 src/gabble-register.h            |    3 +++
 src/gabble-roomlist-channel.c    |    4 ++--
 src/gabble-roomlist-channel.h    |    2 ++
 src/gabble-roster-channel.c      |    4 ++--
 src/handles.c                    |    3 ++-
 src/im-factory.c                 |    4 ++--
 src/media-factory.c              |    3 ++-
 src/muc-factory.c                |    3 ++-
 src/presence-cache.c             |    4 ++--
 src/presence.c                   |    3 ++-
 src/roster.c                     |    3 ++-
 src/text-mixin.c                 |    4 ++--
 src/util.c                       |    4 ++--
 src/vcard-manager.c              |    3 ++-
 31 files changed, 65 insertions(+), 38 deletions(-)

commit 6cd8d6bf880939ccdf1808d4e7bd3b5561647938
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 5 19:26:24 2007 +0000

    Semi-automated whitespace pedantry: space before function call parentheses, wrap some long lines
    
    
    20070405192624-53eee-e073352030375556c50b417302524260b977a473.gz

 lib/telepathy-glib/base-connection-manager.c |   14 ++++----
 lib/telepathy-glib/base-connection-manager.h |    4 +-
 lib/telepathy-glib/base-connection.h         |    6 ++--
 lib/telepathy-glib/channel-factory-iface.h   |    2 +-
 lib/telepathy-glib/channel-iface.h           |    2 +-
 lib/telepathy-glib/group-mixin.h             |    4 +-
 lib/telepathy-glib/handle-repo-dynamic.c     |    6 ++--
 lib/telepathy-glib/handle-repo-static.c      |    4 +-
 lib/telepathy-glib/handle-set.c              |   12 ++++----
 lib/telepathy-glib/internal-debug.h          |   10 +++---
 lib/telepathy-glib/intset.c                  |    7 ++--
 lib/telepathy-glib/properties-mixin.c        |    8 +++--
 lib/telepathy-glib/properties-mixin.h        |    6 ++--
 lib/telepathy-glib/run.c                     |    8 ++--
 lib/telepathy-glib/text-mixin.c              |   14 ++++----
 lib/telepathy-glib/text-mixin.h              |    4 +-
 lib/telepathy-glib/util.c                    |    2 +-
 lib/tests/test-internal-debug.c              |    6 ++--
 lib/tests/test-intset.c                      |   42 +++++++++++++-------------
 lib/tests/test-util.c                        |   12 ++++----
 src/base64.c                                 |    4 +-
 src/conn-avatars.c                           |    2 +-
 src/conn-presence.c                          |    2 +-
 src/debug.h                                  |    4 +-
 src/disco.h                                  |    4 +-
 src/gabble-connection-manager.h              |    4 +-
 src/gabble-connection.c                      |   22 +++++++-------
 src/gabble-connection.h                      |    4 +-
 src/gabble-im-channel.c                      |    6 ++--
 src/gabble-im-channel.h                      |    4 +-
 src/gabble-media-channel.c                   |    6 ++--
 src/gabble-media-channel.h                   |   13 +++++---
 src/gabble-media-session.h                   |   16 ++++++----
 src/gabble-media-stream.c                    |    4 +-
 src/gabble-media-stream.h                    |   32 +++++++++++++-------
 src/gabble-muc-channel.c                     |   13 ++++----
 src/gabble-muc-channel.h                     |    4 +-
 src/gabble-register.c                        |   14 ++++----
 src/gabble-register.h                        |    4 +-
 src/gabble-roomlist-channel.c                |    4 +-
 src/gabble-roomlist-channel.h                |    4 +-
 src/gabble-roster-channel.h                  |    4 +-
 src/im-factory.h                             |    4 +-
 src/media-factory.c                          |    4 +-
 src/media-factory.h                          |    4 +-
 src/muc-factory.h                            |    4 +-
 src/presence-cache.h                         |    2 +-
 src/presence.c                               |    4 +-
 src/presence.h                               |    2 +-
 src/roster.c                                 |    6 ++--
 src/roster.h                                 |    4 +-
 src/util.c                                   |    2 +-
 src/vcard-manager.c                          |   12 ++++----
 src/vcard-manager.h                          |    4 +-
 src/write-mgr-file.c                         |   42 +++++++++++++-------------
 tests/test-gabble-presence.c                 |   10 +++---
 tests/test-handles.c                         |    2 +-
 57 files changed, 237 insertions(+), 216 deletions(-)

commit 31f9c4e348c6cddfcd472059f664a6ad2de18fa8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 6 17:01:10 2007 +0000

    Make coding style violations not fail "make check" unless CHECK_CODING_STYLE is non-empty (changing everything to correct coding style is likely to cause hideous conflicts right now)
    
    
    20070406170110-53eee-54453768bd05de3baa014cd117bf87baedb37a42.gz

 check-coding-style.mk |   12 +++++++++---
 1 files changed, 9 insertions(+), 3 deletions(-)

commit 257c510883b7b42ea8e7fc2ea74e641f3f45d84f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 6 16:58:15 2007 +0000

    Distribute coding style check stuff
    
    
    20070406165815-53eee-a91b1dd9039dd292869b42d7aeab2e0fe967d3d8.gz

 Makefile.am |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 3b1c2d356da9b64ea95d4132fc90065d6e3e7ea9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 6 13:38:41 2007 +0000

    genginterface.py: Use GNU-style parenthesis placement
    
    
    20070406133841-53eee-878f7b7f975d015fdc64a3f5c1e8db325e521ff0.gz

 lib/tools/genginterface.py |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 650f7b55c56d7c9fb3ecd8722139f4d177731921
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Apr 6 13:32:04 2007 +0000

    Refactor out coding style checking into shell scripts and Makefile snippets at top level. Check for foo () vs foo() and optionally long lines.
    
    
    20070406133204-53eee-e34af7fb28b1b4b299d4e2d58fa27db56b01a6bb.gz

 check-c-style.sh               |   36 ++++++++++++++++++++++++++++++++++++
 check-coding-style.mk          |    9 +++++++++
 check-whitespace.sh            |   17 +++++++++++++++++
 lib/telepathy-glib/Makefile.am |   23 +----------------------
 lib/tests/Makefile.am          |   23 +----------------------
 src/Makefile.am                |   23 +----------------------
 tests/Makefile.am              |   25 ++-----------------------
 7 files changed, 67 insertions(+), 89 deletions(-)

commit 1603dbf4be96921713ce5fb1997257d92095ee7c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 5 19:24:41 2007 +0000

    Add a chapter to the docs explaining how to use the TpSvc GInterfaces
    
    
    20070405192441-53eee-9a9b8d42aca474f0dff220dfa6d8810953350444.gz

 lib/docs/reference/Makefile.am              |    2 +-
 lib/docs/reference/telepathy-glib-docs.sgml |    1 +
 lib/docs/reference/tp-svc.xml               |  215 +++++++++++++++++++++++++++
 3 files changed, 217 insertions(+), 1 deletions(-)

commit bde5ce8198accf13de3b51feb7329fe03c07552b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Apr 12 15:01:25 2007 +0000

    fix misordered arguments to base connection's callback for channel factory error signals
    
    
    20070412150125-418b8-160b3b9e7d2a02fbaad66499e2d7d6f5aa3ce13a.gz

 lib/telepathy-glib/base-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4405af54ebdfe082515b3bae1a879bf08fa53739
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Apr 12 15:09:44 2007 +0000

    fix interfaces array leak
    
    
    20070412150944-7fe3f-d606a0d740114f58491384a8984dcff5c46adb3a.gz

 lib/telepathy-glib/base-connection.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 0a77e1ff20030096d8d67f2d60b1222749ed3f65
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 10 14:09:04 2007 +0000

    Increment version to 0.5.7.1 after release
    
    
    20070410140904-53eee-9b010243c82cf0991196cca5d971b0f797a7a306.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 38b03c6750412f3e933966b6e7b698da25f872c2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 10 13:34:55 2007 +0000

    Bump version to 0.5.7
    
    
    20070410133455-53eee-2d4e319b9f3213ebcad1819c71b5a6e3de7e07c0.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 0ae5b4fe849ff5c88f1922a23d184c842ff386e3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Fri Apr 6 14:52:37 2007 +0000

    fix LmMessage not unrefed leak
    
    
    20070406145237-7fe3f-79d1a1b7b47242e51e4f9d4477a5543657d1be69.gz

 src/gabble-muc-channel.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 26258f5217f6713dd026eafc9b1a2b457a50ab6e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Apr 9 16:23:15 2007 +0000

     don't crash if BINVAL markup is empty in vcard (fix LP #103978 and #75800)
    
    
    20070409162315-7fe3f-61b447f8d885916d3f6bc487d79304785223f1a1.gz

 src/conn-avatars.c  |   15 +++++++++++++--
 src/vcard-manager.c |   39 ++++++++++++++++++++++++---------------
 2 files changed, 37 insertions(+), 17 deletions(-)

commit 5a793ad549794de0437de8f599a69d4574429285
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 5 19:26:04 2007 +0000

    Distinguish between C and other source when doing whitespace checks
    
    
    20070405192604-53eee-f931ee8007803f58853773819d842bb1988d6247.gz

 lib/telepathy-glib/Makefile.am |    9 +++++----
 lib/tests/Makefile.am          |   15 ++++++++++++---
 src/Makefile.am                |    9 +++++----
 tests/Makefile.am              |   18 +++++++++++++++---
 4 files changed, 37 insertions(+), 14 deletions(-)

commit c758a2265c90e6d4e15c1a1942f481db606e3d3e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 5 14:26:08 2007 +0000

    Fail "make check" if you declare a GError*, leave it uninitialized and don't add a comment indicating that that's OK because you'll immediately use g_error_new (g_set_error asserts when it sees uninitialized GError*s, so they should be avoided). Fix the resulting "make check" failures.
    
    
    20070405142608-53eee-78f4e7efb71548b36582106e52ed73734b6a36d7.gz

 lib/telepathy-glib/Makefile.am       |    8 ++++++++
 lib/telepathy-glib/base-connection.c |    9 +++------
 src/Makefile.am                      |    8 ++++++++
 src/conn-aliasing.c                  |    2 +-
 src/conn-avatars.c                   |    4 ++--
 src/conn-presence.c                  |    8 ++++----
 src/disco.c                          |    4 ++--
 src/gabble-connection.c              |   19 +++++++++----------
 src/gabble-media-stream.c            |    2 +-
 src/gabble-muc-channel.c             |    2 +-
 src/gabble-register.c                |    2 +-
 src/vcard-manager.c                  |   11 +++++------
 12 files changed, 45 insertions(+), 34 deletions(-)

commit ff04f0df98375f9e464ef0f5e02651e89872ebc2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 5 15:49:21 2007 +0000

    Document error parameter to tp_handles_client_release
    
    
    20070405154921-53eee-fa50784e88b26a57b473f5a8d1f6ea4eb594efe2.gz

 lib/telepathy-glib/handle-repo.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 82a0066e6344c5d2d57b52f77d42761ea766a354
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 5 15:47:54 2007 +0000

    Remove TP_iface_CLASS and TP_IS_iface_CLASS macros - the underlying functions don't actually support interfaces, only classes
    
    
    20070405154754-53eee-641b327afddeb886471abee8a364af9d9308c3d9.gz

 lib/docs/reference/telepathy-glib-sections.txt |   58 ------------------------
 lib/telepathy-glib/channel-factory-iface.h     |    8 ---
 lib/telepathy-glib/channel-iface.h             |    8 ---
 lib/telepathy-glib/handle-repo.h               |    8 ---
 lib/tools/genginterface.py                     |    4 --
 5 files changed, 0 insertions(+), 86 deletions(-)

commit 692df52ce67521db6dcb8be2fbb5face2a525f77
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 5 14:19:45 2007 +0000

    Oops, actually stop calling hold_unref_and_return_handles() as well as doing its equivalent. Also remove it.
    
    
    20070405141945-53eee-13a2642ae5c6db3ead07b14584a69a8b633e2aab.gz

 src/gabble-connection.c |   44 --------------------------------------------
 1 files changed, 0 insertions(+), 44 deletions(-)

commit ef6f214f516f07dffe1e47389ee71d0ba3a5ceb7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 5 13:40:22 2007 +0000

    Ignore ./configure-generated files in tests/
    
    
    20070405134022-53eee-3b717d9524030742b3363d2227d43f2c165fcf8c.gz

 _boring |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit d6786e501ef0d719263192bb707bc092d2a26e88
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 5 13:32:24 2007 +0000

    Use plural TpHandleRepoIface methods to simplify GabbleConnection. Also fix handle leak when an error occurs during room verification.
    
    
    20070405133224-53eee-ecaa5c8bd22cae442cad89592b3a26d5aa082564.gz

 src/gabble-connection.c |   25 +++++++++++++++++++++++++
 1 files changed, 25 insertions(+), 0 deletions(-)

commit 9854bcfa4e2f648317f2257ec365685261166aff
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 5 13:31:53 2007 +0000

    Use plural handle-repo methods to simplify TpBaseConnection
    
    
    20070405133153-53eee-0a0900c3eb2804962fe1971f61e19548080fbb42.gz

 lib/telepathy-glib/base-connection.c |  132 +++++++++++-----------------------
 1 files changed, 42 insertions(+), 90 deletions(-)

commit f163144f6ae53a74831faf8737272f667cc4904f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 5 13:11:19 2007 +0000

    Add functions to ref, unref, hold and release multiple handles, atomically
    
    
    20070405131119-53eee-71ea95a78e47ef0906680bde9d564c5ba3aaff12.gz

 lib/docs/reference/telepathy-glib-sections.txt |    4 +
 lib/telepathy-glib/handle-repo.c               |  179 ++++++++++++++++++++++++
 lib/telepathy-glib/handle-repo.h               |    6 +
 3 files changed, 189 insertions(+), 0 deletions(-)

commit 00406c0e34dd6d5bea426fcb762c7cc14745f709
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 5 13:04:46 2007 +0000

    Tighten up handle repo documentation
    
    
    20070405130446-53eee-68ab36f8ce1f1551cc17567edf584cdb3d8154f6.gz

 lib/telepathy-glib/handle-repo.c |   28 ++++++++++++++++------------
 1 files changed, 16 insertions(+), 12 deletions(-)

commit 0bdc3d36a13cb246ff71a6536177a78979dff6fd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 5 12:22:41 2007 +0000

    Improve documentation of tp_handle_set_add, tp_handle_set_remove
    
    
    20070405122241-53eee-6f39e4b244019966fd22e22df9bbc539385419b3.gz

 lib/telepathy-glib/handle-set.c |   11 +++++++++--
 1 files changed, 9 insertions(+), 2 deletions(-)

commit 3ce299e1d62761b2a42c0c3dbd005305a0852ad7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 5 12:22:32 2007 +0000

    Move definition of TpHandleRepoIfaceClass to an internal header - I don't want to freeze its API/ABI just yet
    
    
    20070405122232-53eee-98ed39c086f949bfefb4b4080257579598cbc1e0.gz

 lib/docs/reference/Makefile.am            |    2 +-
 lib/telepathy-glib/Makefile.am            |    1 +
 lib/telepathy-glib/handle-repo-dynamic.c  |    1 +
 lib/telepathy-glib/handle-repo-static.c   |    2 +
 lib/telepathy-glib/handle-repo.c          |    2 +
 lib/telepathy-glib/handle-repo.h          |   50 ++-----------------
 lib/telepathy-glib/internal-handle-repo.h |   79 +++++++++++++++++++++++++++++
 7 files changed, 90 insertions(+), 47 deletions(-)

commit 2c9fa5cecbb39ef873b3da2712aa8ae37c273e21
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 5 12:20:38 2007 +0000

    Don't mark members of group mixin as /*<private>*/, there's no need
    
    
    20070405122038-53eee-7e605143311aa722edfab2a47627a7b8893aa507.gz

 lib/telepathy-glib/group-mixin.h |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit de945ad6d83d25e1f344ff5ec7c9d14b23b23d4a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 5 12:20:18 2007 +0000

    Explicitly mark members of TpBaseConnection as /*<public>*/ so they'll appear in gtkdoc
    
    
    20070405122018-53eee-06ed3e43091ec972e7fb6551d1931b7656810074.gz

 lib/telepathy-glib/base-connection.h |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 69078554127ed21e1cceea6fad4b9b2efe7566a7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Apr 5 12:19:51 2007 +0000

    Mark members of TpBaseConnectionManager as /*<private>*/ since there's nothing interesting (just parent and priv)
    
    
    20070405121951-53eee-405c02913ccff424ecc6451b6935b156f705bd1e.gz

 lib/telepathy-glib/base-connection-manager.h |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit abeeb5cbcd3f301829df230e1a7b8625b1630c8e
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Apr 5 12:28:27 2007 +0000

    fixed crash when creating roomlist, wrong assertion in tp_group_mixin_change_flags and made one test case compile
    
    
    20070405122827-01440-81a09220b89a882ad20dec9ec8c04ebf1e3637b0.gz

 lib/telepathy-glib/group-mixin.c |    2 +-
 lib/tests/test-internal-debug.c  |    1 +
 src/gabble-roomlist-channel.c    |    7 ++++---
 3 files changed, 6 insertions(+), 4 deletions(-)

commit 7ac8de66ee00d2563c1381a2209ec381485da760
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 19:30:12 2007 +0000

    Correct crossreference to #TpDynamicHandleRepo:normalize-function
    
    
    20070404193012-53eee-ba1161dbf9d86b8e9a294347f8c74cbd1277684c.gz

 lib/telepathy-glib/handle-repo-dynamic.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit ceee9266f8713990ae2c47953cee2a6e071b8f54
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 19:29:39 2007 +0000

    Don't include tp_error_get_type in telepathy-glib.types - it's not a GObject-derived class so doesn't work
    
    
    20070404192939-53eee-f48191710216e41b84746209a77a50671a5c9a30.gz

 lib/docs/reference/telepathy-glib.types |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 4e4ba6e70b14f5ce87f7579da6318f9e582bc4d0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 18:06:49 2007 +0000

    Finish more documentation. Remove obsolete signal IDs from text mixin class. Add unused private-data pointers to all class and instance structures that don't have them, for future expansion.
    
    
    20070404180649-53eee-e270f45133a7275128917d5e96bdc4463400f107.gz

 lib/docs/reference/telepathy-glib-sections.txt |    3 +++
 lib/telepathy-glib/base-connection-manager.h   |    7 +++++++
 lib/telepathy-glib/base-connection.h           |    5 +++++
 lib/telepathy-glib/group-mixin.h               |   24 ++++++++++++++++++++++--
 lib/telepathy-glib/text-mixin.c                |    3 ++-
 lib/telepathy-glib/text-mixin.h                |   21 +++++++++++++++++----
 6 files changed, 56 insertions(+), 7 deletions(-)

commit 779ff89708effa74387bb258f14acc71882492ef
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 17:40:11 2007 +0000

    Finish documenting properties mixin. Give it class-private data, for future expansion if needed (currently uninitialized).
    
    
    20070404174011-53eee-58c6ba7446ed5ed8595b8d38b1603dc3845fb3e1.gz

 lib/telepathy-glib/properties-mixin.c |   27 +++++++++++++++++++++++++++
 lib/telepathy-glib/properties-mixin.h |   29 ++++++++++++++++++++++++-----
 2 files changed, 51 insertions(+), 5 deletions(-)

commit 92e726f663d12224b315a1912bed0e0969b088e3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 17:39:45 2007 +0000

    Wrap long lines
    
    
    20070404173945-53eee-e0f10de61a84217555a4a6afb06795fa7ad61eb6.gz

 lib/telepathy-glib/handle-repo.h |   10 ++++++----
 lib/telepathy-glib/text-mixin.h  |   12 ++++++++----
 2 files changed, 14 insertions(+), 8 deletions(-)

commit a23b24d433bd7e6365d330967625419a4b31701d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 17:39:37 2007 +0000

    Document TpHandleSetMemberFunc
    
    
    20070404173937-53eee-d589b1918a0cb3f88bb5b653836a610be3ea34b5.gz

 lib/telepathy-glib/handle-repo.h |   12 +++++++++++-
 1 files changed, 11 insertions(+), 1 deletions(-)

commit fd3eda8c80337baf993e3a9c0ab494c4c0bb9c6f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 17:39:17 2007 +0000

    Document TpDynamicHandleRepoNormalizeFunction
    
    
    20070404173917-53eee-13a1df84d4251b380b3a2e77760c8f5d59c6a0a7.gz

 lib/telepathy-glib/handle-repo-dynamic.h |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 7782bb502f6ecee5e1deeaef8985eea7d38232b5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 17:38:55 2007 +0000

    Move TP_INTERNAL_CONNECTION_STATUS_NEW outside TpBaseConnection struct so gtkdoc can parse both.
    
    
    20070404173855-53eee-9125a42712ff175e24c5bab67b0968412b7ec119.gz

 lib/docs/reference/telepathy-glib-sections.txt |    1 +
 lib/telepathy-glib/base-connection.h           |   27 +++++++++++------------
 2 files changed, 14 insertions(+), 14 deletions(-)

commit 3f3299c39a93aecf67fe62cfa93e11ac706163f5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 17:08:03 2007 +0000

    tests/Makefile.am: Add automated whitespace fascism
    
    
    20070404170803-53eee-18b73bbc331fcb1c7fb7bfd66efd399463f98fea.gz

 tests/Makefile.am |   14 ++++++++++++++
 1 files changed, 14 insertions(+), 0 deletions(-)

commit 51c0f9050c94d2a38e7645a604c16636053c8b9e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 17:07:49 2007 +0000

    test-basic-connect.py: Remove some trailing whitespace
    
    
    20070404170749-53eee-fd8c3f41acd4d6ea523b390f570120112dc78b00.gz

 tests/test-basic-connect.py |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 64c650cce80b8758b9a4e72912e6c3209c43233f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 17:04:54 2007 +0000

    Include tests in automated whitespace fascism
    
    
    20070404170454-53eee-6c021a5502ff79894a5ef7f20d8ba5a29962c261.gz

 lib/tests/Makefile.am |   15 +++++++++++++++
 1 files changed, 15 insertions(+), 0 deletions(-)

commit 61a3c51307edfa4512f4733637c9d217f9204798
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 17:04:32 2007 +0000

    Use Collabora coding style for tests too
    
    
    20070404170432-53eee-07a21dd04c2ab036139571e0d61b2f94922be199.gz

 lib/tests/test-handle-set.c |   14 +++++++-------
 lib/tests/test-heap.c       |   38 +++++++++++++++++++-------------------
 2 files changed, 26 insertions(+), 26 deletions(-)

commit 3f3937bc5c2e156b9b7edf56cbade431a529d279
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 16:57:27 2007 +0000

    Add automated whitespace checking during make check
    
    
    20070404165727-53eee-570152f0a7af9094489ef2bd57721c8c2713ad51.gz

 lib/telepathy-glib/Makefile.am |   17 +++++++++++++++++
 src/Makefile.am                |   33 +++++++++++++++++++++++++++++----
 2 files changed, 46 insertions(+), 4 deletions(-)

commit 65f19f4bc27261437ca5e8bc300b4c9f1700ab1e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 16:55:41 2007 +0000

    Remove some more trailing whitespace
    
    
    20070404165541-53eee-a8f75c7d5e67d1c38837b81953ad8229eece610d.gz

 src/gabble-im-channel.c |    2 +-
 src/text-mixin.h        |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 1f09e30c3eab1e15efd60445b882c6f1c20a76f0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 16:26:27 2007 +0000

    lib/: remove remaining trailing whitespace
    
    
    20070404162627-53eee-c7b8ff8e9c12b2fac277eb4ac5b674302d47792f.gz

 lib/telepathy-glib/base-connection-manager.c |    6 +++---
 lib/telepathy-glib/base-connection-manager.h |    8 ++++----
 lib/telepathy-glib/channel-iface.h           |    2 +-
 lib/telepathy-glib/handle-repo-dynamic.c     |    6 +++---
 4 files changed, 11 insertions(+), 11 deletions(-)

commit 6fcdaa30d1772a92b8e745570b7e4a0f04d3c960
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 16:25:24 2007 +0000

    src/: remove various trailing whitespace
    
    
    20070404162524-53eee-aa5df7ee303083a21a345989d302905b48f431ed.gz

 src/gabble-connection-manager.c |    2 +-
 src/gabble-im-channel.c         |    4 ++--
 src/gabble-muc-channel.c        |    2 +-
 src/muc-factory.c               |    4 ++--
 src/roster.c                    |    4 ++--
 src/vcard-manager.c             |    6 +++---
 6 files changed, 11 insertions(+), 11 deletions(-)

commit 2ef5f1556d59cfa02d1c0b92fc7ee77eea4477c0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 16:15:35 2007 +0000

    Include tp_debug_set_flags_from_string stub too, when compiling without debug
    
    
    20070404161535-53eee-dee158f8aa98ab0ce6196dd4d4bad188948b0682.gz

 lib/telepathy-glib/debug.c |   13 +++++++++----
 1 files changed, 9 insertions(+), 4 deletions(-)

commit 7e5ee52625b3bee3c1377740c05c2ebdeb162d5e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 15:56:18 2007 +0000

    Add a trivial test for the debug infrastructure
    
    
    20070404155618-53eee-f8df7ed5fe842fb52873c7396355f08b48e2d810.gz

 lib/tests/Makefile.am           |    8 +++-
 lib/tests/test-internal-debug.c |   78 +++++++++++++++++++++++++++++++++++++++
 2 files changed, 85 insertions(+), 1 deletions(-)

commit 8d68a22b96d28b24faa251a8d27ff0466405eced
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 15:56:05 2007 +0000

    Ignore telepathy-glib test executables by pattern
    
    
    20070404155605-53eee-5f4aab8384b2b52e305a26f2a02b00a37e0ebdd9.gz

 _boring |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit 9ec807b3e87ad0bda49552b8b5d2280e0799e5c0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 15:55:14 2007 +0000

    Fix multiple-inclusion guard on internal-debug.h
    
    
    20070404155514-53eee-986eb8cf8ef391d8eb2bef573b977e34491b1548.gz

 lib/telepathy-glib/internal-debug.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4e2bb10d6721ae41b56e0c98e98d31a0d3bb41e0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 14:58:59 2007 +0000

    Fix cunning multiple-inclusion-allowed behaviour of internal-debug.h so it actually works with debugging disabled
    
    
    20070404145859-53eee-711a60b9b9666cdcc0bdda6ddd0215483822558e.gz

 lib/telepathy-glib/internal-debug.h |   14 ++++++--------
 1 files changed, 6 insertions(+), 8 deletions(-)

commit f22247402ab0172f3a288455108a205832f81552
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 14:09:58 2007 +0000

    GabbleRoster, GabbleMediaChannel: update to GObject-based TpGroupMixin API
    
    
    20070404140958-53eee-01b6d585135ea18a9acdbe1bbc4bb10a4d026f32.gz

 src/gabble-media-channel.c |   38 +++++++++++++++++++++-----------------
 src/gabble-media-channel.h |    2 +-
 src/media-factory.c        |    4 ++--
 src/roster.c               |   21 ++++++++++++---------
 4 files changed, 36 insertions(+), 29 deletions(-)

commit ee357d21464ba1b36c9954ef780564c3106ba358
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 14:03:14 2007 +0000

    GabbleRosterChannel: Update for GObject-based group mixin API
    
    
    20070404140314-53eee-737240970b08bea4c8767ad9dcae9c33c824b8d3.gz

 src/gabble-roster-channel.c |   29 +++++++++++++++++------------
 1 files changed, 17 insertions(+), 12 deletions(-)

commit 7ae3988dbf318af170bf677be176d1eecfb316e1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 14:01:26 2007 +0000

    GabbleMUCChannel: whitespace/wrapping
    
    
    20070404140126-53eee-3702efa2cf27a906398e955452c4891e75eed877.gz

 src/gabble-muc-channel.c |   37 ++++++++++++++++++++++++++-----------
 1 files changed, 26 insertions(+), 11 deletions(-)

commit a8c1c90ab65000677a5a2093da1c93ae9954253d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 13:59:03 2007 +0000

    GabbleMUCChannel: Update to GObject-based group mixin API
    
    
    20070404135903-53eee-e87da7f95cb910548a09ea54e8aa85a5fecadc76.gz

 src/gabble-muc-channel.c |   53 +++++++++++++++++++++++++++------------------
 1 files changed, 32 insertions(+), 21 deletions(-)

commit 00c4c8f4eb39bdf62c6d25af4840b28e7044bb92
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 13:58:25 2007 +0000

    tp_connection_manager_run: document return value
    
    
    20070404135825-53eee-cbf4335e99bdef004aac494d8ca50b2a4d3396d3.gz

 lib/telepathy-glib/run.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 957f065078b65d30530b275e16ab1db8400c3f10
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 13:57:56 2007 +0000

    TpPropertiesMixin: add XML comments to make gtkdoc believe I've documented functions for which Returns: is enough documentation
    
    
    20070404135756-53eee-a7dba9386b0feb6ef1e76ead90693e7173aee729.gz

 lib/telepathy-glib/properties-mixin.c |   14 ++++++++++++++
 1 files changed, 14 insertions(+), 0 deletions(-)

commit 1eddc4af64f95859e8aa23954b5de09d1170592c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 13:56:39 2007 +0000

    TpGroupMixin: Switch first function argument to GObject, if CM has defined _TP_CM_UPDATED_FOR_0_5_7. Finish documenting
    
    
    20070404135639-53eee-040bf3af7d3f36e1c8cbdc6826fdfdf2fdcc9c6b.gz

 lib/telepathy-glib/group-mixin.c |   62 ++++++++++++++-----------
 lib/telepathy-glib/group-mixin.h |   92 ++++++++++++++++++++++++++++++-------
 2 files changed, 108 insertions(+), 46 deletions(-)

commit cc0632d3c0dc2a72d1de4629fefe7bfe00a6d3af
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 13:10:28 2007 +0000

    genginterface: Generate trivial gtkdoc for interface instance typedef and for interface class struct
    
    
    20070404131028-53eee-c75c57d80d4925a59ab6bb17bab0e8ee53394b51.gz

 lib/tools/genginterface.py |   19 ++++++++++++++++---
 1 files changed, 16 insertions(+), 3 deletions(-)

commit e60c27f96c0eda90fd40a39c3f9688c61d38412f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 13:10:10 2007 +0000

    Text mixin: update copyright year, explain how to use it
    
    
    20070404131010-53eee-522af6e07b985c6fe333b364ccf52dde821ec370.gz

 lib/telepathy-glib/text-mixin.c |   16 ++++++++++++++--
 1 files changed, 14 insertions(+), 2 deletions(-)

commit e73016279a476a01d13a743158e1a81de17b0a03
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 13:09:54 2007 +0000

    Properties mixin: Fold long lines, whitespace
    
    
    20070404130954-53eee-2ec87259fe7fa49a11495d02ee2c2ab7e1a0f4ea.gz

 lib/telepathy-glib/properties-mixin.c |   26 +++++++++++++++++---------
 lib/telepathy-glib/properties-mixin.h |   22 +++++++++++++++-------
 2 files changed, 32 insertions(+), 16 deletions(-)

commit 9f261f5b3f5e26e8a0b068532512fc6426011096
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 13:09:43 2007 +0000

    Group mixin: Explain how to use it
    
    
    20070404130943-53eee-bd4443804b54b9bc51f78b2ac844be17bb058fb3.gz

 lib/telepathy-glib/group-mixin.c |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit f10e830c133b56abc5c7837ba94060e6b7267718
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 13:08:51 2007 +0000

    Properties mixin: Finish documenting
    
    
    20070404130851-53eee-e9fca1735460cbac61218293d194730a74fc075f.gz

 lib/docs/reference/telepathy-glib-sections.txt |   16 ++--
 lib/telepathy-glib/properties-mixin.c          |   13 +++
 lib/telepathy-glib/properties-mixin.h          |  101 +++++++++++++++++++++---
 3 files changed, 112 insertions(+), 18 deletions(-)

commit fd51d5167654a555b9b33f5684a53a063753f614
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Apr 4 13:08:34 2007 +0000

    Move tp_error_get_type, tp_errors_quark out of API docs
    
    
    20070404130834-53eee-0dd2e8dfabd2592a7c3e0f07333b403a9c50f9dd.gz

 lib/docs/reference/telepathy-glib-sections.txt |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 7334ba9189e3a1a999ddd5a73d0facde716d38fc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 3 20:52:18 2007 +0000

    Generate simple gtkdoc for TpSvc interfaces. Stop making tp_svc_connection_connect, etc. extern (only the generated glue needs to know about the method implementations).
    
    
    20070403205218-53eee-ba2ef96a42543c5f821ef64af2e21e9f4b72a159.gz

 lib/docs/reference/telepathy-glib-sections.txt |  251 ++++++++++++------------
 lib/tools/genginterface.py                     |   68 ++++---
 2 files changed, 160 insertions(+), 159 deletions(-)

commit bc8f6ba6be19e681ccd5fd0ca6d4d32ab91c018d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 3 20:52:03 2007 +0000

    Generate simple gtkdoc for interfaces and enums
    
    
    20070403205203-53eee-68706dd1038561569a7c8434eb6bf9b6ca61bcd2.gz

 lib/tools/c-constants-generator.xsl  |   52 ++++++++++++++++++++++++++++++----
 lib/tools/c-interfaces-generator.xsl |   14 +++++++--
 2 files changed, 57 insertions(+), 9 deletions(-)

commit 05dcbabf29eaa2b7aa25422cfd90e802e417e6b9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 3 20:51:43 2007 +0000

    util.c: keep gtkdoc happy
    
    
    20070403205143-53eee-6dd4281014c5c473321c86a398c56c72b4c6e16c.gz

 lib/telepathy-glib/util.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit a1d84ef0a30cf39b8c6d4ffaf16966f65ff81c29
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 3 20:51:30 2007 +0000

    TpTextMixin: finish documenting
    
    
    20070403205130-53eee-b385c83c31058c16bc1ec0b3e79b50746fa65f77.gz

 lib/telepathy-glib/text-mixin.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit a3c8474d3fd963dd0554cf817008af59714a8da4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 3 20:51:18 2007 +0000

    TpHeap: finish documenting
    
    
    20070403205118-53eee-3fd3d60685d663da85805ccffddd2583d4933887.gz

 lib/telepathy-glib/heap.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit db92ab2b6140ce047da7df000a9bd8dde54bb334
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 3 20:50:31 2007 +0000

    TpHandleRepoIface, TpHandleSet, tp_handle_type_is_valid: finish documenting
    
    
    20070403205031-53eee-a082682fed94bdc1c64fea8e42017dd35543b21a.gz

 lib/docs/reference/telepathy-glib-sections.txt |    1 +
 lib/telepathy-glib/handle-repo.c               |   14 +++++++
 lib/telepathy-glib/handle-repo.h               |   45 ++++++++++++++++++++----
 lib/telepathy-glib/handle-set.c                |   22 +++++++++++-
 lib/telepathy-glib/handle.h                    |   15 +++++---
 5 files changed, 84 insertions(+), 13 deletions(-)

commit 7ae512e35a92e54466a374660cee3da25fe1ac25
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 3 20:49:59 2007 +0000

    TpStaticHandleRepo: finish documenting
    
    
    20070403204959-53eee-8ef216e6d9d3843efe0f4984b37ca8042cf9f504.gz

 lib/docs/reference/telepathy-glib-sections.txt |    1 +
 lib/telepathy-glib/handle-repo-static.h        |   24 ++++++++++++++++++++++++
 2 files changed, 25 insertions(+), 0 deletions(-)

commit 63ca8f906079747dbbd5f68b24725c302ed44e9f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 3 20:49:22 2007 +0000

    TpDynamicHandleRepo: finish documenting
    
    
    20070403204922-53eee-0c0b7f98a95e7d996b8fe16fc019abf2222c7da5.gz

 lib/docs/reference/telepathy-glib-sections.txt |    1 +
 lib/telepathy-glib/handle-repo-dynamic.c       |   26 ------------------
 lib/telepathy-glib/handle-repo-dynamic.h       |   34 ++++++++++++++++++++++++
 3 files changed, 35 insertions(+), 26 deletions(-)

commit 3467ecd13174a0065d8af866c74cf9542c520291
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 3 20:48:00 2007 +0000

    TpGroupMixin: Finish documenting, add a couple of assertions and use better argument names
    
    
    20070403204800-53eee-7746cabec942c292322a967bd91587ceced7a206.gz

 lib/telepathy-glib/group-mixin.c |  270 ++++++++++++++++++++++++++++++++++----
 lib/telepathy-glib/group-mixin.h |    2 +-
 2 files changed, 244 insertions(+), 28 deletions(-)

commit 7e9d90d37d1e81e35eb468899b5603d0b6f53f67
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 3 20:47:38 2007 +0000

    errors: add gtkdoc
    
    
    20070403204738-53eee-79568f34203a4d08a4c16e9536fc548581a880e9.gz

 lib/telepathy-glib/errors.c |   26 ++++++++++++++++++++++++++
 lib/telepathy-glib/errors.h |    4 ++--
 2 files changed, 28 insertions(+), 2 deletions(-)

commit 4d66f9723edaaf574dc43700983cc137ceefdfee
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 3 20:47:19 2007 +0000

    debug-ansi.h: Add trivial gtkdoc
    
    
    20070403204719-53eee-f29610fcde24d15b16fc62f5574f16e3bdb7c62b.gz

 lib/telepathy-glib/debug-ansi.h |   95 +++++++++++++++++++++++++++++++++++++++
 1 files changed, 95 insertions(+), 0 deletions(-)

commit 9774e943f64e81daa62ce574583fce0c1473242f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 3 20:46:53 2007 +0000

    TpChannelFactoryIface: tweak gtkdoc, whitespace
    
    
    20070403204653-53eee-deb1721458090c0d4eb6249482df7ba3098c5861.gz

 lib/telepathy-glib/channel-factory-iface.h |   16 +++++++++-------
 1 files changed, 9 insertions(+), 7 deletions(-)

commit 5198de760609ab775afc371546181602568ef4c2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 3 20:46:25 2007 +0000

    Finish documenting TpBaseConnection. Adjust whitespace
    
    
    20070403204625-53eee-17a6c58ddaef0415b6c427251de639fcbe70fdd6.gz

 lib/telepathy-glib/base-connection.c |   34 +++++++++++++++++++++++++++-------
 1 files changed, 27 insertions(+), 7 deletions(-)

commit a014630fb06eae5433e961f8769e45b6eda23bfb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 3 17:21:55 2007 +0000

    group-mixin.c: make local_pending_remove_foreach static
    
    
    20070403172155-53eee-1474b3dcb40db0673f4d37542a99f53340b4b903.gz

 lib/telepathy-glib/group-mixin.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit d651b77c3c2a70ca76032ed98b5182ac047765bf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 3 17:21:19 2007 +0000

    group-mixin.c: Fix migration from gpointer* to structs
    
    
    20070403172119-53eee-139b644096b5a3082049b919a2be58e5666f9b04.gz

 lib/telepathy-glib/group-mixin.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit f90a7758690b29d3ad41cdc8f7dec48ceb1ab254
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 3 17:00:47 2007 +0000

    TpGroupMixin: more whitespace
    
    
    20070403170047-53eee-ab6b62afb8e4a46a3528b86f348567818f26669c.gz

 lib/telepathy-glib/group-mixin.c |  142 ++++++++++++++++++++++---------------
 lib/telepathy-glib/group-mixin.h |   82 +++++++++++++++-------
 2 files changed, 139 insertions(+), 85 deletions(-)

commit 21118859148c7e35f9ef5127b81b4eff4e9c6e2d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 3 16:59:51 2007 +0000

    tp_base_connection_dbus_request_handles: Add a FIXME comment explaining that we're raising the wrong error
    
    
    20070403165951-53eee-9596c68555b7fb339dda393062f80fcdab220647.gz

 lib/telepathy-glib/base-connection.c |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 956ea5e102a07429901a5bff1b751eb6249d2ee5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 3 15:42:28 2007 +0000

    TpChannelFactoryIface: Change parameter from guint to TpHandle
    
    
    20070403154228-53eee-220436f8eec7607862c3e7218f9b231ce6a46f64.gz

 lib/telepathy-glib/channel-factory-iface.c |    2 +-
 lib/telepathy-glib/channel-factory-iface.h |    3 ++-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit ad38fb4a1381198a45eeb623330deab673c1f0c8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 3 15:32:17 2007 +0000

    TpGroupMixin: whitespace, line-wrapping, use structs rather than gpointer* (= void**) to pass user data to foreach functions
    
    
    20070403153217-53eee-e4c4c4f53f9a80156bdeb51c286dbf5935ca03d1.gz

 lib/telepathy-glib/group-mixin.c |  102 ++++++++++++++++++++-----------------
 1 files changed, 55 insertions(+), 47 deletions(-)

commit 16fe433c6392d4d9f7c5157a60139bad0068e431
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 3 15:10:28 2007 +0000

    Change TpHandle from guint32 to just guint. Add TP_TYPE_HANDLE which is the GType of a TpHandle (i.e. G_TYPE_UINT).
    
    
    20070403151028-53eee-d343e1f9c9b283b6b9d7e3401b5859e045f887b2.gz

 lib/telepathy-glib/handle.h |   17 +++++++++++++++--
 1 files changed, 15 insertions(+), 2 deletions(-)

commit 54380d0ed10bc24f018e0d194edb230f4d4b3f3b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 3 15:09:53 2007 +0000

    TpChannelFactoryIface: whitespace/indentation
    
    
    20070403150953-53eee-9933167327386a36684f7f8cbe8ae7c9df80142a.gz

 lib/telepathy-glib/channel-factory-iface.c |   17 +++++++++--------
 1 files changed, 9 insertions(+), 8 deletions(-)

commit 7dcdbec48b1ad1708afa4822bf53f3c31ef24c97
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 20:07:00 2007 +0000

    heap and intset: Complete documentation and "document" functions with an XML comment when the contents of Returns: is enough
    
    
    20070402200700-53eee-94121403b5005f00947e458e515f6ecdeee1f92b.gz

 lib/telepathy-glib/heap.c   |   10 +++++++++-
 lib/telepathy-glib/intset.c |   20 ++++++++++++++++++++
 2 files changed, 29 insertions(+), 1 deletions(-)

commit 73c518a7c5a2320e7b2ce10b0ab4fc78cbce8a32
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 20:05:51 2007 +0000

    text-mixin: complete documentation
    
    
    20070402200551-53eee-630a64b831d43e535f22c9d18adc7197aeb852ad.gz

 lib/telepathy-glib/text-mixin.c |   11 ++++++++---
 1 files changed, 8 insertions(+), 3 deletions(-)

commit 4a89ef5ee9accf7f5cab0ada1eb0700484e65945
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 20:05:36 2007 +0000

    text-mixin: Fix documentation for tp_text_mixin_init()
    
    
    20070402200536-53eee-281f52b302e6755b9d7389495970e9f033ca7059.gz

 lib/telepathy-glib/text-mixin.c |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

commit c3ae14db583cf3b76fc99c7614ab923d6e5b4b59
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 20:03:42 2007 +0000

    handle-repo: Improve documentation slightly
    
    
    20070402200342-53eee-e7c24922ad92248e9a614bd70e33900637e4d8a4.gz

 lib/telepathy-glib/handle-repo.c |   11 ++++++++++-
 lib/telepathy-glib/handle-repo.h |    3 +++
 2 files changed, 13 insertions(+), 1 deletions(-)

commit 97db586acc8018dad45a5dc90ed73f076980a0cb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 20:03:26 2007 +0000

    extra-gtkdoc.h: Add svc-media-interfaces SECTION.
    
    
    20070402200326-53eee-23b6af5f7b0746b62a7734452a03dfc4192fea91.gz

 lib/telepathy-glib/extra-gtkdoc.h |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit b9e131fb34cc10ede5a36b56080f2d7fab87bc0b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 20:02:42 2007 +0000

    dbus.c: "Document" functions with an XML comment, if the Returns: stanza is enough documentation (stops gtkdoc thinking they're undocumented).
    
    
    20070402200242-53eee-491dbca49affe5ea303f1102c1202b63612b171c.gz

 lib/telepathy-glib/dbus.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 587675e79cefd6da64deac5728124c24df8492e0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 19:50:02 2007 +0000

    Add SECTION blurb for handle, handle-repo-static
    
    
    20070402195002-53eee-ee4235344e71c5cf187693b921cde63d4a5d202c.gz

 lib/telepathy-glib/extra-gtkdoc.h       |    9 +++++++++
 lib/telepathy-glib/handle-repo-static.c |   18 ++++++++++++++++++
 2 files changed, 27 insertions(+), 0 deletions(-)

commit cb5f7ee2db42f67bf661355a537a6bd013bf4a27
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 19:44:39 2007 +0000

    extra-gtkdoc.h: Document interfaces, errors
    
    
    20070402194439-53eee-0eac34fe9aa97f6e4cc1865b8660f2394e625139.gz

 lib/telepathy-glib/extra-gtkdoc.h |   27 ++++++++++++++++++++++++++-
 1 files changed, 26 insertions(+), 1 deletions(-)

commit 9a8d9d006cd7f14e7dbced63fe60e5d244d70915
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 19:44:20 2007 +0000

    extra-gtkdoc.h: it's short_description, not short-description
    
    
    20070402194420-53eee-8d13e19a165b0b0acf54a5791a6c4406df297ed1.gz

 lib/telepathy-glib/extra-gtkdoc.h |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 4591fdd68c89ae6354226b69590ff917ce7b3324
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 19:36:51 2007 +0000

    Add SECTION blurb for enums.h to extra-gtkdoc.h
    
    
    20070402193651-53eee-bf146424167641ad5f96135e4a7627328cbd1ddd.gz

 lib/telepathy-glib/extra-gtkdoc.h |   19 +++++++++++++++++++
 1 files changed, 19 insertions(+), 0 deletions(-)

commit 12d61638662414832b9ac083ff5e11b571b745d2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 19:36:42 2007 +0000

    Add copyright to extra-gtkdoc.h
    
    
    20070402193642-53eee-bf4bbabc7b12905eb9cf9c69fd463127467f627c.gz

 lib/telepathy-glib/extra-gtkdoc.h |   17 +++++++++++++++++
 1 files changed, 17 insertions(+), 0 deletions(-)

commit 67481379a84e7fde403d1b67f7d652f5d33597d2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 19:36:22 2007 +0000

    Document that the default in TpBaseConnection is no additional interfaces
    
    
    20070402193622-53eee-1e1b7b69afb5ef93ba24afa3e63c200e56d6c45a.gz

 lib/telepathy-glib/base-connection.h |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

commit a0a6125487b68beb2eabb7e5eea83a5f172006bf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 19:20:23 2007 +0000

    Correct TpBaseConnection introduction
    
    
    20070402192023-53eee-ebd91335c8e6c3af90fe6ae012ff04247ba2b149.gz

 lib/telepathy-glib/base-connection.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit df419f7439e6b5e375e356b2e02020a5904422e4
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Apr 3 17:37:32 2007 +0000

    compilability
    
    
    20070403173732-c9803-02966b6aba6e629d32cea2b934387b9e4358fe34.gz

 lib/telepathy-glib/base-connection.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 52d3a283e661e6461188c4e420c8e1e695c08d89
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 20:07:09 2007 +0000

    Change misleading constant name LAST_GABBLE_PRESENCE to NUM_GABBLE_PRESENCES
    
    
    20070402200709-53eee-26bbc1d94710f7de36922eaff5396f6b5a6ff650.gz

 src/conn-presence.c     |   10 +++++-----
 src/gabble-connection.h |    2 +-
 2 files changed, 6 insertions(+), 6 deletions(-)

commit 759a9d09ab8c258f6da2d76b9540f5a5a599a81c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 3 14:27:44 2007 +0000

    text-mixin.h: Remove tp_text_mixin_get_type, there's no such function
    
    
    20070403142744-53eee-ee586ca2c89e1bf00c77119b3a1a71b270d91e69.gz

 lib/docs/reference/telepathy-glib-sections.txt |    1 -
 lib/telepathy-glib/text-mixin.h                |    2 --
 2 files changed, 0 insertions(+), 3 deletions(-)

commit 20c169bdcaa2d73d894f82e4e114068d6abd72a9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 3 16:48:49 2007 +0000

    base-connection.c: whitespace pedantry (space before parenthesis)
    
    
    20070403164849-53eee-47ebff15f958a985a90a758b0d7438e103647133.gz

 lib/telepathy-glib/base-connection.c |   26 +++++++++++++-------------
 1 files changed, 13 insertions(+), 13 deletions(-)

commit 10052be6c3ae108b9fbc2d3df62ef118b0b647b2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 3 16:48:12 2007 +0000

    base-connection.c: use g_strv_length rather than reinventing it
    
    
    20070403164812-53eee-5fd626518b0e712bf30efd8146c28d3b1c1f408f.gz

 lib/telepathy-glib/base-connection.c |   12 +++---------
 1 files changed, 3 insertions(+), 9 deletions(-)

commit 4d00d0ffc1b748af75758e4c4d86efdfc1aeffab
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Apr 3 16:47:46 2007 +0000

    base-connection.c: linguistic pedantry (capitalize sentence fragment if it has a full stop)
    
    
    20070403164746-53eee-722ca7f515963f7c8a055906f8312bef6b178e75.gz

 lib/telepathy-glib/base-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit af9a829517894b5810b7429cf89f7f4b0f309a7d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 19:01:00 2007 +0000

    Include svc-connection.h to base-connection.h since it's now part of the API
    
    
    20070402190100-53eee-b3ca467d0a83f70e798f31a374bd99369ee561d7.gz

 lib/telepathy-glib/base-connection.c |    2 --
 lib/telepathy-glib/base-connection.h |    3 ++-
 2 files changed, 2 insertions(+), 3 deletions(-)

commit 129cea911ff374cb0f44a82ee2c42d476dda24d5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 19:00:51 2007 +0000

    Add tp_base_connection_dbus_request_handles to sections.txt
    
    
    20070402190051-53eee-48c42d848a6709412e484c7046f12e4d0e880a98.gz

 lib/docs/reference/telepathy-glib-sections.txt |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit f93802e985de972400bab209890f94fb8ef919f3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 18:55:43 2007 +0000

    Implement GabbleConnection's RequestHandles in terms of the base class' RequestHandles for all types except ROOM
    
    
    20070402185543-53eee-c0c0c5d4ead953f26e0f01f71baf30cdc3c55180.gz

 src/gabble-connection.c |  116 +++++------------------------------------------
 1 files changed, 11 insertions(+), 105 deletions(-)

commit 0bc343579f4e623551e9d8bedaab661c80325c31
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 18:55:36 2007 +0000

    Export TpBaseConnection's implementation of RequestHandles as tp_base_connection_dbus_request_handles so subclasses can partially use it
    
    
    20070402185536-53eee-5fa8f5ba51e2d91c439c7546b4706c47452ec162.gz

 lib/telepathy-glib/base-connection.c |   56 +++++++++++++++++++---------------
 lib/telepathy-glib/base-connection.h |    3 ++
 2 files changed, 34 insertions(+), 25 deletions(-)

commit 44600da5e483feb6d3a3cd2439caded920eacded
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 18:54:54 2007 +0000

    Don't cause a nearly infinite loop by handling pointers incorrectly
    
    
    20070402185454-53eee-4364a9685f98c11e42842047a4842064447ef61f.gz

 lib/telepathy-glib/base-connection.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit cd61cd18933609dc28aa2172231f97ab3a5421cd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 18:54:09 2007 +0000

    Document TpBaseConnection:protocol
    
    
    20070402185409-53eee-b1812ea882979e371181ac1a384bc3bdf8632ba2.gz

 lib/telepathy-glib/base-connection.c |   11 +++++++++--
 1 files changed, 9 insertions(+), 2 deletions(-)

commit 37aa46f4e511731ace91a1475d61d5958aef3692
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 18:53:47 2007 +0000

    Add tp_base_connection_add_interfaces to sections.txt
    
    
    20070402185347-53eee-f475e3eb4c079f7aeb62b3210d9835835a9fcf8f.gz

 lib/docs/reference/telepathy-glib-sections.txt |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 99361d707f8c2775dfd37da8461639f0cbd183f9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 18:34:45 2007 +0000

    Treat (gchar **)NULL as an empty strv, rather than an error, according to GLib convention
    
    
    20070402183445-53eee-0670791b6546b92709c2e9ba37012c16f356e806.gz

 lib/telepathy-glib/base-connection.c |   13 +++++++++++--
 1 files changed, 11 insertions(+), 2 deletions(-)

commit b4b84e49bea5211a130f754e74c7a81d9d734d7b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 18:16:04 2007 +0000

    GabbleIMChannel: Use priv->closed to make sure we don't accidentally emit Closed twice
    
    
    20070402181604-53eee-261eef4595f30b8f9ccd4cb3ff93853d3a70e7c1.gz

 src/gabble-im-channel.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit bcd64c04e3bcbf585503687239d8b9c3f60ad55d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 18:13:20 2007 +0000

    GabbleConnection: Don't reimplement GetInterfaces, use the one from TpBaseConnection instead
    
    
    20070402181320-53eee-54f425d8eba8a282a79f5203c02db24c84af727e.gz

 src/gabble-connection.c |   46 +++++++++-------------------------------------
 1 files changed, 9 insertions(+), 37 deletions(-)

commit 500a007eb1281783d49e0dde456832fea89f63ff
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 18:13:17 2007 +0000

    Add a generic GetInterfaces implementation
    
    
    20070402181317-53eee-240f017293efa98f3159c86f10ac3b6e3967ecc0.gz

 lib/telepathy-glib/base-connection.c |  117 +++++++++++++++++++++++++++++++++-
 lib/telepathy-glib/base-connection.h |   13 ++++-
 2 files changed, 127 insertions(+), 3 deletions(-)

commit 038a9ce64dd3fbb6355d9cbdac99433d1449c529
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 14:37:28 2007 +0000

    tp_base_connection_connect: Allow start_connecting() callback to change the state itself - only alter the state afterwards if necessary. Convert exceptions raised by start_connecting() into a disconnection with an appropriate reason.
    
    
    20070402143728-53eee-ee86b0668704e0c7536642a80df525ea2326a130.gz

 lib/telepathy-glib/base-connection.c |   37 +++++++++++++++++++++++++++------
 1 files changed, 30 insertions(+), 7 deletions(-)

commit a60cdd347d5c96f18318a46c85a2b82436b2ced7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 14:36:58 2007 +0000

    tp_base_connection_change_status: If the self-handle is 0, cope with it and don't assert
    
    
    20070402143658-53eee-1a43cc8bd39019bca40318cc24be7882271be19f.gz

 lib/telepathy-glib/base-connection.c |    9 ++++++---
 1 files changed, 6 insertions(+), 3 deletions(-)

commit a24d71c9714d7b273454e2e82d09a966c8671a19
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 14:36:09 2007 +0000

    Make changing status *to* TP_INTERNAL_CONNECTION_STATUS_NEW a g_return_if_fail instead of a g_assert
    
    
    20070402143609-53eee-1c6dd34612b76db8552923fb832dd9c03a5643d2.gz

 lib/telepathy-glib/base-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e7aebd98ce6f6c2638aced955d5b23b8c2c64617
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 14:34:51 2007 +0000

    tp_base_connection_change_status: Document assumptions and valid state changes, both in a doc-comment and via assertions. If the user tries to go straight from DISCONNECTED to CONNECTED, change state to CONNECTING first to make sure we run all the callbacks
    
    
    20070402143451-53eee-6ba0ef7a6600d205c010856d010b0024f4735ff8.gz

 lib/telepathy-glib/base-connection.c |   75 ++++++++++++++++++++++++++++++++++
 1 files changed, 75 insertions(+), 0 deletions(-)

commit 2052be1e428a04aeb6b2d3aeed92f651cb96778c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 14:34:04 2007 +0000

    tp_base_connection_finish_shutdown: mark docstring so gtkdoc recognizes it
    
    
    20070402143404-53eee-4765927c6adc8aa12e98ca5398fbf96515492c87.gz

 lib/telepathy-glib/base-connection.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 8832adbd303df7523de7f9ef27bde4f877dcc6ad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 14:32:45 2007 +0000

    TpBaseConnection: provide a default implementation of RequestHandles which should often be sufficient
    
    
    20070402143245-53eee-afe5f5d9ed6029292f47c9ee997f47f144bf6165.gz

 lib/telepathy-glib/base-connection.c |  141 +++++++++++++++++++++++++++++++++-
 1 files changed, 137 insertions(+), 4 deletions(-)

commit 396d8a3bf8f52435d870877dc3ff0d3788f043e7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 14:31:18 2007 +0000

    TpDynamicHandleRepo: Move most documentation to .c to reduce recompiles. Improve documentation.
    
    
    20070402143118-53eee-3fd9ea952d4866a17a92605bb2bf9e8fa914d0d8.gz

 lib/telepathy-glib/handle-repo-dynamic.c |   74 +++++++++++++++++++++++++++++-
 lib/telepathy-glib/handle-repo-dynamic.h |   26 ----------
 2 files changed, 73 insertions(+), 27 deletions(-)

commit 6e5ce1fa8b692224dca145aadd2d9444a6365dc7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 14:31:06 2007 +0000

    gabble-connection.h: Wrap long lines
    
    
    20070402143106-53eee-1d23f80bee7c7588605b09fe4412f9a8628b638e.gz

 src/gabble-connection.h |   32 +++++++++++++++++++++-----------
 1 files changed, 21 insertions(+), 11 deletions(-)

commit 8305af4a46287deee3a16ea07bdae3aa584ba0c4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 14:30:04 2007 +0000

    src/: Use TP_BASE_CONNECTION_ERROR_IF_NOT_CONNECTED (replacing ERROR_IF_NOT_CONNECTED_ASYNC, or adding the check for the first time int the avatars code - oops!)
    
    
    20070402143004-53eee-07516fd7a35c2be1fe3d9a3366cf7b29398c6625.gz

 src/conn-aliasing.c     |    7 +++----
 src/conn-avatars.c      |   12 +++++++++++-
 src/conn-presence.c     |   17 +++++++----------
 src/gabble-connection.c |    9 ++++-----
 src/gabble-connection.h |   11 -----------
 5 files changed, 25 insertions(+), 31 deletions(-)

commit 5fcbf80a73f2039ff7e213cf69ef211979cce2f9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 14:28:59 2007 +0000

    base-connection.c: Use TP_BASE_CONNECTION_ERROR_IF_NOT_CONNECTED
    
    
    20070402142859-53eee-a4cbd672563db61d3acad5ff601e549bb4e0f7d8.gz

 lib/telepathy-glib/base-connection.c |   30 ++++++++----------------------
 1 files changed, 8 insertions(+), 22 deletions(-)

commit 682119fd89022352b058acaac037703a9b9f03c2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 14:28:55 2007 +0000

    base-connection.h: Add TP_BASE_CONNECTION_ERROR_IF_NOT_CONNECTED macro
    
    
    20070402142855-53eee-19fe11105ee245fafba14b75cef22c484f34627d.gz

 lib/docs/reference/telepathy-glib-sections.txt |    1 +
 lib/telepathy-glib/base-connection.h           |   28 +++++++++++++++++++++++-
 2 files changed, 28 insertions(+), 1 deletions(-)

commit 34ea1eb59200e73363c0b7a811ae79d828858f57
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 14:28:23 2007 +0000

    base-connection.h: Wrap long lines
    
    
    20070402142823-53eee-c727a973cdea421c58c9c8f2046dace1a2c17acf.gz

 lib/telepathy-glib/base-connection.h |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 56b5d6bc43c619dbcbe917eef4800f383787d2ee
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 14:27:30 2007 +0000

    base-connection.h: Improve documentation
    
    
    20070402142730-53eee-f4eada44557ca4861fe8a402c8c2ec07f68a175e.gz

 lib/telepathy-glib/base-connection.h |  100 +++++++++++++++++++++-------------
 1 files changed, 63 insertions(+), 37 deletions(-)

commit 234454347f6a4a648b251321cd595176fc40b052
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Apr 2 14:25:37 2007 +0000

    Amend sections.txt to cover new TpBaseConnectionStartConnectingImpl instead of old TpBaseConnectionProcWithError (the name change is for gtkdoc's benefit)
    
    
    20070402142537-53eee-3e993282af9e9b33149faa85a5c1c3c4a0e35c3d.gz

 lib/docs/reference/telepathy-glib-sections.txt |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e39950b638086de5cf44235dc0337af191f9febe
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Mar 30 12:16:56 2007 +0000

    TpGroupMixin: don't try to ref the actor handle if it's 0
    
    
    20070330121656-53eee-da3259c914c80e9e568118e71d6c3ec6f4fefab1.gz

 lib/telepathy-glib/group-mixin.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 5bdd54cef040faa3785b38896085cff3df859f55
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Mar 30 12:10:09 2007 +0000

    TpGroupMixin: whitespace pedantry
    
    
    20070330121009-53eee-8f4c254a94cd6c70f5019c12f138076c4ecf11a8.gz

 lib/telepathy-glib/group-mixin.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit 0cd98ed1248371154155b1518472d19d84d93d81
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 29 12:40:29 2007 +0000

    By popular demand, add tp_dynamic_handle_repo_new and tp_static_handle_repo_new. They return a TpHandleRepoIface* since that's usually what you want.
    
    
    20070329124029-53eee-b15b9fdc340e8116330a4abb6b1bc33e471c51b7.gz

 lib/telepathy-glib/handle-repo-dynamic.h |   12 ++++++++++++
 lib/telepathy-glib/handle-repo-static.h  |   10 ++++++++++
 src/gabble-connection.c                  |   18 +++++-------------
 3 files changed, 27 insertions(+), 13 deletions(-)

commit e15a34642441b04872141bfdff4d4a10ab60ea3b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 29 12:39:42 2007 +0000

    heap.c: Update copyright. Remove "Contact: Olli Salli" since he doesn't work for Nokia any more.
    
    
    20070329123942-53eee-4e06f4c14dfe5e38a3eddf91b6b64de4252d1b79.gz

 lib/telepathy-glib/heap.c |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit 167596c701821dcd3191f923f246ab0e266de7a0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 29 12:37:47 2007 +0000

    AUTHORS: Sort by last name; add Senko Rasic, Sjoerd Simons, Daf Harries, Mads Chr. Olesen and Guillaume Desmottes; replace Ole Andre Ravnaas' Nokia email address with his Collabora one.
    
    
    20070329123747-53eee-473527624cba3d11b7cccabae2695b59771a9686.gz

 AUTHORS |   12 +++++++++---
 1 files changed, 9 insertions(+), 3 deletions(-)

commit f80e940a3b8566a5b95aa976841c80e78854c983
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Fri Mar 30 10:12:47 2007 +0000

     Assert that the base-connection protocol property is set to something non-null
    
    
    20070330101247-93b9a-cdbe424c034ff7c199e9767a2ea5d5a6f6970770.gz

 lib/telepathy-glib/base-connection.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 9aab730062e1e54e752e865a9726e221ef8789f1
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Thu Mar 29 18:13:33 2007 +0000

    tp_escape_as_identifier: use g_return_val_if_fail if NULL is passed
    
    
    20070329181333-93b9a-516ffb9a63c195f52858e21a2cd56df409569902.gz

 lib/telepathy-glib/util.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit b9f9a251ebc9a337d7948e45e85f89634089997d
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Thu Mar 29 18:09:39 2007 +0000

    Move the the assert than we have a valid self handle to after setting the connection status to connected
    
    
    20070329180939-93b9a-4ed9fbabe01b2da89acfe2838d32fd4d52eeb447.gz

 lib/telepathy-glib/base-connection.c |   14 ++++++--------
 1 files changed, 6 insertions(+), 8 deletions(-)

commit dab0ef24675fe2e475c8b4f5bbaf3e156fd7af30
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Thu Mar 29 18:05:11 2007 +0000

    Assert that get_unique_connection_name returns a non-null name
    
    
    20070329180511-93b9a-83e842914a0c9232b3105b82cc51c8c7ef2ff33b.gz

 lib/telepathy-glib/base-connection.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit b5d2d1d7125c50481ca223c181bccea0d4ea860c
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Thu Mar 29 12:53:44 2007 +0000

    Intialise request_error to NULL in tp_base_connection_register
    
    
    20070329125344-93b9a-10c7aa1bbd6fcec17da394ab94f4f3b8bf598946.gz

 lib/telepathy-glib/base-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 0afb352b9587a0b915bd453e81d3ae436eac40e8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 27 13:31:42 2007 +0000

    Allow multiple inclusion of internal-debug.h to change what the debug flag is
    
    
    20070327133142-53eee-f27219a40e61021555b2cfad5273c5c9b7240be2.gz

 lib/telepathy-glib/internal-debug.h |   26 ++++++++++++++++++++++++--
 1 files changed, 24 insertions(+), 2 deletions(-)

commit 329a3e08c58405977a7caa10ff20be2215c607b4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 27 13:31:11 2007 +0000

    Remove definition of NODE_DEBUG from telepathy-glib's internal-debug.h - it's a Gabble'ism
    
    
    20070327133111-53eee-4601caf4f5ecd2fa2b8e5df9b5f98aed3c67364f.gz

 lib/telepathy-glib/internal-debug.h |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 73620055d78f2cc527c88804f6d2fc28750b88c6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 27 13:31:01 2007 +0000

    Add tp_debug_set_flags_from_string(). Make _tp_debug_flag_is_set() always return TRUE or FALSE. Document debug support.
    
    
    20070327133101-53eee-80078811e6324db53c2771bdab2c6dd756ba0819.gz

 lib/docs/reference/telepathy-glib-sections.txt |    1 +
 lib/telepathy-glib/debug-ansi.h                |    2 +-
 lib/telepathy-glib/debug.c                     |  122 ++++++++++++++++++++++--
 lib/telepathy-glib/debug.h                     |    3 +-
 lib/telepathy-glib/internal-debug.h            |    2 +
 5 files changed, 121 insertions(+), 9 deletions(-)

commit b9f87b16935c03e3914afcd05f9f85c3f0a3cf61
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 27 13:56:03 2007 +0000

    In test-heap, pass NULL destructor to tp_heap_new
    
    
    20070327135603-53eee-64759e31a0ff8a10a979b0187d472226dc06aafb.gz

 lib/tests/test-heap.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 705f28bf1cea8e1a760ed03a22d4bc13061f03fa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 27 13:54:59 2007 +0000

    Add destructor to heap.h too
    
    
    20070327135459-53eee-935975dcb7d50f0477468544fa1ef1399bd86203.gz

 lib/telepathy-glib/heap.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7a9002d51a6320b33e93e861a018ac373bdfc37e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 27 13:50:14 2007 +0000

    TpHeap: add destructor, used when we destroy or clear the heap - this breaks API, but hopefully no released versions of CMs are using it (tp-sofiasip doesn't)
    
    
    20070327135014-53eee-1331d78b877938c1cd73f44fcdd555f06121e68c.gz

 lib/telepathy-glib/handle-repo-dynamic.c |    2 +-
 lib/telepathy-glib/heap.c                |   36 +++++++++++++++++++++++++----
 src/vcard-manager.c                      |    3 +-
 3 files changed, 34 insertions(+), 7 deletions(-)

commit 62fdcc87d1560aa4b7c3b776f2f742337b16686e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 27 13:30:57 2007 +0000

    Document TpHeap
    
    
    20070327133057-53eee-070166791c636e1db7c80185c4567b3fa1369f5d.gz

 lib/telepathy-glib/heap.c |   69 +++++++++++++++++++++++++++++++++++++++++++++
 lib/telepathy-glib/heap.h |    4 +-
 2 files changed, 71 insertions(+), 2 deletions(-)

commit ab2d494499e6f0f135fe07423b4d29d21faa502a
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Mar 28 20:09:34 2007 +0000

    fix leak of GList elements in ListPendingMessages with clear set to True
    
    
    20070328200934-418b8-13c436195c7e86735d38fb34e07e4655c57a6b1d.gz

 lib/telepathy-glib/text-mixin.c |   22 +++++++---------------
 1 files changed, 7 insertions(+), 15 deletions(-)

commit e8c8a59e8f3b41129d7d1f0d606fc04e42963f79
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Mar 28 20:00:03 2007 +0000

    fix leak of the reply message in connection_iq_disco_cb
    
    
    20070328200003-418b8-cdd934189fcaf674cfe974ae664612165a4ac046.gz

 src/gabble-connection.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 36505b2399933bf1212c67af7f5a2114de1313a4
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Mar 28 19:41:11 2007 +0000

    fix leak of all of the avatars we request
    
    
    20070328194111-418b8-65adfd21ed3932123c6eb201db44264b242fd92b.gz

 src/conn-avatars.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit cc63f744c609d0d84374ab038659231290c91872
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Mar 28 19:40:57 2007 +0000

    fix leak of sender in BaseConnection's _release_handles implementation
    
    
    20070328194057-418b8-a87d37800b5b076d1cbecf0cdcb23cb0719dc7a0.gz

 lib/telepathy-glib/base-connection.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 65479d2ba49d4f784849d0ce4eb018024ab02289
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Mar 28 19:39:39 2007 +0000

    fix leak of sender in BaseConnection's _hold_handles implementation
    
    
    20070328193939-418b8-e486b296fdf8c236dcc1ada614c4a991a3c0ac0f.gz

 lib/telepathy-glib/base-connection.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 72aca0ae4369b94185a80b692ba25e1eb8724a0c
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Tue Mar 27 18:32:57 2007 +0000

    Unref the right handle on error in hold_unref_and_return_handles
    
    
    20070327183257-93b9a-5ef19e79e3f523189a3f84f62a4e6bf3d22f03c0.gz

 src/gabble-connection.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 19179db7e0a0038a94b0fee18a73117204b2da57
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Tue Mar 27 18:21:47 2007 +0000

    Use the right loop iterator when cleaning up error cases in the RequestHandles
    
    
    20070327182147-93b9a-22f8d4c2e4b6d5d66248d6df2f31a52bd04a2dee.gz

 src/gabble-connection.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit a86f95e4cc96ff3afbf3026b4cf088ef88b7b7bc
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Mar 28 12:17:56 2007 +0000

    add missing AM_LDFLAGS to lib/tests/Makefile.am
    
    
    20070328121756-418b8-10931b21e0db6d72265ec588fb70599bde5bfe72.gz

 lib/tests/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 02f325646e6ec0d77a4ed2efbe3595a70eff824c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Mar 26 20:37:41 2007 +0000

    fix disco callback for obsolete MUC invites so that it doesn't have any paths where it leaks the data structure, and uses the shared do_invite function
    
    
    20070326203741-418b8-b09f4296d64fe2cab74da69ab236f947966335cb.gz

 src/muc-factory.c |   54 +++++++++++++++++-----------------------------------
 1 files changed, 18 insertions(+), 36 deletions(-)

commit 991b884b42f99abf3f328385f6f21680ee8beaa5
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Mar 26 20:35:16 2007 +0000

    factor out shared code between obsolete and current MUC invites (getting the handle, getting the channel, dispatching the invite)
    
    
    20070326203516-418b8-5a336bfa4b407bf8ce0dd60c2048c42644fd1a20.gz

 src/muc-factory.c |   55 +++++++++++++++++++++++++++++++---------------------
 1 files changed, 33 insertions(+), 22 deletions(-)

commit 2d9caba1a366e4a07a39859d60e565d0e1247a53
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Mar 26 19:38:10 2007 +0000

    fix conflict with intset-based properties
    
    
    20070326193810-418b8-002f8f6c7c1367e6ab7e97764673fbbc02e33989.gz

 src/gabble-muc-channel.c |    6 ++----
 1 files changed, 2 insertions(+), 4 deletions(-)

commit 110806730af468ca39f71777b9ad97fc3b8f649e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Mar 26 19:21:40 2007 +0000

    tweak IM factory receive function to be less verbose, and only print in the case of errors or when it's actually ignoring (ie blackholing due to malformedness) a message
    
    
    20070326192140-418b8-18b64acd5c4160c8a52e0484ea57763a9e22aa8d.gz

 src/im-factory.c |   33 +++++++++++++++++++--------------
 1 files changed, 19 insertions(+), 14 deletions(-)

commit 8a541198d5decf8fecc02a1fa2e0adc27e74c70c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Mar 26 19:20:00 2007 +0000

    remove unused return value from _im_channel_receive
    
    
    20070326192000-418b8-fb11aa1e9bcd355f088506e2b77c2154a3aacac4.gz

 src/gabble-im-channel.c |   15 ++++++++-------
 src/gabble-im-channel.h |    2 +-
 2 files changed, 9 insertions(+), 8 deletions(-)

commit 53af29e26e65353a3c65b837355977321debfe07
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Mar 26 19:09:36 2007 +0000

    only call _muc_channel_receive if the incoming message has a body (rather than it just being typing notification or similar)
    
    
    20070326190936-418b8-023db418330b0d0e44e4b981aa104a2c8fa9d8de.gz

 src/muc-factory.c |   25 ++++++++++---------------
 1 files changed, 10 insertions(+), 15 deletions(-)

commit 4e90263dc50dff06a6b9c3b78a3836e8cc3552a7
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Mar 26 19:08:20 2007 +0000

    when we receive messages from MUC members which are not type="groupchat", don't handle them in muc factory so the normal IM factory machinery handles them (ie private messages from MUC member JIDs)
    
    
    20070326190820-418b8-df7166d1dc76199ec020d9fb6657ef7fe459e675.gz

 src/muc-factory.c |   17 +++++++++++++----
 1 files changed, 13 insertions(+), 4 deletions(-)

commit 2d9edc88eee777a384c075d86dc42d07c4ab7bd0
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Mar 26 19:07:57 2007 +0000

    make _muc_channel_receive return void because the return value is irrelevant
    
    
    20070326190757-418b8-bf6efa7c7366f204cf3847ba241fa64380b84488.gz

 src/gabble-muc-channel.c |   12 ++++++------
 src/gabble-muc-channel.h |    2 +-
 2 files changed, 7 insertions(+), 7 deletions(-)

commit 18d64109c0e8968b4b7911aff3104f92dad0f61f
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Mar 26 18:06:01 2007 +0000

    refactor MUC message function to look for MUC invites (current and obsolete) in seperate functions
    
    
    20070326180601-418b8-f7902c8838b8672835147913487d86321eb77d8e.gz

 src/muc-factory.c |  327 +++++++++++++++++++++++++++++++----------------------
 1 files changed, 191 insertions(+), 136 deletions(-)

commit d66bdaaca315832d3c65d7384a553e644962d80a
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Mar 26 18:04:32 2007 +0000

    remove seperate body/body_offset args from _text_mixin_parse_message
    
    
    20070326180432-418b8-dd27da236e9c8f7294ce6a1a70c7b0a9af3d7d53.gz

 src/im-factory.c |   11 ++++++-----
 src/text-mixin.c |   20 +++++++++-----------
 src/text-mixin.h |    3 +--
 3 files changed, 16 insertions(+), 18 deletions(-)

commit 934928a5b9e67a4aa4eb2e7b8fc4f4254ed66723
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Mar 26 18:03:57 2007 +0000

    remove egregious NODE_DEBUG from MUC channel
    
    
    20070326180357-418b8-21c7513512130d992062483c49525d8366e21c54.gz

 src/gabble-muc-channel.c |   10 ++++++----
 1 files changed, 6 insertions(+), 4 deletions(-)

commit 20637c6b34b42e43d10e3e77248ec0ebf376a16e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 27 11:32:30 2007 +0000

    chmod the distributed ChangeLog u+w, not a+w!
    
    
    20070327113230-53eee-aead81c98db0890e9ab61145c653dc7c2f846a2b.gz

 Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 959444ac621f0217e202c263e04d2de8c719efba
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 26 19:28:34 2007 +0000

    Add documentation for headers that are auto-generated (not putting it in the headers themselves to avoid spurious recompiles)
    
    
    20070326192834-53eee-473365ea9385cfda75dadf8c6de2bd2887e18e5a.gz

 lib/telepathy-glib/Makefile.am    |    2 +
 lib/telepathy-glib/extra-gtkdoc.h |   51 +++++++++++++++++++++++++++++++++++++
 2 files changed, 53 insertions(+), 0 deletions(-)

commit b3c1791ce1d4d1095029997fc2d492db837e96da
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 26 19:27:18 2007 +0000

    Change titles to be the name of the .h, mostly (I misunderstood their purpose - they're not actually used as human-readable titles, but as output filenames, somewhat counter-intuitively)
    
    
    20070326192718-53eee-29ac2a28e4860b7a74addd7cda95c1f8b347265e.gz

 lib/docs/reference/telepathy-glib-sections.txt |   30 ++++++++++++------------
 1 files changed, 15 insertions(+), 15 deletions(-)

commit c347347d6f47c588654cf55234754e4e7656762c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 26 20:09:31 2007 +0000

    Convert a g_return_if_fail in internal function back to g_assert
    
    
    20070326200931-53eee-e6385836eb9a914db638961e3854850e1434d105.gz

 lib/telepathy-glib/handle-repo-dynamic.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 26f82d1b29be35c83b8668c32609a9b786932413
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 26 20:06:51 2007 +0000

    TpDynamicHandleRepo: convert some assertions into g_return_if_fail
    
    
    20070326200651-53eee-750f913e8627acc48f110fa4b8df8a9422ff0ab0.gz

 lib/telepathy-glib/handle-repo-dynamic.c |   16 ++++++++--------
 1 files changed, 8 insertions(+), 8 deletions(-)

commit a4ebb329cf46a1a8d052ded43ee8402f0a89bd21
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 26 19:44:15 2007 +0000

    test-handles: Don't inspect return value from tp_handle_ref; use tp_handle_is_valid instead when asserting that a handle has vanished
    
    
    20070326194415-53eee-15f3167898912da1cf6780a2a3ac3846bb9eab08.gz

 tests/test-handles.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 71acd9a8cbab5a33f9ad3aee38dff1db19d0f437
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 26 19:42:43 2007 +0000

    Remove now-unused variable from roster channel ctor
    
    
    20070326194243-53eee-2c9629aecf2970fa68b6b65281cc24884d0b6e88.gz

 src/gabble-roster-channel.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 897ae178225363ddd4f672a2b39dbead3ef70cbb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 26 19:42:35 2007 +0000

    Remove Returns: from documentation of tp_handle_ref
    
    
    20070326194235-53eee-3dc2562bb9ab559294e90f982db913d718aed517.gz

 lib/telepathy-glib/handle-repo.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit f259a2ed79f777c5f2ec21b8bfa2acf2a3f36048
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 26 19:41:29 2007 +0000

    Remove now-unused variable in MUC channel ctor
    
    
    20070326194129-53eee-4f20f44430b1e17b49bf591a6e6ed51e6a4aad94.gz

 src/gabble-muc-channel.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit f8735f1cf4865e752c2887312eec5cb58771223b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 26 19:41:19 2007 +0000

    Remove tp_handle_request from documentation sections
    
    
    20070326194119-53eee-e207218d5301f44d6fabe351e04c067eba3b5043.gz

 lib/docs/reference/telepathy-glib-sections.txt |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 25396eb4a1038736539755f00c7f2ea94d0ce326
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 26 19:40:05 2007 +0000

    On second thoughts, make [sg]et_qdata and {un,}ref_handle return void immediately - tp-sofiasip already doesn't use their return values
    
    
    20070326194005-53eee-97e6199900ab73544172f3321f3c720097fb6c67.gz

 lib/telepathy-glib/handle-repo-dynamic.c |   14 ++++----------
 lib/telepathy-glib/handle-repo-static.c  |    3 +--
 lib/telepathy-glib/handle-repo.c         |   28 ++++++++++++----------------
 lib/telepathy-glib/handle-repo.h         |   10 +++++-----
 4 files changed, 22 insertions(+), 33 deletions(-)

commit 92762d36402fe3faaad23524a028c3e8a3fa1fc7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 26 19:39:55 2007 +0000

    Don't use the return value of tp_handle_ref and tp_handle_unref
    
    
    20070326193955-53eee-1954ec0d8033834985ea8e0c92a82f8502ed47c1.gz

 lib/telepathy-glib/handle-set.c |    6 ++----
 src/gabble-im-channel.c         |    5 ++---
 src/gabble-muc-channel.c        |    6 ++----
 src/gabble-roster-channel.c     |    3 +--
 src/roster.c                    |    6 ++----
 5 files changed, 9 insertions(+), 17 deletions(-)

commit 158441cee2a9edc57801e999077ef784c1c87498
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 26 19:30:09 2007 +0000

    TpHandleRepoIface: make get_qdata, set_qdata assert that handles are valid, rather than re-checking and returning error. For the moment the public function tp_handle_set_qdata still returns gboolean - make it return  void after 0.5.7.
    
    
    20070326193009-53eee-77e7748cee99c9446489dbe21a5340dff52d87be.gz

 lib/telepathy-glib/handle-repo-dynamic.c |   13 +++++++------
 lib/telepathy-glib/handle-repo-static.c  |   14 +++++++-------
 lib/telepathy-glib/handle-repo.c         |   13 ++++++++-----
 lib/telepathy-glib/handle-repo.h         |    2 +-
 4 files changed, 23 insertions(+), 19 deletions(-)

commit f41dc7326755569bd50c47972dbc884a9d5d57ec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 26 19:29:41 2007 +0000

    Don't crash out (g_critical) if clients try to release handles they're not holding - that's their problem, not ours
    
    
    20070326192941-53eee-fded3765a2bce0a1a63bd1d4a6a458ab50a7b212.gz

 lib/telepathy-glib/handle-repo-dynamic.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 9f2aa1cc49e642783de531495adcc6df45fb2835
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 26 19:29:00 2007 +0000

    When holding or releasing handles for clients, assert that the handle is at least nonzero
    
    
    20070326192900-53eee-9b9f2d04c7b8f75baf72a20858ea308ab4308f8e.gz

 lib/telepathy-glib/handle-repo-dynamic.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit c81d363e5ae464379a440458c7e48d190814e074
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 26 18:21:57 2007 +0000

    Escape comment indicator in XML gtkdoc comment in a more compatible way (gtkdoc thinks &#2f;* for /* is a crossref, so use /<!-- -->* instead); properly escape &iter to &amp;iter
    
    
    20070326182157-53eee-d573f8321e7916b26a45fd5f00c6e6d65c4ef474.gz

 lib/telepathy-glib/intset.c |    2 +-
 lib/telepathy-glib/intset.h |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 0bf5ca08c2b3b835ddadde069ac27e19db1bc98e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 26 10:55:01 2007 +0000

    TpPropertiesMixin: there is no tp_intset_has_member, it's tp_intset_is_member
    
    
    20070326105501-53eee-50fa3b834f6dbd414de6645d388ba9c5ee23f8e4.gz

 lib/telepathy-glib/properties-mixin.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 91c8296298c42faf8508f740f42aec22ee4d022f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Mar 23 13:01:45 2007 +0000

    Change properties mixin API again, using TpIntSet instead of GArray for sets of property IDs
    
    
    20070323130145-53eee-fff16b92b4328eae35975f4c966a6031e62dffd9.gz

 lib/telepathy-glib/properties-mixin.c |  113 ++++++++++++++-------------------
 lib/telepathy-glib/properties-mixin.h |    9 ++-
 src/gabble-muc-channel.c              |   39 +++++-------
 3 files changed, 69 insertions(+), 92 deletions(-)

commit 3e2a76583149e0e22499c0539eab0b81a4738e27
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Mar 23 13:00:30 2007 +0000

    Assert at compile time that the room properties (as a bitfield) fit in a guint on 32-bit platforms, since the code assumes this
    
    
    20070323130030-53eee-6ddc819956eb1e203339d050014579c5d9f4ef96.gz

 src/gabble-muc-channel.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit fe4f08cab602c44724ba83379a474edaf6d10bf2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Mar 23 12:56:00 2007 +0000

    Change semantics of tp_properties_context_has() so it returns FALSE if the property has already been set, to be consistent with tp_properties_context_has_other_than()
    
    
    20070323125600-53eee-5c5e8607b67b9eeb5d272c74729fef0bd8315a89.gz

 lib/telepathy-glib/properties-mixin.c |    8 +++-----
 1 files changed, 3 insertions(+), 5 deletions(-)

commit c679ae92e032d1c6ee34cedf926f1ea0bb4dd9b3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Mar 23 12:47:14 2007 +0000

    Fix some documentation in the properties mixin
    
    
    20070323124714-53eee-5c321237fe158e1328ecdbee3050f2458473a9c3.gz

 lib/telepathy-glib/properties-mixin.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit edb32e45e0e7cb1cddeb2e70c69e586477f32837
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Mar 23 12:46:42 2007 +0000

    TpGroupMixin: treat arrays converted from intsets as containing guint rather than guint32, for ILP64 correctness
    
    
    20070323124642-53eee-75ae7e97d28d0f2884d4304c343c172e6598fd19.gz

 lib/telepathy-glib/group-mixin.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 7afeb9a8e65c1aeedd75d4081aac9efef03f260e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Mar 23 12:46:19 2007 +0000

    tp_handle_set_to_array: Document to return a GArray of guint like tp_intset_to_array does
    
    
    20070323124619-53eee-3d320020ade5521200ce0d0f0022067300422884.gz

 lib/telepathy-glib/handle-set.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 862f931c0203107be7139ac2878d243f4032fd87
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Mar 23 12:45:16 2007 +0000

    TpIntSet: Redefine to_array, from_array to act on arrays of guint, since that's actually what we want for D-Bus even on ILP64 platforms
    
    
    20070323124516-53eee-951f3dabbcb9365322c9c95194e5a2f9432df4ce.gz

 lib/telepathy-glib/intset.c |   22 +++++++++-------------
 1 files changed, 9 insertions(+), 13 deletions(-)

commit bed7bb2222dac1d1ead4582b587161d6dfc9e275
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Mar 23 12:20:15 2007 +0000

    tp_intset_dump: correctly output integers as unsigned
    
    
    20070323122015-53eee-84a58820dd695a15cf3512d5fff4db23050af14a.gz

 lib/telepathy-glib/intset.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 7f2eec682ee0b1e56b213e368779220c0c895f03
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Mar 23 12:18:53 2007 +0000

    Document TpIntSet. Add tp_intset_sized_new and TpIntSetIter.
    
    
    20070323121853-53eee-2c578994c5b8ec41f73846b11ebeb11fb8bba0d4.gz

 lib/docs/reference/telepathy-glib-sections.txt |    4 +
 lib/telepathy-glib/intset.c                    |  214 ++++++++++++++++++++++--
 lib/telepathy-glib/intset.h                    |   81 +++++++++
 3 files changed, 285 insertions(+), 14 deletions(-)

commit 5bc478ce1ada091e0a21b65b326c1f13b809f1b3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 22 17:53:57 2007 +0000

    Remove completely spurious allocation which should have been in previous patches
    
    
    20070322175357-53eee-3fc330a9c6d6b87176921f56f5b8d36c649f77b7.gz

 lib/telepathy-glib/properties-mixin.c |    6 ------
 1 files changed, 0 insertions(+), 6 deletions(-)

commit cc8c9ab2fdce8365be2f788820da2847a1fbd188
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 22 17:53:23 2007 +0000

    Allocate arrays of changed properties with allocated size = number of props
    
    
    20070322175323-53eee-715fdcb411bdaa57c22b5b02440b80712619c7c2.gz

 lib/telepathy-glib/properties-mixin.c |    7 ++++---
 src/gabble-muc-channel.c              |   21 ++++++++++++---------
 2 files changed, 16 insertions(+), 12 deletions(-)

commit 1c31ca61bdd3a50dfdf9a7958b0e7ff57fb56bdd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 22 17:37:36 2007 +0000

    TpPropertiesMixin: Fix suprising signature/behaviour of these methods:
    
    - tp_properties_mixin_emit_changed
    - tp_properties_mixin_emit_flags
    - tp_properties_mixin_change_value
    - tp_properties_mixin_change_flags
    
    20070322173736-53eee-cde3b5bcc7db4e247baa905de853ce352b0f7859.gz

 lib/telepathy-glib/properties-mixin.c |  125 +++++++++++++--------------------
 lib/telepathy-glib/properties-mixin.h |   10 ++-
 src/gabble-muc-channel.c              |   73 +++++++++++--------
 3 files changed, 97 insertions(+), 111 deletions(-)

commit 293a2c7f8950eb845b08c09cf74bc98f3edcf28b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 22 16:09:37 2007 +0000

    Merge conflict with gabble HEAD: remove dynamic_request_handle, again
    
    
    20070322160937-53eee-00815fc37bc4cf2dd2429c9492243598e08490c4.gz

 lib/telepathy-glib/handle-repo-dynamic.c |   27 ---------------------------
 1 files changed, 0 insertions(+), 27 deletions(-)

commit df252edfd73aeec10df12448b2a69150f84f923a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 21 17:10:15 2007 +0000

    Remove request_handle etc. from handle repos (deprecated in 0.5.6 in favour of lookup and ensure)
    
    
    20070321171015-53eee-fca3b79f19d621ed6c3cc2e3a275e69af456e05e.gz

 lib/telepathy-glib/handle-repo-dynamic.c |    3 +--
 lib/telepathy-glib/handle-repo-static.c  |    7 -------
 lib/telepathy-glib/handle-repo.c         |   25 -------------------------
 lib/telepathy-glib/handle-repo.h         |    4 ----
 4 files changed, 1 insertions(+), 38 deletions(-)

commit b414e080004a4e8f799ad9a8c47605d2b9d71b6c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 19 19:23:15 2007 +0000

    Make TpBaseConnection::handles private
    
    
    20070319192315-53eee-795eced417de0d4f335d37e338a028afaf2ffae9.gz

 lib/telepathy-glib/base-connection.c |   52 ++++++++++++++++++---------------
 lib/telepathy-glib/base-connection.h |   12 --------
 2 files changed, 28 insertions(+), 36 deletions(-)

commit 47986e3edde206a99f6877469f29eeaa86d5035f
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Mar 23 02:18:36 2007 +0000

    bump version to 0.5.6.1
    
    
    20070323021836-418b8-67274ce8cf3729a8909f54f7534e2fbf403d938b.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3a84e248d0ebeb49f0fbbfd324a835da6ecdab10
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Mar 23 00:45:04 2007 +0000

    bump version to 0.5.6
    
    
    20070323004504-418b8-2d21250e1f6c66d801a847d180bb47ed2b756b7b.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit f5e82e844282d7cdf5194646eeeeca94712227bd
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Mar 23 00:17:20 2007 +0000

    guard debug-only if with #ifdef ENABLE_DEBUG
    
    
    20070323001720-418b8-d0c5da6bfa099f27e89dc0ec5eab6c4ae7e0fe2b.gz

 src/vcard-manager.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit d39c98a045ce990b666356a11bb480ede873c14c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 21 17:37:51 2007 +0000

    Remove use of tp_handle_request in roster.c. Use a handle set to transfer references to caller, instead of relying on _request's strange floating references
    
    
    20070321173751-53eee-04d2d7e61fe49282a7000d73e1e80d2e8b19ed4d.gz

 src/roster.c |   21 ++++++++++++++-------
 1 files changed, 14 insertions(+), 7 deletions(-)

commit f59d9cd6c04e6f74183d2496b51a78298a776b0a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 22 15:40:03 2007 +0000

    fix syntax in TpTextMixin
    
    
    20070322154003-53eee-b608881e921a3af4ae56d93f3632d044222321fa.gz

 lib/telepathy-glib/text-mixin.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit de62a07bc81fdbd9eb229f087f399b892b3465cb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 22 15:38:51 2007 +0000

    In IM factory incoming message callback, unref handle as soon as it's safely owned by a channel, for greater clarity
    
    
    20070322153851-53eee-a4d33c9894dae431b05ba4e8675c256c9837068e.gz

 src/im-factory.c |    8 +++++---
 1 files changed, 5 insertions(+), 3 deletions(-)

commit 0f1eb7fa0449633b817099598996c27f5d40c407
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 22 15:36:55 2007 +0000

    Add comment explaining why GabbleIMChannel doesn't ref its handle as soon as it gets it
    
    
    20070322153655-53eee-271a03fd8269b3af8da2c836e57ab0a3dd6f2f5f.gz

 src/gabble-im-channel.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 42cd8d63b859cab1620a556614246bb98ef38dd8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 22 15:36:44 2007 +0000

    src/debug.c: Make it possible to enable IM debugging
    
    
    20070322153644-53eee-9ad639f694e45370df785ee62da3a11c9bf741a6.gz

 src/debug.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 183d6e057214ad101d072a6f7e5d01dd8469c040
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 22 15:36:08 2007 +0000

    TpTextMixin: fix memory (and handle) leak where messages discarded using ListPendingMessages with clear==TRUE were not freed
    
    
    20070322153608-53eee-f4675921cc8bb893cad3baaa77203e3fc43cc556.gz

 lib/telepathy-glib/text-mixin.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 601f437eccb2600e42598d91e71d54922bc76651
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 22 15:34:12 2007 +0000

    TpTextMixin: Make it impossible to free the pending message without unreffing its sender
    
    
    20070322153412-53eee-1dcc78bf6737430c0160677417d65502fb84fd3c.gz

 lib/telepathy-glib/text-mixin.c |   32 +++++++++++++++++---------------
 1 files changed, 17 insertions(+), 15 deletions(-)

commit d7c3de50aae02394073caf66d1bc626e5da29c08
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 22 15:27:24 2007 +0000

    Enhance handle leak debugging to make it easier to find out what's gone wrong
    
    
    20070322152724-53eee-9036af024918991d5f07f5c19f5b2ab87c5894ac.gz

 lib/telepathy-glib/handle-repo-dynamic.c |   53 ++++++++++++++++++++++++------
 src/gabble-im-channel.c                  |    2 +
 2 files changed, 45 insertions(+), 10 deletions(-)

commit 1a3d2d3f66766f1feb7b3439982fd3a3d7dacc57
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 22 15:27:00 2007 +0000

    lib/telepathy-glib/debug.c: Make it possible to enable IM debugging
    
    
    20070322152700-53eee-7793f79c41505a90efcd9860a015188ebf6da93e.gz

 lib/telepathy-glib/debug.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 4ce7b4ad9ebed5bcc0f1b3fb8ee7ebe599cc273b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 21 17:34:48 2007 +0000

    Add comment explaining why CM params have a GType and a D-Bus type
    
    
    20070321173448-53eee-eaf67e9bcbaeadbd4fe3eff599a6064ee9458910.gz

 lib/telepathy-glib/base-connection-manager.h |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit 4e9f8ffc7ef517d86823aae1b99cf74c9b0819b7
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Mar 21 18:58:32 2007 +0000

    rewrite observe_vcard to be far less verbose in the debug log, to update the nickname before emitting the signal in all cases, to emit the signal in all cases when the nickname has changed, and to not emit it when it hasn't changed
    
    
    20070321185832-418b8-9598dc15cabe2abd5ae7c81ba31c2e769b9187c0.gz

 src/vcard-manager.c |  133 +++++++++++++++++++++++++++------------------------
 1 files changed, 71 insertions(+), 62 deletions(-)

commit d9ba491c555a683b82e2bc9d935af821f4ffe461
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Mar 21 18:57:19 2007 +0000

    add handle validity assertions/checks to vcard manager entry points and callbacks
    
    
    20070321185719-418b8-764f05a1e3b04b57aee8087e2f4903e3edd5c031.gz

 src/vcard-manager.c |   36 ++++++++++++++++++++++++++++++++----
 1 files changed, 32 insertions(+), 4 deletions(-)

commit dd053a287fc9a07f22abefb97b32e787007c16b6
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Mar 21 18:56:50 2007 +0000

    check handle is valid on calls to RequestAvatar
    
    
    20070321185650-418b8-37ad6eb96a0671ee11fcbb04f01b774a5cfa4511.gz

 src/conn-avatars.c |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit 6672c0b1a5ab419ac6090b5c379d62f53fda4e82
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Mar 21 18:56:39 2007 +0000

    test-basic-connect.py: factor out constants
    
    
    20070321185639-c9803-fa3c74913060c5daf82a055fcb9c4695f6c9df23.gz

 tests/test-basic-connect.py |   20 +++++++++++++-------
 1 files changed, 13 insertions(+), 7 deletions(-)

commit 2fc936bcb3f098c31f1a43ef54143081c3013846
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Mar 21 18:33:01 2007 +0000

    comments
    
    
    20070321183301-c9803-2d10b9d7ea06f0d3cf5e78dd83995dd8aca0aaf2.gz

 tests/Makefile.am |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 5d9b91e67c172f3d4dcca95fe1518ded31954325
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Mar 21 18:32:05 2007 +0000

    rename TESTSEXTRA to EXTRA_TESTS
    
    
    20070321183205-c9803-9baae84c768b7b9deb4f04f0ed238aa46a8135a1.gz

 tests/Makefile.am |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit a9665d93b45f35e62181450fdc737d72860113de
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Mar 21 18:21:14 2007 +0000

    remove unnecessary makefile rule
    
    
    20070321182114-c9803-4cc5bf131be98e801351c4394df84933cc98fed4.gz

 tests/Makefile.am |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 970f7d6563046fc9e3dba30eef3293520bba46e2
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Mar 21 18:20:32 2007 +0000

    distribute *.conf.in
    
    
    20070321182032-c9803-0a89cf4e776f2ae4e5f0e4849ac3227670830e4a.gz

 tests/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a9ba63d63d1767da4d81e9d60fc03b370f7a057f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Mar 21 18:20:02 2007 +0000

    generate *.conf more like *.service
    
    
    20070321182002-c9803-27d78290b1469fd52d1fb292b98607faa4e61e02.gz

 tests/Makefile.am |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit 9c45a28a9b79306cecad11d4b1ec0f48a88aa314
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Mar 21 18:19:46 2007 +0000

    marginally simplify test mangling makefile rules
    
    
    20070321181946-c9803-158dbe894cea9b71e9bbba2612a58347fae22cf8.gz

 tests/Makefile.am |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 1c81a556638260a25afbecde5f15e97ff3895e48
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Mar 21 18:06:53 2007 +0000

    test-basic-connect.py: use standard indentation
    
    
    20070321180653-c9803-8063eb1c772171922dee0f489fbe4d95f37f8efb.gz

 tests/test-basic-connect.py |  152 +++++++++++++++++++++---------------------
 1 files changed, 76 insertions(+), 76 deletions(-)

commit b35bfb177d7f2567991732bee47a8719877cf1b9
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Mar 21 18:00:30 2007 +0000

    distribute .service.in files
    
    
    20070321180030-c9803-8c5f3d2b6b94bb115e5bbc371e04cf92f18f6d14.gz

 tests/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 432286ab29071781fd49baafbdd075f9561aef2c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Mar 21 18:00:05 2007 +0000

    use BUILT_SOURCES instead of BUILT_FILES
    
    
    20070321180005-c9803-6ffe5de5a15556f9c30f0fe4c63f4cd98131232f.gz

 tests/Makefile.am |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit 1aaf81549324e63c30378d87d139f13fe6556068
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Mar 21 17:58:58 2007 +0000

    check-extra: make files executable before trying to run tests
    
    
    20070321175858-c9803-c9fe456e9140bdd37273c25830fcfb862793dfa7.gz

 tests/Makefile.am |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 9b1a429ff53503bef77bf9ef3940231058542806
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Mar 21 17:58:17 2007 +0000

    check-extra: recursively call make check, rather than duplicating sh test code
    
    
    20070321175817-c9803-05ad01113f4acd2ac7ab7afc77af70ba93bc6a9b.gz

 tests/Makefile.am |   73 +----------------------------------------------------
 1 files changed, 1 insertions(+), 72 deletions(-)

commit 2411562ff3fb2bdddead3562919904a9855e6c9c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Mar 21 17:47:06 2007 +0000

    tests/: generate .service from .service.in
    
    
    20070321174706-c9803-723c38bbaa23a7b9d3d14f488ce26054be8df7bd.gz

 tests/Makefile.am |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit c1a73abd075a4cbc6ff053dd4bc9b16b384a2767
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Mar 21 17:42:53 2007 +0000

    remove redundant Makefile.am lines
    
    
    20070321174253-c9803-826ccccb6c80e00e8952c4f33346a0e0472944ba.gz

 tests/Makefile.am |    9 ---------
 1 files changed, 0 insertions(+), 9 deletions(-)

commit 987375545f1d3afea0bafb99f24154ad718dc32c
Author: Mads Chr. Olesen <shiyee@shiyee.dk>
Date:   Tue Mar 20 19:08:40 2007 +0000

    move dbus tests to make check-extra
    
    
    20070320190840-f3554-65bd93842e24dfbb462c66e487c28640319a439d.gz

 tests/Makefile.am |  113 ++++++++++++++++++++++++++++++++++++-----------------
 1 files changed, 77 insertions(+), 36 deletions(-)

commit fa7fb795f4c551ef48a727d649bf9a5292710182
Author: Mads Chr. Olesen <shiyee@shiyee.dk>
Date:   Tue Mar 20 17:43:18 2007 +0000

    refresh unit test
    
    
    20070320174318-f3554-50d7797b90b5171b91d5e859712470dd611ff52a.gz

 tests/Makefile.am |   11 +++++------
 1 files changed, 5 insertions(+), 6 deletions(-)

commit 13ddf1c7acf236a1cb2746c7ddb9be8306d039de
Author: Mads Chr. Olesen <shiyee@shiyee.dk>
Date:   Fri Feb 2 22:50:16 2007 +0000

    Make distcheck succeed, finally
    
    
    20070202225016-f3554-4b981161dc3477059bb876fb96c800a15ec7d124.gz

 tests/Makefile.am |   14 ++++++++++++--
 1 files changed, 12 insertions(+), 2 deletions(-)

commit 0bd9b5a63cb13bb3c99472df8a29aef22cff1e49
Author: Mads Chr. Olesen <shiyee@shiyee.dk>
Date:   Thu Dec 28 22:50:16 2006 +0000

    Make distcheck succeed a little more, using black autofoo magic borrowed from D-Bus
    
    
    20061228225016-f3554-0aafef7ed2b05293d05e01c7a6c08dbb0d007272.gz

 tests/Makefile.am                      |   43 ++++++++++++++++++++++++++-----
 tests/run-with-tmp-session-bus.conf.in |    2 +-
 2 files changed, 37 insertions(+), 8 deletions(-)

commit 747d7e149189d0f6d7b7aff4834437d39b64911d
Author: Mads Chr. Olesen <shiyee@shiyee.dk>
Date:   Thu Dec 28 19:40:52 2006 +0000

    Up the timeout for the unit test connect call
    
    
    20061228194052-f3554-60ba4fee037c3a8d334112f95111daacbd78836d.gz

 tests/test-basic-connect.py |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit be5f55b4d97dc171a648d4407a77d2f285b05498
Author: Mads Chr. Olesen <shiyee@shiyee.dk>
Date:   Wed Dec 27 16:36:34 2006 +0000

    unittest-debugging
    
    Allow start of gabble with debugging on in the unit test (can be racy, outcommented by default)
    
    20061227163634-f3554-a7f879f94eb56b51bccf02a20a9b3b79c091c39f.gz

 tests/run-with-tmp-session-bus.sh |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 659cdb0211c5d41a10eeaa3985492709ec4d6f2b
Author: Mads Chr. Olesen <shiyee@shiyee.dk>
Date:   Wed Dec 27 16:31:03 2006 +0000

    unittesting-own-configuration
    
    Use custom configuration file for the testing D-Bus session bus, and use a custom test service file.
    Also, this makes the tests autolaunch gabble when needed, instead of having a racy launch during test startup.
    
    20061227163103-f3554-e8054af85cbeb1f7956576fc090c45578de5627e.gz

 tests/Makefile.am                                  |   18 ++++++++++++
 ...p.Telepathy.ConnectionManager.gabble.service.in |    3 ++
 tests/run-with-tmp-session-bus.conf.in             |   30 ++++++++++++++++++++
 tests/run-with-tmp-session-bus.sh                  |   13 +++-----
 4 files changed, 56 insertions(+), 8 deletions(-)

commit 35af30b50acada26d3b9482ea86bbf95924cedc2
Author: Mads Chr. Olesen <shiyee@shiyee.dk>
Date:   Tue Dec 26 23:46:01 2006 +0000

    basic-unit-testing
    
     * This patch adds basic unit testing of the compiled binary.
     * Uses the D-Bus testing framework by Raphael Slinckx (Slightly modified)
     * Uses a modified run-with-tmp-session-bus.sh from the D-Bus package
     * Basic test-case also from D-Bus testing framework
    
    20061226234601-f3554-cf18033110df0a44504931204bb02a67878908ae.gz

 tests/Makefile.am                 |    2 +-
 tests/dbustesting.py              |  609 +++++++++++++++++++++++++++++++++++++
 tests/run-with-tmp-session-bus.sh |   49 +++
 tests/test-basic-connect.py       |   84 +++++
 tests/test-basic-connect.sh       |    2 +
 5 files changed, 745 insertions(+), 1 deletions(-)

commit d5ffb5d4b0ae59835c0b54004aa41b8b65b9e677
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 21 16:29:31 2007 +0000

    Remove lib/docs/reference/tmpl/util.sgml, which was just there because of Makefile madness - now we have dummy.sgml it's not needed
    
    
    20070321162931-53eee-8c4e3c0baa69a53064eeed620cfc548deee18a01.gz

 lib/docs/reference/tmpl/util.sgml |   66 -------------------------------------
 1 files changed, 0 insertions(+), 66 deletions(-)

commit 192125ce3ae98c6a7ec46eb1f093f71c94c5e704
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 21 16:03:18 2007 +0000

    Reduce length of yet another heading to fit it in the 99 char tarball filename limit
    
    
    20070321160318-53eee-644751ae186bb2c87f03edf34ef12686d6e31959.gz

 lib/docs/reference/telepathy-glib-sections.txt |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f25dcd05c3eeec5c388d63deab7288365d53878e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 20 13:17:57 2007 +0000

    glib-errors-enum-header.xsl: generate documentation for errors
    
    
    20070320131757-53eee-bdbba3058db236df5bc347df288a085b80a0a11a.gz

 lib/tools/glib-errors-enum-header.xsl |   18 ++++++++++++++++--
 1 files changed, 16 insertions(+), 2 deletions(-)

commit 9e3481d8a704bf3ab5bd481026695aa3cfc7fcf0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 20 13:17:52 2007 +0000

    More text mixin documentation
    
    
    20070320131752-53eee-a6105e1ef991e3f2e6a957d19d16a00d423bdc8f.gz

 lib/telepathy-glib/text-mixin.c |   95 ++++++++++++++++++++++++++++++++------
 1 files changed, 80 insertions(+), 15 deletions(-)

commit 3af3ed44b8e5a7f8aea91e85252d21580d34a9ae
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 20 13:15:32 2007 +0000

    More channel interface documentation
    
    
    20070320131532-53eee-ca3e6e6ed517c777817885dd02e6ff1db28365e3.gz

 lib/telepathy-glib/channel-iface.c |   29 +++++++++++++++++++++++++++++
 lib/telepathy-glib/channel-iface.h |    6 ++++++
 2 files changed, 35 insertions(+), 0 deletions(-)

commit 29c3188bf2ea9ad99b091052ceff327ff16e7e5e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 20 11:27:49 2007 +0000

    Use correct gtkdoc markup
    
    
    20070320112749-53eee-dc4ea47d09584a8f372e7b3ff458d5008dc78095.gz

 lib/telepathy-glib/base-connection-manager.c |    2 +-
 lib/telepathy-glib/base-connection.c         |    2 +-
 lib/telepathy-glib/base-connection.h         |    2 +-
 lib/telepathy-glib/channel-factory-iface.c   |    2 +-
 lib/telepathy-glib/handle-repo-dynamic.c     |    2 +-
 lib/telepathy-glib/handle-repo-dynamic.h     |    6 +++---
 lib/telepathy-glib/properties-mixin.c        |    2 +-
 lib/telepathy-glib/properties-mixin.h        |    8 ++++----
 lib/telepathy-glib/run.c                     |    2 +-
 9 files changed, 14 insertions(+), 14 deletions(-)

commit 3a0f85839aa98f692833e3377ff2ec1735cb3dd3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 20 11:24:23 2007 +0000

    Add gtkdoc m4/Make snippets
    
    
    20070320112423-53eee-a7d599f250f423ee94ecda39af32dc5aa98a7adb.gz

 Makefile.am    |    2 +
 gtk-doc.make   |  155 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 m4/Makefile.am |    3 +-
 m4/gtk-doc.m4  |   53 +++++++++++++++++++
 4 files changed, 212 insertions(+), 1 deletions(-)

commit 95aee28727072f16a5eb786911dc9933e5e08da0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 19 19:01:43 2007 +0000

    Add more gtkdoc
    
    
    20070319190143-53eee-cff031439a8757197d56caf9e9aac28e57510925.gz

 lib/docs/reference/telepathy-glib-sections.txt |   49 ++++-
 lib/telepathy-glib/base-connection-manager.h   |    5 +-
 lib/telepathy-glib/base-connection.h           |  251 ++++++++++-----------
 lib/telepathy-glib/channel-factory-iface.c     |   99 ++++++++-
 lib/telepathy-glib/channel-factory-iface.h     |  280 ++++++++----------------
 lib/telepathy-glib/channel-iface.c             |   10 +
 lib/telepathy-glib/channel-iface.h             |    9 +-
 lib/telepathy-glib/dbus.h                      |    2 +-
 lib/telepathy-glib/handle-repo.c               |   25 +-
 lib/telepathy-glib/handle-repo.h               |    7 +-
 lib/telepathy-glib/properties-mixin.c          |    3 +-
 11 files changed, 399 insertions(+), 341 deletions(-)

commit 67cf399c373db9e8eebc84de40da9a70ce90bfe9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 19 16:56:06 2007 +0000

    GabbleIMChannel: _dispose and _finalize should be static
    
    
    20070319165606-53eee-4aaadf33eb8f3d9d7247ed657ff1022ab5d6d9dc.gz

 src/gabble-im-channel.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 33fcad336601117d28ac4d20e7baeffbd3f29d02
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 19 16:54:53 2007 +0000

    Don't assign result of strlen() to a gsize, since size_t may be bigger
    
    
    20070319165453-53eee-4bafb2ef8d202c21b367a579d836db927ace04ea.gz

 lib/telepathy-glib/text-mixin.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit bdcc8f5719823db4478524ce69e15d05a0002d61
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 19 16:52:05 2007 +0000

    TpTextMixin: make all members private, remove send_nick. GabbleTextMixin: new mixin based on TpTextMixin which reinstates send_nick.
    
    
    20070319165205-53eee-793cdd68b3221e11ef3c0171806d5f62a33cf151.gz

 lib/telepathy-glib/text-mixin.c |   85 ++++++++++++++++++++++-----------------
 lib/telepathy-glib/text-mixin.h |   13 ++----
 src/gabble-im-channel.c         |    3 +-
 src/gabble-im-channel.h         |    6 +-
 src/gabble-muc-channel.c        |    3 +-
 src/gabble-muc-channel.h        |    6 +-
 src/text-mixin.c                |   27 ++++++++++++-
 src/text-mixin.h                |   30 +++++++++++--
 8 files changed, 111 insertions(+), 62 deletions(-)

commit e2a93b10134b8b5893e5bcae33692decf4457fd4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 19 16:46:52 2007 +0000

    Add a bit more gtkdoc
    
    
    20070319164652-53eee-a51111213e29046955ddae58c4e56ac2e3d3b67b.gz

 lib/telepathy-glib/base-connection-manager.c |    7 +++++++
 lib/telepathy-glib/base-connection-manager.h |    4 ++++
 lib/telepathy-glib/base-connection.c         |    8 ++++++++
 3 files changed, 19 insertions(+), 0 deletions(-)

commit d7c5f38f2ef5a525785f397f67a95405c430d27b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 19 16:03:37 2007 +0000

    Raise limit on message size from 1K to 8K bytes
    
    
    20070319160337-53eee-6dfc8718e552b1484f0efc239f1cf4ff8e81b3b5.gz

 lib/telepathy-glib/text-mixin.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 502989235a63f571700fc97e26693e405052cf37
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 19 16:03:13 2007 +0000

    Don't include TP_CHANNEL_SEND_NO_ERROR in gtkdoc (it's moved back into Gabble)
    
    
    20070319160313-53eee-c57a7168be1e96a1c8cd10f077037ebad4426b01.gz

 lib/docs/reference/telepathy-glib-sections.txt |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit efd6e3afa40c8041462f825d2c021e549dffaa53
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 19 15:37:28 2007 +0000

    Don't emit any handle leak debug message if no handles were leaked
    
    
    20070319153728-53eee-16ff969b23baa2ae0f8189624229bbb01732e3da.gz

 lib/telepathy-glib/handle-repo-dynamic.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit a0c58f0c0a291f34404f7532d1420a5bcfecf296
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 14 11:32:34 2007 +0000

    Assert that the self handle is valid, and don't creatre an extra ref to it
    
    
    20070314113234-53eee-c3484e91ffcb642a948e444522fb1721d424c0a5.gz

 lib/telepathy-glib/base-connection.c |    9 ++-------
 1 files changed, 2 insertions(+), 7 deletions(-)

commit 2d0710972979b513a82220d409610368dcb40c3b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 14 11:30:57 2007 +0000

    Assert that TpBaseConnection subclasses create at least a contact handle repo
    
    
    20070314113057-53eee-f7045d94655219d50434ee52b917a619c2833190.gz

 lib/telepathy-glib/base-connection.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 5417af58d268c4953e121258f2ceb917998d0360
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 14 11:30:17 2007 +0000

    Minor documentation fixes (close parentheses)
    
    
    20070314113017-53eee-0c0222efebed8fc78030cb32bea2350301cb068f.gz

 lib/telepathy-glib/base-connection-manager.h |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit e0db2c4c79de7f01b46d533093f81c88bb95c98b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 13 19:55:07 2007 +0000

    Improve text mixin documentation
    
    
    20070313195507-53eee-7892798a953d2e307f15a8e6cf614e9dec6f4700.gz

 lib/telepathy-glib/text-mixin.c |   20 +++++++++++++++++++-
 1 files changed, 19 insertions(+), 1 deletions(-)

commit f2fa6a6dd8637cc748b25eda1b6cec2f44e8b628
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 13 12:22:09 2007 +0000

    More documentation
    
    
    20070313122209-53eee-27b1e525cd839a3ed309d6b581fc4505a3b63442.gz

 lib/docs/reference/telepathy-glib-sections.txt |    7 +-
 lib/telepathy-glib/base-connection-manager.c   |   12 ++
 lib/telepathy-glib/base-connection-manager.h   |  177 +++++++++++-------------
 lib/telepathy-glib/base-connection.c           |   12 ++
 lib/telepathy-glib/dbus.c                      |    8 +
 lib/telepathy-glib/debug-ansi.h                |    9 +-
 lib/telepathy-glib/errors.h                    |    7 +
 lib/telepathy-glib/group-mixin.c               |   10 ++
 lib/telepathy-glib/properties-mixin.c          |   10 ++
 lib/telepathy-glib/run.c                       |   14 ++
 lib/telepathy-glib/text-mixin.c                |   25 ++++-
 lib/telepathy-glib/util.c                      |    9 ++
 12 files changed, 196 insertions(+), 104 deletions(-)

commit d7d846a8bd0bef56de34bb2655f0c83088d5421b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 12 16:26:01 2007 +0000

    genginterface: Remove support for synchronous service methods altogether (if you have a blocking function it's easy to implement the async method in terms of it, but the converse is not true)
    
    
    20070312162601-53eee-3b57e6457fc7493d1ab84b51a0e527ff29a0239c.gz

 lib/tools/genginterface.py |  104 +++++++++++--------------------------------
 1 files changed, 27 insertions(+), 77 deletions(-)

commit b716688adce64f3aa37b06a993de81f5601b3e1d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 12 14:25:19 2007 +0000

    gabble-roster-channel: Fix warning with debug disabled
    
    
    20070312142519-53eee-0e730d06d340270d67e7843e883055755223042f.gz

 src/gabble-roster-channel.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 344db7019d9a4785a7677a6fd75bb8637b7abfc4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 12 14:24:06 2007 +0000

    Use NUM_TP_SOMETHINGS instead of LAST_TP_SOMETHING which is now deprecated
    
    
    20070312142406-53eee-fae177441738ef3278c96303efb3961fd0de8be7.gz

 lib/telepathy-glib/base-connection.c |    8 ++++----
 lib/telepathy-glib/base-connection.h |    6 +++---
 lib/telepathy-glib/handle-repo.h     |    4 ++--
 lib/telepathy-glib/handle.h          |    6 +++---
 src/gabble-connection.c              |    2 +-
 src/gabble-connection.h              |    2 +-
 src/gabble-im-channel.c              |    4 ++--
 src/gabble-muc-channel.c             |    4 ++--
 src/text-mixin.c                     |    2 +-
 9 files changed, 19 insertions(+), 19 deletions(-)

commit 6bd8de8f7d75dee716420ea4859f3213cb9b07e1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 12 14:22:30 2007 +0000

    Fix various bits of gtkdoc
    
    
    20070312142230-53eee-bdb6bacd0021055bb5a999cc76f1e106161cb1f3.gz

 lib/telepathy-glib/base-connection-manager.h |   21 ++++++++++++---------
 lib/telepathy-glib/channel-factory-iface.h   |    8 ++++----
 lib/telepathy-glib/dbus.c                    |    2 +-
 lib/telepathy-glib/handle-repo-dynamic.h     |    4 ++--
 lib/telepathy-glib/handle-repo.c             |    4 ++--
 lib/telepathy-glib/handle-repo.h             |    2 +-
 lib/telepathy-glib/util.c                    |    6 +++---
 7 files changed, 25 insertions(+), 22 deletions(-)

commit afdc8831507d2adeeb10269c9784e8ea0f962d2f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 21 16:34:17 2007 +0000

    Resolve conflict between JID and pipeline debug flags
    
    
    20070321163417-53eee-d26c731972e045937da91d7f1b75f56264807027.gz

 src/debug.h |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 3db4f861b89af67e7c3abf75094c2dd01576b36f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 13 19:57:08 2007 +0000

    GabbleMUCFactory: route chat room messages to the room correctly
    
    
    20070313195708-53eee-e51efb8187aeacccf761218b9bc4686d6518e7ee.gz

 src/muc-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 750ac8409c4cd8eb77c88e73a3434079aa8c2343
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 12 11:43:15 2007 +0000

    Correct room list channel handle fetching, and test cases
    
    
    20070312114315-53eee-d7e808bbbbda080b545e322dda6219587ec12d8e.gz

 src/gabble-roomlist-channel.c |   10 ++++++++--
 tests/test-handles.c          |    4 ++--
 2 files changed, 10 insertions(+), 4 deletions(-)

commit 90cd2ccaa99ec3e91c92f3ed0c612b6e239c49af
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 8 18:14:35 2007 +0000

    Further improve handle repository API: track errors, and always pass the handle repo to the dynamic repo's validation callback
    
    
    20070308181435-53eee-da2cca89577bd1e602af0045356190ad62e29e07.gz

 lib/telepathy-glib/handle-repo-dynamic.c |   16 +++++---
 lib/telepathy-glib/handle-repo-dynamic.h |   21 +++++++++--
 lib/telepathy-glib/handle-repo-static.c  |   10 ++++--
 lib/telepathy-glib/handle-repo.c         |   10 +++--
 lib/telepathy-glib/handle-repo.h         |    8 ++--
 src/debug.c                              |    1 +
 src/debug.h                              |    1 -
 src/gabble-connection.c                  |   51 +++++---------------------
 src/gabble-connection.h                  |    7 +---
 src/gabble-muc-channel.c                 |   38 ++++++++++++-------
 src/im-factory.c                         |    2 +-
 src/media-factory.c                      |    2 +-
 src/muc-factory.c                        |   53 ++++++++++++++++++++-------
 src/presence-cache.c                     |    4 +-
 src/roster.c                             |    6 ++--
 src/util.c                               |   59 ++++++++++++++++++------------
 src/util.h                               |    7 +++-
 17 files changed, 167 insertions(+), 129 deletions(-)

commit 75dd9ffc87d7f08638a9f6cbc8998add9bd6321b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 8 18:14:21 2007 +0000

    Document tp_dynamic_handle_repo_lookup_exact
    
    
    20070308181421-53eee-e66ff10b0d0b98c125312dac48db1d0d5d800cf7.gz

 lib/telepathy-glib/handle-repo-dynamic.c |   16 ++++++++++++++++
 1 files changed, 16 insertions(+), 0 deletions(-)

commit 6138f07fe4b70386ad448250523dfc1f27404733
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 8 13:45:59 2007 +0000

    Remove now-unused gabble_handle_for_foo functions
    
    
    20070308134559-53eee-22a9c8fc92b1488c7c9b57b3634ed5294e0d6649.gz

 src/handles.c |  118 ---------------------------------------------------------
 src/handles.h |    7 ---
 2 files changed, 0 insertions(+), 125 deletions(-)

commit cec86767f79bc74c1a39271a2ce6b66d6a267e1e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 8 13:34:15 2007 +0000

    Don't pass FALSE as a pointer argument
    
    
    20070308133415-53eee-bb4791ecf3f78c9cfc70d40bab9b0b18ba184e2b.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7c044898bb825233dd0e4362a162fc92b7fa2700
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 8 13:31:40 2007 +0000

    Correctly fail rather than crashing when normalize function returns NULL
    
    
    20070308133140-53eee-d23231567451a53402ff4b85fdaebafdfcb584b1.gz

 lib/telepathy-glib/handle-repo-dynamic.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit c23cb62dc55ce03015c3a27294989c0308cb9949
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 8 12:02:43 2007 +0000

    Add lookup_handle and ensure_handle functions to the TpHandleRepoIface API. Add normalization callback to dynamic handle repos.
    
    
    20070308120243-53eee-24eaeb5fd32e529dd88305f1856a4b074989df5c.gz

 lib/telepathy-glib/handle-repo-dynamic.c |  123 +++++++++++++++++++++++++++++-
 lib/telepathy-glib/handle-repo-dynamic.h |    6 ++
 lib/telepathy-glib/handle-repo-static.c  |   14 +++-
 lib/telepathy-glib/handle-repo.c         |   46 +++++++++++
 lib/telepathy-glib/handle-repo.h         |    8 ++
 5 files changed, 194 insertions(+), 3 deletions(-)

commit 752929daabe8fd790ae7da0de8e54a5b820a9984
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 8 11:55:47 2007 +0000

    Add tp_base_connection_get_handles so TpBaseConnection::handles can become private in a future version. Add create_handle_repos to TpBaseConnectionClass so handle repos can refer to the connection during construction.
    
    
    20070308115547-53eee-64a10965934636b41a4fb00167c2d44d67173a4b.gz

 lib/docs/reference/tmpl/util.sgml    |    2 --
 lib/telepathy-glib/base-connection.c |   22 +++++++++++++++++++---
 lib/telepathy-glib/base-connection.h |   17 +++++++++++++++++
 3 files changed, 36 insertions(+), 5 deletions(-)

commit 32073bc67a9d15c4f274b5c08aa710b608fa625e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 8 12:05:11 2007 +0000

    Convert Gabble to use new handle API.
    
    Also fix bug where chat states in MUC were attributed to the room.
    
    20070308120511-53eee-2fa9ca8b7f7fb080a3c46fe703b16082f9dbc569.gz

 src/conn-aliasing.c             |   13 +-
 src/conn-avatars.c              |    5 +-
 src/conn-presence.c             |   15 ++-
 src/gabble-connection-manager.c |    4 +-
 src/gabble-connection.c         |  167 +++++++++++++++++++++------
 src/gabble-connection.h         |   31 +++++
 src/gabble-im-channel.c         |   18 ++--
 src/gabble-media-channel.c      |   22 +++--
 src/gabble-media-session.c      |    6 +-
 src/gabble-muc-channel.c        |   41 +++++---
 src/gabble-roomlist-channel.c   |   16 ++-
 src/gabble-roster-channel.c     |   40 +++++--
 src/handles.c                   |   30 -----
 src/handles.h                   |   19 +--
 src/im-factory.c                |   20 ++-
 src/media-factory.c             |   17 ++-
 src/muc-factory.c               |  108 +++++++++++-------
 src/presence-cache.c            |   79 +++++++------
 src/roster.c                    |  242 +++++++++++++++++++++------------------
 src/util.c                      |  111 ++++++++++++++++++
 src/util.h                      |    4 +
 src/vcard-manager.c             |   72 ++++++------
 tests/test-handles.c            |   27 ++---
 23 files changed, 712 insertions(+), 395 deletions(-)

commit 638ad3b805c324de176d2dfa072fbcef2de2a25d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 8 12:00:33 2007 +0000

    In TpDynamicHandleRepo, make the initial refcount 1, but force it to 0 in dynamic_request_handle to be backwards compatible
    
    
    20070308120033-53eee-4171a22456c3007bb873f748272190d59c9c5fef.gz

 lib/telepathy-glib/handle-repo-dynamic.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 12e987c4438e8f1124b7f33460ef9ce3f194324f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 14 12:09:42 2007 +0000

    Change some section titles in an attempt to make the docs fit in the 99 character tar filename limit
    
    
    20070314120942-53eee-3e4c5389c2dabf9257fae49ba639cedae8fc3c7f.gz

 lib/docs/reference/telepathy-glib-sections.txt |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit 5839039fa31621110deb12b3d36e43819f4b6026
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 13 19:54:03 2007 +0000

    Document the properties mixin
    
    
    20070313195403-53eee-134625c2d6dded5557ba50fea12f3f3dc5eedcf2.gz

 lib/telepathy-glib/properties-mixin.c |  246 +++++++++++++++++++++++++++++++--
 lib/telepathy-glib/properties-mixin.h |   19 +++
 2 files changed, 255 insertions(+), 10 deletions(-)

commit dd9ec1e32333da1bad6b7f09e3691103ea3cbde8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 13 12:24:27 2007 +0000

    Document backwards-compatible names in generated GInterfaces
    
    
    20070313122427-53eee-80cc8851196852393499299dab438b762464c617.gz

 lib/tools/genginterface.py |   13 ++++++++++---
 1 files changed, 10 insertions(+), 3 deletions(-)

commit 2ed76887907ade12da70c10ea4e9697fb30705a8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 12 14:24:58 2007 +0000

    genginterface: Emit documentation
    
    
    20070312142458-53eee-8a83aece5e0d317fcf939081fde08fd961864051.gz

 lib/tools/genginterface.py |   76 ++++++++++++++++++++++++++++++++++---------
 1 files changed, 60 insertions(+), 16 deletions(-)

commit c9dd83f9495f7b060264169eb1dc1a2c467fce97
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 12 14:22:07 2007 +0000

    Improve documentation layout
    
    
    20070312142207-53eee-bc1f417b62ea8fff6c73186e8a951684d677792b.gz

 lib/docs/reference/telepathy-glib-docs.sgml    |   75 +-
 lib/docs/reference/telepathy-glib-sections.txt | 1564 ++++++++----------------
 lib/docs/reference/tmpl/util.sgml              |    2 +-
 3 files changed, 492 insertions(+), 1149 deletions(-)

commit 6cb2e65aa3d3bece2f6522be2d6731bd081abd15
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 12 14:21:56 2007 +0000

    Make distcheck with gtkdoc and without debug
    
    
    20070312142156-53eee-d1738c44ece0690ed4f65ace0343b88e613e074f.gz

 Makefile.am |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit f0d74d8a4bb0ec3ac571616aec37c85ac967bbc8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 12 13:05:30 2007 +0000

    Add a dummy template file so gtk-doc's Makefile will b e happy in Darcs builds
    
    
    20070312130530-53eee-8106d858552dc46268f5dd1be69f63e4bbc5bab7.gz

 0 files changed, 0 insertions(+), 0 deletions(-)

commit 6ebb97cc693c8007fa915e1db5e49d1470afd0c1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 8 12:04:11 2007 +0000

    Name parameter to tp_intset_destroy, tp_intset_clear to keep gtkdoc happy
    
    
    20070308120411-53eee-d10092ef48df538f71aaf8143e97f952cd88e7a6.gz

 lib/telepathy-glib/intset.h |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 5e907ab40c074a69a94624a054771e4c592804f0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 8 12:03:42 2007 +0000

    Document the fact that CMs may assume the numeric values of handles in a static repo
    
    
    20070308120342-53eee-77471c7909cd7ac14b2b13d0cb636ae32071084c.gz

 lib/telepathy-glib/handle-repo-static.h |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 44be5b999ddf9091015805e9d8df918deb48d6d0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 6 12:52:41 2007 +0000

    Add some basic gtk-doc. Remove unused tp_static_handle_repo_new and the dynamic equivalent.
    
    
    20070306125241-53eee-9977f9ef2750d6ba83b173c4cfecd4b9215e3b8e.gz

 _boring                                         |    7 +
 configure.ac                                    |    8 +-
 lib/Makefile.am                                 |    2 +-
 lib/docs/Makefile.am                            |    1 +
 lib/docs/reference/Makefile.am                  |   76 +
 lib/docs/reference/telepathy-glib-docs.sgml     |   99 ++
 lib/docs/reference/telepathy-glib-sections.txt  | 1826 +++++++++++++++++++++++
 lib/docs/reference/telepathy-glib.types         |   12 +
 lib/docs/reference/tmpl/util.sgml               |   68 +
 lib/telepathy-glib/base-connection-manager.h    |  115 ++-
 lib/telepathy-glib/base-connection.c            |   11 +-
 lib/telepathy-glib/base-connection.h            |  127 ++-
 lib/telepathy-glib/channel-factory-iface.c      |   16 +
 lib/telepathy-glib/channel-factory-iface.h      |  210 +++-
 lib/telepathy-glib/channel-iface.h              |    9 +-
 lib/telepathy-glib/dbus.c                       |   17 +
 lib/telepathy-glib/handle-repo-dynamic.c        |    7 -
 lib/telepathy-glib/handle-repo-dynamic.h        |   21 +-
 lib/telepathy-glib/handle-repo-static.c         |    7 -
 lib/telepathy-glib/handle-repo-static.h         |   19 +-
 lib/telepathy-glib/handle-repo.c                |  126 ++-
 lib/telepathy-glib/handle-repo.h                |   30 +-
 lib/telepathy-glib/handle.h                     |   11 +
 lib/telepathy-glib/intset.c                     |    3 +-
 lib/telepathy-glib/run.c                        |   16 +-
 lib/telepathy-glib/util.c                       |   54 +-
 26 files changed, 2788 insertions(+), 110 deletions(-)

commit 476f4fa40b8ed1b0ad72bf75c6df8e00e8d39aa7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 21 13:22:45 2007 +0000

    Add a unit test for telepathy-glib/util.c
    
    
    20070321132245-53eee-d5a0b213b5703671af57980073c58831804c8121.gz

 lib/tests/Makefile.am |    8 +++++++-
 lib/tests/test-util.c |   43 +++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 50 insertions(+), 1 deletions(-)

commit 8c21372ad8b04ca58d57f69cdce4d6c74afae951
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Mar 14 11:30:30 2007 +0000

    Export connection bus name/object path prefixes into header
    
    
    20070314113030-53eee-46ee4fd4d6bafe5d646afd0ef9db467192d14cf7.gz

 lib/telepathy-glib/base-connection.c |    7 ++-----
 lib/telepathy-glib/base-connection.h |   18 ++++++++++++++++++
 2 files changed, 20 insertions(+), 5 deletions(-)

commit b15aa86ef4ed1778c4cbb26bdcd349040baec3f4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 13 12:24:13 2007 +0000

    Improve usage message on genginterface
    
    
    20070313122413-53eee-cd3e5b5914c5d8d236fe98dc38f932a5bc416d35.gz

 lib/tools/genginterface.py |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 779615409296d29a0a49af923efcdee74ad10393
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 13 19:57:42 2007 +0000

    Use NUM_TP_HANDLE_TYPES in test case
    
    
    20070313195742-53eee-859bb3b35f66edca8aa42ce257ac461c748a6f17.gz

 tests/test-handles.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit fb9ff233da6ddfb21f39303ec4c7a6e8f1e04643
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 13 19:56:52 2007 +0000

    gabble.c: Fix compilation without debugging
    
    
    20070313195652-53eee-8a2ba60a0b9e6d5fc47c78c58e53363400a54029.gz

 src/gabble.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 548866b48cea2437342c878d8140859db7b5690c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 13 19:56:03 2007 +0000

    When generating enums, #define NUM_TP_THINGS rather thanmaking it an enum member, to avoid spurious "enum member not handled in switch" warnings
    
    
    20070313195603-53eee-0e1e9c34bf6d4244470b7aec623943eda52171f3.gz

 lib/tools/c-constants-generator.xsl |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 2420623d7ea144cb3772db1b8dee8b3d3fe389e2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 13 19:54:47 2007 +0000

    Close a couple of leaks in the properties mixin if there are no properties in the context (probably can't happen)
    
    
    20070313195447-53eee-b248228108a34874459e97e957bf4d3e4a5c9ed8.gz

 lib/telepathy-glib/properties-mixin.c |   12 ++++++++++--
 1 files changed, 10 insertions(+), 2 deletions(-)

commit e4b1dd68528ca96ea915bbc43d4cbf0caa220d73
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 13 19:52:13 2007 +0000

    Use a TpIntSet, rather than a bitfield in a single guint, for properties mixin (allows objects with >32 properties)
    
    
    20070313195213-53eee-26f1bdc5ae8dcfaea92c48de5cb4d0245cc3c917.gz

 lib/telepathy-glib/properties-mixin.c |   18 ++++++++++++------
 1 files changed, 12 insertions(+), 6 deletions(-)

commit 1daa769e0fb58f2ca4385d2c90e412425b89542f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 13 19:51:44 2007 +0000

    Fix handle leak debug code
    
    
    20070313195144-53eee-7f70b1d33b960f5b73a69e174d190bb35f4d4f7a.gz

 lib/telepathy-glib/handle-repo-dynamic.c |   13 +++++--------
 1 files changed, 5 insertions(+), 8 deletions(-)

commit 37a546b1467cc7244563cb9a35cf88537aa63a7b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Mar 13 12:23:52 2007 +0000

    Move TP_CHANNEL_SEND_NO_ERROR back into Gabble, telepathy-glib doesn't need it
    
    
    20070313122352-53eee-747dd376b9756c1efda425a8607a44caadc454eb.gz

 lib/telepathy-glib/text-mixin.h |    2 --
 src/text-mixin.h                |    2 ++
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 11a71ccf064f5e1663987885732656295ae0ad60
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 12 14:23:31 2007 +0000

    Emit NUM_TP_SOMETHINGS as well as LAST_TP_SOMETHING in enums, and declare the latter to be deprecated
    
    
    20070312142331-53eee-783b2f4e4a420a977697bf5be9b839e24722eba9.gz

 lib/tools/c-constants-generator.xsl |   19 ++++++++++++++++++-
 1 files changed, 18 insertions(+), 1 deletions(-)

commit 17583cb9653ae786834b6948dd1bdf30ff95ef9e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 8 13:34:37 2007 +0000

    Consistently put guints in arrays of handles, to be correct on ILP64 platforms
    
    
    20070308133437-53eee-08336bab33b7b671cf4f3094a6c96e7cec3a20f9.gz

 src/gabble-connection.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 47d9f5681d206635bde20923816d7924078dd70b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 8 13:33:54 2007 +0000

    Remove misleading comment - GabbleConnection does not directly implement any D-Bus methods any more
    
    
    20070308133354-53eee-dce81848529bb09ec4b53abac5401e7836f96bfa.gz

 src/gabble-connection-manager.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 8ca96de42fbe026741bdf56dda273d2620578386
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Mar 21 15:09:49 2007 +0000

    properly cast priority as gint8 instead of char, revert no-op tp_strdiff "patch"
    
    
    20070321150949-01440-d6867b88513eaaee5d630dda411a8541220a4801.gz

 lib/telepathy-glib/util.c       |    6 ++----
 src/debug.h                     |    1 +
 src/gabble-connection-manager.c |    2 +-
 3 files changed, 4 insertions(+), 5 deletions(-)

commit 94b93a2dde718fe2f9f57043e5cde8015e48b713
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Mar 21 09:50:10 2007 +0000

    base-connection.c, presence-cache.c: changed to not expect installed callbacks if we've disconnected before connecting
    
    
    20070321095010-01440-06c193928c3b3b9b734ac5a2eb88a5179648c6b0.gz

 lib/telepathy-glib/base-connection.c |   17 +++++++++++------
 src/presence-cache.c                 |   21 +++++++++++----------
 2 files changed, 22 insertions(+), 16 deletions(-)

commit 8d3a94cd4229b03ddb331146ad2be63ec8a691f6
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Mar 21 08:56:03 2007 +0000

    tp_strdiff: return FALSE if both strings are NULL instead of crashing
    
    
    20070321085603-01440-19682c79eb15f3c9a81b21f37971957016a1c25c.gz

 lib/telepathy-glib/util.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit ee361ed804ca3001761bed3f1cd1da34a5370ffc
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Mar 21 08:44:41 2007 +0000

    int8 type for "priority" conn param is now consistently used
    
    
    20070321084441-01440-7ddedbb930010ff40075196f42fa79ae087c25f7.gz

 lib/telepathy-glib/base-connection-manager.c |    5 +++++
 src/conn-presence.c                          |    4 ++--
 src/gabble-connection-manager.c              |    2 +-
 src/gabble-connection.c                      |   16 ++++++++--------
 4 files changed, 16 insertions(+), 11 deletions(-)

commit 266430e76d1088a499066611b394b5736d57b75c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Mar 20 17:23:48 2007 +0000

    lm_message_build: add extra named argument for some extra type safety
    
    
    20070320172348-c9803-54a2ed16bc654630a1b137e0ced3cbb09f43148d.gz

 src/util.c |   21 ++++++++++-----------
 src/util.h |    2 +-
 2 files changed, 11 insertions(+), 12 deletions(-)

commit bea9fd143afed870d60a33674e9cd7dae60d2f0c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Mar 20 17:23:31 2007 +0000

    use tp_strdiff for checking PEPability
    
    
    20070320172331-c9803-a2f694b62c2e0979b33df15ff8e157d6af4854f7.gz

 src/gabble-connection.c |    7 ++-----
 1 files changed, 2 insertions(+), 5 deletions(-)

commit f0112ef0a2f3eff68e0c467c9ebb1cb39c1e112c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Mar 20 16:38:35 2007 +0000

    lm_message_build: check that various parameters are not NULL
    
    
    20070320163835-c9803-7bc7046317a978f12532794b6ca19e897a41c324.gz

 src/util.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 505efe0358e7667e5d76e575aab75dfc0d1e8287
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Mar 20 15:52:33 2007 +0000

    use BUILD_END constant
    
    
    20070320155233-c9803-8be6d7ab262f012cd32c5d0c5769489c80f62b6e.gz

 src/util.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 47a625e392fcdf97efc30c8e7ea6434a39e306a2
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Mar 20 15:52:06 2007 +0000

    add some comments to lm_message_build
    
    
    20070320155206-c9803-3ceddbf089247a5465b8c9f43bdc04606a94bba7.gz

 src/util.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 27c1c23406b3d796635191b51ee1e61579dee681
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Feb 28 13:18:57 2007 +0000

    tweak activity namespace name
    
    
    20070228131857-c9803-54b2ba18ec79cf122b2c484ecce230fc0c0602fb.gz

 src/namespaces.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a11cc43c4983fb5866ee8a87032b4fb36608523b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Sun Feb 25 14:36:03 2007 +0000

    define OLPC namespaces
    
    
    20070225143603-c9803-fd80be304aa470c42cb6e51c7c01c6cbc728199c.gz

 src/namespaces.h |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit ba61651b4d26b17a84fe02a6941cc6f502eebf4a
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Feb 22 19:44:18 2007 +0000

    check server disco items for PEP support
    
    
    20070222194418-c9803-990bfc0b5366aac502f33a2d2ef1f05372a7da96.gz

 src/gabble-connection.c |   16 +++++++++++++++-
 1 files changed, 15 insertions(+), 1 deletions(-)

commit 1f303f0ef180c7aa8fe732b0198a94c32645155f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Feb 21 12:51:25 2007 +0000

    add connection feature for PEP (XEP-0060)
    
    
    20070221125125-c9803-9edb69d6e5f99e880073daacb0e3242a3c99af76.gz

 src/gabble-connection.h |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 62293210cf5362637e030f7b3b3c7d9a3636896b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Feb 21 12:51:12 2007 +0000

    define PubSub namespage
    
    
    20070221125112-c9803-41ec097f3de3c6b5fcbb2b4aa0a79fe8c917d48a.gz

 src/namespaces.h |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 55e099188e1b463c0dc16fde8cc12ddfcabf05b0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Mar 12 11:01:56 2007 +0000

    fix typo in lm_message_build_doc
    
    
    20070312110156-7fe3f-ae4cabffa82649a69eeb98333426d4e6cc90c9a2.gz

 src/util.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7bf46cf232986798b2ec3c3d99c7266785b46b39
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Mar 1 14:25:23 2007 +0000

    lm_message_build: allow copying pointers out of the tree as it's being built
    
    
    20070301142523-c9803-5c32ffe0c26a14d6cde27ac37d7f658072a774fe.gz

 src/util.c |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 0cd94d0b84c808f9d81daf1bd344a86779e0b068
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Feb 22 17:23:44 2007 +0000

    lm_message_build
    
    
    20070222172344-c9803-652b8b6629bffb6df48216b8e73de727a43bef4d.gz

 src/util.c |   91 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/util.h |    1 +
 2 files changed, 92 insertions(+), 0 deletions(-)

commit 0b50c307af42c2388b581b3bc83473a66c104c81
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 8 13:33:28 2007 +0000

    gabble-connection-manager.[ch]: fold long lines
    
    
    20070308133328-53eee-4e15ea8b26d558a4d2d1b3a946681f990deb7983.gz

 src/gabble-connection-manager.c |   68 ++++++++++++++++++++++++++++----------
 src/gabble-connection-manager.h |    9 +++--
 2 files changed, 56 insertions(+), 21 deletions(-)

commit 17bd006716238340feec49c0cd100c81b37c324e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 5 15:13:08 2007 +0000

    Remove now-unused set_mask member from GabbleParams (we now use a TpIntSet to track set parameters, to support >32 parameters)
    
    
    20070305151308-53eee-90193cdb35076614eac8f58e800db3622ca2d321.gz

 src/gabble-connection-manager.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 36961f2f0d2ec2f11a5711cbf9c35d739d744785
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 5 14:08:39 2007 +0000

    Use public TP_CM_BUS_NAME_BASE in write-mgr-file; ditto for object-path base
    
    
    20070305140839-53eee-fcb2de42a93d10aa34ba9894a94a01483683c8b7.gz

 src/gabble-connection-manager.h |    3 ---
 src/write-mgr-file.c            |    4 ++--
 2 files changed, 2 insertions(+), 5 deletions(-)

commit 72e8738e0bfe22a9b6e44078056d392e95b97098
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 5 14:06:59 2007 +0000

    Export TpCMProtocolSpec array directly, rather than via a modifiable pointer
    
    
    20070305140659-53eee-22523835546b9d1b4f042e356466b0e54ff29fd5.gz

 src/gabble-connection-manager.c |    3 +--
 src/gabble-connection-manager.h |    2 +-
 src/write-mgr-file.c            |    2 +-
 3 files changed, 3 insertions(+), 4 deletions(-)

commit f1b46ee539ff479a833c0c892c41c0e55c9af7dd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 5 14:06:28 2007 +0000

    Document required gtypes for CM params corresponding to the D-Bus type, and assert that they are, in fact, as required
    
    
    20070305140628-53eee-abe97c88b37ef961e40046830cf22b1952fd239f.gz

 lib/telepathy-glib/base-connection-manager.c |    8 ++++++++
 lib/telepathy-glib/base-connection-manager.h |   11 +++++++++--
 2 files changed, 17 insertions(+), 2 deletions(-)

commit 7907043fcd75988a3c37a822c94ca980b186debb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Mar 5 14:05:35 2007 +0000

    Provide TP_CM_BUS_NAME_BASE and TP_CM_OBJECT_PATH_BASE in base-connection-manager.h
    
    
    20070305140535-53eee-851bfdb320d1f8a5241a81e70024728b625e6a3e.gz

 lib/telepathy-glib/base-connection-manager.c |    7 ++-----
 lib/telepathy-glib/base-connection-manager.h |    3 +++
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 0a8cf89b43a6a5c4df1db731577b2c5c23dc4eb6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 8 11:13:01 2007 +0000

    fix typo
    
    
    20070308111301-7fe3f-66bb9277b74b8360ff3416e2eaf08ec0b72bf8c5.gz

 src/vcard-manager.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit a18beeef99f9f642021d994c71e024991a93430f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Thu Mar 8 10:55:47 2007 +0000

    Don't emit the AliasChanged signal with the old alias when we change our local alias
    
    
    20070308105547-7fe3f-058d682815b26b07375ed69edea67c4ee0fa39dc.gz

 src/vcard-manager.c |    9 ++++++++-
 1 files changed, 8 insertions(+), 1 deletions(-)

commit 7d40ee128899158163ecdf076371e145d61239ff
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Mar 5 23:39:02 2007 +0000

    bump version to 0.5.5.1
    
    
    20070305233902-418b8-eef3e81eadc6e7ae6a6ddd64e5e8bf1fd215a6e5.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f0d5274d9525a63d33bab43caa74c962948c11cc
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Mar 5 14:56:10 2007 +0000

    bump version to 0.5.5
    
    
    20070305145610-418b8-ca89b16fbf77c4987fa7b227c0bcf2713a04cea1.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit a506d1a1b1060eab0bafbe215a75637c96c64f9b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Mar 5 12:34:22 2007 +0000

    GetAvatarTokens: take own avatar token from conn->self_presence, not presence cache
    
    
    20070305123422-c9803-9cc341e170c3edfd5dafe9eace6e74dc159ee95c.gz

 src/conn-avatars.c |   69 ++++++++++++++++++++++++++++-----------------------
 1 files changed, 38 insertions(+), 31 deletions(-)

commit adb65553f29a24a3ff157607beadff577cb56494
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Mar 5 12:19:45 2007 +0000

    fix memory leak in tp_base_connection_manager_request_connection
    
    
    20070305121945-c9803-9c8bec93a4a7359001eafddebb8d2070c3537e9b.gz

 lib/telepathy-glib/base-connection-manager.c |    8 +++++---
 1 files changed, 5 insertions(+), 3 deletions(-)

commit 04093fae4cb402ab9679dc313da787da95c41806
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Mar 2 15:59:19 2007 +0000

    when editing a vCard, ensure that the request doesn't end up in reqs_in_flight twice
    
    
    20070302155919-c9803-f673c241d1515afc3f565f1341e3477a5c45156a.gz

 src/vcard-manager.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 71fe4d10d1ff7540bc72370d3730fe9bb9c3ca96
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Mar 2 14:36:59 2007 +0000

    remove defunct suppress_next_handler flag
    
    
    20070302143659-c9803-6c8d15021186f5e3940fb4326e03c1c2e9eb57ed.gz

 src/gabble-connection.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit c7cb36151fae290f1cf30bb875333c023fd4db0d
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Mar 1 20:19:02 2007 +0000

    split out aliasing interface from gabble-connection.c
    
    
    20070301201902-c9803-36d2a1e30c691ee8db645f07b935724c3beec687.gz

 src/Makefile.am         |    2 +
 src/conn-aliasing.c     |  376 +++++++++++++++++++++++++++++++++++++++++++++++
 src/conn-aliasing.h     |   33 ++++
 src/gabble-connection.c |  349 +-------------------------------------------
 4 files changed, 413 insertions(+), 347 deletions(-)

commit 208a9d73338d2830501a993be28fbc1c72bbbc36
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Mar 1 20:15:40 2007 +0000

    fix missed #include of gabble-presence.h
    
    
    20070301201540-c9803-3c56e108d61067f539fe8c6aae50aca53af39a4b.gz

 tests/test-gabble-presence.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7ea330118a1e3f85fb12f1306bec6e06c96bb78b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Mar 1 19:57:59 2007 +0000

    move gabble-presence-cache.? -> presence-cache.?
    
    
    20070301195759-c9803-fe49ba736e97ebaef7a23ebd0b3ae095e11084b4.gz

 src/Makefile.am             |    4 +-
 src/capabilities.c          |    2 +-
 src/conn-avatars.c          |    2 +-
 src/conn-presence.c         |    2 +-
 src/gabble-connection.c     |    2 +-
 src/gabble-im-channel.c     |    2 +-
 src/gabble-media-channel.c  |    2 +-
 src/gabble-media-session.c  |    2 +-
 src/gabble-presence-cache.c | 1248 -------------------------------------------
 src/gabble-presence-cache.h |   85 ---
 src/muc-factory.c           |    2 +-
 src/presence-cache.c        | 1248 +++++++++++++++++++++++++++++++++++++++++++
 src/presence-cache.h        |   85 +++
 src/presence.c              |    2 +-
 14 files changed, 1344 insertions(+), 1344 deletions(-)

commit 3fa03d07876858044e17e8fe2d9151ac18ede055
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Mar 1 19:49:37 2007 +0000

    move gabble-presence.? -> presence.?
    
    
    20070301194937-c9803-21b1efc85d645ca126172645828f9569e3beccbf.gz

 src/Makefile.am             |    4 +-
 src/capabilities.h          |    2 +-
 src/conn-avatars.c          |    2 +-
 src/conn-presence.c         |    2 +-
 src/gabble-connection.c     |    2 +-
 src/gabble-im-channel.c     |    2 +-
 src/gabble-media-channel.c  |    2 +-
 src/gabble-media-channel.h  |    2 +-
 src/gabble-media-session.c  |    2 +-
 src/gabble-presence-cache.c |    1 -
 src/gabble-presence-cache.h |    2 +-
 src/gabble-presence.c       |  428 -------------------------------------------
 src/gabble-presence.h       |  103 -----------
 src/presence.c              |  428 +++++++++++++++++++++++++++++++++++++++++++
 src/presence.h              |  103 +++++++++++
 15 files changed, 542 insertions(+), 543 deletions(-)

commit 03af043f053d834021e77b3ce3eb3f246dd7cb3a
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Mar 1 19:47:43 2007 +0000

    patch from Dmitry Rozhkov <ext-dmitry.1.rozhkov@nokia.com> to add --enable-coverage to compile with coverage monitoring
    
    
    20070301194743-418b8-dbe1ede660733810578f3bd1915b05b0c6b96743.gz

 configure.ac                   |    9 +++++++++
 lib/telepathy-glib/Makefile.am |    2 +-
 lib/tests/Makefile.am          |    2 +-
 src/Makefile.am                |    2 +-
 tests/Makefile.am              |    1 +
 5 files changed, 13 insertions(+), 3 deletions(-)

commit e1476ce33cd604d7bedc397e2c4495f907745ccf
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Mar 1 14:49:15 2007 +0000

    make emit_one_presence_update static
    
    
    20070301144915-c9803-cde6576c815af77de90015b675416c2a0a954103.gz

 src/conn-presence.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 0534e4c0126e1ab88678c78d00b60b3776534153
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Mar 1 14:49:02 2007 +0000

    make header guards consistent with header name
    
    
    20070301144902-c9803-d98ccbf2ea6c549d9e0f1891e11f47d36d8977c2.gz

 src/conn-avatars.h |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 13e04cf3b78f168931aabdf97d7f6df0ef4356b5
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Mar 1 14:06:14 2007 +0000

    hook onto StatusChanged in conn-presence.c rather than exporting emit_one_presence_update and calling it in gabble-connection.c
    
    
    20070301140614-c9803-81393bbeb82e9e35ed1ce38e47974aff80816aac.gz

 src/conn-presence.c     |   23 ++++++++++++++++++++---
 src/conn-presence.h     |    1 -
 src/gabble-connection.c |    2 --
 3 files changed, 20 insertions(+), 6 deletions(-)

commit a218a78ad079d9e8e928b74e49cb81007cdaadff
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Mar 1 14:03:15 2007 +0000

    rename functions fgj
    
    
    20070301140315-c9803-5579b18e1715fde5bb079f3d1b594356890959f8.gz

 src/conn-avatars.c      |    4 ++--
 src/conn-avatars.h      |    4 ++--
 src/conn-presence.c     |    2 +-
 src/conn-presence.h     |    4 ++--
 src/gabble-connection.c |    8 ++++----
 5 files changed, 11 insertions(+), 11 deletions(-)

commit b8adfd6694e1f8e91eef02372ab38d7411f65792
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Mar 1 13:16:47 2007 +0000

    fix leaks of connection resource
    
    
    20070301131647-c9803-b975e36c12cc648efc9fdc880d02e5bd20c640f1.gz

 src/conn-presence.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit dae2484f2493516a612079f784d802966a0b07c0
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Mar 1 13:02:47 2007 +0000

    add copyright statement to new files
    
    
    20070301130247-c9803-d07f73a71a2dac8cc5e9f55faef2694ac010e04e.gz

 src/conn-avatars.c  |   19 +++++++++++++++++++
 src/conn-avatars.h  |   19 +++++++++++++++++++
 src/conn-presence.c |   19 +++++++++++++++++++
 src/conn-presence.h |   19 +++++++++++++++++++
 4 files changed, 76 insertions(+), 0 deletions(-)

commit ecbc1bd2cbdb773ca5fc792c55211e7d150c4bad
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Mar 1 02:20:38 2007 +0000

    add missing files
    
    
    20070301022038-c9803-d7293d3bc61aaded7242ae10e0c652504c319868.gz

 src/conn-presence.c |  668 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/conn-presence.h |   14 +
 2 files changed, 682 insertions(+), 0 deletions(-)

commit 4dac5d2a79d628b5d158a3517200cd69a15963ef
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Mar 1 02:18:35 2007 +0000

    move avatars.{h,c} -> conn-avatars.{h,c} for consistency
    
    
    20070301021835-c9803-dea3563154cdbc91b292a0f6a58d816c47fcae11.gz

 src/Makefile.am         |    4 +-
 src/avatars.c           |  604 ----------------------------------------------
 src/avatars.h           |   15 --
 src/conn-avatars.c      |  605 +++++++++++++++++++++++++++++++++++++++++++++++
 src/conn-avatars.h      |   15 ++
 src/gabble-connection.c |    2 +-
 6 files changed, 623 insertions(+), 622 deletions(-)

commit e694736d310507b41ffa72a32bc88b1657316db1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Mar 1 02:11:58 2007 +0000

    move presence interface out of gabble-connection.c
    
    
    20070301021158-c9803-b94007c4ed99f89f7c90811c9732db668253b34c.gz

 src/Makefile.am         |    2 +
 src/gabble-connection.c |  642 +----------------------------------------------
 src/gabble-connection.h |   15 +-
 3 files changed, 18 insertions(+), 641 deletions(-)

commit 5eb3cc53fb14825843a2cf006e8d21776efcbee4
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Mar 1 01:12:18 2007 +0000

    move avatars interface out of gabble-connection.c
    
    
    20070301011218-c9803-bd8820d7ec35467bde12f4b8c88b5e3417669b90.gz

 src/Makefile.am         |    2 +
 src/avatars.c           |  604 +++++++++++++++++++++++++++++++++++++++++++++++
 src/avatars.h           |   15 ++
 src/gabble-connection.c |  598 +---------------------------------------------
 src/gabble-connection.h |    1 +
 5 files changed, 633 insertions(+), 587 deletions(-)

commit 3d91a8c4aa8b79710991a912fbe8ecc2b3c85bc5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Mar 1 11:42:20 2007 +0000

    TpBaseConnectionManager: in parameter parsing, add missing error returns and handle INT32, UINT32
    
    
    20070301114220-53eee-d419729f3bc7fc2211b1ae0c058f60521d5d9b84.gz

 lib/telepathy-glib/base-connection-manager.c |   19 ++++++++++++++-----
 1 files changed, 14 insertions(+), 5 deletions(-)

commit 54b59f5acb917b63ab38eebedc2c02d88a00a13e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 22 17:53:14 2007 +0000

    Move connection manager life cycle to telepathy-glib
    
    
    20070222175314-53eee-f0942e67809b00e3d3f4428c6e98e8c9f68bd49b.gz

 lib/telepathy-glib/Makefile.am      |    2 +
 lib/telepathy-glib/debug.c          |    1 +
 lib/telepathy-glib/internal-debug.h |    1 +
 lib/telepathy-glib/run.c            |  225 +++++++++++++++++++++++++++++++++++
 lib/telepathy-glib/run.h            |   33 +++++
 src/gabble.c                        |  182 ++--------------------------
 6 files changed, 272 insertions(+), 172 deletions(-)

commit 0280b55dd533bd5658dc1d138630bc63f7ffdcd6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 28 19:03:41 2007 +0000

    Set the chat states caps
    
    
    20070228190341-7fe3f-30715d26a7abd5b3168faf16f4669734036bccf1.gz

 src/gabble-presence-cache.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 53ae481b6259db2d4ae61609c88c6ea7beab7bfb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 28 17:01:21 2007 +0000

    don't send state notification if we don't have the cap
    
    
    20070228170121-7fe3f-18e8d7dd7355ed2847fe4ce96834415cfccfeeb7.gz

 src/capabilities.c      |    1 +
 src/gabble-im-channel.c |  112 ++++++++++++++++++++++++++++++-----------------
 src/text-mixin.c        |   12 +-----
 src/text-mixin.h        |    2 +-
 4 files changed, 75 insertions(+), 52 deletions(-)

commit 440e83becdb96b7312bc51178b4d15b4f51184d9
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Mar 1 12:35:15 2007 +0000

    improve nickname update algorithm readability marginally
    
    
    20070301123515-c9803-17530211850bcc0b779a4ef12da814de321eeb2a.gz

 src/gabble-connection.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit f87e9138f78491013760b294cff4bd009fe359ef
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Mar 1 12:34:54 2007 +0000

    vCard manager: emit nickname update signal after updating cache
    
    
    20070301123454-c9803-f749a9df65b6ee8b965bbe207802e3757deb98d6.gz

 src/vcard-manager.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit b4ceb9330236f1b6ae01d50920d8f6c3a517771c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Feb 28 15:37:29 2007 +0000

    plug leak in gabble_connection_advertise_capabilities
    
    
    20070228153729-c9803-8ed06e0e600f2aa438cef616cdaf02975f9e8f3d.gz

 src/gabble-connection.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit b8a0604117e37faae617be79ea9ccf7f5d9c7684
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Feb 28 14:13:07 2007 +0000

    free message sender info
    
    
    20070228141307-c9803-44d203b361b05b872ff241960d24884e4498f018.gz

 src/gabble-connection.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 5ed3bf3c85b93c8ad64d356fc28ad3637dbe75c0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 28 15:19:51 2007 +0000

    return after dbus error. break >80 chars lines
    
    
    20070228151951-7fe3f-c0e95fea49605820b47ace204718cc4e6ec9f36c.gz

 src/capabilities.c       |    1 -
 src/gabble-im-channel.c  |   45 ++++++++++++++++++++++++++++++++-------------
 src/gabble-muc-channel.c |   29 +++++++++++++++++++++--------
 src/gabble-presence.h    |    2 +-
 src/text-mixin.c         |   15 ++++++++++-----
 5 files changed, 64 insertions(+), 28 deletions(-)

commit e2280fbccd8080181a3b76c0a0aceb4aacca5fe5
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Feb 13 09:14:42 2007 +0000

    GabbleVCardManager: implemented vcard request pipeline
    
    
    20070213091442-01440-3e73751d04bab6af547cb16efe4e309b927720bb.gz

 src/vcard-manager.c |  137 +++++++++++++++++++++++++++++++++++++++++++-------
 1 files changed, 117 insertions(+), 20 deletions(-)

commit 98eafb9894815cb17b9617b92d0d4bae8babc6e9
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Feb 27 20:26:52 2007 +0000

    GabbleMediaFactory: fix final bugs with stun/relay badgering: set the right property name on the channel, and don't free the wrong value
    
    
    20070227202652-418b8-13aee46ded8db002575c28d4ef9f59777ebc4f1b.gz

 src/media-factory.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit bb1d23ac03ea1b7a0a840df59bef19dbc6d5c393
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Feb 27 20:10:22 2007 +0000

    GabbleMediaFactory: read stun server and port from GabbleConnection, and only use the jingleinfo extension's stun servers if one wasn't provided
    
    
    20070227201022-418b8-14059885ec9a592e7be8070ec09e6590888c6252.gz

 src/media-factory.c |   24 +++++++++++++++++++++++-
 1 files changed, 23 insertions(+), 1 deletions(-)

commit 5ddb14e5cb76f135f174c1f452f04e97839531a4
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Feb 27 19:58:28 2007 +0000

    GabbleConnection: remove the properties mixin and store the STUN server and port params in normal properties
    
    
    20070227195828-418b8-a65344007a28e017e95f34b11387b34b9f6a07e8.gz

 src/gabble-connection.c    |  199 ++++++--------------------------------------
 src/gabble-connection.h    |    5 -
 src/gabble-media-channel.h |    1 +
 3 files changed, 27 insertions(+), 178 deletions(-)

commit d6d9b5212ab441cd6d7ae9a14aac8fb3ae48bf31
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Feb 27 19:16:16 2007 +0000

    GabbleMediaFactory: tweak jingle info code to fix some thinkos
    
    
    20070227191616-418b8-ab92637caf8a4a265c1ab013384640479fff78d1.gz

 src/media-factory.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit 999e5ba0c2737a333ca01136bceed58c46362342
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Feb 27 19:15:50 2007 +0000

    GabbleMediaChannel: add properties interface
    
    
    20070227191550-418b8-21ea49847ffa0444a9ddcb9a13df4f5efe5c2b02.gz

 src/gabble-media-channel.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 7b199772696fa62380304dc7c8b3c2cf5ec6f9d0
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Feb 27 17:54:41 2007 +0000

    delete jingle-info.[ch]
    
    
    20070227175441-418b8-5a9a8fbb4887030bc341db0a1efa52ebb56cb1e3.gz

 src/Makefile.am   |    2 -
 src/jingle-info.c |  229 -----------------------------------------------------
 src/jingle-info.h |   34 --------
 3 files changed, 0 insertions(+), 265 deletions(-)

commit ea12aac4c59bc494ca408eaba5bc426ac5f4871d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Feb 27 17:53:20 2007 +0000

    GabbleMediaFactory: move and modify code from jingle-info.c to retrieve and update the stun server, port and relay token from Google servers
    
    
    20070227175320-418b8-62415446617b050f8a4c1b291347cc129033fcc4.gz

 src/media-factory.c |  170 ++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 167 insertions(+), 3 deletions(-)

commit a9a0d6c26e746c098805b758d39b019a0c1759a2
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Feb 27 17:52:20 2007 +0000

    GabbleMediaFactory: add stun server, port and relay token properties, and provide them to any media channels we create
    
    
    20070227175220-418b8-47d62da7b02471b18f6f00eb4a9f1475b673ecfd.gz

 src/media-factory.c |   20 ++++++++++++++++++++
 1 files changed, 20 insertions(+), 0 deletions(-)

commit c70994d483291aefd12e8fd30c9c0b05383d7258
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Feb 27 17:51:36 2007 +0000

    GabbleMediaChannel: remove unused variable
    
    
    20070227175136-418b8-d533c7a1b962af82c3e50c4f13bdb9db75fd56e9.gz

 src/gabble-media-channel.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit afb96dddaf65e1f63d148b45b90c5c4f40ab0ca3
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Feb 26 20:15:09 2007 +0000

    GabbleMediaChannel: reinstate the STUN server and port properties
    
    
    20070226201509-418b8-b4c201e55b63c6b95bdb6a8a731d2d766cc2048a.gz

 src/gabble-media-channel.c |   53 ++++++++++++++++++++++++--------------------
 1 files changed, 29 insertions(+), 24 deletions(-)

commit ff6a09f3a550957052cc93b3e1bac211f65c373f
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Feb 26 20:01:23 2007 +0000

    GabbleMediaChannel: set the default value of nat traversal using G_PARAM_CONSTRUCT rather than manual fiddling with the properties interface
    
    
    20070226200123-418b8-b31e14ac1347343944b43ba015e0b448d89557e4.gz

 src/gabble-media-channel.c |   13 ++-----------
 1 files changed, 2 insertions(+), 11 deletions(-)

commit 6db4dc58cb748944887c618e23299bdb69295f5c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Feb 26 19:38:19 2007 +0000

    GabbleConnection: remove calls into jingle info code
    
    
    20070226193819-418b8-800786b534d1cbffebd11a2d026bcc50a4df7a54.gz

 src/gabble-connection.c |   22 ----------------------
 1 files changed, 0 insertions(+), 22 deletions(-)

commit 2df4024a238036881ecb7d62dda39ed8d36d2920
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 26 18:22:38 2007 +0000

    some cleanup and improvements
    
    
    20070226182238-7fe3f-7dc31b3cff602e372db78a70f16a84b0c4f03334.gz

 lib/spec/Channel_Interface_Chat_State.xml |   98 ++++++++++++++++++++++++++
 lib/spec/all.xml                          |    1 +
 lib/spec/spec-gen.am                      |    3 +-
 lib/telepathy-glib/spec-gen.am            |   12 ++--
 src/gabble-im-channel.c                   |   16 ++--
 src/gabble-muc-channel.c                  |    8 +-
 src/text-mixin.c                          |  108 +++++++++--------------------
 src/text-mixin.h                          |    9 +--
 8 files changed, 156 insertions(+), 99 deletions(-)

commit 4df268c0909b4d51e3ece0e9ff641dcdf919e928
Author:  <guillaume.desmottes@collabora.co.uk>
Date:   Mon Feb 19 18:46:32 2007 +0000

    merge with HEAD
    
    
    20070219184632-9651e-388422d4b17a0766c6139ecb17a849e05c10f115.gz

 src/gabble-im-channel.c |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit a48ce5b21268e45a28e57b443a4e76445b47d352
Author:  <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 16 17:52:46 2007 +0000

    raise an error if we try to use the gone state when it's forbidden
    
    
    20070216175246-9651e-cff1ef86ef03311bdf42ef9c5779ab6121e222d0.gz

 src/gabble-im-channel.c  |   11 ++++++++++-
 src/gabble-muc-channel.c |   11 ++++++++++-
 src/text-mixin.c         |    2 +-
 3 files changed, 21 insertions(+), 3 deletions(-)

commit 25260ec4aad71ec6357c89e65f2a03e780181cc5
Author:  <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 16 17:30:14 2007 +0000

    send the state on "gone" when a private channel in closed as describe in the spec
    
    
    20070216173014-9651e-e347802cf83cc261c26beb0ea3445afd61e5ffb4.gz

 src/gabble-im-channel.c  |   34 ++++++++++++++++++++++++++++------
 src/gabble-muc-channel.c |   23 ++++++++++++++++++-----
 src/text-mixin.c         |   46 ++++++++++++++++++----------------------------
 src/text-mixin.h         |    9 ++++-----
 4 files changed, 68 insertions(+), 44 deletions(-)

commit 3b8fe1ef74ade5fa941b5a2635c0a0b2899b3145
Author:  <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 16 15:59:30 2007 +0000

    remove the emit_signal from set_chat_state as we never have to send it
    
    
    20070216155930-9651e-1f02054199b1dfd6b61105bd45017d4c20e4b320.gz

 src/gabble-im-channel.c  |    2 +-
 src/gabble-muc-channel.c |    2 +-
 src/text-mixin.c         |   10 +---------
 src/text-mixin.h         |    2 +-
 4 files changed, 4 insertions(+), 12 deletions(-)

commit 01529fa38b1e35f6b7723f628e17a058dfdb8e56
Author:  <guillaume.desmottes@collabora.co.uk>
Date:   Fri Feb 16 10:55:17 2007 +0000

    don't send empty body in state message
    
    
    20070216105517-9651e-84655a082ea6b736156f0c8bdb98d830a850ee4c.gz

 src/gabble-im-channel.c |    4 +---
 src/text-mixin.c        |   25 ++++++++++++++-----------
 2 files changed, 15 insertions(+), 14 deletions(-)

commit f2ce8b715b46b72caa987fca95f9e8389e593d6c
Author:  <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 15 17:51:14 2007 +0000

    add discovering support
    
    
    20070215175114-9651e-0866403692b873be564453812c29a121c6ef60ba.gz

 src/capabilities.c      |    1 +
 src/gabble-im-channel.c |    1 -
 src/gabble-presence.h   |    1 +
 src/namespaces.h        |    1 +
 4 files changed, 3 insertions(+), 1 deletions(-)

commit 6613817aa8917ad4a10b1893e5427a96fe6802f5
Author:  <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 15 17:12:04 2007 +0000

    send the ChatStateChanged signal when the SetChatState method is called in private chat
    
    
    20070215171204-9651e-3dc8cefe1b1eb6f0da4841638f95e79aba3144c3.gz

 src/gabble-im-channel.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 05775744cc76c96282b4bd915868e3ca62c30051
Author:  <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 15 16:41:33 2007 +0000

    use the handle of the sender in MUC instead of the MUC handle
    
    
    20070215164133-9651e-63901086b07a7de9bb02b3cea68c1935f639b398.gz

 src/gabble-muc-channel.c |    4 ++--
 src/gabble-muc-channel.h |    2 +-
 src/muc-factory.c        |    9 +++++++--
 3 files changed, 10 insertions(+), 5 deletions(-)

commit 5687dc966ec109275df23a11add4d7742932b6aa
Author:  <guillaume.desmottes@collabora.co.uk>
Date:   Thu Feb 15 15:34:40 2007 +0000

    remove last tab
    
    
    20070215153440-9651e-4a959b4b335971e00d52cede14c71c832b260ab5.gz

 src/text-mixin.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ae74f0d58cbe6b6d695920f1f2945eb719def007
Author:  <cass@skynet.be>
Date:   Thu Feb 15 15:11:03 2007 +0000

    remove evil tabs
    
    
    20070215151103-5f4a9-f5134ac78b752c562627ad91fee06f951dafcfd3.gz

 src/gabble-im-channel.c  |    6 ++--
 src/gabble-muc-channel.c |    4 +-
 src/muc-factory.c        |    2 +-
 src/text-mixin.c         |   52 +++++++++++++++++++++++-----------------------
 4 files changed, 32 insertions(+), 32 deletions(-)

commit d89e0c5b1697568b3fc9764b2152762ca1403d82
Author:  <guillaume.desmottes@collabora.co.uk>
Date:   Wed Feb 14 11:53:59 2007 +0000

    First implementation of Channel.Interface.ChatState
    
    
    20070214115359-9651e-c13fd18912f9979d5553028a5e4045d28bea8020.gz

 src/gabble-im-channel.c  |   62 +++++++++++++++-
 src/gabble-im-channel.h  |    1 +
 src/gabble-muc-channel.c |   58 ++++++++++++++-
 src/gabble-muc-channel.h |    1 +
 src/im-factory.c         |   10 ++-
 src/muc-factory.c        |    6 +-
 src/text-mixin.c         |  182 ++++++++++++++++++++++++++++++++++++++++------
 src/text-mixin.h         |    6 +-
 8 files changed, 293 insertions(+), 33 deletions(-)

commit b8350b3f0ae849341c796399348590aa1e8d9e51
Author:  <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 13 09:42:44 2007 +0000

    add Channel_Interface_Chat_State header in svc-channel
    
    
    20070213094244-9651e-b2410d26019b643135caf85dd39a194344ae971d.gz

 lib/telepathy-glib/svc-channel.h |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit bb45361d00dde1c76d54cee936bb7664157c19ff
Author:  <guillaume.desmottes@collabora.co.uk>
Date:   Tue Feb 13 09:29:38 2007 +0000

    add Channel.Interface.ChatState
    
    
    20070213092938-9651e-7e8ae707fa631dfa738119a164b297071776dfa1.gz

 lib/spec/Channel_Interface_Chat_State.xml |   98 -----------------------------
 lib/spec/all.xml                          |    2 -
 lib/spec/spec-gen.am                      |    4 +-
 lib/telepathy-glib/spec-gen.am            |   12 ++--
 4 files changed, 8 insertions(+), 108 deletions(-)

commit 1b57e55c790e38a00d74532ffaa6ac932105fb15
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Feb 26 16:53:15 2007 +0000

    bump version to 0.5.4.1
    
    
    20070226165315-418b8-83e2e87164041bbc9f2500362c1c5c478d190ab1.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ed9dcd9620d5a3df6aaab4ae709b3c04ddadd41e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Feb 26 15:43:57 2007 +0000

    bump version to 0.5.4
    
    
    20070226154357-418b8-b63325b29b12623bc5818bddfc0cb30ef1f586ef.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 5bf9c1d6c3eefde9136da51abc75a26b8b3e121b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Feb 26 15:41:00 2007 +0000

    fix unused variable when debug is disabled
    
    
    20070226154100-418b8-6b2db412eac0f1c93319d3b5c6177d26033c25bd.gz

 src/gabble-media-channel.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 775d29eadba1f978cdd204384196548e8d03fad8
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Feb 26 15:38:00 2007 +0000

    merge conflicts between fixes for empty if bodies and avoiding priv->conn->parent.handles
    
    
    20070226153800-418b8-a8e94bb45cc3d07ce0ae1ff69d24b754717f4784.gz

 src/gabble-media-channel.c |   22 ++++++----------------
 1 files changed, 6 insertions(+), 16 deletions(-)

commit 4ace16c5c13af12baf87468f9d81937c16737d94
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Feb 26 15:37:10 2007 +0000

    fix confusion between PROP_STUN_SERVER and PROP_NAT_TRAVERSAL on the media channel
    
    
    20070226153710-418b8-a2ee4b655b34a5986b6dabf1c7c3a06e2b5994e9.gz

 src/gabble-media-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2dbcd009092f105a5994abed42b1e44882e9ae73
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Feb 26 15:36:45 2007 +0000

    fix Makefile.am in light of removal of c-errors-enum-generator.xsl
    
    
    20070226153645-418b8-a854cce1d90999e8f7ce78860dd34d52fcd73da9.gz

 lib/tools/Makefile.am |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 3986049f4a107159b29634dfd8cea57e782dde95
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Feb 26 15:10:05 2007 +0000

    add missing Channel_Interface_Chat_State.xml to spec
    
    
    20070226151005-418b8-22efefdf8162e5c171fd959558117f58befe96a4.gz

 lib/spec/Channel_Interface_Chat_State.xml |   98 +++++++++++++++++++++++++++++
 1 files changed, 98 insertions(+), 0 deletions(-)

commit 20525e8fe6aca99bb44a005403220bb1502bcb76
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Feb 13 17:25:03 2007 +0000

    fix ifs with empty bodies if debug is disabled
    
    
    20070213172503-418b8-a8405338c6cc99eba5cd8da41f7b003fa7433e1e.gz

 src/gabble-connection.c    |    4 +++-
 src/gabble-media-channel.c |   23 +++++++++++++++++------
 src/vcard-manager.c        |    4 +++-
 3 files changed, 23 insertions(+), 8 deletions(-)

commit af1b191946ebf695976fcfa0637f43652200f1de
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 22 20:14:25 2007 +0000

    Use slice allocation in various places in Gabble
    
    
    20070222201425-53eee-966c6a98303f0d7847cf8b9d53415fedf5cc484e.gz

 src/disco.c                   |    4 ++--
 src/gabble-connection.c       |   25 ++++++-------------------
 src/gabble-presence-cache.c   |    8 ++++----
 src/gabble-presence.c         |    4 ++--
 src/gabble-roomlist-channel.c |   17 ++---------------
 src/muc-factory.c             |    4 ++--
 src/roster.c                  |    8 ++++----
 src/vcard-manager.c           |   14 +++++++-------
 8 files changed, 29 insertions(+), 55 deletions(-)

commit 8446372dee81d5d201c13ebd7f4b6f53ac258302
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 22 19:13:39 2007 +0000

    Use slice allocation in various places in telepathy-glib
    
    
    20070222191339-53eee-3d800d49f19e223f3691311911afec25eeecc58c.gz

 lib/telepathy-glib/base-connection-manager.c |    6 +++---
 lib/telepathy-glib/base-connection.c         |    4 ++--
 lib/telepathy-glib/group-mixin.c             |    4 ++--
 lib/telepathy-glib/handle-repo-dynamic.c     |    8 ++++----
 lib/telepathy-glib/handle-set.c              |    4 ++--
 lib/telepathy-glib/properties-mixin.c        |    8 ++++----
 6 files changed, 17 insertions(+), 17 deletions(-)

commit 925a3da9a18f214bdc26c41e242226da33add2cf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 22 20:12:05 2007 +0000

    telepathy-glib/util.c: Add tp_g_value_slice_free(), which unsets and frees a slice-allocated GValue
    
    
    20070222201205-53eee-8680822dcce26f1741652964dff996b2718f8236.gz

 lib/telepathy-glib/util.c |    8 +++++++-
 lib/telepathy-glib/util.h |    4 +++-
 2 files changed, 10 insertions(+), 2 deletions(-)

commit dfc1358ae4defe4a00af13b9527d130a81a778cf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 22 21:35:36 2007 +0000

    Add nat_traversal Telepathy property to GabbleMediaChannel.
    
    Also add comments regarding the other properties from spec 0.15.0.
    
    20070222213536-53eee-7f7a4578e4583494310d3e2953da927d891d3189.gz

 src/gabble-media-channel.c |  110 ++++++++++++++++++++++++++++++++++++++++++++
 src/gabble-media-channel.h |    2 +
 2 files changed, 112 insertions(+), 0 deletions(-)

commit e47f6eda4d816ecaf7ceb391b967a5ac3abcbb05
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 22 20:29:09 2007 +0000

    Sync spec with version 0.15.0
    
    
    20070222202909-53eee-839391093fa2f1eb87f308334d21991c4fda7945.gz

 lib/spec/Channel_Interface_Media_Signalling.xml |   36 +++++++++++
 lib/spec/Channel_Interface_Password.xml         |   16 +++---
 lib/spec/Channel_Type_Streamed_Media.xml        |   11 ++++
 lib/spec/Channel_Type_Text.xml                  |   74 +++++++++++++++++++++++
 lib/spec/Connection.xml                         |   59 ++++++++++++++----
 lib/spec/Properties_Interface.xml               |   29 ---------
 lib/spec/all.xml                                |    4 +-
 lib/spec/spec-gen.am                            |    4 +-
 lib/telepathy-glib/spec-gen.am                  |   12 ++--
 9 files changed, 185 insertions(+), 60 deletions(-)

commit 10750ea1e9e1b99729dcc641db308b8065db4d84
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 21 17:48:23 2007 +0000

    TpBaseConnectionManager: use correct casts and NULL-initialize GError
    
    
    20070221174823-53eee-4d0423d3f51caa1cb8cfb992e366b524583f95f3.gz

 lib/telepathy-glib/base-connection-manager.c |   11 ++++++++---
 1 files changed, 8 insertions(+), 3 deletions(-)

commit e385e91a11a3c4966d7417b1e07afe25f8d033be
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Feb 20 14:37:42 2007 +0000

    Don't pass parameters hash table to new_connection callback (it'll always be empty)
    
    
    20070220143742-53eee-b0f569ba39c7687a6d0d48be056784658196ac1b.gz

 lib/telepathy-glib/base-connection-manager.c |    3 +--
 lib/telepathy-glib/base-connection-manager.h |    4 ++--
 src/gabble-connection-manager.c              |    3 +--
 3 files changed, 4 insertions(+), 6 deletions(-)

commit 1a4bcab803fa0b5998d2eeda8dbcb818f29ea919
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Feb 20 14:37:18 2007 +0000

    Ignore obsolete parameters (those whose "offset" is GMAXSIZE)
    
    
    20070220143718-53eee-c546eb07e26dbcd109e7fddcddf8d2f17e422008.gz

 lib/telepathy-glib/base-connection-manager.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 3d69295378d3e89f6aeea2eecc257f89b4fff839
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Feb 20 13:08:00 2007 +0000

    Move Gabble's parameter parsing to telepathy-glib
    
    
    20070220130800-53eee-852ee51f307299b9ac615db679b4e1515d77a28e.gz

 lib/telepathy-glib/base-connection-manager.c |  365 +++++++++++++++++++++++-
 lib/telepathy-glib/base-connection-manager.h |   29 ++-
 src/gabble-connection-manager.c              |  404 +++-----------------------
 src/gabble-connection-manager.h              |   16 +-
 src/write-mgr-file.c                         |    6 +-
 5 files changed, 434 insertions(+), 386 deletions(-)

commit 97f2bf45e4db5dec5c306071f6e2df16bfc0b378
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 19 16:23:52 2007 +0000

    Move Connect, Disconnect to TpBaseConnection
    
    
    20070219162352-53eee-1a935ed52ca765d5923d88ff914f0139fe9558ef.gz

 lib/telepathy-glib/base-connection.c |  112 ++++++++++++++++++++++++++++------
 lib/telepathy-glib/base-connection.h |    6 ++
 src/gabble-connection.c              |   95 ++--------------------------
 3 files changed, 107 insertions(+), 106 deletions(-)

commit d8286bdbee52ebd775c4958d2c6e2c9c67c8d1a1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 19 16:21:55 2007 +0000

    Make gabble_connection_get_unique_name() static
    
    
    20070219162155-53eee-39ea56379e47657e49478c9fc01630bbc4a32e74.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b80e9f9bf409fa65a8f230c7e0dffe82bb42bc81
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 19 16:13:19 2007 +0000

    Stop pointlessly logging connection class pointer
    
    
    20070219161319-53eee-0543278fc4dc9d05626791892066b54d0b41624c.gz

 lib/telepathy-glib/base-connection.c |    6 ++----
 1 files changed, 2 insertions(+), 4 deletions(-)

commit 28be87a59c5d4a8a677aad348b621d4e6e31b462
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 22 17:56:57 2007 +0000

    When changing connection property of presence cache or roomlist channel, also change local cache of TpBaseConnection
    
    
    20070222175657-53eee-88bd2e9644ab71a2176e0d2a6972570fdb428fd0.gz

 src/gabble-presence-cache.c   |    2 ++
 src/gabble-roomlist-channel.c |    2 ++
 2 files changed, 4 insertions(+), 0 deletions(-)

commit 19187fb4a56535f1590bec6b2599de828ff948ce
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 21 20:26:10 2007 +0000

    Stop using conn->parent.foo to access TpBaseConnection members - use a cast instead
    
    
    20070221202610-53eee-c90b3872c92f32a5916d169be4711784ef142e9d.gz

 src/gabble-connection.c       |   40 ++++++++-------
 src/gabble-im-channel.c       |   11 +++--
 src/gabble-media-channel.c    |   15 ++++--
 src/gabble-media-session.c    |   13 +++--
 src/gabble-muc-channel.c      |   25 ++++++---
 src/gabble-presence-cache.c   |   27 +++++++---
 src/gabble-roomlist-channel.c |    7 ++-
 src/gabble-roster-channel.c   |   27 +++++++---
 src/im-factory.c              |   10 +++-
 src/jingle-info.c             |    5 +-
 src/media-factory.c           |   12 +++--
 src/muc-factory.c             |   35 ++++++++-----
 src/roster.c                  |  112 ++++++++++++++++++++++++-----------------
 src/util.c                    |    3 +-
 src/vcard-manager.c           |   54 ++++++++++++-------
 15 files changed, 247 insertions(+), 149 deletions(-)

commit 70702de536892d14f446a6bebd35018045d9df22
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 19 16:24:03 2007 +0000

    GabbleConnection: use casts to TpBaseConnection instead of self->parent (allows GabbleConnection to be an indirect subclass in future)
    
    
    20070219162403-53eee-59dd90dc9a69353758aeed9eccc6dcc52e566a6d.gz

 src/gabble-connection.c |  129 ++++++++++++++++++++++++++++-------------------
 1 files changed, 77 insertions(+), 52 deletions(-)

commit af101fd534195371b73688304dd5143687e36775
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Feb 23 09:59:24 2007 +0000

    if incoming disco request has "node" attribute, put one on the result
    
    
    20070223095924-c9803-644926671475d7064a2a787aebac6c26eef4d094.gz

 src/gabble-connection.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 3d896afb0508a45880873b6f31e144665bcd29ba
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Feb 20 18:49:51 2007 +0000

    Move properties mixin from TpBaseConnection back to GabbleConnection
    
    In general, Connections aren't meant to implement the Properties interface;
    Gabble is unusual in that respect.
    
    20070220184951-53eee-03f990416a5f744754066c69c2f8d1feb9f3c2f2.gz

 lib/telepathy-glib/base-connection.c |    3 +--
 lib/telepathy-glib/base-connection.h |    5 -----
 src/gabble-connection.c              |   11 ++++++-----
 src/gabble-connection.h              |    5 +++++
 4 files changed, 12 insertions(+), 12 deletions(-)

commit 6ea18bd949dc043a6f4faee27591a2c2ca6c4170
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 21 18:03:11 2007 +0000

    Add missing stylesheet to generate error enum .c file
    
    
    20070221180311-53eee-2da66ae1a0ba06133ec7b1bbf9d2e5088f6a2bf7.gz

 lib/tools/glib-errors-enum-body.xsl |   51 +++++++++++++++++++++++++++++++++++
 1 files changed, 51 insertions(+), 0 deletions(-)

commit 29267516be49800bcf284853c70366d1f92a3a85
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 21 17:51:16 2007 +0000

    Instead of generating error enum GType with glib-mkenum, generate it alongside the actual enum using XSLT.
    
    This makes it possible to emit the correct nick for each enum member, so the
    right errors are emitted on the bus.
    
    20070221175116-53eee-609a122b37df145d45b1208f1ba34b6184bbb07c.gz

 lib/telepathy-glib/Makefile.am        |   30 +++++++------------------
 lib/telepathy-glib/errors.h           |    1 -
 lib/tools/Makefile.am                 |    2 +
 lib/tools/c-errors-enum-generator.xsl |   37 --------------------------------
 lib/tools/glib-errors-enum-header.xsl |   38 +++++++++++++++++++++++++++++++++
 5 files changed, 49 insertions(+), 59 deletions(-)

commit 3c6d74dbd0691aa6209ffd447b75509c97e344a2
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Feb 21 18:44:54 2007 +0000

    presence cache: don't leak URI when adding to waiter list
    
    
    20070221184454-c9803-2786dea53e3a80b7d0211867b774af386e8aa7c6.gz

 src/gabble-presence-cache.c |   22 +++++++++++++++++-----
 1 files changed, 17 insertions(+), 5 deletions(-)

commit 4a3ab5005f5d2c6138ad62f24b0f6bb6fad1de52
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Feb 21 18:44:23 2007 +0000

    presence cache: don't leak URI when removing from waiter list
    
    
    20070221184423-c9803-b41c9ce937633b60fb2fe5653d15a2ee964a9414.gz

 src/gabble-presence-cache.c |    9 ++++++++-
 1 files changed, 8 insertions(+), 1 deletions(-)

commit b5b3d280d56e14af5cc5317eb35c1bed7528069e
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Feb 21 18:42:36 2007 +0000

    vCard manager: free avatar
    
    
    20070221184236-c9803-f4c07ba91eef54be91dd23f447027c31058ae99c.gz

 src/vcard-manager.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit c650093366a898204e07000893ef52db7dbd08a7
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Feb 21 18:42:08 2007 +0000

    vCard manager: free avatar SHA1
    
    
    20070221184208-c9803-280b03742203236c1b53e5f30bd694d04b1717fc.gz

 src/vcard-manager.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 713298efaf9e7bca9a94db926f2f44f7ab341fc8
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Feb 21 18:41:39 2007 +0000

    presence: free avatar SHA1
    
    
    20070221184139-c9803-eff975c431421ca7bae976e6dda384de94303953.gz

 src/gabble-presence.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit cb4a2a84258328182974597996a263d49b626350
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Feb 21 18:41:19 2007 +0000

    disco: free request node
    
    
    20070221184119-c9803-d638124bfd92a389d9ff04dcc4b5b3542c450560.gz

 src/disco.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 6385ad2b581e8e1ca0db4b1a9c12f18cfd6e2029
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Feb 21 18:40:54 2007 +0000

    roster: free the group update table
    
    
    20070221184054-c9803-4f36e0cf6fbb2daff055169e9ad6a5f3c83ed64c.gz

 src/roster.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit fea149df3b5d2dbff51ac0c86151069199d23ae4
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Feb 21 18:40:27 2007 +0000

    roster: free return value of tp_handle_set_difference_update
    
    
    20070221184027-c9803-70d3a068af52c6f5e056a54604964fbdc2b17387.gz

 src/roster.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 2fe1d55f01cb31e06d9303ef1a7abbf4fea2fb87
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Feb 21 18:36:48 2007 +0000

    roster: free intset of new groups
    
    
    20070221183648-c9803-c7f964c7e4f254e577a0116022be2b349f2011e4.gz

 src/roster.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit a89ce5b310e0e3a7cfd2049a8a2102daf86b9614
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Feb 21 17:11:58 2007 +0000

    presence cache: free capability and disco tables on dispose
    
    
    20070221171158-c9803-c5db8e066c22494af4f2185470970fb83943cdf5.gz

 src/gabble-presence-cache.c |   16 +++++++++++++++-
 1 files changed, 15 insertions(+), 1 deletions(-)

commit 4a5135f737aa61071e0fd545450192820304f6a6
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Feb 21 17:10:56 2007 +0000

    free name member of Resource struct
    
    
    20070221171056-c9803-2cde3b110edfffc5fb9acc99396b5ba57ce8d438.gz

 src/gabble-presence.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 9ff9d6fc101e8e5e94c58bfe01dd4bddd6dce24d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Feb 20 17:58:32 2007 +0000

    genginterface: Before emitting a signal, assert that we're emitting it from something implementing the right interface
    
    
    20070220175832-53eee-ab641987493ef77ebb3965553655281b844cbd91.gz

 lib/tools/genginterface.py |   10 ++++++++--
 1 files changed, 8 insertions(+), 2 deletions(-)

commit 422b8815db60ef2e60883de59b7a326521a5b3eb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Feb 20 17:58:10 2007 +0000

    TpBaseConnectionManager: Emit NewConnection from the CM, not from the connection!
    
    
    20070220175810-53eee-bc428a1cb49153e47a98f30ed97df59526b74779.gz

 lib/telepathy-glib/base-connection-manager.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 656bafd00325a5d5f3ed05670150978b6ae41dae
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 15 18:05:33 2007 +0000

    Rename implementation of tp_base_connection_emit_disconnected to tp_base_connection_finish_shutdown, not just the declaration
    
    
    20070215180533-53eee-6043cf418baf1c5458e6c9ccc7ec6fcb6a353357.gz

 lib/telepathy-glib/base-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d3aa7403347f3ad0d6ad7da0f144189eccb53186
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 15 17:57:30 2007 +0000

    Remove no-longer-used BUS_NAME and OBJECT_PATH constants
    
    
    20070215175730-53eee-30a0021c92ccc1af2912b9833493cf3d7092e160.gz

 src/gabble-connection.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 3e0632c9fd75a7b6b80d1800f337f817c4aaf58e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 15 17:57:19 2007 +0000

    Add some documentation
    
    
    20070215175719-53eee-7234b613f58f22589c40d52a39a962caae546767.gz

 lib/telepathy-glib/base-connection.h       |   12 ++++++++++++
 lib/telepathy-glib/channel-factory-iface.h |   18 +++++++++++++-----
 2 files changed, 25 insertions(+), 5 deletions(-)

commit 43966ceca3f758d47bec6f69303ea1aa5d86726f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 15 17:57:11 2007 +0000

    Move state change logic to TpBaseConnection.
    
    Also emit StatusChanged(DISCONNECTED) if a NEW connection goes away, and rename
    disconnected signal to shutdown-finished as this describes when it's emitted
    better.
    
    20070215175711-53eee-22421e1eeaf078bbcb2464515994102b47d1a8bb.gz

 lib/telepathy-glib/base-connection-manager.c |   12 +-
 lib/telepathy-glib/base-connection.c         |  110 ++++++++++++-----
 lib/telepathy-glib/base-connection.h         |   27 ++++-
 lib/telepathy-glib/channel-factory-iface.h   |    4 +-
 src/gabble-connection.c                      |  165 +++++++-------------------
 5 files changed, 154 insertions(+), 164 deletions(-)

commit 32914cfc8c77c78d4833a8ae5815a97197fa8066
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 15 17:23:44 2007 +0000

    Allow some channel interface virtual methods to be NULL (connected, connecting, disconnected). Assert that the others aren't NULL before calling them
    
    
    20070215172344-53eee-84d15d10968065c8c0c58bd4c81ae7161d4ba33c.gz

 lib/telepathy-glib/channel-factory-iface.c |   33 ++++++++++++++++++++++------
 1 files changed, 26 insertions(+), 7 deletions(-)

commit 64020c4b6cd8af7b6dbdfb2a7d34324e83df95a2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 15 17:16:30 2007 +0000

    If get_unique_connection_name() is not provided by a Connection implementation, default to using its address in hex
    
    
    20070215171630-53eee-cc0e2092bdfbf92e122cef045396245a9f39d4a8.gz

 lib/telepathy-glib/base-connection.c |   15 ++++++++++-----
 1 files changed, 10 insertions(+), 5 deletions(-)

commit d6d52262aa492115bbffcb54ae1b9c058c973463
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 15 17:09:51 2007 +0000

    Fix a leak of two strings per Connection created
    
    
    20070215170951-53eee-d4c75e953fe5c58bf300d9676c2f98cd5d8b28c5.gz

 lib/telepathy-glib/base-connection.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 463dc51cca1fe2f5080f637c936b2762807e5119
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 15 13:47:17 2007 +0000

    Add necessary casts when emitting new-channel
    
    
    20070215134717-53eee-7ae84c06b3945b06f951ffeec15163e3bdff7307.gz

 src/roster.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit c34ca41c04f58198cce32d5ef3599e17cc0dac9a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 15 13:47:12 2007 +0000

    GabbleConnection, TpBaseConnection: move DISCONNECTED signal into base class
    
    
    20070215134712-53eee-2be5ac07410f3ece94ba04cd0002a4a447243ae0.gz

 lib/telepathy-glib/base-connection.c |   29 +++++++++++++++++++++++++++++
 lib/telepathy-glib/base-connection.h |    2 ++
 src/gabble-connection.c              |   27 +++------------------------
 3 files changed, 34 insertions(+), 24 deletions(-)

commit 4dea28cceaf2e5ee9fe7a7e1e9f2d889e43ceae3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 14 19:17:20 2007 +0000

    GabbleRoster: emit new-channel signals using the typesafe helper function from TpChannelFactoryIface
    
    
    20070214191720-53eee-22c7b2d1e2ab53af8227dd255abc4e69889aab26.gz

 src/roster.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit c24ffd8adedc4e111bd12cff2e6cc830747dfcbd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 14 19:16:11 2007 +0000

    GabbleMUCFactory: when creating a new roomlist channel, include the request context in the signal.
    
    Also assert in make_roomlist_channel that we don't already have one, since that's now a different code path in the request() implementation.
    
    20070214191611-53eee-de502963bb6e093e06ef053d172e5638b738cc1d.gz

 src/muc-factory.c |   37 ++++++++++++++++++-------------------
 1 files changed, 18 insertions(+), 19 deletions(-)

commit b47bc587e66d215b1c6941be39d5ca0b0cef6569
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 14 18:18:10 2007 +0000

    Remove lots of now-unneeded casts for greater clarity
    
    
    20070214181810-53eee-0f681a920511994c73d1aab06f00f4117a9d5df2.gz

 lib/telepathy-glib/base-connection-manager.c |    2 +-
 lib/telepathy-glib/base-connection.c         |    3 +--
 lib/telepathy-glib/text-mixin.c              |    8 +++-----
 src/gabble-connection.c                      |   24 +++++++++---------------
 src/gabble-im-channel.c                      |    4 ++--
 src/gabble-media-channel.c                   |   19 +++++++++----------
 src/gabble-media-session.c                   |    5 ++---
 src/gabble-media-stream.c                    |   11 +++++------
 src/gabble-muc-channel.c                     |    7 +++----
 src/text-mixin.c                             |    3 +--
 10 files changed, 36 insertions(+), 50 deletions(-)

commit 09e9eba683344993c12e1a304eba91cbd297a0dc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 14 18:10:06 2007 +0000

    genginterface: make the first argument of signal emission stubs a gpointer, not the relevant interface.
    
    This avoids always having to cast pointers to implementations so they're pointers to interfaces, and matches g_signal_emit.
    
    20070214181006-53eee-654c8ca82c8e8b08fbb2828badbb29b1d0b3c0d4.gz

 lib/tools/genginterface.py |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit 84f395dda910cc675d47f21fcadbbaba72e6e704
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 14 18:09:38 2007 +0000

    Set request->context to NULL after returning an error through it
    
    
    20070214180938-53eee-055834a99c266c56e087085b229ee6fe673473ed.gz

 lib/telepathy-glib/base-connection.c |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

commit dc4423282302f73a2806b616158a368649ed8c73
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 14 18:09:24 2007 +0000

    Only add channel request to queue once, not once per factory!
    
    
    20070214180924-53eee-40737c08bf6aa411152cf44882c6ec00efd3b416.gz

 lib/telepathy-glib/base-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 729194cba1e42e367b47de79e14c6fc22aea7e0c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 14 18:09:01 2007 +0000

    Improve assertion to definitely generate no code if not using assertions
    
    
    20070214180901-53eee-9ebd9075cd8cb97779f90100a47a6c8c7ef58483.gz

 lib/telepathy-glib/base-connection.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 5e4c051356020ab7bb45de8a4ae0a69d2d655457
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 14 18:08:27 2007 +0000

    If an anonymous channel was created in response to a request, assert that that request is in the queue
    
    
    20070214180827-53eee-dade42dbf1ddb55b9016cacc7de77e3b804ec6b5.gz

 lib/telepathy-glib/base-connection.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit b089c178a4d5f24a988aacaa84dc48549ffe5fc9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 14 18:07:50 2007 +0000

    TpBaseConnection: extend debug logging
    
    
    20070214180750-53eee-2254cc67edf0c81c8de44d293e2a9d4c3bab22ee.gz

 lib/telepathy-glib/base-connection.c |   16 ++++++++++++----
 1 files changed, 12 insertions(+), 4 deletions(-)

commit b69cac13e5ec2e96cf11bb54928e4bb6816bcab2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 14 17:20:10 2007 +0000

    TpChannelFactoryIface and implementations, and TpBaseConnection: Alter semantics of request() to remove the odd non-reentrant tracking of whether we should suppress handlers.
    
    Also don't let anonymous channels (those with handle type zero) satisfy queued
    requests for an anonymous channel, other than the request for which the
    channel was returned by the factory. (So if you ask for a media channel twice
    and the requests are queued, you get two distinct media channels back.)
    
    20070214172010-53eee-f530b69bf73982b36522f362db6a1f2992f774fe.gz

 lib/telepathy-glib/base-connection.c       |  124 +++++++++++++++++++---------
 lib/telepathy-glib/channel-factory-iface.c |   41 ++++++++--
 lib/telepathy-glib/channel-factory-iface.h |   60 ++++++++++++-
 lib/telepathy-glib/signals-marshal.list    |    1 +
 lib/telepathy-glib/util.c                  |   14 +++
 lib/telepathy-glib/util.h                  |    2 +
 src/im-factory.c                           |   12 ++-
 src/media-factory.c                        |    9 ++-
 src/muc-factory.c                          |   19 +++-
 src/roster.c                               |   55 +++++++++----
 10 files changed, 256 insertions(+), 81 deletions(-)

commit 0b8e344c2ba90e114d091d6f81d75aa62089d83c
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Feb 13 13:07:03 2007 +0000

    GabbleRoomlistChannel: implemented the StopListing() method
    
    
    20070213130703-01440-c9837d5a0d7c5d63fee2bdcfab96635ecbb5b1ca.gz

 lib/spec/Channel_Type_Room_List.xml |    6 +++
 src/gabble-roomlist-channel.c       |   68 +++++++++++++++++++++++++----------
 2 files changed, 55 insertions(+), 19 deletions(-)

commit 88484077d6001c79a1486e7b50f609069b8b0bb5
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Feb 13 13:40:24 2007 +0000

    GabbleConnectionManager: prettier debug message for unkown param
    
    
    20070213134024-01440-964bbf7a1f66d5440c61002503a125e5313bf588.gz

 src/gabble-connection-manager.c |   15 ++++++++++++---
 1 files changed, 12 insertions(+), 3 deletions(-)

commit 1a8101ca93df7770bf7baa7843995d46cf17b62d
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Feb 13 12:43:49 2007 +0000

    GabbleConnectionManager: nicer debug message for unknown params
    
    
    20070213124349-01440-fd54513b1f7b850242536c01a75d31a0c64aeef7.gz

 src/gabble-connection-manager.c |   17 +++++++++++------
 1 files changed, 11 insertions(+), 6 deletions(-)

commit da23605a066204e4fbf54df6eba0bee5ab1b2c1d
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Mon Feb 12 13:38:39 2007 +0000

    GroupMixin: Add terminator to dbus_g_struct_set
    
    
    20070212133839-93b9a-9f3622bf6b1ae1394646db98b8ae7faf81eb106e.gz

 lib/telepathy-glib/group-mixin.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 55d9f0228b22788577baaac3b22cefbf4bef112c
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Mon Feb 12 12:25:21 2007 +0000

    GroupMixin: Some more coding style tweakers
    
    
    20070212122521-93b9a-a9662320c26149bb8497781aa0cf74ce91ab3f8d.gz

 lib/telepathy-glib/group-mixin.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit f2be3deadf9ea72db4b61bcaf6b8264f5194a37c
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Mon Feb 12 12:17:08 2007 +0000

    GroupMixin: Change local_pending_info constructor/destructor to comply to the telepathy coding style
    
    
    20070212121708-93b9a-02223c5a9637da4173940af91f793eab8a82ec6a.gz

 lib/telepathy-glib/group-mixin.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 74fde27c359cca7b045ebc9c9cc6c7205872a04f
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Mon Feb 12 12:15:29 2007 +0000

    GroupMixin: Use dbus_g_type functions to fill the local pending entries
    
    
    20070212121529-93b9a-27a2681550a5b70662b6885e58709911e20121ce.gz

 lib/telepathy-glib/group-mixin.c |   41 +++++++++++++++++++++----------------
 1 files changed, 23 insertions(+), 18 deletions(-)

commit 1e28135cc69cc4354be86825732c5b5bc87a269d
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Mon Feb 12 10:55:14 2007 +0000

    GroupMixin: Comply with the telepathy coding style
    
    
    20070212105514-93b9a-0e4b6b7d7fbfe0438660d8dd50e6f62f5db33cff.gz

 lib/telepathy-glib/group-mixin.c |  115 ++++++++++++++++++++++---------------
 1 files changed, 68 insertions(+), 47 deletions(-)

commit 72009bbf08c4ca90124085e473435d2f91c0a7db
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Wed Feb 7 23:08:44 2007 +0000

    Update spec to latest revision and implement GetLocalPendingMembersWithInfo in the group mixin
    
    
    20070207230844-93b9a-17654d5f42b5ee62b641b49ed4fd57e77a3c8b3b.gz

 lib/spec/Channel_Interface_Group.xml |   44 ++++++++++
 lib/spec/all.xml                     |    2 +-
 lib/telepathy-glib/group-mixin.c     |  145 ++++++++++++++++++++++++++++++++++
 lib/telepathy-glib/group-mixin.h     |    1 +
 4 files changed, 191 insertions(+), 1 deletions(-)

commit ed8fcfe9f43df5790430d1e9759d2b429a873b0b
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Mon Feb 12 13:49:49 2007 +0000

    Connection.Interface.Avatars: implemented the ClearAvatar() method
    
    
    20070212134949-01440-8d32e8fa8d0b305e40ff1d3da23cb99323cb67b4.gz

 lib/spec/Connection_Interface_Avatars.xml |   14 ++++++
 src/gabble-connection.c                   |   62 ++++++++++++++++++++++-------
 2 files changed, 61 insertions(+), 15 deletions(-)

commit 2f0fe12c6102fe347b9ac130acd0813995c04a37
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Feb 8 12:10:45 2007 +0000

    Increment version to 0.5.3.1
    
    
    20070208121045-53eee-3dbf6eaa3cce22a30e18b0ec82033cf63114fe64.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 5ae625693256bb40fa38888b63c4b07eb0bb2811
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 7 18:22:38 2007 +0000

    Add python2.3 to the list of Python executables to try
    
    
    20070207182238-53eee-b816b7607605ed6129a437adfd8c2e222103206c.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 22ebc718f1cf243b345fc1849c44ee31267f69dc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 7 18:21:07 2007 +0000

    Increment version to 0.5.3
    
    
    20070207182107-53eee-c9da993bc238e81de396f342499601d09cf782fa.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 5a0e55604ae0642d146951e873a0d67b6e26a3af
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 7 17:31:42 2007 +0000

    #include <time.h> into text-mixin.h (for time_t)
    
    
    20070207173142-53eee-22b4fbe9546d9bcf6e6516a85407b721ad32af87.gz

 lib/telepathy-glib/text-mixin.h |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 4582c3f7892c70a7b229fb07f69e1611ddd020f7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 7 15:23:00 2007 +0000

    Don't always rebuild the .manager: instead depend on just the relevant files in src.
    
    This avoids mysterious build failures in scratchbox (something about the
    build process seems to make write-mgr-file fail when run under both
    fakeroot and qemu, as happens during the "install" stage of dpkg-buildpackage).
    
    20070207152300-53eee-5077e17acb1a5cd78999a8c1e54d5ddfc5317d26.gz

 data/Makefile.am |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit 627a34786b5d6a99d2a2106a340094f6a1c1fbb3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 7 14:21:50 2007 +0000

    Don't use set() for Python 2.3 compatibility
    
    
    20070207142150-53eee-0c36a0df48707a09be8f08e428ebd41394a2d511.gz

 lib/tools/genginterface.py |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 0715df550e6495754aabb126e5fe9b2417767a9c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Feb 7 14:06:13 2007 +0000

    genginterface.py: Make compatible with Python 2.3 for Scratchbox's benefit
    
    
    20070207140613-53eee-a8df9acf3e34df1ce33954af153e76da1d0d8bb3.gz

 lib/tools/genginterface.py |    9 +++++++--
 1 files changed, 7 insertions(+), 2 deletions(-)

commit 3a2112380de28e655b6b332b0aba56864b10564d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Feb 7 13:05:23 2007 +0000

    fix debug headers putting G_BEGIN_DECLS inside #ifdef ENABLE_DEBUG, but G_END_DECLS outside
    
    
    20070207130523-418b8-1f0ce60c8417d1dabc67daddf34e9fdff2faeba3.gz

 lib/telepathy-glib/internal-debug.h |    6 +++---
 src/debug.h                         |    6 +++---
 2 files changed, 6 insertions(+), 6 deletions(-)

commit f5749045eb45d050fd10913c442d8c16a805f025
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Feb 6 18:02:40 2007 +0000

    Delete the generate directory, no longer needed now we've implemented everything in terms of telepathy-glib
    
    
    20070206180240-53eee-f60fc3414006e333e08607e2de79ac916a1ce647.gz

 Makefile.am                                        |    2 +-
 configure.ac                                       |    1 -
 generate/Makefile.am                               |    8 -
 generate/README                                    |   21 -
 generate/async_annotate.py                         |   59 --
 generate/async_implementations                     |   13 -
 generate/do_src.sh                                 |   47 --
 generate/do_xml.sh                                 |   24 -
 generate/gabble.def                                |    9 -
 .../gabble-connection-manager-signals-marshal.list |    1 -
 generate/src/gabble-connection-manager.c           |  183 -----
 generate/src/gabble-connection-manager.h           |   81 --
 .../src/gabble-connection-signals-marshal.list     |    3 -
 generate/src/gabble-connection.c                   |  840 --------------------
 generate/src/gabble-connection.h                   |  237 ------
 .../src/gabble-im-channel-signals-marshal.list     |    3 -
 generate/src/gabble-im-channel.c                   |  326 --------
 generate/src/gabble-im-channel.h                   |  104 ---
 .../src/gabble-media-channel-signals-marshal.list  |    5 -
 generate/src/gabble-media-channel.c                |  582 --------------
 generate/src/gabble-media-channel.h                |  160 ----
 .../src/gabble-media-session-signals-marshal.list  |    1 -
 generate/src/gabble-media-session.c                |  158 ----
 generate/src/gabble-media-session.h                |   72 --
 .../src/gabble-media-stream-signals-marshal.list   |    2 -
 generate/src/gabble-media-stream.c                 |  377 ---------
 generate/src/gabble-media-stream.h                 |  109 ---
 .../src/gabble-muc-channel-signals-marshal.list    |    5 -
 generate/src/gabble-muc-channel.c                  |  670 ----------------
 generate/src/gabble-muc-channel.h                  |  180 -----
 generate/src/gabble-roomlist-channel.c             |  261 ------
 generate/src/gabble-roomlist-channel.h             |   91 ---
 .../src/gabble-roster-channel-signals-marshal.list |    2 -
 generate/src/gabble-roster-channel.c               |  414 ----------
 generate/src/gabble-roster-channel.h               |  132 ---
 generate/src/telepathy-errors.h                    |   61 --
 .../xml-modified/gabble-connection-manager.xml     |   23 -
 generate/xml-modified/gabble-connection.xml        |  173 ----
 generate/xml-modified/gabble-im-channel.xml        |   53 --
 generate/xml-modified/gabble-media-channel.xml     |  112 ---
 generate/xml-modified/gabble-media-session.xml     |   16 -
 generate/xml-modified/gabble-media-stream.xml      |   57 --
 generate/xml-modified/gabble-muc-channel.xml       |  133 ---
 generate/xml-modified/gabble-roomlist-channel.xml  |   29 -
 generate/xml-modified/gabble-roster-channel.xml    |   64 --
 .../xml-pristine/gabble-connection-manager.xml     |   23 -
 generate/xml-pristine/gabble-connection.xml        |  162 ----
 generate/xml-pristine/gabble-im-channel.xml        |   53 --
 generate/xml-pristine/gabble-media-channel.xml     |  112 ---
 generate/xml-pristine/gabble-media-session.xml     |   16 -
 generate/xml-pristine/gabble-media-stream.xml      |   57 --
 generate/xml-pristine/gabble-muc-channel.xml       |  131 ---
 generate/xml-pristine/gabble-roomlist-channel.xml  |   29 -
 generate/xml-pristine/gabble-roster-channel.xml    |   64 --
 54 files changed, 1 insertions(+), 6550 deletions(-)

commit edff235608137207b2eef460079f9e892016c2b2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Feb 6 13:22:17 2007 +0000

    genginterface: Copy in dbus-python 0.71's signature parser, so genginterface doesn't depend on dbus-python and can be run in Scratchbox
    
    
    20070206132217-53eee-4886e0d42fb0fbc4c9a85b250152d233cf86a637.gz

 lib/tools/genginterface.py |   63 ++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 61 insertions(+), 2 deletions(-)

commit 4c85a17e1bb1491510735ce99abdec5326f1ce15
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Feb 6 13:11:04 2007 +0000

    Sync with spec release 0.14.1 (no changes)
    
    
    20070206131104-53eee-722d47f569d90b6c341386287cbd751a3107bba4.gz

 lib/spec/all.xml |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8da4877e55692ef30f9c01fd27214c2c5d225043
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Feb 6 16:49:05 2007 +0000

    GabbleVCardManager: fixed typos
    
    
    20070206164905-01440-df2389f7385c1d1763e65be844bbe33ffce45574.gz

 src/vcard-manager.c |    4 ++--
 src/vcard-manager.h |    6 +++---
 2 files changed, 5 insertions(+), 5 deletions(-)

commit a38330df391c7f3b9f6594b3d07a33f9e7f73251
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Feb 6 16:36:32 2007 +0000

    GabbleVCardManager: handle NULL photos in vcards properly
    
    
    20070206163632-01440-44460bc15474add25d059d8d928a79c9222b44e6.gz

 src/gabble-connection.c |    9 ++++-----
 src/vcard-manager.c     |   12 +++++++-----
 src/vcard-manager.h     |    4 +++-
 3 files changed, 14 insertions(+), 11 deletions(-)

commit a336a4d5e958ec588a980c560049224ebc49e6ba
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Feb 5 19:33:39 2007 +0000

    bump version to 0.5.2
    
    
    20070205193339-418b8-adab57e5a099b5c433af35fcf8e92e25b2533be9.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 76863a88c1cd73bb3364fd5400c3fdd8374e980a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 5 19:28:34 2007 +0000

    Indicate in lib/telepathy-glib/Makefile.am where the files matching _gen/svc-%-signals-marshal.list come from
    
    
    20070205192834-53eee-4d1ead1c1018104dd9381974f4545a5987311939.gz

 lib/telepathy-glib/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a93df3673c34c1f2fbeb7fe944ac4bb98f2aca0b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 5 18:49:47 2007 +0000

    Add pkg-config file for telepathy-glib (patch from oggis)
    
    
    20070205184947-53eee-516ad50461cf4c4e9606a758947da484c4f4ce41.gz

 configure.ac             |    1 +
 lib/Makefile.am          |    4 ++++
 lib/telepathy-glib.pc.in |   11 +++++++++++
 3 files changed, 16 insertions(+), 0 deletions(-)

commit 0444c5e6b7bc1c506c59f98df6dbd6b033b9197b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 5 18:17:50 2007 +0000

    lib/telepathy-glib/base-connection.c: fix misleading indentation
    
    
    20070205181750-53eee-77c8f4d14aa88c2dcf6de88e99a2350d60076db2.gz

 lib/telepathy-glib/base-connection.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 388687a45659d8367e423629eab99022d47fb6ef
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 5 18:16:22 2007 +0000

    Sync lib/telepathy-glib/Makefile.am with the conflicting branch of cmlib refactoring
    
    
    20070205181622-53eee-e5b02f772a324e619aa7fd6836ed7c18e8f1560d.gz

 lib/telepathy-glib/Makefile.am |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 5c421bcb3a8ed194fc02aec842818c5d6a674f3b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 5 18:08:45 2007 +0000

    lib/telepathy-glib/dbus.h: If DBUS_API_SUBJECT_TO_CHANGE is already defined, don't cause warnings
    
    
    20070205180845-53eee-c1aeeb57b8b9f3a0c7412082b79f57828c685e8e.gz

 lib/telepathy-glib/dbus.h |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 955b3353828d764f7b672fcaf0382a1ce78b2fb5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 5 18:08:04 2007 +0000

    gabble_connection_connect(): don't segfault if _gabble_connection_connect() fails, by initializing error to NULL
    
    
    20070205180804-53eee-ecf888d98a67a9032fd99bee9bc1cddd1352850c.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 173aecd0b5883dcf108bb85d16bcc9c5e03996c4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 5 18:07:01 2007 +0000

    Correct spelling of "destroy"
    
    
    20070205180701-53eee-9c4ea19a305a768b1b25818619c4490fc4aca864.gz

 lib/telepathy-glib/handle-repo.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7bb6e95d5cf6c910ef5ab4864eed5a427e373cbc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 5 18:04:45 2007 +0000

    Actually add lib/tests/Makefile.am
    
    
    20070205180445-53eee-188f4c49e71631c50e1c17f0c08afb03bdac0d82.gz

 lib/tests/Makefile.am |   23 +++++++++++++++++++++++
 1 files changed, 23 insertions(+), 0 deletions(-)

commit 029dc1b5cff9d9409ba8a5db8ec554a8c4f675fc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 5 18:03:51 2007 +0000

    Update spec-gen.am
    
    
    20070205180351-53eee-626c60eee48994586c42b38e36d1adbf844e362b.gz

 lib/spec/spec-gen.am           |    2 ++
 lib/telepathy-glib/spec-gen.am |    3 +--
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 9d35d8d9015f0f5ffe8fc5912e3ac2d1ecebe4a3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 5 18:03:31 2007 +0000

    Revert part of change to _boring - test-handles is still Gabble, not telepathy-glib
    
    
    20070205180331-53eee-ffa70f536d4ac751bfa5e698d5b4f16b4e9e77e2.gz

 _boring |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4f2cced760d9ef9621173ea4c5404e0d07d171cf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 5 18:02:56 2007 +0000

    Free handle repos *after* the channel factories that use them, so we don't segfault on close of connection.
    
    
    20070205180256-53eee-148ec173a500c01fa256c69144ae9248eccdf6f3.gz

 lib/telepathy-glib/base-connection.c |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit b3c12730d6b95237463b82fc1e34c9784d7e0266
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 5 18:02:39 2007 +0000

    Fix up some paths in lib/telepathy-glib/Makefile.am
    
    
    20070205180239-53eee-397c982ed96f0694582a23f7576969f12571f919.gz

 lib/telepathy-glib/Makefile.am |    9 ++++-----
 1 files changed, 4 insertions(+), 5 deletions(-)

commit 6fec45992141b321091534aebc3db621d2afa668
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 5 17:47:02 2007 +0000

    Don't rely on inter-library dependencies
    
    
    20070205174702-53eee-24d9830c7e99035b1d9afa13d400f235ac9e3375.gz

 src/Makefile.am   |   12 +++++++-----
 tests/Makefile.am |    9 ++++++---
 2 files changed, 13 insertions(+), 8 deletions(-)

commit f2e585bc2d328c61c5397fdbad456121d9a269e1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 5 17:46:44 2007 +0000

    Declare telepathy-gabble-0.foo.tar.gz etc. to be boring for Darcs purposes
    
    
    20070205174644-53eee-1bf22ec3e276ad88b1b425565fa1a9c4087fe94a.gz

 _boring |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 5fd8ee61c4ada4b920cd7fa0eba94fabebf95d4d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 5 17:43:33 2007 +0000

    Move tests for bits of lib to lib too
    
    
    20070205174333-53eee-bec42fd5bc274673e6f8128f7c03ed1d5c6300af.gz

 _boring                     |    8 ++--
 configure.ac                |    3 +
 lib/tests/test-handle-set.c |   87 ++++++++++++++++++++++++++++++
 lib/tests/test-heap.c       |   35 ++++++++++++
 lib/tests/test-intset.c     |  123 +++++++++++++++++++++++++++++++++++++++++++
 tests/Makefile.am           |   25 +--------
 tests/test-handle-set.c     |   87 ------------------------------
 tests/test-heap.c           |   35 ------------
 tests/test-intset.c         |  123 -------------------------------------------
 9 files changed, 253 insertions(+), 273 deletions(-)

commit fc5655ae3e989e16d93a7bf6c4051a4e30c042b8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 5 17:42:44 2007 +0000

    lib/telepathy-glib/Makefile.am: do install things now
    
    
    20070205174244-53eee-bde592ac0fb6ae490cd1c85aa5f95b2068339715.gz

 lib/telepathy-glib/Makefile.am |   15 ++++++++-------
 1 files changed, 8 insertions(+), 7 deletions(-)

commit f20af261deee15c5139c4281850047d08ba30d73
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 5 17:34:20 2007 +0000

    Compensate for .c move into telepathy-glib subdir in src/Makefile.am too
    
    
    20070205173420-53eee-cd678acb031646bb2433344aa5b16b2e5b92f750.gz

 src/Makefile.am |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit d1a9dee618f322f0818a8f7726024323c732abac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 5 17:33:13 2007 +0000

    Add lib/tools/Makefile.am
    
    
    20070205173313-53eee-801c876bffacfcd02d9dfb9c8b1ca88dd18b784a.gz

 lib/tools/Makefile.am |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 0cf5bc9242d48073170c21a7233675116cc5c602
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 5 17:32:21 2007 +0000

    Finish updating lib/telepathy-glib/Makefile.am
    
    
    20070205173221-53eee-9bc78de3008bab105214abf52cfcd5a265c24670.gz

 lib/telepathy-glib/Makefile.am |  125 +++++++++++++++++-----------------------
 1 files changed, 52 insertions(+), 73 deletions(-)

commit ce8b53ee874cb4f6250243a4dc4d56adc9e49f2b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 5 17:26:53 2007 +0000

    Start altering Makefiles to compensate for files moving into telepathy-glib subdir
    
    
    20070205172653-53eee-696302459e250f5895064215aeb864c08d0061b2.gz

 configure.ac                   |    1 +
 lib/Makefile.am                |  208 +---------------------------------------
 lib/spec/Makefile.am           |   22 ++++
 lib/telepathy-glib/Makefile.am |  198 ++++++++++++++++++++++++++++++++++++++
 4 files changed, 222 insertions(+), 207 deletions(-)

commit 6668721fc4e8999baaa01d3d75a8c553bf702b36
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 5 17:19:38 2007 +0000

    Move .c files in lib into telepathy-glib subdirectory
    
    
    20070205171938-53eee-e9462101c7018fc077c431b3b2072439bc9ece69.gz

 lib/base-connection-manager.c                |  266 -------
 lib/base-connection.c                        | 1071 --------------------------
 lib/channel-factory-iface.c                  |  122 ---
 lib/channel-iface.c                          |  100 ---
 lib/dbus.c                                   |   75 --
 lib/debug.c                                  |   76 --
 lib/errors.c                                 |   46 --
 lib/group-mixin.c                            |  920 ----------------------
 lib/handle-repo-dynamic.c                    |  622 ---------------
 lib/handle-repo-static.c                     |  313 --------
 lib/handle-repo.c                            |  180 -----
 lib/handle-set.c                             |  270 -------
 lib/heap.c                                   |  182 -----
 lib/internal-debug.h                         |   52 --
 lib/intset.c                                 |  441 -----------
 lib/properties-mixin.c                       |  893 ---------------------
 lib/signals-marshal.list                     |    1 -
 lib/spec-gen.am                              |    7 -
 lib/telepathy-glib/base-connection-manager.c |  266 +++++++
 lib/telepathy-glib/base-connection.c         | 1071 ++++++++++++++++++++++++++
 lib/telepathy-glib/channel-factory-iface.c   |  122 +++
 lib/telepathy-glib/channel-iface.c           |  100 +++
 lib/telepathy-glib/dbus.c                    |   75 ++
 lib/telepathy-glib/debug.c                   |   76 ++
 lib/telepathy-glib/errors.c                  |   46 ++
 lib/telepathy-glib/group-mixin.c             |  920 ++++++++++++++++++++++
 lib/telepathy-glib/handle-repo-dynamic.c     |  622 +++++++++++++++
 lib/telepathy-glib/handle-repo-static.c      |  313 ++++++++
 lib/telepathy-glib/handle-repo.c             |  180 +++++
 lib/telepathy-glib/handle-set.c              |  270 +++++++
 lib/telepathy-glib/heap.c                    |  182 +++++
 lib/telepathy-glib/internal-debug.h          |   52 ++
 lib/telepathy-glib/intset.c                  |  441 +++++++++++
 lib/telepathy-glib/properties-mixin.c        |  893 +++++++++++++++++++++
 lib/telepathy-glib/signals-marshal.list      |    1 +
 lib/telepathy-glib/spec-gen.am               |    7 +
 lib/telepathy-glib/text-mixin.c              |  564 ++++++++++++++
 lib/telepathy-glib/util.c                    |  121 +++
 lib/text-mixin.c                             |  564 --------------
 lib/util.c                                   |  121 ---
 40 files changed, 6322 insertions(+), 6322 deletions(-)

commit 428c7a465c312cabb915db3b2254fcfa82e62424
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 30 12:49:05 2007 +0000

    Add _gen/main.c to BUILT_SOURCES (hence CLEANFILES)
    
    
    20070130124905-53eee-e0eca81aa19a3464d1f9e8656a77782e2d803060.gz

 lib/Makefile.am |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 255480bebe03ecf730b3d39866ec1ba08598f076
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 30 12:47:46 2007 +0000

    Add comment explaining why there is no handle-set.h
    
    
    20070130124746-53eee-406d88de1ab97024b7a8997b225122b51dbebdf0.gz

 lib/handle-set.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 5430a0f0a13f070f711c5b64e9ca48bdf7e95e30
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 30 12:45:15 2007 +0000

    Rename lib/debug.h to lib/internal-debug.h.
    
    Also re-order includes so the .h corresponding to the current .c always comes
    first (this verifies that the header is self-contained).
    
    20070130124515-53eee-3a2c9a94e355cbf208b2a260324ef249914f131c.gz

 lib/Makefile.am               |    2 +-
 lib/base-connection-manager.c |    1 +
 lib/base-connection.c         |    4 +-
 lib/channel-factory-iface.c   |    3 +-
 lib/debug.c                   |    4 +-
 lib/debug.h                   |   52 -----------------------------------------
 lib/errors.c                  |    3 +-
 lib/group-mixin.c             |    4 +-
 lib/handle-repo-dynamic.c     |    5 ++-
 lib/handle-repo-static.c      |    1 +
 lib/handle-set.c              |    4 ++-
 lib/heap.c                    |    3 +-
 lib/internal-debug.h          |   52 +++++++++++++++++++++++++++++++++++++++++
 lib/intset.c                  |    4 +-
 lib/properties-mixin.c        |    9 ++++---
 lib/text-mixin.c              |    7 ++---
 lib/util.c                    |    4 +-
 17 files changed, 85 insertions(+), 77 deletions(-)

commit abfc5ecfae6915bf327e1b3e2b7402536d44b179
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 5 16:53:25 2007 +0000

    Merge duplicate merge (thanks, Darcs)
    
    
    20070205165325-53eee-4bb31f7a0edb4700b87a6891e88545755447235c.gz

 src/Makefile.am |   17 +++++------------
 1 files changed, 5 insertions(+), 12 deletions(-)

commit 0b33b1d291e38ac765828f2b20ac12a9266d6751
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Feb 5 16:52:15 2007 +0000

    Merge src/Makefile.am: cmlib-14 vs IVC branch
    
    
    20070205165215-53eee-e4250a0410bb3a1fce772e26c934340bd743de52.gz

 src/Makefile.am |   17 ++++++++++++-----
 1 files changed, 12 insertions(+), 5 deletions(-)

commit 061bf365012790b27244f210dbb19356750b2b28
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Feb 5 14:27:19 2007 +0000

    merge IVC branch to ginterface refactoring
    
    
    20070205142719-418b8-2c745a4181e1b78290f1fb0cd3f88e757d2b61cc.gz

 src/Makefile.am |   17 +++++------------
 1 files changed, 5 insertions(+), 12 deletions(-)

commit f4c913869822f1c64329c39d4fd28f8ae98a8232
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 30 12:34:09 2007 +0000

    Fix out-of-tree builds and make "make distcheck" pass
    
    
    20070130123409-53eee-4986619371f0aaa749bb858223660fba56408348.gz

 lib/Makefile.am |   41 ++++++++++++++++++++++++++++++++---------
 1 files changed, 32 insertions(+), 9 deletions(-)

commit 99cf19830aca695b6e6e6d48bc1da7b4fb4329bb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 30 11:10:57 2007 +0000

    Merge use of generated GInterfaces with vCard cache
    
    
    20070130111057-53eee-c5103c92e65480258d41d66b1b4892c6f33c1752.gz

 src/gabble-connection.c |   17 +++++++++++++++--
 1 files changed, 15 insertions(+), 2 deletions(-)

commit 0a321c43e79324a3351918945f716cd0791e60df
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 29 18:35:35 2007 +0000

    Remove remnants of old copying-generated-files process
    
    
    20070129183535-53eee-31778096c483bdf75ebea117857ea7a4cbd25e28.gz

 lib/_spec/Makefile.am    |   12 -------
 lib/update-from-spec.mk  |   81 ----------------------------------------------
 2 files changed, 0 insertions(+), 93 deletions(-)

commit 87f8031039a968885b18e6dc3750c0e24f5ac056
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 29 18:26:24 2007 +0000

    Ignore lib/check_self_contained
    
    
    20070129182624-53eee-42703a795569254cd2d782cdb4df2dc38de0871f.gz

 _boring |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit c6082bd3413d5dca402ca6a66a0aa77ca43732c0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 29 18:17:21 2007 +0000

    Generate GInterfaces at build time from a shipped copy of the spec.
    
    - Generate spec-gen.am which is included in Makefile.am
      (altering the spec will trigger an automake)
    - Require Python and dbus-binding-tool in configure.ac
    - Make user-visible headers somewhat less modular - one for channels and
      all their interfaces, etc.
    - Adapt lib/ to the user-visible header change
    
    20070129181721-53eee-47dadf6160feb857854392eda19cbe281293762e.gz

 configure.ac                                  |   11 +-
 lib/Makefile.am                               |  118 ++++--
 lib/group-mixin.c                             |    1 -
 lib/signals-marshal.list                      |   13 -
 lib/spec-gen.am                               |    7 +
 lib/spec.am                                   |    5 -
 lib/telepathy-glib/group-mixin.h              |    2 +-
 lib/telepathy-glib/svc-channel.h              |   17 +
 lib/telepathy-glib/svc-connection-manager.h   |    4 +
 lib/telepathy-glib/svc-connection.h           |   14 +
 lib/telepathy-glib/svc-media-interfaces.h     |    7 +
 lib/telepathy-glib/svc-properties-interface.h |    4 +
 lib/telepathy-glib/text-mixin.h               |    2 +-
 lib/tools/genginterface.py                    |  572 +++++++++++++++++++++++++
 lib/tools/ls-interfaces.xsl                   |   33 ++
 lib/tools/make-all-async.xsl                  |   22 +
 lib/tools/spec-to-introspect.xsl              |   26 ++
 17 files changed, 801 insertions(+), 57 deletions(-)

commit e4ce30c94457bcefd3ef1d462ae112d89f2785d8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 29 18:02:16 2007 +0000

    src/: stop trying to include individual headers for all interfaces, use the new meta-headers
    
    
    20070129180216-53eee-317860e173f4458cdb284a7c242bb16518d7d58c.gz

 src/gabble-connection.c       |    4 ----
 src/gabble-im-channel.c       |    1 -
 src/gabble-media-channel.c    |    2 --
 src/gabble-media-session.c    |    2 +-
 src/gabble-media-stream.c     |    2 +-
 src/gabble-muc-channel.c      |    3 ---
 src/gabble-roomlist-channel.c |    1 -
 src/gabble-roster-channel.c   |    1 -
 8 files changed, 2 insertions(+), 14 deletions(-)

commit e86e88f2bd5b8272a214c50f379d769c023d42f9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 29 17:55:27 2007 +0000

    Sync with spec: Move Properties.xml to Properties_Interface.xml
    
    
    20070129175527-53eee-f8ffd4819a609a7c353c5d22e37034b8b350b6ee.gz

 lib/spec/Properties.xml           |  171 -------------------------------------
 lib/spec/Properties_Interface.xml |  171 +++++++++++++++++++++++++++++++++++++
 lib/spec/all.xml                  |    2 +-
 3 files changed, 172 insertions(+), 172 deletions(-)

commit 532aa2c3ba49c438254965d0a5939b39d0443395
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 29 14:02:03 2007 +0000

    Generate interfaces, enums, errors headers from a local copy of the spec using xslt
    
    
    20070129140203-53eee-7a9913a71895c290a892f93d724bec789b741176.gz

 configure.ac                                    |    6 +
 lib/Makefile.am                                 |   31 ++-
 lib/spec.am                                     |    5 +
 lib/spec/Channel.xml                            |  126 ++++++
 lib/spec/Channel_Interface_DTMF.xml             |   58 +++
 lib/spec/Channel_Interface_Group.xml            |  407 ++++++++++++++++++
 lib/spec/Channel_Interface_Hold.xml             |  123 ++++++
 lib/spec/Channel_Interface_Media_Signalling.xml |   60 +++
 lib/spec/Channel_Interface_Password.xml         |   98 +++++
 lib/spec/Channel_Interface_Transfer.xml         |   52 +++
 lib/spec/Channel_Type_Contact_List.xml          |   69 ++++
 lib/spec/Channel_Type_Contact_Search.xml        |  133 ++++++
 lib/spec/Channel_Type_Room_List.xml             |  100 +++++
 lib/spec/Channel_Type_Streamed_Media.xml        |  315 ++++++++++++++
 lib/spec/Channel_Type_Text.xml                  |  279 +++++++++++++
 lib/spec/Connection.xml                         |  498 +++++++++++++++++++++++
 lib/spec/Connection_Interface_Aliasing.xml      |  118 ++++++
 lib/spec/Connection_Interface_Avatars.xml       |  194 +++++++++
 lib/spec/Connection_Interface_Capabilities.xml  |  162 ++++++++
 lib/spec/Connection_Interface_Contact_Info.xml  |   82 ++++
 lib/spec/Connection_Interface_Forwarding.xml    |   75 ++++
 lib/spec/Connection_Interface_Presence.xml      |  313 ++++++++++++++
 lib/spec/Connection_Interface_Privacy.xml       |   92 +++++
 lib/spec/Connection_Interface_Renaming.xml      |   66 +++
 lib/spec/Connection_Manager.xml                 |  243 +++++++++++
 lib/spec/Media_Session_Handler.xml              |   74 ++++
 lib/spec/Media_Stream_Handler.xml               |  260 ++++++++++++
 lib/spec/Properties.xml                         |  171 ++++++++
 lib/spec/all.xml                                |   58 +++
 lib/spec/errors.xml                             |   80 ++++
 lib/telepathy-glib/enums.h                      |    2 +-
 lib/telepathy-glib/errors.h                     |    2 +-
 lib/telepathy-glib/interfaces.h                 |    2 +-
 lib/tools/c-constants-generator.xsl             |  138 +++++++
 lib/tools/c-errors-enum-generator.xsl           |   37 ++
 lib/tools/c-interfaces-generator.xsl            |   30 ++
 36 files changed, 4554 insertions(+), 5 deletions(-)

commit afc129a130739383f4a2854a4dc472b6c8a84ed5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 26 16:48:10 2007 +0000

    In Gabble text mixin, make gabble_text_mixin_send asynchronous and document its parameters
    
    
    20070126164810-53eee-40217eedeaf7ac2f0c60f98909c01b00ff6727fa.gz

 src/gabble-im-channel.c  |   13 +----------
 src/gabble-muc-channel.c |   13 +----------
 src/text-mixin.c         |   47 ++++++++++++++++++++++++++++++---------------
 src/text-mixin.h         |    5 +++-
 4 files changed, 39 insertions(+), 39 deletions(-)

commit fd2d2775f46abf9f122f69dba5a1329e4128c512
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 26 15:50:41 2007 +0000

    src/: Port Gabble implementations of interfaces to new ABI in the generated GInterfaces
    
    
    20070126155041-53eee-5a21def050124d77b6ae42269c4286baecf4f719.gz

 src/gabble-connection-manager.c |    7 +++-
 src/gabble-connection.c         |   57 ++++++++++++++++++++++++--------------
 src/gabble-im-channel.c         |   16 +++++++---
 src/gabble-media-channel.c      |   27 ++++++++++++------
 src/gabble-media-session.c      |    7 +++-
 src/gabble-media-stream.c       |   21 ++++++++------
 src/gabble-muc-channel.c        |   23 +++++++++++-----
 src/gabble-roomlist-channel.c   |   18 ++++++++----
 src/gabble-roster-channel.c     |   11 +++++---
 9 files changed, 122 insertions(+), 65 deletions(-)

commit d493196e9864a1b9f3251016484cf68f8be99ba9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 26 15:50:08 2007 +0000

    TpBaseConnectionManager: Don't bother implementing stubs for get_parameters and list_protocols, the generated GInterface does that automatically now
    
    
    20070126155008-53eee-aabc27e24a6f865e4e6035d040affbd443f9aa69.gz

 lib/base-connection-manager.c |   19 -------------------
 1 files changed, 0 insertions(+), 19 deletions(-)

commit 47726d369f4b89dbf7fc87160b020095758c7c16
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 26 13:57:09 2007 +0000

    Update base classes in lib for new ABI produced by genginterface
    
    
    20070126135709-53eee-ea100ad52ce5ae39493f162086c9c23f19fac0e2.gz

 lib/base-connection-manager.c |    9 ++++++---
 lib/base-connection.c         |   28 ++++++++++++++++------------
 lib/group-mixin.c             |   21 ++++++++++++---------
 lib/properties-mixin.c        |    8 +++++---
 lib/text-mixin.c              |   11 +++++++----
 5 files changed, 46 insertions(+), 31 deletions(-)

commit e0d3290a3a86c1d33df6284035ed48de8bee801c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 26 13:56:20 2007 +0000

    update-from-spec.mk: include ChannelInterfaceDTMF again , genginterface now works around the name mangling issues in dbus-glib
    
    
    20070126135620-53eee-dac44043b2858b3970858f21e25087341725260d.gz

 lib/update-from-spec.mk |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit 1c89ab6aa7cd8d15a574e80b40ffc11deff0ff36
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 26 13:54:28 2007 +0000

    lib/_spec: allow includes from non-spec part of lib too
    
    
    20070126135428-53eee-4255fd37258432280a8c674c5c9c83a269546ca0.gz

 lib/_spec/Makefile.am |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 5870c01f17a7bdec983a176f925ae4387bcc8c2a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 26 13:32:12 2007 +0000

    lib/dbus.c: Add tp_dbus_g_method_return_not_implemented().
    
    Also declare tp_get_bus_proxy, tp_get_bus as having no arguments, correctly.
    
    20070126133212-53eee-14fb2b619bc31e35fe460dcbd81a5c5b28106bdb.gz

 lib/dbus.c                |   14 ++++++++++++--
 lib/telepathy-glib/dbus.h |    5 +++--
 2 files changed, 15 insertions(+), 4 deletions(-)

commit e51307cd919c27fad70775a85c3585e3b11f2f33
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 25 17:34:45 2007 +0000

    Update gabble-connection.c for newer spec: TP_IFACE_CONN_INTERFACE_ALIASING -> TP_IFACE_CONNECTION_INTERFACE_ALIASING, etc., for consistency
    
    
    20070125173445-53eee-47c7ed737875c1797756a029e094a1926f13cf3e.gz

 src/gabble-connection.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit d4b6014cef28e26830ae073e3474573d3dcb74bc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 25 17:28:34 2007 +0000

    GabbleMUCChannel: let text mixin implement AcknowledgePendingMessages, ListPendingMessages, GetMessageTypes
    
    
    20070125172834-53eee-d8262743a9a97b1001a1934868333b5afc5aeafe.gz

 src/gabble-muc-channel.c |   89 +---------------------------------------------
 1 files changed, 1 insertions(+), 88 deletions(-)

commit e5ef774dbc6fdfdc6c57db769b83aa54b6cae3f1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 23 16:58:20 2007 +0000

    gabble-im-channel.c: let the text mixin implement more methods directly
    
    
    20070123165820-53eee-7ed349cc85f5240588622abeb10d14da49d5c4a4.gz

 src/gabble-im-channel.c |   89 +----------------------------------------------
 1 files changed, 1 insertions(+), 88 deletions(-)

commit 00dbdfd98a1be527528d072cc5a626a13a78e9a7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 23 16:57:05 2007 +0000

    lib/text-mixin.c: Add iface_init function using static async wrappers
    
    
    20070123165705-53eee-22dcab6539b00385c5ae9df5ae2c0339e02cbb9f.gz

 lib/telepathy-glib/text-mixin.h |    2 +
 lib/text-mixin.c                |   73 +++++++++++++++++++++++++++++++++++++++
 2 files changed, 75 insertions(+), 0 deletions(-)

commit 8f39b0fcf9930daf99ab4bdd506f33e9291115c4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 23 15:09:56 2007 +0000

    Merge all Gabble signal marshallers into gabble-signals-marshal.{list,c,h} so tab completion in src/ works again
    
    
    20070123150956-53eee-d510c9a20c268f3ff99edeac64a73cc8bff9d67c.gz

 src/Makefile.am                                |   12 ++----------
 src/gabble-media-session-signals-marshal.list  |    2 --
 src/gabble-media-session.c                     |    4 ++--
 src/gabble-media-stream-signals-marshal.list   |    3 ---
 src/gabble-media-stream.c                      |    8 ++++----
 src/gabble-muc-channel-signals-marshal.list    |    1 -
 src/gabble-muc-channel.c                       |    1 -
 src/gabble-presence-cache-signals-marshal.list |    1 -
 src/gabble-presence-cache.c                    |    4 ++--
 src/gabble-register-signals-marshal.list       |    1 -
 src/gabble-register.c                          |    4 ++--
 src/gabble-signals-marshal.list                |    7 +++++++
 12 files changed, 19 insertions(+), 29 deletions(-)

commit f759cbedc3a71d7e831912971a2f02cb4d168fa3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 23 15:01:15 2007 +0000

    Bump dbus-glib dependency to 0.72 (needed for the D-Bus GInterface stuff)
    
    
    20070123150115-53eee-4461ccf37770420a8dbabc98eb33a007f1a90095.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 451631bafceaa56f0b0ee9dc3bb09c0b3a79e4e5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 23 14:33:56 2007 +0000

    Actually remove unneeded signals marshallers entirely
    
    
    20070123143356-53eee-06053085546b7a779c7c81c40e98c606867f76c8.gz

 src/Makefile.am                                    |   10 ++--------
 src/gabble-connection-manager-signals-marshal.list |    1 -
 src/gabble-connection-signals-marshal.list         |    3 ---
 src/gabble-media-channel-signals-marshal.list      |    4 ----
 src/text-mixin-signals-marshal.list                |    3 ---
 5 files changed, 2 insertions(+), 19 deletions(-)

commit 451843ddb43527cccf2a99f9bfb8e4a13ffc4efb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 23 14:31:11 2007 +0000

    Remove unneeded signals marshallers for media channel, text mixin, roster channel
    
    
    20070123143111-53eee-0844c7cdf60d4f2fadc07abc9295ca0f28a1578c.gz

 src/Makefile.am |    8 +-------
 1 files changed, 1 insertions(+), 7 deletions(-)

commit ef184a2dc8040cd739f53146f0e864797ac562e6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 23 14:26:42 2007 +0000

    Support closing empty group channels
    
    
    20070123142642-53eee-72e24b779abd7212f7bf67f6935cd95b9e543183.gz

 src/gabble-roster-channel.c |   42 ++++++++++++++++++++++++++++++++++++------
 1 files changed, 36 insertions(+), 6 deletions(-)

commit d13248fdac7d7ed1dbb74008d6c237f111054178
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 23 14:12:50 2007 +0000

    gabble-im-channel.c: correctly initialize GError * variables to NULL
    
    
    20070123141250-53eee-f0cb0b277f52a9f3812069f2b7b9338ec009dc63.gz

 src/gabble-im-channel.c |   14 ++++----------
 1 files changed, 4 insertions(+), 10 deletions(-)

commit e6751c6c87d585f75f1d5ef88f59ae546ccd7b40
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 23 14:12:33 2007 +0000

    properties-mixin.c: correctly initialize GError * variables to NULL
    
    
    20070123141233-53eee-9b17e392e5b7cc0228ad16e99f734b449f8acd60.gz

 lib/properties-mixin.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 73457f70e51020ce1b172a56fcd2b1d265b50672
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 23 14:06:35 2007 +0000

    Implement all channels in terms of GInterfaces.
    
    Make text, group mixins depend on the corresponding interfaces for their signals.
    
    20070123140635-53eee-b15767f6d4a279218dee84e9b0b4aebffdbd510a.gz

 lib/group-mixin.c                |  265 ++++++++++++---
 lib/telepathy-glib/group-mixin.h |   42 ++--
 lib/telepathy-glib/text-mixin.h  |    7 +-
 lib/text-mixin.c                 |   68 +----
 src/Makefile.am                  |    7 -
 src/gabble-media-channel.c       |  673 ++++++++++++--------------------------
 src/gabble-media-channel.h       |  102 +------
 src/gabble-muc-channel.c         |  605 ++++++++++------------------------
 src/gabble-muc-channel.h         |  119 -------
 src/gabble-roster-channel.c      |  346 ++++----------------
 src/gabble-roster-channel.h      |   73 ----
 src/im-factory.c                 |    4 +-
 src/media-factory.c              |   10 +-
 src/muc-factory.c                |    5 +-
 src/roster.c                     |   18 +-
 src/text-mixin.c                 |    3 +-
 16 files changed, 717 insertions(+), 1630 deletions(-)

commit d2fc20f8f2df1079d5047fd7589539918c42057c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 22 16:02:13 2007 +0000

    Port room list channel to use GInterfaces
    
    
    20070122160213-53eee-a5ac809bc5d1ad3d9a77bbb1e841ab6788659f7a.gz

 src/Makefile.am               |    3 -
 src/gabble-roomlist-channel.c |  177 ++++++++++++++++-------------------------
 src/gabble-roomlist-channel.h |   30 -------
 3 files changed, 67 insertions(+), 143 deletions(-)

commit f42bc929d100543762ad30860130d683e3f2a03f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 22 16:00:17 2007 +0000

    Port IM channel to use GInterfaces
    
    
    20070122160017-53eee-7205f515a745b026f771f539b448c1354c912887.gz

 src/Makefile.am         |    3 -
 src/gabble-im-channel.c |  231 ++++++++++++++++++++++++-----------------------
 src/gabble-im-channel.h |   44 ---------
 3 files changed, 116 insertions(+), 162 deletions(-)

commit 1f9505a166e359fb5f19cd66fd7b9593978df49f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 22 13:41:53 2007 +0000

    Port media stream, media session to implement GInterfaces
    
    
    20070122134153-53eee-5f939278689927a3902bb8a16123940071e932a3.gz

 src/Makefile.am            |    2 -
 src/gabble-media-session.c |   70 +++++------
 src/gabble-media-session.h |   11 --
 src/gabble-media-stream.c  |  304 ++++++++++++++++---------------------------
 src/gabble-media-stream.h  |   49 +-------
 5 files changed, 148 insertions(+), 288 deletions(-)

commit 55c2867fd359a9c20d271e207f733848b98847c1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 19 18:30:19 2007 +0000

    Change interface names to be like TpSvcConnectionInterfacePresence instead of TpConnectionInterfacePresenceServiceIface
    
    
    20070119183019-53eee-4602b29efb1745dba9ab8742d39c1426ed2915c7.gz

 lib/base-connection-manager.c                |   15 ++--
 lib/base-connection.c                        |   44 ++++----
 lib/properties-mixin.c                       |   22 ++--
 lib/telepathy-glib/base-connection-manager.h |    2 +-
 lib/telepathy-glib/properties-mixin.h        |    2 +-
 src/gabble-connection-manager.c              |   12 +-
 src/gabble-connection.c                      |  148 +++++++++++++-------------
 src/gabble-muc-channel.c                     |    2 +-
 8 files changed, 123 insertions(+), 124 deletions(-)

commit 997949bf195b08e1e8bf4ada109144c53e977733
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 19 17:56:55 2007 +0000

    lib/update-from-spec.mk: Adapt to "svc" naming convention
    
    
    20070119175655-53eee-652fdf367f391dade9e48302d9b23914b47d00ca.gz

 lib/update-from-spec.mk |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit de58202a1a9ebfb8a1270b8d94469768507c6517
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 19 17:35:43 2007 +0000

    Look for generated signals-marshal.h in builddir, not srcdir
    
    
    20070119173543-53eee-97964320c7f5c27559fe363108bf32e7f15aeab0.gz

 lib/_spec/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e45a17901cd2bc9ec8af5946c9360b70a6536d0f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 19 17:26:43 2007 +0000

    Implement Properties mixin by implementing the interface. Make GabbleConnection, TpBaseConnection async and put them on D-Bus via interfaces
    
    
    20070119172643-53eee-10306e14c5e201bf4ba6abdc04be03efe5032830.gz

 lib/base-connection.c                 |  170 ++++----
 lib/properties-mixin.c                |  124 ++++-
 lib/telepathy-glib/base-connection.h  |   19 -
 lib/telepathy-glib/properties-mixin.h |   11 +-
 src/Makefile.am                       |    3 -
 src/gabble-connection.c               |  842 ++++++++++++++-------------------
 src/gabble-connection.h               |  175 -------
 src/gabble-muc-channel.c              |    6 +-
 8 files changed, 538 insertions(+), 812 deletions(-)

commit ea0aa325be846af1a866baba3fe6c931dbce6100
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 19 14:56:56 2007 +0000

    TpBaseConnectionManager: make interface responsible for signals. Make tp_base_connection_manager_request_connection static
    
    
    20070119145656-53eee-050ad9537be6e2bab5e61013a28f4c289350e438.gz

 lib/base-connection-manager.c                |   16 +++-------------
 lib/telepathy-glib/base-connection-manager.h |    4 ----
 2 files changed, 3 insertions(+), 17 deletions(-)

commit af57955f211c44606811ab46cbccae1893a3166b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 19 13:18:33 2007 +0000

    Don't leak memory when returning from async connection-manager methods
    
    
    20070119131833-53eee-a0ea96e927dc3a7a4862f487bf5b8cd7cada9b0b.gz

 lib/base-connection-manager.c   |   16 ++++++++--------
 src/gabble-connection-manager.c |    4 +++-
 2 files changed, 11 insertions(+), 9 deletions(-)

commit 7c36b7fd11d4b92e6cadf19f18ba3c5035015cfc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 18 18:43:23 2007 +0000

    generate/: update from spec
    
    
    20070118184323-53eee-2de224849bfc80bdace5a5cde47b756609245f70.gz

 generate/src/telepathy-errors.h             |    2 +-
 generate/xml-pristine/gabble-connection.xml |    4 ++++
 2 files changed, 5 insertions(+), 1 deletions(-)

commit 2fc3987f5c31a477f992e9a2958ee0e80b99dd8a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 18 18:13:23 2007 +0000

    text-mixin.c: Change TpChannelTextSendError constants to have TEXT in the name
    
    
    20070118181323-53eee-9015ca7c1de54e1a30398decc4b64e74d6d7317b.gz

 src/text-mixin.c |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit d99c25a13d8ec19ff3b54cc92343b24deeb171d7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 18 16:19:09 2007 +0000

    Port TpBaseConnectionManager, GabbleConnectionManager to be implementations of TpConnectionManagerServiceIface
    
    
    20070118161909-53eee-63feedb81934dba98ca604cda00d1f5b65f56a0d.gz

 lib/base-connection-manager.c                |   78 ++++++++++++++++++++------
 lib/telepathy-glib/base-connection-manager.h |    7 +-
 src/Makefile.am                              |    3 -
 src/gabble-connection-manager.c              |   75 +++++++++++--------------
 src/gabble-connection-manager.h              |   21 -------
 5 files changed, 96 insertions(+), 88 deletions(-)

commit 51e5f3b0d7c0a4a7974348d37a8a6d89f003feaa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 18 16:15:39 2007 +0000

    Add infrastructure for generating lots of GInterfaces from the Telepathy specification
    
    
    20070118161539-53eee-84f40b2a547726ce2f1e913d779e2db6d0947031.gz

 configure.ac                                    |    1 +
 lib/Makefile.am                                 |   23 ++-
 lib/_spec/Makefile.am                           |   10 +
 lib/telepathy-glib/_spec/telepathy-enums.h      |  276 -----------------------
 lib/telepathy-glib/_spec/telepathy-errors.h     |   82 -------
 lib/telepathy-glib/_spec/telepathy-interfaces.h |   73 ------
 lib/update-from-spec.mk                         |   83 +++++++
 src/Makefile.am                                 |    2 +-
 tests/Makefile.am                               |    1 +
 9 files changed, 111 insertions(+), 440 deletions(-)

commit 7995014d766a5f617ebbea57e79c85d426a035a8
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Feb 1 17:48:43 2007 +0000

    GabbleMucFactory: remove inline loop in favour of lm_message_node_get_child_with_namespace
    
    
    20070201174843-418b8-35d828de87a2ab953f95be653ad0511512bd3e4d.gz

 src/muc-factory.c |    7 ++-----
 1 files changed, 2 insertions(+), 5 deletions(-)

commit 61ce795dbc5f6ba75873c7230dc86d355031058f
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Feb 1 17:48:03 2007 +0000

    GabblePresenceCache: use lm_message_node_get_child_with_namespace rather than requiring the 1st <x> node inside <presence> to be the avatar checksum
    
    
    20070201174803-418b8-1171068fac75aba5e931c36b4482242df019d276.gz

 src/gabble-presence-cache.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 7d9332170100174ca71385940450edd56bffd0c3
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Feb 1 17:47:25 2007 +0000

    GabbleMucChannel: remove duplicated code
    
    
    20070201174725-418b8-df2e3748ab1b6a5a8815311abf326638fdddaa70.gz

 src/gabble-muc-channel.c |   52 +++++++++++----------------------------------
 1 files changed, 13 insertions(+), 39 deletions(-)

commit 9220809da4ea92402ccb847b78ff70dfa0b4c28e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Jan 31 19:29:35 2007 +0000

    merge conflicts between Nokia Internet Call Invitation branch and trunk
    
    
    20070131192935-418b8-09bf14badd546e7d5454b0fd4d3fd6fc940c436e.gz

 src/gabble-connection.c |   11 +++--------
 1 files changed, 3 insertions(+), 8 deletions(-)

commit 11251de72599dd39aedc81c996bc1b41b53f1fdc
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Dec 12 14:25:09 2006 +0000

    GabbleRegister: fix sign-comparison in loops
    
    
    20061212142509-418b8-23e01a036d218b9c142eb5dd028113b5150ae604.gz

 src/gabble-register.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 12a8ecd5eb6107d70620ee1f8d0bb45bbd29de20
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Dec 12 14:22:05 2006 +0000

    fix broken src/Makefile.am
    
    
    20061212142205-418b8-0652ce27f4f8c9dedd1f4411958f8a174d685568.gz

 src/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8acc5edb30f2f534407443d6d7dbd7cbfad722b0
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Dec 7 15:52:22 2006 +0000

    use tableteer.nokia.com namespace for IV registration
    
    
    20061207155222-c9803-ee21da212313973e571333d31f569a990f5741a2.gz

 src/namespaces.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 6bdd11a937a8de282ad169a115c00bf813bf676e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Dec 12 14:10:04 2006 +0000

    merge conflicts in AUTHORS and COPYING
    
    
    20061212141004-418b8-b65979ae7f18c1cbd7db328a4a1f7d48f0f61825.gz

 AUTHORS |    8 +++++++
 COPYING |   70 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 2 files changed, 77 insertions(+), 1 deletions(-)

commit 519fc1738f6c60b79e3582347cd38501c4c84a1d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Dec 12 13:32:00 2006 +0000

    merge Makefile.am conflicts
    
    
    20061212133200-418b8-e798026c7c4fde92b23028a69ac80b6e900244f0.gz

 src/Makefile.am |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit b06840e8c319f62a58c6a846e7d5a03abf8d4a04
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Nov 8 13:29:08 2006 +0000

    GabbleRegister: lower-case auth_mac for consistency
    
    
    20061108132908-418b8-8d0fc0bfaf4ad24f805a8970144f8ce5dabb81d4.gz

 src/gabble-register.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 509b61ab45f7d9e38cfd594e94e0f2f62a057576
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Oct 13 17:29:12 2006 +0000

    Refactor out sending of registration or IV auth message into static function
    
    
    20061013172912-53eee-64121ad8af4993c9ffa2dcaed3acbe2a036b081f.gz

 src/gabble-register.c |   83 ++++++++++++++++++++++---------------------------
 1 files changed, 37 insertions(+), 46 deletions(-)

commit d8667ca16abb5f7a158f8d14d755e591da7a4c98
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Oct 13 17:05:47 2006 +0000

    Perform privileged device auth *before* registering an account.
    
    Also emit a warning message if UI gives us the MAC but not BTID or vice versa.
    
    20061013170547-53eee-afb029dfb409321bbe21632e516fc922c44be192.gz

 src/gabble-register.c |   89 +++++++++++++++++++++++++++---------------------
 1 files changed, 50 insertions(+), 39 deletions(-)

commit c1c42dbdc923194df7d67dd96755e5addfeba29f
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu Oct 12 13:43:32 2006 +0000

    convert challenge/BT ID to lower case before hashing
    
    
    20061012134332-b59df-40b18555d21ca9d58e6268c05b0d9b835de8150e.gz

 src/gabble-register.c |   12 ++++++++++--
 1 files changed, 10 insertions(+), 2 deletions(-)

commit 198b7401866bec081ab093bab9c6aeba0be6cb3d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 11 21:37:22 2006 +0000

    merge conflicts between vcard and IVC branch
    
    
    20061011213722-418b8-f2f3dd31ef951081eb83f8d7ce0d76ddd0755221.gz

commit dc4424eae2901ff4aa367b4d1a448df2a27f5b83
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 11 21:21:41 2006 +0000

    GabbleConnection: resolve conflicts merging roomlist and IVC branches
    
    
    20061011212141-418b8-c95b5a4eb371c12cc14ce14ae0acaf6e5bb48ca5.gz

commit e3fb7b2015325284b9b5de1e8133e15287eccb91
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Oct 2 17:31:12 2006 +0000

    Move IV namespace to namespaces.h, replace placeholder namespace with the one agreed with Nokia
    
    
    20061002173112-53eee-7fecfc5419ac8a314712acf7d3c25caef1e0ee16.gz

 src/gabble-register.c |    3 ---
 src/namespaces.h      |    1 +
 2 files changed, 1 insertions(+), 3 deletions(-)

commit 198c01e57e297e319f7aba823721d5e49aaf2a80
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 28 15:44:14 2006 +0000

    Use sprintf() to hexify MD5, rather than implementing it ourselves
    
    
    20060928154414-53eee-104d83e0424da8ddbf5122ad83fe0f775bc0edbb.gz

 src/gabble-register.c |    6 ++----
 1 files changed, 2 insertions(+), 4 deletions(-)

commit 34abb581f22251a40b0869a57c3dc4d05f8de777
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 28 15:42:12 2006 +0000

    Stop trying to make IVC mechanism generic. Rename authidentity to mac, auth-secret to btid, and drop auth-type
    
    
    20060928154212-53eee-5825e936058ad7f5d0509611eb0d824c0ad10037.gz

 src/gabble-connection-manager.c |   30 +++++++----------
 src/gabble-connection.c         |   66 +++++++++++++--------------------------
 src/gabble-register.c           |   24 +++++++-------
 3 files changed, 46 insertions(+), 74 deletions(-)

commit 1009c1394ec5da829d29a1dbffad99291c887ac3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 21 18:06:02 2006 +0000

    gabble-register.c: Implement Nokia IV authorisation mechanism
    
    
    20060921180602-53eee-544e863217841e583b0ab30796d94884902b27dc.gz

 src/gabble-register.c |  187 ++++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 186 insertions(+), 1 deletions(-)

commit 896942d1e8efeafd2a6b81e9744f663f05dfa690
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 21 17:45:01 2006 +0000

    src/gabble-connection.c, src/gabble-connection-manager.c: Add auth_identity, auth_secret, auth_type
    
    
    20060921174501-53eee-d4bff13d81d25eb8f21a0436bb35eaf0694bceb1.gz

 src/gabble-connection-manager.c |   18 ++++++++++
 src/gabble-connection.c         |   68 ++++++++++++++++++++++++++++++++++++++-
 2 files changed, 85 insertions(+), 1 deletions(-)

commit 23ef10def9f0fd261ccb1aff757dfd23e793fdae
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 21 17:21:18 2006 +0000

    COPYING, AUTHORS: credit L. Peter Deutsch for libmd5-rfc and include its license
    
    Also add myself to AUTHORS
    
    20060921172118-53eee-dc6c619c52eb28d52665649a4188618b9e1dd947.gz

 AUTHORS |    6 ------
 COPYING |   41 +----------------------------------------
 2 files changed, 1 insertions(+), 46 deletions(-)

commit 2f4763ccd6b0b0025463eb50439b633791de10fe
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 21 17:20:48 2006 +0000

    _boring: in Darcs, also ignore .lo files
    
    
    20060921172048-53eee-6fab48a9fdf35fd42cdf4358559dedf7db4d4059.gz

 _boring |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 890ad3aa7bcee40d87ae294b0b9d01ceaaf6b0e3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 21 17:08:20 2006 +0000

    Add libmd5-rfc (BSD licensed, from the Sourceforge project of the same name)
    
    
    20060921170820-53eee-4e68ff2fc53d24107cae3a47ee093710a929f8df.gz

 src/Makefile.am               |    5 +-
 src/libmd5-rfc/md5.c          |  381 +++++++++++++++++++++++++++++++++++++++++
 src/libmd5-rfc/md5.h          |   91 ++++++++++
 src/libmd5-rfc/md5main.c      |  139 +++++++++++++++
 4 files changed, 614 insertions(+), 2 deletions(-)

commit 96c08d4fc49fe0f87d2baa984312cfc8a9fcbf41
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 18 14:54:15 2007 +0000

    Move responsibility for get_protocol, get_self_handle and protocol property from GabbleConnection to TpBaseConnection
    
    
    20070118145415-53eee-aef562ad5eee7ae3467739dfa5f40e76646f06c1.gz

 lib/base-connection.c                |  130 ++++++++++++++++++++++++++++++++-
 lib/signals-marshal.list             |    6 ++
 lib/telepathy-glib/base-connection.h |    6 +-
 src/gabble-connection.c              |   58 +--------------
 4 files changed, 140 insertions(+), 60 deletions(-)

commit cd0a838c79ea94a16c6695db60602fd18c2fed3e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jan 17 15:41:47 2007 +0000

    Connections inherit their CM name from the ConnectionManager. Move _gabble_connection_manager_register to tp_base_connection_manager_register (and make it return boolean because libraries shouldn't call exit()).
    
    
    20070117154147-53eee-50ab8b77e93664638f5b209398aa57dda3ff0a0d.gz

 lib/base-connection-manager.c                |   53 ++++++++++++++++++++++++-
 lib/base-connection.c                        |   14 +++---
 lib/telepathy-glib/base-connection-manager.h |    5 ++-
 lib/telepathy-glib/base-connection.h         |    5 +-
 src/gabble-connection-manager.c              |   34 +---------------
 src/gabble-connection-manager.h              |    2 -
 src/gabble-connection.c                      |    1 -
 src/gabble.c                                 |    5 ++-
 8 files changed, 69 insertions(+), 50 deletions(-)

commit 4c3c46886c0768c61812c758592bccdfc95b19da
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 30 10:41:33 2007 +0000

    Merge extraction of BaseConnection superclass with vCard cache changes
    
    
    20070130104133-53eee-47d3d1ee7ca1ca1a5048ac5837734bc741e50185.gz

 src/gabble-connection.c |   29 +++++++++++++----------------
 src/vcard-manager.c     |    6 +++---
 2 files changed, 16 insertions(+), 19 deletions(-)

commit 099e70eb73a04d8d9e97ab37d55e7b533f09943c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 15 20:00:55 2007 +0000

    GabbleConnectionManager, TpBaseConnectionManager: extract connections hash table into superclass
    
    
    20070115200055-53eee-10c411845aa96fba0265ea573b71260e9335c818.gz

 lib/base-connection-manager.c                |  123 ++++++++++++++++-
 lib/signals-marshal.list                     |    1 +
 lib/telepathy-glib/base-connection-manager.h |    9 ++
 src/gabble-connection-manager.c              |  200 +++++---------------------
 4 files changed, 171 insertions(+), 162 deletions(-)

commit 5186661a89d691164dab77e11afcb14b72f946a2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 15 19:57:48 2007 +0000

    TpBaseConnection, GabbleConnection: adjust initialization order so the resulting class actually works. Also remove duplicate properties mixin that would have caused much confusion
    
    
    20070115195748-53eee-e2908616d2f10cca3d3bd562cd8c84717f7cc582.gz

 lib/base-connection.c   |   99 ++++++++++++++++++++++++++++++----------------
 lib/handle-set.c        |    5 ++-
 src/gabble-connection.c |   45 ++++++++++++++++-----
 src/gabble-connection.h |    2 -
 4 files changed, 102 insertions(+), 49 deletions(-)

commit 4593aa5d0a4816a5e35c229f972c632da8b3f333
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 15 13:58:42 2007 +0000

    Extract superclass TpBaseConnectionManager (no functionality yet)
    
    
    20070115135842-53eee-5d9ab7865d986d2ab93a8292e87774aea8a25ee1.gz

 lib/Makefile.am                              |    2 +
 lib/base-connection-manager.c                |   82 ++++++++++++++++++++++++++
 lib/telepathy-glib/base-connection-manager.h |   61 +++++++++++++++++++
 src/gabble-connection-manager.c              |    2 +-
 src/gabble-connection-manager.h              |    5 +-
 5 files changed, 149 insertions(+), 3 deletions(-)

commit 07ad5d6c681924ca48384ca38cd7bfc43f60dd18
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 15 13:57:27 2007 +0000

    Oops, actually add extracted superclass TpBaseConnection to darcs repo
    
    
    20070115135727-53eee-0f67c9730941c9965054e9c60f7cc40fddc6b5ed.gz

 lib/base-connection.c                |  922 ++++++++++++++++++++++++++++++++++
 lib/telepathy-glib/base-connection.h |  114 +++++
 2 files changed, 1036 insertions(+), 0 deletions(-)

commit 24cdfd8efccd452dca89818e945e9531ab377466
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 12 19:41:03 2007 +0000

    Extract superclass TpBaseConnection from GabbleConnection
    
    
    20070112194103-53eee-d25eb3b3d3f9a876c6e8eec5d40cb6aa8ac5f195.gz

 lib/Makefile.am                 |    2 +
 lib/debug.c                     |    1 +
 lib/debug.h                     |    1 +
 lib/signals-marshal.list        |    1 +
 src/gabble-connection-manager.c |    3 +-
 src/gabble-connection.c         |  892 +++++++--------------------------------
 src/gabble-connection.h         |   24 +-
 src/gabble-im-channel.c         |    8 +-
 src/gabble-media-channel.c      |   10 +-
 src/gabble-media-session.c      |    8 +-
 src/gabble-muc-channel.c        |   18 +-
 src/gabble-presence-cache.c     |   22 +-
 src/gabble-roomlist-channel.c   |    4 +-
 src/gabble-roster-channel.c     |   18 +-
 src/handles.c                   |    7 -
 src/im-factory.c                |    7 +-
 src/jingle-info.c               |    4 +-
 src/media-factory.c             |   10 +-
 src/muc-factory.c               |   30 +-
 src/roster.c                    |   82 ++--
 src/util.c                      |    2 +-
 src/vcard-manager.c             |   36 +-
 tests/test-handles.c            |    4 +
 23 files changed, 297 insertions(+), 897 deletions(-)

commit ebb768b9ab0354cf249a246aafc1e5dc7146f83b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jan 10 17:29:32 2007 +0000

    Use tp_escape_as_identifier instead of g_strcanon to avoid name collisions in pathological cases (e.g. if we try to connect as both a.b@jabber.org and a_b@jabber.org)
    
    
    20070110172932-53eee-edf353946b920c1e57e107bdb323f624ad64a9ad.gz

 src/gabble-connection.c |   18 ++++++++----------
 1 files changed, 8 insertions(+), 10 deletions(-)

commit 0e6e4a6ae6b60f92cc837eccbe3702f8b8cd1c5f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Jan 10 17:25:52 2007 +0000

    Move _gabble_roster_make_object_path to lib as tp_escape_as_identifier
    
    
    20070110172552-53eee-71edc8dca49c1411168cc191d5864f290fb17df7.gz

 lib/telepathy-glib/util.h |    2 +
 lib/util.c                |   74 +++++++++++++++++++++++++++++++++++++++++++++
 src/roster.c              |   38 +----------------------
 3 files changed, 77 insertions(+), 37 deletions(-)

commit 61b1d1ffad49b30a37e36192fe3ef7740e7e1a9c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Jan 31 13:12:12 2007 +0000

    add missing time.h to vcard-manager.c (2nd try; if you already think you have this patch, discard your checkout and do a fresh pull)
    
    
    20070131131212-418b8-c15621b41827364fd6adee1c0f60393475a6567a.gz

 src/vcard-manager.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit a2906b407a9934cbc5fe0a1c83e8799c21aec7db
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 29 20:05:35 2007 +0000

    Merge renaming of helpers.h with vCard caching
    
    
    20070129200535-53eee-eb76cdeef0a00080e7090384febfd006325bc43f.gz

 src/vcard-manager.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 4ca8183fcd4ca10c2422d6dcce7a6cf927550333
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 8 16:49:56 2007 +0000

    Rename lib/helpers.c to lib/dbus.c since that's now all it does
    
    
    20070108164956-53eee-164c03c12f4d991d33c98d162c6a736665380f50.gz

 lib/Makefile.am                 |    4 +-
 lib/dbus.c                      |   65 +++++++++++++++++++++++++++++++++++++++
 lib/handle-repo-dynamic.c       |    2 +-
 lib/helpers.c                   |   65 ---------------------------------------
 lib/telepathy-glib/dbus.h       |   37 ++++++++++++++++++++++
 lib/telepathy-glib/helpers.h    |   36 ---------------------
 src/disco.c                     |    2 +-
 src/gabble-connection-manager.c |    3 +-
 src/gabble-connection.c         |    2 +-
 src/gabble-im-channel.c         |    2 +-
 src/gabble-media-channel.c      |    2 +-
 src/gabble-media-session.c      |    2 +-
 src/gabble-media-stream.c       |    2 +-
 src/gabble-muc-channel.c        |    2 +-
 src/gabble-register.c           |    2 +-
 src/gabble-roomlist-channel.c   |    2 +-
 src/gabble-roster-channel.c     |    2 +-
 src/handles.c                   |    2 -
 src/vcard-manager.c             |    7 +---
 19 files changed, 117 insertions(+), 124 deletions(-)

commit 364dd87bd7cdffc51c9178767883e5e0b90bb8c0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 8 16:33:03 2007 +0000

    Remove key-value list functions (not actually used anywhere)
    
    
    20070108163303-53eee-cc5eb87d185954d0f24539a99855b0a9661fc966.gz

 lib/helpers.c                |   37 -------------------------------------
 lib/telepathy-glib/helpers.h |    8 --------
 2 files changed, 0 insertions(+), 45 deletions(-)

commit c6a321803f04fb82e4d9b1844e4fbfac5682d011
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 8 16:27:31 2007 +0000

    Rename _tp_text_mixin_send_error_signal to tp_text_mixin_emit_send_error
    
    
    20070108162731-53eee-91b6aa257d668079654c5d6cec2ad6bd4dc64514.gz

 lib/telepathy-glib/text-mixin.h |    2 +-
 lib/text-mixin.c                |   10 +++++-----
 src/im-factory.c                |    2 +-
 src/muc-factory.c               |    2 +-
 4 files changed, 8 insertions(+), 8 deletions(-)

commit 9b36cee971bbe4660f840ef211d5cf9b8f02a002
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 8 16:21:00 2007 +0000

    Move text mixin to lib (apart from Gabble-specific bits)
    
    
    20070108162100-53eee-bff232533668fc843a3f679df4ba1acbc79040f6.gz

 lib/Makefile.am                 |    2 +
 lib/debug.h                     |    1 +
 lib/signals-marshal.list        |    7 +-
 lib/telepathy-glib/text-mixin.h |   83 ++++++
 lib/text-mixin.c                |  547 +++++++++++++++++++++++++++++++++++++++
 src/gabble-im-channel.c         |    1 +
 src/gabble-im-channel.h         |    3 +-
 src/gabble-muc-channel.c        |    1 +
 src/gabble-muc-channel.h        |    2 +-
 src/im-factory.c                |    4 +-
 src/muc-factory.c               |    4 +-
 src/text-mixin.c                |  525 +-------------------------------------
 src/text-mixin.h                |   52 +----
 13 files changed, 652 insertions(+), 580 deletions(-)

commit 763763993f8c8b61338d2dcf0688c4fdfc4c113d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 8 15:58:22 2007 +0000

    Start to make text mixin non-Gabble-specific
    
    
    20070108155822-53eee-00e7e6fbd37146b084c5e0e34a9b8445a50bad3a.gz

 src/gabble-im-channel.c  |   16 ++--
 src/gabble-im-channel.h  |    4 +-
 src/gabble-muc-channel.c |   24 +++---
 src/gabble-muc-channel.h |    4 +-
 src/im-factory.c         |    8 +-
 src/muc-factory.c        |    8 +-
 src/text-mixin.c         |  199 +++++++++++++++++++++++-----------------------
 src/text-mixin.h         |   61 ++++++--------
 8 files changed, 158 insertions(+), 166 deletions(-)

commit 63c44dae4095975aef5d45d38b89c8e8f909c37c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 8 15:24:39 2007 +0000

    Use better-namespaced quarks in properties-mixin and group-mixin
    
    
    20070108152439-53eee-2bfc837547dcdb83f029628e9cd37562262cbee3.gz

 lib/group-mixin.c      |    4 ++--
 lib/properties-mixin.c |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit a8d420443dd1da23a25ba40085b8f8299e04f894
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 29 19:56:22 2007 +0000

    Merge abolition of gabble_handle_ref with the vCard cache
    
    
    20070129195622-53eee-e14062dd74127dda241d88401b950fe9964168b4.gz

 src/vcard-manager.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit 5f8f812660599d1fc501bb2e6d51fd04f42e8199
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 8 14:59:06 2007 +0000

    Remove the GabbleHandleRepo type completely - just use an array of TpHandleRepoIface* directly.
    
    
    20070108145906-53eee-ffc032df8c2318b16a59b3c17c294e05aace60cb.gz

 lib/errors.c                     |   14 +++++
 lib/telepathy-glib/errors.h      |    3 +
 lib/telepathy-glib/handle-repo.h |   24 +++++++++
 lib/telepathy-glib/handle.h      |   26 +++++-----
 src/gabble-connection.c          |   37 +++++---------
 src/gabble-connection.h          |    1 -
 src/gabble-roster-channel.c      |    3 -
 src/gabble-types.h               |    1 -
 src/handles.c                    |  101 ++++---------------------------------
 src/handles.h                    |    9 +---
 tests/test-handles.c             |   22 +++++---
 11 files changed, 93 insertions(+), 148 deletions(-)

commit 6d358229de024a79b20976a279218178bb88b671
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 8 13:45:09 2007 +0000

    Remove gabble_handle_client_release, _hold in favour of the corresponding tp_ functions
    
    
    20070108134509-53eee-4094c493f2c14961e8677e21db748f057f925adb.gz

 src/gabble-connection.c |   24 +++++++++--------
 src/handles.c           |   66 -----------------------------------------------
 src/handles.h           |    4 ---
 tests/test-handles.c    |    4 +-
 4 files changed, 15 insertions(+), 83 deletions(-)

commit 30477e3bab59a26b90f87b0c0d226e5c23278297
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 8 13:27:59 2007 +0000

    TpStaticHandleRepo: support qdata properly
    
    
    20070108132759-53eee-f0ceb6c2c20386b56606e181afe7aa423fff7e44.gz

 lib/handle-repo-static.c |   55 +++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 54 insertions(+), 1 deletions(-)

commit 03eccc0179e3ec7e7bce8fc5e93b8073712a26e8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 8 13:23:53 2007 +0000

    TpStaticHandleRepo: don't assert that inspected handles exist, just return NULL if not
    
    
    20070108132353-53eee-3d0dcb39012cab38f0f79c9732c0e217e1090a84.gz

 lib/handle-repo-static.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 12dc626630c6d313e4efae954f132946ca23bd28
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 8 13:10:00 2007 +0000

    Move qdata get/set to base handle repo interface (static implementation still only implements stubs which always fail, though)
    
    
    20070108131000-53eee-59cedf3d1c4df8bc3d0584c41821c5b93bc46a15.gz

 lib/handle-repo-dynamic.c        |   12 ++++++---
 lib/handle-repo-static.c         |   16 ++++++++++++
 lib/handle-repo.c                |   39 ++++++++++++++++++++++++++++++
 lib/telepathy-glib/handle-repo.h |   10 +++++++
 src/handles.c                    |   49 --------------------------------------
 src/handles.h                    |    6 ----
 src/vcard-manager.c              |   37 +++++++++++-----------------
 7 files changed, 87 insertions(+), 82 deletions(-)

commit be9023f69fab30e9f532c9de8a9317a034e6f12e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 8 13:06:54 2007 +0000

    Get rid of handle_set_new wrapper function
    
    
    20070108130654-53eee-76464c6cf6264c853de70a3a2d81e4f322d5444a.gz

 src/gabble-presence-cache.c   |    3 ++-
 src/gabble-roomlist-channel.c |    3 ++-
 src/handles.c                 |    6 ------
 src/handles.h                 |    1 -
 4 files changed, 4 insertions(+), 9 deletions(-)

commit 7ae4183f737337d10d892b02e6c330ea654e0008
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 8 13:04:13 2007 +0000

    roster.c: Stop using handle_set_new in favour of tp_handle_set_new
    
    
    20070108130413-53eee-82df0edce943fa56dc532b903f2959a586e5bc6b.gz

 src/roster.c |   16 ++++++++--------
 1 files changed, 8 insertions(+), 8 deletions(-)

commit e36ddc14e96ddce85427062f1f223535e903050e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 8 12:46:51 2007 +0000

    Change gabble_handle_for_contact, etc. to take the appropriate TpHandleRepoIface*. Remove gabble_handle_unref etc. in favour of the tp_ _ versions.
    
    
    20070108124651-53eee-3c66f4e002b4d7115f24ece948febcd3517fa443.gz

 src/gabble-connection.c       |   20 +++++++-----
 src/gabble-muc-channel.c      |   17 +++++-----
 src/gabble-presence-cache.c   |    6 ++-
 src/gabble-roomlist-channel.c |    3 +-
 src/handles.c                 |   70 ++++++-----------------------------------
 src/handles.h                 |   10 ++----
 src/im-factory.c              |    3 +-
 src/media-factory.c           |    3 +-
 src/muc-factory.c             |   36 +++++++++++++-------
 src/roster.c                  |    9 +++--
 tests/test-handles.c          |   20 ++++++-----
 11 files changed, 84 insertions(+), 113 deletions(-)

commit c1b16adcbac200b3115638d6e46bf85bef24d716
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 8 12:19:37 2007 +0000

    Remove gabble_handle_for_group, gabble_handle_for_list (just use tp_handle_request)
    
    
    20070108121937-53eee-02bd2bafed2cffd53106ee2b7f9cea0f5ee5fb0c.gz

 src/gabble-connection.c |    6 ++----
 src/handles.c           |   25 -------------------------
 src/handles.h           |    2 --
 src/roster.c            |    5 +++--
 tests/test-handles.c    |    8 ++++----
 5 files changed, 9 insertions(+), 37 deletions(-)

commit db868919aa0d5a46ed400701a83f22432b18ce97
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 8 12:07:57 2007 +0000

    Expose TpHandleRepoIface* array in GabbleConnection, convert most gabble_handle_* calls to tp_handle_*
    
    
    20070108120757-53eee-c33982013467a2b56de774efddd9536bde5d6082.gz

 src/gabble-connection.c     |   46 ++++++++++-------
 src/gabble-connection.h     |    2 +
 src/gabble-im-channel.c     |   13 +++--
 src/gabble-media-channel.c  |   13 ++---
 src/gabble-media-session.c  |    4 +-
 src/gabble-muc-channel.c    |   23 ++++----
 src/gabble-presence-cache.c |   31 ++++++-----
 src/gabble-roster-channel.c |   33 ++++++-----
 src/im-factory.c            |    3 +-
 src/jingle-info.c           |    3 +-
 src/muc-factory.c           |    3 +-
 src/roster.c                |  122 ++++++++++++++++++++++++------------------
 src/vcard-manager.c         |   16 +++---
 13 files changed, 174 insertions(+), 138 deletions(-)

commit 30de121024e92dcc94d972534a401414b092a221
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 8 11:14:06 2007 +0000

    Convert text mixin to use TpHandleRepoIface rather than GabbleHandleRepo
    
    
    20070108111406-53eee-9861fc2638ffe59518d1c433dd61b0d91e2af311.gz

 src/gabble-im-channel.c  |    4 +++-
 src/gabble-muc-channel.c |    3 ++-
 src/text-mixin.c         |   12 ++++++------
 src/text-mixin.h         |    4 ++--
 4 files changed, 13 insertions(+), 10 deletions(-)

commit 8d0f433632434effee7ba038d4470cb756ac5710
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 5 19:24:19 2007 +0000

    Replace TpError_PermissionDenied with TP_ERROR_PERMISSION_DENIED, etc.
    
    
    20070105192419-53eee-2ff92020fa2bb14a49aeb38cf49651627906eeb1.gz

 lib/Makefile.am                 |    2 +-
 lib/errors.c                    |    4 +-
 lib/group-mixin.c               |   12 ++++----
 lib/handle-repo-dynamic.c       |   10 +++---
 lib/handle-repo-static.c        |    2 +-
 lib/properties-mixin.c          |   12 ++++----
 lib/telepathy-glib/errors.h     |    4 +-
 lib/telepathy-glib/handle.h     |    2 +-
 src/gabble-connection-manager.c |   10 +++---
 src/gabble-connection.c         |   64 +++++++++++++++++++-------------------
 src/gabble-media-channel.c      |   16 +++++-----
 src/gabble-media-session.c      |   16 +++++-----
 src/gabble-media-stream.c       |    2 +-
 src/gabble-muc-channel.c        |   30 +++++++++---------
 src/gabble-register.c           |    8 ++--
 src/gabble-roster-channel.c     |    2 +-
 src/gabble.c                    |    4 +-
 src/handles.c                   |    8 ++--
 src/text-mixin.c                |    4 +-
 tests/test-handles.c            |    4 +-
 20 files changed, 108 insertions(+), 108 deletions(-)

commit 119360ffddc61f1208787aff81917e59da1a74ba
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 5 19:12:12 2007 +0000

    Regenerate telepathy-glib/_spec/ with new naming convention for errors
    
    
    20070105191212-53eee-3775e131060f5f1f7a21a83b1b138cf3cfb2a170.gz

 lib/telepathy-glib/_spec/telepathy-enums.h      |    4 +-
 lib/telepathy-glib/_spec/telepathy-errors.h     |   26 +++++++++++-----------
 lib/telepathy-glib/_spec/telepathy-interfaces.h |    4 +-
 3 files changed, 17 insertions(+), 17 deletions(-)

commit b08263fd4059a01bcd405897cb8830237b0cfe35
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 29 19:40:54 2007 +0000

    Merge absence of tp- prefix on headers with the vCard cache branch
    
    
    20070129194054-53eee-5fcbf558c857aa44f1ecccdf6bc38cebe7bc5d2b.gz

 src/vcard-manager.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d684f437d4f56eb17eb2362316099bfd7c7fb58b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 5 18:42:25 2007 +0000

    Remove tp- prefix from header files: it serves no namespacing purpose and gets in the way of tab completion
    
    
    20070105184225-53eee-435ffc2541aac8c8346a1c8efe1de2f1ade296d8.gz

 lib/Makefile.am                               |   32 +++---
 lib/channel-factory-iface.c                   |  121 +++++++++++++++++++++++
 lib/channel-iface.c                           |  100 +++++++++++++++++++
 lib/debug.c                                   |    2 +-
 lib/debug.h                                   |    2 +-
 lib/errors.c                                  |    2 +-
 lib/group-mixin.c                             |    4 +-
 lib/handle-repo-dynamic.c                     |    6 +-
 lib/handle-repo-static.c                      |    2 +-
 lib/handle-repo.c                             |    2 +-
 lib/handle-set.c                              |    4 +-
 lib/heap.c                                    |    2 +-
 lib/helpers.c                                 |    2 +-
 lib/intset.c                                  |    2 +-
 lib/properties-mixin.c                        |    4 +-
 lib/telepathy-glib/channel-factory-iface.h    |   88 +++++++++++++++++
 lib/telepathy-glib/channel-iface.h            |   63 ++++++++++++
 lib/telepathy-glib/debug-ansi.h               |   26 +++++
 lib/telepathy-glib/debug.h                    |   13 +++
 lib/telepathy-glib/enums.h                    |    6 +
 lib/telepathy-glib/errors.h                   |   36 +++++++
 lib/telepathy-glib/group-mixin.h              |    2 +-
 lib/telepathy-glib/handle-repo-dynamic.h      |   60 ++++++++++++
 lib/telepathy-glib/handle-repo-static.h       |   56 +++++++++++
 lib/telepathy-glib/handle-repo.h              |  129 +++++++++++++++++++++++++
 lib/telepathy-glib/handle.h                   |   54 ++++++++++
 lib/telepathy-glib/heap.h                     |   41 ++++++++
 lib/telepathy-glib/helpers.h                  |   44 +++++++++
 lib/telepathy-glib/interfaces.h               |    6 +
 lib/telepathy-glib/intset.h                   |   55 +++++++++++
 lib/telepathy-glib/properties-mixin.h         |    2 +-
 lib/telepathy-glib/tp-channel-factory-iface.h |   88 -----------------
 lib/telepathy-glib/tp-channel-iface.h         |   63 ------------
 lib/telepathy-glib/tp-debug-ansi.h            |   26 -----
 lib/telepathy-glib/tp-debug.h                 |   13 ---
 lib/telepathy-glib/tp-enums.h                 |    6 -
 lib/telepathy-glib/tp-errors.h                |   36 -------
 lib/telepathy-glib/tp-handle-repo-dynamic.h   |   60 ------------
 lib/telepathy-glib/tp-handle-repo-static.h    |   56 -----------
 lib/telepathy-glib/tp-handle-repo.h           |  129 -------------------------
 lib/telepathy-glib/tp-handle.h                |   54 ----------
 lib/telepathy-glib/tp-heap.h                  |   41 --------
 lib/telepathy-glib/tp-helpers.h               |   44 ---------
 lib/telepathy-glib/tp-interfaces.h            |    6 -
 lib/telepathy-glib/tp-intset.h                |   55 -----------
 lib/tp-channel-factory-iface.c                |  121 -----------------------
 lib/tp-channel-iface.c                        |  100 -------------------
 src/capabilities.c                            |    2 +-
 src/debug.c                                   |    2 +-
 src/disco.c                                   |    2 +-
 src/gabble-connection-manager.c               |    6 +-
 src/gabble-connection.c                       |   12 +-
 src/gabble-connection.h                       |    2 +-
 src/gabble-im-channel.c                       |   10 +-
 src/gabble-im-channel.h                       |    2 +-
 src/gabble-media-channel.c                    |    8 +-
 src/gabble-media-session.c                    |    6 +-
 src/gabble-media-session.h                    |    2 +-
 src/gabble-media-stream.c                     |    8 +-
 src/gabble-media-stream.h                     |    2 +-
 src/gabble-muc-channel.c                      |   10 +-
 src/gabble-presence-cache.c                   |    2 +-
 src/gabble-register.c                         |    4 +-
 src/gabble-roomlist-channel.c                 |    8 +-
 src/gabble-roster-channel.c                   |    8 +-
 src/gabble-roster-channel.h                   |    2 +-
 src/gabble-types.h                            |    2 +-
 src/gabble.c                                  |    4 +-
 src/handles.c                                 |   12 +-
 src/handles.h                                 |    4 +-
 src/im-factory.c                              |    4 +-
 src/media-factory.c                           |    4 +-
 src/muc-factory.c                             |    4 +-
 src/roster.c                                  |    4 +-
 src/text-mixin.c                              |    4 +-
 src/vcard-manager.c                           |    2 +-
 src/write-mgr-file.c                          |    2 +-
 tests/test-handle-set.c                       |   12 +-
 tests/test-handles.c                          |    6 +-
 tests/test-heap.c                             |    4 +-
 tests/test-intset.c                           |    2 +-
 81 files changed, 1017 insertions(+), 1017 deletions(-)

commit e012a1aa94e11a018398273ab919d39cb878d380
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 5 18:16:52 2007 +0000

    Coalesce lib/*.list into lib/signals-marshal.list
    
    
    20070105181652-53eee-40590c0bb2ac7e93850ce112d532b62b79cae0c9.gz

 lib/Makefile.am                                   |   20 +++++++-------------
 lib/group-mixin-signals-marshal.list              |    2 --
 lib/group-mixin.c                                 |    7 ++++---
 lib/properties-mixin.c                            |    1 -
 lib/signals-marshal.list                          |    3 +++
 lib/tp-channel-factory-iface-signals-marshal.list |    1 -
 lib/tp-channel-factory-iface.c                    |    5 +++--
 7 files changed, 17 insertions(+), 22 deletions(-)

commit bac17f3dffb1889d16d0905bac95da8ef4bf818f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 5 18:00:35 2007 +0000

    Remove ansi.h from src/Makefile.am (no longer exists)
    
    
    20070105180035-53eee-28ce51f5147694233cb3750a2a7a25dcc6f5e243.gz

 src/Makefile.am |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 785f86b1af6d019af02e5dc7ea3822901f5949e4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 5 17:53:20 2007 +0000

    Move group, properties mixin to lib. Amend text mixin for rename of gabble_mixin_offset_cast
    
    
    20070105175320-53eee-01b2c37f14791cc3cbdb2d63e73e76e310102a4d.gz

 lib/Makefile.am                           |   10 +
 lib/group-mixin-signals-marshal.list      |    2 +
 lib/group-mixin.c                         |  746 ++++++++++++++++++++++++++
 lib/properties-mixin.c                    |  813 +++++++++++++++++++++++++++++
 lib/telepathy-glib/group-mixin.h          |   96 ++++
 lib/telepathy-glib/properties-mixin.h     |  134 +++++
 src/Makefile.am                           |   10 -
 src/gabble-connection.c                   |   26 +-
 src/gabble-connection.h                   |    6 +-
 src/gabble-media-channel.c                |   66 ++--
 src/gabble-media-channel.h                |    7 +-
 src/gabble-muc-channel.c                  |  185 ++++----
 src/gabble-muc-channel.h                  |   12 +-
 src/gabble-roster-channel.c               |   43 +-
 src/gabble-roster-channel.h               |    6 +-
 src/group-mixin-signals-marshal.list      |    2 -
 src/group-mixin.c                         |  762 ---------------------------
 src/group-mixin.h                         |   96 ----
 src/handles.c                             |   12 +-
 src/handles.h                             |    2 +
 src/jingle-info.c                         |    1 +
 src/properties-mixin.c                    |  813 -----------------------------
 src/properties-mixin.h                    |  134 -----
 src/roster.c                              |   19 +-
 src/text-mixin.h                          |    4 +-
 src/vcard-manager.c                       |    1 +
 26 files changed, 2005 insertions(+), 2003 deletions(-)

commit 955511551d846826c0b757a936fc49727b48a0af
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 5 17:12:26 2007 +0000

    Call _tp_debug instead of nonexistent tp_debug
    
    
    20070105171226-53eee-b227edd791398e2a58682253b70863cbc92ae604.gz

 lib/debug.h |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 476ed56787de15a87721a59b04cd7358c53f6cee
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 5 16:59:07 2007 +0000

    util.[ch]: move g_strdiff, gabble_mixin_offset_cast to lbi as tp_strdiff, tp_mixin_offset_cast
    
    
    20070105165907-53eee-6f4d14afc0fcecd9d51543dd03e1d0dbb2bbb61d.gz

 lib/Makefile.am             |    6 +++-
 lib/telepathy-glib/util.h   |   32 +++++++++++++++++++++++++++++
 lib/util.c                  |   47 +++++++++++++++++++++++++++++++++++++++++++
 src/disco.c                 |    4 +-
 src/gabble-connection.c     |   12 +++++-----
 src/gabble-media-session.c  |   16 +++++++-------
 src/gabble-media-stream.c   |    4 +-
 src/gabble-muc-channel.c    |    2 +-
 src/gabble-presence-cache.c |    6 ++--
 src/gabble-presence.c       |    8 +++---
 src/media-factory.c         |    4 +-
 src/muc-factory.c           |    2 +-
 src/roster.c                |   14 ++++++------
 src/util.c                  |   30 ++------------------------
 src/util.h                  |   10 +++-----
 15 files changed, 126 insertions(+), 71 deletions(-)

commit a5c34f8f7d243d7cceeddcc5c2e2fe5b8c1f810b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 5 15:53:09 2007 +0000

    Correct case of tp_intset_dump
    
    
    20070105155309-53eee-cd152028c30cb5275043a6c3ad7caf025546e3a8.gz

 lib/intset.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c26a462e6128427149e4e0b4df3c1fdfe91bac10
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 5 15:27:32 2007 +0000

    Move/copy debug infrastructure to lib
    
    
    20070105152732-53eee-fde663dafc1d082b5a55fd90309de4b54465cbfa.gz

 lib/Makefile.am                    |    4 ++
 lib/debug.c                        |   75 ++++++++++++++++++++++++++++++++++++
 lib/debug.h                        |   50 ++++++++++++++++++++++++
 lib/telepathy-glib/tp-debug-ansi.h |   26 ++++++++++++
 lib/telepathy-glib/tp-debug.h      |   13 ++++++
 src/ansi.h                         |   24 -----------
 src/debug.c                        |   14 +++++--
 src/debug.h                        |    4 +-
 src/gabble-media-channel.c         |    1 -
 src/gabble-media-session.c         |   32 ++++++++--------
 src/gabble-media-stream.c          |   14 +++---
 src/gabble-muc-channel.c           |    6 +-
 src/gabble.c                       |    6 ++-
 src/group-mixin.c                  |   18 ++++----
 src/properties-mixin.c             |   14 +++---
 15 files changed, 227 insertions(+), 74 deletions(-)

commit 58ca669717f1df220333a2cb25a4e0c240b8071e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 5 14:05:10 2007 +0000

    intset.c: add copyright notices
    
    
    20070105140510-53eee-61ea0f2bba16924a1ebd5beb982345fb1833eec5.gz

 lib/intset.c                   |    3 +++
 lib/telepathy-glib/tp-intset.h |    3 +++
 2 files changed, 6 insertions(+), 0 deletions(-)

commit 493a6a775e9629de4393f673b20760954e3644d5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 5 14:02:21 2007 +0000

    handle-repo*.c: add Nokia copyright notice
    
    
    20070105140221-53eee-aa8c520f8592fcdc5f20b8cb25d15686f30b2771.gz

 lib/handle-repo-dynamic.c |    3 ++-
 lib/handle-repo-static.c  |    3 ++-
 lib/handle-repo.c         |    3 ++-
 3 files changed, 6 insertions(+), 3 deletions(-)

commit 3be7340a4bf875ef3280b07c7d2de3ad4ec5fb22
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 4 20:30:02 2007 +0000

    Move handle set to lib. Define handle repository interface, TpHandleRepoIface,
    
    which only holds one handle type. Implement GabbleHandleRepo as an array of
    TpHandleRepoIface; split actual repository code into TpStaticHandleRepo (for
    lists) and TpDynamicHandleRepo (for the rest).
    
    20070104203002-53eee-35bda2d8da99f38ec9c08efdb051df1b189c14a2.gz

 lib/Makefile.am                             |    7 +
 lib/handle-repo-dynamic.c                   |  616 ++++++++++++++++++++++
 lib/handle-repo-static.c                    |  241 +++++++++
 lib/handle-repo.c                           |  140 +++++
 lib/handle-set.c                            |  262 ++++++++++
 lib/telepathy-glib/tp-handle-repo-dynamic.h |   60 +++
 lib/telepathy-glib/tp-handle-repo-static.h  |   56 ++
 lib/telepathy-glib/tp-handle-repo.h         |  129 +++++
 lib/telepathy-glib/tp-helpers.h             |    1 +
 src/Makefile.am                             |    2 -
 src/gabble-connection.c                     |    1 -
 src/gabble-media-channel.c                  |    6 +-
 src/gabble-muc-channel.c                    |    8 +-
 src/gabble-presence-cache.c                 |   17 +-
 src/gabble-roomlist-channel.c               |   15 +-
 src/gabble-roster-channel.c                 |    3 +-
 src/group-mixin.c                           |   66 ++--
 src/group-mixin.h                           |    7 +-
 src/handle-set.c                            |  266 ----------
 src/handle-set.h                            |   53 --
 src/handles.c                               |  736 ++++-----------------------
 src/handles.h                               |    4 +
 src/properties-mixin.h                      |    1 -
 src/roster.c                                |   58 +-
 src/text-mixin.h                            |    1 -
 tests/test-handle-set.c                     |   53 +-
 tests/test-handles.c                        |    2 +-
 27 files changed, 1736 insertions(+), 1075 deletions(-)

commit faf9533bf5e1487519fda1f73d64d47306d9b535
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 29 20:40:01 2007 +0000

    bump version to 0.5.1.1
    
    
    20070129204001-418b8-b48b91fe01f2bd2bce206a3d067c00cdacb5b0f2.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 45429cf91c3d329465e2b7310d8a10b8d9f5437e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 29 20:13:30 2007 +0000

    bump version to 0.5.1
    
    
    20070129201330-418b8-fbda0248e89b2bda8e2bc04ad40d2f25eff2df6f.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit ab299df2fd2d7aab34beaf05005719813f691270
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 29 19:56:41 2007 +0000

    remove verbose debugging from the vCard cache code
    
    
    20070129195641-418b8-43656a54f0b4f2c8088e94bc344cd3e35ea1a084.gz

 src/vcard-manager.c |   16 ++--------------
 1 files changed, 2 insertions(+), 14 deletions(-)

commit 7a6db6223cac48f95031004d7cea39696608076c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 29 18:26:49 2007 +0000

    GabbleMucChannel: we support TP_CHANNEL_TEXT_MESSAGE_TYPE_NOTICE, so include it in the GetMessageTypes reply
    
    
    20070129182649-53eee-c16b991df8808a274a4d0da50e4a87905c7fbda0.gz

 src/gabble-muc-channel.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit c254b655c4378ce8286801e6e3d5bb8378a21046
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 18 19:21:17 2007 +0000

    Silently ignore attempts to change the handle type of channels whose handle type is fixed
    
    
    20070118192117-53eee-7710aa55aa6622e2e5f187388131269ca9f94a8f.gz

 src/gabble-im-channel.c       |    4 ++++
 src/gabble-media-channel.c    |    4 ++++
 src/gabble-muc-channel.c      |    4 ++++
 src/gabble-roomlist-channel.c |    4 ++++
 4 files changed, 16 insertions(+), 0 deletions(-)

commit 61423d88a0e93cd9211f171dfcc5535c4436ffe5
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Jan 23 08:25:32 2007 +0000

    GabbleVCardManager: set error if vcard request can't be sent
    
    
    20070123082532-01440-d306e49b5aab9556679c9fe301b34e04b4ec49ff.gz

 src/vcard-manager.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 47da548a068e74267bc00df428bf0bf1833583b8
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Jan 23 07:45:31 2007 +0000

    GabbleVCardManager: fixes and tweaks to the cache
    
    
    20070123074531-01440-61b1b6962c8a1ed34e08362c2a9aa4d66fd3e4f9.gz

 src/vcard-manager.c |   17 +++++++++++++----
 1 files changed, 13 insertions(+), 4 deletions(-)

commit 97111e06cdda83b9f6019515df26bc62c54e88b1
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Jan 24 08:56:52 2007 +0000

    GabbleVCardManager: cache reorganization
    
    
    20070124085652-01440-75b8c0d9756f65e2b182b9eccc89c3af7d7ecd1f.gz

 src/vcard-manager.c |  286 ++++++++++++++++++++++++++++++---------------------
 1 files changed, 169 insertions(+), 117 deletions(-)

commit d9e1c3c12e67335fc789743c088eec8b3fb15c5f
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Jan 23 06:23:07 2007 +0000

    GabbleVCardManager: simplifying the cache and removing some race conditions
    
    
    20070123062307-01440-c4603e906be4c9d716ddb26b16e04c89f14f2ba0.gz

 src/vcard-manager.c |   71 ++++++++++++++++++++++++--------------------------
 1 files changed, 34 insertions(+), 37 deletions(-)

commit 51abbd06b45e0d7dd526499458fc8ce53208fd74
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Jan 23 15:11:09 2007 +0000

    GabbleVCardManager: added vcard caching
    
    
    20070123151109-01440-0424f22d2ed8fff331a699284ac80ae856f18990.gz

 src/gabble-connection.c |   36 ++++-
 src/vcard-manager.c     |  367 ++++++++++++++++++++++++++++++++++++++---------
 src/vcard-manager.h     |    3 +
 3 files changed, 336 insertions(+), 70 deletions(-)

commit 6c7746b3dc38d3985c4f35cde4ebb4e22e438563
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Jan 23 15:04:27 2007 +0000

    TpHeap: added method for removing arbitrary element from the heap
    
    
    20070123150427-01440-9bafe4a09a46a0cdcf05358833f78b09ab575bcb.gz

 lib/heap.c                   |   36 ++++++++++++++++++++++++++++++++----
 lib/telepathy-glib/tp-heap.h |    1 +
 2 files changed, 33 insertions(+), 4 deletions(-)

commit fed86a5a96ea0027e920f56bec0d09caf9caea7e
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Wed Jan 24 13:03:29 2007 +0000

    Don't Add the message parameter in the PresenceUpdate signal if there is no status message
    
    
    20070124130329-93b9a-fdcae3a73d24711f582f4f16b9eb77baff0a3168.gz

 src/gabble-connection.c |   12 +++++++-----
 1 files changed, 7 insertions(+), 5 deletions(-)

commit 038cd6664dd7d7dba17c4ef2dc13e3627acaaa40
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 15 13:25:19 2007 +0000

    lib/Makefile.am: suppress install target, we don't actually want anything installed until telepathy-glib is stable
    
    
    20070115132519-53eee-49e7fe7d0fd6d7ad070762ca56fd247163d28a10.gz

 lib/Makefile.am |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit a19955d343c794a07c5dc40a5ef0e2c0b7fc9814
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Jan 5 18:25:15 2007 +0000

    Resolve conflict with daf in _boring
    
    
    20070105182515-53eee-ab812334330f58b670bfd481a76de28ad5990bfa.gz

 _boring |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit b004726121c309fa21939c2248ddae28a6ad920c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 4 20:00:15 2007 +0000

    Fix syntax of lib/Makefile.am
    
    
    20070104200015-53eee-b7d23baa8d49692056ffe8fb99ce514fd01e35cf.gz

 lib/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 81f0decefcae425af3824c60e04d0874df55aed3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 4 18:29:00 2007 +0000

    Move gabble_handle_type_is_valid to tp-handle.h.
    
    It has to be static inline so that its view of how many handle types there are
    matches that given by LAST_TP_HANDLE_TYPE when a connection manager is
    compiled, to avoid overflowing statically allocated arrays of length
    LAST_TP_HANDLE_TYPE+1.
    
    20070104182900-53eee-f4dcdccdf72a80bf5aa8ecbea4b314c731bd1026.gz

 lib/telepathy-glib/tp-handle.h |   31 ++++++++++++++++++++++++++-----
 src/gabble-connection.c        |    2 +-
 src/handles.c                  |   27 ++++-----------------------
 src/handles.h                  |    1 -
 4 files changed, 31 insertions(+), 30 deletions(-)

commit ae18cd2d64ef7f8a7f6703de91c8bf0fa95d95ab
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 4 18:20:14 2007 +0000

    Move tp-types.h to tp-handle.h
    
    
    20070104182014-53eee-8c2bae0d61c2a8e41ab90d7f1280066fb2c144c5.gz

 lib/Makefile.am                |    4 ++--
 lib/telepathy-glib/tp-handle.h |   33 +++++++++++++++++++++++++++++++++
 lib/telepathy-glib/tp-types.h  |   33 ---------------------------------
 src/gabble-types.h             |    2 +-
 4 files changed, 36 insertions(+), 36 deletions(-)

commit 951f39f835f7403cc4b1bf6e1d1051e27f5a1742
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 4 17:30:52 2007 +0000

    Move TpChannelFactoryIface to lib; add infrastructure for signals-marshal generation in lib
    
    
    20070104173052-53eee-6fe898e10777c6dbc03c64a242d8d2c281185336.gz

 lib/Makefile.am                                   |   21 +++-
 lib/telepathy-glib/tp-channel-factory-iface.h     |   88 +++++++++++++++
 lib/tp-channel-factory-iface-signals-marshal.list |    1 +
 lib/tp-channel-factory-iface.c                    |  120 +++++++++++++++++++++
 src/Makefile.am                                   |    9 +--
 src/gabble-connection.c                           |    2 +-
 src/im-factory.c                                  |    2 +-
 src/media-factory.c                               |    2 +-
 src/muc-factory.c                                 |    2 +-
 src/roster.c                                      |    2 +-
 src/tp-channel-factory-iface-signals-marshal.list |    1 -
 src/tp-channel-factory-iface.c                    |  120 ---------------------
 src/tp-channel-factory-iface.h                    |   88 ---------------
 13 files changed, 233 insertions(+), 225 deletions(-)

commit 10ebc6f9fa5a66a4180f86fb5264a7dfbe213067
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 4 17:20:02 2007 +0000

    Move TpChannelIface to lib
    
    
    20070104172002-53eee-b44889ab59cc5ebbf6e8a94fd13b1298dfe36400.gz

 lib/Makefile.am                       |    4 +-
 lib/telepathy-glib/tp-channel-iface.h |   63 +++++++++++++++++++++
 lib/tp-channel-iface.c                |  100 +++++++++++++++++++++++++++++++++
 src/Makefile.am                       |    2 -
 src/gabble-connection.c               |    2 +-
 src/gabble-im-channel.c               |    2 +-
 src/gabble-media-channel.c            |    2 +-
 src/gabble-muc-channel.c              |    2 +-
 src/gabble-roomlist-channel.c         |    2 +-
 src/gabble-roster-channel.c           |    2 +-
 src/tp-channel-factory-iface.c        |    2 +-
 src/tp-channel-factory-iface.h        |    2 +-
 src/tp-channel-iface.c                |  100 ---------------------------------
 src/tp-channel-iface.h                |   63 ---------------------
 14 files changed, 174 insertions(+), 174 deletions(-)

commit 8eb8572c57f596e6ecf2c2c9a7defa0f9bae30f6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 4 17:11:30 2007 +0000

    Move telepathy-helpers.[ch] to lib
    
    
    20070104171130-53eee-d2485f1f7052606155c1d4ba644b9bcf06aa9c5b.gz

 lib/Makefile.am                 |    2 +
 lib/helpers.c                   |  102 +++++++++++++++++++++++++++++++++++++++
 lib/telepathy-glib/tp-helpers.h |   43 ++++++++++++++++
 src/Makefile.am                 |    2 -
 src/disco.c                     |    2 +-
 src/gabble-connection-manager.c |    2 +-
 src/gabble-connection.c         |    2 +-
 src/gabble-im-channel.c         |    2 +-
 src/gabble-media-channel.c      |    2 +-
 src/gabble-media-session.c      |    2 +-
 src/gabble-media-stream.c       |    2 +-
 src/gabble-muc-channel.c        |    2 +-
 src/gabble-register.c           |    2 +-
 src/gabble-roomlist-channel.c   |    2 +-
 src/gabble-roster-channel.c     |    2 +-
 src/handles.c                   |    2 +-
 src/telepathy-helpers.c         |  102 ---------------------------------------
 src/telepathy-helpers.h         |   43 ----------------
 src/vcard-manager.c             |    2 +-
 19 files changed, 160 insertions(+), 160 deletions(-)

commit 87c93825159056deb95dc3dbb9515c3262bbea0c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 4 16:59:30 2007 +0000

    Remove telepathy-constants.h in favour of <telepathy-glib/tp-enums.h> in lib. Move definition of TP_CONNECTION_STATUS_NEW to gabble-connection.h and call it GABBLE_TP_CONNECTION_STATUS_NEW.
    
    
    20070104165930-53eee-568ae078841d779e4295dc856acc35821c6caf94.gz

 src/Makefile.am                 |    1 -
 src/gabble-connection-manager.c |    2 +-
 src/gabble-connection.c         |   16 ++++++++--------
 src/gabble-connection.h         |    6 ++++--
 src/gabble-im-channel.c         |    2 +-
 src/gabble-im-channel.h         |    2 +-
 src/gabble-media-session.h      |    2 +-
 src/gabble-media-stream.c       |    2 +-
 src/gabble-media-stream.h       |    2 +-
 src/gabble-roomlist-channel.c   |    2 +-
 src/handles.h                   |    2 +-
 src/telepathy-constants.h       |   29 -----------------------------
 src/text-mixin.c                |    2 +-
 src/tp-channel-factory-iface.h  |    2 +-
 src/write-mgr-file.c            |    2 +-
 tests/test-handle-set.c         |    2 +-
 tests/test-handles.c            |    2 +-
 17 files changed, 25 insertions(+), 53 deletions(-)

commit a1d2d16d67fe1c258ae6019079e23d387516c221
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 4 16:47:31 2007 +0000

    Move src/telepathy-errors.c to lib. Replace #includes of dummy headers telepathy-errors.h, telepathy-interfaces.h with the ones in lib, and delete the dummy headers
    
    
    20070104164731-53eee-94d2b553dcd5869f6a8d6f7f7b60c3059bf1d5a9.gz

 lib/Makefile.am                 |    1 +
 lib/errors.c                    |   31 +++++++++++++++++++++++++++++++
 src/Makefile.am                 |    3 ---
 src/capabilities.c              |    2 +-
 src/gabble-connection-manager.c |    2 +-
 src/gabble-connection.c         |    4 ++--
 src/gabble-im-channel.c         |    4 ++--
 src/gabble-media-channel.c      |    4 ++--
 src/gabble-media-session.c      |    2 +-
 src/gabble-media-stream.c       |    2 +-
 src/gabble-muc-channel.c        |    4 ++--
 src/gabble-register.c           |    2 +-
 src/gabble-roomlist-channel.c   |    2 +-
 src/gabble-roster-channel.c     |    4 ++--
 src/gabble.c                    |    2 +-
 src/group-mixin.c               |    2 +-
 src/handles.c                   |    2 +-
 src/im-factory.c                |    2 +-
 src/media-factory.c             |    2 +-
 src/muc-factory.c               |    2 +-
 src/properties-mixin.c          |    2 +-
 src/roster.c                    |    2 +-
 src/telepathy-errors.c          |   31 -------------------------------
 src/telepathy-errors.h          |    1 -
 src/telepathy-interfaces.h      |    1 -
 src/text-mixin.c                |    2 +-
 tests/test-handle-set.c         |    4 ++--
 tests/test-handles.c            |    4 ++--
 28 files changed, 61 insertions(+), 65 deletions(-)

commit 17e16b3f715d9fcacbe769c33e9fc51acf37bbb5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 4 16:33:02 2007 +0000

    Add TpError_ prefix to all uses of error enum names, and remove the compatibility #defines from telepathy-errors.h
    
    
    20070104163302-53eee-01d807eca4c164fcc0d12e1bf4b1bb11a69bc1bc.gz

 src/gabble-connection-manager.c |   10 +++---
 src/gabble-connection.c         |   64 +++++++++++++++++++-------------------
 src/gabble-media-channel.c      |   16 +++++-----
 src/gabble-media-session.c      |   16 +++++-----
 src/gabble-media-stream.c       |    2 +-
 src/gabble-muc-channel.c        |   30 +++++++++---------
 src/gabble-register.c           |    8 ++--
 src/gabble-roster-channel.c     |    2 +-
 src/group-mixin.c               |   12 ++++----
 src/handles.c                   |   20 ++++++------
 src/properties-mixin.c          |   12 ++++----
 src/telepathy-errors.h          |   15 ---------
 src/text-mixin.c                |    4 +-
 tests/test-handles.c            |    4 +-
 14 files changed, 100 insertions(+), 115 deletions(-)

commit 192f5e3e7d361ca888c2657c0a2b817a36b63f0b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 4 16:29:14 2007 +0000

    Update telepathy-errors.h from telepathy-spec: Add TpError_ prefix to error names, for better namespacing. Compensate for this in src/telepathy-errors.h with some #defines
    
    
    20070104162914-53eee-1d7d8e9459119b8206b31c749ad8dffa5487fcca.gz

 lib/telepathy-glib/_spec/telepathy-errors.h |   20 ++++++++++----------
 src/telepathy-errors.h                      |   15 +++++++++++++++
 2 files changed, 25 insertions(+), 10 deletions(-)

commit df2f138211d0f796420a67671cc0ce619d0acf81
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 4 16:25:53 2007 +0000

    Replace GabbleHandle with TpHandle everywhere, remove compatibility #define
    
    
    20070104162553-53eee-ed98f5192665e40b98deda0c26451c1e4eba38b1.gz

 src/gabble-connection.c       |   82 ++++++++++++++++++++--------------------
 src/gabble-connection.h       |    4 +-
 src/gabble-im-channel.c       |    4 +-
 src/gabble-im-channel.h       |    2 +-
 src/gabble-media-channel.c    |   22 +++++-----
 src/gabble-media-channel.h    |    4 +-
 src/gabble-media-session.c    |   12 +++---
 src/gabble-muc-channel.c      |   38 +++++++++---------
 src/gabble-muc-channel.h      |    6 +-
 src/gabble-presence-cache.c   |   32 ++++++++--------
 src/gabble-presence-cache.h   |    6 +-
 src/gabble-roomlist-channel.c |    2 +-
 src/gabble-roster-channel.c   |   14 +++---
 src/gabble-types.h            |    2 -
 src/group-mixin.c             |   30 +++++++-------
 src/group-mixin.h             |   12 +++---
 src/handle-set.c              |    8 ++--
 src/handle-set.h              |    8 ++--
 src/handles.c                 |   60 +++++++++++++++---------------
 src/handles.h                 |   24 ++++++------
 src/im-factory.c              |    8 ++--
 src/jingle-info.c             |    2 +-
 src/media-factory.c           |    6 +-
 src/muc-factory.c             |   18 ++++----
 src/roster.c                  |   56 ++++++++++++++--------------
 src/roster.h                  |   22 +++++-----
 src/text-mixin.c              |    4 +-
 src/text-mixin.h              |    2 +-
 src/tp-channel-iface.c        |    2 +-
 src/vcard-manager.c           |   12 +++---
 src/vcard-manager.h           |    8 ++--
 tests/test-handle-set.c       |    2 +-
 tests/test-handles.c          |    2 +-
 33 files changed, 257 insertions(+), 259 deletions(-)

commit 2f252315c29848ba3bdbd20256ac908519ba0ab8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 4 16:14:12 2007 +0000

    Move spec-derived files (interfaces, enums, errors) to lib
    
    
    20070104161412-53eee-085ec8510e2a95ec1ec024f7cce52a3634c09ea5.gz

 lib/Makefile.am                                 |   42 ++++-
 lib/telepathy-glib/_spec/telepathy-enums.h      |  276 +++++++++++++++++++++++
 lib/telepathy-glib/_spec/telepathy-errors.h     |   82 +++++++
 lib/telepathy-glib/_spec/telepathy-interfaces.h |   73 ++++++
 lib/telepathy-glib/tp-enums.h                   |    6 +
 lib/telepathy-glib/tp-errors.h                  |   36 +++
 lib/telepathy-glib/tp-interfaces.h              |    6 +
 lib/telepathy-glib/tp-types.h                   |   33 +++
 src/Makefile.am                                 |    4 +-
 src/gabble-types.h                              |    5 +-
 src/gabble.c                                    |    1 -
 src/telepathy-constants.h                       |    2 +-
 src/telepathy-errors.h                          |   36 +---
 src/telepathy-interfaces.h                      |   74 +------
 src/telepathy-spec-enums.h                      |  276 -----------------------
 src/telepathy-spec-errors.h                     |   82 -------
 tests/Makefile.am                               |    3 +-
 17 files changed, 563 insertions(+), 474 deletions(-)

commit 06e2d5f09ed767a4183417ac991a061b9779462b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Jan 4 15:28:45 2007 +0000

    Add various generated files to _boring
    
    
    20070104152845-53eee-198dd87f2002c706c25d12784ac19e3801a544ef.gz

 _boring |   10 +++++++---
 1 files changed, 7 insertions(+), 3 deletions(-)

commit c5ccd74cb8997268d2fa760661f4f5187b171f48
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 2 19:47:59 2007 +0000

    Rename GHeap to TpHeap, move to lib
    
    
    20070102194759-53eee-5260abf33f8c2dea101f1f66e488976f72f03080.gz

 lib/Makefile.am              |    2 +
 lib/heap.c                   |  153 ++++++++++++++++++++++++++++++++++++++++++
 lib/telepathy-glib/tp-heap.h |   40 +++++++++++
 src/Makefile.am              |    2 -
 src/gheap.c                  |  153 ------------------------------------------
 src/gheap.h                  |   40 -----------
 src/handles.c                |   39 ++++++-----
 tests/Makefile.am            |    2 +-
 tests/test-heap.c            |   13 ++--
 9 files changed, 223 insertions(+), 221 deletions(-)

commit d8a3698716c12fdbb4da4db7a79cedf11720d6e8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 2 19:33:38 2007 +0000

    Rename GIntSet to TpIntSet and move it to lib. Also slice-allocate TpIntSet structures
    
    
    20070102193338-53eee-9718f9dc8e5fb9da7b031e4b81ea31056dffef19.gz

 lib/Makefile.am                |   12 +
 lib/intset.c                   |  438 ++++++++++++++++++++++++++++++++++++++++
 lib/telepathy-glib/tp-intset.h |   52 +++++
 src/Makefile.am                |    4 +-
 src/gabble-media-channel.c     |   56 +++---
 src/gabble-muc-channel.c       |   48 +++---
 src/gabble-presence-cache.c    |   21 +-
 src/gabble-roomlist-channel.c  |    6 +-
 src/gabble-roster-channel.c    |    7 +-
 src/gabble-roster-channel.h    |    2 +-
 src/gintset.c                  |  436 ---------------------------------------
 src/gintset.h                  |   52 -----
 src/group-mixin.c              |   64 +++---
 src/group-mixin.h              |    2 +-
 src/handle-set.c               |   64 +++---
 src/handle-set.h               |    8 +-
 src/roster.c                   |  162 ++++++++--------
 tests/Makefile.am              |    4 +-
 tests/test-handle-set.c        |   32 ++--
 tests/test-heap.c              |    2 +-
 tests/test-intset.c            |  174 ++++++++--------
 21 files changed, 830 insertions(+), 816 deletions(-)

commit e0d4e07761d96d795e9ebc6e93a7cac5d6fb3395
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 2 19:23:40 2007 +0000

    src/Makefile.am: support out-of-tree builds
    
    
    20070102192340-53eee-644bbb18dc760c783629a3167ec5f350837102b4.gz

 src/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e33531a7e30226a53c0ff844bb6dadff410f0f65
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 2 18:09:37 2007 +0000

    Add lib directory containing what will become telepathy-glib
    
    
    20070102180937-53eee-b2eb478f8a92356476b39582b621a52b50c610f1.gz

 Makefile.am                       |    2 +-
 configure.ac                      |    1 +
 src/Makefile.am                   |    2 +-
 3 files changed, 3 insertions(+), 2 deletions(-)

commit 4dc95c5510382a4d08039d27a8f5b779cc5eed2d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 2 17:54:53 2007 +0000

    Change TP_IFACE_PROPERTIES to TP_IFACE_PROPERTIES_INTERFACE to align with the spec. Replace telepathy-interfaces.h with the one generated from the spec
    
    
    20070102175453-53eee-c14d7c4181711a1ad46436fa07c48ce866bfa697.gz

 src/gabble-connection.c    |    2 +-
 src/gabble-muc-channel.c   |    2 +-
 src/telepathy-interfaces.h |  100 ++++++++++++++++++++------------------------
 3 files changed, 48 insertions(+), 56 deletions(-)

commit bd2e7663c5c1805f7023814443f99f3861052e08
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 2 17:48:20 2007 +0000

    Only populate the ChangeLog with "darcs changes" if in a Darcs tree
    
    
    20070102174820-53eee-2039622aad67dcaabbdb772ef7b7042c014b7ee2.gz

 Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 63ee779c7afa17916b140ab2076bd16c90543b56
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 2 16:45:49 2007 +0000

    telepathy-errors.h et al: Remove TelepathyErrors enum, use the one from telepathy-spec-errors.h (= c/telepathy-errors.h generated from the Telepathy spec) instead
    
    
    20070102164549-53eee-7891033a6573353d3784d7f1513cbc244580ed26.gz

 src/Makefile.am             |    6 ++--
 src/gabble.c                |    2 +-
 src/telepathy-errors.h      |   32 +----------------
 src/telepathy-spec-errors.h |   82 +++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 88 insertions(+), 34 deletions(-)

commit cf21d8151f4c1041003c0b418b15898f16265c40
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 2 16:25:02 2007 +0000

    Change TP_CONN_whatever to TP_CONNECTION_whatever to match the spec
    
    
    20070102162502-53eee-0698c95a7be01ff063e2ee4245833c4f40e17e8f.gz

 src/disco.c                 |    2 +-
 src/gabble-connection.c     |  148 ++++++++++++++++++++++---------------------
 src/gabble-presence-cache.c |    6 +-
 src/telepathy-constants.h   |   38 -----------
 src/vcard-manager.c         |    2 +-
 5 files changed, 80 insertions(+), 116 deletions(-)

commit bf4429812e367f64f8799aed02448c6e3fe35625
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 2 16:12:32 2007 +0000

    Change TpMediaStreamProto to TpMediaStreamBaseProto to align with spec
    
    
    20070102161232-53eee-c59c575c583910dc4c3c03b5536c74b73263ca5f.gz

 src/gabble-media-stream.c |    2 +-
 src/telepathy-constants.h |    7 -------
 2 files changed, 1 insertions(+), 8 deletions(-)

commit 47042390406c0cc3c383a6fcb94adc1939ac9acd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 2 16:09:08 2007 +0000

    (Generated file) Change TpMediaStreamPendingFlags to TpMediaStreamPendingSend
    
    
    20070102160908-53eee-f154658fc0db5d8ee80e7933b8b9930775525870.gz

 src/telepathy-spec-enums.h |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit caec87f55b170c6bbba5ef9e6aa346728b3ee6b8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 2 16:05:15 2007 +0000

    Rename TP_MEDIA_STREAM_PROTO_* to TP_MEDIA_STREAM_BASE_PROTO_* to align with spec; also TpMediaStreamProto -> TpMediaStreamBaseProto
    
    
    20070102160515-53eee-f810d06b4ce36799c9fdd8a6670538be6f1f2a46.gz

 src/gabble-media-stream.c |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit 81e1af5e2af5f7e1d37316cb4c8b7cfe991f8318
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 2 16:02:12 2007 +0000

    (Generated file) Remove unnecessary #defines
    
    
    20070102160212-53eee-ce2c12ca7198f4947d613b3b2de8ed9fdb466b3b.gz

 src/telepathy-spec-enums.h |  100 ++------------------------------------------
 1 files changed, 4 insertions(+), 96 deletions(-)

commit 92fc2301e8f6f5d62851331f181f149556d5a7c2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 2 16:02:02 2007 +0000

    Remove unused #define for TpConnMgrParamFlags
    
    
    20070102160202-53eee-d10f3a22dd065b7014524115059f7c511f0377b5.gz

 src/telepathy-constants.h |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit fd4bb12fa6744c4526405f1c5c4309df404c9a44
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 2 15:56:08 2007 +0000

    (Generated from newer telepathy-spec) Rename TpConnectionHandleType to TpHandleType
    
    
    20070102155608-53eee-aa5d601613e49eca6dfb7ee3f70f2bca87d8a629.gz

 src/telepathy-spec-enums.h |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 4368a0beba8c7936fbe5814aa37aa1210fcaef2c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 2 15:43:23 2007 +0000

    Replace obsolete TpCodecMediaType with TpMediaStreamType
    
    
    20070102154323-53eee-46eaa3bf20e0600d2e2439bcca791e9b72769acf.gz

 src/gabble-media-channel.c |    2 +-
 src/gabble-media-stream.c  |    8 ++++----
 src/telepathy-constants.h  |    6 ------
 3 files changed, 5 insertions(+), 11 deletions(-)

commit a790634a2c092ff9543354db8e7263b6d7bab814
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 2 15:42:58 2007 +0000

    Change official names of CONNECTION_HANDLE_TYPE_* to HANDLE_TYPE_*
    
    
    20070102154258-53eee-3473528ed78fb701df328ae2f9f0e45d6a2d086d.gz

 src/telepathy-spec-enums.h |   22 +++++++++++-----------
 1 files changed, 11 insertions(+), 11 deletions(-)

commit c9a5eb6183cbd854abaa42f7db32bd84bd60f01a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Jan 2 15:31:00 2007 +0000

    Add telepathy-spec-enums.h (which is c/telepathy-enums.h from telepathy-spec). Use it in telepathy-constants.h
    
    
    20070102153100-53eee-22cbc03ee426c716e4d4350ca6c1fea35a2654a3.gz

 src/telepathy-constants.h  |  201 ++++++-------------------
 src/telepathy-spec-enums.h |  368 ++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 414 insertions(+), 155 deletions(-)

commit 105a20d80ce420b7cd893ddbe6d01495039b70cd
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Jan 4 16:51:05 2007 +0000

    add test binaries to _boring
    
    
    20070104165105-c9803-eb16b99ab8c9d9d66c435cf8e3e5fd76e69e29e8.gz

 _boring |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit bc42adf14234b5b96bc97c62d64bb88175612965
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Jan 4 13:49:11 2007 +0000

    presence cache: update cache *before* trying to process nickname/avatar/caps info, as these functions need the presence object
    
    
    20070104134911-c9803-fb5f20aceb301a698dec4649bd63bf96310e151b.gz

 src/gabble-presence-cache.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 26ec7e019fc2cb232a66ba942b2fd69d8eba26f3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Jan 15 12:56:44 2007 +0000

    Fix indentation of Xavier's patch; also unref conn if Base64 encoding is invalid
    
    
    20070115125644-53eee-7ea98c8a2b697429e03c7d5973982079124666cf.gz

 src/gabble-connection.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 79028178106769177309732d1a6017e3263c19f7
Author: Xavier Claessens <xclaesse@gmail.com>
Date:   Mon Jan 15 12:54:28 2007 +0000

    g_object_get() returns a new ref, so we need to unref the conn before returning (https://bugs.freedesktop.org/show_bug.cgi?id=9434)
    
    
    20070115125428-945a0-c2b564e2b52a578bc9fdc5ac340ea3df8d106a50.gz

 src/gabble-connection.c |   13 ++++++++-----
 1 files changed, 8 insertions(+), 5 deletions(-)

commit bcd6ce41cd39247386817edc2dedc1b0098f5ae7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Dec 20 18:33:56 2006 +0000

    gabble-connection.c: Don't crash if the Connection is disposed before Connect() runs, e.g. by failure in RequestConnection() (bugs.fd.o #9406)
    
    
    20061220183356-53eee-9a0daba4be8ea6a5f53f39fd835ae9f541a38262.gz

 src/gabble-connection.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit c8c9d0af31e55e116075f8a7d39ce605bf623054
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Dec 11 19:46:18 2006 +0000

    bump version to 0.5.0.1
    
    
    20061211194618-418b8-96d23937ccf732891f3937829114d52132172ddb.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit df21d001814b7c8d5a9367fbfad2d443273a7e56
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Dec 8 17:10:54 2006 +0000

    GabbleMediaStream: rather than letting Telepathy clients assert gabble by sending in multiple-transport candidates (a non-event in Google P2P connections), return an error
    
    
    20061208171054-418b8-01b4b1b8e0c092ef560b926e6add0a105791fac7.gz

 src/gabble-media-stream.c |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit 0e481dc100cdd32ad72f8987b127a09e82b9a8f5
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Dec 11 19:16:17 2006 +0000

    bump version to 0.5.0
    
    
    20061211191617-418b8-064945690c03e2a764ca21ac91ab18b8ad58d30a.gz

 configure.ac |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 57bb76cc6d6be38aa7c78b754c05225447ae7439
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Dec 8 04:18:13 2006 +0000

    GabbleConnection: in the callback where avatar setting is completed, use self_presence, and emit an AvatarUpdated signal
    
    
    20061208041813-418b8-dcffe21f8b718c7a0b14b9327d94dc4d6cbc049c.gz

 src/gabble-connection.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit aa5f8de70fe4160993cc0a4bc766932aad49c32d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Dec 8 04:14:59 2006 +0000

    GabbleConnection: tweak _request_avatar_cb to use self_presence, and use update_own_avatar_sha1 if we get back a vcard and our SHA1 proves to be wrong
    
    
    20061208041459-418b8-2e2add5a147df3e1f2c2c55540c20adb1686f2bc.gz

 src/gabble-connection.c |   29 +++++++++++++++++++++++++----
 1 files changed, 25 insertions(+), 4 deletions(-)

commit a1050bbc8ad212603ca691807d4da31ad686b62c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Dec 8 04:14:53 2006 +0000

    GabbleConnection: tweaks to whitespace & indentation
    
    
    20061208041453-418b8-ca38649727f9083474d93fd96609130cde67b3b1.gz

 src/gabble-connection.c |   39 ++++++++++++++++++++++-----------------
 1 files changed, 22 insertions(+), 17 deletions(-)

commit e6608336ec0b295377ca939d8db0121ac39b6688
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Dec 8 04:13:51 2006 +0000

    GabbleConnection: plug a minute leak when getting initial self avatar token, and slice allocate the GetAvatarTokensContext structures
    
    
    20061208041351-418b8-ff00c0db4e2801f2625a60e3c75fbc956f2b9e51.gz

 src/gabble-connection.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 6ec4f92f126f8e3ce7e9cecaaef00fefa2870da5
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Dec 8 04:13:21 2006 +0000

    GabbleConnection: add some TODO/XXX items
    
    
    20061208041321-418b8-055e8870493e13e8babf95d9b9417cc06a1bd160.gz

 src/gabble-connection.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 9d9b0312a95881d962ef3b1242657a20341bb0ff
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Dec 8 04:11:27 2006 +0000

    GabbleConnection: hook up capabilities-related stuff to self_presence
    
    
    20061208041127-418b8-3465d4a0269032f201d42f0dc475d615296b7f95.gz

 src/gabble-connection.c |   25 ++++++++++++-------------
 1 files changed, 12 insertions(+), 13 deletions(-)

commit 75294a5db2adaf5d75dc71f293566e5a2c9ec908
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Dec 8 04:10:57 2006 +0000

    GabbleConnection: call update_own_avatar_sha1 from the signal for got-initial-self-avatar too
    
    
    20061208041057-418b8-4f20c6d13a20e9d07c2cf6eaaca8215f1410b4cc.gz

 src/gabble-connection.c |    7 ++-----
 1 files changed, 2 insertions(+), 5 deletions(-)

commit 6a77bede3d92c9939eae8843dfd7e56fca0576fd
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Dec 8 04:09:56 2006 +0000

    GabbleConnection: hook up and emit the AvatarUpdated signal, copying the SHA1 sum from our other selves and re-emitting it if necessary
    
    
    20061208040956-418b8-b732c4d80690a0fbd7e78819e5ea35fe7a38648c.gz

 src/gabble-connection.c |   57 +++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 57 insertions(+), 0 deletions(-)

commit f070de76ab5ddf7bff8acfd267563c59706505c0
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Dec 8 04:05:16 2006 +0000

    GabbleConnection: when getting/setting/sending our presence, use self_presence
    
    
    20061208040516-418b8-4b12384f69ebf5ee5bca42c7766a5e59b1e43558.gz

 src/gabble-connection.c |   21 ++++++++++++---------
 1 files changed, 12 insertions(+), 9 deletions(-)

commit f2a4052067a7e52a62fdde7b7e0dc901f3fe12ff
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Dec 8 04:04:06 2006 +0000

    GabbleConnection: set initial caps on self_presence
    
    
    20061208040406-418b8-a1eeb4f1b6409b5964d312faa26ead96c562d605.gz

 src/gabble-connection.c |    5 +----
 1 files changed, 1 insertions(+), 4 deletions(-)

commit 3f75f6f3afaa54d232f08ebc333eaf4953d13ca3
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Dec 8 04:01:47 2006 +0000

    sha1_sum: tweak indentation
    
    
    20061208040147-418b8-6274e0774c3224aff91e600701c0e19a99911e17.gz

 src/util.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e4556a1bf02e003ba64698d51037e89e8e33caea
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Dec 8 03:59:54 2006 +0000

    GabblePresenceCache: update TODOs and tweak some indentation
    
    
    20061208035954-418b8-c764595c01ae8bbccfed68c8e43be80470fe973c.gz

 src/gabble-presence-cache.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 629cd250707000daf82637d4ecfa6f91565da41e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Dec 8 03:59:26 2006 +0000

    GabblePresenceCache: only inspect <presence> messages for nickname/avatar/caps if they're available presence, otherwise it's a waste of time, and the unavailable presence could already have been dropped from the presence cache, invalidating the handle
    
    
    20061208035926-418b8-d8779c02173a6febd871bfd0ba6baaf11ad06e49.gz

 src/gabble-presence-cache.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 85df47950298ff7f86990bea0ad494a0f380edcf
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Dec 8 03:58:52 2006 +0000

    GabblePresenceCache: remove #if 0 code
    
    
    20061208035852-418b8-aed4f7c027af2cc9df863989d34851dafa7a51cd.gz

 src/gabble-presence-cache.c |   11 -----------
 1 files changed, 0 insertions(+), 11 deletions(-)

commit 87418c167a1947d8fd9cf82e148f1f3247406b6f
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Dec 7 18:51:28 2006 +0000

    GabblePresence: move typedef of GabblePresence to gabble-types.h
    
    
    20061207185128-418b8-c49b84c86cf818c16fda692f11f0e8582dcb9ef1.gz

 src/gabble-presence.h |    3 +--
 src/gabble-types.h    |    1 +
 2 files changed, 2 insertions(+), 2 deletions(-)

commit cb103cc112f90e72b3617e224e5aff0087eec62f
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Dec 7 18:48:43 2006 +0000

    GabbleConnection: add a self_presence member to the connection structure to store only presence for our own resource, allowing presence_cache[self_handle] to store only other resources
    
    
    20061207184843-418b8-d63015628b8e08df861d56682f69b8f6c2e3b4a6.gz

 src/gabble-connection.c |   10 ++++++----
 1 files changed, 6 insertions(+), 4 deletions(-)

commit de2060ae47df625463f2592a68038cf386d22f7d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Dec 6 22:08:17 2006 +0000

    GabbleConnection: add a self_presence member to the connection object, to store the presence of only our resource, rather than the entry for self_handle in the presence cache
    
    
    20061206220817-418b8-86355cc2d6fc73cdf498124354901bc6ffb3a9be.gz

 src/gabble-connection.h |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 60cfe7cea100b88cbdac52f1c4a92508c7877c05
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Nov 27 19:59:17 2006 +0000

    GabblePresenceCache: stop ignoring presence messages from other resources on our account
    
    
    20061127195917-418b8-501b7d4173ef69243f7eb8e32af2312c572bf1d7.gz

 src/gabble-presence-cache.c |    7 -------
 1 files changed, 0 insertions(+), 7 deletions(-)

commit 9564944de03eb07cc1ed3c69b4355186f0cc8d5b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 18 14:34:51 2006 +0000

    test-gabble-presence.c: Fix test for extra parameter to gabble_presence_update
    
    
    20061018143451-53eee-1ee074962b9c28b3275448bdc6d5df7685e48f0a.gz

 tests/test-gabble-presence.c |   20 ++++++++++----------
 1 files changed, 10 insertions(+), 10 deletions(-)

commit c0f1494d19f440f5c147f65206c0cb89a5c0ecb1
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Nov 27 19:37:41 2006 +0000

    GabblePresence: revert the addition of the set_locally hack for indicating your own resource (to win when aggregating your own presence)
    
    
    20061127193741-418b8-e5b339f67de9ea435cbb83f84ddb50bd6fd042e4.gz

 src/gabble-connection.c     |    9 ++++-----
 src/gabble-presence-cache.c |   14 ++++++--------
 src/gabble-presence-cache.h |    2 +-
 src/gabble-presence.c       |   14 ++++----------
 src/gabble-presence.h       |    2 +-
 5 files changed, 16 insertions(+), 25 deletions(-)

commit fc43526d680d5344b6679439f4195a794dc62fbe
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Dec 6 16:02:00 2006 +0000

    Merge Rob's removal of unused configure.ac bits with my addition of AC_C_BIGENDIAN
    
    
    20061206160200-53eee-9eb662faa72f56ac0687d551a250e537fa822db0.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 7ef6f67ac548a8878639dd904622c22ca176e45a
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Nov 27 18:04:49 2006 +0000

    resolve conflicts
    
    
    20061127180449-c9803-467fd0220467f84dcbc504ee790623b70d61261b.gz

 src/Makefile.am |   10 ++++++----
 1 files changed, 6 insertions(+), 4 deletions(-)

commit 474687c2bb50d8ef84a7f241ab1ca8985e11e1a8
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Nov 27 17:57:29 2006 +0000

    resolve conflicts
    
    
    20061127175729-c9803-835547aad95d6da681639b8e433d9d55f70cff26.gz

 tests/Makefile.am |   27 ++++++++++++++++++++++++++-
 1 files changed, 26 insertions(+), 1 deletions(-)

commit eb259546e5e69c3a77f8dab206ba2c4d07cc6a16
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Oct 27 18:33:04 2006 +0000

    GabbleConnection: tweak _request_avatar_cb to be happier when the responders don't have any presence
    
    
    20061027183304-418b8-2892e50cea03e02cc9147a9b1bb348065c14e651.gz

 src/gabble-connection.c |   33 +++++++++++++++++++--------------
 1 files changed, 19 insertions(+), 14 deletions(-)

commit 4e12652fa31458ac0898b1a0b0cbd88eddf3e23f
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Oct 27 18:27:50 2006 +0000

    GabblePresence: merge conflict between caps & avatar branch
    
    
    20061027182750-418b8-00bca7275de959f2ad480b2fd3a0b182667ad4de.gz

 src/gabble-presence.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 8c1f5761661af732524998a86445476ae120bee9
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Oct 26 22:25:18 2006 +0000

    Patch from Kenneth Rohde Christiansen to fix missing advertisment of the Avatars interface.
    
    
    20061026222518-418b8-632f94f410f2888ca0c03257286aa6745cd8b34a.gz

 src/gabble-connection.c     |    1 +
 src/gabble-presence-cache.c |    1 -
 src/telepathy-interfaces.h  |    2 +-
 3 files changed, 2 insertions(+), 2 deletions(-)

commit e60a5c750f5ef5bf35af811fa3dbeeedfc1be89f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 24 14:37:18 2006 +0000

    gabble-connection.c: When getting our own avatar, if necessary delay until the initial vCard download has happened
    
    
    20061024143718-53eee-44e36915f95fc8075c1fef2c34b7aab14bf9fae1.gz

 src/gabble-connection.c |   65 +++++++++++++++++++++++++++++++++++++++++-----
 src/vcard-manager.c     |   21 +++++++++++++++
 2 files changed, 79 insertions(+), 7 deletions(-)

commit 98412dc9ebd7f3aaa65c95f35cd6e86bdb086524
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 24 14:36:29 2006 +0000

    gabble-presence-cache: Break XEP-0153 by not disabling avatar support if non-conforming clients are also connected
    
    
    20061024143629-53eee-197ae1f99a986afacbdd024a1c7780f7cf6998a1.gz

 src/gabble-presence-cache.c |   12 ++++++++++--
 1 files changed, 10 insertions(+), 2 deletions(-)

commit d3b0d673d71d2f09698a537b5fc852fcd817155e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 24 14:32:06 2006 +0000

    gabble-connection.c: Raise error and signal AvatarUpdated if the avatar in the vCard does not have the SHA-1 seen in presence
    
    
    20061024143206-53eee-9cb9bb91cbcc742754bb3ce3d7dbd07daa49f6ad.gz

 src/gabble-connection.c |   22 ++++++++++++++++++++++
 1 files changed, 22 insertions(+), 0 deletions(-)

commit c4cd66c89890a26960ed63f0a603187e7de5ddeb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Oct 19 12:39:55 2006 +0000

    base64.[ch]: add copyright blurb
    
    
    20061019123955-53eee-002cc75304d1b09dcd84b4cf6db92cb14d608107.gz

 src/base64.c |   19 +++++++++++++++++++
 src/base64.h |   19 ++++++++++++++++++-
 2 files changed, 37 insertions(+), 1 deletions(-)

commit c68ab43553465bbb45e82d06dbc0b043e13eb66f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Oct 19 12:33:31 2006 +0000

    gabble-connection.c: remove unnecessary 'return'
    
    
    20061019123331-53eee-9a34305145d6ac5bf212cfbdecc981274b2ba48c.gz

 src/gabble-connection.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit ec864e52a5a0fd77fc94994373ef16a97bc69baa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Oct 19 12:32:22 2006 +0000

    gabble-connection.c: increment copyright year
    
    
    20061019123222-53eee-8cd11002a230566bf04b7aac3506d7c499f7cb44.gz

 src/gabble-connection.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit e8849135c978fbe8cb65a255294b509f137c7f49
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Oct 19 11:37:47 2006 +0000

    gabble-connection.c: Correctly unlink PHOTO node
    
    
    20061019113747-53eee-82c5aeb6157d02d93da3a18b62f4000d219899a5.gz

 src/gabble-connection.c |   15 ++++++++-------
 1 files changed, 8 insertions(+), 7 deletions(-)

commit a7153d40205e75efe36b36e1764632c0b44e7f8b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Oct 19 11:37:26 2006 +0000

    test-base64.c: Add test case for pathological whitespace
    
    
    20061019113726-53eee-b78868d17be6e02d65d9e6c43d2c156e82ec5819.gz

 tests/test-base64.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit ce0e4105481a1b822cf3cfd39cf5fb694f990707
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Oct 19 11:35:33 2006 +0000

    base64.c: cope with arbitrary whitespace
    
    
    20061019113533-53eee-7168cd43ee5b8f424f3a3dc29b5f287465d10cb5.gz

 src/base64.c |   59 ++++++++++++++++++++++++++++++---------------------------
 1 files changed, 31 insertions(+), 28 deletions(-)

commit 281d70a6eea88b49a5e0e4ed98ac02fd2d2d960a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Oct 19 11:15:23 2006 +0000

    util.[ch]: Add lm_message_node_unlink() convenience function
    
    
    20061019111523-53eee-afc431e5297998599393c1668abe6e4703dcb4e2.gz

 src/util.c |   11 +++++++++++
 src/util.h |    1 +
 2 files changed, 12 insertions(+), 0 deletions(-)

commit 3f7f15b4d6dd2fac5c53c8d73c33724a5eb5c884
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 18 17:34:11 2006 +0000

    base64.c: Parse base64 in a more whitespace-tolerant way
    
    
    20061018173411-53eee-c38df87a41a6062fd924d069588236cc60a346d3.gz

 src/base64.c |   22 ++++++++++++++++------
 1 files changed, 16 insertions(+), 6 deletions(-)

commit 892b366019463646efc0205d492ea66252c5a1fe
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 18 17:15:34 2006 +0000

    Debug when our own avatar is not valid base64
    
    
    20061018171534-53eee-030501600c2a18c57739558c71206e44fa587940.gz

 src/vcard-manager.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit abe4841beb138ceb047344c321ca7e12d928bb89
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 18 17:15:20 2006 +0000

    Don't try to sha1 an invalid avatar
    
    
    20061018171520-53eee-40a7f14e521c541685f102eaab43c9f457c3fe7d.gz

 src/vcard-manager.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f02d8b24c1c7ee29c9579cfd6fe6cbe6d62bdcdc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 18 17:14:45 2006 +0000

    base64.c: ignore arbitrary whitespace (Gajim puts \r in its vCard PHOTOs)
    
    
    20061018171445-53eee-ff18365af776e9634542290df0d502f5c060b68a.gz

 src/base64.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit fd980df07ffdfd8237ce41b55dd0af008223846d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 18 17:03:43 2006 +0000

    vcard-manager.c, gabble-connection.c: Use a signal to notify the Connection when we find out what avatar was already set on the server
    
    
    20061018170343-53eee-2f49ce4b9a35d93ef27e79ae454b2f9a3ca7ba39.gz

 src/gabble-connection.c |   18 +++++++++
 src/vcard-manager.c     |   98 ++++++++++++++++++++++++++++++++++++++++------
 2 files changed, 103 insertions(+), 13 deletions(-)

commit b3e98d5f0ec06376548a35ba4ad7e08497bc80fc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 18 16:59:27 2006 +0000

    Move hex SHA1 calculation to util.[ch]
    
    
    20061018165927-53eee-06549e0196a2579ad5874dc132a67c8476980870.gz

 src/gabble-connection.c |   16 +++-------------
 src/util.c              |   24 ++++++++++++++++++++++++
 src/util.h              |    1 +
 3 files changed, 28 insertions(+), 13 deletions(-)

commit a94f2e133f4675921deefdec0f463f1a138869f0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 18 16:13:20 2006 +0000

    gabble-connection.c: Make callbacks static
    
    
    20061018161320-53eee-27e685426b4ce55dbb2c3e23bc169459134c46d3.gz

 src/gabble-connection.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit ddfc8d290ce3971d5f7f2058a206d5a1f977be60
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 18 14:44:19 2006 +0000

    gabble-connection.c: Encode SHA-1 in hex again, not in base64.
    
    It appears (from the behaviour of at least Gajim) that it's meant to be in
    hex after all, despite the schema in XEP-0153 claiming base64Binary. Thanks,
    XEP-0153.
    
    20061018144419-53eee-5073eb13d4bbd6436fef2a8df3b970c5439066fc.gz

 src/gabble-connection.c |   12 ++++++++----
 1 files changed, 8 insertions(+), 4 deletions(-)

commit 8032acf500dc07bcdc938f5631ea7f2731e6dcfe
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 18 14:35:55 2006 +0000

    gabble-connection.c: In SetAvatar(), update presence and push it to the server
    
    
    20061018143555-53eee-77cde35bb22eda3aa0e5f8ee5fc24657c9515061.gz

 src/gabble-connection.c |   29 ++++++++++++++++++++---------
 1 files changed, 20 insertions(+), 9 deletions(-)

commit 550030bb85d695fe91462baa4ccab900b5f2a571
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 18 14:34:51 2006 +0000

    test-gabble-presence.c: Fix test for extra parameter to gabble_presence_update
    
    
    20061018143451-53eee-e2254cfedd89651fa662627f1924616ef781a73e.gz

 tests/test-gabble-presence.c |   20 ++++++++++----------
 1 files changed, 10 insertions(+), 10 deletions(-)

commit 91f39aca5c9823930350513edf7f890863d5c870
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 18 14:34:03 2006 +0000

    gabble-presence.c: In presence, claim that we support XEP-0153, and if we have an avatar set, send its SHA-1.
    
    
    20061018143403-53eee-0754bd0d2e4fe7209759c78604c984d3edd6ca7f.gz

 src/gabble-presence.c |   11 ++++++++++-
 1 files changed, 10 insertions(+), 1 deletions(-)

commit 502316b7df3642e33f01f5c24bdcbc7918a2eda7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 18 14:33:29 2006 +0000

    gabble-presence-cache.c: If another of our JID's resources does not support XEP-0153, stop advertising any image hash
    
    This is required by the XEP, because in the presence of non-compliant clients,
    we can't guarantee that the photo (or lack thereof) in the vCard won't be
    modified behind our backs.
    
    20061018143329-53eee-3cb6ce9b0342796154783cad5e1d7c07cfe38427.gz

 src/gabble-presence-cache.c |   18 +++++++++++++-----
 1 files changed, 13 insertions(+), 5 deletions(-)

commit f1daa4ab93b6020d35aaaac44fc29b69a6fcdcae
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 18 14:30:00 2006 +0000

    gabble-presence-cache.c: Add comment explaining what we're meant to do if another of our JID's resources changes the avatar
    
    The XEP-0153 requirement is not yet implemented.
    
    20061018143000-53eee-22b30e0fd79784b67227bb37122c90629396287e.gz

 src/gabble-presence-cache.c |   14 ++++++++++++++
 1 files changed, 14 insertions(+), 0 deletions(-)

commit 8a9e093ff8cc694c45627d077c9b8d5da4040882
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 18 14:28:35 2006 +0000

    gabble-presence-cache.c: Add comment to clarify the meaning of a missing <photo/> in XEP-0153
    
    
    20061018142835-53eee-8b02b4b31526b5c854ef18102cf5f8d1b0de5e54.gz

 src/gabble-presence-cache.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 34747ab56a09eda04433f26b44cc0970d64a4cc8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 18 11:19:17 2006 +0000

    GetAvatarRequirements(): pretend the recommendations in XEP-0153 are requirements
    
    
    20061018111917-53eee-fd2b5778acfcb0a75d1d437c2c9d9db2642dfc8c.gz

 src/gabble-connection.c |   32 ++++++++++++++++++--------------
 1 files changed, 18 insertions(+), 14 deletions(-)

commit 6880e07e35af11cd964716e9d3e7ac65520c65a8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 18 11:16:15 2006 +0000

    vcard-manager.c: When an error contains a vCard element, don't pass the vcard node to the callback, only the error
    
    
    20061018111615-53eee-73922a44044dc0bf822cfa1044cd7b2a5a738f05.gz

 src/vcard-manager.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 5f37980939a4932fec2caa66a46898cc8032ee82
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 18 11:14:59 2006 +0000

    gabble-presence-cache.c: Stop ignoring presence from our other resources
    
    
    20061018111459-53eee-689a54bba9cd981e9cde59a44cd5225beb679c95.gz

commit 8ca597555762d18be0cbdcb99d8828381a2dadb7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Oct 18 11:11:47 2006 +0000

    presence, presence cache: Add a flag "set_locally" which is TRUE if this presence came from this Gabble process
    
    This has the same effect as a very high priority, to ensure that when our
    other resources get added to the presence cache, the presence we broadcast
    will still be the presence of Gabble's resource
    
    20061018111147-53eee-2771c25010a4342179029f4424801caf75e45983.gz

 src/gabble-connection.c     |    9 +++++----
 src/gabble-presence-cache.c |   14 ++++++++------
 src/gabble-presence-cache.h |    2 +-
 src/gabble-presence.c       |   14 +++++++++-----
 src/gabble-presence.h       |    2 +-
 5 files changed, 24 insertions(+), 17 deletions(-)

commit e3bd5d21c523b414e07e0792a5d587b7671c0048
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 17 18:03:13 2006 +0000

    gabble-connection: Use src/sha1/ instead of lm_sha_hash
    
    
    20061017180313-53eee-041367a58398373f3e478488f2e6f347a4d96859.gz

 src/gabble-connection.c |   18 ++++++++++++++++--
 1 files changed, 16 insertions(+), 2 deletions(-)

commit b5edacf22f4fc31fd06664f5e3ab21b5abb08263
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 17 18:03:09 2006 +0000

    Add SHA1 implementation by Allan Saddi (sha.sf.net)
    
    Also: mention the sha1 code in AUTHORS and COPYING; check endianness in
    configure.ac; add myself to AUTHORS.
    
    20061017180309-53eee-c8c782f5f4eac70cb31a3d3c5a5aad0fa14767b4.gz

 AUTHORS                 |    6 +
 COPYING                 |   41 +++-
 configure.ac            |    3 +
 src/Makefile.am         |    2 +
 src/sha1/sha1.c         |  626 +++++++++++++++++++++++++++++++++++++++++++++++
 src/sha1/sha1.h         |   72 ++++++
 6 files changed, 749 insertions(+), 1 deletions(-)

commit 3b4d21e6d834a18503a643fc8326b01f417d4bdf
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sun Oct 15 01:50:21 2006 +0000

    partial implementation of SetAvatar
    
    
    20061015015021-b59df-15409f7fbffc530b6833a28955234cfea1e30243.gz

 src/gabble-connection.c |  106 +++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 106 insertions(+), 0 deletions(-)

commit b9951bf743cb89e3b931f692bf03ab822d577d62
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sun Oct 15 01:49:49 2006 +0000

    check for vcard being NULL, rather than error being not NULL
    
    
    20061015014949-b59df-8dbe57495d8ced3602c8871b7865b83973202e60.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3d4a54fe3a25e779b999ddf97a4a5c4339e8b4b5
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sat Oct 14 19:17:40 2006 +0000

    implement RequestAvatar
    
    
    20061014191740-b59df-5a96c3b93df35e57c1838616daa1ed24304eb456.gz

 src/gabble-connection.c |   76 ++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 75 insertions(+), 1 deletions(-)

commit 432657e813b3fa1c3e0b34de5b21ab3eca1589d8
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sat Oct 14 19:12:23 2006 +0000

    implement GetAvatarTokens
    
    
    20061014191223-b59df-3f65ebca7935f8aa4d572427660b2ceb1eda93bd.gz

 src/gabble-connection.c |   31 ++++++++++++++++++++++++++++++-
 1 files changed, 30 insertions(+), 1 deletions(-)

commit 62da5b37dd955d4e3bf8ee7c68fd144d4d2eee4b
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sat Oct 14 19:11:32 2006 +0000

    presence cache: nab avatar sha1 sums from presence
    
    
    20061014191132-b59df-9f016441792de980a06b65e8bad16408f90d8e21.gz

 src/gabble-presence-cache.c |   48 +++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 48 insertions(+), 0 deletions(-)

commit 583a0552e705d3ee517813f93970a23311ca2da1
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sat Oct 14 19:08:32 2006 +0000

    add avatar_sha1 member to GabblePresence
    
    
    20061014190832-b59df-1d8c9f6e12a098e41e1716d3a5c00194f6eb23ab.gz

 src/gabble-presence.h |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 0b5e4eca462ccd14262df8ea2b8e0ae19cd43259
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sat Oct 14 19:06:57 2006 +0000

    implement GetAvatarRequirements
    
    
    20061014190657-b59df-a70bc42d170bebff10f56d3ecf95fa9a034b9f52.gz

 src/gabble-connection.c |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit c196bb95338e65c08d2f72ccb3fc1db3a06f3f6c
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sat Oct 14 19:00:53 2006 +0000

    sync generate/src/ -> src/
    
    
    20061014190053-b59df-1860c2221bd0dcdb42f89661e6dce1218f28c071.gz

 src/gabble-connection-signals-marshal.list |    1 +
 src/gabble-connection.c                    |   90 ++++++++++++++++++++++++++++
 src/gabble-connection.h                    |   26 ++++++++
 3 files changed, 117 insertions(+), 0 deletions(-)

commit 864250aa87b8295d71c509287a8269dae55c2c51
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sat Oct 14 17:56:04 2006 +0000

    regenerate generate/
    
    
    20061014175604-b59df-b61e4711e8faf82852c91857f6d7ba489285ab31.gz

 generate/src/gabble-connection.c            |   14 +++++---------
 generate/src/gabble-connection.h            |    5 ++---
 generate/xml-modified/gabble-connection.xml |    1 +
 3 files changed, 8 insertions(+), 12 deletions(-)

commit 17f0d02611df0febfb8ed1d546336cea514578f2
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sat Oct 14 18:43:05 2006 +0000

    add base64 implementation
    
    
    20061014184305-b59df-b84f36d8b16b0ea21b9c49440e9dc07effb4ea6f.gz

 src/base64.c        |  162 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/base64.h        |   11 ++++
 tests/Makefile.am   |   14 +----
 tests/test-base64.c |   90 ++++++++++++++++++++++++++++
 4 files changed, 264 insertions(+), 13 deletions(-)

commit 5a3372454aa603525352491c28ab87bf76896c94
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sat Oct 14 17:47:19 2006 +0000

    mark GetAvatarTokens, RequestAvatar, SetAvatar as implemented async
    
    
    20061014174719-b59df-fe9f5d0c10cc9da219edb9b55a6db6557e4f672f.gz

 generate/async_implementations |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit ea35387edc90f2f70e6ff22eca85b42a384ea905
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri Oct 13 19:21:13 2006 +0000

    regenerate generate/
    
    
    20061013192113-b59df-b1bb5dd8a3230b68da642ef95cf0e623c27fbc8b.gz

 .../src/gabble-connection-signals-marshal.list     |    1 +
 generate/src/gabble-connection.c                   |   95 ++++++++++++++++++++
 generate/src/gabble-connection.h                   |   27 ++++++
 generate/xml-modified/gabble-connection.xml        |   30 ++++++
 generate/xml-pristine/gabble-connection.xml        |   42 +++++++++
 5 files changed, 195 insertions(+), 0 deletions(-)

commit 192b70c608e5d3a7a500579813f02961e00b4633
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri Oct 13 19:18:12 2006 +0000

    declare GabbleConnection as implementing the avatars interface
    
    
    20061013191812-b59df-7e270e6b5ea3ea08dd28460758ff514670ef38ea.gz

 generate/gabble.def |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 0d92a13f0fe41f56c57c93fadc38d332fffde250
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sat Oct 14 17:43:54 2006 +0000

    add vcard update namespace
    
    
    20061014174354-b59df-0eafff911282ca122b754abe2b7f91d50a908e5b.gz

 src/namespaces.h |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 4d75173f72765845f1b693cfd476333d9fb64238
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri Oct 13 19:29:17 2006 +0000

    src/Makefile.am: fix indentation
    
    
    20061013192917-b59df-5cb09a1d0e03eae3814aec8484d3d13f0083deda.gz

 src/Makefile.am |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit ee3a157f3ad4158d7a6478aba39020d2bcb0e3c1
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue Jun 27 12:12:47 2006 +0000

    define constant for avatars interface
    
    
    20060627121247-b59df-ecd9734730d6d2ddf4dbd765f1b354859317940c.gz

 src/telepathy-interfaces.h |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 58c4acd2eab264874fdfa51cfd801da4047f0918
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sat Jun 24 11:57:39 2006 +0000

    add comment about unsetting keep_unavailable
    
    
    20060624115739-b59df-7ea72cf8411d4ab1ecef144e70ae9569923eccbd.gz

 src/gabble-presence-cache.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit b8c0c36c9a58082b6376be642d2fd53e572a7413
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Dec 7 18:26:30 2006 +0000

    src/roster.c: Fix misleading comments
    
    
    20061207182630-53eee-7e1ed067a5cb5ef378909eaa3cbf2b67fb82e6d1.gz

 src/roster.c |   18 ++++++++----------
 1 files changed, 8 insertions(+), 10 deletions(-)

commit 2e6872b3a70cca023baf5cc2df075b9e0bc8a2d5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Dec 7 18:19:26 2006 +0000

    roster.c, roster.h: Use _INVALID instead of _NOT_CHANGED in constant names
    
    
    20061207181926-53eee-c8e0878f54eb93eac57da3f3fd1417e51bab7837.gz

 src/roster.c |   16 ++++++++--------
 src/roster.h |    2 +-
 2 files changed, 9 insertions(+), 9 deletions(-)

commit 6dc5f315e463ace73a7ce6e1fe7b33e7463a8d08
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Dec 7 14:31:17 2006 +0000

    Don't look at current state of item's google type when unhiding someone, just set them to NORMAL unconditionally (we don't particularly care about losing their PINNED status)
    
    
    20061207143117-53eee-0c8bb80fda58c5f473c7abffa74e597999b2a04f.gz

 src/roster.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 1f66fd601b1f6164d28f1dab5f23556717f8a49d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Dec 7 14:30:57 2006 +0000

    Make queued add_to_groups and remove_from_groups operations cancel out
    
    
    20061207143057-53eee-1dd11158f36fad08094ca84a7c8aea550346e813.gz

 src/roster.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit c8ca77c974adcb75541c4a9d069cce62bd7c2a60
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Dec 7 14:29:56 2006 +0000

    Free unsent edits if there's nothing to be done
    
    
    20061207142956-53eee-0298d7ce5daaf0998961faaba4fe244141a81b67.gz

 src/roster.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit b6fd4b7464457da984078b9536828f13f31af456
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Dec 7 14:29:10 2006 +0000

    Add roster edit operation debugging
    
    
    20061207142910-53eee-5507178b86c86a3f019c0bc689a1cf62e65d84c4.gz

 src/roster.c |   72 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 71 insertions(+), 1 deletions(-)

commit 23aa2768550c431894e9d85312010081e1dc17ab
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Dec 7 14:28:11 2006 +0000

    src/roster.c: _gabble_roster_item_to_message: allow a replacement roster item to be passed in
    
    
    20061207142811-53eee-0abfac1fa95e508523c4575d640d685d9c9c86b8.gz

 src/roster.c |   29 ++++++++++++++++++-----------
 1 files changed, 18 insertions(+), 11 deletions(-)

commit b51a29ac541f814d7bb7ea2f7cd47b193100a396
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Dec 7 14:27:58 2006 +0000

    Be slightly clearer when outputting what groups someone is in
    
    
    20061207142758-53eee-f56db625f5847799abc1edb126f004aa57014d05.gz

 src/roster.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9d72e48f19cb002d45d52243a693aef06a94bccd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Dec 7 00:24:34 2006 +0000

    src/roster.c, src/roster.h: If an attempt is made to edit the same roster item twice in quick succession, queue up subsequent edits and send them when the pending one is acknowledged.
    
    This fixes a race condition readily triggered by using Gossip to alter a
    contact's groups.
    
    20061207002434-53eee-22e32fb13d5319be0c3f7e6b736bfa8404bf3728.gz

 src/roster.c |  314 +++++++++++++++++++++++++++++++++++++++++++++++++++++++--
 src/roster.h |    1 +
 2 files changed, 304 insertions(+), 11 deletions(-)

commit ad18415372033b6e8c57a82b836c82ccf36ff80d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Nov 24 18:48:54 2006 +0000

    roster.c: When altering groups, do so by making temporary changes to the roster item
    
    
    20061124184854-53eee-0b51de61424e2930a2b9820886f407eb80edc75b.gz

 src/roster.c |   58 ++++++++++++++++------------------------------------------
 1 files changed, 16 insertions(+), 42 deletions(-)

commit df894153b52e8c00dd0eae47e18e50e2abe739c6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Nov 24 17:52:37 2006 +0000

    Update Google roster debug messages to rename handle variable to contact_handle (done in the groups code to clarify group vs contact handles)
    
    
    20061124175237-53eee-24743f6bdf434646e3de2e9550f93c288cda0921.gz

 src/roster.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit e0d42f08f3e09454c0e41dfd74458db458792891
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Nov 24 17:18:39 2006 +0000

    roster.c: Merge groups changes with current state of 0.4.x
    
    
    20061124171839-53eee-b4fc8c8c585edca939dd7034d0183f2cb91a2bdd.gz

 src/roster.c |  155 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++--
 1 files changed, 151 insertions(+), 4 deletions(-)

commit cac18ecf7414b65e63bf6a7a6b8cf43e137801f4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Oct 23 18:23:28 2006 +0000

    roster.c: Don't free object_path until it becomes unused
    
    
    20061023182328-53eee-8736bd9f453b8ca8a33793ca437964cb79ad503e.gz

 src/roster.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2d3c66e5ffadfa9fdd1ec5f0a8f69890bfd02353
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Oct 23 18:23:06 2006 +0000

    roster.c: Correct typo to allow groups with strange names to be created
    
    
    20061023182306-53eee-07b1003b9df7b74c813297a49d46381849744c29.gz

 src/roster.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 39d403ec0f96f32ea35ba74d1832a5f29b711643
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Oct 23 18:20:35 2006 +0000

    roster.c: Store groups as handle sets rather than as strv
    
    
    20061023182035-53eee-6cfe361afa58d441d190429c0b7ce7d1503d7ad7.gz

 src/roster.c |  301 +++++++++++++++++++++++++++++++++-------------------------
 1 files changed, 172 insertions(+), 129 deletions(-)

commit aa3f44e55725a96aac394e5883359cbb2e393092
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Oct 23 18:20:06 2006 +0000

    gabble-connection.c: Allow Telepathy user to create groups
    
    
    20061023182006-53eee-78c344bc70eb5eed7d4126d299f856d0a2bdf80e.gz

 src/gabble-connection.c |   14 +++++++++++---
 1 files changed, 11 insertions(+), 3 deletions(-)

commit a16e9a80fb4a48a617f66fd9c48d590a4a53c5e2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 17 13:27:23 2006 +0000

    Merge with upstream
    
    
    20061017132723-53eee-eefc28f29930015d221e1fad7ee535da991eb6d1.gz

 src/roster.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 11700956f48d2b94c0cc9b9952c3bb4416612e63
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 17 13:20:26 2006 +0000

    gabble-roster-channel.c, .h, roster.c, .h: Add support for user-defined groups
    
    This implements the group interface by using channels of type ContactList,
    but with a different handle type.
    
    20061017132026-53eee-0bc9372ba402d8f74490e0106e27b512abbe0722.gz

 src/gabble-roster-channel.c |   61 ++++++++--
 src/roster.c                |  278 +++++++++++++++++++++++++++++++------------
 src/roster.h                |    8 ++
 3 files changed, 261 insertions(+), 86 deletions(-)

commit 6e28af7155fa8f686c8de87989006e79dfd5dedd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Oct 17 13:18:37 2006 +0000

    tp-channel-iface.c: Make handle type read/write and constructor-only
    
    This is necessary to allow GabbleRosterChannel to work for more than one handle
    type.
    Also fix documentation strings on handle, handle type.
    
    20061017131837-53eee-34eb5a33c339b36ed16dfa07ca1e8aa581746d6d.gz

 src/tp-channel-iface.c |   18 +++++++++++-------
 1 files changed, 11 insertions(+), 7 deletions(-)

commit 0b8a890fe7f6e28bc5b4984dbd2de57a1686cbe6
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 29 12:05:10 2006 +0000

    add a GROUP handle type
    
    
    20060929120510-418b8-a56f389e9f92ee2635a1d1818dbfaca6cb4a27f4.gz

 src/handles.c             |   92 ++++++++++++++++++++++++++++++++++++++++----
 src/handles.h             |    1 +
 src/telepathy-constants.h |    4 +-
 3 files changed, 87 insertions(+), 10 deletions(-)

commit 401875c337bb0c1132242989d301795b9456924e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Dec 5 23:56:02 2006 +0000

    bump version to 0.4.9.1
    
    
    20061205235602-418b8-e47a4fa2137a902507f8d3980a4932063ed75b95.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 65f3fd2a67001e12c80c2d500c17b951ea7126b0
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Dec 5 22:45:35 2006 +0000

    bump version to 0.4.9
    
    
    20061205224535-418b8-cedddb461f42477a202d98bf999e8b1f89039e3f.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit a7503c7b7eb7d9efe7f959dcaa8de625c7a6af87
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Dec 5 18:27:48 2006 +0000

    GabbleMediaSession: tweak debugging string
    
    
    20061205182748-418b8-8113e8db7c559967f27f63eba2b1a7f65dd6bc4a.gz

 src/gabble-media-session.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 44a10138da11ed61aac7acb6764f2cacd7a38905
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Dec 5 18:24:15 2006 +0000

    GabbleMediaSession: turn the <content creator=""> value into an initiator value and use _lookup_stream_by_name_and_initiator instead of having two similar-but-different functions
    
    
    20061205182415-418b8-a839fc56513319a7d45c963445f2573447f32187.gz

 src/gabble-media-session.c |   65 +++++++++++++++++++++++++++++++++++---------
 1 files changed, 52 insertions(+), 13 deletions(-)

commit 2e0576d3c6ccfad2bc22ae16368b4a7fb24fc4b7
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Dec 5 18:20:28 2006 +0000

    GabbleMediaSession: make _lookup_stream_by_name_and_initiator fuzzy at matching initiators when you pass in INITIATOR_INVALID
    
    
    20061205182028-418b8-8384d7413c86a14966b50f7f7f7624bc4bd85333.gz

 src/gabble-media-session.c |   32 ++------------------------------
 1 files changed, 2 insertions(+), 30 deletions(-)

commit 19b51f628de5e8a6984485a79b5feabb42ee45bd
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Dec 5 18:20:05 2006 +0000

    GabbleTypes: add a new INITIATOR_INVALID (-1) value to the JingleInitiator enum
    
    
    20061205182005-418b8-dea5e81ee92815baec185092da2c352e5b17e2eb.gz

 src/gabble-types.h |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 8746a57005d77cad398aee2f7cbcf42f5b1ab869
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Dec 5 14:33:33 2006 +0000

    GabbleMediaSession: make _add_content_descriptions iterate the streams in the pointer array, not the hash table
    
    
    20061205143333-418b8-863157540573bce1ce6a1055bce8ab436fc4ae6c.gz

 src/gabble-media-session.c |   64 ++++++++++++++++----------------------------
 1 files changed, 23 insertions(+), 41 deletions(-)

commit b53e2ca572633149ad1e5cefd89187231bdb8029
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Dec 5 14:33:01 2006 +0000

    GabbleMediaSession: call _stream_not_ready_for_initiate by iterating the pointer array, not the hash table
    
    
    20061205143301-418b8-9826e4f112e325c762edf75fda713c5ee3e585cf.gz

 src/gabble-media-session.c |   24 ++++++++++++++----------
 1 files changed, 14 insertions(+), 10 deletions(-)

commit d14bbbee3c4e81302cc9cb4c951fec892e9db842
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Dec 5 14:32:25 2006 +0000

    GabbleMediaSession: name streams by searching the pointer array for existing streams, not the hash table
    
    
    20061205143225-418b8-3b1164daa88074473400bb7ee120b7ddf5d73d84.gz

 src/gabble-media-session.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 0a70389a108f5863e9964cabb8660cc66e788b29
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Dec 5 14:31:52 2006 +0000

    GabbleMediaSession: call _stream_not_ready_for_accept by iterating the pointer array, not the hash table
    
    
    20061205143152-418b8-dd2e3a8d8dee32ed9cd54444cf7dca3a1c473d57.gz

 src/gabble-media-session.c |   26 +++++++++++++++-----------
 1 files changed, 15 insertions(+), 11 deletions(-)

commit a3ca34bd624093b8d5fc38deb624502d278f026f
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Dec 5 14:29:41 2006 +0000

    GabbleMediaSession: remove the hash table of streams by name
    
    
    20061205142941-418b8-bddd8b64b68683eb318151bd6d09941d4f13a991.gz

 src/gabble-media-session.c |   13 ++++---------
 1 files changed, 4 insertions(+), 9 deletions(-)

commit 814ae6c7be6a3c61c994b7f821aabd9803360e8c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Dec 5 14:25:10 2006 +0000

    GabbleMediaSession: when creating streams, check for an existing stream with the same initiator only, not just a stream with the same name
    
    
    20061205142510-418b8-4ae8aaf6fd1e2da1c51e63d8ecb2200223aa99a0.gz

 src/gabble-media-session.c |   29 ++++++++++++++++++++++++++++-
 1 files changed, 28 insertions(+), 1 deletions(-)

commit 20cbe12db3a21eb706fb956610d10e70d0513016
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Dec 5 00:23:35 2006 +0000

    GabbleMediaSession: when looking up streams to handle actions on, use any creator="" value to constrain the choice of stream by who created it
    
    
    20061205002335-418b8-ebf22b9958f61d5d275ce0c265784cf6e60b49bd.gz

 src/gabble-media-session.c |   48 ++++++++++++++++++++++++++++++-------------
 1 files changed, 33 insertions(+), 15 deletions(-)

commit a0d02fdf3c80213f5ceeb4407d3a9810bcaf15c3
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Dec 5 00:10:13 2006 +0000

    GabbleMediaSession: remove indentation from _call_handlers_on_streams by adding an early return
    
    
    20061205001013-418b8-a43892a0dafa5718b071d0119e75700e626b2d6e.gz

 src/gabble-media-session.c |   51 ++++++++++++++++++++-----------------------
 1 files changed, 24 insertions(+), 27 deletions(-)

commit bcdc8377611e27dd7526ba00d0e9cad0b7864a8d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Dec 5 00:06:37 2006 +0000

    GabbleMediaSession: use _gabble_media_stream_add_content_node function for creation of <content> nodes
    
    
    20061205000637-418b8-9823d3d9bfc4f207592bc2b6d8181ccf820777a3.gz

 src/gabble-media-session.c |   17 ++++++-----------
 1 files changed, 6 insertions(+), 11 deletions(-)

commit d62654d90f7b70068f2c8e60942eee4c7fd3994f
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Dec 5 00:01:02 2006 +0000

    GabbleMediaStream: expose a _gabble_media_stream_add_content_node function for adding correctly-formed <content> nodes to session nodes
    
    
    20061205000102-418b8-5fd0e2068265a9b235a7e6e23d443e779b40aae3.gz

 src/gabble-media-stream.c |   43 +++++++++++++++++++++++++++----------------
 src/gabble-media-stream.h |    1 +
 2 files changed, 28 insertions(+), 16 deletions(-)

commit 02c149fc90c0d4b568f21fc550d2c4aa5286909d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Dec 4 23:54:24 2006 +0000

    GabbleMediaStream: add a creator="initiator" or creator="responder" to <content> nodes
    
    
    20061204235424-418b8-f300a40f77109f2ef302d668106e62a116969a67.gz

 src/gabble-media-stream.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 03826f6d945b14c328580b66a86a66211d09cef1
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Dec 4 23:39:46 2006 +0000

    GabbleMediaSession: move initiator to a public member
    
    
    20061204233946-418b8-32932dad5b3715bdc45d5158e1f79373f1e7b4eb.gz

 src/gabble-media-session.c |   30 +++++++++++++-----------------
 src/gabble-media-session.h |    2 ++
 2 files changed, 15 insertions(+), 17 deletions(-)

commit 8e275e6982fd3a51f38f866c415de5396e7e0a6c
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Dec 1 11:46:22 2006 +0000

    GabbleRoomlistChannel: tweak for room signal interval, fixed the debugging output
    
    
    20061201114622-01440-767afa301b3d8bfe79c8523faf674015217dfc69.gz

 src/gabble-roomlist-channel.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 3800d275a33210c4c917e5427a25c22059bba557
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Nov 30 14:23:23 2006 +0000

    GabbleRoomlistChannel: emit room signals for several rooms at once instead one for each room
    
    
    20061130142323-01440-542e27fac03f90ef473dce5243524d5e77a6b86a.gz

 src/gabble-roomlist-channel.c |   63 +++++++++++++++++++++++++++++++++++------
 1 files changed, 54 insertions(+), 9 deletions(-)

commit 3793bc4fd35131dd8efa47a478b12dcfc1b726e3
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Dec 1 14:05:14 2006 +0000

    GabbleConnection: used loop instead of g_ptr_array_foreach for freeing emitted capabilities
    
    
    20061201140514-01440-1ca4dcc92dbb1349995d1106942f79ad1ae99408.gz

 src/gabble-connection.c |   14 ++++++--------
 1 files changed, 6 insertions(+), 8 deletions(-)

commit 84c23059329c6187162d448d0cd6733000e78860
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Dec 4 23:33:34 2006 +0000

    bump version to 0.4.8.1
    
    
    20061204233334-418b8-289af71bebfc9d63b38a830b1252c3f4a700ebae.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8603666259ff72e779c6936dfae95f0f6b926564
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Nov 30 17:15:06 2006 +0000

    Makefile.am: make the ChangeLog writable before updating it from darcs, otherwise make distcheck fails
    
    
    20061130171506-418b8-6d50e5b852476a956caea6ef4aeb942811563acf.gz

 Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 4b40b19d8003f4ca70ffefc96bf8e3fa84784b7c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Nov 30 16:41:06 2006 +0000

    bump version to 0.4.8
    
    
    20061130164106-418b8-74300f04c3555b32b4b117a27ca94c393daf14a0.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 75d6c6d1b4d33ae27966a1c4eb76ab8e78be8b5e
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Nov 29 11:44:09 2006 +0000

    roster: include invited google email addresses in roster
    
    
    20061129114409-01440-5d45fdb55af635bf8dca1573af6ce179f2e3bb42.gz

 src/roster.c |    6 ------
 1 files changed, 0 insertions(+), 6 deletions(-)

commit 6fe9fbe6cfe2a0593a91ba1e4d4895504244f595
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Nov 30 12:40:12 2006 +0000

    configure.ac: tweak configure.ac (line wrapping, remove some unused stuff)
    
    
    20061130124012-418b8-3ecd0612aa464b9422fa94e372ee896476bc4a2d.gz

 configure.ac |   27 +++++++++++++++------------
 1 files changed, 15 insertions(+), 12 deletions(-)

commit 60fe196e3a8e1aa174fc0e7426f888cead289863
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Nov 30 12:39:49 2006 +0000

    Makefile.am: generate a changelog in the dist tarballs with darcs changes
    
    
    20061130123949-418b8-ecb73829d7dae9e381b9e8a6a466a59305daa4dc.gz

 Makefile.am |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 39c8e71a07315b2989aa25f5a1c1148cee547cae
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Dec 4 14:10:57 2006 +0000

    don't distribute generated files
    
    
    20061204141057-c9803-1da2f5bb87db50052bccbd0ef51dc87c941aa054.gz

 src/Makefile.am |   10 +++-------
 1 files changed, 3 insertions(+), 7 deletions(-)

commit 3fa6b72a5662c211f36690b4a03663ad40d2d0b0
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Mon Nov 27 16:38:02 2006 +0000

    properly destroying the values using boxed free instead of value unset
    
    
    20061127163802-01440-95fd76df024847433b66cab1919b8e56362b6323.gz

 src/gabble-connection.c |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit 6cec99476fd08665880d0b046144986292adc4a1
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Mon Nov 27 11:06:37 2006 +0000

    fixes leaks in disco, connection and muc channel
    
    
    20061127110637-01440-973145e0453a35918f2da3cfbad8da24ed621ca8.gz

 src/disco.c              |    2 +-
 src/gabble-connection.c  |    8 ++++++++
 src/gabble-muc-channel.c |    6 ++----
 3 files changed, 11 insertions(+), 5 deletions(-)

commit 5883ef8365525dc01fa37d4f6036956625ce0687
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Nov 23 13:40:50 2006 +0000

    GabbleConnection: don't work around lm_connection bug (patch for fixing it in lm should be provided instead)
    
    
    20061123134050-01440-0b2c4812d9c569055c947ebeaf527d2fa86b795a.gz

 src/gabble-connection.c |    6 ------
 1 files changed, 0 insertions(+), 6 deletions(-)

commit 83b018ffb7d176597b87502b07a4e5cabee4018b
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Nov 22 11:52:12 2006 +0000

    GabbleConnection: gracefully close the connection if it doesn't succeed although lm_connection_open returned success
    
    
    20061122115212-01440-263d7dd0e688d51a2854ec606ec129ebec4dc465.gz

 src/gabble-connection.c |    9 ++++++++-
 1 files changed, 8 insertions(+), 1 deletions(-)

commit 8271fd34810453459e5c71f711ff621d226d7d4d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Nov 14 14:07:38 2006 +0000

    GabbleMediaSession: make calls to start sending only when the accepts have been acknowledged, avoiding the call initiator always missing the first few packets - when we're removing sending (direction changes), do so immediately
    
    
    20061114140738-418b8-90a332501ccd4f39cf98a13b807d02c143ed3031.gz

 src/gabble-media-session.c |   37 +++++++++++++++++++++++++++++++++----
 1 files changed, 33 insertions(+), 4 deletions(-)

commit 5b62cd7709f679105c1c0f92ebd091b59c2d983b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Nov 14 14:07:19 2006 +0000

    GabbleMediaStream: don't automatically set sending based on the direction - add a function for it
    
    
    20061114140719-418b8-0c1e89ef9c9db8c8e063ecbabc87b58273406905.gz

 src/gabble-media-stream.c |   36 +++++++++++++++++++++++++-----------
 src/gabble-media-stream.h |    1 +
 2 files changed, 26 insertions(+), 11 deletions(-)

commit 5281680aaab917796f30f14011cfae03c472167d
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Nov 27 15:28:42 2006 +0000

    src/Makefile.am: fix indentation, distribute .list files
    
    
    20061127152842-c9803-cefc56f4953210aee3fc27aaf23151c914efc45a.gz

 src/Makefile.am |   25 +++++++++++++++++++++----
 1 files changed, 21 insertions(+), 4 deletions(-)

commit 135138efdb610e5334ce575e2eb256c7eb5f24ce
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Nov 23 18:29:29 2006 +0000

    bump version to 0.4.7.1
    
    
    20061123182929-418b8-7f8a2c5fe33643686d3f3cc907959e3f9641a62d.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9d9e17ff7fad1eb6968cd157f33fc76054cef8bd
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Nov 23 18:20:07 2006 +0000

    bump version to 0.4.7
    
    
    20061123182007-418b8-f054e02530daa4499beb2a4791bf89530b0290b0.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 39cb45b80566addcb127290373b04bfc910ac953
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Nov 23 17:14:21 2006 +0000

    VCardManager: only look up the vcard node if there's no error, so that only one of error or vcard_node is set (testing either will have the correct semantics)
    
    
    20061123171421-418b8-f49a6382bf8b41d6da993463e026dc70293ff264.gz

 src/vcard-manager.c |   29 +++++++++++++++++------------
 1 files changed, 17 insertions(+), 12 deletions(-)

commit b86bf5ba9523a824436043d85fd232e9f5046740
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Nov 23 16:50:40 2006 +0000

    VCardManager: whitespace tweaks
    
    
    20061123165040-418b8-c7adae922b43e61217404e6b8efbe2ce5d3a9371.gz

 src/vcard-manager.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit cd1f6da4fdbd5bea89399490957678284017a5de
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Nov 23 16:16:04 2006 +0000

    VCardManager: if a vCard query is successful, and there's no vCard in the reply, create an empty vCard to guarantee the callback semantics and make sure that our nickname is filled in on newly created accounts
    
    
    20061123161604-418b8-481fd9d687df0f06ec5111b70da6e1114aba113c.gz

 src/vcard-manager.c |    9 ++++++---
 1 files changed, 6 insertions(+), 3 deletions(-)

commit 99289394900dd125e3fba383b2869b47ed7c5784
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Nov 22 01:41:21 2006 +0000

    bump version to 0.4.6.1
    
    
    20061122014121-418b8-b1fb9c8f7853f8672223d0831672303ad05025aa.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c5904802bdb8c8fcbfc014220f2671009c28d930
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Nov 22 01:27:52 2006 +0000

    bump version to 0.4.6
    
    
    20061122012752-418b8-853f5c170fe1b2d6b24cb7432aa5930c969de16f.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit a78db284b1c69380430967c66bcfbf8bc6d0bf28
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Nov 21 21:41:19 2006 +0000

    simplify destroying all streams when media session is terminated
    
    
    20061121214119-c9803-3c2b8dceb5982286f60b444a26450957ee658427.gz

 src/gabble-media-session.c |   15 ++-------------
 1 files changed, 2 insertions(+), 13 deletions(-)

commit 1678ae95c1ca8cd2107ff62ffb3750cf06fe2790
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Nov 21 21:40:48 2006 +0000

    make destroy_media_stream call _gabble_media_stream_close
    
    
    20061121214048-c9803-413296b89f4eb0a5bd31858c37bb0dcb22c9cc90.gz

 src/gabble-media-session.c |    9 ++-------
 1 files changed, 2 insertions(+), 7 deletions(-)

commit fdcb6331d0b3f0547a4234e947a7300691ecf083
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Nov 21 21:33:55 2006 +0000

    rename forget_media_stream -> destroy_media_stream
    
    
    20061121213355-c9803-b7b178fda1e22a4d0286f35d404622b79061099d.gz

 src/gabble-media-session.c |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit 3553d0c57f1a5d313dd98f4edd66438ed0e618b5
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Nov 21 19:09:53 2006 +0000

    media sessions: forget streams after closing them, except when sending content-remove, in which case only forget after remove is acked
    
    
    20061121190953-c9803-9245485c6f000841c428ac03bb1641a6b84ecf6e.gz

 src/gabble-media-session.c |   16 +++++++++++++---
 1 files changed, 13 insertions(+), 3 deletions(-)

commit 3421fe97d1c7549c051f77c119c2c880c459cbad
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Nov 21 19:09:45 2006 +0000

    forget_media_stream
    
    
    20061121190945-c9803-8095ebf98f3c2a66f027541020084b4436ebada6.gz

 src/gabble-media-session.c |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit e267a5b56ad655d01e8b5d82c6d05ca016d81e2c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Nov 21 19:09:05 2006 +0000

    media session: don't pay attention to close signal from stream
    
    
    20061121190905-c9803-0fbd44ef917bbc219b7e0feafed8a5ede462b3a6.gz

 src/gabble-media-session.c |   21 ---------------------
 1 files changed, 0 insertions(+), 21 deletions(-)

commit 48b19595973695c21a2e21535b873e79be8afe9c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Nov 21 13:11:10 2006 +0000

    wrapping
    
    
    20061121131110-c9803-dbe0286956a2636e6f3b38c79717f79a42d4d45b.gz

 src/gabble-media-channel.c |    5 ++++-
 src/media-factory.c        |    6 ++++--
 2 files changed, 8 insertions(+), 3 deletions(-)

commit b00f58556744dfccc4c1ea78599df2950a021bf9
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Nov 21 21:29:44 2006 +0000

    gabble_connection_get_capabilities: don't try to extract caps from NULL presence
    
    
    20061121212944-c9803-d985a9cde8de6723ac7cd0a516dd672a5a9eacaf.gz

 src/gabble-connection.c |   48 ++++++++++++++++++++++++----------------------
 1 files changed, 25 insertions(+), 23 deletions(-)

commit 337cdbd2d299b7419e53c0d4e3703e1fec45875d
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Mon Nov 20 12:20:33 2006 +0000

    roster: ignore contacts whose subscription requests were denied
    
    
    20061120122033-01440-1264ac2c13b472247b7a8294bd13b4be16725e7c.gz

 src/roster.c |    6 ------
 1 files changed, 0 insertions(+), 6 deletions(-)

commit 08c90e67493b36a72935b8daf1c1452635016a2b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Nov 16 19:46:16 2006 +0000

    remove other now-static function declarations
    
    
    20061116194616-418b8-913c23331b9d81cdee1374ec1a572d321cca032d.gz

 src/media-factory.c |    1 +
 src/media-factory.h |    1 -
 src/util.h          |    1 -
 3 files changed, 1 insertions(+), 2 deletions(-)

commit 54b6ab719c94d51a99babc9aff8e23bb176abe79
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Nov 16 19:37:00 2006 +0000

    GabbleConnection: remove extraneous function declaration
    
    
    20061116193700-418b8-8650b401b5fe83a3573d38b7edef286ada1269a9.gz

 src/gabble-connection.h |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 9d2753e6e307b80e901caaf8b223429ee8116ec3
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Nov 16 13:44:14 2006 +0000

    cache hidden google roster items; create roster item on server when subscribing to contact
    
    
    20061116134414-01440-32ef3ea335ca5e4da60ec31550f65012d05057db.gz

 src/gabble-roster-channel.c |    3 ++
 src/roster.c                |   56 +++++++++++++++++++++++++++++++++++++-----
 src/roster.h                |    1 +
 3 files changed, 53 insertions(+), 7 deletions(-)

commit 466eeef4a981ad2b6870da424c513e975492d107
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Nov 16 12:48:28 2006 +0000

    GabbleMediaSession: if content-add fails, don't send a content-remove, just drop the stream
    
    
    20061116124828-418b8-47cc53efabdbf60b0d8c50a6191fbb506b6386c5.gz

 src/gabble-media-session.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 64dd5f150a765f1e75d9153d163da7ba861c7f01
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Nov 14 14:09:13 2006 +0000

    GabbleMediaSession: allow the google "reject" action before we've received an acknowledgement for our initiate
    
    
    20061114140913-418b8-b09bcc2d0eac49d593b091728471c41375aed072.gz

 src/gabble-media-session.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 49b5b8c10d44f1964c828a21ca27e7af2c0f51ee
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Nov 13 08:55:39 2006 +0000

    GabbleMediaStream: remove misleading const
    
    
    20061113085539-418b8-2b81bf3a1897fb47ebc41c70a1e8778280382505.gz

 src/gabble-media-stream.c |    2 +-
 src/gabble-media-stream.h |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 25c298da4a9c374b97bdee77f19fd743808a9289
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Sun Nov 12 23:53:58 2006 +0000

    version 0.4.5.1
    
    
    20061112235358-c9803-98ab6e93e9fc24606a49f1b5ad5be337e61c1ae1.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 49f11df748c0def48b3780c326620373c531d40c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Sun Nov 12 23:44:18 2006 +0000

    version 0.4.5
    
    
    20061112234418-c9803-c4e9ab03b081c66e8db0ce390af88337f956c283.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 6bfcc88b590445643985a856fc1735ffd04f2bf0
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Nov 8 17:24:59 2006 +0000

    bump version to 0.4.4.1
    
    
    20061108172459-418b8-fafeaaef8919ef9bdffcdef1bc70322e2b527c9c.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 55b6d56eb3bfc51a6439000033e64e25034842c1
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Nov 8 13:02:48 2006 +0000

    bump version to 0.4.4
    
    
    20061108130248-418b8-04212521268f845b207ca821078bc95057363c68.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 61d7e696ee37393cb7048de2d0da30a9f6435951
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Nov 1 01:10:11 2006 +0000

    bump version to 0.4.3.1
    
    
    20061101011011-418b8-248c1f2a5d005e13e29078702739fe5396280783.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a9d162cbe54e47084b00ae11bb7729604d30dc93
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Nov 1 01:05:32 2006 +0000

    bump version to 0.4.3
    
    
    20061101010532-418b8-733d74373226c6b75c1bd1aead098ebb1da36deb.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 182e41b26dce1c4cd270b514cff3ae7bc2c7f389
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Oct 25 09:17:00 2006 +0000

    version 0.4.2.1
    
    
    20061025091700-c9803-fba685494e743b51c20ac3a8bdbb41882a052385.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9346300b3d40f17341228b00853eead0636e1bb4
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Oct 25 09:04:28 2006 +0000

    version 0.4.2
    
    
    20061025090428-c9803-00db73255ee6dd33ad3643dbfae7392c4049704c.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 99a43961937497bfc1c76098ee3d5fcd4b297811
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Oct 23 23:56:08 2006 +0000

    version 0.4.1.1
    
    
    20061023235608-c9803-8617705bad19382c2676a35dba01a91dca310156.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit aa21c4027ef9ce36a57132b0e5b3acd161152c0c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Oct 23 23:33:39 2006 +0000

    version 4.1.0
    
    
    20061023233339-c9803-f773ead1de2314de07cdfc64f36a89c4b1dae2bb.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit f96085239183d08d2f498f08b6083abb786ea16c
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed Oct 18 18:13:20 2006 +0000

    version 0.4.0.1
    
    
    20061018181320-b59df-11827b9cf48817a1d8d0ebf3edad9b41c5b2187c.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4926c9206068d628f08ee2fd4aa44d08fd431da5
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed Oct 18 18:10:17 2006 +0000

    version 0.4.0
    
    
    20061018181017-b59df-6a6539e04c50087195043495cb19949f2f337d87.gz

 configure.ac |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 3087fa4b4f969d6d8c02e6d10bcf755178ab977a
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Nov 13 14:22:22 2006 +0000

    gabble-roster-channel.c: use NULL for the empty set
    
    
    20061113142222-c9803-b6a6d397ef904726b14c890b845482ba735a4457.gz

 src/gabble-roster-channel.c |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit fec54e4e43d1dbf759a54e6e18047b4e95ef6224
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Nov 13 14:20:30 2006 +0000

    create temporary empty set rather than statically allocating one
    
    
    20061113142030-c9803-4639694df72d25a37b809669c6a023bf278a324b.gz

 src/group-mixin.c |   28 ++++++++--------------------
 1 files changed, 8 insertions(+), 20 deletions(-)

commit 31b9ed5c24d33dbc78c8c331f419185e3c07cba8
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Nov 13 14:12:18 2006 +0000

    resolve conflicts
    
    
    20061113141218-c9803-95c9436b0319e3367b68f979b24db7730518e3bb.gz

 src/gabble-media-channel.c |    3 ++-
 src/gabble-muc-channel.c   |    3 ++-
 src/roster.c               |    5 ++++-
 3 files changed, 8 insertions(+), 3 deletions(-)

commit 291afd789d2acb3f842c02b22dec89efceaac0d1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Sun Oct 29 17:52:17 2006 +0000

    allow passing NULL to gabble_group_mixin_change_members to mean empty set
    
    
    20061029175217-c9803-3ba46e1d08eaddbccb127cfc5c9453e2ff579607.gz

 src/gabble-media-channel.c |   42 ++++++++++++++----------------------------
 src/gabble-muc-channel.c   |   21 +++++++--------------
 src/group-mixin.c          |   31 +++++++++++++++++++++++++++----
 src/roster.c               |   33 ++++++++++-----------------------
 4 files changed, 58 insertions(+), 69 deletions(-)

commit f38f9bae5e431c3b81d23f7d29951f1011c31222
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Nov 13 13:29:14 2006 +0000

    media factory: if dispatching a session action to a newly created channel fails, destroy the channel and don't emit NewChannel
    
    
    20061113132914-c9803-acf8bd4fd7367c9b1541bd6b68cd8519c544d7a9.gz

 src/media-factory.c |   23 ++++++++++++++++++++---
 1 files changed, 20 insertions(+), 3 deletions(-)

commit 859e62859ed81407c20e30f384177ed76146e2c7
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Nov 13 13:27:16 2006 +0000

    _gabble_media_channel_dispatch_session_action: take error, return boolean, destroy session if we just created it
    
    
    20061113132716-c9803-238953fcdbad1d018722c59315c54f5c68d7d9a6.gz

 src/gabble-media-channel.c |   25 +++++++++++++++++++++----
 src/gabble-media-channel.h |    5 +++--
 2 files changed, 24 insertions(+), 6 deletions(-)

commit 5a5f2d483366f1351066c6cf539f8d67860f7535
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Nov 13 13:22:27 2006 +0000

    _gabble_media_session_handle_action: take error, return boolean
    
    
    20061113132227-c9803-41f141e07b955a4765b0cbfc70fb45bb9965c028.gz

 src/gabble-media-session.c |   26 +++++++++++---------------
 src/gabble-media-session.h |   10 ++++++----
 2 files changed, 17 insertions(+), 19 deletions(-)

commit c8bd139908c29fced0810e67a4086d4ec097c921
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Nov 13 12:59:35 2006 +0000

    _call_handlers_on_stream: delete a newly created stream if subsequent handlers fail
    
    
    20061113125935-c9803-23b2cfe400d6f4b9b7639730c4876049f4183ccb.gz

 src/gabble-media-session.c |   20 ++++++++++++++++----
 1 files changed, 16 insertions(+), 4 deletions(-)

commit d05ba1e8da48dfc3202c020a0c695a34f25c6df1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Nov 13 14:34:21 2006 +0000

    use correct enum for changing password flags
    
    
    20061113143421-c9803-20bce61689d2bf7d42d1ba8990933f769b90a608.gz

 src/gabble-muc-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c973316cdd4136b984ad4fe54b28d54e59eba225
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Nov 13 13:59:17 2006 +0000

    resolve conflict
    
    
    20061113135917-c9803-8a45571f3aea1855b35a5987aa5c43b29437bd11.gz

 src/gabble-media-session.c |   17 -----------------
 1 files changed, 0 insertions(+), 17 deletions(-)

commit 9680ec51bc3e9bae3f83b687511501d18da139bb
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Nov 13 10:39:16 2006 +0000

    add static qualifier to various functions
    
    
    20061113103916-c9803-178b7b0e864f91867b7b42c262278e96a6565e98.gz

 src/gabble-connection.c    |    4 ++--
 src/gabble-media-channel.c |    2 +-
 src/gabble-media-session.c |   17 +++++++++++++++++
 src/gabble-media-stream.c  |    2 +-
 src/handles.c              |    4 ++--
 src/media-factory.c        |    2 +-
 src/muc-factory.c          |   15 ++++++++-------
 src/util.c                 |    2 +-
 8 files changed, 33 insertions(+), 15 deletions(-)

commit 7b75d547e97a3696e704a8fe307d4d35211a8aac
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Mon Nov 13 11:42:12 2006 +0000

    GabbleConnection: catching stream error and reporting proper disconnect reason
    
    
    20061113114212-01440-e6e014a16a04040b93573c0673ece4508761d5cf.gz

 src/gabble-connection.c |   52 +++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 52 insertions(+), 0 deletions(-)

commit 0615a166df8a2408b20d14efd7c992748965089a
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Nov 10 15:26:52 2006 +0000

    make tags files boring
    
    
    20061110152652-c9803-617d6e8bd648edd121c2838f10859475b9e79609.gz

 _boring |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit f75839bfe59e912a06f2890f1ca4981ec29c013a
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Nov 10 14:57:14 2006 +0000

    use const string to reperesent no alias rather than an int cast to a pointer
    
    
    20061110145714-c9803-407b0eed72f73c3b8bf38bbf81e225b29eabb15a.gz

 src/vcard-manager.c |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

commit 7490715fe65208c9c525330cd64fe572d3eb2762
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Nov 10 12:42:51 2006 +0000

    if the vcard manager has a negative alias cache entry for a contact, don't try fetching their vcard
    
    
    20061110124251-c9803-a3012f3d36dfb02387444c6f0abfd4ee8496a8ee.gz

 src/gabble-connection.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 1a85d4a520af8cfd12a5b5cf1b8ee480a1d55abe
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Nov 10 12:36:04 2006 +0000

    gabble_vcard_manager_has_cached_alias
    
    
    20061110123604-c9803-31a77f8c8819bb589bb7e152464b7b944258b849.gz

 src/vcard-manager.c |   21 +++++++++++++++++++++
 src/vcard-manager.h |    2 ++
 2 files changed, 23 insertions(+), 0 deletions(-)

commit 1f8ce840674a58a1d471c8a35ee5eeefee0d5e24
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Nov 10 12:24:54 2006 +0000

    cache an alias of (gpointer)(-1) to signify the lack of a useful alias
    
    
    20061110122454-c9803-dea70c0640dec1eafab0381102c9f391438734cd.gz

 src/vcard-manager.c |   15 +++++++++++++++
 1 files changed, 15 insertions(+), 0 deletions(-)

commit f64e74db2e9fd9e5586e0cfec139f410c8226d65
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Nov 10 12:23:01 2006 +0000

    fix whitespace
    
    
    20061110122301-c9803-23408a468fb6dd71c16516834a222a0d166fef35.gz

 src/vcard-manager.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit cdc890f461e33cd0720de99eabe393505de33487
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Nov 10 14:31:12 2006 +0000

    GabbleMediaFactory: removed unused members array when creating new channel
    
    
    20061110143112-01440-cf8cbb668eb459a5fd9103aaa402f4a13c5ee0e1.gz

 src/media-factory.c |   12 +-----------
 1 files changed, 1 insertions(+), 11 deletions(-)

commit 3e9a9f483fd3ca977171012d841b60140cac33f8
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sat Nov 11 22:59:19 2006 +0000

    GabbleMediaSession: only count streams which are not already in the removing state when considering/validating remove actions
    
    
    20061111225919-418b8-e22035fb7efe6143a19430c6f7110bc4269e2dc6.gz

 src/gabble-media-session.c |   24 +++++++++++++++++++-----
 1 files changed, 19 insertions(+), 5 deletions(-)

commit e529f24f421ae4ccb94dd290d3dd03347b34e108
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sat Nov 11 22:57:00 2006 +0000

    GabbleMediaSession: when erroring streams, move the streams ptr array aside before doing anything which will close the streams (and modify the ptr array)
    
    
    20061111225700-418b8-7c7857f86560764e49cc1f1dc67acc0fdec91bed.gz

 src/gabble-media-session.c |   13 ++++++++-----
 1 files changed, 8 insertions(+), 5 deletions(-)

commit ff56ade74dd6635f80cdc0f270e83dbbbbd26c2a
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sat Nov 11 22:15:34 2006 +0000

    GabbleMediaStream: add debug when connection states change
    
    
    20061111221534-418b8-c87437cf65e811cb3ec4401585bc944bea6c0af9.gz

 src/gabble-media-stream.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 7958ff52ea22d8c37130a0f2f7f25babe5472667
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sat Nov 11 22:14:00 2006 +0000

    GabbleMediaSession: fix inverted logic when marking streams as acknowledged
    
    
    20061111221400-418b8-566b9905506bdc17744592899d5c1263e35e0234.gz

 src/gabble-media-session.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 6499dd413089736634a3b5a9b9c5c9928516c47e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sat Nov 11 22:13:28 2006 +0000

    GabbleMediaSession: invalidate the stream (force a lookup before the next handler) after the create handler, because it can also /replace/ streams
    
    
    20061111221328-418b8-b7607b4e6e517e1f15ec93143d52514fc1dcb5b9.gz

 src/gabble-media-session.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 118b5d8ec0c99a50fe8032e9907ee51a38ee4e35
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sat Nov 11 22:13:13 2006 +0000

    GabbleMediaSession: add debugging to the handler no-op case
    
    
    20061111221313-418b8-e1a5f8e5658380cd6bb0b5bb9f7d2af4a70c4828.gz

 src/gabble-media-session.c |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit 00ce231de3a63b37822998c7413fe1af627edc8f
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sat Nov 11 18:30:58 2006 +0000

    GabblePresenceCache: don't NODE_DEBUG when ignoring self presence, it's irritatingly verbose
    
    
    20061111183058-418b8-98d46b6178d1ae08f930dd277298718365503a1a.gz

commit 0fae91a3680d401c4486e9b8bd43f40c3764d480
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sat Nov 11 18:30:48 2006 +0000

    GabbleMediaStream: move name, initiator, connection state, signalling state, direction, got_local_codecs and playing into the stream's public struct
    
    
    20061111183048-418b8-dd68398743d2db0e14a9b3d9cd9ccbc850d3472e.gz

 src/gabble-media-session.h |    5 ---
 src/gabble-media-stream.c  |   63 +++++++++++++++++++-------------------------
 src/gabble-media-stream.h  |   17 ++++++++++-
 src/gabble-types.h         |    5 +++
 4 files changed, 47 insertions(+), 43 deletions(-)

commit d5ffca9fd5ee3989861036b4ae3920e2a8eb4bd1
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sat Nov 11 18:28:26 2006 +0000

    GabbleMediaSession: maintain priv->streams as a pointer array alongside the streams_by_name hashtable, saving tens of calls to g_hashtable_foreach, and use the public members of stream, saving hundreds of calls to g_object_get (and string dups/frees of name)
    
    
    20061111182826-418b8-18a9d1f0203b620e09e71da15e7546fd7b1b6a38.gz

 src/gabble-media-session.c |  509 ++++++++++++++++----------------------------
 1 files changed, 188 insertions(+), 321 deletions(-)

commit d60ce64da7d32581405da8200039c3a4a9b6e4e0
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sat Nov 11 16:38:29 2006 +0000

    GabbleMediaSession: concede to the initiator's stream in the event of a name conflict for both NEW and SENT streams
    
    
    20061111163829-418b8-4b40fe6dd7237231849b625acd131e4a78726a15.gz

 src/gabble-media-session.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d2855c50999873f143001ebc87091e60aac6fef2
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sat Nov 11 16:07:44 2006 +0000

    GabbleMediaStream: when processing candidates, skip any node not called "transport", and when processing codecs, skip any node not called "payload-type"
    
    
    20061111160744-418b8-b48a6b8efed30a00dd1b9eb366a75c88d7b12b87.gz

 src/gabble-media-stream.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 1d324e963e6b139c994ac7fb7907ee6fa0689911
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sat Nov 11 16:06:08 2006 +0000

    GabbleMedia{Session,Stream}: tweak XMPP error handling to ensure that the most specific error is always returned when handlers fail, and that we never dereference a NULL error
    
    
    20061111160608-418b8-7410ae5bb9f93ce58551b8e940f7a291d70dce7f.gz

 src/gabble-media-session.c |   47 ++++++++++++++++++++-----------------------
 src/gabble-media-stream.c  |    3 +-
 2 files changed, 24 insertions(+), 26 deletions(-)

commit d98d178ed34dc91c9aa798d544bf2840ddc7cee0
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Nov 10 12:23:44 2006 +0000

    GabbleMediaSession: rejig removal code so that if we signal a content-remove, we only close the streams when we get the ack, so that any removes we receive are safely ignored
    
    
    20061110122344-418b8-46aecd0417cd34711420f3361de53e11940d3c93.gz

 src/gabble-media-session.c |  101 ++++++++++++++++++++++++++++---------------
 1 files changed, 66 insertions(+), 35 deletions(-)

commit 7d3db5a738f97a354b278cfa33b471c2f8e4fb19
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Nov 10 11:24:35 2006 +0000

    improved handle testing suite
    
    
    20061110112435-01440-0a2131702735f4e9ec84263889495a47229cc97c.gz

 tests/test-handles.c |   77 +++++++++++++++++++++++++++++++++-----------------
 1 files changed, 51 insertions(+), 26 deletions(-)

commit 58179cb11b8a6ec452251992cf19b827e2d28976
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Nov 8 15:17:12 2006 +0000

    actually adding the handle-set test code to the branch
    
    
    20061108151712-01440-397d5cc3133cd997c8025f6bc02e7fca934f23a2.gz

 tests/test-handle-set.c |   86 +++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 86 insertions(+), 0 deletions(-)

commit 2449e6d72577f2038b38130ad3bc30fd7dcd8b1f
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Nov 8 15:11:09 2006 +0000

    added test suite for handle sets
    
    
    20061108151109-01440-2e1e889205062ac38c49c3ae6ea77249452cae15.gz

 tests/Makefile.am    |    8 +++++++-
 tests/test-handles.c |   33 +++++++++++----------------------
 2 files changed, 18 insertions(+), 23 deletions(-)

commit 6cbd48b4ac532c5bedf0472032725f8ba46aa73e
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Nov 8 13:10:15 2006 +0000

    added test-suite for handles.c
    
    
    20061108131015-01440-58fb4866c993b650e0a9a91aeabc3e05f36dee02.gz

 tests/Makefile.am    |    8 ++++-
 tests/test-handles.c |   87 ++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 94 insertions(+), 1 deletions(-)

commit dc3e08f00efc90313cb4c2143de15d0cb94b0ef7
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Nov 10 12:27:22 2006 +0000

    making backtrace output on crashes a compile time option, disabled by default
    
    
    20061110122722-01440-e5d68834c4a208059699d124744ff44403c03bfa.gz

 configure.ac |    8 ++++++++
 src/gabble.c |    9 +++++++--
 2 files changed, 15 insertions(+), 2 deletions(-)

commit 9fbc20c94b278ca91b9655a73e707646f03e8e03
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Nov 10 09:10:39 2006 +0000

    changed the place for detecting call to ourselves, internal media channel api fix
    
    
    20061110091039-01440-1791505eaf975a6c2b7ab726ae6a9c7d4cf035b7.gz

 src/gabble-media-channel.c |   13 +++----------
 src/gabble-media-channel.h |    5 ++++-
 src/gabble-media-session.c |   21 ++++++++++-----------
 src/media-factory.c        |    2 +-
 4 files changed, 18 insertions(+), 23 deletions(-)

commit 58e89f2f44288a81c909ba582501826b53128ca4
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Nov 9 14:17:34 2006 +0000

    rolling back to ignoring presence from our other resources, and fixing indentation errors
    
    
    20061109141734-01440-075fca2d6008c78273abb2f0bd4c1ecd8e62c8ba.gz

 src/gabble-media-session.c  |   16 +++++++++-------
 src/gabble-presence-cache.c |    7 +++++++
 2 files changed, 16 insertions(+), 7 deletions(-)

commit 4dff0c4430c757ea2afe60f04e6611406263eab7
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Nov 9 13:59:36 2006 +0000

    fixed the crash in the event of calling ourselves
    
    
    20061109135936-01440-1d51b6cf53f0e2458779d18dd75dacd38077a82a.gz

 src/gabble-media-channel.c  |    8 ++++++--
 src/gabble-media-channel.h  |    2 ++
 src/gabble-media-session.c  |    9 +++++++++
 src/gabble-presence-cache.c |    7 -------
 src/media-factory.c         |    2 +-
 5 files changed, 18 insertions(+), 10 deletions(-)

commit 85aa3a9967d03f8af0c8dbecbd7b97f771fa5139
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Nov 10 08:53:43 2006 +0000

    fix indentation
    
    
    20061110085343-c9803-dbae05a9af17c7616ba99e164911293ecc281628.gz

 src/gabble-connection.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 5fef1851be3e47bf8e7606ede7e86ac1ec2a5492
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Nov 10 08:53:25 2006 +0000

    free AliasRequest struct after all its members
    
    
    20061110085325-c9803-930cd66e501d82a997274360ceb1b82707d226b7.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit bf323a5059223ea2ac75902392e59cd40a14184c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Nov 9 17:31:08 2006 +0000

    RequestAliases: request a vCard if we don't have an alias with a vCard or better source
    
    
    20061109173108-c9803-765f64c0d767ca4193087e1e15b87100362588cb.gz

 src/gabble-connection.c |  166 +++++++++++++++++++++++++++++++++++++++++-----
 src/gabble-connection.h |    5 +-
 2 files changed, 150 insertions(+), 21 deletions(-)

commit 6083d6686ce16d6bc2e8deef6a3fd5050dd244f3
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Nov 9 17:30:48 2006 +0000

    vcard manager: don't print out all the vcards we get
    
    
    20061109173048-c9803-16e19e41fa29f9ef3c7e446fb37b312b3641ad9b.gz

 src/vcard-manager.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 05601a18a60ad4d6650c7b4b9acad88c7902eda1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Nov 9 17:16:36 2006 +0000

    add gabble_vcard_manager_cancel_request to vcard-manager.h
    
    
    20061109171636-c9803-98c664ed3bd8b6b4933b40f5eea424a3bbd81589.gz

 src/vcard-manager.h |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 11c9738bdb63249fff4439e3cd49d5b6db59d512
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Nov 9 11:49:07 2006 +0000

    remove #if 0 code from gabble-connection.c
    
    
    20061109114907-c9803-aa81dd2960253a30361e356cf95c09bdf54bf378.gz

 src/gabble-connection.c |  175 +----------------------------------------------
 1 files changed, 1 insertions(+), 174 deletions(-)

commit b0726128e52b854090f88005b576585a8b3c9a6c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Nov 9 11:35:10 2006 +0000

    code regeneration
    
    
    20061109113510-c9803-b4f0b3b9385118ef0a015624029692eb0db760ee.gz

 generate/src/gabble-connection.c            |   14 +++++---------
 generate/src/gabble-connection.h            |    5 ++---
 generate/xml-modified/gabble-connection.xml |    1 +
 3 files changed, 8 insertions(+), 12 deletions(-)

commit 3a3204c18fa2ea5c8560ff08bf687b659f208b47
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Nov 9 10:31:01 2006 +0000

    fix GetPresence async declaration
    
    
    20061109103101-c9803-d7a546cbdcd7a56d12f7f35b07efcf8607562a02.gz

 generate/async_implementations |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c9bef08b998998f98709a82d38bdd28ad4f4bee7
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Nov 9 10:02:56 2006 +0000

    declare RequestAliases as implemented async
    
    
    20061109100256-c9803-c8f3b66433d2b30a8c74415dda574d4c9cf8fc5d.gz

 generate/async_implementations |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 9b44dc28431c4ff5a53ba88dc264cd55a55aed0c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Thu Nov 9 09:54:52 2006 +0000

    wrap long line
    
    
    20061109095452-c9803-4bc5cdb2909e0bc5264fc283c5c152c72b41c06f.gz

 src/gabble-media-channel.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit e246a81e176048c5b9ca763b8c55f1708b00f93f
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Nov 8 15:56:36 2006 +0000

    configure.ac: fix up warning stuff to only enable -Wextra if we can also enable -Wno-missing-field-initializers and -Wno-unused-parameter
    
    
    20061108155636-418b8-0ef815718227326bec66e3e09d183056156ada11.gz

 configure.ac |   18 ++++++++++++------
 1 files changed, 12 insertions(+), 6 deletions(-)

commit e8587c5cc92892ed5b6d9c9f34e853e4659755a5
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Nov 7 14:41:29 2006 +0000

    GabbleMediaStream: allow streams to have the REMOVING state (maximum for the property) and print debug when it changes
    
    
    20061107144129-418b8-e2cf974d826a9e344d1b59979fd401bbcc9fed70.gz

 src/gabble-media-stream.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 0d55c109b7c19e284018ec687a5810dc9be6f52e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Nov 7 14:39:28 2006 +0000

    GabbleMediaSession: move check for whether the stream is valid into the call_handlers_on_stream function, and just don't do it for the create & terminate handlers
    
    
    20061107143928-418b8-a93a37e8395e17fdb3dcfe3f4344b723d4a38eea.gz

 src/gabble-media-session.c |   71 +++++++++++++++-----------------------------
 1 files changed, 24 insertions(+), 47 deletions(-)

commit f2e73069593cd6252a20640438d7f27835019c14
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Nov 7 14:34:56 2006 +0000

    GabbleMediaSession: tweak the XMPP errors returned from session handlers
    
    
    20061107143456-418b8-3353ae913c281723335494180dd639ee6bae7be2.gz

 src/gabble-media-session.c |   20 ++++++++++----------
 1 files changed, 10 insertions(+), 10 deletions(-)

commit 6f001c10086dd6926cca0fa99be2d03415361af3
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Nov 6 10:38:10 2006 +0000

    GabbleMediaSession: don't dispatch session actions on streams which are in the SENT or REMOVING states, just ack them silently. it means the other end isn't aware that we're adding or removing that stream
    
    
    20061106103810-418b8-922a4df40fcdecc24c33f4ba479bb9f14b5eda7e.gz

 src/gabble-media-session.c |   27 +++++++++++++++++++++------
 1 files changed, 21 insertions(+), 6 deletions(-)

commit 3c63e330e4605429c08f2cbbd592f4d815041bee
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Nov 6 10:06:34 2006 +0000

    GabbleMediaSession: fix missing priv variable in content_add reply cb
    
    
    20061106100634-418b8-392e3d84748159c1007c6b9bf6cda1ace819b0b0.gz

 src/gabble-media-session.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 9c3a30bf20e9b1b32722dd8e3ffaccabde44c8f6
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Nov 6 10:06:06 2006 +0000

    GabbleMediaSession: return an error when there's a stream conflict and we're the initiator
    
    
    20061106100606-418b8-58072b2544782419eb31b751c560f47f51c54f93.gz

 src/gabble-media-session.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 24882e9f3402a44dda92414ed76eb323717a320d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Nov 6 08:44:54 2006 +0000

    GabbleMediaSession: merge conflicts between XMPP errors branch and stream addition tie-breaking code
    
    
    20061106084454-418b8-cc19e97d76bb5fc18655ec6b15316553a5061f0a.gz

 src/gabble-media-session.c |   27 ++++++++++++++++++++++++---
 1 files changed, 24 insertions(+), 3 deletions(-)

commit b26c5994327922fa25da0f061a93ad3d1b41213d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Nov 6 08:41:22 2006 +0000

    GabbleMediaSession: tweak the _handle_create so we have a place to return an error if we're the initiator and the responder adds a stream which we're trying to add
    
    
    20061106084122-418b8-bf4592bb7f2ce1e0d4fdf491ab279501e3e1131a.gz

commit 589361388ac70de6624fa2faf0417f09fc78db35
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Nov 6 08:33:20 2006 +0000

    GabbleMediaSession: ignore content-add errors if the stream is acknowledged and the session initiator is remote - it implies it's been replaced by a stream from the remote end
    
    
    20061106083320-418b8-1856b976caa8229ce15c39dc0a87fa9c6d2df700.gz

 src/gabble-media-session.c |   28 ++++++++++++++++++----------
 1 files changed, 18 insertions(+), 10 deletions(-)

commit a0195aee926495484aaf83e8e4ee1f7c45d761e5
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Nov 5 16:12:10 2006 +0000

    GabbleMediaSession: in the event of a content-add for a stream which has been created locally but not acknowledged, and the other end is the initiator, discard our stream in favour of theirs
    
    
    20061105161210-418b8-9f3a12964daab99a2ab54c11355a67f5e5c4509d.gz

 src/gabble-media-session.c |   20 +++++++++++++++++---
 1 files changed, 17 insertions(+), 3 deletions(-)

commit d62199dacb734f0ac666f985561d920f589a8faa
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Nov 5 16:03:04 2006 +0000

    GabbleMedia{Session,Stream}: add a REMOVING signalling state in which no actions are sent
    
    
    20061105160304-418b8-6e81f43c00e82e250fc1057b4d86fbaf3f085bf9.gz

 src/gabble-media-session.c |   12 +++++++-----
 src/gabble-media-stream.c  |    3 ++-
 src/gabble-media-stream.h  |    3 ++-
 3 files changed, 11 insertions(+), 7 deletions(-)

commit 140c821a49e59943dff69c8c517cca9721fc3373
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Nov 2 16:53:28 2006 +0000

    GabbleMediaSession: when session-initiate and content-add actions get successful IQ returns, mark streams as ACKNOWLEDGED
    
    
    20061102165328-418b8-7e38a610ed3f228f4644cfd740fc18dba58bccf0.gz

 src/gabble-media-session.c |   61 +++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 60 insertions(+), 1 deletions(-)

commit d36d637b0c6a73f660c4cca82091252a17fe9ee0
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Nov 1 16:20:43 2006 +0000

    GabbleMediaSession: move remote-creation conditional stream property tweaking to the only code path which creates remote streams
    
    
    20061101162043-418b8-7d7b63415e6e0a0b978a0a8a08f53ad5838bd69b.gz

 src/gabble-media-session.c |   25 ++++++++++++-------------
 1 files changed, 12 insertions(+), 13 deletions(-)

commit a28534f770ed4bdad38cb9089f451bdcdbfa4865
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Nov 1 16:10:06 2006 +0000

    GabbleMediaSession: indentation/comment fixes
    
    
    20061101161006-418b8-57bf9591d273c54b0c746166904d81ebf3613b78.gz

 src/gabble-media-session.c |   35 +++++++++++++++++++++++------------
 1 files changed, 23 insertions(+), 12 deletions(-)

commit f0be05ad5576bc54f0002440391309da023b06c3
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Nov 8 12:53:15 2006 +0000

    configure.ac: only set -Wextra, -Wno-missing-field-initializers and -Wno-unused-parameter if they're supported by the compiler
    
    
    20061108125315-418b8-7736cb169fa5dedc30ae6bae8c281abe3f45092c.gz

 configure.ac |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit f79945b471f9a46f9934c5afddc22ac437813a14
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Nov 8 12:42:21 2006 +0000

    GabbleConnection: add missing g_error_free in new get_presence method
    
    
    20061108124221-418b8-6a8ee8545536ad71d3c9c1221a10203764982351.gz

 src/gabble-connection.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 018938456df7740802f8ac5f045d2146540f9443
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Nov 8 09:00:08 2006 +0000

    don't allow zero handles when constructing presence hash
    
    
    20061108090008-c9803-e4fbac0ab67774e5ffeaf3fa5d4bcf64262002bc.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 21b09f892da0f8ff0521947203f82a184be1bd0a
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Nov 7 16:32:18 2006 +0000

    construct_presence_cache: refactor handle validatoin
    
    
    20061107163218-c9803-9049e80bd64edfd8b207aa793ff420450739b1d6.gz

 src/gabble-connection.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit e70c0100fb857deeb151cd5586f8506673f1b727
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Nov 7 16:31:48 2006 +0000

    GetPresence: validate handles
    
    
    20061107163148-c9803-c0079920909aa948a9911b75e0fe625dd8bb3b54.gz

 src/gabble-connection.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 8065d8fda97d68845611f086b000301c4038b9da
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Nov 7 15:16:21 2006 +0000

    implement GetPresence
    
    
    20061107151621-c9803-334d1bfbf68097b22e632f9144ce9b850753f94f.gz

 src/gabble-connection.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit f9b69dd759b81e70e057d606b8eb85fabdba17cf
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Nov 7 15:14:38 2006 +0000

    regenerate sources and sync
    
    
    20061107151438-c9803-d9b2dc971d473383fe95ef05eea200c9e12bdb36.gz

 generate/src/gabble-connection.c |   18 ++++++++++++++++++
 generate/src/gabble-connection.h |    5 +++++
 src/gabble-connection.c          |   18 ++++++++++++++++++
 src/gabble-connection.h          |    5 +++++
 4 files changed, 46 insertions(+), 0 deletions(-)

commit 80ba192638cd6a2ed8b38818d04c7ac01b7691e4
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Nov 7 15:10:00 2006 +0000

    add GetPresence method to XML/async_implementations
    
    
    20061107151000-c9803-ea5e25155dfcb86871a54b741eb7ddefc62dc4de.gz

 generate/async_implementations              |    1 +
 generate/xml-modified/gabble-connection.xml |    5 +++++
 2 files changed, 6 insertions(+), 0 deletions(-)

commit 1f423afd2e6f47a8a945c47494b2ac553981d8a4
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Nov 7 15:00:30 2006 +0000

    factor out presence hash table construction
    
    
    20061107150030-c9803-d9fdae2a7710d8ffd71d090227f4142ae475a777.gz

 src/gabble-connection.c |   78 ++++++++++++++++++++++++++---------------------
 1 files changed, 43 insertions(+), 35 deletions(-)

commit a94bcb4ec71ebcffd59a425e99a9487a9f690e48
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Nov 8 12:05:26 2006 +0000

    GabbleDiscoPipeline: fix to cancel pending list items request if pipeline is destroyed
    
    
    20061108120526-01440-e11292a8c09dcb5b5c3396523aa16b7b99779395.gz

 src/disco.c |   14 ++++++++++++--
 1 files changed, 12 insertions(+), 2 deletions(-)

commit 02da22ba24257a0a9129be64c5cde682a7d3e04b
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Nov 8 11:37:38 2006 +0000

    GabbleMucChannel: emit received signal for our messages in MUC history
    
    
    20061108113738-01440-031ebed793b39b512751aa84f2911eb854dedff2.gz

 src/gabble-im-channel.c  |    3 +++
 src/gabble-muc-channel.c |    9 ++++++++-
 src/text-mixin.c         |    7 ++-----
 3 files changed, 13 insertions(+), 6 deletions(-)

commit f13a5c1643fda5add8ebe038f96029ed3470f854
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Nov 7 17:02:04 2006 +0000

    GabbleTextMixin: support for "feature not implemented" error in text channels
    
    
    20061107170204-01440-dea73f44b10e78e26b42f8e050d0c527ce4f8293.gz

 src/text-mixin.c |    4 ++++
 src/text-mixin.h |    1 +
 2 files changed, 5 insertions(+), 0 deletions(-)

commit 878fe973c012d54218ea45833f6fceb5e37d7355
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Nov 7 14:43:37 2006 +0000

    GabbleConnection: make connection callbacks safe in connect cancelling cases
    
    
    20061107144337-01440-62901822bd769a451dcaff62d0cc62a7d71790bb.gz

 src/gabble-connection.c |   27 +++++++++++++++++++++++++++
 1 files changed, 27 insertions(+), 0 deletions(-)

commit c6dbe35c2ad184119c2a6ec21018becf74dc5604
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Mon Nov 6 13:58:03 2006 +0000

    GabbleConnection: fix self_handle reffing upon connection and unreffing upon disconnecting not connected connection
    
    
    20061106135803-01440-d3d8d4b18854c88ff9e8f24b5dde54248b56164e.gz

 src/gabble-connection.c |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit 6550c4a18827367e76cd738108b116bd35c18b75
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Nov 6 12:30:31 2006 +0000

    use g_set_error where possible
    
    
    20061106123031-c9803-d92049d0ece77fc5454fbbcee788a88c12f72862.gz

 src/gabble-connection-manager.c |   26 ++++-----
 src/gabble-connection.c         |  108 ++++++++++++++++++--------------------
 src/gabble-media-channel.c      |   30 +++++------
 src/gabble-media-session.c      |   31 ++++++-----
 src/gabble-muc-channel.c        |   12 ++--
 src/gabble-roster-channel.c     |    4 +-
 src/group-mixin.c               |   12 ++--
 src/handles.c                   |   26 +++++----
 src/properties-mixin.c          |    8 ++--
 src/text-mixin.c                |    8 ++--
 10 files changed, 130 insertions(+), 135 deletions(-)

commit 1c3b4fc1539ded443b387dd300255fe1c9d82133
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Mon Nov 6 11:47:38 2006 +0000

    GabbleHandle: use g_set_error instead of g_error_new (allows passing NULL as GError in functions)
    
    
    20061106114738-01440-41c627aaef7f5cfb7eb3b2c88273e1b47e482597.gz

 src/handles.c |   35 +++++++++++++++--------------------
 1 files changed, 15 insertions(+), 20 deletions(-)

commit d1c52aa15ab1da6d963baad610e306f820521634
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Nov 3 19:00:03 2006 +0000

    make session action handlers set/propate various errors
    
    
    20061103190003-c9803-ea516547c1dae655f5388392fb76ba50aa11fd7b.gz

 src/gabble-media-session.c |   61 +++++++++++++++++++++-----------------------
 1 files changed, 29 insertions(+), 32 deletions(-)

commit 1ef5ea54653a93f18f506218e301d41bf2f6806d
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Nov 3 18:58:45 2006 +0000

    make _gabble_media_stream_post_remote_candidates take a GError
    
    
    20061103185845-c9803-de258798f1b3c59fe98676e34f557c01b471343e.gz

 src/gabble-media-stream.c |    6 +++---
 src/gabble-media-stream.h |    2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 71f7a8d5b85deaf346ca724ace3b708b725d6a93
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Nov 3 18:39:58 2006 +0000

    make _gabble_media_stream_post_remote_codecs take a GError
    
    
    20061103183958-c9803-84ef4e0857d89ec2a845a241db0c094f940ef931.gz

 src/gabble-media-stream.c |   21 +++++----------------
 src/gabble-media-stream.h |    2 +-
 2 files changed, 6 insertions(+), 17 deletions(-)

commit b2d2bcddadf96dbd619cc5bcffe65a4ec7e7ed14
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Nov 3 18:33:53 2006 +0000

    fix pointer-ness of error
    
    
    20061103183353-c9803-8ad08e5c68e5e6d32ddc826a0c4964aed6416bf2.gz

 src/gabble-media-session.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 30e262c915dd58395e1842f582893ebded2e74b9
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Nov 3 17:23:22 2006 +0000

    set GError in session handling code
    
    
    20061103172322-c9803-653e7811ee15a6d0cfb6afac2025bc46a4f9acc6.gz

 src/gabble-media-session.c |   28 ++++++++++++++++------------
 1 files changed, 16 insertions(+), 12 deletions(-)

commit 80f8f45e2bb1f86144371c9e26f18ee1a66e68b2
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Nov 3 17:22:07 2006 +0000

    use error returned from session handling function if provided
    
    
    20061103172207-c9803-61f54ee5f8c3fc5576c0a53c21f38235320afa61.gz

 src/gabble-media-session.c |   22 ++++++++++++++++++----
 1 files changed, 18 insertions(+), 4 deletions(-)

commit 1e939e15074fc71b33a0907469129bcd284fe1d6
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Nov 3 17:18:41 2006 +0000

    add support for specialised errors; add Jingle-specific errors
    
    
    20061103171841-c9803-67d15159f70b0fad919fdeaa22d6ad92e82df7ff.gz

 src/gabble-error.c |  104 +++++++++++++++++++++++++++++++++++++++++++++++++++-
 src/gabble-error.h |    5 ++
 2 files changed, 107 insertions(+), 2 deletions(-)

commit b9fdf6395ad833a18e15e5b61332fc6f7865ed45
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Nov 3 17:18:23 2006 +0000

    add Jingle error namespace
    
    
    20061103171823-c9803-d7407906a91b6a0b3342dc8b4cf778922452a37c.gz

 src/namespaces.h |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit e05fe552a4437ba69e37738218bad0113ac2de3c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Nov 3 11:50:46 2006 +0000

    pass GError into media session handler functions
    
    
    20061103115046-c9803-e40f23053d1a867ddb55ec9754c369f34054f074.gz

 src/gabble-error.c         |    5 ++++-
 src/gabble-media-session.c |   43 ++++++++++++++++++++++++++++---------------
 2 files changed, 32 insertions(+), 16 deletions(-)

commit 9d680cfb603553698ed98be0e6543ef89659c48b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Nov 1 01:03:21 2006 +0000

    GabbleMediaStream: tweak _add_content_descriptions so that when we're adding senders=... to the <content> for an existing stream, we don't end up telling the other end that we've rejected a pending local send
    
    
    20061101010321-418b8-b92db8aacabaaf96501f8a54aaad02f04bb73963.gz

 src/gabble-media-session.c |   17 ++++++++++++-----
 1 files changed, 12 insertions(+), 5 deletions(-)

commit 4029faef1e1cf4cc154470f96c77d865ea7ab554
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Nov 1 00:24:31 2006 +0000

    GabbleMediaSession: fix spelling in comment
    
    
    20061101002431-418b8-5d5dec8c6ea99a538d7f7e7c45967c3c38f79050.gz

 src/gabble-media-session.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 34b585a5107921cd456fcafad2f06c953d3fc7f6
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Oct 31 17:20:04 2006 +0000

    GabbleMediaChannel: wrap line
    
    
    20061031172004-418b8-2c3de65b9ebdc661e1781faca1d5561c63aae491.gz

 src/gabble-media-channel.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 98a5df52b547fa1ed256564527eca58d4d684c57
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Oct 31 17:09:48 2006 +0000

    GabbleMediaSession: if the directionality of an unsignalled stream was changed locally before it was signalled, include that directionality in the initiate or add
    
    
    20061031170948-418b8-fbc0fcc90b1fc7c56c0013dc2ae4bec02c0b35bf.gz

 src/gabble-media-session.c |   28 +++++++++++++++++++++++-----
 1 files changed, 23 insertions(+), 5 deletions(-)

commit 3a9fab404bd64662c9ae139158c28e2afeb7080c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Oct 31 17:03:28 2006 +0000

    GabbleMediaSession: don't send content-modify (direction changes) on streams that we've not signalled to the peer
    
    
    20061031170328-418b8-665ae0b079a21f005e4e8b3e58a887696bee9f17.gz

 src/gabble-media-session.c |   15 ++++++++++++++-
 1 files changed, 14 insertions(+), 1 deletions(-)

commit e730e0f1ba18a809ccc0b072757e2703a8266c08
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Oct 31 16:24:42 2006 +0000

    GabbleMediaSession: terminate the session if the other end doesn't understand our content-remove request; it indicates painful disagreement about the state of affairs
    
    
    20061031162442-418b8-e3c98470af6740583f8578b6f5f364fbb23bf72e.gz

 src/gabble-media-session.c |   22 ++++++++++++++++++----
 1 files changed, 18 insertions(+), 4 deletions(-)

commit 321f468d6a2b4550bda33bf2f42e9328314ea8af
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Oct 31 16:19:19 2006 +0000

    GabbleMedia{Channel,Session}: make session_remove_streams take an array and a length to avoid having to allocate temporary GPtrArrays all over the place, and make the channel ensure the streams being removed are distinct
    
    
    20061031161919-418b8-e1d0831dd791e495b42815fd05eb9a5269b95d7f.gz

 src/gabble-media-channel.c |   28 +++++++++++++++++++---------
 src/gabble-media-session.c |   32 +++++++++-----------------------
 src/gabble-media-session.h |    2 +-
 3 files changed, 29 insertions(+), 33 deletions(-)

commit add226ed79d0e9887414f9dba5ad651acefcb045
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Oct 31 14:38:00 2006 +0000

    GabbleMediaSession: only signal removals of streams which have been signalled to the other end
    
    
    20061031143800-418b8-64223e6245b0d79a3df7fa1cb4947b5fc432f1b5.gz

 src/gabble-media-session.c |   51 +++++++++++++++++++++++++++----------------
 1 files changed, 32 insertions(+), 19 deletions(-)

commit 5348b297e86ba41e24e7f478feeb8c9a52f451cb
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Oct 31 13:29:47 2006 +0000

    GabbleMediaSession: don't try and cast the session to a group mixin to get the self_handle... it doesn't use the mixin
    
    
    20061031132947-418b8-cf35f5fbaf397918d291dce2a1682d7004d353cc.gz

 src/gabble-media-session.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit acf4541edef117f8260fd38c55e0e7f9f4c77334
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Oct 31 13:29:06 2006 +0000

    GabbleMediaSession: signal any streams to the remote end which were added locally & became ready before the stream was accepted, so havn't been mentioned yet
    
    
    20061031132906-418b8-85b93afc9d20edd2ba923909409f68c191652a33.gz

 src/gabble-media-session.c |   46 ++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 46 insertions(+), 0 deletions(-)

commit 9d9afbfded2ea8d8e548e9b8b032b94ca77cf913
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Oct 31 13:27:49 2006 +0000

    GabbleMediaSession: acknowledge the IQ before changing the state, because the new state could perform some actions which the other end will only accept if this action has been acknowledged
    
    
    20061031132749-418b8-529baf6fbc1f71fe435fbdad514ecbcf047fbdfa.gz

 src/gabble-media-session.c |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit 7ae050d0bd64e6c59058dcd5c9acc6616e8aa9ba
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Oct 31 13:03:49 2006 +0000

    Gabble{Group,Properties,Text}Mixin: update mixin & class cast macros to use gabble_mixin_offset_cast function, so that casting something that's not actually got the mixin doesn't silently succeed and give you random offsets into the class or object structures
    
    
    20061031130349-418b8-519a007c6b4f7f5c6b01bf2fbaacfacc40678801.gz

 src/group-mixin.h      |    5 +++--
 src/properties-mixin.h |    5 +++--
 src/text-mixin.h       |    5 +++--
 3 files changed, 9 insertions(+), 6 deletions(-)

commit 22100ec482b525bec9bcd816259004b43692aaf9
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Oct 31 13:03:26 2006 +0000

    GabbleMediaSession: update debug strings to indicate that invalid actions don't result in termination, just rejection
    
    
    20061031130326-418b8-8560485875244256818cc3759f3d313636c16e77.gz

 src/gabble-media-session.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit c62ce57473fe1102c1ab8ea6b2b921b69fdecf8a
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Oct 31 13:02:28 2006 +0000

    GabbleXmppErrors: fix needless < 0 comparisons on unsigned values
    
    
    20061031130228-418b8-3373b1d97133edc2c54a091f85a8806b8edcee9b.gz

 src/gabble-error.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 66030b0354055e5cf309c2eced1c0e8446e79e84
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Oct 31 12:58:07 2006 +0000

    add a gabble_mixin_offset_cast function to increment a pointer by an offset, provided the offset is not 0
    
    
    20061031125807-418b8-1a48e1e11b1f49a50a66f36a988d6a31699bf694.gz

 src/util.c |   10 ++++++++++
 src/util.h |    2 ++
 2 files changed, 12 insertions(+), 0 deletions(-)

commit 108693b5c1de333e327c73801f944672552c87d6
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Oct 30 13:29:04 2006 +0000

    Fix dozens of uses of signed instead of unsigned ints in for loop counters.
    
    
    20061030132904-418b8-ac65b14da721fafadbca953b85b91576ce5840f2.gz

 src/gabble-connection.c    |    8 ++++----
 src/gabble-media-channel.c |    3 +--
 src/gintset.c              |   17 +++++++++--------
 src/gintset.h              |    2 +-
 src/handles.c              |    2 +-
 src/media-factory.c        |    4 ++--
 src/properties-mixin.c     |    4 ++--
 7 files changed, 20 insertions(+), 20 deletions(-)

commit 6113394faedebf098dbcd2e1f083f0f85aee24bc
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Oct 30 13:28:43 2006 +0000

    configure.ac: on non-zero nano versions, compile with -Wextra -Wno-unused-parameter -Wno-missing-field-initializers as well as -Werror
    
    
    20061030132843-418b8-8956b3b904831fea0ab6e54cd6d2f95f942084a6.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a857af25db846e7f73bdfb4d1e84509079f26abf
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Oct 26 19:12:40 2006 +0000

    GabbleMediaSession: don't terminate the session if a handler reports an error, leave that to the other end
    
    
    20061026191240-418b8-3a191f680a1c49a066ddbf1e59241241ead97d31.gz

 src/gabble-media-session.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit d6e03f95b5045085af71f9b333c055054e59d3e6
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Oct 26 18:28:54 2006 +0000

    GabbleMediaSession: mark streams as sent after a content-add
    
    
    20061026182854-418b8-77b61f5bcbcf1a893782812f54b94026b68811f3.gz

 src/gabble-media-session.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 2b42274a9c6d72df93afa1abb3d9023231dccdb6
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 25 12:11:46 2006 +0000

    GabbleMediaSession: only look at remote streams when considering whether we can accept a call
    
    
    20061025121146-418b8-3c3f54703af8cc0aec16590f0598ab5f37ffdfcc.gz

 src/gabble-media-session.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit c01dcaf20a0e684a972d6d0b5864cd1b049bde56
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 25 12:11:22 2006 +0000

    GabbleMediaSession: set incoming streams to acknowledged immediately
    
    
    20061025121122-418b8-aae77a5304d872c36f8fec5fc579761461be88d1.gz

 src/gabble-media-session.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 89219e02a07a5b7e7630a3c7f6a5c88f712f86af
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 25 12:10:34 2006 +0000

    GabbleMediaSession: when we initiate, set local streams as sent. when we accept, set remote streams as playing.
    
    
    20061025121034-418b8-6dcb4e6e00be3250dd251dd584b9d00a570baac1.gz

 src/gabble-media-session.c |   54 ++++++++++++++++++++++++++++++++++++-------
 1 files changed, 45 insertions(+), 9 deletions(-)

commit 07f336f19df57002dab6d6718104a9aa96bc58e0
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 25 12:08:32 2006 +0000

    GabbleMediaSession: add ACCEPT_SENT to the state debug table
    
    
    20061025120832-418b8-d8ff089108d9470d984eb016e3d336a219d95adf.gz

 src/gabble-media-session.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 0c50fbec2902dd3f4ceb733d70a20a1f26e1be3c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 25 11:41:35 2006 +0000

    GabbleMediaSession: if the call is not ACTIVE, check whether we've already sent the accept or the initiate, so we don't send multiple initiates or accepts if the local side adds stream before the call is established
    
    
    20061025114135-418b8-ef7bfede30aca2de429c3aa89bab2d8997a712ca.gz

 src/gabble-media-session.c |   22 ++++++++++++++++++++--
 src/gabble-media-session.h |    1 +
 2 files changed, 21 insertions(+), 2 deletions(-)

commit 531286bdb371c57064ea7130a2141905e68f1856
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 25 11:39:20 2006 +0000

    GabbleMediaStream: don't push candidates when stream is in NEW signalling state
    
    
    20061025113920-418b8-5fdb475eba88edf7f665f4c5c46beabfce21c280.gz

 src/gabble-media-stream.c |   10 +++++++++-
 1 files changed, 9 insertions(+), 1 deletions(-)

commit 94e49066007d447f000688afcbb6966b7dde4066
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 25 11:37:36 2006 +0000

    GabbleMediaSession: only send local streams when initiating, and remote streams when accepting
    
    
    20061025113736-418b8-09b79ac19bd893c6bf5826faeacaf4317b7ace20.gz

 src/gabble-media-session.c |   24 +++++++++++++++++++++---
 1 files changed, 21 insertions(+), 3 deletions(-)

commit 918c9626043addba6311e622add25606ac3f9490
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Oct 24 11:06:10 2006 +0000

    GabbleMediaSession: merge conflict between locally_accepter/terminated
    
    
    20061024110610-418b8-12d56676d1a4caf49748c2eb66214576cdc3970f.gz

 src/gabble-media-session.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 971a2bf5ff7f224549661f9049aea01578e12b81
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Oct 20 20:21:08 2006 +0000

    GabbleMediaSession: on 2nd thoughts... stop using a per-stream "locally-accepted" property, and instead just have priv->locally_accepted on the session
    
    
    20061020202108-418b8-20ecdd6b7e18383276b48da22361d9de5bc5fe8b.gz

 src/gabble-media-session.c |   49 +++++++++++++++++--------------------------
 1 files changed, 19 insertions(+), 30 deletions(-)

commit b1c421718ef241c8ac3ace2d48f37f4f0b4c3d5b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Oct 24 11:00:49 2006 +0000

    GabbleMediaStream: replace "locally-accepted" property with "signalling-state", which can be NEW, SENT or ACKNOWLEDGED
    
    
    20061024110049-418b8-6ce2d1d9880ce6ab528d25512f8c34ed8d78698c.gz

 src/gabble-media-stream.c |   32 +++++++++++++++++---------------
 src/gabble-media-stream.h |    7 +++++++
 2 files changed, 24 insertions(+), 15 deletions(-)

commit 09158c22cbcf17de7fe7c36fe658d04b897547a8
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Oct 31 19:50:01 2006 +0000

    change wrapping
    
    
    20061031195001-c9803-b3c3eba26fbfbeabcef957a9fe295db0a373f290.gz

 src/roster.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit cc20585e6897882602421f6a28c4f248323e2037
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Oct 31 19:49:30 2006 +0000

    print debug message when discarding odd Google roster entries
    
    
    20061031194930-c9803-b50106653c9cad4117524ca93e83083d24464167.gz

 src/roster.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit d460aae5b3f89a6fb8a28cdb8145cd4f7c792d53
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Oct 31 19:44:28 2006 +0000

    roster: don't free item handles until all items have been processed; otherwise handles get reused and hilarity ensues
    
    
    20061031194428-c9803-44370c50103ec3dca5f9fcc216c1793e46696e8b.gz

 src/roster.c |   13 +++++++++++--
 1 files changed, 11 insertions(+), 2 deletions(-)

commit b57e238ef597f33ed3ca3677a6c6192c2a9b7520
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Oct 31 19:43:35 2006 +0000

    g_intset_dump ()
    
    
    20061031194335-c9803-228f298340038dc762f8c4c6f412281fa6556c59.gz

 src/gintset.c |   20 ++++++++++++++++++++
 src/gintset.h |    2 ++
 2 files changed, 22 insertions(+), 0 deletions(-)

commit 78350ac16b9721ee28bcd7a641485459e738a78c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Oct 31 19:43:10 2006 +0000

    make g_intset_foreach take const intset
    
    
    20061031194310-c9803-16db87a803d13d1b94eca4bad59b04b664923bf9.gz

 src/gintset.c |    2 +-
 src/gintset.h |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit e72d7206f243767e96c7b159a13bd9ebb69cd609
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Oct 31 16:13:26 2006 +0000

    change wrapping
    
    
    20061031161326-c9803-4c1df0e02cad4f7f5f802685c9fcc011368e0b9c.gz

 src/roster.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 0b8187071ef8536a2ca3f31d8b469c29860e1653
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Oct 31 16:12:59 2006 +0000

    pass roster item into Google oddness checking function; refactor checks to match
    
    
    20061031161259-c9803-41d1dc957a9375ca6864bb6a2920fc1829606447.gz

 src/roster.c |   24 +++++++++++-------------
 1 files changed, 11 insertions(+), 13 deletions(-)

commit 429c22de44ca43949e531279b21e870627274b36
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Oct 31 15:51:53 2006 +0000

    allow Google items with non-none subscription, and other exceptions
    
    
    20061031155153-c9803-d6e772f674d42c5dbfcdf463d16a9b2b8b8e78e5.gz

 src/roster.c |   19 ++++++++++++++++++-
 1 files changed, 18 insertions(+), 1 deletions(-)

commit af42b3adf29dd3f09148773c063dea82f3e66d48
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Oct 31 15:43:05 2006 +0000

    refactor checking for hidden status
    
    
    20061031154305-c9803-b093696d286b3d78f5baf6336d420fa5527528b8.gz

 src/roster.c |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit b302e29854ccfc3705583267b6b32d4c28483ebc
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Oct 31 15:38:11 2006 +0000

    treat name as null if roster subscription is removed
    
    
    20061031153811-c9803-d2c259fdb44376a00aef6e3d4cdcf44d9b2f4c5a.gz

 src/roster.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 2eb2541ed4075fc2e71631012c43fe889c158535
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Oct 31 15:33:08 2006 +0000

    check for Google changes to roster item before processing name and groups
    
    
    20061031153308-c9803-c081c306ac9cef3de05fa0e1a0046d667ed03cb8.gz

 src/roster.c |   20 ++++++++++----------
 1 files changed, 10 insertions(+), 10 deletions(-)

commit c7a3c2d92333e52168ed2c91b5f55f75cae09848
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Oct 31 15:19:44 2006 +0000

    roster: only set google item mode if roster is in google mode
    
    
    20061031151944-c9803-db5643786e69afba565128f43cb843d15223fbf3.gz

 src/roster.c |   16 +++++++++-------
 1 files changed, 9 insertions(+), 7 deletions(-)

commit 66a339c156d3f00863e8d8bc643e01af7f0eff7c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Oct 31 14:57:12 2006 +0000

    ignore Google roster items that aren't real JIDs
    
    
    20061031145712-c9803-ded6ddbdd74a43163988c4f387526d0fecbc94fa.gz

 src/roster.c |   47 ++++++++++++++++++++++++++++++++++++++---------
 1 files changed, 38 insertions(+), 9 deletions(-)

commit 8aa3b5dbbc579d6922db61f248cb1be81ce46878
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Nov 3 17:26:46 2006 +0000

    GabbleRosterChannel: when denying subscription, remove contact's handle from the mixin if it's in the local_pending set (fixes behaviour in case of re-requesting denied subscription)
    
    
    20061103172646-01440-13708a98f96a242df4caff4b29ebdd8f7f7ed4f6.gz

 src/gabble-roster-channel.c |   15 +++++++++++++++
 1 files changed, 15 insertions(+), 0 deletions(-)

commit 46696a04a87b36aa103b13170fa08abfa84eab5d
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Oct 31 13:34:30 2006 +0000

    GabbleTextMixin: setting max message size to 1k
    
    
    20061031133430-01440-25408645d1400ee10b52023b42ab7a218a37806f.gz

 src/text-mixin.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ff2a9e7fe4a2166b0fe53e0ed53d4d41ed68c4ce
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Mon Oct 30 14:58:20 2006 +0000

    GabbleMucChannel: use room-local handles for local_pending member list
    
    
    20061030145820-01440-e20a25d63d17ae0ebbe7f8503475d2e9e2941a19.gz

 src/gabble-muc-channel.c |   37 +++++++++++++++++++++++++++++++++++--
 src/muc-factory.c        |   30 +++++-------------------------
 2 files changed, 40 insertions(+), 27 deletions(-)

commit c5b41c894f3a2ce4d7f49e10f23397eda8a7f255
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Thu Oct 26 14:51:56 2006 +0000

    GabbleRoomlistChannel: emit a signal when room listing is done
    
    
    20061026145156-01440-7b9e2c39a58177b9d0db605c2e74f182007f67ff.gz

 src/gabble-roomlist-channel.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 85a480c376bdaf43584cf48d4c9d2f85ef0fe0f9
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Oct 25 14:56:26 2006 +0000

    fixing the fix in gabble handle validation
    
    
    20061025145626-01440-dba09088f977e99a8b0e38d39aed968b2048b6e1.gz

 src/handles.c |   13 +++++++++++--
 1 files changed, 11 insertions(+), 2 deletions(-)

commit 67af559546e643e2179f81ccb92b1562ac343069
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Wed Oct 25 13:23:30 2006 +0000

    fix null pointer deferecence in media channel debug message
    
    
    20061025132330-c9803-09c93dedfe31aea5218dbde745019b280870678e.gz

 src/gabble-media-channel.c |   14 ++++++++++++--
 1 files changed, 12 insertions(+), 2 deletions(-)

commit 01241517ae52333f483b1d6fd81817ad6ba5218b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Oct 24 11:03:06 2006 +0000

    GabblePresenceCache: fix non-compiling caps debug code
    
    
    20061024110306-418b8-7f2d7d3cc2648398b0de9589fe509b122075f805.gz

 src/gabble-presence-cache.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4d333a78d6195555b927a06ec652ac102564a592
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Tue Oct 24 18:04:48 2006 +0000

    Add tons of debug to gabble_presence_set_capabilities
    
    
    20061024180448-9db4d-d6eb3a55bc7d41a54ca21613c8a7076ffd403213.gz

 src/gabble-presence.c |   19 ++++++++++++++++++-
 1 files changed, 18 insertions(+), 1 deletions(-)

commit d08e858fc5813ef1f6ad20be5f39dd00f161c39f
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Tue Oct 24 18:04:34 2006 +0000

    Make the handling of caps serials better to avoid race conditions (should have been like this always)
    
    
    20061024180434-9db4d-8d418da2ede34beefac75586e41fdee4fc70902d.gz

 src/gabble-connection.c     |   12 +++++++-----
 src/gabble-presence-cache.c |    1 +
 src/gabble-presence.c       |    7 +++++--
 3 files changed, 13 insertions(+), 7 deletions(-)

commit e406a2be51eb72ed53c8e14a967cd6a3e8f039c0
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Tue Oct 24 17:35:37 2006 +0000

    style: indent a line properly
    
    
    20061024173537-9db4d-8df787eca1e9c333eba24609d0b60ae6d5217d83.gz

 src/gabble-presence-cache.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 5c94c9eea86d76d2cd91a4f6185998e4e4e8ad84
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Mon Oct 23 16:58:49 2006 +0000

    Make the link-removing iteration of disco waiters in presence cache clearer
    
    
    20061023165849-9db4d-af3f896fd3b1d22a95afc051e3abaf3ec7147954.gz

 src/gabble-presence-cache.c |   14 ++++++++------
 1 files changed, 8 insertions(+), 6 deletions(-)

commit 0263e6acc1c19ab6e5345be0bf1dbba919af1227
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Mon Oct 23 15:45:31 2006 +0000

    Make presence cache, especially poison handling saner
    
    
    20061023154531-9db4d-fad041df5158c72e4964b4baa4d0e97fa7ad0e57.gz

 src/gabble-presence-cache.c |  112 +++++++++++++++++--------------------------
 1 files changed, 44 insertions(+), 68 deletions(-)

commit bc256f652fc658f1e1f7041aec8b12f709573c90
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Mon Oct 23 12:28:37 2006 +0000

    Remove guys we get replies for from waiter lists
    
    
    20061023122837-9db4d-3279974a2649a5225039eed33dbd3c1d0c2a26f6.gz

 src/gabble-presence-cache.c |   16 ++++++++++++++--
 1 files changed, 14 insertions(+), 2 deletions(-)

commit 68be3dc7642e690011d0419f9e0c461f9c16974a
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Oct 24 11:03:06 2006 +0000

    GabblePresenceCache: fix non-compiling caps debug code
    
    
    20061024110306-418b8-dec46a9e6b83efacf1059490a16815059b4f3eb4.gz

 src/gabble-presence-cache.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 546e20ec09417e8d9c63741814a74888948e553d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Oct 24 11:00:02 2006 +0000

    GabbleMediaSession: fix typo in debug string
    
    
    20061024110002-418b8-8b5373bf954217ecf537f4b93152b980d07587c0.gz

 src/gabble-media-session.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit e1ccb3708c0602b72a9f4e87530ded911690ead5
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Oct 24 16:44:51 2006 +0000

    don't send both "reject" and "terminate" actions
    
    
    20061024164451-c9803-12a55cd2e2082dfc59354dd0960f6a0a94abc421.gz

 src/gabble-media-session.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f5404d5a5e943922530e11aa6e22cdbee8c925f1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Oct 24 16:39:03 2006 +0000

    send gr:include="all" in roster get IQ
    
    
    20061024163903-c9803-e6a481d6962edf6331c397925125c1d9c4420280.gz

 src/roster.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit fbdae14340a2eead09a33c317da9c2bfa933b3dc
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Oct 24 16:38:48 2006 +0000

    use g_set_error for handle validation errors
    
    
    20061024163848-c9803-6769aed66861f7c3b61a6618c5ef5a8d26c5c5fb.gz

 src/handles.c |    8 ++------
 1 files changed, 2 insertions(+), 6 deletions(-)

commit 8d849893c0b73eeb71bfddfaecc42317019d59af
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Oct 24 16:38:35 2006 +0000

    make handle_priv_lookup static
    
    
    20061024163835-c9803-db4a44bddc1af791c78d5f1b77d40eacf67a06c5.gz

 src/handles.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9654f970dfc0d07f69d81fd421d183f1e5b69f25
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Tue Oct 24 16:38:13 2006 +0000

    handle "reject" Jingle session action like a terminate
    
    
    20061024163813-c9803-731744f87334914dee2d205f53fc195fe72bc9af.gz

 src/gabble-media-session.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 2605264b637786adf70e244df9c52ccf22d598bb
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Mon Oct 23 12:18:37 2006 +0000

    deny list handling: stringify item's type rather than GOOGLE_ITEM_TYPE_NORMAL
    
    
    20061023121837-c9803-421fe725347660c21e1848b85d6f5a64ca0cf3f7.gz

 src/roster.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a32abd2c4a032720370a67dce732d848620ae321
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Oct 20 19:41:06 2006 +0000

    don't send session-terminate if peer terminated the session; check terminate signal was emitted before session state <- ENDED
    
    
    20061020194106-c9803-2af6199b866236d0fb799a81767c867d3721000b.gz

 src/gabble-media-session.c |   52 ++++++++++++++++++++++++-------------------
 1 files changed, 29 insertions(+), 23 deletions(-)

commit cb065d6604adcdff01ad734aa324fdbdeaa22b28
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Oct 20 19:38:51 2006 +0000

    call session action handlers with null stream/stream name if action has no streams
    
    
    20061020193851-c9803-45ef6a1d3041572b9c5a1b85dcb2a18d82b2a48d.gz

 src/gabble-media-session.c |   18 +++++++++++++-----
 1 files changed, 13 insertions(+), 5 deletions(-)

commit 55f10186164daae085e3a43e26635ee5f6d78d2e
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Oct 20 19:36:59 2006 +0000

    don't set session state to ENDED after handling terminate action
    
    
    20061020193659-c9803-4e3521ebf5280f6685e4f11099b00e2dcbca54f0.gz

 src/gabble-media-session.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c5dff219fcfe8ad0e85b189d2f691b04c65e1c21
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Oct 20 18:08:59 2006 +0000

    fix uninitialised variables
    
    
    20061020180859-c9803-e8112b96392cc14ff7bd2c689220f473883bcb0a.gz

 src/gabble-media-channel.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit e998f4d912c816082fec8289c5225c6eb4a52dc7
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Oct 20 17:31:16 2006 +0000

    add terminated signal to media session and use it in the media channel
    
    
    20061020173116-c9803-0c521bcc5ee9bb88e6182d35f3b54ee024316493.gz

 src/gabble-media-channel.c                    |  128 +++++++++++++++----------
 src/gabble-media-session-signals-marshal.list |    1 +
 src/gabble-media-session.c                    |   53 +++++++++-
 src/gabble-media-session.h                    |    6 +-
 4 files changed, 128 insertions(+), 60 deletions(-)

commit eb7d8dd963568f3e532886148e571686f5847f1a
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Oct 20 17:16:23 2006 +0000

    make media session dispose/finalize static
    
    
    20061020171623-c9803-29532c25536c1c4990756e5f0afaa719977a6111.gz

 src/gabble-media-session.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 830aee07ea7aca10a9a4c1943173ce320b94c9ec
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Oct 20 16:40:18 2006 +0000

    split g_assert into three separate assertions
    
    
    20061020164018-c9803-ccc150e8d0c41eb300dacac1c027b8e25cc48360.gz

 src/gabble-media-channel.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 9a2cc8a79758c1f21a54ba168dbd91197dfd5007
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   Fri Oct 20 16:39:54 2006 +0000

    add group change error reason
    
    
    20061020163954-c9803-f194a79c2cce650d4b2934689c9b4c723d903675.gz

 src/telepathy-constants.h |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit ae84e2060bc2aac4d26291fbaec54cbd04cfac32
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu Oct 19 18:59:30 2006 +0000

    add comment about session error state changes
    
    
    20061019185930-b59df-f868eda3c8f0e5c9f33550c653671491d09e1960.gz

 src/gabble-media-session.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 5fd63388b4b1cd5478e90720c6e7b72baebc73cd
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu Oct 19 18:59:18 2006 +0000

    fix indentation
    
    
    20061019185918-b59df-e5613ae32b43888389c263b26672937264a9ab8a.gz

 src/gabble-media-channel.c |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit caa307232716c1de68e72fcc2b7d047ea46d5c22
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu Oct 19 18:12:36 2006 +0000

    add NULLable error message param to _gabble_connection_send_iq_error and gabble_xmpp_error_to_node
    
    
    20061019181236-b59df-63b715e178863e2f73c5892bca2da167e1ff7569.gz

 src/gabble-connection.c    |    7 ++++---
 src/gabble-connection.h    |    2 +-
 src/gabble-error.c         |    6 +++++-
 src/gabble-error.h         |    2 +-
 src/gabble-media-session.c |    2 +-
 src/gabble-media-stream.c  |    6 ++++--
 src/media-factory.c        |    3 ++-
 7 files changed, 18 insertions(+), 10 deletions(-)

commit 34b17c5a519e77713077bcd46b29949efbe9ca26
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu Oct 19 18:02:04 2006 +0000

    fix indentation
    
    
    20061019180204-b59df-81da3484c7ff4ea10df8c43cb2360a8a870bef15.gz

 src/gabble-media-session.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit deb6e1b33fc0f11390409dcaf4e4a981f3893e85
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Mon Oct 23 14:50:51 2006 +0000

    Add some debug to presence cache caps discoing
    
    
    20061023145051-9db4d-a16004ca46346df56a0990d3b196b3f14d4ff27d.gz

 src/gabble-presence-cache.c |   10 +++++++++-
 1 files changed, 9 insertions(+), 1 deletions(-)

commit 5cccd2587f753782f1b5efda4d55c3b9926c051e
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Wed Oct 18 15:13:50 2006 +0000

    More caps debug
    
    
    20061018151350-9db4d-2870375fb6df8c39910fe69a2e9dba2946e49860.gz

 src/gabble-connection.c     |   11 +++++++++++
 src/gabble-media-channel.c  |    2 ++
 src/gabble-presence-cache.c |    1 +
 3 files changed, 14 insertions(+), 0 deletions(-)

commit 2201a036e3305d5bb8e18f5feea406c72ca5422c
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Mon Oct 23 16:23:59 2006 +0000

    Plug a memory leak in _emit_capabilities_changed
    
    
    20061023162359-9db4d-db62fb3e5f606409032958432d7b057f961d6fd8.gz

 src/gabble-connection.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit b110ae3de247713d5ffe4ca1f83450a615bd177e
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Mon Oct 23 15:59:12 2006 +0000

    Plug memory leak in _process_caps
    
    
    20061023155912-9db4d-21e23c6108d2d47e5e1700f367ba760f9c225ad0.gz

 src/gabble-presence-cache.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 5773d07868ffc1548d0edbaf186a05bab69876c8
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Oct 18 23:13:33 2006 +0000

    fix incorrect validating of nonzero handles
    
    
    20061018231333-01440-15b30cdeee43988e00b58a520bb5479c8f6df0eb.gz

 src/handles.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 8ad7b39ab083a0202db4c525b8e0ef4631cc215a
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Oct 18 22:51:54 2006 +0000

    fix crash when GabbleConnection is disposed before leaving internal NEW state
    
    
    20061018225154-01440-730144cdf675585aaa797ff2bf30a2b976b3d4cd.gz

 src/gabble-connection.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 371632d76243e8999567abc9c72486c817ebf56a
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Oct 18 21:23:47 2006 +0000

    GabbleConnection: allow Disconnect method when the connection is not connected
    
    
    20061018212347-01440-e4c6906e25606c542ae7bdefba1fa2363d9220c9.gz

 src/gabble-connection.c   |   24 +++++++++++++++++++++---
 src/telepathy-constants.h |    3 ++-
 2 files changed, 23 insertions(+), 4 deletions(-)

commit 35e59f3d25bceb677be6b3c0d48f97eeb96ce08a
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed Oct 18 19:11:21 2006 +0000

    simplify caps setting code
    
    
    20061018191121-b59df-c27d9cb51483a930f87c43482e733754908735fd.gz

 src/gabble-presence.c |    8 +++-----
 1 files changed, 3 insertions(+), 5 deletions(-)

commit ed246984994e1e4123513a56e53e28516ffd3f6c
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed Oct 18 19:10:58 2006 +0000

    remove unnecessary wrapping
    
    
    20061018191058-b59df-5f05a36b0032036da1d8eb8f06c82e5191978797.gz

 src/gabble-presence.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 61b504240db34bc5314ab9639cf3bd388172f7d2
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Wed Oct 18 17:53:33 2006 +0000

    Prime our capabilities cache with google's ns #voice-v1 as well as our own
    
    
    20061018175333-9db4d-2014ac85071f87d5a9a1d691c15a3d7557db8677.gz

 src/capabilities.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 0c367c1f9435b89792024533ae421921cf6b81c9
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Wed Oct 18 15:38:40 2006 +0000

    Trust ourselves in bundle meanings
    
    
    20061018153840-9db4d-408e6a7f640906c7e8c91b4cc9741b5d21fe4076.gz

 src/gabble-presence-cache.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 1d92236dde6b5107cd01462ad65fb51d9026e794
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Wed Oct 18 15:35:41 2006 +0000

    Make the trust system actually use the separate-from-trustee-count trust value
    
    
    20061018153541-9db4d-6db9093194d2c23964868ce32f4a3a63727b78cd.gz

 src/gabble-presence-cache.c |   13 +++++++++----
 1 files changed, 9 insertions(+), 4 deletions(-)

commit a8e16f4ad7460c4d0ed9c8ede9d37e2d52e09838
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 18 13:45:58 2006 +0000

    GabbleConnection: fix MUC handle discoing further; change break to continue and allow malformed <feature type=""> which apparently some servers send
    
    
    20061018134558-418b8-622ed5648adaf0efedf1103130597c50076fc736.gz

 src/gabble-connection.c |   15 +++++++++++++--
 1 files changed, 13 insertions(+), 2 deletions(-)

commit d9cb0411602a4ff061f03ecab24daf03de275e80
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed Oct 18 17:40:50 2006 +0000

    fix disco_waiters_list_get_request_count to return non-random numbers
    
    
    20061018174050-b59df-014bd143a1eb96e8647859bca5c83410038a13aa.gz

 src/gabble-presence-cache.c |   21 +++++++++------------
 1 files changed, 9 insertions(+), 12 deletions(-)

commit aaaf42aeb3d7a888377f8c58d859059e483201d8
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 18 11:15:10 2006 +0000

    GabbleConnection: fix bug in MUC handle requests where we rely on the MUC feature being the 1st <feature> in the disco response
    
    
    20061018111510-418b8-a1755b70932c770b42481a7e203d7e90a6c00230.gz

 src/gabble-connection.c |   42 ++++++++++++++++++++----------------------
 1 files changed, 20 insertions(+), 22 deletions(-)

commit cb8a5437958c265881ec598238097d5601d9329a
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue Oct 17 16:26:53 2006 +0000

    add debug info for the cases where we have already selected a peer resource
    
    
    20061017162653-b59df-cd56d6991211669c00bea03fba0dcb8a71586b49.gz

 src/gabble-media-session.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 677a65f9542c343ec906747d91b7c9ffecd8328f
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue Oct 17 16:18:57 2006 +0000

    use GMS_DEBUG_DUMP for presence dump
    
    
    20061017161857-b59df-f7c3ebc0f373ca904ab8b4fea9a9a682f8369947.gz

 src/gabble-media-session.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit bc62bb690c04223b2d373d6880b3ee6c0bf17543
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue Oct 17 16:02:26 2006 +0000

    add debug info to media session stream adding code
    
    
    20061017160226-b59df-87a36d3336475903fdf59f72fca8158cbe6b7a7c.gz

 src/gabble-media-session.c |   26 +++++++++++++++++++++++++-
 1 files changed, 25 insertions(+), 1 deletions(-)

commit 886cf4c7b697a00aec71efd5aafce0f07c4e9dda
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue Oct 17 15:47:52 2006 +0000

    gabble_presence_dump
    
    
    20061017154752-b59df-7a60a5b7eb84664e1f9662166e6a571b22b9064d.gz

 src/gabble-presence.c        |   35 +++++++++++++++++++++++++++++++++++
 src/gabble-presence.h        |    2 ++
 tests/test-gabble-presence.c |   33 +++++++++++++++++++++++++++++++++
 3 files changed, 70 insertions(+), 0 deletions(-)

commit 83f7e6505e5396f5186b83121f65db1280930ec8
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue Oct 17 15:47:18 2006 +0000

    GabblePresence: skip resource list update when resource is NULL
    
    
    20061017154718-b59df-831780bc6970e8d568bc4aa74a45bcddca824e3b.gz

 src/gabble-presence.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit edf128d98b61c1ee6d28eedd0bdf7d3b31ac680a
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Oct 16 15:19:08 2006 +0000

    bump version to 0.3.14.1
    
    
    20061016151908-418b8-cce4ad70298c333cd873bc28b1d83be90b8ff7d8.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 1943931a796d1ed15ec05e6de7bccc43fe197ec7
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Oct 16 15:06:54 2006 +0000

    bump version to 0.3.14
    
    
    20061016150654-418b8-a53539312ee38fc364d81aa5120498c70d31e010.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit fb320e0bbf621d49a41c74a4fdce95e4ef3cb8c7
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Oct 16 14:03:56 2006 +0000

    GabbleMediaFactory: fix inverted logic
    
    
    20061016140356-418b8-07d38c52cf2fe1e182e29d32f57795cc5f3e53df.gz

 src/media-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9528380276cf5a2039dd9f74c05de21df2d191e3
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Oct 16 13:47:01 2006 +0000

    GabbleMediaFactory: make new_media_channel not emit the "new-channel" signal; instead emit it from the request function after we've ascertained AddMembers didn't fail
    
    
    20061016134701-418b8-abbf7748b2617ec488292a3354aaa6e53456f25e.gz

 src/media-factory.c |  118 +++++++++-----------------------------------------
 1 files changed, 22 insertions(+), 96 deletions(-)

commit 4681bb25f00b1e50760d2e17e6869ff961d466db
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Sat Oct 14 21:10:45 2006 +0000

    GabbleConnection: fixed room_jid_disco_cb to return proper Telepathy error, and not doubly free error and batch context
    
    
    20061014211045-01440-120eeccbf6bae4572cb0af19673cf269ebcfa317.gz

 src/gabble-connection.c |   10 ++++++++--
 1 files changed, 8 insertions(+), 2 deletions(-)

commit 869b89404e9e12b883ca7ed0b79370793cb99a6e
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Fri Oct 13 19:54:59 2006 +0000

    fixes broken old-style invitation support which ignored groupchat messages
    
    
    20061013195459-01440-05aebb4d3147ad74528a693517a8fb0048e788a8.gz

 src/muc-factory.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit d9b11f97651c5744e18bdf2297dad48af390e571
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Oct 13 17:56:48 2006 +0000

    Report failure to connect to the starter bus as a warning and exit(1) rather than by dumping core
    
    
    20061013175648-53eee-99647aab65b9af6d87e60aefc3b3c90dc8d1a1e4.gz

 src/telepathy-helpers.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit aecf2ec049e4ff64d95f2f9a59ae675934f7de29
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Oct 13 17:51:23 2006 +0000

    Report invalid JIDs as a Telepathy error over D-Bus, rather than as a core dump
    
    
    20061013175123-53eee-dddc499b0215b0c5ae0364ec2c9ce21d1cfd03e8.gz

 src/gabble-connection.c |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)

commit 6950144af61d79fbc3f477cbd20fbb60df5b99fc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Oct 13 17:50:36 2006 +0000

    When bus name for connmgr is already taken, don't dump core
    
    
    20061013175036-53eee-53d666f98012062b9ba2198c09e3c2de65c6a166.gz

 src/gabble-connection-manager.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 4eab6caf62f546214928809146355ac4050ae422
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri Oct 13 16:46:15 2006 +0000

    allow channel factories to return detailed errors in response to channel request
    
    
    20061013164615-b59df-438ffb5d5b8a45f3183ee6c9ff1a55c2a43f77a5.gz

 src/gabble-connection.c        |    5 ++++-
 src/im-factory.c               |   15 +++++++--------
 src/media-factory.c            |   14 ++++++++------
 src/muc-factory.c              |   16 +++++++---------
 src/roster.c                   |    3 ++-
 src/tp-channel-factory-iface.c |    5 +++--
 src/tp-channel-factory-iface.h |    5 +++--
 7 files changed, 34 insertions(+), 29 deletions(-)

commit a57d3569fac438a9f4ce0ad3c381b34b5319a07d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Oct 13 15:37:24 2006 +0000

    bump version to 0.13.3
    
    
    20061013153724-418b8-b9cc21ca2cb0c3032cd462d67cb8ae9df562a4b4.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f5b62bb8121d3f99e1af673fb5b7522d25be4010
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Oct 13 15:10:22 2006 +0000

    Cope with vCards with neither <NICKNAME> nor <FN>
    
    
    20061013151022-53eee-a228c59507ff9bf7ce6cc700addb92646d1ea901.gz

 src/vcard-manager.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 8350ea042cd6431bcd85750fddedfc321829c39d
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri Oct 13 15:05:43 2006 +0000

    check whether presence cache lookup returns null
    
    
    20061013150543-b59df-3c1ff263b7ad8019045cdeb5fd8d6b8995c9f29a.gz

 src/gabble-media-channel.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit b8253f8d2c44e94838c14aed75f0f2143fc47ce8
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Oct 13 14:25:38 2006 +0000

    bump version to 0.3.12
    
    
    20061013142538-418b8-cffcc2a136b089157073c28ae6cac3883432a5cf.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 8d60c4cca5c791adbb6d45644b20168759f560ac
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Oct 13 11:58:06 2006 +0000

    GabbleRoster: ignore google hidden roster items, they're not JIDs but e-mail address book entries
    
    
    20061013115806-418b8-6610f8719b4bfccfdfc1421d5cc95f9a2025dd8d.gz

 src/roster.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 86a0f44178cfe2cbcfea2fadf1a3c5c8b5c0a0e9
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Oct 13 11:57:07 2006 +0000

    GabbleRoster: instead of just tracking blocked or not, parse and store the google item type (normal, blocked, hidden or pinned) for each roster item
    
    
    20061013115707-418b8-2c4f374597eddcb3761e31092efd8a072bd289a6.gz

 src/roster.c |   87 ++++++++++++++++++++++++++++++++++++++++++++++-----------
 1 files changed, 70 insertions(+), 17 deletions(-)

commit 8d4b99a108f2e0c10956ac0a876f5d6480e3f56f
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Oct 13 11:56:50 2006 +0000

    GabbleMediaSession: remove the stream if you request NONE direction
    
    
    20061013115650-418b8-e22fec490ffd086645c1190a2bb6ec47795fc2e9.gz

 src/gabble-media-session.c |   13 ++++++++++---
 1 files changed, 10 insertions(+), 3 deletions(-)

commit e13a5b84394225a961a7e49f5272fdb569dce7db
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Oct 13 11:51:15 2006 +0000

    GabbleMediaSession: accept any pending local sends when the session is accepted
    
    
    20061013115115-418b8-6835103f9d791b6692f573bfa7095f6aa64c979e.gz

 src/gabble-media-session.c |   17 +++++++++++++++++
 1 files changed, 17 insertions(+), 0 deletions(-)

commit b5791078a5c82f736e2bd5951346d8e25b25a693
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Oct 13 11:50:32 2006 +0000

    GabbleMediaSession: clear the direction of incoming jingle streams so it gets correctly set by the direction handler
    
    
    20061013115032-418b8-1c6b7630d43a7fa578ee597c950aaf74baca4f0c.gz

 src/gabble-media-session.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit 52dda09c704ce146a03d1a7875e13a449d712655
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri Oct 13 13:48:11 2006 +0000

    make GABBLE_DEBUG env flag turn on all debug flags for compatibility
    
    
    20061013134811-b59df-8c45de39dbc7d2e67193112829e1a41e6e38ed9a.gz

 src/gabble.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 40ee89105c2a12cff46c1111661051a64df26786
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri Oct 13 13:25:23 2006 +0000

    check capablities of contact before adding to streamed media channel
    
    
    20061013132523-b59df-7b3c204da4339b6019adda8a57773da8f7a5ad2e.gz

 src/gabble-media-channel.c |   15 +++++++++++++++
 1 files changed, 15 insertions(+), 0 deletions(-)

commit 189fd62d7bf0e3eb0ec7e45a4626f54d25e0dbd9
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 11 21:57:36 2006 +0000

    bump version to 0.3.11.1
    
    
    20061011215736-418b8-8537144830a66687bc623f02c90181830a8b01c1.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2b16795297640e8cd78107d7b34fa9303f7fc653
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 11 21:39:03 2006 +0000

    bump version to 0.3.11
    
    
    20061011213903-418b8-5fa21302d153a43baaac8ac1ba6f53b38624b7ea.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit cfd5057ccd97b31ea85749ba341720f6f230acbc
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 11 21:34:48 2006 +0000

    GabbleConnection: merge conflicts with headers in gabble-connection.c (they're alphabetical, mostly :D)
    
    
    20061011213448-418b8-b2a725175bdf352af3e8a9527edef5d7ff9922f1.gz

 src/gabble-connection.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 80456608c0aac79363e7e883804ed5aefe01328e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Oct 2 18:05:28 2006 +0000

    vcard-manager.c: On status change to CONNECTED, if we *don't* know a better alias for the local user, fetch their vCard in case they've set their alias on the server already
    
    
    20061002180528-53eee-584cff06bbb8a660ac8f1a60da3e34df3e82db60.gz

 src/vcard-manager.c |   10 +++++++++-
 1 files changed, 9 insertions(+), 1 deletions(-)

commit 1ce30acc7e6a40a218906111f450e6643054654a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Oct 2 18:00:59 2006 +0000

    gabble-connection.c: when SetAliases sets user's own alias, only alter the roster if they're already in their own roster.
    
    roster.[ch]: Add gabble_roster_handle_has_entry() to make this work.
    
    20061002180059-53eee-a752cde41ed86a5da00a451012628c6515aefbcf.gz

 src/gabble-connection.c |   12 ++++++++++++
 src/roster.c            |   17 +++++++++++++++++
 src/roster.h            |    1 +
 3 files changed, 30 insertions(+), 0 deletions(-)

commit e9619a708ef17fe8ff3818b4c65389ca5e8fd21b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Oct 2 17:22:29 2006 +0000

    vcard-manager.c, gabble-connection.c: Make vCard manager (rather than connection) respond to Connected state by perhaps altering our alias
    
    
    20061002172229-53eee-0334847a60dd645371e21ea36d72f96fc15041fe.gz

 src/gabble-connection.c |   16 ----------------
 src/vcard-manager.c     |   36 +++++++++++++++++++++++++++++++++++-
 2 files changed, 35 insertions(+), 17 deletions(-)

commit c7dcc35bc311ac98da4c95ed388abf8624e485d3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Oct 2 17:01:50 2006 +0000

    vcard-manager.c: Whitespace/indentation style
    
    
    20061002170150-53eee-414423fbf88461f4e7db13e6525294e8fd03e560.gz

 src/vcard-manager.c |   66 +++++++++++++++++++++++++++++++-------------------
 1 files changed, 41 insertions(+), 25 deletions(-)

commit f2797888119753564418c81e267c43d63e8aedaa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Oct 2 16:56:48 2006 +0000

    vcard-manager.c: switch g_assert to g_return_val_if_fail so passing an odd number of varargs to gabble_vcard_manager_edit will fail even in production builds
    
    
    20061002165648-53eee-6e710dc55a11673deed2619f9c18370f57722812.gz

 src/vcard-manager.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b0c96d1f517d291916271bdb1f7a8c6ad3c6ffa9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Oct 2 16:55:40 2006 +0000

    vcard-manager.h: Remove duplicate declaration of gabble_vcard_manager_get_cached_alias
    
    
    20061002165540-53eee-d0cb94af7cd73acf0e2dcecd628c600ceda1db4d.gz

 src/vcard-manager.h |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit da2c89800637188fd1759c0b78f154a02ecd3d22
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 29 19:36:36 2006 +0000

    Revert addition of daf's vcard.[ch]
    
    
    20060929193636-53eee-228509eb4f096035c99cc53915f033ac82ebd37d.gz

 src/Makefile.am |    2 -
 src/vcard.c     |   80 -------------------------------------------------------
 src/vcard.h     |   18 ------------
 3 files changed, 0 insertions(+), 100 deletions(-)

commit b4ee34f1ce693e74b2822d5402e02c8676079037
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 29 17:11:59 2006 +0000

    If SetAliases is called for the local user, patch their vCard server-side.
    
    This doesn't yet have error handling, because SetAliases is currently
    synchronous, so the vCard editing is done in the background after SetAliases
    has already returned.
    
    20060929171159-53eee-574234fa106e8111b8781776c3d97e7e9933ee6e.gz

 src/gabble-connection.c |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit c51bf46756e3ee865afff13a28d9a22802fe86c3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 29 17:11:17 2006 +0000

    If user has a higher-priority-than-vCard alias for themselves, patch it into their vCard on the server
    
    
    20060929171117-53eee-4457254bb4d16370aea0eef0312a1d13b6d88403.gz

 src/gabble-connection.c |   16 ++++++++++++++++
 1 files changed, 16 insertions(+), 0 deletions(-)

commit 8de2a7f0eedf5a6e298048003d844a293ccf1970
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 29 17:10:17 2006 +0000

    Finish initial implementation of vCard management
    
    
    20060929171017-53eee-c28182b01916a32ad7eb8540e3ede73f125f4fb0.gz

 src/vcard-manager.c |  332 +++++++++++++++++++++++++++++++++++++++++++++------
 1 files changed, 296 insertions(+), 36 deletions(-)

commit 746611da0d1d05498f2b112a8e45ea559f9ec028
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 29 17:09:32 2006 +0000

    Add vCard debug level
    
    
    20060929170932-53eee-b28da6c107248e449784766696aec282760c367f.gz

 src/debug.c         |    1 +
 src/debug.h         |    1 +
 src/vcard-manager.c |    3 +++
 3 files changed, 5 insertions(+), 0 deletions(-)

commit e339b5bd10708fab0e5ec16c91401af17e9429ad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 29 14:24:43 2006 +0000

    Rename vcard-lookup to vcard-manager
    
    
    20060929142443-53eee-0d5aeb87442080362d80cac302fde799a47ccbf0.gz

 src/Makefile.am         |    4 +-
 src/gabble-connection.c |   12 +-
 src/gabble-connection.h |    2 +-
 src/gabble-types.h      |    2 +-
 src/vcard-lookup.c      |  526 -----------------------------------------------
 src/vcard-lookup.h      |  120 -----------
 src/vcard-manager.c     |  526 +++++++++++++++++++++++++++++++++++++++++++++++
 src/vcard-manager.h     |  120 +++++++++++
 8 files changed, 656 insertions(+), 656 deletions(-)

commit 2cbb4f82ffe1ba5d1993fa1e3f27e3bd025d36da
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 29 14:10:18 2006 +0000

    In connection, connect up nickname signals from vCard lookup helper
    
    
    20060929141018-53eee-c1e76ac2f1c3f7ec450f6cc5f9ef033178166acc.gz

 src/gabble-connection.c |   25 ++++++++++++++++++-------
 1 files changed, 18 insertions(+), 7 deletions(-)

commit 606f9b14ca29097ed5ec7af575d60d58462e60b2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 29 14:09:37 2006 +0000

    Start to implement vCard lookup (much of the API copied from disco)
    
    
    20060929140937-53eee-41215de3e54dc7d6aa423d1a99e76d8cb6072f6a.gz

 src/vcard-lookup.c |  382 +++++++++++++++++++++++++++++++++++++++++++++++++++-
 src/vcard-lookup.h |   58 ++++++++
 2 files changed, 437 insertions(+), 3 deletions(-)

commit e00d02ebaac049276626c74a13db196465ea6f12
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Sep 29 14:09:02 2006 +0000

    Consider the alias parameter to the connmgr to be more authoritative than a vCard from the server
    
    
    20060929140902-53eee-71f3c5644893fa891dfeb9db787d30cda0593187.gz

 src/gabble-connection.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit cd723698868e633e17740e91a217e5db81ba92b9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 28 18:01:07 2006 +0000

    Add skeletal implementation of GabbleVCardLookup
    
    
    20060928180107-53eee-9012326bdb2a69034873badf844ca56e8484d104.gz

 src/Makefile.am         |    2 +
 src/gabble-connection.c |    5 +-
 src/gabble-connection.h |    3 +
 src/gabble-types.h      |    1 +
 src/vcard-lookup.c      |  150 +++++++++++++++++++++++++++++++++++++++++++++++
 src/vcard-lookup.h      |   62 +++++++++++++++++++
 6 files changed, 222 insertions(+), 1 deletions(-)

commit 867de3064fdf2712c6f736288d349a20e2b57edf
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu Sep 28 16:44:47 2006 +0000

    add skeleton vcard code
    
    
    20060928164447-b59df-fc219557479984baff8e1aea4f02931673e94aa6.gz

 src/Makefile.am |    2 +
 src/vcard.c     |   80 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/vcard.h     |   18 ++++++++++++
 3 files changed, 100 insertions(+), 0 deletions(-)

commit c169377e7f4120996a6b03a3b006ad0dc6bad75c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 11 19:44:44 2006 +0000

    GabbleMediaSession: when the local client is trying to change directions, check to see if the pending local send flag is set, and only send a request if we're changing it to something the remote end is not expecting
    
    
    20061011194444-418b8-0b18ece88e3a63c324db8b5f80de9e680525680d.gz

 src/gabble-media-session.c |   57 +++++++++++++++++++++----------------------
 1 files changed, 28 insertions(+), 29 deletions(-)

commit 8f89010450e101d4f0e00208207e9e56e531bc0f
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 11 19:44:24 2006 +0000

    GabbleMediaSession: clarify debug on failed direction changes
    
    
    20061011194424-418b8-b7ef5d98c7c318a250bdc3106f8b5c64c4658f07.gz

 src/gabble-media-session.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit aa08f77215745ae652c91d1d691c7d4d2c864055
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 11 19:44:08 2006 +0000

    GabbleMediaSession: handle content-decline like remove
    
    
    20061011194408-418b8-8cc2e5e23c1da3a0c267ecc824186ec585029cac.gz

 src/gabble-media-session.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 94627bc2d59db9440f24183846d9abacce954ff4
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 11 19:43:47 2006 +0000

    GabbleMediaSession: remove duplicated handler stanza for "content-remove"
    
    
    20061011194347-418b8-74f938d6d442f2630f5401dddb9a9bb32e28b67e.gz

 src/gabble-media-session.c |    7 -------
 1 files changed, 0 insertions(+), 7 deletions(-)

commit 24555e56a9777745332d4e4e58ce697b52f590c0
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 11 19:42:13 2006 +0000

    GabbleMediaSession: when handling direction changes from the peer and they're telling us to send, don't make that change immediately, but instead set a flag
    
    
    20061011194213-418b8-e41232f1e339bffdc52acaeb24714c5145a8b150.gz

 src/gabble-media-session.c |   42 +++++++++++++++++++++++++++++-------------
 1 files changed, 29 insertions(+), 13 deletions(-)

commit 60ca0d5fd79f0b9163f71396c3b3787578b73ba8
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 11 14:47:19 2006 +0000

    correct spelling of RECEIVE in telepathy constants header
    
    
    20061011144719-418b8-1b1ce9fe9bb9b17f42c1302909e24d21ba32ef69.gz

 src/telepathy-constants.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 18c4044ddd8a4f7aa0f3ecb8662d5cf7a9b1afaf
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 11 14:46:49 2006 +0000

    GabbleMediaStream: emit the SetStreamSending signal automatically based on the current directionality
    
    
    20061011144649-418b8-6e2d5a1fc5e0c45e38ed1d88a37522fe513512a7.gz

 src/gabble-media-stream.c |   33 ++++++++++++++++++++++++++++++++-
 1 files changed, 32 insertions(+), 1 deletions(-)

commit ae5584751ad2c73312b235a3eb6240cf6dbcc0bb
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 11 14:46:36 2006 +0000

    GabbleMediaSession: fix missing header include
    
    
    20061011144636-418b8-35809736a23ce8489b03b3ad9380273487c6c38b.gz

 src/gabble-media-session.h |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 358aaf82adf95926b87d11ed2784652e7dab72b7
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 11 14:45:55 2006 +0000

    GabbleMediaSession: add methods for sending direction changes, and for the moment just send and implement requested changes immediately
    
    
    20061011144555-418b8-5a6d1bd4ddbf92c9f8bc808124c6a149b33e49b2.gz

 src/gabble-media-session.c |  118 ++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 115 insertions(+), 3 deletions(-)

commit baab0819c8a5951427ecd49625e0b933f3ca4146
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 11 14:45:11 2006 +0000

    GabbleMediaSession: hook up the _handle_direction to the content-modify action, and also to stream creation/accepting actions
    
    
    20061011144511-418b8-8ce47b88910159cc49f1ead8f5f489a8fc337409.gz

 src/gabble-media-session.c |   17 ++++++++++++-----
 1 files changed, 12 insertions(+), 5 deletions(-)

commit a9ecb540761359f2ca8a9c9cbc4e21ae4253d710
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 11 14:44:36 2006 +0000

    GabbleMediaSession: add a _handle_direction handler which gets the directionality from the <content senders="...">, and just accepts it for the moment
    
    
    20061011144436-418b8-81686b302cf361626c850da7d4a576829e8fb4f5.gz

 src/gabble-media-session.c |   90 ++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 90 insertions(+), 0 deletions(-)

commit 563bbf420b017149c0849e1cefd064f68b6499f7
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 11 14:35:57 2006 +0000

    GabbleMediaChannel: fix missing priv pointer in direction request function
    
    
    20061011143557-418b8-bb47db526fe6551744d80b26f46493dfe0a806df.gz

 src/gabble-media-channel.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit fcaa2e7a42aec5246a13a08294cc904d1c163f72
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Oct 10 10:28:16 2006 +0000

    GabbleMediaStream: add a SetLocalCodecs which can be used to provide codecs after Ready, so that you can go ready for an incoming call and exchange candidates/codecs without knowing your local codecs
    
    
    20061010102816-418b8-8a43f8724b2d65e75d0ffb28bdab96fff6b9d8b4.gz

 generate/src/gabble-media-stream.c            |   21 ++++++++++
 generate/src/gabble-media-stream.h            |    5 ++
 generate/xml-modified/gabble-media-stream.xml |    3 +
 generate/xml-pristine/gabble-media-stream.xml |    3 +
 src/gabble-media-stream.c                     |   50 +++++++++++++++++-------
 src/gabble-media-stream.h                     |    5 ++
 6 files changed, 72 insertions(+), 15 deletions(-)

commit 6f1a212b73520c53013bb099b8196ff8f1b9badb
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Oct 10 10:27:54 2006 +0000

    GabbleMediaStream: add a "ready" property and use it instead of overloading got_local_codecs
    
    
    20061010102754-418b8-667982e6977f289c26b2e6f6572655d91b5e8ca6.gz

 src/gabble-media-stream.c |   78 +++++++++++++++++++++++++++++----------------
 1 files changed, 50 insertions(+), 28 deletions(-)

commit 133304701216c01411baad7a74a56e70d1652874
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Oct 5 00:58:22 2006 +0000

    GabbleMedia{Channel,Session}: stub implementation of direction requests in the session
    
    
    20061005005822-418b8-8f61a58576ea852878d03ded85161916a2b883de.gz

 src/gabble-media-channel.c |   24 ++++++++++++++++++++-
 src/gabble-media-session.c |   49 ++++++++++++++++++++++++++++++++++++++++++++
 src/gabble-media-session.h |    5 ++++
 3 files changed, 77 insertions(+), 1 deletions(-)

commit b4f1ab210f8a8bf2ef18b26c0f56183ca7ebda85
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Wed Oct 11 11:11:33 2006 +0000

    Move the capabilities conversions from gabble-connection.c to capabilities.[ch]
    
    
    20061011111133-9db4d-5625f2c861218ed3595c419e9d9c47a832348c4b.gz

 src/capabilities.h      |   14 ++++++++++++++
 src/gabble-connection.c |   28 +++++-----------------------
 2 files changed, 19 insertions(+), 23 deletions(-)

commit a2822704b9af41e913d1c6939b0b20eab929ce6d
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Wed Oct 11 11:11:12 2006 +0000

    Add capabilities.c
    
    
    20061011111112-9db4d-6208bd57ffdba370a8e6fbf763a56e96176bf039.gz

 src/capabilities.c |   88 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 88 insertions(+), 0 deletions(-)

commit df11001142319a86de28eb605f7ed80000de2094
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Wed Oct 11 10:40:50 2006 +0000

    Move the Feature stuff from gabble-connection.c to capabilities.[ch]
    
    
    20061011104050-9db4d-94c47369d42d09dcec3656070c26d7e1e7f18350.gz

 src/capabilities.h      |   39 ++++++++++++++++++++++++++++++
 src/gabble-connection.c |   60 ++++-------------------------------------------
 2 files changed, 44 insertions(+), 55 deletions(-)

commit 90ca5ae07fdc2fb736d2ce898d5d315586c8e535
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Wed Oct 11 10:40:39 2006 +0000

    Move bundles.h to capabilities.h, reflecting its soon-to-be-wider scope
    
    
    20061011104039-9db4d-6bac7295490ad47193463621f04da8d7b91663bb.gz

 src/Makefile.am         |    3 ++-
 src/bundles.h           |   28 ----------------------------
 src/capabilities.h      |   28 ++++++++++++++++++++++++++++
 src/gabble-connection.c |    2 +-
 4 files changed, 31 insertions(+), 30 deletions(-)

commit cd6b01b1b257c2a0c4eb2f68d21bd5b0ca4e8b68
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Wed Oct 11 10:12:55 2006 +0000

    Remove odd call to old API gabble_presence_set_capabilities?
    
    
    20061011101255-9db4d-adf3486c86d6ec4dd0834595af909c581ed65c14.gz

 tests/test-gabble-presence.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 548fbc8ba8e2c25c4d751a4fed40d2677d2d3731
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Wed Oct 4 13:28:17 2006 +0000

    Add the capabilities interface to interfaces GabbleConnection reports as supported.
    
    
    20061004132817-9db4d-089b6f79fb23651edb06bf8a02a6e264139f703b.gz

 src/gabble-connection.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 17d6ce406e14dbe85f737900bed6635d0812c962
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Fri Sep 29 19:13:53 2006 +0000

    Merge conflict in signal_own_presence
    
    
    20060929191353-9db4d-ffd823ad243f817d649a3af7756605ef9604c3c5.gz

 src/gabble-connection.c |   15 +++++++++++----
 1 files changed, 11 insertions(+), 4 deletions(-)

commit 615ac98295d38beb2c820ba1bb5d55feb34eb200
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Fri Sep 29 18:49:33 2006 +0000

    Cut out redundancy from CapabilitiesChanged emissions
    
    
    20060929184933-9db4d-1b52b48cab0beacbf54bf171e8db79bb0f7ee181.gz

 src/gabble-connection.c |   20 +++++++++++++-------
 1 files changed, 13 insertions(+), 7 deletions(-)

commit 966abf2e048ce79cdea8a1937e8c25976395ef21
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Fri Sep 29 17:32:27 2006 +0000

    Fix formatting issue in signalling ext bundles
    
    
    20060929173227-9db4d-95a02f247e8b29cefabcac0867031da5073aae5c.gz

 src/gabble-connection.c |   17 +++++------------
 1 files changed, 5 insertions(+), 12 deletions(-)

commit ffb34a8cf748c5a84005516b56f66429485d1e14
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Fri Sep 29 17:03:13 2006 +0000

    Change removal of caps in AdvertiseCapabilities to do tf->caps, not the other (wrong) way around
    
    
    20060929170313-9db4d-2c203944e54523e2d87e1b245c830d87d0260a74.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit be7cf54d2136d321a3a36dec910e45de0ee7763c
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Fri Sep 29 19:08:31 2006 +0000

    Merge conflicts
    
    
    20060929190831-9db4d-93e134bd6e0b61a2a0d31c60894b91fd5878c0f1.gz

 src/gabble-presence.c        |    5 ++++-
 tests/test-gabble-presence.c |    2 ++
 2 files changed, 6 insertions(+), 1 deletions(-)

commit d8c3496dc1aff1427b19fd00a1db21afe7f466f2
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Fri Sep 29 18:50:23 2006 +0000

    Make ext bundle trust mechanism determine trust based on the amount of different guys we have got info from, not the total count of info replies (which could be all from just one guy)
    
    
    20060929185023-9db4d-f37cb23073c1aac808c1776c612c4f1940dbdb46.gz

 src/gabble-presence-cache.c |   35 +++++++++++++++++++++++------------
 1 files changed, 23 insertions(+), 12 deletions(-)

commit 60ee45588cde049c3bf3ab63dedea12110e04719
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Fri Sep 29 16:56:23 2006 +0000

    Fix formatting issue in signalling ext bundles
    
    
    20060929165623-9db4d-94522a2dfa8250851ca9128139ff1d9559cb006d.gz

 src/gabble-connection.c |   15 +++++++++++----
 1 files changed, 11 insertions(+), 4 deletions(-)

commit d8d18dc927b3e1047bd5dfa6f7393a0ea8e14f32
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Fri Sep 29 16:31:36 2006 +0000

    Only take actions in Advertise for actual changes
    
    
    20060929163136-9db4d-946fa4fe517d8f1579030205e02273c47f4d9e6a.gz

 src/gabble-connection.c |   18 ++++++++++++------
 1 files changed, 12 insertions(+), 6 deletions(-)

commit e3ff75c74472820042c2ac532be8e5167008deef
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Fri Sep 29 15:51:11 2006 +0000

    Invert the zero allowance logic in handles_are_valid to prevent handle_priv_lookup from happening for teh zero handles
    
    
    20060929155111-9db4d-dcfda993b6d236aaaa6d61ff65fc0e0a67c82a2b.gz

 src/handles.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ee4a98f5fb1092d71c56b86413c64a3104dce291
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Fri Sep 29 15:24:26 2006 +0000

    Signal own presence after advertise so that reported caps are actually affected
    
    
    20060929152426-9db4d-f1f434178add69585a68f8141d0f979c5c52f043.gz

 src/gabble-connection.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 767e4f98e7c1a6bab4f1d81c323a7925e67c8b33
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Fri Sep 29 15:20:22 2006 +0000

    Remove double fix for the same problem, causing the problem to still be there :o
    
    
    20060929152022-9db4d-20236f7df94b0035a4d2e496c2e9363d301cea46.gz

 src/gabble-connection.c |    5 -----
 1 files changed, 0 insertions(+), 5 deletions(-)

commit afabd203dbbf05b86aa2f29094d7cd9ecf07b6d0
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Sun Sep 24 19:43:50 2006 +0000

    Add ext bundle poisoning prevention mechanism which supervises that we get consistent information about caps for ext bundles
    
    
    20060924194350-9db4d-6d736848f04164618bfb5de061eea71f0399ff06.gz

 src/gabble-presence-cache.c |  164 +++++++++++++++++++++++++++++++++++++------
 1 files changed, 142 insertions(+), 22 deletions(-)

commit 7368b8a2390215d91d15cd2320176cb1d3a753fd
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Sun Sep 24 14:07:48 2006 +0000

    Plug memory leak in bundle disco retrying
    
    
    20060924140748-9db4d-c7eacd72e218afcf59f9a119299da701def76c8b.gz

 src/gabble-presence-cache.c |    8 ++++++--
 1 files changed, 6 insertions(+), 2 deletions(-)

commit 487c58f0d5722424cef5c7ceebdf5a364d153d75
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Sat Sep 23 10:02:27 2006 +0000

    Fix capabilities-update signal, messed up by my amend-revert-amend-something seq
    
    
    20060923100227-9db4d-ef640ccfb8ac02148a8a4fcdf1d0cad1a3d9331b.gz

 src/gabble-presence-cache-signals-marshal.list |    1 +
 src/gabble-presence-cache.c                    |    2 +-
 2 files changed, 2 insertions(+), 1 deletions(-)

commit 3f95d0328d9fd18c0d686db62f7783aaad7b229d
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Thu Sep 21 17:46:14 2006 +0000

    Remove obsolete CapabilityType from telepathy-constants.h
    
    
    20060921174614-9db4d-bda650a6d052a641f8100e201ca6ee7d442c11c3.gz

 src/telepathy-constants.h |    5 -----
 1 files changed, 0 insertions(+), 5 deletions(-)

commit 783e38d0411c4740218ed8f3a707dd29d3346993
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Thu Sep 21 17:44:44 2006 +0000

    s/CAPABILITY_TYPE/CAPABILITY_FLAG/g, it's the up-to-date way
    
    
    20060921174444-9db4d-97886d15b193d82d11c4f529748af87962b45072.gz

 src/gabble-connection.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 3394347bc00b07dd584115e4c9235d518e6eb234
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Thu Sep 21 17:43:37 2006 +0000

    Make GetCapabilities report the interfaces which we assume everybody to support
    
    
    20060921174337-9db4d-eeeca0d6ddb7e5acf2496a700cf77f82bb566719.gz

 src/gabble-connection.c |   26 ++++++++++++++++++++++++++
 1 files changed, 26 insertions(+), 0 deletions(-)

commit 8e0c304f877b537066cdc1bd38e39aa8551028f4
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Thu Sep 21 17:33:15 2006 +0000

    Fix terminator in one dbus_g_type_struct_...
    
    
    20060921173315-9db4d-0be08aa8ef34ab7dab4ab2d60ce6fd0e9e1ea531.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4285c4299f06e7211375c2b3645521188e2e0950
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Thu Sep 21 17:32:19 2006 +0000

    AS it should have been from the start, decorate _emit_capabilties_changed as static
    
    
    20060921173219-9db4d-e748191cda1bf88b9c10595236e2caa72f01bbfb.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c0b4897ebc42d8d3abfd64c37b456c740adb3a34
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Thu Sep 21 17:29:40 2006 +0000

    Make GabbleConnection propagate the capabilities-update signals as D-BUS CapabilitiesChanged signals
    
    
    20060921172940-9db4d-2b5a50397675c8f51ff7d0ef286d857464404e10.gz

 src/gabble-connection.c |   15 +++++++++++++++
 1 files changed, 15 insertions(+), 0 deletions(-)

commit 8072e0c2db357bc33647c399c6601322e9907330
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Thu Sep 21 17:23:58 2006 +0000

    Make GabblePresenceCache emit capabilities-update signals when we modify contact capabilities
    
    
    20060921172358-9db4d-bc9901c58138edf464d3c793fca395a3b00a211e.gz

 src/Makefile.am             |    2 ++
 src/gabble-presence-cache.c |   30 +++++++++++++++++++++++++-----
 2 files changed, 27 insertions(+), 5 deletions(-)

commit 099b0f5237431eef3797442481841471a5c80047
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Thu Sep 21 16:52:48 2006 +0000

    Add GetCapabilities
    
    
    20060921165248-9db4d-50080ce1cb069699bfd89f46226b002e3f850b29.gz

 src/gabble-connection.c |   58 +++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 58 insertions(+), 0 deletions(-)

commit 01f9aa59aecb2e40c7ec23b97c57ba6217546e18
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Mon Sep 18 07:55:00 2006 +0000

    Emit CapabilitiesChanged when our advertised caps change
    
    
    20060918075500-9db4d-36427eab896e57750c11c0a24e0e782dfffd8109.gz

 src/gabble-connection.c |   85 ++++++++++++++++++++++++++++++++++++++---------
 1 files changed, 69 insertions(+), 16 deletions(-)

commit 931ec99ae462410206e4132552d342bc4fad5bbd
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Sun Sep 17 20:06:47 2006 +0000

    Add rudimentary AdvertiseCapabilities implementation to allow us to turn off audio/video advertising at will.
    
    
    20060917200647-9db4d-84546270e90a44bdbe09360017debb5e63fbe8ca.gz

 src/gabble-connection.c |   85 ++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 84 insertions(+), 1 deletions(-)

commit f73dbb83fc425021a02d7b139a923d058b0faa71
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Sun Sep 17 16:17:17 2006 +0000

    Add utility functions to convert MediaChannel type specific flags to GabblePresenceCapabilities and back
    
    
    20060917161717-9db4d-a12156b4ad6e0f69ea5b66816be0b05c13b6b51a.gz

 src/gabble-media-channel.c |   35 +++++++++++++++++++++++++++++++++++
 src/gabble-media-channel.h |    7 +++++++
 2 files changed, 42 insertions(+), 0 deletions(-)

commit adc876f8d8deda13aa218fb1784921a70e71fd1d
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Sun Sep 17 15:56:44 2006 +0000

    Fix the non-ext functionality to have VERSION as their bundle attribute to fix connection_disco_iq_cb failing to report them
    
    
    20060917155644-9db4d-c041670c7f651a23d7c4d184ed1b07c725624a67.gz

 src/gabble-connection.c |   22 +++++++---------------
 1 files changed, 7 insertions(+), 15 deletions(-)

commit 064c763b423dc1e388360fb2711eef1429819a08
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Sun Sep 17 15:41:16 2006 +0000

    Fill presence cache with the known feature bundles to avoid having to disco them
    
    
    20060917154116-9db4d-a9f469e90713e1b415dec7f0fab1d499db7c4399.gz

 src/gabble-connection.c     |   18 ++++++++++++++++++
 src/gabble-presence-cache.c |   20 ++++++++++++--------
 src/gabble-presence-cache.h |    2 ++
 3 files changed, 32 insertions(+), 8 deletions(-)

commit c590f0133f818ea80b00cbe87261595facc59896
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Sun Sep 17 14:45:00 2006 +0000

    Add the type specific capability flag constants for Channel.Type.StreamedMedia
    
    
    20060917144500-9db4d-f4646e0d7a9dd5a1d1ec8c639b7b0cc5854fad3f.gz

 src/telepathy-constants.h |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 4dbeb3c7460a6798688d97cf2e68c16c7c5c0a70
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Sun Sep 17 14:18:13 2006 +0000

    Make test-gabble-presence compile with new gabble_presence_set_capabilities
    
    
    20060917141813-9db4d-acad8fc6ff0312821b7cd58fd7570b9caf204783.gz

 tests/test-gabble-presence.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 8849a028551d5f31800b5abfe496cfc5ea5d1704
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Sun Sep 17 14:17:02 2006 +0000

    Add new Capabilities interface to GabbleConnection
    
    
    20060917141702-9db4d-4ae5b8168d65983b7f6bde1c574f7af88f1a73f3.gz

 generate/gabble.def                         |    2 +-
 generate/src/gabble-connection.c            |   55 +++++++++++++++++++++++++++
 generate/src/gabble-connection.h            |   13 ++++++
 generate/xml-modified/gabble-connection.xml |   14 +++++++
 src/gabble-connection.c                     |   55 +++++++++++++++++++++++++++
 src/gabble-connection.h                     |   13 ++++++
 6 files changed, 151 insertions(+), 1 deletions(-)

commit 9536f03f1e4f8b3cb0624574a0aa8fdd3fd3659b
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Fri Sep 15 13:43:03 2006 +0000

    Split one too-long-a-line
    
    
    20060915134303-9db4d-22c0c1ec5753d59efc7fc4b30c03eb4241f935aa.gz

 src/gabble-presence-cache.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 644f3ef0966984340026b4a7568886bb98f411b2
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Fri Sep 15 13:40:22 2006 +0000

    Enable the baseline caps (independent of Advertise) on ourselves always when connecting
    
    
    20060915134022-9db4d-95a5f87c6e87a1f7738a9407b681020ba84eaad2.gz

 src/gabble-connection.c |   19 +++++++++++--------
 1 files changed, 11 insertions(+), 8 deletions(-)

commit 92b4435f3aafe6655dd71bd928be1286114e4bc2
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Fri Sep 15 13:33:18 2006 +0000

    Make connection_disco_iq_cb and signal_own_presence consider our current actual GabblePresenceCapabilities when advertising capabilities
    
    
    20060915133318-9db4d-9ce3b379329c454a743b67590b58c3ac22c77c4e.gz

 src/gabble-connection.c |  118 ++++++++++++++++++++++++++---------------------
 1 files changed, 66 insertions(+), 52 deletions(-)

commit 301248163fa4157fcf6db3f39ac266b2fffb55be
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Fri Sep 15 12:04:09 2006 +0000

    Fix gabble_presence_find_resource_by_caps to require all of the requested caps from the resources, not just some of them
    
    
    20060915120409-9db4d-bc3904540a51cbd97cd1111e394639d372769816.gz

 src/gabble-presence.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e7b03f0818b2bdb23602ff98277a8ac1d43d8ff7
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Fri Sep 15 10:26:18 2006 +0000

    Make GabblePresence support the newly discovered oh-so-nifty-simple-and-clean way of remote caps disabling
    
    
    20060915102618-9db4d-2f521852e4f4779eed7a90dc263c16ad02fdd8da.gz

 src/gabble-presence.c |   15 +++++++++++----
 src/gabble-presence.h |    2 +-
 2 files changed, 12 insertions(+), 5 deletions(-)

commit 0e5b2a8753076e52ea6f7f861f2919258f5da850
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Fri Sep 15 09:45:50 2006 +0000

    Make GabblePresenceCache support the correct changing of caps via setting the serial given to gabble_presence_set_capabilities differently depending on which received capabilities annotation contained the caps in question
    
    
    20060915094550-9db4d-357d88487701d158590e53f1db576a5c78359721.gz

 src/gabble-presence-cache.c |   24 +++++++++++++++---------
 src/gabble-presence.c       |    1 +
 2 files changed, 16 insertions(+), 9 deletions(-)

commit 4adcf49d55dd6b2a5ff54f85ce01fc61f1d8b763
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Sun Sep 10 16:51:55 2006 +0000

    Add JEP-0115 feature bundle string constants header bundles.h
    
    
    20060910165155-9db4d-cabd12adc9d7d2c86b27f5d9807cbfd3e0fbfdfa.gz

 src/Makefile.am |    1 +
 src/bundles.h   |   28 ++++++++++++++++++++++++++++
 2 files changed, 29 insertions(+), 0 deletions(-)

commit a1399c73ed95640b9120e47750c53db9932f6976
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Oct 8 13:49:59 2006 +0000

    GabbleMucFactory: stylistic/whitespace changes
    
    
    20061008134959-418b8-5d0a61e5e3a13e4fce7042cabcea731afb82e3ee.gz

 src/muc-factory.c |   44 +++++++++++++++++++++-----------------------
 1 files changed, 21 insertions(+), 23 deletions(-)

commit 66436e328529068659b7c0c082bd052c4b90f93c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Oct 8 13:48:52 2006 +0000

    GabbleMucFactory: fail to make a room list if there's no discovered server (rather than asserting), fix leak of server field name (g_object_set copies the stuff you pass it) and a crash emitting new-channel with no channel
    
    
    20061008134852-418b8-2face4f184fa38ebdbc7360591db8b1537b7b6b8.gz

 src/muc-factory.c |   10 ++++------
 1 files changed, 4 insertions(+), 6 deletions(-)

commit 317d5ec626417e2bb5aa98b57b7584d28cc79f9b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Oct 8 13:48:26 2006 +0000

    GabbleMucFactory: merge conflicts
    
    
    20061008134826-418b8-68887cab357f822425573768f24c8ecc857045fa.gz

 src/muc-factory.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit bbe00f67ef967345b5c6122aa443bb5dcfab9468
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Oct 8 13:47:55 2006 +0000

    GabbleRoomlistChannel: stylistic/whitespace changes
    
    
    20061008134755-418b8-4ccc1f34cbfdaa8c69df065b3973e8ba643df94e.gz

 src/gabble-roomlist-channel.c |   45 ++++++++++++++++------------------------
 1 files changed, 18 insertions(+), 27 deletions(-)

commit 3a286ef7fcccebe5a694b457c6ad7a7242340866
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Oct 8 13:47:09 2006 +0000

    GabbleConnection: rename non-dbus functions to have a _, stylistic/whitespace fixes, don't export _gabble_connection_get_canonical_room_name
    
    
    20061008134709-418b8-e638acc4162c90285c0bbb200a5a44ca1d1f9dad.gz

 src/gabble-connection.c |   33 +++++++++++++++------------------
 src/gabble-connection.h |   10 ++--------
 2 files changed, 17 insertions(+), 26 deletions(-)

commit 32203f734876cd32f84822567d8f9871b13c700a
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Oct 8 13:43:41 2006 +0000

    GabbleDisco: stylistic/whitespace changes
    
    
    20061008134341-418b8-d41381d911ef4fd1334fd2ad7cb9d79ed0a454d1.gz

 src/disco.c |   66 +++++++++++++++++++++++++++-------------------------------
 src/disco.h |    2 +-
 2 files changed, 32 insertions(+), 36 deletions(-)

commit d756eb7ab73b127e1bf551d2497dfcc21a9c37b2
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Oct 8 13:43:07 2006 +0000

    GabbleDisco: fix leak; g_object_get gives you a copy of everything
    
    
    20061008134307-418b8-0e100d6255b633485642089afbd92bb4e7036e16.gz

 src/disco.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 263e39a73401b806c1a11896df7ff9ac1917e695
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Oct 8 13:41:27 2006 +0000

    GabbleDisco: fix crash when cancelling a pipeline; iterate the requests to cancel with a while () loop, otherwise you miss some of the requests and they come back later after the pipeline has been freed
    
    
    20061008134127-418b8-c1b529843a9ccb85a5ca6fbba9fa4c9adfb50016.gz

 src/disco.c |   20 +++++++++-----------
 1 files changed, 9 insertions(+), 11 deletions(-)

commit 75de7e956f6acd4b3f4f3923427f029d5527c56c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Oct 8 13:39:59 2006 +0000

    GabbleDisco: hook signal callback on connection in constructor instead of in _new (using the _new function is not mandatory, it should just validate arguments and call g_object_new)
    
    
    20061008133959-418b8-d64959d95bdeefe262aee26e634caa1b7ee04d9f.gz

 src/disco.c |   52 ++++++++++++++++++++++++++++++++--------------------
 1 files changed, 32 insertions(+), 20 deletions(-)

commit 3050245d9b6d1a96936035c53ef6510997594eb1
Author: Senko Rasic <senko@senko.net>
Date:   Fri Sep 29 03:32:13 2006 +0000

    bug fixes in new disco/roomlist code, fixed merge errors
    
    
    20060929033213-ae86b-6299fb91d1aef7cbeaee68f98a10ae87d41c4a26.gz

 src/disco.c                   |   31 ++++++++++++-------
 src/gabble-connection.c       |    2 +-
 src/gabble-roomlist-channel.c |   65 +---------------------------------------
 src/muc-factory.c             |    3 ++
 4 files changed, 26 insertions(+), 75 deletions(-)

commit f5ea3055815ea283bfd865fa6dd2b5801a3f37ac
Author: Senko Rasic <senko@senko.net>
Date:   Fri Sep 22 01:56:59 2006 +0000

    reorganization of service discovery (struct instead of hashtable for items)
    
    
    20060922015659-ae86b-770a3582ccc2d5fbfa70a4f4073831e3e8c7b000.gz

 src/disco.c                   |  189 +++++++++++++++++++++++++----------------
 src/disco.h                   |   34 ++++++--
 src/gabble-connection.c       |   27 ++-----
 src/gabble-roomlist-channel.c |   58 ++++++-------
 4 files changed, 174 insertions(+), 134 deletions(-)

commit e29692ef9eeb2c431415784d4d4caf05cc7b1a17
Author: Senko Rasic <senko@senko.net>
Date:   Wed Sep 20 22:31:35 2006 +0000

    moved roomlist channel creation to GabbleMucFactory, modified GabbleConnection and GabbleMucFactory to use new service discovery and caching
    
    
    20060920223135-ae86b-225926fa36b2f2c917cac11eee2f62cdf87ba0ed.gz

 src/gabble-connection.c |  303 ++++++++---------------------------------------
 src/gabble-connection.h |    8 ++
 src/muc-factory.c       |   71 +++++++++++-
 src/muc-factory.h       |    1 -
 4 files changed, 128 insertions(+), 255 deletions(-)

commit 01d5dbf4674ba9b7b4ebde8170ba98e88bd740f3
Author: Senko Rasic <senko@senko.net>
Date:   Wed Sep 20 11:33:36 2006 +0000

    modified GabbleRoomlistChannel to use disco pipeline, fixed a few errors in disco pipeline code
    
    
    20060920113336-ae86b-26c13cb7e7e5c90f174f0207c44037f6d3be03c1.gz

 src/disco.c                   |  114 +++++++++-------
 src/disco.h                   |   28 ++---
 src/gabble-roomlist-channel.c |  301 +++++++++++++---------------------------
 3 files changed, 171 insertions(+), 272 deletions(-)

commit 7efa9e584bdbcf1c8c1309dc0915a4ca0c0bdda2
Author: Senko Rasic <senko@senko.net>
Date:   Wed Sep 20 10:27:21 2006 +0000

    created pipeline for disco requests based on the one in roomlist code, added service discovery and cache code to disco
    
    
    20060920102721-ae86b-b3a70d08c088d4fb2c7a538b7b5463662e62e898.gz

 src/disco.c |  374 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 src/disco.h |   24 ++++
 2 files changed, 397 insertions(+), 1 deletions(-)

commit e98983cb33b34914e31c239793d8e1f3a6244a92
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Sat Oct 7 21:37:51 2006 +0000

    fixed old invite callback to use new debug stuff
    
    
    20061007213751-01440-f0dd50e192a572c3719c04c9c736b87e97087003.gz

 src/muc-factory.c |    6 ++----
 1 files changed, 2 insertions(+), 4 deletions(-)

commit 15c0137fab6b37e8ddbf1f9c697b7867401a3c27
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Oct 6 16:51:37 2006 +0000

    GabbleMediaChannel: fix compilation error
    
    
    20061006165137-418b8-dba5f5ffcf6ec4026f8a15335541a37286591a2a.gz

 src/gabble-media-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 806252f0d653fe32686e602270b0152ae2c46496
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 4 19:13:04 2006 +0000

    bump version to 0.3.10.1
    
    
    20061004191304-418b8-6fde62443fb4cdbe93d5fce7b491a38f8488cfdf.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b054a3fea5464f6d67256019efa0c1b9e282015a
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 4 19:06:26 2006 +0000

    bump version to 0.3.10
    
    
    20061004190626-418b8-e003182ccdf0b701d9019e33f841aa2df44daa34.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit e6da54d1b5193d4de2243ab993332faa0de81351
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 4 18:58:35 2006 +0000

    GabbleMediaSession: rearrange asserts for readability
    
    
    20061004185835-418b8-fbbcb3d8414d6917ca81787bfe19c3d126fc896b.gz

 src/gabble-media-session.c |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit 74efec1a10bc358cb80d6f75526e7cd46354226e
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Wed Oct 4 17:06:24 2006 +0000

    don't break on clients whose JID starts with a digit
    
    
    20061004170624-01440-61600bf34be71a918a7bfa3684e7c96e5c8deda2.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ab3e0b66d84d45b6d295a3772757614c053eb6ea
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 4 17:58:56 2006 +0000

    GabbleMediaSession: tighten up assertions in create_media_stream to guarantee google streams are named "gtalk"
    
    
    20061004175856-418b8-1441198c5ed4e7805ce40d7a1171e1d32a44ba1b.gz

 src/gabble-media-session.c |   13 ++++++++++---
 1 files changed, 10 insertions(+), 3 deletions(-)

commit b307d376720821c1124080534ea6326533b03e24
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 4 17:58:51 2006 +0000

    GabbleMediaSession: make sure newly-created streams are uniquely named
    
    
    20061004175851-418b8-f74942427f073c9d8b571ec9f44fdb9fa7310d58.gz

 src/gabble-media-session.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 7d4b18b30a40c5196935556d4d2dbb9ff047133e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 4 17:56:54 2006 +0000

    GabbleMediaSession: in outgoing gtalk calls, name the stream "gtalk"
    
    
    20061004175654-418b8-8a612e5655a67b9027a5d2579b2094c090573d74.gz

 src/gabble-media-session.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 5d82a38b0b1a93ece3d077f7b36e48ed545f99c1
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 4 13:36:33 2006 +0000

    GabbleMediaChannel: hook up the StreamDirectionChanged signal
    
    
    20061004133633-418b8-52612f4b22dba87b87851ce2c1dc233f97d8ccb4.gz

 src/gabble-media-channel.c |   24 ++++++++++++++++++++++++
 1 files changed, 24 insertions(+), 0 deletions(-)

commit 3e3c124c49c855c7cc90534639077af38de2d331
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 4 13:35:59 2006 +0000

    GabbleMediaChannel: report the combined-direction in ListStreams/RequestStreams replies
    
    
    20061004133559-418b8-93b452fc2712775673f0cb14c178cf2b60320391.gz

 src/gabble-media-channel.c |   17 ++++++++++-------
 1 files changed, 10 insertions(+), 7 deletions(-)

commit c9bb940a1648aaecb37fe1bf26783f83b2974c54
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Oct 4 13:33:07 2006 +0000

    GabbleMediaStream: add a combined-direction property to the stream to track both the direction & the pending senders
    
    
    20061004133307-418b8-c7584c2f6ea4d12e1ec586dc7170bd070957c1d1.gz

 src/gabble-media-stream.c |   27 +++++++++++++++++++++++++++
 src/gabble-media-stream.h |    9 +++++++++
 2 files changed, 36 insertions(+), 0 deletions(-)

commit d0d859eca9df6fe0a88a96c87ac2f6a4092e0eff
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed Oct 4 12:15:46 2006 +0000

    version 0.3.9.1
    
    
    20061004121546-b59df-6f1be2ac7a418d26332e005f4f08b1516c80bc87.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e2b3fd16b03c2a08f3efa182df47b97fb14525b5
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed Oct 4 12:15:01 2006 +0000

    version 0.3.9
    
    
    20061004121501-b59df-de33e5d02a9b68227eae05896e6834941f3e4894.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7ddca68dc9efc10bcfce91c635788f6ab9bd9d37
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   Tue Oct 3 21:19:12 2006 +0000

    support for receiving old-style muc invitations
    
    
    20061003211912-01440-925362e970964538c7db2e05fb373889db83b431.gz

 src/muc-factory.c |  127 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/namespaces.h  |    1 +
 2 files changed, 128 insertions(+), 0 deletions(-)

commit c9e512fe0f726f77acbda57f069952d0c16bab2c
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri Sep 29 16:54:01 2006 +0000

    support presence from JIDs with no resource
    
    
    20060929165401-b59df-132ea646cecba6dcbcc8a68b754dccb6e9c1c6d6.gz

 src/gabble-presence.c        |   29 +++++++++++++++++++++++++----
 tests/test-gabble-presence.c |   12 ++++++++++++
 2 files changed, 37 insertions(+), 4 deletions(-)

commit dcc7dc7f17fc63de559c0b59acb89aa82e385986
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri Sep 29 16:53:30 2006 +0000

    don't ignore presence from JIDs with no resource
    
    
    20060929165330-b59df-1e52ac528de1ca3f28c9c344e9910c72374e4f10.gz

 src/gabble-presence-cache.c |    6 ------
 1 files changed, 0 insertions(+), 6 deletions(-)

commit 77584402721e79f0a64097bdda46f3bcdfc4f7ce
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Oct 2 17:24:40 2006 +0000

    bump version to 0.3.8
    
    
    20061002172440-418b8-190a3adce0234e0df068826f0fc938f8684f4c55.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9550cb14cd5df1a1b65e611b5c425d3391802fd7
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu Sep 28 18:04:53 2006 +0000

    bump version to 0.3.7.0
    
    
    20060928180453-b59df-4144a9865bf1f8c32dbea4ce89c87c3ba4c09a09.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit ff1a945051525e2a2149d9f151c22e28def14bd0
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Oct 2 16:50:54 2006 +0000

    GabbleMedia{Session,Stream}: rename "accepted" on the stream to "locally-accepted"
    
    
    20061002165054-418b8-e4594254ecd4fb3d5cace81748ec39889d37b763.gz

 src/gabble-media-session.c |   10 +++++-----
 src/gabble-media-stream.c  |   26 +++++++++++++-------------
 2 files changed, 18 insertions(+), 18 deletions(-)

commit ddf2e0d018a87e59817a1cb233f442bd0a6e7fb5
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sat Sep 30 18:26:18 2006 +0000

    GabbleMedia{Session,Stream}: remove session priv->accepted and per stream JingleStreamState in favour of per-stream 'accepted' and 'playing' booleans
    
    
    20060930182618-418b8-59624f3f11a8f262971c99759fc99f7c497cfd5d.gz

 src/gabble-media-session.c |   97 +++++++++++++++++++++++++++----------------
 src/gabble-media-stream.c  |   90 ++++++++++++++++------------------------
 src/gabble-media-stream.h  |    8 ----
 3 files changed, 97 insertions(+), 98 deletions(-)

commit f3432660f84671105d42b062c57b2de889444685
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sat Sep 30 00:22:52 2006 +0000

    GabbleMediaSession: remove stream if content-add or content-accept return a failure; set stream to ACCEPTED if content-accept succeeds
    
    
    20060930002252-418b8-a083517fadc1dac3d297f8edf780d54e63b9ba15.gz

 src/gabble-media-session.c |   44 ++++++++++++++++++++++++++++++++++----------
 1 files changed, 34 insertions(+), 10 deletions(-)

commit f576eb7bbd4ac0ba3229d5d42c09c3f6ee9f6b12
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 29 23:48:13 2006 +0000

    GabbleMediaStream: fix misleading debug, s/candidates/transport-info/ on jingle streams
    
    
    20060929234813-418b8-c3f7f6a7c0b0b12d296cdbbb296a5f2414d94367.gz

 src/gabble-media-stream.c |   22 +++++++++++++---------
 1 files changed, 13 insertions(+), 9 deletions(-)

commit 667a97f7bd97fd4e1c43d07e4cfdc090a0fe118c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 29 23:40:49 2006 +0000

    GabbleMediaSession: hook up content-add, content-accept and content-remove to the existing handlers
    
    
    20060929234049-418b8-7d974bd4025e52b93ef715a2e06210235df7d1d5.gz

 src/gabble-media-session.c |   51 +++++++++++++++++++++++++++++++------------
 1 files changed, 37 insertions(+), 14 deletions(-)

commit 119e7dcb353dddbfbf2e690258cdb28c19900e79
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 29 22:25:56 2006 +0000

    GabbleMediaSession: send content-accept instead of session-accept after the session has been established
    
    
    20060929222556-418b8-593354a83ec908ba3ca6b50bd31e52170738dfe7.gz

 src/gabble-media-session.c |   29 ++++++++++++++++++++++++-----
 1 files changed, 24 insertions(+), 5 deletions(-)

commit 5781b99680e828f3fe67c01ea6707d53081e69e4
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 29 19:59:00 2006 +0000

    GabbleMediaSession: fix inverted logic in do_content_add
    
    
    20060929195900-418b8-985f593a5116f6213f64edef8b42ab97678b0690.gz

 src/gabble-media-session.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a426ba2cba707b62412d20c86ad4473bfeefac15
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 29 19:53:51 2006 +0000

    GabbleMediaSession: priv->accepted is never true if we're the initiator, don't assert that it's true in try_content_accept or do_content_add
    
    
    20060929195351-418b8-f6d9730eff57839176b22e76a07974063226c0a6.gz

 src/gabble-media-session.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 1a2f3af0ec15263732386383e42fe12ecb811d2e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 29 19:43:45 2006 +0000

    GabbleMediaSession: rename try_content_add to do_content_add and add initial implementation
    
    
    20060929194345-418b8-f0a6968b8ea468f3443e6450bb4b76b7d5940e18.gz

 src/gabble-media-session.c |   63 +++++++++++++++++++++++++++++++++++++++++--
 1 files changed, 60 insertions(+), 3 deletions(-)

commit 9de6df5893bf769e13790cda7f8f9796a69da938
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 29 19:43:21 2006 +0000

    GabbleMediaSession: add a seperate reply callback for content_accept
    
    
    20060929194321-418b8-637c8702b1a8a8ef4f0f8a6197172333b1b38947.gz

 src/gabble-media-session.c |   24 ++++++++++++++++++++++--
 1 files changed, 22 insertions(+), 2 deletions(-)

commit df1b585b419a4eb98ef295e6de85f7d0e2a4dbab
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 29 19:04:26 2006 +0000

    GabbleMediaSession: implement try_content_accept
    
    
    20060929190426-418b8-b2e90dbe0df22f62d298f94f8260ad374db4d9bd.gz

 src/gabble-media-session.c |   39 +++++++++++++++++++++++++++++++++++++++
 1 files changed, 39 insertions(+), 0 deletions(-)

commit 432cf4dfc94066719cc1f4ccd3a1245b0318ca1e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 29 18:50:17 2006 +0000

    GabbleMediaSession: make got_local_codecs callback robust against the local codecs arriving multiple times
    
    
    20060929185017-418b8-b0a2c3332f2c6784f5ec7b06db10cf125d94f2af.gz

 src/gabble-media-session.c |   16 +++++++++++++---
 1 files changed, 13 insertions(+), 3 deletions(-)

commit de9f287da4eec4bc78eefd7320798eeb2b0943aa
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 29 18:45:53 2006 +0000

    GabbleMediaSession: when we get local codecs on a stream, after the session is established, it must be due to a stream being added, so look at accepting it or telling the other end we want to add it
    
    
    20060929184553-418b8-7c377916e3abe91f887aac330dc69dbaca9881ef.gz

 src/gabble-media-session.c |   34 ++++++++++++++++++++++++++++++----
 1 files changed, 30 insertions(+), 4 deletions(-)

commit 418af919cc0ecf8f5aa973bd611b3341ecbd9dfb
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 29 18:44:18 2006 +0000

    GabbleMediaSession: make the connection state changed callback robust against the connectivity wobbling after we've accepted (otherwise we might send multiple accepts)
    
    
    20060929184418-418b8-03b6826339192671b19e561823b8c7f6aa5ff579.gz

 src/gabble-media-session.c |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit a32278b91a01b50d5aacbc1b576f8a6636aedc1b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 29 16:26:42 2006 +0000

    GabbleMediaChannel: indentation fix
    
    
    20060929162642-418b8-0a30f60fc4b51e865d7a2466384186a2bf2e3a0e.gz

 src/gabble-media-channel.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 421b0a872423fe1f0d939e4eb2251aa0547df276
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 29 16:10:13 2006 +0000

    GabbleMedia{Channel,Session}: remove dead code
    
    
    20060929161013-418b8-f71ff71dd067fa261b2e8927194158885160515f.gz

 src/gabble-media-channel.c |   16 ---------
 src/gabble-media-session.c |   81 --------------------------------------------
 2 files changed, 0 insertions(+), 97 deletions(-)

commit 173b43feeb469d51ac12cda9081c3b18cf86a6b0
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 29 16:02:41 2006 +0000

    GabbleMediaSession: in _remove_streams, don't send any "content-remove" messages unless any intiates have been sent
    
    
    20060929160241-418b8-40e989330130f63e5da0c2e6bcf5a8a34c182ef6.gz

 src/gabble-media-session.c |   47 ++++++++++++++++++++++++++++++-------------
 1 files changed, 33 insertions(+), 14 deletions(-)

commit 701db96ee16614bf8fce6be379103cef3406adc6
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 29 12:08:40 2006 +0000

    GabbleMediaSession: fix check for whether or not to send a terminate so that it's based off the session state
    
    
    20060929120840-418b8-2caeb21ba9d35c3fa88ce5711314f835962a0799.gz

 src/gabble-media-session.c |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit de05eaaa3f05b3adb1b9373f7ab2bb4a99c1aed9
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 29 11:59:35 2006 +0000

    GabbleMediaSession: set state to PENDING_INITIATE_SENT when we've sent the "initiate"
    
    
    20060929115935-418b8-60af679f041a4b673afca2a0be89a52aa76028eb.gz

 src/gabble-media-session.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 6af50a7901b4ea7aa8b1b49bc710cbb9b2df8a8c
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri Sep 29 15:53:03 2006 +0000

    add comments to presence test code
    
    
    20060929155303-b59df-19851beaeaa883fb580d38adc248417a605d9d73.gz

 tests/test-gabble-presence.c |   15 +++++++++++++++
 1 files changed, 15 insertions(+), 0 deletions(-)

commit 8fddb2d3af73d16a9d178fe3174e78c682ad3fcd
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri Sep 29 15:52:31 2006 +0000

    assign to TESTS rather than using own check rule
    
    
    20060929155231-b59df-e32ef01cc51fca6cd6fd8d7ccbc5317fd6c85321.gz

 tests/Makefile.am |    5 +----
 1 files changed, 1 insertions(+), 4 deletions(-)

commit 41314003ba44cce3628699258353ab988a6e27c8
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri Sep 29 15:52:08 2006 +0000

    presence: wrap long lines
    
    
    20060929155208-b59df-47add35dd828b9b06e22d6b3036eccb1d503249d.gz

 src/gabble-presence.c |   13 ++++++++++---
 1 files changed, 10 insertions(+), 3 deletions(-)

commit caea0b06f1ef80a5e757aa6c0714da5b3a5df5fe
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu Sep 28 17:30:01 2006 +0000

    set GError when set_param_from_value returns FALSE
    
    
    20060928173001-b59df-b54fb9fb5372a73df17725d38d5c191aa64e8ba9.gz

 src/gabble-connection-manager.c |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit b245c9f8a9052bc969a617c3711e90309d7ddb28
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Sep 21 12:41:08 2006 +0000

    gabble-connection.c, .h, gabble-connection-manager.c: Allow a fallback alias to be set
    
    
    20060921124108-53eee-81e4966a39b4b82d82aeff08418f251024d60bc3.gz

 src/gabble-connection-manager.c |    5 +++++
 src/gabble-connection.c         |   33 +++++++++++++++++++++++++++++++++
 src/gabble-connection.h         |    1 +
 3 files changed, 39 insertions(+), 0 deletions(-)

commit 6c390867e1cb9790ab90903707442dff72b2e7d9
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Sep 21 19:59:44 2006 +0000

    bump version to 0.3.6.1
    
    
    20060921195944-418b8-1d1de5b23680bc52cd196aab4bb0c42cca4f23c7.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8c23339a2d3828a0e2a08c35db47bfb6cb065a3c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Sep 26 17:10:37 2006 +0000

    GabbleRoster: disallow "deny" channels if we don't have google:roster support
    
    
    20060926171037-418b8-48a0806c78f5b087f59b9833cf2f0baba701b09e.gz

 src/roster.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit a4934d81b5b4453d63f4f3fe417a3aff99f4b82d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Sep 24 16:57:09 2006 +0000

    GabblePresenceCache: look for the <c> node in the caps namespace, rather than any <c> node
    
    
    20060924165709-418b8-ec19a83d04c1e55a7fa1343d8c0ea7323e70aca6.gz

 src/gabble-presence-cache.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ac56fae1276623a5b8a7f2d90f4d6f7eaeff58e0
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Sep 24 16:53:17 2006 +0000

    modify lm_message_node_get_child_with_namespace to look for nodes like <tag:name xmlns:tag="ns">
    
    
    20060924165317-418b8-63e3d0735c60500674ed36e1c1b14995d705c83f.gz

 src/util.c |   25 +++++++++++++++++++++++--
 1 files changed, 23 insertions(+), 2 deletions(-)

commit a25ac2dc2dafb737a4155e16ca31799e14323e1b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Sep 24 15:41:08 2006 +0000

    add a tag argument to lm_message_node_has_namespace, so we can look for xmlns:tag nodes optionally
    
    
    20060924154108-418b8-6886056b5e15ad2e90ccee4d6c9c76b750fdc5e6.gz

 src/gabble-media-session.c    |    8 ++++----
 src/gabble-muc-channel.c      |    6 +++---
 src/gabble-roomlist-channel.c |    2 +-
 src/util.c                    |   22 ++++++++++++++++------
 src/util.h                    |    2 +-
 5 files changed, 25 insertions(+), 15 deletions(-)

commit 75d5fa6cb7d703404f5eb63d266f79c48beb8fd4
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Sep 21 16:44:38 2006 +0000

    bump version to 0.3.6
    
    
    20060921164438-418b8-4d74c147be23f9f3874f714299a95a3bcd3e5fb5.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit bab7d887f2e910deeb5933a7e57027273b4d544e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Sep 21 16:39:25 2006 +0000

    GabbleMediaSession: fix hypothetical memory leak in code path that can't happen currently (but may in future)
    
    
    20060921163925-418b8-8fee1b86c4c8c75272d3a926c69164c854291ec5.gz

 src/gabble-media-session.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 1103034c3a107953fc31cf57a412c52bc736d02e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Sep 21 16:29:05 2006 +0000

    GabbleMediaSession: make the Error method call Error on each stream, or just end the session if there aren't any
    
    
    20060921162905-418b8-dd96eae5c795274d6c35bafb2d5b392102780e92.gz

 src/gabble-media-session.c |   44 ++++++++++++++++++++++++++++++++++++++++++--
 1 files changed, 42 insertions(+), 2 deletions(-)

commit 95f04a45f62280c801b5852aa703fabd84d9dfea
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Sep 21 16:24:44 2006 +0000

    GabbleMediaStream: mark the stream closed *before* emitting the signal
    
    
    20060921162444-418b8-74e4cd7843d403474466f85c14dac4e27c1c1e8d.gz

 src/gabble-media-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7261e7414fa09d2e902a45f4e13a368fb6310801
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Sep 21 15:53:48 2006 +0000

    GabbleMediaSession: close all of the streams when the session is terminated
    
    
    20060921155348-418b8-55e8f094cdd8b6e33ac94077d973c9ccb8e418e9.gz

 src/gabble-media-session.c |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit e712d6a1188a53da2718d93e74420ada622b7ff7
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Sep 21 15:53:07 2006 +0000

    GabbleMediaChannel: remove the stream from the session after it's given us an error and we've reported it to the user, otherwise the session can make the channel disappear before this happens
    
    
    20060921155307-418b8-2538cdd85b65e04d806ec6748403a33069de1e32.gz

 src/gabble-media-channel.c |   12 +++++++++++-
 1 files changed, 11 insertions(+), 1 deletions(-)

commit 3478768cc2a21e3287c6a890c87483a97e5a1803
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Sep 21 12:17:36 2006 +0000

    GabbleMediaSession: tweak indentation in remove streams function
    
    
    20060921121736-418b8-9952876bc785bad30d4bcb4c2aca3a8a270d8e65.gz

 src/gabble-media-session.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 60e0ad24b130de92c0d96fde0c6e798ae4e24793
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Sep 21 12:09:02 2006 +0000

    GabbleMediaChannel: emit StreamError when a stream emits the error signal
    
    
    20060921120902-418b8-f83a3456c262d1f1e7401fa56c5bd6e946457f3a.gz

 src/gabble-media-channel.c |   15 +++++++++++++++
 1 files changed, 15 insertions(+), 0 deletions(-)

commit 64ba6972374c0f958ad6472549de7471594a936d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Sep 21 12:06:12 2006 +0000

    GabbleMediaStream: emit an ERROR signal when Error is called
    
    
    20060921120612-418b8-0202abcb0ed90eb8bb3d7cfe921ef74ba9e5c85c.gz

 src/gabble-media-stream-signals-marshal.list |    1 +
 src/gabble-media-stream.c                    |   16 ++++++++++++----
 2 files changed, 13 insertions(+), 4 deletions(-)

commit 818877141f5e4a86bfbe7fa9cc026faa4101c15f
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Sep 21 03:10:34 2006 +0000

    GabbleMediaChannel: add StreamError signal
    
    
    20060921031034-418b8-d3c0fbde7969d24a49956512fed9c73b6abad524.gz

 .../src/gabble-media-channel-signals-marshal.list  |    1 +
 generate/src/gabble-media-channel.c                |   10 ++++++++++
 generate/xml-modified/gabble-media-channel.xml     |    5 +++++
 generate/xml-pristine/gabble-media-channel.xml     |    5 +++++
 src/gabble-media-channel-signals-marshal.list      |    1 +
 src/gabble-media-channel.c                         |   10 ++++++++++
 6 files changed, 32 insertions(+), 0 deletions(-)

commit 4a3e32a9290d5c1ab7ae25921602edf62df90d4d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Sep 21 01:09:44 2006 +0000

    remove Name field from [ConnectionManager] section in .manager file
    
    
    20060921010944-418b8-0c97bb5fd6293d9a990ecf05186ba8b61d9a9025.gz

 src/write-mgr-file.c |    6 ++----
 1 files changed, 2 insertions(+), 4 deletions(-)

commit fcee777ad6c1b4fa5a738a26a1b226197ce15f2c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Sep 20 18:45:38 2006 +0000

    GabbleMediaSession: name stream objects as MediaStream instead of IceStream
    
    
    20060920184538-418b8-32d9c53679f80f68d8cec5d840be426c401509d5.gz

 src/gabble-media-session.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 553497dea55d785d51a4cb5cccfa922f770e1e41
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Sep 20 17:32:48 2006 +0000

    GabbleMediaStream: emit CLOSE when we /intend/ to close (which can be due to an error) and have the session and channel listen for that signal so that signals can be emitted etc while the session and channel are still alive, fixing a crash on MediaStream::Error
    
    
    20060920173248-418b8-dd6a5b295007c4a2e068fd4adccfb2d3cf859127.gz

 src/gabble-media-channel.c |   10 +++++-----
 src/gabble-media-session.c |   14 +++++++-------
 src/gabble-media-stream.c  |   13 +++++++++++--
 3 files changed, 23 insertions(+), 14 deletions(-)

commit b6a8b0e4e949937d35e2dd3d9def058ecd24a619
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Sep 20 14:13:52 2006 +0000

    s/block/deny/ in name of contact list handle for blocked contact, to match the spec
    
    
    20060920141352-418b8-bcb5a7cd72a39f249987bf31fd3e12865226f299.gz

 src/gabble-roster-channel.c |   10 +++++-----
 src/handles.c               |   18 +++++++++---------
 src/handles.h               |    2 +-
 src/roster.c                |   28 ++++++++++++++--------------
 4 files changed, 29 insertions(+), 29 deletions(-)

commit 91fc5d4709baf046e250461b8b33aac7f1c171cd
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Sep 18 18:50:51 2006 +0000

    GabbleMediaChannel: add missing signal details on StreamAdded/StreamRemoved signals
    
    
    20060918185051-418b8-a11a4cd47b6811908aefd77558580e3d96171ef4.gz

 src/gabble-media-channel.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit c2de30e42fe6edce117b13b454493b244da63be0
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Sep 14 15:48:54 2006 +0000

    GabbleMediaChannel: catch missing s/state/connection-state/ in a few places
    
    
    20060914154854-418b8-2f1e4abd1cb54c54d4406fb5ec80d8dbbb3057a0.gz

 src/gabble-media-channel.c |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit 566f81145322600ea4f54e42291c50e95dc2e5d9
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Sep 13 13:33:01 2006 +0000

    bump version to 0.3.5.1
    
    
    20060913133301-418b8-d0c76f905278f83d63086a822b9ff48e0f345eb0.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 974e51c75cd7b36417c3d4986df6d33137483434
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Sep 13 13:24:13 2006 +0000

    bump version to 0.3.5
    
    
    20060913132413-418b8-5ff856481de2f8975172b9f3b4decfda37ee4eba.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit ae7c7a563cb8213a349c543d7d8d438ada6ab1dc
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Sep 13 13:21:26 2006 +0000

    GabbleMediaSession: clarify use of the word "acceptance" in a few places
    
    
    20060913132126-418b8-64f32cae90792ba8366f9465a50feed6ae81bcef.gz

 src/gabble-media-session.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 645c255feb91e5e5e0991a09be595ce82bc2d0ce
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Sep 13 13:20:46 2006 +0000

    GabbleMediaSession: fix code to match comment (when we set the timer on incoming calls where we're not the initiator)
    
    
    20060913132046-418b8-ce471507506eb090b15965275da084e17daea64e.gz

 src/gabble-media-session.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 819b7ef8f4455900a91c0773d6346052582fe176
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Sep 13 13:15:02 2006 +0000

    GabbleMediaStream: clarify debug message when emitting SetStreamPlaying
    
    
    20060913131502-418b8-e4b55ab41364bdaa6f4bc779d53f22329c198cde.gz

 src/gabble-media-stream.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 766c125efdafa72dcec7805ada251d318ee3ac1f
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Sep 13 13:14:45 2006 +0000

    GabbleMediaSession: rename session-reduce action to content-remove
    
    
    20060913131445-418b8-2789ac5a33dc092cc9d1d10ebe0211c80a09f340.gz

 src/gabble-media-session.c |   21 +++++++++++----------
 1 files changed, 11 insertions(+), 10 deletions(-)

commit b437b700c953cc5f3c773389607f7733e2dc0815
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Sep 13 13:13:49 2006 +0000

    GabbleMedia{Session,Stream}: rename state property on stream to connection-state
    
    
    20060913131349-418b8-b1ccf58566b1653852594534d0b157cd1b896cae.gz

 src/gabble-media-session.c |   28 ++++++++++++++--------------
 src/gabble-media-stream.c  |   24 ++++++++++++------------
 2 files changed, 26 insertions(+), 26 deletions(-)

commit 8dbc1f8a4491618939924c474b9d3d4331b81887
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Sep 12 07:41:16 2006 +0000

    GabbleMedia{Session,Stream}: s/got-codecs/got-local-codecs/
    
    
    20060912074116-418b8-19c6d6546e88dd3537e9d1dfe6ad242c611f01c9.gz

 src/gabble-media-session.c |   46 ++++++++++++++++++++++---------------------
 src/gabble-media-stream.c  |   18 ++++++++--------
 2 files changed, 33 insertions(+), 31 deletions(-)

commit 0ad8dd0a4b968663a6006676c827f618b0728cdd
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Sep 11 16:24:27 2006 +0000

    GabbleMediaSession: emit StreamAdded when the stream is created, rather than waiting for Ready off the stream engine
    
    
    20060911162427-418b8-0dc6e30b9483a7840314e14737211db96c5f88b4.gz

 src/gabble-media-session.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 56fcd99142ba60984b1e53dd83542b3fc7d16aad
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Sep 11 16:16:53 2006 +0000

    GabbleMediaSession: rename _find_unacceptable_stream -> _stream_not_ready_for_accept and _find_uninitiatable_stream -> _stream_not_ready_for_initiate
    
    
    20060911161653-418b8-e523f2bb38972f6bba0fc5ac91fbd6b60ddae041.gz

 src/gabble-media-session.c |   18 +++++++++---------
 1 files changed, 9 insertions(+), 9 deletions(-)

commit 754e90c087936895b66fb176601447e467fea522
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Sep 11 14:12:56 2006 +0000

    GabbleMediaChannel: drop references to streams in priv->streams before unreffing session
    
    
    20060911141256-418b8-7ef3c52f145f5fcfb1d3d9ce5febbda075004202.gz

 src/gabble-media-channel.c |   25 +++++++++++++------------
 1 files changed, 13 insertions(+), 12 deletions(-)

commit ac73fb827482f631a8b6ae2a5fa3d05f560259ee
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Sep 11 13:06:08 2006 +0000

    GabbleMediaSession: set PRE_ACCEPTED on locally-created streams so that we send useful stuff like remote candidates
    
    
    20060911130608-418b8-d870b731ec0d5319b99c72693723234ff4e760be.gz

 src/gabble-media-session.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 363dd3e539398350ffce821fe3908473bd0bc3bf
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Sep 11 12:42:07 2006 +0000

    GabbleMedia{Session,Stream}: merge in changes from Ole's branch, use g_hash_table_find to decide if there's a stream that's not ready for us to send acceptance or an invitation, and set playing after the stream state goes to accepted
    
    
    20060911124207-418b8-919fe78988f261c87e1f5fd273ad9bacc2e3d0e6.gz

 src/gabble-media-channel.c |  102 ++++++++++++++++++-
 src/gabble-media-channel.h |  135 ++++++++++++++++++++----
 src/gabble-media-session.c |  252 +++++++++++++++++++++++++++++++-------------
 src/gabble-media-stream.c  |   76 ++++++++++++-
 4 files changed, 464 insertions(+), 101 deletions(-)

commit ef1b9db93f9831475997d71efd3bb8c0df5f18c1
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sun Sep 10 12:05:27 2006 +0000

    GabbleMediaStream: s/voip-engine/stream-engine/
    
    
    20060910120527-50843-0d364f870517eea40919478bc37326f3ab9c222b.gz

 src/gabble-media-stream.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit 11c4c17134a87f5f2675edfa43ad47d216bfbfa8
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sun Sep 10 12:04:24 2006 +0000

    hook in _handle_accept in GabbleMediaSession and remove an unused variable from GabbleMediaStream
    
    
    20060910120424-50843-2974e4645eacbf7707d2296fcb84849603ee0e71.gz

 src/gabble-media-session.c |    2 +-
 src/gabble-media-stream.c  |    1 -
 2 files changed, 1 insertions(+), 2 deletions(-)

commit 8573199f3138d61849d43a2a620444e6ebd22ac2
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sun Sep 10 12:01:06 2006 +0000

    GabbleMedia{Session,Stream}: add per-stream state and clean up the interaction between session and stream
    
    
    20060910120106-50843-8d6d54525f695515b19573b590070cbb7920f431.gz

 src/gabble-media-session.c |  174 ++++++++++++++++++--------------------------
 src/gabble-media-stream.c  |  121 +++++++++++-------------------
 src/gabble-media-stream.h  |   10 ++-
 3 files changed, 125 insertions(+), 180 deletions(-)

commit c3da59b7364e10854c7ed9a2a6a6f2abe4a0b41a
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sun Sep 10 11:43:18 2006 +0000

    GabbleMediaChannel: fix a minor coding style inconsistency
    
    
    20060910114318-50843-6c3d567544df46eff6c23403581697d499986cde.gz

 src/gabble-media-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 52868d10cc85ac61e66a7c5268b6ffde6ecd9bfa
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sun Sep 10 11:39:48 2006 +0000

    GabbleMedia{Channel,Session,Stream}: implement RemoveStreams
    
    
    20060910113948-50843-b6b8cee0c144e52ecb7fe63c375644fe143942de.gz

 src/gabble-media-channel.c |   43 ----------------
 src/gabble-media-channel.h |  114 ++++++-------------------------------------
 src/gabble-media-session.c |  113 +++++++++++++++++++++++++++++++++++++++++++
 src/gabble-media-session.h |    1 +
 src/gabble-media-stream.c  |   22 +++++----
 src/gabble-media-stream.h  |    1 +
 6 files changed, 143 insertions(+), 151 deletions(-)

commit d73c44d33aa16ef12b612b4f2905d7aced974f7b
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sun Sep 10 10:56:13 2006 +0000

    GabbleMedia{Session,Stream}: add another state to Session and use this to set the timeout correctly. add initiator property to Stream.
    
    
    20060910105613-50843-ab12fdc28b97377b7a849f6333c6deb7f1b06f59.gz

 src/gabble-media-session.c |   25 ++++++++++++++++++-------
 src/gabble-media-session.h |    6 ++++++
 src/gabble-media-stream.c  |   20 ++++++++++++++++++++
 3 files changed, 44 insertions(+), 7 deletions(-)

commit ec2697c2038fcfe49fab3e6bffd6562a0c45f5ff
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sun Sep 10 10:43:29 2006 +0000

    GabbleMediaSession: change initiator to an enum to make the logic clearer
    
    
    20060910104329-50843-72da071acd16ef434683054e6aee0db3d4891ec8.gz

 src/gabble-media-channel.c |    8 +++-----
 src/gabble-media-session.c |   21 ++++++++++++++-------
 2 files changed, 17 insertions(+), 12 deletions(-)

commit 416ca9370d15b52e97f340e3d676535834b16cd7
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Sep 11 08:51:08 2006 +0000

    GabbleMediaStream: only set stream playing after Ready is called if we're setting it playing, rather than stopping it egregiously
    
    
    20060911085108-418b8-3017a7bb3897f7bde6ecec5228e6b3ee84c9b3a9.gz

 src/gabble-media-stream.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 4eb3ca321df1f970fff66736dbfe64d53170262c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Sep 11 08:49:47 2006 +0000

    GabbleMedia*: regenerate with spec 0.13.5, update RequestStreams to return the same as ListStreams
    
    
    20060911084947-418b8-9fa37072f5d121fcc4b880decedcc898565af7ba.gz

 generate/src/gabble-media-channel.c            |   23 +++++-
 generate/src/gabble-media-channel.h            |    7 ++-
 generate/src/gabble-media-stream.c             |   10 ++
 generate/xml-modified/gabble-media-channel.xml |    5 +-
 generate/xml-modified/gabble-media-stream.xml  |    1 +
 generate/xml-pristine/gabble-media-channel.xml |    5 +-
 generate/xml-pristine/gabble-media-stream.xml  |    1 +
 src/gabble-media-channel.c                     |  109 +++++++++++++++++-------
 src/gabble-media-channel.h                     |    7 ++-
 src/gabble-media-session.c                     |   14 ++--
 src/gabble-media-session.h                     |    2 +-
 src/gabble-media-stream.c                      |   10 ++
 12 files changed, 149 insertions(+), 45 deletions(-)

commit b74f66bcf9366b92140c775f2db178cb4aa73175
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Sep 10 15:30:42 2006 +0000

    bump version to 0.3.4.1
    
    
    20060910153042-418b8-63167a1917b9cfa5e2ce66b798bbf0a2c1d22012.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 37fcdb7c6e8b074d4eb8fc9ff54e57b9ae7f128e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Sep 10 15:18:00 2006 +0000

    bump version to 0.3.4
    
    
    20060910151800-418b8-c6be1f9b1d7b48ab28908efe236f9a98d08fc1d1.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit c5754763ef434d304915251e8dbf0e6a2181fdfd
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Sep 10 15:14:47 2006 +0000

    GabbleMedia{Channel,Session,Stream}: merge ListStreams/StreamAdded/StreamStateChanged stuff with spec 0.13.4 and new code generator
    
    
    20060910151447-418b8-94ed2423a19e4349c85b19a2e320e2231b56cbd2.gz

 src/gabble-media-channel.c |   23 ++++++++++++++++-------
 src/gabble-media-session.c |    3 ++-
 src/gabble-media-stream.c  |   28 +++++++++++++++++++++++-----
 src/telepathy-constants.h  |    6 ++++++
 4 files changed, 47 insertions(+), 13 deletions(-)

commit b0ca9ef91bcbbd83c1f8fb254644ac47264debc3
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Sep 10 11:35:20 2006 +0000

    GabbleMediaChannel: fix up crashing by moving the ptr array of streams aside at dispose time, so the stream_closed_cb is a no-op
    
    
    20060910113520-418b8-70fb282593b9f77e06fde85e4677a0d69493d157.gz

 src/gabble-media-channel.c |   19 ++++++++++++++++---
 1 files changed, 16 insertions(+), 3 deletions(-)

commit c95b232b0a66438508a969d9221cf66409ceca97
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Sep 8 12:16:22 2006 +0000

    GabbleMediaChannel: fix a stupid g_signal_emit so that StreamStateChanged gets correctly emitted
    
    
    20060908121622-50843-e42cc4f0345ba3203d0eed2cb5e756ae25cbde8f.gz

 src/gabble-media-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b2cd5a3d29c09b5c828ff69e8f20db3241f12823
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Tue Sep 5 07:23:21 2006 +0000

    GabbleMediaChannel: added a missing check in dispose (doh)
    
    
    20060905072321-50843-01ff9d2a1ea437b880888799be8ff56598a806ab.gz

 src/gabble-media-channel.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 5ccbf4849d73d8ae2b5c9dd8b1ae3757d0ed7138
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon Sep 4 20:00:09 2006 +0000

    GabbleMediaChannel: implement ListStreams (directionality TBD) and emit Stream{Added,Removed,StateChanged}
    
    
    20060904200009-50843-87d579d3c38b8ba2e3e1f44010f89baf4be46738.gz

 src/gabble-media-channel.c |  147 +++++++++++++++++++++++++-------------------
 src/gabble-media-session.c |   46 ++++----------
 src/gabble-media-session.h |    2 -
 src/gabble-media-stream.c  |   25 ++++++--
 4 files changed, 114 insertions(+), 106 deletions(-)

commit e00fa906a7e76c9fb638026b0d8e65c41de69181
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Sep 10 14:53:12 2006 +0000

    GabbleMedia{Channel,Session,Stream}: regenerate with spec 0.13.4 to rename Ice* back to Media*, and add directionality methods & signals
    
    
    20060910145312-418b8-0817c298821946ff024f489a1c458001f4ec6d45.gz

 generate/gabble.def                            |    6 ++--
 generate/src/gabble-media-channel.c            |   40 +++++++++++++++++++--
 generate/src/gabble-media-channel.h            |    6 +++
 generate/src/gabble-media-session.c            |   10 +++---
 generate/src/gabble-media-stream.c             |   26 +++++++++----
 generate/xml-modified/gabble-media-channel.xml |   15 ++++++--
 generate/xml-modified/gabble-media-session.xml |    4 +-
 generate/xml-modified/gabble-media-stream.xml  |    5 ++-
 generate/xml-pristine/gabble-media-channel.xml |   15 ++++++--
 generate/xml-pristine/gabble-media-session.xml |    4 +-
 generate/xml-pristine/gabble-media-stream.xml  |    5 ++-
 src/gabble-media-channel.c                     |   45 ++++++++++++++++++++---
 src/gabble-media-channel.h                     |    6 +++
 src/gabble-media-session.c                     |   12 +++---
 src/gabble-media-stream.c                      |   26 +++++++++----
 src/telepathy-constants.h                      |    7 ++--
 src/telepathy-interfaces.h                     |   12 +++---
 17 files changed, 182 insertions(+), 62 deletions(-)

commit c4f94458bcf709be78f3996ad9dc86c8f07375d4
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Sep 10 11:40:59 2006 +0000

    s/occured/occurred/
    
    
    20060910114059-418b8-70b19e789ba8614bcef9697c92fd4a418753fdd0.gz

 generate/src/gabble-connection-manager.c |    6 ++--
 generate/src/gabble-connection.c         |   38 ++++++++++++------------
 generate/src/gabble-im-channel.c         |   16 +++++-----
 generate/src/gabble-media-channel.c      |   32 ++++++++++----------
 generate/src/gabble-media-session.c      |    4 +-
 generate/src/gabble-media-stream.c       |   16 +++++-----
 generate/src/gabble-muc-channel.c        |   40 ++++++++++++------------
 generate/src/gabble-roomlist-channel.c   |   12 ++++----
 generate/src/gabble-roster-channel.c     |   26 ++++++++--------
 src/disco.c                              |    2 +-
 src/gabble-connection-manager.c          |    6 ++--
 src/gabble-connection.c                  |   48 +++++++++++++++---------------
 src/gabble-im-channel.c                  |   16 +++++-----
 src/gabble-media-channel.c               |   32 ++++++++++----------
 src/gabble-media-session.c               |    4 +-
 src/gabble-media-stream.c                |   16 +++++-----
 src/gabble-muc-channel.c                 |   40 ++++++++++++------------
 src/gabble-roomlist-channel.c            |   12 ++++----
 src/gabble-roster-channel.c              |   26 ++++++++--------
 src/text-mixin.c                         |    6 ++--
 20 files changed, 199 insertions(+), 199 deletions(-)

commit 0ff5459de9ff43c30f7fcf4dc6eaf665ec5732b2
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Sep 10 09:31:55 2006 +0000

    Gabble*: regenerate with gengobject.py from spec 0.13.4
    
    
    20060910093155-418b8-7b859f4e631cbe03b1e660b22c2857b89b1490fa.gz

 generate/src/gabble-connection-manager.c           |   47 +-
 generate/src/gabble-connection-manager.h           |   24 +-
 .../src/gabble-connection-signals-marshal.list     |    8 +-
 generate/src/gabble-connection.c                   |  304 +++++++----
 generate/src/gabble-connection.h                   |  159 +++++-
 .../src/gabble-im-channel-signals-marshal.list     |    8 +-
 generate/src/gabble-im-channel.c                   |  110 +++--
 generate/src/gabble-im-channel.h                   |   52 ++-
 .../src/gabble-media-channel-signals-marshal.list  |    9 +-
 generate/src/gabble-media-channel.c                |  205 +++++---
 generate/src/gabble-media-channel.h                |  105 +++-
 .../src/gabble-media-session-signals-marshal.list  |    2 +-
 generate/src/gabble-media-session.c                |   34 +-
 generate/src/gabble-media-session.h                |   14 +-
 .../src/gabble-media-stream-signals-marshal.list   |    6 +-
 generate/src/gabble-media-stream.c                 |  108 +++--
 generate/src/gabble-media-stream.h                 |   52 ++-
 .../src/gabble-muc-channel-signals-marshal.list    |   15 +-
 generate/src/gabble-muc-channel.c                  |  280 ++++++----
 generate/src/gabble-muc-channel.h                  |  142 ++++-
 .../gabble-roomlist-channel-signals-marshal.list   |    3 -
 generate/src/gabble-roomlist-channel.c             |   81 ++-
 generate/src/gabble-roomlist-channel.h             |   37 +-
 .../src/gabble-roster-channel-signals-marshal.list |    5 +-
 generate/src/gabble-roster-channel.c               |  164 ++++--
 generate/src/gabble-roster-channel.h               |   85 +++-
 src/gabble-connection-manager.c                    |   55 ++-
 src/gabble-connection-manager.h                    |   26 +-
 src/gabble-connection-signals-marshal.list         |    4 +-
 src/gabble-connection.c                            |  610 ++++++++++++--------
 src/gabble-connection.h                            |  158 +++++-
 src/gabble-im-channel.c                            |  134 +++--
 src/gabble-im-channel.h                            |   52 ++-
 src/gabble-media-channel-signals-marshal.list      |    4 +-
 src/gabble-media-channel.c                         |  247 +++++---
 src/gabble-media-channel.h                         |  105 +++-
 src/gabble-media-session-signals-marshal.list      |    2 +-
 src/gabble-media-session.c                         |   44 +-
 src/gabble-media-session.h                         |   14 +-
 src/gabble-media-stream.c                          |  156 +++--
 src/gabble-media-stream.h                          |   52 ++-
 src/gabble-muc-channel-signals-marshal.list        |    2 +-
 src/gabble-muc-channel.c                           |  320 +++++++----
 src/gabble-muc-channel.h                           |  142 ++++-
 src/gabble-roomlist-channel.c                      |   97 ++--
 src/gabble-roomlist-channel.h                      |   37 +-
 src/gabble-roster-channel.c                        |  192 ++++---
 src/gabble-roster-channel.h                        |   85 +++-
 src/group-mixin-signals-marshal.list               |    4 +-
 src/group-mixin.c                                  |    4 +-
 src/handles.c                                      |    4 +-
 src/properties-mixin.c                             |   16 +-
 src/properties-mixin.h                             |    2 +-
 src/telepathy-errors.c                             |    2 +-
 src/telepathy-helpers.c                            |    2 +-
 src/text-mixin-signals-marshal.list                |    6 +-
 src/text-mixin.c                                   |   18 +-
 57 files changed, 3166 insertions(+), 1489 deletions(-)

commit 587ce432ec6624f7dc21831b5f1714f1825bd923
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Sep 10 08:27:56 2006 +0000

    GabbleConnection: edit method order to help resolve conflicts
    
    
    20060910082756-418b8-fac0236c2141507229fe5374afc4546cc7a766d8.gz

 src/gabble-connection.c |   56 +++++++++++++++++++++++-----------------------
 1 files changed, 28 insertions(+), 28 deletions(-)

commit 26b79cb8187ad7c482d04f9a0890fa09a299cc1a
Author: Olli Salli <olli.salli@collabora.co.uk>
Date:   Wed Sep 6 11:26:06 2006 +0000

    Handle contact caps disco errors by trying to request the same information from some other guy claiming to have it
    
    
    20060906112606-9db4d-3a8a0e68197dc009f3ab47e5c122afbc4a2b0ff0.gz

 src/gabble-presence-cache.c |   50 ++++++++++++++++++++++++++++++++++++++----
 1 files changed, 45 insertions(+), 5 deletions(-)

commit 3bce6209811d7ffced112d401ccaf85ed09125eb
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Sep 6 11:15:29 2006 +0000

    bump version to 0.3.3.1
    
    
    20060906111529-418b8-27730d92139979b82a2bfe9309308fdde678589a.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 49431878a02e33498c4261bef5e6ed89c074ef09
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Sep 6 11:10:13 2006 +0000

    bump version to 0.3.3
    
    
    20060906111013-418b8-d60b4598084853e72f8dc7627c6ae9af8bd27102.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit a98994c4869ceecf0cef1991ac9e54b7153d40ff
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Sep 6 07:09:13 2006 +0000

    GabbleMediaChannel: s/clear/free/ (the session ID)
    
    
    20060906070913-418b8-698a1487905cb9a0993bcb0ab411784ab0e20665.gz

 src/gabble-media-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b1504be6beb5c9a4e4276a3be711fa3829931947
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Sep 5 12:14:35 2006 +0000

    GabbleConnection: only unref our self_handle if we're being disconnected from a state where we were connecting/connected, and only ref it when we go to connecting
    
    
    20060905121435-418b8-9bb312533f6b6e851fbb463ac709551c70c7771c.gz

 src/gabble-connection.c |   22 +++++++++++++++-------
 1 files changed, 15 insertions(+), 7 deletions(-)

commit 6517b19a9ff65b0c13f8a9814ba601216bbc220b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Sep 5 10:41:26 2006 +0000

    GabbleMedia{Session,Stream}: remove g_object_unref of priv->conn because we no longer have a reference to it from g_object_get
    
    
    20060905104126-418b8-1bf49101b644ff9941f6fcfa9b60685068d7ca80.gz

 src/gabble-media-session.c |    2 --
 src/gabble-media-stream.c  |    2 --
 2 files changed, 0 insertions(+), 4 deletions(-)

commit 59d4831eb3610f996f04b02610258880ee9c300a
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Sep 4 18:33:36 2006 +0000

    GabbleMuc{Channel,Factory}: avoid passing handle from MUC factory to channel without qualifying whether it is for a room or a contact
    
    
    20060904183336-418b8-43776120dc3104fc65d2dbbf749d2eb43f63d79c.gz

 src/gabble-muc-channel.c |   32 ++++++++++++++++++--------------
 src/gabble-muc-channel.h |    2 +-
 src/muc-factory.c        |   11 ++++++++---
 3 files changed, 27 insertions(+), 18 deletions(-)

commit a66fc748c31ee3b23bf0e67305bbe4628134dfbf
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Sep 4 18:29:20 2006 +0000

    GabbleMediaSession: fix assertion
    
    
    20060904182920-418b8-200d77b56cc7edcf5265e40ac1ebfaab29e3a9a2.gz

 src/gabble-media-session.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit bf4b7e28e04a340eeb9f35ca4f8f3da98756d57b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Sep 4 16:40:57 2006 +0000

    GabbleMediaSession: add asserts to send_reject_message to make sure we only do it in google mode, and add a comment to send_terminate_message to explain why we do nothing if the resource is NULL
    
    
    20060904164057-418b8-feef7c7d501aba01ddcca541f6f15e0b455e8343.gz

 src/gabble-media-session.c |    9 +++++++--
 1 files changed, 7 insertions(+), 2 deletions(-)

commit 272926d973a926d80b510913833a5ff5736ce929
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Sep 4 16:37:44 2006 +0000

    GabbleMediaStream: rename func to funcs in handle_action for clarity, and add a few comments
    
    
    20060904163744-418b8-4d4c2efa0e857eb206c7bfe040e89c17bad0ca03.gz

 src/gabble-media-session.c |   16 +++++++++++-----
 1 files changed, 11 insertions(+), 5 deletions(-)

commit 95d065d533ad442ea94eca66ed0c09a8e57745c8
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Sep 4 16:32:43 2006 +0000

    GabbleMediaSession: add an assert that we're adding at most one audio stream in google mode
    
    
    20060904163243-418b8-e34f2b1a874552448180625414241e731e96a35a.gz

 src/gabble-media-session.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 8eabac44a783d2aa35e790f863912c3a09cf474b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Sep 4 16:18:26 2006 +0000

    GabbleMediaStream: add a connection property to remove the need to call g_object_get in the constructor, and move some other init stuff into _init
    
    
    20060904161826-418b8-e922d407417de7e6f166e112119bf9cd9d0a8166.gz

 src/gabble-media-session.c |    1 +
 src/gabble-media-stream.c  |   59 +++++++++++++++++++++++++------------------
 2 files changed, 35 insertions(+), 25 deletions(-)

commit 2c1d92fd183a829c629b77ccd5f8e9e8aedcda4c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Sep 4 16:16:26 2006 +0000

    GabbleMediaSession: add a connection property and have the media channel set it, and move the session ID stuff up to the channel, removing the need call g_object_get in the constructor
    
    
    20060904161626-418b8-b1861a2c80f28d9a11b3d3794fd94fd110f5cb6c.gz

 src/gabble-media-channel.c |    9 ++++++++-
 src/gabble-media-session.c |   33 +++++++++++++++++++--------------
 2 files changed, 27 insertions(+), 15 deletions(-)

commit 075fd2656ac505c46660745d75e60992bb35bd62
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Sep 4 09:03:02 2006 +0000

    GabbleMediaChannel: #if 0 the checking for google voice capability when adding members to the media channel
    
    
    20060904090302-418b8-7840b7ed760118bc2df7806126cbb2b2a338f8f2.gz

 src/gabble-media-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 4a6d2860500b1fe77822c8a90841c779af15c5f2
Author:  <dafydd.harries@collabora.co.uk>
Date:   Mon Sep 4 13:15:16 2006 +0000

    don't overwrite construct-time stream mode
    
    
    20060904131516-b59df-64d964863344c70e51ded0e85b3f7d1694c7a143.gz

 src/gabble-media-stream.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 143f9ed64f132192a967f0dd197712378395918e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Sep 3 15:05:59 2006 +0000

    GabbleMediaSession: add a per-session maximum of 99 streams
    
    
    20060903150559-418b8-0ba2831bdeee2c43c5bf656ab43d74de22bb91b4.gz

 src/gabble-media-session.c |   51 +++++++++++++++++++++----------------------
 1 files changed, 25 insertions(+), 26 deletions(-)

commit b0a71e9150e6a7cddbc716d910f5ff4b3562f7cd
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Sep 3 14:53:35 2006 +0000

    cleanup xmlns-related stuff to use lm_message_node_{has,get_child_with}_namespace and common NS_* defines
    
    
    20060903145335-418b8-666aa2c9956bad21054a97fb1096d8cf77e2a323.gz

 src/gabble-connection.c       |    2 +-
 src/gabble-error.c            |    7 ++--
 src/gabble-muc-channel.c      |   11 +++----
 src/gabble-presence-cache.c   |   63 +++++++++++++---------------------------
 src/gabble-register.c         |   22 +++++---------
 src/gabble-roomlist-channel.c |    2 +-
 src/namespaces.h              |    7 +++-
 src/text-mixin.c              |    2 +-
 8 files changed, 46 insertions(+), 70 deletions(-)

commit 4f18ee96061ed27733a86e35bd1b93f0916e3ff7
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Sep 3 02:11:34 2006 +0000

    GabbleMediaSession: add G_GNUC_PRINTF annotation to _gabble_media_session_debug and fix a resulting warning
    
    
    20060903021134-418b8-c90ec875e5d8e0e77820633f530a4d82ee8cedca.gz

 src/gabble-media-session.c |    2 +-
 src/gabble-media-session.h |    3 ++-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 8834de7fef9c5149535ce02a04e406313bb9f425
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Sep 3 02:11:06 2006 +0000

    GabbleDebug: add G_GNUC_PRINTF annotation to gabble_debug definition to catch mismatched format strings
    
    
    20060903021106-418b8-72e44e8b1e516f382e3ed9acbffa0821e5edf20a.gz

 src/debug.c |    4 +++-
 src/debug.h |    3 ++-
 2 files changed, 5 insertions(+), 2 deletions(-)

commit 810f39549d14d7af35d3122aad526442291a465d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Sep 3 02:02:49 2006 +0000

    GabblePresence: make gabble_presence_resource_has_caps check the resource name matches too... oops :)
    
    
    20060903020249-418b8-15a444356bddd67c741168db6d8cd3580260e415.gz

 src/gabble-presence.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit e45c57ce5175c2e9132001f8d72592430dedc662
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Sep 3 01:12:02 2006 +0000

    GabbleMediaStream: set <description> xmlns to video if it's a video stream
    
    
    20060903011202-418b8-249c59b1662eb3ec44943090ad07c85d6ad3de40.gz

 src/gabble-media-stream.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 30cd19f57b1b73137eac9960851e8f1c4542cb80
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Sep 3 01:11:48 2006 +0000

    GabbleMediaStream: default to MODE_JINGLE
    
    
    20060903011148-418b8-7d6089afc39cf6b69be9b129013029d1f959f396.gz

 src/gabble-media-stream.c |    5 -----
 1 files changed, 0 insertions(+), 5 deletions(-)

commit 4734fd4e723cb5f3bd9f03181eb0b0813de5c600
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Sep 3 00:42:26 2006 +0000

    GabblePresence: add gabble_presence_resource_has_caps which we need to see if we can add media into ongoing calls with a certain resource
    
    
    20060903004226-418b8-eedc6df651f4d1c477afc8f96dffc228c458b06e.gz

 src/gabble-presence.c |   19 +++++++++++++++++++
 src/gabble-presence.h |    5 +++++
 2 files changed, 24 insertions(+), 0 deletions(-)

commit c915f8b4c2ef0432e6f69342e0e3764d5db151c0
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Sep 3 00:42:04 2006 +0000

    GabbleMediaSession: implement _gabble_media_session_request_streams... youch
    
    
    20060903004204-418b8-78ed7e93165cf7d436890915c51d670444b555a7.gz

 src/gabble-media-session.c |  213 +++++++++++++++++++++++++++++++++++++++++++-
 src/gabble-media-session.h |    5 +
 2 files changed, 217 insertions(+), 1 deletions(-)

commit 17a1472edbb5b71d2888919cd91d57d8022aee13
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Sep 3 00:41:21 2006 +0000

    GabbleMediaSession: make the _gabble_media_session_stream_state function not disappear if GMS_DEBUG_LEVEL is undefined
    
    
    20060903004121-418b8-2dd0efef9f3281d7b93d533be3b7af6b6ae3afd3.gz

 src/gabble-media-session.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit b333b2b2b178e9e10beab18c6c386d8421128700
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Sep 3 00:40:33 2006 +0000

    GabbleMediaSession: don't send terminate or reject messages if there's no peer_resource; it means we've not actually sent anything to the peer yet
    
    
    20060903004033-418b8-146b86926e88bc7077a8e89c10bfd5dfc24fa724.gz

 src/gabble-media-session.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit d10ccce86a85a79ef27c6446254b892d9a04bafd
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Sep 3 00:37:51 2006 +0000

    GabbleMediaSession: disable the automatic requesting of a voice stream in every session
    
    
    20060903003751-418b8-ddac4af98797c59c6cde45cb966aaf4c05c8b76d.gz

 src/gabble-media-session.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 92d800aafe6b518b941fa11d092cf4ba9d33c377
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Sep 3 00:37:18 2006 +0000

    GabbleMediaSession: make create_media_stream return the stream ID
    
    
    20060903003718-418b8-05faff9337153f65b36f49e842049abb445ef324.gz

 src/gabble-media-session.c |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit 6bff6d7702e9a26cdbdefc56374f77b4239bdd28
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Sun Sep 3 00:36:38 2006 +0000

    GabbleMediaChannel: pass RequestStreams off to the session after validating that the given member is indeed a member
    
    
    20060903003638-418b8-fbf518a639d20291f96e996cd29b1caa7369a4d0.gz

 src/gabble-media-channel.c |   25 +++++++++++++++++++++----
 1 files changed, 21 insertions(+), 4 deletions(-)

commit 57716a74d90752732addabb4f634f34d32427d57
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 1 19:40:22 2006 +0000

    GabbleDisco: fix totally badgered disco behaviour where only one request was freed up at dispose time because of iterating a list wrongly while it was changing, and add some asserts that request deletion is done against a valid disco object
    
    
    20060901194022-418b8-41b62544ba0ad4ee3b526b7fab0c501ec03c0652.gz

 src/disco.c |   17 +++++++++--------
 1 files changed, 9 insertions(+), 8 deletions(-)

commit aceeea12e3845f56e8c655c0f4515535d83b70ab
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 1 18:00:22 2006 +0000

    GabblePresenceCache: remove handles from the handle set when we remove them from the presence cache
    
    
    20060901180022-418b8-726feb810e93f64afc0971878d9346d2b4348e5f.gz

 src/gabble-presence-cache.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 02660fe7916756465f7e0813761751eb4f60e954
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 1 17:46:32 2006 +0000

    GabbleMediaSession: only send accept after the streams are all ready
    
    
    20060901174632-418b8-5c1e9af34c48cc9006149a1a6ce628f928dca408.gz

 src/gabble-media-session.c |   17 +++++++++++++----
 1 files changed, 13 insertions(+), 4 deletions(-)

commit 4e15f59a01e3f9cbb5c92170f9255486fd0e0d19
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 1 17:13:49 2006 +0000

    GabbleMediaStream: fix unitialised values in codec parameter sending code
    
    
    20060901171349-418b8-ab90889d1a472035a70ad6359b7786ac9a89bbd8.gz

 src/gabble-media-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 72f388ce898e1c30fd709505c21432aa27f63780
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 1 17:10:38 2006 +0000

    GabbleMediaStream: allow multiple handlers for a single action, and make handlers into generic create, codecs and candidates
    
    
    20060901171038-418b8-a4ca64276462f298367a0aa0b278198b8aca50b1.gz

 src/gabble-media-session.c |  274 ++++++++++++++++++++++++++++----------------
 1 files changed, 175 insertions(+), 99 deletions(-)

commit f3a622f2010393c84907ddc5e57d19b7e644d456
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 1 17:08:03 2006 +0000

    GabbleMediaSession: allocate the stream ID inside create_media_stream
    
    
    20060901170803-418b8-f0dfd5ba79ecd9db4eac0c374afef4405babc2d5.gz

 src/gabble-media-session.c |   30 ++++++++++++++----------------
 1 files changed, 14 insertions(+), 16 deletions(-)

commit f9b098dc09d374e30b3f5c3d3e53790848e3ba30
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Sep 1 17:55:48 2006 +0000

    GabblePresenceCache: add missing disco error-checking to _caps_disco_cb
    
    
    20060901175548-50843-333151e03ca73c16836d5d35d32868b4448e97f5.gz

 src/gabble-presence-cache.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 63821eedfaef9e34bc7df9045f33869d1a413b77
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Sep 1 17:23:33 2006 +0000

    GabbleMediaStream: send jingle-compliant candidates
    
    
    20060901172333-50843-97a9d08d33c7dd15144adbd9436bb4686db5f20f.gz

 src/gabble-media-session.c |    2 +-
 src/gabble-media-stream.c  |   54 +++++++++++++++++++++++++++++++++----------
 src/gabble-media-stream.h  |    2 +-
 3 files changed, 43 insertions(+), 15 deletions(-)

commit 3fcdc50c973722b9672c011abb1b420a02320d15
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu Aug 31 23:41:44 2006 +0000

    Fix conflict
    
    
    20060831234144-50843-d7c4ea66fef6423e83eb6b247a7bfe77cf848660.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3d45b60192adeb44b8c9cbf50039cc122107bf12
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu Aug 31 23:31:33 2006 +0000

    GabbleConnection: fixed syntax error
    
    
    20060831233133-50843-7e65e28337fa5723f33348725398128d89e17c98.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 19d990189b236a43b0056d531ccf686a13a001f2
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Sep 1 04:28:58 2006 +0000

    GabbleMediaStream: send transport-info as action instead of candidates when in jingle mode
    
    
    20060901042858-50843-03263172f8526b300f043be925ae50614d8b921f.gz

 src/gabble-media-stream.c |   11 +++++++++--
 1 files changed, 9 insertions(+), 2 deletions(-)

commit 09f8aba049e9b82c491d1b4d4e7f0048114edf71
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Sep 1 04:16:21 2006 +0000

    GabbleMediaFactory: handle the sid attribute as that's what jingle uses
    
    
    20060901041621-50843-c13c9eb6ec0a3076220edcaa1df877d5f7105d7b.gz

 src/media-factory.c |   15 +++++++++------
 1 files changed, 9 insertions(+), 6 deletions(-)

commit 072ce104cf30082a5caba8cf7f5583fe7e08edc3
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Sep 1 04:11:36 2006 +0000

    I take that back, NOW we do :P
    
    
    20060901041136-50843-0bebaeba603b66ec15f3455cbe7e26d86e37b211.gz

 src/gabble-media-session.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 69726388777bdff81b535ff74d37e914c4ac2efb
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Sep 1 04:01:18 2006 +0000

    send jingle-compliant session-initiate
    
    
    20060901040118-50843-df2f5f90ad0646ed637e4e494305237596a5c6eb.gz

 src/gabble-media-session.c |   84 +++++++++++++++++++++++++++++++------------
 src/gabble-media-stream.c  |   25 +++++++++++++
 src/gabble-media-stream.h  |    1 +
 3 files changed, 86 insertions(+), 24 deletions(-)

commit 18259057f1821a8c5c983837dc311ffbc4649978
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu Aug 31 23:31:57 2006 +0000

    GabbleMediaStream: add codec parameters on outgoing stanzas
    
    
    20060831233157-50843-32feb7f8682efffa60f5ae12c430242fc3b22718.gz

 src/gabble-media-stream.c |  107 ++++++++++++++++++++++++++++++++++++++++-----
 1 files changed, 96 insertions(+), 11 deletions(-)

commit f22c54637d1e206ab67322e5a1ee27a490978344
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 1 03:53:55 2006 +0000

    only check that people are callable when calling them, not when receiving a call
    
    
    20060901035355-418b8-2d447742f1706adb5f37b914bea76146ba76a4be.gz

 src/gabble-media-channel.c |   28 ++++++++++++++--------------
 1 files changed, 14 insertions(+), 14 deletions(-)

commit a843033f81ed2cdcc8aa703393a5b45df64c9d21
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 1 03:35:39 2006 +0000

    tweak whitespace in presence cache
    
    
    20060901033539-418b8-e816b8990376aef6946b744a63e4f1c2f9d5058d.gz

 src/gabble-presence-cache.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit f3237e0322c4c18f3f1dca8eee7013bdff2ed6fe
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 1 03:35:24 2006 +0000

    disable voice-v1 hack for discovering gtalk
    
    
    20060901033524-418b8-3482e8f31ea708d7ab1296065b2ab2ddd08de9fc.gz

 src/gabble-presence-cache.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit bea3298694686a239b603de7083d2f98008ec98d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 1 03:35:04 2006 +0000

    remove bogus disco cache prefilling
    
    
    20060901033504-418b8-f93af688a3fa79a46be2a8861179e78dd0e90d97.gz

 src/gabble-presence-cache.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit f5a47bbe3aff21d8ffaad5101fb92a9e69e710a8
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 1 03:31:43 2006 +0000

    update presence caps to match jingle & gtalk namespaces, and export/recognise them in entity caps. these should come from the same lookup table...
    
    
    20060901033143-418b8-cf3fe6b81c9083c00dfc6d83483eb50a536f136f.gz

 src/gabble-connection.c     |   22 ++++++++++++----------
 src/gabble-media-session.c  |   21 +++++++++------------
 src/gabble-presence-cache.c |   13 ++++++++++---
 src/gabble-presence.h       |    8 +++++---
 src/namespaces.h            |    3 ++-
 5 files changed, 38 insertions(+), 29 deletions(-)

commit 65ad3afe9a9ca10a09c258356cf245e7c9c8fcb6
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 1 03:31:24 2006 +0000

    advertise our features as having voice-v1, jingle audio and video
    
    
    20060901033124-418b8-6d33c661e54d887756250cc5a55f8ac3ac5e649b.gz

 src/gabble-connection.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 4a567b64fa668823823fbf77f5f804e77f574386
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 1 03:30:51 2006 +0000

    stop feeding bogus capabilities into our self handle
    
    
    20060901033051-418b8-938f5286409b6f57a3d443056ae96a1c93b24a52.gz

 src/gabble-connection.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 22f547682ec29a7d6a7408ddfc6c14936400deb9
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 1 03:29:35 2006 +0000

    add test-heap to _boring
    
    
    20060901032935-418b8-fc7b6db6d4f7726b527847e182042e99dc0ef95f.gz

 _boring |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit f71f89c5ee8cea6fc2a017a2667a8b38b5f31390
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 1 00:21:16 2006 +0000

    remove unused media_channels stuff from GabbleConnection
    
    
    20060901002116-418b8-eb48a9661b62db5ea96645f295d28c83da3b956c.gz

 src/gabble-connection.c |   40 ----------------------------------------
 1 files changed, 0 insertions(+), 40 deletions(-)

commit bc20c2c888c21d2c4946fd81fa4c7a7543e8796a
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 1 00:20:07 2006 +0000

    remove unused INVITATION_RECEIVED signal from media session
    
    
    20060901002007-418b8-629e5c142af044c94784ca41dc10c6369d8ed26f.gz

 src/gabble-media-session.c |   10 ----------
 1 files changed, 0 insertions(+), 10 deletions(-)

commit 6d38b8f9dde9384fe4fe99831e50d505e26b6989
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 1 00:16:34 2006 +0000

    tweak more stuff to use lm_message_node_get_child_with_namespace (why didn't we write that sooner? :D)
    
    
    20060901001634-418b8-f16e15b512e229fa38a8489cc2f5cb8716c99049.gz

 src/gabble-connection.c |    6 ++----
 src/jingle-info.c       |   10 ++++------
 src/media-factory.c     |   12 ++++--------
 src/roster.c            |    5 +++--
 src/text-mixin.c        |   27 ++++++++++++---------------
 5 files changed, 25 insertions(+), 35 deletions(-)

commit e10fe4156bcf06194fcacf0d909fdd206fa229fe
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 1 00:01:23 2006 +0000

    add a new lm_message_node_get_child_with_namespace function, and move _lm_message_node_has_namespace to lm_message_node_has_namespace in util.c
    
    
    20060901000123-418b8-42c464e16a55b75150a5d127af9c8db3725c440a.gz

 src/gabble-connection.c       |   14 +-------------
 src/gabble-connection.h       |    2 --
 src/gabble-media-session.c    |    8 ++++----
 src/gabble-muc-channel.c      |    4 ++--
 src/gabble-roomlist-channel.c |    3 ++-
 src/jingle-info.c             |    3 ++-
 src/media-factory.c           |    4 ++--
 src/muc-factory.c             |   18 +++---------------
 src/namespaces.h              |    1 +
 src/roster.c                  |    2 +-
 src/text-mixin.c              |    3 ++-
 src/util.c                    |   33 +++++++++++++++++++++++++++++++++
 src/util.h                    |    3 +++
 13 files changed, 56 insertions(+), 42 deletions(-)

commit de315eacbbdb31246abe3c2ac632044728a98fee
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Aug 31 22:03:47 2006 +0000

    don't rely on the mode being set for dispatching incoming session actions to the right stream, discover it from the namespace of the session node
    
    
    20060831220347-418b8-d122c23d4510062353535f05e86c50f5e798aedd.gz

 src/gabble-media-session.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 6f7b40be6bb3dfdcc3ff324b4e29c59338e23bae
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Aug 31 22:03:27 2006 +0000

    make _handle_initiate create stream objects for each incoming stream
    
    
    20060831220327-418b8-93fcc744f5e45ac9683b62584144141f7e440af5.gz

 src/gabble-media-session.c |   65 +++++++++++++++++++++++++++++++++++++++----
 1 files changed, 59 insertions(+), 6 deletions(-)

commit 2d2f95bc3e93569321e9136302d2f625d5b7243c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Aug 31 22:02:01 2006 +0000

    don't implicitly create a gtalk audio stream along with the session
    
    
    20060831220201-418b8-4327b384918d931595e12365a8d0366eec3ef23f.gz

 src/gabble-media-session.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit d3e5b742dfce98ec43469481b2426f9147593f07
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Aug 31 22:01:08 2006 +0000

    default sessions to jingle mode
    
    
    20060831220108-418b8-f53e0b1c1610d7cdf7b2ba74aff489a489924f5c.gz

 src/gabble-media-session.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 4c10dd140290f16659715cc48d52bd5491614083
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Aug 31 21:57:37 2006 +0000

    refactor media session IQ callback to recognise both jingle and gtalk, leave description namespace checking to the session, and respond with bad request if the input is malformed
    
    
    20060831215737-418b8-735cae1e083659ac7787d845802007969df82952.gz

 src/media-factory.c |   89 +++++++++++++++++++++++++++-----------------------
 1 files changed, 48 insertions(+), 41 deletions(-)

commit e859edf24755019e982cd5868b05a7af7cb6b764
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Aug 31 21:53:30 2006 +0000

    send jingle audio stream descriptions with new namespace
    
    
    20060831215330-418b8-a54503406d0d9a7c398e834d79a42cbd94ebfd91.gz

 src/gabble-media-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 92a7cf333f3a639d8afde12c6bad7c0afe954e28
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Aug 31 21:52:57 2006 +0000

    advertise support for google's p2p transport, and jingle audio and video
    
    
    20060831215257-418b8-81ab951600e150877c4bcec2d7d0bca3343b92ac.gz

 src/gabble-connection.c |    8 ++++++--
 1 files changed, 6 insertions(+), 2 deletions(-)

commit 43360dc2382b9dfc4378bf4338289cbdcb96283e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Aug 31 21:52:38 2006 +0000

    add new namespaces for google's p2p transport, and jingle audio, video and ice
    
    
    20060831215238-418b8-b7f6d722bd5174bf42c342bdbf6a9b54be212f0a.gz

 src/namespaces.h |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 83af0dc4e5c26e20fb5bdb57b7bd32bc8c2ef8d5
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Aug 31 21:49:54 2006 +0000

    add a _gabble_media_channel_get_stream_id method
    
    
    20060831214954-418b8-dbcf280013e4f0c82dd9a57d9d83a977eaac1fa6.gz

 src/gabble-media-channel.c |   14 +++++++++++++-
 src/gabble-media-channel.h |    2 ++
 2 files changed, 15 insertions(+), 1 deletions(-)

commit 4fd801e57df1727fa2fab6e7e71a8e86d974b1e3
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Sep 1 02:39:16 2006 +0000

    merge conflicts and update to use DEBUG functions
    
    
    20060901023916-418b8-3848e510790bff9c549e21b431046971fa1d3f07.gz

 src/gabble-presence-cache.c |   14 +++++++++-----
 1 files changed, 9 insertions(+), 5 deletions(-)

commit 4cce2606f82f13ab4a1b928f496ce5532454ddc9
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 24 14:14:34 2006 +0000

    resolve conflicts
    
    
    20060824141434-b59df-b5cab9cab1c77b838872a440f0a5f2484ea2b26f.gz

 src/gabble-presence-cache.c |    7 ++++---
 1 files changed, 4 insertions(+), 3 deletions(-)

commit 4089534b2700f14e2cd62156958295fa02873df8
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri Jun 2 12:13:37 2006 +0000

    fix typo in debug message
    
    
    20060602121337-b59df-86a3bfcc20a86b202491509d0f344dc253571d3e.gz

 src/gabble-media-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2ab9e67ff36e630f1dae6fe173795834165ea708
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu Aug 24 14:08:57 2006 +0000

    resolve conflicts
    
    
    20060824140857-b59df-a9fccd63fcffd84a3059b2b95bfcb7d621dabc42.gz

 src/gabble-presence-cache.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 50407012143990041e855976f91d89592886a387
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri Jun 2 17:56:39 2006 +0000

    implement capabilities discoing/caching
    
    
    20060602175639-b59df-4d22b4fd84fff0d3683bc5d5e3fd0cbd63788016.gz

 src/gabble-presence-cache.c |  244 ++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 242 insertions(+), 2 deletions(-)

commit e5c65a5990ab7ebd2acc65dcc1adf807b5c3a738
Author:  <dafydd.harries@collabora.co.uk>
Date:   Mon May 29 14:40:38 2006 +0000

    make debugging messages less misleading
    
    
    20060529144038-b59df-952be5667c7c04f7d5a889d74e9734d048125d27.gz

 src/gabble-presence-cache.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit e8d4de0ff028b0fabb27ead5101ff23b1d733fae
Author:  <dafydd.harries@collabora.co.uk>
Date:   Mon May 29 14:09:47 2006 +0000

    simplify presence message parsing control flow
    
    
    20060529140947-b59df-44b1da3c9530314f40dfff33e7e41ef602a353e4.gz

 src/gabble-presence-cache.c |    6 ++----
 1 files changed, 2 insertions(+), 4 deletions(-)

commit 4e3a26372fb3fb330d893bab3953b397e2dc5b9e
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu Aug 31 03:11:51 2006 +0000

    GabbleMediaStream: marshall clockrate, channels and bitrate from remote end to s-e. also make name optional.
    
    
    20060831031151-50843-459cadd3f66ca6bb165c077c3a2316a95ba4aa0c.gz

 src/gabble-media-stream.c |   54 +++++++++++++++++++++++++++++++++++---------
 1 files changed, 43 insertions(+), 11 deletions(-)

commit 29cc6d544bfd19d6217c3e1df503b37ce95afd9e
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu Aug 31 00:44:14 2006 +0000

    GabbleMediaStream: don't ack IQs, GabbleMediaSession does this for us
    
    
    20060831004414-50843-f9836402da1778ec235c7e6656cec68beca160de.gz

 src/gabble-media-stream.c |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit 0a050de7d8de23d9636632177640dcdd3eb4404e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Aug 31 15:56:54 2006 +0000

    fix inability to write C
    
    
    20060831155654-418b8-b57435a70fee9c4026e73c106ad1befa361a085e.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8ae62cf5d142cdd6fc2750b74d10151c2f5486ad
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Aug 30 22:29:59 2006 +0000

    allow handlers to specify no function (some just change the state)
    
    
    20060830222959-418b8-9b73f70a36d2848b1c86cece8f287755b05cbbf1.gz

 src/gabble-media-session.c |   73 +++++++++++++++++++++++++++-----------------
 1 files changed, 45 insertions(+), 28 deletions(-)

commit 9c0fcb68ce5bd99bec06913ec43442ff778faae3
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Aug 30 22:21:45 2006 +0000

    refactor media session action handling to have a lookup table of acceptable states, call a per-stream function, and then a result state to set if successful
    
    
    20060830222145-418b8-86058a3a83bea9f9988b733914f555ae2153d15a.gz

 src/gabble-media-session.c |  248 ++++++++++++++++++++++++++++----------------
 1 files changed, 157 insertions(+), 91 deletions(-)

commit 80950b0e759517bdee21e850e2b88b9af865abd8
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Aug 30 22:20:24 2006 +0000

    fix session termination to send "session-terminate" action on Jingle calls
    
    
    20060830222024-418b8-de6801891ec2a3b9c756e8673181b152495a2f3e.gz

 src/gabble-media-session.c |   10 ++++++++--
 1 files changed, 8 insertions(+), 2 deletions(-)

commit 60c02e4d526f57489c2f30507f4309ef63b547a0
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Aug 30 22:19:52 2006 +0000

    replace last uses of priv->stream with iterations over the hash table, making <content> nodes where necessary
    
    
    20060830221952-418b8-b1204fce51227fc178cd3c6a4c5697bad29a4341.gz

 src/gabble-media-session.c |   74 +++++++++++++++++++++++++++++++++++++------
 1 files changed, 63 insertions(+), 11 deletions(-)

commit c466f67b97fc64843fe102597812b289dd4cb0d1
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Aug 30 22:17:24 2006 +0000

    fix a duplicated call to g_object_get in the media session constructor
    
    
    20060830221724-418b8-9c0441e7fd61e8b54a692f0ba6b08b6bccb7dd06.gz

 src/gabble-media-session.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 8bf454be101913a1133eb6968b35e0afc2af67e1
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Aug 30 22:15:48 2006 +0000

    replace media session's priv->stream with a hash table of streams by name, for the moment make one gtalk stream automatically
    
    
    20060830221548-418b8-4843ed35472c27befe531111ce48aaf2445ecb4e.gz

 src/gabble-media-session.c |   62 ++++++++++++++++++++++++++++++++-----------
 1 files changed, 46 insertions(+), 16 deletions(-)

commit 6cae1806790e2dc8f736987a2df10a37e1b23726
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Aug 30 22:14:19 2006 +0000

    add an INVALID JingleSessionState
    
    
    20060830221419-418b8-77eeed0a927648687526b88fcdb0e05747e4a21a.gz

 src/gabble-media-session.h |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit a636ec92bc1ebfcbad83cd1a88d423a05ae4b49b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Aug 30 22:13:20 2006 +0000

    make gabble_media_stream internal functions act on the jingle content and transport nodes where appropriate, rather than session nodes as in gtalk
    
    
    20060830221320-418b8-b037efcd2abd3357dd9d371c0dbe65c76de3e43c.gz

 src/gabble-media-stream.c |   16 +++++-----------
 src/gabble-media-stream.h |    4 ++--
 2 files changed, 7 insertions(+), 13 deletions(-)

commit 3a9afcacfd94f7d9a064c987527f784283a0ddf9
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Aug 30 22:12:25 2006 +0000

    add ID, name and media type parameters to the stream object
    
    
    20060830221225-418b8-ee7c920770fef1ce3011562a4072250121e0ce24.gz

 src/gabble-media-stream.c |   57 +++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 57 insertions(+), 0 deletions(-)

commit 8594138cf2b9b61a6c4824421eda43773150f03e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Aug 31 05:44:00 2006 +0000

    merge conflicts (HANDLER_DEBUG -> NODE_DEBUG)
    
    
    20060831054400-418b8-e6971ded48bf9b07db2d3c5e6604d5db6dbdc8e5.gz

 src/gabble-muc-channel.c |   25 +------------------------
 1 files changed, 1 insertions(+), 24 deletions(-)

commit c853d593b49600e4948d905634e92a3b110db1a5
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Aug 31 05:30:09 2006 +0000

    remove irrelevant MUC comment & tweak indentation
    
    
    20060831053009-418b8-81a4aed3dee8cc0ec318e75efd9e09b214ce8489.gz

 src/gabble-muc-channel.c |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit 1b3b8aee96ae5f57ad6d138f9f777160b8e36fa0
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Aug 31 04:51:51 2006 +0000

    MUC room descriptions don't arrive in <message> nodes, only subjects
    
    
    20060831045151-418b8-8f87d2230d0eea5ec06950a6cedf262efde305c8.gz

 src/gabble-muc-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 600521668cc6df7d5d64aaef0ff0f039d6192d1e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Aug 31 04:30:28 2006 +0000

    update MUC room permissions after we've sent off the discovery request for the current properties, so that if we become the owner and request a configuration form, we get it back after we find out whether or not the description property exists.
    
    
    20060831043028-418b8-f41ff2a2bb0847c27736e6d59333cc765d2d56be.gz

 src/gabble-muc-channel.c |   28 +++++++++++++++++-----------
 1 files changed, 17 insertions(+), 11 deletions(-)

commit 2c8a29a03b974f660f1b982ff57027e8c5c0188a
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Aug 31 04:29:59 2006 +0000

    clear "description" property writability in MUC channels when we stop being an owner
    
    
    20060831042959-418b8-df8464e450d711ba8c9f1e03fc79fff4d061a873.gz

 src/gabble-muc-channel.c |   21 +++++++++++++++------
 1 files changed, 15 insertions(+), 6 deletions(-)

commit 9f7c10b82ca85c99291057c194f9959daad9e616
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 16 15:10:14 2006 +0000

    Merge oleavr's MUC properties improvements
    
    
    20060816151014-53eee-ef055b0d1c4f63f53ee593ebefa83e6abb7461e4.gz

 src/gabble-muc-channel.c |   24 +++++++++++-------------
 src/namespaces.h         |    1 +
 2 files changed, 12 insertions(+), 13 deletions(-)

commit 37d24eab09a07d502b283adda9d47430299f5af7
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed Jun 14 17:44:39 2006 +0000

    MUCFactory: return QUEUED in request function when a request is already in progress, and DONE if it's ready.
    
    
    20060614174439-50843-a4d622e344953f3e53f66bcc36087ceae986bd26.gz

 src/gabble-muc-channel.c |   12 ++++++++++++
 src/gabble-muc-channel.h |    1 +
 src/muc-factory.c        |   11 +++++++++--
 3 files changed, 22 insertions(+), 2 deletions(-)

commit c72fefd0241774ca3e85bdd28c95b3b8b1403963
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed Jun 14 17:03:08 2006 +0000

    MUC: fixed copy 'n paste error causing the "name" property to never get picked up when discoing the room.
    
    
    20060614170308-50843-8bf62986e5f828587ab991949b536781c087e1e1.gz

 src/gabble-muc-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 6f200805eceeadbe3d26f9c3183c6a25f175437e
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed Jun 14 13:57:15 2006 +0000

    MUC: set property permissions correctly based on changes in presence and what the server supports.
    
    
    20060614135715-50843-5dfd7f0d62737ceda99aff8a22733293b433d5e1.gz

 src/gabble-muc-channel.c |  374 +++++++++++++++++++++++++++++++++-------------
 1 files changed, 271 insertions(+), 103 deletions(-)

commit 3d5d538c14f0448634fa85feff673add832e9eba
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu Jun 8 15:15:45 2006 +0000

    GabbleRoomListChannel: use _lm_message_node_has_namespace and the string constant in namespaces.h when parsing the <x/> disco node.
    
    
    20060608151545-50843-384a9b6dda9061a50d3906fef2977bcc9f0c0d5f.gz

 src/gabble-roomlist-channel.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 2ccd9fee435237fd85ab88f66a51a55252264d2d
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu Jun 8 15:13:40 2006 +0000

    MUC: parse disco reply's <x/> node to get the description property off it, and some improvements to the properties mixin
    
    
    20060608151340-50843-e8ed7f073a3f344307625947b79e39573f5c992c.gz

 src/gabble-muc-channel.c |  242 ++++++++++++++++++++++++++-------------------
 src/namespaces.h         |    1 -
 src/properties-mixin.c   |   30 ++++++-
 src/properties-mixin.h   |    3 +
 4 files changed, 171 insertions(+), 105 deletions(-)

commit 91fa61f2c0fca740935c4a349fbca05f05136d8b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Aug 31 15:28:39 2006 +0000

    fix control flow errors where we assume g_assert_not_reached will abort execution; usually returning from the function avoids continuing with uninitialised values
    
    
    20060831152839-418b8-0af86d6fbf0469c05bac7e893763af8b6e5a2a87.gz

 src/disco.c                |    1 +
 src/gabble-connection.c    |   23 ++++++++++++++++++-----
 src/gabble-media-session.c |    1 +
 src/gabble-media-stream.c  |    4 ++--
 src/handles.c              |    2 +-
 src/properties-mixin.c     |    1 +
 6 files changed, 24 insertions(+), 8 deletions(-)

commit 737c8f8b8c48e548f31c4fb3500ec9bc5e0291df
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Aug 31 15:08:52 2006 +0000

    add missing break in roster switch statement
    
    
    20060831150852-418b8-2cd23eebcbcab1b1bab2a03fa576ebaa9aae4955.gz

 src/roster.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit e5619617f7e3eff8c69392bfd15df59ff258edbd
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Tue Aug 22 16:18:31 2006 +0000

    GabbleConnection: removed some more obsoleted code.
    
    
    20060822161831-50843-f21c7cf6bd414d79b13f17f5749cc3fec611d16f.gz

 src/gabble-connection.c |   70 -----------------------------------------------
 1 files changed, 0 insertions(+), 70 deletions(-)

commit 0f2ac4f58fd0276070afed7dbfb11084457ba130
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Aug 30 11:58:16 2006 +0000

    merge conflicts of HANDLE_LEAK_DEBUG_CFLAGS in configure.ac
    
    
    20060830115816-418b8-573eebcd43fa3eff46feed10c3f446e12e3da671.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9e7657ca3550d402369f2ff26b12e4ebc37b90d4
Author:  <ollisal@gmail.com>
Date:   Wed Aug 30 11:08:53 2006 +0000

    Fix compile issues with --disable-debug configure flag
    
    
    20060830110853-e2804-1fb149884412f04cdca1c4360afa61ac54f30ee5.gz

 src/gabble-media-stream.c |    2 ++
 src/gabble-muc-channel.c  |    2 ++
 src/gabble.c              |    4 ++++
 src/roster.c              |    4 +++-
 src/text-mixin.c          |    4 +---
 5 files changed, 12 insertions(+), 4 deletions(-)

commit 7d03ecd348f3f3d3a66bc25b6dd9bd0380a4fe54
Author:  <ollisal@gmail.com>
Date:   Tue Aug 29 16:16:55 2006 +0000

    Move gabble_handle_decode_jid from the handle repo to util.h and rename it to gabble_decode_jid to reflect the change. Also update its documentation to reflect its current, more general usage.
    
    
    20060829161655-e2804-1f9049d88e5281f8a8376da527d9657ac5bcc6bb.gz

 src/gabble-connection.c     |    6 +-
 src/gabble-muc-channel.c    |    4 +-
 src/gabble-presence-cache.c |    2 +-
 src/handles.c               |   91 ++-----------------------------------------
 src/handles.h               |    1 -
 src/media-factory.c         |    3 +-
 src/util.c                  |   86 ++++++++++++++++++++++++++++++++++++++++
 src/util.h                  |    2 +
 8 files changed, 100 insertions(+), 95 deletions(-)

commit bfc0852513a88e744e74cf1ab9b8ff4ae6d946b5
Author:  <ollisal@gmail.com>
Date:   Tue Aug 29 14:52:29 2006 +0000

    Remove useless gabble_handle_jid_get_base prototype
    
    
    20060829145229-e2804-4a2ad49bbafab01390777b8ffff83b9aaf571e8f.gz

 src/handles.h |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit d5ceb24269e6c12d719bcb5a9c18c0acfe0003ca
Author:  <ollisal@gmail.com>
Date:   Tue Aug 29 11:16:07 2006 +0000

    For the sake of completeness, make GabbleRoomlistChannel work even after changing the parent Connection object as well
    
    
    20060829111607-e2804-72d5febbebd1dfac90f92af7b9cf6618d3bc0ee9.gz

 src/gabble-roomlist-channel.c |    9 ++++++++-
 1 files changed, 8 insertions(+), 1 deletions(-)

commit fd5b845dbffd7e9ab8f940f4c4280cc894887824
Author:  <ollisal@gmail.com>
Date:   Mon Aug 28 13:22:22 2006 +0000

    Listen to D-BUS NameOwnerChanged signals in handle repo to free handles held by dead clients
    
    
    20060828132222-e2804-afb04ef28934f48b884db07cd4b08561d9d78972.gz

 src/handles.c |   46 +++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 45 insertions(+), 1 deletions(-)

commit 9f4a8a2e8243462f5b1ad7f9c51806fdbcf1047a
Author:  <ollisal@gmail.com>
Date:   Mon Aug 28 11:13:23 2006 +0000

    Move client handle hold/release refcounting from GabbleConnection to the handle repo
    
    
    20060828111323-e2804-4eb9960b18d5b7c7d430b0b09ceb3308a1825d2b.gz

 src/gabble-connection.c |  148 ++++++----------------------------------------
 src/gabble-connection.h |    3 -
 src/handles.c           |  145 ++++++++++++++++++++++++++++++++++++++++++++++
 src/handles.h           |    4 +
 4 files changed, 169 insertions(+), 131 deletions(-)

commit 7d14772ac584c9b93729a3b561bd0ae579e206fc
Author:  <ollisal@gmail.com>
Date:   Fri Aug 25 13:51:51 2006 +0000

    Plug roster destruction handle reference leak
    
    
    20060825135151-e2804-1d238e0d0f9eecba073f58eb81b879b685443236.gz

 src/roster.c |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit ccacfc442ea70681e0caa1e2b6a97f2f74ed40a6
Author:  <ollisal@gmail.com>
Date:   Fri Aug 25 13:33:48 2006 +0000

    Plug presence cache handle refleak in a nicer way with a handle set
    
    
    20060825133348-e2804-e66b757217381ee3ad670197c7b32b7eaf24e81f.gz

 src/gabble-presence-cache.c |   20 +++++++++++++++++++-
 1 files changed, 19 insertions(+), 1 deletions(-)

commit 4ce24df9ab9c271e97f6f6d53b1d9cb456e660e1
Author:  <ollisal@gmail.com>
Date:   Fri Aug 25 12:47:08 2006 +0000

    Make handle reference leak debug backtraces slightly longer so that handleset stuff also fits
    
    
    20060825124708-e2804-596940f3b997428fc3cedada2c637fd3cfd4b1fa.gz

 src/handles.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 081a2eec130be4e5079b36f70312d63cb85fa403
Author:  <ollisal@gmail.com>
Date:   Fri Aug 25 11:04:29 2006 +0000

    Fix connection self handle reference leak
    
    
    20060825110429-e2804-a56e5d584a41bbdc382d00c9599d4e3025866038.gz

 src/gabble-connection.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 69d35fc5c8b0c01467822d6b9e5ce58c640e0b71
Author:  <ollisal@gmail.com>
Date:   Fri Aug 25 11:01:40 2006 +0000

    Tidy up handle leak debugging and make it more useful by making traces of all {handle_for_*,handle_ref,handle_unref} operations, not just the initial alloc
    
    
    20060825110140-e2804-4056ca349ae5a5c248c46c28deaa3ae44bdda879.gz

 src/handles.c |  117 +++++++++++++++++++++++++++++++++++---------------------
 1 files changed, 73 insertions(+), 44 deletions(-)

commit ba46981f241d93e134d37cf212506f97eb5ec134
Author:  <ollisal@gmail.com>
Date:   Fri Aug 25 09:33:35 2006 +0000

    Use -rdynamic when using handle leak debug to get more useful backtraces
    
    
    20060825093335-e2804-d52a44377c2fca0c31ecb481c86775edfed387e2.gz

 configure.ac    |    3 +++
 src/Makefile.am |    2 +-
 2 files changed, 4 insertions(+), 1 deletions(-)

commit a6055ce68e452f4f73fa09302264f5c346ba5f26
Author:  <ollisal@gmail.com>
Date:   Thu Aug 24 15:15:31 2006 +0000

    Add handle reference leak debugging facility (optional compile-time option)
    
    
    20060824151531-e2804-fa0b73fbc9ddd5e8a2ddcae0945b338f2a2548bb.gz

 configure.ac            |    8 +++++
 src/gabble-connection.c |    4 +-
 src/handles.c           |   71 +++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 81 insertions(+), 2 deletions(-)

commit 9a4edc93b450225b01d914b4a95ece055f65275f
Author:  <ollisal@gmail.com>
Date:   Thu Aug 24 11:24:37 2006 +0000

    Make roomlist channel record and release the room handles it allocates
    
    
    20060824112437-e2804-d59ad6426d9507465b161e8fa09ec71767a558f0.gz

 src/gabble-roomlist-channel.c |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit 42acc7e2b25428c1ac6a214e64ee2e733561a234
Author:  <ollisal@gmail.com>
Date:   Thu Aug 24 09:30:07 2006 +0000

    Make gabble_handle_{ref,unref} verify list handles, although the refing and unrefing in itself is still a nop
    
    
    20060824093007-e2804-31ce654529a8704e4b048ac669224b8d6cdb898d.gz

 src/handles.c |   14 ++++++++++++--
 1 files changed, 12 insertions(+), 2 deletions(-)

commit 5386f0305f0f52b10e9eebb69ac3a08826bf490d
Author:  <ollisal@gmail.com>
Date:   Thu Aug 24 09:13:44 2006 +0000

    Make handle_for_room_exists flatten JIDs correctly
    
    
    20060824091344-e2804-b4f7c40549bcf9566d782c707e56c657c2d70167.gz

 src/handles.c |   57 +++++++++++++++++++--------------------------------------
 1 files changed, 19 insertions(+), 38 deletions(-)

commit a59418270eda0d899273aa3a7b0b3b97f4728b97
Author:  <ollisal@gmail.com>
Date:   Thu Aug 24 07:30:48 2006 +0000

    simplify RequestHandles by using gabble_handle_for_list instead
    
    
    20060824073048-e2804-358f17b8b65da1e63683ab9297e44d791707e994.gz

 src/gabble-connection.c |   20 +++-----------------
 1 files changed, 3 insertions(+), 17 deletions(-)

commit 90b61c665aee71a43785f0c80bbb98a0e1822e96
Author:  <ollisal@gmail.com>
Date:   Wed Aug 23 14:45:52 2006 +0000

    Fix wrong header mistakes
    
    
    20060823144552-e2804-2f7bfbeae5efebdbb62691265a9dde7a7e9af989.gz

 src/gheap.c |    5 +++--
 src/gheap.h |    5 +++--
 2 files changed, 6 insertions(+), 4 deletions(-)

commit 7366e420e56c2f3a97afba9e6f3f43da78b4d222
Author:  <ollisal@gmail.com>
Date:   Wed Aug 23 14:23:23 2006 +0000

    Drop Quarks from list handles too, and make use of the new list handle enum
    
    
    20060823142323-e2804-f50f6790f874afe4a242d6139c508b52c7aa630e.gz

 src/gabble-connection.c     |    8 ++--
 src/gabble-roster-channel.c |   22 +++++-----
 src/handles.c               |  100 +++++++++++++++++--------------------------
 src/roster.c                |   16 +++---
 4 files changed, 62 insertions(+), 84 deletions(-)

commit 4229ae819b6cb9efaa000c7b886e7b07b6d88e55
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Aug 22 22:20:40 2006 +0000

    remove multiple list handle functions in favour of an enum (from the header file, so this won't compile atm)
    
    
    20060822222040-418b8-83d7179b53639ba86b6a6d744f20dc81ff660373.gz

 src/handles.h |   13 +++++++++----
 1 files changed, 9 insertions(+), 4 deletions(-)

commit 6edc0be422da1e2f2a6d07cbecf4303a17bf6142
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Aug 21 22:10:19 2006 +0000

    move JID_MAX_SIZE from handles.h to handles.c
    
    
    20060821221019-418b8-c7567beb729016ff9abec65d64d73bda24f9c16f.gz

 src/handles.c |    2 ++
 src/handles.h |    2 --
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 11096b3f816acccc079782577a3c93d0b8121491
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Aug 21 22:06:03 2006 +0000

    remove handles-private.h now that it's not used in handle-set.c
    
    
    20060821220603-418b8-f1f507c0079d26cb798299d2884e132fa8550a9a.gz

 src/Makefile.am       |    1 -
 src/handles-private.h |   52 -------------------------------------------------
 src/handles.c         |   22 ++++++++++++++++++++
 3 files changed, 22 insertions(+), 53 deletions(-)

commit f4619698ebec3767d79d1ed2673942e3635602dc
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Aug 21 21:57:46 2006 +0000

    patch from Olli Salli <olli.salli@nokia.com> to allocate handles dynamically rather than using quarks, allowing them to be freed up
    
    
    20060821215746-418b8-4408b395165cb50b73ef6123700de46e43adc24f.gz

 src/gabble-types.h    |    2 +-
 src/handle-set.c      |    1 -
 src/handles-private.h |   12 ++++-
 src/handles.c         |  118 +++++++++++++++++++++++++++++++++++++++----------
 4 files changed, 104 insertions(+), 29 deletions(-)

commit 92338f90eed01f74a5fe71b6efc745d75bd86a2d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Aug 21 21:17:38 2006 +0000

    run gheap through indent -nut
    
    
    20060821211738-418b8-ab0c80a78f30d0c124d4323238650797e1748997.gz

 src/gheap.c |  103 ++++++++++++++++++++++++++++++++---------------------------
 1 files changed, 56 insertions(+), 47 deletions(-)

commit 1c6af0fe3938c31a7790b2180b823e3107f64efd
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Aug 21 19:19:51 2006 +0000

    patch from Olli Salli <olli.salli@nokia.com> to add a heap implementation
    
    
    20060821191951-418b8-cd0285c55fb0b42ff74a492457dd189ef1871d03.gz

 src/Makefile.am   |    2 +
 src/gheap.c       |  143 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/gheap.h       |   39 ++++++++++++++
 tests/Makefile.am |    9 +++-
 tests/test-heap.c |   34 +++++++++++++
 5 files changed, 226 insertions(+), 1 deletions(-)

commit c6301b242ce3c7a16b63b6de378b517bfe91594c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Aug 30 11:30:08 2006 +0000

    bump version to 0.3.2.1
    
    
    20060830113008-418b8-08eac633c64d0e0895b0e77285d4aceb3ef49ead.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit fdca0516d5a707127daefc062770ac63c5328cf9
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Aug 29 19:26:37 2006 +0000

    bump version to 0.3.2
    
    
    20060829192637-418b8-7d044b9e6d0d77ffb851f37bc4fe75a80752746b.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 6b09548401159161ab4e0b85d663be7e5272551d
Author:  <rob.taylor@collabora.co.uk>
Date:   Tue Aug 29 18:58:54 2006 +0000

    do ERROR_CFLAGS properly
    
    
    20060829185854-25e70-a5931a08b168cab4dd1a6ad57b0c0952d7e8599e.gz

 configure.ac |   19 +++++++------------
 1 files changed, 7 insertions(+), 12 deletions(-)

commit 51e96a5ea429deba116b3ca432b08c20b5447927
Author:  <rob.taylor@collabora.co.uk>
Date:   Tue Aug 29 18:35:21 2006 +0000

    AM_INIT_AUTOMAKE wasn't actually being invoked with a version, thanks to typo..
    
    
    20060829183521-25e70-d595a059840f5cb272c0b674d65ad4b73047a25d.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a5c46da564c36e26403a00548101845964773a92
Author:  <rob.taylor@collabora.co.uk>
Date:   Tue Aug 29 18:33:17 2006 +0000

    change to use nano-version rather than release for greater sanity and `date ` doesnt work in the version string
    
    
    20060829183317-25e70-f642aab7dc785834f34e2b227187f0bc96e241e8.gz

 configure.ac |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit ad549ecc91f730edccaae7a8702e8167a8c4f87f
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed Aug 23 21:55:05 2006 +0000

    pass LmMessage to session action handler functions 'cos it's useful
    
    
    20060823215505-b59df-fa0456d666007b6edda8b762e712bc6002de0981.gz

 src/gabble-media-session.c |   18 ++++++++++++------
 1 files changed, 12 insertions(+), 6 deletions(-)

commit b62f356db0774bde185219db0d8427e376d688ae
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed Aug 23 21:50:04 2006 +0000

    resolve conflicts
    
    
    20060823215004-b59df-15678676336ba1d42278e2fd83585aa43917b3f7.gz

 src/gabble-media-session.c |   55 ++++++++------------------------------------
 1 files changed, 10 insertions(+), 45 deletions(-)

commit e37a13d592593aa9cd8d4a86bfa33d6ead617050
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri Jun 2 17:51:00 2006 +0000

    refactor session action handling
    
    
    20060602175100-b59df-97f07f04444767d8fef28e8e7d329384b3fa4218.gz

 src/gabble-media-session.c |  169 +++++++++++++++++++++++++++++++++++++-------
 1 files changed, 143 insertions(+), 26 deletions(-)

commit 69797add0551454e61ac774fb49a30bb857a384f
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri Jun 2 16:35:52 2006 +0000

    wrap long line
    
    
    20060602163552-b59df-e09e7e0932e9ac6bbfc4d1586b248381cd3a347a.gz

 src/gabble-media-session.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 7b83bdf8b211e2fd1097f74cb1c71e7472a973f3
Author:  <rob.taylor@collabora.co.uk>
Date:   Tue Aug 29 13:46:43 2006 +0000

    add missing AM_INIT_AUTOMAKE
    
    
    20060829134643-25e70-e2a437f1969764ab215750ec269ce516ca60210e.gz

 configure.ac |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 9baaf2a4395030c8b1336e7a30b4b3d5bc8eb757
Author:  <rob.taylor@collabora.co.uk>
Date:   Tue Aug 29 09:00:54 2006 +0000

    resolve conflict with local autoconf versioning change
    
    
    20060829090054-25e70-e0989c7883d3cb5dd57980cf0af692185a225fad.gz

 configure.ac |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)

commit a49bef39e36aae30808e78a811487b226a0c1a7a
Author:  <rob.taylor@collabora.co.uk>
Date:   Wed Jun 28 13:20:31 2006 +0000

    add configure flag for ignoring loudmouth version
    
    
    20060628132031-25e70-e0ff015eb809c71c50a7d02e330167c7a977356f.gz

 configure.ac |   15 ++++++++++++++-
 1 files changed, 14 insertions(+), 1 deletions(-)

commit c2d414fbedf1a8108cc6081a54777aa3bfc967b7
Author:  <rob.taylor@collabora.co.uk>
Date:   Wed Jun 28 13:19:16 2006 +0000

    dont use as-version, use new style AC_INIT and AM_INIT_AUTOMAKE
    
    
    20060628131916-25e70-7a53df970f30a5fa650cdee5075fa3550c29a688.gz

 configure.ac     |   27 ++++++++++++++++++---
 m4/Makefile.am   |    1 -
 m4/as-version.m4 |   66 ------------------------------------------------------
 3 files changed, 23 insertions(+), 71 deletions(-)

commit cf506ee76a4c75836befbfb705d8cd4f2aab9e6b
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 29 13:02:36 2006 +0000

    use g_hash_table_replace rather than _insert so that we don't use freed string as session ID
    
    
    20060829130236-b59df-8f7809b94490df778684adec679560f8d1786ef6.gz

 src/media-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit be7cfff330ba473b6291f758ae420be2e4d76171
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Aug 24 18:26:51 2006 +0000

    set elements of the struct which actually exist
    
    
    20060824182651-418b8-357e8b76eae5a9d9ed6991fbfec1ef8fffb61fba.gz

 src/gabble-media-channel.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit a7234bc8ac80fd02fad7d5d9ff861fceb8b7f9b3
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Aug 24 18:14:45 2006 +0000

    remove now-deprecated member element from GetSessionHandlers
    
    
    20060824181445-418b8-4b9387c6ec5d3f0de9d308672a437bbd5bd4b3c7.gz

 src/gabble-media-channel.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 5b371b7a761c6c2f13abf3b3cba5b7fb6e85d7ed
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Aug 22 17:00:51 2006 +0000

    correct error string to say RequestStreams
    
    
    20060822170051-418b8-49c5528c7c21d4ce1bb164d85d3d0cf0ef5586b7.gz

 src/gabble-media-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 5bf39ae0d11dd8237412b5742d416184d25c45c0
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Aug 22 17:00:38 2006 +0000

    make the media channel implement IceSignalling interface
    
    
    20060822170038-418b8-cf7c91c0ad2315b968daacae42736b16f08fd043.gz

 src/gabble-media-channel.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 853a6d7b83ca10731100d5a5000147a84a3c9b23
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Aug 22 17:00:23 2006 +0000

    add IceSignalling to telepathy-interfaces.h
    
    
    20060822170023-418b8-3c8c9402d63927cb6f90afe3cbb013d19aad3a6c.gz

 src/telepathy-interfaces.h |   10 ++++++----
 1 files changed, 6 insertions(+), 4 deletions(-)

commit 2cb40b246868f05ad2e2257f36e79acee274b571
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Aug 21 19:30:53 2006 +0000

    run gintset through indent -nut (except for the function parameters, which I disagree with :D)
    
    
    20060821193053-418b8-d4e86be4bfd3a551ed73a97a5fa08e8cfc9fb288.gz

 src/gintset.c |   68 ++++++++++++++++++++++++++++----------------------------
 1 files changed, 34 insertions(+), 34 deletions(-)

commit d9f8cd966c23ff41f8ffc9d052af774781379fde
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Aug 21 19:25:13 2006 +0000

    patch from Olli Salli <olli.salli@nokia.com> to optimise intset foreach
    
    
    20060821192513-418b8-1e03eeb237945ce91bbc764e3bc7be25abe72b38.gz

 src/gintset.c |   11 ++++++-----
 1 files changed, 6 insertions(+), 5 deletions(-)

commit cd41554ef67fffd007dc120656757a43d464ac81
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Aug 21 19:21:06 2006 +0000

    patch from Olli Salli <olli.salli@nokia.com> to fix g_intset_clear to actually work
    
    
    20060821192106-418b8-8e87898d20ace4cf830903328eec5cb024b8934b.gz

 src/gintset.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 164d380b6c27ed265f4bd91d3025d27344eac1ed
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Aug 21 19:19:08 2006 +0000

    add gabble.manager and write-mgr-file to _boring
    
    
    20060821191908-418b8-f50935bf5f182989f7221312110ce6e72530fc8d.gz

 _boring |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 2755c98cb7cebf5607e747c7505312b10e038778
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Aug 22 15:23:14 2006 +0000

    update the generate shell scripts to point to telepathy-spec, not telepathy-python
    
    
    20060822152314-418b8-58e70e5a77448cef1ca3733fab48fa1bf1250bf3.gz

 generate/do_src.sh |    4 ++--
 generate/do_xml.sh |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit c09a54a30cfe9ca74d31ed90ef118b256e5a2be6
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Aug 22 14:51:31 2006 +0000

    update media channel and session to support new IceSignalling/IceSessionHandler in spec 0.13.3
    
    
    20060822145131-418b8-250639ca12163d46d9d669a1821ae645b50647bc.gz

 src/gabble-media-channel-signals-marshal.list |    3 +-
 src/gabble-media-channel.c                    |   81 +++++++++++++++++++------
 src/gabble-media-channel.h                    |    3 +-
 src/gabble-media-session-signals-marshal.list |    2 +-
 src/gabble-media-session.c                    |   18 +++---
 src/gabble-media-stream.c                     |   16 +++---
 6 files changed, 84 insertions(+), 39 deletions(-)

commit 8fb775ceeeb7423b1a6355a5996be4f90780174e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Aug 22 14:45:58 2006 +0000

    regenerate gobject stubs with Channel.Interface.IceSignalling from spec 0.13.3
    
    
    20060822144558-418b8-73484f608d1764ebccf174798c1446f59a1852aa.gz

 .../src/gabble-media-channel-signals-marshal.list  |    4 +-
 generate/src/gabble-media-channel.c                |   60 ++++++++++++++++----
 generate/src/gabble-media-channel.h                |    3 +-
 .../src/gabble-media-session-signals-marshal.list  |    2 +-
 generate/src/gabble-media-session.c                |   14 ++--
 generate/src/gabble-media-stream.c                 |   16 +++---
 6 files changed, 70 insertions(+), 29 deletions(-)

commit 7d6ddb51de4ea1547d97d276b10bcf9764d1acec
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Tue Aug 22 14:45:30 2006 +0000

    regenerate XML with new Channel.Interface.IceSignalling from spec 0.13.3
    
    
    20060822144530-418b8-55ceb485c8d3780a86c1213a374132735dc787ac.gz

 generate/gabble.def                            |    6 ++--
 generate/xml-modified/gabble-media-channel.xml |   29 +++++++++++++++++------
 generate/xml-modified/gabble-media-session.xml |    5 ++-
 generate/xml-modified/gabble-media-stream.xml  |    2 +-
 generate/xml-pristine/gabble-media-channel.xml |   29 +++++++++++++++++------
 generate/xml-pristine/gabble-media-session.xml |    5 ++-
 generate/xml-pristine/gabble-media-stream.xml  |    2 +-
 7 files changed, 53 insertions(+), 25 deletions(-)

commit a3d335f2a843ae78bc0038d403b8e5019fbb3a06
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 22 13:10:32 2006 +0000

    Update generate/README to reflect the new process
    
    
    20060822131032-53eee-f4c7d08cacc40c4bfb637ab9199c89a9161c0e6b.gz

 generate/README |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit 9f6d4672769e5293e115d29274d855eb0ce94afa
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon Aug 21 16:16:18 2006 +0000

    GabbleMediaFactory: register the correct kind of messagehandler with loudmouth (IQ instead of MESSAGE).
    
    
    20060821161618-50843-799a062593a4279488c5bbc7febb15709e9c9fb2.gz

 src/media-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit cbf7d92177241988e22664eb91a7b638ea130de7
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon Aug 21 16:15:50 2006 +0000

    GabbleMediaFactory: set the factory property when creating the GabbleMediaChannel object.
    
    
    20060821161550-50843-ae59406c03fc5d3a60339a71e4b5b12a09b3cdd0.gz

 src/media-factory.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit fa13ad52b0822a80233464349672e32cac939444
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon Aug 21 16:15:23 2006 +0000

    fixed a debug printout de-referencing random memory, for real this time. :)
    
    
    20060821161523-50843-44c97fd823ecddfdff262f977aba1261ab3aa168.gz

 src/media-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c3f7d712e379b79362fe323e9a25ef45d775a222
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon Aug 21 16:13:38 2006 +0000

    GabbleMediaFactory: removed trailing whitespace and fixed a debug printout de-referencing random memory.
    
    
    20060821161338-50843-b4669b33cab9abe57838581edd107654b56a76d5.gz

 src/media-factory.c |   14 +++++++-------
 1 files changed, 7 insertions(+), 7 deletions(-)

commit 39583e18c669f18b64f4fe1b75baa1e4d25e3fb6
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon Aug 21 16:12:27 2006 +0000

    GabbleMediaFactory: fixed sid housekeeping code.
    
    
    20060821161227-50843-394f9c2323ebe18f5e60f31b9cb6df587b3faa36.gz

 src/media-factory.c |   29 +++++++++++++++++++++--------
 src/media-factory.h |    1 +
 2 files changed, 22 insertions(+), 8 deletions(-)

commit 4855423cc2c21dd47011f8e3be6027238f829916
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon Aug 21 16:10:03 2006 +0000

    GabbleMediaChannel: register sid when the remote end provided it.
    
    
    20060821161003-50843-2a8ec795893b821326b95b9461bd32b0c9249663.gz

 src/gabble-media-channel.c |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit fd5aa38bd3063a3516f4ca2dee644ac5caae122e
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon Aug 21 16:08:34 2006 +0000

    GabbleConnection: removed dangling media code which is now in the factory.
    
    
    20060821160834-50843-8410fb2e0954d8b4c62102b70102b36299f9f493.gz

 src/gabble-connection.c |  198 +----------------------------------------------
 1 files changed, 1 insertions(+), 197 deletions(-)

commit 891da9997c17812c0eb2af0dd00505d6565f8b60
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon Aug 21 16:07:37 2006 +0000

    GabbleConnection: removed commented out stun properties that are now stored in the properties mixin.
    
    
    20060821160737-50843-a9175af742b6070a19d57c383971c32cf453c157.gz

 src/gabble-connection.c |   13 -------------
 1 files changed, 0 insertions(+), 13 deletions(-)

commit a7a941264b25c77724f5c1c6ae6cf9c172f6b879
Author:  <senko@senko.net>
Date:   Fri Aug 4 19:13:21 2006 +0000

    removed sid allocation from connection, fixed media factory (no more zombie sessions, switched to new debugging framework)
    
    
    20060804191321-59d1d-048ae1d86d8c406c6c10ab32ea39e876226584d6.gz

 src/gabble-connection.c |   43 ---------------------
 src/gabble-connection.h |    4 --
 src/media-factory.c     |   94 +++++++++++++++++++++++++++--------------------
 src/media-factory.h     |    1 +
 4 files changed, 55 insertions(+), 87 deletions(-)

commit 2cd1a521509ed8bcd670c54e9856f3a9b99fbc4e
Author:  <senko@senko.net>
Date:   Fri Aug 4 00:51:29 2006 +0000

    made gabble use the new media factory object
    
    
    20060804005129-59d1d-7fcd4364ff685cba95c1ef7a16824cd9670c0d03.gz

 src/gabble-connection.c    |  177 ++++----------------------------------------
 src/gabble-connection.h    |    6 +-
 src/gabble-media-channel.c |   25 ++++++-
 src/gabble-media-session.c |    7 ++-
 4 files changed, 48 insertions(+), 167 deletions(-)

commit 5f6062b4c089de19bc9dbaeb577c64f78148400b
Author:  <senko@senko.net>
Date:   Fri Aug 4 00:48:55 2006 +0000

    created media factory object
    
    
    20060804004855-59d1d-637fb2e059155f18ce9eff2b5d00ac4c740ceb7e.gz

 src/Makefile.am     |    2 +
 src/media-factory.c |  662 +++++++++++++++++++++++++++++++++++++++++++++++++++
 src/media-factory.h |   62 +++++
 3 files changed, 726 insertions(+), 0 deletions(-)

commit a73295474c253de67285ad5f2677e6545eaf096e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Mon Aug 21 16:33:16 2006 +0000

    swap -> and . to help the compiler... :)
    
    
    20060821163316-418b8-b56604e3487f93f2115ac679106c21b7fca3a0ad.gz

 src/roster.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 5d1450699a8877650f04ad963136e8ad23516f35
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Aug 18 17:25:33 2006 +0000

    don't remove people from the publish channel in response to updated roster items if they are awaiting our approval - this state is only arrived at by <presence type=subscribe> nodes
    
    
    20060818172533-418b8-d42da3086d19c8a1ee109fb1c2f227f217b45f73.gz

 src/roster.c |   16 +++++++++++++---
 1 files changed, 13 insertions(+), 3 deletions(-)

commit b213c3160022d7ebaf7623002990248fec17d6a9
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Aug 18 16:25:29 2006 +0000

    replace odd block logic with another switch statement instead
    
    
    20060818162529-418b8-daf3885f164925214a7ffc096337af0038d1dfaf.gz

 src/roster.c |   23 ++++++++++++++++++-----
 1 files changed, 18 insertions(+), 5 deletions(-)

commit 501e208832206d47dcf9718283b959047ae0dcfc
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Aug 18 16:24:18 2006 +0000

    split big switch statement for publish/subscribe/known changes into three for clarity
    
    
    20060818162418-418b8-4c59e14ef73dd47d266e0c0bc0b4ca1041df44a0.gz

 src/roster.c |   41 ++++++++++++++++++++++++++++-------------
 1 files changed, 28 insertions(+), 13 deletions(-)

commit dde13a2902759871f1f48bb70ce0abf263c46d2a
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Aug 18 16:13:50 2006 +0000

    use _gabble_roster_item_get instead of directly accessing the hashtable, to create new roster items and avoid null pointer dereference
    
    
    20060818161350-418b8-0c7f71c9beaaa1bdb230bf2f8a03309c73cf5130.gz

 src/roster.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 717ddb74c7b28beb5c6043a3131ca9390ba0c546
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Aug 18 16:12:35 2006 +0000

    remove roster items after handling blocking, to avoid dereferencing freed memory
    
    
    20060818161235-418b8-17c32eff01bb1ec008133a3a3222424937c621d7.gz

 src/roster.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 379604c1521f1389d94b0780c134f83642bdac27
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 11 11:24:22 2006 +0000

    Stringify group member change reasons for easier debugging
    
    
    20060811112422-53eee-211ff50673de75ac68e35e08baf5bc7076c78989.gz

 src/group-mixin.c |   27 ++++++++++++++++++++++++---
 1 files changed, 24 insertions(+), 3 deletions(-)

commit 3770b7768083c262682a745a89fab6604acc2e22
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 9 17:08:58 2006 +0000

    group-mixin: include actor, reason in members-changed debug
    
    
    20060809170858-53eee-29188c914769f224723b9c6ea371c0343cf576e5.gz

 src/group-mixin.c |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit 5e8f43b63d8b994fa4694f18dadd4c372f8a7d88
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 9 16:54:23 2006 +0000

    group-mixin.c: Initialize mixin->priv->actors
    
    
    20060809165423-53eee-29e7721239d109484c685e5728e3f158a77dcc7e.gz

 src/group-mixin.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 862f48b8ac39b391d2d4de8e3da80b91066cff9d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 9 16:37:26 2006 +0000

    gabble-muc-channel.c: fill in some more reason codes
    
    
    20060809163726-53eee-5e503421a794413077584f27f88dd3fa5dd32609.gz

 src/gabble-muc-channel.c |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit c336ac8ef7d8da2ea2445cb3ce8a75242e19f0cb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 9 16:37:04 2006 +0000

    Add BANNED reason code to telepathy-constants.h
    
    
    20060809163704-53eee-d8529545639b3309a82d8e126376b1d8e3b86fc4.gz

 src/telepathy-constants.h |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit e100ffe485ccec9bcec58201d84627ca89e63b34
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 9 16:27:30 2006 +0000

    gabble-muc-channel.c: Fill in reason_code when kicked or banned
    
    
    20060809162730-53eee-766a54ed5ba1d6d3c8ad8d7baf34d1478d3e5e67.gz

 src/gabble-muc-channel.c |   19 +++++++++++++++++++
 1 files changed, 19 insertions(+), 0 deletions(-)

commit 3fe3ca15d13a0dfe0d3ab6c1b84a3692e8a76884
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 9 15:54:40 2006 +0000

    gabble-muc-channel.c: Add actor, reason_code (mostly stub, but actor partly implemented)
    
    
    20060809155440-53eee-48ce28daab91baa4263463f7114715683434be0f.gz

 src/gabble-muc-channel.c |   38 +++++++++++++++++++++++++++-----------
 1 files changed, 27 insertions(+), 11 deletions(-)

commit 5216bc24032aafdc620de26b5eb008f2a809bb88
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 9 14:38:41 2006 +0000

    Add TP_CHANNEL_GROUP_CHANGE_REASON_foo to telepathy-constants.h
    
    
    20060809143841-53eee-cb81bfe50149e0270311203de04f3d8305cb4c58.gz

 src/telepathy-constants.h |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit eb56310dd17871040a443183576c4e29974c6d95
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 9 12:31:31 2006 +0000

    Add actor, reason params to gabble_group_mixin_change_members
    
    
    20060809123131-53eee-7187b43262f4b80715477fd41a7f7e6238f64df0.gz

 src/gabble-media-channel.c |   14 +++++++-------
 src/gabble-muc-channel.c   |   10 +++++-----
 src/group-mixin.c          |   14 +++++++++++---
 src/group-mixin.h          |    2 +-
 src/roster.c               |   16 ++++++++--------
 5 files changed, 32 insertions(+), 24 deletions(-)

commit 2c7f99117559f7a4ceafe7ba5fd18042e7cb8f56
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 10 14:39:20 2006 +0000

    gabble-register.c: don't say registration succeeded when all we've done is send off a request
    
    This caused registration failures (notably, trying to register an
    already-existing JID) to be presented as either a successful registration
    or a wrong password.
    
    20060810143920-53eee-1c2ac7088d25865cb680d5339401631187cfc928.gz

 src/gabble-register.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 826709bb4d281075aa36c6eb7408951bf015d1fb
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Aug 9 19:06:51 2006 +0000

    bump version to 0.3.1.1
    
    
    20060809190651-418b8-291a38c47fe03e45c229ff6a829b5a094bf94c3b.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 0e15b460d98d46332e1778af772e97e3baf59b21
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Aug 9 18:33:04 2006 +0000

    bump version to 0.3.1
    
    
    20060809183304-418b8-0f5ba219381d323f97b40a256e91551ad1e79805.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 26a13e35cc4df571c35d2a850abbaf722a8ff316
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 9 18:19:05 2006 +0000

    Include Nokia copyright in write-mgr-file.c
    
    
    20060809181905-53eee-af33fc4a9b2c2b7ec2758a5d0f6d4d7fa790dcfd.gz

 src/write-mgr-file.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit d6a0e8184136c859765a01eeabf3bbf5cd8f9f50
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 9 14:51:13 2006 +0000

    Make write-mgr-file less of a hack
    
    - Instead of #including g-c-m.c, make things public and use g-c-m.h
    - Instead of hard-coding jabber, use an array of protocol specs
    - Make some effort towards generalization for other conn.managers
    
    20060809145113-53eee-51e985f618148ca56232462c1bfc8ae3fa0e507c.gz

 src/gabble-connection-manager.c |   24 +++------
 src/gabble-connection-manager.h |   19 ++++++++
 src/write-mgr-file.c            |   97 ++++++++++++++++++++++++---------------
 3 files changed, 87 insertions(+), 53 deletions(-)

commit 7228ee50cfb809b8694402c47e6fa23b58065f70
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 9 14:50:34 2006 +0000

    Auto-generate gabble.manager at build time
    
    
    20060809145034-53eee-3e3d134f426df3b5951c43eba0af4ca24772c65a.gz

 data/Makefile.am    |   16 +++++++++++-----
 data/gabble.manager |   29 -----------------------------
 2 files changed, 11 insertions(+), 34 deletions(-)

commit be99b639a389d5cdada6200adb86670464387cde
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 9 14:35:55 2006 +0000

    Rename write_mgr_file to write-mgr-file
    
    
    20060809143555-53eee-7bea5f38d83b94cc6cd57e761d63cf16ebfcf504.gz

 src/Makefile.am      |    4 +-
 src/write-mgr-file.c |   81 ++++++++++++++++++++++++++++++++++++++++++++++++++
 src/write_mgr_file.c |   81 --------------------------------------------------
 3 files changed, 83 insertions(+), 83 deletions(-)

commit abfdd45c4d63f9ef1f75e38ecea8a44ea8e4d81a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 9 11:31:24 2006 +0000

    Rewrite gabble.manager using write_mgr_file
    
    
    20060809113124-53eee-2a8d52f5821150985a2aa9d8c412a4146c030403.gz

 data/gabble.manager |   49 +++++++++++++++++++++++++++----------------------
 1 files changed, 27 insertions(+), 22 deletions(-)

commit 9aec9c50d54c15c1a30044ecc16dfd21892fe4da
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 8 19:04:18 2006 +0000

    Add copyright blurb to write_mgr_file.c
    
    
    20060808190418-53eee-0e9f1e0f8a9061c9a56ef7a191b641e4c49b37fc.gz

 src/write_mgr_file.c |   19 +++++++++++++++++++
 1 files changed, 19 insertions(+), 0 deletions(-)

commit e37a917eb04871a493bf44c7640c4d94f7e0fcc6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 8 19:02:33 2006 +0000

    Add a utility to write out the manager file
    
    
    20060808190233-53eee-e7e11c42b62f40282c6e9778cccf2815609328d1.gz

 src/Makefile.am      |    5 ++++
 src/write_mgr_file.c |   62 ++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 67 insertions(+), 0 deletions(-)

commit 75d3e18e8b696b1c5ff0ac1539af345be0ee0dbb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 8 18:57:20 2006 +0000

    gabble-connection-manager.c: Finish switching from mandatory boolean to flags uint
    
    
    20060808185720-53eee-f5d179fdc0735f59ccc00b47f5777064b32f6cc0.gz

 src/gabble-connection-manager.c |   18 ++++++++++++++----
 1 files changed, 14 insertions(+), 4 deletions(-)

commit 0a7ad1c1471e1eb3bb6847c960d30b9e627982ee
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 8 18:48:52 2006 +0000

    Correct spelling of TP_CONN_MGR_PARAM_FLAG_HAS_DEFAULT
    
    
    20060808184852-53eee-5adb3bcfa2bb440b88fd82f39c8d6175fb0a30b6.gz

 src/gabble-connection-manager.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit bafd472474c1e492a323114359be94312b802a38
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 8 18:07:19 2006 +0000

    gabble-connection-manager: Express flags as such, not as a boolean "mandatory".
    
    Also set the HAS_DEFAULT flag on almost everything.
    
    20060808180719-53eee-fca24103b7e4665c316fc2aebb6dd7f57b5aabd9.gz

 src/gabble-connection-manager.c |   40 ++++++++++++++++----------------------
 1 files changed, 17 insertions(+), 23 deletions(-)

commit 5013a7d4ebba21ba99ab1eda205eed8bd74dcdf3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 8 17:19:45 2006 +0000

    Automatically incorporate async annotations into xml-modified
    
    
    20060808171945-53eee-57c53b10634222a56cc7d1bf3f283fb60fe931d7.gz

 generate/async_annotate.py     |   59 ++++++++++++++++++++++++++++++++++++++++
 generate/async_implementations |    8 +++++
 generate/do_xml.sh             |    4 +++
 3 files changed, 71 insertions(+), 0 deletions(-)

commit bb88d0f80871fe8eb37da8ae1c5f734ff8228b91
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed Aug 9 17:19:03 2006 +0000

    make GetSessionHandlers not assume that we have a session
    
    
    20060809171903-b59df-8aef8e37455652693fc05d4a0a305c574e780412.gz

 src/gabble-media-channel.c |   44 ++++++++++++++++++++++++++------------------
 1 files changed, 26 insertions(+), 18 deletions(-)

commit db872d1be1b9f24ba744528cd02047bad1fa0dc8
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Wed Aug 9 17:04:22 2006 +0000

    edit text mixin so that sending the message to the server doesn't always emit the Sent signal, and instead emit it on MUC rooms when our message is sent back to us by the room
    
    
    20060809170422-418b8-837de7dd91a9e6060f3f967ebf515531b23b8355.gz

 src/gabble-im-channel.c  |    2 +-
 src/gabble-muc-channel.c |   13 +++++++++++--
 src/text-mixin.c         |   25 ++++++++++++++++++++-----
 src/text-mixin.h         |    3 ++-
 4 files changed, 34 insertions(+), 9 deletions(-)

commit fecd360c5ef97f50df163319abda90107399ea5a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 9 10:40:47 2006 +0000

    text-mixin.c: in acknowledge_pending_messages remember to free nodes
    
    
    20060809104047-53eee-ab47b418dba56343678a4f395cc761cf39ef9381.gz

 src/text-mixin.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 6ba842daf5d54dacc7b5d20ea1aad73cc01dfa1c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 9 10:40:30 2006 +0000

    room_verify_batch_free(): actually free the batch!
    
    
    20060809104030-53eee-e9125a8c7c7e43d62048a8f4f17732ea03c4fd14.gz

 src/gabble-connection.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 0b03af9215e9801114625f82e0f5413758d2b743
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 9 10:37:41 2006 +0000

    gabble-connection-manager.c: unset GValue * before freeing it
    
    
    20060809103741-53eee-2f7be2327213ac567bb2ebf2ccf1448ded874014.gz

 src/gabble-connection-manager.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit a7af7df024c00114b758fd4f124a8af19596867a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 8 18:16:17 2006 +0000

    Correct spelling of param-low-bandwidth in data/gabble.manager
    
    
    20060808181617-53eee-8c244e8ed4d7e37cbf5900f6a2bdcc3021437855.gz

 data/gabble.manager |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 958cf4242e51f6d536e43d577fd9c53c3eae2141
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 8 16:27:46 2006 +0000

    gabble-connection.c: indent static functions GNUishly
    
    
    20060808162746-53eee-00878ff19faa466e119910bf90e50f5bcdc31523.gz

 src/gabble-connection.c |   33 +++++++++++++++++++++------------
 1 files changed, 21 insertions(+), 12 deletions(-)

commit 854798c8a7d5bd3c31f1376211a0286fd35090f7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 8 16:15:00 2006 +0000

    Merge Rob McQ's addition of "block" list type
    
    
    20060808161500-53eee-ff7d5f30ed455dbf839251b2da86c2b51468d196.gz

 src/gabble-connection.c |   28 ++++++++++------------------
 1 files changed, 10 insertions(+), 18 deletions(-)

commit f45c6ae497087686cab5d278fde46608d89a571c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 8 16:04:27 2006 +0000

    Correctly free value returned from param_default_value
    
    
    20060808160427-53eee-17c92c0ed5dd0cde0ed74e0751b41448f97dc303.gz

 src/gabble-connection-manager.c |    8 +++++---
 1 files changed, 5 insertions(+), 3 deletions(-)

commit 93806e41cf282a5964c193556ee588a570f0a9df
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 8 14:28:10 2006 +0000

    gabble-connection.c: Make hold_and_return_handles not free the handles array, thus fixing room verification
    
    
    20060808142810-53eee-0f7b569c2db4b14c58d99011414e15757ed40763.gz

 src/gabble-connection.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 7bb05ceac4900876da1f4fa51cf1c2b7c94e92f4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 8 10:40:11 2006 +0000

    gabble-connection.c: In RequestHandle, fix disco for room handles
    
    
    20060808104011-53eee-c61d81b156c8bf17d86c52eb833a9792f2bc5a0c.gz

 src/gabble-connection.c |  255 +++++++++++++++++++++++++++++++----------------
 1 files changed, 168 insertions(+), 87 deletions(-)

commit 7985e8bf20624c9a7a858e10be5c042bcd32033f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 8 10:16:33 2006 +0000

    Move room_name_to_canonical, hold_and_return_handles further up gabble-connection.c
    
    
    20060808101633-53eee-ba5883f8f44be190dfef6d85a9b1962d63db6530.gz

 src/gabble-connection.c |   74 ++++++++++++++++++++++++----------------------
 1 files changed, 39 insertions(+), 35 deletions(-)

commit d9734ca80552dcf47af23dd80601aa51ef742e24
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 7 17:44:10 2006 +0000

    gabble-connection.c: In RequestHandles, reduce scope of variables.
    
    Return successfully via new helper function hold_and_return_handles.
    
    20060807174410-53eee-1c03aab3fc4e404ffff1c4db1f78489613274c85.gz

 src/gabble-connection.c |   54 +++++++++++++++++++++++++++-------------------
 1 files changed, 32 insertions(+), 22 deletions(-)

commit e2067a1acd6469076ef857cdcd7a6bd56e3953ae
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 7 17:26:27 2006 +0000

    gabble-connection.c: in RequestHandles, correctly free handles GArray after return
    
    
    20060807172627-53eee-c493df718267698da0e62ffdaaef05be6c39c23c.gz

 src/gabble-connection.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 7abcd92f250dbc832748989e0c78a7489d18a9b2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Mon Aug 7 17:25:36 2006 +0000

    gabble-connection.c: in RequestHandles, move switch outside for loop
    
    
    20060807172536-53eee-21a13bb81399508d0129bdb57e8751f60878de81.gz

 src/gabble-connection.c |   40 +++++++++++++++++++++++++---------------
 1 files changed, 25 insertions(+), 15 deletions(-)

commit 65ab166b667b305de722863fb2289ab93ea3b7fa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 4 15:26:00 2006 +0000

    text-mixin.c: Set CHANNEL_TEXT_MESSAGE_FLAG_TRUNCATED in truncated messages
    
    
    20060804152600-53eee-ce1c2bee1455a532fb94028d8864466ceb25b75d.gz

 src/telepathy-constants.h |    4 ++++
 src/text-mixin.c          |    8 ++++----
 2 files changed, 8 insertions(+), 4 deletions(-)

commit 639f997ddee9f6f1e7bfd93cb79e459f89c6d864
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 4 15:18:57 2006 +0000

    text-mixin.c: Add flags to ListPendingMessages return
    
    
    20060804151857-53eee-fe0fe0f4702079b893f8c2d4be85be8e0dd67bbd.gz

 src/text-mixin.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 7a2dfae6d482d7d94ba36a50df5e6f94519c9102
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 4 15:12:36 2006 +0000

    Merge addition of flags to ListPendingMessages into xml-modified
    
    
    20060804151236-53eee-4ca1beab3848c9099309812bd56286933ee375ff.gz

 generate/xml-modified/gabble-im-channel.xml  |    2 +-
 generate/xml-modified/gabble-muc-channel.xml |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 43e4d90692271167c306f464b584d88aaf81aa2b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 4 15:11:22 2006 +0000

    Regenerate XML with ListPendingMessages gaining flags in return
    
    
    20060804151122-53eee-0344bd848b164841f57905e110ab13d599d15dca.gz

 generate/xml-pristine/gabble-im-channel.xml  |    2 +-
 generate/xml-pristine/gabble-muc-channel.xml |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 3c82b7ee324e91c61c26b0d7e276c17d53928062
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 4 13:35:02 2006 +0000

    gabble-connection.c: De-break counting number of names passed into RequestHandles
    
    
    20060804133502-53eee-5adb2fbeccf85470f15fd9f28b138f1cf8748074.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ee9ea5779adf003aadd6887c34532df47caf9067
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 4 12:12:00 2006 +0000

    gabble-connection-manager.c: Advertise mandatory params as FLAG_REQUIRED|FLAG_REGISTER
    
    
    20060804121200-53eee-b70fd71db02dc1370a92f6f0ec86314e5e204299.gz

 src/gabble-connection-manager.c |    9 ++++++++-
 1 files changed, 8 insertions(+), 1 deletions(-)

commit 564beb3ad79011435d5b09d9e1a7ecf01cd78bd9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Fri Aug 4 11:55:06 2006 +0000

    telepathy-constants.h: add TpConnectionManagerParamFlags
    
    
    20060804115506-53eee-a6120c45dcd18538ca61c0291a18798502d37232.gz

 src/telepathy-constants.h |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit e76c0dc4f4aab1a32e792c423598395875cccca9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 3 19:18:45 2006 +0000

    jingle-info.c: Inline the relevant bits of gabble_connection_inspect_handle
    
    
    20060803191845-53eee-4c80fdeabe56615ea2f2e8fb1a6386600c5d8970.gz

 src/jingle-info.c |   22 ++--------------------
 1 files changed, 2 insertions(+), 20 deletions(-)

commit 35b1ca4b31a74dd6f4e8e1e035892dd9d1d1cf0d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 3 19:18:37 2006 +0000

    Remove more unnecessary signal marshallers
    
    
    20060803191837-53eee-6e134a0363f17cabb2c599ab5f53aab84320669e.gz

 src/gabble-connection-signals-marshal.list       |    2 --
 src/gabble-connection.c                          |    4 ++--
 src/gabble-media-stream-signals-marshal.list     |    4 ----
 src/gabble-media-stream.c                        |   12 ++++++------
 src/gabble-roomlist-channel-signals-marshal.list |    3 ---
 src/gabble-roomlist-channel.c                    |    6 +++---
 src/gabble-roster-channel-signals-marshal.list   |    3 ---
 src/gabble-roster-channel.c                      |    2 +-
 src/properties-mixin-signals-marshal.list        |    1 -
 src/properties-mixin.c                           |    4 ++--
 src/text-mixin-signals-marshal.list              |    1 -
 src/text-mixin.c                                 |    2 +-
 12 files changed, 15 insertions(+), 29 deletions(-)

commit a29e9950a4386ea4e5ca74b7dab36be86f087737
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 3 18:57:34 2006 +0000

    Add clear param to Text.ListPendingMessages
    
    
    20060803185734-53eee-706ab748b923d79bda589a9a160ce023ec527ed3.gz

 src/gabble-im-channel.c  |    4 ++--
 src/gabble-im-channel.h  |    2 +-
 src/gabble-muc-channel.c |    4 ++--
 src/gabble-muc-channel.h |    2 +-
 src/text-mixin.c         |    8 +++++---
 5 files changed, 11 insertions(+), 9 deletions(-)

commit 916dd785983b37e09d77ee484d78b67b0486a0bf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 3 18:49:04 2006 +0000

    Text mixin and impls: pluralize AcknowledgePendingMessages
    
    
    20060803184904-53eee-669694e0315c39083ab38cffa8a475ef0c1c88e1.gz

 src/gabble-im-channel.c  |    8 +++---
 src/gabble-im-channel.h  |    2 +-
 src/gabble-muc-channel.c |    8 +++---
 src/gabble-muc-channel.h |    2 +-
 src/text-mixin.c         |   47 +++++++++++++++++++++++++++++----------------
 5 files changed, 40 insertions(+), 27 deletions(-)

commit 6c53adea126bab7e1077bd3db4e3c8c833ede389
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 3 18:26:59 2006 +0000

    text-mixin.h: pluralize AcknowledgePendingMessages, add clear param to ListPendingMessages
    
    
    20060803182659-53eee-65f5160e9c3a7b0b7bb21205a15f77ecba8d28d1.gz

 src/text-mixin.h |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 18b4af2ed23119cc20c838dfa9cf276fc2b01ce7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 3 18:06:14 2006 +0000

    Add reason, actor to Group.MembersChanged
    
    
    20060803180614-53eee-8a06d74ecd3a82e9937bb2b2179b6091aac937f7.gz

 src/group-mixin-signals-marshal.list |    2 +-
 src/group-mixin.c                    |    8 +++++---
 2 files changed, 6 insertions(+), 4 deletions(-)

commit 45312b3ab4da26531def56db3c51d5ad92f91a56
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 3 18:06:05 2006 +0000

    Add flags param to Text.Received
    
    
    20060803180605-53eee-8646a39185fb783c03a28468acca7d92fda1b698.gz

 src/text-mixin-signals-marshal.list |    2 +-
 src/text-mixin.c                    |    5 +++--
 2 files changed, 4 insertions(+), 3 deletions(-)

commit 2f10bc16264dadbaf857070841ca9636d2a9075c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 3 17:46:56 2006 +0000

    gabble-muc-channel.c: remove unused marshallers
    
    
    20060803174656-53eee-6e3ae530d794c6099694b9a71ec1f3b0d917e65c.gz

 src/gabble-im-channel-signals-marshal.list  |    1 -
 src/gabble-im-channel.c                     |    2 +-
 src/gabble-muc-channel-signals-marshal.list |    2 --
 src/gabble-muc-channel.c                    |    6 +++---
 4 files changed, 4 insertions(+), 7 deletions(-)

commit 0750fb06720d6205e9830880016f5e4ded8f7abb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 3 17:43:47 2006 +0000

    gabble-media-channel.c, -signals-marshal.list: remove unnecessary marshallers
    
    
    20060803174347-53eee-1ea35a1b406fcd890d3941ec991885f57ce9aa11.gz

 src/gabble-media-channel-signals-marshal.list |    3 ---
 src/gabble-media-channel.c                    |    2 +-
 2 files changed, 1 insertions(+), 4 deletions(-)

commit 4b06b0781eef680cd797923d29ed31327a86d97d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 3 17:27:50 2006 +0000

    gabble-connection.c: add missing counter vars
    
    
    20060803172750-53eee-4d109526e51faf4a73b13c30b576d1148c71e51c.gz

 src/gabble-connection.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 4aeab6092159e10a8c284d2219e6714c0873b36c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 3 17:26:25 2006 +0000

    gabble-connection.c: fix Connect implementation for status member having become non-private
    
    
    20060803172625-53eee-24f2eb118e0e460f04697ea7d483191f185c1a93.gz

 src/gabble-connection.c |   11 +++--------
 1 files changed, 3 insertions(+), 8 deletions(-)

commit eb1e7968fc5df195d8f571abdf3962f1da288e91
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 3 17:24:18 2006 +0000

    gabble-connection-manager.h: fix signature of gabble_connection_manager_get_parameters
    
    
    20060803172418-53eee-d5f75e977513d930a94b8417b8955c2759987271.gz

 src/gabble-connection-manager.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 59c374fea7cf1d45d46740a67fa5b8b656310424
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 3 17:15:59 2006 +0000

    gabble-connection.c, .h: remove HoldHandle, ReleaseHandle, InspectHandle
    
    
    20060803171559-53eee-4fdf4388b3028a672ceb72518870a94dfa3f11c3.gz

 src/gabble-connection.c |  115 -----------------------------------------------
 src/gabble-connection.h |    3 -
 2 files changed, 0 insertions(+), 118 deletions(-)

commit 5156189f82c4567549414d1ea4eea284e25c9c02
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 3 17:12:03 2006 +0000

    Remove RequestHandle, implement RequestHandles instead.
    
    
    20060803171203-53eee-95b5b9e127a4a85ae916d4f9c7cf698c0d7fe82f.gz

 src/gabble-connection.c |  173 ++++++++++++++++++++++++++---------------------
 src/gabble-connection.h |    1 -
 2 files changed, 97 insertions(+), 77 deletions(-)

commit b497168f677a4f3c3f3db524db5c162f082fb7bc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 3 16:08:48 2006 +0000

    gabble-connection.c: implement HoldHandles, ReleaseHandles
    
    
    20060803160848-53eee-1ce71febc07180faf6114782b64e42f6ca068d94.gz

 src/gabble-connection.c |   58 +++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 58 insertions(+), 0 deletions(-)

commit 6d94fb31cded588d24555217bc921f7ba2ec05b7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 3 14:47:50 2006 +0000

    Add docstring for InspectHandles
    
    
    20060803144750-53eee-21d027b763b20128d3f298969a642fcc3036a1f7.gz

 src/gabble-connection.c |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit daa83b6eac8e922a50eb9c7495c7855fcfe80ba1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 3 14:46:53 2006 +0000

    gabble-connection.c, .h: add API stubs for HoldHandles, RequestHandles, ReleaseHandles
    
    
    20060803144653-53eee-bffd0c9cbe51d86afac6945caa5924a0948f9d32.gz

 src/gabble-connection.c |   46 ++++++++++++++++++++++++++++++++++++++++++++++
 src/gabble-connection.h |    3 +++
 2 files changed, 49 insertions(+), 0 deletions(-)

commit f0338fc92679bb7b58237adfdfbc025964f9fa17
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 3 14:34:27 2006 +0000

    Add gabble_connection_connect
    
    
    20060803143427-53eee-bffcff73a2d03011715ea879b0cff1628905dc59.gz

 src/gabble-connection.c |   27 +++++++++++++++++++++++++++
 src/gabble-connection.h |    1 +
 2 files changed, 28 insertions(+), 0 deletions(-)

commit 7fefefa5cd314f3e6e68db616c90edc13dc72261
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 3 14:21:31 2006 +0000

    Update connection manager object to spec 0.13.1
    
    Forward-port of Robert McQueen's changes:
     * Change Connect to RequestConnection
     * Change GetMandatoryParameters, GetOptionalParameters, GetParameterDefaults
       to GetParameters
    
    20060803142131-53eee-2dbe628d6f1e15ed4a504a1d3f676914047fa263.gz

 src/gabble-connection-manager.c |  259 ++++++++++++++++-----------------------
 src/gabble-connection-manager.h |    6 +-
 2 files changed, 107 insertions(+), 158 deletions(-)

commit 17fb0d64a4a766a698bbd3deabc1dccc128063f2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 3 13:44:17 2006 +0000

    telepathy-constants.h: add TpConnectionCapabilityFlags, replacement for TpConnectionCapabilityType
    
    
    20060803134417-53eee-7bbdf092b4ca70fc15eee3472d9a332cea9d38c9.gz

 src/telepathy-constants.h |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit df19884b4a3169732a33637f529bc0808027ba93
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 3 13:01:13 2006 +0000

    Remove the duplicate InspectHandles from generate/src
    
    
    20060803130113-53eee-d35a3b6a923f6beff4ccf0b67a03a34b384c9ec2.gz

 generate/src/gabble-connection.c |   18 ------------------
 generate/src/gabble-connection.h |    1 -
 2 files changed, 0 insertions(+), 19 deletions(-)

commit 8cfd1df80be243e22e7d2250711b32930a757409
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 3 12:29:47 2006 +0000

    Remove duplicate definition of InspectHandles
    
    
    20060803122947-53eee-06cfca61f705317229df69f0a601f67ed88b5bb5.gz

 generate/xml-modified/gabble-connection.xml |    5 -----
 1 files changed, 0 insertions(+), 5 deletions(-)

commit 76eafc8cd04f60e4a3a8ba20eb314fa86786994b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Thu Aug 3 11:32:10 2006 +0000

    Regenerate generate/src from xml-modified with do_src.sh
    
    
    20060803113210-53eee-75fa164a03f8c9e4a502e7486fc9b39c245c0728.gz

 generate/src/gabble-connection-manager.c           |   54 +++---------------
 generate/src/gabble-connection-manager.h           |    6 +--
 generate/src/gabble-connection.c                   |   57 +++++++++++++++----
 generate/src/gabble-connection.h                   |   10 ++--
 .../src/gabble-im-channel-signals-marshal.list     |    2 +-
 generate/src/gabble-im-channel.c                   |   12 ++--
 generate/src/gabble-im-channel.h                   |    4 +-
 .../src/gabble-media-channel-signals-marshal.list  |    2 +-
 generate/src/gabble-media-channel.c                |    4 +-
 .../src/gabble-muc-channel-signals-marshal.list    |    4 +-
 generate/src/gabble-muc-channel.c                  |   16 +++---
 generate/src/gabble-muc-channel.h                  |    4 +-
 .../src/gabble-roster-channel-signals-marshal.list |    2 +-
 generate/src/gabble-roster-channel.c               |    4 +-
 14 files changed, 89 insertions(+), 92 deletions(-)

commit aab10837cd1e7caa5b12e4c0203bdea53e920840
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 2 18:17:56 2006 +0000

    Update xml-modified to match xml-pristine
    
    
    20060802181756-53eee-7a315470314aa3af48d6de2f12bafb85bb0562b7.gz

 .../xml-modified/gabble-connection-manager.xml     |   24 ++++++-------------
 generate/xml-modified/gabble-connection.xml        |   21 +++++++++--------
 generate/xml-modified/gabble-im-channel.xml        |    6 +++-
 generate/xml-modified/gabble-media-channel.xml     |    2 +
 generate/xml-modified/gabble-muc-channel.xml       |    8 +++++-
 generate/xml-modified/gabble-roster-channel.xml    |    2 +
 6 files changed, 33 insertions(+), 30 deletions(-)

commit bbb8847654f91995a900fd521da196b126ec5eda
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 2 18:05:30 2006 +0000

    Regenerate XML for current spec version
    
    
    20060802180530-53eee-aaeb6a6761a0b1c44cff2e38cd9ee2e300c2e9e6.gz

 .../xml-pristine/gabble-connection-manager.xml     |   24 ++++++-------------
 generate/xml-pristine/gabble-connection.xml        |   21 +++++++++--------
 generate/xml-pristine/gabble-im-channel.xml        |    6 +++-
 generate/xml-pristine/gabble-media-channel.xml     |    2 +
 generate/xml-pristine/gabble-muc-channel.xml       |    8 +++++-
 generate/xml-pristine/gabble-roster-channel.xml    |    2 +
 6 files changed, 33 insertions(+), 30 deletions(-)

commit 810e6b87891432580460e70af455aa20ed0095de
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Wed Aug 2 16:53:31 2006 +0000

    do_xml.sh, do_src.sh: run under Python 2.4, and stop on errors
    
    
    20060802165331-53eee-2bae8c2c757184e1597712f6d4884c02b70a8113.gz

 generate/do_src.sh |   27 ++++++++++++++++-----------
 generate/do_xml.sh |    9 +++++++--
 2 files changed, 23 insertions(+), 13 deletions(-)

commit 98403b7db18a5b7fbd0ee28410d8924a5d2e552c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Aug 4 11:25:54 2006 +0000

    make gabble_roster_handle_set_blocked a noisy no-op if we don't have google:roster
    
    
    20060804112554-418b8-9cb6cfb5d7d67c606f0f50057acacadba757c940.gz

 src/roster.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit a2d851dffd9667b6fafbb93dafc08f31e89f88f9
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Fri Aug 4 11:03:06 2006 +0000

    gr:t uses capital B
    
    
    20060804110306-418b8-5961161d2e419c2095a0d122b13a96ca90f50b4b.gz

 src/roster.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit d659879777741ef88fd5b4be49e1b97e8a785de6
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Aug 3 19:52:14 2006 +0000

    avoid dumping roster items if roster debugging is disabled
    
    
    20060803195214-418b8-31de714ec14f9c1459dd39abe1e814748b0b28ad.gz

 src/roster.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 0a96af7a4e2043bdcf9b70595d63512ec7fa76a3
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Aug 3 19:51:39 2006 +0000

    allow handles to be added and removed from the block list channel to block/unblock
    
    
    20060803195139-418b8-793a002a8958ab8ea74546299214254f27eee2b8.gz

 src/gabble-roster-channel.c |   22 ++++++++++++++++++++++
 src/roster.c                |   34 ++++++++++++++++++++++++++++++++++
 src/roster.h                |    1 +
 3 files changed, 57 insertions(+), 0 deletions(-)

commit b9e143472e9f41732f64f5690e3e083eef9b0af3
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Aug 3 19:50:59 2006 +0000

    populate a block list channel based on the setting of the blocked flag in the roster items
    
    
    20060803195059-418b8-6dc71389ca518d2032514650f7913ef13e902efc.gz

 src/roster.c |   47 ++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 46 insertions(+), 1 deletions(-)

commit c65f04d6afd0c3633c9debed2afdce681b5f0dd4
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Aug 3 19:47:11 2006 +0000

    request google roster extensions if the server supports them, and parse/track blocking within the roster item structure
    
    
    20060803194711-418b8-24f8a15cc690409f69a573cff842448802784377.gz

 src/roster.c |   75 ++++++++++++++++++++++++++++++++++++++++++++-------------
 1 files changed, 58 insertions(+), 17 deletions(-)

commit 4fc36f9d07d0e030cf51c0d45068c5e3fd8b7a91
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   Thu Aug 3 19:46:15 2006 +0000

    add "block" list handle
    
    
    20060803194615-418b8-1b872ece6367549f1f10285ca91db35b612673cd.gz

 src/gabble-connection.c |    4 ++++
 src/handles.c           |   21 ++++++++++++++++++++-
 src/handles.h           |    1 +
 3 files changed, 25 insertions(+), 1 deletions(-)

commit e996df8fb59b8d8930a084bae432e45477d2530e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   Tue Aug 1 16:30:01 2006 +0000

    autofoo re-generated INSTALL
    
    
    20060801163001-53eee-86e8a973fd2abb1068c8a983f5550c9c2d43e51a.gz

 INSTALL |   16 ++++++++--------
 1 files changed, 8 insertions(+), 8 deletions(-)

commit cca6ffe329668ddf4c6787f2b754857c4de57b09
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue Aug 1 16:36:12 2006 +0000

    bump nano version
    
    
    20060801163612-b59df-e58e1a3c461990d1e9fa02f5ae820f21e0b8871a.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2f7985d047aed906158373d2e96010994d604b8b
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu Jul 27 15:55:19 2006 +0000

    remove extra DEBUG definition
    
    
    20060727155519-b59df-e33a982c489733bcd6cb2fa5d5b191dcedee3908.gz

 src/debug.h |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 5102bf84b4f54a0fddf2038b77588749fe85c62c
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu Jul 27 14:49:13 2006 +0000

    rename DEBUG_FUNC to DEBUG
    
    
    20060727144913-b59df-59c185df63a70934707029fe91b40f452361bae3.gz

 src/debug.h                   |    5 +-
 src/disco.c                   |    6 +-
 src/gabble-connection.c       |  142 ++++++++++++++++++++--------------------
 src/gabble-im-channel.c       |    2 +-
 src/gabble-media-channel.c    |    8 +-
 src/gabble-media-session.c    |    6 +-
 src/gabble-media-stream.c     |    4 +-
 src/gabble-muc-channel.c      |   34 +++++-----
 src/gabble-presence-cache.c   |   12 ++--
 src/gabble-roomlist-channel.c |   12 ++--
 src/gabble-roster-channel.c   |    4 +-
 src/group-mixin.c             |   12 ++--
 src/im-factory.c              |   18 +++---
 src/jingle-info.c             |   14 ++--
 src/muc-factory.c             |   18 +++---
 src/properties-mixin.c        |    2 +-
 src/roster.c                  |   40 ++++++------
 src/text-mixin.c              |   16 ++--
 18 files changed, 176 insertions(+), 179 deletions(-)

commit e6bb895734caa351838c0810c80090b68ddeab52
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu Jul 27 14:47:22 2006 +0000

    replace remaining DEBUG calls with DEBUG_FUNC calls
    
    
    20060727144722-b59df-cdbbfe35113dfc9d05baf27b127aa4c091ae6050.gz

 src/gabble-connection.c     |    4 ++--
 src/gabble-media-session.c  |    4 ++--
 src/gabble-muc-channel.c    |    6 +++---
 src/gabble-presence-cache.c |    5 ++---
 4 files changed, 9 insertions(+), 10 deletions(-)

commit 66373ba873c0dfd4b9bea008a9896abdb4ebd926
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu Jul 27 14:44:42 2006 +0000

    convert a few DEBUG calls to DEBUG_FUNC calls
    
    
    20060727144442-b59df-5c0b5c3225cfeea99129950b4bdde472126b67db.gz

 src/gabble-connection.c |    5 ++---
 src/im-factory.c        |    2 +-
 src/muc-factory.c       |    2 +-
 3 files changed, 4 insertions(+), 5 deletions(-)

commit ae0a5fef4d1c28352b9ce3d0b4567c2b2d70131e
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu Jul 27 14:33:00 2006 +0000

    s/GABBLE_DEBUG_MEDIA_CHANNEL/GABBLE_DEBUG_MEDIA/
    
    
    20060727143300-b59df-9185321e0fd140b80dfd52fa64ec6ba3394adc5e.gz

 src/debug.c                |    2 +-
 src/debug.h                |    2 +-
 src/gabble-media-channel.c |    2 +-
 src/gabble-media-session.c |    2 +-
 src/gabble-media-stream.c  |    2 +-
 src/jingle-info.c          |    2 +-
 6 files changed, 6 insertions(+), 6 deletions(-)

commit 1940b8eb68dd5ef087e0c7efebe8238572a79f0d
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu Jul 27 14:25:34 2006 +0000

    set persist flag when GABBLE_PERSIST env var is set, for compatibility
    
    
    20060727142534-b59df-ab05f354d4863b2828b9c9bedbb543515a6aeea3.gz

 src/gabble.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 5687a41de2d5ec4badbd2ba82f21891cf5ef8078
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu Jul 27 14:25:14 2006 +0000

    use persist debug flag rather than env var for deciding whether to persist or not
    
    
    20060727142514-b59df-1a21f9e1fc3e4584588d161acace6fe738a1d6ff.gz

 src/gabble.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 11f2e70a4e57cc8a17d00ca600b08c2695fef4a8
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu Jul 27 14:24:04 2006 +0000

    add GABBLE_DEBUG_PERSIST
    
    
    20060727142404-b59df-4e36c777997a406e2dee603cb56eebeb5ebd50e6.gz

 src/debug.c |    1 +
 src/debug.h |    1 +
 2 files changed, 2 insertions(+), 0 deletions(-)

commit 828a6e3ce54dab333305286d4953f0912fd2f04b
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu Jul 27 14:21:25 2006 +0000

    do union rather than replace when setting debug flags
    
    
    20060727142125-b59df-ebd09bae0d63e406a331e1eedd4a344587fe5223.gz

 src/debug.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7b6c5fde57852e62019c30d46b9c137296620aea
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu Jul 27 14:19:54 2006 +0000

    add GabbleDebugFlags typedef
    
    
    20060727141954-b59df-5feb924b95bedeba1d5407e81c826bc7ed0c83b0.gz

 src/debug.c |    8 ++++----
 src/debug.h |   10 +++++-----
 2 files changed, 9 insertions(+), 9 deletions(-)

commit 3f36a9b80004a1d439c12f5e122eb862bc145120
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu Jul 27 14:12:49 2006 +0000

    replace BEGIN_DEBUG/END_DEBUG with if (DEBUGGING) ...
    
    
    20060727141249-b59df-442d18891dedf18484b563353f25ee4d3e4151f4.gz

 src/debug.h                |    6 +--
 src/gabble-media-session.c |  117 ++++++++++++++++++++++----------------------
 src/group-mixin.c          |   10 ++--
 src/properties-mixin.c     |   40 ++++++++--------
 4 files changed, 86 insertions(+), 87 deletions(-)

commit 455c9e9241ef457ef0e97b266ab72d74005ec9fd
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed Jul 26 15:58:10 2006 +0000

    wrap various things in BEGIN_DEBUG...END_DEBUG / #ifdef ENABLE_DEBUG
    
    
    20060726155810-b59df-de610e7afa4cbca0b8903547802132a621535383.gz

 src/gabble-media-session.c |    4 ++++
 src/gabble-media-session.h |    4 +++-
 src/properties-mixin.c     |   25 +++++++++++++++----------
 3 files changed, 22 insertions(+), 11 deletions(-)

commit b8b6162f1785e7970ea9968ed684ea8efa26e70d
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed Jul 26 15:57:55 2006 +0000

    whitespace
    
    
    20060726155755-b59df-4d084574a2fbd84f0e09e60919e0ed814a1fa791.gz

 src/debug.h |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 00a2c499b7c7f374e0ab1a8259ab8556c4b79c06
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed Jul 26 15:57:26 2006 +0000

    use GNU cpp comma-deletion extension for variadic debug macros
    
    
    20060726155726-b59df-67b2ebb12917da91800b692bb71449054084c379.gz

 src/debug.h |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 748a90d7e25e20a44c360a9bef848e462c886ed4
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed Jul 26 15:22:33 2006 +0000

    apply DEBUG_FUNC to more things
    
    
    20060726152233-b59df-e3ed60383aa553b145f2bbca510e0602f8c98155.gz

 src/disco.c                   |    8 ++--
 src/gabble-connection.c       |  109 +++++++++++++++++++----------------------
 src/gabble-im-channel.c       |    2 +-
 src/gabble-media-channel.c    |    6 +-
 src/gabble-media-session.c    |    2 +-
 src/gabble-media-stream.c     |    4 +-
 src/gabble-muc-channel.c      |   30 +++++------
 src/gabble-presence-cache.c   |   12 ++--
 src/gabble-roomlist-channel.c |    7 +--
 src/gabble-roster-channel.c   |    6 +--
 src/group-mixin.c             |   18 +++---
 src/im-factory.c              |   20 +++----
 src/jingle-info.c             |   23 ++++-----
 src/muc-factory.c             |   16 +++---
 src/properties-mixin.c        |   16 ++++--
 src/roster.c                  |   51 +++++++++----------
 src/text-mixin.c              |    9 ++--
 17 files changed, 163 insertions(+), 176 deletions(-)

commit 5d8cebd058714d6177de5de4b8feb79e61c77c21
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed Jul 26 15:05:28 2006 +0000

    add DEBUG_FUNC convenience macro and apply it
    
    
    20060726150528-b59df-d04d479c7d59556530dd240fdfe48f60a52c625f.gz

 src/debug.h                   |    5 +++
 src/gabble-connection.c       |   64 ++++++++++++++++++++--------------------
 src/gabble-media-channel.c    |    2 +-
 src/gabble-muc-channel.c      |    6 ++--
 src/gabble-presence-cache.c   |    2 +-
 src/gabble-roomlist-channel.c |    6 ++--
 src/group-mixin.c             |    2 +-
 src/jingle-info.c             |    2 +-
 src/muc-factory.c             |    2 +-
 src/properties-mixin.c        |    2 +-
 src/roster.c                  |    4 +-
 src/text-mixin.c              |    8 ++--
 12 files changed, 55 insertions(+), 50 deletions(-)

commit 07b398c4e9800cd6d4eb9cedc606ff867320df24
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed Jul 26 14:48:38 2006 +0000

    conditional debug code compilation; more debug facilities; replace HANDLER_DEBUG with NODE_DEBUG
    
    
    20060726144838-b59df-d33264b4c43fbb1f824d04841141e5a3475a8382.gz

 configure.ac                  |    8 ++
 src/debug.c                   |   18 +++-
 src/debug.h                   |   47 ++++++++++--
 src/gabble-connection.c       |  175 +++++++++++++++++++++--------------------
 src/gabble-connection.h       |    9 --
 src/gabble-im-channel.c       |    6 +-
 src/gabble-media-channel.c    |   12 ++-
 src/gabble-media-session.c    |   11 ++-
 src/gabble-media-session.h    |    4 +-
 src/gabble-media-stream.c     |    7 +-
 src/gabble-muc-channel.c      |   53 +++++++------
 src/gabble-presence-cache.c   |   16 ++--
 src/gabble-roomlist-channel.c |   17 +++--
 src/gabble-roster-channel.c   |    7 +-
 src/gabble.c                  |    2 +
 src/group-mixin.c             |   10 +--
 src/im-factory.c              |   32 +++++---
 src/jingle-info.c             |   22 +++---
 src/muc-factory.c             |   37 +++++----
 src/properties-mixin.c        |    5 +-
 src/roster.c                  |   18 ++--
 src/text-mixin.c              |   25 +++---
 22 files changed, 312 insertions(+), 229 deletions(-)

commit 80f92e7ed90ad1bce89f5ef90751393ffb366213
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed Jul 26 13:41:53 2006 +0000

    comment #endif for clarity
    
    
    20060726134153-b59df-5ff4bcd7cd4a411dfa691959e2a150f087ffe761.gz

 src/debug.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c91bb03c2788d54b1f9677a166a62154bb17678c
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed Jul 26 13:41:14 2006 +0000

    add properties debug facility
    
    
    20060726134114-b59df-f6b088c08d2a372a3d09287e977a2b6ca9d26578.gz

 src/debug.c |    9 +++++----
 src/debug.h |    9 +++++----
 2 files changed, 10 insertions(+), 8 deletions(-)

commit 0bc68b9e7812c39277fa97668cfa86b0e63f9213
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed Jul 26 13:40:28 2006 +0000

    remove unused GABBLE_DEBUG_ALL
    
    
    20060726134028-b59df-4f702713fe478be0ebc8fc611aad883203902e59.gz

 src/debug.h |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 3df02d6303a72730a1dbbbb9d4693d7f868c6fc5
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri Jul 21 16:32:51 2006 +0000

    beginning of environment-controllable debug messages
    
    
    20060721163251-b59df-f208341d711a6f781520c7eb1b5a90cc6b2f8651.gz

 src/Makefile.am             |    2 +
 src/debug.c                 |   51 +++++++++++++++++++++++
 src/debug.h                 |   34 +++++++++++++++
 src/disco.c                 |    9 +++-
 src/gabble-presence-cache.c |   28 +++++++------
 src/gabble.c                |    3 +
 src/group-mixin.c           |   95 +++++++++++++++++++++++--------------------
 src/roster.c                |   61 ++++++++++++++-------------
 8 files changed, 194 insertions(+), 89 deletions(-)

commit 6deb4315e64bdea0d84afe43a05e0077612ed0d4
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Jul 21 15:39:10 2006 +0000

    bump version to 0.3.0
    
    
    20060721153910-0e791-64203a51a45a6650225d4b7431af74536abb9514.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 94025d89d8f545857c6d012898aa3edd4a0fac83
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Jul 21 01:08:10 2006 +0000

    factor out lm_message_node_steal_children and properly reset the parent of all stolen child nodes
    
    
    20060721010810-0e791-f1645571f6d935ba49fbd2980861cc64852e2110.gz

 src/gabble-connection.c |    7 +------
 src/util.c              |   19 +++++++++++++++++++
 src/util.h              |    1 +
 3 files changed, 21 insertions(+), 6 deletions(-)

commit 88f8d5dd3966bee4239e1e6c9f98b9397e91b1bd
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Jul 19 15:42:33 2006 +0000

    check for NULL <priority> elements in incoming presence
    
    
    20060719154233-0e791-cf04b960e873ea7f1966414ff0a0f3972bc17192.gz

 src/gabble-presence-cache.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit c8098ec3d0e00622b266536d1d280c185f257d27
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Jul 19 15:23:51 2006 +0000

    fix potential crash when generating error replies to malformed IQs
    
    
    20060719152351-0e791-41ace2715847ca48eac30d2fcce0533b3a930532.gz

 src/gabble-connection.c |    9 ++++++---
 1 files changed, 6 insertions(+), 3 deletions(-)

commit fc22e8a02520e215384ae28eb2b12879ca51c764
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Jul 11 23:34:47 2006 +0000

    make g_strdiff handle identical inputs better
    
    
    20060711233447-0e791-0b28a3c0d8dd70a4691c42bbbab748832a661d9c.gz

 src/util.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 858f0b1aa9bfaf900b9ef2e89462e062770d0e82
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Jul 11 17:34:21 2006 +0000

    fix potential NULL strcmp in room config form parsing
    
    
    20060711173421-0e791-8ad6b9e9b5b70178d6208ffb89c7e1a75e6f1ed3.gz

 src/gabble-muc-channel.c |   16 ++++++----------
 src/namespaces.h         |    1 +
 2 files changed, 7 insertions(+), 10 deletions(-)

commit 1c06ff7f6875de50ff10c65c74ab0d88d05cab0c
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jul 10 18:55:31 2006 +0000

    fix possible NULL strcmp in MUC server discovery
    
    
    20060710185531-0e791-ec5adadc7ab123e8b019639e9c268d81d74e7a2b.gz

 src/gabble-connection.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 29992b52e1f5d1cf937afb9aff8cb861261a42b4
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jul 10 12:25:50 2006 +0000

    fix possible NULL-strcmp in roster IQ callback
    
    
    20060710122550-0e791-0ed63e202513e3dc3dfb2cd23150e4dc4a26e5e6.gz

 src/roster.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 623159e9db7042c6a6390222b62a83fc561c807b
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Jul 21 01:06:21 2006 +0000

    make InspectHandles method async to avoid strdups
    
    
    20060721010621-0e791-eac3126c766ee67f303bf80280093d0095ed7179.gz

 generate/xml-modified/gabble-connection.xml |    1 +
 src/gabble-connection.c                     |   51 +++++++++++++++------------
 src/gabble-connection.h                     |    2 +-
 3 files changed, 30 insertions(+), 24 deletions(-)

commit 395f4fc31d7b787e00ff1900b65ee04868829b9f
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Jul 21 00:31:07 2006 +0000

    preliminary patch to add InspectHandles method (back from the future (spec 0.13))
    
    
    20060721003107-0e791-a70d1a842d5be13038138de87f9190e35d8ec948.gz

 generate/xml-modified/gabble-connection.xml |    5 +++
 src/gabble-connection.c                     |   43 +++++++++++++++++++++++++++
 src/gabble-connection.h                     |    1 +
 3 files changed, 49 insertions(+), 0 deletions(-)

commit 85d52b4bf53541d4b2706096b59ffc550294a7bd
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jul 13 19:32:57 2006 +0000

    patch from Andre Magalhaes <andrunko@gmail.com> to fix leak of GroupMixin private data
    
    
    20060713193257-0e791-ff0a78ca4c98d0d672b7d4319064aa2eb6776a1b.gz

 src/group-mixin.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 99c13ca38df1112cd76fedfc2b9425140fdc6d36
Author:  <rob.taylor@collabora.co.uk>
Date:   Tue Jun 20 18:21:55 2006 +0000

    up version for release to 0.1.41
    
    
    20060620182155-25e70-639f9f6178d0bb3ade6e7e84fe4aca9edf743e9b.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 83968e0eb92a6025178ca55583fbfc8ce3c84686
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Jun 20 17:42:02 2006 +0000

    don't send accept action to the peer if the active candidate pair changes during a call
    
    
    20060620174202-0e791-48e445df2ca04b15d258ef16a8900dfd2f0362e4.gz

 src/gabble-media-session.c |    8 ++++++--
 1 files changed, 6 insertions(+), 2 deletions(-)

commit f2fa5168b49a317b69d7999a50f9f55906b83a67
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jun 19 17:40:52 2006 +0000

    remove duplicated g_object_set which causes crash on errors from initiate/accept IQs in Jingle calls
    
    
    20060619174052-0e791-398a7e1ae1c9d37ab74954249dc61cc7395cd779.gz

 src/gabble-media-session.h |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 67d271683aae31c19a7e5f8b68c80f9c05b1ef94
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Jun 16 15:53:50 2006 +0000

    bump version to 0.1.40
    
    
    20060616155350-0e791-ee09cba894e8c6186d32161015273b49d33484d3.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 1003aa6f8bb7399f35a330cff1d3e6e7fb13478d
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Jun 16 14:03:24 2006 +0000

    remove "room" from properties mixin debug
    
    
    20060616140324-0e791-42936d1c580e7d316588c923496d4185017a6767.gz

 src/properties-mixin.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 9d6a3afca28ff58ffbad1a919005fffe1d164b44
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jun 15 17:36:16 2006 +0000

    only send presence {un,}subscribe{,d} acks if they actually resulted in a change to our roster channels, avoiding looping on XMPP-ignorant servers (Hi there jabberd2!)
    
    
    20060615173616-0e791-8a9adf299a94b33d77610676ebc6c7efb47404e1.gz

 src/roster.c |   29 +++++++++++++++++++----------
 1 files changed, 19 insertions(+), 10 deletions(-)

commit c52458521b5db15390ba7393c50627a61d44c876
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jun 15 17:33:14 2006 +0000

    make gabble_group_mixin_change_members emit a boolean indicating whether anything has changed
    
    
    20060615173314-0e791-8b78b3522498a3946bd3af575b71cbedfc1eca48.gz

 src/group-mixin.c |    9 ++++++++-
 src/group-mixin.h |    2 +-
 2 files changed, 9 insertions(+), 2 deletions(-)

commit c4a5570b29e4602d8b863d025242c7e35d387761
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jun 15 17:24:50 2006 +0000

    use ansi.h in properties-mixin.c
    
    
    20060615172450-0e791-dc302b946c413e7c2eefc30a9090ff38eaf43ec8.gz

 src/properties-mixin.c |   11 +----------
 1 files changed, 1 insertions(+), 10 deletions(-)

commit 964cb5a97304eda8490880b314b426ab1a792f4a
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jun 15 11:53:15 2006 +0000

    bump version to 0.1.39
    
    
    20060615115315-0e791-4a2e3ce574fa78294e8cc432fa9071e2dc499626.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2f635a5065d11cd759eea723a13dc90dda6c3905
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Jun 14 17:44:29 2006 +0000

    fix broken MUC invites by emitting the READY signal from the code path where we make a channel when we're invited into a MUC, and make sure the MUC factory binds the signal and emits NewChannel
    
    
    20060614174429-0e791-10eec9993273df4d5ed00df3aefa942539690b92.gz

 src/gabble-muc-channel.c |    4 +++
 src/muc-factory.c        |   56 +++++++++++++++++++++++-----------------------
 2 files changed, 32 insertions(+), 28 deletions(-)

commit 84a30635e1b5ca7856ed599836f2e8b231451d3a
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Jun 14 02:17:07 2006 +0000

    only ReleaseName the bus name if we actually succeeded in acquiring it, fixes odd off-by-one asserts the 2nd time you try and reconnect a GabbleConnection that already exists...
    
    
    20060614021707-0e791-6ff40eb76fc0a7b20cf38c84edda81c3687e5a01.gz

 src/gabble-connection.c |   28 ++++++++++++++++++++--------
 1 files changed, 20 insertions(+), 8 deletions(-)

commit 97dcab8f5e7358498f61b989f5fb48691af46312
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon Jun 12 17:57:55 2006 +0000

    GabbleMucChannel: only emit the "ready" signal once
    
    
    20060612175755-50843-f0c548ec1183c1ac24c8114432f10837f8d2218e.gz

 src/gabble-muc-channel.c |    9 ++++++++-
 1 files changed, 8 insertions(+), 1 deletions(-)

commit 6948b8d1149c099add96014c7afa075f4518c8ca
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Jun 13 23:38:55 2006 +0000

    fix leaks of GHashTables and GPtrArray in room listing
    
    
    20060613233855-0e791-e8d50fe78fb60b11d6dc8d4725424014b0da29b2.gz

 src/gabble-roomlist-channel.c |   19 ++++++++++++-------
 1 files changed, 12 insertions(+), 7 deletions(-)

commit 055437eac931f6565598895fd188b9f827debe08
Author:  <dafydd.harries@collabora.co.uk>
Date:   Mon Jun 12 12:10:55 2006 +0000

    bump version to 0.1.38
    
    
    20060612121055-b59df-a4002242b8009e2014fe9edd7cf683f19c8a8bd5.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2e3caa093d2cddeb813493bbfcf1c69febc4a7c1
Author:  <dafydd.harries@collabora.co.uk>
Date:   Mon Jun 12 11:47:04 2006 +0000

    add missing signal detail parameter to send error emission
    
    
    20060612114704-b59df-fcdfbb2e280c436be9ed9c04c22cd445db93cae6.gz

 src/text-mixin.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f9fceadf597f4cf8d73c32c21390f8107fb33b77
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Jun 9 14:23:17 2006 +0000

    bump version to 0.1.37
    
    
    20060609142317-0e791-51d2147cd01adcd40d13bb7f06459a1135f9ca78.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f50fe5e72403dba13162a535600da19af9411c85
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Jun 9 10:18:45 2006 +0000

    fix crash when receiving calls from invisible/offline people (bogus g_assert of presence)
    
    
    20060609101845-0e791-d872e1d3100303767305fa459b9464c9cf3bdad6.gz

 src/gabble-media-session.c |   13 ++++++++-----
 1 files changed, 8 insertions(+), 5 deletions(-)

commit 2a9b30a9580f37eadf2005937b6121e3d727fc94
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Jun 9 10:18:11 2006 +0000

    fix bogus g_free of GErrors when looking for existing media channels
    
    
    20060609101811-0e791-6e074f8fcbf12f2f064ececd0574573adbae3e58.gz

 src/gabble-connection.c |   14 ++++++++------
 1 files changed, 8 insertions(+), 6 deletions(-)

commit 9aac58db1148e8b99be9b4b9155797e38e0323dd
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jun 8 19:35:02 2006 +0000

    bump version to 0.1.36
    
    
    20060608193502-0e791-7314bf4a2730fd768bffebcd940a81c9abd104f7.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2633016aba501b5bc2046c13142436f9c427b7c8
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jun 8 19:07:40 2006 +0000

    make MUC properties code not g_assert on wrong network input
    
    
    20060608190740-0e791-e8d7db238912dfc162cde587027bbdd6a1b6a124.gz

 src/gabble-muc-channel.c |   15 ++++++++-------
 1 files changed, 8 insertions(+), 7 deletions(-)

commit f5ca9973691cba16ac67851c539e19e0234a0e2c
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jun 8 19:06:14 2006 +0000

    add some debug to making changes on roster channels
    
    
    20060608190614-0e791-46cb60ff76fc9104a354561618af3dbc598b9126.gz

 src/gabble-roster-channel.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit b32474393ede82aed30f77d706c5464f79b5cc2d
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jun 8 19:03:55 2006 +0000

    send our presence to the server before we go on-line, otherwise servers might be confused into not sending us subscription requests when we request the roster
    
    
    20060608190355-0e791-53b23f14c22a536f34785de9b64f4111c1ca2f92.gz

 src/gabble-connection.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 37c65bffac1d8e0faa214228cd2f80a58b9929fe
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jun 8 17:21:18 2006 +0000

    fix roster item changes to use iq type=set, fixes deletion and alias changes
    
    
    20060608172118-0e791-6a4b356c82f69ea561370507db52375f83b579f3.gz

 src/roster.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit bd4023eae1a3738989a830bd9e575fc1a04e7668
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu Jun 8 07:44:39 2006 +0000

    MUC: return immediately from properties_disco_cb if an error occured, instead of accessing arguments that may be NULL in such an event, fixing a crash.
    
    
    20060608074439-50843-1fc01f6913317194bc10c163ee84326b621530d3.gz

 src/gabble-muc-channel.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 42ce1e5a4bb88c4c008474837d3f6ccfe13eb574
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed Jun 7 12:58:50 2006 +0000

    MUC: queue channel requests and return Channel.{Banned,Full,InviteOnly} errors as appropriate, and retry up with appended underscore up to 3 times when nickname is already used in channel.
    
    
    20060607125850-50843-2327708e9d9acde9e8c58001e0e8b8d3d5243c0e.gz

 src/Makefile.am                                   |    6 +-
 src/gabble-connection.c                           |  112 ++++++++++++++++----
 src/gabble-muc-channel-signals-marshal.list       |    6 +-
 src/gabble-muc-channel.c                          |  119 +++++++++++++++++---
 src/muc-factory.c                                 |   32 +++++-
 src/tp-channel-factory-iface-signals-marshal.list |    1 +
 src/tp-channel-factory-iface.c                    |    9 ++
 7 files changed, 236 insertions(+), 49 deletions(-)

commit b9eec6227ab87274ffaaa76c6db1ba44cb8229b4
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed Jun 7 12:58:20 2006 +0000

    add tests/test-gabble-presence to _boring
    
    
    20060607125820-50843-cafc6941903a1fd387d26a17ccd6fbc68ed30fdb.gz

 _boring |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit da7a1b07dfcd4f5e866693337d5fcab2297cacb8
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Jun 7 14:58:54 2006 +0000

    fix const qualifiers which prevent the text error signal stuff from building
    
    
    20060607145854-0e791-a1325837786719e889e5acb403d34199fec16d90.gz

 src/im-factory.c  |    4 ++--
 src/muc-factory.c |    4 ++--
 src/text-mixin.c  |    3 +--
 src/text-mixin.h  |    2 +-
 4 files changed, 6 insertions(+), 7 deletions(-)

commit 4ab2995bca0aefc52019f430edd078cebe81225b
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue Jun 6 16:15:45 2006 +0000

    don't create new channels when the incoming message has an error
    
    
    20060606161545-b59df-bf12f66e1f6dbe7cd0920f24abcaddca332bf4d5.gz

 src/im-factory.c  |    7 +++++++
 src/muc-factory.c |    8 ++++++++
 2 files changed, 15 insertions(+), 0 deletions(-)

commit 02acffaa2e4a560763148d7042d1443db62611a3
Author:  <senko@senko.net>
Date:   Tue Jun 6 12:02:12 2006 +0000

    logic for detecting send errors and emitting SendError signal
    
    
    20060606120212-59d1d-ec8b4ac224db54c2d327c0ddeea3c56268a3ccdb.gz

 src/im-factory.c  |   10 +++++++-
 src/muc-factory.c |   10 +++++++-
 src/text-mixin.c  |   62 ++++++++++++++++++++++++++++++++++++++++++++++++++++-
 src/text-mixin.h  |   14 +++++++++++-
 4 files changed, 92 insertions(+), 4 deletions(-)

commit fbe3ebc71b2682e0748ef9ce91166bab66d6ce25
Author:  <senko@senko.net>
Date:   Wed May 31 00:04:34 2006 +0000

    LostMessage emitting in text-mixin.c
    
    
    20060531000434-59d1d-856843ae8c81f043ef5c0e66860c5448e0ba0f2a.gz

 src/text-mixin.c |   18 ++++++++++++++----
 src/text-mixin.h |    1 +
 2 files changed, 15 insertions(+), 4 deletions(-)

commit 5f79dfdb96f02aacc1bd596e09ab1af1e4ffe64f
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue Jun 6 15:34:37 2006 +0000

    replace Makefile dependency with Makefile.in dependency for enumtypes generated files
    
    
    20060606153437-b59df-79e8144e93eb3f10f19d46f2cc00ada1b6c613cf.gz

 src/Makefile.am |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 5f6cd7466cafa16aea96bbc5e69942d0d2ba8675
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue Jun 6 15:34:12 2006 +0000

    remove dependency on Makefile for generated files that don't need it
    
    
    20060606153412-b59df-8e66ccaefc7b595fd2266be5b967cf1acc77a226.gz

 src/Makefile.am |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit b778b172fb6a5188e249e0d596ab16130cef2ff5
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue Jun 6 15:00:51 2006 +0000

    include ansi.h in distributed sources
    
    
    20060606150051-b59df-a15d9c334c1de390a32afea66a47d92c820d9736.gz

 src/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 319b8324757d3afe930ca0570b8c36fae7ffd8fc
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jun 5 13:30:26 2006 +0000

    add missing handler unregister in presence cache
    
    
    20060605133026-0e791-8d16479ec830e6d95cea1107cea4fd91b7fcd572.gz

 src/gabble-presence-cache.c |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit 74ce41d9b3ef067d00899899b295b1a6fb00957b
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jun 5 10:04:13 2006 +0000

    add a connecting method to TpChannelFactoryIface, and only hook up callbacks at CONNECTING, so that if we fail before that, our assertion that there our no callbacks at dispose time is correct
    
    
    20060605100413-0e791-001d77f49a4811dbd68c4f8f34fa829ebd986a70.gz

 src/gabble-connection.c        |  181 ++++++++++++++++++++++++---------------
 src/gabble-presence-cache.c    |   54 ++++++------
 src/im-factory.c               |   43 ++++++----
 src/muc-factory.c              |   66 ++++++++-------
 src/roster.c                   |   77 +++++++++--------
 src/tp-channel-factory-iface.c |    6 ++
 src/tp-channel-factory-iface.h |    2 +
 7 files changed, 250 insertions(+), 179 deletions(-)

commit 82ae8b1ee73bf9e31bcc81ef728ba466c7f9bc1f
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Jun 2 18:51:56 2006 +0000

    bump version to 0.1.35
    
    
    20060602185156-0e791-5dfb9e5a41571cfe538a3fb5953096e6a3368e91.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit cfbbb5f480ce9c435e9c4a51a61a21bb2a0eb890
Author:  <dafydd.harries@collabora.co.uk>
Date:   Mon Jun 5 14:13:38 2006 +0000

    check return value of _lm_message_iq_make_result
    
    
    20060605141338-b59df-9f9f93484e14afed381c55af68743342b1c19428.gz

 src/gabble-connection.c |    8 ++++++--
 1 files changed, 6 insertions(+), 2 deletions(-)

commit e83e3c08e9e39500d7874fe8b66c52b3e26ea9b2
Author:  <dafydd.harries@collabora.co.uk>
Date:   Mon Jun 5 13:45:37 2006 +0000

    replace _send_iq_result with _acknowledge_set_iq; make _send_iq_error take message rather than node
    
    
    20060605134537-b59df-03f4361bc3b5cda67715c576b5b44e6930854d8f.gz

 src/gabble-connection.c    |   37 +++++++++++++++----------------------
 src/gabble-connection.h    |    4 ++--
 src/gabble-media-session.c |    4 ++--
 src/gabble-media-stream.c  |    8 ++++----
 src/jingle-info.c          |    2 +-
 src/roster.c               |    2 +-
 6 files changed, 25 insertions(+), 32 deletions(-)

commit 2e4c3ae0e2e2268c302ced299f007ad8da4ee1ae
Author:  <dafydd.harries@collabora.co.uk>
Date:   Mon Jun 5 13:44:08 2006 +0000

    make Jingle handler add <query> to IQ responses
    
    
    20060605134408-b59df-530f956b05076b45658f1c012570df79e2c8ed71.gz

 src/gabble-connection.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 246ee2f47e45e2dfb0f7ab65da11e0f83c70b01e
Author:  <dafydd.harries@collabora.co.uk>
Date:   Mon Jun 5 13:34:15 2006 +0000

    don't automatically add <query> node to IQ responses
    
    
    20060605133415-b59df-50dd67f4607a75c5705365e539f79f5121f45ec4.gz

 src/gabble-connection.c |   13 ++-----------
 1 files changed, 2 insertions(+), 11 deletions(-)

commit 096065aeec36ccba9956958708dd644733e18c35
Author:  <dafydd.harries@collabora.co.uk>
Date:   Mon Jun 5 13:31:07 2006 +0000

    allow acking IQs with no from JID -- they come from the server
    
    
    20060605133107-b59df-d434fb969c93de1e606302723f677b05b8033a52.gz

 src/gabble-connection.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 501c287f8a88e316483b939f6519c9dd4b8568ea
Author:  <dafydd.harries@collabora.co.uk>
Date:   Mon Jun 5 13:30:17 2006 +0000

    don't ack IQs with no ID
    
    
    20060605133017-b59df-038e3a935b3071aaed8f5eae95d7b6fd78d52888.gz

 src/gabble-connection.c |   11 +++++++++--
 1 files changed, 9 insertions(+), 2 deletions(-)

commit 4ce45a2521eaff366cb1750dd587aabe850de3f1
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sat Jun 3 05:04:59 2006 +0000

    make Jingle session handling code pass messages rather than nodes around
    
    
    20060603050459-b59df-4c49d5971dbf40cdd4693da9febad7488fdbe371.gz

 src/gabble-connection.c    |    2 +-
 src/gabble-media-channel.c |    4 ++--
 src/gabble-media-channel.h |    2 +-
 src/gabble-media-session.c |   12 +++++++-----
 src/gabble-media-session.h |    2 +-
 src/gabble-media-stream.c  |   12 ++++++------
 src/gabble-media-stream.h  |    4 ++--
 7 files changed, 20 insertions(+), 18 deletions(-)

commit 27639d68d59c38dae3fc1e0b9717521a7da2a91d
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri Jun 2 20:38:44 2006 +0000

    don't use strcmp to check Jingle iq subtype is "set"
    
    
    20060602203844-b59df-81c66c29f8c4a0224ad03e31239cf61ebe8f5107.gz

 src/gabble-connection.c |   13 +++----------
 1 files changed, 3 insertions(+), 10 deletions(-)

commit 3629233a1f4eb0cbbb95e706476157f4b8c12df4
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Jun 2 18:31:22 2006 +0000

    add the aliasing interface to GetInterfaces
    
    
    20060602183122-0e791-c271cc23bcfa445d7a1dc2c89f701a9d04fccece.gz

 src/gabble-connection.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit bd981299586fe8c757077cbe18aaf82414227fd6
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Jun 2 17:23:51 2006 +0000

    bump version to 0.1.34
    
    
    20060602172351-0e791-7d7699461adaaf9dc5d90b707f5086e4a9a115a4.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 658a0c7978f4cd555aad18e2db9a1f638b5d5559
Author:  <rob.taylor@collabora.co.uk>
Date:   Fri Jun 2 15:18:27 2006 +0000

    clean up destruct order of mediachannel/session
    
    
    20060602151827-25e70-64d0e23f9ff71c6e6bbe549a36a029230126df84.gz

 src/gabble-media-channel.c |   11 +++++++----
 1 files changed, 7 insertions(+), 4 deletions(-)

commit 13cf9e0bf790e75c019dfadb8e5b04267b1f59ca
Author:  <rob.taylor@collabora.co.uk>
Date:   Thu Jun 1 19:21:15 2006 +0000

    add handling for "known" list channel in gabble_connection_request_handle
    
    
    20060601192115-25e70-19e7f411113842f4b3b900c3360135e7cb81f93f.gz

 src/gabble-connection.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit e0004ff8b71e800772344ec371459babc4dcf332
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jun 1 01:06:24 2006 +0000

    bump version to 0.1.33
    
    
    20060601010624-0e791-da9d57d243871a4e4eaafbc2ac1ae95010c441b5.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 5b77d7f65e7605686f44d3d3af9aebda2875d9ab
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jun 1 00:54:05 2006 +0000

    when setting native_codecs, copy the bus-owned value in both instances
    
    
    20060601005405-0e791-971b845435c0d24dd195482f95b210d03baafb41.gz

 src/gabble-media-stream.c |    7 ++-----
 1 files changed, 2 insertions(+), 5 deletions(-)

commit fba98180a83e9febfac7eeeff87d3294c4105510
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jun 1 00:02:58 2006 +0000

    avoid "unknown property" error by ignoring writes to the handle property on media and roomlist channels
    
    
    20060601000258-0e791-c855b48b23af0de86693f4e797c5cc9be617d7ac.gz

 src/gabble-media-channel.c    |    4 ++++
 src/gabble-roomlist-channel.c |    4 ++++
 2 files changed, 8 insertions(+), 0 deletions(-)

commit 6ba54311ab1a569a6e85854da5a4583511548711
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 31 21:25:22 2006 +0000

    remove errant ; which causes odd errors from the request aliases function
    
    
    20060531212522-0e791-abef63c93c76fed13e4bf663d69c5ffadd24a09e.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f3d28fbfaf23f66a787b3389269f25549e3222ff
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 31 15:37:43 2006 +0000

    register the IM <message> callback at a lower priority than the MUC one so MUC messages go to MUC channels...
    
    
    20060531153743-0e791-121c8b81e4a86784b058c241449fe3c294cdedba.gz

 src/im-factory.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 17fa8c5bcb3b57ee0f1475fbd97baabf9c591a1c
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 31 15:24:32 2006 +0000

    don't crash if we receive malformed room listing fields
    
    
    20060531152432-0e791-278acc4d54accc28e6bcbcb5a2aeb93fd92be9d1.gz

 src/gabble-roomlist-channel.c |    9 ++++++++-
 1 files changed, 8 insertions(+), 1 deletions(-)

commit 1b28b494639d7fc092721e64e1fecf43a153fa3e
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 31 14:56:41 2006 +0000

    fix the presence update function strcmping a free'd value, add comments
    
    
    20060531145641-0e791-a6716c4bc7e5fb0498d5cdff4185cd3e7ec13433.gz

 src/gabble-presence.c |   46 +++++++++++++++++++++++++---------------------
 1 files changed, 25 insertions(+), 21 deletions(-)

commit c4589c14eb190ac5619dbf35a7be8160fc2b6cf9
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 31 14:54:56 2006 +0000

    add copyright headers to gabble-presence{,-cache}.{c,h}
    
    
    20060531145456-0e791-4a7f37364d18e7e95d7fa981025dcb51b6fdd7e5.gz

 src/gabble-presence-cache.c |   19 +++++++++++++++++++
 src/gabble-presence-cache.h |   19 +++++++++++++++++++
 src/gabble-presence.c       |   19 +++++++++++++++++++
 src/gabble-presence.h       |   20 ++++++++++++++++++++
 4 files changed, 77 insertions(+), 0 deletions(-)

commit e35c95a205b4f50301d718984673a794bf977ec0
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 31 14:51:33 2006 +0000

    add missing gabble-types.h to util.h
    
    
    20060531145133-0e791-65ca02061977a3988948f30f0785b46cb87cbd4a.gz

 src/util.h |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 1a93608552bb1fc092d0cf358058bff32a9731ca
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 31 14:46:43 2006 +0000

    advertise properties interface, don't advertise caps or contact info
    
    
    20060531144643-0e791-480749bec5541d1c75b0615c51241d55971c1fad.gz

 src/gabble-connection.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 78369331f0883004b205e5dbc43f4503f91a4b07
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed May 31 15:57:02 2006 +0000

    don't select resources by capability if priority is negative; add test for same
    
    
    20060531155702-b59df-09a7e7b659f77ba8aa235ea13f810e5b062a07e2.gz

 src/gabble-presence.c        |    3 ++-
 tests/test-gabble-presence.c |   14 ++++++++++++++
 2 files changed, 16 insertions(+), 1 deletions(-)

commit 7d69842e2544b19304868bcb5f0f2911dc2f151e
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed May 31 15:50:35 2006 +0000

    make _pick_resource_by_caps not segfault when there are no resources; add test for same
    
    
    20060531155035-b59df-0aba443e18991fc6ee4690eff18715b91fe07d26.gz

 src/gabble-presence.c        |    5 ++++-
 tests/test-gabble-presence.c |    5 +++++
 2 files changed, 9 insertions(+), 1 deletions(-)

commit de011e5abdea4c484c9037a979949e73c0d9a7f1
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed May 31 15:31:03 2006 +0000

    add test suite for GabblePresence and make resource selection not dependent on ordering (priority less important than status)
    
    
    20060531153103-b59df-1f81aaebe867839264b6edc2358a72b2e156eb1c.gz

 src/gabble-presence.c        |    4 +-
 tests/Makefile.am            |   13 +++++++++-
 tests/test-gabble-presence.c |   56 ++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 70 insertions(+), 3 deletions(-)

commit afab00fc09d4f9064736d0e3a1e11866e1d9b42d
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri May 26 16:47:09 2006 +0000

    don't assume that disco responses contain a query node
    
    
    20060526164709-b59df-ba142d5a2ec8efffffddc2381e1034c7ceff8ff3.gz

 src/disco.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 9eb94918c2be7dce28813d8cddfc69437c547451
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri May 26 16:46:25 2006 +0000

    resolve merge conflict in disco callback
    
    
    20060526164625-b59df-af8dc8e5e04030865038dfa579820f29322b12f9.gz

 src/disco.c |    7 -------
 1 files changed, 0 insertions(+), 7 deletions(-)

commit 81b3525d5a325f84d38ac27d8b92436d341bf76b
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri May 26 16:27:03 2006 +0000

    make disco reply callback return the correct node
    
    
    20060526162703-b59df-fe9b81712b9234b9ab7612311b6b1cacf3ae1567.gz

 src/disco.c |    9 ++-------
 1 files changed, 2 insertions(+), 7 deletions(-)

commit 5d991dc04b288678252587d7778b1d041796609a
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu May 25 14:45:08 2006 +0000

    don't try to get attribute from non-existant node when examining disco replies
    
    
    20060525144508-b59df-5e2698e9ecbc14a75afb8adf669310aa702a61eb.gz

 src/disco.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 6851b357ae212eeffc6917c97207261477e27921
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 30 17:34:07 2006 +0000

    send our own nickname on muc/im/subscription messages when appropriate
    
    
    20060530173407-b59df-3d3e9667f965cfc9098b178f0363048fb004cdc8.gz

 src/gabble-im-channel.c     |   10 ++++++++--
 src/gabble-muc-channel.c    |    6 +++++-
 src/gabble-roster-channel.c |    4 ++++
 src/text-mixin.c            |   20 ++++++++++++++++----
 src/text-mixin.h            |    3 ++-
 src/util.c                  |   20 +++++++++++++++++++-
 src/util.h                  |    1 +
 7 files changed, 55 insertions(+), 9 deletions(-)

commit 1afc107533afa60d6c694aa71c01320be612b1ed
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu May 25 09:58:20 2006 +0000

    fix signal nubbishness
    
    
    20060525095820-b59df-6cb4ef6c83dedc990c5410098eacee8b95bc2ab4.gz

 src/gabble-presence-cache.c |    8 ++++----
 src/gabble-presence-cache.h |    2 --
 2 files changed, 4 insertions(+), 6 deletions(-)

commit 22c249d3b3d356d52b8b365ad197d88957e174d1
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 30 18:30:37 2006 +0000

    removing people from the known list should remove the from the roster
    
    
    20060530183037-0e791-2607933bb6b1c3f9acce1ae2eaf0bae75187de0c.gz

 src/gabble-roster-channel.c |    6 ++++++
 src/roster.c                |   38 +++++++++++++++++++++++++++++++++++---
 src/roster.h                |    1 +
 3 files changed, 42 insertions(+), 3 deletions(-)

commit 8a59706bcf52becf6f78052dfb8e6b1c3a0481ea
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 30 18:20:11 2006 +0000

    populate known channel with all roster items
    
    
    20060530182011-0e791-93fb7497f559bde4bcac19be50ec8ffdee4f9bcf.gz

 src/gabble-roster-channel.c |    6 +++++
 src/roster.c                |   51 +++++++++++++++++++++++++-----------------
 2 files changed, 36 insertions(+), 21 deletions(-)

commit e156c0190e5040ea1f330a61a97bdf6e9bda7c11
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 30 18:19:50 2006 +0000

    add a "known" list handle
    
    
    20060530181950-0e791-df2d6162ec57cc9ad31caad7b0d9477f38357161.gz

 src/handles.c |   22 +++++++++++++++++++++-
 src/handles.h |    2 +-
 2 files changed, 22 insertions(+), 2 deletions(-)

commit be8ee273839f72d4580fffb4cf27baf9c7a95dff
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 30 16:22:54 2006 +0000

    bump version to 0.1.32
    
    
    20060530162254-0e791-a8e7d5532ddff2cf8be95516c0aa2875b7dacbdf.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c39e8f86b070b0bd140136bbc2fbbfd9c9eec61b
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 30 15:56:12 2006 +0000

    make a single static instance of GabbleAllocator rather than mallocing one, freeing it, and then continuing to use it...
    
    
    20060530155612-0e791-64704f8cfe1155f822c88dfdf6a7fd5e89ebcb68.gz

 src/text-mixin.c |   28 +++++++---------------------
 1 files changed, 7 insertions(+), 21 deletions(-)

commit f8adf352378b1769e2f36628b4c28cef6e2f12ca
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 30 15:55:44 2006 +0000

    fix removal of a dead timeout source, causing asserts or other possible misbehaviour
    
    
    20060530155544-0e791-f5b8db332b4518e7064f1f06d214ef4b30a2fe95.gz

 src/gabble.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit cf6d40a77d1503045b6a1e7f29da3f1f1e49134d
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon May 29 22:05:45 2006 +0000

    new version 0.1.31
    
    
    20060529220545-25e70-4d379ee56931efda9f2ffde81053c47cf9299b85.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3d507ed9ac2b187506d97620879aba0b98d5db50
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon May 29 18:11:50 2006 +0000

    fix over-enthusiastic replacement of set_static with take... that actually *is* static
    
    
    20060529181150-0e791-d9ea3729200b5265b8db014dbcae3d197a9d22f9.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 898f98c9d3c45cc4a38af25e20a21943ed8116db
Author:  <dafydd.harries@collabora.co.uk>
Date:   Mon May 29 17:19:56 2006 +0000

    fix disco#info response logic
    
    
    20060529171956-b59df-31095d61b2848464ca0ba3f311c9ab4f64e50bfb.gz

 src/gabble-connection.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 36f3b101a71da724dca38f1f0d143af41b2ba4ab
Author:  <dafydd.harries@collabora.co.uk>
Date:   Mon May 29 17:19:40 2006 +0000

    declare get_features as explicitly taking (void)
    
    
    20060529171940-b59df-9dc3991abec65e5eec5f8c899c07de9b07968a2b.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2b5524edfa7c64d1f6a4dbea487b1ccb0e78707d
Author:  <dafydd.harries@collabora.co.uk>
Date:   Mon May 29 16:13:48 2006 +0000

    use g_strdiff for readability
    
    
    20060529161348-b59df-79ff279aef3f1a958b6c857a4c180f580740cdbc.gz

 src/gabble-connection.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit cf76b6bb98cc7af98d22a365d5a733d787703de2
Author:  <dafydd.harries@collabora.co.uk>
Date:   Mon May 29 16:12:41 2006 +0000

    make disco handler fall through in case of unknown node
    
    
    20060529161241-b59df-263d8af090c29c580884c531d02d412cb47ef85d.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b3c26adcfcb000b40b49c3925351af9fd42118c0
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon May 29 14:26:26 2006 +0000

    make GabbleRosterSubscription public, and change _is_subscribed to _get_subscription
    
    
    20060529142626-0e791-2718d45e91e4805b156294e2123db6e13009a81c.gz

 src/gabble-im-channel.c |    6 +++++-
 src/roster.c            |   34 ++++++++++------------------------
 src/roster.h            |   12 +++++++++++-
 3 files changed, 26 insertions(+), 26 deletions(-)

commit 7190791a2764a246d51398f96e7eabe9a7752169
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon May 29 13:04:11 2006 +0000

    rename gabble-disco.* to disco.*
    
    
    20060529130411-0e791-f43dabe404b00c855b6599abd6e1f0c2f787b632.gz

 src/Makefile.am               |    4 +-
 src/disco.c                   |  462 ++++++++++++++++++++++++++++++++++++++++
 src/disco.h                   |  101 +++++++++
 src/gabble-connection.c       |    2 +-
 src/gabble-disco.c            |  463 -----------------------------------------
 src/gabble-disco.h            |  101 ---------
 src/gabble-muc-channel.c      |    5 +-
 src/gabble-roomlist-channel.c |    6 +-
 src/muc-factory.c             |    2 +-
 9 files changed, 572 insertions(+), 574 deletions(-)

commit d9573f13007f7d899dd664b5cfe3776c348ebb8e
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri May 26 18:04:49 2006 +0000

    include version number in backtraces too
    
    
    20060526180449-0e791-51736985695baa1caf8628007425046bdad83cc2.gz

 src/gabble.c |   13 ++++++++++---
 1 files changed, 10 insertions(+), 3 deletions(-)

commit d4e3632ab31747e1985dccab54fd328a9b464a36
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri May 26 18:04:31 2006 +0000

    use VERSION from config.h instead of defining a new GABBLE_VERSION
    
    
    20060526180431-0e791-19c797bb8538088e820b422284aa2594ff024c07.gz

 src/Makefile.am         |    2 +-
 src/gabble-connection.c |    6 ++++--
 2 files changed, 5 insertions(+), 3 deletions(-)

commit 9b29f177ee95eebfa34dbe1a1d62e86632623b20
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri May 26 16:55:48 2006 +0000

    add SEGV handler to attempt a backtrace print
    
    
    20060526165548-0e791-f249ec32ed822cfc73fad47743a3cfea14650669.gz

 configure.ac |    4 ++++
 src/gabble.c |   27 +++++++++++++++++++++++++--
 2 files changed, 29 insertions(+), 2 deletions(-)

commit 7d18f0fdbe8dacc3fbee4e0cf5001335c56f10ab
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri May 26 16:33:45 2006 +0000

    make critical handler not cause any mallocs
    
    
    20060526163345-0e791-990937e7d5dfa5e46915b666137823307c6a3049.gz

 configure.ac |    2 +-
 src/gabble.c |   27 +++++++++------------------
 2 files changed, 10 insertions(+), 19 deletions(-)

commit 87f5bb30e509efbda02a245a290bb946ba56f43d
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri May 26 16:13:22 2006 +0000

    only enable backtrace printing when we have the functions
    
    
    20060526161322-0e791-d1c65136c5976c82cd68c38553a9cf2f47a060ca.gz

 configure.ac |    4 ++++
 src/gabble.c |    8 +++++++-
 2 files changed, 11 insertions(+), 1 deletions(-)

commit 008fb3fac2b8f03f80cf6485711f4b558e1051fc
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri May 26 16:06:29 2006 +0000

    tidy up gabble critical handling to use the default handler
    
    
    20060526160629-0e791-56cfe16d36c8c16a3260f2440762fd259b7f4cc6.gz

 src/gabble.c |   85 ++++++++++++++++++++++++++++++++++-----------------------
 1 files changed, 51 insertions(+), 34 deletions(-)

commit a5458fc2ab72f612733e286a2da2d605076490b5
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri May 26 15:14:34 2006 +0000

    include version number in initial output
    
    
    20060526151434-0e791-f5ae978be479255946ca6a21c447908b26a900cd.gz

 src/gabble.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 447359d3fbb34375cd7151fb81dc9382003146e4
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri May 26 15:12:40 2006 +0000

    add function to make intsets from arrays
    
    
    20060526151240-0e791-ec8189b0301c6a236a4e3b3e4ef50099f1ced88e.gz

 src/gintset.c       |   33 ++++++++++++++++++++++++++++++---
 src/gintset.h       |    9 +++++----
 tests/test-intset.c |   17 +++++++++++++++++
 3 files changed, 52 insertions(+), 7 deletions(-)

commit 3e0d5532781812c15ac8a37ea2a838863741f844
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu May 25 19:23:58 2006 +0000

    bump version to 0.1.30
    
    
    20060525192358-0e791-8b0841c9dddb9380d2ae7369e0fccba96a6dd55d.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit cec3b7232b761b724537c5d4847449cf850ecb29
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu May 25 19:16:03 2006 +0000

    merge conflicts (take instead of set_static on GValues)
    
    
    20060525191603-0e791-3edbb511134f82eec513435aa65ed50c13a0647b.gz

 generate/gabble.def      |    2 +-
 src/gabble-muc-channel.c |  190 +--------------------------------------------
 src/properties-mixin.c   |   12 ++--
 3 files changed, 12 insertions(+), 192 deletions(-)

commit 712bd1645e4ab03c117c46a022c9cebf56eccf1f
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu May 25 18:32:42 2006 +0000

    Remove NS_GOOGLE_JINGLE_INFO from gabble-connection.h and use the define in namespaces.h
    
    
    20060525183242-50843-e47a4fd11b827314c75a71c69b1ba9f5988e3d08.gz

 src/gabble-connection.h |    2 --
 src/jingle-info.c       |    1 +
 2 files changed, 1 insertions(+), 2 deletions(-)

commit f6c01fdc7aeb6f5f6706d7faf4ed445da3519c35
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu May 25 17:17:35 2006 +0000

    GabbleConnection: add missing Properties interface bits and pieces.
    
    
    20060525171735-50843-e34845c54bc998cd5dbcf225894b884270e9f16d.gz

 generate/gabble.def                                |    2 +-
 .../src/gabble-connection-signals-marshal.list     |    2 +
 generate/src/gabble-connection.c                   |   71 ++++++++++++++++++++
 generate/src/gabble-connection.h                   |    3 +
 generate/xml-modified/gabble-connection.xml        |   19 +++++
 generate/xml-pristine/gabble-connection.xml        |   18 +++++
 src/gabble-connection.c                            |   66 +++++++++++++++++-
 src/gabble-connection.h                            |    3 +
 src/properties-mixin.c                             |    4 +-
 9 files changed, 182 insertions(+), 6 deletions(-)

commit 71b98cc894473408b79a9d98a96e9b1df12c5cd3
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu May 25 16:51:07 2006 +0000

    query for jingle options when available.
    
    
    20060525165107-50843-05d669a5ff1532d84ee3aa6cf42422f906310685.gz

 src/Makefile.am         |    2 +
 src/gabble-connection.c |   18 ++++
 src/gabble-connection.h |    2 +
 src/jingle-info.c       |  243 +++++++++++++++++++++++++++++++++++++++++++++++
 src/jingle-info.h       |   34 +++++++
 5 files changed, 299 insertions(+), 0 deletions(-)

commit 92bf54a122ea94120d9498feda81a2a2aec7fefe
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu May 25 15:46:06 2006 +0000

    rename gabble-properties-mixin* to properties-mixin*
    
    
    20060525154606-0e791-66dfa16b7f3099db086fc369babb5e0b6ebc6408.gz

 src/Makefile.am                                  |    8 +-
 src/gabble-connection.h                          |    2 +-
 src/gabble-muc-channel.h                         |    2 +-
 src/gabble-properties-mixin-signals-marshal.list |    1 -
 src/gabble-properties-mixin.c                    |  785 ----------------------
 src/gabble-properties-mixin.h                    |  131 ----
 src/properties-mixin-signals-marshal.list        |    1 +
 src/properties-mixin.c                           |  785 ++++++++++++++++++++++
 src/properties-mixin.h                           |  131 ++++
 9 files changed, 923 insertions(+), 923 deletions(-)

commit 7fcbfcea2d9edab0121e141cc866401b9426716e
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu May 25 15:37:15 2006 +0000

    merge in rejects from properties mixin branch
    
    
    20060525153715-0e791-741a380a8d348ad7a2e9e4b0cafd00a23cc48f28.gz

 src/Makefile.am          |    8 ++--
 src/gabble-connection.c  |   18 ++++++++
 src/gabble-muc-channel.c |   98 +++++++++++++---------------------------------
 src/gabble-muc-channel.h |    8 +++-
 4 files changed, 56 insertions(+), 76 deletions(-)

commit 2e074d1b67f379a0b2ab179c6c8fea4c8f56efab
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon May 22 00:48:22 2006 +0000

    GabbleConnection: plug in the properties mixin
    
    
    20060522004822-50843-5d72543669296252bd164d884a62b9d3e3a1adf5.gz

 src/gabble-connection.c |   81 ++++++++++++++++++++++++++++++++++++++++++-----
 src/gabble-connection.h |    5 +++
 2 files changed, 78 insertions(+), 8 deletions(-)

commit 0f6504e57ec68a7e465aaa6404658dcc9e8cfc5a
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu May 11 18:59:31 2006 +0000

    GabblePropertiesMixin: make set_property return at once if the callback is NULL. added gabble_properties_mixin_has_property.
    
    
    20060511185931-50843-3b37491a909ffcec92eabbf481046df7c1fa9731.gz

 src/gabble-properties-mixin.c |   34 ++++++++++++++++++++++++++++++++--
 src/gabble-properties-mixin.h |    2 ++
 2 files changed, 34 insertions(+), 2 deletions(-)

commit 14c5756f9e0cf310aef98f7ec0b2ccb5cf02efd7
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed May 10 18:39:58 2006 +0000

    refactored GabbleMucChannel to use GabblePropertiesMixin
    
    
    20060510183958-50843-dc1d197b58885aa19e8ea12c1917252d5dc7c29e.gz

 src/gabble-muc-channel-signals-marshal.list |    3 -
 src/gabble-muc-channel.c                    |  643 ++++++++-------------------
 src/gabble-muc-channel.h                    |   29 +--
 3 files changed, 197 insertions(+), 478 deletions(-)

commit 9e8444e8c240824ff51c94c85fd155fb89a7e9df
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed May 10 18:38:45 2006 +0000

    GabbleGroupMixin: adjust copyright header in header file
    
    
    20060510183845-50843-0fa3992138b62365af9a6732979506cf039fbd60.gz

 src/group-mixin.h |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 938f2076e10193c0af4ddc9aa7551cf98697a7a4
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed May 10 18:35:41 2006 +0000

    GabblePropertiesMixin implementation
    
    
    20060510183541-50843-daea08643b5a86fce059830a2b28a7ef1cd43072.gz

 src/Makefile.am                                  |    4 +
 src/gabble-properties-mixin-signals-marshal.list |    1 +
 src/gabble-properties-mixin.c                    |  755 ++++++++++++++++++++++
 src/gabble-properties-mixin.h                    |  129 ++++
 4 files changed, 889 insertions(+), 0 deletions(-)

commit bc486a16d2bb3cfd7c43a9941d9c9d57acb97a91
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu May 25 19:06:46 2006 +0000

    avoid leaking GErrors if there are multiple problems setting aliases
    
    
    20060525190646-0e791-b67924e637fe8c725a55e374179b32ed744c2a4b.gz

 src/gabble-connection.c |   19 ++++++++++++++++++-
 1 files changed, 18 insertions(+), 1 deletions(-)

commit 8dc9f6da96d91babacc1eff42c96ecdec05bb32d
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu May 25 18:43:41 2006 +0000

    implement request aliases method
    
    
    20060525184341-0e791-4f8970a5d3e3a2904b0fcc1189d14ed2213fc197.gz

 src/gabble-connection.c |   25 +++++++++++++++++++++++++
 1 files changed, 25 insertions(+), 0 deletions(-)

commit aa7732d223003820da89b024adec583b8d9a8779
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu May 25 18:14:35 2006 +0000

    I prefer 'disco' to 'DISCO'
    
    
    20060525181435-0e791-d96ce99df3387f032bee071ce8cac10d32de6fd4.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 09aded144846e52c881426e3f90b3a7b54fc3873
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu May 25 18:13:04 2006 +0000

    reply to unknown IQs with service unavailable, as the RFC states, avoiding leaking our existence when we're invisible
    
    
    20060525181304-0e791-97f3ebca9b7928a61f9c0d70a91a4a1e85ad6728.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit cc59beba9867e5ade4147d53a1907890d135e31f
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu May 25 18:10:03 2006 +0000

    add initial aliasing support to gabble connection
    
    
    20060525181003-0e791-c21635ee618407c0f1f2d932b25b1ece223cb2e3.gz

 src/gabble-connection.c |  205 +++++++++++++++++++++++++++++++++++++++++++++--
 src/gabble-connection.h |   10 ++-
 2 files changed, 206 insertions(+), 9 deletions(-)

commit 192ff388bcc93954b57e5a803fbcb96d34ae7545
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu May 25 12:19:39 2006 +0000

    rename alias to name in roster functions
    
    
    20060525121939-0e791-5ae6b7fdbe912502003b8b21456b5b2ac4f268c2.gz

 src/roster.c |   12 ++++++------
 src/roster.h |    4 ++--
 2 files changed, 8 insertions(+), 8 deletions(-)

commit d4aa8f3bb38e8218f58d4dfd4f88a843b457ed8c
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu May 25 12:19:00 2006 +0000

    add NICKNAME_CHANGE signal to roster
    
    
    20060525121900-0e791-0a27d09d3fab6e4b4951297f3a71562f8c8197eb.gz

 src/roster.c |   31 +++++++++++++++++++++----------
 1 files changed, 21 insertions(+), 10 deletions(-)

commit efcfbe4ad9e3d84cbfbdab5f9e557441a10c943f
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu May 25 11:53:08 2006 +0000

    fix potential for confusion/memory leaks where g_value_set_{static_,}boxed is used instead of take_boxed
    
    
    20060525115308-0e791-12a28a33defb0dbd45dead6cdbb37cd5a3ea34c5.gz

 src/gabble-connection.c    |    6 +++---
 src/gabble-media-channel.c |    4 ++--
 src/gabble-media-stream.c  |   10 +++++-----
 src/gabble-muc-channel.c   |   12 ++++++------
 4 files changed, 16 insertions(+), 16 deletions(-)

commit 4ae73ceb0489ae6e6fa8c0c28bb8aaabace7f8b7
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 24 17:55:32 2006 +0000

    add get/set alias functions
    
    
    20060524175532-0e791-dd797c519c99cd660df5f1869697e9e7cfc828a6.gz

 src/roster.c |   86 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/roster.h |    2 +
 2 files changed, 88 insertions(+), 0 deletions(-)

commit 6e063ab7c0b6ab87c11df3498eb103f535629ce0
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 24 17:55:18 2006 +0000

    tweak roster function prototypes
    
    
    20060524175518-0e791-27bc3b1dbc883cea5d10c529e3687ee8593317c8.gz

 src/roster.c |   10 +++++++---
 1 files changed, 7 insertions(+), 3 deletions(-)

commit fe7d0d0acfc68e20a27dbbb0dcabdf04b5986773
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 24 17:53:21 2006 +0000

    cache roster items in a struct instead of message nodes
    
    
    20060524175321-0e791-714dff6a239b7ac1b2d2bae7fb8dc6faf7d3ad14.gz

 src/roster.c |  347 ++++++++++++++++++++++++++++++++++++++++++++--------------
 1 files changed, 267 insertions(+), 80 deletions(-)

commit 79b10a1b75d4b6ea455aaa2040a131cbe769014b
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 23 14:39:42 2006 +0000

    generate aliasing interface
    
    
    20060523143942-0e791-b6b6a435dd1a96424dd40600a17b91c16d21c9d5.gz

 generate/gabble.def                                |    2 +-
 .../src/gabble-connection-signals-marshal.list     |    1 +
 generate/src/gabble-connection.c                   |   64 ++++++++++++++++++++
 generate/src/gabble-connection.h                   |    3 +
 generate/xml-modified/gabble-connection.xml        |   15 +++++
 generate/xml-pristine/gabble-connection.xml        |   15 +++++
 src/gabble-connection-signals-marshal.list         |    1 +
 src/gabble-connection.c                            |   64 ++++++++++++++++++++
 src/gabble-connection.h                            |    3 +
 9 files changed, 167 insertions(+), 1 deletions(-)

commit 89c96c54a5cdd72f6db970069093bfc02ea95453
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu May 25 15:11:53 2006 +0000

    fix bad casting of int * to void **
    
    
    20060525151153-0e791-fe3f673b84686d5bb2e4b57e62e6ef1d39215012.gz

 src/group-mixin.c |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit a83a3bb199b14fdd68af92c33e01ef8c86472c94
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu May 25 14:33:42 2006 +0000

    MucFactory: don't set the non-existent "disco" property when creating the object.
    
    
    20060525143342-50843-56a87ed44c14a8583a0ff91f2a77f0e1e16a970b.gz

 src/muc-factory.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit fba6eea1f8acebe4f8aba4c31fe85e6c86747509
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu May 25 14:29:39 2006 +0000

    ChannelInterfaceGroup: Implement GetAllMembers and GetHandleOwners.
    
    
    20060525142939-50843-987d4dae4e892de882d21702b5cf729642fd3b27.gz

 generate/src/gabble-media-channel.c             |   36 ++++++
 generate/src/gabble-media-channel.h             |    2 +
 generate/src/gabble-muc-channel.c               |   36 ++++++
 generate/src/gabble-muc-channel.h               |    2 +
 generate/src/gabble-roster-channel.c            |   36 ++++++
 generate/src/gabble-roster-channel.h            |    2 +
 generate/xml-modified/gabble-media-channel.xml  |    9 ++
 generate/xml-modified/gabble-muc-channel.xml    |    9 ++
 generate/xml-modified/gabble-roster-channel.xml |    9 ++
 generate/xml-pristine/gabble-media-channel.xml  |    9 ++
 generate/xml-pristine/gabble-muc-channel.xml    |    9 ++
 generate/xml-pristine/gabble-roster-channel.xml |    9 ++
 src/gabble-media-channel.c                      |   36 ++++++
 src/gabble-media-channel.h                      |    2 +
 src/gabble-muc-channel.c                        |   58 +++++++++-
 src/gabble-muc-channel.h                        |    2 +
 src/gabble-roster-channel.c                     |   36 ++++++
 src/gabble-roster-channel.h                     |    2 +
 src/group-mixin.c                               |  140 +++++++++++++++++++++++
 src/group-mixin.h                               |    8 ++
 src/telepathy-constants.h                       |    3 +-
 21 files changed, 451 insertions(+), 4 deletions(-)

commit 558851bd214cf339013c5018a508301fe34c5c31
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu May 25 14:22:06 2006 +0000

    Implement ChannelTypeText.GetMessageTypes
    
    
    20060525142206-50843-57ea0b4f6e0da12547173b924a9a2b6a8260f378.gz

 generate/src/gabble-im-channel.c             |   18 +++++++++++
 generate/src/gabble-im-channel.h             |    1 +
 generate/src/gabble-muc-channel.c            |   18 +++++++++++
 generate/src/gabble-muc-channel.h            |    1 +
 generate/xml-modified/gabble-im-channel.xml  |    3 ++
 generate/xml-modified/gabble-muc-channel.xml |    3 ++
 generate/xml-pristine/gabble-im-channel.xml  |    3 ++
 generate/xml-pristine/gabble-muc-channel.xml |    3 ++
 src/gabble-im-channel.c                      |   27 ++++++++++++++++-
 src/gabble-im-channel.h                      |    1 +
 src/gabble-muc-channel.c                     |   23 ++++++++++++++
 src/gabble-muc-channel.h                     |    1 +
 src/text-mixin.c                             |   42 ++++++++++++++++++++++++--
 src/text-mixin.h                             |    4 ++
 14 files changed, 144 insertions(+), 4 deletions(-)

commit b022bdadb3037dfe101ff9f23250674af8fe5605
Author:  <rob.taylor@collabora.co.uk>
Date:   Wed May 24 20:10:25 2006 +0000

    truncate messages on utf8 character boundary
    
    
    20060524201025-25e70-a153d17b619a3d9dcd73cecfbd5b932267c9a24b.gz

 src/text-mixin.c |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit 674b2e6cbe1e77277691b09b07cff8d1d6578b0e
Author:  <rob.taylor@collabora.co.uk>
Date:   Wed May 24 20:09:41 2006 +0000

    emit status changed correctly for failure in connection open
    
    
    20060524200941-25e70-9ecc6f37d6b24e060d40c5449dbef59c3c6fbd2d.gz

 src/gabble-connection.c |   31 +++++++++++++++----------------
 1 files changed, 15 insertions(+), 16 deletions(-)

commit 0607eaa09118366fe37071a971c8ed93e97a7b88
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu May 25 09:38:27 2006 +0000

    lm_message_node_add_nick
    
    
    20060525093827-b59df-97e78cfc4614f4881ea81ec7b9f8fe824751e642.gz

 src/util.c |   11 +++++++++++
 src/util.h |    2 ++
 2 files changed, 13 insertions(+), 0 deletions(-)

commit b2b8f8c58b08af92c98f9c64296eec30ffac216a
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu May 25 08:23:36 2006 +0000

    unset keep_unavailable whenever we receive presence from somebody
    
    
    20060525082336-b59df-c23787e6c184de52273160e9db0d2f8c7f183a24.gz

 src/gabble-presence-cache.c |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit 2a557c2c76398dcad567dfb6ec4de16f1e42457e
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu May 25 07:02:59 2006 +0000

    grab nicknames after presence has been updated
    
    
    20060525070259-b59df-3278ce6c8794631739d4c90eae507865ad797087.gz

 src/gabble-presence-cache.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit d003c35f7cdc94800136e582b2661ac7fe76482d
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu May 25 07:01:41 2006 +0000

    set keep_unavailable each time we receive a <message>
    
    
    20060525070141-b59df-68a8c0c9db7443cb9d3ec4ab7bdc14b56f7c0e36.gz

 src/gabble-presence-cache.c |   14 ++++++++++----
 1 files changed, 10 insertions(+), 4 deletions(-)

commit cbedbab3907443984dab5954827a28faa21b1946
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed May 24 20:19:12 2006 +0000

    fold _parse_message into message callback
    
    
    20060524201912-b59df-256ae9785f7781907f1d39badc707a34e5891501.gz

 src/gabble-presence-cache.c |   37 +++++++++----------------------------
 1 files changed, 9 insertions(+), 28 deletions(-)

commit b517a7aa894835b0a92246320d70322f49b7c571
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed May 24 20:16:07 2006 +0000

    check namespace on <nick> node
    
    
    20060524201607-b59df-dec76d6fc24d1d3ef5ce5b77bdba9899ee08fe1c.gz

 src/gabble-presence-cache.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 470e53e4357b409cec28f85da255b7906fe8da9a
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed May 24 19:52:18 2006 +0000

    advertise NS_GOOGLE_VOICE rather than NS_GOOGLE_SESSION_*
    
    
    20060524195218-b59df-9a3752b7924013fbc5c898ea268ade05fb615492.gz

 src/gabble-connection.c |    4 +---
 src/namespaces.h        |    1 +
 2 files changed, 2 insertions(+), 3 deletions(-)

commit 5bce2926cd2156f37f0dd7d5774d0d748fdf2482
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed May 24 19:49:07 2006 +0000

    don't advertise roster cap
    
    
    20060524194907-b59df-3d57fea0b51fffaa7ac275053dbbbca84b2fa924.gz

 src/gabble-connection.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit ae8c8653ccfe5b41368064856b39e6100ee44e3f
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed May 24 13:43:11 2006 +0000

    create presence for people who only have nicknames
    
    
    20060524134311-b59df-73c68840af46de846962fae3355eae16dc3435ea.gz

 src/gabble-presence-cache.c |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit c220aaf37168cd193f39317d37d5064a05c4c578
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed May 24 13:36:24 2006 +0000

    factor out _cache_insert
    
    
    20060524133624-b59df-fcf5ba028d6cb673b2da43a650aa1bd6008ef177.gz

 src/gabble-presence-cache.c |   19 ++++++++++++++-----
 1 files changed, 14 insertions(+), 5 deletions(-)

commit 7ee9f8262db715b8d97abdbd20460e2599c0cf47
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed May 24 13:29:39 2006 +0000

    add gabble_presence_cache_maybe_remove to header file
    
    
    20060524132939-b59df-e134439c71f710603bc0b4ece316dfb3795b8597.gz

 src/gabble-presence-cache.h |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 51f652dd2d0f37f224278dc322158e8e3337b918
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed May 24 13:08:25 2006 +0000

    wrap function prototypes
    
    
    20060524130825-b59df-88d2b518b9f7e1a9c57857bcff984b62d9497c7a.gz

 src/gabble-presence-cache.h |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit 02704eb6241d787401ccc796e45be3a2d0e53063
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed May 24 13:07:06 2006 +0000

    fix IM channel compile failutre
    
    
    20060524130706-b59df-e338d147783e460698d2311b6607ba4648a4d131.gz

 src/gabble-im-channel.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit bd13ed17105681240374eac74c9d1d33f5cabbbf
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed May 24 13:04:34 2006 +0000

    wrap function prototypes
    
    
    20060524130434-b59df-f653ef8758e57d0a895692deb288274916f51616.gz

 src/gabble-presence-cache.c |   19 +++++++++++--------
 1 files changed, 11 insertions(+), 8 deletions(-)

commit 71701133852daceee7714c393c6afa559cd20744
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 23 17:47:02 2006 +0000

    unset keep_available flag on peer presence when IM channel is closed
    
    
    20060523174702-b59df-931c01aa83224c17bd8afdabe810c903a0b0195c.gz

 src/gabble-im-channel.c |   18 ++++++++++++++++++
 1 files changed, 18 insertions(+), 0 deletions(-)

commit c903e5f53b37eaea179d30c8753a80e155a0eb76
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 23 14:33:18 2006 +0000

    improve comment
    
    
    20060523143318-b59df-9bf170cbfb8f80297b390079a0aea339e62ebdf2.gz

 src/gabble-presence.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 7268ba03db24abb6cb6a81e54631c2e2acec2c2e
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 23 14:18:33 2006 +0000

    factor out removal of presence from the cache
    
    
    20060523141833-b59df-5c09a58aefb94159f0d893ee00b2a64d620b6544.gz

 src/gabble-presence-cache.c |   38 ++++++++++++++++++++++++++++++--------
 1 files changed, 30 insertions(+), 8 deletions(-)

commit bf4bef34b91275271b209aff86e4b1776ddbaf92
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 23 14:07:21 2006 +0000

    make nickname changes emit nickname-update rather than presence-update
    
    
    20060523140721-b59df-9c28b48906ebe7438778a0bce33f91a8a7809565.gz

 src/gabble-presence-cache.c |   10 +++++++++-
 src/gabble-presence-cache.h |    1 +
 2 files changed, 10 insertions(+), 1 deletions(-)

commit b9586872312d07ff30329060f3141b6e4e7b5e46
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 23 13:51:16 2006 +0000

    add keep_unavailable flag to GabblePresence
    
    
    20060523135116-b59df-628b9947f5d91fe586ee4ba4f9bdbcd483580a59.gz

 src/gabble-presence.h |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit c9485c045b02e3e2e58284d536e5267636b8677d
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 23 13:47:57 2006 +0000

    only set nickname when it's different, and emit signal when doing so
    
    
    20060523134757-b59df-b86d484d95464042f413f3eadeee8286cda28f90.gz

 src/gabble-presence-cache.c |   11 ++++++++---
 1 files changed, 8 insertions(+), 3 deletions(-)

commit a9df72da72d764e8938adafd5b7f1559a3958816
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 23 12:43:23 2006 +0000

    make _grab_nickname take from arg for debugging goodness
    
    
    20060523124323-b59df-3698c0ed1bb88ec0a0c31b5998410fa6992272f1.gz

 src/gabble-presence-cache.c |   11 ++++++++---
 1 files changed, 8 insertions(+), 3 deletions(-)

commit a2dbc78b22a8b26c1a68f207ed4e335f329a23fb
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 23 12:30:39 2006 +0000

    add <message> handler to presence cache that grabs nicknames
    
    
    20060523123039-b59df-667f5ebe7faa5580bf6707cd98c6b4891cc87e3b.gz

 src/gabble-presence-cache.c |   22 +++++++++++++++++++++-
 1 files changed, 21 insertions(+), 1 deletions(-)

commit 94e6aea7f0cfb49c7d3b15794fcedc36357b5340
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 23 12:18:34 2006 +0000

    make presence cache presence handler run at low priority
    
    
    20060523121834-b59df-a1a3931424b960ace252c45c7aa56a47d52c7c62.gz

 src/gabble-presence-cache.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 59fcab5e7cdf56efc47168f1c7b73d2bf9733491
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 23 12:15:09 2006 +0000

    grab nicknames from presence nodes
    
    
    20060523121509-b59df-2a3c0ad551c3ab54fd8b1d719d26e4ac7443dbaa.gz

 src/gabble-presence-cache.c |   25 +++++++++++++++++++++++++
 1 files changed, 25 insertions(+), 0 deletions(-)

commit de571e261ebc09f8739bf2b09f3590bed3219f36
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 23 11:56:00 2006 +0000

    add #define for nick namespace
    
    
    20060523115600-b59df-f52367cb4b7890a3514e3473da00e16d1a465251.gz

 src/namespaces.h |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e9fa08d82670cf7fc49a5a0c8d1a7478ad2bc474
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 23 11:52:38 2006 +0000

    use switch on message type rather than strcmp
    
    
    20060523115238-b59df-0453aaf4bdfb63ce07547994ea235fbd616d850b.gz

 src/gabble-presence-cache.c |   11 +++++++----
 1 files changed, 7 insertions(+), 4 deletions(-)

commit 0eb4b082cbb8c637174e96a329712698928ea41f
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 23 11:50:58 2006 +0000

    make roster message handler run at low priority
    
    
    20060523115058-b59df-3a0db9287549ab2eec1025913762d85f7d893abc.gz

 src/roster.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8671f34f1b56e96f6cca91e554a8d1e2b9bb55de
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 23 11:45:37 2006 +0000

    make MUC handlers run at normal priority
    
    
    20060523114537-b59df-04e4933d0964a2a49da2346b5eb1c9a3a9c35b56.gz

 src/muc-factory.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 491bcc73120c3e23154e9be9c476ebac14fa0976
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 23 11:38:14 2006 +0000

    make gabble_presence_cache_parse_message non-public
    
    
    20060523113814-b59df-ef6c7f99819920f6a5c37792468dff9abbc8dbaf.gz

 src/gabble-presence-cache.c |   12 ++++++------
 src/gabble-presence-cache.h |    1 -
 src/muc-factory.c           |    3 ---
 3 files changed, 6 insertions(+), 10 deletions(-)

commit 262e40752fdaefee782d5aa748816517d7bd04f4
Author:  <dafydd.harries@collabora.co.uk>
Date:   Mon May 22 17:03:23 2006 +0000

    change get_handle_for_contact to always look up jid with resource first
    
    
    20060522170323-b59df-ec235f1217b90400d14674c6360b842a1976d5ed.gz

 src/handles.c |   86 ++++++++++++++++++++++++++++++++++----------------------
 1 files changed, 52 insertions(+), 34 deletions(-)

commit 0933df4c16db2d3510fff618662352629d10d5a5
Author:  <dafydd.harries@collabora.co.uk>
Date:   Mon May 22 16:42:14 2006 +0000

    add #define for Google caps
    
    
    20060522164214-b59df-7f0153177facf6636c93ebd7b487fd57e1f6eac5.gz

 src/namespaces.h |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 5b65a1161298f8ad8bee7a76b3796e204b9253a2
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri May 19 20:41:08 2006 +0000

    add nickname to GabblePresence
    
    
    20060519204108-b59df-74280458ba4160f6408d9c608b5594081ba031b2.gz

 src/gabble-presence.c |    1 +
 src/gabble-presence.h |    1 +
 2 files changed, 2 insertions(+), 0 deletions(-)

commit 913ffe0bc2a067c0864982a81bce5fe40f59558f
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri May 19 20:21:00 2006 +0000

    rename presence_cb to lm_message_cb as it will be used for more than presence
    
    
    20060519202100-b59df-8deeefdfe33be694c39b82143bcb10d840209eb6.gz

 src/gabble-presence-cache.c |   16 ++++++++--------
 1 files changed, 8 insertions(+), 8 deletions(-)

commit 04ab4e39385b6b8da62f519d88889812837e89d5
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri May 19 19:34:40 2006 +0000

    dynamically generate feature list and make the contents conditional on GABBLE_JINGLE
    
    
    20060519193440-b59df-de2d276c4b12e300703fdc2216f8ae5d9b4cd36c.gz

 src/gabble-connection.c |   68 ++++++++++++++++++++++++++++++++++------------
 1 files changed, 50 insertions(+), 18 deletions(-)

commit 9573a90effb3a477f550e97c10e8a9b3d474160f
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu May 18 03:10:17 2006 +0000

    put non-lvalues on left hand side of comparisons
    
    
    20060518031017-b59df-01b7f36a1f26c847d5cd33804ff53c176009028a.gz

 src/gabble-presence-cache.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 21de8a7cb8aebec804a5162326aed544de62f206
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu May 18 00:26:52 2006 +0000

    make disco code use namespace constants
    
    
    20060518002652-b59df-d9c6e2fe3b93248af2371d3df5e0f2c9f4b429b9.gz

 src/gabble-disco.c |    5 +++--
 src/namespaces.h   |    1 +
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 2bcb1dacf44806f8cbb3b3de92a4b27f5360bde3
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed May 17 12:09:23 2006 +0000

    reindent/refactor gabble_presence_cache_update
    
    
    20060517120923-b59df-611d3755b0bcc3e9784aa397e4f2a5193f1ed72d.gz

 src/gabble-presence-cache.c |   20 +++++++++++++++-----
 1 files changed, 15 insertions(+), 5 deletions(-)

commit 47d094f919ed99bbbb5ea32b26f7f26e66f57a70
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed May 17 03:49:19 2006 +0000

    put jingle features into jingle bundle
    
    
    20060517034919-b59df-db8cc019d69f1c6a6d1189f15906c7b9cb5f6636.gz

 src/gabble-connection.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 743a22d31a9dee558de838523010f9c20363cd8e
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed May 17 02:17:19 2006 +0000

    remove unused status_name member
    
    
    20060517021719-b59df-24a3e8fedee190f41ae212c5c36c7f9cab7dfbfb.gz

 src/gabble-presence.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 1c34137c7b62cd52d0d36bf280f8cc32c8be10db
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 16 23:36:40 2006 +0000

    use gchar rather than char for consistency
    
    
    20060516233640-b59df-0394dfb53c0ca2175512f0b230e8424984afe0a4.gz

 src/gabble-presence-cache.c |    2 +-
 src/gabble-presence-cache.h |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 2ec8ff5a39c837d518f7a27c319ed93820f311ae
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 16 23:33:28 2006 +0000

    punctuation
    
    
    20060516233328-b59df-0e8d1e0cf2a5c711ee6b0e2d780b7be33b0c9277.gz

 src/gabble-disco.c |    2 +-
 src/gabble-disco.h |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit b8931e8bfa1b2f5a88eb5726cd2927d0bcb562d1
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 16 18:08:01 2006 +0000

    rename function for clarity
    
    
    20060516180801-b59df-76e903c4f1bba58c514e5602266bbb467b0a510d.gz

 src/gabble-presence-cache.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 10b606f426c8389e347845b9df00093101037f9e
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 16 17:57:01 2006 +0000

    use caps constant for namespace check
    
    
    20060516175701-b59df-be0a5183369959c6f174d309b398c41a9db75483.gz

 src/gabble-presence-cache.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 0fe612d6a2cb6e02dde5d162617de5c67580c5e6
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 16 17:49:08 2006 +0000

    rename function for clarity
    
    
    20060516174908-b59df-ffb38095501435a4b41d387e76a31b0d0558d8c7.gz

 src/gabble-presence-cache.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit a8e94536e476a893de4c0f586d7372dfb21b571f
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 16 17:30:42 2006 +0000

    refactor presence node parsing
    
    
    20060516173042-b59df-930be27a4adac4eed44740b12510ca553e81b4a3.gz

 src/gabble-presence-cache.c |   69 +++++++++++++++++++++++++++---------------
 1 files changed, 44 insertions(+), 25 deletions(-)

commit 88dba03c9a02e236f47117c1e04946001be0ffa4
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 24 16:19:21 2006 +0000

    register the ignore-ssl-errors property on GabbleConnection
    
    
    20060524161921-0e791-401dee60e1e6026d4e15e2cfad10da00ba5a4947.gz

 src/gabble-connection.c |    9 +++++++++
 1 files changed, 9 insertions(+), 0 deletions(-)

commit 09d9383a8b7691cc67b4c8a794bfcc589700daf4
Author:  <rob.taylor@collabora.co.uk>
Date:   Tue May 23 21:12:45 2006 +0000

    new version 0.1.29
    
    
    20060523211245-25e70-aa91653983ec6c60ff56676f453b291c68f169da.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c5cdf095e05f63255ddb09437c25e33f20d46361
Author:  <rob.taylor@collabora.co.uk>
Date:   Tue May 23 21:04:14 2006 +0000

    add new SSL errors
    
    add ignore ssl error option
    store error reason and emit state changed in disconnected callback
    
    20060523210414-25e70-0d2f506e3f10e031bd148d7b721107bcc53f1d2a.gz

 data/gabble.manager             |    1 +
 src/gabble-connection-manager.c |    8 +++++-
 src/gabble-connection.c         |   53 +++++++++++++++++++++++++++++---------
 src/telepathy-constants.h       |   10 ++++++-
 4 files changed, 57 insertions(+), 15 deletions(-)

commit f5285ceb3972fe6c88d63db90f91f782cc2fc182
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 23 17:14:04 2006 +0000

    fix compilation of roster subscription function
    
    
    20060523171404-0e791-914a3d388cae87ccc004efe694e79d66d652eb3d.gz

 src/roster.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a0c411e183b065209d946acacf7b44fd3df80fc7
Author:  <rob.taylor@collabora.co.uk>
Date:   Tue May 23 16:59:21 2006 +0000

    use the voice resource of the initator for all incoming calls
    
    
    20060523165921-25e70-d3f79bf4947f3785611fc233a3e808e3f16fa786.gz

 src/gabble-connection.c    |    6 ++++--
 src/gabble-media-channel.c |   10 ++++++----
 src/gabble-media-channel.h |    2 +-
 src/gabble-media-session.c |   44 ++++++++++++++++++++++++++++++++++----------
 src/handles.c              |    8 ++++----
 src/handles.h              |    2 +-
 6 files changed, 50 insertions(+), 22 deletions(-)

commit 3848eb0e899aa0eae744d87112b5746200d9c1e5
Author:  <rob.taylor@collabora.co.uk>
Date:   Tue May 23 16:59:05 2006 +0000

    ignore connection parameters that are empty or null strings
    
    
    20060523165905-25e70-e81d975effdbbea829ac8887862c7ad2a565cb13.gz

 src/gabble-connection-manager.c |    9 ++++++++-
 1 files changed, 8 insertions(+), 1 deletions(-)

commit 5944a5ce10ac8bce23e6bcd154a8b948d9c17f13
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 23 15:17:15 2006 +0000

    add static qualifiers to a few roster functions
    
    
    20060523151715-0e791-691ec25c74d80a79e79583bc295c1281c626d992.gz

 src/roster.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 4a3b89bc2fc493f975b4764c764bfe5f94611a91
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 23 15:16:48 2006 +0000

    add gabble_roster_handle_is_subscribed function
    
    
    20060523151648-0e791-dbbbbf5148af3570856efafbd87dd46e8402e971.gz

 src/roster.c |   26 ++++++++++++++++++++++++++
 src/roster.h |    2 ++
 2 files changed, 28 insertions(+), 0 deletions(-)

commit 09f004c592eb723f846bb9583553353852ecce32
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 23 13:47:19 2006 +0000

    cache roster items to detect alias changes
    
    
    20060523134719-0e791-b1bb055344f85219444638bb1b378d9d84a2c321.gz

 src/roster.c |  126 ++++++++++++++++++++++++++++++++++++++++++++-------------
 1 files changed, 97 insertions(+), 29 deletions(-)

commit eb25be43b57742aceb3b67eb315f690fbd575556
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 23 14:20:36 2006 +0000

    bump version to 0.1.28
    
    
    20060523142036-0e791-9cc1e41ab7b22ed90632a2b1235a5956a038dedb.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c210c90e320299a30e08231c10865865661451c0
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 23 13:30:50 2006 +0000

    add util.[ch] with g_strdiff function, its like strcmp but the right way round, and NULL safe
    
    
    20060523133050-0e791-04591ed40bc2fa5aeb34d8c5744fb8885c7ec13b.gz

 src/Makefile.am |    2 ++
 src/util.c      |   38 ++++++++++++++++++++++++++++++++++++++
 src/util.h      |   29 +++++++++++++++++++++++++++++
 3 files changed, 69 insertions(+), 0 deletions(-)

commit c2365415142c1b3e172b6e97f96e3877e72d1337
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon May 22 21:12:58 2006 +0000

    disable capabilities and contactinfo interface because we want to change them in future
    
    
    20060522211258-0e791-4e9a8107b49a1eae042f6b521384be2506a63373.gz

 generate/gabble.def                                |    2 +-
 .../src/gabble-connection-signals-marshal.list     |    2 -
 generate/src/gabble-connection.c                   |   74 --------------------
 generate/src/gabble-connection.h                   |    3 -
 generate/xml-modified/gabble-connection.xml        |   24 ------
 generate/xml-pristine/gabble-connection.xml        |   24 ------
 src/gabble-connection-signals-marshal.list         |    2 -
 src/gabble-connection.c                            |   27 ++-----
 src/gabble-connection.h                            |    3 -
 9 files changed, 8 insertions(+), 153 deletions(-)

commit e2f36b11ae3d41f239b612f4a06e7312d105283b
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon May 22 20:03:19 2006 +0000

    regenerate interfaces using telepathy-python-stable tree so that editing and round-tripping is possible
    
    
    20060522200319-0e791-5a80296462d052f6fa2e5884d3e992a3e9552b32.gz

 .../src/gabble-im-channel-signals-marshal.list     |    2 +
 generate/src/gabble-im-channel.c                   |   20 +++
 .../src/gabble-muc-channel-signals-marshal.list    |    2 +
 generate/src/gabble-muc-channel.c                  |   20 +++
 generate/src/telepathy-errors.h                    |   18 +-
 .../xml-modified/gabble-connection-manager.xml     |   42 +++---
 generate/xml-modified/gabble-connection.xml        |  150 +++++++++---------
 generate/xml-modified/gabble-im-channel.xml        |   69 +++++----
 generate/xml-modified/gabble-media-channel.xml     |  100 ++++++------
 generate/xml-modified/gabble-media-session.xml     |   15 +-
 generate/xml-modified/gabble-media-stream.xml      |   69 ++++----
 generate/xml-modified/gabble-muc-channel.xml       |  165 ++++++++++---------
 generate/xml-modified/gabble-roomlist-channel.xml  |   33 ++--
 generate/xml-modified/gabble-roster-channel.xml    |   76 +++++-----
 .../xml-pristine/gabble-connection-manager.xml     |   47 +++---
 generate/xml-pristine/gabble-connection.xml        |  151 +++++++++---------
 generate/xml-pristine/gabble-im-channel.xml        |   74 +++++-----
 generate/xml-pristine/gabble-media-channel.xml     |  105 ++++++-------
 generate/xml-pristine/gabble-media-session.xml     |   20 +--
 generate/xml-pristine/gabble-media-stream.xml      |   74 ++++-----
 generate/xml-pristine/gabble-muc-channel.xml       |  168 ++++++++++----------
 generate/xml-pristine/gabble-roomlist-channel.xml  |   38 ++---
 generate/xml-pristine/gabble-roster-channel.xml    |   81 +++++-----
 src/gabble-im-channel-signals-marshal.list         |    2 -
 src/gabble-im-channel.c                            |    2 -
 src/gabble-muc-channel-signals-marshal.list        |    2 +
 src/gabble-muc-channel.c                           |    2 -
 src/telepathy-errors.h                             |   46 +++---
 src/text-mixin-signals-marshal.list                |    2 +
 src/text-mixin.c                                   |   22 ++-
 30 files changed, 812 insertions(+), 805 deletions(-)

commit 1dd8570585d2a3e29106f9e3b16d691b8953b892
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 23 12:50:31 2006 +0000

    correctly clear the suppress_next_handler flag to avoid losing an incoming channel that follows you making a request that fails
    
    
    20060523125031-0e791-cfd01608cbbf9323c9d31b2cfe28e72a93b2cb0a.gz

 src/gabble-connection.c |   11 ++++++-----
 1 files changed, 6 insertions(+), 5 deletions(-)

commit ea5e1bac7c96eae739fb07e3e60f399a699fc3a9
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu May 18 20:58:38 2006 +0000

    store the peer JID in an IM channel, and update it so that we always send to the last resource that sent to us (RFC 3921, section 4.1)
    
    
    20060518205838-0e791-e9ed00871e72b87ab460f8363d72cbd857b0f12c.gz

 src/gabble-im-channel.c |   24 ++++++++++++++++++------
 src/gabble-im-channel.h |    2 +-
 src/im-factory.c        |    2 +-
 3 files changed, 20 insertions(+), 8 deletions(-)

commit 761ed09373270c565b63a7a2688fee1725a8da81
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu May 18 19:13:37 2006 +0000

    remove dead function from gabble-connection.h
    
    
    20060518191337-0e791-0a4014642b8373be6c34debdb2836031ce7d2c0e.gz

 src/gabble-connection.h |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 1acb9a1741f323c56cf927aece4325f875454118
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu May 18 17:56:02 2006 +0000

    add a 'priority' connection parameter to set the default priority
    
    
    20060518175602-0e791-74e51f2e6ce2d4a54a4aaa0d126fc8fe7d050b30.gz

 data/gabble.manager             |    1 +
 src/gabble-connection-manager.c |    5 +++++
 src/gabble-connection.c         |   32 ++++++++++++++++++++++++--------
 3 files changed, 30 insertions(+), 8 deletions(-)

commit 26fbe364c41830e9cb12d74d1792c561aa436882
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu May 18 17:55:40 2006 +0000

    add support for int16 connection parameters
    
    
    20060518175540-0e791-e9e37c2823797a8f9c63f36d4c5ad8b6c372b399.gz

 src/gabble-connection-manager.c |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit b8a2e161111b65ae1dd188a69fcd685becb6be9f
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu May 18 17:52:37 2006 +0000

    don't expose stun relay properties as connection parameters, remove meaningless defaults
    
    
    20060518175237-0e791-d4a4b17e4b47e31afbb2de7ae40e126ecb8c1632.gz

 data/gabble.manager             |   10 +-----
 src/gabble-connection-manager.c |   56 +++-----------------------------------
 src/gabble-connection.c         |    4 +--
 src/gabble-connection.h         |   13 +--------
 4 files changed, 9 insertions(+), 74 deletions(-)

commit 0fba3e3d014a76ef295bfefc74f4bceb38e6aa1c
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu May 18 02:49:11 2006 +0000

    fix nesting of <candidates> inside <iq> instead of <session>
    
    
    20060518024911-0e791-6723b232abcc6cca3b2556e065ac2eecd4680d14.gz

 src/gabble-media-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8d5b65fb392e4f90ed9e68cd2a0ff9c1ab02f095
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 17 23:52:57 2006 +0000

    correct logic errors in handling queued channel requests
    
    
    20060517235257-0e791-dad3dc0bfce2a1e96dedf2a3e4b3c8f9713bbcfd.gz

 src/gabble-connection.c |    8 ++++----
 src/roster.c            |    2 +-
 2 files changed, 5 insertions(+), 5 deletions(-)

commit c155b326829936c49cecb1b870e0adb64732cd94
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 17 17:21:58 2006 +0000

    include time.h in text-mixin.c
    
    
    20060517172158-0e791-14423dfe7736d3f4b7f293c48041519e4e7e6615.gz

 src/gabble-connection.c |    5 +----
 src/text-mixin.c        |    4 ++--
 2 files changed, 3 insertions(+), 6 deletions(-)

commit 8f81ceb5ffbfe9e785f0d14871f812058615c838
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 17 14:39:36 2006 +0000

    add missing text mixin signal marshallers
    
    
    20060517143936-0e791-2eeef4dd74e775806f5a4472b9819c9e86873db8.gz

 src/text-mixin-signals-marshal.list |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 232f74713f455652684dade3fcaa14a99ce9c895
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 17 14:35:32 2006 +0000

    bump version to 0.1.27
    
    
    20060517143532-0e791-a92179382eae26b8f5f6905ffb9f2bc830454f93.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 74926ff6d4b955a0a2ff47f47e93a47af73eb77d
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 17 14:27:47 2006 +0000

    fix bad format of the .manager file
    
    
    20060517142747-0e791-66163728230405937b6ef57acc765af631b2b9c3.gz

 data/gabble.manager |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c804dd6733f1a28eef193aee737cc49361567cb3
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 17 03:01:02 2006 +0000

    fix crashing on disconnect if you have any IM or MUC channels open
    
    
    20060517030102-0e791-de66e99e752a910ea1ae24b2605005d07b37b6db.gz

 src/im-factory.c  |   14 ++++++++++----
 src/muc-factory.c |   14 ++++++++++----
 2 files changed, 20 insertions(+), 8 deletions(-)

commit 08053c141d55e9ffd5497ef9762b2007debfa66b
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 17 02:29:54 2006 +0000

    remove unrequired header
    
    
    20060517022954-0e791-267aae477ec68aa3213c019867e9dd69dfd4be7d.gz

 src/gabble-connection.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit fc6e0791b4b876901b2b19b35b7c84e2a3da7140
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 17 02:00:35 2006 +0000

    remove unused function
    
    
    20060517020035-0e791-1734192cc9391ed3b1c6ec8a0e223ff18f4eb91f.gz

 src/text-mixin.c |   25 -------------------------
 1 files changed, 0 insertions(+), 25 deletions(-)

commit 19be27a2cbdd7f7ceb1a3d34394394bb08fc523a
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 17 01:59:04 2006 +0000

    rename gabble-im-factory.* to im-factory.*
    
    
    20060517015904-0e791-c97eaaa13c1c6a755ec9bb4556c7768dbbf7458e.gz

 src/Makefile.am         |    4 +-
 src/gabble-connection.c |    6 +-
 src/gabble-im-factory.c |  412 -----------------------------------------------
 src/gabble-im-factory.h |   60 -------
 src/im-factory.c        |  411 ++++++++++++++++++++++++++++++++++++++++++++++
 src/im-factory.h        |   60 +++++++
 6 files changed, 476 insertions(+), 477 deletions(-)

commit bbf4b226a65f3cf8feb3f1029844ea33e9392d0a
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 17 01:51:01 2006 +0000

    rename gabble-muc-factory.* to muc-factory.*
    
    
    20060517015101-0e791-25e87f21c5732c97471d9512dd3e8b9854788597.gz

 src/Makefile.am          |    4 +-
 src/gabble-connection.c  |    2 +-
 src/gabble-muc-factory.c |  620 ----------------------------------------------
 src/gabble-muc-factory.h |   59 -----
 src/muc-factory.c        |  618 +++++++++++++++++++++++++++++++++++++++++++++
 src/muc-factory.h        |   57 +++++
 6 files changed, 678 insertions(+), 682 deletions(-)

commit 8f11cf27d9068f83dc75d7da7b78ba38af8a4857
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 17 01:46:37 2006 +0000

    remove unrequired _GNU_SOURCE defines
    
    
    20060517014637-0e791-26c9ac3aaef0e50af35e55fe58809fc091090449.gz

 src/gabble-connection.c  |    1 -
 src/gabble-im-factory.c  |    1 -
 src/gabble-muc-factory.c |    1 -
 3 files changed, 0 insertions(+), 3 deletions(-)

commit 5f31dbc6f59c0245ab373b1c9e2227e83a193561
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 17 01:44:32 2006 +0000

    remove unused headers from text mixin
    
    
    20060517014432-0e791-6171e4bc8053f19082547a3bf6692fceaf1b2908.gz

 src/text-mixin.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit f232a46164885598555c4e65c59be63e1af7efbd
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 17 01:43:46 2006 +0000

    use the dbus_g_struct stuff for listing pending messages
    
    
    20060517014346-0e791-0c15ae6cfdd4ec684c881de7d50845f8716e5762.gz

 src/gabble-muc-channel.h |    8 -------
 src/text-mixin.c         |   47 +++++++++++++++++++++------------------------
 2 files changed, 22 insertions(+), 33 deletions(-)

commit 05d06bbeea3feb47578ac8a551c6240b72f2e3a4
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 17 01:38:05 2006 +0000

    rename gabble-group-mixin.* to group-mixin.*
    
    
    20060517013805-0e791-935b95b3c63ac31ded1fefb5582c8914a59d392f.gz

 src/Makefile.am                             |    8 +-
 src/gabble-group-mixin-signals-marshal.list |    2 -
 src/gabble-group-mixin.c                    |  560 ---------------------------
 src/gabble-group-mixin.h                    |   86 ----
 src/gabble-media-channel.h                  |    4 +-
 src/gabble-muc-channel.h                    |    2 +-
 src/gabble-roster-channel.c                 |    2 +-
 src/gabble-roster-channel.h                 |    2 +-
 src/group-mixin-signals-marshal.list        |    2 +
 src/group-mixin.c                           |  560 +++++++++++++++++++++++++++
 src/group-mixin.h                           |   86 ++++
 src/text-mixin.c                            |    2 +-
 src/text-mixin.h                            |    2 +-
 13 files changed, 659 insertions(+), 659 deletions(-)

commit 70ff84f8ae5c3b5f7c7cda0e5757c6d2c72fd4a0
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 17 01:28:51 2006 +0000

    give the text mixin its own signal marshallers
    
    
    20060517012851-0e791-960e6cf1d7a7f4864a3b1c262503954ad15fb062.gz

 src/Makefile.am  |    2 ++
 src/text-mixin.c |   12 ++++--------
 2 files changed, 6 insertions(+), 8 deletions(-)

commit bce59e79401ef8b00226a77b28e0080950ff5d52
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 17 01:23:13 2006 +0000

    remove whitespace
    
    
    20060517012313-0e791-7ef142ec4c7d877b3ef47c53b95a32e8807a3d9f.gz

 src/gabble-connection.c  |    1 -
 src/gabble-im-factory.c  |    2 +-
 src/gabble-muc-factory.c |    6 ++----
 src/text-mixin.c         |    2 +-
 4 files changed, 4 insertions(+), 7 deletions(-)

commit 4a24c975eba5624918455c326e507a8a30ace007
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 17 01:19:55 2006 +0000

    remove TODO, <message> nodes aren't acked
    
    
    20060517011955-0e791-ddc61ce16ff0f030d8119a3a9ea054308fa5c5a5.gz

 src/text-mixin.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 57b224be880a9194e9574ab1197cd811d56bfb3d
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 17 01:19:02 2006 +0000

    remove debug prints
    
    
    20060517011902-0e791-c88c0a8660ad4960e6b188a511dbc30360f5effd.gz

 src/gabble-muc-factory.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 5df826e03d65c41cfee3635262c8d2044b0187ad
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 17 01:18:10 2006 +0000

    rename gabble-text-mixin.* to text-mixin.*
    
    
    20060517011810-0e791-e7307e79a227334de8a4459e33e1980e92fe42c0.gz

 src/Makefile.am          |    4 +-
 src/gabble-im-channel.h  |    2 +-
 src/gabble-im-factory.c  |    2 +-
 src/gabble-muc-channel.h |    2 +-
 src/gabble-muc-factory.c |    2 +-
 src/gabble-text-mixin.c  |  667 ----------------------------------------------
 src/gabble-text-mixin.h  |   75 ------
 src/text-mixin.c         |  667 ++++++++++++++++++++++++++++++++++++++++++++++
 src/text-mixin.h         |   75 ++++++
 9 files changed, 748 insertions(+), 748 deletions(-)

commit ca8dd2dc8cbce06a8ae5c2792dd5c98f519207e2
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 17 01:09:50 2006 +0000

    remove GabbleAllocator, the functionality is subsumed into the text mixin
    
    
    20060517010950-0e791-0fdf24e3b2106e5ccab5aafb227b45fb2af8d2a9.gz

 src/Makefile.am |    2 -
 src/allocator.c |  104 -------------------------------------------------------
 src/allocator.h |   47 -------------------------
 3 files changed, 0 insertions(+), 153 deletions(-)

commit 924479721a84bd5a62dbb200c09369e65787de37
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 17 01:08:48 2006 +0000

    remove bogus FIXME (closing all channels on factories is done in connection_status_change)
    
    
    20060517010848-0e791-37143e18f29ff0a1e8295bdcf120d9d3492b20e7.gz

 src/gabble-connection.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit e0d5857ecee93fd5ab15ecc1c76a7d08e1dd364c
Author:  <senko@senko.net>
Date:   Tue May 16 20:14:30 2006 +0000

    make GabbleConnection use MUC and IM factories
    
    
    20060516201430-59d1d-7bd0cfa82d70499b91ddf6a3eb4904c355203eae.gz

 src/gabble-connection.c |  683 ++---------------------------------------------
 1 files changed, 16 insertions(+), 667 deletions(-)

commit d94e351696fa320c73024c2d45c0738014316ddb
Author:  <senko@senko.net>
Date:   Tue May 16 20:08:58 2006 +0000

    separate MUC channel handling into GabbleMucFactory
    
    
    20060516200858-59d1d-095c2cb1c905561539433307e456de3e23fd4a2d.gz

 src/Makefile.am          |    2 +
 src/gabble-muc-factory.c |  625 ++++++++++++++++++++++++++++++++++++++++++++++
 src/gabble-muc-factory.h |   59 +++++
 3 files changed, 686 insertions(+), 0 deletions(-)

commit 5c5a334a22caab44ec37dcbac421b7fa76713daf
Author:  <senko@senko.net>
Date:   Tue May 16 20:05:53 2006 +0000

    separate IM channel handling into GabbleImFactory
    
    
    20060516200553-59d1d-32581c6ba09f092a9b6baa470d85ed099cde12e3.gz

 src/Makefile.am         |    2 +
 src/gabble-im-factory.c |  413 +++++++++++++++++++++++++++++++++++++++++++++++
 src/gabble-im-factory.h |   60 +++++++
 3 files changed, 475 insertions(+), 0 deletions(-)

commit 39bb90392324ffec2a4d5313a10b16b9d3b50448
Author:  <senko@senko.net>
Date:   Tue May 16 19:37:25 2006 +0000

    make GabbleMucChannel use text-mixin
    
    
    20060516193725-59d1d-89a303bec958976c8e6599b7952737d817d7c98c.gz

 src/gabble-muc-channel.c |  298 +++-------------------------------------------
 src/gabble-muc-channel.h |    3 +
 2 files changed, 18 insertions(+), 283 deletions(-)

commit ef49afd9ec28460219a35fca5a7c843b1b116492
Author:  <senko@senko.net>
Date:   Tue May 16 19:32:34 2006 +0000

    make GabbleIMChannel use text-mixin
    
    
    20060516193234-59d1d-9f27126d490f27078d6f87721aab6a82dc3f1a63.gz

 src/gabble-im-channel.c |  288 ++---------------------------------------------
 src/gabble-im-channel.h |    5 +
 2 files changed, 14 insertions(+), 279 deletions(-)

commit 1f3cb2c1032c2f15ebd01031832ca9dc4b7bede4
Author:  <senko@senko.net>
Date:   Tue May 16 19:28:03 2006 +0000

    added text mixin implementation
    
    
    20060516192803-59d1d-c71da4dc866c2bb89b2812dba38d7f0e8f4ad69c.gz

 src/Makefile.am         |    2 +
 src/gabble-connection.c |    2 +-
 src/gabble-connection.h |    2 +-
 src/gabble-text-mixin.c |  667 +++++++++++++++++++++++++++++++++++++++++++++++
 src/gabble-text-mixin.h |   75 ++++++
 5 files changed, 746 insertions(+), 2 deletions(-)

commit aa9aeb66048b96ef2220b4965150723a31cd35e4
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 16 18:38:34 2006 +0000

    don't emit empty presence update signals
    
    
    20060516183834-b59df-8070f20e0e6f10b33493b7f739cd8178419e419e.gz

 src/gabble-connection.c |   19 ++++++++++++-------
 1 files changed, 12 insertions(+), 7 deletions(-)

commit 77c04b061daefcbdd83e70000d4ef1dbe98cce10
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 16 16:22:49 2006 +0000

    release 0.1.26
    
    
    20060516162249-b59df-08c14e3a510e4a4bceaebd5b4bdac75be0ee3d1c.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 56c9f970c7eda5c96939afebaab7988626e8409d
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 16 15:52:36 2006 +0000

    remove assert which is no longer appropriate
    
    
    20060516155236-b59df-79d669b07128ff7324328c08063ef7859b636466.gz

 src/gabble-connection.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 8b6ba83182b67e85c723411a2dc47d794a7151ee
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 16 14:32:04 2006 +0000

    add resource selection debug messages
    
    
    20060516143204-b59df-225eac70aa7719fd76f4afebe4d18d38a0293ea7.gz

 src/gabble-media-session.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit a124005dd82ec6da8476d41b1b9ddd4199f69b64
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 16 14:31:34 2006 +0000

    cosmetics
    
    
    20060516143134-b59df-e17d0442f83ccfa4aa27c69ecb4e631552de544f.gz

 src/gabble-connection.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 4d184c8b2f2fd0e004c14a5fbd9ab53a914e7199
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 16 14:26:58 2006 +0000

    make resource selection priority-aware
    
    
    20060516142658-b59df-fd1a590e118fe56c4d15acf4ed0a6a33a29134f3.gz

 src/gabble-presence.c |    8 +++++---
 1 files changed, 5 insertions(+), 3 deletions(-)

commit bd97496f2e67a45b35637e202b8b230fbfade32d
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 16 18:06:14 2006 +0000

    fix passing wrong argument into channel factory request vtable
    
    
    20060516180614-0e791-973760d47322cb1300a9699b5975c8ca4ebf81ac.gz

 src/tp-channel-factory-iface.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ef798960b21ead1ffb04c7c36a1a9d2ae3ad900e
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 16 15:22:26 2006 +0000

    bump version to 0.1.25
    
    
    20060516152226-0e791-138a9da314d55514cdbf8984881147349f7fc793.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 0c970923384b581af81ccf4eceab73a80e1b0e02
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 16 14:31:51 2006 +0000

    avoid g_ptr_array assertion: only remove channel requests if there are any
    
    
    20060516143151-0e791-be510587664b167977cd36dfb08072f012795a17.gz

 src/gabble-connection.c |   11 +++++++----
 1 files changed, 7 insertions(+), 4 deletions(-)

commit c7e12615e4dab0f201aa9cd74f68559e49b5b002
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 16 14:21:51 2006 +0000

    tweaks to function naming and jid freeing, after code review
    
    
    20060516142151-0e791-99acc2cba163a81cbb4da9442393a005cbab9155.gz

 src/gabble-connection.c |   37 +++++++++++++++++++++----------------
 1 files changed, 21 insertions(+), 16 deletions(-)

commit 23325a4fe6913e2309966b8267a540999b4fc744
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun May 14 20:34:54 2006 +0000

    merge conflicts from main branch
    
    
    20060514203454-0e791-623e9fe874ebcae5068e665ea17a2bff289fee42.gz

 src/Makefile.am               |    3 +++
 src/gabble-connection.c       |   25 +++++++++++--------------
 src/gabble-media-channel.c    |    2 --
 src/gabble-muc-channel.c      |   12 ++----------
 src/gabble-roomlist-channel.c |    5 ++++-
 src/roster.c                  |    3 +--
 6 files changed, 21 insertions(+), 29 deletions(-)

commit f764b7a8f0a0f4b8e15e3f7a196562635f2a84a3
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun May 14 20:26:40 2006 +0000

    add a queue of channel requests which get completed when the new channel signal is emitted
    
    
    20060514202640-0e791-19c7947873581e755bd0e844908aeebd64e309c3.gz

 src/gabble-connection.c |  136 ++++++++++++++++++++++++++++++++++++++++++++---
 1 files changed, 129 insertions(+), 7 deletions(-)

commit d0fa4f4866dd32c957dc7ff1cac9b8df45b66ad3
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu May 11 01:52:57 2006 +0000

    marge in change to presence updating
    
    
    20060511015257-0e791-88121eccb6e5281bb67300ff43ac26d3cedced40.gz

 src/gabble-connection.c |   33 ++++++++++++++++++++++-----------
 1 files changed, 22 insertions(+), 11 deletions(-)

commit 1fc16c2ccf2e2c0a560c0f4cbdee10b80b6782de
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu May 11 01:08:32 2006 +0000

    merge conflict from pushing presence cache refactoring into main tree
    
    
    20060511010832-0e791-20eb887f69eeca1c4aba95a52293541c390b3702.gz

 src/gabble-connection.c |    9 ++-------
 1 files changed, 2 insertions(+), 7 deletions(-)

commit 1350b4cf5da851888cd9494f4f492f5b10ed5734
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu May 11 00:31:25 2006 +0000

    make RequestChannel async, and split the deprecated code into a function with the old prototype
    
    
    20060511003125-0e791-3b5a6aaf3236a55b8a3b32393ff16f6522ee1908.gz

 generate/src/gabble-connection.c            |    9 +-
 generate/src/gabble-connection.h            |    2 +-
 generate/src/telepathy-errors.h             |   46 ++++---
 generate/xml-modified/gabble-connection.xml |    5 +-
 src/gabble-connection.c                     |  186 ++++++++++++++++----------
 src/gabble-connection.h                     |    2 +-
 6 files changed, 148 insertions(+), 102 deletions(-)

commit 725be46a15dfb725a5676ad1d4832e0fcc579482
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 10 22:53:20 2006 +0000

    MUC nodes now cannot reach the roster presence CB, so we can remove this check
    
    
    20060510225320-0e791-bfc8711b283ce9dd890b059e714c24238d3f255c.gz

 src/roster.c |    7 -------
 1 files changed, 0 insertions(+), 7 deletions(-)

commit a3c23b80791c0c26016b25358b2dcec5a9b229f9
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 10 16:45:12 2006 +0000

    merge new NS_ #defines
    
    
    20060510164512-0e791-d33d6628dfff00bdd1e68afb13a30d429c0ff804.gz

commit 803769d32f585cfac595e63e36a91b15f2924303
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 9 18:36:52 2006 +0000

    add _gabble_roster_send_presence_ack function to avoid duplication
    
    
    20060509183652-0e791-0762ed7e84b2667fe1643c73b8bef375e9770ca1.gz

 src/roster.c |   61 +++++++++++++++++++++++++++++++++++----------------------
 1 files changed, 37 insertions(+), 24 deletions(-)

commit c574d693e89b17bc2b0fc8a48b2045c2cfe3dd67
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 9 18:27:26 2006 +0000

    verify that roster IQs are from the server or ourselves
    
    
    20060509182726-0e791-8d578faaa9064792280325cb6988b0a1c04a1a15.gz

 src/roster.c |   18 +++++++++++++++++-
 1 files changed, 17 insertions(+), 1 deletions(-)

commit 620fdef67af0b3aeacda6f50c350cc1907349e0b
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 9 17:50:37 2006 +0000

    make GabbleRoomlistChannel implement the TpChannelIface
    
    
    20060509175037-0e791-eb4e69242d8dc5809637567ed032df8e316d3689.gz

 src/gabble-roomlist-channel.c |   92 +++++++++++-----------------------------
 1 files changed, 26 insertions(+), 66 deletions(-)

commit 6de6d4a1d7e565877541bee2089cb6935427e0e5
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 9 17:50:21 2006 +0000

    make GabbleMucChannel implement the TpChannelIface
    
    
    20060509175021-0e791-6fcacfe27559472287dcfc9cc9245583fb730418.gz

 src/gabble-muc-channel.c |   70 +++++++++++++++++++--------------------------
 1 files changed, 30 insertions(+), 40 deletions(-)

commit dcf883f7b2976609dece5bbeb8af12678cf83684
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 9 17:50:05 2006 +0000

    make GabbleMediaChannel implement the TpChannelIface
    
    
    20060509175005-0e791-58f4b9b1aa6003ea79983bcc3e8ce1bb6bc47848.gz

 src/gabble-media-channel.c |   55 +++++++++++++++++++++----------------------
 1 files changed, 27 insertions(+), 28 deletions(-)

commit 6a2105187c00dd391dce2ff4f6befd5e80d0fa50
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 9 17:49:14 2006 +0000

    make GabbleIMChannel implement the TpChannelIface
    
    
    20060509174914-0e791-de4b9be7cac467438aa213cf5870545839afb121.gz

 src/gabble-im-channel.c |   65 ++++++++++++----------------------------------
 1 files changed, 17 insertions(+), 48 deletions(-)

commit 1e45f49badaa94a7b685a444e8c979173912ed80
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 9 17:48:55 2006 +0000

    make GabbleRosterChannel implement the TpChannelIface
    
    
    20060509174855-0e791-2aeddc21901d7f23eaf91e38c171202d216e992a.gz

 src/gabble-roster-channel.c |   63 +++++++++++--------------------------------
 1 files changed, 16 insertions(+), 47 deletions(-)

commit dc85d6f38fb2f67e061dda7871b27daeedf28dc9
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 9 17:48:35 2006 +0000

    add the room list channel to the channel listing
    
    
    20060509174835-0e791-708e6a67d0786cb5cedd94b84c01783c6070fa5b.gz

 src/gabble-connection.c |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit aed324c3b49a32d14d1731a24646eb7dd27f2db1
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 9 16:52:32 2006 +0000

    implement the foreach function on GabbleRoster
    
    
    20060509165232-0e791-56c824975b592cbfda1e558d92415330e4d3b1a7.gz

 src/roster.c |   28 +++++++++++++++++++++++++---
 1 files changed, 25 insertions(+), 3 deletions(-)

commit c082b06aaba952aae76b973d5f0b18a2c8e199d6
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 9 16:47:35 2006 +0000

    use tp_channel_factory_iface_foreach to implement ListChannels
    
    
    20060509164735-0e791-5f32c7b99fd79d61d36591ef997d6bb4158200a8.gz

 src/gabble-connection.c |   80 +++++++++++++++++++++++-----------------------
 1 files changed, 40 insertions(+), 40 deletions(-)

commit 5367aca208f128803516b104d391ede6b48c6fce
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 9 12:29:02 2006 +0000

    null channel factory pointer after freeing
    
    
    20060509122902-0e791-199002b224b2d7f509db3e8b4f7226f3dd2e1886.gz

 src/gabble-connection.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit d0b86f87dfcb3995802af49bdb41938f1315eed7
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 9 01:26:06 2006 +0000

    add a suppress_next_handler flag to the connection, to remember whether the currently in-flight request was to have suppress handler set, and use it to implement the connection's new channel callback
    
    
    20060509012606-0e791-3eeb26007371a6e239b96de06c03d5a2145eb3c3.gz

 src/gabble-connection.c |   27 ++++++++++++++++++++++++++-
 1 files changed, 26 insertions(+), 1 deletions(-)

commit 01fb8b474251ce636074c83f2e4262390a25d51f
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 9 00:37:31 2006 +0000

    update to use new IQ result function
    
    
    20060509003731-0e791-078d326a174befc90a3161b84b093c94acb766db.gz

 src/roster.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit d092ad67593b1d36adb6f1f5d096cd0c1209270a
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 9 00:25:38 2006 +0000

    merge conflicts from daf's namespace badgering
    
    
    20060509002538-0e791-149c6a9f8867da277da4b62ff185246b4a520e3b.gz

 src/gabble-connection.c |  337 -----------------------------------------------
 1 files changed, 0 insertions(+), 337 deletions(-)

commit 51334274395680942a1b79bb0b59140ed99d9844
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 9 00:23:24 2006 +0000

    tweak connection retrying to avoid allocating then freeing a GError, and catch a case where the DISCONNECTED/NETWORK_ERROR signal is not emitted when it should be
    
    
    20060509002324-0e791-97ed9fcfcdc9faca95b5b99ed122ba42e8982906.gz

 src/gabble-connection.c |   32 +++++++++++---------------------
 1 files changed, 11 insertions(+), 21 deletions(-)

commit bb04068351fa93912e45771236407d537c37c24b
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun May 7 04:15:15 2006 +0000

    first cut at requesting logic for channel factories
    
    
    20060507041515-0e791-6f7b84a71babd7170230b2d6e3b3867e0d992ac3.gz

 src/gabble-connection.c |   56 ++++++++++++++++++++++++++++++++++++++++------
 1 files changed, 48 insertions(+), 8 deletions(-)

commit fbcd500803d378eebf2ccc6a674f436df0273945
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun May 7 04:14:46 2006 +0000

    hook up new channel signal from the channel factories
    
    
    20060507041446-0e791-89c5d3b26d741ce5104dbb8e97457d5dd4924149.gz

 src/gabble-connection.c |   24 +++++++++++++++++++++---
 1 files changed, 21 insertions(+), 3 deletions(-)

commit c02fbff1bf6dfd9ad58e0a2ab63a99e058d4527e
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun May 7 03:53:27 2006 +0000

    add INVALID_HANDLE return to channel factory request status
    
    
    20060507035327-0e791-54f69a0b0e7ddbe43e0255503da076d77f6e4e61.gz

 src/tp-channel-factory-iface.h |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 1946b2023480e0e4596d99f3c79bf4a25c3d0c59
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun May 7 03:53:10 2006 +0000

    implement request channel for roster factory
    
    
    20060507035310-0e791-00abd7f52752727a08f7cb326eb6422a4865d6f2.gz

 src/roster.c |   52 ++++++++++++++++++++++++++++------------------------
 1 files changed, 28 insertions(+), 24 deletions(-)

commit 0b57272be5455027b23a844efa3e7878c60ad75b
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun May 7 03:42:17 2006 +0000

    emit roster channels when pushes are received
    
    
    20060507034217-0e791-b58d9e717d4b26485049b9b2d236b1d6b099df5b.gz

 src/roster.c |   29 ++++++++++++++++++++---------
 1 files changed, 20 insertions(+), 9 deletions(-)

commit 5b436249d35db7a5ed85441cfb071b66605d79fc
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun May 7 03:12:58 2006 +0000

    trigger channel factory connected/disconnected/close_all at appropriate status changes
    
    
    20060507031258-0e791-f254d4cff3e581ffb234169e34ed8bb47d954394.gz

 src/gabble-connection.c |   24 +++++++++++++++++++++---
 1 files changed, 21 insertions(+), 3 deletions(-)

commit c9f4f2cdad697e16318caa51364b77d0d29f0e4d
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun May 7 02:51:07 2006 +0000

    fix bug where initial failure of lm_connection_open wouldn't send a disconnected signal
    
    
    20060507025107-0e791-f601ff364982990519e47b8a17326d894bbdbc31.gz

commit c9bf3a65249cafb3317d2bed77c4329f3e30f7d5
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun May 7 02:49:06 2006 +0000

    remove roster stuff from GabbleConnection, add GabbleRoster object. construct LmConnection at init time, so that other objects can hook their callbacks to it. add beginnings of channel factory ptrarrays.
    
    
    20060507024906-0e791-889a1a85441d809367bb32b27bf2f3915373f6e4.gz

 src/gabble-connection.c |  434 +++++++++++++++++------------------------------
 src/gabble-connection.h |    3 +
 2 files changed, 159 insertions(+), 278 deletions(-)

commit c04d78437b9ac753b664bd11597a4e933085764a
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun May 7 02:31:08 2006 +0000

    don't need to disconnect callbacks in dispose, it should always happen
    
    
    20060507023108-0e791-cd744903b1a2e8862c492867127c621264fa073d.gz

 src/roster.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit c898b8e5d6a10e8c28400b685630eb8958544799
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sat May 6 23:57:17 2006 +0000

    make channel factory's new channel signal have its argument as G_TYPE_OBJECT - interfaces are not allowable it seems
    
    
    20060506235717-0e791-5104b4bd072a63ac6cdbebb267bdcb29d7994efd.gz

 src/tp-channel-factory-iface.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 547b87826e9fcf65069b455201ea47e41b09296b
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sat May 6 23:56:21 2006 +0000

    add GabbleRoster object, implementing TpChannelFactoryIface
    
    
    20060506235621-0e791-d23ccac2d7bce241975f0e97706560237580b9f3.gz

 src/Makefile.am             |    1 -
 src/gabble-roster-channel.h |    5 +-
 src/gabble-types.h          |    2 +
 src/roster.c                |  773 +++++++++++++++++++++++++++++++++++++++++++
 src/roster.h                |   62 ++++
 5 files changed, 840 insertions(+), 3 deletions(-)

commit 25d4c0b2e0f09fff84cf7db3bc1c82b0cc947918
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri May 5 16:40:57 2006 +0000

    add a new-channel signal to the channel factory interface
    
    
    20060505164057-0e791-5693965fe457d2fcdfb8f8f863ab9933596bbc19.gz

 src/tp-channel-factory-iface.c |    9 ++++++++-
 1 files changed, 8 insertions(+), 1 deletions(-)

commit 8087c5a61724d2f9909b318f34935e99dbdc14d3
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri May 5 15:52:55 2006 +0000

    add a disconnected method to the factory interface
    
    
    20060505155255-0e791-fe85bb8b6aedc30f6b314124b05066f77250d8b1.gz

 src/tp-channel-factory-iface.c |   29 +++++++++++++++++------------
 src/tp-channel-factory-iface.h |   12 +++++++-----
 2 files changed, 24 insertions(+), 17 deletions(-)

commit 42b48591ea9b77623be4d0cad97ad93f97d0d5a5
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri May 5 14:56:45 2006 +0000

    add channel and channel factory interfaces
    
    
    20060505145645-0e791-e3fd4bd3b4e0898f57aeae5de844f4fba10c2a99.gz

 src/Makefile.am                |    4 ++
 src/tp-channel-factory-iface.c |   92 ++++++++++++++++++++++++++++++++++++++
 src/tp-channel-factory-iface.h |   82 ++++++++++++++++++++++++++++++++++
 src/tp-channel-iface.c         |   96 ++++++++++++++++++++++++++++++++++++++++
 src/tp-channel-iface.h         |   63 ++++++++++++++++++++++++++
 5 files changed, 337 insertions(+), 0 deletions(-)

commit e0aa187f92e7973928a815340e584d01f3a56deb
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun May 14 16:51:19 2006 +0000

    make disco request cancelling check that the request still exists before freeing it, avoiding crashes
    
    
    20060514165119-0e791-c9d9047d1200b4349473d2c09e539899c7095a56.gz

 src/gabble-disco.c            |   40 +++++++++++++++++++++++-----------------
 src/gabble-disco.h            |    2 +-
 src/gabble-roomlist-channel.c |   20 +++++++++++++++++++-
 3 files changed, 43 insertions(+), 19 deletions(-)

commit 439bbd1773b59af6f3d5f2f7904254e62fb29b88
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun May 14 16:36:06 2006 +0000

    correctly cancel the timer and weak ref callbacks to avoid crashes and warnings when disco requests are cancelled
    
    
    20060514163606-0e791-537c027b875d518ec95d1634773581f1e29b3635.gz

 src/gabble-disco.c |   27 ++++++++++++++++++++-------
 1 files changed, 20 insertions(+), 7 deletions(-)

commit 4caf6aa4ad2f32c4190e096f15e4cae1342995a8
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun May 14 16:29:42 2006 +0000

    tweak room listing so that the remaining rooms are removed from the hash table when a disco request is sent, avoiding multiple listings
    
    
    20060514162942-0e791-d1f658de36becfcbfa4f1d7402f6a9c2c138af78.gz

 src/gabble-roomlist-channel.c |   66 +++++++++++++++++++++--------------------
 1 files changed, 34 insertions(+), 32 deletions(-)

commit 716ef4e47787bcb837cca657e0590ec7996ddce0
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun May 14 15:49:54 2006 +0000

    make listing = false emit before closed by making close dispose the object
    
    
    20060514154954-0e791-c478047596872e88c4e3d6974e52c26430a18615.gz

 src/gabble-roomlist-channel.c |    8 ++------
 1 files changed, 2 insertions(+), 6 deletions(-)

commit 8b1dbd823286c58691f2e29a89ed439772f82319
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun May 14 13:20:53 2006 +0000

    reduce verbosity still, and catch case where we remain listing... indefinitely when the first disco fails
    
    
    20060514132053-0e791-a71fec120a440398d10d272f6bf41d6a629f982b.gz

 src/gabble-roomlist-channel.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 49e34e2a4aed9e576061a5f7e08a5218c1a7d4f1
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun May 14 13:08:22 2006 +0000

    reduce verbosity of room list debug output, and rearrange function for better readability
    
    
    20060514130822-0e791-78cb65af8e1b4de88bdbc5b4063533507eaea481.gz

 src/gabble-roomlist-channel.c |  223 +++++++++++++++++++++--------------------
 1 files changed, 115 insertions(+), 108 deletions(-)

commit 7afd2c46fadc1d939f72bbd6ac39fa40df92420a
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun May 14 13:06:48 2006 +0000

    fix bug where a conference server with no rooms will list indefinitely
    
    
    20060514130648-0e791-99163b73f2b1acfa89c83519cb8f8fe0ffde47fa.gz

 src/gabble-roomlist-channel.c |   12 ++++++------
 1 files changed, 6 insertions(+), 6 deletions(-)

commit c181f665692e8081a40ee3934fe3f6bc6fb1820d
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun May 14 12:59:54 2006 +0000

    patch room list channel to only have a maximum of 10 discovery requests in progress, to prevent timeouts causing us to lose rooms. fix closing of channel to cancel requests and emit appropriate signals.
    
    
    20060514125954-0e791-d0fb4d90849771f18a729f6c77efafe8aa774f0b.gz

 src/gabble-roomlist-channel.c |   82 +++++++++++++++++++++++++++++++++++-----
 1 files changed, 71 insertions(+), 11 deletions(-)

commit c5172f2b5fc89d8e0df8dc8922e7a75bf89b4cf8
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun May 14 12:59:33 2006 +0000

    don't send IQ error responses except in reply to GET or SET
    
    
    20060514125933-0e791-92e262365ae7db35cded57fab181257cc5d288d2.gz

 src/gabble-connection.c |   12 ++++++++++--
 1 files changed, 10 insertions(+), 2 deletions(-)

commit 9ccaa7daae6ad2c30e786b0cc2375f276a7fe033
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun May 14 12:57:52 2006 +0000

    remove hardcoded fallback conference server
    
    
    20060514125752-0e791-82aa91cc62a140cadbc724d58f05fdd23622149e.gz

 src/gabble-connection.c |   53 ++++++++++++++++++++++++++++++++++------------
 1 files changed, 39 insertions(+), 14 deletions(-)

commit 98b2f7ad15db12819fc682fae6fb7c6ebc64a4cb
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sat May 13 19:33:55 2006 +0000

    reduce conference server discovery verbosity
    
    
    20060513193355-0e791-3f9f5758347d09ebdc04434bb379228dc886c09f.gz

 src/gabble-connection.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 4b02e853d31955317e8ec48185100c1ab450ad06
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sat May 13 15:32:21 2006 +0000

    remove unused presence struct member
    
    
    20060513153221-0e791-956a6743360b71421a78aa200f8e98bbb03b54ae.gz

 src/gabble-presence.h |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 28ab219b951d39dd7b26f3bc002e138d0e6597e5
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sat May 13 15:31:21 2006 +0000

    make the presence cache ref the handle of contacts it stores, avoiding crashing when members leave mucs, and discard uninteresting cache entries
    
    
    20060513153121-0e791-9dcf4578371746b34f6d9c01429d4ff14c7450f0.gz

 src/gabble-presence-cache.c |   13 +++++++++++++
 1 files changed, 13 insertions(+), 0 deletions(-)

commit 232a585631538e9770daafaad9550cf3ffdc2b99
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sat May 13 15:16:37 2006 +0000

    make weak reference callbacks delete the disco requests, rather than calling a function on the object that we were just told was finalised :)
    
    
    20060513151637-0e791-8970938bbd75ba2f29206f4eb3ca68a2cea70c9a.gz

 src/gabble-disco.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d3b5efc8f133379c26829934e6cd232f8706c48d
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sat May 13 15:16:06 2006 +0000

    add a GabbleDiscoRequest * to the disco callback function
    
    
    20060513151606-0e791-7bdc183547531f7b7e846b5864676dda456aa788.gz

 src/gabble-connection.c       |   40 +++++++++++++++++++++++++++-------------
 src/gabble-disco.c            |   10 ++++++----
 src/gabble-disco.h            |    2 +-
 src/gabble-muc-channel.c      |   10 +++++++---
 src/gabble-roomlist-channel.c |   18 +++++++++++++-----
 5 files changed, 54 insertions(+), 26 deletions(-)

commit 6e8a4ba6d4c62b22019e6843aaa3cd758f77250d
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri May 12 19:15:47 2006 +0000

    move ANSI constants to ansi.h
    
    
    20060512191547-b59df-3ddeeee5984e73fbd761e6d9641c0422de8d5855.gz

 src/ansi.h                 |   24 ++++++++++++++++++++++++
 src/gabble-group-mixin.c   |   15 ++++-----------
 src/gabble-media-channel.c |    6 +++---
 src/gabble-media-session.c |   21 ++++++++++-----------
 src/gabble-media-session.h |   23 -----------------------
 src/gabble-media-stream.c  |   12 ++++++------
 src/gabble-muc-channel.c   |   12 +-----------
 7 files changed, 48 insertions(+), 65 deletions(-)

commit eff831b7fc5cd754c264816c7bc36f7b7a167ce8
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri May 12 18:13:49 2006 +0000

    tidy up MUC namespace usage
    
    
    20060512181349-b59df-9c579d93f051532c26025259da347ef180b63275.gz

 src/gabble-connection.c  |    4 ++--
 src/gabble-muc-channel.c |   15 ++++++++-------
 src/gabble-muc-channel.h |    6 ------
 src/namespaces.h         |    4 ++++
 4 files changed, 14 insertions(+), 15 deletions(-)

commit 557ff0269cc13e561105c7f063364d7c12fb0979
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri May 12 17:44:32 2006 +0000

    only send "reject" actions in Google mode
    
    
    20060512174432-b59df-45eb2a02152aead037e4dd73dea02ce21c5b8884.gz

 src/gabble-media-session.c |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

commit 253c27e8b82fef52fcda4eda54897fcd226ce94c
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri May 12 17:22:01 2006 +0000

    refactor candidate node sending
    
    
    20060512172201-b59df-9f94a65840ff4c2b8af4a9d10640a2d102c39d9d.gz

 src/gabble-media-stream.c |   44 +++++++++++++++++++++++++-------------------
 1 files changed, 25 insertions(+), 19 deletions(-)

commit d353fd38363c96a4fba519a6305d29d580d6bb7e
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri May 12 17:03:41 2006 +0000

    refactor candidate node generation
    
    
    20060512170341-b59df-0f034d312ccc59043dee98c2e4cdf7cd7ed1eb83.gz

 src/gabble-media-stream.c |  179 +++++++++++++++++++++++----------------------
 1 files changed, 93 insertions(+), 86 deletions(-)

commit b33ae77503223623a8718c70490f99a55eef27d9
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri May 12 16:12:42 2006 +0000

    include namespace header in -session/-stream.c
    
    
    20060512161242-b59df-aba88a671ddd4118f80d94c13555cf53e9cbdb06.gz

 src/gabble-media-session.c |    1 +
 src/gabble-media-stream.c  |    1 +
 2 files changed, 2 insertions(+), 0 deletions(-)

commit a4ed01c5a7d587d6af84d88fad227a682cfa32bf
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri May 12 01:09:16 2006 +0000

    make various things (e.g. element names, namespaces) dependant on session mode
    
    
    20060512010916-b59df-3dd8fc2de49c4bccba9469a06d510ebc467c13a2.gz

 src/gabble-media-session.c |   40 ++++++++++++++++++++++++++++++++++------
 src/gabble-media-stream.c  |   11 ++++++++---
 2 files changed, 42 insertions(+), 9 deletions(-)

commit 29530b7b160f72d745073eb1e48eaf1f40b7706d
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri May 12 01:08:17 2006 +0000

    refactor voice resource selection, and check for GABBLE_JINGLE environment variable before using Jingle mode
    
    
    20060512010817-b59df-88a299f9a600ac93896c0d91b2e01ff65f75e8d2.gz

 src/gabble-media-session.c |   48 +++++++++++++++++++++++++++++++------------
 1 files changed, 34 insertions(+), 14 deletions(-)

commit 6b4c824f2ecd523aa5259a6d9172d2d0b83f1dc6
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri May 12 00:29:00 2006 +0000

    handle extra <transport> node in Jingle IQs
    
    
    20060512002900-b59df-4aeeca715f3f6c9d2061c9704fa9b5b749fac397.gz

 src/gabble-media-stream.c |   10 ++++++++--
 1 files changed, 8 insertions(+), 2 deletions(-)

commit 2cd56ee1ed9d940a347a9aba5edfc0e931442543
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu May 11 02:11:33 2006 +0000

    recognise Jingle as well as Google session action names
    
    
    20060511021133-b59df-c5edfc7ffa32509c571f2ef8ef8faa249b32462b.gz

 src/gabble-media-session.c |    9 ++++++---
 1 files changed, 6 insertions(+), 3 deletions(-)

commit 979287e3905d083e2cff7eaee0b9e3aef96f9569
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu May 11 02:11:00 2006 +0000

    set stream mode to session mode
    
    
    20060511021100-b59df-278362b164c8eb7b73aed64e9968b22d2cce6e98.gz

 src/gabble-media-session.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 0da9dae9bebdd3c34cb29c6820b0ce933e69a906
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu May 11 02:05:46 2006 +0000

    add mode property to GabbleMediaStream
    
    
    20060511020546-b59df-263354529fc9d2e69247494bc5d75b9ce49daf5f.gz

 src/gabble-media-stream.c |   21 +++++++++++++++++++++
 1 files changed, 21 insertions(+), 0 deletions(-)

commit a010da36f7bc6e75f9098bff8f5998db09daad8c
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu May 11 02:04:57 2006 +0000

    add mode property to GabbleSession and initalise it based upon the capabilities of the remote presence
    
    
    20060511020457-b59df-1fdc735b38a194a4aa5a381536706432339da854.gz

 src/gabble-media-session.c |   18 ++++++++++++++++--
 1 files changed, 16 insertions(+), 2 deletions(-)

commit fc1d7ffd579f2227e85bf559e4509988849d0563
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri May 12 14:42:28 2006 +0000

    fix remnants of old format in gabble.manager
    
    
    20060512144228-b59df-2987d0b83d00d291d2fce6d62d05a0d40fcc4efc.gz

 data/gabble.manager |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)

commit 93fdb2fc37b8d11b7fbf2fc96a4ad5edc46231e5
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri May 12 13:00:48 2006 +0000

    rename gabble-namespaces.h to namespaces.h
    
    
    20060512130048-0e791-4c28ee017f081db27a198f8fcbdf1b800f6204d9.gz

 src/Makefile.am         |    1 +
 src/gabble-connection.c |    2 +-
 src/gabble-namespaces.h |   18 ------------------
 src/namespaces.h        |   38 ++++++++++++++++++++++++++++++++++++++
 4 files changed, 40 insertions(+), 19 deletions(-)

commit bc1b9430d8a877f9bfe1acd79febb92ba2ad9bdf
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri May 12 01:05:21 2006 +0000

    convert code to using namespace constants
    
    
    20060512010521-b59df-7378ad07f7592b9543b0e2b64760c4b3a939209c.gz

 src/gabble-connection.c |    5 ++---
 src/gabble-namespaces.h |    1 +
 2 files changed, 3 insertions(+), 3 deletions(-)

commit be094c44fbb10e0e58df6747e50df869e0a3b822
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri May 12 00:35:30 2006 +0000

    move namespaces to gabble-namespaces.h
    
    
    20060512003530-b59df-56d346b9d62559346a9cc829d05abe61efb5951e.gz

 src/gabble-connection.c |   26 +++++++-------------------
 src/gabble-namespaces.h |   17 +++++++++++++++++
 2 files changed, 24 insertions(+), 19 deletions(-)

commit 07d8b15a4ec20b899eace4522f7ce453df351b00
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sat May 6 00:43:41 2006 +0000

    add media session mode enum
    
    
    20060506004341-b59df-e38665403f31b558d5ab9212b32d8a340ae59a57.gz

 src/Makefile.am            |    2 ++
 src/gabble-media-session.h |    6 ++++++
 2 files changed, 8 insertions(+), 0 deletions(-)

commit 5fdda9d723610ac07e763ca76702f2bd74ba2ba0
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu May 11 17:06:54 2006 +0000

    report semi-anonymous as anonymous, because there are next to no MUCs where occupants are anonymous to the administrator
    
    
    20060511170654-0e791-145a6d8752f41210ec1ed6d1f1384557053b0e9a.gz

 src/gabble-roomlist-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2f4a5325493d3e006fc1ec10760889263305436c
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu May 11 01:13:18 2006 +0000

    bump version to 0.1.24.1
    
    
    20060511011318-b59df-edae2251f729d231939c17e38e6711f88c762e1e.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2e3cbd31365a6731b4a7429de8730830fea3b368
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu May 11 00:41:17 2006 +0000

    update .manager file to new format
    
    
    20060511004117-b59df-4a8df3dfba596fb2a8a8d7819131b0e1a0bac3f0.gz

 data/gabble.manager |   22 ++++++++++++++++++++--
 1 files changed, 20 insertions(+), 2 deletions(-)

commit 2d1efa9bda9e068885b027f1e55726b012b82aeb
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed May 10 23:25:47 2006 +0000

    resolve conflicting changes to feature list
    
    
    20060510232547-b59df-47c402777761f9e0bd412571d0091f01642ff30b.gz

 src/gabble-connection.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 8eec46441f45a561eee5e5dd17fe0c344f5d55ea
Author:  <dafydd.harries@collabora.co.uk>
Date:   Mon May 8 09:53:30 2006 +0000

    also emit presence updates for ourselves
    
    
    20060508095330-b59df-0c3c172f836993712fcc63b8341d91856abcbda6.gz

 src/gabble-connection.c |    5 +----
 1 files changed, 1 insertions(+), 4 deletions(-)

commit a87da7a555f789458c5f96f55c298426e9b38454
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu May 11 01:04:26 2006 +0000

    make the presence cache ignore presence from ourselves on other resources (for the moment)
    
    
    20060511010426-0e791-dbbb092480d5295e251149bbfa43f832808bca4c.gz

 src/gabble-presence-cache.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit e7afc46997aa0e6e76a328a72d34e0ce3e5752de
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu May 11 01:02:19 2006 +0000

    construct presence cache with new conn argument
    
    
    20060511010219-0e791-90421bb6e1e3a5c86dfc9ae51ddf6d8c13166b54.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f09cef17c142332b48e68a58d2cf76127f8111ae
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 10 22:48:27 2006 +0000

    merge presence_cache_parse_message functionality into tweaked presence cache
    
    
    20060510224827-0e791-5a47dc4cfc36d7077f4681bd261eceef97399532.gz

 src/gabble-presence-cache.c |   92 ++++++++-----------------------------------
 1 files changed, 17 insertions(+), 75 deletions(-)

commit 1b43c2cf2cf8ef3bf1acd41bce7f1017a61c03a0
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 3 18:03:42 2006 +0000

    refactor PresenceCache a bit so that it takes a construct-time property of the GabbleConnection
    
    
    20060503180342-0e791-af453d052f7978b179a681a5bd7a27f7031a556d.gz

 src/gabble-presence-cache.c |  241 ++++++++++++++++++++++++++++++++++++++++---
 src/gabble-presence-cache.h |    2 +-
 2 files changed, 227 insertions(+), 16 deletions(-)

commit c6d8f6e80f2aff35dead9e6700687ad01fec9217
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 10 22:27:14 2006 +0000

    make the MUC presence_cb hand presence updates to the presence cache to parse, and filter out the MUC nodes from all lower priority callbacks
    
    
    20060510222714-0e791-7d1773cec29984ae7c92f6a25d4203553526d607.gz

 src/gabble-connection.c |   16 ++++++++++++----
 src/gabble-connection.h |    1 -
 2 files changed, 12 insertions(+), 5 deletions(-)

commit 945641c20ca954ca49fb361c43a89cc43ff7a088
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 10 22:25:21 2006 +0000

    split the presence callback into a function to parse the node, and a function to lookup the handle
    
    
    20060510222521-0e791-bbe0a979c17dd24796872b0358fa6baba054f3b1.gz

 src/gabble-presence-cache.c |  136 +++++++++++++++++++++++++------------------
 src/gabble-presence-cache.h |    4 +-
 2 files changed, 81 insertions(+), 59 deletions(-)

commit 2bc02fef5f556e810d622dbbdd04eaaeab4f1f69
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 10 22:13:38 2006 +0000

    tweak JID parsing function so that you don't have to provide a server variable
    
    
    20060510221338-0e791-78652faa69a544f066ec0842c5523134a53f09be.gz

 src/gabble-muc-channel.c |    6 ++----
 src/handles.c            |   20 ++++++++++++--------
 2 files changed, 14 insertions(+), 12 deletions(-)

commit d89b139910caa00312b31a8cce46feb6abba8cdb
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 10 22:09:56 2006 +0000

    rehash the presence updating algorithm again so that we store and emit the messages people can send when they sign off
    
    
    20060510220956-0e791-f697eda1c4d260e67406c5de687e2a8c11243d2d.gz

 src/gabble-presence.c |   23 ++++++++++++-----------
 1 files changed, 12 insertions(+), 11 deletions(-)

commit ae345e00f8b0746c046d3d0e066e125c8166b658
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 10 17:44:27 2006 +0000

    bump version to 0.1.23
    
    
    20060510174427-0e791-03dc25b46e5525280449f9bb814657e0382f603c.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 41d023e2883c7ca19b5d84691dc89d9b4aa4d94d
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 10 16:39:43 2006 +0000

    tweak order of presences to allow sensible numerical comparisons
    
    
    20060510163943-0e791-00c2a442652d3a263dd717b13705645a871e9f44.gz

 src/gabble-connection.c |   12 +++++++-----
 src/gabble-connection.h |   12 +++++++-----
 src/gabble-presence.c   |    4 +++-
 3 files changed, 17 insertions(+), 11 deletions(-)

commit c209a497e98e60de3e1ab84308b5db25ae5e286e
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 10 15:59:10 2006 +0000

    fix crashing when trying to call to a contact with no presence
    
    
    20060510155910-0e791-17f50e7835fcddfdbca621db53911ce32d37691a.gz

 src/gabble-media-channel.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 9049e927aef431dc4cef6f8bdc2860bb4fa2010e
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 10 15:55:36 2006 +0000

    tweak presence difference checking to improve readability
    
    
    20060510155536-0e791-d4189cdd4ae246c16a63f4727c7f82444fcaaee1.gz

 src/gabble-presence.c |   14 ++++++++++----
 1 files changed, 10 insertions(+), 4 deletions(-)

commit 597b3f79409ac260200a8b60b8bb7ae981f8086e
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 10 15:43:24 2006 +0000

    store caps in the presence node, plug a leak of the resource structure when buddies sign off, and tweak the updating algorithm to prefer higher-priority resources' status messages
    
    
    20060510154324-0e791-0b933c55349e8a96b1354a0986cce9f16959f734.gz

 src/gabble-presence.c |   32 +++++++++++++++++++-------------
 src/gabble-presence.h |    1 +
 2 files changed, 20 insertions(+), 13 deletions(-)

commit 83e7f409549491f6416f7494a854be717120a28e
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 10 12:32:50 2006 +0000

    bump version to 0.1.22
    
    
    20060510123250-0e791-acb9bced6704aa5df2a880432cc4ed4144a2a940.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 95b4d469d29f2fddddcc9166862132dab814f06b
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 9 00:36:36 2006 +0000

    tweak iq result/error functions to log less, and be more forgiving of acking IQ's from the server (hence those with no from attribute)
    
    
    20060509003636-0e791-93ea7fa39df9777d664759d242794f64388cb93d.gz

 src/gabble-connection.c |   54 +++++++++++++++++++++++++++++++++++++++++++---
 1 files changed, 50 insertions(+), 4 deletions(-)

commit e51462ff8a7dc84aedf79213fed7c461fb1d8653
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sat May 6 18:40:14 2006 +0000

    make _gabble_connection_send_iq_ack a no-op on id-less IQs
    
    
    20060506184014-0e791-b88d130fad059b2533ccde68be28b699404688f6.gz

 src/gabble-connection.c |   49 +---------------------------------------------
 1 files changed, 2 insertions(+), 47 deletions(-)

commit 88f31af75bdf451056d7eaed2b385c8419f1df03
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 10 12:20:25 2006 +0000

    add google roster and jingle info connection features
    
    
    20060510122025-0e791-6513f2490c3cf5705574e54354772867520e17f1.gz

 src/gabble-connection.c |   34 ++++++++++++++++++++--------------
 src/gabble-connection.h |    6 ++++--
 2 files changed, 24 insertions(+), 16 deletions(-)

commit f5178f6262dfe25762ed28cb693ba088aae2fa4f
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 10 12:10:53 2006 +0000

    tweak down verbosity of presence debug messages
    
    
    20060510121053-0e791-ae4a479ac7cca60c6c7fe196ee1d1df22fddd207.gz

 src/gabble-presence-cache.c |    6 +++++-
 src/gabble-presence.c       |    7 -------
 2 files changed, 5 insertions(+), 8 deletions(-)

commit 8b83032f767dc26ed0e144195aa2048d153c2e61
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 10 11:15:52 2006 +0000

    refactor voice resource finding so that we find voice-v1 if there are multiple caps, and don't hardwire for google's client
    
    
    20060510111552-0e791-9e0178dbe4edae4b15e526f3be494f7a7acff351.gz

 src/gabble-presence-cache.c |   46 +++++++++++++++++++++++++++++--------------
 1 files changed, 31 insertions(+), 15 deletions(-)

commit b2d83fa934b2e7e2a740f4a8cc6c84a7631b87a2
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 9 18:45:33 2006 +0000

    quieten presence cache
    
    
    20060509184533-0e791-6868cb064229784e48ae07e8b998ef5cf5afad41.gz

 src/gabble-connection.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 0352a8874070decc5419fcf34410626a878bb080
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 9 17:48:03 2006 +0000

    close the room list channel when disconnecting
    
    
    20060509174803-0e791-a2e07e437cc749d5f2b74c9e3e81b1e6d7faf891.gz

 src/gabble-connection.c |   15 +++++++++++++--
 1 files changed, 13 insertions(+), 2 deletions(-)

commit c11ef16f933bf50563381d516da29caca96f203a
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue May 9 00:07:11 2006 +0000

    pointless bike-shedding of the presence sending function
    
    
    20060509000711-0e791-6611d797269b0ea9f238fb918832871a5c50f577.gz

 src/gabble-connection.c |   21 ++++++++-------------
 1 files changed, 8 insertions(+), 13 deletions(-)

commit 2278a6bb1c27b4c7d1d6ffcf49eac4d4000f7831
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun May 7 02:59:35 2006 +0000

    remove unused hash_foreach_close_im_channel function
    
    
    20060507025935-0e791-a653718e4191fd2216706509eb88de87dc743c34.gz

 src/gabble-connection.c |   15 ---------------
 1 files changed, 0 insertions(+), 15 deletions(-)

commit 7396f98adf377bc26dd33472ab14566589872d24
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon May 8 19:05:51 2006 +0000

    make connection_iq_unknown_cb reply to unknown IQ stanzas using _gabble_connection_send_iq_error and XMPP_ERROR_FEATURE_NOT_IMPLEMENTED as the error condition
    
    
    20060508190551-50843-70aae4ad87d40346267dacd65239fdc4e81f526e.gz

 src/gabble-connection.c |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)

commit 2c3b4accabc72de50323bae47090a289b1bcff3c
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon May 8 19:02:35 2006 +0000

    turn _gabble_connection_send_iq_ack into _gabble_connection_send_iq_{result,error}, and change the users of the original function to use the new ones for proper XMPP error signaling
    
    
    20060508190235-50843-b5110fb83ec30f6be9d43e200104cdce0e46f799.gz

 src/gabble-connection.c    |   52 +++++++++++++++++++++++++++++++++++++++++--
 src/gabble-connection.h    |    4 ++-
 src/gabble-media-session.c |    5 ++-
 src/gabble-media-stream.c  |    8 +++---
 4 files changed, 59 insertions(+), 10 deletions(-)

commit 86256541ba60a927b67f759ee1b6ee0d4405d7a5
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon May 8 15:57:14 2006 +0000

    GabbleMucChannel: fix SetProperties type checking.
    
    
    20060508155714-50843-514f662167dac2f9bf681062cbb4abca256ab151.gz

 src/gabble-muc-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit fade003c752f8d5e0f8069ea976d0838f59490f6
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon May 8 18:41:39 2006 +0000

    make roster channels accept messages on AddMembers/RemoveMembers calls
    
    
    20060508184139-0e791-f5163bb583c1581039736d79529e91ac18d796e0.gz

 src/gabble-roster-channel.c |  117 ++++++++++++++++++++-----------------------
 1 files changed, 54 insertions(+), 63 deletions(-)

commit 47f349ba62197db3db98a61d8fa43339d0515e9c
Author:  <rob.taylor@collabora.co.uk>
Date:   Fri May 5 15:37:03 2006 +0000

    make session terminate when it is disposed.
    
    
    20060505153703-25e70-54cb2dcf3a359ed3895b5aaa5ccaa3ff3636f3eb.gz

 src/gabble-media-session.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 924396ffca481cda76b7bef9a311b373f05ff490
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri May 5 14:32:49 2006 +0000

    GabbleConnection: fall back in case of proxy failure.
    
    
    20060505143249-50843-5ca75fe7e388989b4c95a63d3847a4ed0f1b32e4.gz

 src/gabble-connection.c |   59 +++++++++++++++++++++++++++++++++++------------
 1 files changed, 44 insertions(+), 15 deletions(-)

commit 8014c4e9eb2631590896be8f2ae3d71d7bc120fc
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri May 5 16:30:16 2006 +0000

    bump version to 0.1.19
    
    
    20060505163016-50843-324ad9776757df1d08d9176ecf5fbdd6e1575a79.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e6138313cbb0128c42e92dcd576968bf7501b35e
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sun May 7 05:19:12 2006 +0000

    make disco handler support node attributes on disco queries
    
    
    20060507051912-b59df-993cfe5e611e0e65ec82c4e5949bbf4af50fd4c9.gz

 src/gabble-connection.c |   62 +++++++++++++++++++++++++++++++++++-----------
 1 files changed, 47 insertions(+), 15 deletions(-)

commit 5b187af7995173ec0681a761773c3868f4cb7d2c
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sun May 7 03:51:29 2006 +0000

    refactor disco response generation some more
    
    
    20060507035129-b59df-2628324c4182a3b0a223660164f8643207d47fac.gz

 src/gabble-connection.c |   49 ++++++++++++++++++++++++++++++++++++----------
 1 files changed, 38 insertions(+), 11 deletions(-)

commit 50bc3e1ee46cd0ce2845005b863394110ca48a88
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sun May 7 03:35:28 2006 +0000

    remove to_jid check
    
    
    20060507033528-b59df-1e3024bfcabbffc1e3824daea83d6a3c48097062.gz

 src/gabble-connection.c |    8 --------
 1 files changed, 0 insertions(+), 8 deletions(-)

commit 185f10e18f6b4e3737bff0159b02bc7829471101
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sun May 7 03:33:43 2006 +0000

    fix namesepace check thinko
    
    
    20060507033343-b59df-c004ee649992cb0d601f802199bd98170f49f5e3.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f1f76d2d455ea9bdbe19030798ffcc218a7cfaa4
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sun May 7 02:59:58 2006 +0000

    improve formatting
    
    
    20060507025958-b59df-d8edbd1435eb8d0858e0b6155b5fb155601a7920.gz

 src/gabble-connection.c |   16 ++++------------
 1 files changed, 4 insertions(+), 12 deletions(-)

commit 3c722693fc475349f107451bf28c8d41abdf5fbd
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sun May 7 02:55:21 2006 +0000

    convert code to namespace changes
    
    
    20060507025521-b59df-00409c4a98c2b9abfe3136b4a67e255ddfbf77f4.gz

 src/gabble-connection.c |   56 +++++++++++++++++++---------------------------
 1 files changed, 23 insertions(+), 33 deletions(-)

commit 389596c43fc6419cffa85059f4466b0210456351
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sun May 7 02:53:45 2006 +0000

    define constants for namespaces
    
    
    20060507025345-b59df-e763c3179fbf01908cbafae2bb88ab0d0b88bb4d.gz

 src/gabble-connection.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit d01bc98fb56bad0d5346d32bb7611bb32e63ee39
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sun May 7 02:32:52 2006 +0000

    add _lm_message_node_has_namespace utility function
    
    
    20060507023252-b59df-d4f9d0afbe52f770496d74705542dc45257888ae.gz

 src/gabble-connection.c |   20 +++++++++++++-------
 1 files changed, 13 insertions(+), 7 deletions(-)

commit 15fc447d31047a32f2b0b195881dd1f8467e8266
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sun May 7 02:29:07 2006 +0000

    add constant for disco#info namespace
    
    
    20060507022907-b59df-4f41b9b2abb7c02a039c1b368fcc9ab3e87ca1f8.gz

 src/gabble-connection.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit f03edf5b7119a1bc752edf89946a91af90c5df3a
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sun May 7 02:07:42 2006 +0000

    refactor disco response generation
    
    
    20060507020742-b59df-708ae36c50d8e8c67ba54074f5eb38951406491a.gz

 src/gabble-connection.c |   25 +++++++++++++------------
 1 files changed, 13 insertions(+), 12 deletions(-)

commit ddabdc29164436a1c58c6175430743695a50b82d
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sun May 7 00:41:59 2006 +0000

    add a constant for telepathy caps URL
    
    
    20060507004159-b59df-340673d922a58702d4e5fe5b96b2e52236a7893f.gz

 src/gabble-connection.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 86f2b731098132110543037ee77fb1ce92c413c5
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sun May 7 00:29:49 2006 +0000

    refactor disco response generation
    
    
    20060507002949-b59df-59dc599b4a636771e9878baf066dbde4b0d4eb64.gz

 src/gabble-connection.c |   30 +++++++++++++-----------------
 1 files changed, 13 insertions(+), 17 deletions(-)

commit f55b2bedef03f9fc7f7a80f6a04cab8a201234d0
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sat May 6 00:27:50 2006 +0000

    avoid emitting spurious presence updates
    
    
    20060506002750-b59df-1696b8d4d5efc7490b12ca121781cbb54614122e.gz

 src/gabble-presence-cache.c |    4 ++--
 src/gabble-presence.c       |   17 +++++++++++++++--
 src/gabble-presence.h       |    2 +-
 3 files changed, 18 insertions(+), 5 deletions(-)

commit 9827ff9b871d8d6075ab2727bef0de15e8d523a0
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri May 5 23:30:20 2006 +0000

    indentation
    
    
    20060505233020-b59df-f19adbcf157ce4f9d02b3c86dd0ef2921bf312ce.gz

 src/gabble-connection.c |   16 ++++++++--------
 1 files changed, 8 insertions(+), 8 deletions(-)

commit 406d1fc1e3fa41e3ae69b6b798f6c10f4f1484a1
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri May 5 23:16:50 2006 +0000

    add priority to outgoing presence stanzas
    
    
    20060505231650-b59df-cfb2053c3be513c18a38fc76c501c715f9d9518f.gz

 src/gabble-connection.c |    3 ++-
 src/gabble-presence.c   |   12 +++++++++++-
 src/gabble-presence.h   |    2 +-
 3 files changed, 14 insertions(+), 3 deletions(-)

commit 82c5d761751a7f2fe3960f9b700685cf9cac2454
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri May 5 23:06:58 2006 +0000

    refactor presence stanza generation
    
    
    20060505230658-b59df-9a1a99ebeed385060fe00147e694ddb0bc2091c9.gz

 src/gabble-connection.c |   64 +++++++++--------------------------------------
 src/gabble-presence.c   |   47 ++++++++++++++++++++++++++++++++++
 src/gabble-presence.h   |    2 +
 3 files changed, 61 insertions(+), 52 deletions(-)

commit 256bdf0c78e4042111e36660b6022088a2f4a2cd
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri May 5 23:06:25 2006 +0000

    advertise Google compatibility in response to disco requests
    
    
    20060505230625-b59df-0675101de98d8be8ce940412c27ccc53fd163add.gz

 src/gabble-connection.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 652339f14e94c0373df82c3a9bd53b61a1281a91
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri May 5 23:05:23 2006 +0000

    put quotes around version constant
    
    
    20060505230523-b59df-9f8621737c2ceb8af6665b0a8a42c73b41c3b8d8.gz

 src/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b865522a6d1b30bdeeea9476c728d812fe66283e
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri May 5 22:47:41 2006 +0000

    emit presence update signal only after updating the cache
    
    
    20060505224741-b59df-c8f87feb6309501f805370210a32a7eb2a650b60.gz

 src/gabble-presence-cache.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 98ce554f5bd33f7fcfdc3fab2088aaf167c0ef6f
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri May 5 22:44:52 2006 +0000

    fix case where signal for changed presence wasn't emitted
    
    
    20060505224452-b59df-9d09cebbc5eb134d632b3e1b87e4a89df6e08cb8.gz

 src/gabble-presence.c |   25 +++++++++++--------------
 1 files changed, 11 insertions(+), 14 deletions(-)

commit f5984143e2297c9c0c79fddc30dc49cbbbaf79c2
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri May 5 17:50:25 2006 +0000

    use Gabble node/ver on <c> node
    
    
    20060505175025-b59df-7937e424de660aafd90b89c4695df8df230de84f.gz

 src/gabble-connection.c |    6 ++----
 1 files changed, 2 insertions(+), 4 deletions(-)

commit f02834ceaeab093d496b93bc4b3763d7dd76e15a
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri May 5 17:49:58 2006 +0000

    define GABBLE_VERSION constant
    
    
    20060505174958-b59df-78cca1f8b5cd881ef4cce647bf4ae3a21ec94a8b.gz

 src/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c30e7e7fad100af7060c7c166caa0fd2987e9b70
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri May 5 14:57:31 2006 +0000

    disable useless presence debug messages
    
    
    20060505145731-b59df-f53593664aea0fdfbfd1b0eb78d0291585c5e4e9.gz

 src/gabble-presence-cache.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 8e9bdf2b2158d32767d74f7ee80bd9a8f5464ca2
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu May 4 17:53:12 2006 +0000

    fix disco leak
    
    
    20060504175312-b59df-8cca700808a9477b55990a79f87f2bf7027c6d1c.gz

 src/gabble-disco.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 28a0f0c137262c0c927ac43671f45d67f5374854
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed May 3 15:41:44 2006 +0000

    make gabble_presence_update smarter for when a resource goes offline
    
    
    20060503154144-b59df-4d2a53565a861925e823fbc5016f7d7686639baf.gz

 src/gabble-presence.c |   15 ++++++++++++---
 1 files changed, 12 insertions(+), 3 deletions(-)

commit 0b9a8858bf83815a5dd1d5b52b97bf7ef043d7b5
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed May 3 15:36:39 2006 +0000

    refactor: gabble_presence_update
    
    
    20060503153639-b59df-c849987594fd7f4e23b1f50be162e0df9122bfce.gz

 src/gabble-presence.c |   16 ++++++++--------
 1 files changed, 8 insertions(+), 8 deletions(-)

commit a9d9b3e89a98652a6c8ecf6e521d8dd816def7bd
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu May 4 16:41:48 2006 +0000

    Add a "low-bandwidth" option to GabbleConnectionManager and GabbleConnection, and make GabbleMucChannel poll for room property changes every 5th minute in low bandwidth mode and every minute in high bandwidth mode. Don't change and emit changed for room properties being changed to the same value as they previously were. Free room properties in finalize (doh). Add missing "stun-*" property badgering in GabbleConnectionManager.
    
    
    20060504164148-50843-d511524123710b5f15b0044d2cae106f9102a471.gz

 data/gabble.manager             |    2 +-
 src/gabble-connection-manager.c |   51 ++++++++++-
 src/gabble-connection.c         |   18 ++++
 src/gabble-muc-channel.c        |  178 ++++++++++++++++++++++++++++++++-------
 4 files changed, 213 insertions(+), 36 deletions(-)

commit 817ff292957a6e05f19e6bd634b9f3fe574b1188
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu May 4 17:19:13 2006 +0000

    avoid double free of media channels when closing the connection
    
    
    20060504171913-0e791-25014bba4e23df752a198a94bd23af20c4bac2cc.gz

 src/gabble-connection.c |   21 +++++++++++++--------
 1 files changed, 13 insertions(+), 8 deletions(-)

commit 3ceb9a7132eb2f6eeac921b4527eed8ec190e039
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu May 4 16:34:06 2006 +0000

    add a g_intset_clear function, inspired by Ross Burton
    
    
    20060504163406-0e791-358656b6c91fe7fdc7b0b4b8b1ba32228bb10591.gz

 src/gintset.c |   14 ++++++++++++++
 src/gintset.h |    1 +
 2 files changed, 15 insertions(+), 0 deletions(-)

commit abeeba3687632babbee67e439ba887b0c5ee5bb3
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu May 4 13:43:10 2006 +0000

    GabbleConnection: destroy the handle repo in finalize, after having cleared the client handle sets.
    
    
    20060504134310-50843-061df1f68913625073bdc8c9b644cd077da11cd2.gz

 src/gabble-connection.c |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit ed7bab617064b28cd7dd5b540ee3f2d38a26f06b
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu May 4 13:16:58 2006 +0000

    GabbleMucChannel: Close channel when joining fails, and specify the XMPP error description in the member removal message. Spec changes needed to fix this properly later on.
    
    
    20060504131658-50843-48982cdc38aeef30563e8846a4fe27b5ba81a9c7.gz

 src/gabble-muc-channel.c |   23 +++++++++++++----------
 1 files changed, 13 insertions(+), 10 deletions(-)

commit d71a2fe557ddd7d4ddb04375dd24c1ebe8608b8c
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu May 4 12:43:30 2006 +0000

    GabbleMucChannel: port to using the new GabbleXmppError API.
    
    
    20060504124330-50843-ac2c101e3ab001b46e04e728f89ddae5f1bc5e4b.gz

 src/gabble-connection.c  |    2 +-
 src/gabble-muc-channel.c |   75 +++++++++++++++++++++------------------------
 src/gabble-muc-channel.h |    2 +-
 3 files changed, 37 insertions(+), 42 deletions(-)

commit 96921f279f1b0e4278fe41fc1de36f7d7e9c4dec
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu May 4 12:42:32 2006 +0000

    gabble-error: add gabble_error_description
    
    
    20060504124232-50843-203f2f6f0e3a068c2b018351bc9fe21bb45560d6.gz

 src/gabble-error.c |    9 +++++++++
 src/gabble-error.h |    1 +
 2 files changed, 10 insertions(+), 0 deletions(-)

commit 3d15b6b5d26d2a70e2b2c3e144190eceeac5a311
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu May 4 12:10:08 2006 +0000

    GabbleRegister: port to using the new GabbleXmppError API.
    
    
    20060504121008-50843-4e745b162fd0ad9298f4da2171ed9a20eba7a76c.gz

 src/gabble-register.c |   12 ++++++++----
 1 files changed, 8 insertions(+), 4 deletions(-)

commit 7c9b94ebbfe2442dd4dbfd321481772e75303313
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu May 4 11:59:41 2006 +0000

    GabbleDisco: port to using the new GabbleXmppError API.
    
    
    20060504115941-50843-11654d86e5574225d9740a7bd94856a1f27e8c1e.gz

 src/gabble-disco.c |   64 +++++++++++++++------------------------------------
 src/gabble-disco.h |    7 +----
 2 files changed, 21 insertions(+), 50 deletions(-)

commit ed86145443da02d12fa5537dd007897d1db642e5
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu May 4 11:58:22 2006 +0000

    gabble-error: Add gabble_xmpp_error_to_g_error and descriptions for all errors.
    
    
    20060504115822-50843-966438c70370a0abf786eb3df81447876a3d6274.gz

 src/gabble-error.c |  196 ++++++++++++++++++++++++++++++++++++++++++++++------
 src/gabble-error.h |    4 +
 2 files changed, 178 insertions(+), 22 deletions(-)

commit 99fe5e26892362f739486a08b3e974e5dc584389
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu May 4 14:15:45 2006 +0000

    raise D-Bus requirement to 0.61
    
    
    20060504141545-0e791-0620dea8cd18c4037242eac2bce10959a4baccfc.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 6497fa8a10e6aa6ee70bdb05094892fcf1abf2ee
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed May 3 16:07:50 2006 +0000

    gabble-error: add copyright headers
    
    
    20060503160750-50843-1345c28d13fe3f0659b7d0ad22bfcd76ed92285f.gz

 src/gabble-error.c |   21 +++++++++++++++++++++
 src/gabble-error.h |   21 +++++++++++++++++++++
 2 files changed, 42 insertions(+), 0 deletions(-)

commit c08ea3e5f8f5270a11029b26f2851d19dd3643d7
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed May 3 16:01:48 2006 +0000

    gabble-error: A couple of style fixes.
    
    
    20060503160148-50843-81628949e6bfa8405110fa27271501a1521b16d8.gz

 src/gabble-error.c |   11 +++++++----
 1 files changed, 7 insertions(+), 4 deletions(-)

commit 6beb197da73d9971b5a55e6f6cfb68a23cfd9c1b
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed May 3 15:56:48 2006 +0000

    Add a generic XMPP error handling API.
    
    
    20060503155648-50843-dff89be1f5ea83dcf46fb93a4c069e8541e572f7.gz

 src/Makefile.am    |    2 +
 src/gabble-error.c |  132 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/gabble-error.h |   53 +++++++++++++++++++++
 3 files changed, 187 insertions(+), 0 deletions(-)

commit 31858da8c5a640414a99a9c6db01a35affe34bdb
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 3 15:40:39 2006 +0000

    make GabblePresenceCache signals emit numerically
    
    
    20060503154039-0e791-d074ba743b7e643a288de47a564079542e68ddeb.gz

 src/gabble-presence-cache.c |   15 +++++++++++----
 1 files changed, 11 insertions(+), 4 deletions(-)

commit a7423335121b1151680102d8f925ef7dd26211da
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed May 3 15:39:18 2006 +0000

    store priority values inside GabblePresence->Resource, and allow them to be set from SetStatus and parsed from incoming <presence>
    
    
    20060503153918-0e791-d47615e628460d3d2642f09174fe711b987b5b86.gz

 src/gabble-connection.c     |   24 ++++++++++++++++++++----
 src/gabble-presence-cache.c |   22 +++++++++++++++-------
 src/gabble-presence-cache.h |    2 +-
 src/gabble-presence.c       |    7 +++++--
 src/gabble-presence.h       |    2 +-
 5 files changed, 42 insertions(+), 15 deletions(-)

commit 8356b7fb7c0e76c484ad8d23409d56f887dc3ee8
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed May 3 11:43:55 2006 +0000

    GabbleMucChannel: Improve room properties server compatibility.
    
    
    20060503114355-50843-de1a811ac040852a09fbab717eff2f728c8512ed.gz

 src/gabble-muc-channel.c |   17 +++++++++++++++++
 1 files changed, 17 insertions(+), 0 deletions(-)

commit c86ff73161bd102c26242208b8195635681ac14b
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed May 3 11:12:16 2006 +0000

    GabbleMucChannel.SetProperties: Bugfix for special-cased "anonymous" room property config form handling.
    
    
    20060503111216-50843-1f7f174a9135ef0b4b90ff7a3df726654ffe22b2.gz

 src/gabble-muc-channel.c |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit a98079b80dface2a225a7657b4519bfc5b68122f
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed May 3 11:11:01 2006 +0000

    GabbleMucChannel: Implement read/write support for "description" room property.
    
    
    20060503111101-50843-53b83d6385851776ea346ee4b0cacad28f504ae6.gz

 src/gabble-muc-channel.c |   38 ++++++++++++++++++++++++++++++++++++--
 1 files changed, 36 insertions(+), 2 deletions(-)

commit 11950d83016c31bc6469bce73817ae4568cc70a4
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed May 3 10:42:15 2006 +0000

    GabbleGroupMixin and GabbleMucChannel: less annoying debug output.
    
    
    20060503104215-50843-eaf75d51190cf54f87e325ae7cf72416dffbe778.gz

 src/gabble-group-mixin.c |    4 ++--
 src/gabble-muc-channel.c |   12 +++++++-----
 2 files changed, 9 insertions(+), 7 deletions(-)

commit 26e28eafeb21e8e0fa1a73ff2e93d14a97b3f5d4
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed May 3 09:44:26 2006 +0000

    GabbleMucChannel.SetProperties: When changing subject, don't return until it has either been changed or changing it failed. Update properties on success, refresh properties on failure. Add support for another variant of the "anonymous" room property in room config (sigh). Code cleanups.
    
    
    20060503094426-50843-887be3d59bcfeda238c497bc63f298a675406afa.gz

 src/gabble-muc-channel.c |  406 ++++++++++++++++++++++++----------------------
 1 files changed, 214 insertions(+), 192 deletions(-)

commit 8ebd0d7ecee792cb5fed3ec5f749506e64505d3e
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed May 3 09:32:01 2006 +0000

    GabbleConnection: Split message_cb into message_im_cb and message_muc_cb. Make sure messages without a body get through to GabbleMucChannel. Add a ignore_nick parameter to gabble_handle_for_room_exists for convenience.
    
    
    20060503093201-50843-d0117ce48eaf80881c6a48bf1b90c217a8378787.gz

 src/gabble-connection.c |  415 ++++++++++++++++++++++++-----------------------
 src/handles.c           |   35 +++--
 src/handles.h           |    6 +-
 3 files changed, 243 insertions(+), 213 deletions(-)

commit 1f5b3a1bfe93d7c416dd47e693c1e3fbb4bde2c3
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed May 3 14:34:05 2006 +0000

    remove debugging cruft
    
    
    20060503143405-b59df-ec6690c9232411b1b924d95a233ea7b40b401ff0.gz

 src/gabble-connection.c |    6 ------
 1 files changed, 0 insertions(+), 6 deletions(-)

commit 222692fff5e4a395b95b1a63c8b615a77dfd5e18
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed May 3 00:07:28 2006 +0000

    replace tabs with spaces
    
    
    20060503000728-b59df-0c459a065a75d06acca3842ae82a4d40fce79000.gz

 src/gabble-media-session.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f90f076edff17d6783495c0bdcb8ce8b1c297c9a
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed May 3 00:06:56 2006 +0000

    remove unnecessary debug message
    
    
    20060503000656-b59df-2aa05b858b2fa7b4d8edb460f7e1136d81a6119b.gz

 src/gabble-connection.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit 18bc975571cd634d3afa61d69795985cd2121b0f
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 2 23:57:15 2006 +0000

    remove ContactPresence cruft
    
    
    20060502235715-b59df-3883a388cb6086c25ea3ddd4ecd71e12d6c1a938.gz

 src/gabble-media-session.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 3082bccf6227cc8e4a77cadb121c0a509d16b3d3
Author:  <dafydd.harries@collabora.co.uk>
Date:   Tue May 2 12:04:07 2006 +0000

    respond to incoming disco#info requests
    
    
    20060502120407-b59df-4a064811f1ad9bd061d7110c5d906a0adf19242b.gz

 src/gabble-connection.c |   77 ++++++++++++++++++++++++++++++++++++++++++++--
 1 files changed, 73 insertions(+), 4 deletions(-)

commit a4b0980a82d292a52e1e0fd183dc890b4b67bae2
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sat Apr 29 17:25:09 2006 +0000

    fix gabble_handle_is_valid invocation
    
    
    20060429172509-b59df-0ea9e82816d00427505cb8cff02291b9668baf8b.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e93af41f00a083a48c398045642a12b5d59a1213
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sat Apr 29 17:23:22 2006 +0000

    make presence callback static
    
    
    20060429172322-b59df-7611a29fa4b51da6790ba68ed8124ba607e5c967.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d18ea65186920a2f0c031bb027c18dc63695378f
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sat Apr 29 17:18:48 2006 +0000

    make GabbleConnection use GabblePresenceCache
    
    
    20060429171848-b59df-abb0b375fad2a07c0a99c2316e813aa8070b840e.gz

 src/gabble-connection.c    |  236 +++++++++++++++++++-------------------------
 src/gabble-connection.h    |   11 +--
 src/gabble-media-channel.c |    8 ++-
 src/gabble-media-session.c |   37 +++----
 4 files changed, 128 insertions(+), 164 deletions(-)

commit 74b45e33430a379b539a7f777cb3f7749dd0c3f8
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sat Apr 29 17:10:27 2006 +0000

    node_is_for_muc -> _get_muc_node
    
    
    20060429171027-b59df-1677ab3dffa9ee378643a38a218f176e4fa3e4f4.gz

 src/gabble-connection.c |   39 +++++++++++++++++----------------------
 1 files changed, 17 insertions(+), 22 deletions(-)

commit 813942be421085e2c8ac16dcddb968741950e787
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sat Apr 29 16:59:14 2006 +0000

    remove contact presence callback from gabble-connection.c
    
    
    20060429165914-b59df-f4d3badbf1bf3856b5c2d1e5c23e6727c4bbfaa2.gz

 src/gabble-connection.c |  162 -----------------------------------------------
 1 files changed, 0 insertions(+), 162 deletions(-)

commit 8b5e8fac439fe54c3db5febcb027c1dd52ea9d17
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sat Apr 29 16:53:12 2006 +0000

    remove cruft from presence cache
    
    
    20060429165312-b59df-459b1fba2c85948915d0d004de90d03af35b15ec.gz

 src/gabble-presence-cache.c |   12 ------------
 1 files changed, 0 insertions(+), 12 deletions(-)

commit 035e0fc350e448fb02e062ad9f3dc680aa151880
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sat Apr 29 16:49:22 2006 +0000

    make presence cache handle Loudmouth presence stanzas
    
    
    20060429164922-b59df-7b18396b49d34ba559dd8fa6b7760c2406aae9cc.gz

 src/gabble-presence-cache.c |  230 ++++++++++++++++++++++++++++++++++++++++++-
 src/gabble-presence-cache.h |    3 +-
 2 files changed, 229 insertions(+), 4 deletions(-)

commit 3142337f1566159e8f852a70de0c6b5d5dd3d189
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sat Apr 29 16:45:17 2006 +0000

    make gabble_presence_update free offline resources
    
    
    20060429164517-b59df-936e9ded9e13e6a51cae2ad1aa89ead74f96bc51.gz

 src/gabble-presence.c |   42 +++++++++++++++++++++++++++++++-----------
 1 files changed, 31 insertions(+), 11 deletions(-)

commit ba5aa49f328f74e8669f63bbb45bb6413b11ab8d
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sat Apr 29 16:41:37 2006 +0000

    free resources when presence object is finalised
    
    
    20060429164137-b59df-cb9b282ed401faa4201219c4200a467a5c0bfb15.gz

 src/gabble-presence.c |   16 ++++++++++++++--
 1 files changed, 14 insertions(+), 2 deletions(-)

commit a0538b6b46e31259da177287e478aacfec6d57f7
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sat Apr 29 16:38:07 2006 +0000

    move jabber presence constants to gabble-presence-cache.h
    
    
    20060429163807-b59df-2bfa4e1b19ffa32300bfb424ede2410ca6b37309.gz

 src/gabble-connection.c     |    5 -----
 src/gabble-presence-cache.h |    5 +++++
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 7a148931680a2f5a9812390713b88fa2db406567
Author:  <dafydd.harries@collabora.co.uk>
Date:   Sat Apr 29 00:08:38 2006 +0000

    unref presence cache at connection dispose time
    
    
    20060429000838-b59df-4db0a39583fa95ab1c574ef280df82dac5035ccc.gz

 src/gabble-connection.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 4f8fec3c62228bda956c3a48a425f175d654acb5
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri Apr 28 21:05:19 2006 +0000

    fix string parameters memory leak
    
    
    20060428210519-b59df-28784c44224474edd7b5321fe016812e8ca04aff.gz

 src/gabble-connection-manager.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 2ac76efe56dd0aabab12871a89da61176c14a2f5
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri Apr 28 17:45:31 2006 +0000

    refactor gabble_presence_update
    
    
    20060428174531-b59df-b21090adec87b66337d26dc78bfe963933d47fd2.gz

 src/gabble-presence.c |   31 +++++++++++++++++++------------
 1 files changed, 19 insertions(+), 12 deletions(-)

commit 469e71d6fd805d55e08f589060c2a2de075e5c6d
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri Apr 28 17:32:14 2006 +0000

    give GabbleConnection a presence cache
    
    
    20060428173214-b59df-56f60b2b55e4746e8d956fc2629ac946581a12c5.gz

 src/gabble-connection.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 25fe0ded01bf89922d14797a25e265075a8e9dd3
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri Apr 28 14:43:33 2006 +0000

    remove _presence_get_supports_voice
    
    
    20060428144333-b59df-1fa5de41f5f120f48c65562871a19e7739f0a7db.gz

 src/gabble-presence.c |   17 -----------------
 src/gabble-presence.h |    2 --
 2 files changed, 0 insertions(+), 19 deletions(-)

commit bdde98ce19d239d840313caedb991ed7a5cd25af
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri Apr 28 14:42:40 2006 +0000

    replace _pick_voice_resource with more general _pick_resource_by_caps
    
    
    20060428144240-b59df-e42a584a63832d87018c12c06babb34876f5e815.gz

 src/gabble-presence.c |    6 ++++--
 src/gabble-presence.h |    2 +-
 2 files changed, 5 insertions(+), 3 deletions(-)

commit 8f2db60e3d62fcf0f7cb88f246a66c8806a59955
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri Apr 28 14:39:52 2006 +0000

    rename presence caps and distinguish google/jingle voice caps
    
    
    20060428143952-b59df-3e76e57c3b1006b36d94d1a9ac9400aca4e8f0ad.gz

 src/gabble-presence.c |    9 ++++++---
 src/gabble-presence.h |    7 ++++---
 2 files changed, 10 insertions(+), 6 deletions(-)

commit fd1efa92f37233b4f8bddb8c70302099c3a10bc2
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri Apr 28 14:19:49 2006 +0000

    rename GabblePresenceCapability -> GabblePresenceCapabilities
    
    
    20060428141949-b59df-d5261b332359b18d02fe98fe4c0f72cfb2108f22.gz

 src/gabble-presence.c |    4 ++--
 src/gabble-presence.h |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 29cbfbd85c6f8f51bb5450f475c59934b41ce6f8
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri Apr 28 14:15:56 2006 +0000

    move GabblePresenceCache typedef to gabble-types.h
    
    
    20060428141556-b59df-3dc501157963a5aab3b0bc0071297c65d4fae6de.gz

 src/gabble-presence-cache.h |    2 --
 src/gabble-types.h          |    1 +
 2 files changed, 1 insertions(+), 2 deletions(-)

commit a52a08167ec7f5800493749bd4773823e16bbced
Author:  <dafydd.harries@collabora.co.uk>
Date:   Fri Apr 28 10:24:52 2006 +0000

    resolve Makefile.am conflicts
    
    
    20060428102452-b59df-855e84eb3e5772ce80f40e2e74943e14f6c4ebb5.gz

 src/Makefile.am |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 2633fd425688b3780f3b60bbdb0269940fc1fd5b
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu Apr 27 18:46:24 2006 +0000

    add gabble_presence_pick_voice_resource
    
    
    20060427184624-b59df-d80bb750f7aa0c421742e120b3f1ec019bbf5873.gz

 src/gabble-presence.c |   17 +++++++++++++++++
 src/gabble-presence.h |    2 ++
 2 files changed, 19 insertions(+), 0 deletions(-)

commit 624a452fc7552e3556ea59eb787fca0a46236c49
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu Apr 27 18:26:19 2006 +0000

    remove whitespace
    
    
    20060427182619-b59df-03cc77e3772f7786687c258f3fb79a72db5f903d.gz

 src/gabble-connection.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit e8b21eafc1ab498e0b909897eaae9dc137d54f4e
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu Apr 27 18:25:55 2006 +0000

    remove crufty presence declarations
    
    
    20060427182555-b59df-6187cb5bb0d4605a42d6b2f87cc02c223ccf9291.gz

 src/gabble-presence.h |    6 ------
 1 files changed, 0 insertions(+), 6 deletions(-)

commit 529b3c329921b81b38da163b8633a73497814b59
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu Apr 27 18:25:13 2006 +0000

    add gabble_presence_set_capabilities
    
    
    20060427182513-b59df-f77c919355124461638310398e7c82e1fea63416.gz

 src/gabble-presence.c |   21 +++++++++++++++++++++
 src/gabble-presence.h |    2 ++
 2 files changed, 23 insertions(+), 0 deletions(-)

commit 5c7ec202ab361b813bfe1b5bbb44b5172369ba5b
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu Apr 27 18:24:44 2006 +0000

    make resource caps more typeful
    
    
    20060427182444-b59df-68e6a3b3bec4a40e963ac75688813a9fe8b0d218.gz

 src/gabble-presence.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 87c45302507ab5b65a27e7c75dae2259372a1ed1
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu Apr 27 14:01:36 2006 +0000

    add GabblePresence, GabblePresenceCache
    
    
    20060427140136-b59df-f33e8ce01878d47eda89fc979e3f4ecdb2c967b1.gz

 src/Makefile.am             |    2 -
 src/gabble-presence-cache.c |   60 +++++++++++++++++++++
 src/gabble-presence-cache.h |   57 ++++++++++++++++++++
 src/gabble-presence.c       |  122 +++++++++++++++++++++++++++++++++++++++++++
 src/gabble-presence.h       |   72 +++++++++++++++++++++++++
 5 files changed, 311 insertions(+), 2 deletions(-)

commit 04c1a3a5d1ca5b8083dd8a3ddf4cc51b32350c62
Author:  <philippe.kalaf@collabora.co.uk>
Date:   Sat Apr 29 16:11:46 2006 +0000

    Version bump for 0.1.20 release
    
    
    20060429161146-2425b-6b0ca9cfdb78c94408a514c92403d2ef96a2f210.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 5f436f5b948c2e0d3d86f3e26d802b4fd1657953
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Apr 28 21:19:59 2006 +0000

    fix calls to lm_message_node_to_string which don't free the resulting string
    
    
    20060428211959-0e791-d952efefe70feebc8d5eb150a90e4c6b3473f07d.gz

 src/gabble-connection.c       |    4 ++--
 src/gabble-muc-channel.c      |    2 +-
 src/gabble-roomlist-channel.c |    6 +++---
 3 files changed, 6 insertions(+), 6 deletions(-)

commit 9fe9a97f6a5a024941566840f489a60ee84013cc
Author:  <rob.taylor@collabora.co.uk>
Date:   Thu Apr 27 16:17:23 2006 +0000

    more debug for stream playing signal and cleanup
    
    
    20060427161723-25e70-7bd5a35d8275f31c42c0113159fcd412d49af1f2.gz

 src/gabble-media-session.c |    4 ++--
 src/gabble-media-stream.c  |    1 +
 2 files changed, 3 insertions(+), 2 deletions(-)

commit b241e9052493ebc185dce2d29c63fea636d6e905
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Apr 28 12:22:30 2006 +0000

    a few other handle cleanups, avoid leaking references in hold_handle, use error generation in gabble_handle_is_valid where possible
    
    
    20060428122230-0e791-30c8a018613bbf9f0a60ac42c012b0a1be05fede.gz

 src/gabble-connection.c |   46 ++++++++++++++--------------------------------
 1 files changed, 14 insertions(+), 32 deletions(-)

commit 59fa432d3cd0a38f58ed9f04ed4a889cb051c84e
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Apr 28 12:15:17 2006 +0000

    implement gabble_handle_is_valid using handles_are_valid, so that it includes a check on the type and sets the error for you
    
    
    20060428121517-0e791-e90ad69978b965d726a0577df53b7c9b457440dd.gz

 src/gabble-connection.c  |   68 ++++++++++++++-------------------------------
 src/gabble-group-mixin.c |   38 +++++++++++--------------
 src/handles.c            |   18 ++++++++++--
 src/handles.h            |    2 +-
 4 files changed, 54 insertions(+), 72 deletions(-)

commit eeaee213c270e24eed29598e7d86b563e6eb9998
Author:  <rob.taylor@collabora.co.uk>
Date:   Thu Apr 27 14:59:24 2006 +0000

    add more debug for stream setting playing
    
    
    20060427145924-25e70-80b80962d2dd43ebc8c247ac513a7678cfa38fc2.gz

 src/gabble-media-session.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 274ad2e3e5f3a7f22164bc5295de8ad3c4b8d490
Author:  <rob.taylor@collabora.co.uk>
Date:   Wed Apr 26 10:22:42 2006 +0000

    implement SetStreamPlaying signal - emit when we accept and incoming call, or when we initiated a call
    
    
    20060426102242-25e70-a8a3a4630ef9d377ebf65d87e9098bf8be5fbf47.gz

 src/gabble-media-session.c                   |    5 +++++
 src/gabble-media-stream-signals-marshal.list |    1 +
 src/gabble-media-stream.c                    |   25 +++++++++++++++++++++++++
 src/gabble-media-stream.h                    |    2 ++
 4 files changed, 33 insertions(+), 0 deletions(-)

commit db16ae2a6d5d15dc95b5b39283347ec17d55ba3f
Author:  <rob.taylor@collabora.co.uk>
Date:   Tue Apr 25 16:41:56 2006 +0000

    regenerate GabbleMediaStream source for new signal
    
    
    20060425164156-25e70-17f01c264740fc2cee42c881cdc46291afc3437f.gz

 .../src/gabble-media-stream-signals-marshal.list   |    1 +
 generate/src/gabble-media-stream.c                 |   10 ++++++++++
 2 files changed, 11 insertions(+), 0 deletions(-)

commit 9f4402b5345df4d2cc70808b6ff1230e57fb1e2f
Author:  <rob.taylor@collabora.co.uk>
Date:   Tue Apr 25 15:54:17 2006 +0000

    update gabble-media-stream.xml with new SetStreamPlaying method
    
    
    20060425155417-25e70-68bdf78933dc3b3acb8494276021820e0d9fca74.gz

 generate/xml-modified/gabble-media-stream.xml |    3 +++
 generate/xml-pristine/gabble-media-stream.xml |    3 +++
 2 files changed, 6 insertions(+), 0 deletions(-)

commit fd6fb0bdd13b2caa704254208c4de910354aa10f
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Apr 26 03:13:34 2006 +0000

    add gabble-types.h to Makefile.am
    
    
    20060426031334-0e791-63ac77101582377ac41ac3d642ac0ba226a64763.gz

 src/Makefile.am |    9 +++++----
 1 files changed, 5 insertions(+), 4 deletions(-)

commit 105e1614a76842b5f72404f105d6cda4b376f08b
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Apr 26 02:48:14 2006 +0000

    factor the Lm connection, state, bus name, object path, handle repo, self handle and disco object into public members of GabbleConnection, avoiding inconsistent copying into child objects, removing calls to public D-Bus API from child objects, and the odd _gabble_connection_get_handles method
    
    
    20060426024814-0e791-27454d53b48e4ea0c7e1400e2b4a03cad3e909e8.gz

 src/gabble-connection.c       |  435 ++++++++++++++++++-----------------------
 src/gabble-connection.h       |   32 +++-
 src/gabble-disco.h            |    3 +-
 src/gabble-im-channel.c       |   32 +--
 src/gabble-media-channel.c    |  111 +++++------
 src/gabble-media-session.c    |   32 +---
 src/gabble-muc-channel.c      |   49 +----
 src/gabble-roomlist-channel.c |   48 ++---
 src/gabble-roomlist-channel.h |    2 +-
 src/gabble-roster-channel.c   |   28 ++--
 src/gabble-types.h            |   34 ++++
 src/handles.h                 |    4 +-
 12 files changed, 353 insertions(+), 457 deletions(-)

commit 8893a3552bc2f806b20878b6eee486a297abcf03
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Tue Apr 25 18:57:38 2006 +0000

    bump version to 0.1.19
    
    
    20060425185738-50843-894417286a94236d6e9f67c45c552f25906f12f4.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit bbe0dec73899166082da5ad6f6dc9dd6986863c9
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Tue Apr 25 18:52:23 2006 +0000

    Expose GabbleConnection's stun-* properties to the connection manager. Update gabble.manager to reflect the latest properties.
    
    
    20060425185223-50843-a18ad84ada806dc8e2d2518705787ae68f32516c.gz

 data/gabble.manager             |    2 +-
 src/gabble-connection-manager.c |   22 ++++++++++++++++++++--
 src/gabble-connection.h         |    9 +++++++++
 3 files changed, 30 insertions(+), 3 deletions(-)

commit 6d4b3225c8e67a4d80c68b03e3e7149c675d9b34
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Tue Apr 25 17:27:31 2006 +0000

    bump version to 0.1.18
    
    
    20060425172731-50843-9b44eb4d2107688fa67182059d873ad5bff961b3.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 97c4c656cfdb2e8dd01da86e960208c4ab617a0c
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Tue Apr 25 17:08:41 2006 +0000

    GabbleConnection: disconnect with NAME_IN_USE when registration fails due to username collision.
    
    
    20060425170841-50843-3971bfcea4afddfc44abc1744de715611f036c96.gz

 src/gabble-connection.c   |    3 ++-
 src/telepathy-constants.h |    3 ++-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 2b1218619317ac094f1fd99aa978cb20dd5785c7
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Tue Apr 25 16:50:38 2006 +0000

    Implement support for in-band account registration. Attempts to register a new account when register=true is passed to Connect().
    
    
    20060425165038-50843-b4c4eb23fbd36bf31ea4214a0244c7fa755c5deb.gz

 src/Makefile.am                          |    4 +
 src/gabble-connection-manager.c          |    4 +
 src/gabble-connection.c                  |  107 ++++++++--
 src/gabble-register-signals-marshal.list |    1 +
 src/gabble-register.c                    |  350 ++++++++++++++++++++++++++++++
 src/gabble-register.h                    |   63 ++++++
 6 files changed, 511 insertions(+), 18 deletions(-)

commit 34872916b09e04b60f60d1f519e5002c6a042c69
Author:  <dafydd.harries@collabora.co.uk>
Date:   Wed Apr 26 03:15:22 2006 +0000

    make Rob's handle validity changes work
    
    
    20060426031522-b59df-69232aac1f5564bd32c059ecddaab370e1d834a4.gz

 src/handles.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 4c031ea7de6fef0365f5e38a6ab01bec3d3e1c26
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Apr 12 17:41:34 2006 +0000

    make gabble_handle_type_is_valid return an InvalidArgument error if you wish
    
    
    20060412174134-0e791-296d413d6d75ed8865815537ce83d0a65f8d0943.gz

 src/gabble-connection.c |   28 ++++------------------------
 src/handles.c           |   26 +++++++++++++++++++-------
 src/handles.h           |    2 +-
 3 files changed, 24 insertions(+), 32 deletions(-)

commit ae1912eb8457284db36384bf41f843e9ca4f6991
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Apr 12 17:01:57 2006 +0000

    add a gabble_handles_are_valid function
    
    
    20060412170157-0e791-7cc7656f033391d407b8dae4b73507ddd3b9555f.gz

 src/handles.c |   35 +++++++++++++++++++++++++++++++++++
 src/handles.h |    2 ++
 2 files changed, 37 insertions(+), 0 deletions(-)

commit c80c7fa623da2699107b7381b2f1dc7bb44af27b
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Apr 21 16:31:30 2006 +0000

    GabbleConnectionManager: expose "fallback-conference-server" property.
    
    
    20060421163130-50843-1bf46ba0da9f6445a60bbcd438aa8acccdffce3a.gz

 src/gabble-connection-manager.c |    6 ++++++
 src/gabble-connection.h         |   11 ++++++-----
 2 files changed, 12 insertions(+), 5 deletions(-)

commit 690ebed5133a563faf93de222f8f7af2a18ab6f2
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Apr 21 15:58:24 2006 +0000

    bump version to 0.1.17
    
    
    20060421155824-50843-79d02d9c8e7a19b37a41b3f53f1ae2c35ff8fb85.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 88bae01d1b0afab287faa5264114c2d0c88a100a
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Apr 21 15:07:03 2006 +0000

    room_name_to_canonical: remove redundant initialization.
    
    
    20060421150703-50843-1213ae7488665d142be32d805afb890d1992314e.gz

 src/gabble-connection.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit a56ee2436084f7276f26e11ce73ccc42d47a77b7
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Apr 21 15:03:59 2006 +0000

    GabbleConnection: don't sanity-check room jids as they can be non-qualified.
    
    
    20060421150359-50843-80a51a56052caff9d8364a750b996ce5783052d8.gz

 src/gabble-connection.c |   71 ++++++++++++++++++++++-------------------------
 1 files changed, 33 insertions(+), 38 deletions(-)

commit 4c50833af9af2844c21fd4ccced3fc0297376c72
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Apr 21 14:04:49 2006 +0000

    GabbleConnection: free list of conference servers in finalize.
    
    
    20060421140449-50843-57811bd4ce76e8e33c6d37e650fdba62be3c4ee9.gz

 src/gabble-connection.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit a1dcc3aade6b0f187b2e53e1159b75fc3983d0b0
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Apr 21 14:02:01 2006 +0000

    Append new conference servers to the linked list instead of prepending, to avoid the added complexity of figuring out when we're really done querying for them so that the list can be reversed. Add a default server when doing RequestHandle with a non-qualified room identifier.
    
    
    20060421140201-50843-3cc8e855e07dd0a6038156a6c7c001f144bac98e.gz

 src/gabble-connection.c |   52 +++++++++++++++++++++++++++++++++++++++++++---
 1 files changed, 48 insertions(+), 4 deletions(-)

commit 2f6aad0ab4c7647daa0c2ce251220e63c2e2a8b8
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Apr 24 21:23:57 2006 +0000

    split connection presence_cb into three functions, for muc stuff, roster stuff, and actual presence
    
    
    20060424212357-0e791-ba1f3eeea076aac562d248348c5795b17dc9c6e9.gz

 src/gabble-connection.c |  374 ++++++++++++++++++++++++++++++++---------------
 1 files changed, 256 insertions(+), 118 deletions(-)

commit 874925a51b4e65a854eb7ac1f68b9ce43f8f44dc
Author:  <dafydd.harries@collabora.co.uk>
Date:   Mon Apr 24 13:35:41 2006 +0000

    make MUC presence callback use the message rather than ContactPresence
    
    
    20060424133541-b59df-142fba56ec25d01826cc6582de6f9bf089a0782d.gz

 src/gabble-connection.c  |    2 +-
 src/gabble-muc-channel.c |   11 ++---------
 src/gabble-muc-channel.h |    2 +-
 3 files changed, 4 insertions(+), 11 deletions(-)

commit 14eb793181fa6397d1271f39401c7e2e3562dbb4
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Apr 20 18:44:09 2006 +0000

    grok legacy jabber <error code=xxx> attributes
    
    
    20060420184409-0e791-371e4df5e8ef8cd016880c7656bbf0947617f5e2.gz

 src/gabble-disco.c |   24 ++++++++++++++++--------
 1 files changed, 16 insertions(+), 8 deletions(-)

commit ad4c14530177d201c1c238b64a6eaf4bafd7cba1
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Apr 20 18:43:57 2006 +0000

    make presence errors less shouty
    
    
    20060420184357-0e791-dd1dd1496624589c29993378757b2fcb3cd6559a.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d54a4a356372045f7e41c4ae117630dff0413dc4
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Apr 20 18:13:46 2006 +0000

    replace painful multiple string concatenations with a GString
    
    
    20060420181346-0e791-e051cb82442f1963005f5d95d48d6544b712e58f.gz

 src/gabble-group-mixin.c |   22 +++++++---------------
 1 files changed, 7 insertions(+), 15 deletions(-)

commit 7e97a03dbb9ceea045bff47037ca7383bf58d3cc
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Apr 20 18:05:15 2006 +0000

    fix handle repository to not leak all private handle structures, and know how to free up list handles
    
    
    20060420180515-0e791-4ed611609927815039b1a747f868530b9284d145.gz

 src/handles.c |   30 +++++++++++++++---------------
 1 files changed, 15 insertions(+), 15 deletions(-)

commit d3dbba26dde0d5ae9c42214a43335e79e33c023f
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Apr 20 10:32:13 2006 +0000

    replace suspicious-looking static buffer with a GString
    
    
    20060420103213-0e791-9eb60c423cd123bcfab0d05ec634e92ee6365c5f.gz

 src/gabble-group-mixin.c |   12 +++++++-----
 1 files changed, 7 insertions(+), 5 deletions(-)

commit 2ea6e9829655b7f3c6482fc412c2d13ce84886ed
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Apr 19 18:35:33 2006 +0000

    make the roster channel use the group mixin to cut down a bunch of annoying code duplication
    
    
    20060419183533-0e791-b036ef4174c2108a9ad5d99920ab615b2c145d1d.gz

 src/gabble-connection.c     |   20 +-
 src/gabble-roster-channel.c |  550 +++++++++++--------------------------------
 src/gabble-roster-channel.h |   17 +-
 3 files changed, 151 insertions(+), 436 deletions(-)

commit 34831f558675c5e8bdefd7b17f7e9d06a1433e46
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Apr 19 18:29:16 2006 +0000

    skip existing members when adding in the group mixin
    
    
    20060419182916-0e791-0c3c1168271de3d84a8d97e60fcb7609ef8f1e58.gz

 src/gabble-group-mixin.c |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit b87ef7627f43efbd7dc8d966d03d6715507dfa79
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Apr 19 17:38:31 2006 +0000

    add checking of all ADD/REMOVE/RESCIND flags for all add & remove operations on the group mixin
    
    
    20060419173831-0e791-079f3fb96f474b1f1a4a6b1805459b855ea4881f.gz

 src/gabble-group-mixin.c |   75 ++++++++++++++++++++++++++++-----------------
 1 files changed, 47 insertions(+), 28 deletions(-)

commit 5bd394cf6fd612e44f683956539a43fe9a159c0a
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Apr 19 17:06:56 2006 +0000

    correct unreffing the wrong handle type when closing the roster channel
    
    
    20060419170656-0e791-9e709f8b1a0a3a298397541831994a73119da9fa.gz

 src/gabble-roster-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit cfdde92f0a01b06a51b89df1e71d742569632782
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Apr 19 17:02:34 2006 +0000

    free up the group mixin when closing MUC channels
    
    
    20060419170234-0e791-2d76bb9184a70f26b93ec922063f4c1b89da1dd1.gz

 src/gabble-muc-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit a064112dea691d826ad127d2f6c705e52c54920e
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Apr 20 10:43:39 2006 +0000

    catch a few places were room properties weren't replaced with the new properties interface
    
    
    20060420104339-0e791-9795812a3689399ca749ac3f45d2ec3de8dc7eb8.gz

 src/gabble-muc-channel.c   |   10 +++++-----
 src/telepathy-constants.h  |   10 +++++-----
 src/telepathy-interfaces.h |    4 ++--
 3 files changed, 12 insertions(+), 12 deletions(-)

commit c96f1e19f9991a42511735eb775bdf82b09ea6d3
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Apr 18 19:42:24 2006 +0000

    Add variant muc_unsecure (JEP-0045 says muc_unsecured) which some servers seem to use, in both places where we parse room disco responses. Fix mis-spelling of muc_persistEnt in room listing. We've got three places where we disco MUCs now. Sigh.
    
    
    20060418194224-0e791-eafc828cbfa5daaeaca0624d93c1f498f441b6ee.gz

 src/gabble-muc-channel.c      |    3 ++-
 src/gabble-roomlist-channel.c |    8 +++++---
 2 files changed, 7 insertions(+), 4 deletions(-)

commit 7bf2b23eb556950abd8ec0803b7eb68dcf8292be
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Apr 18 18:27:10 2006 +0000

    add https-proxy-server and port parameters to the .manager file
    
    
    20060418182710-0e791-50c91881eed55e39a4ae31b7e16fb1dfdf9179fc.gz

 data/gabble.manager |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit fdf1896b503a4f12c381c99692c12ad3bfacce51
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Apr 18 18:18:55 2006 +0000

    give up on ***ing passwords and just print <hidden>, in *both* places where it gets printed :)
    
    
    20060418181855-0e791-933d46b1765458ddf86ff8c7ed9ddcfbece22ee4.gz

 src/gabble-connection-manager.c |   17 +++++------------
 src/gabble-connection.c         |    4 ++--
 2 files changed, 7 insertions(+), 14 deletions(-)

commit ffbf931a8a4edf2981b622dac1379b897d876d77
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Apr 18 17:10:13 2006 +0000

    bump version to 0.1.16
    
    
    20060418171013-0e791-b2415f045838f0ff78ca109f2e79c0ff847eaf27.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 88994dd66bd106bf9eaa2206676ceb802c59e319
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Apr 18 17:02:18 2006 +0000

    make the MUC presence changed callback take the MUC <x> node from the connection presence callback, where the algorithm to find it is correctly implemented. previously some confusion was caused by finding <x> delay nodes by mistake, and ignoring room member presence as a consequence.
    
    
    20060418170218-0e791-6c5cb4591cfc913711ad82f079ab93521be647cc.gz

 src/gabble-connection.c  |    6 +++---
 src/gabble-muc-channel.c |   13 +++----------
 src/gabble-muc-channel.h |    2 +-
 3 files changed, 7 insertions(+), 14 deletions(-)

commit 949c31fc64ef27675d486d4999fbfb02b8e6aae3
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Apr 12 11:56:05 2006 +0000

    bump version to 0.1.15
    
    
    20060412115605-0e791-7a591ba103a364c737288c07f5c97263f0a8c39e.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 710305fdab763af32f104ff4eda95831c8655d18
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Apr 12 11:40:37 2006 +0000

    Allow channel to sit indefinitely in password required state.
    
    
    20060412114037-0e791-c7817782e4d63096103a5ae8ffbc04f1358a614e.gz

 src/gabble-muc-channel.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 666d103925c0d949d940faf729921d52e1ae64d9
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Apr 12 10:56:57 2006 +0000

    tweak semantics of password interface
    
    so that a) channel is not closed if the password is wrong, and b) the
    PROVIDE_PASSWORD flag stays set until the password has been given correctly.
    
    20060412105657-0e791-396d56f9557863cfd1937089acbf2084f75af5c9.gz

 src/gabble-muc-channel.c |   63 +++++++++++++++++++++++----------------------
 1 files changed, 32 insertions(+), 31 deletions(-)

commit ad6573b11e89200e3768c39de65301496fe22295
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Apr 12 08:00:51 2006 +0000

    remove unused disconnect_reason
    
    
    20060412080051-0e791-f006ea52be7d7b7e59e95c0a558d25c058deabb3.gz

 src/gabble-connection.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 64cf775843acaf9aca89371c7603064d520aeb3e
Author:  <rob.taylor@collabora.co.uk>
Date:   Wed Apr 12 08:00:47 2006 +0000

    add some funky critical/error handling
    
    
    20060412080047-25e70-0cc963835f54b714678c8874b1bf591f14538bd5.gz

 src/gabble.c |   37 +++++++++++++++++++++++++++++++++++++
 1 files changed, 37 insertions(+), 0 deletions(-)

commit 0f55ab4d066f240f7610661890bc677d1ece3877
Author:  <rob.taylor@collabora.co.uk>
Date:   Tue Apr 11 12:50:28 2006 +0000

    terminate varargs in gabble_roomlist_channel_new
    
    
    20060411125028-25e70-fdd7034c71ca0ecc0e3188d15b589a9fd37ff2ff.gz

 src/gabble-roomlist-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4c28cc0f32d5b6418df194a450e1997c621d7013
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Apr 11 14:20:21 2006 +0000

    ref the handle of pending messages
    
    
    20060411142021-0e791-0f72a62a8871803fda40fdfe647d9d8e0ac48d2e.gz

 src/gabble-im-channel.c  |    8 ++++++++
 src/gabble-muc-channel.c |    9 +++++++++
 2 files changed, 17 insertions(+), 0 deletions(-)

commit 4eda2eb831806c81f5d7e8158ffb67e6454c4e49
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Tue Apr 11 12:21:45 2006 +0000

    GabbleConnection: add the properties "fallback-conference-server", "stun-server", "stun-port", "stun-relay-magic-cookie", "stun-relay-server", "stun-relay-udp-port", "stun-relay-tcp-port", "stun-relay-ssltcp-port", "stun-relay-username" and "stun-relay-password"
    
    
    20060411122145-50843-b6578e7a8b0f9171a0103d3275c12da2a8ea82e3.gz

 src/gabble-connection.c |  196 +++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 196 insertions(+), 0 deletions(-)

commit 50e1a21af8b19edb2ef4ffac8e4759cac1bb005d
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Tue Apr 11 10:49:26 2006 +0000

    Add support for https-proxy-server, https-proxy-port and resource properties, and improve parameter handling.
    
    
    20060411104926-50843-9f2a9b17f024b5ca73a193bed776e6b7600fb535.gz

 src/gabble-connection-manager.c |   86 +++++++++++++++++++--------------
 src/gabble-connection.c         |  101 ++++++++++++++++++++++++++++++++------
 src/gabble-connection.h         |    9 +++-
 3 files changed, 143 insertions(+), 53 deletions(-)

commit 662dfa5146321a827b9a02b521988a70ae07b8f6
Author:  <rob.taylor@collabora.co.uk>
Date:   Tue Apr 11 10:23:12 2006 +0000

    new version 0.1.14
    
    
    20060411102312-25e70-d35a99a90ff65dd0897276a0a9fdd676dd9928a7.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 246677d4d184e21b235046a7bbacbeb48b88a449
Author:  <rob.taylor@collabora.co.uk>
Date:   Tue Apr 11 08:34:42 2006 +0000

    emit room listing signal correctly
    
    
    20060411083442-25e70-20012747ea144c1825e760368261d74ea34bfe49.gz

 src/gabble-roomlist-channel.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 89cb6688e232a5397ece08748e6d894060ad388d
Author:  <rob.taylor@collabora.co.uk>
Date:   Tue Apr 11 08:24:04 2006 +0000

    add description and room name to roomlist info. emit listing signal at appropriate points.
    
    
    20060411082404-25e70-5d731a17ef2ea3e05008df31d31871d5095ca208.gz

 src/gabble-roomlist-channel.c |  117 +++++++++++++++++++++++++++++++----------
 1 files changed, 89 insertions(+), 28 deletions(-)

commit f8b0b6ebf1842c9e48706e371655e95b751f89e0
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon Apr 10 16:16:54 2006 +0000

    Bump version to 0.1.13.
    
    
    20060410161654-50843-d1568096fcb9f72e6ad7269075077236d738a79a.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 1d7171db4ca553cd52f94aa095b215fc54534ef5
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon Apr 10 16:05:30 2006 +0000

    MUC: Port to new Properties interface.
    
    
    20060410160530-50843-e3c908c178bdc07ce1e64c9a5b44352b7420e378.gz

 generate/gabble.def                          |    2 +-
 generate/src/gabble-muc-channel.c            |   16 +-
 generate/src/gabble-muc-channel.h            |    6 +-
 generate/xml-modified/gabble-muc-channel.xml |   38 ++--
 generate/xml-pristine/gabble-muc-channel.xml |   36 ++--
 src/gabble-muc-channel.c                     |  252 +++++++++++++++-----------
 src/gabble-muc-channel.h                     |   28 +++-
 src/telepathy-constants.h                    |    4 +-
 8 files changed, 223 insertions(+), 159 deletions(-)

commit 52a8e064f1b372638db0803f75f61c38978570fc
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Apr 10 13:41:23 2006 +0000

    make StreamedMediaChannel::GetStreams return NotImplemented for now
    
    
    20060410134123-25e70-8edc9aabc5fbe21026ff4f870b84f2d7eaedbb68.gz

 src/gabble-media-channel.c |   13 ++++++++++++-
 1 files changed, 12 insertions(+), 1 deletions(-)

commit 4392c4c09c32f11c70c6b75a44354954cd74a4ad
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Apr 10 13:29:07 2006 +0000

    up the version number
    
    
    20060410132907-25e70-81d02ceadcc2c79614298111528c7c26f3654354.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit c0e8f284c6dd11728591f99466da76ba0015d282
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Apr 10 13:20:46 2006 +0000

    add better debug for case when no conference server is availiable
    
    
    20060410132046-25e70-9b5cf90c896b005b1d95fc28676049887233bae0.gz

 src/gabble-connection.c |   10 +++++++++-
 1 files changed, 9 insertions(+), 1 deletions(-)

commit a3303fca0c1eea7867b206271641f892a654a203
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon Apr 10 12:07:50 2006 +0000

    MUC: Handle the case where the 'text' node is missing in a password required response.
    
    
    20060410120750-50843-2df8b31bfba59dc979513b1bbdc172574a05b2b7.gz

 src/gabble-muc-channel.c |   12 +++++++-----
 1 files changed, 7 insertions(+), 5 deletions(-)

commit 7f243557f0748fa1c521a28b20b9730d6b051649
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon Apr 10 09:35:48 2006 +0000

    Replace group flags XOR operations with ORs.
    
    
    20060410093548-50843-fb6aa62904927a788a08e622776213826eb9bc2d.gz

 src/gabble-connection.c    |    4 ++--
 src/gabble-media-channel.c |   13 ++++++++-----
 src/gabble-muc-channel.c   |    6 +++---
 3 files changed, 13 insertions(+), 10 deletions(-)

commit 5f22520684ba720aa3bfc926abc069924007b426
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon Apr 10 09:26:55 2006 +0000

    MUC: Remove inviter handle from members list when accepting invitation.
    
    
    20060410092655-50843-bfbd149a5ef98c57b640698ca3d4973eaec461b2.gz

 src/gabble-muc-channel.c |   51 +++++++++++++++++++++------------------------
 src/handle-set.c         |   14 +++++++++++-
 src/handle-set.h         |    2 +
 3 files changed, 39 insertions(+), 28 deletions(-)

commit 9f5621602704282718dbca37ad19b99db224c868
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Apr 10 08:04:58 2006 +0000

    add debug strings to connection_disconnect refactoring patch
    
    
    20060410080458-0e791-73f7e1e4d2a43b7dd1d45ba638eb51253f5c3249.gz

 src/gabble-connection.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 0da6d0dff293670543eccd81ae105d27892e0c65
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Apr 10 00:18:40 2006 +0000

    fix bug where creating a 2nd media channel (incoming or outgoing call) would result in a crash
    
    
    20060410001840-0e791-11920329337338d696fa8c700845518ab3f0bbd3.gz

 src/gabble-connection.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit baf4f97bbf7d84e50c58ee0dbf910e9377752531
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun Apr 9 23:43:16 2006 +0000

    fix crashing when re-invited to an existing MUC
    
    
    20060409234316-0e791-d1b8275c41bb87aaf4dca472805854ca4e844169.gz

 src/gabble-connection.c |   14 +++++++++++---
 1 files changed, 11 insertions(+), 3 deletions(-)

commit 044da23acc243ce40161d4fd0ba90132868cc308
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sun Apr 9 17:42:14 2006 +0000

    Bump version to 0.1.11.
    
    
    20060409174214-50843-231c03c144f45766ce4b3a478dcb40cb4d515f50.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2d5e07f27e96c5a65c8eaac17f993c34cab8a0e5
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sun Apr 9 16:57:12 2006 +0000

    Minor fix to invitations by Andrei Laperie.
    
    
    20060409165712-50843-db12e4acfb7f8371af55f6d992131c47f3f993af.gz

 src/gabble-muc-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit b93db6a24e16c3233dbb732f945531810d95b095
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sun Apr 9 16:48:33 2006 +0000

    MUC: Always accept room defaults when creating a new room. Handle more room config field names.
    
    
    20060409164833-50843-73fcf6d3e570cc8ea4ca4ed378e55dcc91d2c197.gz

 src/gabble-muc-channel.c |   79 ++++++++++++++++++++++++++++++++++++++++-----
 1 files changed, 70 insertions(+), 9 deletions(-)

commit 357accd41718d33a2abefca0d24069693fac0b99
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sun Apr 9 13:59:24 2006 +0000

    Make the reported version of voice-v1 a constant.
    
    
    20060409135924-50843-03c39c165a50cf84bc22d3f5d113a202a555bb90.gz

 src/gabble-connection.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 895ded79a1b0304a3754cd0d1887316fdabc1081
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sun Apr 9 13:42:51 2006 +0000

    MUC: Fix handle lookup so that it doesn't crash if we get a DISCO response not reporting MUC support.
    
    
    20060409134251-50843-707ceacecebd3a4b4e0e6b8d4c1dde424495f7a8.gz

 src/gabble-connection.c |    9 ++++++---
 1 files changed, 6 insertions(+), 3 deletions(-)

commit ec386b769b5aa9cbd708f7d899a8214483b1fa31
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sun Apr 9 12:42:19 2006 +0000

    MUC: Implement support for subject-{contact,timestamp} and lots of bugfixes.
    
    
    20060409124219-50843-af9d2e87325d4d7f5ee685b4a1f3ca55fe22a112.gz

 src/gabble-connection.c  |   41 +++++++++++++++-------
 src/gabble-muc-channel.c |   83 +++++++++++++++++++++++++++++++++------------
 2 files changed, 89 insertions(+), 35 deletions(-)

commit 1b77a0485e120c07780f916d9dd91d13fa464407
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sun Apr 9 09:28:08 2006 +0000

    MUC: Finish RoomProperties write support.
    
    
    20060409092808-50843-48db6d702b914fcf6ba56686f89d77b1e3463431.gz

 src/gabble-muc-channel.c |   70 +++++++++++++++++++++++++++-------------------
 1 files changed, 41 insertions(+), 29 deletions(-)

commit 819bc7f2956bba7e91b4c397d21525085537f769
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Apr 7 16:28:36 2006 +0000

    MUC: Add almost-working support for writing RoomProperties.
    
    
    20060407162836-50843-fe0b0409288453c1356cfb31d25cad144fed1c8d.gz

 generate/src/gabble-muc-channel.c            |    9 +-
 generate/src/gabble-muc-channel.h            |    2 +-
 generate/xml-modified/gabble-muc-channel.xml |    1 +
 src/gabble-muc-channel.c                     |  555 ++++++++++++++++++++++++--
 src/gabble-muc-channel.h                     |    3 +-
 5 files changed, 529 insertions(+), 41 deletions(-)

commit de3de4282c84d5eae0f781d6c94634ed4287bd03
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Apr 7 15:39:55 2006 +0000

    bump version to 0.1.10
    
    
    20060407153955-0e791-9f1c3940c3e49dd9a9e92d1fe411685ab6c8f54d.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit d29026c4051e618913ed5df2540b75b7a8a35baa
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Apr 7 15:01:22 2006 +0000

    Fix infinite looping on allocating new session IDs, and add improved debugging of Jingle sessions.
    
    
    20060407150122-0e791-31b87e15ab1efac61fbd46c4aef57a6100079b1a.gz

 src/gabble-connection.c |   55 ++++++++++++++++++++++++++++------------------
 1 files changed, 33 insertions(+), 22 deletions(-)

commit df3c5305cc3da8e56a6c8ae77a3933182feb0810
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Apr 7 14:20:21 2006 +0000

    fix weird signalling problems by storing and representing jingle session IDs as strings and not guints
    
    
    20060407142021-0e791-5989f903d28881adfe85adbea7ba00f4fe1cefb6.gz

 src/gabble-connection.c    |   52 +++++++++++++++++++++++++------------------
 src/gabble-connection.h    |    6 ++--
 src/gabble-media-channel.c |   13 ++++++-----
 src/gabble-media-channel.h |    2 +-
 src/gabble-media-session.c |   33 ++++++++++++---------------
 5 files changed, 56 insertions(+), 50 deletions(-)

commit c5eb011b8c95dadcb18e3b24cb5e01e4e375c59c
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Apr 7 10:40:38 2006 +0000

    merge connection_disconnect into connection_status_change to avoid inconsistent terminations where we end up with a disconnected connection object
    
    
    20060407104038-0e791-c24e23deffc86ea89964713c52ed27e4e716e08c.gz

 src/gabble-connection.c |  155 +++++++++++++++++++++++++---------------------
 1 files changed, 84 insertions(+), 71 deletions(-)

commit 987a0495169abab95095e64591e0371670c76b36
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Apr 7 09:59:36 2006 +0000

    replace password with *s in debug output
    
    
    20060407095936-0e791-b06bbecdf1442bce4c786986c0263ec260a29a8d.gz

 src/gabble-connection-manager.c |   29 +++++++++++++++++++++++++----
 1 files changed, 25 insertions(+), 4 deletions(-)

commit db0e0074c89dfeb715f2daeb54bf8772900d06bb
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Apr 7 08:19:39 2006 +0000

    allow sending subscription requeses to people who you're *not* already subscribed to
    
    
    20060407081939-0e791-1d27fbdc9f6a6cf58dfcc201303a17481c6dfe27.gz

 src/gabble-roster-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2f638863852361eb8e36b73152c409ffa9ba824a
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu Apr 6 13:32:57 2006 +0000

    bump version to 0.1.9
    
    
    20060406133257-50843-385ae0ad7dccdc26346ce639a3f397d7dfe2865a.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7c4faa09e7e8cf2ce6a81bc89af456a38913c793
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu Apr 6 13:29:22 2006 +0000

    Implement basic MUC RoomProperties functionality (read-only).
    
    
    20060406132922-50843-a98db562151a5d61ad7ae97716151bf6f996b065.gz

 src/gabble-connection.c   |    1 +
 src/gabble-media-stream.c |    3 +-
 src/gabble-muc-channel.c  |  669 ++++++++++++++++++++++++++++++++++++++++++++-
 src/gabble-muc-channel.h  |    7 +
 src/telepathy-helpers.c   |   35 +++
 src/telepathy-helpers.h   |    8 +
 6 files changed, 713 insertions(+), 10 deletions(-)

commit d25cec34f208249ad0025fff966ab5e8705a6bc1
Author:  <dafydd.harries@collabora.co.uk>
Date:   Thu Apr 6 11:52:20 2006 +0000

    don't crash when authentication fails
    
    
    20060406115220-b59df-04959ad5b3ed92f4dc2a4fc5e04602066f6c9b94.gz

 src/gabble-connection.c |   17 ++++++++++++++++-
 1 files changed, 16 insertions(+), 1 deletions(-)

commit cfd6fca8672eeac2fd7712fc79d37a9b953b28ae
Author:  <rob.taylor@collabora.co.uk>
Date:   Thu Apr 6 08:56:52 2006 +0000

    increase version
    
    
    20060406085652-25e70-45c69cbad56f038aa5f877db8a5e57750d9031d0.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 8dd725570bf088908267ae6f2f72fe3e892a8b60
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Apr 6 08:44:41 2006 +0000

    when establishing a media session, save the voice resource of the peer at the start, and use the same resource throughout the call...
    
    
    20060406084441-0e791-20bc5d7b124ff29e0a88ed364912c7b47c3f302e.gz

 src/gabble-media-session.c |   44 +++++++++++++++++++++++++++-----------------
 1 files changed, 27 insertions(+), 17 deletions(-)

commit 1de323b055112309f53fca453082f08f8f67794c
Author:  <rob.taylor@collabora.co.uk>
Date:   Thu Apr 6 08:01:21 2006 +0000

    up the version number
    
    
    20060406080121-25e70-01fba9e2dcd9815df78e9c85f5bc21dadedd266c.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 715f94edc65ac0c309bc22f71824ee8606908fd0
Author:  <rob.taylor@collabora.co.uk>
Date:   Wed Apr 5 11:35:27 2006 +0000

    implement stream state info from media channel
    
    
    20060405113527-25e70-0559662624e68aee6f76672cc868d58c25b6773e.gz

 src/gabble-media-channel-signals-marshal.list |    1 +
 src/gabble-media-channel.c                    |  108 +++++++++++++++++++++++++
 src/gabble-media-channel.h                    |    3 +
 src/gabble-media-session.c                    |   10 +++
 src/gabble-media-session.h                    |    2 +
 src/gabble-media-stream.c                     |   25 ++++++
 src/gabble-media-stream.h                     |    1 +
 src/telepathy-constants.h                     |    7 ++
 8 files changed, 157 insertions(+), 0 deletions(-)

commit 0920ee8769a952130a7a2157ed3e525bfe1398a5
Author:  <rob.taylor@collabora.co.uk>
Date:   Wed Apr 5 10:00:32 2006 +0000

    generate src for  stream info on media channel
    
    
    20060405100032-25e70-8b5b7772a6097149fe426befcb720b4d9cc53d86.gz

 .../src/gabble-media-channel-signals-marshal.list  |    1 +
 generate/src/gabble-media-channel.c                |   28 ++++++++++++++++++++
 generate/src/gabble-media-channel.h                |    1 +
 generate/src/gabble-media-stream.c                 |   18 ++++++++++++
 generate/src/gabble-media-stream.h                 |    1 +
 5 files changed, 49 insertions(+), 0 deletions(-)

commit 2a7595787df79f97f53fa30c928138ad82f479df
Author:  <rob.taylor@collabora.co.uk>
Date:   Wed Apr 5 09:52:34 2006 +0000

    add new xml for stream state on media channel
    
    
    20060405095234-25e70-f161f6774dac3f7905c25fc229ca8d7e625329e7.gz

 generate/xml-modified/gabble-media-channel.xml |    8 ++++++++
 generate/xml-modified/gabble-media-stream.xml  |    3 +++
 generate/xml-pristine/gabble-media-channel.xml |    8 ++++++++
 generate/xml-pristine/gabble-media-stream.xml  |    3 +++
 4 files changed, 22 insertions(+), 0 deletions(-)

commit d6a1549d45796842492aa8595eaf364b295dabc5
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed Apr 5 08:51:20 2006 +0000

    Integrate boilerplate code for MUC RoomProperties.
    
    
    20060405085120-50843-e6504e4b72e234f52d29d5f8c960ad8457bcabbe.gz

 .../src/gabble-muc-channel-signals-marshal.list    |    2 +
 generate/src/gabble-muc-channel.c                  |   60 ++++++++--
 generate/src/gabble-muc-channel.h                  |    5 +-
 src/gabble-muc-channel-signals-marshal.list        |    2 +
 src/gabble-muc-channel.c                           |  120 ++++++++++++--------
 src/gabble-muc-channel.h                           |    5 +-
 6 files changed, 134 insertions(+), 60 deletions(-)

commit 99d3e5131972606b646989e3150e9d7b06ee2157
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Apr 5 08:28:47 2006 +0000

    PRIVONLY: replace the check for invalid arguments now that Rtcom is enforcing sanity
    
    
    20060405082847-0e791-245c409b24d57eb82481f1c08c66de7b15e2f7b2.gz

 src/gabble-connection-manager.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 5bacdf4e3ac18fa8ccace715266e5391f72c8d69
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Feb 15 14:37:57 2006 +0000

    PRIVONLY: ignore unhandled parameters rather than error
    
    
    20060215143757-0e791-fda2517a82f861d3a6386b44d0a97ef23d3316f4.gz

 src/gabble-connection-manager.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit b88169182c9f80425dc03010868fbc872bf39637
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Feb 9 14:11:50 2006 +0000

    add debian to boring
    
    
    20060209141150-0e791-3b99052031294f1d10930f1da6c3c8103b44ae2e.gz

 _boring |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit e7b47df99facad71e0ab7d48d1e8edaa3ac2907a
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Apr 5 08:22:53 2006 +0000

    change constants and interfaces for new roomproperties interface
    
    
    20060405082253-0e791-191a3332bfeaa55605bc3dab49bfd4c52fdad4b3.gz

 src/telepathy-constants.h  |    9 +++------
 src/telepathy-interfaces.h |    4 ++--
 2 files changed, 5 insertions(+), 8 deletions(-)

commit 625e8435de8a48f633581b4db5eef71b853f3126
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Apr 5 08:20:38 2006 +0000

    regenerate XML with room properties interface (changes a few things in pristine which were already there in modified)
    
    
    20060405082038-0e791-c3d492415018a5ad0623aa1ae893a3a1f73634db.gz

 generate/gabble.def                           |    2 +-
 generate/xml-modified/gabble-muc-channel.xml  |   84 +++++++++++++----------
 generate/xml-pristine/gabble-connection.xml   |    4 +-
 generate/xml-pristine/gabble-media-stream.xml |    3 +-
 generate/xml-pristine/gabble-muc-channel.xml  |   92 ++++++++++++++-----------
 5 files changed, 105 insertions(+), 80 deletions(-)

commit e29a01a42cc165a4e89c24bb44816387055c8502
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Apr 5 07:47:32 2006 +0000

    actually bump version to 0.1.6
    
    
    20060405074732-0e791-53d2d84cd633bdcec31071f46db28a0e0f1f42d3.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e5970fca28dab469bfe27dfef2e4cbd01ac9b5ac
Author:  <rob.taylor@collabora.co.uk>
Date:   Tue Apr 4 16:12:25 2006 +0000

    - Lots of fixes to the MUC invitiation semantics. It's now also possible to see who invited you through GetMembers?, as the inviter will be the only one in the member list. Additionally, the reason (if specified), can be retrieved through ListPendingMessages?. Both of these get cleared when you join the channel.
    
    - Improved GabbleGroupMixin? debug output.
    - Bumped version to 0.1.6.
    
    
    20060404161225-25e70-cbff2e0befe862033f787be64542d9ff7efd394b.gz

 src/gabble-connection.c    |   35 +++++------
 src/gabble-group-mixin.c   |  103 +++++++++++++++++++++++++++------
 src/gabble-media-channel.c |    3 +-
 src/gabble-muc-channel.c   |  139 +++++++++++++++++++++++++++++++++-----------
 src/gabble-muc-channel.h   |    2 +
 5 files changed, 209 insertions(+), 73 deletions(-)

commit 43ab6ee5e38b78f27ec83ae1d89eecbbda84f0bb
Author:  <rob.taylor@collabora.co.uk>
Date:   Tue Apr 4 14:06:06 2006 +0000

    increase version number
    
    
    20060404140606-25e70-a8b2b4de900d0341bf0f0caef7dce8cf39e873ce.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit f076fc4517c1674f5eeb7cbc2e665b49ef5a7bfe
Author:  <rob.taylor@collabora.co.uk>
Date:   Tue Apr 4 13:58:37 2006 +0000

    make media channel close idempotent
    
    
    20060404135837-25e70-f4977067b78c70ed32c609df6b22efcb09cef831.gz

 src/gabble-media-channel.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit d65cea610a05f357870c12665c279b25dddf2ed1
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Apr 3 09:28:23 2006 +0000

    updaed AUTHORS, cleaned up licensing
    
    
    20060403092823-25e70-989afb7f347489df1c5f8773cd5780bf83ce5912.gz

 AUTHORS                 |    2 ++
 src/gintset.c           |    3 ++-
 src/gintset.h           |    3 ++-
 src/telepathy-errors.c  |   20 ++++++++++++++++++++
 src/telepathy-helpers.c |    2 +-
 5 files changed, 27 insertions(+), 3 deletions(-)

commit 3eb3b8b5cec9fb2ad3cc743bc056f7a5758ce67b
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Tue Apr 4 11:52:01 2006 +0000

    bumped version to 0.1.4
    
    
    20060404115201-50843-aa408cf1cfcb90734efb70570556d7914966446c.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit efe5f1145f35b69b59a366c263aa79d3b873b919
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Tue Apr 4 11:49:39 2006 +0000

    GabbleMucChannel: Set flags appropriately to allow adding ourself, and check that we're a member before allowing invites to be sent.
    
    
    20060404114939-50843-71b9c2270f38a95ede5432e690b1b0b45dae99bd.gz

 src/gabble-muc-channel.c |   25 +++++++++++++++++++++++++
 1 files changed, 25 insertions(+), 0 deletions(-)

commit 0f7f09d1645987d9db8217662a411af45d1c7f03
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Tue Apr 4 08:49:29 2006 +0000

    Bumbed version to 0.1.3.
    
    
    20060404084929-50843-db64fd78b6d74f72da7e6f774a55f017248e8159.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9263118e374447ce75afbcc2b2123b8c9f22622f
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon Apr 3 16:11:51 2006 +0000

    GabbleMucChannel: don't add invited peers to remote pending
    
    
    20060403161151-50843-9039a3707d5c5dfcf7c6620eb1944c9ad46d30bd.gz

 src/gabble-muc-channel.c |   19 -------------------
 1 files changed, 0 insertions(+), 19 deletions(-)

commit 356e73f127cd7e219a665f74c0327ad5fcb094d9
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Apr 3 15:52:28 2006 +0000

    emit the reason given in connection_disconnect
    
    
    20060403155228-0e791-ecc673da4bdace6fb73013f3d2ba7dcf100a3db4.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 96e1af4eda4cf7f334d0ca351631cd156e553ff1
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Mar 31 11:41:50 2006 +0000

    add the "hidden" presence, which is allowable if presence-invisible is available from the server, and implement sending <presence type="invisible"> stanzas
    
    
    20060331114150-0e791-9faf5b8bb5b94aff9fd60336cc5366bbe000da53.gz

 src/gabble-connection.c |   49 +++++++++++++++++++++++++++++++++++++++++++++-
 src/gabble-connection.h |    1 +
 2 files changed, 48 insertions(+), 2 deletions(-)

commit 5721dfbf3cd3351466d7d5c1e62588c8b35c0bc9
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Mar 31 00:08:21 2006 +0000

    change connection sequence to do a discovery of the stream server's info, to set feature flags, before proceeding with the rest of the connection, roster request & initial presence, etc
    
    
    20060331000821-0e791-5278c54bf91a01ea4605bf2d6c4f60b1470803ce.gz

 src/gabble-connection.c |  106 +++++++++++++++++++++++++++++++++++++++++------
 1 files changed, 93 insertions(+), 13 deletions(-)

commit 14167175ece6e9ca27bdd9b74c4b48d8f0ca9cc0
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Mar 30 23:58:22 2006 +0000

    tweak item discovery at connect time to a) query the stream server, not the connect server and b) list items, not info
    
    
    20060330235822-0e791-df95c864d68fe0a113aecd9f6186273bd3f3fd8c.gz

 src/gabble-connection.c |   19 ++++++++++---------
 1 files changed, 10 insertions(+), 9 deletions(-)

commit 95dcb60e549d6435f0b337f4ef43d2fa98c7e545
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Mar 30 23:56:20 2006 +0000

    add support for server not found, and arbitrary unknown errors, to disco
    
    
    20060330235620-0e791-fef63f17e07b2a0dd3632fef34719e6672479c51.gz

 src/gabble-disco.c |   39 +++++++++++++++++++++++++++------------
 src/gabble-disco.h |    4 +++-
 2 files changed, 30 insertions(+), 13 deletions(-)

commit 7a148aa8e5214215832f87d72d262758c3c65e52
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Mar 30 18:54:23 2006 +0000

    make a gabble_disco_request_with_timeout function to allow specifying a timeout
    
    
    20060330185423-0e791-a213a9e18685ecfa85d557527c6d479577b9c1fb.gz

 src/gabble-disco.c |   36 +++++++++++++++++++++++++++++++++---
 src/gabble-disco.h |    6 +++++-
 2 files changed, 38 insertions(+), 4 deletions(-)

commit cf903ea2bfe631b845d1c568ee5237ef5c2b477e
Author:  <rob.taylor@collabora.co.uk>
Date:   Tue Mar 28 15:59:24 2006 +0000

    added debug and fixed bug in vcard parsing
    
    
    20060328155924-25e70-6d9d027edc6cb92f752d680c61ab57095088f3ff.gz

 src/gabble-connection.c |   22 +++++++++++++++++++---
 1 files changed, 19 insertions(+), 3 deletions(-)

commit 56716a233a93be14fb19a3ec4c5259bd81362748
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sat Apr 1 16:18:57 2006 +0000

    make native-candidates-prepared and codec-choice methods no-ops instead of issuing a warning
    
    
    20060401161857-50843-5e4fc799cd15ba1dd194d9366633a771b428c40e.gz

 src/gabble-media-stream.c |    4 ----
 1 files changed, 0 insertions(+), 4 deletions(-)

commit edb37b3dfac69bc03bc120f83e38ecc6f88f7008
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sat Apr 1 14:47:03 2006 +0000

    GabbleMucChannel: add support for getting invited
    
    
    20060401144703-50843-54f0ea75afb3e3960814861727c7d5aee30d6b2f.gz

 src/gabble-connection.c  |  289 ++++++++++++++++++++++++++++++----------------
 src/gabble-muc-channel.c |   73 +++++++-----
 2 files changed, 232 insertions(+), 130 deletions(-)

commit 9438eec84bce4465bb2fd32c7080c7a65c1e0743
Author:  <rob.taylor@collabora.co.uk>
Date:   Tue Mar 28 14:55:24 2006 +0000

    added contact info interface to connection, fixed up some spelling errors..
    
    
    20060328145524-25e70-f5a5154801ef78f3b64946c431acece4db5d4225.gz

 .../src/gabble-connection-signals-marshal.list     |    1 +
 generate/src/gabble-connection.c                   |   30 ++++++-
 generate/src/gabble-connection.h                   |    3 +-
 src/gabble-connection-signals-marshal.list         |    1 +
 src/gabble-connection.c                            |  103 +++++++++++++++++++-
 src/gabble-connection.h                            |    1 +
 6 files changed, 135 insertions(+), 4 deletions(-)

commit ab4cc31a18f789e9d646d028651eceff1055a183
Author:  <rob.taylor@collabora.co.uk>
Date:   Fri Mar 24 13:57:32 2006 +0000

    updated GabbleConnection xml to include contactinfo interface
    
    
    20060324135732-25e70-dbd1a74af6d0c09c6d3ff7f9e875ece0dcd38def.gz

 generate/gabble.def                           |    2 +-
 generate/xml-modified/gabble-connection.xml   |   13 +++++++++++--
 generate/xml-pristine/gabble-connection.xml   |   13 +++++++++++--
 generate/xml-pristine/gabble-media-stream.xml |    3 +--
 4 files changed, 24 insertions(+), 7 deletions(-)

commit b1871f46e24dbd43db6e564b7ac9d3f72f4ab1c9
Author:  <rob.taylor@collabora.co.uk>
Date:   Thu Mar 23 02:17:06 2006 +0000

    fix connection_iq_jingle_cb to not use return value of g_hash_table_lookup_extended when it returns false.
    
    
    20060323021706-25e70-f8cecfdb22f9ca810d7a8a908fe54f7443da89a7.gz

 src/gabble-connection.c |   18 +++++++++---------
 1 files changed, 9 insertions(+), 9 deletions(-)

commit 3bff30b63040598624476cdc906ea8710e882675
Author:  <rob.taylor@collabora.co.uk>
Date:   Thu Mar 23 01:46:32 2006 +0000

    up the version number
    
    
    20060323014632-25e70-6fb82f5b736911b833414fa432d0efa489de218e.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2ae6d63f92f47e159200bd4a1f0a18429b0daafa
Author:  <rob.taylor@collabora.co.uk>
Date:   Wed Mar 22 20:09:27 2006 +0000

    add some more debugging for media_channel_closed_cb
    
    
    20060322200927-25e70-985f305eab2a4c4ca334e5ffd47048b82d49e6d0.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 4ad918dd1ceaae227f88362e34a308ee89fe0e99
Author:  <rob.taylor@collabora.co.uk>
Date:   Wed Mar 22 19:56:27 2006 +0000

    move unreffing of dependant objects to dispose in gabble-media-channel and gabble-media-session
    
    
    20060322195627-25e70-0d2fc32f35c6681f63af63e771d011dcdcf95cbf.gz

 src/gabble-media-channel.c |    6 +++---
 src/gabble-media-session.c |    5 +++--
 2 files changed, 6 insertions(+), 5 deletions(-)

commit 8264ecdcbf6dfd6a07c256ab49a14552e5febba4
Author:  <rob.taylor@collabora.co.uk>
Date:   Thu Mar 23 01:39:42 2006 +0000

    resolve conflicts
    
    
    20060323013942-25e70-cb64a78e6b57f9195e52bfae51d06221a5117638.gz

 src/gabble-connection.c |    8 ++++----
 src/gabble-disco.c      |    2 +-
 2 files changed, 5 insertions(+), 5 deletions(-)

commit caa91da7d4a3152ba5956c832de36889cf444aaf
Author:  <rob.taylor@collabora.co.uk>
Date:   Thu Mar 23 01:33:11 2006 +0000

    added conference server discovery and roomlist channel implementation
    
    
    20060323013311-25e70-7c00c81411857e29ea2473b3f179b31f72b39bc6.gz

 src/Makefile.am                                  |    5 +
 src/gabble-connection.c                          |  130 +++++-
 src/gabble-roomlist-channel-signals-marshal.list |    3 +
 src/gabble-roomlist-channel.c                    |  668 ++++++++++++++++++++++
 src/gabble-roomlist-channel.h                    |   68 +++
 5 files changed, 873 insertions(+), 1 deletions(-)

commit 07703fe6252ec86bc7332433e4f014e30d903e2c
Author:  <rob.taylor@collabora.co.uk>
Date:   Thu Mar 23 01:31:39 2006 +0000

    added a bound object to gabble_disco_request, so if that object is finalized, the request is cleared
    
    
    20060323013139-25e70-d4b93e0ea74e82b5f8ad69e5a4e466a836febf71.gz

 src/gabble-connection.c |    8 +++---
 src/gabble-disco.c      |   64 +++++++++++++++++++++++++++++++++++++++-------
 src/gabble-disco.h      |    4 ++-
 3 files changed, 61 insertions(+), 15 deletions(-)

commit 2f8a70b041cab2deade1175fbbed8db809da8578
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Mar 22 14:08:39 2006 +0000

    avoid printf'ing a NULL value for the old voice resource
    
    
    20060322140839-0e791-8127fcc211b8e180c467f9f3aae250135ddc57f0.gz

 src/gabble-connection.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 5b7d127eff26b6258e60a8c79d439a64e6022fc9
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Mar 22 14:07:36 2006 +0000

    remove google-talk pseudo-protocol, hard-coded defaults = lose
    
    
    20060322140736-0e791-ee51eb5dc8be8aef57df9012c4cd3a4d5b38feb2.gz

 data/gabble.manager             |    9 +--------
 src/gabble-connection-manager.c |   15 +--------------
 2 files changed, 2 insertions(+), 22 deletions(-)

commit e05a02200d6701fe0d866e363c5d07dea02f7cee
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Tue Mar 21 16:32:30 2006 +0000

    Fixed a check in connection_iq_jingle_cb so that it doesn't crash on incoming jingle stanzas.
    
    
    20060321163230-50843-29faddbcc6bf7f9259e06e3b67e49145cabee322.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a74bc81ee64a3d2bbd30335751e1974283b89c95
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon Mar 20 16:20:31 2006 +0000

    GabbleMucChannel: When kicking someone, handle the IQ response.
    
    
    20060320162031-50843-dd387e7e87054d80adcd5d4ae30d7e33ea46874f.gz

 src/gabble-muc-channel.c |   22 ++++++++++++++++++++--
 1 files changed, 20 insertions(+), 2 deletions(-)

commit 1195a2a18d18b5188e5988b063dcdc52ea59e0eb
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon Mar 20 16:19:31 2006 +0000

    GabbleMucChannel: When inviting someone, add their room handle to the pending list and not their main handle.
    
    
    20060320161931-50843-f0d2493f85d1f7e628d892d13ca6637e7a7e065b.gz

 src/gabble-muc-channel.c |   60 +++++++++++++++++++++++++++++++++++++--------
 1 files changed, 49 insertions(+), 11 deletions(-)

commit c2cb0bef22ecd65ce6bf338c59225e76b4ae8649
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon Mar 20 15:04:40 2006 +0000

    s/ChannelProperties/RoomProperties/ in GError for MUC's {Get,Set}Password
    
    
    20060320150440-50843-2ae75d7703431e1bf6f74a6cf2c209aa1aebdf59.gz

 src/gabble-muc-channel.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit cf370de073e8be0c16bbd5ca40361602696a02c5
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun Mar 19 19:19:13 2006 +0000

    send keepalives to the server every 30 seconds
    
    
    20060319191913-0e791-3ddb47ed831c95f2cebbcb79bb4b31c469678e9a.gz

 src/gabble-connection.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 8daf9a3b59839efa0a89aa3ae685b765ff0d2e97
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Mar 17 21:55:17 2006 +0000

    use the prefix "/me " on incoming and outgoing messages to represent an ACTION, as detailed in the "IRC Commands" section of the MUC JEP
    
    
    20060317215517-0e791-ca764484938ce568f23a364876a9a9e4f0776d3b.gz

 src/gabble-connection.c  |   40 +++++++++++++++++++++++++++++++---------
 src/gabble-im-channel.c  |   22 ++++++++++++++++------
 src/gabble-muc-channel.c |   14 +++++++++++---
 3 files changed, 58 insertions(+), 18 deletions(-)

commit c5c8b3c367d604569552d9094509f27fe0abb649
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Mar 17 20:49:39 2006 +0000

    send and understand type arguments in <message> node, type="chat" maps to MESSAGE_TYPE_NORMAL, all else is MESSAGE_TYPE_NOTICE
    
    
    20060317204939-0e791-d7b1d9327713ee3e9bd8d0481741fb19f787bde2.gz

 src/gabble-connection.c |   26 +++++++++++++++++++-------
 src/gabble-im-channel.c |   13 ++++++++++---
 2 files changed, 29 insertions(+), 10 deletions(-)

commit 2a30d09376d9bd541be7c7f4eaed1e53a6fb7720
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Mar 17 19:09:42 2006 +0000

    it's not necessary to test pointers for NULL before g_free... remove all the checks, and add some missing frees of priv->object_path in a few finalisers
    
    
    20060317190942-0e791-a9d05b6b3ecb2ffc71d487a894f667003e05d2c7.gz

 src/gabble-connection-manager.c |   11 ++----
 src/gabble-connection.c         |   72 ++++++++++-----------------------------
 src/gabble-im-channel.c         |    8 +---
 src/gabble-media-channel.c      |    4 +--
 src/gabble-media-session.c      |    4 +--
 src/gabble-media-stream.c       |    6 ++--
 src/gabble-muc-channel.c        |    8 +---
 src/gabble-roster-channel.c     |    6 ++--
 src/handle-set.c                |    2 +-
 src/handles.c                   |   10 ++----
 10 files changed, 37 insertions(+), 94 deletions(-)

commit 4f6436ba5e6dfde763d6d1a1724998b2a057efda
Author:  <rob.taylor@collabora.co.uk>
Date:   Fri Mar 17 18:12:08 2006 +0000

    upped version number
    
    
    20060317181208-25e70-fb49fd4e9a37278edfc896a39b98fcd45725ca38.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 1165e6abd9ef442bdc41b698df6900941310d49d
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu Mar 16 20:08:47 2006 +0000

    GabbleMucChannel: Added support for inviting and kicking users.
    
    
    20060316200847-50843-5fd912ccbfdcc1fbb31940ef987f8a5dd4cd3b8a.gz

 src/gabble-muc-channel.c |   97 +++++++++++++++++++++++++++++++++++++++++++---
 1 files changed, 91 insertions(+), 6 deletions(-)

commit 39d033746219a49fd9ecd0c5c7a597cab8a2d3d8
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu Mar 16 18:17:12 2006 +0000

    GabbleMediaChannel: Terminate session when channel is closed.
    
    
    20060316181712-50843-f60a8e03875addde53a4b0b24306fc76e7d47c1e.gz

 src/gabble-media-channel.c |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit 9859fdd53c730d446bb48d93ac5f960420103ecc
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu Mar 16 18:07:15 2006 +0000

    handle_priv_lookup: Replaced bad handle != 0 assertion with a g_warning followed by return, and changed handle_type checking to issue a g_warning instead of g_critical for bad handle types.
    
    
    20060316180715-50843-aa4abf08121b3d26b7ab467a1f4488d2212900b4.gz

 src/handles.c |    9 +++++++--
 1 files changed, 7 insertions(+), 2 deletions(-)

commit ef0cbecf5e6afe86b3f825e666cfacf3c87e4edb
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu Mar 16 18:06:08 2006 +0000

    Replaced MUC xmlns strings with constants.
    
    
    20060316180608-50843-c831af3242e5e2ac27a796acc4302b91247b9b4e.gz

 src/gabble-connection.c  |    4 ++--
 src/gabble-muc-channel.h |    5 +++++
 2 files changed, 7 insertions(+), 2 deletions(-)

commit 504b57726235b8339086fb1989de9d57f4c58183
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu Mar 16 18:05:10 2006 +0000

    GabbleMucChannel: Added missing time.h include.
    
    
    20060316180510-50843-de8d71384e01632888cae1334856efadb00c2965.gz

 src/gabble-muc-channel.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit b09e65daee9b40c7c6a260faca7395d19e0fb16e
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu Mar 16 18:03:45 2006 +0000

    Fixed YYYY in copyright headers for code written in 2006.
    
    
    20060316180345-50843-0109ba26a3358bc51029192302346dba84181cd4.gz

 src/gabble-disco.c         |    4 ++--
 src/gabble-disco.h         |    4 ++--
 src/gabble-group-mixin.c   |    4 ++--
 src/gabble-group-mixin.h   |    4 ++--
 src/gabble-media-channel.c |    4 ++--
 src/gabble-media-channel.h |    4 ++--
 src/gabble-media-session.c |    4 ++--
 src/gabble-media-session.h |    4 ++--
 src/gabble-media-stream.c  |    4 ++--
 src/gabble-media-stream.h  |    4 ++--
 src/gabble-muc-channel.c   |    4 ++--
 src/gabble-muc-channel.h   |    4 ++--
 12 files changed, 24 insertions(+), 24 deletions(-)

commit f38c3e53e214431e31fffc317dc27a312033d7e8
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed Mar 15 19:16:08 2006 +0000

    GabbleMucChannel: Fixed ProvidePassword return value by making it asynchronous. Improved error handling.
    
    
    20060315191608-50843-9b4bc998689ecf1e582809346c37edc306a93ce6.gz

 generate/src/gabble-muc-channel.c            |    9 +--
 generate/src/gabble-muc-channel.h            |    2 +-
 generate/xml-modified/gabble-muc-channel.xml |    1 +
 src/gabble-muc-channel.c                     |   80 +++++++++++++++++++-------
 src/gabble-muc-channel.h                     |    2 +-
 5 files changed, 65 insertions(+), 29 deletions(-)

commit a5b9493fd88db0ab6fa79907585c34596d54cedb
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed Mar 15 18:21:54 2006 +0000

    GabbleMucChannel: Adjust the default join timeout to 180 seconds and s/timer_id/join_timer_id/.
    
    
    20060315182154-50843-5415b4ce1ade66df9cb52b651595c242410f2462.gz

 src/gabble-muc-channel.c |   15 ++++++++-------
 1 files changed, 8 insertions(+), 7 deletions(-)

commit bbaaa1fc0a861ba491d9396273152522574adb15
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed Mar 15 18:02:30 2006 +0000

    GabbleMucChannel: Support for joining channels with password. Close channels properly. Include reason when someone is leaving or being kicked. Add a 60 second timeout for state to go from INITIATING to JOINED, which includes the time the user has to provide a password until the channel is closed. Improve errorhandling.
    
    
    20060315180230-50843-b1cb6a19ad828833a9dad45520dfe36269f413b6.gz

 src/gabble-connection.c    |   75 +++++---
 src/gabble-media-session.c |    2 +-
 src/gabble-muc-channel.c   |  456 ++++++++++++++++++++++++++++++++++++++++----
 src/gabble-muc-channel.h   |    1 +
 4 files changed, 472 insertions(+), 62 deletions(-)

commit 6a802b3fbfbd7e88c7499a0786dfec92d628d826
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon Mar 13 12:43:12 2006 +0000

    Add channel-type property back to GabbleMediaChannel and add it to GabbleMucChannel to fix ListChannels. List media channels as well with ListChannels. Raise NotImplemented for unimplemented GabbleMucChannel methods. Whitespace fixes.
    
    
    20060313124312-50843-2e041668aebded662bb3d08a10e07fa4f84f435c.gz

 src/gabble-connection.c    |   13 ++++++++++---
 src/gabble-disco.c         |   12 ++++++------
 src/gabble-media-channel.c |   13 +++++++++++++
 src/gabble-muc-channel.c   |   33 +++++++++++++++++++++++++--------
 4 files changed, 54 insertions(+), 17 deletions(-)

commit ecda44eef5db7914fc76ce5bfa2d4d18b049161e
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Mar 15 17:11:13 2006 +0000

    free roster channels when closing connection
    
    
    20060315171113-0e791-18d51a9a4e92c70e8b1598568458d5425bbbbf38.gz

 src/gabble-connection.c |   12 ++++++++++++
 1 files changed, 12 insertions(+), 0 deletions(-)

commit 8c6b87b066bb736b458ab918fb61f23d3da88163
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Mar 13 14:30:14 2006 +0000

    update version to 0.1.0
    
    
    20060313143014-25e70-29993fd441c92bfdf2efacae3a2f3bf1ee04c236.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ea38c8af81a767e374d22136ca47948ee39d113e
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Mar 13 14:29:38 2006 +0000

    fix typo
    
    
    20060313142938-25e70-997acbbd47fdd1a272956dd0b35ae393c66c8915.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 03b15f98faf5f7fad5ceb741ff93976a3fe69195
Author:  <rob.taylor@collabora.co.uk>
Date:   Fri Mar 10 17:58:52 2006 +0000

    fix bad varargs call to g_object_new
    
    
    20060310175852-25e70-6594443101532d485d9ae2de970de71e8066b0f1.gz

 src/gabble-disco.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7289bbf3cf56bf37b9fbdf1fd3ec0ddc94ab8836
Author:  <rob.taylor@collabora.co.uk>
Date:   Thu Mar 9 12:47:20 2006 +0000

    generated source for GabbleRoomlistChannel
    
    
    20060309124720-25e70-93d0700831097421be790fcb3e0a82cba528a66a.gz

 .../gabble-roomlist-channel-signals-marshal.list   |    3 +
 generate/src/gabble-roomlist-channel.c             |  240 ++++++++++++++++++++
 generate/src/gabble-roomlist-channel.h             |   66 ++++++
 3 files changed, 309 insertions(+), 0 deletions(-)

commit 2ee9e613db9105d1ea7c20e8eeac265f727698f4
Author:  <rob.taylor@collabora.co.uk>
Date:   Thu Mar 9 12:46:57 2006 +0000

    added line in do_src.sh to generate source for GabbleRoomlistChannel
    
    
    20060309124657-25e70-ff02e0e2d5b8587892f7f225906a224fa8f668bb.gz

 generate/do_src.sh |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit 5a39a2158376ce62ce4e04abf5709c9b0372592c
Author:  <rob.taylor@collabora.co.uk>
Date:   Thu Mar 9 12:45:23 2006 +0000

    added modified xml for GabbleRoomlistChannel
    
    
    20060309124523-25e70-f3d5e31e115e7c2566cc1173516b1f2defd02dca.gz

 generate/xml-modified/gabble-roomlist-channel.xml |   32 +++++++++++++++++++++
 1 files changed, 32 insertions(+), 0 deletions(-)

commit 0d55a2615136c5a8f7567b6e6ccd0b9768170157
Author:  <rob.taylor@collabora.co.uk>
Date:   Thu Mar 9 12:45:05 2006 +0000

    generated XML for GabbleRoomlistChannel
    
    
    20060309124505-25e70-f6d44cd4f1cd9532ba52147c669f68fa3887da0a.gz

 generate/xml-pristine/gabble-roomlist-channel.xml |   37 +++++++++++++++++++++
 1 files changed, 37 insertions(+), 0 deletions(-)

commit a4cc6a7803bc99526a2cb660365e45d1a39322e8
Author:  <rob.taylor@collabora.co.uk>
Date:   Thu Mar 9 12:44:48 2006 +0000

    added definition of GabbleRoomlistChannel
    
    
    20060309124448-25e70-158d9c315218aa1e956e77c99fde8aa4437635b8.gz

 generate/gabble.def |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 2a38404acb9f1b1b8b68af541e6a4954418f72e9
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Mar 10 12:28:57 2006 +0000

    implemented GabbleMucChannel::Send
    
    
    20060310122857-50843-6373bc948350ed7031dde2fed2d7bf528f3e22be.gz

 src/gabble-muc-channel.c |   39 +++++++++++++++++++++++++++++++++++++--
 1 files changed, 37 insertions(+), 2 deletions(-)

commit e548ffbc005e8f35aeb79acdb637577a79fd7ca3
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Mar 10 12:28:18 2006 +0000

    parse timestamps of delayed messages
    
    
    20060310122818-50843-85053e1ea5d6d46a7feed02b20822c147d989fba.gz

 src/gabble-connection.c |   40 +++++++++++++++++++++++++++++++++++++---
 1 files changed, 37 insertions(+), 3 deletions(-)

commit 9174e7ead724b37acad1d304456c260d4223fd0d
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Mar 10 01:39:59 2006 +0000

    added presence and message handling for MUC. added a convenience function to handles.c to get the base part of a jid.
    
    
    20060310013959-50843-8c706f4e67421091513949fc073195190cbd39df.gz

 src/gabble-connection.c  |  156 ++++++++++++++++---
 src/gabble-muc-channel.c |  393 +++++++++++++++++++++++++++++++++++++++++++---
 src/gabble-muc-channel.h |   11 ++-
 src/handles.c            |   28 ++++
 src/handles.h            |    1 +
 5 files changed, 546 insertions(+), 43 deletions(-)

commit 03937d169f82e8537990a57ad54af937f36e64d6
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed Mar 8 23:20:02 2006 +0000

    fill in bits and pieces of GabbleMucChannel (properties, group interface stubs, etc.)
    
    
    20060308232002-50843-59db657115f35a25ee2fbfa90389d882de2b421e.gz

 src/gabble-muc-channel.c |  242 ++++++++++++++++++++++++++++++++++++++++-----
 src/gabble-muc-channel.h |    7 ++
 2 files changed, 222 insertions(+), 27 deletions(-)

commit a44ebe42da9b8b89ab3714c545644c023640824f
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed Mar 8 21:42:18 2006 +0000

    removed unusued channel-type property off GabbleMediaChannel
    
    
    20060308214218-50843-ca8c8306799e0f17fca79f47f23f66f20e03d1bd.gz

 src/gabble-media-channel.c |   13 -------------
 1 files changed, 0 insertions(+), 13 deletions(-)

commit 811f7b1c6c5bb677f10d64d313fb11614c4921e3
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed Mar 8 18:06:37 2006 +0000

    pass data with DISCO request (doh!)
    
    
    20060308180637-50843-cf4d51843989dc77bb786f0ffee1365f7a1f0ca1.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit a4afb82686ba944be4bfff37caeccf06926e869b
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed Mar 8 16:21:25 2006 +0000

    resolved conflict in gabble_disco_request
    
    
    20060308162125-50843-f0350c72cfa9f0baa5ab2e4981108c7f4b0d488f.gz

 src/gabble-disco.c |   24 ++++++++++++++++++++----
 1 files changed, 20 insertions(+), 4 deletions(-)

commit 28e94acf428cd1cbf6f0b0e2c6fb5dea294e5ce4
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed Mar 8 16:13:23 2006 +0000

    added support for requesting room handles, and preliminary support for requesting a text channel with a room
    
    
    20060308161323-50843-d8f4a24cbb77f32637c20e8d2e48ef2da58bea8d.gz

 src/gabble-connection.c |  256 +++++++++++++++++++++++++++++++++++++++++++----
 src/gabble-disco.c      |   26 +----
 src/handles.c           |   98 ++++++++++++++++++
 src/handles.h           |    4 +
 4 files changed, 344 insertions(+), 40 deletions(-)

commit d293c0f8672bf25ade2090d220b5d17be5112964
Author:  <rob.taylor@collabora.co.uk>
Date:   Wed Mar 8 15:59:31 2006 +0000

    finish gabble_disco_request so you can request items or info, and optionally on a given node.
    
    
    20060308155931-25e70-e377ae5741f193831dcdbc11b5408cf9f22387b0.gz

 src/gabble-disco.c |   26 +++++++++++++++++++++++---
 1 files changed, 23 insertions(+), 3 deletions(-)

commit 8a615d81817f9ed1ffe3b6be3eaa73d81ab374e4
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Mar 8 12:37:49 2006 +0000

    patch to gintset by Ross Burton <ross@burtonini.com> to add g_return_if_fail checks for NULL parameters
    
    
    20060308123749-0e791-51556c4678dc361489cc847d888d2b6db77276f5.gz

 src/gintset.c |   32 ++++++++++++++++++++++++++++----
 1 files changed, 28 insertions(+), 4 deletions(-)

commit 88f7b6b477c180732be083a93487e79e95819d64
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Tue Mar 7 13:36:12 2006 +0000

    changed makefiles to make the "dist" target somewhat complete
    
    
    20060307133612-50843-709d3577f27a1e3e3a8d5a6d9e303479df8d5d5a.gz

 Makefile.am          |    4 ----
 data/Makefile.am     |    3 +++
 generate/Makefile.am |    9 +++++++--
 src/Makefile.am      |   20 ++++++++++++++++++++
 4 files changed, 30 insertions(+), 6 deletions(-)

commit 2c1eefe8aaf870f84159be4d36ee8c66a020da43
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Tue Mar 7 13:13:41 2006 +0000

    added boilerplate for GabbleMucChannel
    
    
    20060307131341-50843-efd5f8cb9691216a42a189cee13d31ad31e9c178.gz

 generate/do_src.sh                                 |    3 +
 generate/gabble.def                                |    1 +
 .../src/gabble-muc-channel-signals-marshal.list    |    6 +
 generate/src/gabble-muc-channel.c                  |  486 +++++++++++++++++++
 generate/src/gabble-muc-channel.h                  |   78 +++
 generate/xml-modified/gabble-muc-channel.xml       |   98 ++++
 generate/xml-pristine/gabble-muc-channel.xml       |  103 ++++
 src/Makefile.am                                    |    4 +
 src/gabble-muc-channel-signals-marshal.list        |    6 +
 src/gabble-muc-channel.c                           |  490 ++++++++++++++++++++
 src/gabble-muc-channel.h                           |   78 +++
 11 files changed, 1353 insertions(+), 0 deletions(-)

commit efbc39a323bbf8e7ade6b31037da1a56efec039a
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon Mar 6 17:56:03 2006 +0000

    add a 50 second timeout to GabbleMediaSession
    
    
    20060306175603-50843-fd571fd355cde86ad8c0fd2f55bb9ca9fadaf145.gz

 src/gabble-media-session.c |   32 ++++++++++++++++++++++++++++++++
 1 files changed, 32 insertions(+), 0 deletions(-)

commit e20c3ef513d39aeae121f57fa86fbc8e72f9399c
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon Mar 6 16:33:11 2006 +0000

    s/session/channel/ in _gabble_connection_jingle_session_register's signature
    
    
    20060306163311-50843-27957cbf4b5193b633af4e0e448f81f157866ee5.gz

 src/gabble-connection.c |    6 +++---
 src/gabble-connection.h |    2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit cb57c2a3ffb60f4d4bddb5e5ac2a633d2db1a875
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Mar 6 02:19:40 2006 +0000

    add code to do initial DISCO on the connect server
    
    
    20060306021940-25e70-da1136783e519979d9ed36436c831378db9a22df.gz

 src/gabble-connection.c |   42 +++++++++++++++++++++++++++++++++++++++---
 1 files changed, 39 insertions(+), 3 deletions(-)

commit e68f1cda14e5979b3f7ff7144c813a926c001e7a
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Mar 6 02:19:12 2006 +0000

    add gabble DISCO helper object
    
    
    20060306021912-25e70-b2a9f084421ae0636914fa8c01aa1a9ca26f2b33.gz

 src/Makefile.am    |    1 +
 src/gabble-disco.c |  351 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/gabble-disco.h |   95 ++++++++++++++
 3 files changed, 447 insertions(+), 0 deletions(-)

commit ea37e7117cba90678146246a3afd6eafbe8d43bd
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Mar 2 16:37:02 2006 +0000

    fix dereference of type-punned pointer
    
    
    20060302163702-0e791-04f6c13d425827b9a14bc436826d191321f8bfbe.gz

 src/gabble-connection.c |   11 +++++++----
 1 files changed, 7 insertions(+), 4 deletions(-)

commit b8a87d76b8ab77d999bd1d2b1f2ed07bd0d6c05d
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Mar 2 16:36:05 2006 +0000

    make callbacks for _send_with_reply return LmHandlerResult. unpull "make GabbleConnectionMsgReplyFunc return a LmHandlerResult, fix memleak in reply callback handling" from your tree before pulling this.
    
    
    20060302163605-0e791-841ea4868bebf580fb07a7fd1a02a3e8c398baa0.gz

 src/gabble-connection.c    |   13 +++++++------
 src/gabble-connection.h    |   10 +++++-----
 src/gabble-media-session.c |   13 ++++++++++---
 src/gabble-media-session.h |    2 +-
 src/gabble-media-stream.c  |    4 +++-
 5 files changed, 26 insertions(+), 16 deletions(-)

commit b3419fe6a5431424c530b8448d3b5e96c3d3aad6
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Feb 24 11:57:26 2006 +0000

    add some g_assert_not_reached()s to avoid triggering warnings about uninitialised strings
    
    
    20060224115726-0e791-7cf284d447662d030f5d7daf3f0eb28c1b1e848f.gz

 src/gabble-media-session.c |    2 ++
 src/gabble-media-stream.c  |    1 +
 2 files changed, 3 insertions(+), 0 deletions(-)

commit 48100c58aeb87b1cba86ed1587167c1d001d451a
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Feb 24 11:56:52 2006 +0000

    re-enable -Werror on non-zero nano versions
    
    
    20060224115652-0e791-db6e610adaea6c54b4a86a265044c5385b5197f9.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 23451288eb62b0ee2ae182ba9613f5027791613c
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed Mar 1 04:28:52 2006 +0000

    fix GabbleMediaChannel's group interface semantics
    
    
    20060301042852-50843-0dfedaaa1406ce7279b75d572ffb7dca64fe5d75.gz

 src/gabble-connection.c    |   31 ++++--
 src/gabble-group-mixin.c   |   26 ++++-
 src/gabble-media-channel.c |  258 ++++++++++++++++++++++---------------------
 3 files changed, 178 insertions(+), 137 deletions(-)

commit 1344e1c8fbae0849f86eb22c060b97ff87dc2c26
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed Mar 1 00:21:05 2006 +0000

    revert maintainer mode and set the default GabbleMediaSession-related debug to maximum by default for now
    
    
    20060301002105-50843-d7cd1eae058296b61ad9992c815510dd3642b2e5.gz

 configure.ac               |    2 --
 src/Makefile.am            |    4 ----
 src/gabble-media-session.h |    6 +-----
 3 files changed, 1 insertions(+), 11 deletions(-)

commit 2748aa1af5235c169584c7a40422e0b73cfe9552
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sun Feb 26 17:30:40 2006 +0000

    add an optional object parameter to _gabble_connection_send_with_reply that, if set, makes the callback dependant on the lifetime of that object by using a weak reference
    
    
    20060226173040-50843-6bf59936af25eb982af1549dbca31d03348c7858.gz

 src/gabble-connection.c    |   65 +++++++++++++++++++++++++++++++++++++------
 src/gabble-connection.h    |    3 +-
 src/gabble-media-session.c |   15 ++++++----
 src/gabble-media-stream.c  |    5 ++-
 4 files changed, 70 insertions(+), 18 deletions(-)

commit b662026d4cd097fe44933ffcab0424b041a25209
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sun Feb 26 16:39:42 2006 +0000

    destroy jingle_sessions gashtable in close_all_channels
    
    
    20060226163942-50843-594d3d20bd2815a042a30170de437e9b22351ce6.gz

 src/gabble-connection.c |    8 +++++++-
 1 files changed, 7 insertions(+), 1 deletions(-)

commit e97ca46e55b9b5b360f47a2b89f23b22e4992fe7
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sun Feb 26 16:28:55 2006 +0000

    removed some obsolete debug info. make GabbleMediaSession's debug turned off by default unless configured with --maintainer-mode, or specified explicitly in CFLAGS by defining _GMS_DEBUG_LEVEL=x.
    
    
    20060226162855-50843-a23c66f387064b63377f552896a849d815e8b395.gz

 configure.ac               |    2 ++
 src/Makefile.am            |    4 ++++
 src/gabble-connection.c    |    7 +------
 src/gabble-media-session.c |    4 ++--
 src/gabble-media-session.h |   14 ++++++++++++--
 src/gabble-media-stream.c  |    2 +-
 6 files changed, 22 insertions(+), 11 deletions(-)

commit 168fdc2ff0a2a12f81480442adb2f0ad4b2cc4fb
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sun Feb 26 15:52:01 2006 +0000

    fix race condition where remote codecs/candidates could be signaled before Ready() was called on Media.StreamHandler
    
    
    20060226155201-50843-c1dee7d71fe4bd76ec967de43ed7e16f8c184f8b.gz

 src/gabble-media-stream.c |   14 ++++++++++++++
 1 files changed, 14 insertions(+), 0 deletions(-)

commit 6b99048b85a2bcd901498a0574729f0906c33c64
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sun Feb 26 05:09:32 2006 +0000

    fix reference counting in GabbleMedia{Session,Stream}
    
    
    20060226050932-50843-9af9907731a42923bda9d199ac151211dc6b4c44.gz

 src/gabble-media-session.c |    5 ++---
 src/gabble-media-stream.c  |    7 +++----
 2 files changed, 5 insertions(+), 7 deletions(-)

commit 0a241feee2f4c711dce4bcd8e458a9c2bb016bff
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sun Feb 26 04:09:29 2006 +0000

    made GabbleGroupMixin always check that the current flags allow the requested operation for add/remove. only emit group-flags-changed when they've actually changed. removed some obsolete debug info related to mixin struct offset.
    
    
    20060226040929-50843-228cfe1b7028d907d5a2e55e6f1e9a411d106033.gz

 src/gabble-group-mixin.c   |   31 +++++++++++++++++++++++++++----
 src/gabble-media-channel.c |    6 ++----
 2 files changed, 29 insertions(+), 8 deletions(-)

commit 50433ba583b23d7d8624c265ffb602e02bb3cd7b
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sun Feb 26 03:22:56 2006 +0000

    implement last missing pieces of GabbleMediaChannel's group interface and do session termination properly
    
    
    20060226032256-50843-fd6eb5945d7bd4e86160e3d3981239a02e66f117.gz

 src/gabble-connection.c    |    8 +++-
 src/gabble-connection.h    |    2 +-
 src/gabble-media-channel.c |   55 +++++++++++++++++++------------
 src/gabble-media-session.c |   77 +++++++++++++++++++++++++++++++++++++++++--
 src/gabble-media-session.h |    2 +
 src/gabble-media-stream.c  |    4 ++-
 6 files changed, 119 insertions(+), 29 deletions(-)

commit ad3681842f775abb5ca9296b0bd0574f77ebfc8f
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sat Feb 25 00:38:17 2006 +0000

    fixed semantics around GabbleMedia{Channel,Session,Stream} to cleanup resources and shut down gracefully. updated headers to contain contact information like in Farsight.
    
    
    20060225003817-50843-80aa4fd48fba98409054b21096a02887b532f164.gz

 src/gabble-connection.c    |   77 ++++++++++++++++++++++++++++---------------
 src/gabble-group-mixin.c   |    2 +
 src/gabble-media-channel.c |   60 ++++++++++++++++-----------------
 src/gabble-media-session.c |   14 ++++++--
 src/gabble-media-stream.c  |   21 ++++++++++--
 5 files changed, 108 insertions(+), 66 deletions(-)

commit 118dc230ef0f2674ea9cd87995310c2111a5f930
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Feb 24 14:59:05 2006 +0000

    fix a small detail in the debug output that could cause some confusion
    
    
    20060224145905-50843-cac963e47c8868d2932d679b140a58ffb17d6fcf.gz

 src/gabble-media-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 9bde5d63db805735c20ad5fd4dbe9c4d6ab322c6
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Feb 24 14:44:03 2006 +0000

    generate candidate names for remote candidates like "R%d", and hard-code outgoing candidates stream name attribute to "rtp"
    
    
    20060224144403-50843-796e3edb6bdc34971e2319a884c2852960cd1807.gz

 src/gabble-media-stream.c |   76 ++++++++++++++++++++++++++-------------------
 1 files changed, 44 insertions(+), 32 deletions(-)

commit e6416057b7015b035a303fb19dc20145444dcb25
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Feb 24 02:04:49 2006 +0000

    fix candidate name marshalling to match libjingle
    
    
    20060224020449-50843-10422ca08cc7324ce648cc87685fec716a26efa9.gz

 src/gabble-media-stream.c |   18 ++++++++++--------
 1 files changed, 10 insertions(+), 8 deletions(-)

commit 28b43ed5bb0bb8a01115007a8c1f6d4144e24151
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu Feb 23 18:31:00 2006 +0000

    more work and fixes towards fully functioning groupchannel support on StreamedMediaChannel
    
    
    20060223183100-50843-3a97543b7906fd37cda7fc575d0b5a7227ded175.gz

 src/gabble-group-mixin.c   |   70 +++++++++++++++++++++++++++++++++++++++-----
 src/gabble-group-mixin.h   |    7 ++--
 src/gabble-media-channel.c |   53 ++++++++++++++++++++++++++++++--
 src/gabble-media-session.c |    7 +++-
 src/gintset.c              |    1 +
 5 files changed, 121 insertions(+), 17 deletions(-)

commit 9021382f98ee2ae5b06e2fc1361b221dba028f64
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu Feb 23 15:23:07 2006 +0000

    fix GabbleGroupMixin macros point arithmetic and add some debug
    
    
    20060223152307-50843-4b927002ec70b103d1ffda0c7fbab159557bdf5a.gz

 src/gabble-group-mixin.c   |   29 +++++++++++++----------------
 src/gabble-group-mixin.h   |   11 +++++------
 src/gabble-media-channel.c |    8 ++++++++
 3 files changed, 26 insertions(+), 22 deletions(-)

commit 1cce3d2072491f85f31d5af657216326c99e3782
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu Feb 23 14:22:12 2006 +0000

    lots of groupchannel work on StreamedMediaChannel
    
    
    20060223142212-50843-5f44d0f3a4b0fc9b17f56b44b47c4cc932e81c79.gz

 src/gabble-connection.c    |  168 ++++++++++++++++------
 src/gabble-connection.h    |    2 +
 src/gabble-group-mixin.c   |   47 ++++++-
 src/gabble-group-mixin.h   |    8 +-
 src/gabble-media-channel.c |  336 ++++++++++++++++++++++++++++++--------------
 src/gabble-media-channel.h |    2 +-
 src/gabble-media-session.c |   74 +++++++---
 src/gabble-media-session.h |   10 +-
 8 files changed, 467 insertions(+), 180 deletions(-)

commit dcc56846db466730a248fec622bf5a1e8e070a32
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed Feb 22 01:03:32 2006 +0000

    Implemented basic GabbleGroupMixin for use by channels implementing the group interface. Also prefixed a couple of internal functions with underscores.
    
    
    20060222010332-50843-30c1f42081cd10b37a73407df99d3a80b73e7f68.gz

 src/Makefile.am                             |    3 +
 src/gabble-connection.c                     |    4 +-
 src/gabble-group-mixin-signals-marshal.list |    2 +
 src/gabble-group-mixin.c                    |  345 +++++++++++++++++++++++++++
 src/gabble-group-mixin.h                    |   82 +++++++
 src/gabble-media-channel.c                  |   67 +++---
 src/gabble-media-channel.h                  |    7 +-
 src/gintset.h                               |    2 +
 8 files changed, 480 insertions(+), 32 deletions(-)

commit f5257e629024918c17606648d57328ea46854265
Author:  <rob.taylor@collabora.co.uk>
Date:   Wed Feb 22 17:34:51 2006 +0000

    resolved conflicts with send_with_reply patch on mainline
    
    
    20060222173451-25e70-fabc6d985a63d675c35253f9e5b430606436ca3f.gz

 src/gabble-connection.c |   87 +++++++++++++++++++++++++++++++++++++++++++++++
 src/gabble-connection.h |    9 ++---
 2 files changed, 91 insertions(+), 5 deletions(-)

commit 128e2676b53a0021576a22cc663b43fd96a30095
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Feb 17 14:51:45 2006 +0000

    add stubs for GabbleMediaChannel group interface
    
    
    20060217145145-50843-13f0950be9f20d7740dd599b0eab3acad826a482.gz

 generate/gabble.def                                |    2 +-
 .../src/gabble-media-channel-signals-marshal.list  |    2 +
 generate/src/gabble-media-channel.c                |  146 ++++++++++++++++++++
 generate/src/gabble-media-channel.h                |    7 +
 generate/xml-modified/gabble-media-channel.xml     |   36 +++++
 generate/xml-pristine/gabble-media-channel.xml     |   36 +++++
 src/gabble-media-channel-signals-marshal.list      |    2 +
 src/gabble-media-channel.c                         |  146 ++++++++++++++++++++
 src/gabble-media-channel.h                         |    7 +
 9 files changed, 383 insertions(+), 1 deletions(-)

commit 8bb5caece8155b64d05b5bc9e6880e4df2da83b8
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Feb 17 12:41:35 2006 +0000

    added handling of jingle "reject" action and improved debugging
    
    
    20060217124135-50843-efb7d047a73a5043a037490c5a6a6a3332de373d.gz

 src/gabble-media-session.c |   27 +++++++++++++++------------
 src/gabble-media-session.h |   12 ++++++++----
 2 files changed, 23 insertions(+), 16 deletions(-)

commit 46b518a603938b9222677b0657e8be822afa1e95
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Feb 17 12:03:29 2006 +0000

    several fixes and improved debugging output
    
    
    20060217120329-50843-91ceb815df4cbbb440b6aa0a612963da69089da9.gz

 src/gabble-connection.c    |   20 +++++++++++++-------
 src/gabble-media-session.c |   25 ++++++++++++++++++++-----
 src/gabble-media-session.h |   16 ++++++++++------
 src/gabble-media-stream.c  |   24 +++++++++++++++++++-----
 4 files changed, 62 insertions(+), 23 deletions(-)

commit 97175540ee4b91e3096db76b5c0aa4d8c45c0977
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Feb 17 10:22:05 2006 +0000

    finish jingle jid resouce hack
    
    
    20060217102205-50843-7f23134cd86fc758df9913fd0f0a0b86f571c928.gz

 src/gabble-connection.c    |   62 +++++++++++++++++++++----------------------
 src/gabble-connection.h    |   20 ++++++++++++++
 src/gabble-media-session.c |   37 ++++++++++++++++++--------
 src/gabble-media-session.h |    6 ++++
 src/gabble-media-stream.c  |    2 +
 5 files changed, 84 insertions(+), 43 deletions(-)

commit f36a033675b8c3176c3b891e63c8f90305e71f5a
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Feb 17 08:50:02 2006 +0000

    store resource on presence quark
    
    
    20060217085002-50843-81b01f9ff59f517dfee7a1206800742716dd3f89.gz

 src/gabble-connection.c |   15 +++++++++++++--
 1 files changed, 13 insertions(+), 2 deletions(-)

commit 93f30784cc8aa4778972e61bf831019202b788a1
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Feb 17 08:16:00 2006 +0000

    only catch RESULT and ERROR iq stanzas in reply to _gabble_connection_send_with_reply
    
    
    20060217081600-50843-bf427f4ef53e306fd38478469d262e4e49d6fcc6.gz

commit 5c59b4ac2e4cb3f8b0cbbf77a7bf5b5b9dd81a2d
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Feb 17 02:09:48 2006 +0000

    hack around the current lack of support for resources to get gabble<->gabble convos to work
    
    
    20060217020948-50843-4f9ee5a169e61a08cef7954e21c06ed32168b111.gz

 src/gabble-media-session.c |   17 ++++++++++++++---
 1 files changed, 14 insertions(+), 3 deletions(-)

commit 5d3e3feb35989884d151f76cb44f63536efe4d71
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Feb 17 01:25:24 2006 +0000

    resolved conflicts
    
    
    20060217012524-50843-b06f14ceb2ebff055b328474a0800af7af19c8cf.gz

 src/gabble-connection.c |   12 +++++++++++-
 1 files changed, 11 insertions(+), 1 deletions(-)

commit a5a347f5838a8852c45a26c984b66518ffa03004
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Feb 17 01:21:31 2006 +0000

    improved debugging
    
    
    20060217012131-50843-a8bf3d5f2a7c7cc28000f6b6a5fd0e48f006d34c.gz

 src/gabble-media-session.c |   71 ++++++++++++--------------------------
 src/gabble-media-session.h |   31 +++++++++++++++-
 src/gabble-media-stream.c  |   83 ++++++++++++++++++++++++++------------------
 3 files changed, 100 insertions(+), 85 deletions(-)

commit f25c095858765b9c85d185fbae0645d66c8e6728
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Feb 17 00:06:48 2006 +0000

    more state machine fixes, improved debug and minor cleanups
    
    
    20060217000648-50843-c8536c7a82eb232ffc226e9a27f574a5ea98b895.gz

 src/gabble-connection.c    |   74 +++++++++++++++++--------
 src/gabble-media-session.c |  125 +++++++++++++++++++-------------------------
 src/gabble-media-session.h |   13 +++++
 src/gabble-media-stream.c  |   72 +++++++++++++++----------
 src/gabble-media-stream.h  |    6 +-
 5 files changed, 163 insertions(+), 127 deletions(-)

commit 0139857f6311a2126350ac3f9bc89bba3c97f693
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu Feb 16 18:18:25 2006 +0000

    lots of state machine fixes. added an API for sending and tracking messages.
    
    
    20060216181825-50843-28eb157af91b6a849ccc3e32d1bab27c6f13757e.gz

 src/gabble-connection.c    |  122 ++++++------------------------
 src/gabble-connection.h    |    7 +-
 src/gabble-media-channel.c |    2 -
 src/gabble-media-session.c |  175 ++++++++++++++++++++++++++++---------------
 src/gabble-media-session.h |   23 +++---
 src/gabble-media-stream.c  |   60 ++++++++++++---
 6 files changed, 204 insertions(+), 185 deletions(-)

commit 55075354d3d20bcac17be4f8765b4da69980b7b7
Author:  <rob.taylor@collabora.co.uk>
Date:   Thu Feb 16 13:39:59 2006 +0000

    pulled mainline gabble, fixed conflicts
    
    
    20060216133959-25e70-be76131bed9e24114b8c52928c92e1981e4bf0dd.gz

 src/gabble.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 502460cab657d8be3342ca4e45e34a96bb590a6a
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu Feb 16 12:43:17 2006 +0000

    move lots of codepaths to using the new GabbleMediaSession debugging
    
    
    20060216124317-50843-c0f1e5b978c7de9f95c0c2bc55142a617c86d382.gz

 src/gabble-media-session.c |   53 ++++++++++++++++++++++-------------
 src/gabble-media-session.h |   10 ++++++-
 src/gabble-media-stream.c  |   64 +++++++++++++++++++++++++++----------------
 3 files changed, 82 insertions(+), 45 deletions(-)

commit bdd92686713fe9062bf8f55c857dbe5dca9b6ad9
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu Feb 16 12:14:25 2006 +0000

    improved GabbleMediaSession debugging. fixed a few state machine bugs.
    
    
    20060216121425-50843-57302f2891f9c5c7acc50c47ab9cf156d8fb51a3.gz

 src/gabble-connection.c    |    2 -
 src/gabble-media-session.c |   98 ++++++++++++++++++++++++++++++++++++++-----
 src/gabble-media-session.h |    7 +++-
 3 files changed, 92 insertions(+), 15 deletions(-)

commit c0f112790f1a70fb108f8da526634063227d1a04
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed Feb 15 22:51:38 2006 +0000

    ignore localhost candidates
    
    
    20060215225138-50843-dd52e7dc75d0927cb616fb8040f390587e49bc92.gz

 src/gabble-media-stream.c |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit 55ff325aaa24dc3e43c96e01edac7b22a8d7af4d
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed Feb 15 22:50:48 2006 +0000

    respond correctly to the jingle iq stanzas by using the id from the iq instead of the session node
    
    
    20060215225048-50843-85463cfae9b54491cdb6bf5e49905c60b1ce960e.gz

 src/gabble-connection.c |   19 +++++++++++++------
 1 files changed, 13 insertions(+), 6 deletions(-)

commit a74392aadfa6e77870804ea13ea6d558ae0bad0d
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed Feb 15 21:28:57 2006 +0000

    lots of refactoring to the state machine and how GabbleMediaSession and GabbleMediaStream interact
    
    
    20060215212857-50843-12072c14ecc5273a44efcf69a1ba5451cc222914.gz

 src/gabble-connection.c    |    4 +-
 src/gabble-media-session.c |  238 +++++++++++++++---
 src/gabble-media-session.h |   14 +-
 src/gabble-media-stream.c  |  598 ++++++++++++++++++++++++++------------------
 src/gabble-media-stream.h  |   36 +++-
 5 files changed, 603 insertions(+), 287 deletions(-)

commit 60642979f52a0b0c3a654ad858aa5f60a6b709ec
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Tue Feb 14 23:31:17 2006 +0000

    provide a GDestroyNotify function for the jingle_sessions gashtable in order to make it skip NULL-values
    
    
    20060214233117-50843-dabfc232dd367635897e69e4d6d82cf61c94480b.gz

 src/gabble-connection.c |   11 ++++++++++-
 1 files changed, 10 insertions(+), 1 deletions(-)

commit b72e93ed336c10c3993b86893ee8702833a8d046
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Tue Feb 14 21:13:43 2006 +0000

    fix all trailing whitespace
    
    
    20060214211343-50843-ef6cce55096f8b23e44aeb486dfd9ecffb114e45.gz

 src/gabble-connection-manager.c |    2 +-
 src/gabble-connection.c         |   32 +++++++++---------
 src/gabble-im-channel.c         |    2 +-
 src/gabble-media-channel.c      |   38 +++++++++++-----------
 src/gabble-media-session.c      |   66 +++++++++++++++++++-------------------
 src/gabble.c                    |    6 ++--
 src/handle-set.c                |    2 +-
 src/handles.c                   |    6 ++--
 src/handles.h                   |    4 +-
 src/telepathy-errors.h          |    2 +-
 src/telepathy-helpers.h         |    2 +-
 11 files changed, 81 insertions(+), 81 deletions(-)

commit b57f34433864c6386a3506f0c53dfc74ea9d7b7f
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Tue Feb 14 20:54:01 2006 +0000

    add support for requesting Channel.Type.StreamedMedia channels
    
    
    20060214205401-50843-ff2b2bdee5625cb2f831aa2df4a5492431fdc461.gz

 src/gabble-connection.c |   17 +++++++++++++++++
 1 files changed, 17 insertions(+), 0 deletions(-)

commit 1e346e89d3929aeb33ad1bf882578e3ecb733fca
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Tue Feb 14 20:39:57 2006 +0000

    send session initiation when being the initiating end
    
    
    20060214203957-50843-250afb2a2841f269be1c9bf13b54ac7ac8157547.gz

 src/gabble-media-stream.c |  120 ++++++++++++++++++++++++++++----------------
 1 files changed, 76 insertions(+), 44 deletions(-)

commit c940555b8545ca60143a2b81323287360fc76333
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Tue Feb 14 19:28:54 2006 +0000

    add "handling" of ssltcp candidates
    
    
    20060214192854-50843-7478a4a4dd896e1dac9f159e436af1582f7eb88b.gz

 src/gabble-media-stream.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit b117a58cff78f9a9687dfe5adeb3fe34c830e0d5
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Tue Feb 14 19:28:47 2006 +0000

    remove some unused code
    
    
    20060214192847-50843-0f6bdd30779b6234823890649ce921184b8821ce.gz

 src/gabble-media-stream.c |   43 -------------------------------------------
 1 files changed, 0 insertions(+), 43 deletions(-)

commit 573b4ef6c6b50731685b69d12541e33fff9215f3
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Tue Feb 14 19:27:59 2006 +0000

    implement gabble_media_stream_supported_codecs
    
    
    20060214192759-50843-85943620b03d06f6d928ff0ff0847f7ef5d5663f.gz

 src/gabble-media-stream.c |   52 ++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 51 insertions(+), 1 deletions(-)

commit 5b4ded9feeabcb8d44bddaea58838606cda0ca9e
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Tue Feb 14 19:25:17 2006 +0000

    fix port type from guint16 to guint in gabble_media_stream_new_native_candidate and unconst addr gchar pointer
    
    
    20060214192517-50843-4a2e42d4f90a833612188ec9c933c64d9a9266bd.gz

 src/gabble-media-stream.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 7171ecb7e1de9d8b6a19e080f95a09314d6b3998
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Tue Feb 14 19:21:30 2006 +0000

    send final accept message when the first active candidate pair is discovered.
    
    
    20060214192130-50843-5e37fd9dff4af8bab7c01820a84b33f650a25331.gz

 src/gabble-media-stream.c |   28 ++++++++++++++++++++++++++--
 1 files changed, 26 insertions(+), 2 deletions(-)

commit 7bf6d71f0ed3c4f400640a313a84bea0514a9e21
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Tue Feb 14 19:17:54 2006 +0000

    fix whitespace. add some more debug and add a couple of FIXMEs.
    
    
    20060214191754-50843-1c8f5fc5aa3c6b168ca9012832614f2b7e46d369.gz

 src/gabble-media-session.c |   14 ++++--
 src/gabble-media-stream.c  |  103 +++++++++++++++++++++++---------------------
 2 files changed, 64 insertions(+), 53 deletions(-)

commit ccb187ca758596bb98aba890e4785fd40593060e
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon Feb 13 10:15:54 2006 +0000

    fix GValue intitializers
    
    
    20060213101554-50843-a008c22a588893ff81636f0f740cfa80d4a327d1.gz

 src/gabble-media-channel.c |    2 +-
 src/gabble-media-stream.c  |    8 ++++----
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 79e4fc04f91a1bf43ac264867fc2ea0cc66c9baf
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon Feb 13 10:13:25 2006 +0000

    add GABBLE_PERSIST env var to disable 5 sec timeout
    
    
    20060213101325-50843-ee7910b0843073a93247e49a245b263a16732825.gz

commit 328032804e46785f98e118d9f44e8da65a02a2a2
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Feb 3 17:04:14 2006 +0000

    disabling 5 second timeout in maintainer mode (--enable-maintainer-mode)
    
    
    20060203170414-50843-2880956a2f0a1fc5e558e2d036c88bdd31d6235f.gz

 configure.ac    |    2 --
 src/Makefile.am |    4 ----
 src/gabble.c    |    1 -
 3 files changed, 0 insertions(+), 7 deletions(-)

commit fd9a5ed08ca04abfabda926999900f5f2199a966
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sat Feb 11 03:48:12 2006 +0000

    remove the FIXME regarding whether 0 is a valid default clock rate
    
    
    20060211034812-50843-5700a874b607d9eab1f331be121755439fe45075.gz

 src/gabble-media-stream.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 16611f3de295fcebcafccc5503b55f380440f4c2
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sat Feb 11 03:23:25 2006 +0000

    minor debug message fix
    
    
    20060211032325-50843-7e2f2b434cfd03818866feec9a72828e0fd38b6f.gz

 src/gabble-media-session.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7b552cc6f8ec77b405916bfd6882ee3677274754
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sat Feb 11 03:17:51 2006 +0000

    add debug message in gabble_media_session_message_send
    
    
    20060211031751-50843-e3558abe88886123f5b145a8f36f1e77fffe4b56.gz

 src/gabble-media-session.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 75f11dca03c96f441c5f2f9e2acd27040a35b96f
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sat Feb 11 03:17:16 2006 +0000

    move HANDLER_DEBUG from gabble-connection.c to .h
    
    
    20060211031716-50843-bbd2c2270163405a47cbd00fa78f5b748c30d91b.gz

 src/gabble-connection.c |    8 --------
 src/gabble-connection.h |    8 ++++++++
 2 files changed, 8 insertions(+), 8 deletions(-)

commit dc5b6e6670acc5a10d30f1ee2c53420c5b3e8512
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sat Feb 11 03:05:57 2006 +0000

    convert session id to string before passing it to lm_message_node_set_attributes (doh!)
    
    
    20060211030557-50843-c722af439e55f21304383147a173fd8530bde243.gz

 src/gabble-media-session.c |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit 0be6273743f2c2563dd8548e53b6476ffd52f9c5
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sat Feb 11 02:49:35 2006 +0000

    implement Media.StreamHandler::NewNativeCandidate
    
    
    20060211024935-50843-3185f8ec583b4c55d81eca181b4f9aeb75888b85.gz

 src/gabble-media-stream.c |   83 +++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 83 insertions(+), 0 deletions(-)

commit 6814b87b87335ee80435382fcaeb6c912a8def8d
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sat Feb 11 02:49:16 2006 +0000

    add a few comments
    
    
    20060211024916-50843-c737049869de05d67ea951a774546c8e7dde7bc6.gz

 src/gabble-media-stream.c |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 7f36b9e83c8a6ef6c58345f776117d242ae13f35
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sat Feb 11 02:20:33 2006 +0000

    prototypes for the new part of the GabbleMediaSession API would be useful ;)
    
    
    20060211022033-50843-e1b564787a4798c09954d673bbbf4b65ec71701b.gz

 src/gabble-media-session.h |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit 72f8584b4f8afb035a1e01ac8fc4855215f37536
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sat Feb 11 02:11:56 2006 +0000

    add initiator and peer properties to GabbleMediaSession, and an API to be used by GabbleMediaStream to create a message and send it
    
    
    20060211021156-50843-3b980b2b69c1f5c808ef08785476d87ad4412fb4.gz

 src/gabble-media-session.c |  131 +++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 130 insertions(+), 1 deletions(-)

commit d715695f96d55ee3fa4ff9f11e4783720044d9b9
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sat Feb 11 02:06:40 2006 +0000

    make gabble_media_channel_create_session create initiator-aware sessions and register them with the per-connection jingle session API
    
    
    20060211020640-50843-620e77f396f48c10134b895c9276b1b45d33f304.gz

 src/gabble-media-channel.c |   32 +++++++++++++++++++++++++++-----
 src/gabble-media-channel.h |    5 +----
 2 files changed, 28 insertions(+), 9 deletions(-)

commit a300c7e8b3599c548ce144cdefb17e6a39266db6
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Feb 10 21:18:08 2006 +0000

    create an internal API for managing per-connection Jingle-sessions
    
    
    20060210211808-50843-29a95c4d5bf5f11e74200ea71ac005ead54cefba.gz

 src/gabble-connection.c |   43 ++++++++++++++++++++++++++++++++-----------
 src/gabble-connection.h |    4 ++++
 2 files changed, 36 insertions(+), 11 deletions(-)

commit e499ca43271a19e669acb20dd142d54f89e9b2c7
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu Feb 9 14:41:16 2006 +0000

    add an enum for codec media type for the sake of clarity
    
    
    20060209144116-50843-334a211ed238e9b1b55fdc55150b0df45b169483.gz

 src/gabble-media-stream.c |    3 +--
 src/telepathy-constants.h |    5 +++++
 2 files changed, 6 insertions(+), 2 deletions(-)

commit db507bce39685bcf6b394a7580f511950d0d1f1a
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu Feb 9 13:17:22 2006 +0000

    update to match latest Telepathy spec change (signature of Media.StreamHandler::NewNativeCandidate had an error in the definition of the transports argument)
    
    
    20060209131722-50843-a1daf4ef1c50efa79ab036ccb566418f6eb75c99.gz

 generate/xml-modified/gabble-media-stream.xml |    2 +-
 generate/xml-pristine/gabble-media-stream.xml |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 2e895a6ac6ac952156afe4144b65bd845a197b9a
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed Feb 8 22:33:53 2006 +0000

    update to conform with spec change related to Media.StreamHandler::Ready()
    
    
    20060208223353-50843-833b1d6555a8770840767c95f1d26dd8f503baec.gz

 generate/src/gabble-media-stream.c            |    2 +-
 generate/src/gabble-media-stream.h            |    2 +-
 generate/xml-modified/gabble-media-stream.xml |    1 +
 generate/xml-pristine/gabble-media-stream.xml |    1 +
 src/gabble-media-stream.c                     |    2 +-
 src/gabble-media-stream.h                     |    2 +-
 6 files changed, 6 insertions(+), 4 deletions(-)

commit ec1a79c74919bdc3042a3adeb75aeb154174b41b
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon Feb 6 18:20:55 2006 +0000

    remove obsolete JingleCodec/JingleCandidate code
    
    
    20060206182055-50843-fcea2f0a94169e77c874239ef7848e06060cf31c.gz

 src/gabble-media-stream.c |  103 ---------------------------------------------
 1 files changed, 0 insertions(+), 103 deletions(-)

commit bf06c884841fced6e74d37d6869d5e9b2e722550
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon Feb 6 18:18:05 2006 +0000

    finish off remote candidate parsing and marshalling
    
    
    20060206181805-50843-69a5ec988e478704902419f820ba14d12297fe1f.gz

 src/gabble-media-session.c |    5 +-
 src/gabble-media-stream.c  |  255 +++++++++++++++++++++++++++++++++++---------
 2 files changed, 207 insertions(+), 53 deletions(-)

commit 6888149453387a6ec65d278a948d092c0df73be2
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon Feb 6 12:54:41 2006 +0000

    regenerate generated code and use it to fix signal marshalling in GabbleMediaStream
    
    
    20060206125441-50843-2fb0d384475418e0427bfe390dc9f44ec7c10a06.gz

 generate/src/gabble-media-stream.c |    6 +++---
 src/gabble-media-stream.c          |    8 ++++----
 2 files changed, 7 insertions(+), 7 deletions(-)

commit 904b2b8789b4967eba5be9e8f29d32bd1bb96844
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon Feb 6 12:47:44 2006 +0000

    initialize GValues structs zeroed so that g_value_init() doesn't fail
    
    
    20060206124744-50843-2f14ad906ed408c1c9a30e065cba3a0a9a502bc6.gz

 src/gabble-media-channel.c |    2 +-
 src/gabble-media-stream.c  |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 1619ca6648658a967dc1e0a904c359f92c235e8a
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Mon Feb 6 12:39:07 2006 +0000

    port GetSessionHandlers() and remote codec parser code to use the new dbus struct API
    
    
    20060206123907-50843-6a7df813c8ec2e95cd42d031cf777c37e5583ca9.gz

 src/gabble-media-channel.c |   33 +++++++++++---------
 src/gabble-media-stream.c  |   72 +++++++++++++++----------------------------
 2 files changed, 43 insertions(+), 62 deletions(-)

commit f7839b74bd1b0eccaaaac7b59c7e6f2c78f6499e
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sun Feb 5 19:43:34 2006 +0000

    a bit more refactoring. implement first batch of functionality in GabbleMediaStream.
    
    
    20060205194334-50843-ff69a56dbddb54d028d56719d48776b5756e3f3f.gz

 src/gabble-media-channel.c |   16 +-
 src/gabble-media-session.c |  281 ++++++---------------------
 src/gabble-media-stream.c  |  460 ++++++++++++++++++++++++++++++++++++++++++++
 src/gabble-media-stream.h  |    3 +
 4 files changed, 536 insertions(+), 224 deletions(-)

commit c4fb6eee6ed11e763b0f93ae169f67625cec84f1
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sun Feb 5 16:30:31 2006 +0000

    move jingle per session state machine into GabbleMediaSession
    
    
    20060205163031-50843-262678d3b3f2d18fbd567f6207ba3dc7dcbacc02.gz

 src/gabble-connection.c    |  240 ++++++++++++-------------------------
 src/gabble-media-channel.c |   95 +++------------
 src/gabble-media-channel.h |   60 +---------
 src/gabble-media-session.c |  286 ++++++++++++++++++++++++++++++++++++++++++++
 src/gabble-media-session.h |    4 +
 5 files changed, 387 insertions(+), 298 deletions(-)

commit 742a030b4ee0860ab76d57f8766511a47f78a94a
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sun Feb 5 13:47:26 2006 +0000

    rename GabbleMedia{Session,Stream}Handler to GabbleMedia{Session,Stream}
    
    
    20060205134726-50843-48999d9f1bd4978b0f91f98bfae229641f27ad9a.gz

 generate/do_src.sh                                 |    8 +-
 generate/gabble.def                                |    4 +-
 generate/src/gabble-connection.c                   |    2 +-
 generate/src/gabble-connection.h                   |    2 +-
 ...bble-media-session-handler-signals-marshal.list |    1 -
 generate/src/gabble-media-session-handler.c        |  148 -----------
 generate/src/gabble-media-session-handler.h        |   62 -----
 .../src/gabble-media-session-signals-marshal.list  |    1 +
 generate/src/gabble-media-session.c                |  148 +++++++++++
 generate/src/gabble-media-session.h                |   62 +++++
 ...abble-media-stream-handler-signals-marshal.list |    5 -
 generate/src/gabble-media-stream-handler.c         |  278 --------------------
 generate/src/gabble-media-stream-handler.h         |   67 -----
 .../src/gabble-media-stream-signals-marshal.list   |    5 +
 generate/src/gabble-media-stream.c                 |  278 ++++++++++++++++++++
 generate/src/gabble-media-stream.h                 |   67 +++++
 generate/xml-modified/gabble-connection.xml        |    4 +-
 .../xml-modified/gabble-media-session-handler.xml  |   16 --
 generate/xml-modified/gabble-media-session.xml     |   16 ++
 .../xml-modified/gabble-media-stream-handler.xml   |   44 ---
 generate/xml-modified/gabble-media-stream.xml      |   44 +++
 generate/xml-pristine/gabble-connection.xml        |    4 +-
 .../xml-pristine/gabble-media-session-handler.xml  |   21 --
 generate/xml-pristine/gabble-media-session.xml     |   21 ++
 .../xml-pristine/gabble-media-stream-handler.xml   |   49 ----
 generate/xml-pristine/gabble-media-stream.xml      |   49 ++++
 src/Makefile.am                                    |   16 +-
 src/gabble-media-channel.c                         |   22 +-
 ...bble-media-session-handler-signals-marshal.list |    1 -
 src/gabble-media-session-handler.c                 |  258 ------------------
 src/gabble-media-session-handler.h                 |   62 -----
 src/gabble-media-session-signals-marshal.list      |    1 +
 src/gabble-media-session.c                         |  258 ++++++++++++++++++
 src/gabble-media-session.h                         |   62 +++++
 ...abble-media-stream-handler-signals-marshal.list |    5 -
 src/gabble-media-stream-handler.c                  |  278 --------------------
 src/gabble-media-stream-handler.h                  |   67 -----
 src/gabble-media-stream-signals-marshal.list       |    5 +
 src/gabble-media-stream.c                          |  278 ++++++++++++++++++++
 src/gabble-media-stream.h                          |   67 +++++
 40 files changed, 1393 insertions(+), 1393 deletions(-)

commit ea4cdf69103d0c7420db99dd4d86d99a5242f526
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sun Feb 5 03:39:26 2006 +0000

    register GabbleMediaSessionHandler objects on the bus and a couple of debug messages
    
    
    20060205033926-50843-468cba219b5f454a7547c662bea113bd770e6ad0.gz

 src/gabble-media-session-handler.c |   26 ++++++++++++++++++++++++++
 1 files changed, 26 insertions(+), 0 deletions(-)

commit 82e3eac6bcaaf790efb36d29a107d0c9d9552d42
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sat Feb 4 19:08:33 2006 +0000

    add message about ACK_FAILURE not yet implemented
    
    
    20060204190833-50843-6b7ee2b464d10aa7f60c708601b1e3b9336e9330.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 44dea4e1b9d0ae151f1bcb3a3e985aeb7bd14775
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sat Feb 4 19:04:57 2006 +0000

    implemented GetSessionHandlers() and more work on GabbleMediaSessionHandler implementation
    
    
    20060204190457-50843-821a167cdf581ddb7772481cc73547f2228efe4c.gz

 src/gabble-connection.c            |    5 +-
 src/gabble-media-channel.c         |  103 +++++++++++++++++++++++++++++++++++-
 src/gabble-media-channel.h         |    6 ++
 src/gabble-media-session-handler.c |   90 ++++++++++++++++++++++++++++++-
 src/gabble-media-stream-handler.c  |    6 +-
 5 files changed, 201 insertions(+), 9 deletions(-)

commit 0eff38e080efa70f85d110c342b00b43981d7c4c
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Sat Feb 4 19:02:21 2006 +0000

    destroy media channels as well
    
    
    20060204190221-50843-7ce2d2ca236a7e05be1bcb03fbae3e3f0f6cc7fb.gz

 src/gabble-connection.c |   21 ++++++++++++++++++---
 1 files changed, 18 insertions(+), 3 deletions(-)

commit ea9fb32f1b6fb19f835386071a9f4a50a7b55a44
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Feb 3 17:04:14 2006 +0000

    disabling 5 second timeout in maintainer mode (--enable-maintainer-mode)
    
    
    20060203170414-50843-01a4992db4ceeca046d8df319badd6d1d0bf6527.gz

 configure.ac    |    2 ++
 src/Makefile.am |    4 ++++
 src/gabble.c    |    3 ++-
 3 files changed, 8 insertions(+), 1 deletions(-)

commit bf937a2055dd45ebad3b3d15ef5c0dab7e6e9c77
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Feb 3 14:23:11 2006 +0000

    move voice capability presence info to signal_own_presence
    
    
    20060203142311-50843-36cfd6e0aa4cb4e849033bbac99f5c28f8900bc0.gz

 src/gabble-connection.c |   27 +++++++++++++++++++--------
 1 files changed, 19 insertions(+), 8 deletions(-)

commit b6068e81a05d3cbaaf16e160cb9af3de2f3d8c08
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Feb 3 13:57:09 2006 +0000

    GabbleMedia{Session,Stream}Handler boilerplate implementation
    
    
    20060203135709-50843-81ee48456c5145bb5ee62ee6c655153e4ae9c262.gz

 generate/do_src.sh                                 |    6 +
 generate/gabble.def                                |    2 +
 ...bble-media-session-handler-signals-marshal.list |    1 +
 generate/src/gabble-media-session-handler.c        |  148 +++++++++++
 generate/src/gabble-media-session-handler.h        |   62 +++++
 ...abble-media-stream-handler-signals-marshal.list |    5 +
 generate/src/gabble-media-stream-handler.c         |  278 ++++++++++++++++++++
 generate/src/gabble-media-stream-handler.h         |   67 +++++
 .../xml-modified/gabble-media-session-handler.xml  |   16 ++
 .../xml-modified/gabble-media-stream-handler.xml   |   44 +++
 .../xml-pristine/gabble-media-session-handler.xml  |   21 ++
 .../xml-pristine/gabble-media-stream-handler.xml   |   49 ++++
 src/Makefile.am                                    |    8 +
 src/gabble-media-channel.c                         |    4 +-
 ...bble-media-session-handler-signals-marshal.list |    1 +
 src/gabble-media-session-handler.c                 |  148 +++++++++++
 src/gabble-media-session-handler.h                 |   62 +++++
 ...abble-media-stream-handler-signals-marshal.list |    5 +
 src/gabble-media-stream-handler.c                  |  278 ++++++++++++++++++++
 src/gabble-media-stream-handler.h                  |   67 +++++
 20 files changed, 1271 insertions(+), 1 deletions(-)

commit 337f5a63d2d9fc4e61f8c14b85fd5a22a1dd0877
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed Feb 1 03:09:02 2006 +0000

    more work on the jingle implementation
    
    
    20060201030902-50843-fee8bc0a08487e2f3d5f3ca044e34421b8c0b60e.gz

 src/gabble-connection.c    |  306 +++++++++++++++++++++++++++++++++++++++++++-
 src/gabble-media-channel.c |   68 ++++++++++
 src/gabble-media-channel.h |   51 ++++++++
 3 files changed, 424 insertions(+), 1 deletions(-)

commit f9a2f122cc6a2443c215b65fcde41035136f3baa
Author: Ole Andre Vadla Ravnaas <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu Jan 26 13:33:59 2006 +0000

    updated presence to report voice capabilities and a couple of bits on the implementation
    
    
    20060126133359-7cdbc-2cb629c2698c3a4d0fa19ca15e58275a44c01e50.gz

 src/gabble-connection.c |   32 ++++++++++++--------------------
 1 files changed, 12 insertions(+), 20 deletions(-)

commit c736b37257f4afbc01709a23a8bb94483d934eb8
Author: Ole Andre Vadla Ravnaas <ole.andre.ravnaas@collabora.co.uk>
Date:   Thu Jan 26 10:09:50 2006 +0000

    StreamedMedia channel boilerplate implementation
    
    
    20060126100950-7cdbc-09001d4798acccd8b73db6abd3e8b9fe422ff589.gz

 configure.ac                                       |    2 +-
 generate/do_src.sh                                 |    3 +
 generate/gabble.def                                |    1 +
 .../src/gabble-media-channel-signals-marshal.list  |    2 +
 generate/src/gabble-media-channel.c                |  212 +++++++++++
 generate/src/gabble-media-channel.h                |   65 ++++
 generate/xml-modified/gabble-media-channel.xml     |   29 ++
 generate/xml-pristine/gabble-media-channel.xml     |   34 ++
 src/Makefile.am                                    |    4 +
 src/gabble-media-channel-signals-marshal.list      |    2 +
 src/gabble-media-channel.c                         |  398 ++++++++++++++++++++
 src/gabble-media-channel.h                         |   65 ++++
 12 files changed, 816 insertions(+), 1 deletions(-)

commit 9e8347e6a025798eab64f80d2982a42f7ceb547a
Author:  <rob.taylor@collabora.co.uk>
Date:   Wed Feb 22 17:31:53 2006 +0000

    manually pulled the send_with_reply patch from telepathy-gabble-voip
    
    
    20060222173153-25e70-235dcddbfa8ab60aba4aebecbcb16be5b8ff3bce.gz

 src/gabble-connection.c |   87 +++++++++++++++++++++++++++++++++++++++++++++++
 src/gabble-connection.h |    7 ++++
 2 files changed, 94 insertions(+), 0 deletions(-)

commit f2e847eccd41a56bb0e21c8243e1e5eeb08d37b2
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Feb 17 12:31:03 2006 +0000

    only emit our on-line status in a successful auth callback, not after successfully sending the initial auth *request*
    
    
    20060217123103-0e791-043e0dda183a0599f57099c57e24b684fcc7306c.gz

 src/gabble-connection.c |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)

commit 834a01e4b175fb6bae9879eac9d99437c836e306
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Fri Feb 17 08:50:59 2006 +0000

    make RequestChannel return any existing im channel with a user if present
    
    
    20060217085059-50843-cae49d614556382eaed60333e9118cac26c748b8.gz

 src/gabble-connection.c |    7 ++++++-
 1 files changed, 6 insertions(+), 1 deletions(-)

commit 362c44d9477370fc89746b6dc185f85da9ce5810
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Tue Feb 14 20:53:12 2006 +0000

    add missing suppress_handler spelling fix
    
    
    20060214205312-50843-8cf2d54252d57cfcca5469a382f4648b1f5a315a.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3aab7a667df0b6357e94f845c5c7f716a33c6bdb
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Tue Feb 14 20:52:13 2006 +0000

    correct spelling in suppress_handler argument
    
    
    20060214205213-50843-264eb36b8e762ed44a4c8e043bb55feff2790395.gz

 src/gabble-connection.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit 73130aa96ac9fe49814131b02719a32676c9c481
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Feb 15 22:00:08 2006 +0000

    merge gabble_presence_values and status_infos into gabble_statuses so the names are alongside the values... this may help robtaylor and I stop changing the order of one but not the other... :)
    
    
    20060215220008-0e791-4d68c45a4aed907d26f6c3cb04d4216bdfb73be1.gz

 src/gabble-connection.c |   61 ++++++++++++++++++++---------------------------
 1 files changed, 26 insertions(+), 35 deletions(-)

commit 8939c9d289a4cb5ab551a0526fb8e49c57f440b6
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Feb 15 20:54:30 2006 +0000

    fix gabble_connection_set_status to actually emit the status, and have a few more checks & debug for invalid calls
    
    
    20060215205430-0e791-4e97e428f27026ed18ea3832e63b548af90ba478.gz

 src/gabble-connection.c |   28 ++++++++++++++++++++--------
 1 files changed, 20 insertions(+), 8 deletions(-)

commit 528fe1fe5feb5277942cfd4206ccb424f76b7ed0
Author:  <rob.taylor@collabora.co.uk>
Date:   Wed Feb 15 14:31:32 2006 +0000

    emit own presence on jabber when SetStatus called
    
    
    20060215143132-25e70-15e031cc279b97fbece77624f78aec7ecc4fd002.gz

 src/gabble-connection.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit fa339379553d05d019e5fa22be7a95c1f139f1e8
Author:  <rob.taylor@collabora.co.uk>
Date:   Wed Feb 15 14:30:32 2006 +0000

    correct error that associated the string 'chat' with GABBLE_PRESENCE_AWAY, and vice versa.
    
    
    20060215143032-25e70-339a96b44ba7e76220b108a5640b7e243dd59660.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 0e798a627de60c4a362a37b9c1fd919e9769e154
Author:  <ole.andre.ravnaas@collabora.co.uk>
Date:   Wed Feb 15 09:42:50 2006 +0000

    add GABBLE_PERSIST env var to disable 5 sec timeout
    
    
    20060215094250-50843-a64dec75594808dc2cb062b91056f8b63589fbba.gz

 src/gabble.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 342f6a5481ea740f54f4bf8ae10d53b965f6eff2
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Feb 13 08:09:10 2006 +0000

    whitespace
    
    
    20060213080910-0e791-c44a7a3363fdea4bbed221108396b9556b9fef31.gz

 src/gabble.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 83b2310e33dd297baecc736ee1a28b02d8d490d3
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun Feb 12 21:20:19 2006 +0000

    qualify errors from gabble with the full telepathy error domain
    
    
    20060212212019-0e791-cd05546e59d87d9f8a7e4a759a09bac1e83c9a6c.gz

 src/gabble.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit c99cbdd71f1814a9a9866558d52d56d50447d4ba
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Feb 10 22:15:51 2006 +0000

    tweak debug to use G_STRFUNC
    
    
    20060210221551-0e791-ea41497b025eee6190bd8267206c477b41cceb52.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit cc3141df699db29691e40257cec86625f44565e3
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Feb 10 22:14:53 2006 +0000

    make gabble_handle_for_contact return 0 for malformed jids, and handle these errors
    
    
    20060210221453-0e791-b91b97ad9d78b07d081c01260b28afc43585e0af.gz

 src/gabble-connection.c |   47 +++++++++++++++++++++++++++++++++++++++++++++--
 src/handles.c           |    6 ++++--
 2 files changed, 49 insertions(+), 4 deletions(-)

commit a82ed5ba1a3c57818745e28630437797e6524638
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Feb 9 15:08:51 2006 +0000

    add g_error_free where dbus_g_method_return_error is used
    
    
    20060209150851-0e791-a48cd08f2fc6c4508e0b6df18c57996d33427fe6.gz

 src/gabble-connection.c |   25 ++++++++++++++++++-------
 1 files changed, 18 insertions(+), 7 deletions(-)

commit 56c1ac0ea495d6bb958d336f6da6101aaa678c5c
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Feb 7 10:17:41 2006 +0000

    away is AWAY, chat is AVAILABLE, not vice versa
    
    
    20060207101741-0e791-a5b020676bfdbca65be1e255e9061872f3e3107f.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 01f970ade11e08be0015ed05ae3ef0250ac8917e
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Feb 6 21:26:02 2006 +0000

    update presence type values to match spec
    
    
    20060206212602-0e791-d0a33ffb28541c67468442229ffbdf64ceed25ba.gz

 src/telepathy-constants.h |   15 ++++++++-------
 1 files changed, 8 insertions(+), 7 deletions(-)

commit fc27c2d70e689940faaccba37bf09969f53649a8
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Feb 6 09:27:31 2006 +0000

    removed all uses of the 'set signature' hack, and added an exaple of using the dbus struct api directly
    
    
    20060206092731-25e70-b6c7e06c556dad9f89758c4c420b720c4e9b3b7b.gz

 src/gabble-connection.c |   46 ++++++++++++++--------------------------------
 src/gabble-im-channel.c |    1 -
 2 files changed, 14 insertions(+), 33 deletions(-)

commit c3d96489973cc17409c5e28978204474f20d73a5
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Feb 6 09:26:41 2006 +0000

    regenerated generated code with gengobject with recursive gtype support
    
    
    20060206092641-25e70-2a0e89799f0a28b0e6d79f851b3da8599093aeb9.gz

 generate/src/gabble-connection.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 62c9e2c46519b83315ea492156b6784eed5617e6
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Feb 3 16:05:55 2006 +0000

    initialise status to connecting
    
    
    20060203160555-0e791-13c565c930be57535bd0a48369470968e74cfd0d.gz

 src/gabble-connection.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit e71c35af7e6e17f41e541b8018af3255656b90ec
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Feb 1 12:08:04 2006 +0000

    remove spaces from comma-separated values in .manager file
    
    
    20060201120804-0e791-b44a6638996cff66b2f9238f5be7e7dd6e746afa.gz

 data/gabble.manager |   10 +++++-----
 1 files changed, 5 insertions(+), 5 deletions(-)

commit 00d8336ebbcc86d03aa47ed40be93b7c56eaddb7
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Jan 31 20:39:05 2006 +0000

    change g_error to g_debug in _connection_send to avoid run-time death
    
    
    20060131203905-0e791-8a701dc1739287a1cdbaac83e4328cf0813b0703.gz

 src/gabble-connection.c |    7 +++----
 1 files changed, 3 insertions(+), 4 deletions(-)

commit e5975d34ab0d32e455374141ffbb62b49fa8f5df
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Jan 31 19:44:37 2006 +0000

    remove TP_IFACE_CONN_INTERFACE from GetInterfaces
    
    
    20060131194437-0e791-77dd9d818d0a3c1ad47cdd75afd0d45e2d07953d.gz

 src/gabble-connection.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit 4e715733d9f019f0479ab0d75e1c63dc1f5087b6
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Jan 31 19:44:21 2006 +0000

    include <status> message in roster changes from <presence>
    
    
    20060131194421-0e791-bf6764f76674188335cce8752f73c3b5b2d55c93.gz

 src/gabble-connection.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit f62f604c946b566d17993b9a2b997d99d8204529
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Jan 31 19:43:35 2006 +0000

    <presence> without from should be ignored
    
    
    20060131194335-0e791-deb0582e77807a3b2445458e76dfbed9076e4971.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7d9ee1598775ea77ad10e6b7cfa19feb2e6abf34
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Jan 31 19:42:58 2006 +0000

    improve debug from disconnected_cb and presence_cb
    
    
    20060131194258-0e791-0aa6c42f395470233d59b35dba894c7739940726.gz

 src/gabble-connection.c |    8 +++++---
 1 files changed, 5 insertions(+), 3 deletions(-)

commit 4dffb189412d658e129802c7909a05f1301405f0
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Jan 31 19:42:31 2006 +0000

    needless whitespace changes, round 2
    
    
    20060131194231-0e791-96e7a63ce29d30d8aa9259a0f2ef21a87442cf0e.gz

 src/gabble-connection.c |   95 ++++++++++++++++++++++++----------------------
 1 files changed, 50 insertions(+), 45 deletions(-)

commit eb51bf86d8826a99179062f39a9b25af01350132
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Jan 31 19:41:46 2006 +0000

    rename misleadingly named TP_PRESENCE and JABBER_PRESENCE defines and variables
    
    
    20060131194146-0e791-1884033a3d7b49333b7319885d7485a5d61f3b59.gz

 src/gabble-connection.c |  138 ++++++++++++++++++++++++-----------------------
 1 files changed, 70 insertions(+), 68 deletions(-)

commit 35a8d87ba18b939151a3f66481eaeb316c2833a6
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Jan 31 18:53:33 2006 +0000

    flip inverted test in presence code, to avoid segfaulting at every successful sign on. great.
    
    
    20060131185333-0e791-432cffcea8af054b64903e5d5dbede0b1d5a91b0.gz

 src/gabble-connection.c |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

commit 1f6bb2b2d748b15a9f9247e19599fae145a83420
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Jan 31 18:52:06 2006 +0000

    make roster updates only emit signals for things that were actually changed
    
    
    20060131185206-0e791-4654e50c1a3833609e2affa9d7b5a5229f071adf.gz

 src/gabble-roster-channel.c |  107 ++++++++++++++++++++++++++++++------------
 1 files changed, 76 insertions(+), 31 deletions(-)

commit 86260b6414fe29bb29aa5f47717693aa394dd903
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Jan 31 18:50:54 2006 +0000

    make handle set update and difference update return a set of what was actually changed
    
    
    20060131185054-0e791-09955396b82ad8181bfd34bd52b27ea5f2888eeb.gz

 src/handle-set.c |   38 ++++++++++++++++++++++----------------
 src/handle-set.h |    4 ++--
 2 files changed, 24 insertions(+), 18 deletions(-)

commit 46f9bca8e4f160f8030b64380a9b34f9acc4ec9a
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Jan 30 16:20:54 2006 +0000

    added presence
    
    
    20060130162054-25e70-8853ae70d757a6925c7343bf4a54ce1f39bd984a.gz

 src/gabble-connection.c |  457 +++++++++++++++++++++++++++++++++++++++++++----
 1 files changed, 425 insertions(+), 32 deletions(-)

commit b7c2171e3117c2f79039bc61345f4deed0423988
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Fri Jan 27 17:38:45 2006 +0000

    implement add and remove members for roster channels
    
    
    20060127173845-0e791-c372ffafd239111c1ac5a11393cf94aa84a74fd0.gz

 src/gabble-roster-channel.c |  211 +++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 211 insertions(+), 0 deletions(-)

commit 44b669664b9b20f16e050f4e4b7c3670889045f3
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jan 26 15:19:45 2006 +0000

    implement get_self_handle on roster channel
    
    
    20060126151945-0e791-9cdebf20e3ff66e5eab2fea9e10cf613ea399825.gz

 src/gabble-roster-channel.c |   19 +++++++++++++++++++
 1 files changed, 19 insertions(+), 0 deletions(-)

commit aca6c05044c94701676acda6f5ef585dee92eeac
Author:  <rob.taylor@collabora.co.uk>
Date:   Thu Jan 26 13:09:24 2006 +0000

    added functions to handle repo for associating arbitary data with a handle that get deleted when handle is freed
    
    
    20060126130924-25e70-60044ce0740c531907c59771ea4974e75a7287f0.gz

 src/handles-private.h |    1 +
 src/handles.c         |   54 +++++++++++++++++++++++++++++++++++++++++++++++++
 src/handles.h         |    7 ++++++
 3 files changed, 62 insertions(+), 0 deletions(-)

commit c1f329b943419e76115290fec8b7e4b0ae8ef460
Author:  <rob.taylor@collabora.co.uk>
Date:   Thu Jan 26 12:28:52 2006 +0000

    added implementation of GetStatuses
    
    
    20060126122852-25e70-8d6e58e8ab6ebf06b72fa7d53f3c5401b989e63a.gz

 src/gabble-connection.c |   83 ++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 82 insertions(+), 1 deletions(-)

commit 0e529288b32417fae9385be8629a72b66c2beb89
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jan 26 12:32:44 2006 +0000

    reply to roster IQs which have an id set
    
    
    20060126123244-0e791-4779ceeb36921e934b293eeb33e9b003b52e4155.gz

 src/gabble-connection.c |   27 +++++++++++++++++++++++++++
 1 files changed, 27 insertions(+), 0 deletions(-)

commit 9f09b3c0e0061b701be991e1f42085f9e30a5198
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jan 26 12:32:35 2006 +0000

    accept subscription=remove values
    
    
    20060126123235-0e791-21758670dd59a668e84eb8ef22013465b30db3ef.gz

 src/gabble-connection.c |    5 +++++
 1 files changed, 5 insertions(+), 0 deletions(-)

commit 112543d905f19d1a0de876a64eb3533a78aef7a1
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jan 26 12:32:04 2006 +0000

    accept from and none subscription values with no ask field
    
    
    20060126123204-0e791-cdb2641885040dae1b47a92b5ca8b67f9bf957ff.gz

 src/gabble-connection.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 34a47e5b5b2502ec04f0e0b1fc4250a6281b1acb
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jan 26 12:31:53 2006 +0000

    accept roster pushes as well as replies
    
    
    20060126123153-0e791-1005f407b8505056cf27f6c6346173041cf397d7.gz

 src/gabble-connection.c |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 05800c71c44e640ad9fb92736bf7af51588320ef
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Jan 25 19:38:36 2006 +0000

    make connection_presence_cb send the right signals for presence sub/unsub/sub'd/unsub'd stanzas
    
    
    20060125193836-0e791-1532fa2c353390d7e31417004241f984153bc755.gz

 src/gabble-connection.c |   99 ++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 97 insertions(+), 2 deletions(-)

commit e583cb64f72bcef5c9c48e2334835b1f132e33a8
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Jan 25 19:38:00 2006 +0000

    make _gabble_connection_send safe with a NULL GError
    
    
    20060125193800-0e791-8c15347460451e5b286c8d40a452c1831af1ff5a.gz

 src/gabble-connection.c |    7 +++++--
 1 files changed, 5 insertions(+), 2 deletions(-)

commit 49950732e5be2678b8c73951d7006e1cabf0d3c0
Author:  <rob.taylor@collabora.co.uk>
Date:   Wed Jan 25 19:13:47 2006 +0000

    remove old constructor code
    
    
    20060125191347-25e70-9e1c585531a93cc4e5be85da8b6cf45d8ff4ace5.gz

 src/gabble-connection.c |   26 --------------------------
 1 files changed, 0 insertions(+), 26 deletions(-)

commit 31f0b1e1954916f3cde9f72a6517642fd5b3c246
Author:  <rob.taylor@collabora.co.uk>
Date:   Wed Jan 25 19:09:51 2006 +0000

    made call to ReleaseNameuse dbus_g_proxy_call_no_reply, as its bad to block in dispose, and even if it does fail, there's nothing we can do
    
    
    20060125190951-25e70-a3b2be7c55e29d040c922c0c5238c4533d325ac1.gz

 src/gabble-connection.c |   32 +++-----------------------------
 1 files changed, 3 insertions(+), 29 deletions(-)

commit bdcf4693856ff0bef5fce391e35a6bdb60291501
Author:  <rob.taylor@collabora.co.uk>
Date:   Wed Jan 25 18:45:17 2006 +0000

    made connection manager close if there are no connections in progress for 5 seconds
    
    
    20060125184517-25e70-87ec89d697885a6110c0c6fb30a3d0ed5690a25b.gz

 src/gabble-connection-manager.c |   29 +++++++++++++--------
 src/gabble.c                    |   51 +++++++++++++++++++++++++++++++++++++-
 2 files changed, 67 insertions(+), 13 deletions(-)

commit 27913b9eaa071acc504ea2687ba58c519904554f
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Jan 25 18:34:38 2006 +0000

    make IQ_DEBUG into more generic HANDLER_DEBUG, and use for message and presence callbacks
    
    
    20060125183438-0e791-d5f166118e3c10b1b4887f80fbe4c1e4049abeae.gz

 src/gabble-connection.c |   41 ++++++++++++++++++++---------------------
 1 files changed, 20 insertions(+), 21 deletions(-)

commit e77fa3c82ce4961fe6feffd8c9064134e661ca58
Author:  <rob.taylor@collabora.co.uk>
Date:   Wed Jan 25 18:27:03 2006 +0000

    more conflict resolution
    
    
    20060125182703-25e70-0cdc11aecd3c3c3c8050b415840afbe7ac79df17.gz

 src/gabble-connection.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit db3ba1f29a70274fe49acf46cba6463b27249bd3
Author:  <rob.taylor@collabora.co.uk>
Date:   Wed Jan 25 18:22:32 2006 +0000

    resolve conflict between new roster channel removals and new im_channel removal code
    
    
    20060125182232-25e70-232465cf6bc03f24ccebaf9a44e5af42b6f5abdf.gz

 src/gabble-connection.c |   21 +++++++++++++++++----
 1 files changed, 17 insertions(+), 4 deletions(-)

commit 54b2c1a67090161ee99b685ca188f9a7613da418
Author:  <rob.taylor@collabora.co.uk>
Date:   Wed Jan 25 17:00:41 2006 +0000

    remove all channels on disconnection
    
    
    20060125170041-25e70-9e65eeb9c76821bb89909ec55c86a553bb3cb51a.gz

 src/gabble-connection.c |   36 +++++++++++++++++++-----------------
 src/gabble-im-channel.c |    1 +
 2 files changed, 20 insertions(+), 17 deletions(-)

commit 483e046739b7e47d856cf3105e257af5556e0274
Author:  <rob.taylor@collabora.co.uk>
Date:   Wed Jan 25 17:00:06 2006 +0000

    disallow many method calls when connection is disconnected
    
    
    20060125170006-25e70-3cf8dfb4dc17522f4a75baf1216423f9586894f2.gz

 src/gabble-connection.c |  109 +++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 109 insertions(+), 0 deletions(-)

commit d947874d3c309e9941a42fef254afad0ab28200c
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Jan 25 17:35:35 2006 +0000

    fix looking for client handle sets in the wrong datalist
    
    
    20060125173535-0e791-63cc22b7d7abe680a6a792c64b5adf956a61f88c.gz

 src/gabble-connection.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 2442c6526aaba008867a50b5135cb1a151580175
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Jan 25 17:14:54 2006 +0000

    don't report a capability for inviting people to text channels, we don't have group chats yet
    
    
    20060125171454-0e791-54e493df3ad43a33dc9e9da4109e9340d4d99359.gz

 src/gabble-connection.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit f150d14dced93a10d07bea4d64c97a7541f64153
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Jan 25 17:08:03 2006 +0000

    add group flags to the roster channels, make the connection set them appropriately and emit the signal
    
    
    20060125170803-0e791-e1f9e2c64fc3b29c060bab8ef307c72a85a72251.gz

 src/gabble-connection.c     |    8 ++++++++
 src/gabble-roster-channel.c |   39 +++++++++++++++++++++++++++++++++++++++
 src/gabble-roster-channel.h |    4 ++++
 3 files changed, 51 insertions(+), 0 deletions(-)

commit 14014bcc4496e977f2679e7349d5cc0733896388
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Jan 25 12:47:40 2006 +0000

    parse the roster replies from the server and emit the memberschanged signals on the publish/subscribe list channels
    
    
    20060125124740-0e791-a929ecf89544cad1382b045e5046edcc27b30e9e.gz

 src/gabble-connection.c     |  125 +++++++++++++++++++++++++++++++++++++++----
 src/gabble-roster-channel.c |   71 ++++++++++++++++++++++++
 src/gabble-roster-channel.h |   11 ++++
 3 files changed, 197 insertions(+), 10 deletions(-)

commit f15d27cd9cf915fefa1abacf9f54b730a6b3af52
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Jan 24 17:49:23 2006 +0000

    split roster_cb into iq_roster_cb and iq_unknown_cb
    
    
    20060124174923-0e791-1d7ec437f4d6a6b02cb43410efabbe406c568ba2.gz

 src/gabble-connection.c |   78 ++++++++++++++++++++++++++++++++++++-----------
 1 files changed, 60 insertions(+), 18 deletions(-)

commit 2eb3aa378107131ceb701c9a14d8530ce4e71ee7
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Jan 24 17:31:30 2006 +0000

    remove closed from roster channel, you can't close them
    
    
    20060124173130-0e791-90a09bda876e47d243f679bc505e4ca7d0f38a1e.gz

 src/gabble-roster-channel.c |    4 +---
 1 files changed, 1 insertions(+), 3 deletions(-)

commit 332f35aa8d28a6463e598c65e4dca6aa7dc77306
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Jan 24 17:31:05 2006 +0000

    add handle_set_update and difference_update, for adding and removing handles from handle sets in bulk
    
    
    20060124173105-0e791-dc62fc73ed92bb9a7bc34b24972dbfb4c13df7c4.gz

 src/handle-set.c |   68 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/handle-set.h |    9 +++++++
 2 files changed, 77 insertions(+), 0 deletions(-)

commit ee8bb0346101c4ac365d0170773f6e2be49d3d82
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Jan 24 17:29:32 2006 +0000

    add/fix some handleset asserts
    
    
    20060124172932-0e791-6b8aa7065184a07e5d355a5484e6fbe2ee98e4c1.gz

 src/handle-set.c |   15 ++++++++++++---
 1 files changed, 12 insertions(+), 3 deletions(-)

commit 896a70dc1632798432955591876b65f6477dd795
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Jan 24 17:26:51 2006 +0000

    fix broken fall-through in request channel
    
    
    20060124172651-0e791-5918f912a23b7d17754115e81b17b280222a3419.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 3600a9db6d9ef49dab4ffa60b3ef4de9c988ecce
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Jan 24 16:25:37 2006 +0000

    add set operation tests to intset test
    
    
    20060124162537-0e791-4fca028e0c4987dfa8e0129eaa9569ce7dfa6d73.gz

 tests/test-intset.c |   76 +++++++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 74 insertions(+), 2 deletions(-)

commit 21f9a936720562f17af9d2f0c60f76dad656657e
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Jan 24 16:25:20 2006 +0000

    core files and the test binaries are _boring
    
    
    20060124162520-0e791-64e51234f59ef4dedcc32be7eaae83a668face9f.gz

 _boring |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 429c8e0c2e7d0a8e09ffba0192de49b78bcefe34
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Jan 24 16:21:56 2006 +0000

    add set operations to intset, const pointers where necessary
    
    
    20060124162156-0e791-96b247a238780f148a761dc2f8e8c309ab7e29ad.gz

 src/gintset.c |  180 ++++++++++++++++++++++++++++++++++++++++++++++++++++++--
 src/gintset.h |   12 +++-
 2 files changed, 183 insertions(+), 9 deletions(-)

commit c1fa14c7ff9ad1a6d74c9fb6c0695edd44dc1a68
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Jan 24 16:21:19 2006 +0000

    remove gintset whitespace
    
    
    20060124162119-0e791-e7fe3c9f8c6a7314543534758554abd3c9b58473.gz

 src/gintset.c |   16 ++++++++--------
 1 files changed, 8 insertions(+), 8 deletions(-)

commit febb5325be677712dc7fb4352a023916d906ce33
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Jan 24 11:40:47 2006 +0000

    add intset test program
    
    
    20060124114047-0e791-186548fb458f8a7105c4549d251ee3141de11a17.gz

 Makefile.am          |    2 +-
 configure.ac         |    3 ++-
 tests/Makefile.am    |   11 +++++++++++
 tests/test-intset.c  |   34 ++++++++++++++++++++++++++++++++++
 4 files changed, 48 insertions(+), 2 deletions(-)

commit 69a42a1a4ed7b294d66a0e12899f6bdcb9a8c0e3
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 23 22:09:05 2006 +0000

    add list handles to RequestHandle
    
    
    20060123220905-0e791-aa375ae7fec2221ff55d47a29fba67f9cd8574a6.gz

 src/gabble-connection.c |   26 +++++++++++++++++++++-----
 1 files changed, 21 insertions(+), 5 deletions(-)

commit 1d37a0aeca42f0b3748372e1265a2c7e6bb61f46
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 23 22:03:40 2006 +0000

    add contact list channels to RequestChannel
    
    
    20060123220340-0e791-c7aa7031fe4b5a6088a2333562667d7c5d9b57b0.gz

 src/gabble-connection.c |   16 ++++++++++++++++
 1 files changed, 16 insertions(+), 0 deletions(-)

commit 84a0f71b39957f92400e7ec40add4eb1520c9772
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 23 20:43:46 2006 +0000

    create roster channels when connected, include them in the list, and close them when disconnecting
    
    
    20060123204346-0e791-a597ed60ca95d3122b0d1aa120bf92f05344f260.gz

 src/gabble-connection.c |   98 +++++++++++++++++++++++++++++++++++++++++++----
 1 files changed, 90 insertions(+), 8 deletions(-)

commit ebe95da15af8480b63e6a15f8ca90a047c8fc98d
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 23 20:42:19 2006 +0000

    implement properties and some methods on roster channels
    
    
    20060123204219-0e791-4fe04185027b189f94b24402f0ed5a7019b0252f.gz

 src/gabble-roster-channel.c |  230 ++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 225 insertions(+), 5 deletions(-)

commit bba0138874b33a5c9eb9a28e6b9ba2617dcd360d
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Jan 23 20:37:46 2006 +0000

    resolved conflict
    
    
    20060123203746-25e70-c12c59e1a8cb9f7408c0c4378f66e32949e36066.gz

 src/gabble-connection.c |    3 ---
 1 files changed, 0 insertions(+), 3 deletions(-)

commit 1634658eec663f1bc69ecf0f63b7e83b8c790219
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Jan 23 20:22:31 2006 +0000

    remove double free of handles when handle_priv_remove called
    
    
    20060123202231-25e70-1e96d0947ed26ddd98f41a6f511c67db79747e35.gz

 src/handles.c |    1 -
 1 files changed, 0 insertions(+), 1 deletions(-)

commit 196ed05a418312b0ab2dd16967732cc42e15aed8
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Jan 23 20:21:54 2006 +0000

    move handle repo destruction to after handle set destruction in GabbleConnection
    
    
    20060123202154-25e70-b5c46910179e4ca5cca8f09c568fed928aa71227.gz

 src/gabble-connection.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit dc4ea17ce957e6a424c04d6bbd753451faa0b027
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Jan 23 20:18:03 2006 +0000

    modify connection to emit a disconnected signal when it actually disconnects, and emit state_changed only when status changes. change status immeditately when requested.
    
    
    20060123201803-25e70-7914c27f081f205bc3aa7ad85109f8a31d796682.gz

 src/gabble-connection-manager.c |   37 +++++++++-----------
 src/gabble-connection.c         |   70 +++++++++++++++++++++++++++++++++-----
 2 files changed, 77 insertions(+), 30 deletions(-)

commit 9dc82f65d80dc21d08d70e3138ad2b77e1861770
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 23 20:24:30 2006 +0000

    destroy handle repo after destroying per-client handle sets, otherwise crashes occur :)
    
    
    20060123202430-0e791-0a95c7e30099bb29a51dd0306a62b03ef58667a1.gz

 src/gabble-connection.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 695b8ca9f7ded56f2bcb43a243e4ce42b15be80e
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 23 20:13:58 2006 +0000

    fix thinko in signal emission when closing IM channels
    
    
    20060123201358-0e791-964e6665147a36b7d5884f97cb8692df63399858.gz

 src/gabble-im-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit cade6496ed329872ada8c66f66ec67a14620ee75
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 23 19:30:17 2006 +0000

    emit a CLOSED channel from the IM channel dispose function, if we havn't already
    
    
    20060123193017-0e791-7afa1147a8f5e416a584654a01f952accec4a597.gz

 src/gabble-im-channel.c |   11 +++++++++++
 1 files changed, 11 insertions(+), 0 deletions(-)

commit 29da343aff25bab02540aca68b12c5483995e2fc
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 23 18:50:23 2006 +0000

    add handle_set_to_array for roster channels
    
    
    20060123185023-0e791-dbe15528ca0a204ce7b5fc78b5992660c42673b0.gz

 src/handle-set.c |   17 ++++++++++++-----
 src/handle-set.h |    1 +
 2 files changed, 13 insertions(+), 5 deletions(-)

commit d5d85a69dac8e799dfecc6fb6fcc052781228b2f
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Jan 23 19:07:59 2006 +0000

    error sensibly to the client if the CM or something else is holding the bus name
    
    
    20060123190759-25e70-c23350b73890a28ed07054c6abd39669095ea33c.gz

 src/gabble-connection.c |   34 ++++++++++++++++++++++++++++++----
 1 files changed, 30 insertions(+), 4 deletions(-)

commit d4874f7ca36b212537c2dd0c1a34e6ebec919843
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Jan 23 19:07:15 2006 +0000

    fix race condition that occurs if channel methods are called when connection is closing down
    
    
    20060123190715-25e70-00d60b8c9f565acdfc2caccb2e32155cdecd2588.gz

 src/gabble-connection.c |   10 +++++++++-
 1 files changed, 9 insertions(+), 1 deletions(-)

commit 8561a6219f1c7f749b7be8f6054dcfbb0418bc75
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 23 18:19:28 2006 +0000

    cscope.out is _boring
    
    
    20060123181928-0e791-98746cf4605ea723c5bea6a1c1776199b65be735.gz

 _boring |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit e50a95bd62f8ff62b02069971d7ef5d50740daee
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Jan 23 18:17:27 2006 +0000

    fix up status-changed signal emitting to be correct
    
    
    20060123181727-25e70-850b173e7eab5366b542b3166d2b1afdc380dfbb.gz

 src/gabble-connection.c |   10 +++++++---
 1 files changed, 7 insertions(+), 3 deletions(-)

commit ff7c0b247af3e8da4729e3927ed87f67b8b312a0
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Jan 23 18:16:27 2006 +0000

    uset G_STRFUNC when placing function name in g_debug etc
    
    
    20060123181627-25e70-1cfac39f85411b890ff8bec8f2bac45ef97a9bd0.gz

 src/gabble-connection-manager.c |   27 ++++++++++---------
 src/gabble-connection.c         |   53 ++++++++++++++++++++------------------
 src/gabble-im-channel.c         |   14 +++++-----
 3 files changed, 49 insertions(+), 45 deletions(-)

commit 2e8672def7881f6408ad7e873cb76d145acb96cd
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 23 18:10:12 2006 +0000

    fix buggy assumption that existence of quark implies existence of handle in repo
    
    
    20060123181012-0e791-16fb5386c60c904ad4a289002a228ab0397fcdc1.gz

 src/handles.c |   15 ++++++++-------
 1 files changed, 8 insertions(+), 7 deletions(-)

commit 394f471e89df306a02f36b2f64b3c80c0f16f777
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 23 17:33:30 2006 +0000

    free the queue structure itself when finalising IM channel
    
    
    20060123173330-0e791-23890bce09ccb86d53b9b58910fbb4e7b7351cf4.gz

 src/gabble-im-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 354698fe01c31bc947174aa377a507e1667b8343
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 23 17:13:14 2006 +0000

    change to G_STRFUNC instead of G_GNUC_FUNCTION (no-op in gcc 3.0 onwards)
    
    
    20060123171314-0e791-3b4f399d348d681c8dbd0937cc0a3576509106e5.gz

 src/gabble-connection.c |    8 ++++----
 1 files changed, 4 insertions(+), 4 deletions(-)

commit afa653fff5d8c97cba49cab3d89ff49bef41286d
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 23 16:45:50 2006 +0000

    make publish and subscribe handles static (because they are quarks, they will be constant across connections anyway)
    
    
    20060123164550-0e791-435c3bc459c226c6ac8f0af08d8859194ad64b11.gz

 src/handles-private.h |    5 +----
 src/handles.c         |   43 +++++++++++++++++++++++++++++++------------
 2 files changed, 32 insertions(+), 16 deletions(-)

commit 1b5ed90dfb4e4ad8b6811d1143736fad619f8a46
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Jan 23 16:30:18 2006 +0000

    remove a channel from the connection manager's hashtable when it closes
    
    
    20060123163018-25e70-63fd0a9005a2fa1c88fc85a3f03eaa33c814efeb.gz

 src/gabble-connection.c |   22 ++++++++++++++++++++++
 1 files changed, 22 insertions(+), 0 deletions(-)

commit b935f8f76aa628ddb1e55b1972b173a0176f4980
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 23 16:17:41 2006 +0000

    make roster_cb ignore IQs that aren't roster queries
    
    
    20060123161741-0e791-659aa554b058d4e4fbe80a11861ebe05ed7017e5.gz

 src/gabble-connection.c |   22 ++++++++++++++--------
 1 files changed, 14 insertions(+), 8 deletions(-)

commit 4faf8ff6597be697093b3a12356fbd35c5cf8e4c
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 23 16:10:07 2006 +0000

    emit the CLOSED signal, and not some random other one
    
    
    20060123161007-0e791-4ac6a3038b7b40e5cc9a7fa70fa84db8833b7b4d.gz

 src/gabble-im-channel.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 95b3a629496fc2224237912a9430aabf6f74911c
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Jan 23 16:03:44 2006 +0000

    fix cap reporting to emit the right stuff
    
    
    20060123160344-25e70-c0b704760c1d43157f41b9c09e1826d26414cde1.gz

 src/gabble-connection.c |   17 +++++++++++++++--
 1 files changed, 15 insertions(+), 2 deletions(-)

commit 95628377c30ab99c53387633c4e79051ec2037db
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Jan 23 16:03:19 2006 +0000

    resolve conflicts
    
    
    20060123160319-25e70-92b71e6019fdc3c5478aeae3ee1590cb14b8d954.gz

 src/gabble-connection.c |    9 ++++++---
 1 files changed, 6 insertions(+), 3 deletions(-)

commit be47058bd8e7faec8da52dd36ee87fe945c6989f
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Jan 23 15:03:34 2006 +0000

    fix returning of capability constants
    
    
    20060123150334-25e70-35e572cf5dd3ac04c960b3bcc25f08a915948e3d.gz

 src/gabble-connection.c |    3 +--
 1 files changed, 1 insertions(+), 2 deletions(-)

commit db019cc2ed0d5533a299f88fade744bc86d72691
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Jan 23 15:02:55 2006 +0000

    updated telepathy-constants.h and related changes
    
    
    20060123150255-25e70-72e205d0b2d095c763559aae8b7230fef57f00f2.gz

 src/gabble-connection-manager.c |    2 +-
 src/gabble-connection.c         |   27 ++++-----
 src/telepathy-constants.h       |  133 +++++++++++++++++++++++++++++++-------
 3 files changed, 121 insertions(+), 41 deletions(-)

commit 4bc7b7a03c4dd04f5f28da6f401845dae879ebac
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Jan 23 14:33:02 2006 +0000

    for some reason i'd failed to spot there was a g_hash_table_destroy... using it now.
    
    
    20060123143302-25e70-5014e0484ca5db8018a44dfe5579ccceab37d30e.gz

 src/gabble-connection.c |   10 +---------
 1 files changed, 1 insertions(+), 9 deletions(-)

commit 5aedad1d68221ef9588834900bef41f57ed67d29
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 23 15:36:40 2006 +0000

    add presence and roster callbacks, request roster on successful authentication instead of disconnecting... :)
    
    
    20060123153640-0e791-f45bccdefdecb0744d7b54ae30ec9e6935b32801.gz

 src/gabble-connection.c |  125 ++++++++++++++++++++++++++++++++++++++++++++--
 1 files changed, 119 insertions(+), 6 deletions(-)

commit 3cb55707c78204a822c006f678cb28dc9925e9ee
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 23 15:10:54 2006 +0000

    move non D-Bus exported methods to _gabble_connection_yada
    
    
    20060123151054-0e791-e5481d6bcd4f70e35ef49b7f5ca7294c837186d4.gz

 src/gabble-connection.c |  237 ++++++++++++++++++++++++-----------------------
 src/gabble-connection.h |    7 +-
 2 files changed, 123 insertions(+), 121 deletions(-)

commit 6f57ac584c2610d3effad7b7bb7e2ed7ff14ca26
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 23 15:10:05 2006 +0000

    fix datalists to be GData*, not GData**
    
    
    20060123151005-0e791-8671110657f3d73912cb6a9997ed565b5dfb7d8d.gz

 src/gabble-connection.c |   21 +++++++++++----------
 src/handles-private.h   |    2 +-
 src/handles.c           |   10 +++++-----
 3 files changed, 17 insertions(+), 16 deletions(-)

commit bf1f0d4cc395c3f635d3e4f1bde7e67529bc0da3
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 23 15:08:35 2006 +0000

    whitespace police, arrest this man :)
    
    
    20060123150835-0e791-77b86398aef9a685dda4a122406420fec6029072.gz

 src/gabble-connection.c |   16 ++++++++--------
 1 files changed, 8 insertions(+), 8 deletions(-)

commit ba64a5230d729a07e021d96e381def5765609c81
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Jan 23 13:15:17 2006 +0000

    unregist bus name on dispose - this will block in dispose, which isn't ideal, but i can't think of a better way
    
    
    20060123131517-25e70-1f5f96b4784610d8c61438917beaffcfbbb07d70.gz

 src/gabble-connection.c |   33 +++++++++++++++++++++++++++++++++
 1 files changed, 33 insertions(+), 0 deletions(-)

commit e0a6f8ee8e9d447b1f7a81c57525acbd58c3ef18
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Jan 23 13:00:24 2006 +0000

    unref im channels on connection dispose
    
    
    20060123130024-25e70-9573ff6594d63c00f620b25aaa938a06886c107f.gz

 src/gabble-connection.c |   10 ++++++++++
 1 files changed, 10 insertions(+), 0 deletions(-)

commit ddb68378345a4215bc0c2033a376b451a67adc81
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Jan 23 12:05:20 2006 +0000

    implement HoldHandle, RequestHandle and ReleaseHandle methods properly, so they get the senders name off the bus
    
    
    20060123120520-25e70-5045546d3effdb177a5a72ac516e79955a2be761.gz

 src/gabble-connection.c |   84 +++++++++++++++++++++++++---------------------
 src/gabble-connection.h |    6 ++--
 2 files changed, 49 insertions(+), 41 deletions(-)

commit 597e9243b392d908aa9bbc0ace039bc3b1efdf88
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Jan 23 12:04:22 2006 +0000

    regenerate for adding async to Connection::HoldHandle
    
    
    20060123120422-25e70-57abd1854e3320e11092f683c99b366f29804128.gz

 generate/src/gabble-connection.c |    9 +++------
 generate/src/gabble-connection.h |    2 +-
 2 files changed, 4 insertions(+), 7 deletions(-)

commit 99910ec50af8a26ec1fbd84112f67e85eb73b0b7
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Jan 23 11:48:16 2006 +0000

    add async to Connection::HoldHandle so we can get the sender
    
    
    20060123114816-25e70-a6d04f5b635917803157026eb3503819bbbcbfd4.gz

 generate/xml-modified/gabble-connection.xml |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit adbe2ff9153868557486e1f6c2dc1b4391e87073
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Jan 23 11:38:12 2006 +0000

    removed dual addition of generated code
    
    
    20060123113812-25e70-ff8f3e87e0e17f6558158eb5c5ddefc664e11b0b.gz

 src/gabble-connection.c |   55 -----------------------------------------------
 1 files changed, 0 insertions(+), 55 deletions(-)

commit ac8af0675760c4152d9cce388be42871dc83e99b
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Jan 23 11:34:29 2006 +0000

    add handlesets to connection for client-referenced handles
    
    
    20060123113429-25e70-e3c970704f5fed0eda85a2819ce274f46d324f4f.gz

 src/gabble-connection.c |   15 ++++++++++++++-
 src/gabble-connection.h |    6 ++++++
 2 files changed, 20 insertions(+), 1 deletions(-)

commit 8b0428e514bc5be0cf43e82b764f76008d552a89
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Jan 23 10:09:31 2006 +0000

    add a little documentation
    
    
    20060123100931-25e70-8537f2f25f3d1ab6dd806bfde29137db557ada38.gz

 src/gabble-connection.c |   22 +++++++++++++++++++++-
 1 files changed, 21 insertions(+), 1 deletions(-)

commit acdc8278b6143fc3f6a972a71a4642b1e98c0eb4
Author:  <rob.taylor@collabora.co.uk>
Date:   Mon Jan 23 09:11:18 2006 +0000

    add very very basic impl of getcapabilities
    
    
    20060123091118-25e70-bb41e39ca5ea05b411eb223f32b8715a965b91f8.gz

 src/gabble-connection.c |   38 ++++++++++++++++++++++++++++++++++++++
 1 files changed, 38 insertions(+), 0 deletions(-)

commit fcdfaaed508129f5c26507a6b81bbb48853e78be
Author:  <rob.taylor@collabora.co.uk>
Date:   Sun Jan 22 19:23:38 2006 +0000

    regenerate generated src for xml changes to make RequestHandle ReleaseHandle async
    
    
    20060122192338-25e70-66e9721e74cd7206e7629413692a5b65c7c439d7.gz

 generate/src/gabble-connection.c |   18 ++++++------------
 generate/src/gabble-connection.h |    4 ++--
 2 files changed, 8 insertions(+), 14 deletions(-)

commit e2b8ff70f3f990c6c3b6b71f3722ce1fe9d5df2a
Author:  <rob.taylor@collabora.co.uk>
Date:   Sun Jan 22 19:22:34 2006 +0000

    annoate GabbleConnection::RequestHandle and ReleaseHandle to generate async
    
    
    20060122192234-25e70-83a4aa52e7f0556fdb12b38d4577d3e061e12a01.gz

 generate/xml-modified/gabble-connection.xml |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 6c8ecfb7f7ebc66a5b70cc434cadd588b0e400f3
Author:  <rob.taylor@collabora.co.uk>
Date:   Sun Jan 22 19:21:39 2006 +0000

    remove assumtion that darcs is setting execute flags
    
    
    20060122192139-25e70-ce087c14d19b1302f8805844b83f984e3452cd1e.gz

 generate/do_src.sh |   10 +++++-----
 generate/do_xml.sh |    2 +-
 2 files changed, 6 insertions(+), 6 deletions(-)

commit 111381c0da208d8f914443f5ff96ab4a8b6c650a
Author:  <rob.taylor@collabora.co.uk>
Date:   Sun Jan 22 19:21:03 2006 +0000

    makde gabble_connection_release_handle use gabble_connection_client_release_handle
    
    
    20060122192103-25e70-edf499d7e7c9c22f73fb7f633877cff6c62a900f.gz

 src/gabble-connection.c |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

commit 4bb882de2e6a696346df1d7dc8f56824119c2c1a
Author:  <rob.taylor@collabora.co.uk>
Date:   Sun Jan 22 16:15:06 2006 +0000

    resolve conflicts
    
    
    20060122161506-25e70-c903be1d24fb8974884d6112043c452ea225acf9.gz

 src/gabble-connection.c |  150 +++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 150 insertions(+), 0 deletions(-)

commit 2cff9e6e504aa248dd631b1ff39f86f396c5dada
Author:  <rob.taylor@collabora.co.uk>
Date:   Sun Jan 22 16:10:22 2006 +0000

    emit closed signal on channel close
    
    
    20060122161022-25e70-3d61fbd705d112cb2fee4c5e7f7ec5fac58ed527.gz

 src/gabble-im-channel.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 9996bfb387c533df89bf2c9a0914592b4ee1a410
Author:  <rob.taylor@collabora.co.uk>
Date:   Sun Jan 22 16:10:17 2006 +0000

    free all pending messages on finalize, also move handle unreffing from dispose to finalize as a handle holds no references to the im channel
    
    
    20060122161017-25e70-3f91437b54f8df8368b55880a5f938eecac38b0d.gz

 src/gabble-im-channel.c |   22 ++++++++++++++++------
 1 files changed, 16 insertions(+), 6 deletions(-)

commit cf2b4937969895f1b9c0b97d40bf0b86343e90ba
Author:  <rob.taylor@collabora.co.uk>
Date:   Sun Jan 22 16:05:41 2006 +0000

    implement correct connection closedown, onle emitting a closed signal when loudmouth calls a callback to tell us the connection has gone away.
    
    
    20060122160541-25e70-94dd53ce75750bcac531764a294433528b24c56c.gz

 src/gabble-connection.c |   72 ++++++++++++++++++++++++++++++++++++++--------
 1 files changed, 59 insertions(+), 13 deletions(-)

commit 42903456ffb92d4344b0f0051ccc1b0d1e932725
Author:  <rob.taylor@collabora.co.uk>
Date:   Sun Jan 22 16:00:52 2006 +0000

    convert handleset to take a type on creation
    
    
    20060122160052-25e70-54fe4234320e3fe0d7e33144dce79ed1896f9a0c.gz

 src/handle-set.c |   35 ++++++++++++-----------------------
 src/handle-set.h |   16 ++++++----------
 2 files changed, 18 insertions(+), 33 deletions(-)

commit a4f3fd22567eee662190a5461cdd39966ff4d32e
Author:  <rob.taylor@collabora.co.uk>
Date:   Sun Jan 22 15:59:28 2006 +0000

    make handle repo allocate handles for different types seperately
    
    
    20060122155928-25e70-81c333c7369af4420329523bd60251c3218ac490.gz

 src/handles-private.h |   19 ++++++----
 src/handles.c         |   90 ++++++++++++++++++++++++++++++++++++-------------
 2 files changed, 77 insertions(+), 32 deletions(-)

commit 8e99a71bd609c9eb397b76377a9854e525867428
Author:  <rob.taylor@collabora.co.uk>
Date:   Sun Jan 22 18:36:16 2006 +0000

    fix configure.ac for removal of data and addition of generate
    
    
    20060122183616-25e70-48e897df455ff91884ad3d5d9886b4cd0108bfe1.gz

 configure.ac |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit fff343a56175d2a883482cfe4e16e4b4599d893c
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun Jan 22 14:29:27 2006 +0000

    make roster channels compile for the moment
    
    
    20060122142927-0e791-aca0a3ea761452ef04371d774dc253d3acec1397.gz

 src/gabble-roster-channel.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit 0053cc9c7a75391773d0134bad64f17a4c6df577
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun Jan 22 01:01:15 2006 +0000

    regenerate with fixed gengobject.py to get correct type for G_TYPE_VALUE_ARRAY
    
    
    20060122010115-0e791-74adc7cdb74e714698cb8952b5732465b4a824e8.gz

 generate/src/gabble-connection.c |    2 +-
 src/gabble-connection.c          |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit e3e31f029e841927b2bad84462ec702105db91f2
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sat Jan 21 23:54:29 2006 +0000

    generate object for roster channels
    
    
    20060121235429-0e791-fa06f0e2e2445d201683bc8d98b9a3a2923faf07.gz

 generate/do_src.sh                                 |    3 +
 generate/gabble.def                                |    1 +
 .../src/gabble-roster-channel-signals-marshal.list |    3 +
 generate/src/gabble-roster-channel.c               |  330 ++++++++++++++++++++
 generate/src/gabble-roster-channel.h               |   71 +++++
 generate/xml-modified/gabble-roster-channel.xml    |   55 ++++
 generate/xml-pristine/gabble-roster-channel.xml    |   60 ++++
 src/Makefile.am                                    |    4 +
 src/gabble-roster-channel-signals-marshal.list     |    3 +
 src/gabble-roster-channel.c                        |  330 ++++++++++++++++++++
 src/gabble-roster-channel.h                        |   71 +++++
 11 files changed, 931 insertions(+), 0 deletions(-)

commit 7b61ba835a6d528cc5ab67bad4832b767ecc3990
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sat Jan 21 23:48:10 2006 +0000

    update src/Makefile.am with new XML location
    
    
    20060121234810-0e791-579fa9c557ca14d7cbfa37ca4426f238f1565e8d.gz

 src/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 489e77b875de1f2bf103ead665747f6883edf23b
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sat Jan 21 23:46:25 2006 +0000

    add presence and capabilities interfaces to connection
    
    
    20060121234625-0e791-13203cde551d4137b5b05259c5bc416a71b06247.gz

 generate/gabble.def                                |    2 +-
 .../src/gabble-connection-signals-marshal.list     |    2 +
 generate/src/gabble-connection.c                   |  182 +++++++++++++++++++
 generate/src/gabble-connection.h                   |    9 +
 generate/xml-modified/gabble-connection.xml        |   41 +++++
 generate/xml-pristine/gabble-connection.xml        |   41 +++++
 src/gabble-connection-signals-marshal.list         |    2 +
 src/gabble-connection.c                            |  183 ++++++++++++++++++++
 src/gabble-connection.h                            |    9 +
 9 files changed, 470 insertions(+), 1 deletions(-)

commit 42cf337320c134be76673b7b02282c00fb2f684b
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sat Jan 21 23:45:58 2006 +0000

    update readme to explain how to update files from generate directory
    
    
    20060121234558-0e791-ae841117575d0430bfa482e0cc7179fcc6fbb533.gz

 generate/README |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

commit be422aeb9b1270c591c1bb31ba0f956ce835111a
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sat Jan 21 23:27:33 2006 +0000

    remove any possibility for darcs crack when moving from generated XML or generated source to the live tree, by putting the generated code in the live tree, and make whoever is doing the generation pull the changes over manually
    
    
    20060121232733-0e791-01925e82713877d33452566a27eaad4184e287df.gz

 Makefile.am                                        |    2 +-
 gabble-connection-manager.xml                      |   31 --
 gabble-connection.xml                              |   58 ---
 gabble-im-channel.xml                              |   43 --
 generate/Makefile.am                               |    3 +
 generate/README                                    |   14 +
 generate/do_src.sh                                 |   24 ++
 generate/do_xml.sh                                 |   15 +
 generate/gabble.def                                |    3 +
 .../gabble-connection-manager-signals-marshal.list |    1 +
 generate/src/gabble-connection-manager.c           |  202 +++++++++
 generate/src/gabble-connection-manager.h           |   65 +++
 .../src/gabble-connection-signals-marshal.list     |    2 +
 generate/src/gabble-connection.c                   |  320 +++++++++++++++
 generate/src/gabble-connection.h                   |   71 ++++
 .../src/gabble-im-channel-signals-marshal.list     |    3 +
 generate/src/gabble-im-channel.c                   |  258 ++++++++++++
 generate/src/gabble-im-channel.h                   |   67 +++
 generate/src/telepathy-errors.h                    |   55 +++
 .../xml-modified/gabble-connection-manager.xml     |   31 ++
 generate/xml-modified/gabble-connection.xml        |   58 +++
 generate/xml-modified/gabble-im-channel.xml        |   43 ++
 .../xml-pristine/gabble-connection-manager.xml     |   36 ++
 generate/xml-pristine/gabble-connection.xml        |   63 +++
 generate/xml-pristine/gabble-im-channel.xml        |   48 +++
 tools/Makefile.am                                  |    3 -
 tools/README-do_gen                                |    2 -
 tools/do_gen.sh                                    |   13 -
 tools/generrors.py                                 |   41 --
 tools/gengobject.py                                |  426 --------------------
 30 files changed, 1383 insertions(+), 618 deletions(-)

commit be3ceebcea78a97b8c11595fa55efc587bfe305f
Author:  <rob.taylor@collabora.co.uk>
Date:   Fri Jan 20 18:44:49 2006 +0000

    add binary and generated service file to _boring
    
    
    20060120184449-25e70-302f18e4b323ec1d8f72604f1aa25ceec77a3914.gz

 _boring |    4 +++-
 1 files changed, 3 insertions(+), 1 deletions(-)

commit 3fa5b24d137b6238aa41a858ed005ee65882a087
Author:  <rob.taylor@collabora.co.uk>
Date:   Fri Jan 20 18:43:45 2006 +0000

    add patch to clean the generated .service file
    
    
    20060120184345-25e70-dba90d892bc8cb917358b20f2b320a8a65fc9750.gz

 data/Makefile.am |    5 ++++-
 1 files changed, 4 insertions(+), 1 deletions(-)

commit eb1e2d7db2d2b82f3f399cc3c55abaa06d496a9e
Author:  <rob.taylor@collabora.co.uk>
Date:   Fri Jan 20 18:37:05 2006 +0000

    remove AM_MAINTAINER_MODE for great power
    
    
    20060120183705-25e70-f83ca989a6ca7579c75b876b8850d97581b3cdac.gz

 configure.ac |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

commit d57edd5b25708a59f2250dc04d57816e3f22d215
Author:  <rob.taylor@collabora.co.uk>
Date:   Fri Jan 20 18:36:51 2006 +0000

    added handle-set
    
    
    20060120183651-25e70-4bffc7cc41f0c7c50daa6d529650ce4298afc8a7.gz

 src/Makefile.am       |    1 +
 src/handle-set.c      |  176 +++++++++++++++++++++++++++++++++++++++++++++++++
 src/handle-set.h      |   45 +++++++++++++
 src/handles-private.h |   45 +++++++++++++
 src/handles.c         |   18 +-----
 5 files changed, 268 insertions(+), 17 deletions(-)

commit 985a47a218263ca34dc0f003601c6685560e6af6
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jan 19 09:27:18 2006 +0000

    add gabble.manager file and install it
    
    
    20060119092718-0e791-e03bf007d8f776f6f654d6d4a7940e49f62893de.gz

 data/Makefile.am    |    4 ++++
 data/gabble.manager |   18 ++++++++++++++++++
 2 files changed, 22 insertions(+), 0 deletions(-)

commit a58d4649054c2f084da0d725b08f010134778d0e
Author:  <rob.taylor@collabora.co.uk>
Date:   Thu Jan 19 09:08:31 2006 +0000

    remove stray '+' in configure.ac
    
    
    20060119090831-25e70-50b6641af6007b3b268e8f9846e02f43c9044434.gz

 configure.ac |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 7bf0ee9360f8e9fcde6e87d2c75165896ca9649e
Author:  <rob.taylor@collabora.co.uk>
Date:   Thu Jan 19 09:08:12 2006 +0000

    make .service file generation actually work
    
    
    20060119090812-25e70-e3cbf28ab3e7afce40702fa4f89cb4565a2a7b9c.gz

 Makefile.am                                        |    8 +-------
 configure.ac                                       |    9 ++++-----
 data/Makefile.am                                   |    8 +++++++-
 ...eedesktop.Telepathy.ConnectionManager.gabble.in |    3 ---
 ...p.Telepathy.ConnectionManager.gabble.service.in |    3 +++
 5 files changed, 15 insertions(+), 16 deletions(-)

commit b264d69eb51b85fabe65dada4661e41b87ee9691
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jan 19 08:43:23 2006 +0000

    fill in send method
    
    
    20060119084323-0e791-142426f78670c51ef05ca40f63b8eefeb6bbc180.gz

 src/gabble-im-channel.c |   49 +++++++++++++++++++++++++++++++++++++++++++++-
 1 files changed, 47 insertions(+), 2 deletions(-)

commit 35997d66db7121daabb551d31d4f8577d0eca85a
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jan 19 08:43:04 2006 +0000

    add _gabble_connection_send function
    
    
    20060119084304-0e791-a98c153b9752257ef45251cf7cbeeee85c9525c6.gz

 src/gabble-connection.c |   29 +++++++++++++++++++++++++++++
 src/gabble-connection.h |    2 ++
 2 files changed, 31 insertions(+), 0 deletions(-)

commit b87917716640cef11066983a11745f24e77938d1
Author:  <rob.taylor@collabora.co.uk>
Date:   Thu Jan 19 08:04:47 2006 +0000

    added _boring
    
    
    20060119080447-25e70-33e736f222899d9d4974e70ff8d54d96da8108c0.gz

 _boring |   62 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 62 insertions(+), 0 deletions(-)

commit 0ab9fb7c8ddd93843f7e20fe5c8abaa5b6954c9c
Author:  <rob.taylor@collabora.co.uk>
Date:   Thu Jan 19 08:03:48 2006 +0000

    added dbus service file for activation
    
    
    20060119080348-25e70-901924506e62597b40366d3b79e52d9ad4aa7668.gz

 Makefile.am                                        |   13 +++---
 configure.ac                                       |   16 ++++++--
 data/Makefile.am                                   |    2 +
 ...eedesktop.Telepathy.ConnectionManager.gabble.in |    3 +
 m4/Makefile.am                                     |    3 +-
 m4/as-ac-expand.m4                                 |   40 ++++++++++++++++++++
 6 files changed, 66 insertions(+), 11 deletions(-)

commit 48c66cbaa982561afd73f5561f9f0c970f37792a
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jan 19 06:57:55 2006 +0000

    acknowledge pending message function in IM channel
    
    
    20060119065755-0e791-c36a60831b15488b94ae7104bdcc82cd000a4105.gz

 src/gabble-im-channel.c |   40 ++++++++++++++++++++++++++++++++++++++++
 1 files changed, 40 insertions(+), 0 deletions(-)

commit e36acfef2a00081e2cc667544b7f890976847414
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jan 19 06:11:59 2006 +0000

    list pending messages in IM channel
    
    
    20060119061159-0e791-8961e387e2bbba7ec964bb6150f1546f4e3f20fe.gz

 src/gabble-im-channel.c |   47 +++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 47 insertions(+), 0 deletions(-)

commit fc3b4773f01f17abd566d0f6e012a809e510a48b
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jan 19 04:52:37 2006 +0000

    add the required magic to make ListChannels work using dbus collection contents hacks
    
    
    20060119045237-0e791-c8f0b628b1882a0a59ee976dc4abaafba362e6aa.gz

 src/gabble-connection.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 62c78035744cea1238c9ff20d743a5b9e9bf2936
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jan 19 01:14:04 2006 +0000

    fix GetHandle/GetInterfaces/GetType on the IM channel
    
    
    20060119011404-0e791-26c61ef33eadb2c3e1b3982af8c950812c8c3161.gz

 src/gabble-im-channel.c |   12 +++++-------
 1 files changed, 5 insertions(+), 7 deletions(-)

commit 3aad97cb15d48297befe360fcf8428e9b52469ce
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jan 19 01:13:29 2006 +0000

    use new channel properties to implement listchannels. doesn't work because the bindings can't marshal a(anything)
    
    
    20060119011329-0e791-0a338d1954511513082bf6ae15a72801cdfaf320.gz

 src/gabble-connection.c |   69 +++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 69 insertions(+), 0 deletions(-)

commit c94b7fb71552a64702c3331a0577d64e3df8edd7
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jan 19 01:01:17 2006 +0000

    add channel type and handle type properties to IM channel
    
    
    20060119010117-0e791-47b1cf156064d2cba01f1fa52f2e5d752406052b.gz

 src/gabble-im-channel.c |   26 ++++++++++++++++++++++++++
 1 files changed, 26 insertions(+), 0 deletions(-)

commit 01f208bc638b595f350d117e2f0df27fddba0478
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jan 19 01:00:26 2006 +0000

    add some debug explaining service names & object paths
    
    
    20060119010026-0e791-dc92444a7fdec2fd17b23532b1f2e2a483e2d36c.gz

 src/gabble-connection.c |    6 ++++++
 1 files changed, 6 insertions(+), 0 deletions(-)

commit fe358b9cfab5973bc1d6c9e5e1aeaa6ab1e39d74
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Jan 18 23:00:23 2006 +0000

    add a message handler to the connection and IM channel objects, incoming messages are truncated if they are too large, and a GabbleAllocator ensures no more than (currently) 256 messages are stored unacknowledged
    
    
    20060118230023-0e791-3d975438eade1797d8780f2669e5ac3584371f01.gz

 src/Makefile.am           |    1 +
 src/allocator.c           |  104 ++++++++++++++++++++++++++++++++++
 src/allocator.h           |   47 +++++++++++++++
 src/gabble-connection.c   |   82 ++++++++++++++++++++++++++-
 src/gabble-im-channel.c   |  137 ++++++++++++++++++++++++++++++++++++++++++++-
 src/gabble-im-channel.h   |    5 ++
 src/telepathy-constants.h |    7 ++
 7 files changed, 377 insertions(+), 6 deletions(-)

commit 810e7e15a0953c83565af5e4c8059b009bd06443
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Jan 18 22:59:02 2006 +0000

    make IM channels hold a reference to the handle they represent
    
    
    20060118225902-0e791-cbff9108a6eafbd9b76d07be9072dc87f94ea020.gz

 src/gabble-connection.c |   17 +++++++++++++++++
 src/gabble-connection.h |    3 +++
 src/gabble-im-channel.c |   11 +++++++++--
 3 files changed, 29 insertions(+), 2 deletions(-)

commit 4875d510c1499c24a61e0e29c6ff3e0934c07751
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Jan 18 22:51:17 2006 +0000

    fix up the gobject generator to properly understand a(...) and a{...}
    
    
    20060118225117-0e791-3283700ad0815b8a523bccdacc7f13b126bec4d4.gz

 src/gabble-connection.c |    2 +-
 src/gabble-connection.h |    2 +-
 src/gabble-im-channel.c |    2 +-
 src/gabble-im-channel.h |    2 +-
 tools/gengobject.py     |   20 +++++++++++++++-----
 5 files changed, 19 insertions(+), 9 deletions(-)

commit 5ca36bc193f5161cf1b536d30de940e9a6119c24
Author: Ole Andre Vadla Ravnaas <ole.andre.ravnaas@collabora.co.uk>
Date:   Tue Jan 17 13:51:55 2006 +0000

    Move do_gen.sh into tools -- remaining changes.
    
    
    20060117135155-7cdbc-7cedb49a687e86235612a56fbcae5474f8fcb540.gz

 tools/README-do_gen |    2 ++
 tools/do_gen.sh     |   13 +++++++++++++
 2 files changed, 15 insertions(+), 0 deletions(-)

commit 6c6f3ee902f327c346795d99774514d8a91847cc
Author: Ole Andre Vadla Ravnaas <ole.andre.ravnaas@collabora.co.uk>
Date:   Tue Jan 17 13:41:14 2006 +0000

    Move do_gen.sh into tools to make it less tempting to run it.
    
    
    20060117134114-7cdbc-721e3549533a9faf1793f75e4377faa31aea8d34.gz

 do_gen.sh |   13 -------------
 1 files changed, 0 insertions(+), 13 deletions(-)

commit 878c2e50f2628de34c3078efafeddbdd1bf22a13
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Jan 17 13:56:52 2006 +0000

    implement RequestChannel, and fill in the IMChannels so they can be instantitated
    
    
    20060117135652-0e791-0c4832a75cdc6e3325d841feb9d90b5c5585d605.gz

 src/gabble-connection.c |  101 ++++++++++++++++++++++++++++++++-
 src/gabble-im-channel.c |  146 ++++++++++++++++++++++++++++++++++++++++++++++-
 2 files changed, 243 insertions(+), 4 deletions(-)

commit ddf81f6025de6ff1b97c43990f5652d0bf71a6cb
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Jan 17 02:54:27 2006 +0000

    add telepathy helpers to Makefile.am
    
    
    20060117025427-0e791-22a9b91614cf93c38ca2710e521047f5b16d437d.gz

 src/Makefile.am |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

commit 9e2eb2da6cc9e698a411a9e6c3bdec11600ad457
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Jan 17 02:05:01 2006 +0000

    copy generated interfaces from voip engine tree
    
    
    20060117020501-0e791-4f1effa375c38b94b4243215389f14c94e302517.gz

 src/telepathy-interfaces.h |   77 ++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 77 insertions(+), 0 deletions(-)

commit 74609519905f8dddcf37a1e2c61c08eb7c9f2f7c
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Jan 17 02:06:11 2006 +0000

    steal back the helper functions rob stole from me
    
    
    20060117020611-0e791-8637e207c6f43ab05bb87ed4df31486bdb1b31ae.gz

 src/gabble-connection-manager.c |    6 ++--
 src/gabble-connection.c         |    6 ++--
 src/gabble.c                    |   39 ------------------------
 src/gabble.h                    |    3 --
 src/telepathy-helpers.c         |   63 +++++++++++++++++++++++++++++++++++++++
 src/telepathy-helpers.h         |   35 +++++++++++++++++++++
 6 files changed, 104 insertions(+), 48 deletions(-)

commit 31d9ae01f611d759e58181276358f7b0b1e8e137
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Jan 17 00:42:57 2006 +0000

    add in self handle method, fix remaining handle stuff
    
    
    20060117004257-0e791-7fd635e99dbfea7a0517a86c17a32051a26a3d03.gz

 src/gabble-connection.c |  139 ++++++++++++++++++++++++++++++++++++++++++++++-
 src/handles.c           |   25 ++++++++-
 src/handles.h           |    5 +-
 3 files changed, 162 insertions(+), 7 deletions(-)

commit 0bb40e110b0659a842f5ad1b07779c275f320388
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 16 22:41:52 2006 +0000

    swap around method bodies to match corrected alphabetic ordering of generated methods (don't ask)
    
    
    20060116224152-0e791-af37233d8aeca17323909dd282ae1541c31716c4.gz

 src/gabble-connection-manager.c |    4 +-
 src/gabble-connection-manager.h |    4 +-
 src/gabble-connection.c         |   79 +++++++++++++++++++--------------------
 3 files changed, 42 insertions(+), 45 deletions(-)

commit 2c04fbc12c29d5d58e4542ab6f596de1eff1c079
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 16 22:32:55 2006 +0000

    *actually* sort method names alphabetically... doh
    
    
    20060116223255-0e791-160e18889502097be07c6e75a961911511e2b635.gz

 src/gabble-connection-manager.c            |   12 +++---
 src/gabble-connection-manager.h            |    4 +-
 src/gabble-connection.c                    |   54 +++++++++++++-------------
 src/gabble-connection.h                    |   12 +++---
 src/gabble-im-channel-signals-marshal.list |    2 +-
 src/gabble-im-channel.c                    |   58 ++++++++++++++--------------
 src/gabble-im-channel.h                    |    8 ++--
 tools/gengobject.py                        |    4 +-
 8 files changed, 78 insertions(+), 76 deletions(-)

commit 6771c9c661b424ad6fa042e585fc6fd5d54258b7
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 16 22:29:06 2006 +0000

    handle type validity checking function
    
    
    20060116222906-0e791-b603be61e435f543b878a6a3e94cf6cde12ed0ce.gz

 src/handles.c |    3 +--
 src/handles.h |    1 +
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 4eaa7f23afcc3113bab8147cc39447f55820f437
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 16 22:27:56 2006 +0000

    try and avoid crashes by closing connection at dispose time
    
    
    20060116222756-0e791-07b129578cb07dbd7e41492ead3f5ecccd7f3c0d.gz

 src/gabble-connection.c |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

commit b78d08e94f6c58ba35a86bb2de963f9837a32fd9
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 16 22:27:34 2006 +0000

    handle cleanups, implement inspect handle
    
    
    20060116222734-0e791-25454402df31c4e5a8d7881979939807b8f55d70.gz

 src/gabble-connection.c |   35 +++++++++++++++++++++++++
 src/handles.c           |   66 ++++++++++++++++++++++++++++++++--------------
 src/handles.h           |   15 +++++-----
 3 files changed, 89 insertions(+), 27 deletions(-)

commit f4ac829a00a36e0b773410a2e0ede70953a8563e
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 16 21:40:04 2006 +0000

    static GetInterface method
    
    
    20060116214004-0e791-4cc62b596dd79d26a728d4ee1254946a72254b7e.gz

 src/gabble-connection.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit 4e5f073384be6ff5c2b9671b9efb5a76368b16ae
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 16 21:39:17 2006 +0000

    initial handles implementation
    
    
    20060116213917-0e791-6591b7523672e04d22d1a7fa1dc61dfd123e68a1.gz

 src/Makefile.am           |    1 +
 src/gabble-connection.c   |   49 +++------
 src/handles.c             |  283 +++++++++++++++++++++++++++++++++++++++++++++
 src/handles.h             |   47 ++++++++
 src/telepathy-constants.h |    8 ++
 5 files changed, 354 insertions(+), 34 deletions(-)

commit abd00a031e5b56c0876c495c6db1473c1f7117f0
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Jan 16 18:09:46 2006 +0000

    fix pointless static declaration
    
    
    20060116180946-0e791-b1423df6a7aafc63414965a8bc465e3bfb07810c.gz

 src/gabble-connection-manager.c |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

commit 570161d14ae8bf147ca4e81a5f38b12f2852d90a
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun Jan 15 01:02:20 2006 +0000

    implement GetProtocol
    
    
    20060115010220-0e791-08ad3c6c2f50f4c6fc068d7690d37542207ab050.gz

 src/gabble-connection.c |    8 ++++++++
 1 files changed, 8 insertions(+), 0 deletions(-)

commit 1148822b551ed5a380c1e212ed6c5e905a256308
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sat Jan 14 22:59:21 2006 +0000

    store connection objects in a hash table, and unref them when they become disconnected
    
    
    20060114225921-0e791-14f192fe3a65a4707d5d50fdd70a61a4d2d64a4d.gz

 src/gabble-connection-manager.c |   57 ++++++++++++++++++++++++++++++++++++--
 1 files changed, 54 insertions(+), 3 deletions(-)

commit 7eb64475347eae59077703b1ef1059b542fde662
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sat Jan 14 22:17:04 2006 +0000

    header tweak
    
    
    20060114221704-0e791-d7825662a434bb03fd0978e3a5dfaf38f966d3b0.gz

 src/gabble-connection.c |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

commit 7b68e8aee0b332c638c31f0650fc427b5e6b9ac9
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sat Jan 14 22:10:12 2006 +0000

    add connection status signals from failures during login, implement disconnect and get status methods
    
    
    20060114221012-0e791-c3ac7e7de5ec01d817e5ead49171843d188638a9.gz

 src/gabble-connection.c |   77 ++++++++++++++++++++++++++++++++++++++++------
 1 files changed, 67 insertions(+), 10 deletions(-)

commit 7f8575db2dbdb7414c6b878f4b7f5d610af32175
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sat Jan 14 22:09:40 2006 +0000

    free up GErrors which can occur during connection
    
    
    20060114220940-0e791-48c562937f84021a853e24df4ad6ddc5653b3ad5.gz

 src/gabble-connection.c |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

commit ae7fb447437f5c85592322bbfb5f663d99a22eda
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sat Jan 14 22:09:03 2006 +0000

    avoid spare string copy, all that loudmouth does with the "jid" is set the stream server
    
    
    20060114220903-0e791-008b19a0743ec64605d62180f9a8cc41056b9f78.gz

 src/gabble-connection.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit 2b64b16c17c67469a53e3c904f4635112860d6e4
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sat Jan 14 22:07:37 2006 +0000

    add constants file for conn statuses and reasons
    
    
    20060114220737-0e791-8d9e683ecb7c1b8bcb74fbc39d66cda7f1aef70c.gz

 src/gabble-connection.c   |    1 +
 src/telepathy-constants.h |   40 ++++++++++++++++++++++++++++++++++++++++
 2 files changed, 41 insertions(+), 0 deletions(-)

commit d6f25ce3a52a0329056d6bfcc002039cd649039e
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sat Jan 14 17:31:16 2006 +0000

    add license to gabble.c
    
    
    20060114173116-0e791-92cdd046c5be7661eb9d9d4938822d1406e8ece5.gz

 src/gabble.c |   20 ++++++++++++++++++++
 src/gabble.h |    2 +-
 2 files changed, 21 insertions(+), 1 deletions(-)

commit daca97133c753530884bc60ce0c81946bb5d3b42
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sat Jan 14 17:30:31 2006 +0000

    add _gabble_connection_register for making connections appear on the bus
    
    
    20060114173031-0e791-b224c8e7db819f5f4178181e32d23de74cc06723.gz

 src/gabble-connection-manager.c |   16 +++++---
 src/gabble-connection.c         |   86 +++++++++++++++++++++++++++++++++++++--
 src/gabble-connection.h         |    1 +
 3 files changed, 93 insertions(+), 10 deletions(-)

commit 71f9d8ea576fa396e94fcf9184466cefbb23faf1
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sat Jan 14 17:29:34 2006 +0000

    merge patch for non-const GHashTables
    
    
    20060114172934-0e791-4f3e2c802466d284ba70454eba5441e7995949b5.gz

 src/gabble-connection-manager.c |    2 +-
 src/gabble-connection-manager.h |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit e2adf336692f822a84c05c50040614a45e0bf19c
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sat Jan 14 14:51:52 2006 +0000

    set const values in prototypes correctly
    
    
    20060114145152-0e791-ce22efb8503087aaa8f1a78819a6acefbcf3b0fb.gz

 tools/gengobject.py |   46 +++++++++++++++++++++++-----------------------
 1 files changed, 23 insertions(+), 23 deletions(-)

commit bfee0db6e3ca27f634dcfa5ade944f6404fd9bc4
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sat Jan 14 14:35:30 2006 +0000

    try marshalling object paths as strings
    
    
    20060114143530-0e791-fd52779ad3974d4f9d36a450932256d181d5924c.gz

 src/gabble-connection-manager-signals-marshal.list |    2 +-
 src/gabble-connection-manager.c                    |    6 +++---
 src/gabble-connection-manager.h                    |    2 +-
 src/gabble-connection-signals-marshal.list         |    2 +-
 src/gabble-connection.c                            |    6 +++---
 src/gabble-connection.h                            |    2 +-
 tools/gengobject.py                                |    2 +-
 7 files changed, 11 insertions(+), 11 deletions(-)

commit fd21c873dfd71da32f811f94dc39f5b5df371c4e
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jan 12 19:40:39 2006 +0000

    add protocol property to connection object
    
    
    20060112194039-0e791-cc2f526a74587d8de85065202eaa9f345610c10a.gz

 src/gabble-connection-manager.c |    1 +
 src/gabble-connection.c         |   27 ++++++++++++++++++++++++++-
 2 files changed, 27 insertions(+), 1 deletions(-)

commit 739d8e32c02354dfddf5dfdb0708e3a23afb9a4e
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jan 12 18:02:03 2006 +0000

    provide singleton bus connections and proxy object throughout the lifetime of the program
    
    
    20060112180203-0e791-74c2ac15cba75bbdfa7e4b3abfb50a0856873062.gz

 src/gabble-connection-manager.c |   31 ++++++++++++++++++
 src/gabble-connection-manager.h |    1 +
 src/gabble.c                    |   67 +++++++++++++++++++++++---------------
 src/gabble.h                    |   34 ++++++++++++++++++++
 4 files changed, 106 insertions(+), 27 deletions(-)

commit 8bbb19e2b0846e66a58912944a21f5322bbde472
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Jan 12 17:19:26 2006 +0000

    fix header guard comment's spare )
    
    
    20060112171926-0e791-743bfe0e644a52108150b3a20216e0c7cd1006b4.gz

 src/gabble-connection-manager.h |    2 +-
 src/gabble-connection.h         |    2 +-
 src/gabble-im-channel.h         |    2 +-
 src/telepathy-errors.h          |    2 +-
 tools/gengobject.py             |    2 +-
 5 files changed, 5 insertions(+), 5 deletions(-)

commit c6cfeaa42a3cfd5d711cc34d9e62f10fd96b1a30
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Jan 11 12:59:48 2006 +0000

    add parsing of parameters to the connection manager, use them to create the connection
    
    
    20060111125948-0e791-2e7b2b6c7e93f8af3ab367caf09cd01d2e456b1e.gz

 src/gabble-connection-manager.c |  281 ++++++++++++++++++++++++++++++++++-----
 1 files changed, 250 insertions(+), 31 deletions(-)

commit 3cb4f78a0d52e84c4e6444d15a230daa791f1a43
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Jan 11 12:34:35 2006 +0000

    make the error names case sensitive
    
    
    20060111123435-0e791-5f69d65242722caa63431c5f4e2a2595ece08975.gz

 src/Makefile.am |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

commit ec6fa697f04483a058c0993fe5381f80be70a868
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun Jan 8 21:23:15 2006 +0000

    add seperate connect-server and stream-server properties to gabble connection manager
    
    
    20060108212315-0e791-ea3fed34ea1134e0df558ddc1c0745ae3befc60e.gz

 src/gabble-connection.c |   92 +++++++++++++++++++++++++++++++++-------------
 1 files changed, 66 insertions(+), 26 deletions(-)

commit a21ad0f7e34810b69d330151abc945bd6f6398a9
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun Jan 8 21:02:16 2006 +0000

    make the hashtable not const in the Connect method
    
    
    20060108210216-0e791-209538988fffa10e86886933230a0b8cf77e77a1.gz

 src/gabble-connection-manager.c |    2 +-
 src/gabble-connection-manager.h |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 89a46c5ad7c9bb69d7f2916545acec64c15b5bd0
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Sun Jan 8 20:58:52 2006 +0000

    add parameter lists for google talk and jabber, and hook them up to parameter listing functions
    
    
    20060108205852-0e791-87e5f87e3efba7d0b07f2929a29356db0f55a906.gz

 src/gabble-connection-manager.c |   97 ++++++++++++++++++++++++++++++++++++--
 1 files changed, 91 insertions(+), 6 deletions(-)

commit c7446c294ea466279ddffc39bee80abb26975fa7
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Wed Dec 14 03:08:51 2005 +0000

    add SSL support with old-ssl property to enable crap tunneling of the entire connection, split "account" property into "username", "server" and "resource" and provide a utility function to set these from the jid... except this doesn't work when you override the server in your jid with a different server to connect to, so no google talk yet...
    
    
    20051214030851-0e791-fcd62c167b843a6ed43689f5509ec97ccb0982b4.gz

 src/gabble-connection.c |  275 +++++++++++++++++++++++++++++++++++------------
 src/gabble-connection.h |    1 +
 2 files changed, 207 insertions(+), 69 deletions(-)

commit 4df27b24b8101ef1972ba0314cd621c5631779f5
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Dec 13 15:53:38 2005 +0000

    add fixes so that you can establish a connection \o/
    
    
    20051213155338-0e791-ba5a6a946dd181fce5973a5f40715c9106fa8581.gz

 src/gabble-connection-manager.c |   19 +++++++++++++++++++
 src/gabble-connection.c         |   24 +++++++++++++++++++-----
 src/gabble.c                    |    2 ++
 3 files changed, 40 insertions(+), 5 deletions(-)

commit a22c90afe93692cb9ebefc1ebd23b662e43e0f29
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Dec 8 19:31:47 2005 +0000

    add _gabble_connection_connect method to roll a connection with the given parameters, and flag any errors from lm_connection_open immediately
    
    
    20051208193147-0e791-04dcd6efdf0898b95f6c5f000aaaa5188bfee569.gz

 src/gabble-connection.c |  124 +++++++++++++++++++++++++++++++++++++++++++++++
 src/gabble-connection.h |    1 +
 2 files changed, 125 insertions(+), 0 deletions(-)

commit 3eb7c8c86a193f7e409a457f06aa95eff9180ce7
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Dec 8 19:30:35 2005 +0000

    add properties to gabble connection for port and server, and derive server and resource from account where possible
    
    
    20051208193035-0e791-e0466801ca48c85328156dc459d2c3af66ad2b5a.gz

 src/gabble-connection.c |  149 ++++++++++++++++++++++++++++++++++++++++------
 1 files changed, 129 insertions(+), 20 deletions(-)

commit 858fa86abf4308fc27e68f956081661c0fea3c93
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Dec 8 19:29:10 2005 +0000

    comment out priv stuff from gabble-connection-manager because it's unused atm
    
    
    20051208192910-0e791-aba35afc8f05824a196f8c068637dae74775e8dc.gz

 src/gabble-im-channel.c |    6 +++---
 1 files changed, 3 insertions(+), 3 deletions(-)

commit bee6cd94122a053afba6ca178f72c217c99504ba
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Dec 8 19:28:48 2005 +0000

    fix gabble-connection-manager for new priv stuff
    
    
    20051208192848-0e791-fa448403d350545095ec8a5a808d9a1f08fababf.gz

 src/gabble-connection-manager.c |    8 +++++---
 1 files changed, 5 insertions(+), 3 deletions(-)

commit 1e6e4b43621fb4b742bdee4b444b00498c00a83e
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Dec 8 01:14:48 2005 +0000

    fix FOO_BAR_TYPE_BAZ to appear as FOO_TYPE_BAR_BAZ
    
    
    20051208011448-0e791-bc8f0bd50aca0107fa22d2bc1bdecf5a3181f69e.gz

 src/gabble-connection-manager.c |    7 ++-----
 src/gabble-connection.c         |    5 +++--
 src/gabble-im-channel.c         |    7 ++++---
 tools/gengobject.py             |    4 ++--
 4 files changed, 11 insertions(+), 12 deletions(-)

commit 4244a6568d78150c11189fb46638f650ee32539f
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Dec 8 01:18:15 2005 +0000

    start of a constructor & properties for connection obj
    
    
    20051208011815-0e791-e373914e8a31a7761939c2ad7be7a6df06d6f38a.gz

 src/gabble-connection.c |   69 +++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 69 insertions(+), 0 deletions(-)

commit 6441bbc499eb970b1c6662d601bab908b9665090
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Dec 8 01:16:27 2005 +0000

    merge priv struct changes
    
    
    20051208011627-0e791-f05d9438ee832c13a9deaa5be7422bbffe43a6a2.gz

 src/gabble-connection-manager.c |   17 ++++++++++++++++-
 1 files changed, 16 insertions(+), 1 deletions(-)

commit 05fbcf44a649bd9f2dfca52e2f4f23e0f5e28f1f
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Thu Dec 8 00:28:27 2005 +0000

    change to having gtype allocate private structs for us
    
    
    20051208002827-0e791-c79b0348dfcfcdbabe9f7b50ef59cc49a21ce0ee.gz

 src/gabble-connection-manager.c |   27 ++++++++++-----------------
 src/gabble-connection-manager.h |    2 --
 src/gabble-connection.c         |   20 +++++++++++++-------
 src/gabble-connection.h         |    2 --
 src/gabble-im-channel.c         |   20 +++++++++++++-------
 src/gabble-im-channel.h         |    2 --
 tools/gengobject.py             |   37 ++++++++++++++++++++++---------------
 7 files changed, 58 insertions(+), 52 deletions(-)

commit 053aad6d639c13dd9507067463bd6382461fdee9
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Dec 6 16:47:03 2005 +0000

    fixes to gabble.c... it runs now... yay!
    
    
    20051206164703-0e791-9c7603ee3eeea516a09c543458929aef25f4c3ac.gz

 src/gabble.c |    8 ++++++--
 1 files changed, 6 insertions(+), 2 deletions(-)

commit 75be1d624d440330250e690977b42405a4e9dc83
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Dec 6 16:44:37 2005 +0000

    merge in priv structures from generator
    
    
    20051206164437-0e791-9db5a7104032e411cfde5b49524d86205388991c.gz

 src/gabble-connection-manager.c |   17 +++++++++++++++--
 src/gabble-connection-manager.h |    1 +
 2 files changed, 16 insertions(+), 2 deletions(-)

commit 69b6b0eecb00b9eac7c55e90f4918e44fcd30d47
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Dec 6 16:44:21 2005 +0000

    telepathy errors quark from SIP tree
    
    
    20051206164421-0e791-9e734280c904068546332dd863556137787431fe.gz

 src/telepathy-errors.c |   11 +++++++++++
 src/telepathy-errors.h |    2 ++
 2 files changed, 13 insertions(+), 0 deletions(-)

commit 8e8198b74aa979eacb046a463bad402ee7e94480
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Tue Dec 6 14:58:28 2005 +0000

    add private struct, allocate it in init, free it in finaliza
    
    
    20051206145828-0e791-cb38f6afa24e211202bad72ba22b42c927421418.gz

 src/gabble-connection-manager.c |   17 +++--------------
 src/gabble-connection-manager.h |    1 -
 src/gabble-connection.c         |   14 +++++++++++++-
 src/gabble-connection.h         |    1 +
 src/gabble-im-channel.c         |   14 +++++++++++++-
 src/gabble-im-channel.h         |    1 +
 tools/gengobject.py             |   17 ++++++++++++++++-
 7 files changed, 47 insertions(+), 18 deletions(-)

commit 22b99a08fea4353c4d243b074ad5656ec0709bd1
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Dec 5 19:46:44 2005 +0000

    start on gabble-connection-manager... one method! :)
    
    
    20051205194644-0e791-b80ffd244791a1f77ca5540eebb5549e7ee293f0.gz

 src/gabble-connection-manager.c |   21 ++++++++++++++++++---
 src/gabble-connection-manager.h |    1 +
 2 files changed, 19 insertions(+), 3 deletions(-)

commit 7a33e6fe4af40127429f74b95cc4a8b8477c111d
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Dec 5 19:46:33 2005 +0000

    add gabble.c with main()
    
    
    20051205194633-0e791-eb40a0b444c8b12988e83bd99fd3d8de5a453ac2.gz

 src/gabble.c |   56 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 files changed, 56 insertions(+), 0 deletions(-)

commit ad3e224b9a78f362cd5c7f67b32e1a69790c21b9
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Dec 5 19:46:11 2005 +0000

    change name of files to gabble
    
    
    20051205194611-0e791-4f11f9d3e6b7d5e45cf1ced004a87715775e3b6f.gz

 src/Makefile.am |   26 +++++++++++++-------------
 1 files changed, 13 insertions(+), 13 deletions(-)

commit 29305c907d4e40e175296189434bad116061024a
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Dec 5 17:32:58 2005 +0000

    space
    
    
    20051205173258-0e791-3ac8fb61a0fecb4f40ce094e56c7c572b12e9958.gz

 src/gabble-connection-manager.c |   10 +++++-----
 src/gabble-connection.c         |   22 +++++++++++-----------
 src/gabble-im-channel.c         |   14 +++++++-------
 tools/gengobject.py             |    2 +-
 4 files changed, 24 insertions(+), 24 deletions(-)

commit 13d9ae8a5da6e721151a4b18841f82ab53342401
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Dec 5 17:19:55 2005 +0000

    more pointless whitespace changes
    
    
    20051205171955-0e791-0fa87e5e9c4ef4e80788bb6ed6126e9ee00b2e1f.gz

 src/gabble-connection-manager.c |    3 +--
 src/gabble-connection.c         |    3 +--
 src/gabble-im-channel.c         |    3 +--
 tools/gengobject.py             |    3 +--
 4 files changed, 4 insertions(+), 8 deletions(-)

commit 089631405af991d15dee4d20f4b7654d3bbb701a
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Dec 5 17:09:55 2005 +0000

    pointless changes
    
    
    20051205170955-0e791-09c35120ecc119e65ce582425b881b9c9c654a27.gz

 src/gabble-connection-manager.c |    3 +--
 src/gabble-connection.c         |    3 +--
 src/gabble-im-channel.c         |    3 +--
 tools/gengobject.py             |    5 ++---
 4 files changed, 5 insertions(+), 9 deletions(-)

commit 390f74cd2b404f1660f31d362c05e6513e9bb0ad
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Dec 5 17:00:43 2005 +0000

    remove trailing whitespace in comments and code, fix typos
    
    
    20051205170043-0e791-ebffce619c832e1285d806dbb7428c3ba5ff94e5.gz

 src/gabble-connection-manager.c |   65 ++++++++++----------
 src/gabble-connection-manager.h |    2 +-
 src/gabble-connection.c         |  127 +++++++++++++++++++--------------------
 src/gabble-connection.h         |    2 +-
 src/gabble-im-channel.c         |   89 +++++++++++++--------------
 src/gabble-im-channel.h         |    2 +-
 src/telepathy-errors.h          |    2 +-
 tools/gengobject.py             |   72 ++++++++++-------------
 8 files changed, 174 insertions(+), 187 deletions(-)

commit 1457eb472a52b6b234b306f451e37a30c42e0087
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Dec 5 16:44:54 2005 +0000

    include / in object paths
    
    
    20051205164454-0e791-9ce8f5f579b2bf83f5249704b7a025ada59a1789.gz

 gabble-connection-manager.xml |    7 +------
 gabble-im-channel.xml         |    7 +------
 2 files changed, 2 insertions(+), 12 deletions(-)

commit ea5b646e9124dd1564875485ade9353b00e351bd
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Dec 5 16:44:04 2005 +0000

    update XML so that binding tools put a leading / in the object name
    
    
    20051205164404-0e791-78ffc338910856ae22d70668ec601a572941a176.gz

 gabble-connection-manager.xml |    7 ++++++-
 gabble-connection.xml         |    2 +-
 gabble-im-channel.xml         |    7 ++++++-
 3 files changed, 13 insertions(+), 3 deletions(-)

commit 8726e4c643113d49d9dda1c3b0213c0facaf7286
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Dec 5 15:55:37 2005 +0000

    regenerate files with gabble name
    
    
    20051205155537-0e791-2e6c2457d0cb039188ac01d9537bade1fca106ee.gz

 do_gen.sh                                          |   12 +-
 src/gabble-connection-manager-signals-marshal.list |    1 +
 src/gabble-connection-manager.c                    |  186 ++++++++++++
 src/gabble-connection-manager.h                    |   66 +++++
 src/gabble-connection-signals-marshal.list         |    2 +
 src/gabble-connection.c                            |  304 ++++++++++++++++++++
 src/gabble-connection.h                            |   72 +++++
 src/gabble-im-channel-signals-marshal.list         |    3 +
 src/gabble-im-channel.c                            |  242 ++++++++++++++++
 src/gabble-im-channel.h                            |   68 +++++
 src/jabber-connection-manager-signals-marshal.list |    1 -
 src/jabber-connection-manager.c                    |  186 ------------
 src/jabber-connection-manager.h                    |   66 -----
 src/jabber-connection-signals-marshal.list         |    2 -
 src/jabber-connection.c                            |  304 --------------------
 src/jabber-connection.h                            |   72 -----
 src/jabber-im-channel-signals-marshal.list         |    3 -
 src/jabber-im-channel.c                            |  242 ----------------
 src/jabber-im-channel.h                            |   68 -----
 19 files changed, 950 insertions(+), 950 deletions(-)

commit 828b019953a6015c5ff70a0ee1a29ab256a12909
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Dec 5 15:52:42 2005 +0000

    rename to gabble
    
    
    20051205155242-0e791-82f60da7aff2624b1efd7635153c4dc5801b6a3f.gz

 gabble-connection-manager.xml |    7 +------
 gabble-im-channel.xml         |    7 +------
 2 files changed, 2 insertions(+), 12 deletions(-)

commit d7cb2ef741e8016bae2670999ee12c9e4c0b5f94
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Dec 5 15:50:51 2005 +0000

    rename stuff to gabble
    
    
    20051205155051-0e791-6d97dff4f0fde67740c7392df5aab57a2f891084.gz

 gabble-connection-manager.xml |   36 +++++++++++++++++++++++++
 gabble-connection.xml         |   58 +++++++++++++++++++++++++++++++++++++++++
 gabble-im-channel.xml         |   48 +++++++++++++++++++++++++++++++++
 jabber-connection-manager.xml |   31 ----------------------
 jabber-connection.xml         |   58 -----------------------------------------
 jabber-im-channel.xml         |   43 ------------------------------
 6 files changed, 142 insertions(+), 132 deletions(-)

commit 027ba924dd635fd4b4c07076fbf0505b63e48196
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Dec 5 15:07:33 2005 +0000

    on the subject of pedantry, change the license to say 2.1 and have the FSF's new address
    
    
    20051205150733-0e791-d42ee0e9bb67c3b96d9a5222df301b96a45da976.gz

 src/jabber-connection-manager.c |   10 ++++------
 src/jabber-connection-manager.h |   10 ++++------
 src/jabber-connection.c         |   10 ++++------
 src/jabber-connection.h         |   10 ++++------
 src/jabber-im-channel.c         |   10 ++++------
 src/jabber-im-channel.h         |   10 ++++------
 src/telepathy-errors.h          |   10 ++++------
 tools/gengobject.py             |   10 ++++------
 8 files changed, 32 insertions(+), 48 deletions(-)

commit 20022f21331bc10b628c2d0787e65da826d3758b
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Dec 5 15:03:13 2005 +0000

    insanely pedantic tweak to license strings
    
    
    20051205150313-0e791-fae2383dcf2c5d594bdf5b9e23d1a0b08cddc189.gz

 src/jabber-connection-manager.c |    2 +-
 src/jabber-connection-manager.h |    2 +-
 src/jabber-connection.c         |    2 +-
 src/jabber-connection.h         |    2 +-
 src/jabber-im-channel.c         |    2 +-
 src/jabber-im-channel.h         |    2 +-
 src/telepathy-errors.h          |    2 +-
 tools/gengobject.py             |    2 +-
 8 files changed, 8 insertions(+), 8 deletions(-)

commit 10b32cca75b44c8733024182c73f8db7252aad8e
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Dec 5 13:59:42 2005 +0000

    add autofoo, mostly stolen from telepathy-sip :)
    
    
    20051205135942-0e791-09634c92a388e716643ebff4c82872cdf44895d7.gz

 AUTHORS                |    2 +
 COPYING                |  510 ++++++++++++++++++++++++++++++++++++++++++++++++
 INSTALL                |  236 ++++++++++++++++++++++
 Makefile.am            |   13 ++
 configure.ac           |   64 ++++++
 m4/Makefile.am         |    3 +
 m4/as-compiler-flag.m4 |   33 +++
 m4/as-version.m4       |   66 +++++++
 src/Makefile.am        |   74 +++++++
 tools/Makefile.am      |    3 +
 10 files changed, 1004 insertions(+), 0 deletions(-)

commit 2052aba3b399689fd088b3d8f9cb521dd886cd9e
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Dec 5 13:37:17 2005 +0000

    copy gintset from telepathy-sip
    
    
    20051205133717-0e791-336a187ca40452466902bd9c120ccaa9ab0ed614.gz

 src/gintset.c |  181 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 src/gintset.h |   37 ++++++++++++
 2 files changed, 218 insertions(+), 0 deletions(-)

commit 17baba9de12021fae9eaae2fd3af00271e7e5975
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Dec 5 12:55:01 2005 +0000

    first cut at generating classes
    
    
    20051205125501-0e791-780a01d2093d093013e07b2a803f845493577004.gz

 src/jabber-connection-manager-signals-marshal.list |    1 +
 src/jabber-connection-manager.c                    |  188 ++++++++++++
 src/jabber-connection-manager.h                    |   68 +++++
 src/jabber-connection-signals-marshal.list         |    2 +
 src/jabber-connection.c                            |  306 ++++++++++++++++++++
 src/jabber-connection.h                            |   74 +++++
 src/jabber-im-channel-signals-marshal.list         |    3 +
 src/jabber-im-channel.c                            |  244 ++++++++++++++++
 src/jabber-im-channel.h                            |   70 +++++
 src/telepathy-errors.h                             |   57 ++++
 10 files changed, 1013 insertions(+), 0 deletions(-)

commit caa17c0f9cd3c26f02711cca47d77c024529e952
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Dec 5 12:54:26 2005 +0000

    remove introspect methods from XML, the glib bindings do that for us
    
    
    20051205125426-0e791-9b319a5cc4eb5a201b7b4905261025d9143da4e8.gz

 jabber-connection-manager.xml |    5 -----
 jabber-connection.xml         |    5 -----
 jabber-im-channel.xml         |    5 -----
 3 files changed, 0 insertions(+), 15 deletions(-)

commit 8e99f5d2d628c4368844f42fb9e6aa1161ad6105
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Dec 5 12:53:46 2005 +0000

    sort methods and signals
    
    
    20051205125346-0e791-e497992887322cdbcc535dca42a905a7ece31527.gz

 tools/gengobject.py |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 8687d912acfd4453fb46f7fbb8905e79a07c8553
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Dec 5 12:53:35 2005 +0000

    tweak license strings
    
    
    20051205125335-0e791-9d5485ae88115302cf19536b0ab4144605064756.gz

 tools/gengobject.py |    6 ++++--
 1 files changed, 4 insertions(+), 2 deletions(-)

commit 8ecf3105fb719f1d8d7f867319bfdf353406dcdf
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Dec 5 12:40:01 2005 +0000

    gobject generation tools
    
    
    20051205124001-0e791-5280c86c4f50c078fa4d14bc47beed409f1a2bc1.gz

 tools/generrors.py   |   41 +++++
 tools/gengobject.py  |  404 ++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 445 insertions(+), 0 deletions(-)

commit 88cc9a95d6936cc920adc11a28effbeadb0f3631
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Dec 5 12:39:29 2005 +0000

    script to generate object stubs
    
    
    20051205123929-0e791-ad2af11b189a5f662dfcda03be7627b7a8ead379.gz

 do_gen.sh |   13 +++++++++++++
 1 files changed, 13 insertions(+), 0 deletions(-)

commit 5ba1cb6a48aafdd6e5b588dbfffdaae515560a0d
Author:  <robert.mcqueen@collabora.co.uk>
Date:   Mon Dec 5 12:39:05 2005 +0000

    XML files for connmgr, conn and channel objects
    
    
    20051205123905-0e791-a273cd86b0ec7b9c481ce6bfde57dd4a34e5ce95.gz

 jabber-connection-manager.xml |   36 +++++++++++++++++++++++
 jabber-connection.xml         |   63 +++++++++++++++++++++++++++++++++++++++++
 jabber-im-channel.xml         |   48 +++++++++++++++++++++++++++++++
 3 files changed, 147 insertions(+), 0 deletions(-)

commit 36e7ba52d4397763aca609c368bc6f2472b644a1
Author: git-darcs-import <>
Date:   Thu Jan 1 00:00:00 1970 +0000

    New empty repository
