telepathy-gabble 0.9.14 (2010-06-22)
====================================

The "missing frame" release.

Enhancements:

• When a call is ended, mention who ended it in the debug log (wjt)

Fixes:

• fd.o #28599: ignore errors from disco#info query on our own bare JID,
  fixing connections to older versions of jabberd, jabberd2, Prosody etc.,
  which regressed in 0.9.13 (wjt)

• Use the self-handle as actor for changes to the 'deny' list, and improve
  roster regression tests, in preparation for future ContactList API (smcv)

• Update Wocky snapshot:
  • fd.o #28643: stop applying GNUTLS_VERIFY_DO_NOT_ALLOW_SAME flag, allowing
    connection to (for instance) jabber.ccc.de (Lars Noschinski)
  • Apply more workarounds for TLS server misbehaviour (wjt)
  • fd.o #28647: be more tolerant if servers send an IQ reply without a
    'from' attribute (smcv)
  • fd.o #27488: wocky_connector_connect_finish, _register_finish parameters
    have been re-ordered (smcv)

telepathy-gabble 0.9.13 (2010-06-14)
====================================

The “But today, you ARE the law!” release.

Dependencies:

• libnice >= 0.0.11 is now required.

• telepathy-glib >= 0.11.6 is now required.

Enhancements:

• Gabble is now able to exchange files with the Google Talk desktop
  client!  (KaKaRoTo)

• On Maemo, when connected to Google Talk, suppress presence updates
  while the device is idle. (wjt)

• Plugins may now specify additional capabilities for Gabble to
  advertise, and add responses to new disco#info queries. (andrunko)

• From Wocky:
  › The SCRAM-SHA-1 SASL mechanism is now supported. (sjoerd)


Fixes:

• From Wocky:
  › Messages from JIDs at non-ASCII domains are no longer silently
    dropped. (wjt)

  › Whether or not the connection is secure is now correctly propagated
    from Wocky up to Gabble. (eeejay)

telepathy-gabble 0.9.12 (2010-06-03)
====================================

The “Show me the face of you” release.

Dependencies:

• libuuid is now required.

Enhancements:

• The capabilities cache now persists on-disk. (daf)

• Multi-user calls are now supported, using the Muji protocol! Frabjous
  day, etc. Empathy does not yet support multi-user calls; there's a
  test client written in Python, but you'll need bleeding-edge Farsight
  to run it. (sjoerd, Maiku)

• Support the /info contact attribute for ContactInfo. (andrunko)

• XMPP keepalives are now sent and acked; this fixes the biggest
  remaining regression from 0.8! (ptlo)

• When making outgoing calls, Gabble now prefers to call resources which
  claim to be phones. (fd.o#28265, wjt)

• The current draft of SASL authentication channels is implemented,
  allowing channel handlers to support SASL mechanisms like
  X-GOOGLE-TOKEN. As a result, 'account' and 'password' are now optional
  connection parameters, since SASL mechanisms such as ANONYMOUS (see
  XEP-0175) require neither. (eeejay, danni)

Fixes:

• From Wocky:
  › Don't treat error replies from PEP nodes as PEP updates. (fd.o#28232,
    cassidy)
  › Don't drop backlog messages from former members of MUCs. (fd.o#27913,
    wjt)

• Blocked contacts are no longer accidentally unblocked if you remove
  them from the 'stored' list. (fd.o#20597, wjt)

• Gabble MailNotification.RequestInboxURL no longer returns an empty
  string in some situations (fd.o#27157, stormer)

• Various fixes for issues found by Coverity (wjt)

telepathy-gabble 0.9.11 (2010-04-26)
====================================

The “This place is a narrative mess” release.

Enhancements:

• The ContactInfo interface is now implemented! (andrunko, smcv)

• Updated Wocky:
  · Permit ASCII mnemonics in wocky_stanza_build(), and detect more
    errors (wjt)
  · Renamed WockyXmpp{Stanza,Node} to Wocky{Stanza,Node}; add more
    helper code for building, storing, and serializing trees of nodes
    (sjoerd)
  · Refactored PubSub response distillery, and added support for
    retriving node configuration and modifying affiliates (wjt)

Fixes:

• fd.o#25775: crash in pep_reply_cb() (cassidy)

• fd.o#27694: GetContactAttributes should return {} as location if there
  is no location for the contact (cassidy)

telepathy-gabble 0.9.10 (2010-04-08)
====================================

The “Cartoons and Macramé Wounds” release.

Enhancements:

• Updated Wocky:
  - Improve Windows portability (Ole André Vadla Ravnås)
  - Fix a double-free (KaKaRoTo)
  - Even more exciting PubSub code (wjt)

Fixes:

• Properly expose more authentication failure errors from Wocky in
  Connection.StatusChanged (sjoerd)

• Run tests in a temporary D-Bus session, which fixes fd.o#25816
  (sjoerd)

• Fix tests on machines with no ipv6 (sjoerd)

• Avoid doing undefined void-pointer arithmetic (smcv)

telepathy-gabble 0.9.9 (2010-03-26)
===================================

The “It's release o'clock, quick, say something funny” release.

Enhancements:

• Update Wocky:
  - New and exiting Dataforms code! (wjt)
• Various portability improvements (smcv)

Fixes:

• Fix mail notification on GTalk showing at most 30 unread mails (Nicolas)

telepathy-gabble 0.9.8 (2010-03-16)
===================================

The “Chat Roulette Funny Piano Improv #1” release.

Enhancements:

• Update Wocky:
  - Lots of exciting new Pubsub code! (cassidy, wjt)
  - Plus some crash fixes

• Various correctness improvements to the test suite. (KaKaRoTo)

Fixes:

• No longer crashes on receiving a stanza error without an <error/>
  node, which was a regression in 0.9.5. (wjt)

• We can now spell “received” and “separate”! (smcv, courtesy of
  Lintian)

telepathy-gabble 0.9.7 (2010-03-03)
===================================

The "Faraday cake" release.

Dependencies:

* Gabble now needs telepathy-glib ≥ 0.9.2

Enhancements:

* Add support for draft 1 of Connection.Interface.MailNotification (stormer)

* Improve regression test coverage (KaKaRoTo)

* Update Wocky:
  - data-form utility code (cassidy)
  - node iterator utility functions (sjoerd)
  - better gtk-doc, improve portability (smcv)

Fixes:

* Implement the 'accuracy' key in Location, not the deprecated XEP-0080
  'error' (which is not in telepathy-spec) (cassidy)

telepathy-gabble 0.9.6 (2010-02-23)
===================================

The "save us from this existential quagmire!" release.

Enhancements:

• The plugin loader is now built by default, and the gateway-registration
  plugin is installed by default. Since the API is still experimental and
  likely to change from one release to the next, the development headers
  etc. necessary to write third-party plugins are only installed if you
  configure with --enable-plugin-api (this is not recommended). (smcv)

Fixes:

• fd.o #26658: queue up any data received on the FileTransfer socket until the
  channel moves to state OPEN (KaKaRoTo)

• Clean up signal connections in GabbleJingleFactory to avoid a possible
  use-after-free if a Jingle session, or the Connection, outlives the Jingle
  factory (KaKaRoTo)

• Improve the gateway-registration plugin to exchange presence subscriptions
  and fix a memory leak (smcv)

• Don't install the plugin unless the plugin loader has been enabled, and
  don't compile a useless static-library version of the plugin (smcv)

telepathy-gabble 0.9.5 (2010-02-19)
===================================

The "eclectic mandate whittling" release.

Enhancements:

• Update Wocky for improved error-wrangling code (wjt)

Fixes:

• When delaying a stream request until service discovery has finished in order
  to interpret capabilities, correctly resume the request after service
  discovery (smcv)

• Calculate capabilities hash correctly when compiled with
  --enable-is-a-phone (wjt)

• Don't emit a potentially-non-UTF-8 Google relay magic_cookie in debug output
  (Maiku)

telepathy-gabble 0.9.4 (2010-01-28)
===================================

The “Samuel Clemens had four cats!” release.

Enhancements:

• Added an --enable-is-a-phone configure switch, which makes Gabble identify
  itself as a "phone" (rather than a "pc") in XEP-0115 disco replies. (wjt)

• Added preliminary support for the Channel.Type.Call draft. By default,
  incoming Jingle calls are exposed as Channel.Type.Call if a handler is
  available; pass --disable-channel-type-call to configure to always expose
  incoming calls as StreamedMedia. (sjoerd, Maiku)

• One-to-one text channels can now be upgraded to multi-user conferences using
  the draft Conference interface. This will use a PMUC room on Google's
  conference server if at least one participant is using a Google Talk client,
  or an instant room on your own conference server (XEP-0045 §10.1.2)
  otherwise. (danni)

• Implements XEP-0276, to permit calling contacts whose presence you are not
  subscribed to (controlled by a simple Gabble-specific connection interface).
  (smcv)

• Plugins may now specify their own version number, for improved debug logs.
  (wjt)

• Added a simple sidecar, implemented as a plugin, to support registering to
  gateways which require nothing more than a username and password. (smcv)

Fixes:

• We can now accept calls from, and place calls to, bare JIDs (that is,
  contacts with no resource). This is required for calling XEP-0100-compliant
  SIP gateways. (smcv)

• We now deal correctly with setting a vCard if there's no existing vCard on
  the server. (fd.o#25987, wjt)

• ignore-ssl-errors is now implied by require-encryption being false. This was
  a regression from 0.8. (wjt)

• ContactCapabilities are now exposed on the Contacts interface with the
  correct attribute name. (fd.o#26210, wjt)


telepathy-gabble 0.9.3 (2009-12-21)
===================================

The ``TRANSPORT CHAOS threat level: PANDEMONIUM'' release

Highlights:
 • Various updates to the OpenSSL backend causing it not to stall when
   reading multiple ssl records at the same time

Enhancements:

• Gabble now advertises a 'pmuc-v1' capability bundle, telling the Google Mail
  client that we support being invited to MUCs. (fd.o#22768, jonnylamb)

• Rather than hard-coding a list of SOCKS5 proxy servers to use if the user's
  own XMPP server does not provide one, Gabble now falls back to a list of
  proxy servers returned by discoing the newly-set-up proxies.telepathy.im.
  (fd.o#25304, cassidy)

• Various leaks fixed as pointed out by valgrind (daf, sjoerd)

Fixes:

• Do not re-publish our own vCard if nothing's changed (fd.o#25341, andrunko)

• The default resource is now unique to the machine Gabble is running
  on, rather than being randomly generated for each connection. Fixes
  fd.o#23630: “Per-connection resource randomization increases the
  window in which you lose messages”. (wjt)

• Always assume that MUC servers will let us change the subject, mitigating
  fd.o #13157; previously we assumed they would only let moderators change
  the subject. (smcv)

• fd.o #21152: allow joining chatrooms on servers that don't respond to disco
  queries, like talk.google.com (jonny)

• fd.o #22456: append fallback conference server if the room name has no @,
  rather than just failing (if using the Requests API) (jonny)

• fd.o #22768 (partial): reassure talk.google.com that we can be invited to
  chatrooms. This enables us to be invited to private MUCs by the Google
  client, but doesn't currently support creating them. (jonny)

• fd.o #24558: correctly flag the password parameter as secret (smcv)

• Use TpDebugSender for debug output, instead of reimplementing it (jonny)

• Allow sending chat state to contacts whose capabilities we don't know,
  such as invisible Google Talk users (wjt)

• Only disco SOCKS5 proxies when they're needed for a file transfer or tube.
  (fd.o#21151, cassidy)

• Do not advertise support for file transfers unless a handler is available.
  (fd.o#25243, smcv)

• Do not re-publish our own vCard if nothing's changed (fd.o#25341, andrunko)

telepathy-gabble 0.9.2 (2009-10-27)
===================================

The ``The photo device is down'' release.

Highlights:

* Add support for using OpenSSL instead of GNUTLS for SSL support

Fixes:

* Honour errors that tell us to wait and try again when fetching vCards. This
  was erroneously claimed to be in 0.9.1. (Alban)

* Don't re-fetch our own avatar in a loop when connecting to Google
  Talk. This should fix #23684 once and for all. (Alban)

* Don't trust other people's <message/> IDs to be globally unique: in
  particular, Google Talk uses simple incrementing integers (wjt)

* Use the correct marshaller for the pre-presence signal, fixing a cr
  64-bit platforms (wjt)

* Make sure the Connection object disappears from the bus when disconnected
  (Vivek)


telepathy-gabble 0.9.1 (2009-09-25)
===================================

The “even children are made of atoms” release.

Highlights:

* Jingle call interoperability with Pidgin and Gajim.

Fixes:

* When receiving a file, Gabble now closes the local socket once all the data
  has been written. (Guillaume)

* fd.o #24043: Doesn't parse candidates in a Jingle session-accept stanza
  This fix lets us interoperate with Pidgin's Jingle implementation. (Sjoerd,
  David)

* fd.o #24023: Accepting initial streams for a call is racy. (Sjoerd, Daf)

* fd.o #20629: DBus events in tests should contain full path. (Daf)

* fd.o #22795: jingle/google-relay.py is secretly made of cheese. (Daf)

* fd.o #23903: Gabble crashes in File Transfer. (Guillaume)

* fd.o #23685: build Gibber with fno-strict-aliasing so asyncns.c builds with
  new GCC. (Guillaume)

* fd.o #20565: Contacts should be initially offline and not unknown. (Daf)

* When members are removed from a call due to a stream error, always indicate
  so. (Daf)

* Fix corner cases in SetLocation()'s language handling. (Daf)

* fd.o #24195: Doesn't think clients without google p2p tranport are media
  capable. This fix lets us interoperate with Gajim's Jingle implementation.
  (Sjoerd, Daf)

* Make stun-server.py not fail if the default STUN server hostname can't be
  resolved. (David)

* fd.o #23684: Gabble advertizes an avatar's sha1 in its presence stanza
  without following XEP-0153. (Alban)

* Honour errors that tell us to wait and try again when fetching vCards.
  (Alban)

telepathy-gabble 0.9.0 (2009-09-16)
===================================

The "Use STAPLE REMOVER on TREMENDOUS DANGEROUS-LOOKING YAK" release.

This is the first release in the 0.9 development branch.
Most users should continue to use the 0.8.x stable branch for now.
This release introduces some regressions: proxies and keep-alive aren't
supported any more. These features will be back in future releases.

Dependencies:

* Gabble doesn't depend on loudmouth anymore. Instead, it ships a
  copy of Wocky, a new XMPP library based on gio. As a side effect of this,
  gio >= 2.21 and gnutls >= 2.8.2 are now needed to build Gabble.

* telepathy-glib >= 0.7.37 is now required

Enhancements:

* Add the ability to send a message when terminating a VoIP call (wjt)

* Add ContactSearch channels using spec draft 2 (wjt, cassidy)

* Implement the final ContactCapabilities spec, and refactor Capabilities code
  to represent capabilities as sets of XML namespaces, rather than
  bitfields (wjt, smcv)

* fd.o#19952: Support requesting channels with InitialAudio/InitialVideo
  through the final API from telepathy-spec 0.17.28 (smcv)

* Gabble now loads certificates from ~/.config/telepathy/certs/ as well as
  from the system-wide location (/etc/ssl/certs/ca-certificates.crt).

Fixes:

* Improve pubsub.c test coverage (cassidy)

* fd.o #22968: don't try to pass credentials through Unix sockets on non-Linux,
  since the way we currently do it is known to be non-portable. Patches to
  implement Credentials on more OSs would be welcomed. (smcv)

telepathy-gabble 0.8.5 (2009-10-02)
===================================

The “a page out of Remembrance of Things Past and a blowtorch with which
to set it on fire” release.

Fixes:

* Don't re-fetch our own avatar in a loop when connecting to Google
  Talk. This should fix #23684 once and for all. (Alban)

* Fix a crash introduced by the vCard-related fixes in 0.8.4. (Alban)

telepathy-gabble 0.8.4 (2009-09-25)
===================================

The “bourgeois traditional omelette form” release.

Highlights:

* Jingle call interoperability with Pidgin and Gajim.

Fixes:

* When receiving a file, Gabble now closes the local socket once all the data
  has been written. (Guillaume)

* fd.o #24043: Doesn't parse candidates in a Jingle session-accept stanza
  This fix lets us interoperate with Pidgin's Jingle implementation. (Sjoerd,
  David)

* fd.o #24023: Accepting initial streams for a call is racy. (Sjoerd, Daf)

* fd.o #20629: DBus events in tests should contain full path. (Daf)

* fd.o #22795: jingle/google-relay.py is secretly made of cheese. (Daf)

* fd.o #23903: Gabble crashes in File Transfer. (Guillaume)

* fd.o #23685: build Gibber with fno-strict-aliasing so asyncns.c builds with
  new GCC. (Guillaume)

* fd.o #20565: Contacts should be initially offline and not unknown. (Daf)

* When members are removed from a call due to a stream error, always indicate
  so. (Daf)

* Fix corner cases in SetLocation()'s language handling. (Daf)

* fd.o #24195: Doesn't think clients without google p2p tranport are media
  capable. This fix lets us interoperate with Gajim's Jingle implementation.
  (Sjoerd, Daf)

* Make stun-server.py not fail if the default STUN server hostname can't be
  resolved. (David)

* fd.o #23684: Gabble advertizes an avatar's sha1 in its presence stanza
  without following XEP-0153. (Alban)

* Honour errors that tell us to wait and try again when fetching vCards.
  (Alban)

telepathy-gabble 0.8.3 (2009-09-10)
===================================

The “one cigarette, some coffee, and four tiny stones” release.

Enhancements:

* fd.o #23681: Allow setting presence on a connection before it goes online.
  This avoids e.g. going from Available -> Busy immediately when signing on.
  (daf)

Fixes:

* fd.o #23684: fix handling of avatar conflict with several resources, and
  a possible infinite ping-pong of presence stanzas from the server (albanc)

* Time out disco requests after 20, not 20,000, seconds! (grundleborg)

* Correctly respond to disco requests for video-v1 bundle, avoiding a loop
  when iChat blindly retries failed disco requests (smcv)

* Fix Requested and State properties of muc D-Bus tubes that we previously
  created and are still present when we re-join the muc. These tubes are now
  listed in Tubes.ListTubes(). fd.o #23678. (cassidy)

* Don't send the same disco request to the same (full) JID more than once. fd.o
  #23841. (wjt)

* Update the Jingle raw-udp and ice-udp namespaces we claim to support to the
  current version. (wjt)

* fd.o #23348, #23349: fix compilation on NetBSD by including more headers
  (Thomas Klausner)

* fd.o #21327: force ISO date format in ChangeLog (wjt)

* Reduce the size of the ChangeLog by truncating at version 0.6.0 and not
  including diffstats (previously, the changelog.gz in our Debian packages
  was larger than Gabble itself!) (smcv)

telepathy-gabble 0.8.2 (2009-09-03)
===================================

The “tape two fried eggs over your eyes and walk the streets of Paris for an
hour” release.

Enhancements:

* Improve jid validation, so that obviously-invalid jids are rejected.
  (daf)

Fixes:

* Don't crash when a vCard set fails, and there are edits pending. This
  can happen if you're trying to set your avatar and then disconnect.
  (daf)

* fd.o#23013: ContactCapabilities.SetSelfCapabilities can crash gabble
  with wrong parms (sjoerd)

* Fix parsing of incoming session accept from Google Video Chat. This
  should make outgoing calls to Google Video Chat users work, as well as
  incoming calls. Hooray! (wjt, with help from sjoerd and Olivier Crête)

telepathy-gabble 0.8.1 (2009-08-20)
===================================

The “five pounds of cherries and a live beaver” release.

Fixes:

* fd.o#22535: Gabble no longer crashes if you disconnect while it's
  trying to start a Google relay session for a call. This should have
  been fixed in 0.7.31, but it's really fixed now. :-) (wjt)

* Fix an occasional crash when PEP requests time out, or are cancelled
  when you disconnect. (daf)

* Correct an assertion about vCard edits not to fire incorrectly. (daf)

* Clarify some correct-but-confusing behaviour in libjingle 0.3 mode,
  which fixes a Coverity false-positive. (smcv)

telepathy-gabble 0.8.0 (2009-08-18)
===================================

The “place a chair facing the oven and sit in it forever” release. This is the
first release in the 0.8 stable series.

Dependencies:

* telepathy-glib >= 0.7.34 is now required as Gabble implements the
  Location API.

Enhancements:

* Location and Debug are now implemented as stable interfaces.

* Timeouts are synchronised to the second where possible, leading to fewer
  wakeups.

Fixes:

* Fix race condition introduced by fix for fd.o #22023.

* Make vCard request less likely to time out.

* Fix a bug where a vCard request failure could cause SetAvatar or SetAliases
  not to return.
