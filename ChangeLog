commit 18fa2ad44458e8b78dbc014b0832daa91f8508b1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2011-02-16 14:49:38 +0000

    Version 0.11.7

commit bf70531990be8583694348cfd0dd6cbf819220d8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2011-02-16 14:48:16 +0000

    NEWS for 0.11.7

commit bb4b30066346937f01b6f22c5a571000ee6905c2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2011-02-16 14:42:40 +0000

    Add commentary for jingleinfo spoofing regression test

commit 2d25940bbf275a2edfe62d814d52da80111306ff
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-02-07 16:06:24 +0100

    Try spoofing a google:jingleinfo query
    
    This is a regression test for the bug fixed in the previous commit.

commit 158c988af694ab537850724cdb744583861cd1d4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2011-02-08 18:43:21 +0000

    Ignore google:jingleinfo pushes from contacts.
    
    Previously, Gabble would erroneously process google:jingleinfo updates
    sent by anybody, rather than only paying attention to those sent by the
    user's server. This may theoretically allow an attacker to trick Gabble
    into relaying streamed media through a server of the attacker's
    choosing, enabling them to intercept, obstruct or modify the user's
    audio and video calls.
    
    This patch addresses this flaw, following the same pattern as the
    corresponding check in the roster code.
    
    Note that even without this flaw, no security guarantees on media in
    calls can be provided in the presence of malicious network admins or
    insecure networks: an attacker who can eavesdrop the network traffic
    still has the ability to intercept the content of the call, as the media
    is transmitted unencrypted.
    
    Fixes: <https://bugs.freedesktop.org/show_bug.cgi?id=34048>
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit e3038ac3e735238dc1e9e2b32bfdaa6a27f5e11d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2011-02-14 14:10:38 +0000

    NEWS for jabber:iq:version

commit 575009832ebbdad4ab2dbe156d2dea738cb13160
Merge: fddf47f 6fc3944
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2011-02-14 14:06:24 +0000

    Merge branch 'version'
    
    Fixes: <https://bugs.freedesktop.org//show_bug.cgi?id=11291>
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit 6fc39446921e778c7cf2d1df68d42e3fe8d0234c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2011-02-14 14:00:18 +0000

    Add a test for jabber:iq:version

commit a97255f9c10dc882457288dab918db262e0a9ff0
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2011-02-14 11:34:20 +0100

    connection: add support for jabber:iq:version (XEP-0092)
    
    Updates a patch from #11291, thanks to Michael Scherer <misc@mandriva.org> for
    the original patch.

commit 876c39b07f657c53fd9fb257b72782884441f2ae
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2011-02-08 00:31:39 +0000

    connection: port IQ callbacks to Wocky

commit fddf47fc129b1f3134d185c76a582f5360226656
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-02-07 09:22:30 +0000

    gabble: remove old caps caches now that they're in Wocky
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 4b9c51b7e0e112b090e8700c4847301b874e00bc
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-02-08 14:30:43 +0000

    lib/ext/: install and uninstall both wocky *and* tp-yell where appropriate
    
    This was broken in 4d0d2af917188b.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 7dfb28dcecc91b80c75134adac61d8504a2dfaa2
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-02-07 11:47:10 +0000

    plugins: stop talking about top_gabbledir, whatever that is
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 80f5dae72e432d01642296174a3867b768e2907f
Merge: 52157c4 3386e96
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-02-06 13:01:40 +0000

    Merge branch 'caps'

commit 3386e969e4035b5a22535b44b90b7d004f9ef0ab
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-02-04 16:07:42 +0000

    tube-caps.py: everyone has text caps
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 8502e26aea7317dc01e33d378f73444373962551
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-02-04 16:07:20 +0000

    offline.py: don't let gabbletest connect for us
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 52157c4a2edc830ba2fc523c17cd0767980e93d1
Merge: cc19d6c 828040c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2011-02-03 09:49:07 +0100

    Merge branch 'file-uri-33471'

commit cc19d6c25fbeaa29a71d61ce86cf25998dec2993
Merge: d805ae7 b238996
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-02-03 08:46:00 +0000

    Merge branch 'text-contact-caps'

commit d805ae70b63211f3cf4199eba6ef21abd945178a
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-17 14:25:54 +0000

    contact-info: stop emitting ContactInfoChanged twice
    
    Fixes: fd.o#28287
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 7964c1dc8e29503f50583c60b7157137aaa6d8ae
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-17 14:37:13 +0000

    gabble: make critical warnings fatal
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 75b1a2b4c1828eddd9a5a0c600c6f0bd8ba188c2
Merge: 5f6823c b820d48
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-02-02 15:22:53 +0000

    Merge branch 'SetCredentials'
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit b820d48994380c9b3793cbbaa8d940a3e41e9fe7
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-02-02 15:21:35 +0000

    update yell to include media stream fixes

commit f75c97681ba0485a90981948ba68dce600809bca
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-02-02 12:02:14 +0000

    call-stream: Implement LocalCredentials property
    
    * Update Yell to provide the property.
    * Stop overriding properties mixin and extra_interfaces etc.
    * Add test. Note that I use GetAll so that all new properties will at
      least be retrieved by the tests (so if someone accidentally misses a
      break statement and causes a segfault (for example) it will be caught).

commit 828040ce1b7471772a4a8e98fff625787f1050b6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2011-01-31 12:39:51 +0100

    file_transfer_channel_allowed_properties: use tp-glib properties

commit 73f331d53da7ff19e791237d23854dfe382a8432
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2011-01-31 12:35:13 +0100

    stop generating FileTransfer.URI API

commit 1a529406dcf1e6ea7506a274ec5eff909125ad9e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2011-01-31 12:33:25 +0100

    Implement the stable API for FileTransfer.URI

commit dd6e63f659d4d61c1be37793dc6639ad48f1bed1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2011-01-31 12:41:08 +0100

    Depends on tp-glib 0.13.12
    
    We need it for FileTransfer.URI API.

commit fc933d970c005ab959ae857ce56e10e4d58095f8
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-02-01 15:44:04 +0000

    Test SetCredentials and RemoteCandidatesAdded
    
    This adds a new set of Call candidates, some which have credentials and
    some which don't. We also have a method for sending them over xmpp.
    
    We also use DictionarySupersetOf(dict) to make it easier to liberal
    about what to expect.

commit 5f6823c3961ff53a5d2b1bbd28805a9b430d1c4d
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-02-01 13:44:28 +0000

    muc-channel: trivia
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 5c743ddbca8568d780fd1d6a61c9145e1d2b9bba
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-02-01 13:35:47 +0000

    presence-before-closing.py: test not sending presence when leaving a passworded room
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 0f45be2a2a53cb6f59c68842989cc7d8232d61bb
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-02-01 13:24:36 +0000

    JingleCandidate store int rather than double.
    
    Change internal representation to use ints rather than floats.

commit b3ac49f497d0b3a0f230896e60b61ad29660c7c5
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-02-01 13:22:51 +0000

    muc-channel: don't expect muc presence to be echoed if in auth state
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit c9816c9f3a80958b1dd42cb076945db213532718
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-02-01 13:06:29 +0000

    Allow user to call SetCredentials with default ICE credentials.
    
    This currently sets the credentials in each candidate individually.
    I will try to make it smarter when I have better test coverage.

commit deb8396aca53305d68180ac91e4d10b8cfff3c9d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-29 20:56:50 +0000

    Prevent libproxy from hitting the network during tests

commit 0841b15aaaef2295b6860206d2656cfd32a8a2fa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2011-01-28 16:55:11 +0000

    Use conference.telepathy.im as the default MUC server
    
    Fixes: <https://bugs.freedesktop.org//show_bug.cgi?id=32815>
    Reviewed-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 6b35b87a230908f094d70da7786608fe5fc3ec6f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2011-01-28 16:28:34 +0000

    NEWS for fd.o#32390

commit 64757902031def2aa3bea4cd3751bad7085a0e28
Merge: f50e1f3 81c92b3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2011-01-28 16:18:50 +0000

    Merge branch '32390-contact-search-server-property'
    
    Reviewed-by: Jonny Lamb <jonny.lamb@collabora.co.uk>
    Reviewed-by: Emilio Pozuelo Monfort <pochu27@gmail.com>

commit f50e1f30eeb87bc546ba49f88d536ebf165b3918
Merge: 28bdef3 eff0750
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2011-01-28 15:07:46 +0100

    Merge branch 'ft-uri-33471'

commit 28bdef335e36e295852af318436cf49972f56892
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-27 16:39:39 +0000

    NEWS: add new entry for 0.11.7
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 2ce783b98cbbc5c1c308812d8bf81bb0ab543fc6
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-27 16:28:06 +0000

    start working on 0.11.7
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 8ba53dd8a71aaf7f5cd1d77f64ec7e6ca1af18c1
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-27 14:22:14 +0000

    release 0.11.6
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 049b1a2349b55509c3139936c1db3a2ff1bb9968
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-27 14:21:30 +0000

    NEWS: updated
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit ee01447462f0c37b4976b1009f4b9eab04bd2442
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-25 19:47:35 +0000

    Cope with not having a password for gtalk candidates in a backwards compatible way

commit 03ae483a12b1ab3d7fe726b2b4fe93da051ed19e
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-26 14:25:21 +0000

    write-mgr-file: include Protocol.AuthenticationTypes
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit eff07503669626901c67732eae00998af7abaef4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2011-01-26 14:20:09 +0100

    add file-transfer/test-uri.py

commit e8643a2747efeea4936b0469bf22ad45bb6ca71d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2011-01-26 15:03:08 +0100

    exec_file_transfer_test: allow to run the test just once
    
    Some tests don't need to be run a billion times.

commit f9edd4e2acdd5a8f3a8017ce70f28ec41bebb29d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2011-01-26 13:56:17 +0100

    try changing URI after it has been set

commit 6492fc5ae519ba1eaad3f28e425db38836d58bb2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2011-01-26 13:49:51 +0100

    raise InvalidArgument if we can't set URI

commit 1f8cf4feb6e62282475defa192eb74754d846ddd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2011-01-26 13:35:57 +0100

    request_ft_channel: use assertEquals

commit a026de98b1184cabc50d2881132d210f155294d1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2011-01-26 13:28:05 +0100

    fix identation

commit 2e81e67ff0275827a27b0f4273174b88194b015a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2011-01-26 13:21:02 +0100

    FileURI has been renamed to URI

commit f57a533dd60c0e6adb05400ec020e701ee43d5a2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2011-01-26 10:54:33 +0100

    test setting FileURI

commit b3fa2449675c7a2981cc883e8c267d87a69504f1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2011-01-26 10:54:21 +0100

    allow user to set FileURI for not yet accepted incoming FT

commit b52ce25c184eed9b6e4af90a9494acf815b7d4ec
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2011-01-25 17:40:53 +0100

    file-transfer: implement FileURI property for outgoing channels

commit 98a405c5541e9234aedf24e69696577722990728
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2011-01-25 17:35:29 +0100

    add FileURI + its signal as future API

commit a2930de7b4b9efaa28a47bb841c1c8cd8932d191
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-25 14:57:17 +0000

    Update yell snapshot

commit 81c92b33e252b05a04ddf29afba4b6e3d84f637c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2011-01-24 10:55:30 +0000

    Search: don't send searches to known-invalid JIDs.

commit 8de73b98b852729ece57b5f1f4e419128ebf6924
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2011-01-24 10:54:53 +0000

    tests: Add assertDBusError, and use it in a search test

commit 938cbccd4bdd6e8b2ed46d3c56f97515943ce94c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2011-01-24 10:42:08 +0000

    Search: handle Server='' as if it were omitted entirely
    
    Previously, if you included the Server property in a channel request,
    but set it to the empty string, Gabble would try to send the search to
    the empty JID.
    
    Instead, it ought to either reject the request outright, or pretend that
    the property was omitted. I chose the latter: it's kinder to application
    authors.
    
    Fixes: <https://bugs.freedesktop.org/show_bug.cgi?id=32390>

commit d8c637f34cd2fada64244ce8f498e40fc7c6737b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2011-01-24 10:29:10 +0000

    Test Server property on search channels requested without one.
    
    If you request a ContactSearch channel without including a Server
    property in the request, and Gabble has discovered a server it could
    use, the resulting channel's Server property should be set to the server
    in use.
    
    This already works, but previously wasn't tested.

commit 76ba06a5def87adbd61040e890c7988851b57e41
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-19 18:13:01 +0000

    Update yell snapshot to current master

commit c61d029fd3d74aeb4d796b236dbe9292f94ef53f
Merge: 8821fe5 f2a7b59
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-19 17:51:34 +0000

    Merge branch 'call-base-media-content'

commit f2a7b5969f0e316ba9043a52490bff52210b2f4c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-18 14:51:10 +0000

    Dammit, it's 2011 already

commit 760a6ee5764cd14f681a23a4372d2911ec549359
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-18 14:46:12 +0000

    Remove left-over debug code

commit 8821fe5b36a6f24e00c793f1f53809906e9bf80e
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-18 11:10:57 +0000

    configure: stop linking to sqlite
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 6c0b8f34034e3bb8048a74e86a8c779a834f0b5c
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-18 10:17:26 +0000

    caps-cache: remove in favour of the Wocky one
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 13c4a503d32cc4016586ff43b839763d51507b4a
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-18 10:16:56 +0000

    presence: use the wocky caps cache instead of the gabble one
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 83a453e409ee3b675ba5d4f247acf6cb19482bfd
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-18 11:42:04 +0000

    wocky: update snapshot
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 72966916179f25f3cd3131e765ea0c75d558ff87
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-17 15:01:53 +0000

    Only set local codecs if we actually have any codecs

commit 9b297ef44c40ea332c651dab68e70a5f16769121
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-17 15:01:37 +0000

    Improve debugging information

commit 74f5a9ad1f16ff7cf979585da59483aa5892eabc
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-17 13:50:12 +0000

    Test Packetization property

commit ac42ed916dbee40b7c820ee3e65660a7790ec8aa
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-17 13:50:00 +0000

    Update yell snapshot

commit 33abcd135e91ac6e5dbd94661c568b2336149555
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-17 09:16:50 +0000

    muc tests: ensure unavailable presence is echoed when closing a MUC
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit d84a7ef0814c9053933623721a4a0e8335e8bd88
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-17 08:32:56 +0000

    presence-before-closing.py: don't try and Connect
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit ad75ae854522f50a8490a8134977b2433301acd5
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-17 00:54:33 +0000

    Switch to the Yell copy of BaseMediaCallContent

commit da5372b327ca015d9d670911b44f6d108324b9f1
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-17 00:51:13 +0000

    Split out a initial BaseMediaCallContent class

commit b584e26d0515626b8db8afbc413618719cbcbc0f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-16 21:22:34 +0000

    Put code location in the debug output

commit fc6a83cc0124b646363ffad8d5a11cc57c4db15f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-16 21:18:16 +0000

    Test content addition _and_ removal

commit 9ad1576f20cb063a6bbaecb5a8a1d4355358e81a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-16 21:21:48 +0000

    Remove all contents when deinitializing a content

commit 035bad827c7f149895107c44307281b9c54b6a5a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-16 21:20:51 +0000

    Set removed flag, before signalling remove

commit 43babbc533e8c7159c38c18b7abcdd64bc7168c5
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-16 19:48:34 +0000

    Leave the implementation of Remove up to the base class

commit c769d37057248705eb95138d2c6d6ea33ce37f29
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-16 21:22:03 +0000

    Update yell snapshot

commit 614a4139032e1ed4efc8b47334b1c9d281354854
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-16 18:58:53 +0000

    Use Update Yell apis and TpyBaseCallChannel

commit 9c6911dc052897a53a7ca3a78fbe2f1984c91c2a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-16 18:56:50 +0000

    Remove prototype of non-existing function

commit 4a92cdde45d009530277e2f326b399fe05f5d47c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-16 18:31:09 +0000

    Update yell snapshot

commit bfb2139b6ead099181c90310976bcc2b09b0d892
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-14 18:56:30 +0000

    Update the yell snapshot

commit aaab718b0c9a50a28f31acd1842a2e55e3b79a6e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-14 17:56:14 +0000

    Set the stun-servers both initially and on changes

commit 897f4ab520924b9fcd2f8abdf64f2c2ce806e4e2
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-01-14 12:39:48 +0000

    Hard-code libtelepathy-yell.la rather than using ALL_LIBS
    
    <smcv> automake can't track dependencies through a @VARIABLE@
           because they're not substituted until configure-time

commit 0ab19a8720b09a52f1e723d6cd32291866b5a943
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-01-13 20:05:12 +0000

    add GABBLE_TEST_BACKTRACE optional environment variable to tests

commit b44758c4af95f2c63f3a49b2b5a022dfa4b3bbbd
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-01-13 20:01:57 +0000

    Add a BaseMediaCallStream level to the hierarchy.

commit d2d2e4a9c043848fb2aeef3fb2fc3253a9d478e5
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-01-13 19:57:56 +0000

    Enable debugging in Yell

commit 97de79289a1980d877bcbb84ac68b9cdce0c8b07
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-01-12 16:47:08 +0000

    Push call_stream_iface_init into base-call-stream
    
    and implement virtual methods instead

commit 2d498ca067b4b2a5f9ba1409e3c818efe2b6cfef
Author: David Laban <david.laban@collabora.co.uk>
Date:   2011-01-11 20:03:34 +0000

    extract call-stream-endpoint into yell

commit a779acfd491b0c66ede2704573d8563507b04370
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-13 17:09:25 +0000

    with-session-bus.sh: also accept VERBOSE_TESTS
    
    Like that one time in telepathy-glib.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit e9e8d5dc3f8c9afa3fc6326ba3b05f29233de568
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-13 16:31:37 +0000

    extensions/: Channel_{Bundle,Future}.xml have been removed
    
    I'm not sure at all when these were reintroduced.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 7487e80ae509f4a425338bb9c127d710ce4d50c1
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-13 16:26:22 +0000

    tests/twisted/: move tools Makefile into twisted for some peace and quiet
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 363a96a21e57fa71c22484021572adc61a2e40c1
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-13 16:23:38 +0000

    with-session-bus.sh: only print out stuff if we want verbose output
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 762edb96bea802a44e8a4cbbe287fe0283ebc222
Merge: b50722f c9ae9c5
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-13 16:21:03 +0000

    Merge branch 'close-mucs-async'

commit c9ae9c5753f8edbb0df36dcfb5794f3ecfe34947
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-13 16:20:45 +0000

    muc-channel: improve debug message in parted callback
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit b50722f81c1efb3f3fe35c7f2134c8d6fd229faf
Merge: 2eff2f9 7964faa
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-13 15:33:12 +0000

    Merge branch 'yell-base-classes'

commit 7964faa28435c1e6d3cb920c6c67d8105a94bc37
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-13 15:18:10 +0000

    Bump yell version

commit 2986f9cb03d68e3726ea129cd84d9e773f4f1b3d
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-13 15:06:38 +0000

    presence-before-closing.py: test Disconnect() right after Close()
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit fb8b03d79ec34f639bbefb40c66d46ac5795c304
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-13 10:53:18 +0000

    muc-channel: have a timeout on leaving rooms
    
    If when you send your unavailable presence the conf server doesn't
    echo it back to you, the channel will just be hanging there doing
    nothing, and you can't re-join it, so add a timeout to get around this
    potential problem.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit f27f7a6551434d59d8b78149276ee6d9b8cf6935
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-13 10:44:59 +0000

    presence-before-closing.py: ensure we can join the MUC again properly after
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit b3161dce27574146ccb2df509a4846b51e67dfb4
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-13 10:44:20 +0000

    presence-before-closing.py: check a request for a still-not-closed MUC channel fails
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit b238996813ed19b5fba86a1a9fa236facc501471
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-13 10:16:44 +0000

    offline.py: trivia fixes to the test
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit bddcdee50b38133adfcc05152bc3305d974be1fd
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-13 10:14:57 +0000

    offline.py: added a note to say what but fd.o#32874 is
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit fdce43d84048359b95dff82dc4913397e1d70b41
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-13 10:13:33 +0000

    connection: document more why we need the IM factory in the private struct
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 2eff2f96e707a6adaa47cdadc2c93e880929b1ff
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-11 16:35:35 +0000

    media-stream: use TpDBusPropertiesMixin
    
    Fixes: fd.o#26385
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 3c1ec15d9f964e2ff8bdef28d9812988db913fb6
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-12 19:11:51 +0000

    Use base-classes from telepathy-yell

commit 39624210f43b9b89255b812865ca591ae840b997
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-12 18:35:12 +0000

    Update yell snapshot and update gabble to yell spec

commit a66308b2609a49b6f49eb6968bf831915c4f907d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-12 18:06:29 +0000

    Add Initial{Audio,Video}Name as requestable and immutable properties

commit 15e2bdd565b6089f72e985b608b3bb6f8b95cee0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-12 18:00:02 +0000

    Add API to compare codecs

commit ea1960fc928373c4bc6a2601f82abec9d094b908
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-11 19:03:17 +0000

    Remove some temporarily #if 0'd code

commit edd2e1b357cad83872e1d73ac1150e4d16c830c7
Merge: ee177cf f6bef03
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-11 18:45:18 +0000

    Merge branch 'call-base-classes'

commit f6bef038de6fde63e6bc278ac0a533227f2e062b
Merge: d7f487b 37129e2
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-11 17:15:04 +0000

    Merge branch 'master' into call-base-classes
    
    Conflicts:
    	extensions/Makefile.am
    	extensions/all.xml
    	src/base-call-channel.c

commit d7f487bcd785d80f6d17acd5764738fd545a144d
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-28 14:43:39 +0100

    extensions: removed Call draft
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 8f019da97e1a8429b6adf16129bd1b537aebccff
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-11 15:58:31 +0000

    Post-rebase porting to yell

commit 6a8187323171c1467a77ec9c82b38eec0fc8fd2e
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-28 16:17:15 +0100

    use telepathy-yell generated code
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit ee177cfb2a13a8374e2f1037e806b7bc58aa708b
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-11 15:51:36 +0000

    gabbletest: silence the queue if we hit an error
    
    Previously, if you had the queue on verbose (CHECK_TWISTED_VERBOSE=1)
    and you hit an assertion or timeout, the traceback would be printed,
    followed by hundreds more events that occurred as a result of the
    disconnection. This makes finding the actual problem quite hard.
    
    This patch silences the queue once an exception is thrown so the last
    thing in the verbose log is the traceback.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit fe4216694d4ff7630ca0af7c340eead6badeaac4
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-11 15:42:04 +0000

    gabbletest.py: automatically connect connections
    
    Also add do_connect argument to exec_test so tests can opt-out.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit e54061f4370091694db1571e23ac4325abbc29a9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-26 21:02:17 +0100

    Make call contents' lifecycles more explicit.
    
    When I reused some of GabbleBaseCallChannel, I found that it leaked
    contents. This turned out to be because, in Gabble, the Channel's
    reference to the content is released by the content itself!
    
    So I made the ref/unref pairs more explicit. Now the content takes a
    ref to itself while waiting for all its codec offers to die, and the
    call channel explicitly releases its own refs.

commit 3c8f8d99e24d2dbeda511936c5ce4eed81383507
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-25 17:18:37 +0100

    Fix the type of BaseCallChannel's 'flags' variable

commit bf2c96a8d61f011435a704286dc011f5f36818ba
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-25 17:18:23 +0100

    Correctly namespace [gabble_]base_call_channel_remove_content()

commit e9b1b611c64d45793c54761affb5f2664f6ec68a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-25 17:18:01 +0100

    Remove redundant include.
    
    base-call-channel.h already includes extensions.h, so .c doesn't need
    to.

commit c0ec2e5e16abb7d05a554f87ba90b89c677dc3d1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-25 16:43:37 +0100

    Remove vestigial gabble_base_call_channel function prototypes
    
    These functions don't actually exist!

commit 24d5be6b31123b806f34572222c5da0adb7cb6a4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-25 16:42:11 +0100

    Fix up BaseCallChannel's headers

commit 8600eac271f8a11ed9e536c249ef9599f5e1c51a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-25 16:32:05 +0100

    Use JingleMediaType<->TpMediaStreamType conversion functions!

commit afa1843f4897b6bb500442a310d247830eddf95c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-25 16:25:25 +0100

    Add TpMediaStreamType<->JingleMediaType conversion functions

commit 07822b27206adbc9f25341f61dceb1f3423df76d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-24 23:28:11 +0100

    Port GabbleBaseCallChannel to TpBaseChannel
    
    Unfortunately this makes jingle/test-wait-for-caps-incomplete.py reveal
    a bug: if we're waiting for a contacts caps, but never receive them or
    give up before we disconnect, async_init() on the channel never
    finishes, so the channel is leaked. Since TpBaseChannel holds a ref to
    its connection, this bug means the connection, too, is leaked; thus,
    everyone dies.

commit 1ebb94a5b3ed927c71b78c54c74d1902a1c51650
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-05 21:10:10 +0100

    Implement Content.Interfaces and Stream.Interfaces

commit b24c87bf9cb0fc001bd51750bd4a95e949ffb7c3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-05 19:16:13 +0100

    Extract a base class from GabbleCallContent

commit eb8e8db82b6d8c08ba977db1dddee22dd6140242
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-11 11:04:15 +0000

    muc/presence-before-closing.py: add a test for fd.o#19930
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit ffc594cf971f1a312f0358f05e9635ac080a087e
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-11 11:00:49 +0000

    muc-channel: Close MUCs asynchronously
    
    Gabble now waits for our type='unavailable' presence stanza to be
    returned by the conference server before actually closing the MUC
    channel.
    
    Fixes: fd.o#19930
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 9f44c1e82fd50b0f5b641d76439bce2a3802a7e2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-05 15:14:12 +0100

    Extract a base class from GabbleCallStream

commit f099e86d237dd0a50572c7a271b1c0f1c2616014
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-29 14:31:33 +0100

    gitmodules: update to new yell repository location
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 37129e289cb8c5fe84f1e6f1f72cdf47ab59bed2
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-10 16:30:32 +0000

    Start new development

commit 953131bc1733adca7d274119d3166d85597c7847
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-10 15:50:24 +0000

    caps/offline.py: add test for fd.o#32874
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit bee21686b94947c1194c28a3d3875ffd6374aadc
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-10 15:45:18 +0000

    connection: assume text caps for offline contacts
    
    Use the IM factory for this so we don't have to bother duplicating
    code.
    
    Fixes: fd.o#32874
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit b1c8025d1d5a2d8bb80f11f5b598dc51e69414b9
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-10 15:45:00 +0000

    connection: store the ImFactory object in the private struct
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 386045947637875f4b4c4f4b954f32a8f214ad28
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-10 15:07:42 +0000

    Prepare release

commit 94423d0e189bef4b86c78182e1840614ae2a698e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-10 15:00:36 +0000

    Update news

commit e60d9cda68b22888f5724b72df920f767dd232f1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2011-01-10 11:17:08 +0000

    MUC: correctly parse 'composing'
    
    Wocky misparsed the 'composing' chat state in MUCs. This commit updates
    Gabble to a fixed version of Wocky, fixes it for the API change, and
    adds a regression test.
    
    Reviewed-by: Danielle Madeley <danielle.madeley@collabora.co.uk>
    Fixes: <https://bugs.freedesktop.org/show_bug.cgi?id=32952>

commit 8e14b00ffde498d6479598b7f98f62bc2e67e47e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-07 17:46:13 +0000

    Add a test for parsing multiple contents in one transport-info

commit cb390602e09038a528eb5ae4da32ecc2897581f7
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-07 17:47:25 +0000

    Parse all contents in one transport-info

commit 4de0a8a8a1b8d3d8750e891241147e08154ba0f6
Merge: f1bf1b2 e83cd6c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-07 15:36:17 +0000

    Merge branch 'request-pipeline'

commit e83cd6c8d068a933c7608760780301c57ecc5a3b
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2011-01-07 15:35:47 +0000

    Clarify what the crypt does

commit 133051ddafdffe4c27c85edcfa39fe789bd8e10e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-12-24 22:25:36 +0100

    Update wocky snapshot

commit 03dca11f1359c28e6b13c81f61901232ef2a0a6f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-12-24 22:24:23 +0100

    Add a test mode to gtalk-file-collection that turns of upnp support in Nice

commit 506f25e62ed45a4e5df866f2c42f3c62e0f56083
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-12-24 21:09:01 +0100

    Move zombie requests into the crypt
    
    If we keep our dear living dead in the active lists we tend to count them the
    same as the living, which means the pipeline stalls even if requests time out.
    
    Also don't accidentally turn requests that are still pending into zombies,
    directly delete them instead. Otherwise we accidentally send the zombies out
    into the world and trigger the zombie apocolypse (Or, well, cause a gabble
    crash when the zombie times out and the original callback gets called and
    gnawed on)

commit f1bf1b26a9c6ba7c40fb7cfcb5b6e15a95f13547
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-06 10:15:45 +0000

    tests/README: refer to a test that exists
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 0d8bcee1786ce014915cb50db08ca445cc6c0a0d
Author: JonKristensen <technology@jonkristensen.com>
Date:   2011-01-05 21:45:13 +0100

    some style changes
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 6a0a1f59df5e7a70fef85cfd4c8d1504d52dbda7
Author: JonKristensen <technology@jonkristensen.com>
Date:   2011-01-05 19:47:42 +0100

    replaced the ...get_type function with a G_DEFINE_INTERFACE macro
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit ad01b35205c57a5f9d3ab2cd2894610a9e03aea3
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2011-01-03 15:56:58 +0000

    servicetest: improve sync_dbus implementation
    
    I was using sync_dbus in a mission-control test to make MC spin its
    mainloop enough so I could assert one method was not being called
    before I returned from a call that had previously been made. However,
    sync_dbus alone was not enough as apparently libdbus returns from Ping
    calls synchronously so it didn't turn the main loop enough. Calling
    sync_dbus a few times made it work, but it showed the test was going
    to be racy. This is what I did:
    
        # Waste a little time here and there.  We can't call sync_dbus
        # here because it calls Ping and libdbus returns from Ping
        # synchronously and doesn't turn the main loop handle enough.
        call_async(q, cd_props, 'Get', cs.CD_IFACE_OP_LIST, 'DispatchOperations')
        event = q.expect('dbus-return', method='Get')
    
    This works in my case because there was no other Get method call, but
    it would be bad to replace sync_dbus with this as it could grab the
    dbus method return from some other call, which is obviously bad.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 77a73c6f33c310dd744982f961e5feda5c3985bc
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-12-24 21:07:49 +0100

    Use g_clear_error for some code deletion love

commit a9397c66c05988ccb16ef476067275cfb1d95fb6
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-12-24 21:04:25 +0100

    Forward-port to wocky, which needs ; after wocky_implement_finish_void

commit 7bb22dccc13a0b3b6c6ae9d49662c3fab50a3628
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-12-24 19:38:02 +0100

    Factor out flushing the items queues

commit 44da351b55c563c7bf0aa974289bbc2be2934de8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-12-20 12:41:50 +0000

    Add GABBLE_PERSIST to the manpage.
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 5f7bd3bb4be91bd5ffff293de1610f261c142b63
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-12-20 11:04:15 +0100

    test that big messages are properly split in D-Bus muc tubes

commit e6ee899b4fd64a5f1c162fe75268a41e1b8679e7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-12-20 11:02:14 +0100

    bytestream-muc: stop recycling stanzas when splitting data
    
    When moving to Wocky, stanzas are now proper ref counted GObject. So they are
    just reffed when being placed in the sending queue rather than being copied.
    We can't recycle the same stanza anymore because we may end up modifying an
    existing not yet sent stanza.

commit 922b802ea75fcbf66232b1702a9e161020d09898
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-12-16 13:51:43 +0000

    Update Wocky to fix WockyHeartbeatSource.

commit dfd3e2fdf4c78e936d13f7f978935532263b01d8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-12-16 12:30:55 +0000

    PowerSaving: Fix sending google:queue commands.
    
    We started sending iq gets rather than iq sets. The test didn't check
    for this, but Google's server most certainly does. This was a regression
    in 0.11.1.

commit 419abc78e6d956b1fde4ea2d36b740e9f2332a00
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-12-14 17:49:04 +0000

    start on 0.11.5
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 372692ef7e2d9d815ef529d380ed5c9802311364
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-12-14 17:47:16 +0000

    version 0.11.4
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 542fc5f54bfd686d067fb1c60da0a9dccf0c3df8
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-12-14 17:30:49 +0000

    src: ensure out of tree builds can find headers for building gabble-enumtypes.{c,h}
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit de46cd7558792e154e360c720b6b15ed18cf5115
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-12-13 15:05:24 +0000

    NEWS

commit afef93b9cfed8878a96bb7150d60ceafd02d8ddf
Merge: f1d5bc8 c639794
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-12-13 14:53:43 +0000

    Merge branch 'messages'
    
    Reviewed-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit f1d5bc82b1f779733b8ef49375869e36c2500474
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-12-13 14:27:08 +0000

    configure: bump versioned-dep on tp-glib
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 22c161485383f1c9423c5dc04446010e4d9f029b
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-12-07 16:29:18 +0000

    protocol: implement TpBaseProtocolClass->dup_authentication_types
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 8e4558e9ba82cbd298eb87eff1174b05a6bdfc3b
Merge: 19623aa 1274d46
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-12-10 13:33:40 -0800

    Merge branch 'more-stream-errors'

commit 1274d465b78a69de499719e3567a9754eb8532dc
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-12-08 11:31:38 -0800

    Use GEnum fro jingle reasons.

commit 3ef08d23bfe44bb9ace99729c5641102db2a8979
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-12-08 09:44:45 -0800

    Style fixes.

commit 90501f683387dade4a72f362359b70a1cea81175
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-12-06 16:31:01 -0800

    Added StreamError and <reason/> assertions to existing tests.

commit c8fddaa984a239484a20240da894ae3292ca0b91
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-12-06 16:30:02 -0800

    Include message in StreamError.

commit 121fe1b3940be03a087937106d5ff38af3fe8df6
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-12-06 15:08:16 -0800

    Use constant instead of magic number.

commit c4028fb899bd40d1676c0eb80ccde2adea3cb1ce
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-12-06 15:07:59 -0800

    Added jingle/stream-errors-on-content-reject.py.

commit 43fd9f5530a75c110bf1e7d36b5481599c6d4cb3
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-12-06 11:53:36 -0800

    Added tests for supplying reasons with session terminate and proper StreamError.

commit 99583904aacc27c98d566de8d4e62feea27a7bd4
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-12-04 22:46:20 -0800

    Set a Telepathy DBus error when leaving group with invalid reason.

commit c7d7f04169334a9e9873f48b25c1696ea9555957
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-12-04 22:45:07 -0800

    Add JINGLE_REASON_UNKNOWN to gabble_jingle_session_get_reason_name.

commit 864c3e1c4bf5ab1dc55cbcdaf3ada9d7e5066b7f
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-12-04 22:43:51 -0800

    Fix relics of previous API change.
    set_state used to take TpChannelGroupChangeReason and now takes JingleReason.

commit 502aa3b39937314b3003135c47f768cebc08a0ea
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-12-04 22:43:13 -0800

    Wockify (and fix) extract_reason.

commit 6f2bf4815b31c5f5d1e8d1dc913bdcb61b9005eb
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-12-03 15:45:29 -0800

    Map stream errors to jingle reasons and send them with session-terminate.

commit 81536e0b51ce19b261bec78fe6bd35c055d9da3f
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-12-03 15:37:20 -0800

    emit StreamError when session-terminate gives us a good reason.

commit cbc8901b317f28eda75bd54194343370583060bf
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-12-03 14:10:38 -0800

    TpChannelGroupChangeReason-sectomy in GabbleJingleSession.
    It really should focus on XMPP and have a minimum of TP bits in it.

commit af2a564d51ab652fa2ca67e06aa2cf1a541c0061
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-12-03 13:00:07 -0800

    Added content-rejected callback in media channel.

commit 0f626a551e31b50a513fe74ec8c01931e50328a7
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-12-03 12:59:15 -0800

    Added content-rejected signal to session.

commit 8401a43e1713c0089be7a6f15e47d6840ab213d6
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-12-03 11:56:21 -0800

    Set reject reason when content was rejected.

commit 898e609db56301b793f3a646b1913c28337d399e
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-12-03 11:55:26 -0800

    Use new JingleReason enum instead of weird group channel reason mapping.

commit ed180dd7af7fd390863933817425b20aca9d6b1f
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-12-03 11:53:40 -0800

    Add user_data to foreach content function.

commit a34613a1b4b7f6c0eb54b5be21a9a635ff8c9c07
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-12-02 23:04:15 -0800

    Make jingle reasons a first-class enum

commit a2da7950b55698ef7c86a61fd1a9dd0b7ecd3677
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-12-02 21:15:39 -0800

    Send content-reject when codec negotiation fails.

commit 19623aac9e2848aeb6c414e0ffea35878d018342
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-12-10 17:08:31 +0000

    Update telepathy.am from telepathy-glib

commit c639794d12ad21ff7d04c69e49f1a64b383df95f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-12-10 15:26:36 +0000

    Check that sent messages have the sender and sender-id
    
    This is/will be new in telepathy-glib 0.13.9.

commit e0d3380a6ea04e2b7ca9ab8720f982541ca31f3c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-12-10 15:26:13 +0000

    Set message timestamps as int64, not uint64

commit faa06bd2e13bce069ff87531d2f9ca4650d65f73
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-12-10 15:25:57 +0000

    Depend on telepathy-glib 0.13.9 and avoid using deprecated functions

commit d317b71c4174b965d2ee6421ff2d94b9e292c5d6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-07-14 21:20:40 +0100

    Revert to using message id='' as message-token

commit 2615e023cdba0234cf90c35af5754269892adb06
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-12-10 11:17:46 +0000

    server-sasl-channel: add note about completing not in an idle
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 771ea19db551a887a60cd802bdcb8a4c242d83f6
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-12-10 10:50:30 +0000

    tests: add sasl/telepathy-password.py, a test for fd.o#32278
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 831823920b5e8167c4176704018d8c2413cf3ce8
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-12-10 10:49:43 +0000

    server-sasl-channel: finish a gabble success function not in an idle
    
    Fixes: fd.o#32278
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 52465001debd4c2763017f310bf8318a3caaefc5
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-12-10 10:48:53 +0000

    tests: add GABBLE_TEST_BUSTLE env option
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 72fb9963b5333f6405cc485fc22434d6f512b3fc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-12-02 18:21:27 +0000

    Don't assert that unreffing a handle really kills it
    
    Since telepathy-glib 0.13.8, handles are immortal.
    
    Reviewed-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 569dfd5d7a4b2de6c297b8f392f456d8a1231054
Author: Senko Rasic <senko.rasic@dobarkod.hr>
Date:   2010-12-02 13:56:59 +0200

    don't attempt to set system CA cert location if gabble is configured without it

commit b9077fe2dade211bed1664f837c6f203fbb1b61f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-12-01 12:13:14 +0000

    NEWS for 29147

commit 5ea203c4ec317ae5432aff1574e8246763c78666
Merge: 3cbc5da 1f0c020
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-12-01 12:11:22 +0000

    Merge branch 'muc-presence'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 1f0c020c34e91b1adc2a08fbbc3bc5e15766d3c1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-12-01 00:53:16 +0000

    Remove erroneous assertions from Tube tests.
    
    They thought that the <x ...muc/> node had to be in every presence. But
    it does not!

commit 58f227dcd4df38f34d15173981bc9c8b69162ca0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-11-30 23:12:12 +0000

    TubesChannel: remove silly GET_PRIVATE macro.
    
    I happened to notice this, so sedded it out.

commit 6e8f0a87485af6374905c23c19bbc76f31d58e13
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-11-30 23:09:23 +0000

    MUC: Remove fake error checking from sending presence.
    
    gabble_muc_channel_send_presence() could only return FALSE if the
    connection's not connected yet, and thus the porter hasn't been
    constructed yet. This seems... unlikely. But furthermore, no caller of
    gabble_muc_channel_send_presence() actually checked its return value! So
    let's just bin all this fake error handling code.

commit 597e11bcd05db93178667c7b864b2f8db0829258
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-11-30 22:59:48 +0000

    MUC: test that we *do* include <x xmlns='.../muc'/> on join
    
    Astonishingly, this simple assertion was never made.

commit a16bfc21c08f96136057ed618d960676cc07ebbc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-11-30 22:53:13 +0000

    MUC: Add a regression test for fd.o#29147

commit 724d245f76416fba3dc66fb91c7d92d1b90cb802
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-11-30 22:02:32 +0000

    Update Wocky snapshot for MUC presence fix.
    
    Fixes: <https://bugs.freedesktop.org/show_bug.cgi?id=29147>

commit 3cbc5dab00f5f7cd8747a823ae71ee8dfb2d9149
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-11-30 17:41:35 +0000

    start on 0.11.4
    
    Just like nothing happened...
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 0d53b885bef5e78d77c29c5c274d834f7d22f1dc
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-11-30 17:17:37 +0000

    version 0.11.3
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 9e385c298cbd4bff755d78f48abf0b6382224c34
Merge: e9c51fd 225f23d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-30 17:11:28 +0000

    Merge branch 'async-contact-list'
    
    Reviewed-by: Jonny Lamb <jonny.lamb@collabora.co.uk>
    Bug: https://bugs.freedesktop.org/show_bug.cgi?id=31998

commit e9c51fd9a4e919cdcc5f3cad4fb10bffe4b4f7eb
Merge: 5a7cadb 83f50ee
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-30 17:10:55 +0000

    Merge branch 'undraft'
    
    Reviewed-by: Jonny Lamb <jonny.lamb@collabora.co.uk>
    Bug: https://bugs.freedesktop.org/show_bug.cgi?id=31874

commit 83f50eee9e7eedd034b7c20f2e8ae5b0a7127695
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-30 17:07:51 +0000

    Map WOCKY_XMPP_ERROR_INTERNAL_SERVER_ERROR and WOCKY_AUTH_ERROR_INVALID_REPLY to ServiceConfused

commit 7953a554c977224b3ee916ee4848730117b9983e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-30 17:07:23 +0000

    map_wocky_xmpp_error: map <bad-request/> and <unexpected-request/> to Confused
    
    These are the server claiming that we're wrong.

commit 225f23d55d570cb172e51d4181ca5d3b6a54c546
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-30 13:20:57 +0000

    Don't assume that AddMembers/RemoveMembers on a ContactList channel returns immediately

commit a03ddd824071a8cc40abdf8d14fb27937b24541c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-26 13:02:44 +0000

    Map SASL_Abort_Reason_Invalid_Challenge to TP_ERROR_SERVICE_CONFUSED
    
    As per the spec.

commit 302cd8e16f800242d5ac93d2e2df88431f70cf98
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-26 12:53:55 +0000

    Depend on telepathy-glib 0.13.7 and use it for SASL

commit 5a7cadb6e4e6e54322d67514cc4fe0e1450bbc4f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-25 16:43:43 +0000

    Update to spec 0.21.5's stable version of ServerAuthentication etc.
    
    Reviewed-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit aeff768719cf4e41aa9fe1fa8794804cfb3d53b4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-11-25 17:52:34 +0000

    Remove accidental dependency on glib 2.27
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit 6591dc41458e56fca5e1b2ead1b7d2cc2ec8beed
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-11-25 17:24:19 +0000

    NEWS for fd.o #31106

commit d041040a455647b21a2d7cfbf99f278ccb41caf1
Merge: 4317170 8070696
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-11-25 17:15:18 +0000

    Merge branch 'ofdt-protocol-interface-presences'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 4317170a46c2faeee163b2f6974aebfbf006867e
Merge: 6142164 d6f2fd8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-24 18:30:13 +0000

    Merge branch 'sasl'
    
    Reviewed-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit d6f2fd86ec9ce523d368d505412ca732a436b103
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-24 16:38:30 +0000

    sasl/abort.py: test aborting early, and check that unknown codes don't crash

commit 8f1c2663c7b582f45321d6148f64bd9c9b90d72a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-24 16:38:05 +0000

    saslutil: assert that the right error is in ConnectionError too

commit 2a47c1c4a4e59b1c412e95fab08785a938c7ccd7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-24 16:36:51 +0000

    connector_error_disconnect: harvest a detailed error from the auth manager

commit ddc477c570538c8285d6865d4e20cf30dad129aa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-24 16:36:33 +0000

    gabble_auth_manager_get_failure_details: add

commit 229175e51588aca6dc8b30fb63511cdcb3490ae7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-24 16:36:12 +0000

    gabble_server_sasl_channel_get_failure_details: add

commit df5deac07ff5f55acb0208b724c0777f3aebda06
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-24 15:02:30 +0000

    jabber_auth: exercise unsuccessful Jabber authentication

commit 769d107867503ef24bf6882c1c65d80def3df8f6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-24 13:53:32 +0000

    jabber_auth test: drive the SASL authenticator interactively

commit 272da64dc4fa7491e59e44a8e447a1d8507acc65
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-24 13:53:15 +0000

    saslutil: split out expect_sasl_channel()

commit 93aa8fb22d5dfbd1c615c75b78def2a92f9d0660
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-24 13:52:59 +0000

    JabberAuthenticator: optionally emit events rather than being automatic

commit e41a1f5d83b67e5cd301f767b9cc4dbd3a6aaf5a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-24 13:31:30 +0000

    rename SaslComplexAuthenticator to SaslEventAuthenticator and delete SaslPlainAuthenticator
    
    The distinguishing feature of the SASL test authenticator is that it
    produces events, not that it uses complex SASL mechanisms - it can work
    with any mechanism now.

commit 7b9ec2490b8086b5880c2d230f76322f97b5e045
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-24 13:30:31 +0000

    remove unused imports of SaslPlainAuthenticator

commit fb686d9fe9fa429c696e79095cda8ab7ee89694d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-24 13:28:16 +0000

    sasl/abort test: use interactive authenticator

commit 8715cb9353c0ed6850d7161bf23e00c6baa915ef
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-24 13:15:52 +0000

    sasl/plain test: exercise all the defined error conditions from RFC 3920 §6.4

commit 454ab32c41737990065a9cd2176fa43871a5dc49
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-24 13:09:31 +0000

    sasl/plain test: convert to SaslComplexAuthenticator so we can test other reasons for failure

commit 25443a1e45620ce968960ba5d2e2381aa7458f13
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-24 12:51:20 +0000

    test_jabber_pass_success: remove dead code

commit f6d4da7c368af7b913eb2d11b250ed6d94a9714a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-24 12:51:09 +0000

    SASL tests: use more idiomatic error-checking

commit 2d4d04d158726882cec27387bea22ab347857889
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-24 12:34:50 +0000

    Raise NotImplemented if the user requests an unsupported mechanism

commit e32ebab6c848e7985acbc410f97102b711e2e405
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-23 20:41:01 +0000

    Assert that DefaultUsername is available over D-Bus and correct

commit 9214b4f5006349a7d71907cb87ae40a6f959504f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-23 20:40:48 +0000

    Update SASL to current spec master

commit 477b7ab10d8a140f75ee8bfc0e99a71bc282f0af
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-23 20:29:51 +0000

    Don't make X-WOCKY-JABBER pseudo-mechanisms available over D-Bus

commit 0dac490b844327aa66d1d0adacba5d765da449fb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-23 20:28:27 +0000

    Implement and test X-TELEPATHY-PASSWORD

commit 4a95a631ea3677c9660d98badc6cbe157055a9d3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-23 19:58:29 +0000

    gabble_auth_manager_start_auth_async: wrap the channel's async method

commit 0ea410723eff39dd79d51ade88e5c044c221d2f7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-23 16:31:23 +0000

    gabble_server_sasl_channel_fail: use gabble_set_tp_conn_error_from_wocky

commit 8339e8b7828b1f493b8dcbca7f56cbd18195a802
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-23 16:23:25 +0000

    map_wocky_auth_error: support the complete set of auth error codes
    
    Part of fd.o #21735.

commit 6619d36fb69fd338249a83476d329622d5560421
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-23 15:54:35 +0000

    gabble_server_sasl_channel_fail: on repeated failure, don't overwrite error

commit 16ea092629a590662551907067abbf5923071be8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-23 15:54:20 +0000

    GabbleServerSaslChannel: check for expected state, and debug, in async methods

commit 410d05b684e5555636c508a06c6c3d2fae51f209
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-23 15:51:21 +0000

    AbortSASL: improve state tracking and debugging
    
    Also, don't abort on invalid D-Bus input: AbortSASL(666, "crash me")
    shouldn't crash us.

commit 6d9e310a2a5164cb73a8ba3cf1cda94cee8ff8d3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-23 15:47:23 +0000

    AcceptSASL: improve state tracking and debug messages

commit 777c70c698e68fc5de2b092bbeb5fd8b8fbc4ed2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-23 15:44:49 +0000

    StartMechanism[WithData]: improve debug

commit 7eaca1d56e948634ed18cda6a5b8b44a0cb9f85a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-23 15:41:30 +0000

    StartMechanism[WithData]: streamline search for mechanism

commit 02607a48aaa28cc59658ba9958172a8f059a5296
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-23 15:16:58 +0000

    Respond: check status more carefully and improve debug output

commit ae5652a0192d3f2aece8d9ff595c618e71dfe4e9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-23 14:32:05 +0000

    GabbleServerSaslChannel: move to In_Progress state when StartMechanism is called
    
    Also assert in the tests that this is done.

commit 4e8ba15a2a88a626454be6f5d71675a9ef338a72
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-23 11:25:49 +0000

    gabble_server_sasl_channel_raise_not_available: take varargs

commit 8a5f04e25b29ebb9835ebc4c9a9603928086697d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-23 19:30:10 +0000

    Change SaslComplexAuthenticator so it's driven by the test framework
    
    This will let us get better test coverage, by producing unexpected
    responses from the server.

commit 447bece9fe137c1e31b255e437ef1444acc5eb88
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-23 14:26:14 +0000

    gabbletests: allow Authenticator to emit events too

commit d7421d395a4d458872d3f953eb061fffe14955da
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-23 14:44:30 +0000

    Make sure every Authenticator we use is a subclass of GabbleAuthenticator

commit 785fcfddc679148a0928fd0fa718b827784b35a9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-23 12:40:20 +0000

    StartMechanism[WithData]: don't crash if no initial data

commit 26a76d9a664aacea1d97ada55129c266fd5d8a52
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-22 19:17:16 +0000

    Turn GabbleServerSaslChannel's dispose into finalize
    
    There's actually nothing left there that releases refs.

commit e1bdda1173a3b7f133fbe9ebcc7d5e29208e9447
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-22 18:56:24 +0000

    Add a test for the SASL channel being closed as undispatchable

commit fe2d1a8b42a3fcf1675981acf1832e1747d388f9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-22 18:34:50 +0000

    GabbleServerSaslChannel: be a TpBaseChannel

commit 3661f06cca6ae655db5a14fd1db684756ccdb228
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-22 18:14:20 +0000

    GabbleServerSaslChannel: be a plain GObject

commit 8335739a586e2582bc15650749d187f141f6961e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-22 18:12:48 +0000

    gabble_server_sasl_channel_fail: be independent of WockyAuthRegistry

commit 70def04725bbfd2ece0ed4f0e8c3077d3210ead8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-22 18:10:44 +0000

    gabble_server_sasl_channel_success_async: be independent of WockyAuthRegistry

commit 17bd68ebf88f4712e68bf2a30d7c8ed090819dda
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-22 18:05:38 +0000

    gabble_server_sasl_channel_challenge_async: be independent of WockyAuthRegistry

commit f618b262044aa55faa6f4a7283d666f685bf6615
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-22 17:56:34 +0000

    GabbleSaslChannel: convert start_auth_async into an ordinary method

commit cb2e7435ced22b27b006f48380259a97b85c48ae
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-22 16:27:33 +0000

    Add a stub DefaultUsername property pending addition to the spec

commit 05101334f072a08894042a89d241d5549f1a1f4c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-22 16:25:04 +0000

    Derive the authz. identity and default realm from the GabbleConnection
    
    This includes a behaviour change: the authorization identity hint changes
    from e.g. 'user' to 'user@example.com', as described in RFC 3920 §6.

commit 8cce15a9bc40cad7dff544e5ade7c03049cdd3fe
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-22 13:57:28 +0000

    Supply the SASL channel's immutable properties at construct-time

commit 2d720ad878807df27bf001b461addf7c8216b9b9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-19 18:43:54 +0000

    GabbleAuthManager: only have a channel while authentication takes place
    
    Much like the design of GabbleTLSManager, this makes the code "the right
    shape".

commit bfcd733eacdb5b21ccc32e769aebad98ab58e829
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-19 18:28:44 +0000

    GabbleServerSaslChannel: don't handle the chain-up case
    
    The channel manager does that now.

commit 0f68204176f2adc8476ce065e8be9cb3f916a849
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-19 18:27:26 +0000

    GabbleAuthManager: don't call into the channel for non-interactive auth

commit 7fd26d9e27bfd6ae0e8d1ecab70760079f6006bf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-19 18:25:46 +0000

    GabbleAuthManagerPrivate: remove unused @result

commit 35ab4fcb2938c3517aed89a4b98fa885f9c56a57
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-19 17:59:13 +0000

    GabbleAuthManager: inherit from WockyAuthRegistry rather than owning one
    
    For the moment, the SASL channel is *also* an auth registry, and the
    auth manager just bounces all method calls to it.

commit 24b8eba2452f2d881ab99dc366be0e7c1ba6b0d3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-19 17:34:28 +0000

    Update SASL code to draft 2
    
    This isn't fully correct yet, but it compiles and passes the existing
    tests (with suitable updates).

commit 61421643fc1e7e4f44d04b9d8c50cf87570665c0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-11-22 15:06:28 +0000

    This has to be a release name.

commit be5dff6ad06994738a708aa69173a1bbd29590c3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-11-22 14:53:55 +0000

    Start 0.11.3 development

commit 3c070dfe2e2fbef9408f713b2808be221b03cc93
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-11-22 13:05:30 +0000

    Version 0.11.2

commit 2d95bba55f1e94783efa67c9a365aabaa577d495
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-11-22 13:04:44 +0000

    NEWS for 0.11.2

commit 9ffe6cc4174d7f5112118f26d25aefabf42e83fc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-11-21 13:29:17 +0000

    NEWS for fd.o #31772

commit b0a393487bf0bbf9688db6683d0923141f15e40d
Merge: 74d1602 14a22f8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-11-21 13:24:00 +0000

    Merge branch 'client-types-crash'
    
    Fixes: <https://bugs.freedesktop.org/show_bug.cgi?id=31772>
    Reviewed-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 14a22f84b2a25a513542427d1bb5b3b042a55a2a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-11-19 19:55:15 +0000

    Don't crash on disco replies from unavailable contacts.
    
    process_client_types() assumed that gabble_presence_cache_get() returned
    non-NULL, which is untrue.
    
    Fixes: <https://bugs.freedesktop.org/show_bug.cgi?id=31772>

commit c8fef0c6ed5b52b876462b8986bfa76c29eb1db9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-11-19 19:49:43 +0000

    Extract processing client types in disco replies to a function
    
    _caps_disco_cb() is ridiculously big. This is a small step towards
    reducing that.

commit 90233b584ced6258c3a2c89818bdccff314f62f6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-11-19 19:38:54 +0000

    _find_resource: check if presence parameter is NULL
    
    (It's not in the case I'm fixing.)

commit 1482da211c0aafce05a0ca70614409179ad763d7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-11-19 19:37:27 +0000

    Remove silly GABBLE_PRESENCE_PRIV() macro

commit 74d160243d6ba936fe7d3449e3e91a3abc5985ed
Merge: 7a9348b 7dbd46e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-19 19:08:11 +0000

    Merge branch 'wockify-roster'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>
    Bug: https://bugs.freedesktop.org/show_bug.cgi?id=31385

commit 7a9348bc389b7f19edb44e5bfa9dcc07f84138f7
Merge: 6ffd322 d8e2f9d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-19 16:05:11 +0000

    Merge branch 'gtls'
    
    Bug: https://bugs.freedesktop.org/show_bug.cgi?id=31474
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 6ffd3222445d44631c8dad62ec65bf65fe9162cd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-19 15:57:29 +0000

    saslutil: catch up with de-duplication of namespace constants
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 9cdd062ddd98725cd548206d0d11169577a7f53c
Merge: 7195cd2 61d13e0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-19 15:44:39 +0000

    Merge branch 'telepathy-gabble-0.10'
    
    Conflicts:
    	NEWS

commit 61d13e007c88d0af3e3dd230e1a0cdd7337558ab
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-19 15:31:10 +0000

    NEWS

commit 7195cd209d7f104610b6060d06ef937b1e8e88e3
Merge: 8151384 dc9132c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-11-19 15:29:23 +0000

    Merge branch 'test-trivia-from-haze'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit dc9132c4eb337e26fcae739e5e7481a81fde0b23
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-11-19 14:08:24 +0000

    tests: Support session establishment.
    
    XMPP IM defines a "session establishment" stream feature:
    <http://xmpp.org/rfcs/rfc3921.html#session>. This is optional, and Wocky
    deals correctly with it being unsupported, but prpl-jabber assumes it's
    supported and just blindly sends it. We should send *a* reply to the IQ,
    whether success or an error, per XMPP Core; we may as well implement it
    properly.
    
    (I'm filing a bug against prpl-jabber just as soon as I recover my
    Pidgin Trac account, but still.)

commit 1d1ae4468729653d6310987e6c5c16870cedaa05
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-11-19 14:07:17 +0000

    tests: Always include id='' on server's <stream> header
    
    This is a SHOULD not a MUST, but it seems like a reasonable thing to do.
    
    Not including it broke Haze's test suite. libpurple's since been fixed
    to deal with servers not including a stream identifier, but it seems
    like a reasonable thing to include.

commit fa6ec2a9a96714b9df28f6754652c1b0b049272d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-11-19 14:05:41 +0000

    gabbletest: remove duplicated namespace definitions

commit 2c8b15df2bae2fef15e266801a67d73bc8b0b026
Merge: a8312e8 5666efa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-19 15:28:29 +0000

    Merge branch '010-pipelines' into telepathy-gabble-0.10
    
    Bug: https://bugs.freedesktop.org/show_bug.cgi?id=31412
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit d8e2f9de663b20ebc42f382d1df05f060cfa5d4b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-19 12:25:59 +0000

    Rename --with-ca-file to --with-ca-certificates
    
    This is the option name that Gabble historically used, and is somewhat
    more accurate. For GNUTLS the system CA store is a single concatenated
    file ("CA bundle"). OpenSSL can use a CA bundle too, but it's more
    conventional and efficient to use a directory of files/symlinks named
    according to their fingerprints, which can be opened lazily; in this case
    you'd use (for instance) --with-ca-certificates=/etc/ssl/certs on
    Debian-derived systems.
    
    When auto-detecting, we still only look for files, since they work with
    any backend, and the auto-detection doesn't know which backend is in use.
    Packagers should probably always specify a path anyway.
    
    Conflicts:
    
    	configure.ac

commit 0deec84b4ffc50bebad424fd79607330b5250d0b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-19 12:24:45 +0000

    Add the warning from glib-networking if the CA file doesn't exist

commit 85ceafd8ef2d31160dfeb48043a64a4bc4bbacc3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-19 12:21:50 +0000

    Resync with glib-networking's configure.ac check for GTLS_SYSTEM_CA_FILE

commit b0bbca5d0d16a17292edc10d71c82d3cf776e9cf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-18 15:19:20 +0000

    If the compiling user specifies a CA file, blindly assume they're right
    
    In minimal build environments (Debian buildds) or when cross-compiling
    or otherwise compiling for an embedded device, we shouldn't insist on
    having a file in the location where the target will have its CA
    certificates.
    
    This is consistent with most other configure options, which don't
    second-guess an explicit user request.
    
    Reviewed-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 8151384af24df734b3b6a8f29cb8eeb8dd07bca0
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-11-16 22:11:36 +0000

    configure: remove uuid dependency
    
    It was re-added accidentally in 2ee4a40a974.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 8c30114df306160f069990d9186c123b2776bf1c
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-11-16 18:37:21 +0000

    Nano version.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit e63e79214b4b6ab7ca4b00ee9c37b59a3e50d906
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-11-16 18:10:00 +0000

    Version 0.11.1.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 4463379719b0b407496213d36bbf45a2d110d364
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-11-16 18:10:59 +0000

    Update wocky snapshot.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 93cbeb90143f2ece4562d9445a5bc1c66462573b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-16 12:11:26 +0000

    NEWS so far, with release notes for --with-ca-file

commit 514a89d1e641decbd7c6dba273908fc9dbc8f822
Author: Brian Pepple <bpepple@fedoraproject.org>
Date:   2010-11-08 12:06:18 -0500

    Make ca-certs location configurable more friendly (#31474)

commit 554353ad1c8482b834afa133d445cac4452be0ac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-10 14:24:21 +0000

    Update PowerSaving to the stable spec that will be in 0.21.5
    
    Reviewed-by: Eitan Isaacson <eitan.isaacson@collabora.co.uk>

commit c9a534a90f2cc1146525d9e1a036b826aaad258f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-11-10 17:45:37 +0000

    Don't generate unused code for Bundles.
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 5666efa919d6b2547482a53fa51c466e35da4e38
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-08 13:40:01 +0000

    vcard/disconnect-during-pep.py: use more helper functions

commit 7dbd46e12ea5c4c3db6126766e894fd486d15701
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-08 11:52:32 +0000

    roster_received_cb: don't leak a ref to the roster

commit 862dcf15481981b703e24d80942aeb367ced8bb1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-05 17:21:33 +0000

    Add a regression test for fd.o #31412

commit fad63c4b062e7873e131b898eb6605c7c5d5c771
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-05 17:18:27 +0000

    Check for connected connection or non-NULL vcard_manager before most uses
    
    One instance is still unchecked, in aliases_request_free.

commit 59ed8b6e637780e0cc2e51ece03fc903aedf2d62
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-05 16:52:11 +0000

    gabble_vcard_manager_request: disallow calling when unconnected
    
    All of its callers in Gabble 0.10 now check appropriately.

commit 04e1995f37fbdc48cab3e46e5dc163c1e4dcc171
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-05 16:51:21 +0000

    Don't attempt to avoid avatar conflicts if disconnecting
    
    We want to avoid calling into the vCard manager.

commit 7df2fdc8fed2c155bb45488e2dc8a0d02c28618b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-05 16:50:54 +0000

    RequestAvatars: raise error if not connected

commit 82e3034c0f19771d64765df1ad895fabe507804c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-05 16:50:38 +0000

    aliasing: don't call into vCard manager if unconnected

commit e29b24766c84e0317db738097c532379a63d1ee1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-05 16:41:51 +0000

    gabble_vcard_manager_edit: forbid calling if not connected
    
    I've checked its callers in Gabble 0.10, and they all fail earlier if
    the connection is unconnected.

commit 8f57dcee4a974466ad122dbd72d85389a20ccb09
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-05 16:39:53 +0000

    gabble_vcard_manager_edit_one: remove, unused

commit 2e17b389aa9911870754b64db88f64e5c96f732d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-05 16:35:39 +0000

    gabble_vcard_manager_edit_alias: remove declaration (it's no longer defined)

commit 102b124eae6fc5ef7c842a03acad81b4e9d729e0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-05 16:32:12 +0000

    gabble_do_pep_request: assert that @self is connected and has a request pipeline

commit 10ab45a389ca24bd986038a090d516981a5e90c9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-05 16:28:31 +0000

    conn-aliasing: maybe_request_vcard: never initiate a request if disconnected

commit cd4997fbef7c57b882bf915e46a268d7f18f7bc1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-04 16:18:02 +0000

    remove inaccurate comment

commit e5a001c6cfb729e4a8c95dda63b7d4c20648efae
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-04 15:56:24 +0000

    GabbleRoster: use conn_util_send_iq_async to apply edits

commit b699daeef2cd83342968356c3722e76f8bad5136
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-04 15:56:05 +0000

    GabbleRoster: use conn_util_send_iq_async to get the roster

commit 0b421ee960c68ce9b3d9a19bc1b95fbc31d9fbcd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-04 14:53:13 +0000

    Use the porter to dispatch roster messages

commit c823bb36f212146d8735d6f98c75e81b52809854
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-04 14:24:52 +0000

    add GabbleConnection::porter-available

commit 7d61827494d50edc17110ed5cd8b77514638a0ac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-04 13:34:34 +0000

    got_roster_iq: return a boolean

commit 595e104b3e710c94e0301bc2ef17dcd152b5b545
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-04 13:24:48 +0000

    roster: use more WockyNode/WockyStanza functions

commit 6d1875aa03053b754158f530921672043e83def3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-04 13:09:11 +0000

    roster: use wocky_stanza_build instead of lm_message_new_with_sub_type

commit 5c9efc3cba5c1bae57e79171f28e043c75cc5997
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-04 13:08:37 +0000

    roster: use more Wocky type, constant names

commit 652cc73974f608d12075280ca7b6167312701a35
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-04 13:27:06 +0000

    Include some Wocky headers in the roster

commit 492c2f712a459f9fb21cd76ce3bd94754f52fbe1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-30 12:05:59 +0100

    lm_connection_send: remove, and replace all calls with wocky_porter_send

commit 2ca5c80bb65da5efa196d187296fabdf7edf4d89
Merge: 91767d6 c5506b3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-04 16:51:41 +0000

    Merge branch 'trivia'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit c5506b369af2f2f067a21e7a917c1f768f2388e1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-04 14:43:26 +0000

    Rename gabble_connection_get_porter to gabble_connection_dup_porter
    
    It returns a new ref.

commit ab58b4e2ff174aa9d7807ce0ec59b3ec1364ad9b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-04 14:39:15 +0000

    Use GLib's simple (1-argument) signal marshallers

commit c30af9df790380a8ff14b132d2befe8f6b62b0b6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-04 13:30:05 +0000

    connection.c: remove trailing spaces

commit 91767d6ec6b6e54045413d88b98d64f6915323ce
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-04 12:37:45 +0000

    Nano version

commit fb98e0eb8f1ae071542736b394e35204124f7a58
Merge: b51b4d5 460323b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-04 12:32:06 +0000

    Merge remote branch 'upstream/master'

commit b51b4d57fe5d02e529fbc6ee5e4d34280be828e4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-04 11:07:24 +0000

    Prepare 0.11.0

commit 460323be6fb051a46c65014c8d75167531cc5d4c
Merge: b7e3d9c 0f0ac4f
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-11-03 20:35:22 -0700

    Merge branch 'power-save'

commit 0f0ac4f52c725f960c066fff8294bbe009d8228a
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-09-16 09:03:51 -0700

    Update conn_power_saving_* to use new conn_util_send_iq_finish.

commit 37d2b6034782fd137b3f9d977ddc5ecb144efb9a
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-09-16 08:54:47 -0700

    Use macro for SetPowerSaving when disconnected.
    Some cosmetic changes.

commit 0e0f6dab933595e938893f5f41f795d55b50553a
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-09-15 11:43:33 -0700

    Make PowerSaving iface conditional upon disco.
    Fail on power saving mode enabling when disconnected.
    Updated tests for new behavior.

commit b371dc4d7b1176117852d579793c7b6df09a4dd1
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-09-15 10:53:06 -0700

    Updated power-saving to use new conn_util_send_iq_finish.

commit a86fdcaefcee4a82add12da4d92ecd9674a8092c
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-09-09 12:20:40 -0700

    Added power save disconnect test.

commit 439ca7c110cf3f19e8704479235f3daf2d52ad3f
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-09-09 12:11:11 -0700

    Make power-saving a GabbleConnection property.

commit f0cd52f1d5587e88112f85d8615b448ff3b524d9
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-09-09 10:57:41 -0700

    Changed parameter to "enabled" instead of the misleading "in_Active".

commit cb1d3c24e22115a40a08670e898f7928daf08a21
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-09-09 10:56:16 -0700

    Cleaned callback funtions to NULL-check reply instead of an error.

commit 2ee4a40a974c36e33c176e5724d56b9acd64ba5c
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-09-08 17:34:13 -0700

    Removed GabbleSlacker and MCE mentions.

commit 0de6ad173fdf3f7f271dc9128d760eb423eb6537
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-09-08 17:33:34 -0700

    Implemented Conn.I.PowerSaving.

commit 4d08157cac256457dd0333b85d78b68164222def
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-09-08 17:27:09 -0700

    Added Conn.I.PowerSaving draft spec.

commit b7e3d9c5637a503783a77ae5e891ede4e30cc655
Merge: 6c0e6e0 a8312e8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-03 19:40:18 +0000

    Merge branch 'telepathy-gabble-0.10'

commit a8312e8ed4c5577fcaebbe9743d2f8bb4b4131cf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-03 17:41:26 +0000

    Fix test failure with my tp-glib 'disappear' branch by loosening an assertion
    
    Reviewed-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 6c0e6e00433c22da93653945e4e4312e6244cdaf
Merge: 81dc5e4 807b282
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-03 19:39:22 +0000

    Merge branch 'mail-tpglib'
    
    Reviewed-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 807b282e51d7dcc27e0b97f38a180ddc9e2045d3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-03 19:14:39 +0000

    Remove MailNotification codegen

commit adbc529c0d1d02fcd09ce481d6555a36d6ddbb60
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-03 19:10:57 +0000

    Require telepathy-glib 0.13.4 and use it for MailNotification

commit d8794e70cee1de46df42199d2063f491a89cb53d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-03 12:02:48 +0000

    conn_mail_notif_init: remove temporary #define and just have over-long lines

commit fb61a6c6bc97c798c227fd59ae8753c3758c4b6b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-03 12:02:19 +0000

    MailNotification: remove unnecessary debug messages

commit 81dc5e4818ec6116b669aeebca6403e15d27cd3a
Merge: 6349829 29e12b5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-02 14:50:17 +0000

    Merge branch 'telepathy-gabble-0.10'
    
    Conflicts:
    	NEWS
    	configure.ac

commit 29e12b5352a2b8e7986e6e823ad9ecbba6d71d51
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-02 14:49:23 +0000

    Nano version

commit 8bd96eead31245633754071a9aaf6161bab59d7d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-02 12:02:28 +0000

    Prepare version 0.10.4

commit 63498298e0232bda8ecd3652dbebe1672d310c47
Merge: 7a2524e fb68fea
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-01 11:45:29 +0000

    Merge branch 'telepathy-gabble-0.10'

commit fb68feadde32173b681c65c68773e81eef1921ae
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-11-01 11:45:09 +0000

    Update NEWS

commit 2fc98e09338937907e45350333723b6d99b4455e
Author: Thomas Flueeli <tflueeli@gmail.com>
Date:   2010-10-31 13:23:45 +0100

    fd.o#24775: implement get_local_interfaces_ips() for Windows
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 7a2524e8c4cca6cf284a6f60f519b159d51ebb37
Merge: 7d0ea51 0a90376
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-10-31 15:11:37 -0500

    Merge branch 'shared-status'

commit 0a903765850e412f5a0c5f4286598f95a6ba61b8
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-10-27 18:47:50 -0500

    Use _dispose function for unregistering iq handler.
    
    Signed-off-by: Vivek Dasmohapatra <vivek@collabora.co.uk>

commit d3ee1c70a2176d489db13f1861c94803ad2629a0
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-10-27 09:48:00 -0500

    Fixed debug error message when getting shared status.

commit e81112d858df616582393cfdec8ef7ad8db721d4
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-10-27 09:46:50 -0500

    Handle empty stanza properly when getting shared status.

commit 8f4443d2b0483e9e0cf833ff142befd9bccc2e6a
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-10-26 14:56:43 -0700

    Add shared-status URL to test docstring.
    Use presence constants where possible.

commit 2973224b472fdc789dc3e8fde5fdb95705aa40f2
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-10-26 14:49:58 -0700

    Assert that stanza has query element before using.

commit f6398e64ba2eeeefef81e86a9d48a9102cd2fedd
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-10-26 12:30:09 -0700

    Nit-picks and style changes in shared status.

commit c14589c3c7de9627c08a52f8070063b82df054e8
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-10-26 12:27:21 -0700

    Remove cryptic debug messages.

commit a20df6c31b1066ccc76693c9f40e7ee63d651dfd
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-10-26 12:23:32 -0700

    Use g_hash_table_iter_* instead of g_hash_table_foreach.

commit 50c64d5f3c430252ed8da04aaf5688fd0df5c911
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-10-26 12:23:02 -0700

    Use wocky_stanza_build to it's fullest extent in build_shared_status_stanza.

commit 80c7a0610033379f6971ec4b2674c26432ef3698
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-10-26 12:08:11 -0700

    Use wocky_porter_register_handler instead of LM whatever.

commit c6462db87fe95ca2f29c9bb647d77e5759a9877e
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-10-24 14:51:22 -0700

    Added a test for shared status lists.

commit b6918068670aa4b321ede6fa882bc418c1f63dc5
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-10-24 14:49:50 -0700

    Add support for stored shared statuses, this is apparently needed.

commit f03dd88a5c78d9c6596540f19c9c209cbdbd1a30
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-10-22 12:20:46 -0700

    Added tests for shared status.

commit 42bd6376a70ad93a4abaed04cf489961b232e63e
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-10-12 10:37:52 -0700

    Added initial Google shared status support.

commit 1643ec3743196c6250b2bd89d57a01bb3d0fe1fe
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-10-21 12:10:27 -0700

    Made your bare jid a conn_util function.

commit b6d6320e603798e70706c9b423849f766089d90f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-29 16:59:03 +0100

    MailNotification: use the undrafted version

commit 662972a569706a77d6fdf626b4a3de47b0f71fd8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-29 16:58:44 +0100

    MailNotification: use client interests instead of implementing Subscribe

commit 7d0ea51f04f26f0b76b2961814d1b43dc5ac60cc
Merge: 54bb831 bb7a7a5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-29 12:33:44 +0100

    Merge branch 'message-properties'

commit 54bb8314da4d34b3980695a4331f9729d3027d0c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-29 12:30:20 +0100

    gabble_roster_authorize_publication_async: disable some unused code in non-debug builds
    
    Reviewed-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 64f4c526019c2183831143fa0883f5d50b19d09e
Merge: e675732 b13b75e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-29 12:10:10 +0100

    Merge branch 'dtmf'
    
    Reviewed-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit e6757325bd78e42f5dbbbde9cba28970244d2cb6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-28 17:04:37 +0100

    Depend on telepathy-glib 0.13.3 and test DeliveryReportingSupport properly
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit b13b75e9bb4a554abca770f7534a4fc5e6697844
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-28 18:17:08 +0100

    Test TonesDeferred and DeferredTones

commit 17bed472c01b5fab59b2278ec7eff7ec0c38cca7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-28 17:49:06 +0100

    Use telepathy-glib 0.13.3 for DTMF, and enable TonesDeferred

commit bb7a7a5f1daea1dd9448c65599fc8c9bafcb038f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-28 17:04:37 +0100

    Depend on telepathy-glib 0.13.3 and test DeliveryReportingSupport properly

commit 4d0d2af917188bc7cf8cc505d2b775949c66f89e
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-28 14:24:33 +0100

    set up telepathy-yell in the gabble build system
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit aac2bbd81d96e228c7d14a5cb91ea4082f581d03
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-28 13:55:47 +0100

    add yell submodule
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit bbd9ed8c911d5f8626fa5a3b39381375a9b4333b
Merge: 6cb6bfd b4c0631
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-28 16:53:49 +0100

    Merge branch 'message-properties'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
    Bug: https://bugs.freedesktop.org/show_bug.cgi?id=30950

commit 6cb6bfd1cb21986a0c86c1ea2cc4da06a726f941
Merge: 885b33c 4da81ef
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-28 16:42:53 +0100

    Merge branch 'telepathy-gabble-0.10'

commit 4da81ef71eb1ba3ff3052daabb628ec13ce8d289
Author: Thomas Flueeli <tflueeli@gmail.com>
Date:   2010-10-28 12:32:11 +0200

    replace strtoull with g_ascii_strtoull

commit 5da106ed3b261b0dbf810d4b5f807d6d87a441f8
Author: Thomas Flueeli <tflueeli@gmail.com>
Date:   2010-10-28 12:26:15 +0200

    replace localtime_r with g_time_val_to_iso8601

commit ce60486a3088d6ab40d8343ae757e93662e3f6e0
Author: Thomas Flueeli <tflueeli@gmail.com>
Date:   2010-10-28 12:11:28 +0200

    conditionally include unistd.h

commit 0b8c4dfdf2b6100acbf7b524e8829c39e8978608
Author: Thomas Flueeli <tflueeli@gmail.com>
Date:   2010-10-28 12:07:01 +0200

    remove unnecessary cast
    
    This fixes the following error on MSVC9:
    
    debug.c(95) : error C2440: 'type cast' : cannot convert from 'GDebugKey' to 'GDebugKey'

commit 908f4474b65c636d53d69e1aea4225c0bd711cea
Author: Thomas Flueeli <tflueeli@gmail.com>
Date:   2010-10-28 11:56:57 +0200

    replace C99 integers with GLib types

commit 885b33c2a7a9e60dd999184c9f342ffc8e02b06c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-10-26 16:22:06 +0100

    Add a summary of how tube caps work.
    
    I just typed this out in an email, and thought it worth saving it
    somewhere.
    
    Reviewed-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit fcf7256b321939d73fac8ae53daa6c817b0ab574
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-26 14:36:35 +0100

    client types test: test with clients with multiple identities
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 456edc514c4547ea585855cd559178256292c436
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-26 13:15:17 +0100

    tests: print out whether a core file exists in red
    
    Previously, as it turns out, if the test(s) failed, the execution of
    the check-twisted rule would go no further, so it wouldn't let us know
    when a core file existed.
    
    This patch not only fixes this behaviour so that not only will the
    "core dump exists" string will get printed, but it will be in red so
    the astute gabble developer will see it and profit from it.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 76c5c806d44ea1e14048a29365a5f14873730463
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-26 12:54:02 +0100

    presence-cache: just don't call _update_client_types if resource==NULL
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 08ccc7b60caebd11aa2e291c27457956a8c16225
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-26 12:44:30 +0100

    presence: assert that resource != NULL in _find_resource
    
    12:42 < smcv> IMO if _find_resource is getting a NULL resource then
                  something is calling it wrong
    
    So, programmer error, so asserting is fine.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 129553ecf203c3c577ca639d97c1710ee8de8dc2
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-26 12:37:39 +0100

    presence: use tp_strdiff instead of strcmp to be NULL-safe
    
    If we get the capabilities of a bare jid then the resource=NULL and
    when finding the appropriate Resource* then it will crash as strcmp
    does not handle NULL char*s well.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 3c4d35feda4f94899c9f598926520f9dfa5b5d92
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-25 14:50:01 +0100

    tests: add test for ClientTypes
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit f971122fb642aff205aea210b7b4cbff9862970b
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-25 14:00:02 +0100

    servicetest: make "handled" appear green again
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit b717d2e316ca2605bc6ac300bf9522b88de5c4b1
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-25 13:51:34 +0100

    test constants: add client types iface
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit cdc362f4508f49acc281cb215ccaf64385079ad4
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-25 13:51:03 +0100

    presence-cache: check to make sure a DiscoWaiter in the list is !NULL
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 98bd0c3034121dd752491b8fe6d0e935495815f7
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-25 11:02:10 +0100

    client types: don't keep firing ClientTypesUpdated before we actually know anything
    
    Previously, GabbleDiscoCache::presences-updated was emitted before the
    disco request had been made to find out the actual client types of a
    resource so when a contact came online there'd be a few
    ClientTypesUpdated signals fired with no information because
    GabblePresence thought we didn't know anything about the types, when
    in actual fact we just hadn't looked yet.
    
    This sets a resource's client types to a silly value so that it's
    obvious when it hasn't been set and shows that CTUpdated shouldn't be
    fired in this case.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 34f8b4ba4492d2808604988ed09b92e7b7dbdc93
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-22 15:02:18 +0100

    jingle tests: test Call DTMF
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 5072e8d67aa3579883ecb628d6d244f1773ae1a7
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-22 15:02:00 +0100

    base-call-channel: implement Chan.Iface.DTMF
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 634fe8b0959578d9208d8baf70907aa9079b35c7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-10-22 12:37:27 +0100

    NEWS for invisibility method preference fix.

commit 29ed25e0fdec53c7d294e09a8024b37d64694963
Merge: 54023e3 4f66208
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-10-22 12:09:10 +0100

    Merge branch '0.10-xep0186-precedence' into telepathy-gabble-0.10
    
    This is backported from master, where it was merged as
    3be1240c7917e90de9818236d02b289ee1166a9f.

commit 4f66208343c29226bdb549c2b1d6d15cd2ab985e
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-10-14 11:15:20 -0700

    Add hybrid (XEP-0126 & XEP-0186) service to initial presence test.

commit 2a295d1d37ff7a092c185e07a338924977e2d565
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-10-13 10:49:15 -0700

    Check for cases when server supports both XEP-0186 and privacy lists.
    Assert that we choose XEP-0186 over privacy lists for simple visibility.

commit afb86949106ae9f255955388b7c1bcd3f550e6f9
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-10-13 10:47:23 -0700

    Use XEP-0186 for simple invisibility when it is available.

commit 8acc5112d9df47306f59c321953fdf7c2a560dfa
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-21 17:46:48 +0100

    call muc tests: update to accept the codec offers instead of calling UpdateCodecs
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 00fa1d81fc0cd8499c1726f752067b43cc94c3ea
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-21 17:45:03 +0100

    content: pop up a codec offer every time a new content appears
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 6e13570538c49bbf60baea0f5f8dc437eb20456f
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-21 17:42:39 +0100

    call-muc-channel: fix a crash when the muji node tree is NULL
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 7f60d7400c8b8d54656a8e8b8d15f20e980d8aa4
Merge: 3be1240 54023e3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-10-20 16:46:52 +0100

    Merge branch 'telepathy-gabble-0.10'
    
    Conflicts:
    	NEWS

commit 54023e383523e20246fa8015f5cfdcf6f333c461
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-10-20 16:43:53 +0100

    Add some NEWS

commit 0acc7bc7afe85b3e1d5e2d24045a90e1fb06dc72
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-13 18:59:19 +0100

    GabbleServerSaslChannel: stop making assumptions about how Wocky implements its async callback
    
    In principle, we're not meant to assume anything about @result - even
    that it's a GSimpleAsyncResult.
    
    (This broke when Wocky changed its source tags from _finish to the
    more conventional _async.)

commit f4fa57cc01fa75d20f5f95b4c67969ffc0f8f210
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-13 18:28:15 +0100

    GabbleServerTLSManager: stop making assumptions about how Wocky implements its async callback
    
    In principle, we're not meant to assume anything about @result - even
    that it's a GSimpleAsyncResult.
    
    (This broke when Wocky changed its source tags from _finish to the
    more conventional _async.)

commit a54ccdc42de68ce9e38c9f12f08fad8b39f1665c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-10-20 13:31:48 +0100

    Update Wocky snapshot
    
    This adds HTTP proxy support, along with a bunch of leak fixes and a fix
    for a crash that never happens in practice. The MUC namespace constants
    were renamed slightly, hence the patch here to build again.
    
    The following two patches, cherry-picked from master, make it actually
    work, too. :)

commit 7539e0ca11c2995acfd23ef631e15c3df6a3fe9e
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-20 14:58:39 +0100

    call-muc-channel: also use Initial{Audio,Video}Name here
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 6a83e8ac8bbbe533ee29d584007edc193eb08095
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-20 14:37:15 +0100

    content: don't let UpdateCodecs be called before the first CodecOffer appears
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 6886f08831e8a16c22a54e7a72c6834926280171
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-20 13:33:55 +0100

    tests: add more tests to call-codecoffer.py to test popping up codec offers
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit aac4452a23077e942b4f223a5b464c0d5571e870
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-20 13:32:57 +0100

    tests: update call-basics.py now that UpdateCodecs is only allowed mid-call
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit c003505d4ed35f007cd4b8c34e5adebc8972a6a8
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-20 13:32:29 +0100

    content: always pop up a new CodecOffer on new outgoing call content
    
    Also disallow calling UpdateCodecs if there is a CodecOffer in flight.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit bee615727820e97aa4c0bd33a88c09805da69448
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-19 18:22:57 +0100

    call tests: update to make them all pass again
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit f11c85e3b64be92a431197a8a09ce3baf6ed4601
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-19 17:50:28 +0100

    codecoffer: rename to codec-offer
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 48a269c2ef86f025e19a2bb3692a1e00b9a51aac
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-19 17:37:28 +0100

    stream: implement LocalSendingState property
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit efb917f154a1c06925edfa6269877a16533fb6a3
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-19 13:38:54 +0100

    call-channel: implement Initial{Audio,Video}Name
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 1a27114b7fd757343fda25e7145a8fbe9260648a
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-19 13:16:17 +0100

    stream: emit {STUNServers,RelayInfo}Changed as appropriate
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 0f92566b27ccbb8e49dc26e3d412358fbf82f05f
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-19 13:14:31 +0100

    jingle-factory: add ::stun-server-changed
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit b82ac06f813fde1a3764728427f1b6f6e017dab6
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-19 11:53:41 +0100

    stream: RetrievedServerInfo is now HasServerInfo
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit fd80294e2139da44027f751f7cc99a0e8bb4a290
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-19 11:44:46 +0100

    stream: implement CanRequestReceiving property
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit e25a1b0af62fb83ce232d99f334884a7264418b8
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-19 11:29:44 +0100

    stream: implement Interfaces property
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit c311be498b99250dfda6539ef096d95dbba63458
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-19 11:26:14 +0100

    stream: rename Senders to RemoteMembers and omit the self handle
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit f896d54a160724d3a9c94803fbe317b1ec9d97b6
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-19 10:52:38 +0100

    content: rename SetCodecs to UpdateCodecs
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit f8959fc99cfa391ab15cf5381b4ebd2f1034b655
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-19 10:51:53 +0100

    call-content-codecoffer: add Interfaces property
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit dbc5309a0b1bf3b4ada0eae251a07829d6e0a005
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-19 10:47:08 +0100

    call-channel: the ContentAdded signal lost its second argument
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit e34a6bf5739956361675b9032bf6bece6fc513c8
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-19 10:44:54 +0100

    content: implement Packetization property (poorly)
    
    Uh oh, spaghettio!
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 503df43abadbbdc17774d0e9475313425db1eaae
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-19 10:37:14 +0100

    content: rename Stream{Added,Removed} to Streams{A,R}
    
    Plural, baby!
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 06c32c0071603f09c44895cc6e43f18445c2e709
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-19 10:09:33 +0100

    content: remove Creator property
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 6df8cd440c74430865032eeb0c30d59eb4fd4231
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-19 10:07:58 +0100

    content: implement Interfaces property
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 36be00b7f208fd3dd3237f4798f2ded463660966
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-19 09:58:13 +0100

    content: add a ::removed signal and implement Remove
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 0b75988fcc1cd74d31605c50ef8223f6386271e1
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-19 09:53:55 +0100

    extensions: update to 0.21.2 Call specs
    
    This means gabble doesn't compile anymore.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit b4c0631442ebf00f193d0484167cdaa2fb8b20f4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-18 12:18:50 +0100

    Test Messages' immutable properties

commit 78bb9837192912cf10eb65f3f3601247c9c5f9c9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-18 11:26:11 +0100

    GabbleIMChannel, GabbleMucChannel: add Messages' immutable properties

commit ec24fd904db5811fa29b3f77f0102d07d0f141d2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-18 11:21:16 +0100

    Use G_N_ELEMENTS for length of @types in tp_message_mixin_implement_sending

commit 3be1240c7917e90de9818236d02b289ee1166a9f
Merge: 92280b4 fbdbc41
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-10-14 11:16:50 -0700

    Merge branch 'xep0186-precedence'

commit fbdbc417e0d70c909fd3d92fb78d2693c41e3a3d
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-10-14 11:15:20 -0700

    Add hybrid (XEP-0126 & XEP-0186) service to initial presence test.

commit 2854cf2a9f7d2febc95cf6ece8b934eccc641afa
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-10-13 10:49:15 -0700

    Check for cases when server supports both XEP-0186 and privacy lists.
    Assert that we choose XEP-0186 over privacy lists for simple visibility.

commit 614e1e82121a21e94f7f7cebf0d901b2ad6671be
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-10-13 10:47:23 -0700

    Use XEP-0186 for simple invisibility when it is available.

commit 92280b4f741aeddd19af604b37fd292e2be8016d
Merge: 362a99c 4248473
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-13 19:23:44 +0100

    Merge branch 'caps-badgering'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 362a99ce4084ae6fb57b523491422dc8de6a90e6
Merge: 754d770 8a82f02
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-13 19:23:26 +0100

    Merge branch 'tls-crash'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 8a82f02f5b3f9c46bfcf931f3cbb2544d107f6e6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-13 18:59:19 +0100

    GabbleServerSaslChannel: stop making assumptions about how Wocky implements its async callback
    
    In principle, we're not meant to assume anything about @result - even
    that it's a GSimpleAsyncResult.
    
    (This broke when Wocky changed its source tags from _finish to the
    more conventional _async.)

commit 2fe90df39091e74f9d54a058fa56feeec508af55
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-13 18:28:15 +0100

    GabbleServerTLSManager: stop making assumptions about how Wocky implements its async callback
    
    In principle, we're not meant to assume anything about @result - even
    that it's a GSimpleAsyncResult.
    
    (This broke when Wocky changed its source tags from _finish to the
    more conventional _async.)

commit 754d770340d805c36745f94e56b63e520968c338
Merge: d5b3726 3832050
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-10-13 12:50:33 -0400

    Merge branch 'speedup-mail-notification'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 3832050c5791b9c9caa53999004acfa236e9b9d9
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-10-13 12:49:26 -0400

    Some English fixes

commit 68a2240752ba668449fc09dce7c98fdae64bc3a8
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-10-05 19:28:52 -0400

    Mail status polling to workaround server laziness
    
    The Google server stops pushing <new-mail> updates for the period of
    POLL_DURATION seconds. To ensure that MailNotification remains accurate,
    we manually update every POLL_DELAY seconds the mail information.

commit da84515010d0130228679ce468034c52446776e5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-13 17:18:05 +0100

    jingle/dtmf.py: demonstrate that pauses (comma) are recognised

commit 621ee607a8890a2082f186e1c0d134baf801fbfc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-13 16:54:28 +0100

    dtmf-player test: test deferring tones

commit 33403e03c9e3754bad61f654ec61d8e2949d43df
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-13 16:54:12 +0100

    GabbleMediaChannel: add stub support for DeferredTones/TonesDeferred

commit 6cd5af418b7c1ee0583d92c0ac9774bb7c84652a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-13 16:53:17 +0100

    GabbleDTMFPlayer: add support for pausing and deferring tones

commit d5b3726519f8d61ac53770d2c7961ccc3435dfd9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-01 15:11:09 +0100

    constants.py: sync back from Salut (add Aliasing and Presence)

commit 48808851717895cb8adbdbbd3014f43c26921b36
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-10-13 15:38:42 +0200

    constants.py: add Message_Sending_Flags and Delivery_Reporting_Support_Flags

commit 4cc35a30fb47eae9e44825b9f4809bf263b880d0
Merge: 6589c70 f5f7f03
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-10-08 14:27:37 +0100

    Merge branch 'telepathy-gabble-0.10'
    
    Conflicts:
    	NEWS
    	configure.ac

commit f5f7f03dec5874f319c4ca55e8ba1e93bc1ac11f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-10-08 14:26:56 +0100

    Update Wocky snapshot for Coverity fixes.

commit b9fb773989b6a879a7f7381d7c8a55ae6efbe236
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-10-08 13:38:18 +0100

    Search: clarify handling field request result
    
    Coverity got upset that we might be passing a NULL query_node to
    parse_search_field_response(). Actually, we never do, but rearranging
    the code a bit makes this more explicit.
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 6589c7097593d1bc89a08c0c7fa623717da7eb5c
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   2010-10-06 16:14:17 +0200

    Set the version in which the Decloak API was added

commit 3b61e42569f55eb78380848c80647ac0fb8d8bf4
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   2010-10-06 17:03:46 +0200

    Bump nano version to 0.10.3.1

commit bdcf7b410501a216db610562c34086f60b899201
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   2010-10-06 16:34:39 +0200

    Release 0.10.3

commit ccdc3a6e9aae41f3a3fc23b4edaeecd27f1711c4
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   2010-10-06 16:14:17 +0200

    Set the version in which the Decloak API was added

commit 3f5c396fd2fbedea6551bc9d7d3ebdca7ad1db27
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   2010-10-04 20:14:19 +0200

    Emit ActivitiesChanged when the server aknowledges our own update.
    
    And don't update the local activity cache because we may have there
    private activities that the server doesn't know about.

commit 8fc254b20b4911aea4ce4d3d17bfa004846b8577
Merge: 031318c db9644e
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-10-06 12:43:44 +0100

    Merge branch 'client-types'

commit 42484739b193e859489f51e2c9bc3f58e38198f1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-05 19:30:46 +0100

    GabbleCapsChannelManager: remove some unnecessary inclusions

commit ae063786f6d4c1afb1a897d6deca8c55a244d7ce
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-05 19:29:22 +0100

    capabilities: separate out legacy capabilities code, which we don't need for Salut

commit b6d3c40c25e871bd5d90e09f333e7f83b14880cd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-05 19:28:05 +0100

    capabilities: port from pseudo-Loudmouth to Wocky

commit d80d83a1b099cb94da1d0536992b836ccf5b45c3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-05 19:15:34 +0100

    capabilities: prune some unnecessary inclusions

commit 2caaa9a4f0772f7f0db83eea11e0e1367cb7e00e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-05 19:10:26 +0100

    gabble_capabilities_init, finalize: make the connection just a pointer
    
    It's only used in a debug message, and using a gpointer will make it
    easier to use this code in Salut.

commit d494b8f3971f5568d8e501ec435a2fb29d178453
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-05 19:07:40 +0100

    GabblePresenceCache: add well-known bundle capabilities in constructor
    
    Rather than having the Connection drive this, we might as well just ensure
    it internally.

commit 2d7e53b47ea3fdf89d881edfb10b6c1948cc7e6d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-05 19:04:17 +0100

    Move capabilities_fill_cache into presence-cache

commit 80706968cebed2b9a58d8ddceb5784da49773700
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2010-10-05 18:11:28 +0100

    Reprivatise base status list; expose base+plugins list via a function instead

commit eed1d9a00f2baf626ad2733b2e5c6642d7637990
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2010-10-05 18:09:25 +0100

    Update test to include statuses from plugins

commit 1e4a78d0f42e6e08cd5edda9c92df6a24bd4e150
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2010-10-05 18:08:52 +0100

    g_strdupv() a gchar ** instead of g_strsplit() a constant

commit 031318c2df8e4dade35ccb3982d3657ff62292a8
Merge: e8203a2 d2020b8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-05 18:06:33 +0100

    Merge branch 'telepathy-gabble-0.10'
    
    Conflicts:
    	src/conn-olpc.c
    	src/connection.c

commit e8203a2231cbcc0055c3b635699afee6d0aff844
Merge: 2644f51 d0f0a31
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-10-05 16:49:47 +0100

    Merge branches contact-list-fixes, contact-list-merge, really-enum
    
    Reviewed-by: David Laban <david.laban@collabora.co.uk>
    Conflicts:
    	tests/twisted/Makefile.am

commit 0535ef4152432a3740552e1c88cb823a2e36a7aa
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2010-10-05 14:53:21 +0100

    Use status to implement base-protocol callback for Protocol.Interface.Presences

commit 8d6171e48d08ac98425b2a319950e0968c59f88b
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2010-10-05 14:52:31 +0100

    Expose the standard status list to other parts of gabble

commit 28dcce1a4ebc587853cac54bdbe90c674eae2595
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2010-10-05 14:51:48 +0100

    Tests for Protocol.Interface.Presences

commit 2644f51b86778c49df1a9bb3e90dd668a145fcdf
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   2010-10-04 20:14:19 +0200

    Emit ActivitiesChanged when the server aknowledges our own update.
    
    And don't update the local activity cache because we may have there
    private activities that the server doesn't know about.

commit d2020b8ecfd0eeb59ccefc26a460a19c8bc79b60
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-10-04 13:53:24 -0400

    Fixed merge error in NEWS file
    
    The comment about removal of libuuid was merge at random place in the
    NEWS file. This patch fixed it to be in 0.10.3 (UNRELEASED) section.

commit 595923caa8d994ec8fbba4b5c4e3506a29f1437a
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-10-01 16:28:38 -0400

    Remove dependency to libuuid
    
    Remove dependency on external libuuid by implementing an RFC4122
    compliant UUID generator. (bugs.fd.o #28990)

commit 83ff181d4fc2d3dc936f1c4df440a4606e0308e9
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-10-04 17:07:47 +0100

    Run all tests again for official releases

commit e75db0aa1d231fc6206cf9a0b1ccb4590028f28e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-10-04 16:47:41 +0100

    Split service-test from one queue into multiple named queues
    
    A big source of race conditions in the test is because we're multiplexing
    events from multiple event sources into one stream, depending on external
    conditions the ordering of individual events can change. The gabble test go a
    long way to try and cope with this, but it's nearly impossible to do so in all
    cases.
    
    This patch replaces the one big event queue by a queue per source and makes
    the expect function only pop events from queues it's waiting on instead of all
    of them. This makes the ordering of events as seen by the test completely
    deterministic as it's now purely ordered by the ordering of the actual sources
    not by the order in which we read from the sources.
    
    For backwards compatibility the queue name is taken from the prefix of the
    event currently, so the test don't need any changes. For more advanced test in
    the future the queue names could be settable (e.g. different queues for
    different dbus connections).
    
    Some tests needed small updates because they got confused by earlier events
    occuring on the queue they were interested in (mostly events that in the old
    system would be dropped by execting events from unrelated sources).

commit 8d152596eeb21b885a17632dff2526ec5d1cdc38
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2010-10-04 17:32:41 +0100

    slacker_message_filter can survive invalid/non-signal/unexpected messages
    
    We now no longer try to obtain the quark from the interface until
    we are sure the message is a signal and actually has an interface.

commit 64d9b702f86494c682b69471ea1f1226e9243a99
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-10-04 16:24:26 +0100

    Pre-emptively remove a test failure in the multi-queue scenario

commit 946a9415664ad1b8720145603caa20f603a29ff5
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-10-04 16:22:06 +0100

    Make test-avatar-async less racy

commit 21414d49761149cc4551680efc78226aa84394b7
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-10-04 16:20:00 +0100

    Make the jingle muc test less prone to races

commit 17440af14736415a4f4a95aae17f7b1f7528f180
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-10-04 16:07:51 +0100

    Small code simplification

commit 4637484112ab53aa2d80ac8b4629aecf8dc0536e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-10-04 13:12:39 +0100

    Don't announce new tubes channel until the muc is ready
    
    When the muc becomes ready it will announce both the text channel and tubes
    channels if applicable, so don't directly announce muc tubes before the muc is
    ready. Closes: #28279

commit 30ca6f73177b1689b566d0f43774af71aae4f5e5
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-10-01 16:28:38 -0400

    Remove dependency to libuuid
    
    Remove dependency on external libuuid by implementing an RFC4122
    compliant UUID generator. (bugs.fd.o #28990)

commit c4dfd539161e143f958e3ea9d58029fa57c4066b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-23 12:09:51 +0100

    Comply with C90 in code from which Gadget support was removed

commit 93ae59fb3a9c7abb684be15c1883989b03258482
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-23 12:06:39 +0100

    Remove unused label left over when Gadget support was removed

commit 13fccca78f2d02a20b13e690bb02a3705386ac4d
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   2010-09-21 19:07:18 +0200

    Remove support for gadget
    
    It has never been used in production and the tendency is to use
    smaller shared rosters and standard XMPP search.

commit e8ba306b7915b05f4b60eecaceba2f51435da292
Merge: 4dbd847 d47c6d0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-10-01 18:42:57 +0100

    Merge branch 'telepathy-gabble-0.10'
    
    Conflicts:
    	NEWS
    	configure.ac

commit d47c6d04c4e1b8cf1134593921fb4120433eac9e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-10-01 18:10:51 +0100

    Bump nano version to 0.10.2.1

commit ca92b4dac27b97d1f71e00a04a6fdeba65cdc2b3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-10-01 17:48:10 +0100

    Mention tolerating recoverable XML errors

commit 8422c2452c6c95c5f37280a23acb3d6a06bdffaa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-10-01 17:36:29 +0100

    Fix a race in olpc-muc-prop-change.py
    
    AddMembers() returns right away, so if we're going to expect its return
    we need to expect it at the same time as the other events that occur
    immediately in response to our calling AddMembers().
    
    This same race was fixed in another OLPC test two years ago (commit
    2938d8c). I've checked the rest of the OLPC tests.

commit aa4925fed2a1b79c1ab7d8429761bd38988f0db6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-30 11:52:47 +0100

    version 0.10.2

commit d16fcf52e03fd31d82b6c5e88695e30452fc9e36
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-30 11:51:32 +0100

    NEWS for 0.10.2

commit 8bf825940c834b44e7c7ceb17b26b30e5ff96aba
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-29 15:10:18 +0100

    Automate release process
    
    The idea is that you smoke-test the release, then just run
    
      % make maintainer-make-release
    
    which generates the tarball, the signature, the signed tag, and the
    release mail, uploads the release to telepathy.freedesktop.org, and then
    reminds you of the remaining steps (nano version bump, pushing to
    upstream, and sending the mail).
    
    If you want to do all the local bits, but not send anything, just run:
    
      % make maintainer-prepare-release
    
    then do whatever you want to do with the tarball etc. If you think it's
    ready, run:
    
      % make maintainer-upload-release

commit e57ff90723280f82018fa649c5bc03a43d7d43bb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-10-01 16:49:10 +0100

    Always slice-allocate GabbleDiscoIdentity
    
    gabble_disco_identity_new() returns slice-allocated GabbleDiscoIdentitys;
    gabble_disco_identity_free() slice-frees its argument. So we need to
    slice-allocate them when we copy them, too.

commit 6f64e147313122a03c2f7a18e22218ae8e038490
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-10-01 16:06:38 +0100

    Always run tests with G_SLICE=debug-blocks.

commit 573e97d0e2381049c14828f134c12edbb443ed1c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-30 12:49:15 +0100

    Don't run known-failing tests in releases.

commit 807bf0a949db4987701d015566a4eedf30a69e45
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-28 17:42:18 +0100

    Make it easy to skip unrelated batches of tests during development
    
    Use: make check ... TWISTED_TUBE_TESTS= TWISTED_FT_TESTS= ...
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit 50a69455f39fff28557d4e45a4e2f8ad3281bc05
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-10-01 15:27:58 +0100

    Update wocky snapshot

commit 4dbd84751329aab78c2d8ad18f028247c08ab8dc
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-10-01 15:27:58 +0100

    Update wocky snapshot

commit d0f0a3181246e7ec3eed01ed72f040c108152650
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-30 18:14:52 +0100

    GabbleRosterSubscription: be a proper enum

commit 8414941e317172d5af687752f810376113da09d4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-30 18:13:13 +0100

    GabbleRoster: stop relying on subscription being a bitfield

commit 40357ddad37f1f5692a77a7f44de7666b853935a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-30 18:08:39 +0100

    gabble_roster_handle_get_subscription: inline a simplified version into callers

commit 5591a70e8fa59a18e8ef045cbda10c3b2076c1e2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-30 18:05:24 +0100

    GabbleRosterSubscription: localize into roster.c

commit 33036f12275db378f78bcc08d34255375b6c6748
Merge: 1b45b38 7289562
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-30 17:29:41 +0100

    Merge remote branch 'upstream/master' into contact-list-merge
    
    Conflicts:
    	src/connection.c
    	src/roster-channel.c
    	src/roster.c
    	src/util.c
    	src/util.h
    	tests/twisted/Makefile.am
    	tests/twisted/constants.py

commit f6ece7536086f6e6f1d14b1ad5d9f2b4eb428007
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   2010-09-30 16:03:59 +0200

    Check if we have already an OlpcActivity for that channel
    
    Otherwise we were creating two activities for the same channel: one
    when the channel is created and the other when Sugar calls AddActivity.

commit aa7af29690c00a94d6f6f3e418146a1fa9c3e165
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-30 16:04:27 +0100

    GabbleMediaChannel: cache whether we have at least one audio stream

commit 84b0db91e814ca90efdfc51596b1f344ffb455d8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-30 15:45:55 +0100

    jingle/dtmf-no-audio: assert that DTMF fails if we don't have audio

commit 056115c792d35bca280e3aff0af2cc9120891655
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-30 15:45:25 +0100

    jingle/dtmf: make an assertion more strict

commit df7fa9e673c2d538681f952f8df0eb47a20e4012
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-30 15:42:08 +0100

    jingle/dtmf: extend the test to deal with multiple streams

commit 0eb7951b07afbfed78d62c0a5d5be1a08af6ecee
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-30 15:37:18 +0100

    Add a regression test for DTMF

commit 90cc6b91d89446a5a033b6f41c706b572ffa1373
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-30 13:32:23 +0100

    GabbleMediaChannel: implement MultipleTones

commit 3935f447a63c14dc823b86d7391fd71d464a0dd7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-30 13:27:57 +0100

    GabbleMediaChannel: use a GabbleDTMFPlayer to play tones

commit 2286a467b17f1abf62e7fb08651313b00b3e5fc7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-30 13:26:42 +0100

    gabble_media_stream_add_dtmf_player: add method to hook up signals

commit ff4dadbbca683e672ef26031938a93a6fe8ec6be
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-30 15:11:56 +0100

    add a test for the DTMF player

commit ecb60e296401aac858783859efc98e077cc247e8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-30 13:26:16 +0100

    GabbleDTMFPlayer: add a DTMF string interpreter
    
    This should go in telepathy-glib if it's suitable for telepathy-sofiasip.

commit cd5296450a26f5e40ff1f93572a707e8de608890
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-30 11:41:15 +0100

    GabbleMediaChannel: implement a stub form of MultipleTones

commit 0eae2624d7de5be4e677e7d712a22a68c6ba92cd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-30 11:41:02 +0100

    GabbleMediaChannel: implement CurrentlySendingTones and a stub form of InitialTones

commit aaa32dcb7431d949611c18164c0d3e5561185ac2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-30 11:40:22 +0100

    GabbleMediaChannel: emit SendingTones, StoppedTones

commit ceb454d3b15402587621eb180bb7369ba85f400c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-30 11:35:15 +0100

    gabble_media_channel_start_tone: fail if a tone is already being played

commit dff265e7318ff12f6db9ce439bb557332d797c9b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-30 11:33:51 +0100

    gabble_media_channel_stop_tone: ignore stream ID and stop all tones
    
    Also, don't do anything unless we're sending a tone.

commit 7f206ba9736d52df266239cc6eb0f4a7e7feb750
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-30 11:31:15 +0100

    gabble_media_channel_start_tone: ignore stream ID as per spec 0.19.6

commit 1bc6f1f3b96597ffb91914ebfe0db282864a21a1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-29 18:36:04 +0100

    GabbleMediaStream: give telephony more useful debug messages

commit e6a66f03cd6c62947c9ebc4f937e5c7cf7da958d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-30 11:39:06 +0100

    gabble_dtmf_event_to_char: add
    
    This is in a separate file, because it probably ought to go in
    telepathy-glib.

commit 6831b2d35dd2d811292259f407a8b1aeccf2df22
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-29 18:35:40 +0100

    GabbleMediaStream: coding style nits

commit bd624d81364756f3d2f570ef7e28b32695ba2927
Author: Jack Bates <ms419@freezone.co.uk>
Date:   2010-06-07 07:46:09 -0700

    Implement TP_IFACE_CHANNEL_INTERFACE_DTMF
    
    This means the Empathy dialpad can be used when calling Asterisk with Jingle.
    
    Bug: https://bugs.freedesktop.org/show_bug.cgi?id=28413

commit 21617117c85c82a099f90403c2efaa08ed4bbe74
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-30 16:13:06 +0100

    jingletest2: make can_do_video_only() default to can_do_video()
    
    Previously, GtalkProtocol04 claimed to be able to do video-only
    even though it couldn't do video, because it incorrectly didn't override
    can_do_video_only. I could fix GtalkProtocol04, but it seems nicer to make
    it safe to not override can_do_video_only.

commit db9644e872a5e9d212c597fcf547df7b62bf5314
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-09-30 15:53:02 +0100

    extensions: remove old draft client types spec
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit f140f031a6f1091ba4f41b2689f010fdf22caa3e
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-09-30 15:52:43 +0100

    client types: use tp-glib's generated code
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 8be34f9baf4b7e2b0f6576e3a204f9a00dc83b84
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-09-30 15:52:17 +0100

    configure: depend on tp-glib 0.13.1
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 728956252ce906348ff6d29d704dc87454ed70c7
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   2010-09-30 16:03:59 +0200

    Check if we have already an OlpcActivity for that channel
    
    Otherwise we were creating two activities for the same channel: one
    when the channel is created and the other when Sugar calls AddActivity.

commit b38747f1676b63e1cdfcc4d3856c3159b6a229fe
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-29 15:11:44 +0100

    Bump nano version to 0.10.1.1

commit 7aff698d14232681e748931bd1ebbca7d0ff123f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-29 11:01:31 +0100

    Version 0.10.1

commit f7c0dc621f6a87bced8efc9d16d67debfd6170c5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-29 11:01:18 +0100

    News for 0.10.1

commit 581a9d75c148ab8fad3550c95b8cf012ab425690
Merge: ba6e385 1d2ec1b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-29 11:30:09 +0100

    Merge branch 'telepathy-gabble-0.10'

commit 1d2ec1b723b77946515c52abbec48a526181cff8
Merge: a870606 1d4fc1a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-29 11:29:18 +0100

    Merge branch '010-roster' into telepathy-gabble-0.10
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 1d4fc1a374c72aa05898db3d69c47a8a0da86c00
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-28 13:05:15 +0100

    gabble_presence_parse_presence_message: correctly check 'to', not 'from'
    
    The intention here seems to be that if the user is on our subscribe list
    (sends their presence to us, subscription='to' or subscription='both'),
    then we can be confident that unavailable means offline; however, the
    wrong flag was checked. The new function naming makes this more obvious.

commit 939631bc1d5b80f4d5ba21936f05c028ce2751ae
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-28 13:09:39 +0100

    Use gabble_roster_handle_sends_us_presence, etc., outside roster.c

commit 06289953fbef7f5d04184ead091c73a508d5bd54
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-28 13:00:03 +0100

    Roster: add gabble_roster_handle_sends_presence_to_us, gabble_roster_handle_gets_presence_from_us
    
    This naming is a bit unwieldy, but it makes it clearer which way round
    they are!

commit 1b45b38aead32561ed9a227a642b5d6870dbbdf4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-28 12:47:51 +0100

    constants: update for stable telepathy-spec

commit ba6e385e18422e1065628e0a76fa13d1ad624196
Merge: 21ddffe a870606
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-24 12:36:38 +0100

    Merge branch 'telepathy-gabble-0.10'

commit a870606ea801ac895ff87e35175fd8dc62adb261
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-24 12:32:38 +0100

    Update Wocky for another Coverity nit.
    
    Namely: ‘Check return of wocky_xmpp_connection_send_stanza_finish’

commit fdc9043f480a214a6244969e78462219b85471fa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-24 10:49:20 +0100

    Don't assume privacy list list is well-formed.
    
    Previously we assumed that a non-error reply contained a <query
    xmlns=...privacy/> element, and would crash if it did not.

commit 21ddffea0d94f72247b6f695223c7907ba1c2789
Merge: 686e133 bda85de
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-09-23 17:21:44 +0100

    Merge branch 'presence-test-fixes'

commit bda85ded3b54303f2d3e6b313fab0ec9a25a8451
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-09-23 16:00:21 +0100

    test-presence: now that last activity is taken into account, fixup test
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 4b2cffdccb80d34bf1721f9d7d685cad969ebc9c
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-09-23 15:59:46 +0100

    presence: be sure to record which resource has best activity when looping
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 686e133c3900f6530562f7179c2efe1ba6585621
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-23 12:09:51 +0100

    Comply with C90 in code from which Gadget support was removed

commit 6b6833af7a4cc83d06a50581883c0d0844088065
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-23 12:06:39 +0100

    Remove unused label left over when Gadget support was removed

commit 50e818da58daa9ad99b4cbb27c52407e15ea2b6f
Merge: 197cdb6 8acf0a6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-23 12:03:35 +0100

    Merge branch 'get-bus'
    
    Conflicts:
    	src/connection.c
    	src/olpc-activity-view.c
    	src/olpc-buddy-view.c

commit 197cdb6f5d08574e982a31c007cb93d515a24c20
Merge: e6fd42e 89eb57e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-23 12:02:01 +0100

    Merge branch 'telepathy-gabble-0.10'
    
    Conflicts:
    	NEWS
    	configure.ac

commit 89eb57edb21d454ed4051dade13fa656ee7ea2bf
Merge: 566cad9 7361292
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-23 11:28:24 +0100

    Merge branch '010-leaks' into telepathy-gabble-0.10
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit e6fd42e02f85665451e5332caa3300b3c03f516b
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   2010-09-21 19:07:18 +0200

    Remove support for gadget
    
    It has never been used in production and the tendency is to use
    smaller shared rosters and standard XMPP search.

commit 736129227f8e16cfa6db1260f6276a3dd7f2ed2b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-21 15:21:46 +0100

    call_stream_endpoint_new_candidates_cb: don't leak contents of array
    
    gabble_call_candidates_to_array returns a dbus-glib boxed type whose
    contents need to be freed explicitly.

commit d917e3cd439f8282c88804a85c2d3d238483308e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-21 15:20:52 +0100

    gabble_call_stream_endpoint_get_property: don't leak contents of RemoteCandidates
    
    This had the same bug as the Call.Stream's LocalCandidates.

commit e01a5b499ed457135c12e31e9acf85b41ac81e62
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-21 15:18:46 +0100

    gabble_call_stream_get_property: don't leak contents of STUN_SERVERS
    
    This had the same bug as LOCAL_CANDIDATES.

commit ee911fc4930c0466d4d8d75c83b179715a2c3ce5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-21 15:18:28 +0100

    gabble_call_stream_get_property: don't leak LOCAL_CANDIDATES
    
    Also, omit a redundant deep-copy.
    
    Previously, the array was deep-copied and then unref'd. The copy and its
    contents would be freed by the GValue, but the contents of the original
    array were leaked. Now, we hand over the array to the GValue and everything
    is freed.

commit f4bf48bd8f6ccbe4a0bbbdd09d3849df69cd5336
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-21 15:15:59 +0100

    gabble_call_candidates_to_array: document types and ownership

commit 8acf0a66e8c296e2f9bd1089a0884eb2ffedcc72
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-22 17:58:07 +0100

    GabbleCallStreamEndpoint: don't leak the TpDBusDaemon I added earlier

commit 56dfc05134c9326b56cf8b53437f613c65caff0d
Merge: a814fb4 10fd7b2
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-09-21 19:08:16 +0100

    Merge branch 'client-types'
    
    Conflicts:
    	src/connection.c
    	src/debug.c
    	src/debug.h
    	src/presence-cache.c
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit a814fb4d83507c4f7a90cc4c81a25872e82dd550
Merge: 13801eb 4c586d4
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-09-21 09:53:39 -0700

    Merge branch 'send-iq-async'

commit 4c586d477f2a991d4bfb85befc94f8385eb58219
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-09-16 09:24:57 -0700

    Free a GError* in conn_util_send_iq_finish

commit 4caf04e0bc173afd3b6984958f04370b394cfd50
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-09-16 09:03:07 -0700

    Make conn_util_send_iq_finish supply only one error.

commit 5720badc830bb3d0b76a9d3c54cab6ef95d63289
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-09-15 10:52:26 -0700

    Unified conn_util_send_iq_finish to supply both a tp and wocky error.

commit ceff4bfef928ac007f5c80ca049ee7fd71fcb166
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-09-08 11:13:33 -0700

    Added a connection utils file with an async iq sending function.

commit 10fd7b2eab1abc68a72f06476dbbf1bc59d7c529
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-09-21 16:33:59 +0100

    client types: make sure that every pointer array created is freed
    
    Before the contact attribute and method shared more code, freeing each
    array was done slightly differently. Upon changing that, some remains
    were left which didn't make sense. Thanks Will for noticing this!
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 2037eabc682026574fdaec677f9dec54c4161b4b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-21 15:24:36 +0100

    gabble_call_content_get_property: eliminate redundant array copy
    
    Same reasoning as in the Stream.

commit 60beabb0efcaa5719692600c52193e8353147622
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-21 15:23:59 +0100

    various Call classes: use tp_clear_object, tp_clear_pointer

commit 28b255e18ae92981ac6bafebd0866453db75df0e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-21 15:21:46 +0100

    call_stream_endpoint_new_candidates_cb: don't leak contents of array
    
    gabble_call_candidates_to_array returns a dbus-glib boxed type whose
    contents need to be freed explicitly.

commit 341cfae0bbc2a344d870db0c2ed17d3476bb8948
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-21 15:21:10 +0100

    gabble_call_stream_endpoint_dispose: use tp_clear_object

commit 41fbc8cff6d53f219c65eb92374f5b0786bc8b89
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-21 15:20:52 +0100

    gabble_call_stream_endpoint_get_property: don't leak contents of RemoteCandidates
    
    This had the same bug as the Call.Stream's LocalCandidates.

commit a66f9f35c9229571b66b16beb78206f6e862fbba
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-21 15:20:22 +0100

    gabble_call_stream_dispose: use tp_clear_object, tp_clear_pointer

commit 5fcfe91affd075d354a685bb4f3849d528d1b178
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-21 15:20:01 +0100

    gabble_call_stream_get_property: eliminate a redundant array copy
    
    Previously we filled an array with borrowed strings, deep-copied it into
    the GValue, and freed the original array; now, we fill the array with
    owned strings and let the GValue take ownership.

commit 32e007e41f51ae5d4aeec13183be3cd34f550ac7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-21 15:18:46 +0100

    gabble_call_stream_get_property: don't leak contents of STUN_SERVERS
    
    This had the same bug as LOCAL_CANDIDATES.

commit 1c199247999b08a21f0a4389ea41fba424370f5a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-21 15:18:28 +0100

    gabble_call_stream_get_property: don't leak LOCAL_CANDIDATES
    
    Also, omit a redundant deep-copy.
    
    Previously, the array was deep-copied and then unref'd. The copy and its
    contents would be freed by the GValue, but the contents of the original
    array were leaked. Now, we hand over the array to the GValue and everything
    is freed.

commit efea3e4c1fd78be1ef13a7a22496cd4c5c893256
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-21 15:15:59 +0100

    gabble_call_candidates_to_array: document types and ownership

commit d693c4702fb9ab22e2bf3a4edba60e6dd7e4289a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-21 15:15:35 +0100

    various: use tp_clear_object, tp_clear_pointer more

commit 3769699b2b6b17a709e4d70c9fe1faee26a1f909
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-21 15:09:35 +0100

    plugins: use tp_clear_object in simple cases

commit a3baf27590d80db48ecf573ef2d0634de4e9db8f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-21 13:05:45 +0100

    GabbleCallStreamEndpoint: have and use a TpDBusDaemon

commit bfc6cd70dc11a8107cc95921f6fcfc9ee297073d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-21 12:53:27 +0100

    GabbleCallContentCodecoffer: receive a TpDBusDaemon on construction

commit 400b76af70d92ef9dba0a8b5fc03febdc8cf51bc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-21 12:41:41 +0100

    FT, Media, Calls: use the Connection's TpDBusDaemon

commit 058b4c22da1021672d1ba828d4a882227e89e099
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-21 12:41:02 +0100

    Sidecars: use the connection's TpDBusDaemon to register/unregister

commit fd73f1ee8367b2c7a8abf917b155402c8095dc22
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-21 12:40:39 +0100

    MUC factory: use the connection's TpDBusDaemon rather than tp_get_bus

commit 0b90c279acc8c3c451101311f825817c21cefc0a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-21 12:39:56 +0100

    OLPC classes: use the connection's TpDBusDaemon

commit d38f7110aafe4faceaa2c2b8f17ea9587b837305
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-21 12:39:41 +0100

    Roster channel: use the connection's TpDBusDaemon

commit 3fb18515b76a1fbdf091a403baaad65bb0d0b84e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-21 12:39:29 +0100

    Server SASL channel: use the connection's TpDBusDaemon

commit 59319365a14e0f62407a44191b386b1d581083fa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-21 12:38:42 +0100

    Tubes: use the connection's TpDBusDaemon to export objects
    
    In preparation for deprecating tp_get_bus(), which exits from a shared
    library.

commit c35ebf7b939774c0758df9e5f3f4d55cdd672d7b
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-09-20 11:39:28 +0100

    client types: share some code between method and contact attribute
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit cd0da0a8ddc7d47d614364912290dd5859fe1615
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-09-20 11:11:33 +0100

    presence-cache: special-case android phones to actually appear as phones
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 037335939ac75d76e05e865f581c670cdb6606fd
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-09-20 10:48:21 +0100

    presence-cache: be sure to signal after discoing contacts
    
    Before, we were only signalling presences-changed after a contact's
    presence changed, but not after we disco'd the contact and found out
    its client type. Let's actually do that.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 10b042941e3fcda2f4e868ab555c4db01a778a76
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-09-19 18:33:47 +0100

    presence: don't generate a enum GType for DevicePreference
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit d45c6f189dac265d1441bec0f596514aa4a25106
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-09-17 16:07:48 +0100

    presence: use the GabbleClientType GType instead of NIH'ing all that stuff
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 4f7f68f0e14ee5d2e64616ba5173c0418c6d8805
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-09-17 16:05:02 +0100

    generate gabble-enumtypes.[ch]
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit dbcc6bc084e74efed8493be9250803d4900a8ea1
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-09-17 16:04:30 +0100

    util: add gabble_flag_from_nick
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 43d0312f2710ca7cda69780c40d16824eadb4d11
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-09-17 10:26:07 +0100

    presence: update comment about how presence type is determined
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 0afc75cce0c8f2a9a5d85a96e3c515a8c6da1514
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-09-17 10:23:57 +0100

    presence-cache: assign then check NULL-ness; not at the same time
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit c5031dd41bc20ee07bfb7e94e31556b710b287a9
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-09-17 10:20:52 +0100

    presence-cache: fix a typo
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 64021bbcddbb1af751459660ab1c9fe9072792ec
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-09-14 09:51:45 +0100

    client types: remove dummy predicate for resource picking
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 97690023a1203cb33e7b98bf2dbcc26add3d512a
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-09-14 08:54:54 +0100

    presence: let a NULL predicate be given to pick_resource_by_caps
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 13801eb78a741947f4cafd065eed3ad158b9d92d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-16 15:06:35 +0100

    Nano version for 0.11.x

commit 5e3090245f1cb77e8b3537302dbc824580769284
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-16 15:05:50 +0100

    Revert "Don't warn about deprecated declarations"
    
    This reverts commit 5312f1f6e28db0bc1c5297b11831cc65c0b5ab89.

commit d04e5bbe8d95c525dd9060eaf496a74546dca8bf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-16 15:05:41 +0100

    Revert "Prepare for stable branch: send bug reports to v0.10"
    
    This reverts commit 4bc06e03c1b42a0c9db28ae324bfc493341b262e.

commit 566cad99b7af2b023b4e412761a783fb83a26b3e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-16 15:05:17 +0100

    Nano version for 0.10

commit a0cee81eb3784d54c4818be5c8317676074271aa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-16 13:51:03 +0100

    Gabble 0.10.0

commit eb6047827413e19c0857af20da93fac3b9598fce
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-16 13:24:29 +0100

    Include the various new dependencies in README, and fix a typo

commit 4b144037c0c641d739d69475e7b33e6021d8860b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-16 13:23:33 +0100

    Depend on GLib 2.24
    
    Gabble doesn't strictly require GLib 2.24 (as far as I'm aware), but the
    required telepathy-glib does, so it seems simpler to make that version
    a hard dependency; we're certainly not going to fix any incompatibilities
    with older GLib in this branch.

commit 03c3b73db0d1baae900b1991198fa058c2c5c688
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-16 12:57:59 +0100

    Pass srcdir through to tests and use it to load the TLS keys
    
    This is necessary for out-of-tree builds.

commit 8489e34ae5dda24e5766284986147d99e614211c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-16 12:57:12 +0100

    Don't try to distribute deleted interfaces

commit 841483b6c51dc44fbc793ff8289d9a599dee8835
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-15 15:57:53 +0100

    Use telepathy-glib for Conference and ServerTLSConnection

commit 5312f1f6e28db0bc1c5297b11831cc65c0b5ab89
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-15 15:39:45 +0100

    Don't warn about deprecated declarations
    
    This is about to be a stable branch, so we're not going to fix any
    uses of newly-deprecated functions in future.
    
    (To be reverted in master after branching for 0.10.)

commit 4bc06e03c1b42a0c9db28ae324bfc493341b262e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-15 15:36:48 +0100

    Prepare for stable branch: send bug reports to v0.10

commit 28a6777b062654a0e6094a36ac0aebb8ebfb5969
Author: Cosimo Cecchi <cosimo.cecchi@collabora.co.uk>
Date:   2010-09-15 13:02:03 +0200

    Update Wocky snapshot

commit fbdef54186b11361e3db7548a2cfa14f705769eb
Merge: 8aac390 1cb4688
Author: Cosimo Cecchi <cosimo.cecchi@collabora.co.uk>
Date:   2010-09-15 13:01:04 +0200

    Merge branch 'cancel-connector'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 8aac39069ef43f26953eaa93d748597873883ea1
Merge: 96a65bf f956ba4
Author: Cosimo Cecchi <cosimo.cecchi@collabora.co.uk>
Date:   2010-09-15 12:59:29 +0200

    Merge branch 'tls-tests-2'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 96a65bfd5d05591276d8c4f228fa7e26becd4496
Merge: c32cc5e 27fe042
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-15 11:33:32 +0100

    Merge branch 'slacker-crash'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 1cb4688cdc0c369204f92d8750fdcf5950bad418
Author: Cosimo Cecchi <cosimo.cecchi@collabora.co.uk>
Date:   2010-09-15 11:43:23 +0200

    Don't check for cancellable != NULL
    
    It just can't happen.

commit 983819395a6fb07b8ea18ddaec07697b8a133b03
Author: Cosimo Cecchi <cosimo.cecchi@collabora.co.uk>
Date:   2010-09-15 11:43:12 +0200

    Remove an useless comment

commit 27fe0429ed835ff73b3069d82fc7431fc35ae146
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-15 10:35:24 +0100

    Stop listening to GabbleSlacker on stream error
    
    Previously, GabbleConnection stopped listening to signals from MCE if it
    was instructed to disconnect cleanly by the user, but not if the stream
    ended abnormally. This patch amends its shut_down implementation to
    rectify this. I believe this also fixes a leak of the WockyPing object
    in the same situation; this would not lead to any crashes, but would
    mean the WockyPorter leaks too.
    
    Fixes: <https://bugs.freedesktop.org/show_bug.cgi?id=30207>

commit c7edf79d3088b67eb921b6a753319331ef0c3cb9
Author: Cosimo Cecchi <cosimo.cecchi@collabora.co.uk>
Date:   2010-09-14 19:33:26 +0200

    Add a test for disconnection before we get the channel

commit 78fe5c1928d9d4022a2fa7592c24a7443c00b91f
Author: Cosimo Cecchi <cosimo.cecchi@collabora.co.uk>
Date:   2010-09-14 19:31:31 +0200

    Cancel the connector if the connection is shut down

commit f956ba40fdc8a5832c3d99c76a3a49521bc37a6c
Author: Cosimo Cecchi <cosimo.cecchi@collabora.co.uk>
Date:   2010-09-15 11:37:07 +0200

    Don't call close() when using the with keyword

commit 055e764881a7f3a1de83a5bde8e0e934cdc2663d
Author: Cosimo Cecchi <cosimo.cecchi@collabora.co.uk>
Date:   2010-09-15 11:36:14 +0200

    Use UTF-8 coding for the test file

commit dadcf0e15048aba11fdd61cd1baa8bf6d791fb3a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-15 10:35:12 +0100

    Tests: add stream method to send a stream error

commit c7d75bed80e34bcbe65b18d6dd2ac90410a69477
Author: Cosimo Cecchi <cosimo.cecchi@collabora.co.uk>
Date:   2010-09-15 11:31:44 +0200

    Rename test-server-tls-channel.py -> server-tls-channel.py

commit f1970e83de007df41a85dcc09b5f486fcdca8244
Author: Cosimo Cecchi <cosimo.cecchi@collabora.co.uk>
Date:   2010-09-14 19:16:35 +0200

    Document the use of TLS certificates in the test

commit 7998de3bec6507836195bc93cd8ceb959a4974f4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-15 10:10:54 +0100

    Use tp_clear_object() liberally in connection.c

commit 2ed148c249dca5c15988a3f61431cdcac4afcf9f
Author: Cosimo Cecchi <cosimo.cecchi@collabora.co.uk>
Date:   2010-09-14 19:05:02 +0200

    Add tests for both success and failure of fallback verification

commit 29375077654db43f875b4f90b09fc09ceb815a65
Author: Cosimo Cecchi <cosimo.cecchi@collabora.co.uk>
Date:   2010-09-14 19:03:25 +0200

    Use assertLength

commit 67601b2446b182e28e341d952f9e83c40bd8a656
Author: Cosimo Cecchi <cosimo.cecchi@collabora.co.uk>
Date:   2010-09-14 18:42:17 +0200

    Don't use expect_many() if the order does matter

commit 7a49d86ef75333c934a4358a413168ac7a4dcc06
Author: Cosimo Cecchi <cosimo.cecchi@collabora.co.uk>
Date:   2010-09-14 18:20:24 +0200

    Use 'with' for better code style

commit 972e82688c5e4ebc2c622e87477017c83678f0a9
Author: Cosimo Cecchi <cosimo.cecchi@collabora.co.uk>
Date:   2010-09-14 18:18:11 +0200

    Make TlsAuthenticator a subclass of XmppAuthenticator

commit f6630f75591327de315974bfb2ee7a56496c1ff8
Author: Cosimo Cecchi <cosimo.cecchi@collabora.co.uk>
Date:   2010-09-14 18:16:48 +0200

    Split streamInitialize() for easier subclassing

commit c32cc5ee85c7ac9231034404a143c0d4b2fcc247
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-14 17:02:44 +0100

    Tests: document expect() and expect_many()
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Cosimo Cecchi <cosimo.cecchi@collabora.co.uk>

commit 6fd1a372f1666280ed7035ea208fe22a08bcdc96
Author: Cosimo Cecchi <cosimo.cecchi@collabora.co.uk>
Date:   2010-09-14 16:49:27 +0200

    Add license header

commit c811a14b61dfa9ae372ecdf076c907ad58c8a8b7
Author: Cosimo Cecchi <cosimo.cecchi@collabora.co.uk>
Date:   2010-09-14 16:23:14 +0200

    Update TLS tests to the undrafted API

commit cdd9aae52b3b5db2106490c82464bff202b4505c
Author: Cosimo Cecchi <cosimo.cecchi@collabora.co.uk>
Date:   2010-09-14 16:18:54 +0200

    Undraft ServerTLSConnection and TLSCertificate interfaces in the tests

commit e15044ce2f8ac1152c14a22dc35ee9b17fd18ec5
Author: Cosimo Cecchi <cosimo.cecchi@collabora.co.uk>
Date:   2010-09-14 16:18:37 +0200

    Add debug output for deconstruction

commit 7e069943680526b93017dc7e6722a4539214e161
Author: Cosimo Cecchi <cosimo.cecchi@collabora.co.uk>
Date:   2010-09-14 16:18:13 +0200

    Clear the async result when the channel is unhandled

commit c2c5ec243dfede922360f6da837aceeeb82d3fe9
Author: Cosimo Cecchi <cosimo.cecchi@collabora.co.uk>
Date:   2010-09-14 16:17:19 +0200

    Plug a leak.

commit 58e3d9b0e34f39b90477e0115f5a3d08866cefe2
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-08-25 13:22:15 +0200

    Add tests for TLS channels

commit a9aa2b90c582fd7c79305c8e890621f76d9f5ef0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-14 13:00:28 +0100

    TLSManager: don't crash if connection dies before verification
    
    I received a report of a segfault with the following (trimmed) backtrace:
    
    0  tp_base_channel_constructed () at base-channel.c:604
    1  gabble_server_tls_channel_constructed (object=0x1619f8) at server-tls-channel.c:181
    [ g_object_new crap ]
    5  gabble_server_tls_manager_verify_async ([...]) at server-tls-manager.c:218
    6  wocky_tls_handler_verify_async ([...]) at wocky-tls-handler.c:261
    7  session_handshake_cb () at wocky-tls-connector.c:302
    
    Line 604 of base-channel.c dereferences the channel's connection for the
    first time. This is caused by the connection being NULL, which is
    possible because ServerTLSManager's connection_status_changed_cb()
    clears it when the connection moves to state DISCONNECTED (to break a
    reference cycle). So, the crash occurs if you Disconnect() the
    connection before Wocky gets as far as checking the certificate.
    
    So, here we just fail the _verify_async() method call immediately if the
    priv->connection is NULL.
    
    Reviewed-by: Cosimo Cecchi <cosimo.cecchi@collabora.co.uk>

commit 94f4589a393ae44a728b4381e19f559bed574d31
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-13 21:45:44 +0100

    Nano version

commit 58f9c1a0d0f1b483c6b4dcd309fa93684bf535ee
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-13 20:52:09 +0100

    Update ServerTLSConnection to stable namespace too

commit 1f1065aa42e452ae9a7d438f3e5f379de2868361
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-13 19:59:35 +0100

    Prepare version 0.9.18

commit edd41e44b35dad6be82d1074563f6f1d34a92a78
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-13 19:57:33 +0100

    Update NEWS

commit f4860810e9a437c06a959f58a84deb337f24a03d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-13 19:57:26 +0100

    Update to stable spec versions from 0.19.13

commit 3900761eb0af9660dd0c2fe9a035a562af438f84
Merge: d4516e9 256b6fb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-13 19:40:33 +0100

    Merge remote branch 'wjt/fd.o-30117'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit d4516e9787cba46f95d15692ef5264f86ef9fcee
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-13 19:38:48 +0100

    Re-indent a GError to fix check-coding-style

commit ff66b2a772f8895ba52acc4b9283be2774c5a534
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-13 17:06:38 +0100

    Import Conference.DRAFT2 from spec git master
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit bc0904bf7b0ab0d7c83e1dc4b5ad6f33cbe7330e
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-09-13 19:33:07 +0200

    Split ignore-ssl-errors into interactive-ssl
    
    So that we can have interactive TLS verification also in the case
    'Encryption Required' is False.

commit e69c3d7ae705847d87c3fe3d1cfee10e3fca9b49
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-09-13 18:19:02 +0200

    Assert that we have a rejection list with at least one element.

commit f4591424a046ac02a444c995ced5d9490bb66ca3
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-09-13 18:11:14 +0200

    Use right wording in DEBUG messages

commit 1378a969cfa8240c45af37cb2937680dc187327d
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-09-13 18:10:54 +0200

    Return 'Invalid_Argument' if Reject() is called with zero reasons

commit d22c56b8caaca0d03d85306f566e9427a366dcb4
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-09-13 18:10:27 +0200

    Use tp_clear_boxed to free the Rejection structs

commit 2794983d6d831b9c709a47d87b19cf0c62166ec1
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-09-13 17:20:44 +0200

    Update Gabble to the new draft API

commit eaf799ae2817f69793d303c3d4f34a5299c0992f
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-09-13 16:20:26 +0200

    Update to new tp-spec draft

commit 256b6fb105873fb2e56ff195a41679523a9e28b8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-13 18:00:17 +0100

    Tests: Remove a bit of privacy list duplication
    
    This test has a bunch of other code that's shared with the invisibility
    test, but that involves more refactoring than I have time for right now.

commit 06a971c5c115b34f1658582868c2dfec40e045aa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-13 17:53:31 +0100

    tests: Give Xep0126XmlStream a more accurate name

commit 9975a9bd8ab1cec30c5a47b2e48f725546d6bfb5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-13 17:45:15 +0100

    Run another presence test with more stream types

commit 854748c3b08c0531c4c1a4445f75eb40fe6c9842
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-13 16:39:55 +0100

    Privacy lists: Don't a GSimpleAsyncResult.
    
    activate_current_privacy_list() doesn't steal its caller's
    GSimpleAsyncResult, it takes its own reference. Thus,
    activate_current_privacy_list_async() was leaking a reference.
    
    The symptom here was that running presence/set-idempotence.py with a
    XEP-0126-capable stream would leak the GabbleConnection, and thus it
    would never fall off the bus and the world would end.

commit 056fc914b19cc71bea080a8f30e14c85a501b1e3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-13 12:12:38 +0100

    Always emit PresencesChanged when we change our own presence
    
    For better or worse, if we're on a connection that supports privacy
    lists, whenever we change our own status Gabble activates the
    corresponding privacy list (which may be "no privacy list"), even if
    this is the same one that's currently active.
    
    Unfortunately, this code path never emitted PresencesChanged, leading to
    <https://bugs.freedesktop.org/show_bug.cgi?id=30117>. This commit should
    fix that, though it's not enough to make the test pass: there's a
    reference leak somewhere.

commit 633301c85bbb25ab2ed065571b1c91e6a0f50c09
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-13 12:11:44 +0100

    Run presence/set-idempotence.py with invisibility-capable stream
    
    This acts as a regression test for
    <https://bugs.freedesktop.org/show_bug.cgi?id=30117>.

commit 13d656cbc63711d78190e9e73dd44d8e8631d6d1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-10 17:40:25 +0100

    Add a XmlStream with privacy list invisibility
    
    This class allows you to run a test against a server which Gabble
    believes supports privacy list-based invisibilty without any further
    modifications to the test. This will allow us to check that invisibility
    support doesn't break other functionality.
    
    We already have a Xep0186Stream which claims to support another dialect
    of invisibility that Gabble understands. It doesn't actually let you
    become invisible, but this shouldn't matter for non-invisibility-related
    tests.

commit 7b55d3d3d3ddbdf48e6edb336246ee9f2e758aca
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-10 17:14:54 +0100

    Simplify emitting PresencesChanged for SelfHandle
    
    emit_one_presence_update() was only ever used to emit an update for the
    self handle, so let's change it just to do that.

commit 49b006aa3614bc539f414ec5274604e8e0fdc793
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-10 16:29:51 +0100

    Turn privacy list test pseudo-methods into methods.
    
    Since we have a specific subclass of XmppXmlStream for a server
    supporting privacy lists, functions which take such a stream as the
    first argument should really be methods of that subclass. :)

commit dcd329393973ae33716f9cc288719921038bcfb5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-10 16:05:15 +0100

    Move test-set-status-idempotence.py into presence/
    
    It's a presence test, so it should live with the others!

commit 0c8891f7fa3cdc621d74e693e7d617ef0cbf073c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-10 13:44:16 +0100

    muc/test-muc-properties.py: test some error cases from the mixin

commit c4be7876f44d31341c4f533125fdc5c370dfe627
Author: Cosimo Cecchi <cosimo.cecchi@collabora.co.uk>
Date:   2010-09-09 13:05:50 +0200

    Don't start interactive verification if ignore-ssl-errors is set

commit 7c6837e458373418e4014080852eda58f805d0e1
Author: Cosimo Cecchi <cosimo.cecchi@collabora.co.uk>
Date:   2010-09-09 12:44:05 +0200

    Use TP_ARRAY_TYPE_UCHAR_ARRAY_LIST

commit eae24c305f2cd8d8aeee14ae034ce20cdebd5ed9
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-09-01 18:40:32 -0400

    Implemnent fallback-servers support
    
    Implements support for the account parameter fallback-servers. This
    parameter is an 'as' that contains a list of servers to try in the
    form host[:port][,oldssl]. This is used for protocols such as Google
    Talk where multiple ports and TLS authentications is being offered to
    help firewall traversal. An example of fallback-servers array for
    Google Talk would be:
        ["talkx.l.google.com",
         "talkx.l.google.com:443,oldssl",
         "talkx.l.google.com:80"]
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit b9648eb95a8e60490684e6357dfc5a8385c5d2a3
Merge: fa997c1 7255623
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-08 14:01:16 +0100

    Merge branch 'search'
    
    Fixes: <https://bugs.freedesktop.org/show_bug.cgi?id=30065>
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 7255623ac840e9d25422e003788001abf75ddcac
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-08 13:48:09 +0100

    search tests: Don't depend on dict key orderings
    
    Review feedback from smcv at
    <https://bugs.freedesktop.org/show_bug.cgi?id=30065#c1> pointed out that
    this isn't reliable. So I thought I'd write a helper function for this
    assertion.

commit cb96c025c4597704a0c904c9bbbf85eff89ba0a0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-07 19:50:48 +0100

    Move to undrafted ContactSearch interface

commit fa997c1af5c975b2d4513c3a4d95bf27453e43fd
Merge: fd15fc9 95e3e07
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-07 16:36:08 +0100

    Merge branch 'caps-debug-spam'
    
    Fixes: <https://bugs.freedesktop.org/show_bug.cgi?id=29869>
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit fd15fc9d1f4151d4d05028ed5d916fa0d1d53956
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-06 18:38:16 +0100

    NEWS for chat.facebook.com workaround

commit 9f22ba08a72bb39ed2a474790cc78aac8b8ec919
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-09-06 17:23:32 +0100

    Update Wocky for broken SRV workaround and missing-CRL fixes

commit b3a7fb3f8f04fc1aa89048241e0fb04c85949bb3
Author: Vincent Untz <vuntz@gnome.org>
Date:   2010-09-03 15:59:14 -0400

    Fix --with-ca-certificates configure option

commit a82c1c62fc4cfd1dd66c2910e7c613bb60448853
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-03 15:23:23 +0100

    Extend test-roster-subscribe to cover the cases where Bob removes us

commit 2773ce09e3f6b4e3880eaed970da10926173d5f8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-03 15:22:22 +0100

    test-roster-subscribe: be more realistic about server responses
    
    This changes the signals we get slightly, because TpBaseContactList has
    more context.

commit e99da996d21ba7fb1054136b6a131fbac53d28bd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-03 14:11:13 +0100

    roster/authorize.py: test removal of publish permission

commit 1dc15888ab1380009054753205f50d4cbeb0a091
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-03 13:33:39 +0100

    roster/test-roster-subscribe: test removal of a full member of subscribe

commit d967544f82456ef4a6ae2bc6004a8733e11159f8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-02 15:30:33 +0100

    roster/test-roster-subscribe.py: assert that no-op unsubscriptions have no effect

commit 69bd07e25a7a3d7e6d6861f6a107fae17b6c6295
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-02 15:30:12 +0100

    gabble_roster_unsubscribe_async: avoid sending redundant requests

commit 5406b7ee4942cee7bf48457bcdad1bc5029303f6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-02 15:29:59 +0100

    gabble_roster_unsubscribe_async: correct the source tag

commit 94654d7f3557d4416d343696b7622baa6ed54757
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-02 14:29:48 +0100

    test-roster-subscribe: assert that we don't send useless subscribe requests

commit 4a2ea8b9262fda3099dee114a1c3f0f2ba9348d1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-02 14:29:15 +0100

    gabble_roster_request_subscription_added_cb: don't send useless requests

commit fd1c1797debbb6ed184a5cd2866e8d345cf89046
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-02 14:24:24 +0100

    gabble_roster_handle_add: force creation if we have a transient roster item
    
    Previously, we'd have failed to create a roster item for a contact with a
    pending publish request, on the assumption that they were already on our
    server-side roster.

commit 874405c419dbde4c8f82fa9a573d4e997b557277
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-02 14:21:19 +0100

    roster/test-roster-subscribe.py: exercise repeated subscription requests

commit a5abf61a7567e5911f81dc37e8db5eb01e5c7494
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-02 14:20:24 +0100

    gabbletest: add presence status to stream-presence events

commit 44739541c3d04db601132b7daa62a4cac767080a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-02 14:04:27 +0100

    roster/authorize.py: also exercise declining an authorization request
    
    ContactList recommends using RemoveContacts, but allows Unpublish, so we
    do both here. Similarly, we do the old equivalents for both.

commit 72b02ac4b267a986a9925d2f9940fa2cc0a63b1f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-02 14:00:38 +0100

    gabble_roster_handle_remove: clear any transient states, not just REMOVED_REMOTELY
    
    Removing a contact in the ASK state should remove the transient
    GabbleRosterItem, too.

commit 2f01e1b22d33048ff4ad7b9792dfecf1a3bbb286
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-01 18:44:12 +0100

    roster/test-roster-subscribe.py: expect RequestSubscription to return

commit 32d6aceb6515c19e40b8574252e98dc87e72a000
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-01 18:36:22 +0100

    Extend coverage of roster/authorize.py to cover no-op changes

commit fa516d32ef319da9b9a26873ea66ed98ac4db102
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-01 18:18:51 +0100

    roster/authorize.py: test acknowledging remote removal with RemoveContacts

commit effc4b88b23f3bba852e6d8262253bdcdf878b11
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-01 18:18:19 +0100

    gabble_roster_unpublish_async: don't leak handle sets

commit d7397150a43d9bb48acbab8b6d34108a4e6023b8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-01 18:18:11 +0100

    gabble_roster_handle_remove: acknowledge any remote removals

commit 6ff7bf2138aefc5b6567a5dbcb537682a3b2ca14
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-01 18:17:36 +0100

    gabble_roster_handle_remove: don't create an item just to remove it

commit 57822e9c22f64b76c8b2a9a73b3943e80307eae9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-01 17:47:12 +0100

    GabbleRoster: consider removing contacts when clearing publish
    
    This leads to an observable behaviour change in roster/authorize.py:
    when we reject a publication request from a contact not on our roster,
    he falls off the Telepathy-level contact list.
    
    Also, debug-log our decision when we consider removing a contact.

commit e21e8b5f08502df72beeb4dd84fe38aa5c152ff7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-09-01 17:20:19 +0100

    GabbleRoster: track whether items are actually on our roster
    
    Previously, GABBLE_ROSTER_SUBSCRIPTION_NONE meant that an item was either
    not on our roster at all (but in our Telepathy contact list for some other
    reason, like a pending publication request), or on our roster with
    subscription='none'.
    
    Now, NONE means the item is on our server-side roster with
    subscription='none', and REMOVE means the item is not on our server-side
    roster. The function _gabble_roster_item_maybe_remove will avoid removing
    items from our ContactList if they have another reason to live.

commit 95e3e07efa3cae63d28137416b6fc2f36fbcd8ac
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-29 14:03:35 +0100

    Dramatically reduce debug spam from capabilities
    
    With this patch, we only dump the full list of capabilities when we
    decide to trust a caps uri; otherwise, we dump the diff being applied
    to contacts. This still preserves all the information we used to show,
    but means we don't dump the full set of caps 6 times whenever any
    contact publishes a presence with a (possibly unchanged!) caps node.
    
    Also, we no longer emit capabilities updates when nothing has changed.

commit d942387182671f79d9e3922764ee14809af700d4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-29 13:30:44 +0100

    Add a function to dump a diff of two cap sets

commit 20079b161b5ecd535cb6e9674dc2c6d81bdb5d16
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-08-26 22:17:09 +0200

    version 0.9.17.1

commit ef712f41cd140dbb88739f15dd68ca82a1dbddd1
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-08-26 20:57:01 +0200

    Prepare version 0.9.17

commit add1a5ebbac9ad4b3817c84b17fc24433f8ff5e0
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-08-26 21:59:27 +0200

    add TLS extensions to EXTRA_DIST

commit 9d9cb9ee22084334e209c03906092a2cc83e0d4d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-26 15:49:40 +0100

    _gabble_roster_item_to_message: remove some unused functionality
    
    - the ability to return the LmMessageNode (we don't use it any more)
    - the ability to build a message representing the unmodified state of a
      contact on the roster (likewise)

commit a1f16087b749855634457e3759d594db3b9238dc
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-08-26 10:16:00 -0400

    Make CA certificates path configurable
    
    This patch allow configuring the CA certificates path. It creates a new
    constant in config.h named CA_CERTIFICATES_PATH that can be configured by
    passing --with-ca-certificates=PATH to configure script.
    
    Reviewed by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 0cd6d4131bb5be5bdfc59330543b9ff4c2af5d48
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-26 14:53:38 +0100

    roster/groups.py: make it clearer that the result of GetContactAttributes is right

commit 524386e1c9af1f07157a583bb5dcf07f75bd3cfe
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-26 14:51:41 +0100

    roster/authorize: also test the old equivalents of all possible API calls
    
    We can't replace the final Unpublish call, though, for reasons explained
    in a comment.

commit 4e3ccce2b73186cdf4009924814e69e7c56b37c8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-26 14:37:16 +0100

    Make pyflakes happy with roster tests: remove unused variables

commit a47de9bd3fb193777a717749ed729477d55a29c1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-26 14:36:59 +0100

    Make pyflakes happy with roster tests: remove unused imports

commit f1327b2a38e6d34984703f4c71bcf112c8e417ac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-26 13:49:58 +0100

    roster: make more use of tp_clear_pointer

commit 6093f45dea127307d00e72a453d96bb449328e6f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-26 13:45:35 +0100

    roster/removed-from-rp-subscribe.py: also exercise the old API again

commit d82dd02adde2891f638f89754d38dea775a4a024
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-26 13:43:20 +0100

    GabbleRosterItemEdit: don't leak the GSList links

commit afdcb9366916f5767434bdb033c41db38111e160
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-26 13:42:57 +0100

    gabble_simple_async_countdown, roster: make the refcounting more obvious

commit ee09f21421141155097140f0306d5b4dc82f3791
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-26 13:13:30 +0100

    gabble_roster_dup_states: don't assume the 'out' arguments are non-NULL

commit 5231ff9a922e315267ae787f12a641db644dcddb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-26 12:15:27 +0100

    Don't leak GabbleRosterItem.publish_request
    
    Spotted by cassidy's review.

commit be948e9920b4f31d514d0bd60df595c2d741d81f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-26 12:14:48 +0100

    gabble_roster_dup_states: actually copy the publish request
    
    Previously, this happened to work even though it was wrong, because we
    leaked the publish request...

commit ba431f45b58a98e6bf5070f33b26f8b82692e2f8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-26 12:14:18 +0100

    Update to current telepathy-glib branch: s/get/dup/

commit 6849dbbe73302c00b493752ddd9afb446964ea6f
Merge: 4c7d9f2 53f1f00
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-08-26 11:46:53 +0200

    Merge branch 'plugin+status'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>
    Fixes: <https://bugs.freedesktop.org/show_bug.cgi?id=29751>

commit 53f1f007cdf821c416d02875c752128f378a538d
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-08-25 13:10:18 +0200

    conn-presence.c: consistently cast into GSimpleAsyncResult*

commit 369845cdbf997dbf28a849ed901fe7ba3c711cbe
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-08-25 11:47:37 +0200

    activate_current_privacy_list: don't leak GError

commit f0547f0b3d07d78636d5c84ff5f24b0e5696f635
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-08-25 10:20:24 +0200

    get_existing_privacy_lists_cb: use wocky node iterators instead of old macros

commit f19759fd44e6415cde8beaa48e55e803a74a6669
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-08-25 10:10:35 +0200

    conn-presence.c: documented privacy_presences lifetime a bit better

commit daf688b0b62becba1ec3803971403994c757470b
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-08-25 10:00:32 +0200

    activate_current_privacy_list(): simplified list activation xml generation

commit 0be989cd7d70d73fb3d340e974e548e6a0c0591b
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-08-25 09:53:35 +0200

    removed _ prefix from conn_presence_get_type()

commit 912de91e25df6bc20f740cf2a8579f4ae142e31d
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-08-25 09:34:04 +0200

    style fixes

commit a8ea0e37dfd5a9e47bb0898c3e3f70aff211f38e
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-08-24 12:10:35 +0200

    gabble_plugin_get_custom_presence_statuses: pass arrays directly instead of using GLists

commit ba6488183edab8f7b14b1e4628bebbcb7a83117a
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-08-20 11:58:18 +0200

    add presence/plugins.py twisted test

commit b9c4abe6cbb65bbc430e7a48c7b64592a9516e32
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-08-20 11:49:43 +0200

    presence/invisible_xep_0126.py test: handle Gabble asking for all privacy lists

commit c42a20f1386443dd8f2b18006e4fe87248ba5392
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-08-20 11:48:28 +0200

    test plugin: add custom presence statuses for testing

commit 50a03d41c48baf0d2827269d85a85032c841800f
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-08-20 11:46:59 +0200

    conn-presence.c: refactor the invisible privacy list code to support generic privacy lists

commit fc4062958dda1eb8db580ee5aea0508eb2f05b01
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-08-20 11:40:05 +0200

    add _conn_presence_get_type() to gracefully handle custom statuses

commit 3e7226952acd64f8b8b3beaeecab7257701bb547
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-08-20 11:39:12 +0200

    conn-presence.c: pass plugin-supplied statuses to the PresenceMixin class init

commit fb5918c26e65d399b6cdc8458e46bbcaabc95e34
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-08-20 11:33:37 +0200

    plugin(-loader).[ch]: support for adding custom statuses and linking them with privacy lists

commit 4c7d9f2f611fa937e90c8c063ef649d9d44562d3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-25 17:40:08 +0100

    Bump telepathy-glib dependency to 0.11.14 for TpBaseChannel
    
    The harmonious node pointer strikes again.

commit b207801208f98c53e8e8a585fe19ffcbadc5f749
Merge: 1a476db 2e1a638
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-25 14:38:04 +0100

    Merge branch 'port-to-tp-base-channel'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Fixes: <https://bugs.freedesktop.org/show_bug.cgi?id=29778>

commit 1a476dbd5d1ea177ff3f3a3a11ce9a82df70d400
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-05 13:27:08 +0100

    Don't leak a hash table in Stream.SetSending
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 1d2264ed92d8665d7b253c46c0ae4b17ec647ff8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-25 14:28:11 +0100

    Update Wocky for Pubsub leak fixes

commit 6fa0beb5e75b384872a25add45bf8b0bf7591a88
Merge: 7abb5c0 9071c1a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-25 14:21:39 +0100

    Merge branch 'get_source_object-refleak'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 2e1a6387b7fd56f13771452e0d2dd7e928b99331
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-25 10:59:46 +0100

    Use tp_base_channel_close() for search and tls channels
    
    These are the only two TpBaseChannel-based channel types which had their
    own exported close function which behaves exactly as the vfunc does.

commit 9071c1af431dd48820adf3d57edfaaff29dea01d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-24 22:37:27 +0100

    Make tests fail more gracefully when connections leak
    
    Previously, if any test leaked its connection, it would fail (with a
    reasonably helpful assertion). But the next test would try to re-make
    the same connection, which would throw a DBusException (namely
    NotAvailable). The exception wasn't handled, so it bubbled back up to
    the mainloop, which would log it to stderr and then... do nothing. The
    test would never finish, and it's a PITA to kill.
    
    With this patch, we print a shorter representation of the NotAvailable
    error and then exit immediately. This allows the rest of the test run to
    finish. Since all the tests after the leaky one will probably fail,
    let's add a note to the aforementioned helpful assertion to that effect
    so the developer isn't too startled.

commit 985b48401080b84f3b3d880b054dd5c665f535ea
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-24 22:35:36 +0100

    MediaFactory: Clarify references to GabbleCallChannel
    
    When I was debugging the leak fixed by the previous patch, I found it
    hard to track the ref(s) owned by the media factory to the call channel.
    This patch just makes the passing of references more explicit, rather
    than passing a single reference around.

commit f922ea06443abcd54307326f38f409fc21609551
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-24 22:31:54 +0100

    Don't leak Call channels when waiting for caps.
    
    call_channel_capabilities_discovered_cb() gets the channel by calling
    g_simple_async_result_get_source_object(), which returns a reference to
    the source object. Previously, it then failed to release its reference.
    This meant that if we have to wait for caps before completing a channel
    request, we'd always leak the channel.
    
    There's no regression test here. I found it while porting
    GabbleBaseCallChannel to use TpBaseChannel, because the latter holds a
    ref to its connection, and so leaking the Call channel leaks the
    connection which prevents it falling off the bus, which makes the
    existing regression tests for waiting for caps both fail!
    
    I've also audited Wocky and fixed a few places that make this same
    mistake there.

commit adb56174e83f075790dbc3409eeb414cbff787aa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-24 15:12:42 +0100

    Remove GabbleBaseChannel.
    
    \o/

commit fd575cc923f1a482450f86be46b3988a0e633ef8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-24 15:12:04 +0100

    Port ServerTLSChannel to TpBaseChannel.
    
    I have no idea if this works. There are no tests.

commit f16c1043064757190b6d5f75724767eebf2ebc9e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-24 14:57:05 +0100

    Port GabbleSearchChannel to TpBaseChannel

commit 7fef314d035dfc8e8c63c3ace3e787ff8c4204a8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-24 11:15:23 +0100

    RoomlistChannel: Remove incorrect, content-free docstrings

commit 80cd5022ea1f7e62ff34bdeac392c20343e18437
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-23 17:22:18 +0100

    Port RoomlistChannel to TpBaseChannel

commit 20dd7a233cc6545a700459bf2ea2687f567ef1ef
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-20 16:51:20 +0100

    Port GabbleMucChannel to TpBaseChannel.
    
    This place is a narrative mess.

commit 16348133004485c6e7f0f18a52c61af0a00a089f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-20 16:05:54 +0100

    Port GabbleIMChannel to TpBaseChannel.
    
    Pleasingly, this is a net reduction in code.
    
    The change to the test just makes it easier to debug why that assertion
    would be failing; it doesn't change the meaning of the test.

commit 7abb5c07036ac5af96c9456fa57e4ba302376348
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-24 12:37:04 +0100

    Re-update Wocky snapshot to fix out of tree builds.
    
    Apparently this was lost in the TLS merge.

commit 9a1b4f3df91b201cec25c293d9e095740068cb56
Merge: c70da96 b6de9de
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-23 20:05:56 +0100

    Merge branch 'fix-presence-unsure-period'

commit c70da9661551a1ed7d819ac34806fb04169f86f2
Merge: f0ecc6b 8d4a22a
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-08-23 18:47:46 +0200

    Merge branch 'tls-connection2'
    
    Conflicts:
    	lib/ext/wocky
    	src/connection.c

commit b6de9dea99e3a581ddc3d349bd00c1626d0e23ca
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-21 11:09:54 +0100

    Start the presence unsure timeout once we connect.
    
    While investigating a completely separate issue on a slow connection, I
    noticed gabble_presence_cache_end_unsure_period() firing before we'd
    even resolved the server's domain!
    
    Fixes: https://bugs.freedesktop.org/show_bug.cgi?id=29721

commit f53f4dca0a46706216ec3fd8011c67b8c1c78088
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-21 10:53:26 +0100

    Bin GABBLE_PRESENCE_CACHE_PRIV() silliness.

commit f0ecc6bb95d579d97c8b08b2712012d2a3131d37
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-08-20 14:42:26 +0100

    Bump nano-version to 0.9.16.1

commit a4d73e4a6e0192f3f729bf3ab315ed5151eb670b
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   2010-08-19 16:48:20 +0200

    Prepare version 0.9.16

commit c145c532354dbaffec489bfe3efe3adc72b4e7f5
Author: Adam Conrad <adconrad@collabora.co.uk>
Date:   2010-08-19 18:58:58 +0100

    Update wocky to fit out-of-tree builds

commit 8d4a22a9e969974d53a79026319aff6c009fa122
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-08-19 11:13:50 +0200

    Fix coding style

commit ff67002a487ee585d8293e2609980cf08071faf3
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-08-19 11:11:56 +0200

    Remove useless cast

commit 6cae55d054075c41eab0514da4b2125cf004ceec
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-08-19 11:10:53 +0200

    Use TP_HASH_TYPE_STRING_VARIANT_MAP as boxed type
    
    The property is exposed on the bus, so dbus-glib needs a parametrized
    type to work properly.

commit 1080b9a5fea51394f2c75d94c6c49cbf0987168d
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-08-19 11:08:03 +0200

    Use tp_clear_pointer()

commit d478168bb7224112281edf848b6ab234928866d4
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-08-19 11:06:55 +0200

    Remove useless assertion

commit c34638fbb2651dc054c9226dd32cc0b92611a6d0
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-08-19 11:06:21 +0200

    Don't implement GetInterfaces()
    
    GabbleBaseChannel already does that for us.

commit 570505b2cc5403e7331ff6a1e2d0225e36728b6b
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-08-19 11:02:34 +0200

    Rename LAST_PROPERTY -> NUM_PROPERTIES

commit d7182b2629d859d5d8d2573ff6617f6f1bf1dddd
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-08-19 11:00:01 +0200

    Use a macro for the reason switch
    
    This also gets rid of the 'retval' variable.

commit e29a48aab5138ae0a80f90b06b7598aec10da6a1
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-08-19 10:24:12 +0200

    Remove useless check for !closed
    
    As when the channel is closed, the manager immediately clears the
    reference it owns.

commit 8fce08d237805e9543f0a82e4fadf224c00394fc
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-08-19 10:18:05 +0200

    Chain up to parent's constructed() before running ours
    
    Also, use a temporary variable to save the function pointer, so that we
    can avoid doing the G_OBJECT_CLASS type-check twice in a row.

commit ed7c9ba0044484cc559ca3d55a9572f95e141d7a
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-08-19 10:12:12 +0200

    Use g_return_if_fail() instead of a debug message
    
    In case verify_async() is called multiple times, which is wrong.

commit 80c02d9a756773ffafbccd8b2577c5cfc218ac59
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-08-19 10:06:53 +0200

    Own a rerefence to the GabbleConnection
    
    We will clear our reference either when the connection goes DISCONNECTED
    or when the channel manager is disposed.
    In both cases, tp_clear_object() will take care of doing it right for
    us.

commit d66c7bc68db56c5c7ddb45ae876773b2c60a71f1
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-08-11 12:12:26 +0200

    Implement the 'Hostname' property

commit 557b5ea02725ca97c68c57c8724ed70495c43ceb
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   2010-08-18 19:04:54 +0200

    SetActivities needs to merge new activities within the existing ones
    instead of creating new ones because they may be already referenced by
    muc channels.

commit 78a857f6db363b3c23561623e46ddaf80ccb2ba3
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   2010-08-18 10:16:38 +0200

    Whitespace fix

commit 4c62e811668b7f34a8d8d20053df9c353d181e11
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   2010-08-16 12:14:53 +0200

    Add rationales to AddActivity and GetActivity

commit 7d45401fe9886840b848c8ccb90a011dbefffe63
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   2010-08-11 15:37:10 +0200

    Improvements to the docs for AddActivity and GetActivity

commit f9112e4c7f5926ed41b690e2665c463d5ffc8253
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   2010-08-11 14:53:02 +0200

    Add a BuddyInfo.AddActivity method so activities can advertise
    themselves without having to track all the other shared activities.
    
    Refactors into an add_activity function the logic shared with
    SetActivities.

commit 4239c68b03958dea18b5ea2414517c0756bdc840
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   2010-08-11 14:52:35 +0200

    Add a method for retrieving an activity's room handle from its id

commit f7f3b2fc121764aa4460f68e51114b4383a228e3
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   2010-08-11 14:49:44 +0200

    Set the activity_id a bit earlier

commit e16839691327a891db535c36085ca19075da25ab
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   2010-08-11 14:47:39 +0200

    Log error message when a query fails even if we have no dbus context

commit 8f57172adfac6f61af536eadedc6a01b862407b2
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-08-17 18:53:23 +0100

    Update wocky and adapt to the new TLS API

commit f47e6a8a84ee41ec705e382a72fcbc28efc1f7fb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-08-13 14:23:00 +0200

    constants.py: add INVALID_HANDLE

commit 3dec7eeca3318c35456e25b505de03b38fd84f59
Merge: f8398be76 18c80d8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-11 13:41:26 +0100

    Merge branch 'enums'
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit 18c80d898a8d8f8913847dd9eebd29b760f50aa1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-11 13:39:46 +0100

    gabble_media_factory_get_contact_caps: add a cast to shut gcc 4.5 up
    
    Also, explain what assumption we're making and why it's valid.

commit 30a6f86a37befca3ee49647b11462922e5bf2546
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-11 12:40:19 +0100

    Report temporary delivery failures correctly in MUCs
    
    This code previously had an implicit assumption that GabbleXmppErrorType
    was numerically equal to WockyXmppErrorType, which is not actually true.
    XMPP_ERROR_TYPE_WAIT = 5, and there is no WockyXmppErrorType equal to 5,
    so this code would treat all errors as permanent.
    
    gcc-4.5 warns about this abuse of enums.

commit 43f369462eadcdc694099e4e6fe511f11c88de80
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-11 12:37:45 +0100

    Consistently use  to represent tube states
    
    TpTubeChannelState is numerically equal to TpTubeState up to OPEN, but
    also has a NOT_OFFERED state. gcc-4.5 warns about this.

commit 13ac553499e2db9904b5207c1dbff61c9e3a6c84
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-11 12:01:49 +0100

    Replace all JingleSessionState with JingleState
    
    As a side benefit, this fixes some cases of comparing a JingleState to a
    JingleSessionState (using the fact that they happen to be numerically
    equal), which gcc 4.5 apparently warns about.

commit 7661591595281786f36a1ce1190b3fb0994fa0e9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-11 11:57:26 +0100

    Add JINGLE_STATE_INVALID, to mirror JS_STATE_INVALID
    
    This results in the enums JingleSessionState and JingleState being
    numerically equivalent.

commit 5dbb03e98b4b0bac394c3853f16b10cf5b65f8ae
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-11 11:56:26 +0100

    Rename JINGLE_STATE_PENDING_ACTIVE to JINGLE_STATE_ACTIVE
    
    It turns out not to be used anywhere, and if you're ACTIVE, by definition
    you're not PENDING :-)

commit 77aa5b2711359994d35ae288596327588f53c64a
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-08-11 12:07:10 +0200

    Update to new spec shapshot

commit 43d6049c5a5acb8d3156b030dfc153566a6edeb8
Author: Cosimo Cecchi <cosimo.cecchi@collabora.co.uk>
Date:   2010-08-10 19:49:48 +0200

    Bump telepathy-glib required version to 0.11.12

commit eccae856b7cd95510cb0f0ac624fe5be86306b9e
Author: Cosimo Cecchi <cosimo.cecchi@collabora.co.uk>
Date:   2010-08-06 14:56:17 +0200

    Update wocky snapshot.

commit ce1e1179818c2abf98731421b4f6157d780c4c68
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-07-19 19:18:54 +0200

    Integrate the handler in the connection.

commit 02ece28e57be5292f277202257906f437695fc66
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-07-19 19:18:12 +0200

    Add GabbleTLSCertificate.

commit e44b7e52260e0eeadab09042e52176f59145d6c1
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-07-19 19:16:40 +0200

    Add GabbleServerTLSChannel.

commit 33e3c28133632dab36688facfe1a453a496bbc6f
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-07-19 19:17:07 +0200

    Add GabbleServerTLSManager

commit 423644cd5d4ba904344933d0e3ce9fa1b4441f82
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-07-19 19:18:33 +0200

    Add debug flags for TLS.

commit b0b468691053ad77210988dd015b7fff1fc8d64c
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-07-19 19:17:47 +0200

    Add spec extensions.

commit f8398be76fcda96d7f85d10e483d5cf6c30099fd
Author: Cosimo Cecchi <cosimoc@gnome.org>
Date:   2010-08-09 17:00:52 +0200

    Don't include files from extensions/_gen

commit 3c5e87c88dfec25a1907dc4abb8031a9f305e40d
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   2010-08-09 14:29:13 +0200

    Pass a guint instead of a guint16 to dbus_g_type_struct_get because it
    expands to 32 internally.

commit bfc3104cd490af18bbd0857289fc8e263e69bb94
Author: Tomeu Vizoso <tomeu.vizoso@collabora.co.uk>
Date:   2010-08-08 12:17:42 +0200

    Request activity properties using pep_olpc_act_props and not pep_olpc_buddy_props

commit ad6f4a30af69ef7ebb08722a8937a2d3963c6aa3
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-08-05 12:13:28 +0200

    depend on telepathy-glib 0.11.11 (for TpBaseProtocol)

commit d5faa56fc9018fad06de1908fd767bf3d3ac2491
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-08-05 12:13:03 +0200

    cm/protocol test: nicer way of testing that the dbus method returns an error

commit b687aaf9459c4abe33a798b2dbc79fa8377dc476
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-08-05 12:11:30 +0200

    assert that expected immutable properties really are there

commit 17386d2c546302af359ebea58c44b6858f758fdb
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-08-05 12:11:01 +0200

    write-mgr-file.c: use correct printf formats as provided by Glib

commit 37f1d9b94d1ac2bb0fd81fd2cddf7f7886cb113b
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-08-05 12:10:21 +0200

    write-mgr-file.c: iterate over hashtable instead of using foreach

commit 5b05a339b06f49c0802a5d68bf4bfd6c7d65df6a
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-08-05 12:07:25 +0200

    use g_once_init_{enter,leave} instead of g_once_init

commit 96de25f9607b79514b58273085fd6a1ecbd4d869
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-08-05 12:06:03 +0200

    gabble_jabber_protocol_new() now returns TpBaseProtocol* instead of GabbleJabberProtocol*

commit 2b44ab9b168c06a6b620799a3e141ce2481ae90d
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-07-22 13:48:08 +0200

    gabble_connection_manager_get_protocols() is no more, removed from header file

commit a10e91c1092e3e962cd5393488f759ccbbe36eed
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-07-22 13:19:04 +0200

    update copyright

commit 1c593ebf011a68fea4117fce64ab5aee87399379
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-07-22 13:18:46 +0200

    mgr_file_contents(): don't leak GKeyFile

commit e6a666c2eae120b2fc23f0f4ee8084b32fad0c5f
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-07-22 13:18:02 +0200

    write-mgr-file: output Protocol's immutable properties

commit 59715783b4defdc724bfe680e1b7172505d41025
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-07-22 13:13:09 +0200

    factor write_parameters() out of mgr_file_contents()

commit 5e3a92a92d03f3876b375e99e305e2a0521bcd8c
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-07-22 13:12:09 +0200

    write_mgr_file(): make use of GabbleJabberProtocol

commit 812af5949c6ecf0f6c6b93135cd4014b2ef5382a
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-07-22 13:03:59 +0200

    use hardcoded values for protocol name/icon/englishname/vcard field

commit 21863853f75fd883c82b3a0ed141dd0ca8adaa33
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-07-22 13:03:10 +0200

    move gabble parameters from ConnectionManager to JabberProtocol and clean up leftover cruft

commit f76b18abc4819c8dfce3b59b4000f9b4dad45e57
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-07-22 13:01:47 +0200

    add comments for gabble_normalize_contact()
    
    In particular, document that repo argument may be NULL

commit 5ab5481e174399b79b2bee369105b8e92db5639b
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-07-22 13:01:07 +0200

    identify_account: assume the mandatory parameter "account" is present

commit 81eb7c63b5eb6059314fa520d855507cc683a352
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-07-22 13:00:07 +0200

    protocol.c: trivia/whitespace fixes

commit 89393c76aa60f19939845deb28255e1f2a7d4c37
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-07-22 12:59:03 +0200

    add gabble_jabber_protocol_new()

commit a4c99414eca52ac3c220d2f070b3df0016f44210
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-07-22 12:57:14 +0200

    cm/protocol.py test: check that IdentifyAccount() really requires mandatory parameters

commit 910525639e9f03e42c62b883908b8a04ef6876d3
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-07-22 12:56:52 +0200

    cm/protocol.py test: use assertEquals

commit 204066493531979b712489d9d691266bd5f77606
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-07-22 12:54:41 +0200

    Protocol has been undrafted

commit 2d7e798a76dd55ae68906eb41d921eb47fba5b0b
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-07-21 11:55:49 +0200

    add test for o.f.T.Protocol

commit 0d60a9e54a7def5cf56f40cbd297c5f2ae187393
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-07-21 11:54:38 +0200

    GabbleConnectionManager: use GabbleJabberProtocol

commit 18eae71a423cf7ca1f87395d8ff8ecc579d61b9c
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-07-21 11:52:48 +0200

    add GabbleJabberProtocol

commit 3d2a0f8f903d2a02de783b015d1a1cc0d0c1e2e4
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-07-21 11:45:37 +0200

    managers: implement type_foreach_channel_class instead of foreach_channel_class
    
    The former will be used by Protocol objects without having an instance
    of the managers in question; since we don't need to run any instance-specific
    code, we're happily allowing tp-glib to implement foreach_channel_class in
    terms of type_foreach_channel_class for us.

commit 8ef0b2bc70ef880aab3108a90fb991e33bd6918e
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-07-21 11:43:48 +0200

    Add gabble_connection_get{implemented,guaranteed}_interfaces() methods

commit a23615a318870cac7fc7b823467d39f64fba9d23
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-03 14:27:55 +0100

    roster/authorize: improve test coverage

commit b14e7f7aa80d8a0a53b573cea1b6219b6a91b6b8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-03 14:27:36 +0100

    test-roster-item-deletion: factor out send_roster_iq (and call it send_roster_push)

commit a0f481f4f88e221c89030ffd82372f5035972803
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-03 14:14:26 +0100

    Consistently debug on publish state manipulations

commit dffea798bb910bc257a5a7474c3cd976abd9c181
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-02 19:32:59 +0100

    gabble_roster_presence_cb: use the REMOVED_REMOTELY state where appropriate

commit 34867e989d18fb3a5c0412360fc37d08c34b906d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-02 12:46:53 +0100

    Test receiving subscription requests and authorizing presence publication

commit 49f90e24c9146c35dafb3727988910d717c5f7fa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-02 12:46:16 +0100

    GabbleRoster: implement pre-authorization

commit 12795403a0e2162684dbc9d7f58f5cd1152d2b68
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-24 13:58:20 +0100

    GabbleRoster: save up any pending roster edit IQs until we receive the roster
    
    TpBaseContactList only calls our methods after the roster has been
    received, so this should only happen for alias changes.

commit d163c7b43c06b0d1c007391be67cbce902af4829
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-02 12:38:37 +0100

    gabble_roster_unpublish_async: inline gabble_roster_handle_unsubscribed

commit a0cae3b800eadb4029ee830ef7ce58869e87d760
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-02 12:34:54 +0100

    gabble_roster_unsubscribe_async: inline gabble_roster_handle_unsubscribe

commit 00648421af3d13ee98202d0bc1acedddd171014e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-24 15:47:19 +0100

    roster_item_cancel_subscriptions: inline sending the messages

commit f7db06584a97df85c5bf2ba7c8ceddb2287aafb3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-30 13:37:50 +0100

    gabble_roster_request_subscription_async: don't ignore async IQ errors
    
    In the process, inline gabble_roster_handle_subscribe.

commit 4a1c3ac01f12b71a7805524c1e6cb40c49a8d7e6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-02 12:00:20 +0100

    GabbleRoster: don't do lots of work to aggregate contacts' group changes
    
    There's now no point: the only time we'll get multiple contacts' group
    changes is in the initial roster download, at which point
    TpBaseContactList will be ignoring the change notification anyway (it
    recovers state in tp_base_contact_list_set_list_received).
    
    Instead, aggregate changes to multiple groups for a single contact into
    one signal, which is what really happens in XMPP anyway.
    
    This is an observable change in roster/groups.py, fixing a FIXME comment.

commit 65ce06e7b8f9993a8412d5949f67313f323d3901
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-30 17:03:05 +0100

    _gabble_roster_item_update: don't call tp_base_contact_list_groups_created before roster received
    
    There's no need to do the work necessary to call it, since
    TpBaseContactList will be ignoring it until the roster is received.

commit 666a3d47d5c4460e780818e12590f733c88a70b3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-30 13:36:38 +0100

    gabble_roster_handle_add: track async errors

commit 3f9877bf4ec5140ccdb528684ced02ca527906bc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-24 14:25:28 +0100

    GabbleRoster: remove more now-internal methods from header

commit 871765b4a8c9923cbe2755d13e6057cedcd5214b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-24 14:22:56 +0100

    GabbleRoster: remove useless boolean return from async methods

commit fb597252e89d47256709c54f5a5b355a14a47cf3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-24 14:18:02 +0100

    Add a test for pre-roster edits being rejected

commit 9ce10e4523f9c720dc50983d51778e316b93ea9a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-29 16:59:07 +0100

    Un-indent roster edits now that they're the only code path

commit 1a5fbd4cb718a527baf352496942c696f7316f50
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-24 13:37:08 +0100

    Don't remove contacts while they have edits in flight
    
    This can result in roster_edited_cb not finding the contact.

commit b3b8e0ccea638c4921a64e78ce326287a8eeb561
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-29 16:58:25 +0100

    GabbleRoster: put all roster changes through the queued change code-path
    
    Otherwise, we end up duplicating all the roster editing code - there's
    one copy in the specific edit method, and another copy in
    roster_item_apply_edits.

commit e16b7d6e2661a1b60d06ef4cfc77f8a389c085c6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-24 12:06:20 +0100

    roster_item_apply_edits: discard presence cache for blocked contacts
    
    Previously, we did this for an immediate edit, but not for a queued edit.

commit f1752ed2e64c448dd4dae44aa1d89f82d067e3f3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-24 13:01:04 +0100

    roster_item_apply_edits: if sending fails, make all async edits fail

commit f86603b4059c207354689aed3fe0b09e126606df
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-24 11:48:51 +0100

    roster/groups.py: add an extra sanity check

commit a132acd51f6bf7d9c1cec5c801704f5305fdcf03
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-24 11:46:37 +0100

    roster/groups.py: test removing a group and having the change not "stick"

commit b4d56078f5abe6d3fdae65157eb076459cff3e2b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-24 11:41:35 +0100

    When removing a group, remember who we claim to have removed
    
    This means that we'll signal them as re-joining if the change doesn't
    "stick".

commit 47141de6ebdfb253293897835a6c93fde0690ed9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-24 11:04:18 +0100

    test RemoveGroup

commit e0f166abfc580ed40bf1bb4def3335083d8e6b38
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-22 10:31:15 +0100

    roster/groups: test GroupsCreated, GroupsChanged, SetContactGroups

commit 129fd93aa24ca44ec02d1c46b3c882a230065bdb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-21 17:05:27 +0100

    Test roster item deletions queued after another roster edit

commit f9144f7bc6821bbed397db85be344b5f0cb91716
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-30 16:18:05 +0100

    roster/test-google-roster: test ContactsChanged as well as MembersChanged

commit 6e66629b4958990d197c15e03020f7c958f2fe25
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-21 15:58:55 +0100

    roster/removed-from-rp-subscribe: use RemoveContacts, Unsubscribe instead of Group API

commit 4cde256bab2ba966aac843d6e6a06fc10c7cc09b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-30 14:35:32 +0100

    roster/removed-from-rp-subscribe: expect appropriate ContactList changes

commit 08dc7ec0654da895a2ddf79a7ce72eb7b027a8f5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-21 15:46:17 +0100

    roster/test-roster-subscribe: test the new API

commit 4496cfd395849796aa3a58bf88c1d58a7893f589
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-21 15:30:12 +0100

    roster/test-roster: test RequestContactList

commit aee17ce6a9748ce1ee2a86fed13afa598797a992
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-21 15:08:30 +0100

    roster/test-roster-item-deletion: test the new API too
    
    Also stop assuming that quux's handle will be 2 just because it's the
    second handle ever seen.

commit 3fb39c8fb5f47f8820cc878ec71c72c323cf912d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-03 16:11:16 +0100

    tests: add support for the ContactList, ContactGroups draft interfaces

commit bfde19d38ac83d7ccb46567635061c87fbdf4e28
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-23 18:19:49 +0100

    GabbleRoster: make add_to_group, remove_from_group, set_group_members async

commit e1341fefee99cea7d50361ad3e47e610a1866e7a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-23 16:04:34 +0100

    gabble_roster_set_contact_groups_async: don't ignore immediate errors

commit 4c14f27459abbab33495dffb38f44d8bb2921692
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-29 16:56:41 +0100

    gabble_roster_handle_set_blocked: return asynchronously

commit 8756d5439509bb8d70e05051716055683eb086e4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-28 18:43:30 +0100

    GabbleRoster: don't emit ContactsChanged for no-op changes, except subscription requests

commit b45672ffd952430e21474d5482d83195aa81330f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-29 16:53:59 +0100

    GabbleRoster: don't respond to RemoveContacts() until the IQ comes back

commit b51d17cc83a7790ff186a8051e39fbb8c23b20d3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-29 16:09:03 +0100

    SetContactGroups: defer D-Bus reply until IQ reply comes back

commit f9ef028d8141d56e0ad2b6f4d53867706b43f449
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-02 12:10:53 +0100

    GabbleRoster: be a TpBaseContactList
    
    This causes a few changes to the actor in MembersChanged signals, since
    TpBaseContactList uses a non-zero actor more often; update the tests
    accordingly.

commit 8d3f1777c0ed00380745cb8585113d9e8d187608
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-28 18:42:58 +0100

    GabbleRoster: implement suitable virtual methods for TpBaseContactList

commit 2940c0f74c671d02bba48a2785e701fbf8b40796
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-29 16:10:31 +0100

    GabbleRoster: add some machinery to track async operations awaiting IQs

commit 22185b5a04892492620cffa9a8ae0caff853cb6c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-29 16:14:10 +0100

    GabbleRosterItemEdit: add a flag to force creating the item
    
    If true, we'll create the item, even if nothing has changed: this is
    necessary when just creating contacts whose state matches the defaults.

commit 0f5e615e867ebbc3dc98369cfbb5aa6ca558efc1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-29 15:59:54 +0100

    Add gabble_simple_async_succeed_or_fail_in_idle

commit a07e273d4694040ab4ed287c97bb8a99fcf46b90
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-29 15:53:33 +0100

    gabble_simple_async_countdown_new, _inc, _dec: new utility code
    
    This encapsulates a common pattern for "plural" asynchronous operations
    that are implemented as a set of parallel protocol operations: finish
    only when all sub-operations have finished, with success if and
    only if all sub-operations succeeded.
    
    If this functionality proves to be useful, it should be added to
    telepathy-glib, or even to GLib.

commit 7cc336265aeb4423d83bb8fa7897720dfd052541
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-28 18:02:43 +0100

    GabbleRoster: pass GabbleRosterItemEdit as user_data for roster_edited_cb
    
    This also fixes some unlikely bugs if _gabble_connection_send_with_reply
    fails:
    
    * failure to unref the handle, in most cases
    * inability to change that contact again for the lifetime of the
      connection, if it fails in roster_item_apply_edits

commit 92016467e307466625a1268de67fe26cf97c17ad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-28 18:02:15 +0100

    GabbleRosterItemEdit: hold a reference to the handle

commit 9e52a92eff21c0442bbc95181d7a01eadb785cc3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-28 17:45:52 +0100

    gabble_roster_handle_set_blocked: don't block future edits on a no-op
    
    Previously, we'd set unsent_edits before checking for a no-op. After a
    no-op change to blocking, other code would assume that a request was
    in flight, causing future edits to be stacked up forever.

commit 3793065c61827773ac602df5efb20e7654682ce7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-21 12:07:22 +0100

    GabbleRosterItemEdit: correct a misleading comment

commit b9dfad1d41d8da3fdfad09adcb61ca87c16ac8f7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-16 18:55:58 +0100

    test-handles: don't assume the LIST repo will be there
    
    It'll soon be created by TpBaseContactList, which is not our problem.

commit d4a9ce78799c12527fe38787490fe0e1dbc0f06b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-28 17:06:28 +0100

    gabble_roster_handle_unsubscribed: use handle set, not int set

commit 9d639e6b655e0f7f0f6d7c80aaaca32afafbfd73
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-28 17:06:00 +0100

    flicker_prevention_timeout: use handle set, not int set

commit 5ae752921ef7204d78dd1cbf0459b060da803c74
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-28 17:05:12 +0100

    gabble_roster_presence_cb: use GabbleRosterItem to see whether a change is a no-op
    
    Previously we looked at whether tp_group_mixin_change_members() was a
    no-op, but with TpBaseContactList we won't be able to do that.

commit c0b7496e1960a42ed92cf4d85fb49547f0546a6e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-28 17:03:59 +0100

    gabble_roster_presence_cb: use handle sets, not int sets

commit e86f176bd6ea438ce8ee8b8873b7f490af314b93
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-28 17:03:15 +0100

    process_roster: operate in terms of handle sets, not int sets
    
    TpBaseContactList expects handle sets.

commit 091a272588d0a4fc0bf57bd1a839bc4f6ad22cc7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-10 12:56:29 +0100

    GabbleRosterItemEdit: allow removal from all other groups
    
    This is necessary to implement SetContactGroups().

commit 64a27e9ddce955c5362fe36ba4f66e2158f74a92
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-28 17:53:32 +0100

    When a contact is removed from groups, ref those groups' handles temporarily
    
    Otherwise the group handles might disappear.

commit 3c172bfdd918b9c890fd939956913550da5eef2a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-28 17:52:19 +0100

    _gabble_roster_item_update: format created groups for the D-Bus API

commit a16f6a2f243cf31975b1c37e9b0e1f41bfe45a04
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-10 11:35:45 +0100

    GabbleRoster: track the union of all contacts' groups
    
    This will make it easier to implement the GroupsCreated signal and the
    Groups property.

commit ede77da1b7e25f870ae75bb230aa61feeb43ce1b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-28 16:59:56 +0100

    Look at roster items, not ContactList channels, to see what state contacts are in

commit 98ba0a30833ceab6f96bb16ca11f4e47597fa8c4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-28 18:39:40 +0100

    Whenever we change the ContactList channels, save the state in the RosterItem

commit 56f3efcda2d2815a89b36d39fdb3c524ac96c6d4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-28 17:42:18 +0100

    Make it easy to skip unrelated batches of tests during development
    
    Use: make check ... TWISTED_TUBE_TESTS= TWISTED_FT_TESTS= ...

commit 7658c2df4f6687ebd86f98d308d5ffb19949f51a
Merge: a538d52 1fa9568
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-03 16:01:01 +0100

    Merge branch 'errata'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 1fa9568fb75b0c60894048db0fdba86e2ea51371
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-03 15:49:53 +0100

    saslutil: expect ConnectionError whenever aborted

commit 2698207d95d50ac92c2bdf834696ef4e1e3bd874
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-03 15:49:40 +0100

    sasl/plain test: expect ConnectionError

commit e1113c0caa4d693030666e688ddd87d9a6169b7c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-03 15:45:39 +0100

    test-register: check ConnectionError for each failure case

commit 03e286cfe2b54225f08bffe1acd2ad197ed14e0b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-03 15:43:33 +0100

    Check that registering and getting a <conflict/> raises RegistrationExists

commit b97e945ee48fc91cccf268eb71b63b3ae4b70a3f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-03 15:24:17 +0100

    connect/test-fail.py: exercise the ConnectionError signal

commit 43d4cc6ecefcff87388591ba8414e8f59b42160e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-03 15:23:52 +0100

    gabble_set_tp_conn_error_from_wocky: be sensitive to previous status
    
    This moves the domain-specific special case from
    connection.c:remote_error_cb to more generic error-handling code.
    
    I'd previously thought that a stream <conflict/> before connecting
    successfully would be a WOCKY_CONNECTOR_ERROR, but that turns out
    not to be true.

commit 1df648789abc5a99e9df47a44657a739f6157964
Merge: fdfbd53 a538d52
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-03 14:59:08 +0100

    Merge branch 'master' into errata
    
    Conflicts:
    	lib/ext/wocky (took newer version)

commit a538d52087e4f0e8ea59aedbdf29834dd82d9543
Merge: 6643130 4dfc2d8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-08-03 14:42:09 +0100

    Merge branch 'trivia'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 85030b0e982bc16c987460504861ff06587fd6c8
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-29 18:27:50 +0100

    connection: remove old reference to client type private struct
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 32878718220104c1e5618bf63a7116c76dae6542
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-29 18:19:55 +0100

    presence: rate a resource higher if it was updated more recently
    
    I don't understand why we didn't have this before. It means that
    gabble_presence_pick_resource_by_caps with a dummy predicate will
    return the same resource which is totally what we want.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 48c6737cc7f03342552a4fe731ca49724692316d
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-29 17:35:33 +0100

    presence: add new client type: game
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 4dfc2d8bcf5f6bf28cdc569f2b5e201accd3d4a9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-30 12:43:07 +0100

    GabbleSearchChannel: change_search_state: use tp_error_get_dbus_name
    
    This has been available since telepathy-glib 0.7.31.

commit c029ab07ae3d662225827dc3fe3c9500c17891d8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-30 12:09:54 +0100

    gabble_connection_dispose: comment why we are not leaking the porter

commit 12ec810b41ae5cb205398031a2efd929c910588c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-30 11:59:32 +0100

    _gabble_connection_send: remove unused variable

commit f42ce2a0ec0043f1ea75bad435094705d4c2153a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-22 13:03:05 +0100

    plugins: put top_srcdir and top_builddir first in CFLAGS
    
    If we're compiling against an uninstalled telepathy-glib, we want
    "extensions/extensions.h" to mean Gabble's, not telepathy-glib's!

commit ce5ef9d9b569487b35f37bba5eec32e523757ba5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-28 16:14:06 +0100

    test-receive-file-decline.py: fix race condition
    
    It's not safe to assume that Closed will not happen before the stream-iq;
    it depends when we poll the two sockets.

commit 49d038b1b8fda6e1d1849f30c9e5dafc9a3d3a00
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-28 16:11:54 +0100

    test-location: don't assume that stream events happen before D-Bus events
    
    This fixes an occasional test failure.

commit bf40c1c73c18f2376b107413589c07c9551f8929
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-28 15:55:54 +0100

    jingle/decloak-peer test: assert that RequestStreams raises Offline when failing

commit 9b7cbb5d841d25c84821f2df7e3e1b7c99c8f0d8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-28 15:55:25 +0100

    jingle/decloak-peer.py: fix a race between the two sub-tests
    
    By matching the destination JID of the temppres presence stanza, we avoid
    this situation:
    
    * sub-test 1 (successfully decloaking foo@bar.com) succeeds
    * by the time sub-test 2 runs, the directed presence sent to peers
      who aren't expected to see our presence (so we can call people while
      invisible), from sub-test 1, has *not* been processed yet
    * sub-test 2 expects a temppres stanza (sent to foo2@bar.com), but it
      receives the directed presence from sub-test 1 instead
    * assertion failure

commit 1be135d64f85a0041e32f1ae14700ab5719b9f26
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-07-28 15:26:28 +0100

    Fix spelling mistake detected by Lintian

commit e338845ca649e3ac125c28197eb436bb282ab6eb
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-28 10:38:58 +0100

    extensions: fix yet another old reference
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 2c956031e2a45d7513f4fdc17387f07661bf5f4c
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-27 16:09:08 +0100

    presence-cache: don't try and get the top node of NULL node tree
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit b11fdbd1b54dca4558c844f83f4713d0068f5470
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-27 15:31:21 +0100

    client types: now it's called ClientTypes; update everything
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 15e6d9eafd2c1a555e0edea1cd58a62fcfae9a13
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-27 14:38:04 +0100

    client type: be sure to create NULL-terminated char**s
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit ea166f05f6de6e210cc8d1b2903a612b8bcca811
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-27 14:27:13 +0100

    client-type: remove private struct
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 9a54e727f1f6229b459cd7acf978ff7e90268e77
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-27 14:25:20 +0100

    client type: make presences-updated use the presence cache too
    
    Lots of deletions!
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit e2a2839560c5c876f5f04edf7790e3b37c20e237
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-27 12:34:10 +0100

    client type: remove RequestClientTypes implementation
    
    And more misc.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 2553c7f1f05d2b6f38965dafaaaa3c01c31cf147
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-27 12:19:51 +0100

    client type: clean up GetClientTypes code a little
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 69186c2433a0bd1354d81faf74ff13f3a39d52a4
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-27 12:11:35 +0100

    client type: make filling the contact attributes use the presence cache
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit b7ca82b9800ca7f9d8795f3c31101e3e7df9b089
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-27 12:00:18 +0100

    presence: make NULL-ing the client type array optional
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit c974ec0c313fc0f47c6db9a0947fd13b55a8f0a4
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-27 10:57:40 +0100

    client type: stop trying to disconnect a signal from an already disposed object
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit e04935caf04fb6578b4527e19af4b2f124cdd602
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-26 18:08:55 +0100

    client type: start using the presence cache instead of our own new cache
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 1623ef812586e958f47033604925a2bd02f161e5
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-26 18:08:00 +0100

    presence-cache: only update client types if we got some
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit ba2350cac2b58d13e91257e7f70bb8509b96c483
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-26 17:16:09 +0100

    presence-cache: add a disco_in_progress function
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 540377b139385ad605f4bf99417530f3d57f06a7
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-26 17:09:25 +0100

    presence-cache: update the appropriate presence object with new disco info
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 8d7471abefc0560d1ca8f34f24ea1b1671e2084f
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-26 17:08:43 +0100

    capabilities: remove is-a-phone quirk
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 83353dc12ca8bd7086a019259e5e489dd602697a
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-26 17:07:41 +0100

    presence: move client type into GabblePresence object
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 0b29f1b24325d1ff3df14ce8c9f40c5a46c9655a
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-22 18:13:21 +0100

    client type: implement RequestClientTypes
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 0c3956a6c9401d306383da605899a7b2c2a1175e
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-22 17:43:25 +0100

    extensions: update current spec for client type
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 77c7018aa63134469e04a9aed5fc4c535fc96f78
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-22 16:55:50 +0100

    client type: add a cache
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit dd5d9873023549e72da45a400e61a40a4b88e267
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-22 16:35:22 +0100

    client type: fix the GType when setting the contact attribute
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 30cefad612dfffde1ce8c398748792d99ed4e000
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-22 15:57:30 +0100

    client type: move more code into their own functions
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit c8266f31a1921724c4801109077005b197a946dc
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-22 15:36:21 +0100

    client type: move some common code into other functions
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit e1893d37d46c613516f52d5fcc562d4dd14cd3a8
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-22 15:25:13 +0100

    client type: enable client type contact attribute
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 6261ea9f52df17994dc4f0f511e1cd383a262785
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-22 15:24:46 +0100

    client type: cache resources so don't disco if they've not changed
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 1bcb88fe15d8d690a35a72f376103ed77b101053
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-22 14:58:07 +0100

    client-type: signal when a contact's resource changes
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 6f7773fe8162fa5b5a2d0d025e77fabf71678315
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-22 14:10:45 +0100

    client type: we're no longer storing GArrays in this hash table
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit edc592f2cd39683a6cbe6e6e36bf6582696a2fb4
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-22 14:07:18 +0100

    client type: small style tweak
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 0c5240364bb934e2ef9744bfa74462d19a9ebdac
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-22 14:05:28 +0100

    client type: fix a segfault when immediately returning and a leak
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit b87bb748f652e39f4a522f60cd2d16207ace990c
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-22 14:05:00 +0100

    client type: find the best resource for a contact
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 1101f6f0f765dccc6f1421f2c589c1b82c24c865
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-22 12:00:03 +0100

    client-type: add first version of connection interface
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 9fba2ff5b90124c84f33c0aac7bd096cfbc275c4
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-22 11:58:49 +0100

    extensions: add Conn.I.ClientType draft
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 3f32d17dc413f50eb65039978c911f888ffa64a1
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-22 11:58:10 +0100

    debug: add a client-type debug flag
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit a3f38714498580dd5b05fdd284987563bff64407
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-22 11:57:29 +0100

    debug: add a few reminders about keeping the enum/array up-to-date
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 66431301007f497357a2272dd2e0b9612f58eada
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-07-19 12:12:36 +0100

    Remove a trailing space

commit 4a8d668f2992da8093ab096ea5c76262f8a48681
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-07-19 11:02:55 +0100

    Skip file collection candidates with invalid addresses
    
    Fixes: fd.o#29113
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit c730096a5a7a09cf5791446f2c9d02b2a2fb6612
Merge: 7ee8e48 f4161a0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-07-16 16:32:27 +0100

    Merge branch 'coverity'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit f4161a052e30b1e51c1f464ed494eb4c936c1d28
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-07-16 16:29:19 +0100

    Update Wocky snapshot for Coverity fixes

commit 7d5bbc91ba7c7aa97629de5e5392a91c157df38f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-07-16 14:50:39 +0100

    DEBUG if MCE's InactivityChanged signal is malformed

commit 5eedd53ad3476a0effe7f4678201514e6dc189b4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-07-16 14:46:09 +0100

    Remove unused GError variable.

commit 36480bb684ff95f1aef8e05a6fc6371e3d9dee71
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-07-16 14:40:17 +0100

    Cope if Jingle sharing requests omit <manifest>

commit 1011f4b117152ed515bf349c80437587278997e1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-07-16 14:04:11 +0100

    Make "Session has at least one Content" assertion explicit
    
    This branch is only taken if the GabbleMediaChannel has a session.
    Active JingleSessions have at least one content. priv->session is NULL
    until the call starts, and is re-set back to NULL when the session
    signals terminated. Thus, this assertion is safe. Let's make it
    explicit.

commit 7ee8e4839601683fcb315be04ba83f8e42aa0b2c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-07-16 16:22:44 +0100

    Delete non-functional invisibility fallbacks test.
    
    This test tested that if a server advertises (say) XEP-0186 support, but
    sending an <invisible/> command fails, Gabble would fall back to trying
    invisibility lists.
    
    But, we removed that fallback, on the basis that if the server
    advertises support for a feature, it should work. And
    invisible_xep_0126.py should test any fallback from that to Þe Olde
    <presence type='invisible'/>. Finally, this test didn't actually work
    since InvisibleXmlStream was deleted. So, let's just bin it.

commit d7e7b08793e3de2cc4393d1b5896e8c0a37967a6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-07-15 10:19:19 +0200

    connection: add Connection.Future to interfaces_always_present

commit 73fe3ecdf9c77e1f9b8d2c7ca4808f996494562b
Merge: 4677625 c0562b9
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-14 14:36:03 +0100

    Merge branch 'toob'

commit c0562b9a6f94c75ab5522d7c7f9ebc11a09e8551
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-14 14:35:11 +0100

    NEWS: updated
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit d0e49bbb9f72841c42e13c7c833e31764a902544
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-09 15:07:16 +0100

    muc-factory: rearrange which NewChannels signals come first
    
    If you request a Tube channel, it really doesn't matter which
    NewChannels signal gets fired first -- either the one with the tubes
    and text channels, or the one with the new tube channel.
    
    Also, change the offer-muc-{dbus,stream}-tube tests to not depend on
    this said ordering.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 73e203c0d43d6d3371f42cc1332b4eb1da5bf191
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-09 13:52:29 +0100

    tests: add check-create-tube-return
    
    Not the best name for a test in the world.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 44e7d9a7df34451dfe38ccf306c234c5e6eb84db
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-08 17:21:38 +0100

    muc-factory: don't associate a request with tubes if a tube was requested
    
    Previously, the request token was associated with the tubes channel,
    regardless of whether the request was for a tube or tubes
    channel. This meant that if the MUC channel wasn't ready when a tube
    channel was requested then the tubes channel will be given back to the
    caller of CreateChannel. The MUC channel will be ready if a text MUC
    has already been opened, where this bug does not appear.
    
    Fixes: fd.o#25533
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 4677625c03999460c6316f27cdc776d86ca993b2
Merge: 531530d cf290a7
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-14 14:11:46 +0100

    Merge branch 'misc'

commit cf290a7a9569e5f188ed1eca461c7916aa5ba4f7
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-13 12:02:04 +0100

    base-channel: fix a small typo
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 4b39a8562dcb0f5dcbeb364f613401693383c733
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-13 11:09:28 +0100

    gitignore: updated to include more emacs stuff
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 7e349519f7dd16269adba0523518d69a247e2a1c
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-07-09 16:45:22 +0100

    muc-factory: fix indentation
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 531530dc5c90aa884fb3e8bdc69ebf09a4272e12
Merge: 9f95160 2ca3337
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-07-08 11:53:30 -0700

    Merge branch 'invisibility'

commit 2ca33374859bb78b33b2dbcbc588b63d2756dfcb
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-07-08 11:44:31 -0700

    Fixed 'dnd' fallback when requested status was not 'hidden'.

commit efa747bf519c358b44601027f3bceec3065b776e
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-07-08 11:30:07 -0700

    [tests/twisted] Return an error on privacy lists IQs by default.

commit 1ac29792637ca204e9005aed116f66925f59984e
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-07-06 13:10:42 -0700

    Changed DEBUG() in disable_privacy_lists to output fallback method.

commit 962b49c8d7834433aac87d76c6745402b188be51
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-07-06 13:05:04 -0700

    Remove null-checking GError after _gabble_connection_send_with_reply.
    We need to assume the error is not NULL, other places in gabble do.

commit ae53a3c5e45017eb5ccbf92220f31c0837176f82
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-07-06 11:38:49 -0700

    Fix unfortunate unindenting.

commit 6ff3b03fa6fc034f1c40444a233faac1dc77fba2
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-07-06 10:37:02 -0700

    Don't use addRawXml.

commit 0b735fd66914c3bc01ae16ab6056046da7f420c2
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-07-03 15:43:17 -0700

    Gave create_list functions an internal AsyncResult.

commit 619ea8312769e1d56bdaf1e4187f56d6052a956b
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-07-03 15:12:06 -0700

    Replaced set_presence_after_invisible_privacy_list_setup_cb with more generic toggle_initial_presence_visibility_cb

commit 86ed29b3058d55b9d47e3706c49229a8691eaf83
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-07-03 14:55:01 -0700

    Renamed invisible_privacy_list private struct member to invisible_list_name

commit ed958c40b35804647193b4462b08aef87d6da5c3
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-07-03 14:45:43 -0700

    Removed get_list_name_from_message. It was only called once.

commit a45de31d9297fcee815bc7323ab1c5a72b30ced6
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-07-03 14:37:13 -0700

    Remove simulated disco privacy feature, we need to work without that.

commit eba08fbf310643573e0cf1c304911fb5a130ee2e
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-07-02 17:56:44 -0700

    Added whimsical diagram.

commit 41b78cd319e105030d3cc002dd6987391e524fc9
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-06-30 12:05:13 -0700

    A new world order! Restrung privacy list management.
    
    When signing on, first check if there is a valid invisible list
    before clobbering, this saves from push notification to other connected
    resources. If the current 'invisible' list is not satisfactory, create an
    'invisible-gabble' list that hopefully we could use.
    
    This change also does not depend on privacy lists being a disco advertised
    feature. All released versions of Prosody, and supposedly some version of
    ejabberd, don't actually advertise their privacy list support. If we get an
    error (presumably because of lack of support), the invisibility-via-xep-0126
    is dropped in favor of xep-0018 or nothing.

commit bc5d549256100c9ca3faa7495ba2028b423c29d2
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-06-30 11:43:59 -0700

    Created tests for new push features.

commit 13c57ee34426690ce4d93013a38a9c82795ae50d
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-06-29 22:12:19 -0700

    WIP: Listen for privacy list pushes and move over to a new list if it conflicts.

commit 9f442c267aaad206ce5055fa109a3b3ddf93665a
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-06-28 17:16:16 -0700

    Add 'dnd' fallback when trying to connect when hidden.

commit ef1d773cd51acb5b994fb376bf4f41a16fd94e9b
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-06-28 17:16:03 -0700

    Added XEP-0126 invisibility fail tests (they don't pass yet).

commit e8c9b6b197ebb20cf747b86c948fce914977cb96
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-06-28 16:08:20 -0700

    Added XEP-0186 invisibility fail tests (they don't pass yet).

commit 165bdf21284a1096c9e0273793be416b6d8ba5d6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-21 12:07:39 +0100

    WIP

commit ca6e478114e348eba78e4242e23e577a674b806d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-13 12:32:14 +0100

    tests: refactor advertising server features

commit b1c6d5bdd6dd1f964e9568516513f38c85d1bbd1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-09 14:08:03 +0100

    WIP: refactor setting initial presence
    
    This patch adds a private structure for conn-presence, which currently
    just holds the invisibility method in use. It then refactors
    conn_presence_set_initial_presence_async() to be implemented in terms of
    toggle_presence_visibility_async(). Finally, it removes the fallback
    between mechanisms, because if a server claims to support (say) XEP-0186
    invisibility, it can be reasonably expected to work. And, given that we
    have to deal adequately with becoming invisible failing during a
    connection, not just at login, we may as well deal in the same way in
    both cases.
    
    This patch is WIP because it breaks invisible_fallbacks.py (given that
    it deletes the fallbacks that patch checks), because we should also have
    tests for setting ourselves to invisible failing once the connection is
    up and running (checking that Gabble reverts you to either your previous
    presence, or DND, as we wish), and because we need to look up existing
    privacy lists to fix this case:
    
    • Gabble #1 signs in
    • Gabble #1 creates a list called 'invisible', and activates it.
    • Gabble #2 also signs in
    • Gabble #2 tries to create a list called 'invisible', but it fails
      because you can't replace privacy lists that are in use, so it gives
      up on invisibility.

commit f98dd8b37512fd2bb44299c433405137bbbc6c11
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-10 12:21:46 +0100

    Correctly document connection stages.

commit ba262e7f5800977a68301c96996519ff63544fc4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-09 12:57:31 +0100

    Name conn_presence_set_initial_presence_finished conventionally
    
    Also, implement it using a handy macro

commit e04b4e576bf3cfbcb50196f4ebfcac25cfd0669f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-09 12:56:42 +0100

    Simplify handling server's reply to <invisible/>

commit 5460639148168c4f74aa343e39a7f44a61a7d721
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-09 10:25:36 +0100

    Make XEP-0126 test more pedantic.
    
    expect_many() doesn't enforce any ordering on the events, so the test
    wasn't checking that commands were sent to the server in the right
    order.
    
    Also, checking that we were sending undirected presences revealed that
    we were actually sending <presence to=''/>, that is, to the empty JID.
    It turned out that we could simplify the success path of becoming
    (in)visible while fixing this bug.

commit 454b43279c668001e4db560d2e765dcfea316528
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-09 10:03:29 +0100

    xep-0186: test that we send presence after <visible/>

commit 36c69e69d8ba73908ffb3b8dc8a8f5b3ed34ad9a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-07 18:47:17 +0100

    Make toggle_presence_visibility_async() more conventional
    
    • Make sure it only ever returns asynchronously;
    • Add a corresponding _finish() function.

commit 005facf92966d9a7977674f455e960f2422f30bf
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-07 15:18:18 +0100

    Indent build specs more clearly

commit 4f1a88d1b21eb350ef3185bbb9a552c0d7d5b219
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-07 15:07:38 +0100

    Initialize a GError * to NULL.

commit 42e2b3689208330d673fead8030c3e379975aafa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-07 14:51:19 +0100

    Clarify a series of chained if {} blocks

commit fb6a72b8ddcd41621aa6a54642bdc6b43b1a4c74
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-07 14:15:15 +0100

    invisible_helper: use acknowledge_iq and send_error_reply

commit dc948e39a3ecec13aa264049d3d5c10f0d73f176
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-06 22:35:20 +0100

    Use assertContains and friends

commit a25d3e72a617654d94b18781ac0b4f21cb840453
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-06 22:34:42 +0100

    Update for the Glorious Wocky Renaming

commit 258634f37d8bb506c564bad2aa2479bc3793bb90
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-04-26 16:42:36 -0700

    Added a test for when no invisibility functions fall through.

commit d50436a12ba4e0593078792db5833d12c755b060
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-04-26 16:22:36 -0700

    Cleaned up invisibility tests

commit 24bb0a331eca8e52184447abf9b56b0739ea10bb
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-04-26 15:44:53 -0700

    Fall back to busy if we failed to become invisible.

commit 1ed4f920e59a0c8ecc017d313b9adf645477717a
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-04-26 15:44:12 -0700

    When invisible, set status in muc to busy.

commit f2ece95d3315e013e9c799459a9417ebacaf5e3b
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-04-26 15:42:41 -0700

    Remove invisibility features if status is preset to "hidden" and server refuses to play nicely. Ultimately set status to busy.

commit 035f2f06bc176919c55d95bc708677377f132288
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-04-26 15:41:02 -0700

    Clean up XEP-specific invisibility setting and make it asynchronous.

commit 79a74333d6f0ed2b113eb771a74dba84575d4c72
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-04-23 14:14:10 -0700

    Use wocky_xmpp_stanza_build instead of lm_message_new_*

commit 425d9fcd20b632ef9ee65004609f77ff0b964820
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-04-22 15:21:46 -0700

    Added invisibility tests.

commit 3c0030f549c4ac7827b50f7ceb4ce2b76ff87abc
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-04-22 12:59:42 -0700

    document code

commit 1ed3c831eb2dd85863237ad3d33238ae53c2d69b
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-04-22 12:56:53 -0700

    Added implicit XEP-0018 option.

commit 322cd3b7870a7e133024da20d4e041f3c9e1f053
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-04-22 12:54:59 -0700

    Make status_available_cb more readable and add all invisibility feature flags.

commit 3a7142e5dffb6040fcb7d7704b193987ffd3f42f
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-04-22 12:53:11 -0700

    Fix indentation. broadcast "invisible" presence to MUCs, didn't test this, but it may be necessary, couldn't hurt.

commit bf3819a429e862c34826d83db9c5f2aed52137f5
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-04-21 17:22:58 -0700

    Added untested support for XEP-0186

commit 3fc22b4812e02a9d5d6868069fc63834745cd82e
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-04-20 11:39:46 -0700

    Implemented XEP-0126.

commit 9f95160195949c8d122427b4c21baa9ac59595f0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-30 18:52:06 +0100

    Nano version

commit f9d02abbaca43c0c46c485139d2f711bfeb4460a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-30 18:22:54 +0100

    Prepare version 0.9.15
    
    Also direct bug reports to the right place while we're at it :-)

commit 9b35913a04c091d82c82ae591ba244762ee6b7b4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-21 16:03:48 +0100

    roster/test-google-roster: fix a typo in a reference to a Launchpad bug

commit 1623c8ea679e1af66ec1351223677615ad527fdc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-21 15:00:00 +0100

    servicetest.EventPattern: don't put predicate in repr() if it's a no-op

commit 5ca8f4628981a5c2772c29ef8d6967adee6d779e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-06-25 19:56:41 +0100

    Update wocky snapshot

commit fdfbd534bb91db10c3542b080e6bd6b550025e28
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-23 14:42:59 +0100

    connector_connected: use gabble_connection_disconnect_with_tp_error on error

commit 3aa1190a4670a89622281fa20b6161f56a6034e5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-23 14:37:51 +0100

    Factor out gabble_connection_disconnect_with_tp_error

commit d89d121c3ed0d3cd0357ba661d3816489d5d6be9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-23 14:37:34 +0100

    remote_error_cb: map the error through gabble_set_tp_conn_error_from_wocky

commit 34cda73b35800c877f6fd5846b4fa0ab2d2b8f0b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-23 14:30:42 +0100

    Handle WOCKY_CONNECTOR_ERROR_BIND_CONFLICT and WOCKY_XMPP_STREAM_ERROR_CONFLICT

commit 682c0448e71166feec408a7d9d284713766afe80
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-23 14:22:22 +0100

    remote_closed_cb: use tp_base_connection_disconnect_with_dbus_error to raise ConnectionLost

commit e754e0be6fb6d0d8899baad35591da980401f572
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-23 14:18:22 +0100

    connector_error_disconnect: call tp_base_connection_disconnect_with_dbus_error

commit 7326ef07422c7e3f8547a71a0c33758e56baf6d4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-23 14:12:56 +0100

    gabble_set_tp_conn_error_from_wocky: support WockyTLSCertError

commit 24cd8e1b9af89aa6bde5094e96b5994af7d6bd1c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-23 13:43:18 +0100

    gabble_set_tp_conn_error_from_wocky: support WockyXmppStreamError

commit 7aae6984ef67fbf25430c7cc8dfe5e5c617e70a2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-23 14:12:26 +0100

    gabble_set_tp_conn_error_from_wocky: support WockyConnectorError

commit eac053914b1f0c38e4e09392948a3f49b403705d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-23 14:12:02 +0100

    gabble_set_tp_conn_error_from_wocky: map WockyAuthError values
    
    The mapping to TpConnectionStatusReason is the same as for
    connector_error_disconnect, so use this utility function there.

commit 4df8547ce0a0d2e31720ce57368d09a173813dac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-23 14:08:45 +0100

    Update Wocky, to build enum types for all error domains

commit 98fbc6564606f9a5559cd3c9cc165c936e77b36c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-23 13:34:36 +0100

    gabble_set_tp_conn_error_from_wocky: map Wocky errors to TpConnectionStatusReason + TpError

commit cceca06c277c6ad2e8a0d7dc69a15c3afe3f1600
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-22 20:07:34 +0100

    Nano version

commit 6b382cace1d5d345c2fe59308e3768fe5b0a5c03
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-22 19:22:17 +0100

    Update Wocky and prepare version 0.9.14

commit 0ab98103901f53c5623e056c8b894156bce241f8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-22 18:59:24 +0100

    fd.o #27966: replace gabble_value_array_build with tp_value_array_build

commit 52fae8c1420be62eee14bbfb1e92c1ea28fc013a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-22 18:56:36 +0100

    Update NEWS

commit 52855a27427db0c4c127258f379feab8383b5bf2
Merge: 3435e4f 1ab797c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-22 18:29:37 +0100

    Merge branch 'not-actually-spoofing'
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit 1ab797c7c7da2b3bead6fe743babb22b9249d30b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-22 17:02:19 +0100

    Test interoperability with Prosody 0.6.1 returning error from disco#info on our bare JID

commit dc621234a829da1cf4a9bd5c02ef280695f87383
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-22 18:29:18 +0100

    fd.o #28647: update Wocky to master and compensate for its API change

commit 3435e4f787e50de303dbfe5131685715eb9ad435
Merge: 40fb64c fcb15bb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-22 17:02:36 +0100

    Merge branch 'roster-assumptions'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 40fb64ca5b247007472e7e485bb538ea36892a16
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-18 15:04:42 +0100

    Add {}s for clarity.

commit de83fe2e597f1860984b91322e7f9d4d0077029a
Merge: 20393e8 3dc6b89
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-18 14:37:01 +0100

    Merge branch 'tired-jokes-about-discotheques'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 3dc6b89100ab2d2d446d739625bd2e777dd92045
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-18 13:56:49 +0100

    Ignore errors from discoing our own bare JID.
    
    Fixes <https://bugs.freedesktop.org/show_bug.cgi?id=28599>.

commit 856de6e83cf0cbdb03e3556103d9e8bbe44809a3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-18 13:43:26 +0100

    Move test-disco-no-reply.py into connect/
    
    It tests stuff that happens during the connection process, so...

commit f22cee75964a9ed3f76a386e2e645e2678f14b84
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-18 13:39:43 +0100

    Move test-disco.py into caps/, and modernize

commit 20393e8754676ec43bd998dbbfc6f9c1e0136c6d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-17 18:28:44 +0100

    Say who calls Close() on calls
    
    A reasonably common answer to “why are my calls closing?” is “because
    someone called Close() on them”.
    
    The follow-up is usually “who, and why?”. This patch helps with the
    former; for the latter, you're on your own.

commit fcb15bb37de702efdee0ee34a3fd2a6683fd8fe2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-17 16:38:28 +0100

    Use the self-handle as actor for changes to the 'deny' list
    
    This matches the behaviour of TpBaseContactList, and makes logical sense:
    if the deny list changes, either we changed it locally, or one of our
    other resources changed it.

commit 936b4fab5b34719e038787907a762d5687b07578
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-15 14:59:24 +0100

    test-twice: don't assume contact lists will turn up in a particular order

commit 5bc1adf30d58d9c9a66a83b72effce4a2d868362
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-15 14:58:59 +0100

    Move rostertest out of the roster directory: it's needed elsewhere too

commit 38c96124b6f808f68c822c830663b46bd078136c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-15 15:07:07 +0100

    Update Wocky to master, and adjust parameter order in connection.c to match

commit 21738b95d73feedb605301f8b4b6fb9600ae71b1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-14 17:57:05 +0100

    Bump nano-version to 0.9.13.1

commit b15b7a4e1567757f51f82d48e696b8a2020dbf44
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-14 17:12:04 +0100

    Version 0.9.13

commit 7fc9345e62cf5a6ecc81f48a28ffa0f1cfe5276b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-14 17:09:10 +0100

    NEWS for 0.9.13

commit ff30a88be6c7b76d7f6e25e1bde0619a21b3f3d6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-14 17:32:25 +0100

    Add jingle-share test helpers to EXTRA_DIST

commit 653d6172632758ac2648cb6522f66079803fd5e3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-14 16:58:29 +0100

    Update Wocky for domain-validation fixes

commit cb7a20e11e60c48cdce78ed7e7c18bf728176806
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-14 16:57:14 +0100

    Remove useless DEBUG("")

commit 98be6decabde18758bc56ae41431a19964e637cc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-14 15:17:04 +0100

    Unrace FT tests waiting for NewChannels
    
    The buildbot hit this failure:
    
      File ".../jingle-share/file_transfer_helper.py", line 259, in check_new_channel
        assert props[cs.CHANNEL_TYPE] == cs.CHANNEL_TYPE_FILE_TRANSFER, props
    AssertionError: {...,
      u'org.freedesktop.Telepathy.Channel.ChannelType':
        u'org.freedesktop.Telepathy.Channel.Type.ContactList', ... }
    FAIL: jingle-share/test-receive-file-and-sender-disconnect-while-transfering.py
    
    This is because the tests waited for any NewChannels signal, and then
    asserted that it's the FT channel we're expecting. But in fact, it's a
    roster channel. This patch fixes both copies of file_transfer_helper.py.

commit a69216bb1030532e72a9d2a6b147890025125390
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-01-29 11:50:29 +0000

    Support namespace prefixes in gabbletest's elem() DSL
    
    Reviewed-by: Senko Rašić <senko.rasic@collabora.co.uk>

commit 6bee292088b18b92efa19a507025466ef027b0f8
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-06-14 12:14:39 +0100

    Be explicit to wocky's configure
    
    Explicitely pass flags to wocky's configure for coding style checks
    and compiler warnings. This makes us independent of wocky's default
    rules.

commit 8c00dbceb8c3cbda5f3bd86968fb6c118c0e3b5f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-11 14:55:53 +0100

    caps/receive-jingle.py: don't assume that an offline contact's handle becomes invalid
    
    This isn't guaranteed to happen immediately. In the current version of
    Gabble, the previous test would pass when run with all the other tests,
    but would fail when run individually.

commit 32e5d04eb7d2dfcc883f28c741204c60c14f1117
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-11 14:35:24 +0100

    caps/receive-jingle.py: produce better diagnostics on failure

commit 449d115768fff1c3f6598224be6caf9342097648
Merge: a362480 66fda08
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-11 13:09:59 +0100

    Merge branch 'roster'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 66fda08eabc697bab8044d646799edb122c873cd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-11 12:58:09 +0100

    rostertest: remove the old, unsafe (order-dependent) channel expectations

commit eb6dafa21117c2a0dde0c0846d29db3790bf7bf8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-10 12:56:46 +0100

    gabble_roster_handle_get_subscription etc.: use _gabble_roster_item_lookup

commit 12297e61d2cc728e7ca66ae9a5106419371148a9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-09 18:26:35 +0100

    Split _gabble_roster_item_get into lookup and ensure versions
    
    Use the ensure version everywhere, except in roster_edited_cb where we
    don't really need to create an item just to see whether there are
    unsent edits.

commit 8d82c11220891eeb4587876468a7b8c162b6d73e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-11 12:35:50 +0100

    Re-order ContactList channel handles, to verify that the tests are order-independent

commit 990307b3e923ce39fa188b4d2337fb7fc6d91ed4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-11 12:33:28 +0100

    Make remaining roster tests independent of signal emission order

commit d8ce800b433271171839a96c7235b408bf701a57
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-11 12:24:41 +0100

    roster/group*.py: be independent of channels' ordering

commit dfaa7c20fc5df89a095660d9c47ef50159f4a261
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-11 12:23:09 +0100

    test-roster: use check_contact_list_signals

commit a362480ed59a15ad4efbf3f6e9982ec719d9248a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-08 15:13:26 +0100

    Test that we handle malformed <message type=''/> attrs

commit f39fdbf16756a68485f29c4a3fdda63b384bc493
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-11 12:17:55 +0100

    rostertest: add a more correct way to expect roster signals
    
    Many tests expect channels to appear in a particular order, which is a
    problem while porting to TpBaseContactList.

commit 3981b2792af1f1771ccc4170c287f3072f9794aa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-11 12:10:39 +0100

    Move roster test code from gabbletest to roster/rostertest.py

commit b7dcafcaa3cf72b3cd6a6948a068970b36b552b5
Merge: 8dbdeed 1513b23
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-06-10 14:28:48 +0100

    Merge branch 'igoogle-merge-test'

commit 1513b23d9fe474d25e113a9f051f6b8e0429db16
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-06-09 19:14:23 +0100

    Ignore unknown component names, remove dead code

commit d235320e90f44479c8bcc92471a8279448a0accc
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-06-09 17:55:42 +0100

    Close as the very first thing in dispose

commit 9ad5ececdaa1408c50ef7dc3aab8f3877a7d14f1
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-06-09 17:55:06 +0100

    Set closed on ft-channel before emitting close as we might be freed afterwards

commit 6dc97684a3ac0dbacbb04fe4fc1764b213bb68d7
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-06-09 17:51:11 +0100

    By the time the ft-manager is disposing all channels should have been closed

commit 8dbdeedb09d5253dd3b8f558892b772dba8be0d5
Merge: 3946f63 e99178c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-09 17:37:27 +0100

    Merge branch 'roster'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit e99178c7c550020124a8d95b3200eb416bcc755e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-30 15:41:42 +0100

    Refactor a little chunk out of process_roster()
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit e7ab0e5296899d54f6f48af483f89a43c017b0a9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-30 12:24:00 +0100

    process_roster: clarify the scope of a handle variable
    
    It's silly to use the same variable both in the body of the loop for
    contact handles, and for list channel handles...
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 04fdc34897f911fbc572073f01e0b0196b1822cc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-30 12:21:07 +0100

    Don't delay removing items from the roster.
    
    I'm pretty sure the FIXME is correct: for each item, we hold a ref to
    the handle in referenced_handles until the end of the function. So we
    don't need to keep the items kicking around until the end of the
    function just to keep the handles alive.
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 1ab374724ea8c64e46dd0b0ef8811dbe6a38458d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-09 17:02:07 +0100

    process_roster: fix coding style; got_roster_iq: fix typo in comment
    
    [Separated from a larger commit -smcv]
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit fcb7cee7ac033efa58eaa07abd1caa0855e1053b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-09 17:01:00 +0100

    process_roster: adjust variable declarations, and pre-initialize them
    
    [Separated from a larger commit -smcv]
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 1a77c2543197212cffe1ee71c31ed8b9f757d8a3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-09 16:56:13 +0100

    Re-indent process_roster()
    
    This is a whitespace-only change.

commit 825120552d23f5dc37549312ccc1b6831fe6c95a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-09 16:55:07 +0100

    Convert artificial block into a mis-indentation by moving local variables to function scope

commit 5b9320678ea6d60a66b9c65bef21ef320df3bd1f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-09 16:53:05 +0100

    Factor out processing a roster push from the monster roster-munching function
    
    [Separated from a larger commit -smcv]
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit ea58f49adc1b2d5d7f5b542bd76367fedb9e7230
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-09 16:41:35 +0100

    Factor out validate_roster_item() from gabble_roster_iq_cb()
    
    [Separated from a larger commit -smcv]
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 3dcd693aaebd399b57340ce2ed75247fbbe96f30
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-06-09 16:17:22 +0100

    Have a unique version hash on each call

commit b536c75d6617fe44c465347b3abf613fdd01b877
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-30 11:01:50 +0100

    Correctly default contacts on 'subscribe' to offline.
    
    If we haven't received presence for a contact, we determine whether to
    report them as offline or unknown based on our roster. In theory:
    
    • If we've received the roster, and it shows that we should be receiving
      their presence, then we assume they're offline.
    • Otherwise, we show them as unknown.
    
    Unfortunately the existing logic is backwards: it shows contacts with
    subscription='from' as offline, but should in fact be looking for
    subscription='to'. This patch fixes this, and fixes the test.
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit be3bd7b468077dc423893ec3d42fcddfb2642f0e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-06-09 16:16:25 +0100

    Move common code to a utils file

commit 3946f6385caa94f22da92711925a768482492f95
Merge: 964639a 15a0e70
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-09 12:38:44 +0100

    Merge branch 'location-flags'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 964639a9d12cd68d89f2041700795d002d1c9e1c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-09 12:24:51 +0100

    Fix disco identity comparison function
    
    Callbacks for g_ptr_array_sort() take pointers to the elements, not the
    elements themselves. This has tripped me up on several occasions.

commit 3db6b29b52602aede881a97d8de962510806dbf3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-09 12:13:44 +0100

    Improve assertion when check_hash fails.
    
    This might at least mean we can see which case is failing...

commit c17a96dfddef7b03eb3a7d511d7840c0f530c00a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-09 11:46:09 +0100

    BaseXmlStream: pick up the JID from the authenticator instead of assuming test@localhost
    
    This fixes tests like connect-twice, which use multiple JIDs.
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit f719f16d6cee43e37dbbafd81c2422e47a9cbe9c
Merge: 93e7d22 742246d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-09 11:39:06 +0200

    Merge branch 'location'

commit 742246dc15b4145b03e2f1295d57fe136b80e836
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-09 11:33:59 +0200

    BaseXmlStream: implement standard PEP disco
    
    BaseXmlStream should implement the standard protocol and pep-support.py test
    the legacy one.

commit f68a31f67b5e64a8cee28c09f6fd039b7496e2cf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-06-09 11:20:54 +0200

    fix typo

commit 93e7d22042f75546e503188b01da4cee14fe25ea
Merge: 9a1e2f0 37decc4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-08 19:06:38 +0100

    Merge branch 'plugins'
    
    Reviewed-by: André Moreira Magalhães <andre.magalhaes@collabora.co.uk>
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 99d3ca3bd25c4b65eb27ee19e6d2d88c9b875911
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-06-08 19:02:33 +0100

    Close all FT channels on disconnect

commit 02911b81b28086c6854d3aa03d9f4ed1b6855633
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-06-08 19:01:26 +0100

    expose API to close FT channels

commit 37decc4a4c3b1956a6ddfa0e85bc0e1162a67935
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-08 18:46:32 +0100

    Skip sidecar-own-caps entirely if not PLUGINS_ENABLED

commit 82d775262bc20794288a38123e2b3d1c7206294c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-08 18:45:50 +0100

    Fix indentation of GabbleDiscoIdentity functions.
    
    Also, use gtk-doc markup not doxygen markup. If these comments are ever
    parsed, it'll be by gtk-doc in Wocky.

commit 53841380ae02bb025d899d36623301c620f79158
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-08 18:40:29 +0100

    Slice-allocate GabbleDiscoIdentity

commit 8cfeee692566bfafce9572f3649dcd37a64827ce
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-08 18:40:02 +0100

    Warn if returned caps hashes aren't used.

commit 6a96b2fc4d97110412d1a18c6cc7da4560bf6b64
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-08 14:45:42 -0300

    plugin API: Use const qualifier for read-only params in gabble_connection_update_sidecar_capabilities.

commit 6662b92acbdf1daf7eaf5d6a49ac4d2a6f8b7cac
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-08 14:43:34 -0300

    plugin API: gabble_connection_sidecar_add_own_caps now adds a default identity if none is passed.
    
    Moved the code to add a default identity in case none is provided from
    gabble_caps_hash_compute to gabble_connection_sidecar_add_own_caps.

commit f8a3be4f75a3bfac03342b22fc2295e2e173e404
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-06-08 18:11:35 +0100

    Jingle sessions work in terms of full jids these days

commit e183d9117548544f7b5c2ee2d74cc6d24c92238e
Merge: 9a1e2f0 6de667f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-06-08 17:19:42 +0100

    Merge branch 'iGoogled' into master
    
    Conflicts:
    	extensions/all.xml
    	src/Makefile.am
    	src/debug.c
    	src/debug.h
    	src/ft-channel.c

commit 6de667f09ceca056a47f4824cd29d4697fe2bd8f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-06-08 16:47:29 +0100

    Don't exit the loop when finding the first known media type

commit 9a1e2f0f68cc66d55a3f80f61d976c2c48342950
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-08 12:53:34 +0100

    Use telepathy-glib's code for ContactInfo
    
    We already depend on the required version, 0.11.3.
    Some types from ContactInfo are used in ContactSearch, and need to be
    converted into <tp:external-type>.
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 15a0e70ba2ed65c2e274ff0adc6bf28bcfd0da9d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-08 12:41:13 +0100

    Test SupportedLocationFeatures

commit 42754299b3e61b474086ccaa0a6d72b9b90910c4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-08 12:41:01 +0100

    Implement SupportedLocationFeatures

commit 4f9625a62ffd1791ef24039dc5f74b915966cca7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-06-08 12:35:39 +0100

    Require telepathy-glib 0.11.6, for spec 0.19.6

commit 1437db49eaa480e94bb28db9a4032baff34cdaea
Merge: 37fd503 dc25b88
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-07 16:10:29 +0100

    Merge branch 'device-idle-0.9'
    
    Reviewed-by: Eitan Isaacson <eitan.isaacson@collabora.co.uk>

commit 5a543162d4884a191c1884488c9f241144a21026
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-07 10:57:41 -0300

    sidecar-own-caps test: Make sure the returned caps are correct by re-computing the hash and testing against original hash.

commit 7b9622202e36cb917b41ef1b622205f93bac47c1
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-07 10:55:40 -0300

    Renamed sidecar_own_caps to sidecar-own-caps as tests should use - instead of _.

commit 06fcf4fdc02cbb953162463b0a84d22861706ac8
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-07 08:54:18 -0300

    plugin API: gabble_connection_add_sidecar_own_caps now compute the hash and returns it.
    
    gabble_connection_add_sidecar_own_caps now computes the hash and returns it
    instead of receiving the hash as a param, as all needed info used to compute the
    hash is already received as params.

commit dc25b88b2d0ae30fdbebce220cb9e95fdca0a5c7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-26 11:10:15 +0100

    Slacker: chain up in dispose; remove finalize stub

commit 839b22e6555db942ab7ab430b9587a4cb2999e5e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-22 11:30:19 +0100

    Explicitly flush the queue after disabling it.
    
    It seems that the server doesn't send you the queue's contents when you
    disable it, so we have to explicitly flush it.

commit 03c31c6a4f7b67ab1045cd327af48442c4bbd0fe
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-21 19:51:07 +0100

    Add a test for MCE device idleness support

commit 8ce6fb60a4428f2906cf0ce2a24abfb21f8c6eec
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-21 14:48:28 +0100

    Cork presence updates on Google Talk connections

commit 043ee850c3e905957dc1047301f8350a5fea5946
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-21 13:20:18 +0100

    Add a watcher for MCE device state

commit 74d34028f2dcd6b9c6fc4c9689f86123fe7e85f1
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-04 15:38:43 -0300

    Added code to test sidecar own caps functionality.

commit 35a39b5140decdca22b3b8e513cb9e7fa73e94ea
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-04 15:38:10 -0300

    plugins/test: Added code to export own caps, to be used by sidecar test cases.

commit ab12e8ac1808276ea9b98889d6ae716b28ff2114
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-04 13:25:19 -0300

    connection: Proper add identities to disco replies for all code paths.
    
    Proper add identities to disco replies for all code paths instead of only adding
    them for queries for the "pmuc-v1".

commit 3246058db3e13fb74fe277bdd7350469c5e5894d
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-04 14:42:20 -0300

    plugin API: Added namespaces.h to repository.

commit ed4b30c444f453e602091817b77089a568e0b3fc
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-04 14:44:39 -0300

    caps-hash: Improved algorithm to order identities.

commit eb851a727cb5b837cd18c36b9466e4540126087f
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-04 14:37:17 -0300

    plugin API: Improved API for array of GabbleDiscoIdentity.
    
    Added gabble_disco_identity_array_new which creates a GPtrArray and set it's
    free element func. Also set the free element func for arrays copied using
    gabble_disco_identity_array_free.

commit cdc39fb2af4c71a740a0b4b6b577c06ad2b9b352
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-04 13:36:07 -0300

    plugin API: Fixed copyright to 2010 in disco-identity.h.

commit bd6dc2c985f227ffd07519b8ee6dfdb6dce2b524
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-04 13:37:44 -0300

    connection: Removed duplicated gabble_connection_get_type and related macros definitions.
    
    Removed duplicated gabble_connection_get_type and related macros definitions,
    the definitions are already in gabble/connection.h

commit 9aa38130b9be6f099b18263cdf8f95cf332f614c
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-04 13:29:15 -0300

    plugin API: Removed the prefix/suffix __ from header guards.
    
    According to http://gcc.gnu.org/onlinedocs/gcc-2.95.3/cpp_1.html#SEC8
    the header guards in non-system header files should be FOO_H not
    __FOO_H__. The double-underscore is reserved for system headers.

commit f4fac368b5e1284dd46dd5d16c956f02ee73be2f
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-04 13:27:03 -0300

    plugin API: Fixed typo in sidecar.h header definition.

commit 37fd503b5a583f06e247e22a3a4ea0b0c0046927
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-06-04 11:57:06 +0100

    Insert missing \, woopsy

commit 7e4f3b6f849125d33b53c986538c71b44ab6318b
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-03 18:08:42 -0300

    caps-hash: Proper copy array of GabbleDiscoIdentity objects.

commit 04b339521d279e5de640bf9747e28952636a7369
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-03 17:35:35 -0300

    plugin API: Export some namespaces needed/useful by plugins.

commit cdab792d76333a500ba8d6cf8edf8259e6846526
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-03 21:15:44 +0100

    Sod this, I'm off to eat truffle pasta.

commit fcaeaef41b142a32add6cdfce3b1cf484aef50f0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-03 21:02:25 +0100

    Run `make uninstall` and `make install` in wocky/wocky
    
    We shouldn't `make install` in Wocky as a whole, because that installs
    API documentation for Wocky. (Actually we do probably want to do this,
    but only if --enable-plugin-api, which I CBA to do right now.)
    
    But we should also `make uninstall` the headers we install.

commit 7a91e2f8595d897e55cca56223feb8d957821396
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-03 19:31:19 +0100

    Version 0.9.12

commit 2ef7ff9fc0368c23ff0177d88c46ec3da54bd113
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-03 20:45:53 +0100

    Also add jingle/__init__.py to EXTRA_DIST
    
    Everyone to the pub.

commit 71c67830b00690f7f116fcbaf6a142accf4c5f51
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-03 20:43:56 +0100

    Squash a warning that occurs with --disable-debug.

commit 74a597b1d83a01fb3c9daeb313d23482c4531180
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-03 20:38:19 +0100

    Add callutils to EXTRA_DIST.

commit 74601297eede0bbac5f776d66ab8b5919e3f0521
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-03 16:16:24 -0300

    plugin API: Added method to allow sidecars to set their own specific capabilities.

commit a21158acbbca5bf174c97c7d6b1fa1696d3bddfc
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-03 16:16:06 -0300

    Proper add identities to disco#info reply.

commit 3362e97fe4d31bc038fc71a2c90ef35cbd5d7fc1
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-03 16:14:05 -0300

    Add identities field to GabbleCapabilityInfo so identities can be presented in disco#info.

commit 7ad30a33fb27cb0ded980938ccdbbd04d261c816
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-03 16:10:43 -0300

    Export CapabilityInfo as GabbleCapabilityInfo for connection.c usage.
    
    This is useful so connection can proper use identities in the caps.

commit b18a24420c9950887cd56227eddc0e09bb2d7e2a
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-03 16:05:02 -0300

    plugin API: Added method to compute caps hash.

commit 8ce720c220a5ef8f4e187fd36294513684f45a2c
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-03 16:02:51 -0300

    caps-hash: Use GabbleDiscoIdentity to represent identities.

commit 8ff4bfc157bcc3cf9f79a6f67cd8a91648317a32
Merge: 5ad1526 86ae157
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-03 19:44:02 +0100

    Merge branch 'update-wocky-headers-alternate'
    
    Conflicts:
    	lib/ext/wocky

commit 86ae15793b543ed7100253636cc9ff4580195729
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-03 19:39:40 +0100

    Remove now-obsolete generate-wockyinclude_HEADERS script
    
    Much as I loved this script, the time has come for it to be laid to
    rest.

commit d93d01297372b14ad77f8f26042ecba458c8e382
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-03-22 16:53:10 +0000

    Delegate installing headers to Wocky.

commit 1f2d9e61aeac9f7944c644a03371bff76192ecd5
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-03 15:34:45 -0300

    plugin API: Added GabbleDiscoIdentity type and helper methods.
    
    GabbleDiscoIdentity will be used by plugins that want to set their own caps
    containing identities.

commit b56083b4ae21d4a8f5b4a5b72a30f523949b02aa
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-03 06:25:26 -0300

    plugin API: Export GabbleConnection so plugins can use it instead of using TpBaseConnection.

commit b725c2a8a393aa62de1cbf630c1b7c70c3cbc979
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-03 06:22:33 -0300

    plugin API: Added method to allow sidecars to set their own capabilities.

commit f1e0b7fe0655339060e8fe10c819ef0d7459571e
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-03 06:12:40 -0300

    plugin API: Added gabble/types.h that contains type definitions to be used by plugins.
    
    Added types.h and moved all exported type definitions to it.
    Also changed include directives to use gabble/header instead of just header, to
    avoid name collision.

commit 70fe353b277568126cee1f65ad8b18bac3a30b1e
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-03 06:01:16 -0300

    plugin API: Export GabbleCapabilitiesSet.
    
    Moved capabilities-set definitions from src/capabilities.h to
    gabbe/capabilities-set.h so it can be used by plugins. Also replaced the usage
    of LmMessageNode to WockyNode as lib/loudmouth is not installed.

commit de11d04a0384481d5949b035ce64e519ea2e7483
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-03 06:27:09 -0300

    plugin API: Let error.h be included directly if wanted.
    
    There is no point in now allowing error.h to be included directly.

commit bfe56f166fee68b2dc1c48c9f226beeffc4f773a
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-03 05:54:36 -0300

    plugin API: Add G_BEGIN/END_DECLS.

commit 0ceb97b6b734599a8ed4f07c68eda33db3f26516
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-03 05:47:57 -0300

    plugin API: Add missing and standardize header guards declaration.
    
    With this change name clashes are more difficult to happen as it's
    not normal for other projects to use __GABBLE_PLUGINS_XXX__ for header guards
    while __PLUGIN_H__ and __SIDECAR_H__ are more common.
    
    Also in a later patch new files with the same name as files found in src/ will
    be added and appending GABBLE_PLUGINS to header guards avoid conflicts with the
    header guards defined in the files in src/.

commit 7236f8201cb70f48de414054ca81b50721bccaf9
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-03 05:43:26 -0300

    plugin API: Standardize header definition.

commit eb50614de711fdfc662e6342e73d771a06f01eff
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-06-03 06:24:14 -0300

    gabble_capability_set_size: Fixed return value when received invalid param.

commit 5ad1526aa8bf31276a7a043176d3e00da2551bc0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-03 19:06:47 +0100

    Update Wocky snapshot to fix broken MUC scrollback
    
    Fixes: https://bugs.freedesktop.org/show_bug.cgi?id=27913

commit 9c63a1f0506dbe349892225c05ab828aa34ca71e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-30 16:11:38 +0100

    Add a (failing) test case for fd.o#27913

commit 3709b5f7ac954dac654093f55a4da8bf668cc25f
Merge: 2025121 92abf7a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-03 18:18:55 +0100

    Merge remote branch 'smcv/error-macros'
    
    Re-fixes: https://bugs.freedesktop.org/show_bug.cgi?id=27889
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 2025121b8946f3955f6e6f37fb60dedf84148a78
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-03 14:40:00 +0100

    Fix coding style error in ServerSaslChannel
    
    There was no space between the (gchar *) cast and i->data.
    
    But the cast is unnecessary anyway, as is the cast away from const
    GSList * to GSList * if we just change the type of 'i'.
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 35e35a41083500cc507c7e483e8e762e14ccf0a4
Merge: dc0775c 3a77352
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-03 14:31:33 +0100

    Merge branch 'prefer-phones'
    
    Fixes https://bugs.freedesktop.org/show_bug.cgi?id=28265
    
    Reviewed-by: Danielle Madeley <danielle.madeley@collabora.co.uk>

commit 3a7735269092c7cfec49ec04756dbe5fb58512a2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-03 13:21:08 +0100

    Replace silly #defines with a DevicePreference enum

commit 5eba542563718ce12338da9b272b2705f344419e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-03 13:10:58 +0100

    Make is_a_phone() clearer.
    
    This fixes the indentation by destroying it. :)

commit dc0775c2fca320e038231ed5f9573c892077b753
Merge: 55a6aab 013a13e
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-06-02 22:49:25 -0700

    Merge branch 'sasl-once-again'

commit 013a13e94952656d7090eedbb02cfe0108ec7395
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-05-28 10:54:35 -0700

    Add a NULL check for GAsyncResult in dbus methods, an additional sanity check.

commit e6751d830101f44c68ca211e196aaa755315f6e7
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-05-25 12:27:15 -0700

    Remove pointer address from sasl channel obj patch.

commit 9f89024ffdd815d69e06f1abf7463ffb63f05e1d
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-05-25 12:21:22 -0700

    Remove redundant NULL check. Update error message when JID is not extracted.

commit 0cff08c31578812b93dd86660173ade1b7b2256f
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-05-25 12:21:05 -0700

    Use Secure channel property.

commit 89d712c9589b50f8b2925b0cdaa683b551823e53
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-05-25 11:44:59 -0700

    Updated SASL spec.

commit c8cab0f698b0754890e968bcfbd861ff0369a415
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-05-25 11:37:53 -0700

    Robustified method calls in channel to gracefully fail when used incorrectly.

commit 4a9fe7782ebc4a139f04f1931373ea82c19b11c7
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-05-25 11:08:20 -0700

    Fixed missing space between arguments.

commit c7308aee0bc29e74c2a37baa8aba6e31c8706268
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-05-25 11:07:21 -0700

    Use constructed instead of constructor.

commit cfcee3245dbbf61b64cf9a6b5cc812d4ae3f5ba7
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-05-25 11:02:03 -0700

    Remove unused property arrays.

commit 8cd70c1e9eb776851e9a7c867abe847fc73da26b
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-05-25 11:01:43 -0700

    Remove irrelevant comment.

commit b8d3fc8bb51a1993ff6500c5cd1f29b374db45d8
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-05-24 10:16:16 -0700

    Start SASL channel if username or password are NULL.

commit c5ed79967aeed34caf53c4aca966bf76c1689c6c
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-05-24 10:13:31 -0700

    Assure Connection object paths are unique when no username is given upfront.

commit 500dc817c296ed16f3d766e7dd7545c88635471d
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-05-24 07:45:07 -0700

    Made 'account' param not require username.
    Added no account test.

commit 6a35bf8f268b1edbd8e87d9c97c8a029792afaa1
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-05-24 15:36:25 +1000

    Implement GetInterfaces for SASL channels

commit 31b3319f5789c0a2065ad73d467ab77c4e2db1e9
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-05-22 12:12:18 -0700

    Added SASL channel for jabber auth test.

commit d40b14e8af3bd308e1c5673cfc0698517488132d
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-05-22 10:52:25 -0700

    Removed new dbus errors and made better use of existing ones.

commit fbefcdfee837ac8f489fbacefb3da4033c38360f
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-05-22 09:53:43 -0700

    Updated complex tests.

commit ed9530f00a5b3f978163250f897f787235f8aebd
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-05-22 09:55:55 -0700

    raise error when selecting unavailable mechanism.

commit 60e3bf2ac7da068477feffaa47a54a97e481576c
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-05-22 09:53:10 -0700

    Make available_mechanisms a gptrarray

commit f91397b8f17c464f7bcca72ca8430e95ca34e99b
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-05-22 09:04:46 -0700

    Added SASL tests.

commit 689eea8705dc3050740b024403d383e02b347ac8
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-05-22 09:01:15 -0700

    Added server SASL channel and auth manager.

commit bb23e7068b2f60478f715b4b6b3b6d88c8054766
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-05-22 08:59:16 -0700

    Added new SASL API to extensions.

commit f50bd8b3c21e19229d6e970ecdb670149ffdc7cd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-26 15:53:20 +0100

    Prefer phones when picking resource for Jingle calls

commit 222cb6762675154128ac3bf94e8ff82cc501a16d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-26 15:51:38 +0100

    Note which resources claim to be phones.
    
    This uses the existing quirk stuff rather than adding identity storage
    because we don't need to know anything else about contacts' clients'
    identities, and this is minimally invasive.

commit efabe555d40878e6797dddcf489d4caaa5b741cc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-28 16:56:14 +0100

    CapsCache: store entire disco reply in caps cache.
    
    Previously we only stored the list of feature URIs included in the
    disco reply for a particular hash. This isn't enough: we also make
    decisions based on the <identity/> elements in the reply. For instance,
    if we try to start an ad-hoc MUC, if one or more contact is using the
    GMail client we use Google's PMUC server rather than the user's default
    conference server. This information wasn't stored in the caps cache, so
    was lost between sessions.
    
    So, let's just store the entire <query/> node in the database.
    
    This entailed a database schema migration. It's not much of a migration,
    as such: if the database uses the old schema, it's just deleted.
    
    In the process of arranging for obsolete databases to be deleted, I also
    fixed a bunch of cases where broken databases wouldn't be removed. The
    previous code tried to delete the database file and try again if
    sqlite3_open() failed. This didn't catch:
    
     • corrupt databases, which only trigger failures when you run a query;
     • read-only databases, which only trigger failures when you run a query
       which modifies the database.
    
    So this patch rearranges matters to try writing to the database before
    declaring it okay.

commit 44c436d0650825aa445e8777c97b4cc71160d9da
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-06-02 20:02:09 +0100

    CapsCache: warn on SQL programming errors
    
    prepare or bind_* failing indicate programming errors (unparseable SQL,
    incorrect index, etc.), so I think we should warn rather than just
    DEBUG()ing.
    
    (Mozilla's policy is to assert() when these fail, FWIW.)

commit 3983fa96ee55ddfb8933f8b25771dcb040107208
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-28 16:57:59 +0100

    CapsCache: be more verbose when _prepare() fails

commit 987298e11183d6a330debe096a270c3b99a20828
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-28 16:55:55 +0100

    CapsCache: generalize fetching one uint from DB

commit f569d53be9a3d378e1916ae2f0b932b9d7880f32
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-28 15:58:18 +0100

    CapsCache: Remove unused GET_PRIVATE() macro

commit bdfcd0dbff34e46b96c3f8df84f1778d2a7a963a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-28 15:52:08 +0100

    CapsCache: fix "couldn't open DB" path
    
    • unlink() returns 0 on success;
    • ret ≠ errno;
    • we shouldn't try to call methods on a NULL db.

commit 6b0893fa6df8fb2e1a6e8f6c8dc5e6da586b82ab
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-28 15:50:55 +0100

    CapsCache: use _constructed not _constructor()

commit a36b22b51d05d232991376cc0711180541a7c167
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-28 14:19:33 +0200

    Wait that we have received the disco reply on our bare jid
    
    We have to block the transition to the CONNECTED state until we received the
    reply of the disco on our bare jid as this can change some immutable
    properties or interfaces on the Connection object.

commit c1cc8682c22bc56ec25183ffb047080679852c97
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-28 14:44:09 +0200

    factor out: set_status_to_connected

commit 91dc5be334bf579ddde4d2f3a8e634f85b8acf96
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-28 14:30:33 +0200

    pep-support.py: only wait for what we actually need

commit b34ec642a7bb8798121d9cdb43330d5f653ec49e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-28 14:21:32 +0200

    use q.expect('dbus-error')

commit 8d964da90fe4bf23a4f105b91191400b8759cb77
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-28 14:16:42 +0200

    rename bare_jid__disco_cb to bare_jid_disco_cb

commit a747c4fbdc1ee16ff1ff0a2f818694e9f7a18901
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-24 14:32:02 +0200

    gabbletest.py: comment that the way we are advertissing PEP is wrong

commit 97b463c915eb32853b9252a2056b01d8cf531ee7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-24 14:31:39 +0200

    add pep-support.py
    
    Test if Gabble properly detect PEP support.

commit 0d26f6878687d1225a3e842db34e710532a48e47
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-24 14:27:42 +0200

    Properly check if PEP is supported (fdo #28230)
    
    According to XEP-0163 PEP support is supposed to be check by discoing our own
    bare JID. We got this wrong as we used to check the server features instead.
    Recent ejabberd seems to not advertise PEP support in the server features any
    more so we need to check it properly.

commit 04d387562473d192be12aa60fb5c6c5a6646f369
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-24 12:35:49 +0200

    connection: factor out get_bare_jid()

commit 7aaa6bad4ea05cdd88ff98251f3f135659ea3b1c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-24 11:38:54 +0200

    return from SetLocation once we got the IQ reply

commit 55a6aab942714de24582fc5ec0dec90c8af931e4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-05-28 13:34:20 +0200

    Update Wocky
    
    Contain a fix discaring invalid PEP notification messages.

commit 3be0d95f2f9176b6dbdecc4bb1417e0a70a42fc1
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-05-28 11:48:07 +0100

    test leaving the muji call by closing the channel

commit 45b5d650f86f570d32c3f24ffa4c1cab44dc9460
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-05-28 11:46:12 +0100

    When closing make sure to send an updated muc presence

commit 669ea97ce2bc3bfa31b04d65e7e283d352d1317e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-05-28 11:45:54 +0100

    Add virtual function called on close of the CallChannel

commit e5b4c03859208cdfe299ed4769720e5c9b9eb313
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-05-27 12:14:56 +0100

    Test members leaving the room as opposed to leaving just the call

commit a37f939adde8d4ce48b9df62237e9c3461dc675d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-05-27 12:14:32 +0100

    CallMucChannel: Handle participants leaving the muc correctly
    
    When participants leave the MUC we need to nicely remove them from the
    call. Not just when we get a presence without muji information.

commit 6e45672dd259e30ef060502816a97c25080924c8
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-05-26 17:09:47 +0100

    Depend on tp-glib 0.11.3 for the ContactInfo interface

commit b185c82b6987d9f769450f3a890a4a8e7b613bf4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-26 10:47:13 +0100

    Update with-session-bus.sh from telepathy-glib, fixing a bashism
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
    Bug: https://bugs.freedesktop.org/show_bug.cgi?id=28258

commit cb74ad40f047a12bee021701bf36db4ed8a5d2c9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-25 21:46:57 +0100

    Fix up Wocky headers

commit 1d212b6bb1b30d06139c9a11ad52e480638d5e26
Merge: 4aeb048 bab4e77
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-05-25 16:47:11 +0100

    Merge branch 'muc-calls-master'

commit bab4e779f5fc9753915c060e9d7b983cd68694bc
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-05-25 16:42:45 +0100

    Slightly better argument name

commit 4aeb048a963a3f411fb041b4abbb016b72b6a536
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-05-17 16:12:24 +0200

    GabbleConnection: use WockyPing for keepalives

commit fb0a1979f496379c17ee6850ba48ae0796a733f6
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-05-18 10:11:19 +0200

    upgrade to wocky commit 57e7d3a

commit c89f607d070f22edcc52c1167f9ce0f8f0ddb1a0
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-05-24 12:23:29 +1000

    Change link -> l so as not to shadow the global function link()

commit d4d42c659e47f00a1955bf8b636abc8bb4dda040
Merge: 5aa9775 0d87a27
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-05-21 19:46:31 +0100

    Merge branch 'muc-calls'
    
    Conflicts:
    	src/muc-channel.c
    	tests/twisted/jingle/call-codecoffer.py

commit 0d87a27aae1dcd11d21eb924988d6eed4c34e7c0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-05-21 18:51:47 +0100

    Use the passed call variable everywhere

commit 8a0d786635609b70754f8f77ee11be05e7388fd6
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-05-21 18:33:57 +0100

    Free object_path_prefix

commit 9662da4b71e0d6b875ec38f64ce8a6948b9a959b
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-05-21 18:25:36 +0100

    Emit StreamRemoved when streams are remoed

commit ada0731d2ba17cfd7f1e0f61ee3e235e37f1146b
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-05-21 18:23:59 +0100

    Remove all contents when shutting down a member

commit 2c73308951662d9afbd2f46522161cc4b6bb7b53
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-05-21 18:23:28 +0100

    Add API to remove a members content

commit 98c25d90fdaacc1300c953a53960841901338bc8
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-05-21 18:20:03 +0100

    Break lines

commit 5aa9775bda9dc55eaed0f97caffcbcdb8837fbd7
Merge: b509ee9 9cc8f6f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-21 12:16:20 +0100

    Merge branch 'presence-cache-unleak'

commit 8055b944a32c635a54872eea1b65c2581df2e19d
Merge: e52fd0b b509ee9
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-05-20 16:56:41 -0400

    Merge remote branch 'origin/master' into igoogle

commit e52fd0bfbe506371f0a3dab1b740aa067ba8239b
Merge: 8ab742c 6612b0c
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-05-20 16:52:37 -0400

    Merge remote branch 'smcv/ft-trial-merge' into merge

commit 8ab742cd65bd4be10d0fd56b4451ae8908523fb5
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-05-20 16:51:18 -0400

    Change the unit test system so it builds the caps hash automatically
    Instead of keeping a list of known hashes, instead keep the caps of the
    bare features, then add to it the google share caps after FT capabilities
    are added to the connection.
    This will avoid needing to change the unit test everytime something changes
    in the code, which affects the caps (PACKAGE_STRING)...

commit 68855adae439893d3353942b5d562ecebb2b5d1e
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-05-20 16:50:51 -0400

    oups, fixing G_GSIZE_FORMAT format usage

commit 046a0916ca485e8a9cfc14faaee3b09e5d0b44e2
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-05-20 16:48:32 -0400

    oups, we should use g_ascii_strncasecmp instead of g_ascii_strcasecmp for incomplete lines
    The Content-Length checks for the start of the line, not for the complete line
    so we should only compare the first 16 bytes, not the whole line.

commit 6612b0c4a06047eea858077158c533b2d97d6808
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-20 10:52:03 +0100

    GTalkFileCollection: that's not how G_GSIZE_FORMAT works

commit 585c519c0f763e6a6d8bc8749170949b222749b0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-20 10:49:02 +0100

    GabbleJingleShare: produce_description: use right format string for guint64

commit 23ab3a978547f013288131fa2ae9707ad3a6488c
Merge: f2932c5 721dc15
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-05-20 10:43:31 +0100

    Merge remote branch 'kakaroto/igoogle' into ft-trial-merge
    
    Conflicts:
    	configure.ac

commit b509ee916d847df6950f58aaf5a9da6ffc3f7ad3
Merge: def6783 158cdab
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-05-18 11:36:45 -0300

    Merge branch 'contact-info-attr'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 158cdaba0e8c25f1698e81054ad08dd84c031718
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-04-30 14:33:26 -0300

    Added test to ContactInfo /info contact-attribute.

commit 8d284e457d299eb27332661a27e0cb87ef916b9d
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-04-30 14:15:24 -0300

    conn-contact-info: Added ContactInfo /info contact-attribute support.

commit def67839e03f3ca66833dfff0c1519940c7e6dba
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-05-14 12:23:47 +0200

    clarified gabble_vcard_manager_request assumptions about the vCard not being cached already

commit 64d4c0a65272c8362b3dd6108f4bb620a87d8e68
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-05-14 12:17:32 +0200

    improved vcard/refresh-contact-info twisted test to ensure re-requesting works

commit 9a1a71433f757296ebe1cfa11f412c92d95e49ee
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-05-14 11:15:44 +0200

    gabble_connection_refresh_contact_info: invalidate cache before requesting refresh

commit 9cc8f6f2bf545773ffbfdf9f43db3c72b0b9802a
Merge: c51b9ae b2bf6f2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-12 18:52:33 +0100

    Merge branch 'caps-cache-0.9' into presence-cache-unleak

commit c51b9aebf79b63b50f194bb024572b7d0d8c5729
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-12 18:52:24 +0100

    presence-cache: don't leak disco waiter table keys

commit 8c6d9cc04c4a36184b300728803711e1ed42236f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-12 15:15:03 +0100

    Remove debug spam from _get_child_with_namespace
    
    Reviewed-by: Senko Rašić <senko.rasic@collabora.co.uk>

commit 907ce2584a651d524b730ea05823d91f33e96d4c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-05-06 19:17:35 +0100

    Also turn on debug-blocks when valgrinding

commit ab0989e9bf2da328aeeb36e1a29ac78147e9d899
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-05-06 19:17:18 +0100

    Add basic support for removing members

commit d92e3c8c691ec7a5e4f4d57d69c5035df87fb442
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-05-06 19:15:40 +0100

    Add a test repeatedly requesting Call channels

commit b6afdc7eaae99b6fe2312ec96232b255cfef67f2
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-05-06 18:23:04 +0100

    Always do a double disconnect to test the connection really exited

commit 9dd25fd84034952eee14d16a2b9997ddec32e677
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-05-06 18:19:13 +0100

    Support cancelling a muc call channel creation

commit b61312fb4280d377408068bd1baf9bf67e16ca28
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-05-06 18:17:14 +0100

    Pass a prefix instead of the full object path when creating a new channel

commit dd99b3253dc9e849024a6ca3bcfa80d6dcdff472
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-05-06 18:12:12 +0100

    Keep track of active vs. ended call channels

commit 6a1acd2cd7066ca9006177c3558680b1a5faa8cf
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-05-06 18:09:47 +0100

    Don't let the async operation try to remember the request token

commit 6b06a01a8c9f49c25d872c0215ac1b75fe1528ed
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-05-06 18:08:19 +0100

    Move utility functions into util files

commit a0b50e8c5fc381d1543da8d21100733d2d25a81d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-05-06 12:54:58 +0100

    No need to test for gabble crashes, that's automagically done on Disconnect

commit c808c014834cf2d1a318e4bd6d92a68ebf1aa18a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-05-05 18:54:17 +0100

    Don't use the user-data as a callback

commit fc49f692338ae7577836cabb9b41c67c974fe53c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-05-04 18:25:27 +0100

    Properly cleanup call requests when closing the underlying muc

commit f2932c56ee4a74c22d163a573b4ad8d361b83e86
Merge: 89f1540 d6c133b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-04 18:11:37 +0100

    Merge branch 'coverity'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit ab3a2514c06c441f140eaf1f9605c4e8e2126dca
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-05-04 17:26:05 +0100

    A muc channel made as part of a call isn't requested

commit d6c133b641449f7dc8a980a3285d49dbd9163c20
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-04 15:58:25 +0100

    Sanity-check conversion from gssize to socklen_t.
    
    Coverity got upset that we were passing a signed variable as the third
    argument of connect(), which is socklen_t, which is unsigned.
    
    g_socket_address_get_native_size() only fails if gaddr is invalid, or if
    the actual implementations (UnixSocketAddress/InetSocketAddress) are
    internally inconsistent.
    
    And sockaddr_storage is defined to be big enough to hold every supported
    protocol-specific address structure, so...

commit b9cb2cb9bdf24955aa10dc31767e664b6b90aa95
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-03 21:18:36 +0100

    muc: Expunge reference to incoming chat state 'gone'.
    
        A client SHOULD ignore <gone/> notifications received from other room
        occupants.
    
      — XEP-0045 §5.5 Use in Groupchat
        <http://xmpp.org/extensions/xep-0085.html#bizrules-groupchat>
    
    I intend to expunge this state from WockyMuc accordingly.

commit be0add7cb9973a196ed0e2df41396058501cc1a9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-03 21:15:38 +0100

    Don't leak sidecars' paths.

commit 69f8569ab245db009c27be9e276e80d433e711a5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-03 21:05:34 +0100

    mail-notif: handle iq errors when querying unread mails
    
    The previous code checked if sending the IQ failed, but didn't check if
    the reply it got was actually a response rather than an error. This
    fixes that.
    
    Also, checking error != NULL rather than reply == NULL tricked Coverity
    into thinking reply might be NULL in the second block.

commit c8f9908383f39ff868543830f026c326f741bfd2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-03 20:02:48 +0100

    Don't crash on malformed SI file transfer offers.
    
    The previous code would log an error and close the bytestream... and
    then carry on.
    
    Happy May Day! Forgive me my macros.

commit 9ecb9d3cb06dab4607c7b3542cb0df218b1ab6ef
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-03 19:30:13 +0100

    create_sidecar_cb: fix/clarify error paths
    
    • Coverity didn't realise that if
      gabble_plugin_loader_create_sidecar_finish() returned NULL, 'error'
      would be non-NULL. (Strictly speaking, it might not be, if the former
      is buggy or we passed it an invalid result.) So make this assumption
      explicit.
    • If error == NULL, then calling g_clear_error (&error) will call
      g_error_free (NULL) which criticals.

commit 9b4c1b8828c0ff250d62f735de39b469ebcea89a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-03 19:24:08 +0100

    Search: Correctly handle replies lacking <x/>

commit 9cda4a945425dc799c433ea51a6c655287650f80
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-03 19:09:01 +0100

    Tidy up search tests a bit

commit 89f15409121bad8adfddde28ce40c7418f33a22c
Merge: 84a6dbd 28a63ce
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-05-03 13:52:44 +0100

    Merge branch 'basic'
    
    Closes https://bugs.freedesktop.org/show_bug.cgi?id=27865.
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 28a63ce929a6da11e75c63bd2efb25b1b7c49556
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-30 21:04:34 +0100

    im-channel: Consistently avoid using self->base

commit 84a6dbd0b51d1ade3aee33e3c6f06ddff865f47c
Merge: b615f51 6636d70
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-04-30 10:50:28 -0700

    Merge branch 'presence-refactor' into newmaster. Fixes bfo#27779.

commit 92abf7a0932ff0f2c153d59ed660eba8973acc0d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-30 16:38:56 +0100

    Always build gabble_log etc., so --disable-debug won't disable ERROR()
    
    Also make it obvious to the compiler that ERROR() never returns.

commit b615f514e6bba771a9b9ce166b410ef173d1ba6b
Merge: feb19bf c0ae064
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-04-29 16:49:10 +0100

    Merge branch 'more-log-levels'

commit c0ae064ac4b5d93e44b24b60cbfb61ae136cfef9
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-04-29 15:01:35 +0100

    debug: make sure the other macros are defined when debug is disabled
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 2cfbc1bceb63f6352491126e969b7a6d88017470
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-04-29 14:59:27 +0100

    debug: rename gabble_debug to gabble_log
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit a24beafb1bd7f7539296b7a109a355092a3729f2
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-04-29 13:44:31 +0100

    debug: add more log levels
    
    Fixes fd.o#27889
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit feb19bff02e87a686d8e1658308fdab4026d06f4
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-04-01 15:02:46 -0400

    Fix bug 27167 about RequestInboxURL empty string
    
    Delay RequestInboxURL() calls until the mail data has been received.

commit 0753964f4e3170e92675014c08ac81b90d9e7e05
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-04-01 15:14:29 -0400

    Removed broken dirty check before sending signal
    
    The dirty check was broken because the mails_removed array is NULL
    terminated so it's size is always bigger then one. Fixing this bug would
    bring another one since when 30 emails is reached the count may changed
    while the list of e-mails stays the same. For sake of simplicity, we simply
    remove the check.

commit 9fa45411c2cd8d8c01ce34b2c52a8e6d14b80611
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-03-31 16:36:49 -0400

    Merge MailNotification members into private structure
    
    This will allow changing conn-mail-notification.c without having to edit
    connection.c all the time.

commit a2b39855ada2350e67d08eb2fb1601d3f328b7f9
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-29 14:39:29 +0100

    use NULL, not 0...

commit 96d7512fb7870bb34adc837190d80e61b85c6c35
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-29 14:39:18 +0100

    spellchecking

commit 37c2441fd343ea56d6d2d15e86faaa47edb1898f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-29 14:30:14 +0100

    Call channel is assume to keep a ref to the internal session

commit bebc365282d1e8ca7a959631009bfd9ba55fc687
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-29 14:09:47 +0100

    Use JINGLE_RTP as the namespace for the descriptions

commit c4e9e53f2ec3707699e63053f2633886506d6105
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-29 14:06:39 +0100

    Fix comments

commit 50167b31e81a2927d02f6bbc051e872c476776e0
Merge: d482f8b 540e83d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-29 12:39:20 +0100

    Merge branch 'dont-unblock-on-remove-0.9'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 540e83d1d2bde7cbbbe4106faa86ae958209a50b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-29 12:31:25 +0100

    Add a test for unblocking, then removing, a contact.
    
    Unblocking is actually not tested anywhere, so this serves as a simple
    smoke-test for that, as well as testing that unblock followed by
    remove-from-stored works when the latter is queued.

commit c2719ed4c81fc2a80cdc105581cb478a91efb521
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-29 10:03:24 +0100

    Update roster* copyright headers

commit f334fd0e29b6ee59f4d6e60180da268d9836da6a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-28 19:28:22 +0100

    Don't unblock contacts if they're removed from stored.
    
    We want to ensure that clients which don't understand the 'deny' list
    can remove contacts from other lists without accidentally unblocking
    them. The only problematic case is 'stored': currently, the XMPP-level
    response to removing someone from 'stored' is sending a roster update
    removing them from the roster entirely. Since their blocked-ness is
    stored on the roster, ...
    
    So instead, when we would like to remove a blocked contact from the
    roster, we instead cancel inbound and/or outbound subscriptions. This
    has the effect of the server changing their subscription to 'none', at
    which point they disappear from 'stored' (because on Google Talk we
    hide subscription='none', ask≠'subscribe' contacts from stored).
    
    There are two code paths for editing the roster, depending on whether we
    have an edit in flight or not. The latter case is reasonably
    straightforward. For the former case, we can be applying multiple edits
    at once, so this patch moves the modification of the Google Roster state
    to before the modification of the subscription state, to ensure that
    queued modifications to the contact's blocked-ness have been processed
    before we consider whether to handle removal specially.
    
    Fixes fd.o#20597 (Blocked contacts get removed if they are removed from
    stored)

commit d33d9d9ee49ddbc19f4f09aae237588153d370b9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-28 18:51:56 +0100

    Add a trivial smoke-test for 'deny'

commit 6dfe889cb762646274c6467854d2ae1545504c92
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-28 18:42:58 +0100

    Break up the Google roster test a bit.

commit 30053c8ddfaeefa29c1f845a96f9ae2f6e1726ea
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-28 17:52:50 +0100

    Move some [un]{subscribe,publish} logic to Roster
    
    This matches the functions to add and remove contacts from the roster
    entirely, and will help avoid code duplication shortly...

commit eebcbb66648e1ae6fc47289dabe0826ea33485c4
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-28 20:00:28 +0100

    Fix various memory and ref leaks

commit ad184fcb768a7b114b5dcc67272ca141dbf70fdc
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-28 18:00:44 +0100

    Add the ability to accept the codec offer without waiting for CodecsChanges

commit 5885fea4a596f5c44cd01309d44ab9b84a038cab
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-28 17:59:24 +0100

    Log when codec offers are accepted and rejected

commit 1d52a6af145f89e35459f88f30a1fd4548f67705
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-28 17:29:20 +0100

    Properly setup a new content added by the user
    
    We should setup a new content that a user adds just like all other contents.
    This ensures we don't trigger an update when adding a content, only when
    the codecs are ready

commit 42c4ca0e96684f5a19b30e3e673d0435644834c8
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-28 17:28:44 +0100

    Make it slightly clearer that the debug ismessage is after changing the state

commit 783117ff4c3482017a43f2bfb5fe1cd0f864a70f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-28 17:18:58 +0100

    Let the muc channel detect when its call is gone

commit 8d37a132e89163e1cb3039707ebc8bdefa0a620d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-28 17:18:11 +0100

    de-initialize the contents when closing the channel

commit 8685e7f1577de05e5bbd4d15133af5c587d67782
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-28 17:14:17 +0100

    Add API to shut down members

commit 6f3deb0f891ad4dcdccc770b1f6e091c8a5f7cf8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-27 18:11:58 +0100

    Use instance address to uniquify roomlist paths.
    
    This FIXME bothers me whenever I read FIXME.out. :)

commit b577a3cfecac5ea527dedcad252a43ec4581d301
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-27 18:09:14 +0100

    Port RoomlistChannel to BaseChannel

commit 8f45b3017dfd86ebffbb8cc9ae584cfc91930b18
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-27 17:22:55 +0100

    MucChannel: Use self->priv properly
    
    Simon had previously ensured that self->priv was at least initialized in
    _init(), but that code was ... lost. And everything else repeatedly
    called G_TYPE_INSTANCE_GET_PRIVATE() anyway.

commit 851d6d648a65a3f2227b908420c29653837ae9e4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-27 13:56:45 +0100

    Port MucChannel onto BaseChannel

commit 7a510f2102764ad4be7825712fa3456c0c1d0b6c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-28 10:00:51 +0100

    Make BaseChannel:requested writeable, in theory.
    
    Most channels implement Requested as (initiator == conn->self_handle),
    so that's how BaseChannel implements it. But if someone wants to
    override it, then it has to be writeable. So: we make it writeable on
    the base class, and make the default set implementation do nothing
    except raise a warning if it's set to TRUE. (We can't warn if it's ever
    set, because CONSTRUCT_ONLY properties are helpfully set to their
    default values by GObject.)

commit a502fd04037f685f4459fa9a1554effe2044f265
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-27 18:38:25 +0100

    Don't crash if there isn't actually a session

commit 1415b81a5d093c8b7a3733bbb805181cf0681415
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-27 17:53:59 +0100

    Implement hanging up properly

commit 0477008786f63041d951ddb0571a6f5641aa80bc
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-27 17:23:22 +0100

    Assert that the CallState changes once our muji state is stable

commit 227af162a3e979b646668c91fbfad9fabdc619c6
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-27 17:13:31 +0100

    Test remote client adding an outgoing video call

commit d50de4404c8a34b2599f9f911fde9a150597f285
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-27 00:18:23 +0100

    Port GabbleIMChannel to GabbleBaseChannel
    
    I love patches that delete code.

commit 46dc1255ff66a987d0f589487bf7a2e9058e03f2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-27 00:17:31 +0100

    Turn some BaseChannel properties into class properties

commit d482f8bd39d2643a5a20467a04404f049bf91060
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-27 12:09:15 +0100

    Fix, and run, conference test

commit 4d0619ec292413b7dda64610fdabcac893bd1124
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-12-22 14:39:23 +1100

    Make libuuid a required dependency
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit 3337df84fe251688c4baac06e313ae03234a2a05
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-26 23:28:58 +0100

    Bump nano version to 0.9.11.1

commit c2ac9a3ce6bfc03bf758adc4d77b50c351088fab
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-26 18:39:54 +0100

    Version 0.9.11

commit 1933006e153b807ab366bdf7e2506a5def805117
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-26 19:00:02 +0100

    Fix compilation with --disable-debug

commit ad788bc0a7d94c4cc769caca7f0f6d8264658583
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-26 17:59:21 +0100

    Fix a race in vcard/set-contact-info.py

commit f2ac35824adae95917ccaba94b16530ad1ec9a95
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-26 14:22:58 +0100

    Whoops. Update Wocky to a real commit ID.

commit e9f9fd564e18efd8dd78f8bd1afed18e1df4ed89
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-22 17:12:14 +0100

    Update Wocky
    
    More Pubsubby stuff:
    
    • support modifying node affiliates
    • support retrieving node configuration
    • refactor wocky_pubsub_service_handle_create_node_reply()
    • modify the distillery to return WockyNodeTrees
    
    Oh, and added a couple more macros for implementing _finish()
    functions, and updated the wocky headers to install.

commit b1b6a2fdcb565e9e3b966cf3614f6efbb0bea3b1
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-23 16:51:04 +0100

    Be nice and echo presences like we were a real muc

commit 6ccf5c4b976f906173918ba05c2de1dd04248bbf
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-23 16:25:04 +0100

    Test that gabble accepts the incoming jingle session

commit 073b059340b664c832209afec49853ad340e8e03
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-23 16:23:49 +0100

    Actually have the test speak valid muji

commit 96d94b1628425c01b157495b4aa06ed33dfd3f60
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-23 16:23:29 +0100

    Check for spurious muc presence updates

commit c69f304f5d05c6718599ac79753ca5be11c7841f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-23 16:16:59 +0100

    Escape content names when putting them into bus names

commit 06469baa87a229d0bfa40f9bf6d5ee4d2c6a5f51
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-23 16:16:31 +0100

    Make the user adding content in a call a virtual function

commit 2a8bfd3eb85990f6abdf74797b8c3fd52751c273
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-23 16:14:47 +0100

    Remove some debugging spew

commit 41a4b68911f196ec5b9e751151ba0f46a74857f3
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-23 16:14:16 +0100

    Fix coding style

commit 38878afb1683c6a6091576a3bd76eadc5867de28
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-23 16:13:49 +0100

    Have the incoming call helper specify the audio/video content names

commit dc575e2aee5c4387c5c8fb9130542557c65b43c0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-23 11:08:24 +0100

    Test a remote party adding a video stream

commit efe05041dfcc06e8b3c4366f6042bcac2bb20974
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-23 11:07:20 +0100

    Have the remote jingle session come from the right jid

commit 30cd3be963cb11c327091d10da3b08b97419e9d0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-23 11:01:55 +0100

    Support adding of new contents by a remote party

commit 4519bd6e6cba5f020f45b27fb55dbdd27488f9d3
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-23 10:59:01 +0100

    Make api to add a MemberContent to a JingleSession public

commit a2efc21d51884b55f1deae97d4f39ca6f12cf2b5
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-23 10:58:20 +0100

    Always emit ContentAdded when a content is added

commit 4929db20f95a0be610a90363e304a7defcee6137
Merge: 78ab4a0 c4ad10c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-22 14:56:46 +0100

    Merge branch 'tests'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit c4ad10c1dfef8fabe5b8711f8e13461595aa2409
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-22 14:52:14 +0100

    jingle/call-codecoffer.py: don't assume our telepathy-glib is < 0.11.3
    
    Connections have more properties now.

commit 17b0726429aa4308374484c64b1728d0fe26be84
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-22 14:21:28 +0100

    avatar-requirements.py: test GetAll both before and after connecting
    
    The initial implementation of this feature in Haze crashed if these
    properties were retrieved before connecting.

commit 9ec4c0ea7d6a0142f5e4aa62a71dd35a76afb0f3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-22 14:19:14 +0100

    Sync constants.py back from Haze, which added "CM"

commit 6636d70b5f35a79faac53456d6b14cd5955eac34
Author: Eitan Isaacson <eitan@monotonous.org>
Date:   2010-04-21 11:44:26 -0700

    Refactor:
     connection.c:_gabble_connection_signal_own_presence() ->
      conn-presence.c:conn_presence_signal_own_presence()
     connection.c:gabble_connection_visible_to() ->
      conn-presence.c:conn_presence_visible_to()

commit 316c8c44a8dd4b0e68636143f597fa6ff817091c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-21 15:27:41 +0100

    Forbid presences with muji untill we call Accept

commit f5001bc5f03b31f4f42d694d5fae6a97c0aadca1
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-21 15:27:13 +0100

    Echo the necessary presence events from the muc

commit 09de6a32012d93bdb842d0e9c9df2efaaaaa7000
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-21 15:25:25 +0100

    Implement the basic muji protocol logic

commit fbdca5fa4532174ad9896ea426816fbe791dd44f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-16 16:08:15 +0100

    Port to the updated wocky API

commit 2764616e8260d47dc63f5182ef968c1235bc3c81
Merge: 34030a6 78ab4a0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-20 17:22:20 +0100

    Merge branch 'master' into muc-calls

commit 78ab4a0feee01b68bf38977b23011614417d0b38
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-20 15:47:17 +0100

    Update wocky

commit 2b378679e0868d72be70dd7889de254d6fcd2f81
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-20 15:15:10 +0100

    Set the namespace directly in the node
    
    Newer Wocky API mandates always setting the namespace of a node upon creation
    time, unfortunately we can't do that when trying to be compatible with
    loudmouth. Luckily we can still cheat ;)

commit 901aa0b14a5392e596c32c04a6285947534f292e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-20 15:13:45 +0100

    Set the namespace as soon as we create a node

commit b009397934830635416101c370fae88ad6532261
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-20 15:12:04 +0100

    No need to special-case xmlns and xml:lang
    
    lm_message_node_set_attribute already special-cases xmlns and xml:lang for us,
    so code calling it shouldn't have to do that

commit 1689ff96955211f553b524be0e062a88dbdc0206
Merge: 8f265fa 30eafcc
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-20 12:36:50 +0100

    Merge branch 'wocky-node-tree'

commit 30eafcc8eed22bf3913b642de9e31c4844b939e0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-15 19:31:42 +0100

    Rename to WockyStanza, WockyNode and related changes

commit a19b8f0f19c12f8f3d7cd9dac4daf25d620049bf
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-15 18:47:51 +0100

    Add a debug macro for stanza debugging

commit 42664792ef326b984d4a6e61e4520e5aa8967590
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-15 15:06:02 +0100

    Update wocky

commit 8f265fadcec1ee261c0783e08e24b54227193b1a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-16 16:21:39 +0200

    test that GetContactAttributes returns an empty location if there is no location

commit 09eaa624cf17ee35115a61c4d0d1d2f08f5b97ae
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-16 16:25:54 +0200

    location: return an empty hash to GetContactAttributes if there is no location
    
    Fix fdo #27694

commit 5b250eb3e3cc4b7d21ab96c4de5fc86571b60fca
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-04-16 16:33:41 +0200

    location: ref the conn while wocky_pep_service_get_async is running (fdo #25775)

commit 73513877b368d78cf5f9573b9498468b754a5a9a
Merge: a21a226 dfa0b47
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-16 13:06:20 +0100

    Merge branch 'undraft'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit dfa0b478e567cc8282524388f47401db57da1269
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-15 22:25:59 +0100

    Spec 0.19.5, even...

commit 53fe575bc5eb420fc97274d224c70dcd486ec6e5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-15 21:47:25 +0100

    Update ContactInfo, MailNotification to spec 0.19.4

commit a21a2267a66e9e37fbff0ad01cc542427304ff65
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-04-14 15:56:40 -0300

    vcard/overlapping-sets.py: Removed check for dbus-return of SetAliases.

commit a5db596dbf859525e7fc5229b54477ac5cb9a2e7
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-04-14 15:55:12 -0300

    vcard/overlapping-sets.py: Use _ instead of ev for variables that we ignore.

commit e9e8ad9af5d81842caf7a0c39afe5a5d6a171030
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-04-14 15:45:28 -0300

    vcard/overlapping-sets.py: Fixed racy.

commit 52679ccc631a6b8544cf5ce373fca6b22501fb4b
Merge: 32c575e ac51631
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-04-14 13:24:02 -0300

    Merge branch 'contact-info'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit ac516315a046e0e086822c7aba97df63b890eea3
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-04-14 13:12:18 -0300

    vcard/refresh-contact-info.py: Added test for RefreshContactInfo.

commit 5980bd382c182eac9bf4407e83eef5a953190021
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-04-14 13:11:03 -0300

    vcard/get-contact-info.py: GetContactInfo should always read from cache. Use RefreshContactInfo to update the cache.

commit a7be2238e5c3fab825e1e0d3601967533dcee74c
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-04-14 12:41:32 -0300

    conn-contact-info: Implement RefreshContactInfo.

commit ab817641a5bb942bd61967148a96083ebfe7a816
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-04-14 12:40:33 -0300

    conn-contact-info: GetContactInfo should only return cached data and not request from network.

commit 9ae9a59c1ea988ba9409cbc3f9d0bcc714e6beea
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-04-14 11:50:09 -0300

    Updated Connection_Interface_Contact_Info.xml and implementation according to changes from fd.o#13350.

commit 4386861eee00e6a0a7c72105550edd89aed88037
Merge: 32c575e b01c1ce
Author: Andre Moreira Magalhaes (andrunko) <andre.magalhaes@collabora.co.uk>
Date:   2010-04-14 11:26:40 -0300

    Merge remote branch 'smcv/contact-info' into contact-info

commit 32c575e530251420d69c24c2768517ce5e07b889
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-13 16:06:46 +0100

    Update Gabble for _stanza_build() changes.

commit 664c839cebc6689b264b7b8615371fbb366d3963
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-13 16:03:30 +0100

    Update Wocky for _stanza_build() changes

commit ebc20b8e9e0a077c2961c1993e3010091673502d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-13 12:17:52 +0100

    Correct a mis-shaped call to wocky_xmpp_stanza_build()

commit 721dc1571ceff758c9fb9c883fe7c8efcaea7f41
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-04-12 14:04:21 -0400

    Cleaner code for ternary operator

commit efd636f67475e3e8da7968b73bf59fa73f62fa9a
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-04-02 17:42:04 -0400

    Fix the namespace for google share-v1 in the unit tests too

commit 061209f94946a50a283a9df3a495132488bdc6be
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-04-02 14:48:37 -0400

    typo, set current_channel to FALSE, not channel, which was NULL

commit 144f226b154712f3d6a7d6bb1c43c9fb8d85947d
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-04-02 14:05:15 -0400

    Add new VER hash for the unit test

commit 516a567413b40c1fabefda23017002078539df42
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-04-02 14:04:53 -0400

    the source_url can be NULL. iGoogle keeps it empty, so we should handle that correctly

commit 0bb45f22bba1513466818f31c824074887593d5b
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-04-02 14:03:56 -0400

    candidate priority should be cast into gfloat, otherwise it gets truncated to 0

commit fd078f3797393061abce80995b5043654f24eaf5
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-04-02 13:29:22 -0400

    iGoogle's share-v1 feature doesn't contain www.

commit c7cd3a21572fefb384f3c16fbb7dcbb5877f4780
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-04-02 13:28:57 -0400

    Do not add a SESSION_PHONE description if we're not doing audio, in gtalk3

commit 42e7376b32c192a40a5ad8e186b37cb1e55aaa65
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-04-02 13:28:27 -0400

    The info message isn't gtalk4 specific, we can receive it in gtalk3 dialect too

commit 8adbf2001d82fefab356df5d8a8782b7ec46d1d7
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-04-02 13:27:56 -0400

    Accept before creating a new share channel

commit d8808048b4c78c9bf021b871a3b6f1e76febbbb2
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-04-02 13:27:38 -0400

    Always make sure there's a valid foundation

commit 3330526007c52e92205a8f55d44ba0fcadb8627a
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-04-02 13:27:13 -0400

    ouch, big typo, check UDP protocol, not type

commit 74efeca9990acca3d93a5b6185c37ba2a65f131b
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-04-02 13:26:44 -0400

    Add some debug info on candidate parsing

commit 711c7225f5c188f9734dfedc83530ae744e57597
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-04-02 13:25:02 -0400

    Check for transport before dereferencing it.
    iGoogle might send us a 'completed' info message even though the
    channel was never open. This is used to indicate a failure.

commit f4643fb235ab0930b2d1312e713828f93519703d
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-04-12 15:07:36 -0400

    do not assert for non-200 body. error out all channels instead
    This is to avoid having a remotely-triggered assert..

commit 0cdbc3e8993862d15cf444983655aa449716467c
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-04-12 14:01:48 -0400

    Add some assertions to handle cases that we expect to always be true

commit c76451ae9c886b573ef3858ea47519a461101a69
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-04-12 14:00:55 -0400

    use g_ascii_strcasecmp instead of the strncasecmp variant since strings are null terminated

commit a276646dd9b5f1c26d6627abc3e641a8473f65f7
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-04-12 14:00:27 -0400

    Add proper print format token for gsize/guint64 variables

commit 9cfae99e29eb05bd4eecc0d2a63cfa7ace986724
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-04-12 13:57:52 -0400

    use \0 instead of 0 for line termination character

commit 9f04372a904b82ead535c36d68343275633545cd
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-04-12 13:57:02 -0400

    cleaner code and better comments

commit 689272886cd07b4fe6794d07130fa2e523b26653
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-04-12 13:56:31 -0400

    telepathy standard. function declaration on separate line than return value

commit b1233d063c74a00bfa01a3596be8b3eeae676d05
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-04-12 13:55:51 -0400

    cleaner code

commit 34030a6540b9ffc12764c22619603b5d67cc05bc
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-12 14:25:10 +0200

    Don't build a presence we don't actually send

commit c68c4fc192ba8bb5770ba4500e1c33a6d25f5c99
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-08 16:20:13 +0100

    bump nano-version to 0.9.10.1

commit b616dec5b87bdc8f15260a570b98a740ad171ae8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-08 16:16:57 +0100

    Version 0.9.10

commit d69cd1802591ecd0e1e5525cc5a261e21fd3372c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-08 16:07:02 +0100

    NEWS for 0.9.10

commit d6eb01d685ede56ee8ce14b09a1a71c507601592
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-08 15:32:19 +0100

    Correctly get test bus conf. from builddir

commit 8caf31950d626d3b278e22794cae8e62df775398
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-04-08 14:05:51 +0100

    Update Wocky for even more pubsub code!

commit 0aad264133f941ea15778f5f915cb649c1a0399a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-06 18:44:56 +0100

    Don't leak a jid string

commit ada215c55fd249681b7d0a898e274a5e3e56980d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-06 18:44:41 +0100

    fixed some typos

commit 46aa8f519b90c40f5a1db84125417292b1fd8c23
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-06 15:43:14 +0100

    Remove the proxy from the potential proxies list if the result is invalid

commit b52457c53eea23bb8fd224a04168a67036a05eaf
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-06 15:09:51 +0100

    Make all checks run in a dbus session (some require it)

commit 46eb2d453c9134797210e931d1725f0d76159dfb
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-06 13:07:06 +0100

    Use g_resolver_lookup_by_name instead of getaddrinfo in GibberTcpTransport

commit 1fa446e22844127421287ad3bddc1d9e2e1cdc5d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-06 12:56:25 +0100

    Also ignore ipv6 related errors when accepting a file

commit fb4f4f2f9d98643578debdaaebd8e7b7ce75c64e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-05 20:19:02 +0100

    Implement synchronous lookup_by_name method

commit 66c48c2ca31593f24d0f03c5806b8ecb19747f73
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-05 17:36:27 +0100

    Ignore errors if we can't listen on ipv6
    
    If a machine doesn't have lo configured with a localhost ipv6 address then
    gabble will fail to listen on an ipv6 socket. Ignore the errors caused by this
    and bail out of the test early

commit 526d4ec1479ca7ddc3a9ec852ad14d1ef17d7193
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-05 17:33:28 +0100

    Be more clear about which address family fails

commit 7ad39cec98803f1da2fcbe8fe42b9575f274092c
Merge: 5b14fc1 f7215f5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-06 14:19:16 +0100

    Merge branch 'trivia'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit f7215f58589693d498ac8f675aba9e6c14a06bcf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-06 13:38:52 +0100

    configure.ac: use TP_COMPILER_WARNINGS
    
    The set of warnings used is taken from telepathy-glib, plus
    -Wmissing-declarations which we already had.
    
    This results in the addition of the following warnings: sign-compare,
    nested-externs, pointer-arith, format-security, init-self.

commit 5af3fb342da510de94504d62996413d1ccebedae
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-04-06 13:38:25 +0100

    GabblePrivateTubesFactory: avoid doing undefined void-pointer arithmetic
    
    get_contact_caps_foreach() used code of the form "ns + 3" where ns is a
    void *, which is not portable (the effect of incrementing a void pointer
    is undefined). This would fail -Wpointer-arith.

commit 87621cd9b59941478bdafb2e7ee7efc439bbd825
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-05 15:59:43 +0100

    remove odd space

commit f4df5b3022bea0230c1579713949ad8bd9ce8833
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-05 15:58:18 +0100

    Add some debugging if we don't understand the media types

commit 6acfdad99ed85699ce28066150158a27079e6ebb
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-05 15:57:24 +0100

    Don't define vestigial functions

commit 386e2a3b25097cd50ff8e75eaf2566239acb013f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-05 13:43:40 +0100

    Improved inclusion of headers

commit 3402f6e91ac069c228e92cdf14bb259000270c4f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-05 13:26:32 +0100

    Fix typo and strange newline

commit 88e87a1fe6e8d9326c1a2c2b894a97cea465ab2e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-05 13:25:52 +0100

    Do correct refcounting for creator and target handles

commit 4609a8d6dce55a526aaab7716d6550c92d4092be
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-05 12:56:30 +0100

    flesh out the muc testing a lot more

commit 9153bb91cf71f75e9c7f9a6084d8e624218492b1
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-05 12:53:58 +0100

    remove spurious newline from debug messages

commit 3a3e025e3c6a02016acdad095943163723e83987
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-05 12:53:06 +0100

    Simplify determining our local sending state a lot

commit 22a60c232c4f6fbe3546b529105484ab5227bbee
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-05 12:51:45 +0100

    On an outgoing non-accepted call our side should be pending-send

commit 15b17825e6c0ad41a512b18cd6d0bfec5ed9768d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-02 19:57:38 +0100

    Parse presence from other members

commit 63fbb45bc149638ce35e61b608df637ab8f2c5d9
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-02 19:39:34 +0100

    Sent our own codecs in presence updates

commit 7151e7da270ebb804b32077454b0b9844f3f4b67
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-02 19:22:13 +0100

    Prepare the various contents properly and add stub cbs for muc presence changes

commit 09c4ee6f9fb7f74ef0d61f08ce4150a4dac25553
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-02 17:59:32 +0100

    chain up to the parents constructor

commit 35e1a82e8ba5051be06a3f44e29962986d69a308
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-02 17:45:52 +0100

    Open all sessions when the call channel is accepted

commit ba98d7f0fb5796ba31b770ee214a14a6fd610957
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-02 17:36:38 +0100

    On incoming jingle sessions check if they belong to a muc call

commit 3308ebf689138a4a7fb0f8aeeacaa1af0747b4ce
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-02 17:22:10 +0100

    Add API to open a session
    
    For Muji we'll build the bits of a the session first (Member and Contents) and
    only then kick it of (if that's for our side to do) otherwise we'll wait till
    the other side connects. This means that when a remote session comes in we
    should automagically link it up to the contents we already have negotiated
    through the muc with the remote party and also when we open a session we should
    magically add contents we know need to be in it ;)

commit 0c4a6d0b2410da1f60d75ff6256d6436937db6c4
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-02 17:20:48 +0100

    Only update the local codecs when they change

commit 7d43b172786db91af4b2836f0122e0e3456ef277
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-02 15:54:34 +0100

    factor out setting the jingle session

commit 47063e702f51db8b65a20efc38faf7e6f75b8e9d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-02 15:51:10 +0100

    Add accessors to get the connection and the transport namespace from a member

commit 2033e2e40ed71ec2f4300f428e5da260149aee4e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-02 15:49:29 +0100

    Add method to accept sessions of members

commit 5b8713e0670744bbe93d64dd06433952af0b4745
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-01 17:59:37 +0100

    expose compare codecs

commit 75425371e6fa09eb55acf770381cd91c5269e881
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-01 17:59:10 +0100

    Signal new streams

commit 30f0007e008de007a53f0ccfa0b7337cf1d8f42a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-01 17:50:30 +0100

    Signal when the contents local codecs are updated and add api to get them

commit 0aa3dee0f956cde8342252723efbfc358600f732
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-01 17:48:25 +0100

    Add api to get the BaseCallChannels members

commit b7186db69d59ac46e703310c71fbda2361040dae
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-01 17:48:02 +0100

    Also signal CallMembers when new members are added

commit 91b275f372a178da4aa2c22838be62f7389e83c1
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-01 17:35:34 +0100

    Wait until gabble joins the muc before sending the muc presence

commit ae627355f02a9eeb6cf5f8cccc45781a25928ed7
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-01 16:41:59 +0100

    Only terminate the jingle session if we have one

commit 9e93615e8671418212295e912171ed905e498779
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-01 16:29:39 +0100

    Pass the jingle factory a full jid instead of the resource
    
    With Muji coming up and the ability to call bare jids on SIP gateways we can
    call full jids from mucs, full jids for contacts and bare jids. This means that
    juggling around the resource gets very error-prone. Luckily all the code that
    wants to start a session already knows which jid it's for, so let them do the
    hard work and have the API's just take jids directly

commit be4799fcc4ec28eab0bfb5e6ee8ade82dd00f778
Merge: 3e655ae 5b14fc1
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-04-01 15:51:38 +0100

    Merge remote branch 'upstream/master' into muc-calls
    
    Conflicts:
    	src/call-channel.c

commit 5b14fc14c6e2c7a3f54fc850c34254eb4bfd8ade
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-03-31 17:11:00 +0100

    Recognize sasl auth and other auth failure errors

commit dd016c99180c9540476da7bc40999a81622f0331
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-30 19:59:53 -0400

    Remove the last TODO. Check if current_channel != NULL.
    These two cases should *never* happen, it's impossible.. but, just
    to be on the safe side, it's better to check for the validity of the
    pointer, and if it's not valid, then error out every channel which
    should make us dispose also.

commit b12b4a22e9a7163801dc1e71eda96431837234d0
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-30 17:52:49 -0400

    set internal state to ACCEPTED when the remote accepts the transfer

commit b1471136803be4bda693696665932c2130f09acc
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-30 17:52:12 -0400

    check for usable channels in get_next_manifest and not in get_channel_by_filename

commit b12f19f6d7c73adfa28a6a9534c882b74ddcb4a0
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-30 17:50:15 -0400

    Handle when the transport disconnects during an incomming FT before it's completed

commit 08027e2fd92aa93b2ace2a8438c97c0af3e09f80
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-30 17:46:57 -0400

    Better decision making for SI vs. Jingle-share in outgoing FT.
    We check for whether SI or Jingle-Share capabilities are available
    for a contact and we choose accordingly, if both are available, we
    will use jingle-share FTs only if we have a google relay token to make
    sure that the connections will always succeed with TURN, otherwise we
    use SI to make use of the socks5 proxies.

commit ab628543b62a4e5b85dbe736667e6346effd5f90
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-30 17:46:38 -0400

    Add support for 404 errors and add GTALK_FILE_COLLECTION_STATE_ERROR

commit f9a86f1429669672b2c0ee9f9d606c0c2fd2f028
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-30 17:13:04 -0400

    Add a variable to know whether or not the channel was opened or not.
    There was a special use case where we could have a bug, if the remote
    accepted our call and we didn't call ProvideFile, then the channel
    goes into state ACCEPTED, then when we call ProvideFile (before the
    actual GET for that file is received), the channel would then go into
    state OPEN.
    If it was an outgoing file transfer, the UI would start sending data,
    and in our call to gtalk_file_collection_send_data, it would assert
    because the channel is not (yet) the current_channel since it didn't
    yet receive the GET for it.

commit d5b171dd0a92c6e2d5f715cea9c35fcb44edcb23
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-30 15:31:08 -0400

    Remove the requires_initiate_before_candidates and check for MEDIA_RTP instead
    This is because this code where the candidates need to be known before
    the initiate as well as the transport needs to be connected before the accept
    is specific to MEDIA_RTP, so it's better to make it clear that it's
    rtp specific.

commit 9edfc3b29e871a6f9237e8751d458408a2d6cf96
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-29 18:08:31 -0400

    Rename share_channels into component_names
    The share channel in the google transport actually referred to the
    named components since the RTP content also uses the same system for
    component naming. Since we use the method *_set_component_name, it makes
    more sense to call the variable component_names.

commit f3d721df29e12b4f7937d4d952fbcf9010aa22c1
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-29 16:40:09 -0400

    change a FIXME into a TODO

commit 2e312a2a458554009bf544c84c72cde22cd6071d
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-29 14:46:42 -0400

    Add the latest CAPS VER hashes for gtalk ft unit tests

commit ee3f1c1d8625061bb0ac9374b5e0edd81452ab2b
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-29 14:46:20 -0400

    Use gabble_generate_id to generate the manifest temp urls

commit f549341c4d2b87a3eef98e72ee4a921df2b40a36
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-26 19:30:23 -0400

    Remove JINGLE_MEDIA_TYPE_FILE and make jingle-share use a JINGLE_MEDIA_TYPE_NONE type
    Use GABBLE_IS_JINGLE_MEDIA_RTP to check if we're an RTP content for the
    special use case of RTP needing to switch to gtalk3 dialect if there is
    no transport node in the accept

commit 227b4566fda3fd97b32f23895047c61219723ef3
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-26 19:28:14 -0400

    Add a 'requires_initiate_before_candidates' variable to the JinleContent class
    This serves to specify whether the content needs to have local candidates
    before it can be added (initiated) in the session.
    It's set to FALSE by default but it's set to TRUE for jingle share because
    we can't have local candidates without a Share channel and we can't have a channel
    until the other side accepts.

commit 19a2a7fda9b3198f7b6d03c7e889af1199cb515f
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-26 15:38:25 -0400

    Add a get_default_senders virtual method to jingle-content and remove the special jingle-share use case

commit 357a5be6da25ef9a16a453b16460f07dabed05ac
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-26 13:32:08 -0400

    do not use an anonymous union as it's a gcc extension

commit 33e6ce2313cbbe3ed54f2ab3e1286d3c82ab48f0
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-25 12:11:43 -0400

    Rename 'gtalk_fc' into 'gtalk_file_collection' to make it cleaner

commit c5726d40676600ee731ba95e4740844de0314714
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-24 21:04:53 -0400

    Remove another potential breakage of strict-aliasing rules

commit e0e772d7b48f70ebd3999acf5e58b3a076ca0d66
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-24 21:04:12 -0400

    Remove a potential breakage of strict-aliasing rules

commit a0033120cc48bf5f1181d48dc10b29438c0e071f
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-24 19:36:22 -0400

    Revert patch 2de68bb15afc8d1 and check for the dialect before setting the component name
    Simon's review of that patch had this explanation :
    I'm glad I caught this, because it's (subtly!) wrong. GabbleJingleTransport is
    the gtalk-p2p transport (used as an alternative to ICE-UDP or raw UDP), whereas
    the dialect you removed a check for indicates which dialect of Jingle we're
    using. (The choice is currently between XEP-0166 draft 0.32, XEP-0166 draft
    0.15, the Jingle variant from libjingle 0.4, or the Jingle variant from
    libjingle 0.3 - at some point we should add XEP-0166 v1.0, which is not 100%
    compatible with 0.32, to that list.)
    
    The official Google Talk clients will only ever use gtalk-p2p combined with
    some Google Jingle variant, but Gabble is quite capable of using standard
    XEP-0166 for the Jingle session, but the non-standard gtalk-p2p transport.
    Indeed, until version 0.7.something we didn't support either of the standard
    transports, and we still prefer to use gtalk-p2p if the target supports both
    gtalk-p2p and ICE-UDP (because that lets us use Google's relays, if we're
    signed in with a GMail account).

commit b80e4b67a2ed14fc3dd17c800c13d3ef145984da
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-24 19:27:14 -0400

    Fix 80-char limit

commit 71dd16d97aaec2f78fb57f403ea7426da790f1d5
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-24 19:25:24 -0400

    Remove GabbleChannel structure and use GHashTable for the struct's fields
    In order to make the code cleaner, I've removed the structure GabbleChannel
    which was just confusing and I use directly the Channel for the operations
    To keep track of which channels are usable (initiated/accepted) and which
    ones are blocking the read operation, I added two GHashTable which map
    the channel to the boolean for usable/reading.

commit 29766adc77783d4437287e44504b692ca40a1ff8
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-24 18:21:51 -0400

    do not reset state reason to NONE when accepting an incoming FT

commit 95692a48284bbbc69641cd0ebf9938ae0aec1a75
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-24 16:35:01 -0400

    Add comments to make the design more obvious and better documented.
    Explain the layering violation.
    Show an example XML of the share description/manifest
    Explain the protocol with a schema to show the object interactions

commit f8c652d9b9f1ea77318b1f55a16feaacd7bfabaa
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-23 22:28:50 -0400

    Rename set_gtalk_ft_state into gtalk_ft_state_changed
    In the ft-channel, use gabble_file_transfer_channel_gtalk_file_collection_state_changed
    instead of the previous *_set_gtalk_*_state to make it clear that the method
    is some sort of signal callback.

commit bd82f3a0587d24afd89886809df815342626bcab
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-23 22:23:22 -0400

    Remove the get_channels method from the file collection since it's now unused

commit cfdde4a03adb0e6f790baca5cffae0971fc669ad
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-23 22:21:45 -0400

    Move the channel creation process and manifest parsing from GTalkFileCollection to the ChannelManager
    This is to make the code cleaner and avoid having the gtalk file collection
    call the 'new' function from the ft channel.
    Also add a new method add_channels to the file collection to allow the
    ft channel manager to tell the file collection which channels are associated with it.

commit 0aa19760c8d8b289c9a4ebd94e5aed799bb3ee0f
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-23 22:20:00 -0400

    Add a property to expose the 'token' of the GTalkFileCollection

commit 5c5f2a46d63b187fc2472b67c59a0e42259ab787
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-23 22:17:54 -0400

    Do not do the g_return_if_fail when the bytestream/gtalk_fc being set is NULL
    When we initially create the file transfer channel, a set_property is called
    on both bytestream and gtalk-file-collection. If one is set to something then
    the other one gets set to NULL, we'll have the g_return_if_fail triggered which
    causes an assertion on unit tests.
    Also divide the expression in two so we can see more clearly which one failed.

commit 348f66f7006c7ea561a3a99748a1ea5dc4622244
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-23 14:50:01 -0400

    Rename GtalkFtManager into a GTalkFileCollection to make its task more obvious and less confusing

commit a38e8c4b2e7a74263e56f3b26f9328d7053a101c
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-22 16:56:57 -0400

    Rename JingleChannel into ShareChannel and replace all channel variables that are jingle-share channels into share_channel

commit ca1a0e6bfe91b14b71db696a8b2fffd25bbe9a9e
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-22 16:40:58 -0400

    Rename 'channel' into 'share_channel' for the jingle content/google-transport

commit df2506e389275adcd338a70eca79980c96461694
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-19 17:29:40 -0400

    Depend on libnice 0.0.11 which has reliable transport support

commit ca03ae0c7701e299a64a202bd798a7a7aaf99023
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-19 17:24:25 -0400

    trivial fix, no need to count the length of the list if we are to compare it with 0. More efficient this way

commit d04dd92a370bc5172842df63037fcddf18c2d18e
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-19 17:20:15 -0400

    Add a comment to explain why all channels in the NewChannels signal don't have any request they satisfy

commit 9a204586e55d5da2291c38c159140ee72bb68bb7
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-19 16:41:47 -0400

    Stupidity fixed. either bytestream or gtalk_ft will always be !=NULL here.
    Actually, it was if (transport), I changed it to if (transport && bytestream)
    because the jingle case was handled already somewhere else, then I realized (after the refactor)
    that it might still be needed so I had if (transport && bytestream)... if (transport && bytestream) ...
    then I cleaned it up the way it was at the time of this commit.. then smcv noticed
    it was just stupid.

commit d52f93e33603b7cd054f693006fdc3368c508f37
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-19 15:57:54 -0400

    No need to check for error != NULL when calling g_set_error

commit c3dfa071021f1c51d1b47f360bcafb1b5f6f2518
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-19 15:43:19 -0400

    component/channel id is a uint, so make it constant everywhere

commit 9215c48bfe66598fc64a7d2412c17bdd846c4ce9
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-19 15:14:44 -0400

    Add a blank line between declarations and statements

commit 6098f6266c80951f63a617429d41f48330cb1cb4
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-19 15:08:23 -0400

    Rename gen_manifest to ensure_manifest

commit a25d9c5d5b7193ee167fff127d104232b192dd2a
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-19 15:04:51 -0400

    Use g_ascii_stroull instead of atoi

commit 72d066168085cb2843fd9500bd1f8cbe417d8fdb
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-19 14:41:07 -0400

    document the content and ownership of elements in GList and GHashTable

commit b9f995926f023e1bc92fc89134d9d7f602a0ede8
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-19 14:29:28 -0400

    Use g_return_if_fail where deemed useful

commit 7791b2111cf1ffc7c2a5df8517b38866e29d4187
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-19 14:29:06 -0400

    Replace == FALSE/TRUE conditionals for booleans by if (b) or if (!b)

commit 9fc3aa3d0bd787b9011db2244a970870842ed76e
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-19 14:02:57 -0400

    do not use 'if (ptr)'. Replace with 'if (ptr != NULL)'

commit c437a67d3f9872e166a5d1175b0453d40e3670c2
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-19 13:51:58 -0400

    convention states one property per line in g_object_get/set

commit a6a8d1bc254be90dcc250bf3c93caccf5f898945
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-19 13:50:51 -0400

    Change bytestream/gtalk_ft to be properties at construct time rather than settable through a method

commit 64e5dea5a82d2127694ab10af66e6ffd644ddba9
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-19 13:25:09 -0400

    Remove unused/inexistant function declaration from jingle_share.h

commit 8b46facb046525016fa4de60b9915eb470ae3c60
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-30 19:43:24 -0400

    Test unicode filenames in test-send-file instead of all unit tests
    This is because if we try to enable CHECK_TWISTED_VERBOSE=1, it will
    fail because it won't be able to print the unicode chars correctly
    since pprint doesn't handle it correctly. So we only enable unicode
    in one test, so we can enable verbose on the other tests.

commit 05cfb3a7b3354c03d18c93557fff29617b43c17b
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-25 12:10:37 -0400

    Add a new CAPS ver hash needed after the merge

commit 4a58a9033f0f0c5462dd9b92a5d0f4a868bdd0cd
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-23 22:14:51 -0400

    Make sure that the FileCollection property is set (is not an empty string)

commit ee3245469ac7c826f2dad7e849160211c8071cad
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-18 20:26:51 -0400

    Add a unit test for multift
    We first create a fake client and we make it look like it supports jingle-share FTs
    Then we make sure that gabble recognizes it and gives it the right capabilities
    Then we send a new multiFT request to gabble, and we check that we receive
    the NewChannels signal with a new channel for every file in the multift and
    we make sure every channel has the same FileCollection.
    We then close every channel and we make sure the jingle session is still active until
    the last channel gets closed, in which case the jingle session gets terminated

commit 3668a4cb3ee7bb121e9b8127fa6aa274f26340c1
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-16 18:52:49 -0400

    Change all uses of __dbus_object_path__ into object_path

commit 805b159fc7e8fe8259a8111fb54dfcda22b1c936
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-16 18:50:15 -0400

    Do not loop and do multiple tries, simply change the timeout for the event queue

commit be1995a99eaed3c5a62c9b06cf39d226db76d409
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-16 18:49:41 -0400

    The open reason does not depend on the status when we wait for the OPEN state of the FT, it depends on the status at the moment we call ProvideFile

commit 2607b2ba31bf4e3f015f69dd6b683c09dcb3d4a1
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-16 18:47:07 -0400

    Use expect_many for multiple events when the order of reception could vary

commit b478487fa6aa51c8cf7dc64d75ed8b5ebd68f1a1
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-16 18:45:46 -0400

    Add support for testing UTF-8 filenames

commit 385d03680b1cc872f015afa2355515bfe2879916
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-09 18:16:33 -0500

    support for multiple 'ver' hashes and make the code a bit cleaner

commit 25346649ef430f8d6fccf4d628176cb1b3332566
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-24 19:09:20 -0500

    the offset_defined is now added and asserted, so we need to fake it for the test-send-file-send-before-accept test too

commit a50e99f1064a25299279ec1cc480533282d75f54
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-24 19:04:51 -0500

    Make the create_ft_channel automatic instead of being an individual action, and connect to the signals (and expect the session iq) as soon as the channel is created, not when the ProvideFile is called. Also check for whether the channel was previously accepted in order to know whether the state change to OPEN after a ProvideFile should have the reason NONE or REQUESTED

commit 1beb20fa8c25eec52634f1db7d48eb7054a83f2b
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-24 18:41:48 -0500

    Add a test to check if the remote can accept before we call ProvideFile

commit ae0ab92afc651db7fe2ce3a4160007c8b4ab08ea
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-24 18:40:55 -0500

    Add a little check to make sure we can't accept our own outgoing transfer

commit 75e2a6ae18bd4a425f2117b4e756e2f07d70872c
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-24 18:40:27 -0500

    The jingle share initiate is sent after the channel is created, not after we provide the file

commit 1f03351f43ff1e85d7e187f035fc65d8febdc376
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-24 18:40:01 -0500

    Test the offset, since jingle-share doesn't support resume

commit ee319f3791164f4aada2be7126cbef08f01c8d77
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-24 18:06:55 -0500

    Add a test to cancel an FT invite right after the provide file

commit b8731c379bb77e7fc0d00ae9b6f413bc3814197d
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-24 17:24:57 -0500

    also test for the sending part, and make sure we can't provide the file anymore and no bytes got transferred

commit 08835359b2428ef7fbaca310329a4bbc82a08791
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-24 17:24:33 -0500

    make sure the first StateChanged signal getting fired is the canceled/local_stopped, not an intermediary state before the canceled/local_stopped

commit 7759db81a6617725055bd268c264e3d1a820f1ad
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-24 15:15:59 -0500

    Adding 4 new tests to the jingle share test suite. Allows testing of use cases from the receiver side

commit 55def477ae353676ab30e2b767a2ccd9ef741598
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-23 17:13:34 -0500

    remove debug output

commit d3483a53be0934b8a37967365891fbd0358e8a42
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-23 17:00:50 -0500

    if an action returns True, then we must stop the test

commit bf126c78cc15676943047652665e0f57b47a3514
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-23 15:11:03 -0500

    Add a test for closing the socket while receiving

commit 1429b0c76a1f7bc2f0e63df80304e5a2d1aae5d0
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-23 15:10:17 -0500

    do not run the tests 3 times, once per address socket type. Only try ipv4, the other socket types are already tested for in the file-transfer/ tests

commit 4a31b786a7b44d231c39bcc602adea27af66545c
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-23 15:09:14 -0500

    sometimes the channel gets closed, so we can't close it again, causing an error. Make sure to track channel closed signal

commit d06edc7b3af04d60701e8ff53e92dfe2fa44865e
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-23 15:08:43 -0500

    make sure that we do send a jingle-share session when providing the file

commit 8120526b17aba93185c02c9a429d828ca849e04d
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-23 12:23:12 -0500

    Add a test for sending the file before it's accepted on the other side

commit 1a774a59fa406603ab6925db82e2c74d9dabb91a
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-23 12:22:36 -0500

    increase the timeout when waiting for the connection because the test fakes the IP of the stun server which delays the libnice candidate gathering

commit bafabe0b750e8496acf968ae2f3a6f01d5fd3357
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-23 12:21:58 -0500

    Fix the capabilities to make sure the jingle-share FT is being used

commit fdfc170ecafe2198d1445399bc62b5b9c616fd92
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-19 00:16:46 -0500

    Add a test to send/receive an FT between two gabble instances

commit 87be3d7fe949d90c2610b6772e815d7a8426696d
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-17 17:51:32 -0500

    Make sure the capabilities of the file transfer are derived from the share-v1 caps

commit 62e73f68bf09d197f76493c64e9cb1e29a265715
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-17 17:27:40 -0500

    Add a test for jingle share capabilities

commit 63f82a6f4b2454293779d4d5217ee9a984e0af8a
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-17 19:01:52 -0400

    use an enum instead of a #define for the GtalkFtManagerState and remove related TODO

commit aef0aa1d4e89437f96948d3b7f457203312c5d3c
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-17 18:48:02 -0400

    Add a Channel.Type.FileTransfer.FUTURE custom interface in extensions and make the file-collection attribute dbus-able

commit f7b726ccfa7de5a239920fc09aa28b9b089296eb
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-17 18:47:28 -0400

    fix coding style convention

commit f92a9a6707f97cf30b491c637b07f5e9d6024431
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-16 20:03:46 -0400

    Add some TODO items and set status to TRANSFERRING for sending too

commit c7340d4714e4f9955647ee74f8c52126d2305ba8
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-16 19:56:46 -0400

    Do not hold a reference to the channel even with current_channel
    The problem that might happen here is if the connection disconnects, so the
    Connection object disposes and unrefs all channel managers which will unref
    all their channels. If we hold a reference to a channel, that channel won't get
    disposed.. and when we call something on it later, it might segfault because
    it expects the Connection to still exist.
    Let the channel weak ref take care of this for us.

commit 7fa3e32e91d30b45e829baa3437b6dda0165a3b4
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-16 19:56:23 -0400

    Fix a previous commit and add a TODO for doing a proper fix later

commit 7d64cf20221422eaad3532707b3c92931bd61e5c
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-16 19:14:28 -0400

    Add a debug message to track block/unblock changes when not transferring

commit 2d5a3666d49611971a43cd1ce1f496ee3f2280a7
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-16 19:12:54 -0400

    Try to fix a bug with reentrance and references and disposes of channels

commit f05b89143cc933c3ffcc4d5a3fac0bfe0f37e766
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-16 19:11:05 -0400

    Do not terminate the session in the terminate and use weak refs
    When we get terminate called, we should just delete/unref the channel we have
    and let the channel unref us, so we can terminate the session in our
    dispose instead.
    Also, use a weak ref instead of a ref because we can get into trouble with
    re-entrance and refs make it complicated and unneeded (circular refs here!)

commit 8268a655a0f7f13f59e83494140ebe3d2c73d6ba
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-16 19:09:28 -0400

    Avoid accessing the list's ->next after we delete the object from the list...

commit 387b85faafb50f3f5783a60010dc9e13777e7568
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-16 19:08:46 -0400

    unset the current_channel to unref the channel when we dispose

commit 06877a850dde8dd5fcaef5f7886336b0a8fbec05
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-16 19:06:58 -0400

    ouch, report only the data we want to receive as being received

commit 5feaa0ea8d6ff418fe3a539b7293d344e26c2893
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-16 19:05:32 -0400

    Add support for files with spaces
    Use g_uri_escape_string and g_uri_unescape_string to add proper support for files
    that have a space or other space character in their filename during the
    HTTP GET operation

commit 1e16a6d0cd2a693fe83cd83ef55b4af9c91be19a
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-16 19:04:55 -0400

    Make the filename of folders have the .tar extension

commit 65a5206f2628a1618a2b6a72e8a8e8f1fb74bbbd
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-16 19:03:56 -0400

    Add gtalk_ft_manager_completed and proper support of when an FT is completed

commit 3855d9bad7dd7733566785743bf969b861f8b2d0
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-16 19:02:04 -0400

    Do not set a channel state to ACCEPTED unless it was accepted by the user
    This caused us to set all FT channels to ACCEPTED as long as one FT was
    accepted. It caused the subsequent accepts to fail because you can only AcceptFile
    on a channel with status PENDING. So those other channels couldn't be accepted
    anymore.

commit 886aa54c5930d1ccfbb595d111c7536688413ed4
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-16 18:58:37 -0400

    Checking for file completion is different for gtalk_ft.
    Only set ourself to COMPLETED for bytestream and let gtalk_ft tell us when
    to go into COMPLETED and check for the state COMPLETED or CANCELED rather than
    the transferred_bytes counter.
    Also we do not need to set the size of the FT channel anymore to avoid the previous
    problem

commit 25e685e4152ce0d879daef8456171197ed61ffc1
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-09 16:17:59 -0500

    Add comment on jingle-share vs. SI priority

commit baac0d4115b53e05050105f35c88d23cbb26162f
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-09 16:17:41 -0500

    Handle jingle ft termination properly

commit 30ec49143197ab8be97dd066ed50aadc1412c82f
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-09 16:17:21 -0500

    Oups, blocking and unblocking was inverted

commit 0f11d7bf15528cfe733e9b0fb1c00837be1bd917
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-09 16:16:52 -0500

    Create the gtalk ft manager from a session in ft-manager, also unref the gtalk-ft-manager when necessary

commit 87d7ec7e2eac163f97d204353993fc89ab92ea35
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-09 16:16:15 -0500

    Add a file_collection argument to gabble_file_transfer_channel_new

commit 653a00b4723913a24e09c2aba9315ab9cf6f7b86
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-09 16:14:57 -0500

    Add a way to send data to the ft-channel

commit 6ba0f1bf868375c31bd06e715353654b5050bbee
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-09 16:13:59 -0500

    Add partial support for reception of multifiles
    We now have a status to know what we're doing and we can elect a channel
    to be the currently activated channel. Only accept the jingle session once
    and now the get_next_manifest_entry tries to find the next usable channel
    or waits for an accept.

commit 9d9ef012574ae574673bccc8f285aacad69ffd45
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-05 16:55:11 -0500

    Add ways to search for the GabbleChannels and properly implement the HTTP server.
    We can now fetch GabbleChannel by either filename or by the FT channel itself.
    we also store the status line from the HTTP request/responses and use that to
    determine which file is the peer requesting in order to fetch the right channel
    and set it as the currently selected one.
    We also now check for wrong filenames and return 404 error if it happens.

commit 3df7efb0656d485775b83f0447af8ec00270c5ea
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-05 16:54:08 -0500

    Fix gtalk_ft_manager_send_data to also take the channel that requires sending and make sure it's the current channel

commit 9b82d800cf5805e604028178d4bd10871e78c0e4
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-05 16:51:04 -0500

    Properly support the block/unblock of reading and the write_blocked signal
    Now the gtalk_ft_manager_block_reading also takes the channel requesting
    the read blocking and only affect the libnice agent if it's the currently
    selected channel that calls the method and store for each channel whether
    or not they want to block the read operation or not.
    Also store the currently selected channel now, and block/unblock reading
    depending on what that channel needs.
    Also allow to tell the channels when the jingle session is writable or not
    by calling gabble_file_tranfer_channel_gtalk_ft_write_blocked.

commit 1f43e6f14f993493c6f7908346aaff82f11d7e13
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-05 16:38:20 -0500

    Misc fixes.
    Group an if (x) f(); if (y) f(); into if (x||y) f();
    Add missing break in switch cases
    Adding some comments and renameing some functions
    Add a few debug messages

commit d46b6eb1ad091d88a48e00847d9e087d6fcb6fc8
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-05 16:31:49 -0500

    fix FileCollection... this wasn't the right way of doing it

commit 34e4765170e562b9f5174bda2520df74f6a65ec1
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-05 12:41:41 -0500

    Do not parse the description if we already have a manifest
    When we receive the 'accept', parse_description is called, which causes
    the manifest to become empty since the description in empty when gtalk
    responds with the accept.

commit 50a5ceae1da934f677290137f671bf1a9d14f9e6
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-03 21:10:29 -0500

    Remove the remote_accepted variable since we can just check for the ft channel's state
    
    squashed:
    oups, remote accepted if status is ACCEPTED not different from it

commit f81f3725353fcb47d5c3bfa97786310720be2ecf
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-03 21:10:07 -0500

    Add a file-collection property and FileCollection dbus property to allow multift

commit da7db306af0f359312ecac427baf9f06bf5c0862
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-03 21:06:57 -0500

    Add a gtalk-ft-manager class that will take care of everything gtalk-ft related
    We will have one object per FT, and it will handle the multiple channels associated
    with that one gtalk FT.
    This is a copy of what existed previously in ft-channel.c with a few modifications
    in order to remove the use of the priv variables of ft-channel. Also adds a small API
    to allow communication between gtalk-ft-manager and the ft-channels.

commit 94c0fb2a35d37392557b337f02cd5f2d41c8cc43
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-03 21:04:15 -0500

    Remove all jingle related code for the file transfer
    The jingle related code that does all the jingle-share handling, the
    libnice integration and http server/client processing is now removed
    from the ft-channel in order to add multift. We need to have that code
    somewhere else since we need one libnice/http instance for multiple
    ft channels.

commit f97d8437128f4322d5168c1300e6cb43e388ae28
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-24 19:38:23 -0500

    Set remote_accepted to TRUE when the jingle session becomes active because if it's active when the remote accepted it, then we'll never go to OPEN when we call ProvideFile

commit 8a8df19de8a0b0c5cc0012cde4867d84bb844552
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-24 15:23:37 -0500

    If the jingle session gets closed, we should set REMOTE_STOPPED not REMOTE_ERROR, so we need to ignore the JS_STATE_ENDED state notify and let the terminated signal take care of it instead. Also do not close the channel, let the user close it

commit 00cbfcfe0e9b60c7aa91a2e640bcd05a89a6c28e
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-23 15:07:52 -0500

    jingle mode takes care of blocking/unblocking the transport reception already, so only unblock when the there's a transport and we're in bytestream mode

commit 02874842e5871d143d4a79a5b7a41346a97a5b6f
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-19 20:57:34 -0500

    Adapt fix 26658 for gtalk-ft, always set the transport handler but block reception if the bytestream is not yet open

commit 4ca98e2fc2f46e2585b923e313fd4b5d0e3cb147
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-18 23:59:22 -0500

    Add robustness, do not try to fetch jingle channels if we're not in jingle mode.. we could get an assertion because someone could call ProvideFile (in bytestream mode) and connect to the local socket right away, when our channel's bytestream attribute isn't set yet

commit 38de2f5aacd05b57eba1909e245177f6a08b74e7
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-10 19:19:59 -0500

    FT manager needs to add the FT channel class to ContactCapabilities if a client only has the share-v1 in their caps

commit cde5cad41b2ad9a8037b0d59415194759b82b62d
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-08 17:27:21 -0500

    some more code cleaning

commit d82eae624243f27cf4e8b7483c9b7673484ea495
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-08 17:27:09 -0500

    use memchr to find \n in a the http code, should make it faster

commit d73c10f88f3c02dca1b177a5c4d7eb5acf75e303
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-08 17:26:45 -0500

    clean a bit that ternery operation

commit de9f950f77d921ad66641fda3b8e7ad5c3e693c3
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-05 21:38:54 -0500

    Correctly add support for receiving empty files

commit 4df4da4c9d1f701e1557f3c7aa8bddeba93c9323
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-05 21:33:10 -0500

    Add support for stun and relay candidates in the nice agent candidate discovery

commit fba7d70e4c2d289721d19562d4d03ad2c16f96c9
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-05 21:32:38 -0500

    Add support for receiving one file only.. transfer the first file in the manifest and ignore the rest, so we don't get bugs in a multifile FT

commit d51974fbcfa73b4cb903987fb95370f0f91f438d
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-05 18:59:31 -0500

    remove a possible memory leak in get_unique_sid_for

commit 63f6c6d74c470d52767f05071dd93f9df0478f46
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-05 18:59:15 -0500

    remove those too many debug messages...

commit 1335b481bfbc32a8db57255f075942528336c04a
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-05 18:58:55 -0500

    remove FIXME, as it turns out we do need to ref it...

commit 0da0dd6d2c71d3b23722d3b1fff8e808d8d55b13
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-05 18:58:39 -0500

    set ourselves as attached before actually attaching, in case the attach calls our callback which does a write which calls buffer_empty again

commit 2d5d98c2103c4fa6dbfd058ba1eb9c734291ddcc
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-05 18:57:44 -0500

    Fix the Host in the http GET to match the peer's JID, not our own

commit 017ea0d749b06be305b5dfc4303858aea2ed495a
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-05 18:57:13 -0500

    coding style fix

commit cb1979f2c246791045a09d500acc213179f95642
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-05 14:15:02 -0500

    Fix/remove/add debug messages to make it less verbose

commit 6f319f3156061f992f836dc4ecaa66dbdcaae0ec
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-05 14:10:31 -0500

    Use gabble_signal_connect_weak instead of g_signal_connect for waiting on a new connection on the gibber listener

commit 7ae54cb90a5312c001375e81c36b11b140aed5d3
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-05 14:10:06 -0500

    avoid a warning with jingle share since media-type is usually set to NONE initially

commit 6035aabc59dee2c0f718e933c93f9fc04da32d75
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-05 14:09:37 -0500

    Make sure the new channel that gets created is valid by checking the return value and try a different channel name in case of conflict

commit e2150e886345b16a2466a56646f484a5a5698394
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-05 14:09:01 -0500

    Reset the size of the file as we receive more data than expected to make sure the check for completion works correctly for receiving folders

commit 5552869b60b4110b3fc3dd4e8ff85fbad91ec8a6
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-05 14:08:23 -0500

    free the read buffer when done and keep the pointer to the locally allocated temp buffer, since the pointer of buffer can be changed during the call to received_http_data

commit 219ceac750650bb3a937d40d354888d03f40687a
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-05 14:06:57 -0500

    Change order of calls to make sure we don't crash.. if we call close_session_and_transport, we might get unreffed, so we shouldn't call anything after it...

commit 80c05db7acd108a8ec73ac86ea0e0ad0169222c9
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-05 14:05:50 -0500

    Only attach the recv callback on the nice agent when it wasn't already attached

commit 99084792fa1a014253103c73caf6e04a3307d063
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-03 20:19:07 -0500

    Add correct support for sending and receiving file transfers with a refactoring of the http state machine

commit 529e2a7240409aee69f10770f461bb87cfc23ca8
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-03 20:14:22 -0500

    Add a way to send a complete info action

commit 9e30b799cd8fc75a3fadf249bb340a8a3d7000c6
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-01 19:16:38 -0500

    only check on transfered bytes to know if we are completed or not because the completed state is only enabled when the other side sends us the complete info action for jingle

commit 1c23818bed3035f3a5f01481195d81ee971b8e78
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-01 19:15:55 -0500

    Implement sending of files with the pseudo HTTP implementation

commit 48f061440295474d7e0681e1382e9ebafb65f53c
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-01 19:15:07 -0500

    Add a JingleChannel struct and replace nice_agents by jingle_channels in order to have one http server/client implementation per NiceAgent

commit 5a8ecfb05ae22c5c6e27c5777be6c6acb13dc1ee
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-01 16:11:46 -0500

    Add a 'completed' signal to the content and handle the complete info action

commit 99dbc7c51b0d2162ffb5aa43de3a46ef94d55591
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-01 16:11:04 -0500

    do not duplicate code, use close_session_and_transport in the dispose and make sure we don't double unref

commit 91c42ce77c3afd3854689fd219b258d293e6b859
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-01 16:03:36 -0500

    check if the manifest is allocated before looping it when trying to free it

commit cc0dcd8fde337903e1485797404445f84c43cb64
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-01-27 22:29:20 -0500

    Make the preview and source urls part of the manifest from jingle-share

commit 2714ec35ba4a84226d7296055e7a6d6b36fadd51
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-01-27 22:28:53 -0500

    correctly set the transport state depending on the nice agent's state

commit 8bd521bafcbde1269bcd323e5e1829e6e9b79be2
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-01-26 21:16:55 -0500

    Correctly open/close the channel and free used memory

commit a7465b9fc2058f876eec50feaeea165087948f50
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-01-26 21:16:26 -0500

    Add libnice integration into ft-channel

commit 6f017494d80818b0d6deeaf030285dc7d6585bf7
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-01-26 19:04:09 -0500

    The content is ready without local candidates for file sharing because channels are not implicitly created in file transfers

commit 5e4340c172cc19da6f431747a88685fd3b2d4aea
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-01-26 19:03:02 -0500

    Make jingle content send a signal with the channel id as an int, and add a create_channel API

commit 8e53d56bb1454a19c047d4679b5ae70f6de4a258
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-01-26 19:01:32 -0500

    make jingle_transport_google_set_component_name return TRUE/FALSE depending on whether the set was successful or not (duplicate name)

commit f39b7cdda9b435a157c75a196edeea0a87628860
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-01-25 18:56:31 -0500

    add some debuging messages

commit 76b6af24e2599185453aef541a6e44a150158589
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-01-22 17:00:21 -0500

    do not create a new manifest if we have no filename

commit 31382fb7b0f0d1dbd052374b1640a2c2e4de2ab0
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-01-22 16:59:25 -0500

    Allow access to the manifest of the jingle-share content

commit b494b919467038cb24e92f733edf4db69b7e5bd9
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-01-22 16:58:58 -0500

    Fix coding style

commit 19f82b0504ab0c002c753b265b0f3eb72ba24fdf
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-01-22 16:58:31 -0500

    content now sets a unique component per channel, and sends a signal to notify of the new channels

commit ddb67a39123e0e52c0804d5ab1865e611a5686a6
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-01-21 23:51:16 -0500

    properly report the direction as 'initiator' for the file transfers

commit 0b97a86fc1258449f479ebb1b64a7f46088a69cd
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-01-21 23:50:45 -0500

    there is no transport in the accept, so we don't want it to go into gtalkv3 dialect

commit 61c12fab043b22249876f8d92a7b7212d144852d
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-01-21 23:49:40 -0500

    correctly report and send the filename and filesize in ft-channel

commit 9aec33a77829a9463ebab9f797350ae965afdc44
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-01-21 23:48:13 -0500

    Make the filename/filesize for jingle-share into properties and correctly implement both parse and produce description

commit c7b433a28b2b856bb64d5d975adf2bc959a03978
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-01-21 23:46:30 -0500

    Add support for the 'info' jingle action, and make it check for new jingle channels and the content notifies the transport so it can set a component for it (need to review this because the component is hardcoded to 1 for now)

commit b9470d7e89d1aa08d83fde024ced9e2d83e96cca
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-01-21 19:44:42 -0500

    Using a GList of GList instead of an array for holding the list of candidates per component

commit 4fe9c50f74c712d2f4b6d868b024b0881314a9f8
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-01-21 19:27:20 -0500

    Fix gnu style indentation

commit 723797e88c3a136bcbea4b107ba450654d572de5
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-01-21 02:46:56 -0500

    Add a way to notify the content that the transport has been created and use that to specify the name of the components by the media-rtp content

commit 96aed91b325644318cd586ae3aa79079078f1f2e
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-01-21 02:45:53 -0500

    Add a way to specify the name of the compoennt for the jingle candidates in the case of jingle google transport

commit 9d065a30d7fb0a5af7638808219b5ee580972bde
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-01-21 01:35:27 -0500

    Remove checking for dialect in google transport

commit d418e89af77c7f0b527216cda2667dcaa1ed5575
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-01-21 00:55:20 -0500

    Add jingle mode support to the FT channel and FT manager

commit 9f7f9039ac52d2c72a722f6bc662dc11621be24f
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-01-05 22:22:10 -0500

    Adding a test jingle-share content type

commit e664dcd307344b11b0db527537800d1d977a018c
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-01-04 16:23:56 -0500

    Add share-v1 google bundle capability when the client supports file transfers

commit 1be94c5db0631b8c52ea76fe56129f55e1d52465
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-30 19:45:45 -0400

    Update wocky to master

commit cc05275b74eaf4103716798d127584f0092c8e6a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-03-26 19:23:45 +0000

    Bump nano-version to 0.9.9.1

commit dcd2d3339c9d7488a18f48393d4bb2df134ac51c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-03-26 19:06:57 +0000

    Update news and version

commit 06e4c10fd76c90ad41fadce1d0ef04b285578f1f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-03-26 18:47:49 +0000

    Fix refcounting of the JingleSession
    
    When asking the jingle factory to create a session it gives you back a object
    you don't have a ref to, so first of all make sure we have a ref. And second,
    do actually unref it when disposing the channel :)

commit b2bf6f2941cb2bbd0438bdc68f135719b3accfb6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-03-26 18:07:57 +0000

    Remove useless call to sqlite3_column_bytes()

commit 0e53528643b31689ff88bc9aea10d55b24a83c60
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-03-26 18:04:59 +0000

    Make persistent cache GC test more robust.
    
    This was failing if I ran caps tests in a particular order that meant
    that GC was performed at the wrong time, making Macbeth stay in the
    cache.

commit 791588a1465255666ff4290cae24d39053cb6813
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-03-26 17:17:27 +0000

    Disable on-disk journalling and syncing for caps cache

commit 7ee058820670fc379c0ae89d97f7cb71e5e59407
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-03-08 10:41:43 +0000

    Expose “MUC full” as Busy on the Group interface
    
    There's no group change reason that corresponds exactly to the room
    being full, but Busy seems like a reasonable approximation. It's
    certainly better than None.
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit b400522dc53c2b6ecd60f7931e08d7410bfa4b35
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-03-17 22:26:10 +0000

    Test presence without caps doesn't remove caps
    
    I was suspicious of this, but it does work. It wasn't tested, though, so
    I thought it worth adding a test, and also a comment explaining *why* it
    works!
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit f9f54d473d58ac41c9a3fe4f95fcd22dae5f3ab4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-03-25 18:38:19 +0000

    Update Wocky submodule for Pubsub/DataForm enhancements
    
    The big diff in wockyinclude_HEADERS is because I reformatted that block
    in Wocky.

commit 94a5ae457d2d344f7dc629e31a2db310066d293c
Merge: ea68387 fe3052d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-25 19:30:32 +0000

    Merge branch '09-portability'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk> (with minor changes)

commit ea68387956aa019ab5eb467079fa2ade0e599c6a
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-03-25 15:27:37 -0400

    Clean unread mails count when last subscriber calls Unsubscribe()
    
    This will fix mail-notification.py that fails since patch:
    e817d77310d94c5e1aec42a848eacededd82f01c.

commit fe3052d969bed92711e101be40a454235c902b07
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-25 17:58:59 +0000

    Tweak comments as per wjt's review

commit 87c86bf19e8a95b90812c1368bcc9103c48c3346
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-01-05 13:53:55 -0500

    fix typo bytestrean/bytestream

commit 9c299650beb99650c056c006a5650385c6ae0bdf
Merge: 2304f34 2669ffe
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-03-22 17:00:11 +0000

    Merge branch 'update-wocky-headers'

commit 2304f3487445a909902103f58e870ca79df07bd5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-03-19 20:03:00 +0000

    Remove redundant NULL checks before g_set_error()

commit 2669ffe2aff452635539961b01527f50e4ad05c1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-03-18 16:37:16 +0000

    Update installed Wocky headers

commit 5e4381d13db560cd5ad50d364ab92af3ea7b0da1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-03-08 23:12:24 +0000

    Script updating the Wocky header list

commit b01c1ce6681cbeabbf7eab88ade442ee78ef97de
Merge: 1af8f89 74e7c0e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-18 15:36:19 +0000

    Merge branch 'contact-info' into master
    
    Reviewed-by: Andre Moreira Magalhaes
    Test-failure: vcard/overlapping-sets.py fails, but only during
            distcheck; needs resolving before merge
    Conflicts:
    	NEWS (trivial)
    	configure.ac (trivial)
    	src/connection.h (master and contact-info both added members to priv)

commit e817d77310d94c5e1aec42a848eacededd82f01c
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-03-17 15:28:43 -0400

    Fix unread mail count maxed to 30
    
    Now using the total-match mailbox XML node attribute to display the number
    of unread count. Previous, the size of the unread_mails list was used but
    this list is limited to 30 elements by the server.
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 1af8f89cc4833a0c553f693a2dd691ffccc7f694
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-03-16 21:13:23 +0000

    Bump nano-version to 0.9.8.1

commit bcd6d11a5bb6810549d0903512638e336d68e339
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-03-16 20:13:14 +0000

    Version 0.9.8

commit a86dcaf8024cac347885b8c144adc46d854b274a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-03-16 20:02:36 +0000

    NEWS for 0.9.8

commit 429b09aedb1c2eefdb0b17c3b63db0bbb638bbbf
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-03-16 17:26:05 +0000

    Update Wocky snapshot: crash fix, PubSub
    
    This version of Wocky fixes a crash on disconnect in WockyPepService,
    triggered by olpc/olpc-buddy-search.py. It also includes a bunch of new
    API on WockyPubsubService and friends.

commit db45d844d7229280a82acb998a76fe482f03c45f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-03-09 11:42:14 +0000

    Update Wocky snapshot to fix an error-stanza crash

commit 8fd51791a2631c8564e6180d2da61581a308a573
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-03 19:57:32 +0000

    Correct typos detected by Lintian (separate, received)
    
    Reviewed-by: Youness Alaoui <youness.alaoui@collabora.co.uk>

commit cc96074d878559625f524f03aa4cab9afbf5baff
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-03-03 15:07:09 -0500

    replace the use of __dbus_object_path__ by the object_path property

commit f04db7cb85f866bd0d9d6a8f65fb1131811beb59
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-26 15:26:50 -0500

    fix unit test by waiting for NewChannels signals
    This unit test stopped working after the fake server started echoing our presence. This actually caused a race condition that made the order of events to become inconsistent. The 'stream-authenticated' event is being sent locally by the fake server while the other events we are expecting are dbus-signals. Since the fake server now provides us with a roster, and echoes our presence there are a few more dbus signals that get sent (NewChannels and PresenceUpdated) which makes the StatusChanged dbus signal to arrive a bit 'late'.
    By waiting for those bottleneck-ing signals before connecting the second account, it makes the race condition disappear

commit 1da1b79e65c29edc51a256742883dd0f6be2a2b6
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-26 15:26:42 -0500

    Echo one's presence to be more like a real xmpp server

commit 2c450178b96eb3bfb3275fe0501d40491b4ea34d
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-26 15:24:43 -0500

    Add a comment to explain why we don't add observers when num_instances == 1

commit 5199acd9d65eb435bc467cbbc88d5120bbeb0b86
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-26 15:24:18 -0500

    Add the dbus signal handler in test-nonblocking-tls since it doesn't call exec_test

commit 4dff58aec5fbec867a24cadfe0b754a97e0922ad
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-26 15:19:20 -0500

    Move the bus.add_signal_receiver from make_connection to exec_test
    The reason is because when we create multiple instance, we get multiple signal receivers, so all the dbus signals get duplicated (or more, depending on how many instances get created).
    Now we only add one listener, so if we enable CHECK_TWISTED_VERBOSE, the output won't have too much spam..

commit f8eadee9604933ec6f6c4b273d8b5470015afa9b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-03 19:54:02 +0000

    Nano version

commit 8e842cef528ad7bbedd7d56fb519da9e010ae452
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-03 19:25:00 +0000

    Distribute Mail_Notification, fixing distcheck

commit 5a1e8e9cfdb521df34182af13163c224cc4b374d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-03 18:38:42 +0000

    Prepare version 0.9.7

commit a12645aeef60778983233b2a7721e1e9a2f61991
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-03-03 14:39:36 +0100

    location: remove the 'error' key
    
    It has been deprecated.

commit 9b16d9a15dd957600845b7f4a7c413901c8847a0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-03-03 14:36:24 +0100

    location: countrycode has been added to XEP-0080

commit 971b47e73da673632ea8719021fbaedb550fb2ec
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2010-03-03 14:33:40 +0100

    location: implement the 'accuracy' key
    
    We forgot it for some reason.

commit 74e7c0e13f454a2a8fb35f4bbee10d6da98c3af0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 20:16:25 +0000

    Improve ContactInfo test coverage

commit 5a31da7e215533bc83317c18a78ab2fa2fb44d67
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 20:15:58 +0000

    gabble_connection_set_contact_info: reject vCard fields not supported by the server
    
    So far, this is only significant for Google servers.

commit 78a121b90fbb794aaa0bdfec0c2a6dec7bdc806d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 18:48:31 +0000

    _create_contact_field_extended: remove unnecessary copy/free cycle

commit 14a0314dd7cbbde530ede88a55d5d6531a7c6369
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 18:44:41 +0000

    _create_contact_field_extended: coding style

commit 867969e44ae3efdaa413e1ab505208c40680fe2f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 18:41:46 +0000

    _insert_contact_field: remove unnecessary box/unbox operations

commit 263291be18cb0c62de5a66c23b3a67d70adc1a68
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 18:32:55 +0000

    GabbleVCardManager: use a doubly-linked list for edits
    
    We both append and prepend to this list, so it's considerably more
    efficient to use a doubly-linked list.

commit 8fffd27b95ac4f917e0e4c7b20dab6713e3ba623
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 18:26:36 +0000

    Remove now-unused variable empty_strv

commit eec64db0a2410e0937ab7869d74aa7f24363a141
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 18:25:29 +0000

    Flatten conn_contact_info_edit_add_type_params into conn_contact_info_new_edit

commit 6d94760b0e8634199a1af99a660a5a42a9f8afd6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 18:22:26 +0000

    gabble_connection_set_contact_info: factor out appending edit_info to list

commit c0f8fcb6f314424c63a5ab9a70a93584be384e22
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 18:16:04 +0000

    gabble_connection_set_contact_info: inline _insert_edit_info, which no longer saves a significant amount of code

commit 34e804a5b8a8195bd5306a9f26d554087c003ab7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 18:08:47 +0000

    gabble_connection_set_contact_info: avoid unnecessary dup/free of struct contents

commit 2353eab8b18d496046bdf905df29d13ea6f73f7e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 18:05:21 +0000

    conn_contact_info_edit_add_type_params: give a better debug message for entirely unexpected type-parameters

commit 5bb87c946934ba76c1d092e968d504e88c0d6c4c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 18:04:06 +0000

    gabble_connection_set_contact_info: don't leak field name/params/values on error

commit b7ad66c98b9a745dae83b2c0a937985324bff7fa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 17:57:05 +0000

    Test some unrecognised vCard type-parameters

commit b10328aed91b3eff7065a2232f76fa4fbdd0bb1e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 17:56:41 +0000

    gabble_connection_set_contact_info: fail on unrecognised type-parameters
    
    This requires removing 'language=ja' from the test, since that will now
    fail (XMPP vCards don't understand the LANGUAGE type-parameter).

commit 518d7fcf9a47ba3d78620953157799f93d9f777d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 17:37:39 +0000

    vcard/set-contact-info: check various invalid inputs

commit 4732714775b2e3d2cf02852a97aec466a178466d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 17:28:07 +0000

    gabble_connection_set_contact_info: raise InvalidArgument for ("org", anything, [])

commit 7c6fb7919db5b1ed19c4238ddff7a53c9af04dcd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 17:26:43 +0000

    gabble_connection_set_contact_info: raise InvalidArgument on multi-valued fields that ought to have one value

commit 5304886f016819c88402076bdf620aaf552b6c83
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 17:26:20 +0000

    gabble_connection_set_contact_info: raise InvalidArgument on unknown vCard fields

commit 398865a57dc7ad77d81c77166e53ff3f1f43e1be
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 17:18:01 +0000

    Add a regression test for ContactInfo.SupportedFields

commit d7e1a73650388a43478e401ebe72fdb37854a3ac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 16:35:49 +0000

    conn_contact_info_build_supported_fields: set Parameters_Mandatory on every field with no type-params

commit 40aee275c4203ba7b8c8145e429d14d9f8f186a4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 16:30:36 +0000

    ContactInfo.SupportedFields: advertise the correct list of type-params

commit 0dcb7a07ac6e07c8851c8f51f2027049b0af702a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 16:29:16 +0000

    Change VCardField->types to be a list of "type=xxx"
    
    Also change conn_contact_info_edit_add_type_params to check
    type-parameters against the whitelist, rather than assuming that (say)
    type=stoat produces a <STOAT/> element.

commit 257fd26332c9a61339f4a90ac92f286040798106
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 15:37:18 +0000

    Name the ContactInfo tests without a test- prefix, which annoys tab-completion users

commit 1410c37eb74e9849a466200520fff54e3e41fdf1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 15:33:30 +0000

    Set a more limited ContactInfo.SupportedFields for Google connections

commit abc3cf0671efbdf726d027172be83c6b2cb28703
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 15:30:49 +0000

    gabble_vcard_manager_has_limited_vcard_fields: add

commit 1c905e6c7c0c5fd9011198c2833d0b200be90165
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-03-01 15:30:32 +0000

    ContactInfo: have a connection-specific value for SupportedFields
    
    If the connection-specific value is NULL (which it always is at the
    moment), fall back to the global static value.

commit 11acbaf458dec6efa51d5a5404a7f048ba6731b6
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-26 16:03:41 -0500

    telepathy-gabble now depends on telepathy-glib-0.9.2
    
    Gabble now uses tp_value_array_build() which was introduced in
    version 0.9.2 of telepathy-glib
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit f570b6d73b086f165fcfeef00e8d1a230418d249
Merge: 8d43e64 23290ae
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-25 18:38:49 -0500

    Merge branch 'unit-tests'

commit 23290aeaa7163e4fc6efc4e43a387c000ddbc55c
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-25 18:25:14 -0500

    fix style, clearer code

commit d30dd6966976c16856a66420a16a6d0f666f7200
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 21:47:30 +0000

    GabbleVCardManager: improve whitespace

commit 596dcbf64fc17c6f6c9a2111f20fd2504b450e1e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 21:40:36 +0000

    conn-contact-info: avoid using assignments within expressions

commit 4c4209b0bf70485dd1cde97ada9aa654eed7cda0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 21:40:20 +0000

    conn-contact-info: improve coding style for comparisons

commit ba1d472d2726df7e0427a669ae10be14c415e78d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 21:40:02 +0000

    conn-contact-info: remove unnecessary casts

commit 83cbf0c6d23cc75f3c7d597041a76bd751388649
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 21:39:15 +0000

    conn-contact-info: improve indentation/spacing

commit 43fc0ac57944fe79be4e21140f949188c7457c91
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 21:38:00 +0000

    conn-contact-info: document more

commit aeb02dc809d0654bfcfedc863c8039ae277b19f5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 21:37:41 +0000

    gabble_connection_set_avatar: fix indentation and misleading debug message

commit 33dd83e60a270bda5e74eaeca1288f3d2a9d17ca
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 21:21:26 +0000

    vcard/test-set-contact-info.py: enhance to cover ContactInfoChanged

commit 8d43e64804d43aafe3ab6db69ecdd47395638955
Merge: 8d48b82 a88baea
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-25 16:17:46 -0500

    Merge branch 'email-notification'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit a88baea0dd8f3144678175cb871c84576a511c77
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-25 16:07:19 -0500

    Made TpDBusDaemon globally accessible by all Connection extension
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit bf501979663ecef56926c4f2f32e2ad79004a0a6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 21:04:02 +0000

    observe_vcard: emit VCARD_UPDATE before checking to see if the nickname changed
    
    Otherwise, we'd omit the VCARD_UPDATE when the alias hadn't changed...

commit 6fc6b04eae525a850a56628a71f834f68f31525a
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-25 16:00:03 -0500

    Use a jid suffix instead of idx and check for i == 0 in only one place

commit e64c9b8c021cb98a89c4e09537ba021d7f711459
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-25 15:59:13 -0500

    Create a StreamFactory to replace the PresenceDispatcher
    As requested by the review, this makes the code better/cleaner, no more need for presences global variable or to 'reset' it.

commit 8917c1bf051e98ba31ac9ddc0d4e0e4f0f754299
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-25 15:53:21 -0500

    conn-mail-notif.c: Use tp_value_array_build to simplify the code
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit a77a14a07d31adc4307ea4e45de789d5c1170e58
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-25 15:48:33 -0500

    Renamed structure MailsHelperData into MailThreadCollector
    
    Also removed useless member unread_mails witch can already be accessed
    inside conn member.
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 35909d9d4fbef4ac60752481efd6722eb6819326
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-25 15:32:24 -0500

    Fixed copyright year to include 2010
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 30c5e0090ef173229e35fc945a9f990cc55b62af
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-25 14:31:56 -0500

    Test MailNotification.MailAddress property
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit c7f2abcb7512560d6e5f1830c8caad28c90ecc14
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-25 14:31:24 -0500

    Use SelfHandle instead of username@stream_server MailAddress
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit b59501b04c49753ef29829b8a42d4d53ea625db7
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-25 14:19:03 -0500

    Test the value returned by MailNotification.RequestMailUrl
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 96f95e65e15ac4982846a6ef584588fbb3a4e005
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-24 19:15:44 -0500

    User subscriber instead of sender for var name in conn-mail-notif.c
    
    sender was confusing variable name since it is used has one of the mail
    attributes in mail hash table.
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 8cb822743f7cdf225750591f476908e0b1277cac
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-24 19:06:50 -0500

    Don't use GNU extension operator ?: in conn-mail-notif.c
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit c57c0ba99d025b9bcca2ff7815650373f4722135
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-24 18:46:55 -0500

    Use g_error if we cannot allocate TpDBusDaemon
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 7cb1dfee34c2d4d291e25716bcf6d46a8a2104d9
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-24 18:21:59 -0500

    Explain why we convert Mail id from decimal to hexadecimal
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 567e11173b056021474920fe06d54ff3391a5687
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-24 18:02:03 -0500

    Just use g_assert_not_reached() in conn-mail-notif.c property getter
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit eb7322589438fec6cc8faa375e3c347266075a2b
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-24 17:55:34 -0500

    Use return value instead of in/out param in conn-mail-notif.c
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 90f889a2a7091df1cc22e8653957e255cf69021f
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-24 17:47:44 -0500

    Use g_hash_table_steal () in conn-mail-notif.c
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 8486e8b712facf6188386b39e401c07da587a15c
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-24 17:39:42 -0500

    Removed unneeded debug output in conn-mail-notif.c
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 7d2eaf1f9007b95b53c753804bf5d2b769288ea1
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-24 17:11:06 -0500

    Remove static empty_array in conn-mail-notif.c
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 8efbc0cc9970a6bf471398ae6013d3ea3080aea7
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-24 16:58:44 -0500

    Removed intl/fr from link to Google Mail extension doc
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit ecd6ad3a3549249f0b7fa32a6920d54f2b599748
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-24 16:57:15 -0500

    Add blank lines around each if/while in conn-mail-notif.c
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 6c5206aaf5eec550b20377e7da69295184a16d56
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-24 16:48:07 -0500

    conn-mail-notif.c: Add curly braces to "else", following coding style
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit f559057c3595d889c718c5b5d865586736fd6e41
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-24 16:40:54 -0500

    Add explicit comparison in conn-mail-notif.c
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 8f2149dd2dd1d09b8154467a8573fdd8d97b824d
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-24 16:18:48 -0500

    Fixed missing space before parenthesis in conn-mail-notif.c
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 73b70d450fc7decad161266c2a57c47cad8f355b
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-24 15:31:37 -0500

    Fix conn-mail-notif.c headers ordering
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 17689c956b8a75f260ec1265608c3a1e6b88befc
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-24 15:06:37 -0500

    Replaced glib.h with glib-object.h in conn-mail-notif.h
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 2c0244173331ac271f7ae33e89f7b9f27dad0d85
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-24 12:08:48 -0500

    Renamed "mail-notif" debug section into "mail"
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit eae4bcd2d0bf6fc56385f4bb95f2a1d37f73f408
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-24 12:04:17 -0500

    Renamed test-mail-notification.py into mail-notification.py
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 38dac29b3cc4b930f48d178ec526c667e8be29cc
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-24 11:57:16 -0500

    Fixed mail-notification test for new spec
    
    Property Capabilities was renamed MailNotificationFlags and Mail_Type
    was removed and set has a MailNotificationFlag. Also removed useless
    comment.
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 057d73203e2d7c6fbdb3448808c9cc23f22d0e4e
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-24 11:43:09 -0500

    Use cs.NOT_IMPLEMENTED instead of custom string
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit d36ade54d4f387b9de0143eb084c0c877eb330c7
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-24 11:33:44 -0500

    Fixed various typos in mail-notifiaction test
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit d8ba1e12516fa0650d61d3f06dae8a481254ae0f
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-24 11:20:11 -0500

    Fix python coding style in mail-notifiation test
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit a6559438a3128e4a2c5d69880bca13bada15e481
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-24 10:50:57 -0500

    Removed trailing white space introduce by mail notification
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 4e675724217ece947e168bd9120f51100f3f67b6
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-25 15:24:25 -0500

    Update MailNotification Spec 0.19.1
    
    The TP-Spec has been updated and uploaded upstream. The 'type' key of a
    Mail along with Mail_Type enumeration was replaced by a global
    MailNotificationFlag. Also, _request_mail_url() now receive a GValue
    instead of a string for url_data.
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 11831830a72fc6764ded29d6bba8f2106526c284
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 20:24:21 +0000

    After a SetContactInfo, fix a missing nickname if necessary
    
    Otherwise, SetContactInfo would (in practice) result in discarding the
    nickname.
    
    In the process, introduce a new SET_ALIAS edit type, and use that for
    Aliasing instead of ...edit_alias.
    
    This alters the behaviour of test-set-contact-info.py (to be more useful).

commit 88a1f373b8cf5e4c24eaf7b9c8a45f1d9c340a9d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 19:01:56 +0000

    gabble_vcard_manager_edit: remove the replace_vcard parameter
    
    The one caller interested in clearing the vCard (ContactInfo) can
    explicitly push a CLEAR operation onto @edits, instead.

commit d44a59b4ee0ef829e492b14c7327d8cc11765b40
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 18:39:27 +0000

    conn-contact-info.c: express in terms of Wocky
    
    There's no point in using the pseudo-Loudmouth layer in new code.

commit 1f6e1b8a3faa2d23a10f3ec631ce439a2eff7234
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 18:34:18 +0000

    lm_message_node_unlink: remove
    
    This function is no longer used by the vCard manager, which is just as
    well, since it manipulated internal data fields in the message nodes.

commit b0a8cc06c4e81ab39c9aa720c698dd69c4473b67
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 18:30:23 +0000

    Update copyright years for ContactInfo

commit 4fe5fa27a0186c9edab2ffc8ec38c21ce2416f37
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 18:26:09 +0000

    SetAliases: When connected to GTalk, set the FN instead of the NICKNAME
    
    Google's servers won't let us change fields other than N, FN and PHOTO,
    so this is the best we can do.
    
    This requires the test in vcard/redundant-set.py to be made more
    realistic.

commit 8aad28fecf3717ec06941a5d4ea7a4deb4e0cc75
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 18:07:25 +0000

    Factor out GTalk-vCard-field-forbidding into a function

commit 8d48b82762275383debd8197e63f3c78e05c2f06
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 17:26:40 +0000

    Update wocky to ef42dd2 for better gtk-doc

commit 1390380faf7b2de1f077a0f72a9e4552acbdbc89
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 16:11:52 +0000

    Reinstate a pre-check for insignificant edits, but explicitly design it to cover only the edits we know we'll do frequently

commit 0292b548319bf20eb250f84214d47bf76398eab6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 15:16:20 +0000

    gabble_vcard_manager_edit_info_apply: work out whether the edit was non-trivial as a side-effect

commit 2b17d8f34a0c2c6da1c069d86ebf3e896d033356
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 15:14:30 +0000

    vcard/overlapping-sets.py: check that SetAvatar([], '') deletes the <PHOTO/> entirely

commit b503fb973ea947a76bdbeb8a7977343c909f5914
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 15:13:57 +0000

    gabble_connection_set_avatar: delete the <PHOTO/> entirely if the byte-array is empty
    
    Previously this method checked for a NULL GArray, but I don't think
    dbus-glib will ever actually provide such a thing.

commit 0ca2b8d467e0c2573c67ccef2a9c8c82da612f46
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 15:07:46 +0000

    gabble_vcard_manager_edit_info_apply: don't create an empty <FOO/> if asked to delete all <FOO> elements
    
    In practice, this would only happen when unsetting the <PHOTO/>.

commit 59158d6deff69e68f2ec515a2765b7f4d38d7053
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 14:43:48 +0000

    vcard/test-set-contact-info.py: exercise ORGs with 0 and 2 ORGUNITs

commit 83db45e8cf3e67ba2c5ceea6abe02d3d44058d8b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 14:43:25 +0000

    Special-case the serialization of <ORG> into a vCard
    
    This means we can deal with ORGs with a number of ORGUNITs that differs
    from 1.

commit 40dbeb2a20ab107c1d0b03d1ef81c5d253c900dc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 14:35:18 +0000

    vcard/test-contact-info.py: assert that <ORG> can be unserialized

commit 594f20ca45c8aa05782bdd20877c2003b872c80c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 14:34:59 +0000

    Special-case unserialization of <ORG> in vCards
    
    ORG has the (so far) unique semantics of having one ORGNAME, then zero or
    more ORGUNITs.

commit 4f04c9ce12fc47ba71fcf4081e134a9d916a4a7c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 14:18:00 +0000

    Test that vCard LABELs are serialized correctly

commit a84803493e049c9cbccc30c49eee134c88a19a18
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 14:17:48 +0000

    Add a special case for LABEL in vCards, so it gets serialized correctly

commit c5bf6297bd09cb1ca3eaea05a478d3b3c369bf0a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 14:14:50 +0000

    Replace patch_vcard_node_foreach by just appending children to the node
    
    Now that we're always constructing a new replacement node, nothing is
    gained by trying to preserve existing children, and doing so would
    prevent us from having a repeated child node, which is needed for
    LABEL/LINE and ORG/ORGUNIT.

commit 54c9622763c3893686dfac933488cfbf82140e82
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 14:12:32 +0000

    gabble_vcard_manager_edit_info_apply: implement REPLACE and DELETE in terms of excluding nodes from copying
    
    This avoids having to unlink child nodes using non-public API.

commit 92cec2dba8dbe407aa41a4f1ebc1c60dc189d2b8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 14:04:17 +0000

    vcard/test-set-contact-info.py: expect SetContactInfo([]) to clear the vCard

commit a1dfcc5ecb208f41bc95618c6670235e78f04fb2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 13:56:39 +0000

    GabbleVCardManager: turn clearing the vCard into just another edit operation

commit 46603239119d78fcb5c704414175839b09bb2f71
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 13:49:56 +0000

    Change gabble_vcard_manager_edit_info_apply so it always copies the message, then edits the copy
    
    Eventually, this can change to not doing unsupported in-place edits on
    messages at all.

commit 764d459eea8dd9aba3c84e384ae293aacf9c4405
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 13:30:26 +0000

    patch_vcard_foreach: change signature, rename to gabble_vcard_manager_edit_info_apply

commit 0661a1589d019b707dbdf5f486890abc5e395d5b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 12:56:38 +0000

    gabble_connection_set_contact_info: don't optimize out an empty set of edits
    
    SetContactInfo([]) should clear the vCard (apart from the fields that
    are special to the rest of Gabble); optimizing away an empty set of
    edits breaks that.

commit 1283f6545c980fb7b4172ad220e49d5520d52810
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-24 19:05:37 +0000

    conn_contact_info_edit_add_type_params: factor out

commit 01826d249150004190f438d2e99dcb023620a6ed
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-25 12:39:36 +0000

    conn_contact_info_new_edit: factor out

commit 409ed0ac22a244ecc900f683b2e7b107872820f3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-24 18:02:12 +0000

    GabbleVCardManagerEditInfo: convert child elements into a list
    
    This allows them to be repeated (multiple LINEs in a LABEL), and preserves
    order (important for LABELs!)

commit 4e645be80875fd0ee7410f5407231c87f8616ccf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-24 17:57:51 +0000

    GabbleVCardManager: push unit-test-only API down to the bottom of the header

commit b702bc0a243ad7aaaf963ffeb2abd882245f3f0f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-24 17:21:42 +0000

    vcard/test-contact-info.py: parse a vCard with a <LABEL/>

commit a5ac4a6708d9af4c9801405ea8ed41b12f083821
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-24 17:21:20 +0000

    When parsing a vCard <LABEL/>, correctly join the lines with newlines

commit be7b10081703d5eccef7f28b0c6738dfc293854b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-24 16:38:39 +0000

    Make label and org vCard fields into special cases
    
    These don't really have the same semantics after all.

commit c57ac26edfd2bc4f8eb9bdf5fb29aeedc2594907
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-23 16:27:14 +0000

    Document the contents of VCardField

commit f6c12bf1452b99292ea048624678fad8e969025f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-23 16:24:31 +0000

    Tell Telepathy clients that FN, N, GEO can only appear once each

commit b5f6f4cf4fa4fda8a431782c937228da53ef6fcb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-24 16:46:38 +0000

    When calling SetContactInfo, only allow FN once

commit 1c2bde9230aed150f8215972feb8903e49deab90
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2010-02-24 16:04:47 +0000

    Test that per-channel-manager caps are restored from the cache
    
    (cherry-picked from commit 2ce3ea29b, omitting the code changes)

commit b29f3b4b7688a29c821d912b01098f114bc3a95e
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2010-01-20 18:22:32 -0500

    caps cache: create correct directory when falling back to default path
    (cherry picked from commit 099bb4534a52dc871be73a29eab60f2e7d334dda)

commit 043fd44000518625f666d8542e34f95bd1a82f81
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-23 17:01:31 -0500

    Add the proper dispatching of the unavailable presence whenever a client disconnects

commit 52e78fa752ae5576a4ccc771c70fbca43de81483
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-23 21:24:21 +0000

    Nano version

commit e4a8e1f11b4d5c75578fc8d813849659cd4db2a7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-23 20:30:56 +0000

    Prepare release 0.9.6

commit 19fa30c84df6211b328cb4902ca2e841b7378881
Merge: e5d1f92 1fb9673
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-23 19:09:27 +0000

    Merge branch 'plugins'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit fdd7bbdb511a7b5b14fb279b879ace868b5e0675
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-19 00:08:03 -0500

    Need to reset the presence dispatcher's state whenever we start a new test

commit fa16739f8b2f26188d785899e3eba516d8265335
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-17 16:57:45 -0500

    Port test-nonblocking-tls and test-twice to use the new gabbletest API

commit 8eb95f2f29328b96e2d34f8403a512886d0c7aee
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-17 16:56:23 -0500

    remove the port from make_stream arguments as it's not used anymore

commit 502ee9bd53d6b21ef944f913c0b901dae641f652
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-17 15:31:17 -0500

    Make the first instance always use test@ instead of test0@ because it breaks other unit tests that expect the username to be test@

commit caa2194a1f2be846319094ac6ab8c3d327ca66eb
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-17 16:55:44 -0500

    do not add iq and presence observers if we only have one instance

commit 903ed6c6a438611a4be96d93bd0923ebe896b577
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-17 15:16:35 -0500

    Fix the jid being sent to the connection when authenticating.. this caused all connections to think they have the same jid. Also make the resource name nicer

commit 3e6d4a22051f9cf9bc9d5abbe51510ec8a80c0e8
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-16 17:24:35 -0500

    Add a num_instances argument to the test exec_test function to allow multiple connections to be running at the same time, and dispatch presence and messages from one instance to another

commit 1d47a8266c899b23984f1686459d6729ebdc1d06
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-16 17:23:20 -0500

    Add a 'stream' attribute to the stream-iq/stream-presence/stream-message

commit 1fb967336847742c27612092a60b43ea782f92b9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-23 17:41:51 +0000

    Link plugins as shared-only
    
    There's no point in building a static version of these plugins, and we
    don't support platforms without shared library support.
    
    Also explain why I'm using -rpath, and remove unnecessary -lm from the
    test plugin.

commit e5d1f92c8df2467983a2df33bdcd7b5286c9e26a
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-23 12:20:59 -0500

    use gabble_signal_connect_weak for jingle-factory since the channels get destroyed after jingle-factory when the connection is disposed, so when a channel holding a jingle session gets destroyed, it causes the terminated signal to be fired into the destroyed jingle-factory

commit b0c6fccf696cc07001410824872dacf32e74c3d2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-23 16:57:51 +0000

    Separate ENABLE_PLUGINS from ENABLE_PLUGIN_API and turn the former on by default
    
    This means that a "normal" Gabble build will install the gateways plugin
    (and any other plugins we add to the source tree), and have the code to
    load it, but not install the pkg-config/headers for third-party plugins
    to be written (we won't present a stable API until Wocky is stable).

commit 9ab533db873892931c8b8d9b6bea107371bea1c1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-19 18:56:56 +0000

    Don't install the gateways plugin if we're not going to build the loader
    
    Debian's packaged version of telepathy-gabble 0.9.4 contains the plugin,
    but not the code to load it, which is confusing and unhelpful.

commit 61d613f2f4c744f99147df37d778ba76cbac5474
Merge: 073803f 68cc932
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-23 16:37:09 +0000

    Merge branch 'gateway-presence'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 064569cc063296553703cebbd201559776cd5669
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-23 16:19:38 +0000

    Treat vCard <NICKNAME/> as a single string, not as comma-separated strings
    
    Also allow simple fields like (now) <NICKNAME/> to be repeated.
    
    The DTD in the XEP says NICKNAME can be a comma-separated list, but
    this usage seems highly unlikely, and prevents us from representing
    any nicknames that contain commas (since no escaping mechanism is
    specified).
    
    Pidgin, Psi, Gajim and ejabberd don't seem to give <NICKNAME/> any
    special treatment in practice.

commit d713851d20713c308b0f09a6203e4c61eca8141b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-23 13:57:02 +0000

    _insert_edit_info: ignore type-parameters not starting with type=
    
    The terminology is confusing. A vCard field (e.g. ADR) is called a "type"
    in the jargon of RFC 2426; types have type parameters, which are key-value
    pairs. The only key that has a mapping into XMPP is TYPE, which is defined
    for several types including ADR; keys that we don't support include
    LANGUAGE, ENCODING and VALUE.

commit ed86dfe8f1ee5afd3a024800026c0f02cbbe9efe
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-23 13:52:15 +0000

    _insert_edit_info: don't pass in redundant information

commit 19f309fa989cd6339d10c702a4514f5f4908f56d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-23 13:42:40 +0000

    _insert_edit_info: take a VCardField rather than a field name

commit 757099cb9aaf6d5d574cb23ba5d946697e1492f4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-23 12:17:42 +0000

    ContactInfo: populate SupportedFields from the lookup table

commit 931d8763006ca873d8009107f74ca51e669c014f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-23 12:17:10 +0000

    Allow XMPP and vCard fields' names to differ. Map <JABBERID/> to X-JABBER and <DESC/> to X-DESC
    
    X-JABBER is conventional usage. There seems to be no common equivalent
    of <DESC/>, so we'll have to invent one...

commit 0d54485f0a0f61d0b83d7cd6720707afd2210353
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-23 11:46:59 +0000

    vcard/test-set-contact-info.py: expand coverage
    
    Also note some remaining problems, notably a race condition.

commit 4b8741b6898cddb85db4bc9aa4ddb2c3262df58b
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-22 18:25:39 -0500

    Added MailAddress to MailNotification interface
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit d328eceaf1ee9e6ef86fa5adadbb3f5b6c0435fe
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-22 17:08:34 -0500

    Update MailNotification Spec, RequestMailURL may raise InvalidArgument
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 0d21034c6656a1d899eac4fbc1c3adf90c0c4e0e
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-22 16:50:59 -0500

    Ported to latest version MailNotification Spec
    
    Major change is the property Capabilities renamed to MailNotificationFlags
    and the prefix for MailNotificationFlags now being MAIL_NOTIFICATION_FLAG.
    Other change are editorial changes.
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 4ee285565ef75a1b75859eab53c2fa82c986bc92
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-22 16:25:55 -0500

    MailNotification.Unsubscribe now returns NotAvailable error
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 61d654a21cdd76b3032dce4bf38dbcfff8ccb1ec
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-02-22 16:16:46 -0500

    MailNotification.Subscribe/Unsubscribe can now return Disconnected error
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit a9ad7f275a700a579aca2b2e639bb9795575514f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-22 21:10:00 +0000

    gabble_connection_set_contact_info: implement in terms of the table of vCard fields

commit 65c4c5cb5219f2221ba5ff4b02942b4ba053cace
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-22 21:09:40 +0000

    _parse_vcard: implement in terms of the table of vCard fields

commit c5167d1269f4f36206cb1e40c4b876cc19d0f505
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-22 21:08:45 +0000

    ContactInfo: add a lookup table for known vCard fields
    
    This contains everything that the current code hard-codes support for,
    except KEY for which I don't think we have an adequate Telepathy
    representation (it contains a Base64 blob, and exposing that on D-Bus
    seems wrong).
    
    Also, cache that information in hash tables keyed by the upper-case and
    lower-case field names, as used in XMPP and Telepathy respectively.

commit b5829c5a03e92bed294e9dac6f87696428677155
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-22 21:04:53 +0000

    _insert_contact_field: document

commit 57dc7b50174ce1307f339330225b56be5cf4bea4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-22 19:13:14 +0000

    Merge the two booleans in GabbleVCardManagerEditInfo into an "edit type" enum
    
    (TRUE, TRUE) wasn't a valid editing mode, and it's clearer what's going
    on this way.

commit c1db0c0ebc56442df321860dcac829bc7564aca0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-22 18:58:36 +0000

    vcard/overlapping-sets.py: assert about the stanzas' contents

commit 03c1e3dab35c12b094e79e1bb194e89728191d35
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-22 18:43:11 +0000

    Make vcard/overlapping-sets.py pass (by removing an extra expect() call)
    
    Also add comments to indicate what's going on!

commit d8ee1d0db1d29e959ccda6abf394591bd660452f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-22 17:30:02 +0000

    gabble_vcard_manager_edit_info_new: disallow combining to_del with accept_multiple, element_value or any sub-field edits

commit 37f106f83d3f295957f2d880077d8bb4a8ea177f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-22 17:29:27 +0000

    _GabbleVCardManagerPrivate: correct description of @edits

commit 539157b11cfd7dcfe384050ee0f7aa40885efa0e
Merge: 67017d0 d2c0789
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-22 17:28:39 +0000

    Merge commit 'telepathy-gabble-0.9.5' (+ nano version) into contact-info
    
    Conflicts:
    	src/connection.c
    Edits:
            fix tp:name-for-bindings of ContactInfoChanged
            fix whitespace in conn-contact-info _insert_edit_info
            rewrite vcard_node_changed() for the new data structure

commit 7a44d70fe2ab993bb86627ecb787f27101f3d34e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-28 16:17:07 +0000

    GibberTCPTransport: use gibber_socket_errno, gibber_socket_strerror
    
    errno and strerror won't work on Windows. *sigh*

commit 10f19bf4faa9723891f05a0d27bf4865bd9a908f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-28 16:12:09 +0000

    GibberListener: use gibber_socket_set_error

commit 4f7e76768e97dbe98ac5f5f0de3525a2ba897c41
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-28 16:11:40 +0000

    gibber_socket_set_error etc.: add wrappers for Winsock not returning errors in errno

commit bdc2d946436da84ac114174ab1396c159306aea1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-28 15:48:38 +0000

    gibber-listener: add_listener: use gibber_io_channel_new_from_socket
    
    We're listening on IPv4, IPv6 or Unix here, so we know it's a socket, not
    some other sort of fd.

commit 1417bcbe96d35aa601979409c302fd236f959e62
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-28 15:45:38 +0000

    gibber_fd_transport_set_fd: take an is_socket parameter, and call Winsock-compatible functions if true
    
    For the moment I'm just skipping the "non-blocking I/O" fcntl for
    non-sockets on Windows. In practice, this code path is never taken...

commit 870ba1aea46029b9eda08c723d74ad6ce46f8038
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-28 15:40:05 +0000

    gibber-tcp-transport: new_connect_attempt: use gibber-sockets.h wrappers

commit da4c0d14ff4d1584a0686defdbb177af49fc6c84
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-28 15:38:42 +0000

    gibber_socket_set_nonblocking: wrapper for fcntl or ioctlsocket as appropriate

commit 35ed4900fe26f5ff80ba85ed20150eb77c54cf1e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-28 15:32:20 +0000

    gibber_io_channel_new_from_socket: new wrapper function
    
    This should only be used if sockfd is known to be a socket.

commit 7952ad60ff3ede802cb0d79c73bd5d5d6fff3443
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-28 15:02:30 +0000

    bytestream-socks5: stub out get_local_interfaces_ips() on Windows
    
    Returning NULL seems to be handled correctly in the code that calls this
    function, so that's a safe thing to do; SOCKS5 just won't work.

commit a31d2263b800440f98533abbee9bc2f648c915a8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-28 15:01:45 +0000

    gibber_connect_errno_requires_retry: wrap the difference between Winsock and Unix errno values

commit 4b138f8fcd429d4dac3b9b06d7c648c35b66f546
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-28 14:38:24 +0000

    gabble_ft_manager_get_tmp_dir: only define on Unix
    
    This uses mkdtemp(), which is POSIX but is not implemented on Windows.
    However, we currently only need this function on Unix (for Unix sockets),
    so rather than making it portable, we might as well just skip it for now.

commit abfe0999077d768f0f27a2a23d8a736ffb5b595b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-28 14:32:59 +0000

    debug: conditionally include fcntl.h

commit 530166bfa33a99d26cf423d1488d17bdb1566800
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-28 13:26:51 +0000

    bytestream-socks5: only include ifaddrs.h if we've checked for its header

commit 433117fcd6ce24ad43da7714e1cbef4c0a9ec385
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-28 13:26:29 +0000

    src: use gibber-sockets.h meta-header

commit cdba831fa99b1d54fe02b2f5563856dd1bd0de8b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-28 13:25:44 +0000

    gibber: use gibber-sockets.h instead of using most system headers directly
    
    One exception is in lib/gibber/gibber-unix-transport.c, which, by its very
    nature, only works on Unix.

commit 47b9c111a1ff5c0c653616786119d6c920eeea56
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-28 13:24:02 +0000

    gibber-sockets.h: new meta-header for various system socket headers
    
    This wouldn't be a viable approach for a real library (it requires
    including config.h in a header), but Gibber is just a convenience
    library and will remain so until we've migrated out all its code, so
    I think it's acceptable here.
    
    Can we have GNIO yet? :-(

commit bab489016ed591d280d8d349b663b35a3878f0c8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-28 13:22:42 +0000

    configure.ac: check for considerably more headers

commit 8f7effba2bc1778d0f0b5e230891de5435689b78
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-13 19:48:50 +0100

    Conditionalize inclusion of unistd.h

commit 2f042014528670857c9c09f95b7b0d2ff2c47568
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-13 17:41:23 +0100

    tube_msg_close: assert that close_node is null, not close(3)
    
    Obvious coding error from when we fixed -Wshadow.

commit c95af3454d1e19c481daf34079a5eb9e79db68cb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-13 16:24:01 +0100

    GabbleTubeStream: stub out Unix socket support unless GIBBER_TYPE_UNIX_TRANSPORT was built

commit 23f85904639efddec4cb5d7c959704bf31911ce1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-13 16:23:10 +0100

    GabbleFileTransferChannel: stub out Unix socket support unless GIBBER_TYPE_UNIX_TRANSPORT was built

commit 6444637f1dea0b632bf8edd8b7a1eeef324bc86f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-13 16:22:31 +0100

    GibberListener: stub out Unix sockets unless GIBBER_TYPE_UNIX_TRANSPORT was built

commit 1d0656f1c40d42801ec48f4fe44564f468e3818e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-13 16:21:46 +0100

    GibberUnixTransport: don't build if not running on Unix

commit a50f19112c25dc45a4e9f19429b63a2d274be36a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-13 17:24:53 +0100

    Regression tests: don't assume we can do Unix sockets unless os.name is 'posix'

commit 7c0dac9e3fb52cb1ef63eadb77776ddf2f5ef5d4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-13 15:48:56 +0100

    gabble_message_util_parse_incoming_message: don't rely on strptime
    
    strptime is non-portable, and the syntax used by jabber:x:delay is close
    enough to ISO-8601 that we can just append 'Z' and use
    g_time_val_from_iso8601.

commit b552a043575129b09438fdbe3b29c305929c5915
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-13 15:28:50 +0100

    message-util.c: use ISO rather than gcc varargs for portability

commit 6c78ad121e9ee017d6e3c616803e41b924eb50ef
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-13 15:28:20 +0100

    Jingle: remove unused SET_FOO macros, and unused varargs capabilities
    
    These are using GNU varargs, which aren't portable to Windows.

commit 5354de4fc7b9e696eeadabe4b997b3f5f9ab47bd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-13 15:35:45 +0100

    OLPC_Channel_Interface_View: remove mismatched tp:name-for-bindings
    
    tp:name-for-bindings isn't currently needed for properties, and this one
    didn't match the property's actual name.

commit 68cc9321da656841204c975b91ae4ab007c282fc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-13 19:14:31 +0000

    gateways test: carry out subscription exchange

commit bee1d8797ebce01876884b8d0807b230c8a4f8ba
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-13 17:52:54 +0000

    On successful gateway registration, exchange presence subscriptions

commit 5c302d9fbf72165986f55691e68bc666aa497cbc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-13 17:13:57 +0000

    gateways: normalize the gateway's node name using Wocky

commit 57ecb98c7743ca0decd399e5f15e02050f7606e3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-13 14:50:56 +0000

    gateways: pass the name of the gateway through the registration process

commit 875f2d9423032d513347ca5ec6f7e37df39b3eb3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-22 12:23:34 +0000

    gateways: add some debug code

commit 59d9c5a8a9ac40abf6b8739d06c5fb8c0b2dfa03
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-13 17:14:37 +0000

    gabble_gateway_sidecar_dispose: chain up to parent class correctly

commit 073803ff5eb70331619d11d07ff20ec19dce9056
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2010-02-22 09:37:50 +0100

    tests: assert that modifying unsignalled content doesn't result in a crash

commit 2b957a8122af00518f6c7fad623e8a0818ff8813
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-19 15:53:15 -0500

    Fix f.d.o bug #26658 : block the reception on the transport if the bytestream is not open and unblock it once it's opened

commit 26b57c59c28676eba5e2314fd08cba92bf046cda
Author: Youness Alaoui <youness.alaoui@collabora.co.uk>
Date:   2010-02-19 15:53:00 -0500

    Add a test for sending data over the socket before the FT channel is OPEN

commit f76f40049505c14890fc9b1c38a4ddb6b99e6e26
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-19 21:02:38 +0000

    Nano version

commit d2c078940b06befd6f8ccd97892f4ccf9292e8c1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-19 20:35:59 +0000

    Prepare version 0.9.5

commit 13757b43e99578bde64c219dfb9cbebd93537da7
Merge: e995c1c 9565ce0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-19 19:49:19 +0000

    Merge branch 'decloak'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 9565ce08c927a6b2c38698a8e9cb16cf394f0084
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-02-19 18:48:37 +0000

    GabblePresenceCache: re-order signal emission vs. removal of pending requests
    
    This fixes the following situation, which is difficult to test in the
    regression tests without making them take even longer:
    
    * the global "unsure period" for the presence cache has finished
      (5 seconds)
    * we call a peer whose presence we do not have
    * we ask that peer to decloak
    * they do so, and give us a capabilities hash we don't already know about
    * we send them a disco request to work out what it means
    * they reply to the disco request
    
    Previously, we'd signal to the media channel that it should proceed with
    the delayed request, but because the node (caps hash) was still in our
    table of pending disco requests, when the media channel asked whether
    the presence cache was sure about the contact's capabilities yet, the
    presence cache would reply that it was not, because it was waiting for
    a disco request.
    
    In the regression tests, this was masked by the fact that the
    global "unsure period" had not finished. When it does, the media channel
    sees this as another opportunity to retry pending calls, and by then,
    the presence cache *does* consider itself to be sure about that contact.

commit a20b89868b3ff53f02969e6b181475f53a57eeb3
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-01-27 17:20:52 -0500

    Bumped to latest MailNotification.DRAFT
    
    - Subscribe/Unsubscribe is now refcounted
    - Name or flags has been changed and flags exist for URL request
    - Mail "snippet" is now stored in "content" with "truncated set to TRUE
    - Mail "url_data" is now "url-data"
    - Timestamps are now 64 bit signed integer
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit c8fa090fc69c804bb88be54398e9541ee8f91027
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-01-08 16:41:05 -0500

    Ported Gabble Google Mail notification to new spec
    
    A modification was made to the Mail Notification spec to better support
    URL with authentication token. Also, mail id has been retyped to string for
    flexibility.
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 098bb736b1603f28c7574f186a6fa7c2ed797519
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-01-06 20:00:35 -0500

    Adding unit test for Google mail notification
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit eef551694132681ac23f83777ce43e607842ef3e
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-01-05 18:23:58 -0500

    Don't crash when attribute unread_mails HashTable is NULL
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 4818929192d43d8ae430e7948cd2c0dd05a66dbb
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2010-01-05 18:17:57 -0500

    Disable all caps if server does not support mail notification
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 7735cf7073d05bbebbdf99c942380ebcf8d959b4
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2009-12-24 11:53:19 -0500

    Mail Notification: More style fix and introduction comment on top
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 63ceaaa6ce74910e7d9c1e5454fb9b6e562ea9e6
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2009-12-24 11:38:28 -0500

    Mail Notification: Highlight ownership passing with comments
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit a9a6f53a6b73f44ed1ca769e2a1005df08f48dea
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2009-12-24 11:28:14 -0500

    Mail Notification: Fix memory leak on subcribe while already subscribed
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 085cf5e6907bf150a3d68d036a1d58889f963272
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2009-12-24 11:21:51 -0500

    Mail Notification: Fix wrong cast and added object cast macro
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit b0011cfbe615adc6e3db123ff3813493d0f24bc0
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2009-12-23 22:25:54 -0500

    Mail Notification: Fix coding style
    
    Removed trailing spaces. Put every function arguments of function
    definition on it's own line. Added white line after local declaration.
    Added a second white line between type definition block, static declaration
    block, forward declaration block and function definition.
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 1b82ef746f09fa80c3203c4d08424deb4a19d0a5
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2009-12-23 21:53:48 -0500

    Mail Notification: Replace g_string_append_printf by g_strdup_printf()
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit d8efecefc3ab316055ff7ec3ea31acc233cb0995
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2009-12-23 21:48:44 -0500

    Moved macro CHECK_STR_EMPTY to util and use it where possible
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 0696b230303994342d1b3566d44b6fb805b29d98
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2009-12-23 21:32:57 -0500

    Changed mails_subscribers into HashTable
    
    The mail subscribers where listed in GData with quarks for senders bus
    name. These name are different for every client, wich make usage of quarks
    inapropriate since the quark hash table tends to grow. Also fixed a leak
    with confusing dbus_g_method_get_sender() that do a strdup().
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 530502c43f4b9aceae07d6c98b1e6173fad64475
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2009-12-22 18:57:18 -0500

    Implemented getter for UnreadMails
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 776b4707861cfd54d8b506638c30bfeadd63d4cd
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2009-12-22 18:27:00 -0500

    Added mail attributes url, senders, subject and snippet
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit c90cf44f0231d96bf1d7837aa6e7cfd98db9c7d4
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2009-12-22 18:10:44 -0500

    Store unread mails information
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 8f52902aa9c0b8143fd033866517ff87ba9f6325
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2009-12-22 17:55:44 -0500

    Added google new-mail notification and mail request
    
    Hook signal to the new-mail message sent with google mail notification
    namespace and added mails data request.
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 68a5e1a8fd20e10784cc01aa47ba3d4bdd7a10dd
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2009-12-22 17:11:45 -0500

    Added data structurs to store emails data
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 9a3928a2f779b69b8a659dd55cbf8750f22d827e
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2009-12-22 16:39:53 -0500

    Revert "Adding Mail Notify test"
    
    This reverts commit af33be3e475574d016d502346d058c1d8e286ff4.

commit 6c5703d040347acffb524c98d776b9915eb54853
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2009-12-22 16:15:30 -0500

    Implemented MailNotification.Subscribe/Unsubscribe
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 707cfcb9316547ccf2a033ef12ab10b8701582c7
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2009-12-22 16:01:52 -0500

    Adding Mail Notification properties stubs
    
    Also removed unneeded class_init() and rename finalize into
    dispose() since it's most used name.
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 45f52585e5bb68caad719929a9f81e95a417a74b
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2009-12-22 15:21:59 -0500

    Adding mail notification debug section
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit a3472435e7d2ec144b749ca9006e57094425fbfb
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2009-12-22 15:21:27 -0500

    Update to latest MailNotification spec
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 298b5f51b0d033a47bbe5a2711181e072f8c7d5e
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2009-12-09 10:55:42 -0500

    Adding Mail Notify test
    
    The Mail Notify test should help in testing Mail notification
    in Gabble and other CMs. Currently, only connection tracking is
    implemented.
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 3864cf8a8ce675a95f0ae35d33d7eed87453ad11
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2009-12-04 16:43:18 -0500

    Added placeholder for google Mail Notification
    
    Added feature detection for "google:mail:notify" and pace holder for mail
    notification interface implementation.
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 90faf659557fd583ad6fe29e553a2ec680d7ccac
Author: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>
Date:   2009-12-04 16:36:50 -0500

    Added Mail Notification to extensions
    
    Signed-off-by: Nicolas Dufresne <nicolas.dufresne@collabora.co.uk>

commit 3e655ae4cd12c41d253599222894defe8dbca990
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-02-18 18:39:58 +0000

    More debug information

commit 6e8d9d3042a9ab9b1898035c79820d46d2ae80b4
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-02-18 18:39:31 +0000

    Add some extra debug and fix identation

commit cb26c079c7272c85631109e668f401ace742d181
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-02-18 17:31:17 +0000

    Factor out payload generations and always have parameters with codecs

commit dbb87e52f6c8cd7e5fad5a88be5f9f99d96a18d8
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-02-05 19:22:04 -0600

    Wait for capabilities before completely initializing a call.
    
    If Gabble doesn't have a contact's capabilities, it should wait
    until they are retrieved before returning from the CreateChannel
    or EnsureChannel call. The caps must be checked to ensure they
    have the required capabilities before returning whether or not
    the call was successful.
    
    Some of the capabilities checking code was copied from
    media-channel.c.

commit 8a14fae3d90f2480945f6f95b5944eda3159e787
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-02-08 20:18:15 -0600

    Remove CallContent when CallMemberContent is removed.
    
    This is for CallChannels only. CallMucChannels shouldn't have their
    CallContents removed when there are no members left. Someone might
    join the conference.

commit c262b915a2f5c19bc725937162491f74b13a95ba
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-02-08 20:15:57 -0600

    Add base_call_channel_remove_content.

commit 7c50ce067704b67244f12a679d7060d259efd037
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-02-08 20:13:21 -0600

    Add gabble_call_content_get_member_contents.

commit 53d9e325e1602b89764333dd345998aa176dd2b6
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-02-08 20:11:52 -0600

    Add a content-removed signal to CallMember.

commit 9647f804b9863c3cb3d8a5f7150dd308da5ca65e
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-02-08 19:26:22 -0600

    Remove streams when its associated CallMemberContent is removed.

commit 173686dc397772e08d395b5d51b14aa1bbe71ce5
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-02-08 19:21:21 -0600

    Add gabble_call_stream_get_jingle_content.

commit 76318a38b5ec2867a5f72e58486219ca4a1816cf
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-02-08 19:15:02 -0600

    Remove CallMemberContent on its remove signal in call-member.c.

commit 17a49d393a181020bd7dc22e6558c227ccb59540
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-02-08 19:12:29 -0600

    Refactor adding a member content into its own function.

commit 1029c8690bfb4e602d328d54a76685b1ee743e83
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-02-08 18:53:34 -0600

    Add a removed signal to CallMemberContent.

commit 5f8dac74349efbb818ca466a9d1ec67bb89d99a3
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-25 21:53:05 -0600

    Update test-wait-for-caps-incomplete to handle Calls as well.

commit 364363ac8b57393659f5e6aa22de7f53771746fa
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-25 21:50:36 -0600

    Update test-wait-for-caps to check Calls as well.

commit 4f916cdeaf2f8e75e06232f059ad34f0fd358dbe
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-19 20:20:21 -0600

    If the content is being removed, its streams shouldn't be sending.

commit cc00a6dff3f134dd7c40a8df6cd64500adc5bfca
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-02-05 17:15:13 -0600

    CallChannel: Handle additional contents added by the remote side.

commit 404edd0055f7fa98d9306cd423a2737d7d3c3240
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-02-05 17:13:48 -0600

    CallMember: Handle additional contents added by the remote side.

commit 9bd4f33a6f83d299b5b658cf341363aca6cbad1c
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-02-04 17:37:05 -0600

    Fix memory error. Use set_string instead of take_string.

commit 5cb78b6ef176eb88d42e0fb2777b0295a55cc02e
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-02-03 17:42:42 -0600

    Ensure Accept isn't called in an invalid state.

commit 73aa83bed364954023ed57b3fecbf5c95effde10
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-02-03 17:34:51 -0600

    Return an error if AddContent is called on ended Call.

commit 6e277feb4b03288b1f7c35a1110cc554a95fcd24
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-02-03 17:04:31 -0600

    Restore the now fixed regression tests.

commit f8ca760131a6b1cf93f6dc2292c973e45994eaa0
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-02-03 17:01:10 -0600

    Fix sender state regression.

commit 2713c00dd83a7bd267283bed41c9895d3ea83c8d
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-02-03 16:53:43 -0600

    Fix Ringing flag regression.

commit b86c87818d8cf5328c3d23e32e5b02982dc93173
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-02-03 19:22:56 +0000

    Allow InitialAudio and InitialVideo to be set after object creation

commit fad7a2dfa59fa236cde85833145ce1dc31adf8cb
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-02-03 19:22:29 +0000

    Use a virtual function for the actual acceptance of calls

commit 01d6edb98c49838467a2833358f77f4d438bd622
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-02-03 19:21:18 +0000

    Some more utility api on GabbleBaseCallClass

commit 31d093520cae783df662e996629e94e2e3f40424
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-02-03 19:20:40 +0000

    Purely use CallMemberContents instead of JingleContents

commit 653609aa565dc5f1e2eee0d3c4e7113037076b0b
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-02-03 19:14:28 +0000

    Add a lot more API to properly proxy Jingle bits

commit 736b7dc83401647f899fd63a00e5d427f6152d4c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-02-03 19:15:39 +0000

    Expose some function to handle codec lists

commit 23c49bb9da4cb4570e812c02e23baf0a46275cf0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-02-03 19:09:29 +0000

    Don't test for some known call regressions

commit d82b2e2a6d6302516ea6d24d9958010cd25cfb35
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-02-03 19:04:38 +0000

    Only pop up a muji call when contents are known

commit d5948decfae657b4a6d23f8e0a9e1261e7a6379c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-29 19:27:28 +0000

    Start using seperate CallMember objects

commit 72abe0042bef4691eecbbc97fa383c3a4af06c47
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-29 19:18:49 +0000

    Make requested a construct time property

commit d08f33eba7e74e5fa2b295d639a4753bacd43a83
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-29 19:15:01 +0000

    Add a better for the wocky-muc property

commit 1bca8a2938e4acbf8c14a510ed7afa335a18d955
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-29 19:14:34 +0000

    Test the channel is as we expected it to be

commit def4963c7e50cb9c3e901222cbda3aa84f6ebd0b
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-29 19:13:22 +0000

    Actually use the iterator

commit 57ad40e3827ea8d807bb35d1f4fda7d0a48f4a4c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-25 12:22:58 +0000

    Make the handle type a class variable

commit b0c3b24176fde279c039ad695df5d14f104ec5bb
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-25 12:20:20 +0000

    Wait till the muc is ready before finishing the call channel init

commit 7d2357d5044fd3253810ad2aaafa1087ac1869a7
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-22 17:17:16 +0000

    Test that we now have call for both contacts and rooms

commit 7d71433fd772ad3fbba8029b6e6fd79ea8af8093
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-22 17:16:31 +0000

    Test that muc call channels pop up when required

commit d5938fb67d53207aa08fd291ba5c934478b54cd6
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-22 17:14:34 +0000

    Fix identation (tabs vs. spaces)

commit 5554675d36f745bb3fdf02ef3475e7ccca6b4613
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-22 17:10:54 +0000

    Let booleans be booleans

commit bfb7b091b677579a93861cdb3f7c6612feeff793
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-22 17:08:28 +0000

    Make muji channels requestable and spawn at the right time

commit f1607e6eab5cf8b89de4da4f895e60f9dc2d3ba4
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-22 17:03:57 +0000

    Add dummy channel implementation for muc calls

commit 093d869db38638abfcd87d811e93c264cf694feb
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-22 16:40:59 +0000

    Add api to get call channel allowed props from the media factory

commit 77c9741a98a9a2ad926c98273b24d91bbaa2cbe2
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-22 16:40:22 +0000

    properties mixin lives in the base class

commit 43b928aa071ef8da964a75b7825b4082571a5b18
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-22 16:39:28 +0000

    Cope with not having a session when getting properties

commit 15eda36f8d95a60263e3efc3036713b669160a3f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-22 16:38:21 +0000

    Assert construct properties being set to sane values

commit cf776b393ea46ebeeb430b1be732eee201c169e1
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-22 16:26:02 +0000

    Add missing headers

commit 916d3d729a5b71c36c7c0f831b846ef4fd249ddf
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-12 15:00:36 +0000

    Split a BaseCallChannel out of CallChannel
    
    Both Muji related call channels and 1-to-1 call channel should be able to share
    quite some code. The main difference is in setting up the call. This is a very
    minimal split, more 1-to-1 call specific code will move out of the base class
    into the call-channel

commit e995c1cb20fac30aa378365394aa986498658abb
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-02-18 18:15:36 +0000

    Also run the session-id-collision test

commit f0cf067275ee70f45dcb7a4a12ae8a4f4b0ff982
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-02-18 18:15:15 +0000

    Need to import constants if we want to use them

commit f456a0e50336b47e335cc9bcebcb9b87da346b19
Merge: 43f18c2 d31df2e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-02-18 16:22:40 +0000

    Merge branch 'fix-tests-for-is-a-phone'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit d31df2ec564d9dd2c9cb6e2ba0c4e0a9e5cba98b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-02-18 16:08:23 +0000

    Building stanzas with string concat makes me sad.

commit 496e0dda1ba40aee12cc51bea0ea9e12ad7856f2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-02-18 16:04:13 +0000

    Fix tests with --enable-is-a-phone
    
    Not only did two different C source files hardcode that Gabble is a PC,
    but so did the test suite. This is why the tests passed when I only
    changed one of the hardcoded C strings; I don't know why I thought they
    passed when I fixed that, but... they didn't. :)

commit 43f18c25fd7cbe7e0615947c2663ce4cbbe7e4cd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-02-12 14:17:56 +0000

    Use correct client type when calculating hash.
    
    Previously, if you compiled with --enable-is-a-phone, Gabble would still
    use "pc" when calculating its own hash. Bzzt.
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit b791a28c76568e265637d12a3f4f128ac0c122c8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-02-03 16:36:54 +0000

    Don't assume that GabbleXmppError is WockyXmppError
    
    (They're no longer identical.)

commit 666095677d9fbd9e35e304a9e4e8328f8ca71d5c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-02-03 16:36:25 +0000

    Update signature for WockyMuc:message-error handler

commit fa97cd27a0a7446fa94b2676a83d75e395b38406
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-02-03 16:35:35 +0000

    Remove references to app-specific WockyXmppErrors
    
    These have been broken out into their own enum, where they should have
    lived all along.

commit 4dbb0722ae1192b91c96f080c690388fab157b64
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-02-03 16:33:57 +0000

    Use stanza_extract_errors() not stanza_to_gerror()
    
    The latter has been removed in favour of the former.

commit 6ab282886ec05e3b58a91f1dbba52e382d1afb63
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-02-03 16:33:24 +0000

    Update Wocky snapshot for new error wrangling code

commit a36ae46b7127ce503c938211a6791362581e99b3
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-02-10 21:19:22 -0600

    Fix a non-UTF-8 string being sent to the debug log.
    
    In the HTTP response for a Google relay session there is a
    'magic_cookie' value which contains a binary 'magic' string. This
    string, contained in the entire response, was being sent to the
    debug log. If Empathy's debug window was open, this would cause
    that string to be sent over DBus. Since the string wasn't valid
    UTF-8, DBus dropped Gabble from the session bus. This patch escapes
    the binary data in that output.

commit b0798502c91f7aa7e50d78182e0b39a5149d01bb
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2010-02-08 18:48:33 +0000

    Fix typo.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit e3921d8c6cfd8f1d4015eef85ab97af8dee78c93
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-01-28 17:31:40 +0000

    bump nano version to 0.9.4.1

commit a1b20303ad25d7d3c52f2cabfc4f72d84f699f23
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-01-28 15:58:56 +0000

    Version 0.9.4

commit 03379adfc79f09dbcbba1e69a9146e6fd64b023c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-01-28 12:45:11 +0000

    Add Call interfaces to EXTRA_DIST

commit 7a859d2944da798a22b79a1b94b7d1ba6b1a94d5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-01-28 12:41:03 +0000

    Use the Glorious XIncludator, not identity.xsl

commit 2dabba9c31fc6e81fce8d52f39cab18ab8f7ac68
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-01-27 17:06:41 +0000

    Add a --disable-channel-type-call configure switch

commit d4ef47aca699ac72716a03269a2f53dcbb01f02c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-01-27 14:28:49 +0000

    Don't crash on disco requests with no id=''
    
    It's illegal to send <iq/> stanzas without an id='' (per the first rule
    of IQ Semantics in XMPP Core
    <http://xmpp.org/rfcs/rfc3920.html#stanzas-semantics-iq>), but neither
    ejabberd nor Loudmouth filters them out before they reach Gabble. If
    passed an IQ with no id='', lm_iq_message_make_result() returns NULL;
    connection_iq_disco_cb() assumed that it returned a valid message, and
    hence crashed.
    
    Other places which call lm_iq_message_make_result() already check if the
    result was NULL, so this is the only place that needed fixing.
    
    Fixes: fd.o#26271
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit da5cb49ad68609e30348771c4b25d5892d03d66e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-27 14:46:40 +0000

    Update wocky snapshot

commit aa90a8e299ed3774b7c7acc429b39fd65eb392c4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-27 12:35:45 +0000

    Use XEP-0276 Temporary Presence Sharing, instead of our prototype version
    
    Also improve jingle/decloak-peer.py to make better assertions about the
    presence stanza we use to decloak a peer.

commit 679cfc5c6cf8d79a70cfc54d36803c258d9a3d5c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-27 12:16:25 +0000

    Remove decloaking proto-XEP; it's now XEP-0276

commit fa4c21f2a6275ae85f7985b23713df67d25b4f83
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-01-25 14:46:03 +0000

    Correct attribute name for Contact Capabilities
    
    /caps is wrong; /capabilities is right. Fixes fd.o#26210.

commit e520f52d0dedff11527e00264c602aaeb0228c1d
Merge: b559624 b04a052
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-22 16:08:30 +0000

    Merge branch 'decloak-api'
    
    Reviewed-by: Vivek Dasmohapatra
    Conflicts:
    	extensions/all.xml
    	tests/twisted/Makefile.am

commit b55962469416da2ffd9350d6017a6f421df541fb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-22 15:49:01 +0000

    fd.o #26170: correctly NULL-terminate muc_tubes_channel_allowed_properties
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit 780375d88e9af9e8bd70216d38d03c8200dd09c2
Merge: d619840 afbbb05
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-22 14:50:58 +0000

    Merge remote branch 'maiku/implement-ensure'

commit d619840d391bd6939fbe2113a7565c289697c32e
Merge: 20d5afe 3e94d46
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-22 14:50:36 +0000

    Merge remote branch 'maiku/replace-codecoffers'
    
    Conflicts:
    	src/call-content.c
    	src/call-content.h

commit 20d5afee894774296021cd4f48946b2cc42baeef
Merge: 7dba588 e005d04
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-22 14:41:31 +0000

    Merge remote branch 'maiku/handle-new-content'

commit 7dba588d8fba926fe0084b9345eb19e3171ec5d1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-01-22 11:49:33 +0000

    Add --enable-is-a-phone
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit afbbb05d6be544074fabbdad6e25641c16cb74f4
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-21 20:51:19 -0600

    Test Ensuring channels that are most likely still being created.

commit 2b273508acf36ffa0ed2f06f8faca83fe560be20
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-21 20:49:33 -0600

    Update the outgoing-ensure test to test the Call interface too.

commit 8a5a81a6be253c423527ab0852f8f7e2015fc900
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-21 20:40:21 -0600

    Add the MediaChannelRequest into pending_call_channels.
    
    This looks like it was a typo. Another place in the code tries to
    remove a MediaChannelRequest from pending_call_channels, but the
    only place that inserts anything into pending_call_channels inserts
    a channel. Inserting the MediaChannelRequest makes more sense as
    then you can add request tokens to it.

commit 9c8abea8af92b059ee25c7e93775dc09fa4c782d
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-21 20:38:06 -0600

    CallChannel uses "handle" instead of "peer".
    
    The StreamedMedia interface used "peer" to fetch the target handle.
    CallChannel provides "handle" instead.

commit 3e94d46057eb68963016e666ea06b35870575372
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-21 17:24:28 -0600

    Keep count of the pending CodecOffers.
    
    Only free CallContent once all of its pending CodecOffers have been
    freed.

commit 5b5e88df16ac072f9119991f1e143e84268db540
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-21 16:02:50 +0000

    Mention we do file transfer in the README

commit 5179e40604425fc0b3dddf5fe36bd0bce17d951e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-21 15:55:34 +0000

    Stop referring to Loudmouth in the README

commit 189d080d560c450f2b23ad6802e5e70fc7d56569
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-01-21 15:05:00 +0000

    I noticed the extra newline only after pushing :(

commit 57e99f97bd380fc92d49c70e8d2936d63fa2b849
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2010-01-21 14:21:33 +0000

    Update wocky (openssl backend now offers deflate compression)

commit 8a4eb423bbf6196cfb93cc06463cfa7e8eb640cd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-01-21 12:57:41 +0000

    Add a version to the gateways plugin.
    
    I'm deliberately not setting a version on the test plugin to make sure
    Gabble copes with it being NULL.

commit 40768280a76471e4fd6784c52eafa5ff40b3c6f4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-01-21 12:53:53 +0000

    Show plugins' version in debug output

commit 49aa6a73cb7de004a77780730bc128b33125e47d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-01-21 12:49:50 +0000

    Add a version field to GabblePluginInterface.

commit 1223803555fe45ea5caa4300ec75fd422dd4de0a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-01-21 12:05:33 +0000

    Add a variable with the path to Gabble to .pc files
    
    Tests for out-of-tree Gabble plugins need to know where Gabble lives in
    order to set its working directory and environment variables, etc. It's
    possible to set the latter on the tests' dbus-daemon, but having the
    path to Gabble allows plugins' test framework look more like Gabble's
    (with their own directory of D-Bus services, rather than relying on the
    installed set).
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit f8c039df16769d01e1fad39506ee6c2484e2bda8
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-20 22:53:59 -0600

    In EnsureChannel, check pending call channels as well.
    
    If there's a pending call channel, the EnsureChannel request can
    piggy-back on that request and simply add its request_token to the
    list in the MediaChannelRequest.

commit f4f1f376bd74ff58bcaa2a6cec0e57fbca21d28d
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-20 21:59:20 -0600

    Unregister Contents and their Streams from DBus ASAP after deiniting.

commit 83e832241863218b35d0f5879b4cd9e62126ae81
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-20 21:42:33 -0600

    Skip setting codecs if the offer is invalid.
    
    After cancelling an AsyncResult, it can potentially still return
    successfully. This code assumed it would always return an error.
    This patch makes it skip setting codecs if there was an error,
    the content was deinited, or the offer that finished isn't current.

commit 6816b1e823b0a839126c02cf001a32c5cbbaf09b
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-20 21:24:54 -0600

    Unleak when switching CodecOffers.

commit 8b10d54037ba7a0a07013c2044129711b2c378c1
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-20 20:11:45 -0600

    Unregister CodecOffer from the bus immediately when cancelled.

commit 8c6624c9743fac3981e1039b8ee27494acd0dd42
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-20 19:43:46 -0600

    Make sure the NewChannels signal contains the Call.
    
    A race was happening where the testcase was failing due to the
    NewChannels signal from the contact list being caught instead of
    the one for the Call. This caused the rest of the test case to
    continue before the Call was ready and would fail when trying
    to retrieve the Contents property.

commit a416cf558ce810afd6cdd0c2c74a63e5a0b4248c
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-20 17:24:24 -0600

    Remove AsyncResult dispose code from CodecOffer.
    
    AsyncResult will have a ref to the CodecOffer.

commit 747ff23ed8d3dd0d4bbd954f2ebed7f912603f52
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-18 20:32:19 -0600

    Add test for CodecOffer's Reject method.

commit da2f212d18ac83d521b0f2e9e1a87d9a929c6b20
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-18 20:31:20 -0600

    Implement Reject on CallContentCodecoffer.

commit 600011fd50f651168c66f8de15a6aa4ff0eada73
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-18 18:49:59 -0600

    Add testcase to make sure CodecOffers are freed when CallContent is freed.

commit 4ea81b3a3f48596382c97d6e7a6f904383568eae
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-20 17:27:29 -0600

    Add a _deinit function to CallContent.
    
    Using _deinit, CallContent will wait for its CodecOffer (if any) to
    be freed before allowing itself to be freed.

commit 961f1972f5df63196896bcdde0414575db4e86db
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-20 16:20:52 -0600

    Add debug messages for unexpected events in Accept().

commit 1458db7a77aaa1d4e8428350b0e9964c73a66f75
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-20 16:06:36 -0600

    Modify error message wording.

commit e005d0407ce6560a2206c4645dc664a374500bb9
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-20 15:53:11 -0600

    Use a function to get the local sending state.

commit c04ad7ea628c6131da2da818b2d53aeff6637b90
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-20 14:24:58 -0600

    Simplify an if statement.

commit 7ac7ee278ec1c6a589916adbf74ab16ddc534a96
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-15 17:53:57 -0600

    Set sending state to sending if the local side created it.
    
    When a stream is created by the local side, it should initially be
    in the sending state.

commit 4d07f4be1777565091bff9f5c5605ee83a609686
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-14 13:41:32 -0600

    In Accept(), set sending state from Pending to Sending automatically.
    
    As per the spec, in Accept(), all streams that are in the pending
    send state and are in contents whose disposition is initial should
    be automatically set to the sending state.

commit 76a0599d4e19d0a2dfb371ba0f382c7b6a5fdd87
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-14 13:08:32 -0600

    Fix SetSending to correctly set senders and update Jingle.

commit 6e4d629f4603605e7420273ceb5e16028fc609fc
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-07 21:03:19 -0600

    Handle when the remote end adds a content to the session.

commit 8ade2d1fa5953e492990847771a1244b2392d36b
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-15 16:19:48 -0600

    Add add tests for CodecOffers.

commit 33572756db667c2ed002599331758c9661337479
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-15 16:09:09 -0600

    Handle switching CodecOffers in CallContent.

commit 03d33cd391855f3752e55629ceb0f91089ec5c0b
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-15 16:07:23 -0600

    Handle a GCancellable passed to gabble_call_content_codecoffer_offer.

commit d31cd86c2ef2995c44373dde97277450831db1ab
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-18 19:55:44 -0600

    Support EnsureChannel.

commit cfacc64ba48286023b9fa2bacf2102bee1810f5c
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-18 22:56:22 -0600

    Add a testcase for the Ringing_Locally flag.

commit 21c690cb16ed3b4302ca9538ce47994843e4880c
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-18 22:55:33 -0600

    Set the Ringing_Locally flag when Ringing is called.

commit 28f901c858bcaebd791a970977783d74e68d9e6e
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-18 21:50:36 -0600

    Ensure Accept isn't called in an invalid state.

commit 9d4d394e52ad11dca205365602553b708f34dcd1
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-18 21:36:05 -0600

    Return an error if AddContent is called on an ended Call.

commit 5a7757ca53b83ee6904354f02a4caa0ade0a11eb
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-18 21:14:13 -0600

    Don't send a content-modify message if the content hasn't been sent yet.
    
    This fixes a crash if you SetSending before session-initiate is sent.

commit 344de4db2a684323083cc3fb8432009f720feb34
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-18 20:17:57 -0600

    Ensure that InitialAudio and/or InitialVideo is set.

commit 114eeb3286995b610c54d7e89d3c30ffbfad9326
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2010-01-12 18:59:09 -0500

    test-caps-file-transfer.py: use a unique client name
    
    This avoids problems with pre-existing cache entries.

commit 11713f944914808ceb902a136f620921cad18395
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2010-01-07 21:14:23 -0500

    make caps cache persist to disk using SQLite

commit 7d8750f6c52424d7a51cf40b1d988fa8170c44c8
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2010-01-18 17:07:31 -0500

    replace GabbleCapabilitySet's _is_empty with _size

commit 1fb6ac671a8ce90e29af1587cbbf1533f6404230
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2010-01-12 15:15:33 -0500

    free shared caps cache when CM exits

commit fd22d663f4c3721683498c4aacebff7d4b512e9e
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-12-02 18:30:32 -0500

    add initial implementation of CM-wide caps cache
    
    This is in memory only, for now.

commit 07914e06755374064b50ec7f7d8e46c705301f7e
Merge: 04c6381 0145f36
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-15 16:24:19 +0000

    Merge remote branch 'danni/pmuc'

commit 35f96fd80b46732d7e6d067054a57c73cec60592
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2010-01-06 15:41:34 -0500

    make send_disco_reply() take a list of identities

commit 5c05ac44c335842340ac884efc7dbfded6664bb0
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-12-18 17:54:30 -0500

    make use of send_disco_reply in tests

commit 43b2f5d9c969f5009434486f5cdf6fccbfe41e88
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2010-01-07 20:18:49 -0500

    compute_caps_hash(): verify that identities are well-formed

commit 7ba49817e9b4e12889d49c174493c9c649c91638
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-12-01 17:53:40 -0500

    add servicetest.py to the list of Twisted tests
    
    This is so that its self-tests get run, as with caps_helper.py.

commit 04c638177e42671a64acc55b9f4141e27bdf4249
Merge: a1f6b57 70b9262
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-13 15:52:37 +0000

    Merge branch 'enumtypes'
    
    Reviewed-by: Vivek Dasmohapatra <vivek@collabora.co.uk>

commit 70b926235f24014036ea42d72d1e847eaeefb990
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-13 15:44:46 +0000

    fd.o #26027: gibber, loudmouth, src: remove unused rules for *-enumtypes.h
    
    If/when we resurrect these, we should use static pattern rules rather than
    implicit rules, to avoid the bug described in fd.o #26027.

commit d8452cbe12580af14352e78af4a1d815a24ad3b9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-13 15:43:22 +0000

    fd.o#26027-related: update wocky to have less magic in *-enumtypes.h

commit a1f6b57a49b180cbe2d3d29b2b07e1abdc0a7786
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-13 13:53:29 +0000

    Update wocky for working gtkdoc and better enumtypes.h generation

commit 0145f36d52f54dca7ab56bb48cb27d6140c2c6ab
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-01-13 21:33:24 +1100

    Remove requirement that InitialInvitee{IDs,Handles} are mutually exclusive

commit 0c2492f71f5ee8b8781d72f57b04e60e2b1ce54c
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-01-13 21:29:30 +1100

    Use that quirk to decide when to create a chat on Google's server

commit 967e2f391a3f4a8e5cf526b3e9a60d16378fdc64
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-01-13 21:28:45 +1100

    Add a quirk capability to detect the Google webmail client from its c@node

commit a7fb982744b626772abfcfb1f26dab9a77d8ab56
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-01-12 17:11:24 +0000

    ¬ require-encryption ⇒ ignore-ssl-errors
    
    In Gabble 0.8, setting require-encryption to False implicitly set
    ignore-ssl-errors to True, on the basis that if you're only using TLS
    opportunistically, you don't care about most certificate errors (except
    maybe revocation). There are only three combinations of these two
    settings:
    
     • Don't care about encryption
     • Give me SSL but I don't care about certs
     • Tin-foil hat
    
    Previously in 0.9, the two parameters were just passed as-is to Wocky,
    which does not behave as described above. This patch makes Gabble
    explicitly state this logic.
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit 7336d67d367d7b7f7c19af78fe51527f214c11f7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-01-12 11:41:41 +0000

    Depend on dbus-glib 0.82 for _unregister_g_object
    
    While this function was introduced in an earlier version, it was not
    exposed in a header file until 0.82.
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit ddaf234d1628e9a464ac37ec719e9845a4615b41
Merge: ed89e24 9254d60
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-11 21:46:28 +0000

    Merge branch 'gateway-reg'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 9254d60e427435824cc4a89701528c4ba88c72ad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-11 20:52:50 +0000

    gateways plugin: put non-WOCKY_XMPP_ERROR errors through gabble_set_tp_error_from_wocky

commit 7098fca46292a666b3a8297c07f30f6db310f361
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-04 18:53:56 +0000

    Add a regression test for the gateways plugin
    
    In particular, check that the errors mentioned in XEP-0077 are handled.

commit 0e4b405ad5393afa134ff867546f0a227e18f6fa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-11 20:37:51 +0000

    plugins: add a gateway-registration plugin

commit 092af3fb811d6b6d010903835a2c63102ca35543
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-11 15:42:59 +0000

    extensions: add a very simple API for gateway registration

commit 211eb5f45acae1798c401b294a38e23bbc73f49f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-11 20:35:53 +0000

    Add a simple test for gabble_set_tp_error_from_wocky()

commit 2f837030df081384886d29a006493d964fe73078
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-11 19:54:54 +0000

    Add code to map Wocky errors into Telepathy errors

commit cb0550043175abff7df36e08d47312a1200fff04
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-11 19:54:10 +0000

    add <gabble/gabble.h> meta-header

commit ed89e2468db33e18aa796bb2b1aea278262d11d8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-11 15:30:50 +0000

    .gitignore: ignore intermediate files for gcov 4.4
    
    This is basically commit a9cd3574ef61d from telepathy-glib.
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit 02d6ca0ff7a19f47b7367eda756a4d5121135b11
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-11 15:27:35 +0000

    Sync glib-ginterface-gen.py from telepathy-glib, fixing method names that are C keywords
    
    This is commit 46dc86715c3ff6b0e from telepathy-glib.
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit b04a05234d8569c9852611142bfb3ecb6c1a5822
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-11 14:14:59 +0000

    Add a trivial test for SendDirectedPresence()

commit bb419aa34f74fcb103f484a04fb3d120c4122d73
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-11 14:11:27 +0000

    Implement conn_presence_send_directed_presence()

commit 8dbbac825bfa72377cc85c6fbf75e5ba7660fbc3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-11 13:57:26 +0000

    presence/decloak.py: assert that DecloakRequested is emitted

commit 6c8b6f1172665e43c6186499a32744cc3d4534d7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-11 13:57:16 +0000

    Emit DecloakRequested when appropriate

commit 85de913c2b4c58e8b11548adff72da2c85f9dc5e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-11 13:46:05 +0000

    Extend presence/decloak.py to test altering DecloakAutomatically at runtime

commit 4f7d751ccaa4154bb0b580f71cd6f1b6063c2490
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-11 13:38:33 +0000

    Implement the DecloakAutomatically property

commit e3f82002b27de0943ee8ab06cb1b00a9488ce316
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-11 13:38:07 +0000

    Add a stub implementation of the Decloak D-Bus API

commit 1e733b4760b85dda0dcd321b101fc1a2fa374772
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-11 13:26:41 +0000

    Add a simple Gabble-specific D-Bus API for decloaking

commit 67ff3c952da0685060315a16f9b15650426ba4b1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-08 17:16:00 +0000

    gabble_presence_cache_is_unsure: presences with keep_unavailable don't count
    
    These aren't really presence, but a pseudo-presence-record from some other
    source (currently, a <message>), used to avoid duplicate signals for
    someone's nick if they send it in a message.

commit fbaefb943d49560da85d15d83864ecfe823e6e65
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-07 18:05:36 +0000

    jingle/decloak-peer.py: add a test for decloaking people when we call them

commit 6281979aa398c74194e8840bbf512b9abf6d7bf3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-07 18:04:35 +0000

    GabbleMediaChannel: once per call, try to decloak apparently-offline contacts

commit dda02eda330be0e810f5a31147bab0aa2c39a3c5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-07 18:04:09 +0000

    GabblePresenceCache: add support for de-cloaking contacts

commit 516919bbaeaedf0e1b2df41ad32898c3035ca17d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-07 18:02:47 +0000

    gabble_presence_cache_is_unsure: improve diagnostics
    
    Also note a way in which we're too conservative - if we've had the roster,
    we don't need to wait for the unsure-period to end if the handle is not
    on the roster.

commit be02fb4b9ad8b9197b5c394cc3b41e6314b52b78
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-07 17:59:32 +0000

    GabbleMediaChannel: delay_stream_request: always subscribe to both signals

commit 1b356a74904bb25c92108aea29f505b1c411d494
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-06 20:39:04 +0000

    gabble_connection_request_decloak: add

commit db5480a0e2807adeac0bbf05e65b1128b2ca5891
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-07 13:55:39 +0000

    gabble_presence_cache_caps_pending: make static
    
    We no longer need to call this function elsewhere, since is_unsure()
    implies a call to it.

commit 6d0a3314234787494c2ce267966375a02c2b9264
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-07 13:54:52 +0000

    Call gabble_presence_cache_caps_pending from gabble_presence_cache_is_unsure
    
    This will let us extend _is_unsure to cover new and exciting ways to be
    unsure about someone's capabilities, like waiting for them to respond
    to a decloak attempt.

commit fc3396182ff4fabcec1b0432cb753024193cacea
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-06 21:05:00 +0000

    GabbleMediaChannel: listen to GabblePresenceCache::unsure-period-ended
    
    Previously we hard-coded a wait of 5 seconds, but if the call was
    started (say) 2 seconds after the presence cache was created, then a
    3 second wait would be adequate. We might as well let the presence
    cache tell us what it's thinking, rather than duplicating the timeout
    logic.

commit d93fd820134cfbcafb7a045f4d292e8783ad5239
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-08 12:58:29 +0000

    GabblePresenceCache: emit a signal on unsure -> sure transition
    
    This also means we don't have to compare GTimeVals in order to see whether
    we're sure yet.

commit 943d8e93f311587b1da9758cc0430ae1dcc64935
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-06 18:27:56 +0000

    presence/decloak.py: regression test for de-cloaking (or not)

commit 14d1cd412220e9d906b67a02862ed8020823108f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-06 18:27:40 +0000

    GabblePresenceCache: optionally respond to requests to de-cloak

commit 39d575c8c2a4333ac87877e0ce819d9f82759a5b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-06 17:40:10 +0000

    jingle/outgoing-basics.py: check sending of directed presences

commit 8d7ca1ca34a690c7788f8189349e08b80c873885
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-06 17:15:47 +0000

    GabbleJingleSession: send directed presence before session-initiate
    
    Only send it if we aren't already visible to the peer. This includes our
    avatar, detailed presence etc. (we could use
    gabble_connection_send_capabilities if this is considered too much of
    a presence leak).

commit 17451b23e5a577d7ed736c80f38a6177670a0ccd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-06 17:14:29 +0000

    gabble_connection_visible_to: make extern

commit 25d0fad58c9d213c865fa039db341e97e2eebfc6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-06 17:12:23 +0000

    _gabble_connection_signal_own_presence: optionally send as directed presence

commit da7ce416da24909566cbe58a52c5df86b19a5de2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-06 16:28:44 +0000

    gabble_connection_send_capabilities: add a method to send caps by directed presence

commit a80dd813b75295a08e4406f8d337bb405f5373b9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-06 16:27:38 +0000

    _gabble_connection_signal_own_presence: factor out gabble_connection_fill_in_caps

commit 27cba18d0fc9aee67561a9d07eae500803c8a1e3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-06 15:15:53 +0000

    Add proto-XEP for de-cloaking

commit 3fe08120e1de62687cdd3a75be11a92ba1e2c788
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-08 17:06:24 +0000

    lm_connection_register_message_handler: comment assertion that differs from LM

commit 725dd6cf4fb569e6132df69bd035639cd44cab21
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-08 17:05:45 +0000

    lm_connection_register_message_handler: remove bogus de-duplication
    
    It is incorrect to register the same  twice: it won't work
    with this implementation, and if done after connecting, it'll cause an
    assertion failure. However, the current code silently ignores these
    double-registrations if they happen before the connection is connected,
    and omits the second and subsequent use from the list of delayed
    registrations.
    
    This patch causes both code paths to lead to the assertion failure,
    which means we'll at least spot it if someone gets it wrong again :-)

commit 148fa831f05619b4020d11787c9e53daee4fdb7c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-08 17:00:40 +0000

    GabblePresenceCache: don't register the same LmMessageHandler twice
    
    The presence cache wants to register the same C callback, with the same
    user data, for two message types. The real Loudmouth allowed it to
    use the same LmMessageHandler for each registration, but our
    compatibility shim for Wocky doesn't support that usage; one of the
    registrations just doesn't get called. In practice, this resulted in
    the callback not being called for LM_MESSAGE_TYPE_MESSAGE.
    
    (I've audited the rest of Gabble and this is the only place where this
    happens.)

commit 0ce9468ed9a70c4ee2a1e88add54fb058e7c4356
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-12-28 14:18:30 +0000

    Grab UNRELEASED-checking distcheck-hook from tp-glib
    
    Fixes: fd.o#23848
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 1e56a445a34d428c0feefd7423983608bd04919c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2010-01-11 13:42:39 +0000

    Treat <item-not-found/> as the empty vCard
    
    When we want to update our vCard, we first retrieve our vCard from the
    server. XEP-0054 says that the server MUST return <item-not-found/> if
    you have no vCard set, but we previously assumed that the server would
    return success, with an empty <vCard/> node. Prosody respects the XEP.
    So, let's treat the former case identically to the latter.
    
    Fixes: fd.o#25987
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit d902fd929f26f5cecb24ba50303685d46eb500b4
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-01-09 14:12:52 +1100

    Make checks for NULLness explicit

commit e42da6e2ad14c712511555c90878f4846c089ef5
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-01-09 10:22:17 +1100

    Small style fixes from review.

commit b34f3eddc77999112467098f33ea8f32d3d81beb
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2010-01-09 10:15:56 +1100

    g_warning -> DEBUG

commit 99b587426c4a95da8815a70d0027feb37353eaf4
Merge: 644c748 2e75d50
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-08 17:09:55 +0000

    Merge remote branch 'maiku/freeing-fixes'

commit b4fe3d04f29f6572f0d4635e7397fb48bbdce1fc
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-08 15:03:24 +0000

    Don't free strings not owned by us

commit 6b99c9af6ac674710a04f21a3a43555d52934f1d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-08 15:03:06 +0000

    Ensure that the Initial{Channels,Handles} is never NULL

commit 644c748ced34ac54eff4f0818d5d9fd42e42c846
Merge: 35f3910 788d787
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-08 13:50:32 +0000

    Merge branch 'trivia-before-decloak'
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit 788d78767b81c83012c35ef4616a34bab94d9fbc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-08 13:45:23 +0000

    COPYING: update details of XEP tools

commit 36c723d35353b1ec708c027ea2ea69718e7ca508
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-12-27 15:31:35 +1100

    Extend test

commit 9ca42ee011b7f9ce8a549d97dfc004dd16932ff4
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-12-27 15:15:19 +1100

    Beginnings of a PMUC unit test

commit d4f8c583bd9cb478177c2346cf795a18f9aade5b
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-12-16 14:31:26 +1100

    Refactor a bit so that the Conference interface on named MUCs
    
    The spec implies that you can create a new named MUC using the Conference
    interface. This currently isn't implemented quite right, because if the MUC
    already exists and you join it, but with properties from the Conference
    interface, these probably won't work the way you think they should. Probably
    needs a stack of tweaking here.

commit 13cf3b90958650fe50847674637aa1737eeea206
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-12-16 09:52:26 +1100

    Some small fixes to props

commit 94b7a84ca77489c97c7d6a6aef8d7c232a79fc56
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-06 13:48:08 +0000

    Move xep.xsl into docs/ and add xep.dtd, xep.ent, xep.xsd
    
    The .ent and .dtd expect to be used from the same directory as the source.

commit 8c957bcc81f36bcf9d54113ed6441736a29e63d4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-07 18:04:48 +0000

    exec-with-log.sh.in: put timestamps in the log

commit 5c1feb9385aa24636b14593046b6707029fdab48
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-07 17:24:55 +0000

    GabbleMediaChannelPrivate: turn bitfield into genuine booleans

commit 59c5fea47d2054f5160dc152142454ade878f32a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-08 12:30:47 +0000

    GabblePresenceCache: assert that caller supplied a connection

commit fab38837b0a6baf7147c7b614f4a37d8b8455196
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-07 18:01:35 +0000

    gabble_presence_cache_set_property: simplify construct-only 'connection'
    
    There's no point in defending against already having presence_handles;
    because connection is construct-only, it can only be set once.

commit 885c027079e9568fd620f4b9d66a010990a222c5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-06 17:10:34 +0000

    JingleTest2: optionally send roster during prepare()

commit 9821afdc553a513fe1c657dc20e5f2a7d77348bb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-06 17:08:39 +0000

    Jingle tests: be robust against receiving NewChannel[s] for contact lists

commit d71e033164d5f5e2f9614eebec14bb25a850640b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-07 12:59:49 +0000

    test-wait-for-caps-incomplete.py: don't crash if the test fails at the end
    
    It was using a nonexistent object as the assertion message.

commit 35f391063fd31c0e436ccedac9541620848baa60
Merge: 274ee25 be01642
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-08 13:20:08 +0000

    Merge branch 'bare-jids'
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit 1125f3ffdafc805f327e342c8dad480ad8e77ebb
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-12-15 22:49:06 +1100

    Add Conference immutable properties to PROP_CHANNEL_PROPERTIES

commit 7e2553e7146bb65b8b5aa2c4177e52385eea5114
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-12-15 22:36:53 +1100

    Add Conference properties to GabbleMucChannel

commit 944001868ae654632c5eeb19dc2dad8f601d36c4
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-12-15 09:24:39 +1100

    Add support for <continue/> to invites coming from InitialChannels

commit 6a33b71a82e8adef4351b39acb8afd204caa6d35
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-12-14 15:59:00 +1100

    Remove API from GabbleImChannel

commit c316c817d2a34c5d890c93acc5b734036f4b3952
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-12-14 15:56:49 +1100

    Use GObject properties instead of introduced API on GabbleMucChannel

commit c64e247fd8eef9267767b79a8734f7a80c3e0be1
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-12-14 15:07:30 +1100

    Invite initial invitees to MUC

commit 0f51f4def0b336879d76baef8ea040133ee3f179
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-12-14 14:49:01 +1100

    Actually connect to a Google PMUC

commit c11dce49c1bdbfc592a033f5e5a6d2462824b827
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-12-14 13:18:18 +1100

    Process InitialInviteeHandles and InitialInviteeIDs

commit c01dff2ef4cb114e23417b7301b37d52961a3c09
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-12-11 21:49:40 +1100

    Look at InitialChannels and build a set of Handles

commit afe42bd4046a57103baa15755eb6de51171d4849
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-12-11 17:52:38 +1100

    [MucFactory] detect conference channels and add a stub for handling them

commit 52c2ac17274a524cae7b2d3c937c93582a5d09fc
Author: Danielle Madeley <danielle.madeley@collabora.co.uk>
Date:   2009-12-11 17:01:24 +1100

    Include Channel.Interface.Conference draft from tp-spec

commit 274ee25fafc97818a91f9f3b1f2b5881bf70d56a
Merge: bb62f35 ff8b997
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-08 11:52:00 +0000

    Merge branch 'muc'

commit ff8b997a6348a4fc87c832d901c0176958dfded8
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-07 16:03:42 +0000

    Unref the WockyMuc object when disposing the MucChannel

commit ed835404db22113719cfb8235ee628d858e4cb1d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-07 16:03:08 +0000

    Update the presence cache from the cache in muc channels

commit 174d89b56330e546116c5294e221fea736de4df9
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-07 16:02:16 +0000

    Set object GValues with set_object

commit 200c2b91f40ea3859d9402c7e2d7d35f9e0433e3
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-07 16:01:11 +0000

    Expose api to pass presence message to the presence cache

commit e8cb6fa8350fd9fc82b80dd1c33da6c6b02b6818
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-07 13:37:48 +0000

    Handle tube presences in the intial presence

commit f1ef705a545d84fbd92da2e6837bcf2242e544eb
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-07 13:37:26 +0000

    Correct refcounting when requesting multiple tubes from one muc

commit 0cd7f9df38066a399fb8abd03ca465e142adaeec
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-07 13:32:47 +0000

    Streamline some code slightly
    
    Instead of jumping through hoops with g_hash_table_foreach, iterate over the
    hashtable. Also no need to assert something is of a certain type, static type
    checking ensures that already and if it's NULL things will explode anyway..

commit f66b28b14616aa330444956c4d669bc13c404f08
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-07 13:31:09 +0000

    Small race-protection

commit 2cba8f33c47389cc5acf126ff455fde2d1aae193
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-07 13:30:41 +0000

    Use the right muc namespace for participants

commit 2c5858e58b8c68eb217311819ba404f58eb5f0e0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-05 18:13:21 +0000

    Explicitely tear down the muc channel
    
    A MucChannel owns the Tubes channel associated with it. The tubes channel uses
    a tp_external_group_mixin, with the MucChannel being the external. Which means
    there is a reference counting loop that must be explicitely broken.

commit c3790d1cf16ad88d11b1844155206a09e8003a03
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-05 18:04:04 +0000

    The factory should emit new channels, not the text channel

commit 7e8a6e05b04511526df353fb727a5671a6a5e31e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-04 13:10:53 +0100

    Be resiliant against other group flags changes

commit ae4be50782e52dcdea3a6e40e04ef4a43713f8a7
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-04 13:09:40 +0100

    Handle the fill-presence signal

commit 526208c2475dc1eaccddc96238f10a2073e6720e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-04 13:08:31 +0100

    Use the right bit of userdata

commit 85b79963c03b918834a8ede0a676bb8add7b757c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-04 11:41:14 +0100

    Add status and vcard info to the presence we send to a muc

commit 3a5ef8587f9c5808fdc3d8cda71681644acbf968
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-04 11:39:47 +0100

    Set the members of a muc

commit 086c53ed3bb32a00aaa14b1389668c1f3c9b40cd
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-04 11:39:04 +0100

    Reset jid when retrying to join

commit 96af7bbe896abf2869467d087416d6596022ea98
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-04 11:34:13 +0100

    Factor out code to add the status, caps and vcard to a presence

commit 6444150d0740eb7d9f7c65a323bfd5430eee1dba
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-04 11:28:16 +0100

    Use assertEquals where applicable

commit 5307940a67aff7e2d503ded843d86ec553941472
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2009-12-27 19:35:45 +0000

    First attempt at moving the muc backend over to wocky, and moving most of
    the tubes support into the muc-channel object. Builds, most tests fail as
    of this check in.

commit 4117ccd6d750f36933ab2d080e9934a53e987e10
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2009-12-27 19:34:13 +0000

    Change ..._channel_presence_updated to take the LmMessageNode, not LmMessage.

commit 0cc0b0a3dc36706805a4f7587fc499d376280f03
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2009-12-27 19:33:11 +0000

    Move GabbleTubesChannel typedef to types.h header to break circular dependdency.

commit ba54c2a031a957d3c2815a2d048efe3180a7ea62
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2009-12-27 19:29:23 +0000

    Expose some utility functions related to gabble/tp specific MUC functionality.

commit 765b21af67f0cff378ca8faa65e06e9b506d2229
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2009-12-27 19:28:41 +0000

    Expose underlying wocky porter to things using the connection object.

commit 3cbc88298eb86870c6258a39336d92d3d029212d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2010-01-08 11:31:22 +0000

    Update to a wocky snapshot with initial muc support

commit be01642d29ebca226c6bbc593e1f71396cdada64
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-06 13:16:55 +0000

    Represent bare jids as resource = NULL, not resource = ""
    
    The RFCs don't explicitly say anywhere that the empty string is not a
    valid resource... also, it's cleaner this way. However, this does mean
    changing a couple of function signatures.
    
    Also move the definition of SESSION_MAP_KEY_FORMAT close to its only use.

commit 2e75d502a47a85bd321acf7e5eef6e957f542a53
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-05 19:40:11 -0600

    Free GabbleCallStream's endpoints when disposing.

commit 2ef7cddac66cd4774c17e920a4476dc3070bc2c8
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-05 19:39:36 -0600

    Free GabbleCallContent's streams when disposing.

commit 96f0832a0cb115a6d147b355729bdf1910e30d59
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2010-01-05 19:38:02 -0600

    Don't unref an object that isn't owned.

commit bb51ec50a7355cc8aa63889bc6b9206cb2571a6e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-05 19:29:34 +0000

    various Jingle tests: test calls to/from bare JIDs where we have presence

commit b357797a99d19fbbb54040f4f644652362264cbd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-05 19:03:53 +0000

    jingle_pick_best_resource: allow the bare JID (resource = "") to be chosen

commit 2185b62068be9ebfec0b819d7092f1048d3662d9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-05 19:03:24 +0000

    GabbleJingleFactory: allow bare JIDs to call us
    
    Represent them by resource = ""; adjust a debug message to be less
    confusing in the presence of potentially-empty resources.

commit 11f1a294df976be6f7bcf19d5d1b1bc18c7e99f5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-05 19:02:09 +0000

    GabbleCallChannel, GabbleMediaChannel: improve debug for existing sessions

commit 93d4bf4f917007dc10cdbd2d0cbe456c34d2c492
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-05 19:01:16 +0000

    gabble_presence_resource_pick_best_feature: disallow "" as a resource

commit a205d8533786c18f1eac8ee4e3829a16f61b4abb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-05 19:00:51 +0000

    jingle_pick_best_content_type: allow the resource to be "" (bare JID)

commit 25bfdf35f13d8bcfcb47e8a0d930eba9f55c4dc6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-05 19:00:04 +0000

    gabble_presence_pick_best_feature(): add
    
    This is analogous to gabble_presence_resource_pick_best_feature(), but
    checks the aggregated caps of all resources (or, more usefully, the bare
    JID's caps, if there are no resources at all).

commit c9ce806c55027c5c9da866b3ba595698717d617b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-05 18:59:09 +0000

    gabble_presence_has_resources(): add
    
    We'll sometimes need to deal with presences that have no resources, just
    presence for the bare JID (like gateway users).

commit e32d1a34e0e5ada12d80630286adaf3b76b741e3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-05 18:58:09 +0000

    GabbleJingleSession: allow resource to be "" to indicate use of a bare JID
    
    Calling XEP-0100-compliant SIP gateways will require this to work.

commit db4f843ac9d4b0b6f7e5608a3f1a0d2c6747d667
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-05 18:56:47 +0000

    Jingle tests: get the peer's full and bare JIDs from the JingleTest(2) object

commit 5c6a2e027c2db05c7760a2ac58436a21f59cb51c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-05 18:53:22 +0000

    jingletest, jingletest2: also remember the peer's bare JID
    
    This is useful for assertions involving TargetID.

commit bb62f35a3a916a68f6750f234f2d5cb6b20d3a58
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2010-01-04 16:28:25 +0000

    Remove unused register.[ch]
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit 60681ce1a3418668ec04d4a472bc995a7e399740
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-28 19:36:21 -0600

    Wait for CALL_STATE_PENDING_RECEIVER before sending session-initiate.

commit 3d4e2c865c72bc30db5346fcd84575e88aebcf97
Merge: 52e72ad fd2dd27
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-29 14:11:13 +0100

    Merge branch 'new-media-spec'

commit fd2dd27e7478995631ee0b2815a5c4089a2e4b47
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-29 12:19:51 +0100

    Improve comments

commit e51c5d8fe6d89dbc7e8e10dc7dcb9ec3a715e64f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-23 13:13:01 +0000

    Remove the obsolete add_payload argument to generate_contents
    
    Now that generate_contents is only used go generate the content for the
    session-initiate and session-accept stanzas the add_payload argument isn't
    needed anymore.

commit 27e9e0e749d723f02863c8cafa48dfbce02ebba3
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-23 13:10:06 +0000

    Call remote-candidates with the stream it should apply to
    
    This allows us to send the transport info per stream we have and makes it send
    the right transport-info stanza. Also tweak the GTalk Content and Jingle
    function so it understands cases without a description correctly

commit b4517917e02cb3ea04eef8c982f6bf844c94319b
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-23 13:04:58 +0000

    Make the senders and description argument to Content optional

commit 715144e83d0a3a73ce691bcac62c29f8a7b8868b
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-10 19:14:38 -0600

    Convert Content() in JingleTest2 to take transports and descriptions separately.

commit 432cea8bd2d6f03414497239b5a43ca6739fcde4
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-08 14:30:41 -0600

    Add a flag to include payloads in generate_contents' output.

commit dc74b6dbb8506b9a7c8b7a88e6821fafa5658ff1
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-03 22:54:45 -0600

    Add tests for SelectedCandidate's property and signal.

commit 0b0a3f3505e1159f29cca78dc04854e13e8102a5
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-03 22:42:52 -0600

    Add a test for the RemoteCandidatesAdded signal.
    
    Because of fdo bug #25426, adding remote candidates using the GTalk v0.4
    doesn't work if Gabble initiated the call. It can't be tested, so just skip
    that mode for now.

commit b11057f3bee51779944589fb61ba0f33c77b5ec6
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-03 22:38:23 -0600

    Move StreamState related tests out of the incoming condition block.
    
    They are applicable for both incoming and outgoing.

commit cc8fc4fb9e58fb99f00f412b48f27208763842d8
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-03 22:19:57 -0600

    Move LocalCandidatesAdded and session-initiate into an expect_many.
    
    Because one is a dbus-signal and the other is an xmpp stream-iq, the order
    wasn't guaranteed. The two signals were sometimes, although rarely, out of
    order, which caused the test to incorrectly fail.

commit 3fd33feeec42f42f3895bc0d857d1f0bd3f2816c
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-03 22:02:07 -0600

    Modify get_call_remote_transports_dbus to reflect what Gabble actually returns.
    
    At least for Google P2P transports.

commit 6e2afb4bed192140612dae0ee9514f1092be79ec
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-03 21:59:53 -0600

    Add a remote_candidates function for sending remote candidates to Gabble.

commit 2afce0f46464468a23db149d43495f57ed64d7f5
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-03 21:55:40 -0600

    Have generate_contents add transports instead of payloads if they're passed.

commit f2cc24398b6d9290a5df9bf71b551a365a1d62db
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-03 21:41:01 -0600

    Remove GtalkProtocol03's dummy TransportGoogleP2P as it's not valid anymore.
    
    The transport node will be ignored as usual, but if there are candidates,
    the content function will grab those instead.

commit f5576e64026785483cd4867d565bc3443da5d78d
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-03 21:50:50 -0600

    Return candidates if they exist in GtalkProtocol03's Content function.

commit 54c76cc4de42d56ab6a14e10aa0f5f3d01ac2fec
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-03 21:39:11 -0600

    Fill in GoogleP2P candidate nodes when remote_transports are passed.

commit 9663eb9cf4fa669b509754e738100d909338f215
Merge: 0042f76 2a8704d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-28 21:24:48 +0100

    Merge branch 'new-media-spec-channel' into new-media-spec

commit 52e72ad406268d096ba2763c72b05ee859110f91
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-12-28 18:19:10 +0000

    Update Wocky to ship test certs in out-of-tree builds
    
    This makes Gabble distcheck successfully if you build out-of-tree.

commit 0042f760f5ce99761bf12de4132d5f2d9bd6c8b6
Merge: 59eee74 def0f7a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-25 12:49:41 +0100

    Merge remote branch 'maiku/remote-credentials' into new-media-spec

commit 2a8704dfeedfb8f956ee199e2cb3452ffd655fd6
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-24 17:04:47 +0100

    Use constants

commit c768af1e0bc9180a7d9c4f2bb82d7b57dfe8e4dd
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-24 17:04:32 +0100

    Webcam streams should be of type Video

commit a5b39df2b89ea28aca1aefac44a7e7177a3a55b0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-24 17:04:12 +0100

    fix identation

commit 40bca678861e488ddc898f149c5d52e11930eeeb
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-24 17:03:03 +0100

    Fix identation

commit 43b567fc61ae7aa20a991b89037d6bfd477577b1
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-24 17:02:48 +0100

    misc tweaks

commit ec46d41ddb1fdc23eaacdc3cda1921738124dd88
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-24 17:02:34 +0100

    misc tweaks

commit 0a5b021d9a462b4ba437eeff9218acc4aba91d14
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-24 17:02:19 +0100

    Free all data in finalize

commit 94686c7ab29982f17d8f6a559334d4bc352f1a43
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-14 18:23:19 +0000

    Test the CallMembers property a bit

commit 7dcaf21aa8a0530c4a044d179ac6c1de3b903243
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-14 18:23:07 +0000

    Implement of CallMembers

commit 4e2b39860cfc530a4b31d12dc01ae6a84aa083f5
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-14 16:17:27 +0000

    Correctly implement mutable contents

commit 03a733985935c1a0cd9b4415fb16485e315b1814
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-14 15:18:03 +0000

    Test the Senders property a bit more

commit 1387e1dfba25d1e0aedc31329d7cddaf96ff8801
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-14 15:14:51 +0000

    SendersChanged should only have updates not the full set

commit b2b102478c50f5bbe54a658a5b20b883da6349ab
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-14 14:54:10 +0000

    Even if the protocol doesn't have a concept of senders keep our internal state consistent

commit da1e31643920c29ead48cdc2ee51b9dc09eb694c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-14 14:53:32 +0000

    Implement SetSending and ensure the Senders property stays in sync

commit febcc8cbebabf6f3f561aa7dab9c011fefcf59c4
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-14 14:53:00 +0000

    Add a utility function to change the direction to sending from out side

commit dfaffe9515cb6ea1284eb01a7dbb3fbdb63d7517
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-14 12:31:55 +0000

    No need to get the GabbleConnection from the JingleContent anymore

commit 111d79afadd97920803d6d2fbbe8ef573b28f055
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-14 12:31:09 +0000

    Check sender states after stream acceptance

commit fd22819d6f3e3e6854656779079a4f23e4b8f3f3
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-14 12:30:50 +0000

    Update the sender states whenever the content state changes

commit 6fb364ddb2ba7c1bd517e11185023c341c5f51d5
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-14 12:04:47 +0000

    Slightly simplify determining the transport type

commit 51a2f36a94c38097133aa6ed6a2b545bcfcc3871
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-14 11:54:14 +0000

    Add basic testing for the Senders property

commit 80fccd484c8584803715155cbca0322ec0dd4ffd
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-14 11:50:59 +0000

    Basic implementation of the Senders property

commit 2230c87670bf197f7c08934685075c7c0e2e28f7
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-14 11:41:46 +0000

    Pass the GabbleConnection on to CallStream objects

commit f44903097d2f8b372648775e3619f09b72acd38e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-14 11:34:38 +0000

    Add functions to see if the direction is sending or receiving from our pov

commit 6d6de3058b6a6ccc76834f1b386da4d27f4031c6
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-11 14:44:22 +0000

    Test Name, Creator and Disposition properties

commit f988362df3a8c289e4e4e22252968eae26e5c975
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-11 14:37:25 +0000

    Add a name argument to the jingle session
    
    Allow other bits of code to suggest a name when creating a new content
    in a jingle session. Also default audio/video streams to have respectively
    Audio/Video as their default names. In case of content naming colisions
    suffix the suggested/default name with _%d to prevent confusing clients that
    think content names are unique.

commit d5153d2576c298bb2c1c209aadbd8a8b584f716d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-11 14:33:35 +0000

    Implement Name, Disposition and Creator properties on Call Content objects

commit 697b3a565afebd0591613d304f6835ba4ee09275
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-11 12:39:54 +0000

    Test adding a video stream

commit 5d6224f06a815bc7cddb0b589e4a7ff65d6c646f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-11 12:39:23 +0000

    Implement the AddContent method

commit 2df8c9711cc2884d0142f2e00d1f3a70b95820a5
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-11 12:37:50 +0000

    Use the first transport of an incoming stream as the default transport

commit 96fc1af6420668395bebeae767f61353b2eff0ec
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-11 12:33:32 +0000

    Make call_channel_create_content return the object path or an error

commit 9cf9b5807fa7e2ab4c50ea1c40c2433939969c24
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-10 13:22:36 +0000

    Test Hangup

commit 256c7204de034c4af36bf20c23a0c783ae8497ef
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-10 13:22:20 +0000

    Simple implementation of Hangup

commit 8510a2d3a93b2396f48f4c576639546a538a263c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-09 17:20:38 +0000

    Test the CallState tracking

commit b0efecd0abb47f3aaf06b6df9c88095b8a3a5ce6
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-09 17:20:16 +0000

    Implement CallState

commit d5479c33719c44cd5fd9003eac885e001bde0c65
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-09 11:43:45 +0000

    Get all call state properties directly from private fields

commit 8560c86414e6dd76102abb3999197432d8d8c5a0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-08 17:45:25 +0000

    Implement dummy versions of various properties

commit 492f580abf7a60036d038ccaf243273a4663d8fb
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-08 15:23:18 +0000

    Implement the HardwareStreaming property

commit af8d7b5130c1a1e8de134792fad85a1793188660
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-08 15:22:44 +0000

    Indentation trivia

commit a11a3869957de24d6499872f2d05421451637545
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-08 14:47:34 +0000

    Implement dummy version of Ringing

commit 59eee74f16517a6e616cc894fa0e13765e424bde
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-24 01:10:12 +0100

    Use the protocol parameter from the remote transports array

commit 14da889010e8855b299e0dbc88e7cdd4d7b03a8a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-24 01:09:52 +0100

    Fix indentation

commit 6a138241850759b9486905691513c61e7f696fe1
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-24 01:09:39 +0100

    Also check the removed array

commit 6f8a50f64fe088652ec18cd3cff436e97828be66
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-24 01:08:42 +0100

    Use assertLength where applicable

commit f02e8e9a500af3e08acce3c31eaf7bd04da0fee9
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-24 01:06:12 +0100

    Translate the internal media type to the tp media type

commit 60c84d7bb36651df1bebf9644ce5c89f1768295c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-24 01:01:08 +0100

    Use G_PARAM_STATIC_STRINGS where applicable

commit dc2143525032a8e4f17f6492c69a7b86849223f3
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-24 00:53:40 +0100

    Assert that object patch are non-NULL after setting them

commit d858076ae1c30804e10473ab76840840bc275323
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-24 00:49:12 +0100

    Fix various coding style and types, also remove some dead code

commit 457e905ea89139eaceffc19879fefd58e1ccae0f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-23 18:42:59 +0000

    Remove duplicate second definition of TWICE

commit def0f7a8cc63ac02eeabdf638614c1667f3cef46
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-23 12:03:39 -0600

    Don't set remote-credentials until we have better Jingle infrastructure for it.

commit 59ee534da955e4c8a2a83d2d35a6ea9005303ada
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-23 15:24:41 +0000

    Fix identation and remove superfluous code

commit c949e18f33dbc27733e7a4c3dc816925f568fcb0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-23 15:20:40 +0000

    Fix identation

commit f6c0a077649de0424dc0747e5e4a9d794b43ed2a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-23 15:17:47 +0000

    Use G_PARAM_STATIC_STRINGS where applicable

commit e6e4e07ff245d844a12fa05bcec549b765c92fbb
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-23 14:55:27 +0000

    Fix indentation

commit e147bfa89e3335b945f113f3aab1d99d3dfe7c52
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-23 14:36:18 +0000

    No need to check for TARGET_{HANDLE,ID} twice

commit aa89ff9cb8a984d3e8edd77ee557488d2f3b9ac8
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-23 14:34:24 +0000

    Type fix

commit fd63dc3201fc4624bbee916a770c10e1b7dc5c92
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-23 14:08:59 +0000

    Use tp_asv_* to create channel classes

commit 671acd828790db49845cf4ea4bf098d27ac1e259
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-22 22:37:56 -0600

    Use GABBLE_STRUCT_TYPE_STREAM_CREDENTIALS constant.

commit 055748176df1f26d5fb03cb6c78033297fa79237
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-22 22:17:53 -0600

    Initialize remote_credentials in init.
    
    This allows the get handler to be simplified and fixes a possible issue of
    freeing remote_credentials without it necessarily having been set.

commit 09c50d4b1e9e0dd98646aafae368e0fb7eac11ca
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-10 19:47:49 -0600

    Free remote_credentials on finalize.

commit b7d4223970c7dbf977e43c58f49cf41ea05d8d63
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-08 15:47:48 -0600

    Fix shadowed variable error from rebasing.

commit 6f09a8b44503f8209a92001babdba6660af91796
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-03 20:23:09 -0600

    Set RemoteCredentials and emit RemoteCredentialsSet.

commit ce858b243b8fe883898b9bcd1c5f77cf70e211fa
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-30 17:41:01 -0600

    Add the RemoteCredentials property to GabbleCallStreamEndpoint.

commit 72450d40bd46b2bead92f1e1a141c008261b879a
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-29 22:45:00 -0600

    Add a test for GabbleCallStream's LocalCandidatesAdded signal.

commit 03e683794080e1f75d4d4fe3f81272e87053d04d
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-29 22:44:31 -0600

    Emit GabbleCallStream's LocalCandidatesAdded signal.

commit 460065f9f5d4cfdc022faec360d0612e69a36ff4
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-22 22:03:50 -0600

    Fix some minor style and initialization issues that were caught by make check.

commit 91fc8f1f8e4ea7bcd9e68c1be4aaedb1ef7d0b7b
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-22 21:32:10 -0600

    Initialize selected_candidate to an appropriate value.
    
    This simplifies its get handler and fixes a possible problem of freeing
    regardless of whether or not it was actually set.

commit 10636a399eeb206494ff1bb10f747d152e21656d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-22 12:47:55 +0000

    Post-release version bump (0.9.3.1)

commit 8170458b10489bb44a5357a208b588ac553087a1
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-21 14:36:23 +0000

    Bump the version to 0.9.3

commit 0da2e837c129da054c1deaab451e76d913e003fd
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-21 16:36:01 +0000

    Update NEWS

commit 3cf6b96cd04b6da227e4f9b09ea304cd64f1b61f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-22 12:11:43 +0000

    Update wocky snapshot

commit 07289e06dfdc6ae581dbb679028211cc09a53d0c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-21 12:21:11 +0000

    Updating the wocky snapshot

commit 8c78a28e070f05dd93a1ba34acd784aced4689ff
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-20 18:01:07 +0000

    Update wocky snapshot

commit 3b02ffcb24b7cd77b503e7f729f9b688d03b102a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-20 17:49:50 +0000

    Update --enable-gtk-doc configure flag name

commit 9e505634f874b1b74d9f50089164ca7241f37558
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-20 17:18:19 +0000

    Test for the source file, not the target file

commit 1875107f9ed94dfaf8bcdb9347c0aca7dbe29aa0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-20 17:15:43 +0000

    Make AX_CONFIG_DIR_IMPLY AC_DISABLE_OPTION_CHECKING
    
    Turn of warnings about unknown options as this also causes warnings about
    options from submodules. AC_CONFIG_SUBDIRS has the same behaviour

commit 65e4514df2949262d11963f59f205375582533ad
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-20 17:12:44 +0000

    Append configured subdir to _AC_LIST_SUBDIRS
    
    _AC_LIST_SUBDIRS is used to by ./configure --help=recursive to show the
    options of the submodules. AX_CONFIG_DIR should do the same

commit 5211db62c20c9adbb681ce0c56aec29c2ad24fc4
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-20 17:12:12 +0000

    Add ax_config_dir from audacity

commit ca188951b8ab8315451893fdc58375cc99d4fbbb
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-20 15:21:46 +0000

    Sync the tests valgrind command with those of the twisted tests

commit a857b7e03a43a2108d2690f7e1e205dc86188a2f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-20 15:21:22 +0000

    Disable DBUS mem-pools when valgrinding to prevent false positives

commit e0649c2ad46f37c02ff5ba24545f32514750df57
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-20 15:20:40 +0000

    Add gabble specific suppressions file

commit ffc91551f1857a7b611793256c54bd2f3d318a88
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-20 14:38:37 +0000

    Move the suppression file to a more generic path

commit 796c2ef9fb32300fe70b53294d8ff9f441cc9bf6
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-18 19:49:21 +0000

    Update wocky snapshot

commit 3bb21486495e4bd770e050c580dc6a6c7d0db00e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-18 19:22:49 +0000

    Test that we don't accept open iq for unaccepted bytestreams

commit 9b601eb70dc3b160e045a2afce26d114692786c8
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-18 19:21:37 +0000

    Don't accept an open ibb iq if we didn't accept the bytestream yet

commit e8aaf40b493af783addedb613238236f53c50eb6
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-18 16:10:24 +0000

    Wait for the stream-iq reply before opening the bytestream
    
    We should wait with the accepting side to accept our bytestream before sending
    data over it. Also change things around a bit so a tube with a different id is
    requested every time which makes debugging slightly easier

commit 98ef3cb6dd1d238f1babb4eccca0e69919f05251
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-18 15:28:44 +0000

    Test that the tests waited for the stream-iq reply
    
    By the time a test calls open_bytestream it should have waited for the response
    to the stream-iq. If it doesn't races can occur which are hard to detect and
    debug. So add a small boobytrap in open_bytestream which explodes if a test
    didn't call check_si_reply, which it should have called after getting the reply

commit c80cc5490e81dd791a0277a34dd1f11efc93a71a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-18 15:23:41 +0000

    Leave the Disconnect handling to tp-glib

commit 6c3fee622752404275333df672d0d0970b819cf2
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-18 14:28:02 +0000

    Make sure we only call the callback if it's still alive

commit 67e61a2f508c9ed75fe7b892c52f7fae53f49cf6
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-18 14:22:26 +0000

    Free some memory allocated by gabble for debugging

commit 77d25997f19843f2fb7c685df1fff48e9f717a38
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-18 14:21:08 +0000

    Deinit wocky at the end of the run so it can free some memory

commit 970b3ab0cf5e94aa58d4c90a1b1640ac032eca00
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-18 14:19:46 +0000

    Remove now unused out label

commit 661be7bf14fa851f5bd04ebde1fd6e747d854982
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-18 14:19:29 +0000

    Chain up to the parent class so it can free some memory

commit f2caa16d08e8203de9899959814cd3281991e3f6
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-18 14:12:48 +0000

    Fix usage of potentially freed memory
    
    In various error cases the data buffer in the socks5 bytestream gets freed
    directly, in such cases don't try to return the lenght of said buffer. Instead
    return -1, which, in case the buffer isn't freed yet, will erase all the data
    left, which is exactly what we want.

commit 40f6db89083907719baf0523d7673b13ebb86873
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-18 14:10:46 +0000

    Fail early if we can't get local ip address to prevent leaking memory

commit 666feae2d300e2818908d6e60c1a7be7c1c499fa
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-18 14:09:57 +0000

    Don't leak the intset returned by tp_handle_set_update

commit 45be548bfe8594d805230887f1bb45f6207e9f0b
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-18 14:08:35 +0000

    If there is a destroy notify, call it

commit f69eb69684c17cf0ab363b09dbe231bbe5c119ce
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-18 14:08:15 +0000

    Also unref the LmMessageHandler in error cases

commit c3929608e3c1a2e3679861c7ede948881fdc7d1c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-18 14:06:53 +0000

    Initialize the buffer used in a cmsg to zero
    
    Initializing the buffer the zero prevents false positives from valgrind. Also
    fixed a small code consistency issue

commit 27bb1340e0d4ea8594709bc0d4a5db86106359bb
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-12-10 20:38:14 -0500

    plug various leaks

commit 8f38439db7085dd668f051d73ed5ebb365fa35d5
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-12-10 20:32:25 -0500

    update copy of tp-glib.supp

commit 04514132d08651444403f2b0156fff5c5f4717da
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-12-15 19:01:35 +0000

    NEWS for fd.o#25341

commit 244f587f4cd5a21613f17e7b3df234307b9a8655
Merge: fec6a62 1340421
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-12-15 18:57:41 +0000

    Merge branch 'fd.o#25341'
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit 13404217de857b28e64d2d16a8c012e2d539cb51
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-12-14 17:55:40 +0000

    Test that the fix for fd.o#25341 works.

commit 67017d09534c017ea549dfecb10047373cef15fb
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-12-10 14:09:19 -0300

    conn-contact-info: Improved error handling for RequestContactInfo.

commit 06679b0d02f0c5c7099d76fc491827537f17fb01
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-12-10 14:02:50 -0300

    twisted tests: Improved test for overlapping SetAvatar/SetAliases/SetContactInfo.

commit eb9811cc84881464ff338652cfd399935650b73b
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-12-10 13:52:10 -0300

    twisted tests: Improved test for getting contact info with plural nicknames.

commit c4769783012ae2a196b30fd5a1e6691ebd6bffef
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-12-10 12:45:09 -0300

    conn-contact-info: Proper parse nicknames with escaped commas.

commit 302307ff5037ca159e521577c5a15cf452902979
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-12-10 12:28:05 -0300

    conn-contact-info: Removed redundant call to _gabble_connection_signal_own_presence.

commit 985b495e6b797bd95c90d866f9d4a2fd11288ef2
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-12-10 12:26:20 -0300

    vcard-manager: Removed redundant if clause.

commit f64983e1649b616e1b414b80cc4906f1607fa831
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-12-10 12:01:42 -0300

    vcard-manager: Document gabble_vcard_manager_edit.
    
    Document gabble_vcard_manager_edit to indicate it takes ownership of the list of
    GabbleVCardManagerEditInfo and its contents.

commit 63c22bd7582e1b143abb7496a2878284f5352726
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-12-10 11:44:55 -0300

    vcard-manager: Renamed gabble_vcard_manager_edit_extended to gabble_vcard_manager_edit.

commit 08681e74f44bdcb7f5fbbced238bc58f41a5b959
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-12-10 11:42:11 -0300

    vcard-manager: Renamed gabble_vcard_manager_edit to gabble_vcard_manager_edit_one.

commit 987bbcdbcecab467a5fd40ddf767f2be0d7faf12
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-12-10 11:35:27 -0300

    Use newly added method gabble_vcard_manager_edit_info_new/free.

commit 8009fae014445b6bd9e37625967db36d0f0d1711
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-12-10 11:35:08 -0300

    vcard-manager: Added gabble_vcard_manager_edit_info_new/free helper methods.

commit b81ea4e2153f4fed9f81addb4ac7b20c63f23bf8
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-12-09 14:15:48 -0300

    vcard-manager: Iterate over hashtable instead of usin g_hash_table_find to check if vcard changed.

commit 6de8040cbe857f1d5320e27b7401ad2eae23fe2d
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-12-09 14:04:42 -0300

    vcard-manager: Do not try to set vcard fields not supported by google servers.

commit 25f56b84854d239ff542c12467405ccfe606e706
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-08 15:15:44 -0600

    Validate the selected candidate before setting it.

commit f35857131da7584c1c5f97bd37f99fbca5c380c1
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-07 17:31:59 -0600

    Free the selected candidate on finalize.

commit 26e4e1a604a84a6f6f5428f50ccd7c95d63cc123
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-03 20:25:40 -0600

    If the SelectedCandidate is being changed, free the old one so it doesn't leak.

commit 8be13fb65cc2e51ba460caa6c223207426b9caf4
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-29 22:37:05 -0600

    Add a partial test of GabbleCallStreamEndpoint's SelectedCandidate property.
    
    It only tests what it returns when it hasn't been set yet. The tests don't yet
    set remote candidates or the selected candidate anywhere.

commit b8a3c7a61cc52ab36041c2b4d9266af95d787228
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-29 22:35:20 -0600

    Implement SetSelectedCandidate in GabbleCallStreamEndpoint.

commit 99abaa07fef94649f9bbfb602354d34d2838bdb3
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-29 22:34:24 -0600

    Add the SelectedCandidate property to GabbleCallStreamEndpoint.

commit cf9d4c93f1cd6b97ed4190f51bf163c7f1dfe53c
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-02 20:40:35 -0600

    Escape from the function on error.

commit f8e7559e7c55099851b264b44f2c64588384edf2
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-02 20:39:18 -0600

    Add the erroneously passed state to the debug message.

commit 8fde7fe14a0faed3ba7fc3701d4ee800cb6aeaea
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-02 20:37:33 -0600

    Use g_error_new instead of g_set_error.
    
    This avoids GError complaining if *err is non-NULL and I'm not using an
    existing GError, so it really is a new one.

commit c8e2cca2caba64f2868d5cf3ded9eb680ff8e8fd
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-01 18:51:43 -0600

    Validate that the stream state being set is within the allowed range.

commit fec6a6215080b612e60bea85558222e0b3848296
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2009-12-08 14:50:04 +0000

    Update wocky to fix OpenSSL infinite pseudo-read loop.

commit 92c6f043435704a14768bc859729edc10271ecc1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-12-08 14:01:19 +0000

    Miscellaneous NEWS updates

commit 61d7c72b2c0a6cde45ec9f343706cdbbc1f3f760
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-12-07 15:40:12 +0000

    Fix coding style checks for out-of-tree builds

commit 39c2a3b8779fae2a52a4d301c0b19def546c09d1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-12-07 15:01:44 +0000

    Move pmuc-v1 #define up with the other bundles'

commit 1aca8d2c74bbd0b7ab2e8e1f7e7fa998ceb8a2b8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-12-07 14:43:24 +0000

    Fall back to stun.telepathy.im not stun.ccu

commit 5fd8e6f6a177a1a15bcf21ba4dda76029c09f524
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-12-07 14:08:04 +0000

    test-muc-ownership: Remove magic numbered handles
    
    This makes the test a bit less write-only.

commit 1b9f931a2946ae1e5c94def5f844c40a9066fa4c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-12-07 14:06:47 +0000

    Add assertFlags{Set,Unset}

commit 32123d640ce85f79d027117e5a65a95a72e1dca9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-12-07 14:02:55 +0000

    Remove obsolete asynchronousity.

commit 7ede11aab37d9f25f3cda205b6b9d9b0ac2da77b
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-07 18:25:48 +0000

    Update the Call spec to the 0.19.0 version

commit 32b969078b19cf682be3dfaf287c3fb590be1682
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-12-08 10:55:43 -0300

    conn-contact-info: Removed TODO.

commit f474c0bc6827ea0b5b5926b29eca07e9c96eabdc
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-01 18:57:11 -0600

    Use g_assert_not_reached as it's more common in this case.

commit 750b02d1f092afa844ccd6f56c02cd5f3d4c4883
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-23 16:02:16 -0600

    Add a test for GabbleCallStreamEndpoint's Transport property.

commit 059c8756bc929c049c192f7e14096afc4edb3ff3
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-23 16:01:24 -0600

    Add the Transport property to GabbleCallStreamEndpoint.

commit a0422b0c6d702d276f2ba89b28df0ef72abded97
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-23 14:59:15 -0600

    Add checks for an endpoint's StreamState and StreamStateChanged.

commit 85c001df18ac18ecc2869eff7d4dd948b41cd20c
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-23 14:58:24 -0600

    Emit StreamStateChanged on GabbleCallStreamEndpoint.

commit 1e3a0535c6d9bfc9f4364c07dad372d465a7ddb5
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-23 14:57:37 -0600

    Add the StreamState property to GabbleCallStreamEndpoint.

commit d43783a4d8ff553b92d705fcd770453d23389472
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-20 13:23:32 -0600

    No need to do a runtime check and cast as it's already a GabbleCallStream.

commit 4c48bcf122f881ccc5e0a9d847716e1f4dec84b8
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-20 13:19:33 -0600

    If one block in an if/else has {} then all of them should have it.

commit e67255ebab87490e871ce9a6df4ac2444290ebbb
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-19 15:12:56 -0600

    Swap assertEquals parameters as the expected value is first.

commit 65eafeba2ee906e72c4009241b0fbad7391f10d2
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-19 15:08:48 -0600

    Refer to the got_relay_info boolean for the RetrievedServerInfo property.

commit 22fa13ce64bfbaf49bdfa77757def16b018bf4a3
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-19 15:08:19 -0600

    Emit ServerInfoRetrieved based on the got_relay_info boolean.

commit dd32f1059c72bf752288cab99c78f475f44d2870
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-19 15:07:13 -0600

    Add a boolean to keep track of whether or not relay info has been retrieved.

commit 4ee21bfb9c1d0f9d70f97d15f404079ee0f5729d
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-18 17:36:34 -0600

    Add a test for the ServerInfoRetrieved signal.

commit a129a741c0c5e6dd5bae0a54326bc9bf90168a0e
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-18 17:35:42 -0600

    Emit the ServerInfoRetrieved signal.

commit 06ca9968763354f9014df2ea86e6789b542cc608
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-18 17:33:40 -0600

    Add a test for the RetrievedServerInfo property.

commit 24589b7a968b0b9df1d258e06bbb1d044235b7e1
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-18 17:30:00 -0600

    Add the RetrievedServerInfo property to GabbleCallStream.

commit 3dd3d1a51f24fcbbf35ba4ec3a346ebc0ce8b310
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-18 16:56:06 -0600

    Update the spec to include ServerInfoRetrieved and RetrievedServerInfo
    
    This also removes STUNServersAdded and RelayInfoAdded.

commit 68b2faf97a9252b9d0f6c4add7cd3bbf92325aea
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-19 13:48:33 -0600

    Swap assertEquals parameters as the expected value comes first.

commit d02e749db14bcd684b98ccb81046609bfad6fa64
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-18 15:33:27 -0600

    Skip candidates with unhandled candidate types.

commit b736f17180b81889bcdc5a68bc3d4f2318c7ccb7
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-17 21:55:46 -0600

    Add a test for the Call.Stream.Interface.Media.Draft's RelayInfo property.

commit db5729a3b622a50ba0906647892f2f4fd2592276
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-17 17:46:25 -0600

    Translate candidate types between the D-Bus AddCandidate message and Jingle.
    
    At the time of this commit there is no defined standard for candidate types.
    Here I'm using values of FsCandidateType since that's what the new-call-demo
    is passing it.

commit a03c01995168d3c2cc69442dfc0b79cf36646427
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-17 17:45:23 -0600

    If the call is using Gtalk P2P, retrieve relay-info data.

commit 2cb3db218b0179feb18df532ecb48bcb25035160
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-17 17:35:27 -0600

    Add the RelayInfo property to GabbleCallStream.

commit 8c65c0aee2db204bbeaa265846f5794ad4266a57
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-19 13:42:02 -0600

    Swap assert{,Not}Equals parameters as the expected value comes first.

commit 20ee0a051852d9dd1f95ed187b0f481db68e522b
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-18 14:49:30 -0600

    Use the constant CALL_STREAM_TRANSPORT_GOOGLE instead of its value.
    
    Didn't see that constant the first time through. Oops :)

commit f2cb657cc5e1c8cfd48e7ed6722beb9fb0264b75
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-18 14:45:15 -0600

    Split the Call STUN server tests apart from the StreamedMedia tests.

commit 5aa88e73da42faf7529b80e3ee952e70f4d0318c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-12-08 12:19:38 +0000

    Make log-strip.py process its arguments

commit 481c0f19df9165f88a80960602cda53bf5f2a076
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-12-08 12:15:22 +0000

    Make log-strip.py executable

commit 69d8880ea0ac8f8ed5b04d621b4becba6078a357
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-12-08 11:33:13 +0000

    Tidy some assertions in caps_helper.py
    
    These triggered while I was experimenting with different places to put
    the test name, and I thought I'd fix them up.

commit d7ae6c73bce691170147d56a517e4a8d55a78431
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-12-08 11:30:17 +0000

    Shove the test name into 'account' as the resource
    
    This means the name of (most) tests appears in gabble-testing.log;
    'resource' takes priority so the test jid still comes out as
    test@localhost/Resource.

commit ac0d8fde22da281e989e6ae8ddfa6982b516b128
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-12-08 11:27:32 +0000

    Make 'resource' override a resource in 'account'
    
    This way round makes more sense to me and (empirically) to #telepathy.

commit f98bb21b2c428958ef800a47747dee98985f1e5e
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-18 14:29:18 -0600

    Break stun server check out into its own function.

commit 787defed096a6293c0dddb7ecc5985524afc57ae
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-12-07 11:04:16 -0300

    fd.o#25341: Always sets its own vcard on login
    
    Note that gmail only stores vcard fields FN and PHOTO, so when using empathy the
    nickname (alias) will be updated on every login.

commit d5c20bac9df9e93cf21700fc966abb1a82a86192
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-18 14:03:30 -0600

    Use assertEquals, assertLength, and assertNotEquals where applicable.

commit 1a8191c5b30f2cf2d0cf9f5b3e53f79aeb4daaef
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-18 13:54:48 -0600

    Use gabble_value_array_build instead of manually building the ValueArray.

commit 5e8bdf395a4e981b3edba6977dd795a0b047ac45
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-17 21:55:46 -0600

    Add a test for the Call.Stream.Interface.Media.Draft's STUNServers property.

commit caa0661d6063b83f95a2b3bd743f37ea79991664
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-17 21:53:13 -0600

    Fix tests/twisted/Makefile.am due to a previously renamed file.

commit 14e7e3bc01b5758c14b826374b260b7aba8b0b46
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-16 16:51:21 -0600

    Add the STUNServers property to call-stream.c.

commit c3fd65ef248969d7752fd53ffca95710d5835165
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-16 15:19:07 +0000

    Implement CandidatesPrepared
    
    For jingle candidates prepared is basically meaningless, so the implementation
    just returns successfully right away

commit 6003f397d551eb98877997ee92528f9cc4095d06
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-16 14:45:25 +0000

    Test both incoming and outgoing calls

commit d2bdf42c1cdc37fadaac4456ca9fb679d09afb07
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-16 14:42:57 +0000

    Add a FIXME for the CodecMap implementation
    
    The ContactCodecMap property always includes both the remote and local codecs,
    while it should only have the remote codecs if we accepted them. Add a FIXME
    for this

commit 3290635d0c9a3e80a586ffde7ba7bd5774c9ae98
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-16 14:42:34 +0000

    (Re)set local codecs as result of an acceptance of a codec offer

commit 8d6db8a7456020f5d58c1c5751806f4fa8c55ec6
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-16 14:42:06 +0000

    Spawn a codec offer a result of an incoming call as well

commit 77dd42ef89d7fc065d1d7839d789539bc72f18cb
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-16 14:41:32 +0000

    Implement the CodecOffer property

commit 8636b86452847b36a21a117b2f9bf9a114ebb804
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-16 14:22:25 +0000

    Implement Call.Endpoint.SetStreamState

commit 075947fab70ddc0983118a6a4aab6194a3bb477e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-16 14:22:05 +0000

    Impement CallChannel.Accept

commit d43a586dee6d609535bd7dc3b261264092719ae1
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-16 14:18:30 +0000

    Refactor CallContent creation so it works correctly for incoming calls

commit 7fe31f016103e4f1802f563f8519e8121dd27879
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-13 17:20:40 +0000

    Update spec draft

commit 7adafb18cd06821fa1cde3010eadb78d88b24aa7
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-11 17:37:35 +0000

    Update the spec snapshot

commit d1444c1a7941722a524bbfada146978246f6bb9a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-11 16:09:16 +0000

    Use constructed instead of constructor

commit d609c350a3cd617a0ee2a3718ea17578ea3c8d93
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-11 16:07:54 +0000

    Use call channels if one client supports it

commit 8a0d428240d1fec555557f99bc79caeca3537409
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-11 16:03:44 +0000

    Tell CapChannelManagers that their caps are going to be reset

commit f8d6a5fb853eb1e216778ed73fce120e237831b0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-11 16:06:58 +0000

    Refactor the call channel creation code a bit

commit 9f232b218bb4f3340a65dba53684365d58adbcf3
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-11 13:21:04 +0000

    Test the implementation of the Transport property

commit cbf51c27199ec3d3bdc8478ae12ee5aedde08b1a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-11 13:04:54 +0000

    Implement the Transport property

commit 068a2736890609e7ab5349fd417cd0ec6a8df9eb
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-11 12:52:55 +0000

    Check if the Content has the right type

commit c249abb214c6e388a2c4adceb82faf7454e02835
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-11 12:51:24 +0000

    Implement the Type property on Content

commit 236a4f41ea7d657c90d8d30950548eca53b43e55
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-09 15:42:27 +0000

    Test the RemoteCandidates property

commit 2fd57cbf974e106dcb6c1f17421895fc24d5a89c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-09 15:42:03 +0000

    Don't shadow the stream variable

commit 928c73e80cf59e2f03b228a79fc07be9aad5fb58
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-09 15:41:28 +0000

    Support RemoteCandidates property and signal new ones

commit 3e429905b2a3355a49eca62ceb254c3ad96ae1fa
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-09 15:41:00 +0000

    Add a utility function to convert a list of candidates to the a GPtrArray

commit 6aed79c7dbdfbd02a00abe0f98c46117870e7fd0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-09 14:15:09 +0000

    Test that a stream has an endpoint

commit 6df8cdedd408f7e154572294feb7b068527d7930
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-09 14:14:32 +0000

    Add a basic endpoint object

commit b973d7843474d647a7294fd69ee52970ed05bee7
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-09 13:41:05 +0000

    Use constructed instead of constructor

commit 54052b4ef568c20a9ca3cdfd40702088cfa4f950
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-06 16:53:22 +0000

    Add a test for the codecoffer

commit 578777311429512af959b2622feacab1af1e5630
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-06 16:52:24 +0000

    Add basic codec offer support

commit 976334fb14d807367a7d5cb99094772d794410a5
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-06 16:48:24 +0000

    Allow the codecmap to generate both local and remote codecs

commit c92ce4979f55a65be616dcf6a8731b2b110bf9a7
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-05 14:13:23 +0000

    Factor out converting a codec GList to a GPtrArray

commit 78cb3e68e9f88c9debc7daba6d3cb03a9d02c47a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-05 14:07:49 +0000

    Use constructed instead of constructor

commit dafa1f4ee34a36ff3add8b05cc49d784e6042607
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-04 18:21:19 +0000

    Test setting candidates and codecs

commit 650f6953055a871112fc32a1bd7a70c84c602803
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-04 18:20:54 +0000

    Add convenience function to get codecs and candidates for Call dbus interfaces

commit 8d6548f4348e7dc2ec84710108a9f3115a8c8465
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-04 18:19:35 +0000

    Add constant for version new call interfaces

commit e269cfee43739e41141b01b0cc9ee96e993918be
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-04 18:18:20 +0000

    Implement setting and getting codecs

commit 9f7d10bb7baf8df6db578d37e3d46a54a68bb15e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-04 18:02:32 +0000

    Add initial implementation of Call.Stream objects

commit ad470f1824e33b607de786e780cde2df41bb69f3
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-04 17:42:57 +0000

    Pass the GabbleConnection to the content

commit 8dc8c9853fecd17f5d372b722d9fc27bbfc2bf67
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-04 17:40:37 +0000

    Tweak indentation

commit d63c7304160817ca81a00b79c8c081f345073779
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-04 17:40:06 +0000

    Set the dialect on the session

commit 59154f7c62ce02ddb346cb0dbc83913a1d4ec83f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-03 18:31:36 +0000

    Short-circuit adding no candidates

commit 0ffd8e5b5b6e3617c6ce0aa899610bc02417bdd9
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-03 18:31:05 +0000

    Add utility function to build GValueArrays

commit da1a3cb3e57ab5afac3b65be70b9afe4450a7540
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-03 18:30:07 +0000

    Make it possible to retrieve our local candidates

commit ac015dca22a7f6462f21a0495505b3e5442d77ca
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-03 18:24:34 +0000

    Add the ability to retrieve local codecs

commit 429976f0bd4da9b0cb853d8783bea1d447d5d333
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-10-27 14:51:28 +0000

    Initial dummy version of CallContent objects

commit 830e91daf2b35514d5fb11ac803c985a29b7aea3
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-10-26 16:26:24 +0000

    Create the jingle session and initial streams

commit 61bd59de232c53941b21452f2d30fbbe51c356a5
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-10-26 16:13:14 +0000

    Move _pick_best_content_type to utils.c

commit fd5b9865d38c2b44a5ca155d98561703b66c1c1b
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-10-26 15:21:54 +0000

    Move jingle resource selection to utils

commit 148664852301f67e8a0f20f40c71bdb4bd260519
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-10-26 12:35:10 +0000

    Let CallChannel implement GAsyncInitable

commit e7c40efe4de218e0b798ccd96ddebd9d68a484e8
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-10-23 18:02:58 +0100

    Let MediaChannelRequest store a list of tokens

commit 63c4ddc7d0836fffe0e9925a9fbe65eb5f503ef7
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-10-22 19:18:58 +0100

    Add test for basic construction of a Call channel

commit aaa035a9c83b080259bc66b3739d24230682f0d8
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-10-23 15:05:31 +0100

    Add first dummy implementation of a Call channel

commit b32e4791b7b6ac9b2ade86b68abac144404b26ac
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-10-23 14:47:13 +0100

    Change media channel GPtrArray to a GList

commit 9df3c899a69dced5539c4738f7adb6e13caf940c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-10-22 18:35:28 +0100

    Check for the correct Call channel ContactCaps

commit 62b7b6855ec8b69e5caca2ebb1b9906a6cbf61e4
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-10-22 18:38:10 +0100

    Advertise Call Channel in ContactCaps

commit 284a59dfce9cb3b43d448f4e286baba41372c52f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-10-22 18:31:56 +0100

    More pedantic RCC content testing

commit 1787ed808c2bef25ea755e28bf776a8ad386d0ee
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-10-22 18:31:48 +0100

    Put MutableContents in the Call channel RCC

commit c4b12e9f75315972f20a65752d72384b8d38eccd
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-10-22 18:15:45 +0100

    Update the spec to the latest version

commit f19211f48f93d7619d59cb4bd95498a074bb0db7
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-10-22 12:39:28 +0100

    Make sure mixed media spec clients don't confuse things

commit c72ffa3fbc33f17221cf18cecc173422b7dae7b8
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-10-21 17:56:08 +0100

    Test advertising capabilities for both call channel types

commit 3161ff7971c81f66dd18756bf4a33d2fb3c8621a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-10-21 17:55:34 +0100

    Advertise the same caps for StreamedMedia and Call channels

commit a51648db3a61dac449a4f893579fe464af0dd686
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-10-21 17:04:43 +0100

    Test the requestable channel classes contain the new media spec

commit 279cadff435842ee30572fcc51d2782d9ac46fd3
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-10-21 17:17:11 +0100

    Announce the new media spec in RequestableChannelClasses

commit 160f29c77de5bc338869d255ad5c362e9565085b
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-10-21 17:01:10 +0100

    Add various constants for the new media spec

commit fbf6c504ccbe963450344c17611bea5c5aed86e8
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-10-21 17:00:45 +0100

    Verify the stream media RCC contains Initial Audio/Video

commit bfc1154aef53ac3a06c21bbc463b6c918f3c9bed
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-10-21 15:53:30 +0100

    Add an early draft of the new call spec

commit 8e0268e4d6e9244468be8af36863d5060f842e78
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-07 18:30:45 +0000

    Update code-gten tools from telepathy-glib 0.9.2

commit 3792e0103cb035ecdbce9aa170cb3007a4824662
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-07 18:50:49 +0000

    Add tp:name-for-bindings to the OLPC specs

commit 908602869f027b92e16c25171b7fd1462b9254bb
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2009-12-07 17:42:08 +0000

    Update wocky to include openssl deadlock and build fixes.

commit 4e7fc410af6ca050a3f57f49e351a904cbb0f596
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-07 15:12:52 +0000

    Remove various bits that were only used for GibberResolver

commit dae4f4df74ac7609801ca79e5ca85a85d590931d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-07 15:00:31 +0000

    Tweak coding style

commit b0be95b534330c5538544b779044e4ab96cedffd
Merge: ba33603 0af825f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-12-07 14:48:21 +0000

    Merge remote branch 'maiku/gresolver'

commit ba3360330c19940a000a3c92c1e7385cceb1600b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-12-07 11:29:51 +0000

    remove debug message in bytestream_write_blocked_cb
    
    Those flood the debug log and are not that useful.

commit c2111a7d8249603d74255262fdc7b00d4b284f40
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-12-04 18:43:05 +0000

    remove useless \n

commit 342ae93005022e0110e93b07030e385255a24010
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-12-04 18:38:38 +0000

    fix typo

commit 4ad9bcd0afa9aad6bb4dccfacacb9c45a3d0a0b9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-12-04 18:33:24 +0000

    test if bugged proxies are not queried twice

commit 28d344a9d11f0d23eab602f6406fa6c86a08d5d9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-12-04 18:30:17 +0000

    remove proxy from the list if we receive an IQ error

commit eaa219390c1d4347a082579045a69c0e77b3be49
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-12-04 17:48:12 +0000

    use a timestamp instead of a timer to manage the lifetime of the proxies list

commit 4f39f6e17d991d83442043d27b88af3b9465d2fa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-12-04 17:22:36 +0000

    connection.h: remove old comments about proxies

commit a06796617e51b913dc5d466fb317b178d782f135
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-12-04 17:22:02 +0000

    proxies_disco_cb: log a debug msg if disco failed

commit b43ca913add25cc76ed10e8b6643d866419aa348
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-12-04 17:16:13 +0000

    Always recycle the socks5_potential_proxies list
    
    We ensure that we won't query twice the same proxy by clamping the number of
    proxy needed to the length of the list of the potential proxies.
    This add the nice side effect of prioritizing a different proxy every time.

commit bf9b340bfd4333cc8b7c3e797b416724b956d8cc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-12-04 17:00:35 +0000

    proxies_disco_cb: Replace the old list instead of adding elements to it

commit e2c73522d5275d4e787a19fd5d79d97cac898845
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-12-04 16:46:18 +0000

    add_proxy_to_list: free the oldest proxy once removed

commit 21ada2f323e7d72d1105b5d006a4753d458dabe6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-12-04 16:44:29 +0000

    remove double ';'

commit 92ff1d7aa5fc47859e8b9d4c4746eede46128e55
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-12-04 15:55:05 +0000

    mark the proxies list has expired after 6 hours

commit 4d2fd71d7f6a15df9d60ea9e20e224fd452d1c6d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-12-04 15:04:27 +0000

    Stop hardcoding a list of public proxies
    
    They should now get fetched through proxies.telepathy.im. This allow us a more
    flexible control on the proxies used.

commit e898716d6db952797922f471dd3d7c89d10f06a1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-12-04 15:04:07 +0000

    test if proxies_telepathy_im is properly queried

commit d225a208a47e985ba3b409a1ac9d866c7a434e3c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-12-04 15:03:19 +0000

    query proxies.telepathy.im if there is no fallback server
    
    This server returns a list of public proxies that can be used as fallback.

commit db14f9c1d46ede49992d89eccf0563af19557d31
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-12-04 14:03:24 +0000

    check if Gabble requests a new proxy if a reply is an error

commit 401fba21bcf41c7c451ec381ddd389269ff884c4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-12-04 14:02:35 +0000

    remove the sock5 proxies timer; instead request a new proxy if a reply is wrong

commit fbe22e6bd43ee62a580511bb8e2545c545ece3a1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-12-04 13:51:11 +0000

    factor out query_proxies

commit 6388627d83822a7dc1313c75158a61352b3137e6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-12-04 13:41:21 +0000

    check that we don't flood proxies with useless requests

commit 539db841f4d0455651565e8cbad33a931c9c9c34
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-12-04 13:41:09 +0000

    don't recycle proxies list if that doesn't make sense

commit bb8d5643ed5183828509ca6743cd5c542b66efbd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-12-04 13:31:36 +0000

    test-fallback-socks5-proxy: test that the list of proxies is recycled

commit f9cec5878b5cbb2d6ec63683353740eb3d230606
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-12-04 13:30:50 +0000

    recycle the list of potential proxies
    
    This avoid to get stuck with the latest proxies added in the cache once we
    queried all the potential proxies.

commit 6408ae680a85d8b7fc243e5b0eb37f27389881f1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-12-04 12:27:12 +0000

    test-fallback-socks5-proxy.py: test how gabble manages the proxy cache once it's full

commit 796de2a1e75a683e77876002b7fca3636b9e8b63
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-12-04 12:27:02 +0000

    test-fallback-socks5-proxy.py: factor out send_file_to_alice

commit beefba0328a8d2dbcbf0ccb0f94899616360bd49
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-12-04 12:22:54 +0000

    gabble_bytestream_factory_get_socks5_proxies: stop randomizing proxies
    
    The newer proxies have to be put first in the SOCKS5 stanza.

commit 7372e05b592298e4478d8f0f975dd72fe47e60d5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-12-04 11:38:25 +0000

    streamhost are identified by their host
    
    The SOCKS5 reply from the other peer only contains the jid of the streamhost.
    We can't have more than one proxy using the same jid as then we won't be able
    to know which one is used by the peer.

commit 3a3de09a58072192e4423cfa0cf2c1a37bc08650
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-11-27 14:59:08 +0000

    remove oldest proxy from the cache

commit 4350f0217a7de9bfb94c9d266abc7facaffb0964
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-11-27 14:46:20 +0000

    move existing proxy to the head of the list when they are re-discovered

commit fbad85953c6791382d204c886f17e1eaa4eba5e5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-11-27 14:37:59 +0000

    gabble_bytestream_factory_query_socks5_proxies: always request at least one proxy
    
    This ensure to always have at least one fresh proxy in the cache.

commit 77c4e09576106791a30409af8e402dc14be1396b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-11-27 14:19:48 +0000

    test-fallback-socks5-proxy: add wait_si_and_return_proxies returning the list of used proxies

commit 049cc9a7412698e03160412c68954a121e0f80e8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-11-27 13:07:39 +0000

    test-fallback-socks5-proxy.py: make send_socks5_reply more generic

commit 76672431edce6b39664cf00da33cc458c54c947b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-11-27 12:55:45 +0000

    rename NB_SOCKS5_PROXIES_USED to NB_MIN_SOCKS5_PROXIES and decrease it to 3

commit 93617df81979d0df5afce984c388e361c80f5c97
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-11-27 11:34:05 +0000

    test-fallback-socks5-proxy.py: check that the same proxy can't be added twice

commit 8f6ed3ae5846691a77a4dbb6333ebed91ea74576
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-11-27 11:33:45 +0000

    add_proxy_to_list: don't add twice the same proxy

commit e4ba4772d8d3188f041e88e643231139b9e96377
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-11-27 11:17:22 +0000

    bytestream-factory: factor out add_proxy_to_list

commit 8fa20229033e5271f7c059b8741658f7a32d8a94
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-12-04 16:19:51 +0000

    fd.o #25296: break race in test-send-file-provide-immediately.py and test-send-file-wait-to-provide.py
    
    bytestream.wait_bytestream_closed() may involve waiting for a socket
    disconnection (if using SOCKS5). Waiting for the TransferredBytesChanged
    before calling wait_bytestream_closed is racy as the ordering of socket and
    D-Bus events is not garanteed.
    We break this race by waiting for those signals *after* we called
    wait_bytestream_closed(). As the TransferredBytesChanged signals are
    manually catched using connect_to_signal we'll only wait for them if needed.

commit 3c42c48013a499c03cb4fcbc343699a655a5e9ec
Merge: 7acfe00 8a54cec
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-12-03 21:11:51 +0000

    Merge branch 'plugin-headers'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 8a54cec133435f6dd7a1c9d773f8856ba869d536
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-12-03 21:10:17 +0000

    Adjust test plugin to include plugin.h properly

commit 69a8a0ac8a9ca7698f8f33137fd58f88732767a5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-12-03 19:32:04 +0000

    Put headers in lib/telepathy-gabble-0/{gabble,wocky}
    
    This isn't part of 'telepathy-1.0', and putting the two directories
    side-by-side (rather than wocky/ being inside gabble/)means that
    including <plugin.h> won't accidentally include gabble/plugin.h because
    gabble/ was in the include path for Wocky's benefit.

commit 6c13f0e060ac30b54a89af5dc9bd9d7f72b52244
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-12-03 18:25:41 +0000

    Include plugin directory in .pc files

commit 6927a344fefddf1135a2d409c0368850ea6dd8aa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-30 11:51:13 +0000

    Install plugin and Wocky headers, and a .pc file

commit 0af825f8b18f3ab8bb4939cdc1de3cfff3cba7b7
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-02 21:41:36 -0600

    Don't use self if it is NULL.
    
    Upon discussion with Sjoerd I learned that it was possible for a GAsync
    function to be cancelled, but still return a valid result. In this case, that
    would mean the GabbleJingleFactory was disposed. With my previous assumption
    that the error handler would have caught any condition where the factory was
    NULL, this could have tried to access the disposed factory. This commit fixes
    that assumption.

commit 40473b675fe013d2eb141155d1507454d99686f9
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-02 21:12:52 -0600

    Use g_hostname_to_ascii unconditionally (instead of removing it).

commit cae7f901c9798a7d781f8484f2ab519f954384e9
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-01 21:50:31 -0600

    Definitely return NULL on error in the *_finish functions.

commit d4c136a5a6d12b00544e2c158253d2a5b6984383
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-01 21:14:38 -0600

    Simplify the code path in lookup_by_name_async.

commit 16d1307ce67160caeb904af94e2c4231df20c0ed
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-01 21:10:55 -0600

    Use g_simple_async_result_complete_in_idle instead of the immediate equivalent.

commit 8cba3df4a5a38604626b606513b533b6ca409129
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-01 21:08:47 -0600

    Simplify the code path in lookup_service_async.

commit 534dc818d26b8c508b3797fcba2f3e37d412e8f1
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-01 20:50:33 -0600

    Use entry != NULL instead of just entry.

commit 287037d3ce6d36dbf0fa0dbe776872474857a79d
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-01 20:43:34 -0600

    Use fake != NULL and g_list_next to follow Telepathy standards.

commit 0bf47895312850b1a3434cae87e5c4a1d564108e
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-01 20:39:45 -0600

    Simplify _service_rrname.

commit ae877e4d6ac750d436b7dbdc1be3113f5c093f07
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-01 20:36:58 -0600

    Define these structs in Telepathy's coding style.

commit 8c8bedc59cc4e544aae5bcde4cee69f3208d3832
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-01 20:32:32 -0600

    Remove the real-resolver property from the test-resolver.

commit 0756b0cdd72485ffca165678c425a4bc16f796c0
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-01 20:18:58 -0600

    Remove the compile-time debugging code.
    
    It shouldn't be a special compile-time function and it's not really needed.

commit aadc26b3a8fbabf59174468248b8f1333286558b
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-01 20:16:07 -0600

    Add 'stun.collabora.co.uk' to the list of addresses test-resolver handles.
    
    This allows for the fallback server to be tested in stun-server.py. This
    also allows those tests to be run without a network connection.

commit 16dea4a4a0968b0c28f797350b0726d2a0dcda8d
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-01 20:13:51 -0600

    Add localhost to the set of addresses test-resolver handles.
    
    This is so that GabbleConnection can connect using 'localhost' in the tests.

commit c787aeb2951b88668b5712783c502039a1eab24a
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-12-01 19:41:13 -0600

    Resync with wocky master which doesn't chain up to the real resolver.

commit 6192ebbd3122bd8227cc13a845b04353d1645d79
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-12-01 13:05:58 -0300

    vcard-manager: Do not replace PHOTO element when replacing the full vcard (gabble_connection_set_contact_info).

commit c5edf2254622527b2f54062055a9849ee2bf0100
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-12-01 13:04:46 -0300

    conn-contact-info: Fixed deletion of 'nicknames' array of strings in gabble_connection_set_contact_info.

commit 48b99325a3ae497719197892009f1fc05230262a
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-12-01 12:45:14 -0300

    vcard-manager: Proper replace the avatar when requested.
    
    Make sure multiple calls for gabble_vcard_manager_edit_extended with
    replace_vcard set to TRUE respect the last resquest.

commit 2683135083b89e692473c0c946f9fabfa89d74b0
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-12-01 04:26:32 -0300

    twisted tests: Added test for setting contact info.

commit a3144888bf96df120dce6359267c224e316a11ea
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-12-01 04:25:07 -0300

    twisted tests: Added test for getting contact info.

commit aa115293888a29ea86e071f44968687acd2a4e15
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-12-01 04:23:16 -0300

    twisted tests: Added ContactInfo.DRAFT constant and add it as supported ifaces.

commit 5056ea610fd325b0da541e46bc15589e86115a99
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-12-01 02:42:09 -0300

    conn-contact-info: Updated TODO to use C style comments.

commit 82f1f24af4e6ead47236b6a5d2434ad56cb21248
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-12-01 02:35:33 -0300

    conn-contact-info: Added SetContactInfo support.

commit 77cc12b00569fdd5b482a6eb0015290d3baba8dc
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-12-01 02:26:00 -0300

    vcard-manager: Added support for fully editing vcard.

commit 968fd1b8139dd6d71d95cd63fd45d033c3a7db60
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-11-30 20:24:03 -0300

    conn-contact-info: Proper set ContactInfoFlags as XMPP shouldn't have the Push flag set.

commit ee39e8b3bb39594217b71cd8ea98ecc20768b966
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-11-30 20:22:51 -0300

    conn-contact-info: Moved supported_fields initialization to conn_contact_info_class_init and change it to use GPtrArray * instead of GValue.

commit 79cdd7a8e11d873bf24fa516ec65f2ebe2573f1b
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-11-30 19:58:22 -0300

    conn-contact-info: Refactor _request_vcard_cb.
    
    Split _request_vcard_cb in 2 method (_return_from_request_contact_info and
    _request_vcard_cb) and call _return_from_request_contact_info when a vcard
    request arrives. Use _return_from_request_contact_info directly when there is a
    cached vcard for a contact when calling RequestContactInfo.

commit 95b66496782592364b60f0b47ba32b0d3efcb8aa
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-11-30 19:37:06 -0300

    conn-contact-info: Removed unnecessary RequestVCardContext usage/definition.

commit 8b009dcd49920030210424631d437289424c9a25
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-11-30 19:29:18 -0300

    conn-contact-info: Added debug for when a contact vcard is cached but cannot be parsed.

commit c8f0d5edf194c45d884132e275e6a11d154540e4
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-11-30 19:24:39 -0300

    conn-contact-info: No need to go via GValue to make a GABBLE_HASH_TYPE_CONTACT_INFO_MAP.

commit 1d2100734c2cf4897b095108a84668b46317aa4a
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-11-30 19:20:04 -0300

    conn-contact-info: Fixed KEY element parsing, was checking against ORG instead of KEY.

commit 3aa81c30b0d2d2ed3aec1ed5789b24a765c3534d
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-11-30 19:18:03 -0300

    conn-contact-info: Refactor nickname parsing by iterating nicknames directly instead of using a vector approach.

commit 8b416e2de4b90c8f9046dd7575384d1a5f8672e0
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-11-30 19:14:12 -0300

    conn-contact-info: Refactor _create_contact_field_extended.
    
    Refactor _create_contact_field_extended to use GPtrArray *
    for params and receive const gchar * const for types and values.

commit 4d6d402586f38c7eae8293cee5373ae24f893775
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-11-30 18:36:20 -0300

    conn-contact-info: Make _insert_contact_field receive const gchar * const * instead of gchar ** for params and values.

commit 0d1b3acb471fe049a0557526bd70b677242eae0b
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-11-30 18:24:37 -0300

    conn-contact-info: Make _parse_vcard return a new GPtrArray * containing the contact info.
    
    Make _parse_vcard return a new GPtrArray *, or NULL if it can't
    parse the vCard for some reason, rather than accepting a pointer to one and
    poking stuff into it.

commit 6f9788d7a041283050976573ad662b783fbbdf59
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-11-30 18:16:03 -0300

    conn-contact-info: No need to go via GValue to make a GABBLE_ARRAY_TYPE_CONTACT_INFO_FIELD_LIST.

commit 6de446f70802f6564a54c14d2e2f99c0e0c9e722
Author: Andre Moreira Magalhaes (andrunko) <andrunko@andrunko.cbg.collabora.co.uk>
Date:   2009-11-30 20:33:12 -0300

    Added initial ContactInfo iface support.

commit 10de892c149a6848bbf4177fc32b36e33a46b3f8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-27 19:29:14 +0000

    Move headers available to plugins to gabble/
    
    This makes it obvious which headers plugins can use, as well as making
    it possible to write both gabble.pc and gabble-uninstalled.pc without
    moving the whole of src/ to gabble/.

commit 7acfe00ef6fb90e236c81aaf4c215cc52af079e9
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-27 18:04:26 +0100

    Remove FT debug messages that get printed repeatedly
    
    Don't use debug message that get printed everytime the internal send of receive
    buffer is full/empty as this isn't very useful and makes the debug log useless.

commit a15c0121d16fc11c207eb62ab9223e18959e3ebb
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2009-11-27 16:43:17 +0000

    Updated wocky (up to non-normalised-jid in IQ)

commit b2c3648cb89cc0a88e12f7671f2a5096db270128
Merge: 2059502 5c61965
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-27 16:30:48 +0000

    Merge branch 'plugins'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 5c61965eed786193f7f1cc636127e38421a05843
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-26 20:29:17 +0000

    Make test plugin build out of tree.

commit b9549d801527f1411e992987eab13f4693c8d83f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-26 17:30:53 +0000

    Ship Connection.FUTURE and Gabble.Plugin.Test xml.

commit 4667612dfb104b6e2a2d19f0fababe5d755f166f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-26 17:19:20 +0000

    Partly disable sidecar test with --disable-plugins

commit 48fd9382544d1582d3d854e65101ae9cbfcf906c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-26 17:03:47 +0000

    Make GabblePluginLoader a mortal singleton
    
    <http://bugs.freedesktop.org/show_bug.cgi?id=25205#c1> points out that
    making it immortal is a pain for valgrinding, and makes the time of
    probing for plugins unpredictable.

commit 0b0506542442aa801fdf21afa5f880cf6320bc05
Merge: 2ee360d 2059502
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-27 12:26:50 +0000

    Merge branch 'master' into plugins

commit 2059502c054f55e332aafe29c2476c5963033dc7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-27 11:47:25 +0000

    Don't distribute config.py in source tarball
    
    config.py is analogous to config.h: it's generated at build time based
    on the arguments passed to configure. Having it in EXTRA_DIST led to the
    interesting situation where `make distcheck` would:
    
    • generate config.py while making the tarball, with DEBUGGING = True;
    • generate it again when building, with DEBUGGING = False, but in
      _build/tests/twisted not in tests/twisted;
    • fail the debugger test because python picked up the config.py from the
      source tree rather than from the build tree, leading to the test
      trying to use the debugger despite Gabble being built without it.
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 091706982bcfd8fec07a037b7dfc64131863a31e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-11-26 17:21:55 +0000

    Remove proxy.fsinf.at on their request

commit 596d17e6f0ab129b7965464fdc4fdfddf5cfd010
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-11-26 16:15:46 +0000

    test-fallback-socks5-proxy.py: break potential race in offer_dbus_tube
    
    The ordering of the queries and the return of CreateChannel is not garanteed.

commit b3075dc18ecefa0b50e63508c280cf373096937d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-11-26 16:02:37 +0000

    test-fallback-socks5-proxy.py: test if proxy queries are sent when creating a FT channel

commit 467281d12819a483510f3b60ecd80c15628e983b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-11-26 15:55:03 +0000

    ft-channel: query SOCKS5 proxy when creating an outgoing FT
    
    We'll need proxies when we'll offer the file.

commit ccd5c9bad730de088d7b730e024028d3da2343c1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-11-26 15:32:40 +0000

    test-fallback-socks5-proxy: test if proxy queries are sent when accepting a stream tube

commit 64ac6b9103a899394f4cccb0f68184d865b9165c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-11-26 15:30:57 +0000

    tube_stream: query SOCKS5 proxy when creating an incoming tube
    
    We'll need proxies when we'll accept the tube.

commit a4cb93a17d9bdd151421118cc18bf4a8a557844e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-11-26 14:35:50 +0000

    test-fallback-socks5-proxy.py: factor out test so we can easily re-use part of it

commit b8a4191b5070070c487a58a3b3c9d006d83f124f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-11-26 13:57:41 +0000

    test-fallback-socks5-proxy.py: test new proxy querying policy
    
    Proxy queries are sent when creating the 1-1 D-Bus tube now.

commit 5b2d61a703c7b1a5869c08ef049fb65d811a515b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-11-26 13:56:29 +0000

    tube-dbus: query SOCKS5 proxy when creating a 1-1 D-Bus tube
    
    We'll need proxies when we'll offer the tube.

commit be8dbdc514ce479c4604e346206613790dba3011
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-11-26 13:50:23 +0000

    fd.o#21151: Don't query SOCKS5 proxies when we are connected
    
    We should query the SOCKS5 proxies only when we'll actually need them.
    Export the query method so other components will be able to start the querying
    process when needed.

commit a5bdc7e1b21eb264a449c4c053831b1ec7bedf14
Merge: 96ec6eb 946bfe2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-26 16:09:12 +0000

    Merge branch '09-conditional-ft'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 96ec6eb9ad21715c405795f6d60adede103b10f9
Merge: 6ba702e 2c7bff9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-26 15:09:02 +0000

    Merge branch 'trivia'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 2c7bff966e6f114236b8bd2b6d11cefb64c64083
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-26 15:06:34 +0000

    Unset debug-sender log handler before unreffing the global debug sender
    
    Otherwise, TpProxy destruction messages triggered by the death of the
    global debug sender (as it probably holds the last ref to the
    TpDBusDaemon) will be debug-logged through our custom log handler, which
    asserts that the global debug sender still exists!

commit cb38a29c521fc6a7f5b91ac707fea75015233c65
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-26 14:50:36 +0000

    autogen.sh: prefer automake 1.11 if available, for silent rules
    
    This mirrors a similar change in telepathy-glib.

commit 65a732505eb68c66ee11e0b16d7ae7c0d6078fad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-26 14:50:10 +0000

    Run test-debug.py if the debugger is enabled, using an automake conditional
    
    The Makefile rule that generates tests/twisted/config.py was always
    setting DEBUGGING = False there, because ENABLE_DEBUG was not in fact
    set in the Makefile.
    
    Based on a patch from wjt.

commit 6ba702eb465e1741f0338de107d82498adc2219f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-11-20 17:08:02 -0500

    propagate disabling of -Werror to Wocky build configuration
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit b9029718e3989e062ad28641a488433f94490a42
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-26 11:26:20 +0000

    Remove proxy.schokokeks.org on their request

commit 1652c38b0ee930c773d3142212552cf2416eff8d
Merge: 5c44be4 2fd6f76
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-25 18:40:07 +0000

    Merge branch 'coverity'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 5c44be4cd0ffedb7b9aaeae6b8e4455d103b68ee
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-24 18:58:36 +0000

    Make matching of GroupFlagsChanged signals race-free

commit 24818b8127d386b4d01b9504bd360a42c8deef40
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-11-24 18:58:13 +0000

    Update wocky snapshot

commit 310ee5ba0c5f4620f446b76599e5eb126c0d1278
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-23 18:46:18 +0000

    More NEWS
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit 2fd6f76474eee986862cbbdac339800ee75ce941
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-25 14:07:10 +0000

    Assert that base64_decode parses valid base64.
    
    All the other tests in this file check that base64_decode() returns
    non-NULL, so this one should too.

commit 2699778643219a244044fd0698b6b6144dc5c7bc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-25 13:08:49 +0000

    Document a deliberate switch fall-through

commit 137284035db3b40aa59b4df4902c9277e6581092
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-25 12:11:44 +0000

    Calling g_time_val_from_iso8601() once is enough.

commit 946bfe27846f2f4517285826f4d52939317144e4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-24 13:32:59 +0000

    Remove unused handle parameter from add_file_transfer_channel_class()

commit c59b00eeb42ef72bcfa17f0adc7df882957a0c14
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-24 13:26:52 +0000

    fd.o#25243: only advertise FT capability if we have a FT client
    
    Originally from commit 79c625e8ac7108, but more or less rewritten for
    the new capabilities code in 0.9.

commit f7ea4a25d6b916e3aef91db337afcf59328a09bc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-23 18:42:48 +0000

    NEWS
    
    Reviewed-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 416c58eb82d6b8bde664cf561b2aac11ff051b37
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-11-20 00:45:35 +0000

    connection: ack the pmuc-v1 cap disco request
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 0a8be4f699fb3cadfe4d6e74cfd5f86942aa5d8a
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-11-19 23:55:48 +0000

    util: allow GabbleConnection to be NULL in _normalize_room
    
    The handle test, test-handles, has no connection, but calls this
    function.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 2e2a062f8548ea3d88153d68fc62cdaba33fbb7e
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-10-07 10:50:19 +0100

    normalize_room: use gabble_decode_jid to shorten the function
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 557d0de3b6670e05e3ec662104db876dbbb9e9ad
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-10-01 18:01:32 +0100

    fd.o#22456: util: get the canonical room name in gabble_normalize_room
    
    This means that both RequestHandles and the TargetID property set
    during a call to CreateChannel will use the canonical room
    name. Previously, it only ever did this in a RequestHandles call.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 3095e0dee4d5ff525337363d00c0c9507d20a2ff
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-29 17:53:22 +0100

    fd.o#21152: connection: don't disco rooms in RequestHandles
    
    This is unnecessary as if you join a server which doesn't respond,
    gabble will timeout.
    
    Also make sure all the tests don't expect a disco request, and respond
    to it.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit d43024b0228ece94221f9608a232fc38ca9cbe7e
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-29 14:49:57 +0100

    connection: always set pmuc-v1 capability when sending presence
    
    If you are invited to a Google private MUC, then google's server
    (talk.google.com) will get your caps and if you have the "pmuc-v1" cap
    set as an entity capability element, it will invite you like any
    normal MUC.
    
    Partly fixes fd.o#22768 (as long as discoing chatrooms is
    disabled). This commit enables us to be invited to private MUCs by the
    Google client, but doesn't currently support creating them without
    making the UI terrible.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 38cfd5883dc4f55389cd3bb013f356569cc4349e
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-29 14:49:27 +0100

    capabilities: define pmuc-v1 cap
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 1b4940738529318e1b093c40c9e3c40909e9b90f
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-29 14:48:45 +0100

    connection: make get_canonical_room_name non-static
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 4f286a8c1fa52addcdd24b38cac70f78fdcb211d
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-20 16:07:58 -0600

    Remove gibber-resolver.

commit 35957a040548632fe4f96ffb9a001c163418a0c4
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-20 15:45:09 -0600

    Remove the old fake resolver.

commit 1889a140d184740deda9cd5d1559b61bb72839f9
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-20 15:41:28 -0600

    Switch the tests to use the test-resolver.

commit e757c00715fcdc728913d985676515b3784cae20
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-20 15:37:02 -0600

    Copy test-resolver.[ch] from lib/ext/wocky/tests/.

commit 9034d0c67a7f2928490f2640f41e8db9c6d13bac
Author: Mike Ruprecht <mike.ruprecht@collabora.co.uk>
Date:   2009-11-20 15:34:52 -0600

    Convert to use GResolver instead of GibberResolver.

commit 06cb9ae67dd43e89f51e4fd66b89edbebf1492be
Merge: bb1f1fa 8d5b52f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-20 20:11:26 +0000

    Merge branch '09-privates'
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit 8d5b52f77025e5d007fc39305d242f1bb4760e9f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-11 18:48:28 +0000

    GabbleRegister: point to private structure in public struct

commit 8356af8af184f5248ea3c16d9ff18da3b4f97c47
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-11 18:45:34 +0000

    GabbleMucFactory: point to private structure in public struct

commit a444d899bbd801cc53bf5e7ec786efd2fda8757b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-11 18:44:53 +0000

    GabbleConnectionManager: remove unused, uninitialized priv pointer
    
    There is actually no such structure as GabbleConnectionManagerPrivate,
    but having an uninitialized pointer is clearly a trap.

commit bb1f1fa5232f02ae2044465581baa8643a42c32e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-15 20:13:54 +0100

    fd.o#24558: Flag the password param as secret, and enhance write-mgr-file to put this in the .manager file
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit 767b5598af4e775b464b38b2a44accc4feda4e56
Merge: 8bcb431 77bd004
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-20 19:23:25 +0000

    Merge branch 'chat-states'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 2ee360dce6b0ea69d0f4d1fdea4e1148291a13d0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-19 15:25:32 +0000

    Test ensuring a sidecar which pings a server first

commit 3562de5e5ba3a00f4e9969a69d3771786105edf1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-18 18:13:54 +0000

    Only construct sidecars once we're connected.
    
    Sidecars need access to the WockySession. While we could add an (async)
    accessor to the connection, let's defer that until a plugin needs to be
    able to create a sidecar before the connection becomes Connected.

commit 7449ee951428772e3ee1b41e77dfb1652bfb09a6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-18 12:15:08 +0000

    Pass TpBaseConn and WockySession to sidecars

commit f4b8a85615e5d7e7819cb154fe6958648c658a81
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-17 11:55:59 +0000

    Test sidecar support using test plugin

commit e158e16ac14e9420f55fd8a21dfd947bf44675de
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-17 11:55:04 +0000

    Point Gabble at our local plugin dir for tests

commit da6412b49f7b4cb24273c4aafc8667e22f0e9064
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-16 19:43:53 +0000

    Load plugins from $GABBLE_PLUGIN_DIR if set

commit cc4df7c513da6de25f8c7de5fb4e7a13e055a97c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-17 17:19:04 +0000

    Add a plugin for use in the test suite

commit 4263b63f90f947eb6ba33793c4c1d16ac82ff878
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-17 15:46:28 +0000

    Build a stub interface for test sidecars to implement

commit c33778b9ff3ad3fa85309770ebac3ccf2f86666b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-16 17:28:37 +0000

    Don't spawn the plugin loader on start.
    
    This was mostly for testing purposes while implementing the loader. Now
    that it's dupped as needed to instantiate sidecars, there's no point in
    instantiating it until we need it.

commit c215290b84f5b660e8145d73214f808d01abd428
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-16 12:47:27 +0000

    Generate and implement Connection.FUTURE.EnsureSidecar()

commit b86e76e48e7bed350b76570d834e1838e65ce476
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-15 21:57:00 +0000

    Add API to request a sidecar from the plugin loader

commit 16953f13be6352a0fe64729ae8cc32bf9d382c40
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-14 22:27:30 +0000

    Add API to GabblePlugin to create sidecars

commit f406e8a323c0b3e20d56e7496ea01cc630d6945b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-14 15:29:07 +0000

    Add a GObject interface for sidecar implementations

commit 2413aadac802d1935b81f2bc2395a022568aaa13
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-16 19:39:23 +0000

    Split up the plugin loader a bit
    
    gabble_plugin_loader_probe was ridiculously large. Splitting it into
    directory-scanning and plugin-loading makes it clearer, as does
    introducing some early returns in the latter.

commit 2c94441c0713c5f20890b71240d2e8e70f815d90
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-15 21:29:03 +0000

    Store loaded plugins in the loader

commit 8da134514018668181a2a1c9f474362a3b9de37b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-14 13:15:50 +0000

    Turn the plugin loader into a fully-fledged object
    
    GabblePluginLoader is a singleton, because it doesn't make sense to have
    more than one plugin loader. It keeps a reference to itself once it's
    instantiated, because it doesn't make sense to destroy it (our modules
    can't be unloaded).
    
    If Gabble is built without plugin support, GabblePluginLoader is still
    an immortal singleton, it just doesn't do anything.

commit 00c39eed295df7f82e8654c4c284bc7298a0b289
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-13 18:36:25 +0000

    Attempt to instantiate a GabblePlugin from modules

commit 7fea8c47ac64bd2377100df57fc1729e1e82fe45
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-17 15:02:35 +0000

    Use -export-dynamic to expose symbols to plugins
    
    I'm not sure why this is needed: the flags from gmodule's pkg-config
    file include this...

commit 80f4568dadc249b0288acbcd1e299a7c7df5a73b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-13 18:34:54 +0000

    Add a trivial GabblePlugin interface

commit 12020afea9ce300f223357a7c4578a63576f4365
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-10 18:52:14 +0000

    Probe for plugins in $(libdir)/telepathy/gabble-0

commit d42a037ccdcc55ed57f18f0f6334c28e9643df61
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-10 19:36:10 +0000

    Add a debug flag for plugins

commit ec0baa4f19d9963cbcfb7fcbdb74b947115fad45
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-10 19:35:00 +0000

    Link against GModule when plugins are enabled.

commit 290f7337b7e145f51a6eb61a7318862e0f9055ed
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-13 10:21:21 +0000

    Add a disabled-by-default build option for plugins

commit 8bcb431db00372745884a46a583db65dd0f5d265
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-17 14:11:40 +0000

    Update manpage to refer to Wocky, not Loudmouth

commit fe17fe877b4e1689d79180a8775ef5cac90ba7dc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-13 18:07:10 +0000

    Remove unused vars from gabble_disco_service_find
    
    Given that we don't use the key and value looked up from the features
    hash, and you can just pass NULL to g_hash_table_lookup_extended(), this
    makes the function more regular and easier to read.

commit 93551f15942a3eaa7a524a54bb1a9e6dbfed2a7f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-13 10:21:03 +0000

    Work around a syntax highlighting bug in Vim

commit 4cfc3641d32e4dcae4ecc4e02d3445ffed749d53
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-07 17:19:16 +0100

    debug: use TpDebugSender instead of implementing GabbleDebugger
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 379217808bd85e7ada863309fb123cd350a508d9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-12 14:57:34 +0000

    NEWS: mention mitigation of fd.o#13157

commit 6d5415a8fec56e596878d10eb070045c97675876
Merge: 3f48773 15197c1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-12 14:46:34 +0000

    Merge branch '09-subject-test'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>
    [but then rebased onto 0.9]

commit 15197c1dd052f72009b487f30e2d3e75dd89a8a4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-12 14:36:46 +0000

    muc/subject.py: explain why I use 12 rooms (fd.o#21152 will fix this)

commit d46f54766bda5d8f848af24cb558a0b88af72ff8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-11-12 14:13:26 +0000

    muc/subject.py: new test for the current behaviour of the 'subject' MUC property

commit e3af96fe39fc31e96a33dc9f91f8c71a968f32be
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-22 18:12:59 +0100

    mucutil.join_muc: make it possible to control our role in the room

commit e88ccd53a12cd5674eb0dca5c5a144280eb725ed
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-22 17:53:51 +0100

    mucutil.join_muc: make it possible to capture the disco#info query in a race-free way

commit 9f863b7a9a64b85d6ad8a2e49048e544bba043c9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-22 17:20:12 +0100

    constants: add PROPERTY_FLAGS_RW for convenience

commit b4baf341747766dcdc7d6443bf01cc48ab91c820
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-22 14:05:42 +0100

    GabbleMucChannel: annotate which properties can be changed by who

commit 7d8eb30e618f5f406722127c818864f54ea2f47b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-22 17:00:53 +0100

    GabbleMucChannel: having special-cased SUBJECT, don't remove the special case again and treat it like part of the room definition!

commit b52d0f4f591de3a767307cd0af6435c082ae4d92
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-10-22 15:22:56 +0100

    gabble_muc_channel_init: initialize self->priv correctly
    
    It was uninitialized, which had never been significant so far because
    all of muc-channel.c redundantly calls GABBLE_MUC_CHANNEL_GET_PRIVATE
    again.

commit 3f487738a27917814fc60ca7e8678f3621a2db68
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-09 18:33:24 +0000

    Update NEWS for stable resource fix

commit bd6522afe807be0f8c2a57ed9fbc47a989cfef45
Merge: b45e8ba 9f690c0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-09 11:32:15 +0000

    Merge branch 'stable-resource-0.9'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 9f690c0bb71b5412a3486912877bd2d48f49de3c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-10-22 12:33:51 +0100

    Use a hash of the machine ID as default resource
    
    Technically the first 8 bytes may not be pseudo-random and so we might
    collide if we just use those rather than (a function of) the full range.
    
    (Cherry-picked from 07d1195.)

commit 728deb234286de88b87e0b2f8045f00d1ddd6d98
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-10-09 14:10:13 +0100

    Use (part of) D-Bus machine ID as default resource.
    
    Previously, Gabble generated a random resource for each connection if no
    resource was explicitly specified. This meant that you could connect to
    the same account with two Telepathy-powered clients at the same time
    (say, your N900 and Empathy on the desktop) without having to change
    your resource on one of them.
    
    However, this is too random: if you lose your network connection without
    telling the server you're leaving, and then reconnect with a new
    resource, the server may still think the old resource is connected
    (until it decides it's timed out) and send messages there rather than to
    your new connection. Ditto your contacts, if they're sending to full
    JIDs. By using the D-Bus machine ID as the default resource, you'll get
    the same resource each time you connect from a particular device, with a
    reasonably good chance that it'll be different on each of your devices.
    
    This has the downside that you can't make two connections to the same
    account on the same bus. I don't think this is a major problem: MC
    should be managing your connections anyway. :-) However, it does mean I
    had to remove the test which checks that you can do that...
    
    (Forward-port of 4a216f6.)

commit 77bd00436c11941e7c6366dd76f316c563a8fe79
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-07 14:19:14 +0000

    Negotiate chat state support for capsless contacts
    
    XEP-0085 §5.1 defines how to negotiate support for chat states when you
    don't know a contact's caps. Roughly:
    
    • If you don't know whether someone supports them, don't send
      stand-alone notifications, but include <active/> in messages you send;
    • If you receive a chat state, mark the contact as supporting chat
      states;
    • If you receive a message without a chat state, mark the contact as not
      supporting chat states.
    
    This is complicated slightly by multiple resources, but basically we
    follow the above rules, resetting whenever we change which resource
    we're sending to.

commit 4f42194a71eca288e34e5663deb31a39ab53412d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-07 13:40:21 +0000

    Send chat state notifications as type='chat'
    
    This has been a SHOULD since 2003-09-18. From XEP-0085 §5.4:
    
        This protocol SHOULD NOT be used with message types other than
        "chat" or "groupchat".

commit 41736c6f5db36348836384e1fb6208a2ba839068
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-07 13:28:50 +0000

    Refactor determining whether to send chat states

commit 711837c67c6d6b6d7b5de244e3fd271c02b1ecdd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-11-07 11:48:17 +0000

    Tidy up the chat states test a smidge

commit b45e8ba34a7fa5ad0ea46246e8f8e0d088b55085
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2009-11-03 16:09:13 +0000

    Update wocky (changes to make the SASL challnge parser more robust).

commit d879fd98ca9252f4cfd35ca78451b5ad48f94cdc
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-10-27 17:58:11 +0000

    Post release bump (0.9.2.1)

commit 8835b7af976589de329677e721aca00c75b63b05
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-10-27 17:12:12 +0000

    Prepare 0.9.2

commit 6b8efd0db961cb9665907ad4f4d00cdc701ce671
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-10-27 17:07:43 +0000

    Update NEWS

commit 8a758ada0b9e8249d71bbc80a1730267cc2ac4d1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-10-07 23:57:51 +0100

    Correct the type of pre-presence's marshaller
    
    The signal's argument is a LmMessage *, which is wider than guint on
    amd64.

commit 904af702fbc56dd9216addac9021523ff8943b5a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-10-06 14:59:01 +0100

    Don't trust <message> ids to be globally unique

commit 452048f06e5a037435747a5122f31ceb25e174b3
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2009-10-23 17:23:36 +0100

    libloudmouth.la was linked against libwocky.la but did not depend on it.
    
    This broken dependency meant symbols from stale copies of libwocky.a could end up linked into the telepathy-gabble and telepathy-gabble-debug binaries, which could be very misleading during the patch/build/test cycle.

commit fb462e4687c35e0aaa88da064ca67e081b9af006
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2009-10-23 13:11:53 +0100

    Update wocky to pull in porter-disconnect bug fixes.
    
    Fixes the "undead dbus names" bug correctly, previous [gabble] fix was masking the symptom but not addressing the underling bug (actully an interaction of three bugs) in wocky.

commit 06a594dabd7fc207ef272a67366d514f21b28afa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-10-19 18:41:11 +0100

    Don't call shut_down() twice on stream errors.
    
    This essentially reverts 63d0cd4, which papered over a bug in Wocky
    where the callback passed to wocky_porter_force_close_async() would
    never be called in slightly obscure situations.
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 9b77f35aa8b054a70ff8e2a5e63a3a61f21a9eb2
Merge: 6d46975 bf56a76
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-10-22 18:54:26 +0100

    Merge branch 'annie-let's-not-wait-0.9'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit 6d46975b1487bc0f5b54f1b6465a3cbaa45ee068
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-10-22 16:40:35 +0100

    Fix identation

commit 25d6ba1801ab0be2208f60676e1b9e4f4dfa6c4f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-10-22 16:11:45 +0100

    Check both old style and new style capabilities

commit 9b61197a6961c9d6bab1ea99a0a8597934bd18b2
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-10-22 16:35:02 +0100

    Put ImmutableStreams in allowed properties if needed

commit bf56a76f2432114708689e9bf2c21cff49ed4bb2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-10-19 16:23:09 +0100

    Add and use a canned "any audio/video" caps set

commit c343956a91f972cc7c7cb6c81cc775ad850dcae5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-10-05 13:14:12 +0100

    Don't wait for a caps if a contact's already callable
    
    This is a version of 801d393, updated to apply to master.

commit de9183149c35d8f7c84cd56b0786442d46138bee
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-10-19 15:31:11 +0100

    Test Channel.Type.StreamedMedia.ImmutableStreams

commit 240139a27f4fe7ac704a453a661e401681a95e94
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-10-19 15:29:51 +0100

    Compile, and actually set ImmutableStreams property
    
    7956fc5 broke the build (sorry!) and didn't actually assign to 'flags'
    so the ImmutableStreams channel property was always false (although the
    capability works).

commit 5edd11b52b0d2341ba648cbd87e33cb597bb8164
Merge: 9904163 e435baf
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-10-19 14:57:50 +0100

    Merge branch 'improve-caps-cache-0.9'
    
    Fixes fd.o bug #24377.
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit e435bafcde2fb77a43698ae49c316821eb41f571
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-10-19 14:56:50 +0100

    Note bug number for satisfying waiters with our own hash

commit 990416362eed42781e948fa0537d373375c779fe
Merge: cbe1d31 7956fc5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-10-19 14:43:17 +0100

    Merge branch 'immutable-streams-0.9'
    
    Fixes fd.o bug #24374.
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit cbe1d31f773b7f92e031814a37c47c7871a9eec2
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2009-10-15 17:08:37 +0100

    Don't care about early state changes in this test, don't check for them.

commit b77d4a534f5f6435f0f60c0a082b9ae02673d574
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2009-10-15 17:07:17 +0100

    Make sure state change signal to 'disconnected' is also sent.

commit 70e80c6c0294b242f3972463769dc4dc47cac2ef
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2009-10-14 18:48:32 +0100

    Enable new TCP disconnect test.

commit 8cd8dd5777007c3282e7a4264b3d1643b1924df5
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2009-10-14 18:46:01 +0100

    Watch all dbus signals. Check conn object is unregistered on TCP disconnect.

commit 63d0cd486c64e24d24199d9df501e69b24a3189b
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2009-10-14 15:35:02 +0100

    The shut_down method should clean up even if the closing flag is already set.
    
    If we don't do this then the name is never removed from dbus if a network
    error occurs, leaving an undead object path registered with the bus.

commit 16d4754a716a3dd1d2af2e05afd8f6c219fc264a
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2009-10-14 15:32:46 +0100

    Stop idle/timeout probing for proxies when we are disconnected.

commit 37731860fc675b1346879ca63ea47c8ec19160bb
Merge: dbd5a13 436754b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-10-09 11:01:58 +0100

    Merge branch 'avatar-bug23684-0.9'
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit 436754ba93fdba9aa707705ac3a9e7d58b87642a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-10-08 16:40:15 +0100

    test-avatar-async.py: better explanations of regression test LP#445847, as per wjt's review

commit b6a70af674553f5cfa6fa3c3c9d30d2abbe88c7f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-10-08 16:36:52 +0100

    Coding style: avoid too long lines, as per wjt's review

commit 8834e43a2f92449e83cc9797483d85349ad843af
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-10-08 16:36:00 +0100

    src/presence-cache.c: fix leak of presence->avatar_sha1, as per wjt's review

commit 42c438f2fcf62d0c3b6592eaa347892f1ecd1ebd
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-10-08 16:04:03 +0100

    test-avatar-async.py: use constants from cs, and RequestHandles is plural, as per wjt's review

commit 6d208b177cecb8de6e224c970f9723b37786917a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-10-08 15:51:32 +0100

    request-pipeline.c: Fix assert item->timer_id != 0
    
    See this crash:
    https://bugs.edge.launchpad.net/ubuntu/+source/telepathy-gabble/+bug/445847

commit e88caa3b70d5e04427d88935cce2d4eaafa056ac
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-10-08 15:49:20 +0100

    vCard default timer is set to 3 seconds for the unit tests

commit 0d62c36b80568e2f88dd6d86e0cda70fa077cb51
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-10-08 15:41:51 +0100

    test-avatar-async.py: Regression test for item->timer_id != 0
    
    See this crash:
    https://bugs.edge.launchpad.net/ubuntu/+source/telepathy-gabble/+bug/445847

commit 07fbf575b350981783e84fea14144f483245521c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-10-08 14:03:31 +0100

    presence-cache.c: More DEBUG() during avatar conflict resolution

commit a4540d85bb49a1f8db729a0d6129b685adda996c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-10-08 11:34:18 +0100

    presence-cache.c: Fix avatar loop when there is no avatar

commit 7cb4e021f224c1175c88e636bc32afbdf5d6fa5a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-10-08 11:32:04 +0100

    conn-avatars.c: More assertions on avatar sha1

commit 81c730e3d53616d2cfd354ba0f491ea49765c00e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-10-08 11:56:19 +0100

    test-avatar-async.py: Do not loop when there is no avatar

commit f2382f76e3f013408d7c300a5e6e929a5f2c3f92
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-10-08 11:42:13 +0100

    gabbletest.py: Fix make_presence() to be able to send a presence stanza with an empty <photo/>

commit 8907e3d5cb230ed9eddc35b1124307251591c8e7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-10-07 13:15:28 +0100

    Make caching-our-own-caps test more explicit

commit af55ea3dcc39af01b75dad89fb83898496353ebd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-10-06 11:01:09 +0100

    Serve disco responses from the cache
    
    We only serve up responses from cache entries added locally, because
    only those are known to be complete. This means we can serve responses
    to people discoing our old caps hashes, rather than returning an error,
    which also works around an iChat issue where it reacts to disco errors
    by re-sending the request again and again.

commit fab500d3e05e0a8e9ab517d990f2398abc4ee911
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-10-05 16:44:04 +0100

    Add compatibility bundles to the cache

commit 84c6be681b3ba3a3bef4233e8ec23798ff08cb22
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-10-03 02:03:38 +0100

    Cache our own caps before announcing them.
    
    Previously, Gabble didn't put its own capabilities in the cache. So,
    when it received its own presence echoed back by the server, it would...
    disco itself.

commit 834ed44caea0cd4dee5233fb04b4945581cfc233
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-10-07 18:09:03 +0100

    Add gabble_presence_peek_caps() to avoid copying

commit b7dbafe87a5b9f5134e0c2934c886cb5c8420d20
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-10-02 23:04:03 +0100

    Pre-seed more Google Talk capability bundles.

commit 7956fc56513eea393728e8ab5b3e5ba6fda394f8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-10-07 12:48:18 +0100

    Implement StreamedMedia.ImmutableStreams property
    
    This is a version of 56ee6d9, tweaked slightly for 0.9

commit 06113e1d22947f49aa8faaf4500dff43586ed11a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-25 10:47:23 +0100

    Implement C_Media_Capabilities_Immutable_Streams
    
    The tests needed changing because the definition of the
    Immutable_Streams cap implies that contacts who can only make audio
    calls should have that flag set. Most of the tests were changed to make
    the contacts video capable too; the jingle-caps test checks that Google
    Video contacts (who are capable of both audio and video) have this flag
    set.
    
    This is a version of 744b0d3, modified to work with the refactored
    capabilities code in 0.9

commit dbd5a13f68dc53be9a0c5c8611792d735e241fbd
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2009-10-07 11:59:41 +0100

    Update wocky (allow manual ssl backend selection)

commit 9de1e04a6b222cacf899ae35257bc16a8c3c1a53
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2009-10-05 18:46:32 +0100

    Pass flags to choose wocky tls backend on to embedded wocky configure.

commit a6c1dfa1cd31fb897ae86eb61c93322f2d0cd5f3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-10-06 20:04:00 +0100

    Clarify that the vCard changes weren't in 0.9.1

commit fdebc9769b348caddfd2e2efe19e323642f3842d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-08 18:26:53 +0100

    Explain mapping <service-unavailable> to Offline
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit d4d381d9ec5ac8c7ffe040e6a312d6e6c195d0f8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-10-06 17:38:56 +0100

    Update NEWS for vCard fixes and 0.8 releases

commit 435920f449a2e7e1fa9771f6bb7f90baa67bc5bd
Merge: dc32477 b219bdf
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-10-06 17:19:41 +0100

    Merge branch 'vcard-branches'
    
    This is a forward-port of the ranges 7bcf931..43e8643 and
    bc5c549..2634fe8 from telepathy-gabble-0.8, fixing fd.o bug #23684.

commit b219bdf2ec2faeb0b81636114bc9b00bdcd9ed60
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-10-02 17:17:58 +0100

    Coding style

commit 9f2add073d7ef101dd358e0766e018a2aab61497
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-10-02 16:16:09 +0100

    Do not invalidate the cache when we receive our own vCard after conflict resolution

commit b2c01a096a952f51b14fd32dec57d205c386a1ad
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-10-02 16:15:25 +0100

    test-avatar-async.py: check that the avatar cache still works after conflict resolution

commit 26954e283c2a1ee65d3b6c0d25fc9b3de9d146d8
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-10-02 15:48:05 +0100

    vcard-manager.c: Remove unused variable (and fix compilation with -Werror)

commit 8a6bfe9a23728088d1fd1ed952ac9217a9b3c40a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-10-02 13:14:22 +0100

    presence-cache.c: add a FIXME comment about the avatar sha1 being resetted and set in 2 different files

commit 96279e67279e99cef88f7c2c095fe69a09ed3729
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-10-01 19:41:27 +0100

    test-avatar-async.py: Test for the D-Bus signal AvatarUpdated after conflict resolution

commit 544512ed0093b7f189649b8d01bb6a024469b618
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-10-01 19:38:18 +0100

    Emit the signal AvatarUpdated at the end of the conflict resolution

commit 0446a6f4913764b0d1dd15d82acaee040fcba26f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-10-01 18:04:43 +0100

    vcard-manager.c: Fix: cancel the request in the pipeline on timeout

commit 7576bdcbf27419a19067b0885f7695df5eef3f5a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-10-01 16:20:00 +0100

    presence-cache.c: add a FIXME about a race

commit 09af0accc58ea7bca88d1d61191e553be1aa7eb6
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-10-01 16:08:29 +0100

    presence-cache.c: self_avatar_resolve_conflict(): remove unnecessary indentation

commit 1b958d902efabe7b23d41af2cb096ead933b305e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-10-01 15:36:29 +0100

    presence-cache.c: move code in the new function self_avatar_resolve_conflict() to avoid quadrubly-nested "if" blocks

commit bb9668ae1d7eee1492733659bf9d017fab021f74
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-10-01 15:17:51 +0100

    test-avatar-multiple-resources.py: Don't expect AvatarUpdated for self_handle before conflict resolution
    
    The D-Bus signal AvatarUpdated is usually emitted as soon as we receive a
    presence stanza from a contact: we don't want to wait to receive the vCard with
    the actual avatar because we don't ask the vCard unless an application
    specifically request it. However, when we receive a presence stanza from
    'ourselves' on another resource, we emit the signal AvatarUpdated only when the
    conflict resolution is finished. This commit change the test to reflect that.

commit 4fb28ba7b94e365868eafb1aa664df86b596165a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-10-01 12:45:48 +0100

    tests: use ns.VCARD_TEMP_UPDATE instead of hard coding 'vcard-temp:x:update'

commit 3067462259eba7d1cbae4588505fe2e9c1573ec1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-10-01 12:11:03 +0100

    test-avatar-async.py: new test cases to prevent recursive conflict resolution

commit bb81008006e459af6518be63685937a958dd49de
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-10-01 11:55:43 +0100

    presence-cache.c: Fix avatar conflict resolution: Do not confuse self_presence and presence with self_handle from the cache

commit 443401251b3bd373f1368f2746e5f50d8d2811fc
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-09-30 18:27:40 +0100

    Fix gabble_request_pipeline_item_cancel: remove the timer

commit 6577f24bfd907f0cb916aa9523207426f36cab57
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-09-30 17:35:58 +0100

    Fix a crash in vCard Manager dispose: remove the source of the suspended timeout

commit f9d4b4d0ad626f6f62942e30ad34280927c13f8c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-09-30 16:09:25 +0100

    presence-cache.c: Avoid recursive image resetting as per XEP-0153 section 4.4, bug #23684

commit 4c8dec4f06070e4411d87a99464c76b4faaa47f7
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-09-28 19:16:48 +0100

    vcard-manager.c: Add a FIXME: When requesting a vCard, the timeout is not always obeyed

commit 20f3e470fff2589395f914dee03d22e67169ddc7
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-09-28 19:12:06 +0100

    vcard-manager.c: Rename cache_entry_ensure_queued to request_send

commit 6b9a83d65046205aca2edb67444fa035729ad4d2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-28 16:04:02 +0100

    Make DEBUG output for suspending vCard gets more useful

commit 59ea23026b4b202f268cde2d1c312c3cdc2589dc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-28 16:03:44 +0100

    Clarify FIXME about generalizing error-extracting code

commit 0e46de809acc6054568a8e35429452a8ec40cde2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-28 15:51:41 +0100

    Clarify vCard get error processing

commit 951d00b09f831c18a379bc233e66e20eb6c185b1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-09-28 13:25:01 +0100

    vcard-manager.c: Suspend vCard request on all "wait" errors from the server, not only resource-constraint

commit 31e6e9df79d7b19b17b897993e8f137caf489f2d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-09-28 13:08:03 +0100

    vcard-manager.c: Add a debug when Gabble suspend a vCard request

commit 95cf6b41151123dd7bcea812076edbd42c12458d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-09-25 18:08:12 +0100

    vcard-manager.c: Move the timer arming in cache_entry_ensure_queued()
    
    It will fixed the timers override (problem found during Daf's review)

commit b1d6b34d3864a4978f3fb6d0b99b66eb0aa1f8fd
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-09-25 18:05:14 +0100

    vcard-manager.c: Add a FIXME to use error.c, as per Daf's review

commit c096d8e2c6d4c10f977675645349f217ec70b1d2
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-09-25 18:02:47 +0100

    test-avatar-async.py: coding style and use assertEquals, as per Daf review

commit dd50e6c25dd280dd054c0532be1060c45b775601
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-09-25 17:10:27 +0100

    vcard-manager.c: Remove redondant test on suspended_timer_id, add an assert instead

commit 57de8f76150c81d748be97c3c85ffa5386413e8c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-09-24 18:05:37 +0100

    test-avatar-async.py: test the timer: gabble should reemit the vCard request after waiting

commit 817896fbc8552e462463344ebb07cb6c8e8a78d6
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-09-24 18:05:22 +0100

    Fix timer problem

commit 3fbaeea3f32ba47f6d5f69fe2216accdc275cec1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-09-24 18:04:27 +0100

    vCard replay timer is set to 3 seconds for the unit tests

commit c8070f35ca62df753c914ae5329d786f86f91c1c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-09-24 12:59:11 +0100

    test-avatar-async.py: Add avatar test when the server reply busy

commit ff801f9163709ba32939cec4b099bd7de8936f9d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-09-24 16:57:58 +0100

    Bug #23684: Automatically request a vCard after the server replied with the error resource-constraint

commit 194392b8d11dac8cdd33b7c35e42ed1d178dff10
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-09-23 16:17:48 +0100

    Make gabble_request_pipeline_go() private

commit dc324773a067232d5eb026e63aa15b03b4b9fd3c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-04 12:53:40 +0100

    Delete delete repeated repeated word word.
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit e8277c08d49e60039c22ba803bcbcb8407bad95b
Author: Vivek Dasmohapatra <vivek@collabora.co.uk>
Date:   2009-10-05 17:40:11 +0100

    Update wocky to include openssl support + latest certtool build dep fixes.

commit 5bac8138f1bac7ded209c401afd3ad8b673e4ee3
Merge: caa3274 5b12f6f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-30 17:38:52 +0100

    Merge branch 'getcc-crash'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 5b12f6fa430963f16b23a9ac5beb24561918425e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-30 17:09:55 +0100

    Simplifying freeing contact capabilities

commit fd3f3f52638be36f0e3bc3d95eaacd8dad6ef86e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-30 13:54:23 +0100

    Test GetCCs for handles with unknown presence

commit fa32c9a4e9cb5229e4d0c012d7e4aa37bb03fe70
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-30 13:51:22 +0100

    Return an array from get_handle_ccs and build_contact_caps
    
    Creating a new array and passing it in to be filled with caps was pretty
    weird, and made it hard to distinguish between "no caps" and "don't
    know".

commit 941a941f77377b9de2e7ffd243a74b2e7956ea73
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-30 13:37:40 +0100

    Use build_contact_caps to emit ContactCapsChanged
    
    There's no point in looking up the handle's capabilities again, given
    that we already know what the new set of caps is.

commit 6bf200388248f27b5048a2e6c43d8fe2b70e4a0f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-30 13:33:28 +0100

    Extract turning a caps set into contact caps

commit 55665fa263b5b86d47db004cb32985e95dd39f20
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-30 13:12:05 +0100

    Survive GetContactCaps when we don't have presence

commit caa32745011ed8d3ca87b4a3e36df0788f084490
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-29 19:27:02 +0100

    version 0.9.1.1

commit 2d98bd5cce7d9ff8e3a4f33719cce83fbbb74c32
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-29 16:58:36 +0100

    version 0.9.1

commit 870854fa65beb01faaaf8568fd0e5dd4d118a763
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-25 16:14:38 +0100

    add httptest.py to EXTRA_DIST

commit e0342aebe2cf355fe2a2514fe6fff9037ea5b25c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-29 17:29:23 +0100

    Update Wocky.
    
    This fixes distcheck.

commit 803138857f38eae15dd99544778cd304b82d7445
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-29 16:57:11 +0100

    update NEWS

commit 17054cc65c9c73613dd37abba38c98b85e2b3027
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-09-29 12:12:00 +0100

    Add the new jingle-caps test to the Makefile

commit 1adcd646fdcfe067a5477d4aa159bf0ee3a6975a
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-29 09:47:51 +0100

    Sync glib-interfaces-gen.py with tp-glib HEAD to stop spurious lines on building.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 71faffcf175a1c7114ddafc78f76089facb92c11
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-29 09:46:33 +0100

    Update wocky.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit a14e0e30fbd019d8acdaea3c618f7025a9daf6dc
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-29 09:45:46 +0100

    Move from shave to automake 1.11's silent rules.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 67f4176af34388de675ab5e4fb4e3b67d0152c23
Merge: f1fe9b6 e98ce12
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-29 00:17:53 +0100

    Merge branch 'stun-fix'
    
    Reviewed-by: Dafydd Harries

commit e98ce126c6c5eef66c616a5d614d8ac60555d86a
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-09-28 17:27:15 +0100

    Use gethostbyname() rather than gethostbyaddr().
    
    Seems that gethostbyaddr() tries to do reverse lookup as well,
    which fails now that stun.collabora.co.uk has moved to its own
    host.

commit f1fe9b6a0e93766b5bc2d8fa53b89eefd64faefe
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-09-28 21:20:09 +0100

    Test various capabilitie sets that should give a media capable client

commit eb4a9ae8f32514bd14d883ad40469cbd928b84b4
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-09-28 21:17:46 +0100

    Factor a lot of useful code out of the caps-cache into the caps_helper

commit a16a31af1f2d1eefce4eeeca2b042041490578f2
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-09-28 12:06:04 +0200

    Recognize clients as media capable if they have any supported transport
    
    Before gabble would only regard a client as audio and/or video capable when it
    support Google p2p as a transport. For jingle clients it's ofcouse entirely
    valid to not support Google p2p.
    
    Allow clients to be marked as media capable if they support any of our
    supported protocol (they still need to also advertise jingle/gtalk capabilities
    seperatly. This is correct as we support all our transports as part of a normal
    jingle session and for the google protocol it's not necessary to advertise a
    transport.

commit da77a925fb6522dccaeeddb6660b0e901d0c38ec
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-25 12:50:25 +0100

    use wocky-pep-service from Wocky instead of our internal copy

commit d92bf9fb7959942dd36141116e93ee0aa6edab86
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-25 12:40:30 +0100

    Sync Wocky

commit 271fd01cd52576d6ab868f468fb611f17c03cc42
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-25 11:43:36 +0100

    remove NS_DATA as we already have NS_X_DATA for this namespace

commit 790a441d21ef8e39c30825604e1ac7c568841135
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-25 10:25:43 +0100

    test-wait-for-caps-incomplete.py: disconnect_conn now returns 2 lists of events

commit eaff4f3092f6e2e18979eda93f56177facdaf661
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-24 17:22:30 +0100

    use ensure_bare_contact_from_jid

commit 9d931c4e6b3f84aa1dc6fdc22b18297b81906e0d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-24 17:22:09 +0100

    util: add ensure_bare_contact_from_jid

commit a3caf3538d22fdcff152460e996c49eec5e27abd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-24 17:21:51 +0100

    conn-aliasing: rename location_nick_node_changed to pep_nick_node_changed

commit eae070cadf57248372d7581cde9bf8f1a44472ba
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-24 16:14:25 +0100

    olpc-buddy-search.py: test that BuddyInfo.GetProperties is completed when conn disconnects
    
    This is to test that D-Bus calls are completed if they are waiting for
    a PEP IQ reply and the connection is disconnected before they receive
    it.

commit fb8823fc1e5b04a2567861c5e8ec32e81ea97ab8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-24 16:13:11 +0100

    add an extra events list to disconnect_conn allowing to catch events after the closing of the stream

commit a60dc41e1b7c1e07d4171a87498380d353e25b3d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-24 12:19:08 +0100

    wocky_pep_service_get_async: raise an error if service has not been started

commit be83b030b71a249758b39b7b082471e4ef52e1bb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-24 11:32:23 +0100

    wocky_pep_service_dispose: if a porter has been defined, we registered the handler for sure

commit 4c20da2f88b53a01f5611518a47d3b08bdc618f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-21 15:40:48 +0100

    remove wocky-pubsub

commit 0c8133ae217793dfd68ba6c5ec277db5f99b1cd2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-21 15:38:27 +0100

    don't instantiate WockyPubsub anymore

commit 1794c481da9eea6596cdef01a197cc0707d1b5a9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-21 15:36:00 +0100

    conn-olpc: use wocky_pep_service_make_publish_stanza

commit 6fd11bd10be04eee0fd6d3d83f65bc7921f358fd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-21 15:24:26 +0100

    conn-olpc: use wocky_pep_service_get_async

commit fdbc24ec12b1db21baca7c0f44a8e07e5df3efb7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-21 15:07:07 +0100

    conn-olpc: use WockyPepService to get events

commit e449fcf7dcc9b147403187904b3a803746f7117b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-21 14:33:58 +0100

    conn-aliasing: use WockyPepService API

commit 867779ab371143fee533fce55ca88722bb833817
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-21 14:20:25 +0100

    conn-location: use wocky_pep_service_make_publish_stanza instead of pubsub_make_publish_msg

commit d7e83937d2301978439f3f33e3869dc90287f484
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-21 14:20:13 +0100

    add wocky_pep_service_make_publish_stanza

commit 2656ebcc21904c9bd713770de59ed30e1fa62457
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-21 14:07:40 +0100

    conn-location: use wocky_pep_service_get_async instead of wocky_pubsub_send_query_async

commit 083503ac58e62277716bca38b7eb3c9e5779d334
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-21 14:06:52 +0100

    add wocky_pep_service_get_{async,finish}

commit b5aa35efe935727d492d078a91d61954f290b642
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-21 13:27:48 +0100

    add TODO about missing PEP subscription support

commit 86abd45954b6cca227b0c1f2ca9d7c9173cda2b3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-21 13:26:21 +0100

    Use WockyPepService to catch location changes events

commit f6c1d90daafa02ad5968296b2a1c31a401173971
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-21 13:24:59 +0100

    wocky-pep-service: fire 'changed' signal when an event is received

commit e99bd59e536f6b5ce75cad84d143312014ed1af9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-21 12:02:20 +0100

    add node and subscribe properties to WockyPepService

commit ea119163d72065d8ea8f62c9db0939518390093c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-21 11:45:43 +0100

    add stub wocky-pep-service.[ch]

commit 8ff7a539b95ac7133609ce68e3253189a2c21ab0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-16 18:01:32 +0100

    stop including util.h

commit 98f91bfbe623059acedc9e1901434c2d8645f1ac
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-16 14:31:55 +0100

    Dispatch pubsub events according to the 'node' attribute
    
    The right way to get the 'node' associated with an event is to look at
    the 'node' attribute of the 'items' node.

commit c62527a4ff2eaf6b14e0591f7bbad459161a96ae
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-16 14:22:30 +0100

    rename 'ns' argument to 'node'
    
    In the pubsub world, the right terminology is 'node'. Nodes are
    namespaces only in PEP.

commit b196b98fa1a220cd7666f0a725c01a50be303b3c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-09 12:44:24 +0100

    unregister pubsub event handlers when disposing

commit 89ce0d908e2586690abbcb976ee0d6199e69fe37
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-09 12:33:12 +0100

    add wocky_pubsub_unregister_event_handler

commit d6b4dca4bada9875edb7fd5b44515f6cffb84d43
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-03 16:16:07 +0100

    remove useless includes

commit 49f1dde5b6bbd6cd7e069189ec31fededfc91a14
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-03 16:12:47 +0100

    turn pubsub_query to a Wocky-style async function

commit 06a37efd619a0f191ea6451bb0ef5d0ed5289858
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-03 14:06:02 +0100

    use wocky namespaces

commit e8b5e6eef35304f4673a51f2aa056f564cb44f82
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-03 13:36:31 +0100

    use wocky_strdiff

commit c93de1ef30e780b8d15e1af52629af69d775c16e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-03 13:33:38 +0100

    use Wocky's stanza register

commit d7887a74022433c6899f94bbb34bdaa11431c266
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-03 13:27:12 +0100

    register pubsub event handlers in their component

commit 505de2338ea276042e9ffcfe45e24479fc900b8a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-03 13:01:31 +0100

    add a wocky_pubsub_start method passing the session instead of passing it to the constructor
    
    This allow us the instantiate the Pubsub object during the construction
    of the connection and so other components can already register their
    event handlers *before* the connection has been connected and so the
    session created.

commit b0cccb514179dcb1f78f35759e85e3c4b90f45c7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-03 12:15:03 +0100

    add wocky_pubsub_register_event_handler and store handlers in the Pubsub object

commit 775793d04aad7d5f1f29208a59164ce85e99bdf2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-03 11:43:39 +0100

    rename GabblePubsubEventHandlerFunction and GabblePubsubEventHandler

commit 0f93fff4d37cd2c1ed2c980db419c0397e0d418f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-02 18:03:58 +0100

    connection: instantiate WockyPubsub

commit 08cf3b51837aa4b2ab3d92c7584229c21ffa8f01
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-02 18:02:38 +0100

    rename pubsub.[ch] to wocky-pubsub.[ch]

commit 459cb708aaa149dc1963422deb33a83935ed544b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-02 17:59:01 +0100

    create a WockyPubsub object

commit e62c62d827d991982bf372710244102b1dce14e7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-02 17:27:06 +0100

    pubsub_query: use wocky_xmpp_stanza_build

commit da62f3202f190a5a9a03f2ddff353f97e25c462d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-02 17:22:07 +0100

    pubsub_make_publish_msg: use wocky_xmpp_stanza_build

commit c67b9867795365d9fb5a5d28e2c28fa0b2461066
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-02 17:13:22 +0100

    use Wocky stanza/node API and pass the item node to gabble_pubsub_event_handler

commit b4c49e0d9531162d5348ed0d3f6b8db892930541
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-02 16:52:09 +0100

    pass a jid instead of a handle to pubsub handlers

commit 038d7baf547fff624925ece3d93ee3227b13ea30
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-02 16:30:05 +0100

    gabble_pubsub_event_handler: no need to be a public function

commit 76f9f947fabf049b318576cb977260591fc7a4bd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-02 16:28:26 +0100

    no need to define GabblePubsubEventHandler in pubsub.h

commit e1508ddb3eaf235b2848fad22c57c70628bd3953
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-24 18:26:26 +0100

    Sync Wocky
    
    WOCKY_PORTER_ERROR_FORCE_CLOSING has been renamed to WOCKY_PORTER_ERROR_FORCIBLY_CLOSED

commit aeb1eef674df52a424b00d4337e00eefb5d1c3c0
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-23 22:34:05 +0100

    update stream error test to match reason text handling change
    
    Reviewed-by: Will Thompson

commit 4e3dc1c4e404e74b51a4eac13de47dd56e3e38e6
Merge: 5acdcfa d7eec39
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-23 22:58:18 +0100

    Merge branch 'pidgin-interop'
    
    This branch by David was already merged into 0.8.

commit d7eec395cc5fcc9552754bf100a3a233121c7211
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-09-23 18:35:14 +0100

    Test for bug 24043
    
    Added test for http://bugs.freedesktop.org/show_bug.cgi?id=24043
    and also the / 65536 bug I found.

commit 8913bb7fe20f80e8d05f2f2722ba2c5ca2f0dbb8
Author: David Laban <david.laban@collabora.co.uk>
Date:   2009-09-23 18:28:20 +0100

    pref = priority / 65536 and debugging info
    
    Fixed parse_candidates in jingle-transport-iceudp.c
    to divide by 65536 (as inject_candidates multiplies by 65536).
    Also added some more debugging info when candidates are missing
    required attributes.

commit 406e8d3f33b54637894fabcf14bef083f462004c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-09-20 14:45:02 +0100

    Parse transport node on accept to get candidates

commit 5acdcfa0e678dc1544ba2a1ee87b5bca3e565df4
Merge: c4c6f42 e4df02d
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-23 21:37:50 +0100

    Merge branch 'tests-failure-helper'
    
    Reviewed-by: Will Thompson

commit e4df02df6c90c7efcc86d0f39fd813e7efc6543c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-23 20:40:41 +0100

    add test failure debugging helper script

commit 80aac7042ee727c39621206904e254aa5e13ce06
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-23 20:39:18 +0100

    servicetest.py: better Event.__repr__()

commit 763b5fcf493b83c4df8d3793790d1f5e34518865
Merge: 1688de3 e843fe8
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-23 16:50:48 +0100

    Merge branch 'tests-fix-presence'

commit e843fe8d3068ad5fcb35e169d25e59eee185eb22
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-23 16:29:13 +0100

    presence.py: use presence type constants

commit 71714a372cf4e59e219f02d96453944ade6994e5
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-23 16:27:22 +0100

    presence.py: use make_presence()

commit abbc555fd2959e0bad38c37ee4b5cf2e88720002
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-23 16:16:41 +0100

    make_presence(): take an optional show parameter

commit 10d98494acd6169f75deeff64befe453ede4b674
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-23 16:10:22 +0100

    make expects for presence events more specific
    
    This fixes a regression introduced by my initial-contacts-presence branch.

commit c4c6f42f035b62a58cea6dc3a3053f437317d96a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-23 15:20:00 +0100

    Update Wocky

commit 1688de3c706a8d90654089dc9718167082a88ecf
Merge: 9c938a8 6e0f7cd
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-23 14:31:48 +0100

    Merge branch 'initial-streams-delay'
    
    Reviewed-by: Sjoerd Simons

commit 9c938a82b181b702362a49325a9b0b029dfa3b31
Merge: 0a5557e fabd80f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-23 14:31:40 +0100

    Merge branch 'initial-contact-presence'
    
    Reviewed-by: Sjoerd Simons

commit 0a5557e031a8a1383731d07ee60e55759a08a0c3
Merge: fd0686b e4fe85f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-23 14:31:27 +0100

    Merge branch 'call-error-reason'
    
    Reviewed-by: Sjoerd Simons

commit fd0686be0a1f666459a6c1776009a9f1378b1ee4
Merge: 74946dc a64cfac
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-23 14:31:11 +0100

    Merge branch 'location-language'
    
    Reviewed-by: Sjoerd Simons

commit 6e0f7cdaabb9fe744eb6aea99d4430902ed31743
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-22 15:41:14 +0100

    google-relay.py: test for a regression of #24023
    
    We do this by accepting the call if it's incoming, then making sure that a
    stream appears when the relay info has been sent.

commit 01f07f21192b72423b7690796abded447d65ec10
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-22 15:12:26 +0100

    with-tmp-session-bus.sh: add commented out call to dbus-monitor

commit fd86ada7fe6f4f22b91bb294be852452912f4d2e
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-22 15:11:22 +0100

    unwrap(): handle dbus.Boolean correctly

commit 7a650c3f0e1b06bcb6f72d8b1f7a46ace0852d7f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-22 13:49:01 +0100

    don't strip common prefix from object paths
    
    It was supposed to make test logs easier to read but ends up making test code
    more complicated.

commit d3457dbc14961a8d241ba11d309943a48b22ce22
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-21 17:06:59 +0100

    accept-muc-dbus-type.py: make compatible with expect_many() fix

commit 7960f0f5fd9b21ea85af71a0045b51ff7f7ff671
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-21 17:01:13 +0100

    accept-muc-dbus-tube.py: use assert* functions

commit fa901415af973e46a7507b65a917f98a91b76d65
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-21 15:22:00 +0100

    google-relay.py: factor out repeated code

commit 1a48b6badeab6131d8425d899d633d1c322385da
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-21 14:57:20 +0100

    allow forcing test output colouring

commit d5498512d6ffe3bbafcc10dd765a6acf8dc89b68
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-21 14:55:02 +0100

    port Google relay test from BaseHTTPServer to twisted.web
    
    I think this makes the test more explicit, and also means that it doesn't
    print HTTP log messages to stdout.

commit d02dc81d607fe8c28b581330b727aa7d85d529f5
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-21 14:53:13 +0100

    expect_many(): log which events are still pending when a timeout occurs

commit 6a3117b1da18cd5ba5f5c587d573d80cff254653
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-21 14:47:34 +0100

    expect_many(): ignore patterns that have already matched

commit 476bca2c75b6dc08895630e8081f8a5a2c91399b
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-09-16 18:22:32 +0100

    Automatically accept Initial streams when the call is accepted

commit fabd80fb606a9a51f9e8766fd0bcb76b5c4746a8
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-22 16:28:00 +0100

    got_roster_iq(): add comment clarifying that _SUB_TYPE_RESULT means initial roster

commit f637e11a412659ffed904a95ac0d5403320d7ea4
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-17 20:30:17 +0100

    emit a presence update for subscribed contacts when we get the roster
    
    A GetPresence call for a contact we're subscribed to before we get the roster
    will return unknown; a call after we get the roster will return offline. This
    commit advertises that change to clients.

commit 9b5bdee9c9fc892e3d0476eef4b0ded42876296e
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-17 20:25:22 +0100

    add presence types to constants.py

commit 117113e9993ee62d6eacea47390c0a3872d968bb
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-17 20:24:46 +0100

    export emit_presence_update

commit e4fe85f6c913eb4c7fe2c0106836294c8ad6e697
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-14 21:41:07 +0100

    make MembersChanged have the correct reason when Error is called on a stream
    
    If we had an incoming call with a single mutable stream, the fact that an
    error ocurred would get lost.

commit a64cfac6e7ba653920f2b5803ae1aafc7d8d7002
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-22 16:25:37 +0100

    call DEBUG() in location_set_location() to avoid #define/#undef pairs

commit 0886d40d317e1b2816a3ed61a39e5c774cec71c3
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-22 16:23:52 +0100

    remove reduntant check

commit b096df42a00ebcd24966ccc55305489a6d759d69
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-16 18:41:17 +0100

    fix corner cases in handling of language key for location data
    
    This fixes several problems in add_to_geoloc_node():
    
     - A NULL pointer would be dereferenced if the language value was one of the
       types checked for, but not a string.
     - An assertion would fail if the language value wasn't a string or one of the
       other types checked for.
     - Coverity flagged a possible dereference of the mapping pointer when it was
       NULL, but in practice we'd already returned in that case. Hopefully the
       code should be less confusing for both Coverity and humans now.

commit 74946dc149336fe871c5fad52635c05889069656
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-21 21:26:00 +0100

    fix typo in a debug msg

commit 66784a2205e2e05fa0c2f7b62cb3b91469185505
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-21 21:14:15 +0100

    remove some debug messages flooding output when using a stream tube

commit 92839b2d78e4ba1b3f73c4754a5111149a6f73bc
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-09-21 17:45:58 +0100

    Update wocky.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit e501e9f13f58c975bd9daa8ee3b7f2d122dac1e7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-21 15:46:33 +0100

    Upgrade Wocky

commit e9c2b0f19a620bf8da089d1254a2d6035e03996d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-09-20 13:08:09 +0100

    Redirect wocky debug to the debug interface

commit 032991ecfa9069857ea98aa51f69d3cb6fc3586c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-09-20 13:03:03 +0100

    Sync with wocky master

commit 9a9bc59a68820bade997a8bd7735db1ab273f9a8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-17 11:38:22 +0100

    document FT fix in NEWS

commit 8d843655cd6e874328fd5cd52a5960c61c19d20e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-17 11:32:10 +0100

    file_transfer_helper.py: read on the local socket until it's disconnected

commit 000f05541c9115e0c0de374598aa46ced8c7954e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-09-17 00:08:07 +0100

    Disconnect the socket when the file-transfer is done
    
    When a file-tranfer has completed we need to close the socket as an
    indicate to the FT handler.

commit a96313ccaf1df0083a91cc3ec221f471bef37209
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-16 12:24:11 +0100

    start dev of 0.9.1

commit 39bb61486f9f948e69deca1d24e1ba49f6c8d65d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-16 11:51:54 +0100

    prepare 0.9.0 release

commit dd8dec2f6c34b10c1ee18b63b3db4b7b9a188050
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-16 11:49:58 +0100

    document new user certs directory in NEWS

commit 8ec41b6668c1c53de633aaaab2a718ae1831a80c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-16 11:19:58 +0100

    look for user certs in /telepathy/certs

commit db5ef83a13800d79bef997d6881c2fb0ab18b2f3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-16 10:41:27 +0100

    build Gibber with fno-strict-aliasing so asyncns.c build with new gcc (fd.o #23685)

commit 6a6c2ffe68e38d6d70c21c4f8d511f2106b6efb3
Merge: 25a5df7 375f763
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-15 18:05:02 +0100

    Merge commit 'cassidy/upgrade'

commit 375f76339443e330e4ec70da3fba85fe4efd4bb5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-15 17:57:36 +0100

    Sync Wocky with master

commit 25a5df765918096e04ec848826cf2672bd50d0c6
Merge: 2943d37 c93fbd7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-14 21:40:01 +0100

    Merge branch 'ccaps-undraft'
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit c93fbd724bb30beb413d1f8fafc1ce41f12c81e8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-14 20:33:49 +0100

    NEWS for extensions-removal

commit 2943d37cbb68ccf21aa12d081cf6f94388270744
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-14 20:26:06 +0100

    fix typos

commit 1879407b2b0ad010f267e370e09f9c31af752ed1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-14 20:22:22 +0100

    extensions: remove ContactCapabilities

commit 1797f1ea756421787dd1a8c915dbaa7a6ba8e4bc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-14 20:22:10 +0100

    GabbleConnection: use the ContactCapabilities interface from telepathy-glib

commit af174b7d2cba71cb32b651048d66b8fe7eba5dac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-14 20:17:20 +0100

    Remove StreamedMedia.FUTURE from extensions/

commit f503917fd0b7754a08b56854572631955f778a5f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-14 20:17:05 +0100

    Depend on telepathy-glib 0.7.37 and implement the final version of InitialAudio/InitialVideo

commit b702ab858144fc8977e93019d7ac9836495c2f29
Merge: 61d744d 7d52496
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-14 18:38:30 +0100

    Merge branch 'tests'
    
    Reviewed-by: Simon McVittie

commit 7d52496b6159ba9f93e8eddacc0eefdf08d647dc
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-14 17:59:23 +0100

    remove a semicolon

commit 7549ba217e2361fc5b0cdb74c8cca68100ee9cc9
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-14 17:58:42 +0100

    clarify assertNotEquals() error message

commit aa9d49028c5e71d6c78556d60657a82b4d8adc47
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-10 14:37:10 +0100

    servicetest.py: make assert*() not format the values unless necessary

commit a470957b10efb16ca7b29ba9a98bbb0350a357d6
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-10 14:31:43 +0100

    servicetest.py: avoid formatting events when not necessary

commit fcdcdc8b77e7b5c7f1ac186522fde0175550f784
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-08 11:58:02 +0100

    move install_colourer() to servicetest.py

commit 337c2bdae9827002297a7c21723e4ea7e51c93d9
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-08 11:33:25 +0100

    remove exec_tests()
    
    It was broken and nothing used it.

commit ee94ce22a8cf0886a07afd645eff06d967ed14f1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-07 17:39:08 +0100

    hoist import to top of file

commit 61d744d1d2229cc892987e23a3bbd5e5dc63a5d7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-14 17:00:44 +0100

    add /etc/ssl/certs/ca-certificates.crt as default certificates location

commit fea3b0412abd5f3cd4786a549db5a59c10573c11
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-11 17:07:50 +0100

    connector_error_disconnect: check certificate errors

commit 3379bb44855d8f1adfeb6d53819bb3037ed97f50
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-14 16:49:05 +0100

    Sync Wocky

commit 9653c15b2d4605a277c86fd457c1eecc1886e6d2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-14 12:22:56 +0100

    test-send-file-declined: try to provide the file after it has been declined

commit 9a4dfd5dbbdaf1270dfe841b27a2efd1e7d97710
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-14 12:22:24 +0100

    gabble_file_transfer_channel_provide_file: check that the channel is in the pending or accepted state
    
    This fix the second part of fd.o #23903.

commit 66119c053e11b30653dce9d6083cbf47c604f691
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-14 12:09:32 +0100

    test-send-file-provide-immediately: try to accept an outgoing FT

commit 9db2c1ef685aae963024fd81538a0f5b17cb62d6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-14 12:08:47 +0100

    gabble_file_transfer_channel_accept_file: check that channel is an incoming one
    
    This fix the first part of fd.o #23903.

commit c0cf49a7e333758cfb221288ae7418ea0f340799
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-09-12 22:05:00 +0100

    For gtalk dialects force the uses of google p2p

commit c7736daa24c2b2b14b3724e18829cf2687ee77e9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-11 18:22:21 +0100

    GabbleMediaFactory: allow requesting initial audio/video the new way
    
    We can't fully support InitialAudio/InitialVideo without a new
    telepathy-glib release, but we can at least allow them in requests.

commit 08e4cf4f2f2430b51bdb12cb410cc0e20cdbb720
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-11 17:55:39 +0100

    Undraft ContactCapabilities

commit 4640731ecc02ffe35f94be290789f4551ad8ba47
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-02 15:22:31 +0100

    connection: instantiate a WockySession

commit c418b2d1a226cc0e8698aaa95032373bb083f85a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-11 17:40:03 +0100

    regressions will actually be fixed in next releases

commit 2bd064255308ae8912708d35c11be3163962d334
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-11 17:35:57 +0100

    purge old NEWS
    
    0.8.0 is a good starting point of the 0.9.x branch.

commit 72df48545c698c64ba35b9e90705586f87dfc458
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-11 17:27:12 +0100

    document the Wocky port in NEWS

commit 55e54a948e5c740b1a786af6f4e91ac8fa822689
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-09-04 19:01:29 +0100

    Enable wocky gtkdoc on distcheck

commit c75dd0cc7ad886384189756531247530be4d5f60
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-09-04 19:01:06 +0100

    don't unconditionally enable wockys gtk doc

commit affb694f2d8be0734fd4cdd199dae0fe70327cee
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-09-04 18:47:57 +0100

    Only make clean in wocky if needed

commit 226f01f3d703587207e53a15d6837618ca9ef5db
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-09-03 18:01:19 +0100

    When Disconnect is called while connect, handle it async

commit c49bc73c89fca02dd8780d4d5aec103cfefbbdcf
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-09-02 18:40:13 +0100

    Support building out of tree

commit 6c72abf7f01ec6e59f74828211ac4eda320aaf32
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-09-02 15:13:41 +0100

    Sync wocky master

commit d227438b24147bf311f0f9e146b73caefc7c1a34
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-02 14:03:57 +0100

    main-debug: unref the TpDBusDaemon once we're done with it

commit 8f3448833281e920a77a01baf63b54226a859734
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-02 13:46:50 +0100

    configure.ac: add Wocky's path to the end of PKG_CONFIG_PATH
    
    That way we can easily override it and use another Wocky tree.

commit 801af1fcd6024e3244c3012584323352a610c401
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-26 16:39:39 +0100

    configure Wocky before checking for the lib so wocky-uninstalled.pc has been generated

commit 9127dabddc682f645d1482845bf1322b4311f505
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-26 16:02:41 +0100

    use PKG_CHECK_MODULES instead of hardcoding Wocky CFLAGS and LIBS

commit 5364cc6617e99bce1ff72a4ba51212cef4ef24b6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-26 15:16:27 +0100

    No need to run configure when launching Wocky's autogen.sh from Gabble's autogen.sh
    
    Wocky's configure will be run when configuring Gabble

commit ca5da57887c9fc522aa1d973cf0a1523c516f8c9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-21 16:35:19 +0100

    Always build Wocky with GTK doc support as we need it when doing 'make check'

commit 4598feb1836f5405145ebf88a0513b7ae47e9689
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-20 15:36:39 +0100

    autogen.sh: fetch Wocky submodule if needed

commit e50f2d7c8a3a9bb99d884c894f5c4888bd57fca8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-20 15:30:17 +0100

    configure.ac: configure embedded Wocky as well

commit 528b888754902b4a7c7408f466e640937394e445
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-20 15:16:43 +0100

    autogen.sh: launch Wocky's autogen

commit b18474607353ad4fc14f371c3929545e91d348d0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-20 14:55:18 +0100

    add lib/ext/Makefile.am to build wocky automatically

commit 11e3dfcfef9df8e4d11a4f6eeb9029751c1b7f3d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-20 14:28:30 +0100

    configure.ac: use our internal copy of Wocky instead of the system one

commit 30f3d9c5e8383faff80bfd1dd4f3c6aa3af5daca
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-25 16:43:23 +0100

    Add wocky as a git submodule to lib/ext

commit 2f563a774827b40c33722095aff3d907c711c890
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-02 10:44:36 +0100

    fix phrasing of some comments

commit b1fb3681434f2bd64e8c26a78d005265240e56a1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-19 11:02:12 +0100

    _gabble_connection_signal_own_presence: don't call gabble_muc_factory_broadcast_presence if we are closing
    
    In that case, the Muc factory is already disposed so we shouldn't try to
    use it anymore.

commit f3ee07472e48ac5824e549a53c2afad013598896
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-19 10:32:06 +0100

    bump telepathy-glib dep to 0.7.35
    
    Disconnecting process is now async to Gabble could still have to use the
    self-handle after Disconnect() has been called. tp-glib used to invalid
    it as soon Disconnect() was called which was a bug that has been fixed
    in tp-glib 0.7.35. Make Gabble depends on this version to avoid crashes.

commit 63915772bb4a6954a2db9e6d1cbbc98f0d19f2df
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-17 16:23:12 +0100

    connection.c: include wocky/wocky-xmpp-error.h
    
    XMPP errors moved to this file in Wocky.

commit 443e6d01919b9d2aea5013d5bc44550e3745068f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-17 16:22:58 +0100

    lm-message-node: copy_attribute: wocky added a 'prefix' arg

commit e0441f15da76e7fcc881a60f94e020ea6d210970
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-06 11:25:35 +0100

    connect.c: connector_error_disconnect use switch/case

commit 36fb29e8c83b4bb8de245c6c101588831be14364
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-06 11:18:48 +0100

    connect.c: factor out connector_error_disconnect

commit 8e990b104c1bb09a6e40c5f4f2487d56e642453c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-06 11:13:54 +0100

    connect.c: add registration support

commit 3962dd3a7d06d4867d28649a45a4660e020c0d3f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-05 17:44:45 +0100

    add connect/disconnect-timeout.py

commit bebf7466fe878becda6c16241dff1a60d6d93f95
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-05 17:44:28 +0100

    don't chainup XmlStream.onDocumentEnd method

commit c793683890c8233418fe264c495e61eddc0cf061
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-05 17:42:48 +0100

    connection.c: force disconnect if the connection hasn't been properly disconnected after a while

commit cafaabb00f72dc913e2094b22077b07f4ded182a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-04 14:23:57 +0100

    connect.c: set old-ssl and legacy properties on the connector

commit f9c7dc366485e4b9b3fcea75a8a16b3015d63037
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-04 14:12:01 +0100

    connect.c: wocky_connector_connect_finish returns the stream-id now

commit cb10dad2127147917ff7e67865d89a5b3316d0e4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-28 14:33:04 +0100

    connection.c: return an error if gabble_send_(with_reply) is called while there is no lmconn

commit 276c595fa63c6372b813710cc0b45154de51203d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-28 14:30:08 +0100

    lm-connection: assert than connection and porter are not NULL when sending messages

commit 3037c9c09aeb1c5b89e0d3a0d99e4707d77377c0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-28 11:50:28 +0100

    main-debug: catch the Disconnected signal so we can call wocky_deinit() before dying.
    
    By properly freeing Wocky's ressources, valgrind's log won't be flooded
    by false positive leaks.

commit 18a854d3aef8c555a75710733b6cc4bd3f6ae3d0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-28 11:49:35 +0100

    gabble_init: call wocky_init

commit 6f1207517a19a3deec753356e3bef4da30a9b79e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-23 17:34:36 +0100

    lm-message-node: use the right wocky API when getting/setting the xml lang

commit 938915a897739bb4d4cd58dd08c90d34c5cd5fd6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-23 17:33:23 +0100

    util.c: lm_message_node_add_build_va: use the right wocky api when setting xml:lang

commit 657bad3c99564a03e86f923b24280e0cde6a1a91
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-23 16:53:12 +0100

    util.c: re-implement lm_message_node_get_attribute_with_namespace using the proper wocky API

commit 135022790388c7b1553106714e149f20c435c7e3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-22 17:00:26 +0100

    connection.c: connection_shut_down: wait if we are closing the porter

commit d0556bd39a221bb72ff09a14f4d8fe013f9b611f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-21 16:34:38 +0100

    connection: the LmConnection is now a struct

commit cd2e79fa66b7f1ffbdccf8d9560030b86d2e4c58
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-21 16:32:49 +0100

    lm-connection: Encapsulate the Porter in a struct so we don't have to use global variables in lm-connection

commit ebb87ef2b8833582f642fa71f232bd4d49e88f66
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-21 14:41:24 +0100

    connection.c: Use WockyConnector and the Wocky API

commit c99f9d4959e54bad41ed3a884b2d3afaca49db2f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-21 11:42:44 +0100

    connect/test-nonblocking-tls.py: enable the test; it works fine with Wocky

commit 6d87ea0988e77bd72a49227b8bfa7e99089fb377
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-21 11:22:22 +0100

    add test connect/stream-closed.py
    
    Test if Gabble properly disconnect the connection when server closes its
    XMPP connection.

commit 4df829000734c304d2a75d72d11a0b1e9e04420a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-15 14:18:38 +0100

    gabbletest.py: exec_test_deferred: properly handle the different state of the Connection at the end of the test

commit a2f6dda927c3d1514bdc68c194dac54f4ed4af55
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-15 14:17:59 +0100

    gabbletest.py: disconnect_conn: wait for the stream-closed and send our stream close in response

commit 91f4c8fb5c97d1dbfd69550b811c2152717f7ffa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-13 12:28:36 +0100

    gabbletest.py: fire an event when the stream is closed

commit a626dc7eaf8824b4188338fdcff54d152c03d7f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-29 16:45:21 +0100

    execute tests with WOCKY_DEBUG=all

commit 5473ccd454741c45baa7c76726830311b8d16cff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-20 17:46:27 +0100

    util.c: lm_message_node_get_name: wocky should handle that just fine

commit ee51cb10bbfc7a4a77e5bb8d103a7a62078ec94a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-20 17:46:06 +0100

    util.c: gabble_decode_jid use wocky_decode_jid directly

commit 67d430ed9dbaf4244fcebaf828edba2698e1691d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-02 17:59:09 +0100

    util.c: properly re-implement lm_message_node_get_child_with_namespace using wocky API

commit 262c529cad07e8dd44a1b01ec3c0cff6d4e5b203
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-02 17:57:31 +0100

    util.c: lm_message_build: properly set the namespace on the node

commit b88af92f2b8bc65f5402b9addba26c108e1871f7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-26 16:52:34 +0100

    util.c: re-implement lm_message_node_unlink using Wocky API

commit 505e5024511387e6e7ae0c4024399463766f2fbb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-26 16:41:48 +0100

    util.c: implement lm_message_node_steal_children using Wocky API
    
    WockyXmppNode doesn't have a parent attribute so all we have to do is to
    set its children list.

commit 905ade5d1757e81a2b5e960450fbf1411af906ee
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-26 16:37:14 +0100

    util.c: lm_message_node_get_namespace: use wocky_xmpp_node_get_ns; wocky implements that properly

commit b7ea10aadb47e986944e983cd9cfbe1cb55d9adf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-26 15:07:44 +0100

    util.h: re-implement node iterator macros to use the Wocky API

commit a46517ebeebc20ae489f809882296285089d37bd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-26 15:04:11 +0100

    configure.ac: remove loudmouth

commit fd208829820518dc389b56ebf9ca8460159bbf16
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-26 15:07:06 +0100

    tests/twisted/Makefile.am: stop linking on loudmouth

commit d01b818f417d52212495e8ec84f71edfe9e4fa7b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-26 15:06:31 +0100

    tests/Makefile.am: remove loudmouth from CFLAGS and add the lib/ dir to the include path

commit 16abbcd5dc726499b02f47daf434f74eb0725488
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-26 15:05:19 +0100

    src/Makefile.am: link on our internal loudmouth instead of the system one

commit 9382f7d23baaa245cd4ac4e398722fc7c21fd7f4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-26 15:04:42 +0100

    loudmouth.h: include all the files

commit 11d168f1e566c5df5c2dbd6563eddcb83838be99
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-26 15:03:32 +0100

    add all the loudmouth files to the build system

commit fef17476ac6036693ce2b3e4afd691704975a6de
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-20 17:31:43 +0100

    add loudmouth/lm-message.[ch]

commit e5a7f43b47e588c6f8ba9536e3f7de0d12134bfa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-20 17:30:33 +0100

    add loudmouth/lm-message-node.[ch]

commit 1c43c6bafee6734602783aefa0bd3c4c143bc19b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-20 17:24:41 +0100

    add loudmouth/lm-message-handler.[ch]

commit 280fbc423dc20fa48445bd414196d63067cd1e97
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-20 17:23:12 +0100

    add loudmouth/lm-connection.[ch]

commit 8013fb4ba160459c7160ce00265aba1fc6cb6dae
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-29 15:41:29 +0100

    add lm-types.h

commit 90195d46978fb9880fe42c213a34f72b82db718a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-26 11:55:10 +0100

    update gitignore

commit 20d081eef55c7c3f0c90ee7e49318c3a29a412f5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-26 11:54:28 +0100

    build lib/loudmouth

commit bc65582f8a48caa8a4898e8f07782b308ae87c52
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-26 14:57:25 +0100

    add skeleton of loudmouth-wocky compatibility layer

commit 59dfc4ba0b1c3deced589dfe13d525a256153597
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-26 11:49:24 +0100

    build tests/ with wocky

commit 5f9674e48735a70950ce34ed552fb3c7b05d9da9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-26 11:47:10 +0100

    build src/ with wocky

commit 18e91ac8b3df76876fd4ca67eff407315dffef80
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-26 11:46:47 +0100

    configure.ac: check for wocky

commit 413086186fabea322ed2b58423320db0753ae29a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-11 14:41:47 +0100

    double-disco.py: 'available' is not a valid presence type

commit dc488aabde731517e4e5fa724620349067279afb
Merge: 7c821e2 b1cb310
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-11 12:56:40 +0100

    Merge branch 'telepathy-gabble-0.8' into master.
    
    Conflicts:
    	NEWS
    	configure.ac

commit b1cb310544bd6c8ae85be6599489e23fdf23d954
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-11 12:40:43 +0100

    Bump nano-version to 0.8.3.1

commit 4e98c2e40bb7465ea3b56accd9970d72f7e78768
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-11 12:40:28 +0100

    Include release date of 0.8.3 in NEWS

commit 84c035b66b785fef23f90fd8f0d0eea5bbfa391d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-10 19:30:50 +0100

    NEWS for 0.8.3

commit a3d2f93547d54a00ba29563dc3e4a8f91a2f16e2
Author: Thomas Klausner <wiz@danbala.tuwien.ac.at>
Date:   2009-08-24 21:15:27 +0100

    fd.o #23348, fd.o #23349: fix compilation on NetBSD by including more headers
    
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit a5ab6aaddd88337945b283a867c167bb01414e3f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-08-27 17:00:19 +0100

    Force date format for ChangeLog
    
    Fixes fd.o#21327 (or will do, when this is copied to telepathy-glib).

commit 4f37642fe528c94417967dce3a1b2875915c744e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-25 20:12:11 +0100

    Only write the changelog since 0.6.0 to ChangeLog, and don't use --stat
    
    The changelog.gz in our Debian packages is now bigger than Gabble itself!

commit 7744ca06a76b3e4e6462f82dcc6e8f95e44a18a8
Merge: a78fafc b336feb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-10 18:12:24 +0100

    Merge branch 'multiplayer-disco' into telepathy-gabble-0.8
    
    Reviewed-by: Dafydd Harries <dafydd.harries@collabora.co.uk>
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit b336feb1489226a91afd71eb7709f34d54912956
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-10 16:10:41 +0100

    Don't rely on a side-effect of g_assert()
    
    Simon pointed out that this is a bad idea: if it's optimized out, then
    resource will be uninitialized!

commit a78fafcf9643c4ccf3cd679bdcbd06a74a9d255a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-10 14:32:51 +0100

    Bump raw-udp and ice-udp namespaces to :1
    
    We never supported the <trying/> element, whose removal prompted the
    namespace bump in raw-udp. The namespace bump in ice-udp is due to the
    id='' attribute (which we support) and to keep the numbers the same
    across Jingle specs.
    
    There's no particularly pressing reason to support the old version: we
    prefer to use gtalk-p2p if possible anyway, so we're
    backwards-compatible with older Gabbles.
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 7c821e26a263ac87acaa27fc844c8d3f8521aa10
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-10 15:57:10 +0100

    update NEWS re initial presence

commit 59cd67fa2d351e204765f3e5845c9f3960c339f1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-10 15:57:10 +0100

    update NEWS re initial presence

commit 205968f04dc6f237ecf5025dd3fe7d3d7fe25869
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-10 15:48:31 +0100

    Check caps for contacts who sign in twice.
    
    Gabble does get this right, but I thought it worth checking that it
    doesn't get confused.

commit 7947ed60730d46810e768e6c7baa27f739e8259e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-10 15:33:51 +0100

    Break up caps-cache.py
    
    I'll re-use some of the parts to make the test slightly more interesting
    shortly.

commit 1b6f89336d1d68b58c9fef0e204151cf348a0b6a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-10 15:18:16 +0100

    Reduce duplicated code in caps-cache.py
    
    _test_with_hash and _test_without_hash were pretty much exactly the same
    function, with minor tweaks. Plus, lots of arguments were passed around
    for no particularly good reason, since they were essentially constants.

commit 683f8c3bf87be73c60479109f524763c6746849f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-10 15:07:12 +0100

    Stop reimplementing make_presence quite so frequently
    
    The tubes and FT tests still reimplement it, but when I tried to fix
    them they broke, and I ran away.

commit d3e516b13665695c658b61e1eb69e2dd741d93ee
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-10 14:44:10 +0100

    Only ask (full) jids about caps nodes once.
    
    When Google clients sign in, they broadcast a whole series of presences
    with supersets of the same caps bundles (in particular, the client
    version doesn't change between each one). Previously, Gabble would send
    it a new disco request for each one, which is obviously unnecessary.

commit 12046d4c4e307d7f877f19f35f33ed380d80766c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-10 13:50:11 +0100

    Don't confuse disco waiters from different resources
    
    I think doing so is probably harmless, but it's better to be explicit

commit ffa8c1afc4dabc2585a9f52b56e0b4fb296e674a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-09 19:00:31 +0100

    Make _process_caps_uri easier to follow
    
    The !value guard was harmless, but unnecessary: if we didn't have any
    waiters before this one, then the possible trust will be 0, and if we're
    in this branch, info->trust < CAPABILITY_BUNDLE_ENOUGH_TRUST, so we need
    to disco.

commit 3dcdc0ba0b31665e1b97b72affd41823bdb0fd65
Merge: 332d4f1 487e8b2
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-10 15:45:17 +0100

    Merge branch 'initial-presence'
    
    Reviewed-by: Simon McVittie

commit 487e8b217d21c0a2517bf61870c02de22903f6e4
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-03 00:50:23 +0100

    add test for initial presence

commit 2ccbfce2629f2cb2951442a0dce87c183e1f326d
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-02 20:21:14 +0100

    support setting presence before going online

commit ae10d96c5ba7b35b4a7d9bc7c927542cab7d6c25
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-02 20:06:04 +0100

    servicetest.py: add assertNotEquals()

commit 260386a3ca82d4c3d4a82ff72b2927b11410ddd5
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-02 19:54:08 +0100

    set_own_status_cb(): factor out duplicated code

commit e71a42a0cbd859a416a33f366c3072dc08988b35
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-02 18:35:10 +0100

    set_own_status_cb(): remove redundant code path

commit 651d79f1dba75d6033ea53b33d6e9146fec8b431
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-02 18:31:44 +0100

    set_own_status_cb(): don't return without freeing resource

commit ca3ce8f2673af4e4bfcef060815f882de03e0a59
Merge: 70162a4 459faa6
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-10 15:41:34 +0100

    Merge branch 'initial-presence' into telepathy-gabble-0.8
    
    Reviewed-by: Simon McVittie

commit 459faa66df6ce206963ff3ce404af0b5ef384dc2
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-03 00:50:23 +0100

    add test for initial presence

commit 39c1d25b3f34d9ba860f504511abd1173759bf69
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-02 20:21:14 +0100

    support setting presence before going online

commit e12bed3cd4118df7bb049f73c3c2e69c53300919
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-02 20:06:04 +0100

    servicetest.py: add assertNotEquals()

commit 18b92d2db730247f7213568f5212e5c81183405e
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-02 19:54:08 +0100

    set_own_status_cb(): factor out duplicated code

commit dd074dd14a5e487a3b4b0402810f5049078104ab
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-02 18:35:10 +0100

    set_own_status_cb(): remove redundant code path

commit 688c12ecd0182de82909dea745a428cdb55e9aa1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-02 18:31:44 +0100

    set_own_status_cb(): don't return without freeing resource

commit 332d4f1aabcc7aa1981a41ce9a9cbd8f03791b8e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-10 14:20:55 +0100

    NEWS for fd.o#22968

commit 0d6e52520e3b17776e51665ca811997a987306bd
Merge: 9d1530a e562e79
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-10 14:19:33 +0100

    Merge branch 'credentials'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 9d1530aa4640a817a8acf760f56b5fa14adc304f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-10 13:11:52 +0100

    Revert "document fd.o #23678 fix in NEWS"
    
    This change is already in NEWS a part of the 0.8.3 changes.
    This reverts commit 1258c1542e7e6688aecdfc470df8da0a9d6137d4.

commit 1258c1542e7e6688aecdfc470df8da0a9d6137d4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-10 13:09:33 +0100

    document fd.o #23678 fix in NEWS

commit 81a5776de0dba65f713ca2feaf5dd5e64de4d1c4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-10 12:58:52 +0100

    Don't mention gabble_decode_jid fixes as new in 0.9.0 - they were also in 0.8.2

commit 12fb8c5aea176976916e38760887e1a0b97a3f7f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-10 12:58:25 +0100

    Flatten ContactCapabilities NEWS entry

commit e90f9b1b37db421e40be996969ffa9e61c8f2b25
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-10 12:51:50 +0100

    NEWS

commit 8bdaf5d4934ee89a07a620bc141427540952155d
Merge: 366266f 70162a4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-10 12:41:48 +0100

    Merge branch 'telepathy-gabble-0.8'

commit 70162a45e351f206098e75534cedbb0b21d6eb43
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-10 12:41:40 +0100

    Update NEWS for 0.8.3

commit 366266f447ecaf9aea53ecf5bdb18703d97961ac
Merge: d322a3f c4f64f2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-10 12:34:30 +0100

    Merge branch 'caps-draft2'
    
    Reviewed-by: Alban Crequy <alban.crequy@collabora.co.uk>
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
    Conflicts:
    	src/capabilities.c

commit d322a3f351603ee41a58429705058b33c6e17f4f
Merge: 6cc917d 3e66cc6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-10 12:33:09 +0100

    Merge branch 'telepathy-gabble-0.8'
    
    Conflicts:
    	NEWS

commit 3e66cc6aff1672215b99d48f14e4c77f153da959
Merge: fdbda83 6ad62cc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-10 12:31:30 +0100

    Merge branch 'alban-avatar-bug23684' into telepathy-gabble-0.8
    
    (Trivial rebase from master onto 0.8 -smcv)
    
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 6ad62cce60efe4f50af551922d9c185c07459b7f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-09-09 19:44:00 +0100

    Fix race in tests/twisted/vcard/test-avatar-multiple-resources.py, as per smcv's review

commit a0fd95a6a34192557128ae623f9c691c17a32764
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-09-09 19:31:05 +0100

    Fix style, as per smcv's review
    
    Do not use constructs like 'priv->conn->parent.self_handle'

commit cebbe6c74a4b15cb9d4a4021ba73ce0f3c1efb82
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-09-09 19:27:05 +0100

    Fix coding style, as per smcv's review

commit 1f4753caeef445919c96f963429b3c966e182a73
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-09-03 18:59:24 +0100

    tests/twisted/vcard/test-avatar-multiple-resources.py: New regression test for Bug fd.o #23684

commit 207619bfa880d9bc97666821296a6a470c006d30
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-09-04 14:58:20 +0100

    src/presence-cache.c: Fix a possible infinite ping-ping on presence stanza with the server

commit bea136c4ecdeb7d8bc34450324ca3eb857bd6a6a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-09-04 13:03:42 +0100

    src/presence-cache.c: Fix avatar conflict with several resources (Bug fd.o #23684)

commit e562e793a6d939d30b53781fff46733b09608a1e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-10 12:11:42 +0100

    Stream tube tests: don't assume that stream tubes always support credentials-passing
    
    That assumption will now fail on non-Linux.

commit 987ee259183347f8f291305e66ee916f773602f5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-09 11:57:51 +0100

    document fd.o #23678 fix in NEWS

commit 35621c46ef9ddd5acee190aeeb2c98b5f24fd866
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-09 11:40:01 +0100

    offer-muc-dbus-tube: rejoin a room containing a previously created tube

commit f82198719726acae82256afbebff9479e42705bb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-09 11:39:39 +0100

    offer-muc-dbus-tube: factor out bob_in_tube()

commit 01300d8cda82bdeeb3b5001dbba5aae7a43d3813
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-09 11:32:11 +0100

    offer-muc-dbus-tube.py: fix a typo

commit c46dfb1e06652348f42a522b62a333269b5aaf5c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-09 11:28:08 +0100

    tube-dbus: check if the tube has been requested to determine if we need to offer it
    
    If we rejoin a muc containing old D-Bus tubes we previously created they
    now have the "Local Pending" state as expected instead of "Not Offered".
    This fix b.fd.o #23678 as such tubes are now listed in
    Tubes.ListTubes().

commit 1e5f0e67394e75e715637741d3515113199538fd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-09 11:25:47 +0100

    tube-dbus: explicitely set the value of the Requested property
    
    We can't assume that a D-Bus tube channel has been requested if we
    initiated it. If we rejoin a muc containing old tube that we created
    previously, we are still the initiator of those tubes but we didn't
    request them.

commit 68a0bf5364471f486f1a977c5cd7ea2977d7c99b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-08 15:27:58 +0100

    check that ListTubes() return tubes created using the new API

commit 6cc917dea88ed1121e6cc9064a316b680639e292
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-09 11:40:01 +0100

    offer-muc-dbus-tube: rejoin a room containing a previously created tube

commit 285a9c5faf8c997d8db2853e7122e9df9c63295f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-09 11:39:39 +0100

    offer-muc-dbus-tube: factor out bob_in_tube()

commit c595acf3f6ac75f6e79ce7b66b1fd100ee29d7a1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-09 11:32:11 +0100

    offer-muc-dbus-tube.py: fix a typo

commit f3ea6e719bc8f8e45b8408a61f8adf8f8a048bce
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-09 11:28:08 +0100

    tube-dbus: check if the tube has been requested to determine if we need to offer it
    
    If we rejoin a muc containing old D-Bus tubes we previously created they
    now have the "Local Pending" state as expected instead of "Not Offered".
    This fix b.fd.o #23678 as such tubes are now listed in
    Tubes.ListTubes().

commit cbda956133472df0b87336c2b248cf771cc828c4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-09 11:25:47 +0100

    tube-dbus: explicitely set the value of the Requested property
    
    We can't assume that a D-Bus tube channel has been requested if we
    initiated it. If we rejoin a muc containing old tube that we created
    previously, we are still the initiator of those tubes but we didn't
    request them.

commit dc652f1e3692da8bffb247b1aca02c1baceb8dbf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-08 15:27:58 +0100

    check that ListTubes() return tubes created using the new API

commit 4d41b68fbde8caae4d37781da6bd9b445d200f7f
Merge: fdbda83 25d722e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-08 15:07:14 +0100

    Merge commit 'smcv/08-video-v1' into telepathy-gabble-0.8
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit d22fef5174ca8e65cece07318e4a6e3d5fa78bd0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-08 13:20:10 +0100

    set-set-disconnect.py: fix race when setting the avatar
    
    Test was relying on the ordering of the vCard IQ reply and the D-Bus
    method call. Ensure that the first vCard reply has been received by
    Gabble and then wait for the second vCard query once we have
    called the SetAvatar method.

commit c4f64f29a94da1f05dd9102bcb36efdc01809c20
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-08 12:32:55 +0100

    caps/advertise-draft2.py: regression test for the previous patch
    
    Suggested by albanc's review.

commit 14dd8f70c5b502b4edf40d18b57d7624c93f0ca5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-08 12:32:29 +0100

    gabble_media_factory_add_caps: don't say we support Jingle transports unless we support a Jingle content-type too

commit 7da01abc44f34d03440b0cbea732cb18db2222fd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-08 12:20:23 +0100

    _gabble_media_factory_typeflags_to_caps: explain that the client name doesn't really matter here
    
    Prompted by albanc's review

commit 499b358883d6f4bf7af4f43ec8a09b11088e92f3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-08 12:20:01 +0100

    GabbleConnection: _emit_capabilities_changed: clarify comments
    
    As per albanc's review

commit 6824c166c3fd9d17511b1d1392e43b9999247b1f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-08 12:19:46 +0100

    gabble_connection_refresh_capabilities: fix debug message
    
    As per albanc's review

commit 841a7e3bdb1e96bfbc6dd1fafb88cb463d5f5a82
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-08 12:19:31 +0100

    capabilities: feature_handles: comment that the TpHandleRepoIface is just a string pool
    
    As per albanc's review

commit 945de8299b30b7db63af49a7092aa59d457c6c57
Merge: 54639b6 6878b1a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-08 12:11:01 +0100

    Merge branch 'caps-sanity'
    
    Reviewed-by: Alban Crequy <alban.crequy@collabora.co.uk>
    Conflicts:
    	src/private-tubes-factory.c

commit 2a353fe8834efce6ff67796c455fa0cc079dd84d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-07 19:13:22 +0100

    GabbleConnectionPrivate: explain what all the capabilities are, as per albanc's review

commit 6878b1a79ff834e9c4fb21f9bda297d2e6417fa5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-07 16:24:37 +0100

    gabble_file_transfer_channel_offer_file: reference bug in FIXME comment
    
    As per albanc's review

commit 0dc2d17ad414cbb8d2ad52b3bab5e504d66d4d9a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-07 16:24:16 +0100

    Correct sense of checks for non-NULL cap set, as per albanc's review

commit 0ecc72e6f48201a5098bbddec3f65a79f8d275fb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-07 16:23:49 +0100

    Make feature_handles_refcount static as per albanc's review

commit 9db78ad7f1ed2131876671cb0c575aaf690a990e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-09-04 16:00:15 +0100

    caps/tube-caps.py: update to ContactCapabilities draft 2

commit 54639b6d86b3b09dc964a899c8b082a19539fb66
Merge: 76d53ff fdbda83
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-04 13:26:55 +0100

    Merge telepathy-gabble-0.8 to master

commit fdbda8379dc76c649e2bb0fa2d856a24b32d6bf7
Author: George Goldberg <grundleborg@googlemail.com>
Date:   2009-09-04 13:02:15 +0100

    Timeout should be 20s, not 20000s.
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit 76d53ff6c31b4648bd7aba658ac93e282a06ce24
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-03 10:55:41 +0100

    add PUBSUB_EVENT to ns.py

commit 8c7e4fe367969ac3d5c729ddb102fb068bd70d9b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-09-03 10:40:56 +0100

    add pubsub.py testing bugged pubsub notification messages
    
    The goal is to increase pubsub.c test coverage before refactoring it.

commit 9e33e0786c0f91a44d007372dfe9dfd7e4abb443
Merge: 1fe6ff7 1ef0491
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-03 19:15:49 +0100

    Merge telepathy-gabble-0.8.2 to master
    
    Conflicts:
    	NEWS
    	configure.ac

commit 1efd1ff6644c42ad792146859cf930fb6c8f42b4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-03 19:14:58 +0100

    Bump nano-version to 0.8.2.1

commit 1ef0491531bd3dc93959cce57541de0450da5ab1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-03 19:03:03 +0100

    NEWS for 0.8.2

commit 4148fea49bcc05853364cb6f690a4c8b6dc5866b
Merge: 9ce93fa 16fb790
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-03 18:03:02 +0100

    Merge branch 'fix-google-video' into telepathy-gabble-0.8
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit 1fe6ff77b76fcf361937517131658e1e7178c59e
Merge: 8d8a32b d361eba
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-03 00:47:46 +0100

    Merge branch 'jids'
    
    Reviewed-by: Will Thompson

commit d361eba93adaeaf51672ab3bf3dc9c8155de3953
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-02 22:46:52 +0100

    make gabble_encode_jid() warn and return NULL if domain is NULL

commit b48ca16964bf2df27f5c3e0ac5bf0cba345260d1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-26 17:48:36 +0100

    add gabble_encode_jid() and replace ad-hoc string concatentation with calls to it

commit 729754a35a0dd5b70ef65f09387d6ed636a5a390
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-26 17:47:28 +0100

    improve comments and error messages

commit 8650784fa4f25ef14483a3e59b13f2173c721e97
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-25 20:19:28 +0100

    gabble_jid_decode(): fix the case where there is a / before an @

commit 6dea8e5b7910e4984544d5c6e218fbdc0612182f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-25 19:30:50 +0100

    gabble_decode_jid(): check for invalid characters in node and domain

commit c824c533686286a9e7e281dc4a4516d985230804
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-25 19:12:55 +0100

    tube-dbus.c: assert that resource part of our own JID is not NULL

commit d8421403ede9fa5bcd92dc303acf8f970fa1f44f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-25 19:11:58 +0100

    style tweaks

commit 04ae5eb05c64f3ae165e972bab5631c9e882733f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-25 19:11:11 +0100

    remove checks made redundant by gabble_decode_jid() changes
    
    In particular, callers no longer need to check whether returned node and
    resource strings are empty.

commit a448bfc27e0259b772a6cf5b7efc048159cf63b7
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-25 19:10:17 +0100

    gabble_decode_jid(): update documentation

commit 0e7d022e39da67a225efe8d56e93c3f3b234e244
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-25 18:42:13 +0100

    test-jid-decode: add test for case folding

commit 09603c44406a7b849cf3df18b4b0182f0e409951
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-25 18:35:37 +0100

    test-jid-decode: factor out common code

commit d9ae09c51988ae712dca092e33f35377e9a89703
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-25 18:34:04 +0100

    test-jid-decode: rename server -> domain for consistency

commit e1bcc8d6fe9148f7c1fb119b678eb59f1a49d41a
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-25 18:05:25 +0100

    gabble_decode_jid(): return FALSE if JID components are wrongly empty
    
    The domain must always be non-empty. The node must not be empty if there is an
    '@', and the resource must not be empty if there is a '/'.

commit 540a62866a040013ba7165fb9d6fd6e49eba9aab
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-25 17:42:39 +0100

    make gabble_decode_jid() return a boolean
    
    For now, it always returns TRUE. Also, change all callers to check the result.

commit 1d6d8200a2cc15a6024de323724673f66caecd42
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-25 16:27:59 +0100

    style tweaks

commit 43bde95f86f969ad61eaadb11f071577a5a9d9c3
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-25 16:16:52 +0100

    fix indentation

commit b798db0dcf76ec979c2b5638a6486c227cbb89b1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-24 18:39:53 +0100

    remove unused return values from JID decode test

commit 663155de1a57d94e192512b6413612bf54c85b8c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-24 17:42:12 +0100

    gabble_decode_jid(): set out parameters together

commit a18330e31965e5e1d56839a26614618bd7c6408b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-24 16:06:05 +0100

    gabble_decode_jid(): make variable naming and docs more consistent with RFC

commit 9ce93faa9ca821fc03cbff5dc8e196251a6d1e3a
Merge: 3f2c10b a78f562
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-02 22:51:04 +0100

    Merge branch 'jids' into telepathy-gabble-0.8
    
    Reviewed-by: Will Thompson

commit a78f562fa51bdbc7aeed523fd80e46f789fd2f37
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-09-02 22:46:52 +0100

    make gabble_encode_jid() warn and return NULL if domain is NULL

commit e6c7993df6000a891c3daf5ef8292ab5210a52ab
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-26 17:48:36 +0100

    add gabble_encode_jid() and replace ad-hoc string concatentation with calls to it

commit 6e540f316c13ceca54bd35cd67966a60d7e8125e
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-26 17:47:28 +0100

    improve comments and error messages

commit b0e7f813e796ebc4ce09d440490c5855271bc920
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-25 20:19:28 +0100

    gabble_jid_decode(): fix the case where there is a / before an @

commit e6acd5ccff3185275b1395228d0918131a7a88dd
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-25 19:30:50 +0100

    gabble_decode_jid(): check for invalid characters in node and domain

commit d7ab2037bf11d54817aab05c104178ab4438c24b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-25 19:12:55 +0100

    tube-dbus.c: assert that resource part of our own JID is not NULL

commit ba2703b26ea53440713e738d8430a147afe5be2f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-25 19:11:58 +0100

    style tweaks

commit d7bba4ccf868471d6cef91d9f31e4e95a0758325
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-25 19:11:11 +0100

    remove checks made redundant by gabble_decode_jid() changes
    
    In particular, callers no longer need to check whether returned node and
    resource strings are empty.

commit 9f759bb06169a83fee3085b48d1631873b43c673
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-25 19:10:17 +0100

    gabble_decode_jid(): update documentation

commit 39cb819dca09c94d454951690113bb5cfec74fd5
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-25 18:42:13 +0100

    test-jid-decode: add test for case folding

commit 8fb4b3c496e1b0c73d96d3e6aea115630819cb83
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-25 18:35:37 +0100

    test-jid-decode: factor out common code

commit a90bd4da5ba0b959eb6feb31cca096218fa93dc5
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-25 18:34:04 +0100

    test-jid-decode: rename server -> domain for consistency

commit 0c1836c1d1e4a301b9d6992969a6433b3d641093
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-25 18:05:25 +0100

    gabble_decode_jid(): return FALSE if JID components are wrongly empty
    
    The domain must always be non-empty. The node must not be empty if there is an
    '@', and the resource must not be empty if there is a '/'.

commit ff79043aea2601f3f23a9440122d01817d0f1ea6
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-25 17:42:39 +0100

    make gabble_decode_jid() return a boolean
    
    For now, it always returns TRUE. Also, change all callers to check the result.

commit e694b86ab54fd37404c31c3513b4fe32c53fbb7c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-25 16:27:59 +0100

    style tweaks

commit 783747e3387d2b6f9861673c69f081999965295e
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-25 16:16:52 +0100

    fix indentation

commit 7f6cbd62452712b7bc89afeab80d035fe5f2b2d3
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-24 18:39:53 +0100

    remove unused return values from JID decode test

commit ea3a1d4bfa39b943f35457695edb041823978b64
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-24 17:42:12 +0100

    gabble_decode_jid(): set out parameters together

commit 48b33362ec02ab7cb71b9f3e03473814e9a1a793
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-24 16:06:05 +0100

    gabble_decode_jid(): make variable naming and docs more consistent with RFC

commit 16fb7904c242f042e7915ed327596fb1db11786e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-02 12:36:00 +0100

    Parse audio *and* video for accepted Google calls

commit 2d4d8adc1f93d4bc3e4f5ec444ac168ae9e0aa41
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-02 18:51:27 +0100

    Test for SetRemoteCodecs etc. for all streams
    
    This catches a bug in our Google Talk interop, where we ignored either
    the audio or video codecs in their session accept.

commit 86685b9e690037b2c47cd2dc4054e3d06b36a2b3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-02 18:12:35 +0100

    Reduce content-naming assumptions in Jingle tests
    
    Now that we extract the stream names from session-initiate, let's fill them
    in in incoming_call() too, and then generate_contents() can use those
    rather than hard-coding stream1 and stream2.

commit e7aa0f714815ccabef2c67335fbbdf6f6795768d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-02 17:26:03 +0100

    Tests: extract stream name(s) from session-initiate
    
    This also adds some simple tests about the session-initiate that Gabble
    sends on old-school and current Jingle (but not on GTalk4).

commit 8d8a32bb42f511ee81f524f47cec3c34ecf0a439
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-02 12:59:42 +0100

    Add Contact{Info,Search} specs to EXTRA_DIST

commit 79d5e018d0bb9e7c2666bfb95493c3265b9da9a7
Merge: 30d38ad b9716f0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-09-02 12:39:33 +0100

    Merge branch 'changelogs'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 3f2c10b1430bfebff387ccad80a36649ce9819ae
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-08-28 21:14:10 +0100

    Fix a crash when advertising tube caps without Service{,Name}

commit 30d38ad304fb71325131f0dd202f908bd30dd9e3
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-08-28 21:14:10 +0100

    Fix a crash when advertising tube caps without Service{,Name}

commit 519ebcd216d9f42cd8b099c45070912617df55eb
Merge: 4ebe748 c820241
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-28 19:44:14 +0100

    Merge branch 'vcard' into telepathy-gabble-0.8
    
    Reviewed-by: Will Thompson

commit c820241718eda7703520a3761ce21af5832d42ae
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-28 19:02:04 +0100

    sync_dbus(): ensure that the proxy has a unique name
    
    Otherwise we might service-launch the CM after it's died, which we don't want.

commit c4905aafd56e05ca91235675c8da398932bb6143
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-28 18:10:54 +0100

    vcard-manager.c: don't crash when a set fails and there are edits pending

commit 96e44cc5c8623a0ca113c011af01186911a8007b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-28 18:09:12 +0100

    make sync_dbus() call Ping() instead of InspectHandles()
    
    This means that the CM can be synced with after the connection has been
    destroyed.

commit 70472f4873cd2223fbee63faa793ae6e03faa0c7
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-28 18:05:15 +0100

    pass bus, not stream, into sync_dbus() call

commit b9716f0dd476380e6431c685fdec3d1f6aaca288
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-08-27 17:00:19 +0100

    Force date format for ChangeLog
    
    Fixes fd.o#21327 (or will do, when this is copied to telepathy-glib).

commit 27712c27de865819db61fb397a27df0375048077
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-26 20:12:16 +0100

    Test pre-Connect UpdateCapabilities

commit cbc90e5fbb2e87d820e1c08c223e123da5b0f393
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-26 19:48:36 +0100

    Optionally return save_set from gabble_connection_refresh_capabilities
    
    This avoids the other callers having to save our own caps too.

commit 970bddee5f050c30a54f6a0e9cf128b1a0e21bf4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-26 20:15:00 +0100

    Support calling UpdateCapabilities before CONNECTED

commit 9b0789ca98c2de716d69fbf53b116b4c2a0c1519
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-26 18:21:00 +0100

    Upgrade ContactCapabilities spec to draft 2

commit 514d152976da63f0b8efb64e7160fb4c25339189
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-26 17:57:09 +0100

    gabble_media_factory_get_contact_caps: implement (in terms of _gabble_media_factory_caps_to_typeflags)

commit 8c23da21b5c3b71b94a0356bda7017860c78cfcb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-26 17:56:07 +0100

    gabble_media_factory_foreach_channel_class: factor out gabble_media_factory_channel_class

commit 3c0a8769bb038594d8cd88c4ba38e58643f5cb85
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-26 19:15:35 +0100

    Harvest capabilities from gabble_media_factory_represent_client

commit 208b781e4f35ea3df26c89ad7e00f7e0e90d7c4c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-26 19:15:30 +0100

    Factor out gabble_media_factory_add_caps

commit fe6391ff57c9580d5114e852eccefa6230f05e27
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-26 17:33:39 +0100

    _gabble_media_channel_typeflags_to_caps and its inverse: move to GabbleMediaFactory
    
    That's where we'll do new-style caps.

commit 0d4b50495f68238a05c4bbf95d21616c16136447
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-26 17:30:43 +0100

    GabbleMediaFactory: add stub implementations of get_contact_caps, represent_client

commit f998341880b154169e7902f8454766fc4b941e6c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-26 16:59:55 +0100

    Flatten _emit_capabilities_changed into _emit_contact_capabilities_changed
    
    In the process, stop assuming that AdvertiseCapabilities will never change
    our ContactCapabilities, and that SetSelfCapabilities will never change
    our Capabilities.

commit e5fb9183bba14db39372e9c58524cad82202ea61
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-26 16:43:47 +0100

    GabbleCapsChannelManager: remove add_cap method in favour of represent_client
    
    Also remove useless ABI padding - this isn't a library.

commit 8f559755f61fb236bec750ca301b6bc3d12b044d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-26 16:37:43 +0100

    gabble_connection_set_self_capabilities: call represent_client instead of add_cap

commit df04e495821bd1459f7146fdd14a6b89ee8b28fc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-26 16:34:55 +0100

    GabblePrivateTubesFactory: implement represent_client (in terms of add_cap)

commit ed6a639801fe8ca900bc510c27b6b69dd4c699d0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-25 20:38:31 +0100

    GabbleCapsChannelManager: add represent_client method
    
    This will be the basis for ContactCapabilities draft 2.

commit a933cb9aa0feb0945443327f4d898b28fe2e5b1c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-26 16:30:21 +0100

    Split out the bonus caps seen at startup into a separate set; clear it when we're told our real caps
    
    I can only assume that the rationale for having gtalk-p2p and ice-udp in
    our initial presence is a hackish way to be callable as soon as we sign
    in. Otherwise, there's a race between a UI making a VoIP call, and MC
    pushing in our real caps; if the VoIP call happens too soon, the recipient
    of the call will think we can only do ice-udp.
    
    (This can be fixed better in MC, later.)

commit f6e6977de59d4d75966ee4aace06d772a803d449
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-26 16:25:55 +0100

    gabble_capabilities_get_initial_caps: rename to gabble_capabilities_get_fixed_caps
    
    Our initial caps are actually these plus a couple of bonus ones (Jingle
    transports).

commit 34ab594f69400682ef0c2a3c85af70d5c7d271ea
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-25 21:57:06 +0100

    Separate capabilities into four sources (fixed, legacy Capabilities, and ContactCapabilities draft 1) and union them
    
    This removes the need for the strange workaround in which
    SetSelfCapabilities has to avoid deleting things that came from another
    source.
    
    To preserve historical behaviour (we support ice-udp and gtalk-p2p on
    startup, until the first call to AdvertiseCapabilities), demote these to
    optional, but put them in the initial value of the legacy
    Capabilities set.

commit 093eec0f6bb1929bd53b08e25bbbf06fe8154c8e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-26 19:05:45 +0100

    gabble_capability_set_is_empty: add

commit 6ed8aefdbe3115437417dfb9f726da78b553b029
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-25 21:04:28 +0100

    Add gabble_capability_set_predicate_equals

commit 1c54fe26dcfc93af5c1476a3ada7b7dc7db62cee
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-25 22:06:30 +0100

    caps/compat-bundles.py, caps_helper.py: be more specific about the IQ we expect
    
    Otherwise, this test could get confused by seeing the test code send a
    reply to Gabble's pubsub disco request.

commit 8eeb29addea0ebdacdafefde028fe6071651470d
Merge: 94e0f22 184a0b0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-26 17:14:45 +0100

    Merge branch 'contact-search'

commit 184a0b0044cc5365fc8a572a021496870087bef0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-26 16:58:40 +0100

    search-channel: destroy the channels hash table when finalizing
    
    That way we don't have to check if the hash table still exist or not.

commit 94e0f225ab6698660bea669b476faed4fed3ba4f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-26 16:11:13 +0100

    .gitignore: gabbleconfig.py has been renamed config.py

commit 63b89a76baaa786ba410a7bdfa9a1fe7bcd9ef63
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-26 12:18:42 +0100

    the semantic of first and last has been cleared

commit 8e18c8aa9b0124a86d5243074aebdc6a73db9c90
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-25 20:37:06 +0100

    Remove temporary cruft from GabbleConnection

commit 566313b350ffe0e42947621526d4e72fbe4eed18
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-25 20:12:11 +0100

    Only write the changelog since 0.6.0 to ChangeLog, and don't use --stat
    
    The changelog.gz in our Debian packages is now bigger than Gabble itself!

commit 1c1ebfc532f995bc4e60393de6c0c047f8cc6a95
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-25 14:35:05 +0100

    extended.py: test that the same search key is not added more than once

commit e4a273ab7b1ff25ce1c988bf46d2a64f1c6b8e2d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-25 14:34:47 +0100

    parse_data_form: ensure to not add twice the name search key

commit 606dc7740f3df171cc2de0579f5fbcaed45ac298
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-25 14:14:38 +0100

    parse_data_form: remove found_form_type_search as we don't use it

commit fa058ff325923fe4a20fce03b82f7a1cada086cd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-25 14:04:31 +0100

    ceci-nest-pas-un-serveur.py: test when server returns forbidden and jid-malformed

commit 1b277079ed620ddbe7eb0c5ee2f8569b0b442104
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-25 14:04:09 +0100

    search_channel_ready_or_not_cb: raise PermissionDenied if XMPP error is Forbidden and InvalidArgument if it's jid-malformed

commit c7b7d401501014d6236793da2ed05c5621762afb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-25 13:33:36 +0100

    no-server-property.py: test that pending CreateChannel are cancelled when disconnected

commit be174b5a0a863da4dd72206d7169bf6d36399301
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-25 13:30:54 +0100

    gabble_search_manager_close_all: free the requests_waiting_disco list if needed

commit 345fe753717420d201adf0ec745b761b1a1dee2d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-25 11:47:36 +0100

    delay creation of search channel until the service disco process is done

commit 37e1a7730598d26b8e3b7c8e7bc1309f12533236
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-25 11:43:56 +0100

    disco.c: add a 'done' signal fired when the service discovery is finished

commit 7922f168c1f844d7f1b69dfb383918d051cc312f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-25 10:58:36 +0100

    no-server-property.py: test when no server is present on the connection

commit fd0db104dc3defa3b23695e7364ffcf8bfc65dbe
Author: Thomas Klausner <wiz@danbala.tuwien.ac.at>
Date:   2009-08-24 21:15:27 +0100

    fd.o #23348, fd.o #23349: fix compilation on NetBSD by including more headers
    
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 8a7c10bb37f9fd028b7e92a88c5c906d0c837d0f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 20:55:35 +0100

    Make construction of olpc_caps data-driven again, by recycling feature types

commit 743184e23c3346eaf16044048c2b03ffa59e1484
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 20:54:00 +0100

    Remove the distinction between FEATURE_OPTIONAL and FEATURE_BUNDLE_COMPAT

commit c7e9bdca0e9d2e0b43ccf201dbb0961c65eb5699
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 20:53:09 +0100

    Remove GabblePresenceCapabilities altogether

commit c136416f5e994593df8661503301c15d7d7fde8f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 20:48:13 +0100

    Make GabblePresenceCapabilities, Feature local to capabilities.c

commit a592cd1a3012822524091a21b112fbb70cc2caa4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 20:47:50 +0100

    gabble_presence_cache_add_bundle_caps: remove bitfield argument

commit c140e2c7d174e749621bbfa750da6ce6548aced2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 20:44:47 +0100

    Remove gabble_capability_set_new_from_flags

commit d00268e907cc4f8ad26e277e257d7fae69e47299
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 20:40:34 +0100

    Remove capabilities_parse

commit 89ba6d6a54e8093fdfe73ebc54d80ebf7385619e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 20:40:27 +0100

    Remove gabble_presence_get_caps_bitfield

commit 11e4dcab57d22f4fa9f9e75d9191cdc7b5462763
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 20:37:52 +0100

    Convert CapsToTypeFlagsFunc to be in terms of capability sets

commit 8b2ae08ffb6c0ed8df669852773e8c81425e57c4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 20:36:31 +0100

    _gabble_media_channel_caps_to_typeflags: refactor for clarity
    
    Also add a FIXME: we know about more transports than gtalk-p2p now.

commit 07d506b307f249c40402a1c8ebe10dba25b779ef
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 20:17:40 +0100

    Use capability sets for debug output

commit 272cb79f6d62d9853358a42e8008d4c0a3b3ea71
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 20:17:03 +0100

    Remove now-unused calls to gabble_presence_get_caps_bitfield

commit d72a2a9bdac64e335c872c466763d49499c0dcc4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 18:40:09 +0100

    gabble_presence_set_capabilities: stop taking old bitfield as argument

commit 69050dec510db69917d9cabf9443dcd17c847956
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 18:26:42 +0100

    Remove some useless uses of caps in debug
    
    gabble_presence_set_capabilities already debugs the caps list, so we don't
    need to be so noisy elsewhere.

commit 3561da41eab79d1c96df8e1b8c5148f7e7376e3a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 18:21:31 +0100

    gabble_presence_dump: dump caps too

commit 02b5ae425cff39620678dae48ecd1794d95c96af
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 19:20:40 +0100

    test-presence: stop asserting about the behaviour of gabble_presence_dump
    
    It's for debug only, so this seems inappropriate for a regression test.

commit 78f49e59296cba0e5bba863d5397e1e7f2632196
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 18:13:13 +0100

    GabblePresence: stop storing caps bitfield in resources

commit 1f5a6aec9121a221bda609049d32a3ddb0233c46
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 18:11:27 +0100

    GabblePresence: stop storing caps bitfield, calculate it on-demand

commit 7cb4e485e6f514b8db025ab588707fd32f263b85
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 18:07:54 +0100

    gabble_presence_dup_caps: don't union bitfield caps into the set of namespaces
    
    They should all be there already, now.

commit e27307a73b74b93cf88ee4f049ac61659315ae91
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 18:04:56 +0100

    Change GabblePresenceCache::presence-updated to not carry bitfield caps

commit 326bbda74be73ddc2cf238efabb4e40a5c05b2e8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 19:20:24 +0100

    gabble_connection_set_self_capabilities: preserve all "legacy" capabilities
    
    This is a stopgap solution to a misfeature of the SetSelfCapabilities
    implementation: it assumes that "old-style" Capabilities are preserved.
    Previously, this was arranged by not having any unified storage for
    draft1 and legacy caps. However, that assumption is about to break.
    
    So, the following policy is now used, which (perhaps by implementation
    accident) matches the old behaviour: the new caps are the union of
    (the old caps minus all "dynamic" caps) and the caps from channel
    managers.
    
    In practice "dynamic caps" means the caps for specific Tube services.

commit 83f2b09bdc988e612f23ab29daa623fb51a34a6a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 19:22:04 +0100

    gabble_capabilities_get_legacy: add
    
    This is the set of capabilities that can be set by using
    AdvertiseCapabilities, and should not be wiped out by SetSelfCapabilities.
    This madness can go away when we switch to ContactCapabilities draft 2.

commit c620af6a26296e77d3b93623278c72737a04b1f8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 19:20:54 +0100

    gabble_capability_set_intersect: add

commit 82f532ba1b63d7a0cbdf7673fd7c0d4cb93e8bcc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 17:57:52 +0100

    Make GabblePresence::caps private, with a getter for read-only access

commit d6014b899a27a4b2f2b54213d5b300506241b8f0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 17:16:26 +0100

    gabble_connection_advertise_capabilities: operate in terms of namespace sets as much as possible
    
    This means that we don't touch namespaces that the old Capabilities
    interface cannot comprehend, like particular Tube services; as a result,
    one of the tests changes its behaviour slightly (caps get removed a bit
    at a time).

commit 6cfc773da3219305431b327eb52f1fb8af2a0bf2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 16:48:22 +0100

    Add gabble_capability_set_remove, gabble_capability_set_exclude

commit 4ff716f398af6992f5440871a42ee9aaceabb1d5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 16:31:48 +0100

    gabble_connection_get_handle_capabilities: re-indent
    
    "if for {" is an anti-pattern; "if { for {" is much clearer.

commit 6b028aa146d86c72baed99391d43f2eeb27c1284
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 16:10:56 +0100

    Use namespace sets to convert Capabilities type-specific flags to XMPP caps

commit e70674a5cd34b79c2b029456135c07bf7826f7d5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 15:51:41 +0100

    GabblePresenceCache: eliminate confusingly similarly named variables
    
    cap_set is a set of capabilities, and caps_set is TRUE if the cap_set
    should be considered valid. We can combine them by having cap_set == NULL
    until it has defined contents.

commit fb639698bc1787c4953f624cfdc9380da67acff3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-21 16:45:00 +0100

    contact_is_media_capable: use new-style caps

commit b7f4197b0264949c2c37507f32e5e98a2b2f6662
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-21 12:40:55 +0100

    gabble_connection_ensure_capabilities: use capability sets

commit 0041a6fc8d2ec2a7efd30019208be2678fb2a530
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-21 14:08:32 +0100

    GabbleCapabilitySetPredicate etc.: use const pointers

commit 8ed8cd07ee2549c62e681a202b983aa571f7b0d4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-21 12:38:21 +0100

    Add canned capability sets for geoloc and OLPC +notify

commit afce963bfa534204a2a996339a889b9db3ca9d8f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-21 12:17:21 +0100

    gabble_presence_get_caps: rename to gabble_presence_dup_caps
    
    That's what it does, really.

commit 8a8e5f0b1712dca7c7912481481a0ff1d0cd078d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-21 12:12:09 +0100

    capabilities_get_initial_caps: return a set instead of a bitfield

commit 1d98b358714fe9812e76fc2b637a5352eb8b622e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-21 12:11:25 +0100

    gabble_presence_set_capabilities: be const-correct
    
    We don't need to modify cap_set.

commit e64c6ea99c9e40a6a1384e85770a1b4eba3872d0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-29 21:04:39 +0100

    GabblePresenceCache: CapabilityInfo: remove caps flags, calculate them on demand

commit a41a60324fb841ff7abee8d133ba4721964571be
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 19:49:34 +0100

    gabble_capability_set_dump: strdup and return the message rather than printing it, and add optional indent

commit b4f01ad0496092b69da1b516ea8428658a2c24e7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-29 21:03:00 +0100

    gabble_capability_set_dump: add

commit b8ccfda7cd6e8093f6a77821c7fa3853dca8ec2b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-29 21:02:42 +0100

    gabble_presence_cache_add_bundle_caps: add the namespace as well as the flag

commit 1eb3bbe9066b299d815c1e80cb4af9ee739ab307
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-29 20:50:36 +0100

    GabbleConnection: _emit_capabilities_changed: take the new-style caps and parse them

commit 54ca32954ef517db50ed45b43c65034f1ee58c5f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-29 20:49:48 +0100

    capabilities_parse: take a const set

commit 5b4d1f96d1e57f6b30423ec204fddf9cd15e6123
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-29 20:28:21 +0100

    Add gabble_capability_set_has_one()
    
    This returns TRUE if at least one capability exists in both sets.

commit 622b8c9be1a7da6973ac4a939d56986c04d0b419
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-29 20:24:29 +0100

    Add more canned capability bundles, preallocate them, and free them in finalize

commit e545409c98387bae5746a3219499b137aaf83c36
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-29 19:54:31 +0100

    GabbleConnection: use gabble_presence_has_cap()

commit 6e582aa7c46cb02956ce6d21c6f238bc2f6c7dfc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-29 19:54:20 +0100

    GabbleIMChannel: use gabble_presence_has_cap()

commit a13d2a638aa18c0debba5873d5b674e890628582
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-29 19:54:05 +0100

    GabblePresence: add gabble_presence_has_cap()

commit 62d96f63994a3c09559c357194f36c639567ea77
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-29 19:32:21 +0100

    gabble_presence_resource_has_caps: change to use namespaces (and quirk pseudo-namespaces)

commit 0f88722c239162c961309317cf1eb24acf6c584c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-29 19:31:20 +0100

    GabbleMediaChannel: choose best content type and transport using gabble_presence_resource_pick_best_feature

commit 61bd56e439651ff94a8b57a4123e8e22fae9dbf3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-29 19:28:05 +0100

    Add a data-driven function to fall back through possible implementations
    
    This is useful to pick a Jingle transport or a Jingle content type, for
    instance.

commit 3099018b3e97c86fcd181d0506c489212b9f97ae
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-29 18:51:37 +0100

    Represent PRESENCE_CAP_JINGLE_OMITS_CONTENT_CREATOR as a pseudo-namespace

commit 7d2078736354e6fd9e649b5a7d8f936a65217889
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-29 16:34:06 +0100

    Change gabble_presence_pick_resource_by_caps to check the cap.set, not the numeric caps

commit cea0b20ce1ff907ca5099cc5d7d03e71fbd87676
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-29 16:28:58 +0100

    Add gabble_capability_set_at_least () and GabbleCapabilitySetPredicate typedef
    
    gabble_capability_set_at_least (A, B) == (A ⊇ B).
    
    GabbleCapabilitySetPredicate is a generic test of whether a cap set meets
    some parameterized criterion; g_c_s_has and g_c_s_at_least are suitable,
    so add macros that cast them to GabbleCapabilitySetPredicate for
    convenience.

commit 0d0786805bd47db818d31fa7754af50a1bf0f56d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-29 14:20:45 +0100

    Intern feature namespaces in a global string pool
    
    We already have a reference-counted string pool - it's called
    TpDynamicHandleRepo! Accordingly, use one (shared between all connections
    for maximum re-use) to intern namespaces, and reimplement
    GabbleCapabilitySet as a TpHandleSet.

commit eb3b2da3717687cfaa61b4db7f9834cc41237715
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-29 14:18:32 +0100

    Make GabbleCapabilitySet opaque

commit f267a9f9aeb2c4866720ea44804e4c8900e19d17
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-04 19:22:12 +0100

    Remove now-redundant GabbleCapsChannelManager code
    
    Conflicts: src/presence.c src/presence-cache.c
    Merged-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit f959c969ab5afd0b2465d28856d3b17a9c42ccb7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-04 19:01:14 +0100

    Don't cache per_channel_manager_caps for caps nodes
    
    Conflicts: src/presence-cache.c
    Merged-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 08e2a5f7df90919b4a98c85ff5c3e3a8c9075b22
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 18:05:27 +0100

    GabblePresenceCache: _process_caps: don't free uninitialized pointer if presence is NULL

commit 57e7d51637d8aa1f04f533949338168b1178b102
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-04 18:48:53 +0100

    Port SetSelfCapabilities to use capability sets
    
    This ports gabble_caps_channel_manager_add_capability() to add nodes to
    a GabbleCapabilitySet, rather than footling with
    per_channel_manager_caps, and updates the SetSelfCapabilities
    implementation accordingly.
    
    This also alters the presence cache's capabilities-updated signal to
    include GabbleCapabilitySets rather than per_channel_manager_caps hash
    tables.

commit d2454ac80add5189179b83c3027a7b4461fba5de
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-04 18:44:55 +0100

    Construct contact capabilities from caps sets
    
    Modify gabble_caps_channel_manager_get_contact_capabilities () to be in
    terms of GabbleCapabilitySets, ignoring the per_channel_manager_caps
    hash table, and update the GetContactCapabilities and
    ContactCapabilitiesChanged implementations accordingly.

commit 885cec575b94377bddd49f77bbee4c8e8f99a117
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-28 23:30:46 +0100

    Calculate caps hashes from gabble_presence_get_caps()
    
    Originally by Will Thompson, with some merging and corrections.
    
    Regressions:
    * capabilities for specific services in stream and D-Bus tube stopped
      working

commit 3c9e76aea2b1b7edafe200550b9c8baf3a5936dd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-04 18:29:25 +0100

    Add API to retrieve capability set from presence
    
    This unions the old-style flags with the set of namespaces. It ignores
    the ContactCaps hash table, which is about to be slain.

commit a8d67fc5c0af54c7a71481d14a0c75eec3b01830
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-06-03 11:55:27 +0100

    Add constant CapabilitySets for voice-v1 and video-v1
    
    The patch was originally by Will Thompson, and only added voice-v1.

commit 174b5fa4e177ea3098134208fc10da60bf4f679a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-28 19:03:03 +0100

    Store cap set in GabblePresence
    
    Currently, this set of namespaces is stored as well as the
    GabblePresenceCapabilities flags and the per_channel_manager contact
    capability hash table, and isn't used. The intention is to migrate the
    contact capabilities API to use this, then remove the hash; then,
    migrate the old-style capabilities to this too.
    
    Merged-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 9dc25dd59b5e86e7063f9561a1510e1b9fc6db7a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-28 16:18:28 +0100

    Don't include presence.h in capabilities.h
    
    I'm about to make capabilities.h include presence.h, so this will avoid
    a circular inclusion.

commit d27e4f845f3fdc2a24c4838ae5d322ebe2038a55
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-28 18:49:44 +0100

    capabilities: gabble_capability_set_new_from_stanza: use NodeIter

commit 7673395760245174241641ecddd5d6003f8d212c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-28 18:46:03 +0100

    Parse (Contact)Caps from a CapabilitySet
    
    This reduces the duplication of code iterating across all the
    <feature>s.
    
    Patch originally by Will Thompson, but needed significant merging with
    Guillaume's node_iter patches and Will's Gabble-version detection.

commit e0200f363befa2559ec6a217dd6a8a0d3ac30000
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-28 18:17:13 +0100

    capabilities: use more tp_strdiff

commit a618fc6d45442fb57be58860e263b0f23ea7c2d3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-06 10:24:02 +0100

    API to parse disco reply into a CapabilitySet

commit edb4017ff921341c54edd154293a9ec32a962241
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-28 18:15:48 +0100

    capabilities: use tp_strdiff instead of strcmp

commit f22c12e2436c127797e67c75816911f04336a263
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-06 10:16:08 +0100

    Add API for storing a set of capabilities
    
    Currently the capabilities are just strings; this will probably change
    to be something like a quark.

commit 7b0659462e2d3537699033cdac4c761957951e65
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-24 17:13:57 +0100

    fix a typo in comments

commit c26ed3e14b1d2d179ddfc7192ce501e506029df8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-24 17:10:38 +0100

    add_search_result: no need to init the handle to 0 any more

commit 376c0aa76af8fe9ba3fff11b03d118469e4f2296
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-24 17:07:00 +0100

    search_channel_ready_or_not_cb: we don't want to prefix the error string, the XMPP message is fine

commit 65b807aee6078b74410eb078caf2544681209276
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-24 17:03:16 +0100

    test that not ready search channels are not listed in Requests.Channels

commit 1df9abbc594a55aed647bf3e73ed0d23e742b253
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-24 17:02:55 +0100

    gabble_search_manager_foreach_channel: only list channels which are ready

commit 0e2ede722f51afe544a517a1d83da6af0f9c81b7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-24 17:02:29 +0100

    add gabble_search_channel_is_ready()

commit b044a81ea53f4cfb4f31726e728a049d789fa9bb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-24 16:48:33 +0100

    check that newly created search channels are in Requests.Channels

commit a16742d26046ebde3cd6bbe5e2128a78c2b61c00
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-24 16:48:12 +0100

    implement gabble_search_manager_foreach_channel

commit dd3e398136d070ec1f8b841f7e07db0b53330877
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-24 16:19:44 +0100

    gabble_search_manager_constructor: use gabble_signal_connect_weak to connect the status-changed signal

commit 31845b7a5587ef7e4e853f7101fbd8d811734159
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-24 16:13:05 +0100

    re-implement gabble_search_manager_close_all using gabble_search_channel_close
    
    This is cleaner than assume we are owning the only reference on the
    channel and rely on the side effect than disposing the channel will
    close it.

commit 4afb006a12463289f98137cef03c2d989d608504
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-24 16:12:46 +0100

    add gabble_search_channel_close as a public method

commit fdc5b48b75be4abc6416da4863d07f3736aaa83f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-24 15:48:54 +0100

    gabble_search_channel_init: use g_boxed_free

commit 263793fb057905590fd9db0ebef42001a07d60bc
Merge: 36f4a8f 1d127a4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 15:34:50 +0100

    Merge branch 'caps-fasttrack'
    
    Reviewed-by: Guillame Desmottes <guillaume.desmottes@collabora.co.uk>

commit 1d127a49313ed8ca80272f1937b94364e51171b5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 14:18:20 +0100

    gabble_connection_advertise_capabilities: avoid calling c2tf_fn twice

commit db1d6f240cc30a78c2867298982502ff9d291d77
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 14:02:51 +0100

    GabbleMediaChannel: make a debug message more informative

commit 1d4d05b32c80adf34a168180dd18be41e12591ab
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-24 14:02:36 +0100

    _gabble_media_channel_typeflags_to_caps: don't reassert caps that we always have anyway
    
    If we do, then removing StreamedMedia capabilities will make us remove
    these caps from our presence, which is presumably not intentional.
    
    Also amend the caps tests to catch up with this change by expecting all Jingle
    dialects, and the raw UDP transport, to be advertised regardless of caps.

commit 1116df05e22762a10d32943618ba666584c028fa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-21 16:42:46 +0100

    _emit_capabilities_changed: list the capability if we had, or have, any caps
    
    OR'ing together the Gabble presence caps (namespace sets) and seeing
    whether the result would have any Telepathy caps (flags) isn't quite
    the same thing: it would wrongly consider the transition from
    { Jingle audio but no transport } to { gtalk-p2p but no content } to have
    the potential to be non-trivial. (Admittedly, that's pathological.)
    
    This lets us eliminate a pair of duplicate function calls, so, do.

commit faf59e74fb2d02320957590dc2eb049a13989bf2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-21 15:45:59 +0100

    GabbleMediaChannel: consider contacts with PRESENCE_CAP_GOOGLE_VIDEO to be callable, even if they don't support VOICE
    
    Oops :-)

commit 43901ae9b360b3ebcea149d8feb9d1f003c435b1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-21 15:44:33 +0100

    GabbleMediaChannel: only consider modern Jingle contacts callable if they support audio or video content
    
    Strictly speaking, the check should be for JINGLE_RTP &&
    (JINGLE_RTP_AUDIO || JINGLE_RTP_VIDEO), but that's just being pedantic.

commit 783fbed52867f381752bdf82fa24c0a9a8f92062
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-21 15:36:22 +0100

    GabbleMediaChannel: contact_is_media_capable: make variables less confusing
    
    Note to wjt: this isn't Haskell :-)

commit a8989dcd724032c283892600eb534d966c215f42
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-21 12:26:39 +0100

    gabble_connection_ensure_capabilities: don't leak the error, if any

commit 36f4a8fcade23e6a9dc3c14621bec9c11cbd9bbf
Merge: 9d386da 7434680
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-08-21 12:07:47 +0100

    Merge branch 'terminate-reason-text'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 7434680c92fc1f49e70031ceed59dd82ddcfb321
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-08-21 12:00:59 +0100

    Update test for new group flags

commit 4ebe7488a3084d14aa6ad50d709033ab7681f938
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-08-20 20:43:17 +0100

    Version 0.8.1

commit 9d386dacc3d9693250e6b4b80f988bee72c0a66f
Merge: 6ad7795 d1f2d83
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-08-20 17:59:55 +0100

    Merge branch 'zombie-media-channels'
    
    Reviewed-by: Dafydd Harries <dafydd.harries@collabora.co.uk>

commit f10fdcc9d8cb410c8a90ed4b36f95bf18c4baf73
Merge: 0daf412 d1f2d83
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-08-20 17:59:32 +0100

    Merge branch 'zombie-media-channels' into telepathy-gabble-0.8
    
    Reviewed-by: Dafydd Harries <dafydd.harries@collabora.co.uk>

commit d1f2d837345a4a42763c0a1e6fd20118c5c6a24f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-08-19 16:51:52 +0100

    Yes, this can and does happen.

commit 4b46720f55ea79e300499a89eb27b578479aa8a4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-08-19 16:43:07 +0100

    Don't ref media channel when waiting for relay
    
    When we look up relay information from Google for new media streams, we
    use a StreamCreationData * as the user_data for the libsoup HTTP request.
    You can't cancel those requests, so the StreamCreationData can outlive the
    call.
    
    But currently, it holds a reference to the channel. This means that the
    media channel can outlive the connection, which is bad for several
    reasons:
    
     * It's still on the bus, so if you make a new connection and it happens
       to get the same path as the old one, then make a new call which happens
       to get the same path as this channel, we assert.
     * When the request does come back (or fails because we destroyed the
       SoupSession — this happens asynchronously), the channel's disposed. Its
       dispose() tries to call methods on the GabbleConnection, which is no
       longer valid, and we crash.
    
    Instead, StreamCreationData now takes a weak ref to the channel. If the
    channel's disposed, that field of the closure is set to NULL; the relevant
    callbacks react to 'channel' being NULL by doing nothing, just as they do
    if 'content' is NULL.

commit 8b96db03538b110fe0fb3ee19e44bc259a5d621a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-08-19 16:38:53 +0100

    Hoist definition of StreamCreationData
    
    This will be needed to refer to it within _dispose()

commit 16fbf12e779a523b1c105c31c698403560136c01
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-08-19 14:13:20 +0100

    Close all media channels on disconnect.
    
    Relying on unreffing the channel to make it close is silly, and
    complicates the code.

commit e7e9fb4e383854a9b1c82bf59d068f16712d8de9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-08-19 14:13:07 +0100

    Add gabble_g_ptr_array_copy

commit 04aead1d58de806cced0a0ce925d1a2c9df11b7c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-08-19 00:56:14 +0100

    Fix disconnect-before-Google-relay-reply test
    
    We do want to check that the Closed signal arrives for the channel when
    you call Disconnect, because it doesn't in some cases. We also want to
    check that the channel object actually goes away when you disconnect,
    because it doesn't in some cases. This smokes out a crash in Gabble, but
    sadly isn't reliable: libsoup seems to sometimes call HTTP request callbacks
    as soon as you destroy the session, but other times uses an idle, and we
    only crash in the latter case.

commit 6ad779553658baf3a29f0ebbd9b5623ee82f0998
Merge: fd2e22c 77c6dd7
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-20 17:20:26 +0100

    Merge branch 'vcard'
    
    Reviewed-by: Will Thompson

commit 0daf41225a74a1c1e35807493d748c861c00667b
Merge: 61ed3d9 77c6dd7
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-20 17:19:35 +0100

    Merge branch 'vcard' into telepathy-gabble-0.8
    
    Reviewed-by: Will Thompson

commit fd2e22cc2c1562490e54a4f0a0c2cbc78cc1ed27
Merge: f43931f 25d722e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-20 15:20:47 +0100

    Merge branch '08-video-v1'
    
    Was intended for 0.8, but not merging there at the moment; we can backport
    it later if needed.
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 25d722e798170426525f8c91b9599c2c0ed54236
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-28 20:50:28 +0100

    caps/compat-bundles.py: test that the voice-v1 and video-v1 bundles can be disco'd

commit 9660f7126210e57c58b0f0937ec6452c0e8af30e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-28 20:28:01 +0100

    connection_iq_disco_cb: simplify handling of voice-v1 disco, and add video-v1
    
    We support two bundles for interop with obsolete clients, each with one
    feature. As such, there seems little point in populating disco replies in
    a data-driven way: instead, we can just special-case the two bundles.

commit 83130b6ccb06b03328250d5116c0819280b9840a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-28 20:25:41 +0100

    connection_iq_disco_cb: factor out _gabble_connection_send_or_complain and add_feature_node

commit 77c6dd7ac90cdf00ba7a92b85ac51c059b44b077
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-20 12:32:22 +0100

    keep a ref to the handle for the lifetime of a PEP request
    
    This fixes crashes where the request callback gets run on an invalid handle,
    which I've seen when the request times out or during connection dispose.

commit f43931f9a4da33edb5f11ce7d7230eb94f81b744
Merge: c1a2b6e 61ed3d9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-20 12:29:41 +0100

    Merge branch 'telepathy-gabble-0.8'
    
    Conflicts:
    	NEWS
    	configure.ac

commit 61ed3d91506218fad05d014e4c68a9791ddb2c00
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-20 11:18:04 +0100

    gabble_jingle_content_parse_add: clarify behaviour of libjingle 0.3 mode
    
    When google_mode is TRUE and trans_node is NULL (i.e. the remote party
    is using libjingle 0.3 or an emulation of it), the transport is implicitly
    gtalk-p2p, because libjingle 0.3's protocol has no concept of transports.
    To select this transport, we look up the empty string as a
    pseudo-namespace in the factory's registry of transport types, which
    in practice returns GABBLE_TYPE_JINGLE_TRANSPORT_GOOGLE.
    
    This results in a coverity false positive a little further down,
    where we select a transport based on trans_node (assumed to be non-NULL)
     if transport_type is zero. This is in fact safe, but coverity can't tell
    that (it can't see that transport_type will be nonzero as a result of the
    lookup), and it's not immediately obvious to programmers either.
    
    To make this clearer, add a check that will, in practice, always succeed
    (unless we delete the gtalk-p2p code for some strange reason).
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit a3786f489a68f6e8781409887cc37ef17748258c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-19 17:18:50 +0100

    vcard-manager.c: correct assertion about when priv->edits is NULL
    
    It previously didn't take into account the fact that it could be non-NULL if
    there was a SET request in progress.

commit c1a2b6e697156e708b0e2752a64c6d10d4147a22
Merge: c17d16b 0706811
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-19 13:46:27 +0100

    Merge commit 'cassidy/message-deprecated'
    
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit c17d16be76d54038e95bb93b91688a656e7fd983
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-19 12:31:06 +0100

    Start 0.9.0 development

commit 7623263e62a46108e1c404be72f9e01011ff9b64
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-19 12:30:17 +0100

    Start 0.8.1 development (stable branch)

commit f752b8e3a5afe34acf7ab8ff4fdf0a63ce20afee
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-10 11:38:29 +0100

    search_helper.py: use make_result_iq

commit e973495a0652fd7d2b68dd943a49f389ae93583d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-10 11:26:34 +0100

    ceci-nest-pas-un-serveur.py: send stream close so Disconnect is properly completed

commit d7db4b21df7de4b31997bddf37cb505f9edd5e49
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-10 11:22:48 +0100

    ceci-nest-pas-un-serveur.py: use make_result_iq and send_error_reply

commit 375783ea8b52ddb29a54f2d4a24491b49f0cbfbe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-05 10:53:27 +0100

    extended search results contain a title node

commit 74e07a1cc5aafb078f95e5a6b7e30268291c85c9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-05 10:46:06 +0100

    send_results_extended: search result doesn't contain FORM_TYPE

commit 712a0697875bb32ea26b2e6e64a75ca0dd89615a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-05 10:44:38 +0100

    parse_extended_search_results: ignore <reported> node and fix debug message if we hit an unknown node

commit 1c8ee37193a706e9d0dca701b07a89d24e58a95a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-05 10:37:09 +0100

    send reported fields in extended search results

commit cad950b978623d45d37ce7e7798fea42ea9737a1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-04 11:01:32 +0100

    gabble_search_channel_finalize: free  available_search_keys

commit 3f01169e8f1b9d55df8454bfb4d83e39d6eede63
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-04 10:50:32 +0100

    fix test to catch all the search result in one SearchResultReceived signal

commit 13344d0eb9a1c9a4e51d26f8d70f97ebaf668324
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-04 10:50:05 +0100

    constants.py: ContactSearch is now DRAFT2

commit c5224426862464b13553905f9a9cda9ab393d5b8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-04 10:48:53 +0100

    search-channel: SearchResultReceived now returns a dict containing all the results

commit f0ea853173a9efdeaba4a11f99f708b63dd08b8c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-04 10:48:31 +0100

    upgrade to latest ContactSearch DRAFT

commit a0bba8b35a594cadd5aac2f0dc08b469ce986e7c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-03 16:07:41 +0100

    extended.py: test openfire search

commit 501801daa337d5499a6806dd709d32fd7789a9b0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-03 16:07:25 +0100

    search-channel: implement openfire search

commit 3b6421820f6ebb6419da66e2aafc68844d972c7c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-03 14:07:30 +0100

    add search/no-server-property.py

commit b511270ba23bd3f895db7e7ee0ff15d4e7ca5dff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-03 14:03:19 +0100

    search-manager: use the server's JUD if no Server has been specified

commit a1b7dac7aa80ac3eccdbc0f365da59c23c74d648
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-03 12:06:17 +0100

    store only supported fields in tp_to_xmpp so we can map to the right one

commit ecad75d4a995f14fb30dc4cc4c2e9abab7b5d94a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-03 11:39:36 +0100

    emit_search_result: use the xmpp_to_tp hash table instead of hard coding fields
    
    This had the side effect to to expose the "x-n-family" and "x-n-given"
    info field in the search result which is probably what we want.

commit 7021cd773e992e30a8b93d70026c14ed16c844c7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-03 11:33:18 +0100

    unextended.py: search fields have been broken for now

commit 335c24e1d77d397a8f36071567c4696ed3897c8d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-31 17:04:53 +0100

    complete_search: add a test using given/family/nickname fields

commit e86957944eec5e546842a5b066e69f350b80211e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-31 17:03:18 +0100

    "given", "family" and "nickname" seem to be validate field for dataform searches.
    
    This unfortunally break existing test as Gabble will use these fields
    even if the server supports the other ones.

commit 2da1dc107ed17e506c51801e1df23dbe75278c4f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-31 16:21:34 +0100

    Add a FIXME about unclear first/last mapping

commit 38cb7d7b3bbe1fa45e5f054a63ea17a300c9f3f6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-31 15:10:47 +0100

    do_search: search request are actually 'set' IQ's

commit 68849d7772066992306dbe696c94315bfdbe5547
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-31 15:06:40 +0100

    'x' node should contain a type attribute when sending search request

commit bb35acaeb585c2ddbb59b6445a5bf68f5f17643d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-03 12:30:56 +0100

    add search/extended.py testing extended contact search

commit 5a4913de4efc43f017bd2b852678bf5bce27b846
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-31 13:03:23 +0100

    search_helper.py: add send_results_extended

commit 9595ef2ac5348a15885a3d0fa206014c24f4002c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-03 12:36:57 +0100

    search-channel.c: support dataform searches

commit 90489957962c9d926458772f5c92100287278b87
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-31 12:04:01 +0100

    emit_search_result: display the keys that have been ignored

commit 8206e283ff32a78feabb25ed89a48be822c1ac3f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-31 13:00:47 +0100

    pass search terms to make_search

commit 1b1bceceda34b0a31da0b67cbc43c1218943f657
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-31 12:03:32 +0100

    emit_search_result: initialize the handle to 0

commit aa6f4b72c2d2c4db1671062361731b14a1b2b4e2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-31 10:25:54 +0100

    parse_unextended_field_response: have to use unextended_xmpp_to_tp

commit 100f3a0f0e94c1e290e354f3aa4815a22509773a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-30 18:01:33 +0100

    search/search_helper.py: add answer_extended_field_query

commit 196c6fd1da07f5e730a8047fc6187c549960c1e4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-30 16:49:19 +0100

    search/unextended.py: no need to disconnect the connection

commit fc65d87ec761d943e5d4f01a6653aa9e4b5ee0eb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-03 12:26:03 +0100

    create search_helper.py containing search test utility functions

commit ddf199a3e23140fda4b9835efae81bf1aced2d9a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-30 16:30:46 +0100

    upgrade ContactInfo spec to latest DRAFT

commit e73fea4298aae4ceb0fc4d71d52c66a1315f831e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-30 15:57:06 +0100

    fix forbid

commit 61942b6053e82b48c515801dfac6889823d8f9dd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-30 15:37:59 +0100

    search/unextended.py: use q.forbid_events instead of connecting to the unexpected D-Bus signal

commit 3214ded71610a97abd60e58f1471320ce227f688
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-30 15:30:33 +0100

    use constants for StatusChanged arguments

commit 859fa5d10c08c27844be7ca2ca1079ef57d3d327
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-30 15:23:54 +0100

    parse_result_item: don't leak the info hash table

commit c6164678c5b47176c5b81fd0c9ecdcfb881139ca
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-30 14:40:17 +0100

    gabble_search_manager_foreach_channel_class: use tp_g_value_slice_new_string

commit 821019befbdc96fb362d88af56a33d51bc752e1b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-03 12:09:42 +0100

    search-channel: use NodeIter

commit 49cf3b960313fd21253713b067af74f83434cddf
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-23 13:32:30 +0000

    Test calling Stop() in various circumstances

commit 5d88ccf9997d196a50624fabb9c3f4387ec9c8a1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-23 13:29:38 +0000

    Implement SearchChannel.Stop()

commit 752a6605853d83f24c9aebe52048c0179d83229e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-23 12:03:20 +0000

    Update to even newer spec draft

commit 24b4a017b565fce1d6afc754fc7883674fcdcdb1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-17 23:29:30 +0000

    Make search-state a read-only property.
    
    I think this works out cleaner.

commit 91bbe367091f0e5f7c0f613e54d9c90d572af2ec
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-17 23:02:54 +0000

    Test a couple of ways the search can fail

commit f1b3b6dcca48d93a4cdb2ccac5632706c80061ae
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-17 23:02:25 +0000

    Include failure reason in SearchStateChanged

commit 753655357082d6e994327c543a49bb667987eb03
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-17 22:52:37 +0000

    Correct message when search response has no <query>

commit 59e459b2a8385cb8ea0689336bde3b858057e6be
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-17 19:09:24 +0000

    Move to state Failed if searching fails

commit e2261ee0f03f826bdb47f5b1845eda5a249b4a03
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-17 18:50:25 +0000

    Add a GError holding the reason a search failed

commit cfa0b9ad7dfb50d7a5ce7991dd69478bdf97b642
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-17 18:59:25 +0000

    Update to latest ContactSearch spec draft

commit 61922c548f069143d0cc1b91aae9212bdc6f6f85
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-14 01:08:01 +0000

    Add stub xforms block to do_search

commit 6bf68a4863a8f1ebc29e9d674c4d91f6c1cf4e29
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-14 01:06:07 +0000

    Break do_search into smaller pieces

commit e6749dd502ecbd03ec7ff476bdadff336a86c37d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-14 00:49:10 +0000

    Add a flag for whether the search server uses xforms

commit bbf14db90e6b39aa56c0b4793cc0de0d36e44aae
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-14 00:47:26 +0000

    Extract parsing unextended supported fields to a function

commit 0dbd128f81a9be87c46e708f663a4b80886f117d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-13 19:20:42 +0000

    Test that search channels release handles when closed

commit 1be7487bd29ac487063cfc6669ba2c0b21d98e74
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-13 19:11:10 +0000

    Test unextended contact searches.

commit 11b4474ad37d1a787231cc1af3db471ead9ea364
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-13 19:07:00 +0000

    Parse the results of unextended searches.

commit 885fdf7bad650066189684b5cafbea38f942475b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-11 16:43:47 +0000

    BaseChannel: ref handles in constructed.
    
    This means subclasses can set the target and initiator etc. in their
    constructor.

commit 9618dc7517130371781040df3d2e2689bd55040f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-11 12:00:43 +0000

    Clarify function names and add section comments

commit aca9b28b22b368ff0e11294bca861c708ce64b16
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-11 11:39:14 +0000

    Add a handle set to hold contacts from search results

commit a5bdb8ac75aa9830d0df5e65c7810536390d8409
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-11 11:35:22 +0000

    SearchChannel's dispose should chain up

commit 7c617eb9c5358030e1f52fbdba14e5b03fe2850e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-10 23:41:03 +0000

    Test Gabble sends search terms correctly

commit 223ddddf7778ef26d907db0e215601193a6c2a0a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-10 19:32:10 +0000

    Implement sending a search query

commit bb5b7dda8fa0dead3fcb9e7d1718c93a8f13bbee
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-08 22:03:46 +0000

    Add some debugging output to changing search state

commit 578ffb284ff70de35d7d292be92308cb1b0d3a89
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-10 19:00:43 +0000

    Use mapping table when parsing unextended search fields

commit 9256dc50fd6504f1679c456a3ec2b3fb05b9a7f5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-10 18:55:30 +0000

    Build dicts mapping XEP 0055 <-> Tp search field names

commit 776f1d7ad07cd680714e751d9e46b0105cebd72e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-10 18:18:17 +0000

    Use search server name in object path

commit 39789a723f79cc99f1a19f90ff16dbbdeee18bd3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-10 18:13:01 +0000

    Search channels should only appear on the bus when ready

commit fa1167b59ef125e66caf1877bf0310997dcdeca7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-10 17:59:40 +0000

    Replace 'probed' with 'ready-or-not' with a GError

commit e8dd0eab18602a0adee0cd160811cccd3a2686d5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-10 15:38:09 +0000

    Test poking various non-functional search services

commit 32d66a40935b405eb30f117156187f07df2d44e1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-10 15:31:45 +0000

    Test asking the server for available search keys

commit e4693f6961096565d65e597cced9f62f008120bc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-10 11:50:23 +0000

    Fetch non-xforms search fields from server

commit b94bb989d7a119b51e8aaabfcd37082830830f75
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-09 16:54:07 +0000

    Add jabber:iq:search namespace

commit 934dc94d7f2b34621167441c81da9f5d492ff81b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-09 16:45:03 +0000

    Remove search channels to invalid servers

commit c50a1b5b5347397f298fe1aa037623e27660a3f6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-09 16:35:38 +0000

    Make SearchChannels remain closed until they're ready

commit 050f8cc5a1ed51cf8dfde2ffe43db8d734a89d85
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-09 16:27:53 +0000

    SearchChannel: emit Closed if necessary in finalizer

commit fd27db628d39f1c7ebb75a799f1f4b3dd8ba26d6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-09 16:27:06 +0000

    SearchChannel: extract closing to a function.

commit afb4119873f5399dd6c2dbff997818ad26980a08
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-09 16:01:58 +0000

    Return from SearchChannel requests when 'probed' is emitted

commit a95979385ba418a9137a3d5938b940ec684a6ea1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-09 15:01:14 +0000

    Pretend to have discovered supported search fields.

commit 7445ee1f1f1fac41fce33670885617fab7309dd9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-09 14:58:57 +0000

    Add a signal for discovery of supported search fields.

commit f25fc08fd580052e43482292037e2e80123ee6b4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-08 21:58:19 +0000

    Add the beginnings of a contact search test

commit 495735bf569ea4ce2d132912645c893b42e710a2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-10 15:58:01 +0000

    Create search channels in response to requests

commit eada1b1c5ad914f547542aa0f0a6885d6501c4f0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-08 20:22:11 +0000

    Add a stub ContactSearch channel implementation

commit a9974f6d4abd5281049ba4968f31e860372dd0f3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-06 12:59:06 +0000

    Add a base class for channel implementations.
    
    I'm sick of copy-pasting a big list of properties and implementations.

commit d180efa8662806f9e0222d099b82f26becef8fed
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-06 12:57:06 +0000

    Add a set of channels to SearchManager

commit 4cce198b8b24b480d514b1df66d7bf5fd3def4c7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-05 18:29:22 +0000

    Hook SearchManager up to the Connection.

commit 01121a5559c32eb43480dfd7cd4b79a5dc918faa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-05 18:29:04 +0000

    Add a stub TpChannelManager for ContactSearch channels

commit 8d996e0af896e7b9361145cacc5750c1b325c9e0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-05 18:28:37 +0000

    Add a debug flag for contact search.

commit 4383aa10c245edd08107b1a5638cd260d0f0df3c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-05 18:27:53 +0000

    Add ContactSearch draft.
    
    Also add ContactInfo draft for the cross-referenced types.

commit 0706811750ad56e67bae503fea78a1c57aa432dd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-19 10:26:26 +0100

    servicetest.py: BaseException.message has been deprecated
    
    Since Python 2.6, BaseException.message has been deprecated (see PEP
    352). We should use the string representation instead.

commit 2de06ae280708406e44750513af61af9318d06e5
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-18 16:44:31 +0100

    version 0.8.0

commit 4abc69efd834a5e2dc70ceef8873e4af6af26148
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-17 10:52:40 +0100

    conn-location: no need to include extensions.h any more

commit b4aa8781b908ef8e75df82d874fdf2f2da9013e8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-17 10:43:35 +0100

    NEWS: document tp-glib bump version and that Location and Debug are now stable

commit 155934e4bb52dda828601669c17dd11529afe824
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-17 10:33:37 +0100

    extension: stop generating code for Location

commit 315f68bea45000783a4916e468e195d028d56153
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-17 10:40:20 +0100

    Use tp-glib API to implement Location interface

commit b5b6f2e22ac11803760f92ca71b71f3dc5eeee85
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-17 10:38:49 +0100

    Bump tp-glib dep to 0.7.34. We need it for Location API

commit 92b49e253adb1cc57d0c73a7364d4679ff1e3182
Merge: 0259028 f19ddc0
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-17 19:44:11 +0100

    Merge branch 'vcard'
    
    Reviewed-by: Will Thompson

commit f19ddc0be99d7f04ca987173512519e9fe28b0c7
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-17 16:56:04 +0100

    use g_timeout_add_seconds() instead of g_timeout_add() where possible

commit 0259028c08989d8b7ca959e71bd7530f0fe712f3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-08-17 12:48:02 +0100

    test-handles: stop exercising handle-holding by clients
    
    This is telepathy-glib functionality, not Gabble functionality, so there
    should be no need for us to test it here (I've copied this test into
    telepathy-glib and adapted it, instead).
    
    This test would also cause a critical warning in a future telepathy-glib,
    because the bus name we're using is not actually syntactically valid.
    
    Reviewed-by: Dafydd Harries <dafydd.harries@collabora.co.uk>

commit 52e639f8944b636c843ba7a1fe573a7a0969405a
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-17 16:42:08 +0100

    add test case for vCard get request failing during vCard update

commit ef8e65f8a15e9f225d8e752064eacae2fee4f2b1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-17 15:01:28 +0100

    request pipeline: pass in error from result stanza as GError to callback
    
    This allows vCard error handling to be greatly simplified.

commit f0e917a2156dfa837e8621f94de0c152fe49718f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-17 14:57:46 +0100

    replace_reply_cb(): cancel all pending vCard edit requests if there was an error
    
    Previously, we only cancelled an edit request if req->set_in_pipeline was set,
    which was only set when the set request was sent. Hence, if you made a vCard
    change which depended on a get request that failed, your callback would never
    be called.

commit 90d108ed24fb7acd6cd4aea0599108942587f041
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-17 14:55:59 +0100

    remove unnecessary cast

commit 97b7358d1ade53189c919de21795f35109fa406f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-17 14:51:58 +0100

    add error name and message to dbus-error event

commit 4fa4a37fc1222d6bfc312a575854dc12a6d517dc
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-17 14:07:51 +0100

    remove invalid assertion
    
    replace_reply_cb() can be called when we don't have a vCard set request in
    progress, so it's wrong to assert that priv->edit_pipeline_item is not NULL.
    Specifically, it's called when a pre-set get request fails.

commit 1b3b75b3905f6074e162812543f1b082089c35a2
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-17 13:39:48 +0100

    _elem_add(): clarify error message

commit a0e1ddad9446ae472d64ccd3b625b547c311dba0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-17 10:18:30 +0100

    sync Debug interface with undrafted version in spec

commit 85ec3c4157337e25ae29b68774c6df99a8a87a08
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-14 18:38:50 +0100

    increase vCard + pipeline timeouts to 3m, and pipeline length to 10

commit 5c332eeac0c4d2174a39c2b6c6c1e98d6a2d70d9
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-14 18:36:26 +0100

    use vCard default timeout, not pipeline default timeout, for vCard set requests
    
    For consistency.

commit 2d382bce697829c191c966083e9360b84b77f6d5
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-14 18:34:09 +0100

    start request timeout when item is sent, not when it is enqueued
    
    This prevents vCard requests getting cancelled before they are sent because
    items earlier in the queue took too long.

commit 95bba8c6b63a7cba2b57d4b2617217d7a0ea3b56
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-14 18:33:24 +0100

    actually set timeout on new request pipeline items

commit bdd14973ae4ea4ec3b1b7966a607ceda30282482
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-14 18:31:08 +0100

    hoist timeout_cb definition to avoid forward references later

commit bd1afa448cd32a9093f28212c97742844586232f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-16 18:23:44 +0100

    sync location interface with undrafted version in spec

commit 25d660ce09ae551d3fbfc0738b7818d244f4dd1e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-14 13:44:28 +0100

    test-location.py: test that location is supported by the Contacts interface

commit e93d3212afd7359725ccca1b43c9a1b58b55c818
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-14 13:44:01 +0100

    add support for the 'location' attribute in the Contacts interface

commit 057bd35f0fc085a9751edb4fc9583f90bdad238e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-14 13:51:40 +0100

    location_get_locations: unref the locations hash table when destroying return_locations
    
    gabble_presence_cache_get_location returns a reffed location so we
    should unref it when we are done with it instead of destroying the
    cached hash table.

commit 6d960d462736b947af755fc4e16e9ac940837d2d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-14 13:25:07 +0100

    conn-location: factor out get_cached_location_or_query

commit 573d7a9aa7f1f8f12c8a817e77bc80d7d0e692ee
Merge: 073c95a ccd94f6
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-14 14:23:26 +0100

    Merge branch 'vcard'
    
    Reviewed-by: Will Thompson

commit ccd94f6d22d177a65eef79c744146baeea4a1f87
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-14 14:10:51 +0100

    run all tests with fatal warnings and criticals

commit 6c185081c525e77caf4ca8bb914b5392d1a21431
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-14 14:10:12 +0100

    remove unused variable

commit 21da3430f8fbb28e6fd7af066f73fbd1dc91dccd
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-14 14:05:45 +0100

    update .gitignore

commit e2d42b101c1f7900bbd57486f42dae0dc763afff
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-14 13:34:24 +0100

    gabble_idle_add_weak(): don't remove the weak reference twice
    
    Also, add a test.

commit 073c95a46e88330fb5dff9587ea62a9e6d012a58
Merge: a7c8a0b 54c6c27
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-14 12:48:58 +0100

    Merge branch 'location'

commit 2d2df46ad2fd12315af0ad35a3f156c131568851
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-13 19:52:03 +0100

    gabble_idle_add_weak(): don't double-free the context
    
    If the object were finalized before the source were removed, the context would
    be freed twice. I'll get this right one of these patches.

commit 48dd20292de40e98f677ad116946df4b05342c98
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-13 19:33:27 +0100

    gabble_idle_add_weak(): remove weak ref when object is finalized

commit edd7b48572b12c1be07601dbda9e94715ed2b2ce
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-08-13 18:15:25 +0100

    Add group flags for remove-with-message.

commit ffe8d6659714d5c6dc7330d4f90ed12eccb55d91
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-12 19:14:40 +0100

    request pipeline: cancel idle callback when pipeline is freed

commit a7c8a0bfdd1a62ae55f5fc1ea384c1bd14f83923
Merge: d70a8b3 1ef44ec
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-12 16:43:21 +0100

    Merge branch 'tools'
    
    Reviewed-by: Will Thompson

commit 1ef44ecb4beafc397feb048e50908ae2bdb8b625
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-12 16:39:00 +0100

    improve log strip regex for pointers

commit 6fa0233593ca61cea05726eaeecc8be19bc3b0ea
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-11 14:48:06 +0100

    add tool for stripping log files for comparison

commit 54c6c274b95b3c8fb4f993f8ffd97368f135eccb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-11 14:41:20 +0100

    test-location.py: use exactly-representable floats

commit d70a8b3a9c729035c48ec207073ec6540651ece3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-10 10:22:55 +0100

    jingle/stun-server.py: break race when waiting for the google:jingleinfo IQ
    
    Events ordering isn't garantee. Furthermore, just wait for the Connected
    StatusChanged signal as we don't need the other events.

commit 7ee45e0a3c841b9528ebee196d976dfd09e52d49
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-10 10:33:04 +0100

    jingle/payload-types.py: just wait for the Connected StatusChanged
    
    We don't care about the other events. Furtermore they were racy as their
    ordering weren't garantee.

commit fe4c8be42ff2d9fe3b12d3949849f714f8e02e6c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-07 11:55:07 +0100

    test-location.py: test location update

commit 79b96ae32a046e39deff9ac242bd2089f32f2901
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-07 11:44:52 +0100

    test-location.py: test more location key types

commit 1d9f414b78146717848d7192170ad01e7b657e3c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-07 11:02:32 +0100

    simplify add_to_geoloc_node

commit 3de04e162327206c2c6791fdf2c6e8ab6a5f4150
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-07 11:00:06 +0100

    add_to_geoloc_node: we are not supposed to get an untested type at the end of the function

commit e1a9efb028418245ddd082c796b48af682017128
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-07 10:58:57 +0100

    SetLocation: raise an error if a valid key has an invalid type

commit 9aebfcf259fdce64f09bd94208ce91616d14a423
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-07 10:40:22 +0100

    location_set_location: use a hash table iterator

commit 5e3c318de706b854349410edd47a9ecb1e840769
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-07 10:33:15 +0100

    create_msg_foreach: discard keys with an invalid type

commit c305725c0afbacb22863ed58193ec408acec5007
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-06 18:21:25 +0100

    update_location_from_msg: use the type from the mapping
    
    Also uses tp_g_value_slice_new_* helpers.

commit dd8733c1a4c1bf5053ea983545d4ec003d5391b5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-06 18:17:15 +0100

    test-location.py: test to set an unknown key in the Location dict and XMPP reply

commit 60112c5a734041d4ea3197c1c3fe97841b9ddfdf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-06 18:15:51 +0100

    conn-location.c: add a mapping of location keys to filter actual keys

commit a27b58d9c1df80dc6ad55523a00b437b3a7b44a5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-06 16:47:14 +0100

    update_location_from_msg: remove accuracy support; it was dropped from the spec for now and current implementation was wrong any way

commit c82ab8d5064cc30dbed111f236d81f124d126b3a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-06 16:34:21 +0100

    test-location.py: make more check when calling GetLocations for the second time

commit a2ffade260544879ae1a4dd9f40daf35da596705
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-06 16:27:12 +0100

    test-location.py: make test clearer and check all the keys of the location dict

commit bc8881210d36fa39740d917a83479ff42b78fb66
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-06 16:08:25 +0100

    test-location.py: check the value in the set IQ when setting our location

commit e1440ab89d499e05eaceea0296f3f7e466d94a66
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-06 16:02:01 +0100

    test-location.py; remove D-Bus properties hack

commit 9bb7cbbd2512a588d63258f10b47bbe5c69b8f6b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-06 15:59:30 +0100

    servicetest.py: wrap_connection: add Location iface

commit cb2745e296b547409f8f55048dc4c925c541c493
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-06 15:56:11 +0100

    get the language from location updates

commit 51ecb9902cc33769c5fdb7f4292bbefe807c277a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-06 15:46:45 +0100

    test-location.py: use ns.py

commit e0c3a5e03ff08d875a862be8131f0973dd6efc40
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-06 16:14:07 +0100

    SetLocation: support language attribute

commit 826734a3300000f475c5ecf9cd301b0b119c6eec
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-06 15:43:36 +0100

    ns.py: add XML namespace

commit c1c58d7af1f851694e9abfbc2a57ab1eebda0538
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-06 15:29:46 +0100

    constants.py: add CONN_IFACE_LOCATION

commit 11eb3d9bdf3e48e238e934a7e15bcd3561179943
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-06 15:23:32 +0100

    Connection_Interface_Location.xml: update to latest DRAFT

commit 9e68bc5618451ea1fe6ae1efa514718a20512b78
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-08-09 12:50:00 +0100

    Start 0.7.33 development

commit b260efa61f16325ec2a88be083704ba096e98127
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-08-09 11:09:49 +0100

    Release 0.7.32

commit ccfea2dc78a347365c8f13f3441af1cc5967dd65
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-08-09 10:26:30 +0100

    NEWS the vCard fixes

commit 9f70ae0a2bbe3fc2eaeeb0a1c2430ed7c04153a9
Merge: 328eac2 2cd0956
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-08-09 10:11:43 +0100

    Merge commit 'daf/race-you-to-the-vcard'
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit f7e71212d840b4db270c89e8fce5eb838d516116
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-08-08 16:04:12 +0100

    Expose <reason><text> as MembersChanged message

commit 109709891562edbbcfe96d8384ead39d7fb72235
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-08-08 15:54:45 +0100

    Send <reason><text> in session-terminate

commit b8ff0d1d25b680e93ee1883a95d54bfe5972d4c5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-08-08 15:52:33 +0100

    Pass termination reason text to session_terminate()

commit 2cd0956b3445dbef7329f15d112db98f692cb0cb
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-06 20:01:34 +0100

    add a test for overlapping vCard

commit 1dd8cceda43f7e939cc2cf180ca5ded58c016f77
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-06 19:58:06 +0100

    style tweak
    
    Will points out that this means that cscope can see it too.

commit 53191ca47d514f0165d7ef7c5d456987e037d9f8
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-06 19:53:42 +0100

    fix the case where overlapping vCard changes are made
    
    When we receive a reply to an edit request, send off any changes that were
    made in the meantime. Also, when a new edit reqeust is created, check for
    pending set requests as well as pending get requests before generating a bogus
    get request.

commit d45d3ef03fda5ead9b7de1495d67cbd0f06c4984
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-06 19:52:47 +0100

    move checks from pipeline_reply_cb() to manager_patch_vcard()

commit 7f543e0ac7fcb1188bd15f2170b4170be8c8d30a
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-06 16:47:35 +0100

    style tweak in test-vcard-race.py

commit 8ccb7e6db99557952e9d29e5dc72ea985f17fc05
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-06 16:46:42 +0100

    re-enable test-vcard-race.py

commit 2179dae58db67b9308fb0725f837ad0e1c2ff67a
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-06 16:46:07 +0100

    run Python tests with unbuffered output

commit 7a57af26d7f83f98b71ac68cd531d7104a55eaf0
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-06 14:56:44 +0100

    style tweaks for gabbletest.py

commit 17b323b63bca64809b67b1c805b093124cc00389
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-06 14:24:15 +0100

    vCard manager: assert that priv->edit_pipeline_request is not NULL before NULLing it

commit 75196330504fb5be7252e478aba0e9c6ce01f623
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-06 14:23:51 +0100

    vCard manager style tweaks

commit 516748c5fb2f2fb2053a748d9cfada2784b53170
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-06 14:21:22 +0100

    eliminate unreachable code in vCard manager

commit b73ab1ce521c802dffcff4ea25959e1b802834a8
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-06 13:57:24 +0100

    nicer debug messages for the request pipeline

commit 1486900ee25d907962749896dc34722599790eb3
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-06 13:46:25 +0100

    be less fussy about scheduling pipeline runs when enqueuing a pipeline request
    
    Previously, a queue run would only be scheduled if there were no requests
    currently in flight, as opposed to less than REQUEST_PIPELINE_SIZE.

commit a3757d868211b814aca0c4ba41babe133bb43ed2
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-06 13:26:55 +0100

    don't send vCard multiple vCard set requests at the same time
    
    This happened to work previously due to some nuances of how the IQ request
    pipeline works, but there were still cases where it broke and Gabble crashed
    due to an assertion failure.

commit 23bbb963ad30282c141716bc0306ed50830ad2ae
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-18 15:28:03 +0100

    Unrace test-vcard-race
    
    This makes test-vcard-race actually test the intended feature, namely
    coalescing vCard updates while there's an outstanding vCard request.
    There were two races:
    
     * The vCard reply sent in response to Gabble's query during connection
       sometimes reached Gabble after the call to SetAliases;
     * The call to SetAvatar sometimes reached Gabble after the reply to the
       vCard request made by SetAliases.
    
    The "wrong" outcome of both races actually reveals an assertion failure
    in Gabble; reliable test to follow.

commit 328eac2c6749c0167cf9976658f01d9390892b89
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-08-05 18:43:58 +0100

    Remove vestigial references to timer_id
    
    Daf broke the build, and I reviewed it. Sorry. :(
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 667782caa92f5fa70fc6df8d966c5e41359cf08b
Merge: ff1afd0 99edc47
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-05 14:16:09 +0100

    Merge branch 'eternal-call'
    
    Reviewed-by: Will Thompson

commit 99edc47b7726d48ad2ea6c16d4b3481e1e40e5f5
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-05 14:00:02 +0100

    Update NEWS re Jingle timeouts.

commit 424d49860e3c4ed92783e5d6599b4b67cf618cbb
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2009-08-03 19:01:20 +0100

    remove timeouts from Jingle session initiation and content adding
    
    A timeout on making a call should be client policy. I'm not sure what the
    content add timeout was meant to achieve.

commit ff1afd0efaea344946e0861714cc965ebd3dab0b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-04 17:38:26 +0100

    remove strace.log before starting tests

commit 5a7f1fd66e0dc3fe092c484896df83df9464e4a4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-04 17:35:19 +0100

    add strace.log to .gitignore

commit ea70504662986989af55c8c2885603d02dceed92
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-08-04 17:34:29 +0100

    add support for GABBLE_TEST_STRACE to run tests inside strace

commit 776e4cacfa22725075f6a256c46defc7564def1c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-07-30 10:04:03 +0100

    Unrace presence/presence.py

commit 3302067328eb963b5e2f0ace2e0bb2db11454e4c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-07-30 00:31:16 +0100

    Correctly retransmit candidates for each content.
    
    c was not initialized by the time this
    gabble_jingle_content_retransmit_candidates () was called. The fact that
    we've not seen this crash suggests that this code path isn't reached in
    practice.

commit c8fa8701ba8cde31fb30b01ab83352a9de2986f5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-07-29 23:57:55 +0100

    Don't fall through on unexpected hold state changes

commit aed9f0c9648762266a6b18c767adfc7614405e01
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-07-29 23:56:29 +0100

    Remove unused 'presence' variable
    
    This was left behind when the code to emit closed and send <gone/> was
    refactored into emit_closed_and_send_gone ().

commit a6a448e77577b3d0267bfe44d5053e88018cb9e6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-07-29 23:55:21 +0100

    Remove unused contact_repo variable

commit ca526f773f1ac2ff710729f31d1647a458d014cd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-29 12:54:51 +0100

    tests: use constants for StatusChanged arguments throughout
    
    Also remove some commented-out expectations of StatusChanged, and in
    tubes/accept-muc-dbus-tube.py, import constants as cs rather than c
    to be consistent with other tests.
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 9fca54220d4dbf10ec863f55ea28b4c2b9fa3cd4
Merge: 9924d26 2f563ec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-29 12:19:10 +0100

    Merge branch 'caps-tests'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 9924d264df5c8b8df07271b1d40a7bb4ece0e53d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-07-29 02:33:51 +0200

    Test that gabble respects the default fallback stun server

commit 2f563ec3f42bdf8697cb16a914769714eea5d430
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-28 22:59:18 +0100

    Add a test for the initial capabilities
    
    At the moment, we initially claim to support both non-Google Jingle
    dialects (we always claim to support Google sessions) and all three
    Jingle transports. However, these go away when streamed media capabilities
    are explicitly removed...
    
    For the moment, assume that the current behaviour is good, and assert it.

commit 92eb738121190d124ed0a152b70b141735cc94a1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-28 22:52:38 +0100

    Refactor self-caps tests to give better output on failure

commit 4c08294b74710f0cd2d75553d67e0445fb5627b8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-28 22:50:41 +0100

    Actually run advertise-draft1.py

commit 7319469be92354121a0b4c8691b04ba9e9ba454c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-28 22:50:31 +0100

    Caps tests: explicitly do not test the initial presence
    
    This avoids a race between D-Bus and the stream.

commit 0fc21551a2884a3a34d4d68f2029112e2be736eb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-28 23:19:58 +0100

    src/Makefile.am: use phony targets properly when ensuring gibber is built
    
    This avoids relinking Gabble *every* *single* *time*, which was annoying
    me. To be honest I'm not sure we need this block at all - the only people
    it helps are those who use "make -C src" either initially or after
    changing something in lib, and I assert that those people are strange :-P

commit e97aa7c612aa74673ff38c9abc8a87ae4dd1ab6c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-28 23:11:58 +0100

    Silence generation of marshaller lists (again) as per commit 37653645b3

commit 9b8e5406ef195cc5d97f84ea1686371f606a2b2c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-07-28 21:10:32 +0200

    Add G_PARAM_CONSTRUCT to the fallback-stun-server property
    
    (current) telepathy-glib adds default parameters in the parsed_params
    structure, but doesn't set it in params_present. This causes the gabble
    ConnectionManager implementation not to set default parameters explicitly on
    the Connection. All other parameters work because they already have
    G_PARAM_CONSTRUCT as a flag and have the default connection parameter as the
    default for the property.

commit 0153dcfc95e17916637dcf5e3dc407a25f513e24
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-07-28 20:28:34 +0200

    Fix parsing of file-transfer timestamps from xmpp

commit d224785eabc87e8bb48d0db6372619f6dc25546f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-28 16:54:51 +0100

    Make Python 2.5 a hard dependency, streamlining checking considerably
    
    Even Maemo has Python 2.5 these days, and in practice developers won't
    test with 2.3.
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit f145acd80b74ea08d9ca07ca783179f7ece9413e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-23 16:49:45 +0100

    roster.c: use lm_message_node_get_attribute_with_namespace instead of assuming the prefix of attributes

commit 02c7232714a609b178a3ccf435cde7d5312e10c7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-23 16:49:13 +0100

    util.c: add lm_message_node_get_attribute_with_namespace

commit 0a1530d378a0ba805f2ff030630be569d820806b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-28 15:55:54 +0100

    util.c: factor out find_namespace_of_prefix

commit 2220825fc9171be6ce6ef26e15239510ad37e734
Merge: 6af27fd dccac9b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-28 15:53:03 +0100

    Merge branch 'caps-sanity'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 6af27fd69c6cd39b6418b13018e41fb7442862ff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-28 15:06:01 +0100

    test-set-status-idempotence.py: catch the initial stream-presence when connecting
    
    That way it won't interfere with the future stream-presence send when we
    change our status.

commit dccac9bef0f353100f1219b45fcd402e02f23988
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-28 13:55:06 +0100

    caps/advertise-legacy.py: Explicitly check that we cope with what's arguably a bug in MC 5.1.4

commit ec3549c0b6754894e9c88ff509674f5c2b426236
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-28 13:40:53 +0100

    caps/advertise-draft1.py: add a test for the way Mission Control 5.1.4 sets our caps
    
    This should avoid causing regressions.

commit b56f1cb4c777cf02f98efb0a0ca0e381490ca47a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-28 12:01:23 +0100

    Document change history of Tubes spec, and the point at which tube caps were defined
    
    This should be uploaded to http://telepathy.freedesktop.org/xmpp/tubes.html
    when it's merged.

commit 400b556a0a4d4bf1ff476a28bcf5560ce3c8f26d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-04 18:20:17 +0100

    Don't expect ContactCapabilitiesChanged for no caps
    
    We always assume that people can do text channels, so when we retrieve a
    contact's capabilities and they have none, Gabble shouldn't be expected
    to emit ContactCapabilitiesChanged.

commit 9e1fee7380523722a822c064348c153ca5edebaf
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-29 12:55:40 +0100

    Remove spurious debug message.

commit 535439ebe90229c87dff5e39011adc120bd8a9a6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-03 20:38:29 +0100

    Ignore ContactCapabilities' ordering in tests
    
    It doesn't matter what order the list of contact capabilities is in:
    they're effectively sets.
    
    I would have used set(...) rather than sorted(...), but for Python
    helpfully informing me that "dict objects are unhashable".
    
    [Squashed together with a later commit from the same branch -smcv]

commit 3c6717cfabe54418758a71663fb4db8efb5b475e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-27 21:21:15 +0100

    Don't advertise support for credentials-passing on platforms where it won't work

commit 3b591effd2a56f304a8a4af4539d836a5f08c412
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-27 22:00:51 +0100

    fd.o#22968: GibberUnixTransport: make credential-passing support optional and detectable
    
    Our implementation only works for Linux so far, so we need to be able to
    avoid advertising credential-passing on e.g. Darwin.

commit 8e02d432e1523697206bc1cb5f36bd64d76cf618
Merge: 04986c3 b563c45
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-27 18:51:07 +0100

    Merge branch 'caps-tests'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 04986c3c689a8a678987046026a7379794f044a2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-27 18:08:18 +0100

    .gitignore: Ignore configure.lineno, config.status.lineno
    
    It seems you get these if your /bin/sh is dash.
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 23147c8607a805a05b4533d19e870ed99ce12965
Merge: 36d44a7 0add83d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-27 18:41:00 +0100

    Merge commit 'cassidy/test-hash'
    
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 36d44a7073e724108acbe2a6ec4e6736d84a5f01
Merge: 5463145 d4b022f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-27 18:40:23 +0100

    Merge commit 'wjt/broken-proxies'
    
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit b563c454bb3157742fa96a95d8fc472ac6f8deb6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-27 17:54:12 +0100

    caps/advertise-legacy.py: new test for advertising Capabilities

commit 8fa5e821c0716f7f03672fab404043341bbe2b79
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-27 17:44:54 +0100

    caps_helper: receive_presence_and_ask_caps: allow not expecting the D-Bus signal

commit 4ed944516d8f5e31d51096fdcf5655b4928e09b7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-27 17:44:37 +0100

    test-set-status-idempotence: use constants

commit 3d6a75ee43ab6f4e8fd37b2b1ed7abfcd7ff9e45
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-27 17:44:19 +0100

    ns: add raw UDP

commit d3be5dac45dc97f0f6ae01ce8669f2afb7de710d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-27 17:44:11 +0100

    constants: add legacy capability flags for StreamedMedia

commit 77669ae8d18b6e94dd087dcf8dcaba6bdd146402
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-27 16:27:14 +0100

    Move all remaining caps tests to the caps subdirectory
    
    caps_helper has to stay where it is, though, since many tests use it.

commit f3ee3bccd5f05b8f3ab8c5756269c4c4fd6e511a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-27 16:16:12 +0100

    Rename test-capabilities.py to caps/receive-jingle.py
    
    That's all that actually happens in this test.

commit 0add83d478a1be537ff3142bcadc53edc76397cc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-23 17:18:59 +0100

    caps-hash.c: don't leak the fields and values arrays

commit 7b18e8fdb02f245bd5b4a286f103af9db5bb9c07
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-23 17:15:06 +0100

    test-caps-hash.c: test complex example from XEP-0115

commit d7efae567f0a9e1e216514256e585a5647cb010d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-23 16:07:57 +0100

    update gitignore

commit 18f93fea9f0b9a0335033b3d6ef66b8dfd4d49c1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-23 16:07:34 +0100

    build test-caps-hash

commit 1280b9c3f4ad2fd4e6d986ae52c16513487ce5aa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-23 16:07:09 +0100

    add test-caps-hash.c

commit d4b022fc3b6d20c0fcdd37422fd8eab6c7722cca
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-07-23 20:23:29 +0100

    Remove proxies which always return an error

commit 54631450cecac234aa6dac0f958585f19c3c28ca
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-22 18:29:30 +0100

    Fix Andres' name in NEWS

commit 759c0d6da573f6b02149c46ea8517782a802529e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-22 18:26:41 +0100

    Start 0.7.32

commit 7bfb5aaa8ab1dadc89c4b21b9ede20cd6c6bdf07
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-22 17:32:43 +0100

    Prepare version 0.7.31

commit 61d04dd9ea71475b0ea9f096e1cfa4432e6464a8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-22 17:13:10 +0100

    add gabble_init() doing misc initializations

commit 3fed73cd061c64367a7efd1e8fdf2a43d453f9ea
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-22 17:03:15 +0100

    move g_thread_init() call to gabble_main
    
    g_thread_init has to be called before any glib function

commit 018c2a7a434a3d0dd9feddc5aeaf70783c1126e7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-22 10:55:10 +0100

    tests/twisted/Makefile.am: erase Valgrind generated cores when starting tests

commit a5880a0690ac6a4337d71664deb58944d27b6eb5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-22 10:54:38 +0100

    gabble_connection_set_property: free previous fallback_socks5_proxies if any

commit 4a50575b544278cd34fe90e5a243e8f484b28619
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-22 14:27:11 +0100

    telepathy-gabble: fix header guard in debug.h
    
    This would allow debug.h's contents to be included twice.
    
    Signed-off-by: Andres Salomon <dilinger@collabora.co.uk>
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 3f1cf1e73447e66982eaf75bbdb3dfab927e45ad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-07-21 19:31:39 +0100

    gabble_presence_cache_update_cache_entry: allow in == NULL
    
    When the meaning of a caps bundle is forcibly inserted into the cache
    with gabble_presence_cache_add_bundle_caps, it doesn't come with any
    channel-manager-specific caps (the hash table in the struct describing
    the bundle is NULL).
    
    This could cause a crash when gabble_presence_cache_update_cache_entry is
    called by _process_caps_uri, with the assumption that the hash table
    is non-NULL.
    
    This special-casing is currently done for one bundle, GTalk's voice-v1,
    to work around failure to respond to disco correctly in old versions
    of GTalk.
    
    Also add a regression test, which models a real-world situation in which
    this crash can occur - when a sipphone.com user tries to call an
    @gmail.com JID (but apparently not an @googlemail.com JID!) as if it was
    a SIP URI, sipphone.com's servers automatically bridge the call through
    gtalk2voip.com, which makes the call by emulating an old version of GTalk.
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 71612c9f5dd7ca205b3bdbe87ea70c159c5a2e66
Merge: 2769206 9836219
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-07-21 14:25:36 +0100

    Merge branch 'i-hate-rosters'
    
    Fixes: fd.o#22858
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 27692060ad7ea6048a1d34411503828865d4e2fb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-21 11:53:38 +0100

    connect/test-twice.py: make_stream returns the port too, not only the stream

commit afec1eaef9a5bf03e2947c6fa9b9216dbf122ba8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-21 11:41:11 +0100

    connect/test-nonblocking-tls.py: make_stream returns the port too, not only the stream

commit 85da6c435c0fd3c6a62d405c948ce716505e9d4d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-21 11:40:36 +0100

    connect/test-nonblocking-tls.py: use disconnect_conn helper

commit 9836219190a761ca0e97117e84be8d2e76ff7311
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-07-20 20:29:32 +0100

    NEWS for roster fixes.

commit 84a85f6eadfcb228cb7207e5c53e658e6227317d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-07-20 20:11:45 +0100

    Don't hide contacts with gr:alias-for
    
    Jonny Lamb has two JIDs on his Google account: his real JID, and his
    gmail address. Google says that the first is an alias for the second,
    but I'm actually subscribed to the first (and it's the one he uses).
    
    I don't think hiding roster items with alias-for set is necessary.  We
    hide Google roster items with subscription="none", which should catch
    roster items which aren't real JIDs.

commit 3b31731b472a7e3b128c32d858a68d3ec45378e5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-07-20 18:45:16 +0100

    Add some hysteresis to the Google Talk roster workaround.
    
    We want to respect subscription requests being rescinded, but we need to
    wait and see if they're actually being rescinded or whether Google's
    lying to us. So if we receive a rescind notification just after an
    ask=subscribe notification, we wait a second to see if Google's lying,
    and only then actually remove them.

commit 16182aa9425fa0566cc3e1996f696f784838c40c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-07-20 18:40:09 +0100

    Test more ways to rescind subscription requests.
    
    Rescinding requests by sending <presence type='unsubscribe'/> is
    currently broken by the workarounds for Google Talk's flickering bug.

commit ceec9b1bf5c5b77220e3bf36ae1a7eaa7092c56f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-07-17 17:46:27 +0100

    Don't hide subscribe:rp contacts from stored

commit ecd96530ee3653338a45ac2dfc5d415ff5c95f00
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-07-17 17:35:40 +0100

    Improve debug output from _roster_item_should_keep

commit 959f9f7f3ce28bbfd4e90c852408f7f513d0e902
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-07-17 17:02:11 +0100

    Don't fake sub="remove" for "odd" google roster contacts
    
    This was defeating the code that was supposed to work around a Google
    Talk server bug whereby contacts "flicker" when moving to
    ask="subscribe" and when moving from ask="subscribe" to
    subscription="to/both". When a contact is actually removed, we assume
    the server really meant it; this means you can still remove contacts who
    are remote-pending by removing them from stored.
    
    This still means that when you rescind a subscription request, if the
    peer doesn't ack the <presence type="unsubscribe"/> with a <presence
    type="unsubscribed"/> then the contact will stay on
    subscribe:remote-pending until you reconnect.

commit 508e919117b869365a7d098417e62d0d96fbeac4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-07-17 16:49:39 +0100

    Store gr:alias-for on RosterItem
    
    This seems cleaner than passing both the node and the RosterItem to
    _should_keep.

commit 17ac7923fb71f86b5ad320b20f764c60d4deb6c1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-07-17 16:44:04 +0100

    Handle Google roster hidden items inline
    
    Changing the subscription field of the RosterItem in response to it
    being hidden feels like a hack to me. It makes the code harder to
    follow, and means the RosterItem isn't a simple cache of the item on the
    server.

commit 2d282ab1770d91478b4185b13bc6534f15804720
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-07-17 16:08:55 +0100

    Test hiding Google roster contacts with sub="none"

commit 53d7f41fcd344fe4d5aa1b2a15c142da39c30f4f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-07-17 16:33:21 +0100

    Add {lp,rp}_members to expect_contact_list_channel
    
    Rather than always checking that contact lists have no remote or local
    pending members, this allows the calling test to supply a list of jids
    for each in addition to the list of members.
    
    This also makes the member list comparison order-insensitive.

commit 717605e234a5440ba7ca4623933aa6c8826d6195
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-07-14 17:46:43 +0100

    Don't skip roster items with gr:autosub="true"
    
    The intention was to skip roster items which are email addresses, not
    JIDs. However, none of the email address-only contacts on my roster have
    this set, and there have been bug reports (such as
    <https://bugs.launchpad.net/ubuntu/+source/telepathy-gabble/+bug/398293>)
    where valid contacts are discarded by this rule.

commit 2867e2fec88f8f3ed0e97a963769f5893f6ca213
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-07-17 12:42:24 +0100

    Add test for Google contacts marked Hidden

commit 607e5296f7339c12177695d30d99ae8bb3253dec
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-07-17 11:41:15 +0100

    Actually use Google roster in its test.
    
    The test case for Google roster-specific behaviour was not using
    GoogleXmlStream. As a result, Gabble's Google roster-specific code paths
    were not actually being used. Fixing the test reveals that Gabble has
    regressed: this corrected test fails.

commit 0e93ca81a36f3bcfee7ff6bfbd83d5ce06636b9b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-07-14 20:48:03 +0100

    Test Google roster workarounds more explicitly
    
    When I looked at this test, it wasn't clear to me that it actually
    tested what it was supposed to test. Having looked more closely, I think
    it was doing it right, but I think being more explicit about the
    sequence of events we expect (and the events we do not want) will make
    it easier for future readers.

commit c8ed8932bd5df1810fd5c82c6200692de66391e7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-07-15 13:42:51 +0100

    New-school-ify test-roster-subscribe

commit d61dd9df3eef8cde48370c4ec13af6c860314002
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-20 16:37:00 +0100

    tube-stream: add_transport: priv is not used anymore

commit bc107111c8ae38ece8da9c6c27b7c7aa9cdacdf9
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-07-17 14:21:29 +0100

    Update NEWS with bug #22629

commit 0866950c9d5f82b66b0f644d35ac98ffcade2de4
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-07-07 14:10:52 +0100

    tube tests: do not use the same socket file twice at the same time

commit 79fbd3f71d475f7694c016a07a3c24f003a71699
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-07-09 18:38:16 +0100

    Bug #22629: stream tubes: block the Bytestream if GibberTransport is not connected

commit cae9d4a9b8e20349eed645c26d2f22c9340cfd2e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-16 15:36:47 +0100

    vcard/update-rejected.py: break race
    
    Test was relying on the ordering of the vCard IQ reply and the D-Bus
    method call. Ensure that the first vCard reply has been received by
    Gabble and then wait for the second vCard query once we have called the
    SetAvatar method.

commit 902d2f04648906fdea0b4934372dc430a5fcbf60
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-16 12:25:41 +0100

    jingle-factory.c: use send_with_reply to send the jingle info request

commit a1d32be525c6ec086867ecbe8d3d9b98595de297
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-16 12:12:11 +0100

    gabbletest.py: set 'from' attribute in jingleinfo iq reply

commit da133d7525b6cb6f20f2e1ea415b69633642da78
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-15 16:57:22 +0100

    bytestream-factory.c: bytestream_state_changed_cb: no need to remove the bytestream manually if we are disposing

commit ccc9f8a86928b64b0f106b0061284e1832e3a37b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-15 15:26:28 +0100

    vcard-manager.c: use the returned value of lm_message_node_ref

commit 3417b053592942b38dfc1806d5e4411678e266a6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-14 13:50:24 +0100

    jingle/call-state.py: there it no point to disconnect the connection when we short-circuits the test

commit 22814eb263c78f5d6bb25d0dba9f0dec69847ff9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-13 17:16:14 +0100

    vcard/test-avatar-retrieved.py: use forbid_events

commit b012fac9ba51d3f8814f98c0efba8386becc4453
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-13 17:15:33 +0100

    roster/test-google-roster.py: use forbid_events

commit 48004f97a0d81fee4d731a78d809724126ee651d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-14 13:47:02 +0100

    use disconnect_conn in tests

commit 62036f6419eea7a195cf45ef8dffe972f5f4bd41
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-13 17:12:36 +0100

    gabbletest.py: factor out disconnect_conn and allow to pass it a list of expected events

commit ce0782058bf7a7b4c5785e064b6bfff6bbbe5e9a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-14 10:13:21 +0100

    test-receive-file-and-disconnect.py: explain why we return True in this part of the test

commit 116e51c00887cbc318a047a2df45a2978380b412
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-14 10:07:58 +0100

    Remove Disconnect() call from tests
    
    The connection is disconnected at the end of each test in gabbletest.py
    so there is no point to do it in the test itself.

commit 7c4b26e5ac60010ec429ccbee078613cfb0fc7d7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-13 15:37:41 +0100

    gabbletest.py: exec_test_deferred: no need to catch every D-Bus error in the test disposing block

commit aa11084fef316c8b09c264f2df911713e3d086a8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-13 15:36:29 +0100

    gabbletest.py: exec_test_deferred: wait for the StatusChanged signal when disconnecting

commit d9c897dc99653f9672f08cb5b7c6df7329b65547
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-13 12:06:11 +0100

    test-success.py: use constants.py

commit 21462355d04264fff88232a638f218de926061e8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-14 10:48:14 +0100

    test-muc-invitation.py: send Bob's presence when joining the room

commit 9931dbadab15d93a911e1093802da1695470df3d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-14 10:40:42 +0100

    test-muc-invitation.py: add a comment explaining the args of the MembersChanged signal

commit 5a30ff9c74ce6f1a2e9df188cea653f886d866b5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-03 15:37:10 +0100

    olpc/test-olpc-bundle.py: set the IQ type in disco requests

commit 0c44ff9e10307e871b1d0cce5df10c987d424b16
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-03 15:32:46 +0100

    olpc/olpc-muc-prop-change.py: properly check the MembersChanged reason

commit 7e15b4ff1d605af584dc92fda8e3f7b77e98273b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-03 15:31:43 +0100

    olpc/olpc-muc-invitation.py: properly check the MembersChanged reason

commit ec8302086bc2c600cd52e5a86ff1154d528069dd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-03 15:29:29 +0100

    olpc/util.py: set 'from' attribute in the Gadget reply

commit 5ed82439ac17da1333b40876ffe60d3233119116
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-03 15:26:27 +0100

    muc/test-muc-invitation.py: properly check the reason in MembersChanged
    
    Assuming that the room self handle is equal to the Invited error code is
    not a really good idea.

commit 82d0f5d6180d57b134e809bbbd5ed6abbf97a23f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-03 15:07:36 +0100

    test-fallback-socks5-proxy.py: set the 'from' attribute in the proxy reply

commit 3d8dc172ffbf22bd96ca149dcbebd5c984f53523
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-03 15:01:27 +0100

    test-disco.py: set the IQ type in the request

commit 5bee72447bedc586c2a2f0a003acf96f76edb14d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-03 14:59:30 +0100

    file-transfer/test-send-file-declined.py: set the right namespace in the IQ reply

commit 57395490af823931dd73b0cb3a809e09559e4728
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-03 14:55:17 +0100

    file_transfer_helper.py: use make_result_iq

commit 200315a0e937a1bdf631f53e6ed525ead1d05ff1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-03 13:46:11 +0100

    vcard/test-avatar-retrieved.py: use make_result_iq

commit 0bb2ebc52e720a3d693ca14f3621fd710ea36d4b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-03 13:44:15 +0100

    vcard/test-avatar-async.py: use make_result_iq

commit 78ad3f42b6743dbaaac8d90c06810399c53398c0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-03 11:47:28 +0100

    tubes/crash-on-list-channels.py: use make_result_iq to create roster reply

commit 150aafa5c57330629542af82e7082d5daea4182d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-03 11:41:20 +0100

    im-channel.c: pass LM_MESSAGE_SUB_TYPE_NORMAL to gabble_message_util_send_chat_state instead of assuming its value is 0

commit 31ee0096eb90df9c9ba73a61a2e7b65ce80268a1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-03 11:23:57 +0100

    conn-aliasing.c: gabble_do_pep_request: set the type of the IQ query

commit 67238fd3316cad63efe9f755235d2032b1dbd4c8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-03 11:22:49 +0100

    test-save-alias-to-roster.py: fix a race

commit 36b7e3472d62e64500035202227b8cf93d13fadf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-03 11:12:50 +0100

    roster.c: use send_with_reply to send the roster request
    
    Not waiting for the reply and assume any IQ result with right nodes is
    the reply is bong.

commit b60e5f20dadbf0126aab0b3036122816cce9520a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-02 18:56:18 +0100

    jingle/payload-types.py: fix presence namespace

commit ca0e2102eb5244642e898a3aa9a789941b2411ad
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-02 18:27:19 +0100

    gabbletest.py: send_error_reply: set the from attribute if possible

commit 76d1a94646eba8bc93bc5b7bd9763f88a679f39a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-02 18:26:17 +0100

    accept-private-stream-tube.py: use make_result_iq to create the disco reply

commit 61928a2a475688cba49ca28a6805929f7571bc3f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-02 18:22:28 +0100

    bytestream.py: set 'from' attribute in SOCKS5 disco replie

commit c200bcb68cff4e3b51a647f91664950db76bacad
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-02 17:38:54 +0100

    offer-private-stream-tube.py: use make_result_iq to create the disco reply

commit 4c62f94a6db0c9d824fd158b04c97f056158b0e3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-02 17:38:19 +0100

    gabbletest.py: make_result_iq: set the from attribute if possible

commit 6dd36088d5a7284d30fe3d5ad3a846ecec328792
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-07-02 18:14:26 +0100

    Some news and a name for 0.7.31

commit 21ae965482a3049f8ae79e1a9a1f4131a9cedd24
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-07-01 11:52:24 +0100

    Force codec names' cases to match Google Talk
    
    The Google Talk desktop client doesn't believe that "ILBC" is the same
    codec as "iLBC", even though SDP defines codecs' names to be case
    insensitive. So when using a Google dialect, let's make the names' cases
    match what the desktop client wants.
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit df11d58193c5897b51db0b52ccd9811179ae738f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-29 19:00:08 +0100

    Destroy JingleFactory's soup session first
    
    Destroying the SoupSession makes it call all the callbacks for
    outstanding HTTP requests with an error, which means all the outstanding
    Google relay requests end before we try to close all the channels that
    were waiting for them.
    
    Fixes fd.o#120387
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 17ce9432063088b2152352d348083926f11879e0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-29 18:44:49 +0100

    MediaFactory: Remove unused session_chans map
    
    I guess this is left over from before the Jingle refactoring. Nothing
    was ever added to session_chans, so this was all dead code.
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit d9a9d398febf4dfa6901ac66d18bdf9f2a706e53
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-01 12:34:49 +0100

    remove weird comment in GoogleXmlStream

commit 63f7bd4636ac710dcaa1173a2ca628230b37a3e0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-01 10:36:43 +0100

    gabbletest: use XMPP 1.0 by default

commit 2e051977698cafcb8c827295d0a00543e9e58643
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-01 12:16:14 +0100

    test-disco-no-reply: subclass the XmppXmlStream instead of the JabberXmlStream so it can be used with the XmppAuthenticator

commit 5abd0fd24ce2dc7c974aed3a7d054abd5c2771d8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-01 12:14:28 +0100

    gabbletest.py: GoogleXmlStream set version to 1.0 so it works with the XmppAuthenticator

commit dacfbd3d8115c3b722c6a6735576219c12e6d879
Merge: aa63a51 88a5f5f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-01 11:51:10 +0100

    Merge branch 'misc'

commit aa63a519e7aa04fb20d1bf7c6ca65c0a7ec9cde9
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-07-01 11:27:02 +0100

    Add some comments to make things clearer.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 05a1026ad9c81121f3db48eb88d1e14bca5fc2cd
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-07-01 10:54:23 +0100

    Set LM_DEBUG=net and override the log handler when LM_DEBUG is not set.
    
    This way, LM debug messages will be exposed through the Debug
    interface when LM_DEBUG is not set (which is the majority of the
    time). If LM_DEBUG is set, then it's a fair assumption that gabble is
    being started on the command line, and therefore the Debug interface
    isn't so important.
    
    LM have some weird specific way of printing out their debugging
    messages, so when LM_DEBUG has been set, I think it's appropriate not
    to touch this default handler. Ideally, there would be a way to have
    multiple handlers for a domain/level.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 88a5f5ffca5ce4633a996ac90175f9926e9644f5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-01 10:37:57 +0100

    gabbletest.py: set a from attribute in the disco reply

commit 289c72a2bf670f5c0a3113b1f59c985efd802134
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-07-01 10:35:52 +0100

    jingle-factory: remove assertion on lmconn as it's NULL when connecting using Wocky

commit 9fb7ba5e213b0b9e80cd8f023d5add8348698779
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-29 17:57:41 +0100

    Bump to 0.7.30.1

commit 248cd70c2956c3ed4c70c1a986f3395171ee1bf2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-29 16:03:56 +0100

    version 0.7.30

commit d8fef1b97011b95ad8f3bdf9ebd28036b92078f9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-29 15:55:54 +0100

    Disable test-vcard-race for the release.

commit 0091ee57dd6a653a4cd53011237af0e2240e86d8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-26 16:49:46 +0100

    lm_message_node_unlink; takes the parent as argument
    
    This will allow us to re-implement this function in Wocky-land (Wocky
    nodes don't have a parent pointer).

commit 4e58b8a857883cc358f407d7089d8e12463a2461
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-29 15:07:49 +0100

    remove gabble_g_value_slice_new_*

commit 31fd82e4469fa7ac10055c52b6f873abbafb4130
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-29 15:07:37 +0100

    translate_relay_info: use tp_g_value_slice_new_* instead of the gabble version of those functions

commit e2c68c2511b9254f6b046e282f1cd311ebd2e15b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-26 16:32:14 +0100

    util: remove unused lm_message_node_add_child_node

commit 1af3bdb09c7ebc6f5c553db51c20c6b2426d2831
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-26 14:16:20 +0100

    ft-manager.c: use the lm_message_node_get_value accessor

commit 95c23f986eec6faf2c1723e0094dcc7ca974150b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-26 14:14:22 +0100

    vcard-manager.c: use the lm_message_node_get_value accessor

commit ac27a574daa0724e1d02569436143f9cc10025c7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-26 14:09:17 +0100

    roster.c: use the lm_message_node_get_value accessor

commit c2ed3bcac1fa82b371629121de5f6b2fc6f408ad
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-26 12:44:32 +0100

    bytestream-socks5.c: use node iterator

commit 53902675571cdc1fd0dd55f626d37680197d0b10
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-29 10:41:40 +0100

    jingle-transport-rawudp.c: use node iteration wrappers

commit fa64f06ac2888294c336bc67a99a127fa355706a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-29 10:41:30 +0100

    jingle-transport-iceudp.c: use node iteration wrappers

commit 21a463f98c34ede8abefc02e38fbfcc2ca00c806
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-29 10:33:42 +0100

    jingle-transport-google.c: use node iteration wrappers

commit edbd65ff1acb6a00acbb20d5a8e4d1eda77c0269
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-29 10:33:28 +0100

    jingle-media-rtp.c: use node iteration wrappers

commit f17a91c51e7663e9a087c633f90e767504ed57e2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-25 16:03:03 +0100

    gabble_caps_channel_manager_parse_capabilities: take the parent node instead of the first children as argument
    
    This allows us to use node iteration wrappers in in parse_caps
    implementations.

commit 2dfacd2db4ddd5b170280035e56695c4c7a68e82
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-25 16:19:54 +0100

    jingle-session: use node iteration wrappers

commit 585dd635c7e392b6a44b9125bb6ac587c0565caf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-25 15:27:55 +0100

    util.c: use node iteration wrappers

commit 4c039245ae3797e1a76e501a0228cbed934a1685
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-25 15:27:44 +0100

    register.c: use node iteration wrappers

commit 8617ed1fc6dbd69fc61d44d469ff34e1207fdefb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-25 15:27:11 +0100

    capabilities.c: use node iteration wrappers

commit 6e239b4bd796f87b09d7d3a2753e7c22cd45af60
Author: Dafydd Harries <daf@rhydd.org>
Date:   2009-02-06 17:17:11 +0100

    src/conn-location.c: use node iteration wrappers

commit f44e2bd1e3f65f39a4c12200c215e4ddf4485792
Author: Dafydd Harries <daf@rhydd.org>
Date:   2008-12-03 20:28:45 +0000

    error.c: use node iteration wrappers

commit 76e2bf7a1c42019ff99c224c2ae507c24a4b73c2
Author: Dafydd Harries <daf@rhydd.org>
Date:   2008-12-03 20:23:38 +0000

    vcard-manager.c: use node iteration wrappers

commit 1814d88fab3ba5d5fbc194b1de4912d81088d353
Author: Dafydd Harries <daf@rhydd.org>
Date:   2008-12-03 20:23:02 +0000

    tubes-channel.c: use node iteration wrappers

commit efad34c4db5567c6be35e78fe7ea3038d439800c
Author: Dafydd Harries <daf@rhydd.org>
Date:   2008-12-03 20:21:58 +0000

    roster.c: use node iteration functions

commit a7873ebff3f2c9b42a8c5046943005b3f2413bc0
Author: Dafydd Harries <daf@rhydd.org>
Date:   2008-12-03 20:21:12 +0000

    pubsub.c: use node iteration wrappers

commit 09a418da0845c9bc6f4adb116dc5a4ea962c0f3e
Author: Dafydd Harries <daf@rhydd.org>
Date:   2008-12-03 20:06:34 +0000

    muc-channel.c: use node iteration wrappers

commit 88b63779f500bc2fe0b7e812d8a6e3aac690388c
Author: Dafydd Harries <daf@rhydd.org>
Date:   2008-12-03 18:38:42 +0000

    connection.c: use node iteration wrappers

commit c66b741060c1140b831bbaa06f0a97986cebc310
Author: Dafydd Harries <daf@rhydd.org>
Date:   2008-12-03 18:37:34 +0000

    conn-olpc.c: port to node iteration wrappers

commit 4c22a8ec5b66fbd4e24dfd06c14f3fd3c7a210c6
Author: Dafydd Harries <daf@rhydd.org>
Date:   2008-12-03 18:37:14 +0000

    conn-aliasing.c: use node iteration wrappers

commit 01df4af2092b4e623733b56e7a2b720267fe5de8
Author: Dafydd Harries <daf@rhydd.org>
Date:   2008-12-03 18:36:34 +0000

    caps-hash.c: use node iteration wrappers

commit 63194e989c664c35853d9b03f34391ccd3df640d
Author: Dafydd Harries <daf@rhydd.org>
Date:   2008-12-03 17:38:45 +0000

    bytestream-factory.c: use node iteration wrappers

commit 6a8065c985d8b928e3ffc10c934f036da77ed89c
Author: Dafydd Harries <daf@rhydd.org>
Date:   2008-12-03 16:20:21 +0000

    disco.c: port to node iteration wrappers

commit 69b4a1bf765877d6cc85a7a8cd01b86fe0dcd86f
Author: Dafydd Harries <daf@rhydd.org>
Date:   2008-12-03 12:58:19 +0000

    define macros for message node children iteration

commit 8091ae5651033e35e8786f3c482194a66fcdcc7b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-29 13:16:51 +0100

    Don't send session-info for jingle v0.15

commit f6173354ca9e2441dfa576fa283a53667e390a17
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-29 12:10:32 +0100

    'keepalive-interval' should be CONSTRUCT not _ONLY
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 0b9c0676ed012ea650d65e86d1051f1be5e4c277
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-29 12:07:22 +0100

    GabbleConnection:port should be [1, G_MAXUINT16]
    
    GabbleCM checks that the port parameter is nonzero before setting it, so
    this is safe and correct.

commit 351c65e1602114cd550a93e5f14cfb084cb7e204
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-22 11:52:46 +0100

    NEWS port=5222 change

commit 79f5ef3c33ca94feed5ed40b8a69f9abc7fff0d9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-19 19:00:34 +0100

    Ignore port=5222 if we think we know better.
    
    Previously, if the UI sets port=5222 then Gabble disabled SRV lookups.
    This turns out not to be great, because if the UI sets port=5222 (which
    was not the default per Gabble's parameters, it is the spiritual XMPP
    default port) then it can't connect to any XMPP server that uses an SRV
    record.
    
    While pedantically correct, the previous semantics turn out not to be
    very helpful. We could go around fixing every account UI that ever gets
    written, but ignoring 5222 if neither the connect server nor old-ssl
    were set is more useful behaviour.

commit e2a7dc894a2a84687990253d161e08c1c54cd0fc
Merge: 85fb14f f524a51
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-29 12:37:16 +0100

    Merge branch 'jingle-new-transports'
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit 85fb14f0d16209c21879e9d89914195a41f5a29a
Merge: 586619f 8c838cb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-29 12:36:19 +0100

    Merge branch 'jingle-namespaces'
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit f524a51ab21bb8938c8163ebe0b697e89f19d00f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-29 12:17:48 +0100

    Explicitly check 'nat-traversal' property
    
    Waiting for a PropertiesChanged notification is racy, and it's wrong
    anyway: there's no guarantee that the property should *change* to
    'ice-udp', it should just *be* 'ice-udp'.

commit e0c4f14b50c5b2653866210c23aaeffb1b2d2c05
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-29 12:17:09 +0100

    test-outgoing-iceudp: Remove peer's gtalk-p2p cap
    
    Since Gabble now prefers gtalk-p2p over iceudp, we need to make the peer
    incapable of the former to convince Gabble to use the latter.

commit e2e072330ff861bd514c453a9a308e22c8b8e652
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-29 11:54:29 +0100

    Prefer gtalk-p2p to iceudp

commit 2897591e19a4a871660c5952f31cc299b8f2efe0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-29 11:44:15 +0100

    gtalk-p2p: Don't special-case sending new local candidates
    
    JingleContent now takes care of calling _send_candidates() on the
    transport after giving it new candidates, if it's appropriate to do so.
    So the new_local_candidates implementation should just remember the
    candidates as pending.

commit 3baa6e2187ad05744c4fc88281fd0ae39c80f1ba
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-29 11:40:42 +0100

    Remove unused variable

commit 5af07d52b7a3ffa4d6a461a404a8b0e662508888
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-29 11:39:16 +0100

    Ice: Don't signal empty lists of remote candidates

commit 7f45b4f1fdfe66394c93347c71f94d2abfab6f53
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-28 16:54:22 +0100

    Stringify component before setting it as an attribute

commit 610bb0012d942d7cd35059611d54f07b0d403b4b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-28 16:43:07 +0100

    RawUDP: Remove unused 'pending_candidates' field.
    
    With raw UDP, we only accept one set of local candidates from
    Telepathy-land, and only send candidates on session-initiate,
    session-accept, content-add, content-accept. So there's no need to have
    a concept of pending candidates.

commit 88b63d7352ac653229be6950f38133fe374e0c26
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-28 16:42:00 +0100

    Correctly send rawudp candidates' id

commit 0bd7e4b03227445324466113c82420e21c04cbfd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-28 16:39:35 +0100

    We don't care about stun vs. local for rawudp candidates

commit 0a143fe31bb994a2eed84290f3174fe712356c2b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-28 16:37:31 +0100

    Don't fetch "state" property without using it.

commit 8198ad4878983cc25f2ef8e60ddcf25e5f7f33e7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-28 16:36:51 +0100

    ICE candidates don't have a 'name' attribute.

commit e43fa0f33299bb7d5ead9f281a374983a15d9710
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-28 16:36:21 +0100

    Don't assert on unknown candidate types/protocols

commit 5c6567333b55ea371815b61eff992d163a6e65e6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-28 16:35:36 +0100

    Use candidates' Telepathy IDs as foundation
    
    We still generate unique strings for candidates' 'id' attribute.

commit bc966c18b9ca35189c85a4de17c838bca8e327cd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-28 16:25:22 +0100

    Multiply candidate preference by 65536
    
    tp-fs divides the priority by 65536 before handing it to the CM (in
    gtalk-p2p we send a float over the wire), so if we multiply it by 65536
    we get back to where we started.

commit 2ef5311b40bae2b7689630cabcbe89f0ca1cd536
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-28 16:23:53 +0100

    Use ice candidates' foundation as candidate_id

commit a94aa0fddc79bbaf951347074f5f9fa607793136
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-28 16:14:20 +0100

    IceUdp: be tolerant of unparseable candidates.
    
    If a <transport/> stanza contains candidates that we can't parse, as
    well as candidates that we can, we should accept the ones we managed to
    parse rather than rejecting the whole lot.

commit 40cc47fee86d228c1c53fa0f526caf45f6c49d8e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-27 17:29:06 +0100

    Let the transport decide if it's ready to accept

commit 77bfe4546431755207b7d7b1ca9c20893e7ecf40
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-27 16:39:50 +0100

    Set NATTraversal correctly on streams.

commit cd496589d348ebc7f7633f1f5694f5f6133fab1b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-27 16:09:30 +0100

    Only group ICE candidates with the same ufrag

commit 366b0453a877fd724e15a2f208316d8d405a6ada
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-27 12:28:03 +0100

    Remove error-setting macros from transports

commit 94b46d8a61969bf395484dd312e57e649233d701
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-27 12:25:34 +0100

    Remove GET_PRIV macros from {Ice,Raw}Udp

commit 3270d213bd0865166448495905c9918c798819ce
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-27 12:09:08 +0100

    Update Jingle{Content,Session} to new Transport API
    
    This ensures that inject_candidates and send_candidates are called at
    all the appropriate moments, to give the transports the opportunities to
    do what they need to do. Those appropriate moments are:
    
    inject_candidates: when sending session-initiate, session-accept,
    content-add, content-accept.
    
    send_candidates: just after any of the above actions (for transports
    that never include candidates in the actions and always send
    transport-info), and when candidates are added for contents which have
    already been announced.

commit 764ee086853ad4951b4214b631c8c4c0f784d7a7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-27 12:06:32 +0100

    Updated RawUdp to implement inject_candidates
    
    XEP-0177 says that rawudp candidates MUST/SHOULD be in
    {add,initiate}/accept, respectively, and says absolutely nothing about
    transport-info. So we inject our candidates into those messages, and
    leave _send() unimplemented.

commit 1422a769af6158d8a99fb757a3f751664b0afca4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-27 12:04:44 +0100

    Update IceUdp to implement {inject,send}_candidates
    
    IceUdp candidates SHOULD be included in session-initiate,
    Session-accept, c-add, c-accept where possible, so inject_candidates
    adds any outstanding candidates to the stanza. send_candidates sends
    a transport-info if there are any outstanding candidates.

commit 961d90c4535f09d94e2096f2333a756745ba365b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-27 12:01:00 +0100

    Implement send_candidates in Google transport
    
    gtalk-p2p candidates are never included in session/content actions, only
    in transport-infos.

commit d73af34d6c119d88c458fe592425979e62c93a40
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-27 11:57:24 +0100

    Split transport::produce_node() in two.
    
    It turns out not to be enough to have a single method on transports to
    add a <transport/> stanza to some other action, because for
    backwards-compatibility with older Gabbles we have to send RTP and RTCP
    candidates in separate transport-info stanzas, and that knowledge
    belongs in the gtalkp2p transport rather than anywhere else.
    
    So this patch gives transports two methods:
    
    * inject_candidates, which should add candidates to the given
      <transport/> node, assumed to be part of a session-{initiate,accept}
      or content-{add,accept}; and
    * send_candidates, which instructs the transport that it should now send
      any outstanding candidates it may have.

commit 510d2cebbe62980bf7f91f13101294ea8a3bd066
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-27 11:56:06 +0100

    Correct a typo in _request_contents

commit 626d1da01bad0c7cbb643ffe361e86dcc0f84ab6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-27 11:50:19 +0100

    Expect ice-udp candidates in session-initiate.
    
    The test previously expected an empty <transport/> stanza in the
    session-initiate, followed by a transport-info action containing the
    candidate. This matches gtalk-p2p, and is permitted by XEP-0176, but the
    latter says the session-initiate SHOULD contain candidates.
    
    So, test that the session-initiate contains the candidate we gave
    Gabble, and also check that Gabble doesn't send a bonus empty
    transport-info.

commit df08da5a6c806c589710a30ce2620bd9bd1d2b25
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-27 11:48:08 +0100

    Correct jingle/test-incoming-iceudp
    
    - We shouldn't be expecting the 'nat-traversal' tp-property to
      *change*; rather, we should check it has the right value when the
      channel is announced.
    
    - Check the contents of transport-info and session-accept stanzas
      slightly.
    
    - Import constants, and fix a typo so it works.

commit 92d3375c476d5d870bd6e82f139f40ba8eb5dafd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-27 11:44:32 +0100

    Don't include <transport/> in description-info

commit baa2a8b4349279aa989245e89bc74a8f741e401f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-26 20:38:03 +0100

    Make MediaChannel:nat-traversal a CONSTRUCT property
    
    This has the side-effect of it being set to its default value if none is
    provided.

commit 6d6cd619e92cdb8466dc56283adf9be0aff46e5b
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-02-12 14:32:12 +0100

    JingleContent: wait with content readiness until we have local candidates
    
    This is needed so we can pass them in session-initiate or content-add when
    using RAW-UDP.

commit 3c4266972323c49d3486c2681655a241afd3b312
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-02-18 11:38:31 +0000

    Handle prflx candidates in ice-udp

commit ac9427eaeb501ba63971319ab7159eeb85536ac8
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-02-17 18:13:23 +0000

    Correctly prepend candidates to the list

commit 52a5e95190f2de44633e6699afdb292864ae176c
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-02-12 15:13:08 +0100

    JingleTransportRawUdp: remove obsoleted transmit_candidates() method

commit 2a6674c150b383acae685e767305b23a8823e8f5
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-02-12 13:16:15 +0100

    JingleContent: rename transport_ready to transport_connected

commit d7b828b08d149cd14039705e54a6d1b45e42a1a1
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-02-12 13:07:47 +0100

    JingleTransportRawUdp: update produce_node() method

commit e4f5f4372fdfb5d894cc2842ae3775daf954ad33
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-02-12 12:58:05 +0100

    JingleTransportIceUdp: replace transmit_candidates() with produce_node()

commit 2759538322b80af733596d59a7ea864afd502455
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-02-12 12:57:02 +0100

    JingleTransportRawUdp: remove unused retransmit_candidates() method

commit 1d5cf336715c0c1c647398217f8dab60ce6cd7f2
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-02-12 12:52:23 +0100

    JingleTransportIface: replace retransmit_candidates() with produce_node()

commit b5ee745a84e2422c9ba9efa5465bc6b8795f0cb1
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-02-12 10:26:00 +0100

    MediaStream: removed cruft from new_native_candidate method

commit c089a831d2c64e3913966e91e1e5b833a996f32c
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-02-05 15:38:35 +0100

    JingleTransportIface: rename add_candidates() to more descriptive new_local_candidates()

commit 99194da330d05d5353d8683c7f1a295848ce1f25
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-02-12 09:57:30 +0100

    JingleTransportRawUdp: produce candidate stanza for all local candidates (needed for RTP+RTCP)

commit 68e0af12c24e0d65cbfd8f253c29a582dcd405a6
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-02-12 09:52:43 +0100

    JingleTransportRawUdp: properly handle incoming RTP+RTCP candidate batch

commit d7b2d2cb4dc492d072443d4951d09cfa2df9b93c
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-02-12 09:40:01 +0100

    JingleCandidate struct: added "id" field

commit 4bb6a246570ce9ef45331d36165f3c53e716ecea
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-02-06 17:55:37 +0100

    JingleTransportIceUdp: send "id" candidate param

commit f5204bd8225d08d7bfd1d9c5fa1c5e6c5c243f67
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-02-06 13:10:13 +0100

    JingleTransportRawUdp: send component numbers in candidates

commit ad5390709842f65491b5750cfec1ee1d069cf398
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-02-06 10:51:43 +0100

    include rawudp candidate in session initiate

commit ffa2c8c283beb8b1928319132212596aab942e66
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-02-05 19:56:26 +0100

    test incoming calls when ICE-UDP is used

commit 8652e373a063256cb87bd95cd032a0b2360b7b62
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-02-05 13:35:22 +0100

    test for outgoing calls using ICE-UDP

commit eece27f7f1c73395646d565e31114133d1a515ec
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-02-05 09:35:19 +0100

    advertise ICE capabilities

commit b4d7f67d2acd2b205bf294c72622aaf083bdd70e
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-02-05 09:31:06 +0100

    MediaChannel: set nat-traversal Tp property appropriately

commit 974efc455ef0e8b3727973c9eb5d44745ea28275
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-02-05 09:29:32 +0100

    JingleSession: when content is removed, check if the session has become ready

commit 460491d8f61249592c11820509eddcd4c0fab724
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-02-05 09:28:28 +0100

    enabled use of JingleTransportIceUdp

commit 9fc2a16ff0c63071b9e36512b2ed666bab122149
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-02-05 09:26:30 +0100

    added ICE-UDP support based on GoogleP2P support code

commit f555bc2ef3130f24f21f7ebb181fea74f5d9bb86
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-01-27 21:06:25 +0100

    enable the new rawudp support

commit 02c10453818e37e3eeecf1f8f11e22f528b68e53
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-01-27 21:03:20 +0100

    JingleContent: added *_get_transport_type() method

commit 2ac398cf07d31d6910ac6e37da4f053aedc849de
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-01-27 21:02:20 +0100

    add JingleTransportRawUdp

commit 3f2073d1a78c723e9d0fa03cfdb2b355fc8c508a
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-01-27 21:01:34 +0100

    JingleTransportIface: add *_get_transport_type() method

commit 8c838cb52372143770c654598753ea74a252079c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-27 13:09:33 +0100

    Revert "Include xmlns on contents"
    
    This reverts commit dfce1b44821700212f35951931dd5e6bc1942946, which was
    completely wrong: <content> stanzas are in the same namespace as their
    parent <jingle> node, not in the namespace of their <description>.
    
    I made this change because the codepath for producing <content>s for the
    purpose of transport-info actions (which was separate) did so, so that I
    could delete the redundant path.

commit 5aa947b42e2d7b0d065f43e3cb986faabf427a23
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-25 19:12:56 +0100

    Simplify _pick_best_resource.
    
    The previous logic had some ... interesting features, like assuming that
    anyone who speaks modern Jingle understands audio and video. This is
    somewhat more straightforward:
    
     * Try modern Jingle;
     * Try Jingle draft 0.15;
     * Try GTalk 0.3, with video if appropriate;
     * Try GTalk 0.4.

commit 800575f774310117a1534fd954388d60c06c8b9f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-25 18:57:45 +0100

    Correct bitwise logic in _resource_has_caps ()
    
    The existing code returns TRUE if the resource has any of the caps in
    question, not all of them. This turns out not to be an issue in any
    code that uses this function, because only one cap is ever passed.

commit 58d7a0840eaac9162e9d41feb2499e14a9ff74c9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-25 18:33:53 +0100

    Actually look for jingle:rtp:{audio,video} caps
    
    Previously, Gabble assumed that anyone who could do Jingle RTP could
    make video calls.

commit 2f8a0726aef443ee8c16747c7821dc405d8907e0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-25 18:33:37 +0100

    Advertise rtp:{audio,video} caps where appropriate

commit c5447da6c35eed9bf543554429285a527b28541e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-25 13:45:58 +0100

    Bump Jingle namespaces
    
    This will not break backwards compatibility with older Gabbles, since
    they will just fall back to the v0.15 draft of Jingle.

commit 644f62c9dc76d3a0c27812c36c3b95cb8f8b7133
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-25 13:38:11 +0100

    ns.py-ify jingletest2

commit 0fe4c0cdd190815741eefa690bb8b0b226ef8c41
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-25 12:56:17 +0100

    Change Jingle error namespace to current draft.
    
    While this will mean that we no longer send errors in the old namespace
    even when using the draft v0.15 dialect, this doesn't matter in
    practice: Gabble doesn't actually do anything differently based on the
    errors it receives.

commit 3f038e909d7e3ab7f3633c422f31c1dd0024e9e4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-25 12:51:59 +0100

    Group Jingle dialects in namespaces.h

commit 586619f153f9978e25f50cb43a50315f4d7830b2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-25 17:56:46 +0100

    NEWS for Google Video Chat and fd.o#22369

commit 0a35a6b9c9e46038174a1fc582a0bf052957f61f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-25 17:50:54 +0100

    unrace jingle/google-relay.py

commit 6a135ea2556af429e0394e7cd3af8a2dec4cb8d9
Merge: 18b2a0b 053c801
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-25 17:37:08 +0100

    Merge branch 'google-video'
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit 053c801cc49e9bd77e88b74687e92ceed99bf36e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-25 15:08:14 +0100

    Use _defines_action() more widely

commit f671a3851317258485aa2fae569b323d540e9e57
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-25 15:07:54 +0100

    Unrace jingle/stun-server.py

commit 2678e87fa22985c67d5314a615b404bd2a18e6c7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-25 12:37:23 +0100

    Allow transport-accept on GTalk4.

commit 18b2a0bdcf0a10f86f6fb08e3020fd7c1205686b
Merge: 49c98f6 a886ef9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-25 12:04:54 +0100

    Merge branch 'reply-to-active-resource'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 042be11cc5caa0ce25cdc48980543c6668865d09
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-23 19:18:54 +0100

    Improve some Jingle error messages
    
    It's silly to have more accurate information in a DEBUG message than you
    send to the peer, for example. Also, kill off the (now-unused) SET_FOO()
    error-setting macros --- they don't buy anything.

commit 5f6968790b75e8ced03e06d41102e6729a3df53c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-23 19:11:56 +0100

    Remove duplicated "content doesn't exist" checks.

commit cb6b1e30815cbbab4125ff72cc04db35f68697c5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-23 18:50:52 +0100

    Don't send description-info with old dialects

commit 3956d4f8437eaf14038064e4f4a5041bd8980ec4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-23 18:32:06 +0100

    Add accessor for GabbleJingleSession:dialect

commit 4510df6139f778f8690e1cc3e94f732ad37bb3ee
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-23 17:56:59 +0100

    Incoming GTalk4 calls do need transport-accept

commit 3b52e944a0648a3d485863b9f1032eb2814e5a45
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-23 17:46:06 +0100

    Only accept actions which exist in the dialect

commit 5195b19e2739477ee53e195e7ad7d463fa64b8a1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-23 17:36:48 +0100

    Add dialect_defines_action()
    
    All the older Jingle dialects define a subset of the actions we support,
    which are all supported by modern Jingle.

commit 2c119c854b77a1adf2793f82ef444cd327df3f43
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-23 11:20:25 +0100

    Return success from RequestStreams(h, [])
    
    If a UI requested a list of no streams, the pending_stream_request would
    never terminate, as it would be waiting for the "new-content" signal
    forever.
    
    This patch moves the special handling of a request for no streams out of
    _request_initial_streams() into _request_streams().

commit bf40fd0ed57943aaf2328377d9aa3cc605913d5c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-23 10:53:54 +0100

    Don't leak transport namespace when adding streams

commit 2a5afbcef88b9d8709e3bf0b51f17abc0ab5c6c6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-22 19:33:09 +0100

    Improve RequestStreams' error in GTalk calls
    
    Google Talk calls can now have more than one stream; the point is that
    they can't change once the call has started. Also, let's not assert that
    there's only one stream. :-)

commit 3d99b4a6cddd0ab503c32b5ff7a761042c7e38a6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-22 19:21:00 +0100

    Don't try to remove contents in GTalk calls

commit 8b5539d6e9ecc7f5039d82b2f7d3273995dea61b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-22 17:39:44 +0100

    Reduce spurious transport-infos
    
    Gabble sometimes sent an empty transport-info after session-initiate,
    and always retransmitted all its candidates after session-accept. This
    had the same root cause. The intention here was to tell the transport
    that session-initiate had been sent and so the queued candidates can be
    sent, but since TRUE was passed to
    gabble_jingle_transport_iface_retransmit_candidates (), they were all
    resent.
    
    Also, transport-info stanzas were sent even if they contained no
    candidates; transmit_candidates () now short-circuits if that is the
    case.

commit 78614cb922246014db1414bff2780448d4cc9784
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-22 17:27:09 +0100

    Send rtp and rtcp candidates separately.
    
    Older Gabbles reject transport-info stanzas containing non-rtp
    candidates.

commit f945b1ae56226844866643e822c0b9060cd3fa83
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-22 16:32:14 +0100

    Fix a typo

commit 1ade99ab53f2033e2245a184ecf167f96352ed8e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-22 16:25:05 +0100

    Properly ignore transport-info ACKs.
    
    We don't need to do anything in response to the peer acking or naking
    our transport-infos; using _send_with_reply with a NULL callback stops
    the debugging output being full of spurious "unknown iq" warnings.

commit f9f74b7b2249d8fc134624345c95c4257c6ac072
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-22 16:14:22 +0100

    Remove duplicated <content>-generation code.
    
    Fixes fd.o#22236: “gabble_jingle_content_produce_node and
    transmit_candidates contain similar but subtly-different <content>
    stanza generators”. The difference mentioned on that bug (whether or not
    a <transport/> node is added for GTalk3) was fixed in the course of
    adding Google Video support.

commit dfce1b44821700212f35951931dd5e6bc1942946
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-22 13:34:05 +0100

    Include xmlns on contents

commit a23c5547a70c07850d3ca0e21864c70542f445b9
Merge: 404748b 49c98f6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-22 12:27:48 +0100

    Update 'google-video' to current master
    
    Conflicts:
    	src/jingle-session.c
    	src/types.h
    	tests/twisted/jingle/hold-audio.py
    	tests/twisted/jingle/hold-av.py
    	tests/twisted/jingle/initial-audio-video.py

commit a886ef942af860ad729bf1497db8d2e61ca93fe6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-19 18:16:23 +0100

    Strip off peer resource on send error.
    
    If we try to send an IM to a particular resource and get a send error,
    Gabble should send future messages to the bare JID until we get a reply
    from some other resource.

commit 0e3af20769700b682f2ed550d5b0ae5d0d6749c8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-19 17:49:02 +0100

    Correctly update peer's full JID on incoming IMs.
    
    I inverted the sense of a conditional while Messages-ifying Gabble,
    breaking the code that sends IMs to the resource that most recently
    replied.  Fixes fd.o#22369, and adds a regression test.

commit 49c98f6c2756b042bf25f0baff8590e8b16acfc5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-19 15:44:15 +0100

    Bump version to 0.7.29.1

commit e4d4e7afd0108d7fd5b6bf34d702f0283ff773ad
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-19 11:54:56 +0100

    telepathy-gabble 0.7.29

commit 4c5c8d29a102a7c4c9080d17ebc59283710a13d5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-18 10:39:11 +0100

    NEWS fixing caps from bare jids

commit 865ee17833b991e86b1a4ff68875c74884332788
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-17 12:38:10 +0100

    NEWS sid and content namespacing fixes

commit 29132c21e12d48d2fe566abc4af750634603cef3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-19 14:17:17 +0100

    Call GetMessages() on the Debug interface.
    
    What was there before worked, but this is more correct.

commit 5f19e4ad06514498fc65b66bef04f57f9cc305ac
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-19 14:17:06 +0100

    Skip test-debug.py if debugging is disabled

commit 794f8c8714f0b8b7dde301d43ff43dd75ce2d447
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-19 11:34:23 +0100

    Initialize GType in tests.
    
    The debugging code now uses GType, so g_type_init (); needs to be called
    in a few tests.

commit 14fac239ea574191452e0b6bbd421b74a78e84d4
Merge: 5fe2fcb c3d403f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-19 10:23:53 +0100

    Merge branch 'work-around-missing-creator'
    
    Reviewed-by: Dafydd Harries <dafydd.harries@collabora.co.uk>

commit c3d403f5f3e95f728a1b5160feaa7b928036709b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-19 10:22:37 +0100

    Document assumptions for missing @creator workaround

commit 17694e7a7d8723de48ad6c13f44331632e375c2c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-18 19:21:16 +0100

    Try to pick globally-unique content names.
    
    While it's completely correct for the responder to add a stream called
    'stream1' even though the initiator has a stream called 'stream1'
    already, it makes the debugging output harder to read, and confuses
    0.7.16 <= Gabble <= 0.7.28.

commit 707828fcc3b05e083d058dda44cc62483586f278
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-18 19:10:29 +0100

    Guess missing content creators for broken Gabbles

commit 672276476296616500bd70bb81c1c7ae310683a0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-18 19:10:09 +0100

    Add a cap for Gabbles that don't send creator=''

commit 5fe2fcba580fda7701a7aee7740342cf7f93f16d
Merge: 27c2831 d991d4f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-18 10:24:49 +0100

    Merge branch 'caps-from-bare-jid'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit d991d4fc303bb78f35b214170e5b4d481257ca43
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-18 10:04:13 +0100

    Correct my atrocious French.

commit 5a87a9c6933212aded358c364281c4c085c3b284
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-18 09:54:29 +0100

    Test dataforms and UTF-8 in compute_caps_hash
    
    The tests already check that Gabble hashes dataforms in the same way
    that the test suite does. This adds the dataforms example from XEP-0115
    to make sure that the test suite's implementation is correct.

commit d3f318b4d71907a6492f4b6d607c5510ab6c6857
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-16 22:35:12 +0100

    Don't add resource when rediscoing if it's NULL

commit 0b77a0740ebe1964d4a2acef7c82493cb097f2ff
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-16 17:54:14 +0100

    Don't printf ("%s", NULL) for NULL resource/status
    
    printf ("%s", NULL); produces "(null)" with glibc, but crashes on
    Windows.

commit 56ed10f0f5a69fb0577481e5fd376660f3856885
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-16 17:42:52 +0100

    Correctly handle caps from bare JIDs.

commit e35bde7318282ed169ff75a5f9986b4bf9b86b3b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-16 15:46:03 +0100

    Don't guess handles in test-caps-cache

commit a6c16381ea6f25a724aa050f63b8b2a6cc4634a2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-15 19:22:11 +0100

    Don't hardcode caps hashes in tests

commit e94e51b400b2b82d75f91f5dd1f9c8cf181bf83c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-15 18:45:11 +0100

    Correctly test non-emission of CapabilitiesChanged
    
    This was trying to check that CapabilitiesChanged hadn't been emitted in
    response to an IQ sent to Gabble. However, the IQ might not have reached
    Gabble by the time of the assertion unless we sync the stream as well.

commit 9852b5d548462440e76d207d6743715805cfb88b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-15 18:30:18 +0100

    tests: Support data forms in compute_caps_hash

commit 27c28316ae710bca913956c13cbea03bc6a1dbb4
Merge: ea0dbeb 3a3626b
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-06-17 17:51:42 +0100

    Merge branch 'debugger-fix'

commit 3a3626bfb38e1e9a8074a4aad2f22c8dafeb7e39
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-17 12:43:59 +0100

    Fall back to DEBUG for unrecognised log levels
    
    Having an assertion here makes me uneasy: it doesn't look like you
    actually *have* to specify a log level when you call g_log().

commit ea0dbebcc33dbabcc06cd9a4a3aa1389931f1729
Merge: e7bd82f 91030a9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-17 12:23:53 +0100

    Merge branch 'namespace-contents-by-creator'
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit e7bd82f640f495f9b681494f251d2e76aeaa258f
Merge: 610cf8e 6842659
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-17 12:23:28 +0100

    Merge branch 'namespace-sid-by-peer'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit 91030a9c2c485098af2e8b00c64dacb8db9be805
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-17 12:03:16 +0100

    Include 'creator' in transport-info <content>s

commit 021c85395ed33a587f799c3c35ead49f3231f160
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-06-16 19:49:27 +0100

    Convert GLogLevelFlags to GabbleDebugLevel checking the flag.
    
    If the GLib log message level is G_LOG_LEVEL_ERROR, then it is also
    G_LOG_LEVEL_FATAL, therefore simply checking whether the level is one
    of the two fails.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 114cb98100cc42cca563d7081760b01f779dc48b
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-06-16 19:40:34 +0100

    Log gabble messages which do not originate from gabble_debug.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 610cf8ec9c77f3a2d648e19581fb7f916bdf7a59
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-16 18:31:24 +0100

    NEWS keepalive-interval

commit 642c464129fd106b13dae03ebdd5054670ade5d0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-15 10:58:55 +0100

    Add a keepalive-interval connection parameter.
    
    This allows clients to specify the interval between TCP and/or
    whitespace keepalives (at the whim of Loudmouth) rather than hardcoding
    the interval to 30 seconds (which is still the default). This might be
    useful in situations where reducing network activity is more important
    than realising the network has gone away quickly.

commit 24122c096e396b05aa6436859d45e66f9bdfbbc4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-11 18:01:20 +0100

    Don't leak content name and namespace

commit 064dd0d8f741308325bf21b66ed0796c7e4a5785
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-11 17:56:46 +0100

    Don't leak a copy of contents' disposition

commit b94fd63fd53140892093f8ffc27b26ea243bbbbc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-11 17:43:55 +0100

    Document test failure when Gabble didn't namespace contents

commit cd466987ea6db912db01a1edf4d11778a6cd5f81
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-11 17:32:15 +0100

    Namespace contents by their creator.
    
    Fixes fd.o#20763

commit 9ce2a812afd41fc91e8812f8333ef75ee11cba53
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-11 17:29:29 +0100

    Test that contents are namespaced by their creator
    
    Both the initiator and the responder should be able to create a content
    called 'foo' without issue. test-content-complex didn't test this
    situation --- it only tested the other party trying to add the same
    content name twice --- and in fact Gabble's got it wrong since the Great
    Jingle Refactoring of 2008.

commit ac8626b87664b93885b1e013e8188d587a2a5075
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-11 16:25:33 +0100

    Include 'creator' attribute in <mute/>
    
    I noticed today that <mute/> was defined only to take a 'name'
    attribute, but since content names are (supposed to be) namespaced by
    creator it needs a 'creator' attribute too, and PSA agrees.

commit 6ef562e77bcc6496c59029398cd333c05a6071fd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-11 16:11:23 +0100

    Add _content_creator_is_initiator()

commit d19ccece5e11885abedf0696148de57d00a6339a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-11 14:01:43 +0100

    Use G_PARAM_STATIC_STRINGS in JingleContent/MediaRtp

commit 53ccdbdbd5fd0812b195523d4d41ff3f2ea46858
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-11 10:37:49 +0100

    Don't leak content's name for GTalk contents
    
    g_object_get was putting a freshly-allocated string into 'name', which
    (since it's a const gchar *) is never freed.

commit 6842659ac0a66f38b53b9c127520044e5556594f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-10 16:58:18 +0100

    Sessions are guaranteed to have non-0 peer

commit fd410e919d9fabffc1005f30a90109b9e15ea274
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-10 15:11:57 +0100

    Namespace Jingle session IDs by peer
    
    Previously, Gabble's set of Jingle sessions was keyed only by the
    session ID, so if two peers happened to choose the same session ID,
    Gabble got confused.
    
    This patch keys the session map by:
        "<peer's handle>\n<peer's resource>\n<session id>"

commit 0b03074b92f2d0f7c82808574d98b66bf752a153
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-09 11:45:25 +0100

    Split sending caps out of JingleTest2.prepare()

commit c3e65410b2b0d059bdadd5ec80160cb297fd83bb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-10 15:11:39 +0100

    Accessors for JingleSession:sid and :peer-resource

commit a73f4bab989029d36bcc5467598d81a106a820e4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-10 14:01:03 +0100

    Don't crash on Jingle IQs with no 'from'
    
    Obviously an <iq> without a 'from' attribute is illegal, but LM doesn't
    actually protect you from this, which made me uneasy.

commit 1910837a8314de134c84dbea88e5f1023c284484
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-09 19:06:38 +0100

    Remove the now-unused get_jid_for_contact

commit 211d9d7033d8405db06539c04cd60fc5588ee865
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-09 18:57:37 +0100

    Don't require 'initiator' on Jingle stanzas
    
    My reading of <http://xmpp.org/extensions/xep-0166.html#def-jingle> is
    that clients are at liberty to ignore the 'initiator' on
    session-initiate, and just use the IQ's 'from', and should thereafter
    ignore 'initiator' anyway.

commit 974478bb157c0f4ea6afdd8095afa3511c2b5faa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-09 18:50:05 +0100

    Set session initiator's jid in constructed

commit 3e501f5d45a886fa6de8f3a9823092eb8bfed99d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-09 18:01:38 +0100

    Add gabble_connection_get_full_jid()

commit dfc057c0e7e425015467bb35b46db3a95610b1a6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-09 16:55:25 +0100

    (Re-)build peer's full jid in _constructed

commit 7710495b4c6daca16cfb13be32f8d5f8b70d99e1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-09 16:36:32 +0100

    Don't re-set peer & peer_resource in session_parse
    
    We now guarantee that these are set at construct time, so there's no
    need to set them while parsing the session-initiate.

commit 4d5b93d2cceb06f67c74a0ae5d06d4082fe17dc1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-09 16:21:09 +0100

    Assert that sessions' peer, resource, sid are set
    
    It seems more coherent to ensure that a JingleSession always knows its
    ID and who it's to, rather than to sometimes set these later.

commit 499623ec4971b6103f85f7c782229645d84b7e95
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-09 16:16:36 +0100

    Construct outgoing Jingle sessions with resource

commit f13474993fdcfc2615a146a29a2d54c97c3d3504
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-09 14:56:22 +0100

    Construct incoming sessions with peer+resource

commit 6b8e08366b6fc7e1cf80ad36d46d6ac1f541bcd7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-09 14:47:38 +0100

    Ref session peer in jingle_session_constructed.

commit 26fd5ab9ecf3beb55e13b291bbc46a4907409d52
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-08 16:36:09 +0100

    Use G_PARAM_STATIC_STRINGS in JingleSession

commit dcfe1c8ebdaf0067563d25d93c3f2f9ebbba3c09
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-10 15:04:07 +0100

    SOCKS5: decrease the connect timeout
    
    When users are not on the same network or using IPv6, the direct
    connection will always fail. Waiting 30 seconds before connecting to a
    proxy is really long and is perceived by user as a problem in the FT or
    stream tube. 10 seconds should be more than enough; if the connection
    took more that 10 sec to establish, you'll probably have trouble to use
    it any way.

commit 761b30f86894100eb94b5e928a981140d912e7b4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-10 15:02:06 +0100

    socks5_connect: use the right timeout when waiting for connection

commit a55888808ae168dd185f78191986361bddd6b5b1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-10 12:35:50 +0100

    NEWS <gone/> fixes

commit a97f62d1464b5e1fb3129c8383ea2447a69bcfa6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-10 12:30:57 +0100

    NEWS for RemoveMembers([self] ...) working in MUCs

commit a82f2db0671e49bb9b5d57529ec93f40b814f561
Merge: 5eb776a bfd023f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-10 12:34:24 +0100

    Merge branch 'going-going-gone'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 5eb776ad7be0ecd188bf4c4a75a7e36fbb9fc494
Merge: 3b22e63 18f3d79
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-10 12:07:02 +0100

    Merge branch 'leave-muc-with-removemembers'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit bfd023f8bce09b392397ef044efdf9fce8abc3e0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-10 12:01:02 +0100

    Remove unnecessary forward declaration.
    
    Guillaume pointed out that emit_closed_and_send_gone() is not used
    before it's defined.

commit 3b22e632af91dd026c655cbce5f3aed87e1f6c78
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-10 11:50:01 +0100

    NEWS the hold and unknown action crash fixes

commit 6035b7ca4ecd84820b06b433a8e9d5c955a481ff
Merge: 3e90662 4bdd001
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-10 11:38:42 +0100

    Merge branch 'crash-on-unknown-action'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 3e90662d9764e319478335e06584bcdeb333671f
Merge: 5c35907 64c54f5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-10 11:30:54 +0100

    Merge branch 'hold-before-call-starts'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 5c35907c91889148038124d60460acfd284b51c2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-08 12:23:42 +0100

    Remove workaround for calls' broken group interface
    
    Historically, you couldn't end a call by removing the self-handle until
    you'd sent a session-initiate. That's fixed now, so let's remove the
    workaround in the test.
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit 64c54f59124e8d8588e24abee176e690aa7cc9f2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-02 15:10:57 +0100

    Forbid answering calls you've put on hold.
    
    This is hard to represent at the XMPP level: you can't cancel <ringing/>
    without also cancelling <hold/>. It also doesn't really make any sense.
    
    Fixes: fd.o #22031 (although it uses a generic error, rather than a
    specific one)

commit e28065ae0a06858413fc24e42c7c0b5b721f1810
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-02 12:01:13 +0100

    Send <hold/> if necessary after session-initiate
    
    If a call is put on hold before it's been initiated, Gabble should send
    a <hold/> notification when the session-initiate is acked. This patch
    makes this work both in the case where the GabbleJingleSession already
    exists (but isn't initiated) when the call is placed on hold, and when
    the session hasn't even been created yet (by setting the current hold
    state on the session when it is created).

commit cf086c6a663db8709e2ce06ac87731db95a846cb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-01 16:51:44 +0100

    Move to desired hold state when no streams exist
    
    Previously, calling RequestHold(True) while there are no MediaStreams
    for the channel would wait indefinitely for one of the
    GabbleMediaStreams' local-hold property to change. Now, rather like in
    stream_unhold_failed, stream_hold_state_changed() is called immediately
    to recalculate the call's hold state as a whole.
    
    Also, stream_hold_state_changed() previously assumed all_held ⇒
    any_held; but when you have no streams, all_held ∧ ¬any_held. So we need
    a fourth block for that case, which moves from any pending state to the
    corresponding end state.

commit fda2566b4fd02a26400f28fabf9f386a4656948e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-01 16:48:59 +0100

    Use switches in Hold state machine
    
    I think this is clearer than the chained if-else-if-else-if-else-s used
    before.

commit a862faa0622ab5928657523aecf783462b1a4e16
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-29 20:17:47 +0100

    Don't try to send <(un)hold/> before session exists

commit 6c15142e62d6169c315f00d9129a7a131901a3fa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-29 20:15:05 +0100

    Replace active with unhold in comments

commit fe011de81d58dae3a5e07433c7707788f52b7a1d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-29 20:11:37 +0100

    Forbid the right event when unholding
    
    The test was trying to check that Gabble doesn't send <unhold/> before
    the streaming implementation has successfully reclaimed its resources,
    but was actually checking that Gabble doesn't send <hold/> before then.
    Whoops.

commit 309c8f6ddb89ed2b587eb5669158afa25ca7b055
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-29 18:57:24 +0100

    Port hold tests to wrap_channel

commit 0deb0ad1ca19a23c9091a9f9103daf5498d54bac
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-02 11:13:29 +0100

    Use action_predicate more widely.
    
    In some cases, this just makes the test easier to read; in a couple of
    cases, it replaces "expect an iq; assert it's this jingle action" with
    "expect this jingle action", which is more correct.

commit 34b0a546ba6b7034581682545dee878cdfca0629
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-02 18:32:33 +0100

    Only send <gone/> if we've sent another state
    
    This prevents opening a channel and immediately closing it from sending
    a spurious <gone/> notification to the peer. Fixes: fd.o#18951.

commit 1b3828d3751d8a095ec941b3c36b1aa6e9ca339a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-02 17:48:00 +0100

    Constantify test-chat-state somewhat

commit 237fd2c5a5c4414137f2cbcc4984532e35a06846
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-02 17:28:35 +0100

    Unduplicate emitting Closed and sending <gone/>

commit 18f3d79aa1fa2f33981fc6a574b8c0fe679a2fe6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-02 16:19:39 +0100

    Support leaving MUCs with RemoveMembers.
    
    This allows you to leave a MUC with a part message. Fixes: fd.o#16886.

commit 732e327b4851024aa0b9017ab62f0252588fcd7c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-02 16:14:45 +0100

    Use wrapped channel in test-muc

commit 5c04172ef82481fea32929dc36c2fcbf520d55ba
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-02 16:10:37 +0100

    Return a wrapped channel from join_muc

commit 4bdd001e18834ece694e23a2fc989299a352fb16
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-02 17:01:11 +0100

    Sanity-check Jingle actions in a few places.

commit 38054275cf64b2e60b20a7fc15fbd904aba5bd3d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-02 16:59:01 +0100

    Don't crash on unknown incoming Jingle actions.
    
    Previously, gabble_jingle_session_parse() called produce_action() (which
    asserts if you pass it JINGLE_ACTION_UNKNOWN) before checking whether
    the action is UNKNOWN, with hilarious consequences.
    
    Fixes: fd.o#20807

commit 51e98d8033c9d4e6b86409352366edc5d46e60ee
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-02 10:44:28 +0100

    Unrace jingle/incoming-basics
    
    We should expect the alleged gtalk4-compatibility transport-accept in
    response to Gabble receiving a session-initiate, so move it up to the
    first batch of expectations.
    
    Also, picking up the initial StreamDirectionChanged is racy and not
    generally possible in real clients (because the channel's only just been
    announced, and might not have been dispatched to them by the time the
    signal's emitted) so use ListStreams() instead.

commit 4a0f98ab5e61772d86ae6346df561d4259eb3cd9
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-06-05 00:20:31 +0100

    Ordered EXTRA_DIST.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 0bf4209dd1b64e5fc569e833873fe3cf93921359
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-06-05 00:16:58 +0100

    Define a gabble_debug_free even with no --enable-debug.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 07ec77e932115f84cc92537a83e8d928c0cf5f91
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-06-05 00:16:36 +0100

    Add Debug.xml to EXTRA_DIST.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit ea1eadf7c9838bbc81cad026df91e95138ee566c
Merge: 2844a4d 5d78337
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-04 12:22:08 +0100

    Merge branch 'refactor-caps-tests'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 2844a4da1c356b3d1176a8bacf40acb5d24d754c
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-06-04 00:55:24 +0100

    test-debug.py: Fix to use correct iface and number of NewDebugMessage args.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit 5d783377a2f1dcd72b1dd68998d199a2a0464e39
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-03 17:58:24 +0100

    Refactor testing outgoing tubes caps

commit 7fb51a6b369bfcc22829a2b0390440b9e947a15b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-03 15:15:28 +0100

    Refactor testing incoming tubes caps

commit beb8fc50851f9d653deb854a056c0d4c7b2c94e6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-03 15:11:36 +0100

    Add ContactCapabilities to test connection proxy

commit fc1e3af34502cc2f8998ee08990b63069c3e2334
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-03 14:16:31 +0100

    Use assertEquals in test-caps-file-transfer

commit a71a93144c5b5c2b829da8512c520eedf5104aec
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-03 12:50:52 +0100

    Pretty-print values in assert*

commit 0e054da167caf74ee3bfe948349f9a49a930921c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-03 18:42:03 +0100

    Don't use a va_list twice.
    
    Using a va_list twice within one va_start/va_end is not portable. You
    have to start and end once per use. Here we just construct the formatted
    message once, which I think is clearer.
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit 05c0d7865af3414f2c29fcbd83e776b4107706eb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-07 19:32:51 +0100

    Unrace offer-muc-stream-tube.py
    
    Previously it might send the other members' presence before Gabble's
    tried to join.
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit f7af0795c91c25e00a6a72330ac41640cb4a5dd6
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-06-03 14:15:00 +0100

    Updated NEWS.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit aad1c0434e10c90ac428611d864db2af8af2e8f3
Merge: e571175 116df97
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-06-03 14:10:35 +0100

    Merge branch 'debug'

commit 116df9751bce52cc08419d35a8746e1361adffb0
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-06-03 14:07:58 +0100

    Use g_direct_{hash,equal} instead of creating hash/equal functions for uints.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 24380712bf2d818948a4541a6ea5ea1bfef729e8
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-06-03 13:28:27 +0100

    Use a hash table to contain debug flags.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 3db0d3fef0533eb74395d97121368d5988bd2ef3
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-06-03 12:11:13 +0100

    Fix indentation.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 4ac31661866db63cc3395401d3bec8b91cf57601
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-06-03 12:06:25 +0100

    Added comments as to why the gabble messages shouldn't be sent to the debugger.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 64ce86d89c86206a6ad6470180182230114d61b9
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-06-03 11:52:53 +0100

    Removed useless blank lines.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 569d0b6c04beb7dceb3e19b1d47e4888818023d8
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-06-03 11:51:18 +0100

    Updated function definition style.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit f5e54fca1992021f8a6ecc377f7fe098d88ed03b
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-06-03 11:43:56 +0100

    Updated Debug interface.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit e571175a7256d20f8accaed72057a0d74ef2fa2b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-02 15:25:02 +0100

    Clarify immediate StreamDirectionChanged comment
    
    Fixes: fd.o#20841
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit ff1629364f5e0a79bb7c050ef849bc8365e238d5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-02 10:28:28 +0100

    bump version to 0.7.28.1

commit 0b743c4f26ca109b97882731f0b01a48a06a8d19
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-06-01 18:36:42 +0100

    version 0.7.28

commit 67336c81bd9690b2a06e9b4aa2efc5ba015e8ec6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-29 18:15:11 +0100

    Don't assume session is non-NULL in GetCallState
    
    If GetCallState() is called before RequestStreams() and friends,
    there'll be no JingleSession for the channel, so we need to check if it
    exists yet before dereferencing it.
    
    It's valid to omit participants whose call state is 0, and if there's no
    session we might not know who the peer is yet anyway (if the
    RequestChannel(0) calling convention's in use).
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit 7fe79e84b0b7aec972d80375a3dd301213bceab0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-06-01 12:14:59 +0100

    gibber_fd_transport_block_receiving; don't crash when trying to unblock a not yet connected transport

commit 663914069fcdda92abe60af09c233e2ade7719cb
Merge: 73cf45f 5e844c0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-29 11:44:13 +0100

    Merge branch 'fake-incoming-ringing-on-old-jingle'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 73cf45f3a9de3f1f84ab98b936725b2649fbe261
Merge: 06a3ff3 e616465
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-29 11:43:35 +0100

    Merge branch 'send-ringing'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 5e844c084478be47b1c0e2e85245d5f88d724a25
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-27 14:46:04 +0100

    Fake Ringing states on old Jingle dialects

commit e616465c10597286a8e63eb3f114dc0dbb3dcf7c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-27 16:15:24 +0100

    Send <unhold/> not <active/>
    
    The <ringing/>, <hold/>, and <mute/> states in jingle-rtp are
    orthogonal. <hold/> and <mute/> have inverses, <unhold/> and <unmute/>;
    <active/> cancels out all states. Previously, Gabble only ever sent
    <hold/>, so using <active/> to unset it was okay. But if you hold and
    unhold a call before answering it, the ringing state (which we now send)
    shouldn't be removed (as it would be by sending <active/>).

commit 9f037c6f3936549993f5c0133e3479177c0508b4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-27 15:37:34 +0100

    Send <ringing> and <active> on -initiate and -accept
    
    For now, the UI doesn't have any way to tell the CM that it's ringing.
    So Gabble sends <ringing/> when it gets a session-initiate, and
    <active/> when it gets an ack for its session-accept.

commit f8e7e117158c2256953f815f737d1674ebb3160d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-27 15:29:14 +0100

    Generalize gabble_jingle_session_send_held

commit 58957a9c3473803801c38d8d92d1ad6cb276f010
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-27 15:10:53 +0100

    Generalize <hold>/<active> event pattern functions
    
    I'm about to make a test check that Gabble sends <ringing/> and
    <active/> using these generalized helpers.

commit 06a3ff371b683867b7eda0c41bf7fe73beab24ac
Merge: bb3c7fe 5aa5e7a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-29 11:25:54 +0100

    Merge branch 'test-tidying'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit bb3c7fe1fa9450c2361c20a699b15af49b76fef5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-26 12:34:08 +0100

    NEWS: document latest tube changes

commit 28bcde7267a761473d572882a181bce84dab7eed
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-28 10:35:06 +0100

    use TP_ERROR_STR_* constants from tp-glib

commit 9f520d416d230f4dc1a6588546c6e29de09aed7b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-26 14:38:03 +0100

    constants: new tube API is now stable

commit 49247bf3f301036ebd9bbd9e04cd13031068a0f5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-26 13:40:16 +0100

    use tp-glib instead of extensions to implement tube new API

commit 1b77e86250775562b132a96fefe34ff7ec0b24c3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-28 10:30:23 +0100

    bump tp-glib to 0.7.31 as we need it for tube new API

commit aee4931a87cd810d3bb3d5d16bb901c4298b768d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-26 13:21:22 +0100

    stop generating code for tube new API

commit 4bb75ff2997b34436943b9c6c69fe3be67e4dfea
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-26 11:23:55 +0100

    chmod 777 stream tube UNIX socket for AccessControlLocalhost

commit e6ecb72be4ac348673c4aa5aedd16619f1826274
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-28 11:42:21 +0100

    correctly use assertEquals

commit e9f1caca691de6e47538842b48b4fdbeb0e2a0d9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-25 17:30:43 +0100

    update stream tube tests to deal with the debug_msg arg of the ConnectionClosed signal

commit 5f3ebc0cf82c350b058349e2ab63b7f2b74ebcd9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-25 17:07:53 +0100

    ConnectionClosed signal now has a debug_msg arg

commit c0c2d9c612331e1e394c553e39fd112eedd31e98
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-26 11:18:02 +0100

    sync with latest tube DRAFT

commit 531f6a8c08f261ba84af552b1c9ba79291c440ae
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-26 11:17:51 +0100

    extensions/all.xml: add Handle_Type

commit 404748b43092fc009a562b7369cedb04c1afb00d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-05-26 18:54:01 +0100

    Only run tests that add/remove streams on protocols that can do so

commit 0b85f4540e6c95267f4171e885be699edc591bbd
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-05-26 18:45:45 +0100

    Move tests requiring mutable streams into their own function

commit a3aaf7f0b9a2b893fee5c3a203d73500208d6386
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-05-07 16:13:41 +0100

    Google video caps means the contact is video capable

commit ac3913afcdd76aaf8d7aad6ad933325b2c1d5e8b
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-05-06 16:33:10 +0100

    fix trailing space

commit 8a71861c490053c5bb3f16ec84bf8c0b9e21ee6f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-05-06 11:43:33 +0100

    Support parsing of rtcp candidates

commit 4dc0f150464a0e4a4263b434e52cd8367da5cdc4
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-05-06 11:42:31 +0100

    wrap a line > 80 chars

commit d905339fb7c56c41494c183faf2c6fd1ce103065
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-05-06 11:42:03 +0100

    Support transmission of rtcp candidates

commit 545ac53762541d109322c064672cd338b9423706
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-05-06 11:00:22 +0100

    Support multiple transport components

commit 64c723923b2e1e6939104faddc99188bc3f4e0e8
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-05-06 10:56:20 +0100

    Support receiving candidates for multiple gtalk contents

commit 3221e815e85a805a46bf69a06d570082f1609115
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-05-06 10:55:09 +0100

    Set dummy width, height and framerate attributes

commit 380d5530863e158ffe368e92db3e06128bd391ae
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-05-06 10:39:34 +0100

    Ignore payload-types meant for different media
    
    In Gtalk3 the audio and video content description are mixed in the xml tree, so
    let the content parser for audio ignore the payload-types meant for video and
    vice versa.

commit 0e3273715bc6f44476f60fe9a06b23c147833b82
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-05-01 11:25:26 +0100

    Detect whether we're talking to a GTalk03 or a GTalk04 client

commit 143a247247ca5113959a087aae9d3931c6962a95
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-05-01 11:21:27 +0100

    Only get the media type from the description if it's unknown

commit 093172bf7c6e9bac32334859b19204bcf5fb437d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-05-01 11:20:23 +0100

    Allow content names to be overriden in the GTalk dialects

commit f5e345ef86b72f0b76670f2341c9b220a454d0e0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-05-01 11:15:29 +0100

    Assert when we get a content type we don't know

commit 920a27474c3783d701b19992814883926e5f2879
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-04-30 19:31:30 +0100

    In GTalk03 let the session add the description
    
    in the GTalk03 dialect the description namespace depends on whether the session
    does video or not. So pull up adding the description tag into the session for
    this dialect. Also add a namespace to audio payloads when using this dialect

commit 43c757d04b4ee13ddc88792dc2bdd9f0af33a87d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-04-30 19:30:32 +0100

    We can only do GTalk3 video if both audio and video are wanted

commit d053f6901bea9de91f9031cf4d9494d13c77893c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-04-30 19:30:09 +0100

    Assert that a GTalk 03 video session always has audio codecs

commit a76f3be48621438114dc8d34c70137a2ba3c67f2
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-04-30 19:29:41 +0100

    Add google audio/video session namespaces

commit d4115a0f2be94cb10fbfca5500073cd610ac4d1c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-04-30 19:29:24 +0100

    Expect an error if the protocol can't do video only and is requested to do so

commit 732ee4d7c6cfcde3dc0759d861482458ff932d27
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-04-30 18:59:29 +0100

    Don't use the same codecs for audio and video in tests

commit cdfbb313c6f72298b3593b2837094825c79922b8
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-04-30 17:16:17 +0100

    Don't send transport in the GTalk 03 dialect

commit a138084d2950f5ba8e2526a812b8cec1f6fb55ae
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-04-30 17:12:53 +0100

    Improve selection of the GTalk dialects
    
    If a contact only google voice, but not google transport p2p in its
    capabilities, select the GTalk 03 dialect, if it has both select GTalk 04

commit 569a0a8a1701841248a02e521c972f673f9e9b5d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-04-30 16:58:39 +0100

    Add basic validation for GTalk03

commit 5d1c70aebeb5ceea51a0081d67d22b45d4a8a411
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-04-30 16:51:42 +0100

    Add a hook to parse and validate all of a session initiate

commit 5aa5e7ac3675afbefcd3655cc69106f5921778c1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-27 16:23:05 +0100

    Move test-suite-only function to clarify comment
    
    Putting the definition at the end of the file makes the comment less
    misleading, as it made it look like all the following functions were
    test-suite-only.

commit 488dce59ee5c99f4e9903f58253f195a50343914
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-27 16:07:45 +0100

    Fix some races in Jingle tests
    
    These were occasionally catching IQ acks and things rather than the
    events they intended to catch.

commit 4b6d6e32fa61d6f60a1de81406c2f60e117810ec
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-27 15:59:01 +0100

    Add a curried version of match_jingle_action
    
    jp.action_predicate('session-initiate') can be used directly as the
    predicate of an EventPattern, rather than needing something like
    lambda e: jp.match_jingle_action(e, 'session-initiate')

commit c6543bd68a42d8355bd5386211c8980a60f900f7
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2009-05-26 18:57:33 -0400

    Report an error if gabble can't publish location to a non PEP capable server

commit 6a45489e9f28875b2b326efcc62dafed36fd1d61
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2009-05-26 18:25:10 -0400

    Always advertise Location.DRAFT
    
    Even if a server does not support PEP the user can receive notifications
    for geolocation of other users from other servers.

commit 7799f557e46281591658ae5e8d03234ff680f09a
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2009-05-26 15:59:01 -0400

    Convert timestamps <-> iso8601 using glib function
    
    Now that we use glib functions for all these conversions,
    we can stop including time.h

commit 882b562f66aaa41a8502cb26c8715db14938d587
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2009-05-26 15:19:02 -0400

    Fix a timezone issue with regards to the received time from the server.
    
    The time is always UTC.

commit 35212400741304aa003ef661bdd75bdccc161aab
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-04-30 16:17:19 +0100

    Support dialects that don't have one content per stream

commit 2101ea644170827201c9a4a5d3eaee0d3708fd33
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-04-30 16:11:55 +0100

    Add seperate_contents and can_do_video_only dialect features
    
    add features to ask the dialect if it can do a video only call and whether its
    contents are in seperate content trees or if they are all put together like in
    GTalk 03

commit 107f3676bd40739ecbd0a0a45c1d1392c340c7a1
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-04-30 16:13:17 +0100

    Fix typo in children

commit fb681ea35495538fa2b3b1b2534db17a1f866bb4
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-04-29 17:50:56 +0100

    Add support for google video capabilities
    
    support google video capabilities (both recognising and setting them). Like
    with voice-v1 the google web client doesn't actually asks us about our
    capabilities but only assumes we can do video if video-v1 is in the ext
    attribute of our capabilities

commit 4f3ebab4e7d4a90c79a6bd1c615888695d5b2e97
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-04-29 16:32:16 +0100

    Add GTalk 03 video capabilities
    
    add GTAlk dialect 03 video capabilities as that is supported by the Google web
    client. Also if we want to know if a specific dialect supports video, ask if it
    supports video not ask if it's part of a certain dialect family

commit edec34a273ed532b2bd4424d980565cbf1f122a9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-26 12:48:56 +0100

    NEWS for just-merged fixes

commit a751c83a857fb4c1529b82b840b04e6cdd5a0a3f
Merge: d042e01 3dd3b63
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-26 12:43:35 +0100

    Merge branch 'remove-from-rp-subscribe'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 3dd3b63884c325404352cd4c9bf42af340b2eda7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-01 20:53:04 +0100

    Add a regression test.

commit 2c820b740ea9a68d8cf64844d7dbfbb26a4e4244
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-01 20:45:13 +0100

    Don't ignore subscription='remove' if remote-pending
    
    In response to subscription='none' or subscription='from', the contact
    is only removed from 'subscribe' if they're not remote pending., with
    the explanation 'presence="unsubscribed" does that'. From my reading of
    the RFC, that makes sense.
    
    But I think the same guard for subscription='remove' makes no sense at
    all: they're being removed entirely from the roster, so clearly we're
    cancelling the subscription request.

commit d042e01c0c132691829b1389558e74973d0401cb
Merge: 014da0b ffd77ab
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-26 12:29:30 +0100

    Merge branch 'stream-added-on-hold'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 014da0b020e6d3fa01afb984f9cc14e82d9a2dca
Merge: e1d9e60 381d450
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-26 12:20:15 +0100

    Merge branch 'refactor-hold'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit e1d9e6035f0aec090ed73e05b64752d49577e036
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-26 11:42:57 +0100

    test-fallback-socks5-proxy.py: fix DBusTube.Offer() call

commit 55848acadab742281be524caf8b946836e51b6f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-26 11:11:39 +0100

    run D-Bus tube tests with the Localhost access control

commit 6a7ec7429f0f6fd2ac3952beb7de040a63be908d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-26 11:11:20 +0100

    tube-dbus: implement Localhost access control

commit 6e814c97a20fb575da34acb22d5f495101fed5f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-26 10:59:16 +0100

    add LocalHost to SupportedAccessControls

commit 5effe14e52bdff3a2831e0fc4aa8d4d10c0cd0b2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-26 10:38:35 +0100

    tube-dbus: add priv->access_control

commit d33ebec9c088fa60b681f59bf99ed27fda0a63d6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-26 10:30:12 +0100

    add an access_control param to D-Bus tube tests

commit 9e624e4276e5e7afa5c1d72d001138d0d209c952
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-25 18:44:20 +0100

    check value of the SupportedAccessControls property

commit c434c56bfa4897631a0fd0c96be0cae2b7d1809c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-25 18:44:12 +0100

    tube-dbus: implement SupportedAccessControls property

commit 73735eec05462d00c763ab3674a1082627566e36
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-25 18:03:41 +0100

    check if Gabble raises the right error if we pass an invalid access_control to Offer/Accept

commit c0f34b865b3a9c7592c63adec7a33628ae266e4d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-25 18:03:21 +0100

    tube-dbus: check if access_control passed to Offer/Accept is valid

commit ec08d2175eb8c3146d64f7efa01cc5488b937eb0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-25 17:40:36 +0100

    DBusTube.{Offer,Accept} now have an access_control argument

commit 50aafad080bd56197590f817b04a6d30ffc6b370
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-25 17:09:55 +0100

    sync with latest tube DRAFT

commit ffd77ab0b51653e17154ceb8883feb23571ce8a7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-22 16:22:55 +0100

    Apply current held-ness to new streams
    
    Fixes fd.o #21878.

commit 84dc5eec4511ce39eb4bd24b7cc15774e1731fa6
Merge: 5a17e13 e9a2537
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-22 14:22:04 +0100

    Merge branch 'tube-signals'

commit e9a2537816b0c3f2c18af22c7d5a046cabe00199
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-22 11:55:25 +0100

    fire_connection_closed: no-op instead of asserting if the signal has
    already been fired

commit 5a17e139f6dcb3de92403b02994047f9010e59b9
Merge: fec464f 887837f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-22 11:54:15 +0100

    Merge branch 'stored-list'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 390d1655d6520b980862cf0de38f6a81bc92610e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-21 15:53:03 +0100

    NEWS: document API changes

commit c0a870328de135a2d17ce8f778b2675edfbf633b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-21 10:29:26 +0100

    test that ConnectionClosed is fired when tube is closed

commit 322b00385de6e3d3d2403a1db06c469af9622644
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-21 10:29:03 +0100

    fire ConnectionClosed with existing connections when the tube is closed

commit 0b2c566d0419d0852bc64d5f8b5f45f0ce7649a9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-20 18:02:26 +0100

    test ConnectionClosed signal with Cancelled

commit 4358383edfd06da69f118e75d7aeb38c6b538427
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-20 18:01:54 +0100

    tube-stream: fire ConnectionClosed with Cancelled error if transport is disconnected

commit c08774146bc8043c08a538b77da3c19fb5830cc3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-20 17:55:59 +0100

    constants.py: add Cancelled error

commit 3cea6d6a8e5a61ee70ce38aa9203dc20f6367dc2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-20 14:20:41 +0100

    test ConnectionClosed signal with ConnectionRefused

commit f18b551103ee6675a771999c2a33bb77c972df98
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-20 15:06:29 +0100

    fire ConnectionClosed when connection is refused

commit a43a06cf273f6b3d6521d221c78f4ce1c299cd3f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-20 14:58:44 +0100

    test ConnectionClosed signal with ConnectionLost

commit 4fe8e285e3906921cac1f3b0f94559cd7a86725c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-20 15:05:56 +0100

    fire ConnectionClosed when connection is lost

commit 33b86ab97b461da40cbb9694b13dc70094040297
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-20 11:16:01 +0100

    constants.py: add CONNECTION_{REFUSED,FAILED,LOST}

commit 4e86936dca363c1a94c50b87cbc67f18b765422d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-20 10:22:42 +0100

    check that NewLocalConnection is fired

commit 61cf477c22909486f64dde55aa0138ea98831460
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-20 10:17:39 +0100

    fire NewLocalConnection

commit 06c89ed99aba8da0cc2c005a150bd90ce924a6a1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-19 17:22:04 +0100

    tube-stream: associate an ID with each incoming connection

commit 993e553a96235a818827b0c0a7d2fe58b0ba7175
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-19 17:03:04 +0100

    NewConnection has been renamed NewRemoteConnection

commit 46128d8a25e7d4dcf980095ce7152edbf3c1019b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-19 16:54:42 +0100

    sync to latest tube DRAFT

commit 887837f3a31811d6f9dc0e792b0f9a6b01f0a701
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-21 12:31:29 +0100

    NEWS the known->stored renaming

commit fec464fe983952a47625f54faeb4c2a87d0cba7b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-21 12:24:51 +0100

    tubetestutil.py: set REUSEADDR on client sockets so we can bind the same address successively

commit 575fabef44cef0b79a2f20b5a2c39c0ff77a40e1
Merge: 634e384 29098e4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-21 12:28:50 +0100

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble

commit 634e3842466348217c0d9f9ab20306a47a9ddb70
Merge: 3c55b2e 3a1e622
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-21 12:28:41 +0100

    Merge branch 'port-access-control'

commit 1f4187007b150747d0b41bcf25e39dc95ec6c2f3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-06-24 12:55:31 +0000

    Rename the known list to the stored list
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit 3a1e622d5515676e72dbbc332be4326b8f2befa7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-21 12:27:26 +0100

    set_port_access_control_param: port is on 16 bits so we should check that it's not greater than G_MAXUINT16

commit 29098e4e4aa137bf0ca6509bc447763fa90a13e3
Merge: 3c55b2e aa54d57
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-21 12:06:39 +0100

    Merge branch 'tidy-roster-tests'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit aa54d576789e22815289c311ee78a7f5dc45dd37
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-01 19:42:24 +0100

    Define 'jabber:iq:roster' in ns.py

commit bbbe7f862020dae0f899dc4cdef221c1991e663f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-01 19:26:30 +0100

    It's Handle_Type_List not _Contact_List

commit 8e3d850fe4ddf14ef0f7613743e5d74b43b75c46
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-01 19:25:32 +0100

    Share best version of _expect_contact_list_channel

commit 381d45047c26cdcb814502353b0fa0f7b7b56501
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-21 11:40:57 +0100

    Delete old per-RTP-content state code.

commit ccb4140e2776510da324baeab59faadded0dd4a5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-21 11:38:23 +0100

    Set individual ringing/hold/mute flags.
    
    This embeds some knowledge of RTP into jingle-session.c, but actually
    there was already some RTP-specific stuff in there, and we already know
    that needs refactoring out.

commit 3c55b2ef12bff97a610043ac2834dd23f701c027
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-20 17:56:40 +0100

    EventProtocol: raise a socket-disconnected event if protocol is disconnected

commit 578285fc6febc0507709771fc97a51093ff019bd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-19 16:54:24 +0100

    all.xml: add DBus_Error_Name as external type

commit 02ceb478412346dff5798f0c3a55b253bd426f80
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-05 10:23:05 +0100

    NEWS: we implement the Port access control

commit cbd54ec912f654e22a749263bc7d0b43c5c1aa04
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-30 14:29:33 +0100

    run stream tube tests with access control port

commit fc910d9135b57d887d680489bad6b4c5c57d10e4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-14 15:50:40 +0100

    connect_socket: set the right source address if access_control is Port

commit f320e119573eab74d6bbc18e0b91fb6c67c1797c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-14 15:51:49 +0100

    check_incoming_connection: check address if access control is Port

commit 924e023a3d2a56b2907961bc5f2e900043129ec9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-30 13:05:09 +0100

    set the ip and port in NewConnection if access control is port

commit 8738a29bccf36625f925ed78f4304b171695f283
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-30 12:56:03 +0100

    check_ip_params: check access_control_param in the port case

commit cdfceed4f6a0a2f56304d80c64a4f74a04bfc87a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-29 16:39:00 +0100

    add access control port to SupportedSocketTypes

commit f1ce2480c1e587356c44b4fa62a57ca2095cf86b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-21 10:20:35 +0100

    Add separate hold, ringing and mute properties
    
    These concepts are now orthogonal at the XMPP level, and the first two
    apply to the session as a whole, so it makes no sense to combine them
    into one property on each stream.

commit 6fa9b77ac762bf68566ac48139fda715257b706b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-20 19:12:30 +0100

    Test overlapping ringing and hold

commit 2f436eafd9538c023cb75f39dc488271faa9abcc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-20 18:32:31 +0100

    Update incoming <hold/>, etc. to match current XEP-0167
    
    <hold/> and <mute/> and <ringing/> are now orthogonal, so saying a
    stream is muted doesn't mean it's unheld; thus, I had to change the test
    case.

commit bc986fc72b3a7527839a99bf5bba997d551f47cb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-20 18:22:56 +0100

    XEP-0167 now forbids name='' on <active/>.

commit f87dfec6b0338f6737fe8a41ca1b8fdbd4de0dcb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-20 17:40:03 +0100

    Renumber JingleRtpRemoteState to be flags.

commit 1d8f231ebf92ebc80be87102963a21d49a296343
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-20 14:47:58 +0100

    bytestream.py: add a close() method on bytestream objects

commit ed6cf7654a08d05e0d7b48c316057469383818a8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-20 10:04:32 +0100

    NEWS fixing crash-on-empty-<nick/>

commit 274ecc010775b94feb882f44c78e947aa3163b80
Merge: e9e92ad fe4db94
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-20 10:03:48 +0100

    Merge branch 'crash-on-no-pep-alias'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit fe4db942ed083740694d256ad194eb73c4937e5b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-20 10:01:50 +0100

    elem() supports from_ as an alias for from

commit e9e92ad6df67c2a81d771e51c082a8df7e81ac9e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-19 18:18:48 +0100

    NEWS fixing crash on Ready()

commit 8b61325f6aa2948f3c095f98bd58ddd5840db651
Merge: 5354e89 d2479d8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-19 18:06:49 +0100

    Merge branch 'crash-on-ready'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 5354e8974b9e633cc1be0b2e96abe1a5a4851345
Merge: 3ccabf1 8e6c73a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-19 18:02:35 +0100

    Merge branch 'tidy-caps'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 50b8777dca5e122fac133c13e6eb9a8d88008266
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-19 17:42:29 +0100

    Don't crash on an empty <nick/> node.
    
    Fixes fd.o #21817

commit 8590e062fdbdb84c2341bd93aa9529df3de888cc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-19 16:43:40 +0100

    Constants-ify test-alias-pep

commit d2479d86f7ed6a4e0c0dec5dae285adb31115ddf
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-11 17:53:30 +0100

    Test calling SessionHandler methods early

commit 0342c57910a4c726a886e05e54527e79b4531905
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-11 17:51:40 +0100

    Make SessionHandler.Error() cope with NULL session
    
    The assertion was incorrect: the SessionHandler object might stay alive
    on the bus after the session has died, and is secretly on the bus before
    the session is born in the first place.

commit 092e9fe4e8d07d549c382ea16d0439818119802d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-11 17:50:40 +0100

    Make SessionHandler.Ready() fail if session is over

commit e3d9eaed4bb95c28b5f65dd36e8f6e6354cf5a0c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-11 17:47:35 +0100

    Ensure MediaChannel:streams is always non-NULL
    
    This simplifies reasoning about the class, and fixes a bug where calling
    SessionHandler.Ready() could crash: it iterated priv->streams without
    checking if it's NULL.

commit 263c2814f6bca73eb5ae5eda81e34a219a138ac6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-11 17:37:06 +0100

    Remove _gabble_media_stream_close's underscore
    
    It's public, so...

commit 4df15ea74fd01ab988efe002fb7be7a19b9ec855
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-11 16:52:37 +0100

    Correct a comment about session being NULL

commit a419439e1c48b41bf484dcb082d48688d8707541
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-11 16:43:12 +0100

    make_stream_list requires session != NULL

commit 4aacbdd6f78ee533db35de845075c5bdaa785784
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-11 16:39:02 +0100

    Remove spurious comment

commit ec7a8020bf4bcdb034b99e0e138e267ca9d51deb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-11 15:43:32 +0100

    Refactor error message into _find_stream_by_id

commit 8e6c73a13f325b53e72477221cef0eb3c9158108
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-13 14:10:12 +0100

    Extract emitting capabilities-update

commit a60895a80a3815de66ac15fed110ad6984d24e3c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-13 13:51:42 +0100

    Extract emitting capabilities-discovered

commit fbc72b9b10bb69827f3045d89064491576efc4f5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-13 13:49:45 +0100

    Return early from set_caps_for.

commit 9b6eed8a08ddf18ee0b20511d08c64d576f90cdf
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-12 16:00:52 +0100

    Don't leak jid when re-discoing.

commit df45223369edd6ba1f9ada9717e7c8bdb857fff4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-12 15:35:30 +0100

    Don't pass contact_repo around unnecessarily.
    
    I didn't notice that DiscoWaiters know their own repo.

commit 388702c79b7767a3876b58437c9a9ed76dc20437
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-12 14:57:26 +0100

    Remove write-only trust_inc variable

commit 25e55c1c7467a95afe2eb5a87eb0284127b62043
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-12 14:23:32 +0100

    Refactor satisfy/redisco/keep-waiting loop
    
    I believe this logic to be approximately the same. I changed the "enough
    trust" comparison not to subtract trust_inc. I believe that that was
    subtracted to compensate for waiter_self being included in
    disco_waiter_list_get_request_count (), but that's not necessary having
    already removed waiter_self from waiters. (In fact it was not correct
    before: waiter_self might already have been removed from waiters,
    depending on the list's order.)

commit 6af9a243c7f7733c708746bc414d2d87f4eccc30
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-12 10:09:08 +0100

    Note that we should respect some badly-hashed caps

commit 0d6d0aae82d62df28daeb6904d2990dba7f02d08
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-12 10:04:49 +0100

    Extract satisfying a waiter to a function

commit addaddfb7a31463ec86e965579fab7bcfcdd27fc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-12 09:52:58 +0100

    Don't break contact caps on non-SHA-1 hashes
    
    XEP-0115 doesn't say that clients have to report SHA-1 hashes, only that
    they have to understand them. So this would break contact caps for a
    client which has decided to use SHA-256.

commit a1330c2e398a0052a446ea7ce11ba903ac4aa986
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-12 09:44:43 +0100

    Improve debug message for caps hash mismatch
    
    Also remove a comment which

commit 2c4ce491f264799319ffb1afc95888191d18e034
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-07 11:42:10 +0100

    Remove a now-unused variable

commit ad7b848671cd4a2469da454bdbcfada2f89e91ff
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-06 17:17:51 +0100

    Extract sending more disco requests to a function

commit 9d5897bcf4f1264896de3d36721068930683a6dc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-06 16:56:50 +0100

    _caps_disco_cb: Extract parsing contact caps

commit acc174bf2cddc47772bfd3665162bd24cfe6ea6e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-06 16:50:19 +0100

    Parse caps after sanity-checking
    
    This avoids having to free the stuff we just unnecessarily parsed.

commit 511b93ef794dbc1ca7bf19329c05b03fe1cd98e6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-06 16:47:23 +0100

    _caps_disco_cb: extract finding matching DiscoWaiter

commit 5491fb9ae8f4f96fd2e85b57f7d1c92cb7ab6cac
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-06 11:04:27 +0100

    Refactor retrying on disco failure to a function

commit 514002c8a8624e69f98c2798c81864846989ad49
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-05 19:53:49 +0100

    Reuse caps table when parsing caps

commit 006ca729ab84f602738729e2a117274de7c4b592
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-05 18:35:40 +0100

    Add missing caps flags to table in capabilities.c

commit 3ccabf147a117d9ac555caa86dace1cc062f3d56
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-19 15:50:33 +0100

    NEWS about randomizing resources

commit 1667e88002e76a2271e8d98703299f5438bb94f0
Merge: 70968ab 5bc4b8b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-19 15:45:53 +0100

    Merge branch 'random-resource'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 70968abbb20a5097d03c92c8a3288707bdfe1e2c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-19 14:26:15 +0100

    fix typo in comment

commit dedc7f672a7a4fc101400091b3f2fd9d48df6fc7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-14 16:47:16 +0100

    NEWS: we implemented the Credentials access control

commit d4745a633d0e91dd7e183072e7fc75aa7810c170
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-14 13:23:50 +0100

    connect_to_cm_socket: the byte sent is meaningless

commit fe89504e59c0dc390c23db082564ee8c845a8743
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-14 13:20:18 +0100

    credentials_received_cb: don't check the received byte
    
    The byte is meaningless in the accepting side

commit 1dd0e0a3dc636f92be1112d8e7e8d16973be1ac0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-14 13:14:58 +0100

    the Credentials access control doesn't have an associated variant
    
    After more discussion we decided that the Credentials access control
    shouldn't have an associated variant as the byte is not part of the
    access control process.

commit 6e9febda3e974d4487f3cd4a42863152c3f130dc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-12 17:56:34 +0100

    run stream tube tests with Credentials access control

commit 58874aa098234bb6e696c792d4f7668813f8ab30
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-12 17:56:05 +0100

    accept-muc-stream-tube.py: use connect_to_cm_socket helper

commit be8a4433eb8c8334ba73662e0919a31624830019
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-12 17:55:49 +0100

    accept-private-stream-tube.py: use connect_to_cm_socket helper

commit f2ff3d1d4c733ebaa3599c213d52a87527396e27
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-12 17:55:02 +0100

    tubetestutil: add connect_to_cm_socket() helper
    
    This function connects to CM's socket and do the needed bits to auth the
    process according the acces_control mechanism.

commit d71b5b73af0d59b3b99a7308b9c746624b90c653
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-12 17:14:44 +0100

    tube-stream: check_incoming_connection: check credentials

commit 750dfef033cc89e2c6b827c5908707c32b2aa458
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-07 15:58:05 +0100

    check_new_connection_access: check cs.SOCKET_ACCESS_CONTROL_CREDENTIALS

commit 1afc89bbbab8e17e26152794f131f21dc5449ece
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-07 15:50:18 +0100

    offer-private-stream-tube.py: disable echo before we received the access
    control byte

commit c657abbebd0efcc1cded879bc57512f2268fcc9f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-07 15:49:39 +0100

    offer-private-stream-tube.py: block the transport until we check the access control

commit f696c1f5db7e19df568eb8f79aef89f71f985c07
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-07 15:44:53 +0100

    offer-muc-stream-tube: block the transport until we check the access
    control
    
    We need to block it to ensure that the access control byte has not be
    read yet.

commit 623a2d9fb5aeb38573948663970a0657f4923e95
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-07 14:37:19 +0100

    tube-stream: fire_new_connection: send credentials if needed

commit 411e4da9c8b808d23da3db767f0badb009367063
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-05 10:12:00 +0100

    check_unix_params: check the credentials param

commit 8c5faf8d5bff722632559788d9d36724e24898f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-05 10:01:31 +0100

    add credentials access control to SupportedSocketTypes

commit dffa08f2373ba213769801ba40b1c8520abffa0a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-19 10:17:53 +0100

    sync tube spec with latest DRAFT

commit f2dac640b7bcfdf1b62c3761d80e7771274bb782
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-15 11:45:03 +0100

    sync Gibber with Salut

commit 5bc4b8b142cec9a296e596ce0e4133b949eca729
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-14 11:34:20 +0100

    Test making two connections to the same account
    
    This checks that Gabble correctly picks a random resource.

commit 98aec4bc801971b3e52746c654f6634b4e276a44
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-12 19:01:26 +0100

    Default resource to Telepathy.<random hex>
    
    This prevents users who don't know what a resource is being confused
    when Empathy and their N810 fight for control of foo@bar.com/Telepathy.

commit 59d068ce06cb75e8063450b329bc23a374f06d7c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-14 10:50:25 +0100

    Calling Disconnect twice does not "destroy object"

commit b031c0b5b6212350e19ef3f2fc8e0cb3ed53b269
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-13 18:34:49 +0100

    Don't assume resource='Resource' in Authenticators
    
    If 'resource' is set in the connection parameters, then check it's
    correct in the Authenticators.

commit 23df289715a6a09fd776a97db99470fa31821b0f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-13 10:44:42 +0100

    Explicitly use JINGLE_DIALECT_V032, not default.
    
    I think this is clearer, and prevents spurious warnings about the ERROR
    case falling through.
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit ae1438ace1ecbb5e25915fefdf3592ae0291e03e
Merge: 5c7db02 23ab7f9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-12 15:22:41 +0100

    Merge branch 'capabilities-discovered-fixes'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit 23ab7f9257e016850614a6c4638ba9259f2ac568
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-12 11:12:02 +0100

    Don't repeat RequestStreams for the wrong handle.
    
    This papered over a bug where capabilities-discovered was emitted for
    the wrong handle, and now is harmless but silly.

commit 1fc4cb2ec959683f14a8ff1e1706f57ec874b2c9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-12 11:06:04 +0100

    Emit capabilities-discovered for the correct handle.
    
    Previously, suppose contacts x and y have the same caps hash, and we
    discoed x. When x replied, we'd satisfy both waiters, but emit
    capabilities-discovered(x) for both. This should have made
    RequestStreams erroneously never terminate in some cases (it's waiting
    for caps that apparently never arrive) were it not for a bug in its
    capabilities-discovered callback ...

commit 5c7db02fecefefc0753f36275f300c9bbc837e3b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-12 10:42:49 +0100

    tube-stream: add stub of check_incoming_connection

commit e5c02469448b487f7e4f658a6523cb9c3ad8d43d
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-05-11 18:51:47 +0100

    fix typos

commit 65bf32aea50cf564657497a9ecafe6f7638c2fed
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-05-11 18:45:47 +0100

    Improve comment

commit 9b1178ccd192a30467b380ca99e960c5bbef382e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-05-11 18:18:24 +0100

    Ignore description-info before receiving codec data

commit 91cce687bcc16542f5410ee1bec537d51e754ef2
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-05-11 18:17:53 +0100

    Correct ordering in debug statement

commit 4c09009d31a7d6810d64daca63c6c4fc0db0c9cb
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-05-11 18:16:47 +0100

    Only send codec information and description updates if we're really ready

commit d6c25bebd8f8fc9706614761a30245a258938c3f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-05-11 17:45:13 +0100

    Test calling CodecsUpdated before SupportedCodecs
    
    Older gabble versions were triggered into sending description-info before
    accepting a call if CodecsUpdated was called before SupportedCodecs

commit 06ad739c4779e9cd673d223fb3db620aea9e87ff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-11 13:14:52 +0100

    file_transfer_helper.py: break a race with the FileTransferStateChanged
    signal
    
    FileTransferStateChanged can be fired during self.bytestream.get_data()
    if we are receiving data from a socket (SOCKS5). Break a race by
    not waiting for this signal if it has already been fired while we
    received the data.

commit 00a9cc75de3f4fded6b68482c4a23cbed04cb774
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-11 12:35:29 +0100

    bytestream_factory_iq_si_cb: explicitely say that ID is a muc one when
    ensuring its handle

commit a2f68264b1fc09dc2cbde7cd232068b3f0635755
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-07 18:04:33 +0100

    start dev of 0.7.28

commit 70804847864b57506e03a990220d90b7b31a6798
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-07 18:02:18 +0100

    start NEWS for 0.7.28

commit b34f79095598c53173c7062aa7f7ee0b0835c296
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-07 15:42:29 +0100

    pass the queue to check_new_connection_access
    
    This will be useful when we'll check the byte control

commit 42200bb1e5c5223ec992ef84381f02661ccd3aad
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-07 15:38:08 +0100

    add block_reading param to create_server

commit 42ed12e2611d36ec8d68f7e372fb7043c21496a5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-07 15:14:31 +0100

    add echoed attribute to Echo so tests can disable echoing if needed

commit a910197d14aad9639313b085850389af13f7d6d7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-07 15:08:03 +0100

    add block_reading optionnal arg to EventProtocol
    
    This can be used by tests which want to control when starting to read
    from the transport.

commit ce3a82e5b30ca17e5b83cbc700062f9795b1e45a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-07 15:29:39 +0100

    Version 0.7.27

commit 1140eee86cdd874d2a33db6767bce31716f3cf80
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-07 15:28:58 +0100

    Release name, date, and English corrections in NEWS

commit 5948c41b2eedd30a77b3088caea3607438792bd9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-07 15:26:34 +0100

    More NEWS for 0.7.27

commit 3bd147f4572f1bd523d89ce1fa7b400497554c3b
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-05-06 17:55:35 +0100

    Don't assert when there is no update method, wjt will probably fix it rsn

commit 01baa94c0ec2e87931d0253b4d7afa68cd07bb50
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-05-06 17:47:05 +0100

    Don't crash if the per channel manager caps aren't initialized

commit 6479c9ab2404174ef84907a56ee6a8d325775023
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-01 11:07:06 +0100

    Remove unused MediaStream signals
    
    These haven't had anything attached to them since September 2006...
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit abb6e26ee9fca8f7cc396ad0a0199ad0d7c6c2ae
Merge: 8d43f4b b6c67fa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-06 13:54:05 +0100

    Merge branch 'early-description-info'

commit b6c67fa6f501f35240a0560c2c4ce61c069d0f57
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-01 10:25:57 +0100

    Explain why SupportedCodecs is called redundantly

commit 8d43f4bafcd1f34f84644393d49e738f05daa2b1
Merge: 084bb4d 8e9587f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-06 13:45:05 +0100

    Merge branch 'jingle-content-lifecycle'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Dafydd Harries <dafydd.harries@collabora.co.uk>

commit 084bb4d59812d6786054c029c1a44c0484070908
Merge: 729db9c d82da40
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-06 13:32:06 +0100

    Merge branch 'trivia'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 8e9587facf8bf5cd486b1807b9410e998b0d258d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-06 12:09:28 +0100

    Document that JingleContent:removed => "drop refs"

commit 36e24987527be9be5e7a2c71bbd344ff58be4424
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-06 12:00:44 +0100

    Explain a surprising g_object_unref

commit 729db9c584de41ac464834973bfb532f0c1f4070
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-05 18:39:04 +0100

    use python2.6 for tests if available

commit 4e49501bf9bada7011b1c9dfab5c5f53b1b7456b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-05 18:24:15 +0100

    test-avatar-async.py: use hashlib instead of the sha module

commit cb10a4bf57e9bc4ab6fc9239aff6b5b1267ce274
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-05 18:22:22 +0100

    bytestream.py: use hashlib instead of the sha module

commit 17c9967b51b53ea8009660a0cc3ad98c9b937373
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-05 18:21:35 +0100

    file_transfer_helper: use hashlib instead of the md5 module

commit a00c160bfbab15c9d2e2bcc0309b201354777513
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-05 18:19:16 +0100

    gabbletest: use hashlib instead of the deprecated sha module
    
    This is fine as twisted tests already depend on python >= 2.5

commit 9699ad500cc1e50a45b1c738c08e80e4f3f18f55
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-05 18:24:39 +0100

    remove redundant argument in elem_iq call

commit f1d5d93d981b5532328357ecec51259b40655cc1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-30 14:24:21 +0100

    offer-private-stream-tube: check NewConnection access_control_param

commit 066c2c4bdb953f8fab6a91000ac6c5c0c824bef8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-30 13:57:45 +0100

    Echo(Factory) is now a subclass of EventProtocol(Factory)
    
    So test can access to the protocol too if needed.

commit 99fffe4053846f152202b1d5dab42ac8e12c0748
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-30 13:57:05 +0100

    EventProtocolFactory: add _create_protocol() method so subclass can easy override it

commit 7d2d77d262a02c4af357a10816513cb46acd59d2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-30 13:15:20 +0100

    offer-muc-stream-tube.py: check NewConnection arg using check_new_connection_access

commit cb52504b4f2e1eef85c037d85e33e54acb52020d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-30 13:14:44 +0100

    tubetestutil: add check_new_connection_access

commit eb4454c5ec37c8fad30c61497e617e36e745d3ee
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-05 11:01:13 +0100

    tube-stream: disconnect the signal on the transport connected signal
    
    It is not disconnected with the existing
    g_signal_handlers_disconnect_matched call as it doesn't have the self
    pointer as user_data.

commit cc7d79a12c847cac13c09fd23efa92cd19fc6cc0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-05 10:49:35 +0100

    indentation fix

commit 0e98f407ac77147d41e3bf36e972a0e4d31cbdd3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-30 13:02:10 +0100

    tube-stream: fire NewConnection once the transport is connected
    
    Transport have to be connected to allow us to get access control param
    from it (as the source port).

commit 354f35a9ae40108a89004312845f758db73c6ba1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-01 10:20:51 +0100

    Add regression test for early description-info

commit 6e4a1b58181e9ce54040f7c1b64fb60a0004517c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-30 20:13:30 +0100

    React to SupportedCodecs once when necessary.
    
    For streams that we add, we never need to do anything in response to
    SupportedCodecs. For streams that the peer adds, we need to send an
    intersection exactly once.
    
    Previously, the latter was mis-implemented as "ignore calls to
    SupportedCodecs once the peer has sent us description-info". This worked
    fine except when the peer sent description-info before we sent our
    intersection.

commit 10c81144abc24d2e7d9680e824c24fa17b33f002
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-30 19:22:43 +0100

    Don't prematurely clear remote codec list
    
    Clearing remote_codecs after emitting SetRemoteCodecs defeated the check
    in new_remote_codecs_cb checking whether the new codes are an update or
    not (they always appeared not to be).

commit b42a630ae79f2e15103ab4eb85c0350722d50554
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-30 19:21:27 +0100

    Correctly empty remote codec list on update
    
    Previously it was just freed, rather than being replaced by the empty
    list.

commit 105f3d96a4cb3c0928516a912e00b07b7f169221
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-30 17:22:36 +0100

    Tidy test-description-info a bit.

commit d82da404bf8be2547aae5513645802cd915f8856
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-01 21:08:01 +0100

    Fix comments about (const gchar **) cast
    
    We *are* sure. :-)

commit fff3dca60c2091710391d423fff25a0b7dd1b9c1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-01 21:03:19 +0100

    'deny' is NotImplemented on !GTalk.
    
    By the definitions of NotImplemented and NotAvailable for CreateChannel,
    the former is certainly the right error.

commit eb94da8c4690128de1a0205f5ce948da3c0551c7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-01 16:00:22 +0100

    Remove unused variable from OfferFile

commit 0c908a0fc6aad20a687bf11b7085a0b586805441
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-05-01 15:54:58 +0100

    Fix accidental switch fallthrough

commit d146dcb54df5dbf65e1295ffeb07f3ef647fb879
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-30 14:29:10 +0100

    accept-muc-stream-tube: break a race

commit eb259a2b9a1301cc6d755007646668adb22347a4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-29 15:07:47 +0100

    tube-stream: always fire NewConnection signal
    
    There is no point to fire this signal only when the tube has been
    offered using the new API.

commit d44e4f503473d7a24032a6c4630692bf75e59846
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-29 15:00:18 +0100

    sync to latest tube API draft
    
    org.freedesktop.Telepathy.Channel.Type.StreamTube.DRAFT.Offer() doesn't
    have a access_control_param any more.

commit 3d4e682493fa4369ef05dfd623c644ab49c424c9
Merge: 4626619 018496d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-04 16:21:11 +0100

    Merge branch 'tube-tests'

commit 018496dbbeed27c7518ff8799e3a74739bcce113
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-04 16:17:28 +0100

    exec_stream_tube_test: make one exec_tube_test call per type of socket
    
    So it's easier to catch the bugged type if a test fails.

commit 4626619ee025e06fb278ee5df928673e0854990f
Merge: 6cf3670 2b89aca
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-04 16:13:48 +0100

    Merge branch 'tube-tests'

commit 2b89acafbb569fd8b2b8a7497e3799beb23d8eff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-05-04 16:13:03 +0100

    tubetestutil.py: fix typo

commit 6cf36704acb35f96edf72d858ae322ecc03cc22c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-30 11:03:34 +0100

    sync gibber from Salut

commit d78f4c636c2eb2249ce92b7b0bab05d3c4640cc4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-29 17:58:48 +0100

    Ensure 'removed' is emitted for removed contents.
    
    Previously, if Gabble sent a content-remove, then received an incoming
    one for the same content, and didn't get an ack for the one it sent
    before the content was destroyed, 'removed' wouldn't be emitted. It's
    easier to reason about the lifetime of a content if 'removed' is always
    emitted.

commit c067b5d41f2bc73638cf41660697fa2204259995
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-29 17:57:03 +0100

    Meaningfully test a content-remove collision.
    
    The comment on the previous incarnation is wrong. Gabble *shouldn't*
    ignore the incoming content-remove and send its own. But since it hasn't
    received it when RemoveStreams is called, it will send its own.

commit 60af0886e3c564327a8b59c31d4aaa9e12a0923e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-29 17:25:30 +0100

    Don't leak streams on SessionHandler.Error()

commit b661326c386310caaf5f8ede730aa91b525b15e7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-29 16:27:15 +0100

    Test content-remove ack arriving after terminate.

commit 4588c41cbe926b097659722ae8fa95cf72c74f4c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-29 15:56:50 +0100

    Fix some JingleContent reference leaks.
    
    g_object_get()-ing refs the returned object. I decided it was cleaner to
    use gabble_media_stream_get_content() (which doesn't ref the content)
    anyway.

commit 52938bfadf0c65486eb3ba8d17a2b3cd1074793b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-29 14:59:12 +0100

    Unleak a JingleContent ref

commit 1ae623974dc628f7aee1f413f6fd68f2bcd8c1e7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-29 14:58:23 +0100

    Include object address in JingleContent debug messages

commit f83071a7d8759ca70d6ffb19e3bd67d797deedf4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-27 17:43:47 +0100

    Simplify gabble_jingle_session_send, fixing a leak
    
    Previously, gabble_jingle_session_send passed the JingleSession as the
    weak object to _gabble_connection_send_with_reply. This worked, but
    meant that the jingle_reply_ctx was leaked for IQs that didn't return
    before the session was terminated.
    
    By removing some unused generality from the callbacks, the context
    struct was removed completely. Now the weak object is supplied by the
    caller; since only two callers actually use the IQ reply, this wasn't
    invasive to fix.

commit d9ae717023dc5c8b8c488492c8e8c8984dc42ee6
Merge: e79dbaf b0b23c3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-30 15:20:25 +0100

    Merge branch 'jingle-compliance'

commit e79dbaf5a235a7673b1a3eaa5d5342a14399439c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-04-30 12:48:53 +0100

    Document the JINGLE_DIALECTS environment variable

commit 1071eaec0c70d62aa1c938ef2620af98e793222e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-04-30 12:33:58 +0100

    Add ability to only test certian jingle dialects
    
    test_all_dialects now checks the JINGLE_DIALECTS environment variable to decide
    which dialects to test. If it's not set all dialects will be tested. When set
    it should be a list of dialects seperated by commas. Current supported dialects
    are jingle015, jingle031, gtalk03 and gtalk04.

commit 69c4d13f4b178349b99cd0317a4a18a59c4d363c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-04-29 16:32:16 +0100

    query jingle dialect features not families
    
    if we want to know if a specific dialect supports video, ask if it
    supports video instead of asking if it's part of a certain dialect family

commit b0b23c34690da242e11b4a708340588772d90ca1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-20 09:48:13 +0100

    Return <unknown-session/> for unknown sessions.

commit b0b22d4d417287f1563f0fd0e0d0055d8402098b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-18 13:57:31 +0100

    Respond to removal of last content with terminate
    
    XEP-0166 says (in a footnote!) that if your peer sends a content-remove
    that leaves the session empty, you should send a session-terminate.
    
    Making this work is a matter of deleting some code guarding against it
    happening, and then deleting some other code (which never ran because of
    the aforementioned guard) which was intended to implement it, but in
    fact was redundant and crashed if allowed to run because the same "no
    more contents ⇒ terminate" logic is also in content_removed_cb (which is
    responsible for terminating the session rather than sending a
    content-remove for the last content).
    
    Deleting code is good, right?

commit 0047120bbda2eb9aa45beec4b5c4f30339d50ad9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-18 13:32:07 +0100

    Port test-content-adding-removal to jingletest2

commit 3a1150fa3804fee9c501ea438532264cbf14fbf4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-29 18:45:40 +0100

    run stream tube tests with IPv4 as socket type

commit d3a51afd8a89361bcbbe6c28bd63f42ca3fd5cb1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-29 18:45:17 +0100

    offer-private-stream-tube.py: use new set_up_echo

commit 7d502d65aecb5cc071c0e321ae4a2a5a2a88cf20
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-29 18:44:56 +0100

    tubetestutil: re-implement set_up_echo using create_server

commit bb574baef66e35407a5023b9793590385ea1c1c7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-29 18:44:11 +0100

    offer-muc-stream-tube.py: use create_server

commit 3648bad38759f33bbb23608b1d607607900cd4ed
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-29 18:43:30 +0100

    offer-no-caps.py: use create_server

commit cf7d50277790184b0c7b3a86dc379f8d30eb247f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-29 18:43:02 +0100

    tubetestutil: add create_server

commit 4fddc278bf56c505c0a56f774e32afab58846445
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-29 18:42:20 +0100

    ensure-si-tube.py: no need to set up echo

commit d4d127ce775bd03c41472367c3695367d27a1991
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-29 17:40:41 +0100

    accept-private-stream-tube: use connect_socket

commit 7bb01d124bb6bd1058999e6e38750f0c04bccc1c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-29 17:40:23 +0100

    accept-muc-stream-tube.py: use connect_socket

commit 188e9b4454568d475a9a866941defcc359bd9e72
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-29 17:39:37 +0100

    tubetestutil: add connect_socket

commit 5be7684585e6edf5b4c02ae21f668f57d3a9b3d5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-29 17:21:27 +0100

    run stream tube tests using exec_stream_tube_test
    
    Stream tube tests now get the address type, access control and access
    control param as parameters.

commit 93e601d6ab292946734c4eed3bdab3bff74998cd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-29 16:32:53 +0100

    test-get-available-tubes.py: use assert* helpers

commit b55986bda1a585465136c12ff7b1b99d7660d81c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-29 16:15:00 +0100

    test-get-available-tubes.py: test using new API too

commit 3369476fe9e12ccaadfeb92a1db8515b53d2fb03
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-29 16:05:04 +0100

    test-get-available-tubes.py: use more constants

commit 50c88a6881999146c203417bd2008e0fb6292b0e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-29 12:32:20 +0100

    NEWS: document tube API change

commit 48d3f5de3bd39c51d927925c6908d5d9ee6b12c4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-29 12:24:42 +0100

    Sync with latest tube spec DRAFT
    
    {Offer,Accept}{DBus,Stream}Tube methods and the StreamTubeNewConnection
    signal have been renamed.

commit 654246b152e630dae459b76be4fca0472e3a7e56
Merge: 147fa58 fc2a2e9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-28 14:13:03 +0100

    Merge branch 'full-jid-as-fallback-alias'
    
    Fixes fd.o#21295.
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit fc2a2e9dad0c857debe22a21e9325befccf42a0f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-28 14:11:20 +0100

    Explain using local part as MUC Resource

commit 147fa5834680583da510f6d77a5e241b840acc4a
Merge: 481acb3 5d0a31b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-28 14:02:06 +0100

    Merge branch 'no-avatar-for-you'
    
    Fixes fd.o#20422.
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 481acb3e9b846423410d7d679142f569739b3792
Merge: 4cc2eae 507aee1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-28 13:43:21 +0100

    Merge branch 'connection-errors'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 4cc2eaec55a292996cc4dae141abfd797607e7e5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-24 15:13:51 +0100

    Avoid "unknown IQ" messages for Jingle responses
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit d2cf2a7ee663e37ad72b7facda3db349918728a9
Merge: c8d2033 360dd3f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-28 11:26:25 +0100

    Merge branch 'registration'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 5d0a31bbb6fe26c6d06aae28ab70839282d8dab3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-17 19:58:45 +0000

    Test that RequestAvatar throws the correct error

commit 0b67ad6cd1ab71ffd248ca43a3fd4b9ef21000d5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-17 19:58:20 +0000

    Map vCard/XMPP error to Tp error from RequestAvatar

commit ffa1fd5d4b89a2d7c2aa440dd3e19d9cce42ad99
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-17 18:59:32 +0000

    Test SetAvatar's error when server rejects avatar

commit dbd1c114525345f4e4a2e7728f2a4f7c04c7c93a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-17 18:58:54 +0000

    SetAvatar: map XMPP/vCard error to TpError

commit 507aee11e8d1fb2878a20e6135995986481972c9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-16 14:12:30 +0100

    Expose <host-unknown> during login as Auth_Failed

commit 4335304b13513598b68289d3d2b85f683e8ded17
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-16 14:12:20 +0100

    Allow tests to specify a custom authenticator

commit ff91e6b685114be45b65f8072907bacbf15137dd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-16 13:42:56 +0100

    Test disconnecting on <conflict/>

commit 7e17e527dca7488b4a1084a5f8bee31f61b2ac96
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-16 13:16:44 +0100

    Prevent LmConn disconnection callback firing twice
    
    This currently wouldn't happen, because Gabble happens to only react to
    stream errors that Loudmouth ignores.

commit fc118d2c72af22749ac30486817101bab0d7fd19
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-25 11:39:08 +0100

    Simplify _gabble_connection_get_cached_alias

commit f037aaec82215f95bdfaa8c1682cf69aae8d286e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-25 11:27:16 +0100

    Make GetAliases etc fall back to the full JID
    
    Previously, Gabble fell back to the local part of the JID; if the
    contact is foo@bar.com, it would default their alias to "foo". But this
    is in violation of the spec, which says CMs should "[fall] back on the
    handle name if [no alias] is present".
    
    Gabble's old behaviour was slightly nicer on UIs that just want to show
    something to the user, but make it impossible for UIs to tell whether a
    contact actually has an alias or not. The real fix here is to separate
    aliases into petnames and nicknames, but for now this makes Gabble
    spec-compliant.

commit c8d203395c85b727a50e9d9092afde8d6c7d6081
Merge: 24e0819 ee41d8e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-22 16:44:11 +0100

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble

commit 24e08191ab9a346d96ad2bf5f781a8c141e045c6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-22 16:40:13 +0100

    offer-muc-stream-tube: use the new API tube too

commit 9b3aaf5d7bb53a3ae41ca080bf2251f8a49e4a1a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-22 16:13:42 +0100

    offer-muc-stream-tube.py: factor out connect_to_tube and use_tube

commit a839e74cbede50ea90be5f7fa50835504892a425
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-22 16:03:24 +0100

    offer-muc-stream-tube.py: explicitely catch the old StreamTubeNewConnection signal

commit ee41d8ef67a1e40ace213c59c84c410290da18b8
Merge: 858635b 8b80687
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-22 15:12:11 +0100

    Merge branch 'jingle-test-sanity'
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>
    Reviewed-by: Dafydd Harries <dafydd.harries@collabora.co.uk>

commit 8b806875d5c799cb68ad3690673a4f6777e61e9a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-22 15:10:13 +0100

    Summarize the various outgoing call APIs.

commit 3b41a605f5225246932b67726d7308720204f7cd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-22 13:22:59 +0100

    Just check that InitialAudio/Video are in RCC
    
    A more thorough check is now in outgoing-basics; the previous check here
    would break whenever we add more allowed properties, which is bad.

commit 37d20789a9d229ff8b6a2888e2109f804e687fb5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-22 13:10:54 +0100

    Sanity-check StreamedMedia RequestableChannelClasses

commit b7ba81c02675a0b09aede86507d22a6054a7ad1b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-22 12:37:21 +0100

    Rename test-incoming-call to incoming-basics.
    
    This matches outgoing-basics.

commit b46329c582932687c1c94523c30b03dc9de6048b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-22 12:33:21 +0100

    test-dialects-incoming was subsumed by test-incoming-call

commit 1c460aa792ae6531c87bc666b461075d44859234
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-22 12:31:12 +0100

    Make test-incoming-call test all dialects.
    
    It tested one dialect much more thoroughly than does
    test-dialects-incoming.

commit 05d7da0cd80e12788277518a8f4950bd98c3112a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-21 18:40:53 +0100

    Rename test-outgoing-call-ensure to outgoing-ensure
    
    (Following the gradual move towards losing the redundant 'test-' prefix,
    and to vaguely suggest that it's been audited.)

commit 6affbb266226326b5a6381bd42cb3449af10ead2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-21 18:40:08 +0100

    Tidy up test-outgoing-call-ensure

commit e1df99d904ec7ea741b3c85b1162e33b8340c044
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-21 18:25:53 +0100

    Use wrap_channel in jingle/outgoing-basics.py

commit 4ff1877c6fb044c260db938b89b0e9e785ba0134
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-21 18:21:28 +0100

    Rename test-dialects-outgoing to outgoing-basics.
    
    All other remaining outgoing call tests test particular scenarios,
    rather than the basics of the call-requesting API. This seems like a
    better name.

commit 85408fa4191c6f5b77740d3a08636d6b39b808ee
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-21 18:18:34 +0100

    Absorb outgoing-call-requestotron into dialects-outgoing

commit 5b6398c5a151eb5291e94e6e325128db1722f673
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-21 17:46:24 +0100

    Test all RequestChannel variants in test-dialects-outgoing

commit 4e22f6ba70d684b2c1631e32808497563798ff17
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-21 17:15:49 +0100

    Absorb test-outgoing-call into test-dialects-outgoing
    
    It's stupid to have two tests testing roughly the same things

commit 50a873587dce78bae933d39cf05b8acc82ebe0d0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-21 16:53:53 +0100

    Expunge expect_racy from the test suite.

commit 98a984fe9fe6c55a1a42b90192b3ade2c426e1d4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-21 16:40:18 +0100

    Remove spurious comment

commit 858635b03327a0579ed444bb1f5b260fea03833e
Merge: 0b4e269 739cd04
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-21 16:08:17 +0100

    Merge branch 'socks5-proxies'

commit 248efd034ef4f7bdc44925c35c42ca57340de36d
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-04-20 17:10:15 +0100

    Use generated signal emitting function instead of g_signal_emit_by_name.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 25dfaf0e6f83bc44df073a35df8a4a327710e912
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-04-20 16:53:53 +0100

    Emit new-debug-message with the correct arguments.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 1cb9cbeb191b46e1ba26848eb540d2405164aabf
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-04-19 15:41:34 +0100

    Fix misc. problems and remove some code duplication.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 0be75822fb642736fb5925fabf264dc1e5c54c30
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-04-19 15:19:23 +0100

    Split logging to debugger into another function.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 2791d4be61a68d96ece1b9e121a8422e55622951
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-04-19 15:03:32 +0100

    Record all debug messages regardless of the GABBLE_DEBUG environment variable.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 018fb0e97d6cc2d6e040552f25a48624554e5c1f
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-04-19 15:03:03 +0100

    Only record in debugger if message is not from gabble.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit bb1a9db6a645df2268caf4959d6e86c88c91e582
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-04-19 13:52:29 +0100

    Fix indentation.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 5fe3c1093a5a582b07a01b21079cbab7645e0643
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-04-19 13:49:01 +0100

    Split the GLogLevelFlags -> GabbleDebugLevel into another function.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit a2c7cc90be0d35371bd8d39584c3e2ccee8bfeba
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-04-19 01:45:16 +0100

    Record log domain and levels and expose them on the Debug interface.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 0795f6b65bba59ed0dd5947f5e985f0bf2e762d8
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-04-19 01:42:31 +0100

    Added domain and level to Debug interface.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 41d6eb2daffe7c2ac60071094c47be082fd6add5
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-04-19 01:34:06 +0100

    Override the default log handler, and change log domain.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 80624afa19061a682d0223c05b06b400909deb5b
Author: Dafydd Harries <daf@rhydd.org>
Date:   2009-04-10 18:20:45 +0100

    initial implementation of the debug interface

commit 6a2e59723659731dcd37cf725d07160908e93cc0
Author: Dafydd Harries <daf@rhydd.org>
Date:   2009-04-10 18:10:24 +0100

    add straw man debug interface

commit 0b4e269ca547cc91a452035aca11bb3e37e47120
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-04-18 23:04:40 +0100

    Keep QUIET_GEN in tools/shave.mk and include that in the appropriate Makefiles.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 03e8dea50c77083934aa4c5da7503af3a301ca15
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2009-02-22 16:53:33 +0000

    Converted gabble to use shave and make make output legible.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit c872b2b5430682c8c0a2782af6fa6a7f7b5e64e5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-21 14:39:32 +0100

    Include StreamedMedia.FUTURE in EXTRA_DIST
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 739cd047ca67fc8d6f9414434b67ed829bd0078f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-21 13:52:45 +0100

    add a timer when querying proxies so we'll query more if needed

commit 23a5800f1f215fdcaa47de9457ac85a32fd8af33
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-21 13:21:55 +0100

    bytestream-factory: only query few SOCKS5 proxies instead of the whole list

commit 8a5e41f86bb2d0618ab60d67d447427490f0533b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-21 11:20:50 +0100

    factor out randomize_g_slist

commit af5c74b1b40aea2e713dabb0346f0ab12ba45db8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-20 14:45:47 +0100

    remove bugged proxies from GABBLE_PARAMS_DEFAULT_SOCKS5_PROXIES
    
    127.0.0.1 is actually not a great address for a proxy

commit eba71303a66688da9207f8f84b1dfa72d7541b28
Merge: 95b1646 e631b72
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-20 13:59:40 +0100

    Merge branch 'the-daily-valgrind'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit e631b7273fc0d2cfbdabe4d3079c972eec2567fa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-15 20:32:01 +0100

    Increase Jingle timeout in tests.
    
    This works around spurious failures when Valgrind. (The timeout should
    go away at some point anyway...)

commit 60ffef45aab19f07a98300fd01d63a7832707419
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-15 20:27:02 +0100

    Unrace test-outgoing-call.py

commit 2dd0cc5b4d65c78cfc73985bfb3977a21e8c9a0f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-15 20:17:38 +0100

    Unrace jingle/accept-extra-stream.py

commit e9d61baf8e80f7bd079365a8671e3853e557c2aa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-15 20:04:28 +0100

    Don't leak Jingle content and session names

commit f244a45035ee68670e09a59e049e05487f039733
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-15 17:51:08 +0100

    Separate destroying and removing _delayed_request_streams_ctx
    
    Disposing a media channel destroys all the delayed request streams. We
    don't want that to modify the GPtrArray while we're iterating it.

commit e8cc868ae7d2f72ee68b97daba8b267db4db728e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-15 17:34:16 +0100

    Don't lazily alloc/eagerly free delayed_request_streams
    
    This adds complexity for no gain.

commit 36759632d4827ec6177cd2b341bdad05e1401a7b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-15 17:34:04 +0100

    Fix a couple of leaks.

commit 360dd3fa46e731879143d8a56efabad0665f0306
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-17 11:20:22 +0100

    Not needing username or password to register is weird

commit 161a5445ac7170218e40be845e946430195141f5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-17 11:19:28 +0100

    Simplify registration's get_reply_cb

commit 31adcf17f087cebd3a059fe1c7ee7d21b9ba7609
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-17 11:01:50 +0100

    Don't try to submit incomplete registration forms
    
    Previously Gabble violated a MUST in XEP 0077 by not caring if it was
    supposed to provide <email/> or other information.

commit 95b16460b75c26ab4f364bbaa8107bdfd8ad2be0
Merge: 3cd0440 d0a96dd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-17 14:58:40 +0100

    Merge branch 'master' into file-transfer+capability
    
    Conflicts:
    	NEWS

commit 3cd04405f7add28db12fbd0f86f3790b2d42c70b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-17 14:51:36 +0100

    ft-manager: probably cast the caps stored in per_channel_manager_caps

commit d0a96dda742d5acd73b2e5c255b0c2efa3c09a4d
Merge: e495824 e9e5c34
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-17 14:33:01 +0100

    Merge branch 'file-transfer+resume'

commit e495824cae4f0575c1e583ef0e59b8c51b99590e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-16 15:44:57 +0100

    bytestream_factory_iq_si_cb: initialize self_jid so world won't explode if we got an error before it got a value

commit a41b0771f1d54afa7dc201020148d65dce058b16
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-16 10:17:48 +0100

    explain gthread dep in NEWS

commit 7633016b57ee7cdfdf35b59bea0c706da89e90cb
Author: Brian Pepple <bpepple@fedoraproject.org>
Date:   2009-03-29 17:20:59 -0400

    Require gthread for g_thread_init() (needed by libsoup)
    
    We need to initialize threads for libsoup's benefit. fixes fd.o #20937

commit 6f6de29a98c9233fbfedf9171de415dc3a2743a3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-15 17:53:55 +0100

    use assertContains

commit 37edaab6c696c67d5cee02f2f338cd745b7e253d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-15 17:49:10 +0100

    s/Salut/Gabble

commit d00cc254a3e17c2a6b03b2e15fbd2268718602ea
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-15 17:47:39 +0100

    upgrade NEWS

commit b226fabae9fb916d8a8540346853cd5cb31745ed
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-15 17:42:17 +0100

    offer-private-dbus-tube.py: check that newly announced channels are in Requests's channels property

commit a0275b65ff1d067d8629217170b51df257840aa0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-15 17:34:48 +0100

    offer-muc-{dbus,stream}-tube.py: check if the channel is in Requests's Channels property

commit 76f70aa9fb4da8786bbd8defbb51d08fd88e5be3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-15 17:34:14 +0100

    check_NewChannels_signal: check if the channel is in Requests's Channels property

commit ed88d6d5ed51ea9820d1e728c5cd4c12e27f4027
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-15 17:28:42 +0100

    gabble_muc_factory_foreach_channel: include tube channels as well

commit 7ba550963e656dd426d679aecaf20dcfa2abe647
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-15 17:26:57 +0100

    don't skip D-Bus tubes in gabble_tubes_channel_foreach
    
    they are now ported to the new API so they should be included

commit e8aa7b5c89b3be6cd4bae53c455795201cbf4611
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-15 16:57:12 +0100

    constants.py: add BUDDY_INFO and ACTIVITY_PROPERTIES

commit 23146622fbb55699d86981aa041174187383dd5d
Merge: dfb5420 8ad16fc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-15 16:28:18 +0100

    Merge branch 'initial-audio-video'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit dfb54205466c9fe2a23f5d182f35268b624019ed
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-10 16:33:15 +0100

    Unleak GetSessionHandlers
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 06df6a4c5521c0a4cc2193afbc05c937a3c71257
Merge: 76faacb d84c077
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-15 16:18:16 +0100

    Merge branch 'split-media-channel'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 76faacb3217c1fa5b6948025fa8c72c8a359cc90
Merge: 20f288d 4a5502a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-15 16:17:51 +0100

    Merge branch 'many-ways-to-skin-a-call'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 20f288d45ef958bc9c2170c9845e1e74a01bf064
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-15 15:59:20 +0100

    constants.py: add CONN_IFACE_SIMPLE_PRESENCE

commit 8ad16fcc54baa91b1b63765f1bbe2ffccc591daa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-15 15:29:57 +0100

    Extract InitialAudio/Video from initial streams

commit 2f823bf60cadb1c98d2a3a815fa0e444b4e055a7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-15 15:06:39 +0100

    Remove unnecessary prototypes

commit f7fc766ccc5427f154bb363cdd60e86e8401f94b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-15 14:16:55 +0100

    Extend incoming_call to do video calls.

commit 47ee57ec52477699273b1fbb0bb57bf7fac584e4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-15 12:41:18 +0100

    Check that InitialA/V yield correct StreamHandlers

commit ce15533d3ce33c387003e35d93178a3c179fd776
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-14 18:11:11 +0100

    Create initial streams as per request

commit b2efe99bce14ef04ad52b286608801ff0e17ce91
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-14 18:10:46 +0100

    Don't expect InitialVideo to work on GTalk
    
    Instead, expect it to fail the channel creation with NotCapable.

commit 0a267d89fdde716d4c977f1c65758eff621cba38
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-14 18:09:24 +0100

    Don't forbid session-initiate for no InitialA/V
    
    This check was wrong anyway: session-initiate is never sent until the
    stream handlers are ready etc etc.

commit fbb9e7d6d167e6a97a5fc4ded954059858e2b824
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-14 14:57:35 +0100

    Abstract success/failure callbacks in _delayed_request_streams_ctx

commit 9ce8f3a56c6db3c405b6a4a0fa474b4874beb1eb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-13 15:41:44 +0100

    Abstract success/failure callbacks in PendingStreamRequest

commit 62d3483fd7879ee6b69385d7d551be3f5b70e136
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-10 16:55:46 +0100

    Pass InitialAudio/Video from request to channel

commit b036f855013aa63c5cf3c58559ed2d27d412e786
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-09 17:20:26 +0100

    Implement and announce InitialAudio/Video props

commit 21672e29e5a94c478276f4bf8c6b75af36435a97
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-09 14:20:05 +0100

    Allow InitialAudio/Video properties

commit 190cfe24ec422e21987c574ee5762d96d622628a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-09 13:13:32 +0100

    Import StreamedMedia.FUTURE spec.

commit d84c077ab319b4b72a1a85985b05e86812d88981
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-14 12:30:40 +0100

    Remove MediaFactory property from MediaChannel.
    
    It wasn't used: everything just gets the factory from the connection,
    which is fine.

commit ad4985585cbc2983eb6d1ff839ddebe059ae8e83
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-14 12:28:53 +0100

    Move CallState code to media-channel-hold.c

commit 9cfe28b8e451e1be649cc86eaa3a20c255a49993
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-14 12:13:12 +0100

    Inline inform_peer_of_[un]hold
    
    They're called exactly once, and add nothing.

commit e9e5c34dffe8a8f58f94e0bb6c71065850f061aa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-14 12:11:15 +0100

    upgrade NEWS

commit 6b2111b158811e93076161353147b3f873e8d8be
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-14 12:11:03 +0100

    Split Hold implementation to a separate source file.

commit 3d7a40c27b940b1989591cb78d5e9043a2c8556e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-19 11:34:52 +0000

    implement and test resume on the sending side

commit 8607c6ca1bf0ae01467b5fdd41c13e7a6e31c05f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-19 10:38:33 +0000

    check that gabble supports range FT

commit 9f235c53ac894de6df0ab1256371c29e7e0c415b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-19 10:38:14 +0000

    gabble_file_transfer_channel_offer_file: claim we support range FT

commit 5833d016476c9aef047fd2fda606958c5a981a43
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-18 17:56:23 +0000

    pass file args to FT tests so we can easily test resume

commit 4f70e3959696434ea5b4ae28082365bbff8202fe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-18 17:49:23 +0000

    file_transfer_helper.py: support offset when testing receiving file

commit 6be0c96ccb072c4d9a668781e5d2166d7a3a0ec4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-18 17:41:37 +0000

    add the offset when checking if the transfer is complete

commit 19a2f28a8af606a8a61aa11cb7522f19906886b9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-18 17:39:02 +0000

    set offset in SI reply if the sender supports it

commit 9bdde1a3553ba56954ba0a19fefebcff1e0549ff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-18 17:37:15 +0000

    add 'resume-supported' property to FT channel

commit f929a3b462efd82b1ab23de30f479c8456da1b7b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-18 17:35:59 +0000

    fix indent

commit ac2eb6abb3f5569c761e0682abb51aba711f821a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-14 12:10:31 +0100

    upgrade NEWS

commit 2b92db1a843f3da06067866ffa99c66848a22d63
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-24 13:08:55 +0000

    add test-caps-file-transfer.py to tests suite

commit 0f8e4dd916251268a994bea8f0560f946859948d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-24 13:08:48 +0000

    add test-caps-file-transfer.py

commit 3964c00804ac43a30f25a479b1645e38a216e053
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-24 13:07:53 +0000

    test-caps-tubes.py: FT is now announced too

commit 6e02ca91e435ca744b7e8fe0d0f3472c12a7b640
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-24 13:00:11 +0000

    caps_helper.py: add ft_{fixed,allowed}_properties

commit 9c50eef3f80da52bb80f7b891f476d4bddc833fa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-24 12:00:54 +0000

    ft-manager: implement ContactCapability

commit f9537587acd3e58ce7f231dc4dbca6e03ab5f884
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-14 12:04:33 +0100

    start NEWS for 0.7.27

commit 2b2c43614dd7abf44a8cdada06a7fb80ddee0337
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-13 12:32:05 +0100

    pass an empty array as fallback-socks5-proxies in tests
    
    This is to avoid flooding debug output with lot of IQ stanzas (b.fd.o

commit 4a5502a33c31459aeb99ba366c3228f0852256a7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-10 15:29:04 +0100

    Test removing self-handle before Google relays arrive

commit 824ccc0e21566697c64dc6935366be19990bb8ae
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-10 15:27:44 +0100

    Simplify gabble_media_channel_remove_member
    
    Fixes fd.o#20578 (Can't cancel outgoing calls by removing self-handle
    until streaming implementation has called Ready).

commit 040c0cc42eaad1fc6fc1e2e2fbf26708bf4c6127
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-10 15:26:11 +0100

    Unrace jingle/test-outgoing-call-requestotron.py

commit 39d472edad2a8efab3fc60b58d7bce2da810dd43
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-10 15:22:53 +0100

    Unrace jingle/google-relay.py

commit 1c6e465b60078412cd5dba6751a99c98c9227f3d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-10 13:00:57 +0100

    Improve group checks in Create(StreamedMedia) test

commit 7dfe0c79e1f6c1016679d7a263bd47aeeef8c464
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-09 19:41:01 +0100

    Remove most group flags from media channels
    
    Removing the peer (to rescind the invitation or end the call) is wrong;
    you should be closing the channel or removing yourself. As a result,
    almost all the flag changes can go away, with the exception of having
    CanAdd around until AddMembers/RequestStreams is called if a client is
    using the request-anonymous-channel calling pattern.

commit b37cd150378a820e095ce309a716220ac7b7676a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-09 19:31:23 +0100

    Allow self-removal from media channels.
    
    This actually already worked in most cases, because the Can_Remove flag
    is (erroneously) set.

commit 3238184b84570e7012af9b3de86a25f5fae2bc05
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-09 19:06:40 +0100

    assertEquals etc.-ify test-outgoing-call-requestotron

commit 686b28c94c7e65ee90fc40916ea0fe13f2db57a6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-09 18:46:06 +0100

    Simplify gabble_media_channel_close

commit 5b75bb49882110799a3ce67879ee72e549f6d14c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-09 18:41:40 +0100

    Correct comment on gabble_media_channel_close_async

commit 874669086144ec1c6fe0ae9c3e49879b9c3a3994
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-09 18:41:31 +0100

    Don't export gabble_media_channel_close

commit c63c2d50cb958a40c442a94eb4dc9ed3168e42d4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-09 18:39:16 +0100

    MediaChannel: delete phantom function prototypes

commit a6c87d6a4d127d6c89b97a69acbc9c11e17e08e7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-09 18:35:33 +0100

    MediaChannel: Use tp_intset_new_containing

commit d76df8bdae161201765af455f25299cc6b741fed
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-09 18:30:06 +0100

    Clarify what adding peer means.

commit dc0a6d772cb9c7d517cef38fe58bb9afd8d8ad69
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-09 18:28:06 +0100

    Don't export gabble_media_channel_add_member

commit 41ab4315d271b2b925d8a82dc068010bf6d5a57b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-09 18:25:57 +0100

    Refactor adding Jingle peer to remote-pending early

commit 16bef8088acfb1b7a6b7bc662c85e1ea5ee69ff3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-09 13:12:39 +0100

    Include a priv pointer in GabbleMediaFactory

commit 021a26139d501c3e95bc00b58281e3557cff5846
Merge: 7758580 0f6d90b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-09 13:19:54 +0100

    Merge commit 'daf/tests'
    
    Conflicts:
    	tests/twisted/constants.py
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit 0f6d90b775dc0b999ec219b777bad437427a37ca
Author: Dafydd Harries <daf@rhydd.org>
Date:   2009-04-08 22:17:29 +0100

    make jingle/test-outgoing-call.py use assertion helpers

commit e693d1780fe6bad298765ba3bd29efde941ddbb1
Author: Dafydd Harries <daf@rhydd.org>
Date:   2009-04-08 22:16:57 +0100

    add assertion helpers to servicetest.py

commit c2dd22aa36747ee4c122c97f09a6d2e495221fcd
Author: Dafydd Harries <daf@rhydd.org>
Date:   2009-04-08 19:00:49 +0100

    make more use of constants.py in tests
    
    Also other small cleanups.

commit 7758580abd368aee4832c12d3fe33e923a06d289
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-08 18:57:50 +0100

    Bump nano version to 0.7.26.1

commit 073e5f8dbfe7a0db57ab8022265c422a8cecc9b4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-08 17:36:13 +0100

    version 0.7.26

commit 4eeecb22430e1d0de98e9b81a0fad3cea24a1094
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-08 17:32:38 +0100

    Whoops, add some missing news for 0.7.25

commit 1f684d8f2de1937ec4674b428479b1b0731019d4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-08 17:27:34 +0100

    NEWS for 0.7.26

commit 894ca021989a3c19008f33435e71976384541832
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-08 18:09:16 +0100

    Compile without ENABLE_DEBUG

commit a408ab3567022b0499bad33430bd6258e015c3af
Merge: 5dddb9a 9b35271
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-08 18:10:12 +0100

    Merge commit 'smcv/spec22-avatars'
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit 9b352718f7d11d3632248b21d3995d82d711b4fa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-04-08 17:41:47 +0100

    tests/twisted/avatar-requirements.py: new test for avatar requirements

commit 5dddb9afc9466631c5a47f09d3742f40bb1ec4ba
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-08 17:05:25 +0100

    import constants as cs rather than importing 6 symbols

commit 1652bde76766ab301a8a804c1691ce6d325a4b62
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-08 16:34:58 +0100

    Conflict maps to NotYours during registration

commit 9576e084c67f57f29fcc09728503233598efab33
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-08 16:30:34 +0100

    FIXME: we don't obey a MUST when registering

commit 6d49566a7fbe909caea56bb7e89ceb9f3766117d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-08 16:29:51 +0100

    Test various ways registration can fail

commit 9ce1aa16f01e510f70a8e3f839c30517851bac3f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-08 16:29:24 +0100

    Add jabber:{x:oob,iq:register} to ns.py

commit 353e6c8f7893101406662bf6a003dd3550a08309
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-08 16:28:53 +0100

    Make send_error_reply take an <error/> stanza

commit f1dc8c6b89b61d4cf775000465ff935196c6c044
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-08 16:28:20 +0100

    Add Connection Status and Reasons to constants

commit ff9658cab958b25b6230834355d1aeb688140ea1
Author: Dafydd Harries <daf@rhydd.org>
Date:   2009-04-08 12:09:13 +0100

    clean up pyflakes warnings in tests

commit 26a438f8b098b9392772fefc690793d020828952
Merge: c09bd7d f814631
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-07 18:52:18 +0100

    Merge branch 'jingle-peer-offline-error'
    
    Reviewed-by: Dafydd Harries <dafydd.harries@collabora.co.uk>

commit f814631fc3819782025ebde6140270520fc1ee1c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-07 18:37:03 +0100

    Include peer's handle in debug message

commit 7a85e547c8dcfc48ecc1096719776583899d3fbe
Author: Dafydd Harries <daf@rhydd.org>
Date:   2009-04-07 17:21:48 +0100

    add HT_CONTACT_LIST and HT_GROUP to constants.py

commit 9db4997d8fd079000cdb9ab989428455f763207b
Author: Dafydd Harries <daf@rhydd.org>
Date:   2009-04-07 17:15:26 +0100

    port test-content-complex.py to test_dialects()

commit 912afa72573a6ae50a510c3f8014600123d8f79f
Author: Dafydd Harries <daf@rhydd.org>
Date:   2009-04-07 17:14:45 +0100

    port tests to test_all_dialects()

commit 1d983e7554d9b44d767b3eed06f49b209af5441e
Author: Dafydd Harries <daf@rhydd.org>
Date:   2009-04-07 17:13:17 +0100

    factor test_dialects() out of test_all_dialects()

commit 599b6d8fd931ccd8c171139b0e7d3436ac87361a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-07 16:40:29 +0100

    Make contact_is_media_capable check presence_cache_is_sure
    
    Every place calling the former that passed wait also called the latter.

commit cc7b3b6362238604f2da3d36f028fe0a963b233f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-07 16:33:49 +0100

    Use .NotCapable/.Offline when Jingle peer lacks caps

commit bf876652a3252d136b61e474a0664a3d8c841cca
Author: Dafydd Harries <daf@rhydd.org>
Date:   2009-04-07 15:37:57 +0100

    s/_CAPA/_CAPS/ for taste purposes

commit c09bd7d88537acc053e219fc23073df80e6ab551
Merge: 0e3ba89 c05a2d2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-07 13:00:27 +0100

    Merge branch 'hold-notification'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 0e3ba898387b0881cdbff42c852516c3ca9461d2
Merge: 9af0ab0 c49d75d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-07 13:00:10 +0100

    Merge branch 'port-hold-tests-to-jingletest2'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 9af0ab0a5824214c87a2faa4c164710417073b84
Merge: 6ecdf96 9fb9d31
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-07 12:59:51 +0100

    Merge branch 'forbid-events'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 9fb9d31e2605650c22d4ab9b73a38acd8d00aa5e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-07 12:39:46 +0100

    Add docstrings to [un]forbid_events
    
    These clarify that you must pass the same EventPattern instance to
    unforbid_events that you passed to forbid_events

commit 6ecdf96ebe6c01d5f1d0b70ca7cd8d19042e2b87
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-03 18:32:32 +0100

    fix typo in NEWS

commit b71d4429682800414ee764046337a9a2e503f9cd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-03 18:32:17 +0100

    start dev of 0.7.26

commit 7dcefeb6693049250d84214f32097af08f2aa116
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-03 18:20:42 +0100

    version 0.7.25

commit 5bc242785cc34830e172d9d13c9f9c609e17c41c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-03 18:19:52 +0100

    prepare NEWS for 0.7.25 release

commit e2fd26d7a7f81e6ea3679539d6effaa926ea9453
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-03 18:23:07 +0100

    pass tar-ustar to AM_INIT_AUTOMAKE so distcheck doesn't cry about long filenames

commit 8ea8d348e3b195847165fb46ec99e892a00ddeca
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-03 17:04:02 +0100

    run FT tests with BytestreamS5BRelay and BytestreamS5BRelayBugged

commit dad0018a61ba0a58d1990d7cbcba3390464c420a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-03 16:53:12 +0100

    BytestreamS5BRelay.wait_bytestream_closed: wait for events if needed

commit 1e397a2b114a16bb8d1d7195e51eaf272dc2abc2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-03 15:29:00 +0100

    file_transfer_helper: break race when calling bytestream.wait_bytestream_closed()

commit c5c9e38f3b5e663c579721eb7b51a7373774369a
Merge: 56c4721 566c5f9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-03 16:47:13 +0100

    Merge branch 'file-transfer+news' into file-transfer

commit 56c4721f5bdc5097385194b5f054c5cc698a73c3
Merge: e1a691a cc3bcab
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-03 16:47:07 +0100

    Merge branch 'master' into file-transfer
    
    Conflicts:
    	tests/twisted/constants.py

commit cc3bcab9323097cc5d3565dd22e6deab8807a63d
Merge: 3eb9cbe 2b55a38
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-03 16:34:27 +0100

    Merge branch 'socks5+relay'

commit 2b55a38ea62d4d08b029ece1594e23658d885b99
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-03 16:07:13 +0100

    upgrade NEWS

commit 6ee634a3115db575bcb7da6020edaa72ad110e1d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-03 16:05:47 +0100

    dump tp-glib dep to 0.7.29

commit 566c5f993253d18ad2e689d599f6c3043abec897
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-03 15:42:23 +0100

    warn empathy users about the FT crash with old versions

commit 3eb9cbed64492c99182f50565b3023f2bd7d21ae
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-03 15:27:11 +0100

    bytestream.py: wait_bytestream_closed can take a list of events as optionnal arg

commit e1a691aca32bfc8c342c251d910f4e66a6b52d5d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-17 11:42:00 +0000

    TP_SOCKET_ADDRESS_TYPE_UNIX address is supposed to be an 'ay' not a string

commit 422bf22ac021fc7d94a1dc21bd2cc95948ef72f9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-17 11:29:06 +0000

    we only support TP_SOCKET_ACCESS_CONTROL_LOCALHOST with inet sockets atm

commit e37a6a224467d539be16efc44b33c920a82464ab
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-17 11:27:09 +0000

    remove fixed FIXME

commit 7619f58f291891402c498e12bf3c511d6471bd1b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-17 11:22:46 +0000

    add IPv6 sockets support

commit 74f4f6546758026ae6a40d50c4a10d0c22d168ef
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-17 11:15:02 +0000

    run FT tests using SOCKET_ADDRESS_TYPE_IPV4 too

commit 3a26af0821da1a5c33e7c37192c2f07f1e0ac5f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-17 11:14:19 +0000

    setup_local_socket: implement TP_SOCKET_ADDRESS_TYPE_IPV4

commit bb9fd71dc06ac39b461b4109e341fe7cd4172c76
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-17 11:13:05 +0000

    test-receive-file-and-disconnect.py: use self.create_socket()

commit f918cd89d911c5acb6f68c927c1731a5920c2832
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-17 11:04:48 +0000

    replace priv->socket_path by a GValue priv->socket_address so we can store different kind of address

commit 0352dd1a04ed408626f48e2a31e3405775f4b55d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-17 10:55:10 +0000

    add address type and access control args to setup_local_socket

commit 39c425b9812624c720a360a642924746e513b600
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-17 10:42:33 +0000

    add SOCKET_ADDRESS_TYPE_IPV4 to AvailableSocketTypes

commit 3b9356a38553324f6c10e16e030b5f762cb8303b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-17 10:37:35 +0000

    add self.create_socket()

commit 1c7b7fea9abe17f2ddafb86c839af2362faa4bfd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-17 10:34:21 +0000

    add address_type, access_control and access_control_param args to FT tests

commit 1fb108e36ad5c21bf136d24c5e24c006b9f2b107
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-03 12:56:57 +0100

    upgrade NEWS

commit 6a7bf602bc8bc866e765faa13d37e53e0011f0aa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-03 12:51:01 +0100

    gabble_ft_manager_handle_si_request: initialize the struct tm
    
    Thanks strptime...

commit af0d17219daf6b30dd1177ad9e21a76c83e70858
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-04-02 18:41:28 +0100

    don't explode if mkdtemp failed

commit 110ace5e337f54beaeee9748dd60daa48e3a2889
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-02 18:18:10 +0100

    Remove trailing \s from C code.
    
    This isn't Python!

commit 52b07d04008d265d776981fe8b15a4333a5409df
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-25 10:47:17 +0000

    Remove Salut references from FT tests

commit c05a2d294fa2fa585f32ec23e42cddd3367bfca6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-02 15:49:24 +0100

    Support name="" on <active/> and <mute/>

commit 17d6c6f8dd77e77766329b7ee8ac47829fb9d4dc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-02 15:43:14 +0100

    Add gabble_jingle_content_get_name

commit 174f2fbc40e001632b12730691044caf42c8cf0e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-02 12:23:57 +0100

    Allow session-info before the session is active.
    
    Else, <ringing/> notifications would be rejected.

commit 6aa2df4a5e0de21152e7e9bc45ed724d720b64fc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-01 19:23:35 +0100

    Add a test for call states.

commit 92e24feb93904f255d64ac4c6946a214835ed1a8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-01 19:51:41 +0100

    Our CallState implementation is no longer a stub

commit c49d75d6ca37429941f40b3caa6e69a49b24b433
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-28 10:28:41 +0000

    Port jingle/hold-av.py to JingleTest2
    
    For GTalk, it just checks that asking for a video stream fails, and then
    ends.

commit 5d848b0db4f4a4c156ef9050233e7563502953cb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-31 12:49:42 +0100

    Add q.[un]forbid_events()

commit d370b2ce967f4dfea32dd49ea223d3e4a046518a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-01 19:14:18 +0100

    Implement GetCallStates()

commit 88c08578922c1d536cecc73944a3b3c342d4540c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-27 18:07:17 +0000

    Rename supports_termination_reason to is_modern_jingle

commit afcb90bae0a34c393a78abbd2225b04d55cd272a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-01 19:09:39 +0100

    Emit CallStateChanged when "most held" state changes

commit 9e11bc10ed887687f5e72e26510135cbe28747f1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-27 11:26:51 +0000

    Port jingle/hold-audio.py to JingleTest2

commit a3da933ca1be890b7629b792822cd79fdf1743df
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-01 19:06:52 +0100

    Emit SetStreamSending when peer [un]holds

commit 985818c705c808046cc4de026b510871158326c0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-01 16:42:53 +0100

    Pass session-info payloads down to all contents

commit 2f91bebb9b1a6363d322f1b95a122352e584a468
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-01 16:29:00 +0100

    Handle call state-related session-info

commit d1f48f90efb6c4c7bf633b91217cb9f452704dc8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-01 16:24:49 +0100

    Add a hook for JingleContents to handle session-info payloads

commit 8360daa3de882c337d81626f3014b43f4c692552
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-31 13:09:42 +0100

    Test sending <hold/> and <active/> notifications

commit c8fb7dd20a78c6b834d5cd25066a61a8b2f8ba54
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-31 13:00:42 +0100

    Only send <hold/> if the peer thinks they're unheld
    
    We send <hold/> immediately we move to PendingHold, because we don't
    expect holding to fail. We send <unhold/> only when we actually get back
    to Unheld, because reacquiring the audio device etc. might fail.
    
    If RequestHold(False) is called, and then before tpfs reacquires the
    devices RequestHold(True) is called, we haven't yet informed the other
    end that they're unheld, so we shouldn't send another <hold/>.

commit 4c7fc4cffc325c2c2d9c99bc7da73a47033401fc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-30 18:03:47 +0100

    Notify peer of unhold when all streams are unheld.
    
    Previously it was called only if at least one stream was still held and
    we were moving to either HELD or UNHELD. Whoops.

commit e989ba7a61be0c0c81e7a0e702e54c3a6ec18868
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-27 11:28:38 +0000

    Send <hold/> and <active/> to peer on hold/unhold

commit cd0d3a25a4f2069d0520c1d1a2e3cb2103deef16
Merge: 05ce1b8 10d392d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-04-02 17:11:13 +0100

    Merge branch 'dance-into-the-fire'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 10d392d852a853d5790a7840f94ee9da3cb6e236
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-31 19:46:07 +0100

    Don't assert when someone sends a session-info.
    
    Whoops.

commit 489afac6572d41e3680f1b8dfcb079370b7a2c16
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-31 19:36:49 +0100

    unknown-session is-a item-not-found not bad-request

commit be476be30775cd8b927e6a9aad0a28526e25a829
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-31 19:36:32 +0100

    Add tie-break and unsupported-info Jingle errors

commit bfb5b9de4bafca56db52653d827b9f040f0c1edf
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-31 19:30:04 +0100

    Remove Jingle errors no longer in the Jingle XEP
    
    These were neither sent nor explicitly consumed by Gabble; the only
    impact is that some debugging messages might be less specific when
    receiving them.

commit 2e4c57f4463f13e6e789f7676646b84d54286a2b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-31 19:18:22 +0100

    Correct indentation and style of jingle_state_machine_dance

commit 05ce1b89914d0ebf69febf1ad849961b911317dc
Merge: c5d2a11 80664d4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-31 18:05:28 +0100

    Merge branch 'tests'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>
    Reviewed-by: Dafydd Harries <dafydd.harries@collabora.co.uk>

commit 80664d4e3d7c4ce5e8d7c08aba30dd856aec6fa6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-31 18:00:17 +0100

    Use request_muc_handle in test-muc-properties

commit e2ff16e212852f2be1e83d0abe9e50551f7c68aa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-31 17:56:31 +0100

    Don't expect unobservable MembersChanged signals.
    
    MembersChanged signals fired before RequestChannel has returned or
    NewChannel[s] are emitted are not observable by well-behaved Telepathy
    clients.
    
    This has the side-effect of removing a
        q.expect('dbus-*')
        q.expect('stream-*')
    race from this test.

commit c5d2a119b1174f3c77ef2e630392a9b0fd01b4c5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-31 14:40:34 +0100

    send-error.py: old_received has been replaced by received

commit d4d3266accefc8ca267dc32f184409e9868b3f5f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-31 14:36:36 +0100

    olpc/util.py: raise ValueError instead of PropertyTypeError which actually doesn't exist

commit 06d4c3319d62a53594cd3a0065fed59b95ca8c65
Author: Dafydd Harries <daf@rhydd.org>
Date:   2009-03-31 16:33:43 +0300

    remove v1 test API

commit 2329e42058ebdb69eebb9ee59296372ee84bf594
Author: Dafydd Harries <daf@rhydd.org>
Date:   2009-03-31 16:33:20 +0300

    remove unused imports in OLPC tests

commit 2e43c827ba858521970307a88ee50d2ce1987440
Author: Dafydd Harries <daf@rhydd.org>
Date:   2009-03-31 16:33:02 +0300

    remove unused imports in MUC tests

commit 3b7d38fd9f5f6aae434d6fa222c18cb1ae4091a1
Author: Dafydd Harries <daf@rhydd.org>
Date:   2009-03-31 15:32:26 +0300

    test-text.py: take advantage of wrap_channel()

commit f70e5bc56160fc6b91c092392029f7876a941885
Author: Dafydd Harries <daf@rhydd.org>
Date:   2009-03-31 15:31:45 +0300

    port test-muc-properties.py to new test API

commit 44cf435711f79b89ef56889a1eaae9c939650b9a
Author: Dafydd Harries <daf@rhydd.org>
Date:   2009-03-27 13:03:19 -0400

    add wrap_channel()

commit e322fbc96a5dfea28a7474cecfd8eaa295955309
Author: Dafydd Harries <daf@rhydd.org>
Date:   2009-03-27 12:53:42 -0400

    factor out connection wrapping

commit eda9dd8dd26b66fd5a90ed7e8fc408020b1774da
Author: Dafydd Harries <daf@rhydd.org>
Date:   2009-03-12 21:55:56 +0200

    add D-Bus/Telepathy properties interfaces to ProxyWrapper

commit e24b8ec2780d402627257fcd6c06b1492f0d01f9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-31 14:17:10 +0100

    fix leak in gabble_media_stream_new

commit ab47eb1428c615192aa7e16dbe87b1c46f1bd8eb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 16:25:24 +0100

    gabble_ft_manager_foreach_channel_class: use new tp_g_value_slice_new_* helpers

commit 43742a5eedc21597b50992dfd99e1b4b14c51bef
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 16:23:26 +0100

    add a second FT channel class adversting we support MD5 hashes

commit e7b6832b32c2fa4892fa565150b323d963cc6716
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 15:29:10 +0100

    get_local_unix_socket_path: use the channel path to generate the socket path

commit 260c64111c61442a8f6fd606b5091b14898e9b82
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 15:19:32 +0100

    remove temporary directory

commit 0549fe9b30f3bb74310618771dd420816d548bc6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 15:16:06 +0100

    gabble_file_transfer_channel_finalize: remove UNIX socket

commit 263d7a8697706b40769a15e8be2448e8ea358422
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 15:09:20 +0100

    get_local_unix_socket_path: use gabble_ft_manager_get_tmp_dir

commit 6bafd3095e5478040b335beb27caea6e92086364
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 15:08:51 +0100

    add gabble_ft_manager_get_tmp_dir

commit 9cfdc4041df5fbb8fc6f605a20b557f26df5c334
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 14:17:28 +0100

    use gabble_signal_connect_weak when connecting the closed signal on the channel

commit 1a54cff1b389cb835fcfd7e5e7cc03fe386affd3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 13:14:00 +0100

    rename file-transfer-channel.[ch] to ft-channel.[ch]

commit 450a555f418cd5e81d1f217f0edff037dad4a228
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 13:03:11 +0100

    use FT channel properties constants

commit 086c8656747a1ec2eea22566e19adc7c8b239967
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 12:58:50 +0100

    constants.py: add FileTransfer channel properties

commit 030966e7988e9d3ef692cc07e826f2a3ccd2a32a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 12:46:15 +0100

    use constants.py in FT tests

commit ebf3df3e8c1000dcc431fb793465111b19bca0d5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 12:44:20 +0100

    constants.py: add FT related constants

commit 6fb94ff174024d08db5ac1e45fddac5dd28aa5de
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 12:22:41 +0100

    we can't create FT channel using RequestChannel
    
    We can't pass mandatory properties to RequestChannel so there is no
    point to pretend that we support it.

commit 23474a965ec6ffdd026f0d1cdf5f50f43d34b6cb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 12:18:48 +0100

    inline file_channel_closed inside file_channel_closed_cb

commit 2453bef337f372d9a1abc84e1d2ce163bd8546f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 12:17:29 +0100

    if gabble_file_transfer_channel_offer_file fails the channel has not been added to the list yet so we can unref it directly

commit 5cf4312a89356b83afd14144f5ea68726d457093
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 11:54:30 +0100

    file_channel_closed: improve debug msg

commit 90d32da0564112488c2bbd1a0944e118adbcaa6d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 11:49:40 +0100

    gabble_ft_manager_iface_foreach_one: value is never supposed to be NULL

commit ae90dee54afb0390ce8e712083763941a622e598
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 11:48:53 +0100

    style fixes

commit 4ff2585f362fbbf0ee6a8cec6b2876bd811a87e6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 11:34:35 +0100

    gabble_ft_manager_new is supposed to be just a wrapper around g_object_new

commit 15286dad852397643a483b82c24e5806fe2f289e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 11:27:44 +0100

    ft-manager: remove GET_PRIVATE macro

commit e1113a5fefb060b806bf0f2e34e12fbd520feed1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 11:17:34 +0100

    gabble_file_transfer_channel_provide_file: remove useless pointer

commit 6f441982432cfb80c094241d03eb91d5ea8b8ce5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 11:10:41 +0100

    constants.py: add Offline error

commit 5f2b74aa5eb8bb41d8401cd0a82da4e50a568d21
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 11:13:10 +0100

    raise NotCapable error when trying to send a file who doesn't advertise the FT capa

commit 738747e50b06ce491ef937fc8cf29dd4ec779435
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 11:11:29 +0100

    raise Offline error when trying to send a file to an offline contact

commit 08a4029e42aedc227f740aae936de58e763a2ac4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 11:10:41 +0100

    constants.py: add Offline error

commit 20804caa549f2aa116ca554eb281af04af52d35c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 11:04:14 +0100

    use G_PARAM_STATIC_STRINGS

commit a0323f83feb8f9988cdbe2c3b6fae312608dc90e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 11:00:05 +0100

    use TP_HASH_TYPE_SUPPORTED_SOCKET_MAP

commit 0e38b4f9d5e441951930b5ddd63f0f196b9c125a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 10:57:50 +0100

    use tp-glib constants in uint properties definitions

commit 2b678e72e58a78de0abe40cc3fc96deb701ecfa2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-30 10:48:49 +0100

    NEWS: fallback-socks5-proxy has been renamed to fallback-socks5-proxies

commit d18c252f3052c3d088eedc517232045d6a05db36
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-27 16:17:28 +0000

    FT D-Bus properties have to be read-only

commit d1f993b9449a55c24ff77f8c9d843fa691663a14
Merge: c3a6107 0ec7452
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-27 15:27:04 +0000

    Merge branch 'news'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit ab043a0625dfb43c318000ab8452784345a133fd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-27 15:03:04 +0000

    initial-offset property has to be construct-only

commit 1bad240c1da5b75661338ae407443c1cd5357c2b
Merge: 377176a 74cabf8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-27 14:54:02 +0000

    Merge commit 'wjt/file-transfer' into file-transfer

commit bfc3c2dff190d09c03d5c9c44c46c0939a8f749f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-27 13:45:58 +0000

    remove duplicate proxies from GABBLE_PARAMS_DEFAULT_SOCKS5_PROXIES

commit c3a610717168017c398b08534b3f1a0f6dc92863
Merge: c72ec80 a694bb6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-27 13:10:40 +0000

    Merge branch 'call-group-change-reasons'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit a694bb62abec4c9647dfbba2017c63ed2422ff50
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-27 11:50:16 +0000

    Add explanatory comment for <reason> processing

commit 1be623fbb0ffe134220adc79d2b6d504d15dcda6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-27 11:41:18 +0000

    Use MEDIA_STREAM_STATE_CONNECTED constant

commit d10e00e51d6acc6c0b506b888f2fd70c7ed027cb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-27 11:37:53 +0000

    Assert if set_state is incorrectly passed a reason

commit 19fafae3b3bd658d0a3adc213b1cbf39915705a8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-26 17:21:50 +0000

    Test rejecting a call for reason Busy or None

commit 5eaf114eda53c04b1517a66ebd2a748e9072530c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-26 17:20:13 +0000

    Implement RemoveMembersWithReason for media channels

commit d243f656629472dca7054eef69ccb3a952f9531b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-26 17:13:39 +0000

    Make jingle_session_terminate fail on meaningless reasons

commit 7a74ea61b76525b4691604b76651190988b5f680
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-26 16:03:22 +0000

    Port test-incoming-call-reject.py to JingleTest2

commit e0f75abceca2393c9eb75f4a540b9b3e0bb20fad
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-26 16:02:17 +0000

    Set event.query to None on empty IQs.

commit f4bd266a6b15a118a7fa3fa51ed32ed78fb6a8ba
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-26 15:54:42 +0000

    Add incoming_call() helper to JingleTest2

commit 223e4a2628ea5c4716b59d79d471797e1f9bbf59
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-26 15:46:07 +0000

    Test calls rejected as busy are exposed as such

commit 8563f1a7ed2920aa3982427678e17236bd3f8f8a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-26 15:43:32 +0000

    Propagate session-terminate <reason> to MembersChanged

commit 5042430f179a81bf10829a7afe495fff8dda5313
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-26 15:16:14 +0000

    Port test-outgoing-call-rejected.py to JingleTest2

commit 6e4c6c44f40f27b5b186395309f1dcc25a616e14
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-26 13:27:28 +0000

    Test that unanswered calls timeout with No_Answer

commit c62679a24bf9ebb63c9587c650787551126676aa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-26 13:24:22 +0000

    Include <reason> in session-terminate

commit 19c56eab467b87750ab5523d9b5113a94a968797
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-26 11:31:16 +0000

    Add a helper to run a test on all Jingle dialects

commit a061e32a887d1a150a54fd0ebeb76d092f801bd0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-23 12:59:45 +0000

    Reduce Jingle session timeout when running tests

commit 18ae7be7d8ddc7699a8c7bb60fc0a2bc0e81c1db
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-23 12:41:45 +0000

    Propagate reason to JingleSession:terminated

commit 80f19e82025a0a140b68b9ab69321598f76d5bc7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-23 12:47:56 +0000

    Add reason to JingleSession:terminated signal

commit 26e4e839e3696e40a4ffacd9dcd7ce5124da69e5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-19 18:18:22 +0200

    Set actor and reason when calls start/are accepted

commit e2d91d35b110089e9c8721d676aee71ebe0b4b1c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-19 17:31:58 +0200

    Our LocalPending reason is Invited in incoming calls
    
    This changes all the tests, which checked for the wrong reason.

commit 54dff933640910e06d66f1f549facbeaf18133c4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-19 17:13:09 +0200

    Improve construct-time media channel group flags
    
    This is still not correct, hence the FIXME pending more intrusive
    refactoring.

commit 21f7f94cfb830b34eebf6d9dd6c82cd564af6202
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-19 16:57:09 +0200

    Let terminated_cb actually remove the member.
    
    Also, don't set CanAdd on the channel when we've just removed the peer:
    we don't actually support adding in that context.

commit a6a5c297bdc1947109c58aed43beecc9d3230a03
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-18 15:09:52 +0200

    Use HT_CONTACT and real self_handle in some tests

commit 3c5d4dc14b04f680420f0ff7d8f1cdc3335b70b6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-18 14:54:41 +0200

    Add GroupChangeReasons to constants.py

commit 5f3612dbdae7dbc3b460049278d64118c500abb0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-18 14:36:02 +0200

    Use Reason_None (not 0) in MediaChannel constructor

commit 0ec745237b090fa02626dab5894da2b589436fcd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-27 00:14:37 +0000

    Belgians are pairing socks in my living room!

commit c72ec808c4d02a51bf8be324da60d01324b3d2c1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-26 18:27:48 +0000

    Unrace olpc-muc-invitation.py
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 377176aeadf1ddfc0d23b6fe148ca988cc396e71
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-26 17:59:38 +0000

    use errors from constants in FT tests

commit 5d8635e1e5190028ddafc539f00822d0a47f6205
Merge: 171aa92 61faca3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-26 17:47:36 +0000

    Merge branch 'master' into file-transfer

commit 616a1747debc4c56a36a9d7213d222f68a258b78
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-26 16:15:17 +0000

    set a default value on default-socks5-proxies

commit 61faca361c67b335da0129a40a9fdf5a8beaa9d5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-26 17:31:48 +0000

    manager file has to be regenerated when connection.h is modified as that's where default params are defined

commit feea877a731676ca7fe9fb341d88ad7a57184a59
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-25 14:45:05 +0000

    gabble_bytestream_factory_get_socks5_proxies: randomize fallback proxies list

commit 8a28548000a2fffe9940d8a06cddbb4558462b26
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-25 11:56:45 +0000

    change fallback-socks5-proxy to fallback-socks5-proxies
    
    By using an 'as' we can define more than one fallback proxy

commit 17422dfbbba627c01ec09831661a93c4e2aea233
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-25 11:35:56 +0000

    socks5_proxy_query_reply_cb: prepend fallback proxy from the right list

commit 57cd1070a8c49cca4936ce7fc8988498a94d4c6d
Merge: 298a58c 3a93359
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-26 17:06:12 +0000

    Merge branch 'master' into socks5+relay

commit 3a93359f4aa548f8870246b411f87528a84a0868
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-26 16:59:47 +0000

    write-mgr-file: add support for 'as' defaults

commit 0e6ac003275d4f4287dc9974677867a25eaafbd3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-26 16:45:18 +0000

    write-mgr-file; properly init D-Bus types

commit 298a58ca4485fe398ec9cc5807eb4c599c2b381a
Merge: 1931961 2c4c02c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-26 16:36:03 +0000

    Merge branch 'master' into socks5+relay

commit 2c4c02c0554d515735fb6b81e39cb5bc099483e9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-26 16:30:10 +0000

    add gabble_connection_manager_get_protocols() instead of having gabble_protocols extern

commit b06830bfcf3094626876fa42ab44143d8d50b1eb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-25 18:23:59 +0000

    GabbleConnection: hook up Avatars properties from telepathy-spec 0.17.22

commit cd71ea3e8fac28ed526cb11b89bccf4af530aa19
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-24 13:03:35 +0000

    conn-avatars: provide a property getter for telepathy-spec 0.17.22 avatar requirement properties

commit 19319616683dd55de7b2449e734ca4cb3d4fd416
Merge: 586b7e1 14ed3c4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-25 12:54:03 +0000

    Merge branch 'master' into socks5+relay

commit 14ed3c4ca9d4ca27af6b1f0f0a645dadb1799e2c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-25 12:20:41 +0000

    upgrade NEWS

commit 63320d75ec90de97eaa537a57dd62845604e776a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-25 12:19:46 +0000

    bump telepathy-glib dep tp 0.7.28

commit 48aa3528c7148f2ed4ffe2c003cad5c0a31be9b2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-25 12:18:47 +0000

    test-location.py: use errors from constants

commit 9d3dae40259c3096619323e69012ea68c8a851e6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-25 12:18:25 +0000

    olpc-activity-search.py: use error from constants

commit 0fcbf652cd38885fd513cce2799afd6ed2e11a1f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-25 12:18:13 +0000

    olpc-buddy-search.py: use error from constants

commit 9afc33084cccf44b23d068e41997910a434f2d40
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-25 12:17:42 +0000

    constants.py: add PERMISSION_DENIED

commit 450fcd7093331984e25c8bb7475f394d3663e835
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-25 12:16:32 +0000

    constants: fix error domain name

commit 74cabf8cc5e37251bbbcb8f72be16510d974b2b6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-24 23:33:42 +0000

    Use correct filename in FT preamble comments

commit b3c1ebe2c3b93e4216bc17d7d2ca3a2a263b5ff6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-24 23:30:46 +0000

    Coding style in file-transfer-channel
    
    * space between function and (
    * don't wrap prototypes after return type

commit 208ecd11c3aba78a2f2b558058f1c686a070ea19
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-24 23:04:23 +0000

    Raise NotImplemented on unknown address types/access-control mechs

commit 85267f2d000e7236502e24013c96d627584929bd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-24 23:01:32 +0000

    Ref FT's target and initiator handles

commit e3566bfb0e7e68eb152153dd88042fa193aa8b1e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-24 22:54:22 +0000

    Use "%"G_GSIZE_FORMAT not %u for gsize.

commit 586b7e1a31ccbde43dc2810260dcdcecb28f9769
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-24 18:09:19 +0000

    fix typo

commit 0056e670e5e98a3f5bafb3009a811ed1988328e7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-24 18:08:45 +0000

    coding style fix

commit a6ff149767a575cdfe99c2fe5d28c952b7f3aa73
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-24 18:05:28 +0000

    test-fallback-socks5-proxy: use conn.Requests

commit 5be61400eae334ec3d420028078f0adcbd55dbe4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-24 18:03:50 +0000

    remove useless comment
    
    Was probably coming from the original test

commit 443d2b24a04bab66e5f6534e3c203baa1a23bdf1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-24 18:02:44 +0000

    add some comments

commit ee9f2334762a3da9aeecad8289567529d77190ed
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-24 18:00:01 +0000

    define SOCKS5_STATE_INITIATOR_OFFER_SENT with the other initiator states

commit 34d2b57fee89209de28117ccaf67537654fb036c
Merge: b629d0c 212793d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-24 17:04:30 +0000

    Merge branch 'master' into socks5+relay
    
    Conflicts:
    	NEWS
    	tests/twisted/bytestream.py

commit b629d0cbd10f9585cd80cd92b0af9b162441c96f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-24 14:59:45 +0000

    properly cast socks5_proxy_query_reply_cb user_data

commit 212793d109b8227e371d9a5a60e1cb37945e55fd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-24 14:52:19 +0000

    get_local_interfaces_ips returns a list containing both type of addresses

commit 04c0b036e18d6307d3960d14bb8fbb48b6c2dc28
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-18 13:56:54 +0000

    upgrade NEWS

commit dee5abb7d802b1fb1efd75c9f35c6de69cf2e390
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 14:47:33 +0000

    store fallback proxies in a separated list so we can list them after the one discovered on the connection

commit 46ffc150559bbfdc84c20fac35a6019f46542118
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 14:26:30 +0000

    rename gabble_bytestream_factory_get_socks_proxies to gabble_bytestream_factory_get_socks5_proxies

commit 07cd2a934aa798818b607a6048f5f84918697de9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 14:15:15 +0000

    don't add relay as streamhost when we are in a muc

commit 96002528d997fa1d6a104862e6000d0f38c0a197
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 14:14:32 +0000

    offer-muc-stream-tube.py: disable SOCKS5 relay tests because proxy can't be used with muc contacts atm

commit 52d885024c000872c2f5db2087f4b6ad07d0f56f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 14:00:13 +0000

    add test-socks5-muc.py to tests suite

commit 09367b962b5f9bd59c2d2169d2a856c54a15c65e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 14:00:05 +0000

    add test-socks5-muc.py

commit 99940eabf27c141b49d10945e8d8f8c336ae2dc8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 12:00:08 +0000

    don't offer SOCKS5 relay when trying to establish a bytestream with a muc contact

commit 4193a99ef89d0b5701b4bbd21fdb841c9d9ee83e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 11:59:35 +0000

     accept-muc-stream-tube.py: disable SOCKS5 relay tests because proxy can't be used with muc contacts atm

commit cabace865cb29a711104b8933551e8570be95474
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 11:47:28 +0000

    remove FIXME about proxies as we implement them now

commit 8d94a6f07fa33ed66dc1b546d17cb0cff8363893
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-06 16:19:21 +0000

    test-fallback-socks5-proxy.py: use make_presence and make_caps_disco_reply from external modules

commit 0912a67fedecaf8ec4c33500180ed1ed7ea7f537
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-06 14:32:23 +0000

    add test-fallback-socks5-proxy.py to tests suite

commit 569a7cd00af6d7d0fe43427982b54f3cab81ca4f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-06 14:32:15 +0000

    add test-fallback-socks5-proxy.py

commit c6f523e0493ab9e72bbb3c2fb0b7b8ae79bf32ca
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-06 14:31:53 +0000

    query fallback-socks5-proxy if defined

commit 3af76088ccb1bf238472b120d7728b04579e11f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-06 14:29:17 +0000

    add fallback-socks5-proxy connection parameter

commit 0ef3423951594e6e7d382df49c65a693ea9c4883
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-05 11:30:22 +0000

    SOCKS5: fix state check

commit 746298eb54bb75e8e8e239fce928d10807cc7bc1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-05 11:21:20 +0000

    coding style fix

commit 357659361c742582e6f695a8e7b7a6cae7b59e26
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-05 11:19:43 +0000

    add debug msg

commit ac82a10d17d78dbbcd9398ac78db4a517d590c66
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-05 10:21:24 +0000

    factor out some BytestreamS5BRelay methods

commit 11fe4161f628ca93a0e5112c7b884d2134a60a98
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-04 18:19:29 +0000

    run tubes test with BytestreamS5BRelayBugged

commit 9117cdb278f88dbe625327169253f85daaf3432a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-04 18:19:08 +0000

    add BytestreamS5BRelayBugged

commit d79c2d729450a70da05434dca1cdc20160576539
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-04 18:18:53 +0000

    SOCKS5: accept buggy CONNECT reply to interop with bugged ejabberd proxy

commit 97bbf399417752eba5860ff304d1ca503581efb6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-04 17:08:23 +0000

    fix typo in debug msg

commit 1f020c7710ebbd599341f719fe82b84234483584
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-04 14:13:14 +0000

    run tube tests with BytestreamS5BRelay

commit d695c90bc74a06c6d96e9af1ce749b5e384f626a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-04 14:13:04 +0000

    announce a SOCKS proxy in some tube tests

commit e4f98841e55f197f9c3c2e54cf961022a1067e27
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-04 14:12:23 +0000

    add Initiator side to BytestreamS5BRelay

commit 25323b4aa81fdbe63042b6106391470e683433c2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-04 14:11:21 +0000

    bytestream.py: add announce_socks5_proxy

commit 3c54b97434efd6f6f1c83f2dd00cf53d9c59d7b3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-04 14:10:06 +0000

    SOCKS5: implement proxy support

commit 2344d8a0faa7d80c4760b2f72ec40232bfca7ca3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-04 14:09:14 +0000

    track SOCKS5 proxy available in bytestream-factory and offer API to access to them

commit 292f428ef84e41fbd5b1ef56ef7bde907b1183a9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-03 17:21:35 +0000

    add BytestreamS5BRelay

commit 65534755cec0de941c41552eb6ce1cb5d8f6b3b1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-03 16:57:50 +0000

    wait_bytestream_open: ensure we found one streamhost

commit 095d796cf9dbd7f39266d9efdef9648e8807267e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-03 16:44:33 +0000

    wait_bytestream_open: don't assert if a relay is present in S5B offer

commit 737256f8d0437036ffd4453507d66e920fbb5dc2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-18 13:53:07 +0000

    upgrade NEWS

commit c444f4eb49e434287a6e787c6c15492c9810f740
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 11:15:46 +0000

    get_local_interfaces_ips: always discard loopback as we don't care about it for SOCKS5

commit 3dfd4632e40691644246ce740ac722c18d064211
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 11:14:04 +0000

    change comment to reflect that get_local_interfaces_ips is not a bare copy from FS any more

commit bcea59f1f15c8b40043134f6920c149ba7d16427
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 11:13:27 +0000

    get_local_interfaces_ips: return IP4 and IP6 addresses using 2 different lists so we can list the IP6 ones first

commit a56b81a61440415d1b2e7ff65797caaf47c5e3e9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 11:12:34 +0000

    wait_bytestream_open: discard non IPv4 address as twisted doesn't support IPv6...

commit de9cfcf84b46c4d4cce39241d79f915c7fc3ff76
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 10:14:05 +0000

    use a GSList to store IP's

commit 4118dc5e3a9b07ed3ebd0ba7344032e5592d6519
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 10:11:45 +0000

    gabble_bytestream_socks5_initiate: use a for to iterate on the IP's list

commit 68f1729ad3e3180743c26b9744c918495eeaeff8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 10:08:28 +0000

    the not getifaddrs version of get_local_interfaces_ips should support IPv6 too

commit 4212baeea53496f3fc5a3016130b3ad61b29a44a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-10 15:42:15 +0000

    SOCKS5: list IP6 addresses as well

commit f99824a2c5937285094b41c3c29862305773f8a6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-24 12:14:01 +0000

    test-caps-tubes.py: import constants as cs

commit 3f9c8246429ba5436fbd6d7f8c29761fdeadbd5f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-24 12:10:06 +0000

    test-caps-tubes.py: use new helper code from caps_helper

commit af2ccdd2be28cf301b7a51b90a514e8b75de5e1c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-24 12:09:03 +0000

    caps_helper: add more helper code from test-caps-tubes.py

commit 21cd34240b02a190c57678d5083057420619605c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-23 18:52:58 +0000

    Bump version to 0.7.24.1

commit c359e294a8914706fae3aed1401da6017de19fc2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-23 18:09:00 +0000

    version 0.7.24

commit c18b1ddc92e8c02ecb0a631e0967e9a2450dec26
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-23 17:09:13 +0000

    NEWS for 0.7.24

commit 771ba2eefc9fe8dd0d8834548b0679ce23c97fc4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-17 14:21:59 +0000

    Delete vcard/test-vcard-torture.py
    
    It doesn't do anything and isn't run anyway.

commit 753e3732239e75a40ea4274634405df43e77e59f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-17 14:01:37 +0000

    Delete vcard/test-vcard-set-and-get.py
    
    It doesn't test anything useful that's not tested elsewhere.
    
    It tests that RequestAvatar waits for the vCard to be retrieved before
    returning or erroring, but that's already tested in test-avatar.py and
    test-vcard-cache.py respectively.
    
    It also somewhat tests that making two updates simultaneously works,
    but that's tested in test-vcard-race.py (which doesn't actually test a
    race! :D).

commit 99fa338154e9dc798c3d4757e52407b82d78b1cb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-16 19:20:24 +0000

    Simplify muc/test-muc-alias.py to use helper functions

commit d212f474249a9cbfc260435aa4fafece5fc79a37
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-16 19:14:06 +0000

    Remove vcard/test-muc-alias.py
    
    muc/test-muc-alias.py tests everything this test does, and more. Indeed,
    the vcard/ variant doesn't even *mention* vCards. :-)

commit 56bc8f5a390fdf7454a71dd9be060ca003f8a38b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-16 16:48:18 +0000

    Port test-vcard-race to newer test API

commit b034fdbf686214ec4a9d3fc46d97b6887c512c21
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-16 14:38:13 +0000

    Port test-save-alias-to-vcard.py to newer test api

commit 0f2db3fe308201e72e81d1b6236a0c1db59ef022
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-16 18:57:04 +0000

    Add handle_[sg]et_vcard-alikes for new test API

commit 171aa92216b786ebf49d0b91b0a67c0bff8d6991
Merge: b372433 e23f965
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-23 18:05:27 +0000

    Merge branch 'master' into file-transfer

commit e23f965915dc9c12d1805d8aea6335948cf3fcca
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-23 17:27:58 +0000

    gibber_fd_transport_send: returns an error if something went wrong

commit bc41ad65379702353a6b80cadb9f2d4283f2a5e9
Merge: a29527d 25dc2ce
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-23 17:26:12 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble

commit a29527d0be473d3eda3d35421b7ff6f1cfb88e6b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-23 17:19:07 +0000

    socks5_handle_received_data: store the buffer len
    
    If something went wront in the data-received callback, the bytestream
    could be freed and so the priv->read_buffer

commit b372433c374f3944c526f4c3cef709693117e58f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-23 17:19:07 +0000

    socks5_handle_received_data: store the buffer len
    
    If something went wront in the data-received callback, the bytestream
    could be freed and so the priv->read_buffer

commit 25dc2ced0a86231b30e842cd3faa136aa13eca28
Merge: 31dc7c8 cc98108
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-23 17:05:33 +0000

    Merge branch 'codecs-updated-fixes'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit cc9810890a41980e9b262eaa38b033a4b6fe089f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-20 20:08:16 +0200

    Allow updating channels from 0 to anything.
    
    Olivier tells me 0 is a wildcard, so it's fine to change from 0 to a
    specified number of channels.

commit 5b1070d32fb9ed764bdb49fdbd3f857e1372925c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-20 20:06:52 +0200

    Default codec channels to 0, not 1.
    
    Olivier tells me 0 is a wildcard.  The tests were assuming the default
    was 1, so had to be changed.

commit 8bc0a856eadbdc58a0aa2dca7fdb36f22e23de1e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-20 18:14:56 +0200

    Updated codecs may be a subset of local codecs.
    
    Olivier pointed out that the codecs passed to CodecsUpdated need only be
    a subset of those passed to Ready/SetLocalCodecs, because they're the
    intersection of those and the remote codecs.

commit 31dc7c8a4cf515e1c502bb008e80b77724649630
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-22 14:39:59 +0000

    Be more permissive when testing message-type.
    
    The spec was changed from saying it SHOULD be omitted to saying it MAY
    be omitted if it would otherwise be 0. My Haze implementation didn't
    bother omitting it, so this test failed when I applied it to Haze.

commit 62f43a60c367bb1500a96cf4dc3afd9536b4acdc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-23 14:22:52 +0000

    Simplify access to private struct in several files

commit b7f016d2936a9c2bc213e4a6266c4dcdf5629eeb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-20 15:43:39 +0200

    Unrace google-relay test.
    
    Fixes fd.o #20643

commit e2c620056bc5999537c357ebe8ed39aabc47ed89
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-23 15:50:57 +0000

    close the bytestream AND the local transport when something went wrong

commit 1b78f9e8005391bbd14c5d1bb50b024bd08d0a22
Merge: 16d51f6 049db20
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-23 15:40:32 +0000

    Merge branch 'master' into file-transfer

commit 049db20936d02e24c952f4df9d71fce99f70308a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-23 14:17:11 +0000

    SOCKS5: gabble_bytestream_socks5_send: artifically keep the bytestream alive if something when wrong while sending

commit 16d51f6157cc22e7f7c5928c3f217a28d10bdb1f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-23 12:23:25 +0000

    add test-receive-file-and-close-socket-while-receiving.py

commit e081a6bdb2493c890762a0d5ebaa85a09ad62cf0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-23 12:19:31 +0000

    transport_disconnected_cb: close bytestream if needed

commit f0927fbd1bc371229ef8e17ac852051dfe2aa53a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-17 15:33:53 +0000

    sync_stream once we sent the contact capabilities

commit bcf438d43d1e2625e9c24d2a15cc91c31919a6ce
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-20 15:11:53 +0200

    Ignore Google relay responses when session dies
    
    This fixes fd.o #20764.
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 7b91982fe6ecf4a86290f38e87fe31fd9fb1cf2d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-17 15:34:18 +0000

    gabble_file_transfer_channel_offer_file: pick a resource supporting FT

commit ec8f59ba90bbd6d9627938aa5b3bfb91b9342a54
Merge: ef6db2f a7aff72
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-19 12:00:41 +0000

    Merge branch 'uuid'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit e35a1607c826b688d45d1586fefd5bdc9f8f5e64
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-19 10:51:25 +0000

    fix debug messages

commit a7aff72bc7f617d5501801f5be2b3dab71b9eedc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-18 16:43:22 +0000

    Send and receive message-token/delivery-token/sent message tokens, using the XMPP id attribute

commit bf1bc5413c6d58e2a678f61c8436893ac0d93b23
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-18 16:40:31 +0000

    util: add gabble_generate_id, a wrapper for libuuid (if available) or a time-based ID (if not)

commit 13dc85dc32c3c274fe2b30da3bf7c59bbd0fc621
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-18 15:42:18 +0000

    pass a 0 offset to AcceptFile

commit ef6db2fb8b80940e5ebcf389e80f3f8f051bafbe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-18 14:58:55 +0000

    transport_handler: read_buffer is not supposed to be NULL

commit 2e01f73fd527b2fd0e86b4ea4782452e5ad8d5d6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-18 14:45:52 +0000

    bytestream_activate_next: assert that active_bytestream is not NULL

commit 5c679af0df3ea3ddffdf5af3bf7d1a1caeab4ba6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-18 14:39:58 +0000

    check_activity_properties: check pubsub_query return value

commit 79acf41e11bb5c0d18e199812022707f8a47748d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-18 14:38:09 +0000

    gibber-listener: check getsockname return value

commit b717beff7da363d3a9e63261ea0048956d4a2a86
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-18 14:34:57 +0000

    gabble_jingle_session_parse: we don't use the responder attribute

commit 8af849bcceaa4f65f8e0f38a68347db29b5b5aa8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-18 14:34:23 +0000

    gabble_jingle_session_parse: we don't use the 'to' attribute

commit 6a61589399342ca37300bae4cfece5acaacf5c47
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-18 14:30:34 +0000

    gabble_olpc_buddy_view_constructor: remove useless priv pointer

commit d156a725f7e31f3fe2556939c3245e3e731cf6f3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-18 14:29:38 +0000

    gabble_olpc_activity_view_constructor: no need of contact_handles

commit 8faadc8de2fc4bb1a381e545ca6b03b53ae58804
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-18 14:28:00 +0000

    gabble_private_tubes_factory_requestotron: no need to store the newly created tubes channel

commit 85ff6dff8a879ded9b36a102c55efe0894621754
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-18 14:25:06 +0000

    coding style fix

commit 57a4c72ad6cc41414e66e5862d9511adf06e695d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-18 14:22:18 +0000

    _gabble_muc_channel_state_receive: remove useless priv pointer

commit a30aef418708b44a2169c20114a9dbf4aaf03122
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-18 14:18:13 +0000

    tube-dbus: check dbus_message_set_sender return value

commit ca5915d16ca87f8d5e332228e1c0ac7734849d08
Merge: 10fd4dc f8f728b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 17:29:29 +0000

    Merge branch 'socks5' into file-transfer
    
    Conflicts:
    
    	NEWS

commit f8f728b4e16db990f4563c48a869fd56e0876ba6
Merge: c1bc9db 9a60bbe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 17:25:54 +0000

    Merge branch 'master' into socks5
    
    Conflicts:
    
    	NEWS

commit 9a60bbeef15d0d1c264f436ee5c09414bd8e10a6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 17:20:22 +0000

    start NEWS for 0.7.24

commit 96854518049abdaa5d015bddad3a37592869b4b0
Merge: cfcf2a7 931f10a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 17:16:06 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble

commit cfcf2a75f4535f4b825d4ae09f2b9f3c294a384d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 17:12:50 +0000

    presence-cache: coding style fix

commit 2b7e9140a7b9bd5e01c2e9e18a2f8c5aa6a0f95b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 17:12:36 +0000

    media-channel: coding style fix

commit 658f7eca0fbb42657570a3a0c94e77ef188957cf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 17:12:20 +0000

    muc-factory: coding style fix

commit 0f055e3135a550572c92ce3dfa98d9da696039ca
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 17:12:04 +0000

    jingle-session: coding style fix

commit 832a79fc79da555f10c8bd100371b4bb707ab51b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 17:11:46 +0000

    jingle-media-rtp: coding style fix

commit 9f63560b30b023a989b9fa1a8bc4ab21b7f021e2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 17:11:30 +0000

    jingle-content: coding style fix

commit e80bcaaf09e982399e5a31aaba92e038ff3f62d9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 17:11:11 +0000

    conn-location: coding style fixes

commit 2084ee0bd40598c4ce14021e793c624a95e9a077
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 17:07:21 +0000

    no need to add telepathy_gabble_SOURCES twice to check_c_sources

commit 394a103595fb239772819e6393bb485e01951021
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 17:06:57 +0000

    libgabble_convenience_la_our_sources has been renamed to libgabble_convenience_la_SOURCES

commit 10fd4dc9d9a154d41f46913ad4716bb6f794d62e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 16:14:04 +0000

    gabble_ft_manager_handle_request: display contact ID instead of his handle in debug msg

commit 0732e5561fc718c7d1a8202a1a6d3c01c91dbc0e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 16:12:58 +0000

    gabble_file_transfer_channel_constructor: add a debug msg telling some info about the FT

commit a840a1c235ed3123962338c2871ae0379ad28476
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 16:11:36 +0000

    generate FT channel path in the channel constructor and using its address to ensure it's unique

commit 931f10a82722160466a49e8f11d75c427c8a1366
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-16 15:28:53 +0000

    bump nano version to 0.7.23.1

commit da9b753fbda9c1b43ffd1a374c2979bf9cfa1623
Merge: d57d924 99db953
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-16 11:33:08 +0000

    Merge branch 'master' into file-transfer
    
    Conflicts:
    
    	NEWS
    	tests/twisted/tubes/tubetestutil.py

commit 113bf9551a8f65756325b92c303e4deb7008141c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-13 09:34:38 +0000

    Version 0.7.23

commit 126a701c0c1666b1e083dad22d66a7257f23cd30
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-13 09:32:53 +0000

    Mention GetHandle() fix in NEWS

commit 29d4f47b5027ade30c92f4bf07678a81343d5607
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-13 09:28:02 +0000

    Fill in release name and date.

commit b87e8083082ecee8f3136eba8b0de633c590ca2b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-13 09:24:32 +0000

    Mention CodecsUpdated in NEWS

commit b69a34054106e329c5262fa0daeabd76c88baa0a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-13 18:47:51 +0000

    Remove redundant GET_PRIV macros from most jingle code
    
    MediaFactory still has one because it's not just foo->priv and I was
    just doing this while running the test suite.

commit 44481cf150dd87272f4829fd34888236195bf8b8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-13 18:22:00 +0000

    Make MediaStream ref its JingleContent
    
    (rather than assuming that the former will outlive the latter, which
    isn't always true.) Use gabble_signal_connect_weak () to disconnect from
    all the content's signals when the stream is destroyed, rather than only
    disconnecting from one.

commit c1bc9dbd4cb1f9920921336cd5a255d976e6f754
Merge: 05b8a90 99db953
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-13 15:14:16 +0000

    Merge branch 'master' into socks5-reverted
    
    Conflicts:
    
    	NEWS
    	tests/twisted/tubes/tubetestutil.py

commit 05b8a90113eb5db16f572f97ad46219e13a6931a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-13 11:26:01 +0000

    fix typo in comment

commit 470373552ec78c3756bd75f6dd1f4f1e4b07daf1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-13 11:21:01 +0000

    fix NEWS

commit cd921f153fe0079619bb8bffb45c7a8383a4540f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-11 15:24:41 +0000

    style fixes

commit 99db9537acc30839ecf5028bbc1fd8f3c8e82b41
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-13 10:19:55 +0000

    cast codec->id to a guint before using GUINT_TO_POINTER to make compiler happy

commit 57ab67458f686de32a5efde7639d6a06f9246257
Merge: 305cc16 75e0188
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-12 20:07:24 +0000

    Merge branch 'codecs-updated'
    
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 305cc169bc503736bfa5391b2af3ce46ae98f7f9
Merge: 435733f 36fd708
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-12 19:17:35 +0000

    Merge branch 'request-streams'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>
    Reviewed-by: Robert McQueen <robert.mcqueen@collabora.co.uk>

commit 435733fc8f8a89ca91fa02a1c89edfda274ca7f0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-12 18:53:15 +0000

    Include SI namespace when expecting iq result

commit 3246db382f7fb5213ae0d53ef6992dbd276a559a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-12 18:32:42 +0000

    Fix format strings for gsize

commit 36fd708aa55f2fbe7a3d35d3b4c322bd60bb108a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-12 18:11:50 +0000

    Constant-ify and tidy jingle/outgoing-many-streams

commit f303376e54b5438c062808ba4e294d38ed450f81
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-12 17:29:22 +0000

    Improve PendingStreamRequest comments

commit 4d804b4829a9c182588680a1bd62bc4e4cddd44b
Merge: d67a2f6 3ecb603
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-12 17:17:21 +0000

    Merge branch 'get-muc'

commit 3ecb60343c6b95e9d52a45d0147a52f7e1c38123
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-12 15:06:06 +0000

    add anonymous arg to get_muc_tubes_channel

commit b18f924de51bf9fcc567fd136ca807182a4a98e0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-12 14:47:26 +0000

    offer-muc-stream-tube.py: use get_muc_tubes_channel

commit 3beec7a23bf674e05133426257b142982d4d3931
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-12 14:45:55 +0000

    get_muc_tubes_channel: return the room handle instead of an array containing only it

commit 20a0004860b00fdcd173c4e2ba81fb4abd5b0f81
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-12 14:35:04 +0000

    get_muc_tubes_channel: use constants

commit 55087b760173e5918d7e328c90a56ca58d869ca5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-12 14:33:58 +0000

    get_muc_tubes_channel: check NewChannels signal

commit d67a2f6fe4e11b2beb2541871ff849846694af7b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-12 13:44:48 +0000

    fix typo in NEWS

commit 257c5b368574c868ae204a24870acef8855fadef
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-12 13:29:18 +0000

    IBB: add a comment explaining how we use sent_stanzas_not_acked

commit 46610499c7d51cf371ee1e8947f454d2dede6abd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-10 12:13:52 +0000

    upgrade NEWS

commit 4f36fb77e770ff5a9ce92d0382a445841b0cf31d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-10 11:42:31 +0000

    gabble_bytestream_ibb_close_received: wait write buffer is flushed before closing

commit 964398ef910d5d7d2c0feabb743981e75b6bac00
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-10 11:32:50 +0000

    add gabble_bytestream_ibb_close_received

commit 079d9573735ce9478a4b2aa6927a10cdd3dccb9e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-10 10:58:44 +0000

    IBB: don't close the bytestream right away if the write buffer is not empty

commit 06be065fab5a721c52ef54426b67509e545d9627
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-09 18:22:13 +0000

    BytestreamS5B.get_data: check size of expected data

commit a1ac7a4de1ee77a191e0bad0f7bfa98fe0aa9077
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-09 18:17:52 +0000

    IBB: don't ack IQ while the bytestream is read blocked

commit 21bc593fd39c3d3f3424a1a94509072df3b0333d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-09 17:57:20 +0000

    IBB: write block the bystream while the write buffer is not empty

commit 31068b6b6167bd51963ccd3040fa2ecb84c75ec8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-09 17:51:37 +0000

    IBB: implement flow control using a window of acked stanzas

commit a9484a3fd320c1d0784f3d5937187dd1512a659b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-09 17:40:33 +0000

    set a ridiculously small block size to stress test IBB buffering

commit 6fa344b408665f62e72b0a9f5922632edaf14b7c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-09 17:08:45 +0000

    pass expected data len to get_data

commit 0617278f4c10d8f2fbe5e3aadc64dfd7a9410ff5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-09 17:07:36 +0000

    add optionnal len arg to get_data

commit 8b5161f0d2ee0533b78223f6d009cb80ad75cb2b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-09 16:21:05 +0000

    factor out send_data

commit d5ac5663d585b908ead7a8b62eac9fc2f6e8a90a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-09 16:16:28 +0000

    rename BUFFER_MAX_SIZE to READ_BUFFER_MAX_SIZE

commit 0656a9a720fa567cfa1bffc8fb71110a92bdf25c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-09 16:11:04 +0000

    bytestream-ibb: rename buffer to read_buffer

commit 5c8b65a748b5f008f10e6b1397ecf120446c3614
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-09 16:08:13 +0000

    ack IBB IQ's in tests

commit e03952b281cadc29d3bfdb5c9bffe0a45712814f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-09 16:04:36 +0000

    use IQ's to send IBB data

commit 30ddd4cfaaa9596d5c47be3d71f58718d06d8f1f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-09 16:00:42 +0000

    fix typo in comment

commit 6fb4272f0ebf1d81424f9e4735f8ffc7f701e8a9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-09 15:57:07 +0000

    add BytestreamIBBIQ

commit 82aa62aca65b98f24c854f35b66cc9e8427ba8c7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-09 15:55:12 +0000

    abstract BytestreamIBB

commit 8fa10114b4274b7763e1d6fc451c7e635965cf13
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-12 11:23:54 +0000

    olpc/gadget-invite.py: use make_muc_presence

commit 2d030872e01ad57967857cc10e7d3ddbea7254d6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-12 11:23:43 +0000

    muc/test-muc-ownership.py: use make_muc_presence

commit 49054d88e73a13116cf53c7ffefbedbccab5496e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-12 11:23:29 +0000

    add optionnal jid arg to make_muc_presence

commit e8d806c080ad5421f0031603a51c537bdfa40c6e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-12 11:15:53 +0000

    muc/test-muc-invitation.py: use make_muc_presence

commit 3d2ad56b5d24405eb6f261b32b0347a7e7d8785a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-12 11:15:35 +0000

    muc/test-muc-alias.py: use make_muc_presence

commit dfe39dfc7af6a44ba97932db3a3058bce8d842d1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-12 11:15:18 +0000

    muc/test-muc-properties.py: use make_muc_presence

commit 6f080a8a5970c5a9f1a380bc52f1c9c409d1dce1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-12 11:14:58 +0000

    olpc/olpc-muc-invitation.py: use make_muc_presence

commit 97dfe60d4656e997017f62036b0812e5d9bbc6dd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-12 11:14:48 +0000

    olpc/olpc-muc-prop-change.py: use make_muc_presence

commit 1d80fe270d2ddfde1ce82ab799c02787daf9515e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-12 11:13:52 +0000

    vcard/test-muc-alias.py: use make_muc_presence

commit f847902e4a2e7606ca62f9dbef8d2dfc004c9bee
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-12 11:13:36 +0000

    muc/test-ensure.py: use make_muc_presence

commit cdf8bcaa5195e42dca5d3f72fa06ed8f38af4dd6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-12 11:00:46 +0000

    test-get-available-tubes: use make_muc_presence

commit c5730a3fe5efd8fb3ba0be29ba121ed741c35661
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-12 11:00:25 +0000

    muctubeutil: use make_muc_presence

commit 65db874f9882f7efd0b01072fe860abde196059e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-12 10:52:25 +0000

    close-muc-with-closed-tube: use make_muc_presence

commit 1864d10d6cea70e65376349ff1753b2f7d92b525
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-12 10:50:17 +0000

    accept-muc-dbus-tube: use make_muc_presence

commit 3bbe1d155f26a1b7ce41bb8117ef1f1b22100063
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-12 10:47:35 +0000

    accept-muc-stream-tube: use make_muc_presence

commit 5c6ae68a4fdb73dd0092f0fdba2fc0e80fcbb447
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-11 15:21:57 +0000

    style fix

commit cc507f61f9027d7c2a5402887b638b374001cf82
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-11 14:55:28 +0000

    wrap a long line

commit eb61bc3be627e911b6bb0a3f290ddabbce3e2ea4
Merge: 60db960 3d416d5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-11 14:36:49 +0000

    Merge branch 'master' into socks5

commit 341d3a216d71bafe861064e1f720adc46592b9cc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-11 12:50:51 +0000

    tests/twisted: Use conn.Requests instead of making a dbus.Interface

commit f81991cd6f95cd010855dfc8b657ae100b551ad2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-11 12:39:02 +0000

    servicetest: add SimplePresence and Requests to the magical interface list

commit d57d924b040401775e90c6da5da644e941b4b45e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-11 12:29:52 +0000

    gabble_ft_manager_handle_si_request: check if strptime failed

commit 516655377649b3a608cdc7ed7c6964824b279d79
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-11 12:22:09 +0000

    test date when reciving a file

commit 5700109c08ae092b1b953fa7a9a0984aa8082a4b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-11 12:21:49 +0000

    parse date in FT offer

commit de041d47bcc36557d9c85348921c852ac456949d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-11 11:53:48 +0000

    check date in FT offer

commit 04bca642fce8bf29cbb2a9ad50ae4cce9f5ab96d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-11 11:53:26 +0000

    gabble_file_transfer_channel_offer_file: send date in FT offer

commit bd42643d6f9fb24808ed3dc625998e08d590b2f3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-11 10:57:19 +0000

    jingle/outgoing-many-streams.py: test a pathologically large number of audio and video streams

commit 9146471f7d43ee5ae2b77ac16916e879df5f6d0e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-11 10:54:57 +0000

    GabbleMediaChannel: return streams from RequestStreams in the correct order
    
    RequestStreams guarantees to return streams in the same order as requests,
    so we need to remember what order the content objects were in, and return
    streams in the corresponding order.

commit 55d4ac72bd5a7ee51ae577c9c891158dba18cc21
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-11 10:26:45 +0000

    GabbleMediaChannel: improve comments a bit

commit 4385aa1eff8a778b974318f6e2c8383808233f58
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-11 10:06:08 +0000

    jingle/test-outgoing-call-requestotron.py: exercise ListStreams in a basic way, and make assertions about the result of RequestStreams

commit de4326a63eb128a9471a37ee1fe108f39f54694f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-11 10:05:46 +0000

    jingle/test-outgoing-call.py: exercise ListStreams in a basic way, and make assertions about the result of RequestStreams

commit 8c5ae6d3af74b8361a7d45499821ba1abe4812c1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-11 10:05:08 +0000

    jingle/test-incoming-call.py: exercise ListStreams in a basic way

commit 1630d87313d0a8a8a72f5fd2f51480d71b4b1e4a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-11 10:04:35 +0000

    GabbleMediaChannel: fix regression in RequestStreams: return the streams, not an empty list

commit 0b70212cafc11445909b2bc58591e941ad8a4cde
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-11 09:45:45 +0000

    GabbleMediaChannel: don't leak the value arrays returned by ListStreams and RequestStreams

commit 3d416d5497f798f653279863b1a98554ed07ef49
Merge: 3dee475 731b3ac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-10 18:18:26 +0000

    Merge branch 'compliance'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 731b3ac561278116dc204143c38c26efc93316d1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-10 18:12:53 +0000

    Here is the NEWS

commit d7a4961d339d8aab8d0e688f46d0a2b46da4e6f4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-10 18:05:44 +0000

    Various Jingle tests: assert that GetHandle() returns the right thing in all cases

commit d848d59cc1c44c1613eb346ac4cf8f258cb6fa7f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-10 18:02:20 +0000

    gabble_media_channel_get_handle: return the same things GetAll would, rather than hard-coding (0, 0)

commit 232db1c2ad2a90b42e466204a0e8f178c4afdb70
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-10 17:26:26 +0000

    remove InitialOffset from allowed properties as we don't support it atm

commit 3dee47538e296a63e05379d703befdc2a8828d70
Merge: 2af5cf0 e9aa4d8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-10 13:32:55 +0000

    Merge branch '20566'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit d2e1c8c6c2a67c0217aa0b23a26601140d8e74f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-10 13:16:59 +0000

    remove useless bytestream import from FT tests

commit d208a582a5ce1bece2a98cae95bec081f92cb7c9
Merge: 30a2024 60db960
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-10 13:10:20 +0000

    Merge branch 'socks5' into file-transfer

commit 60db960c2da83f7ed8219adaf5e527fa62c07026
Merge: 3a3c481 2af5cf0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-10 13:04:29 +0000

    Merge branch 'master' into socks5
    
    Conflicts:
    
    	tests/twisted/tubes/tubetestutil.py

commit 2af5cf03638a9bb49f938d4d2aef832870963725
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-10 12:48:29 +0000

    gibber_fd_transport_set_fd: don't add watcher if transport was blocked

commit e9aa4d8a4630fe0a08066fdd6ab4bbcbf60d6420
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-10 12:47:13 +0000

    google-relay.py: test outgoing calls too (regression test for fd.o#20566)

commit c12d6775bc495f65e9da758375efabde632a9677
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-10 12:12:59 +0000

    GabbleMediaChannel: don't return from RequestStreams until the stream is actually created
    
    Now that creating a stream from a content is never synchronous, we can
    safely assume that the stream can't be created until the main loop is
    re-entered.

commit d9ace4029d4d6d65cd7d70a859834f3398e33bd9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-09 19:34:34 +0000

    GabbleMediaChannel: always construct streams asynchronously
    
    Again, this reduces the number of code paths flying around - we can rely
    on things not happening until the main loop is re-entered.

commit 19eb28ed947272d6373a3a610e8339d8fe890be3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-09 19:26:59 +0000

    gabble_jingle_factory_create_google_relay_session: always call callback asynchronously
    
    This reduces the number of code paths, and with hindsight, should have
    been what I did all along.

commit 182b5f5b705a7b99be11d4867d87d6504f131d18
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-09 19:05:33 +0000

    GabbleMediaChannel: refactor _gabble_media_channel_request_streams into _gabble_media_channel_request_contents
    
    We can no longer always create streams synchronously, because downloading
    RelayInfo can be (but is not always!) asynchronous (fd.o#20566 is the
    crash that this causes). This patch works towards solving the crash.

commit 878856b3c79a2b971e3dce8938aca15bd1653768
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-09 15:14:11 +0000

    rename BytestreamIBB to BytestreamIBBMsg

commit b1c8daed4e9374b21e42e4b28fb7c2af8b5fa0e7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-09 15:10:42 +0000

    Move IBB code from helper functions to BystreamIBB methods

commit 30a202456aed5f83e658153ba2d138410045c22c
Merge: 91b4a19 3a3c481
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-09 14:13:37 +0000

    Merge branch 'socks5' into file-transfer

commit 3a3c4816d29a852fd422efd315b72ed674e38b23
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-09 14:12:45 +0000

    set a timer when trying to connect to streamhost so we don't have to wait for the TCP time out

commit 68177c88b5a2fff677919b6e25dc525efc04d9fa
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-06 18:07:45 +0000

    Set google:jingleinfo server to 127.0.0.1 in test
    
    Using localhost, libcurl seems to try only the first address it resolves
    to, namely ::1. BaseHTTPServer.HTTPServer doesn't seem to want to bind
    to ::1. I can't find any way to make libcurl fall back if ipv6 doesn't
    work. :(
    
    Reviewed-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit 48754d537f1dd49d81309e78424df0ee893b6d3c
Merge: 5d37572 fed4184
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-06 16:13:30 +0000

    Merge branch 'master' into socks5

commit fed41842c91422a134ab13002060d97a84772757
Merge: 67860b7 d79c7ce
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-06 16:04:33 +0000

    Merge branch 'connect-aysnc'

commit 67860b7b8478771472aa82feeb2ca25072e1788d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-06 16:00:25 +0000

    use caps_helper.make_caps_disco_reply instead of our own copy of it

commit b2854b5680ac4767de8193640283afbcb9869a0c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-06 15:58:41 +0000

    add caps_helper.make_caps_disco_reply

commit 8b36ac0360412177b96a714e8d32252209ba42f6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-06 15:29:14 +0000

    use gabbletest.make_presence instead of our own version of it

commit 51ab5d916ac59768b59fbe553b535570f6364ca6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-06 15:14:34 +0000

    add gabbletest.make_presence

commit d79c7ce2c45f0d0672b5f4862231ebb9b04d0cd8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-05 19:19:37 +0000

    gibber_tcp_transport_connect is now async

commit 75e0188097c4e51c64fa81994a0d9bdc501ba1f3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-05 16:55:40 +0000

    Remove redundant cast and local variable

commit d92746666b8ec1e7d4c4fab0bda2f6327f06d08f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-05 16:49:43 +0000

    Sanify freeing of lists of codecs.
    
    l = g_list_remove (l, l->data) is equivalent to
    l = g_list_delete_link (l, l) except silly. :)

commit 04191f245d80a1ecb6588a3583af0445f2b47060
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-05 16:43:20 +0000

    Remove error-setting macros from JingleMediaRtp
    
    Two were unused; one didn't really buy much, and because the same macro
    appears in several other files, hitting ^] in Vim to find its definition
    doesn't work so well.

commit 72c434acc6db4bb8be25b6e5c01d555f12e4a2ff
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-05 16:38:37 +0000

    Simplify handling of local codec updates.

commit 21d8a23ba53eeb3d16d2c36047c321ea2dd997c6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-05 16:24:34 +0000

    Refactor remote codec update handling.
    
    Previously, if two updates were received, and the second was invalid,
    the first would been applied to the cache before rejecting the
    description-info. This would mean that any subsequent valid
    description-infos would cause SetRemoteCodecs to be emitted including
    the erroneously accepted change from the invalid stanza.

commit ae21834fe2d08e4c389bd60cc1fb6e817bfb28d0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-05 14:56:35 +0000

    Make codec freeing functions static

commit b87c98dfef32e64ebfb45215747d4e43630d6cf4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-05 14:30:55 +0000

    Use guint8 not guchar for codec IDs.
    
    They're (probably?) the same on all platforms glib runs on, but the id
    is conceptually an integer, not a character.

commit 3c56805fb67cb96c4ec60656112ac20803895154
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-05 14:21:48 +0000

    Reject transport-infos changing rate/channels
    
    Also, reject transport-infos which try to add new codecs.

commit 5e15bee4a90add120c2b4f33a88e2be23fb22b3d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-05 12:26:46 +0000

    Extract processing one incoming codec update

commit a69bade2180bc5f927ec3e3fc7f0b1af8d6d10f7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-05 12:24:04 +0000

    Test remote end sending a parameter update

commit f7aa06dcecee7acbc5736cf9cc746185b1675ad2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-05 11:48:22 +0000

    Don't leak new remote codecs on update.

commit 256ef2382dc2953711f63bf0c38e6b77dca7de5d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-05 11:26:32 +0000

    Don't let CodecsUpdated change clockrate/channels
    
    Olivier informs me that this is bad and wrong.

commit 91b4a190f77b81d587e7f39e4e4720af487e8587
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-05 16:11:29 +0000

    break a race when opening the bytestream

commit 1453873cd9ee751a808d28231ffdfd55143bb22c
Merge: c69f490 5d37572
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-05 16:02:34 +0000

    Merge branch 'socks5' into file-transfer

commit 5d3757243d7f2b2ce4ca38387d0201ec8a21e3df
Merge: a88b162 ff36836
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-05 16:01:42 +0000

    Merge branch 'master' into socks5
    
    Conflicts:
    
    	tests/twisted/bytestream.py

commit ff36836c5d6dac08cc4f7d55ca1b1bfdd06fcf23
Merge: 8bff54c af693c3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-05 15:41:11 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble

commit 8bff54cfa40886d15500c7de4c85902061fd6a24
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-05 15:39:04 +0000

    accept-private-dbus-tube: break one more race

commit cf454cf0fd466a5bd89ca319df5dd16b7471c404
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-05 15:28:55 +0000

    pass 2 list of events to open_bystream to break races

commit af693c3871c221288750fb80a10f1845ede70245
Merge: c2c8fbb 2bb6db3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-04 18:55:02 +0000

    Merge branch 'relayinfo'
    
    Reviewed-by: Senko Rasic <senko.rasic@collabora.co.uk>

commit c2c8fbbbfaf6b0a61e7d93bc0923e642e60f51fb
Merge: 1029dc4 5219ff8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-04 14:18:53 +0000

    Merge branch 'trivia'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 1029dc459434a6ef22100bdeda3674b84997d1d4
Merge: 7a541e0 ca58e74
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-04 14:18:14 +0000

    Merge commit 'wjt/trivia'
    
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 2bb6db3e78bd4da1da72e491e67f5d5b3c19ae74
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-04 13:04:21 +0000

    jingle/google-relay.py: assert that the RelayInfo is what we allocated

commit e0013f49555e8639a2b149ee5a3cd21aa42515c5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-04 12:45:04 +0000

    GabbleMediaChannel: pass RelayInfo through to streams on creation

commit afa84079ada7a1716b80483e90d2dec17a205d29
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-04 12:42:49 +0000

    GabbleMediaStream: make relay-info settable at construct time

commit cf2c76db6951ff9f22e336e6da17dba5c33eda72
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-04 12:36:21 +0000

    GabbleMediaChannel: defer creation of streams until we have the relay info

commit 818b1bccb8548aa5979e1154259742371d91e4e0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-04 12:22:33 +0000

    GabbleJingleFactory: emit an array of relays in Telepathy format, rather than the last relay received in Google format
    
    Currently, this assumes/hopes that the same username/password can safely
    be used for UDP, TCP and TLS; this could be changed to triple the number
    of HTTP requests in future if necessary.

commit babb08b5bdcc40f7ff2339ccc5f18d354c84c6b3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-04 11:43:13 +0000

    jingle/google-relay.py: assert that we get two HTTP requests, and allocate different username/password pairs

commit a726b1086e24ce976854d12b3d9703004008d93e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-04 11:14:01 +0000

    GabbleJingleFactory: when requesting Google relay sessions, make one request per component
    
    We need a separate relay session for the RTP and the RTCP.
    
    For now, only the hash table for the last request to succeed is returned.

commit e790a96519492ca5f809379fce2b7e1906747b24
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-03 19:22:45 +0000

    GabbleJingleFactory: parse Google relay HTTP response in a slightly less copy-happy way

commit 238c8e80735b146a78a693d093891f6aee2af75a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-03 19:10:08 +0000

    jingle/google-relay.py: Add a test asserting that an appropriate HTTP request is made
    
    This test does not yet assert that anything is done with the result of the
    HTTP request.

commit 9e079807e993dc2b532c8d152019a305c55a76d0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-03 18:26:16 +0000

    Add a hook for the regression tests to change the HTTP port
    
    The regression tests can't listen on port 80 (we don't want to run them
    as root), so they need a way to feed in a port number.

commit 8bf65b1a863787ce7af5526873dbd407f9fcbfe6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-03 17:49:33 +0000

    GabbleJingleFactory: actually return early if we don't want to make the request

commit bb8fa8f971b124a16d9f7fd953a0e57017e7e53c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-03 17:45:49 +0000

    GabbleMediaChannel: send a Google relay session request for each stream
    
    We don't wait for the reply yet, or do anything with it (other than debug
    output).

commit 8ef87cd4ff66162550553a4baee59cc49aa43f27
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-03 17:40:05 +0000

    GabbleJingleFactory: unref the map after passing it to the callback
    
    If the callback wants it, it can ref it.

commit 19371cd317d9740ea0b5195c333e3b9e5e2139bb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-03 17:16:21 +0000

    GabbleJingleFactory: don't send an invalid HTTP request if we weren't given a server name

commit 6128ba6f3dec123d3102c6e14c94934dfd80d532
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-03 17:16:02 +0000

    GabbleJingleFactory: Make relay_server etc. private

commit c78f2bb7fc0cb9e682b0d7e79963e912a65ffd37
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-03 17:15:29 +0000

    JingleFactory: set a short timeout value for google relay session creation
    
    (Also send the HTTP request to the relay server we were told about, not a
    hard-coded hostname, which wasn't mentioned in Senko's original commit
    message -smcv)

commit 50346532964b55f12a2a8927506e06c7949a80ff
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-12-05 15:56:35 +0100

    JingleFactory: save relay server and ports from jingle disco

commit 08790bfe59a29b6ea24d02fe31bf4396aa7ffe07
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-12-05 15:58:21 +0100

    JingleFactory: add relay variables to the structure

commit 58b98bef661439050f9fb2d8bdcc22cbfa839eed
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-03 16:29:13 +0000

    GabbleJingleFactory: call a callback for Google relay sessions, rather than forcibly setting a GObject property
    
    This decouples the creation of Google relay sessions from the precise
    effect of doing so.
    
    Also, call the callback if there is no relay-token, rather than doing
    nothing.

commit a821ae61c8bdae405ed4c20c41b1a392b4009fd4
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-12-03 13:19:37 +0100

    JingleFactory: code for creating google relay sessions if relay-token is known

commit 5219ff8c5e1af3afe8268e102660237e3e8f0da7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-04 12:20:52 +0000

    util: add gabble_g_value_slice_new_uint and a family of equivalents for strings

commit d85dff4a3a355f46bf66b8f69d52c1eb426dc845
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-24 17:17:18 +0000

    tests: vastly simplify linking

commit 10e676b87137f8bcb1837ee3a62a33eca1b7d78e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-24 17:17:08 +0000

    src/Makefile.am: tell libgabble-convenience.la its dependencies, fixing build of tests with libsoup

commit 7024cf18f9024ae8260aff7d2c85da1ddc104ee0
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-12-03 13:15:32 +0100

    Depend on libsoup for doing HTTP requests

commit 6cd8ded149c9fef221c45667e832f321461a5da2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-04 12:43:03 +0000

    GabbleMediaStream: don't leak priv->stun_servers

commit ca58e74e961c11f20424ab492ae5458a3cd54f70
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-04 12:10:47 +0000

    Bump tp-glib build-dep to 0.7.26
    
    Turns out we should have done this before the last release. :(

commit 658b3d1f70291fdbebeb806d203ab4142f98c452
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-03 17:07:56 +0000

    check S5B IQ reply

commit 9fe2a3c7606a3ea6df75adfa8cb97ad98048a530
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-03 17:07:20 +0000

    don't wait for IQ result after calling open_bytestream. That has to be done in bytestream

commit a88b16252a7ee5fec15f07435d50280bd2485cd7
Merge: b154dcd 7a541e0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-03 16:42:35 +0000

    Merge branch 'master' into socks5

commit c69f490f4cd42b88d9a155b5852855798d0f270b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-03 16:04:58 +0000

    file_transfer_helper: wait for the missing bytes if they havel not all been announced

commit 7a541e01e8f731469b40beb83e685150b6fbe5fc
Merge: 7f1f0ea 3d88f88
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-03 15:50:22 +0000

    Merge branch 'priv'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 7f1f0eabfd8915774e6f5dda0068b001093aef9c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-03 15:46:50 +0000

    tp-glib.supp: sync with tp-glib master

commit 3d88f88fa1fcd1681c31cff7a004b648a2ed9788
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-03-03 13:38:04 +0000

    OLPC views: simplify access to private data struct

commit c002319b92bc10ef7fdf7ea3433ba43c492b7760
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-03 15:33:15 +0000

    read flow control is now implemented too

commit 144ca6ce368e2940f0e1b0898b09107b05529333
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-03 15:26:30 +0000

    bytestream-multiple: implement block_reading

commit 830c713c1c1b9ed3ea65d99d75c10ed3b0a08b30
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-03 15:31:33 +0000

    exec_file_transfer_test: use a for

commit bf77cf6ffa7c64c631846ef992fcc2ed110f199e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-03 15:28:38 +0000

    run FT tests with BytestreamSIFallbackS5CannotConnect and BytestreamSIFallbackS5WrongHash

commit 67989d190893f5fbab980f50e3297f814365f5d2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-03 15:26:30 +0000

    bytestream-multiple: implement block_reading

commit f60d12cb2e0183bcc7a3e30e51e6fe8f68bd3472
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-03 15:12:05 +0000

    use BytestreamS5B and BytestreamS5BPidgin in FT tests

commit 7660494214e624d4c0f6b9e5e630bc28cf38e9bb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-03 15:09:59 +0000

    file-transfer-channel: connect bytestreams signals using gabble_signal_connect_weak

commit 9ffc6ec0dd8c1d7bd51b8fec180c8881175a98b6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-03 14:47:29 +0000

    gibber-fd-transport: don't close transport when we get HUP as the buffers can be not empty

commit 39addab489a90046f7dc87b211685d5131ed91bc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-03 14:53:04 +0000

    transport_disconnected_cb: set state to cancelled only if the transfer was not completed

commit ab1a88624d8dc2faf467c95bfae99d0a89c9eab0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-03 14:50:27 +0000

    block ready from the bytestream with the local socket buffer is not empty

commit 152de1e94671f16c709c6fc73da6bed1ad818419
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-03 14:49:08 +0000

    stop reading on local socket if bytestreams informed us it's blocked on writing

commit c10e65822801ab33554804b26a4e8efdc7d07afe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-03 14:47:29 +0000

    gibber-fd-transport: don't close transport when we get HUP as the buffers can be not empty

commit 1fd1f7ce7a69793b8cad08f0b8936c9bc64bdcac
Merge: 3ce7320 b154dcd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-03 13:33:48 +0000

    Merge branch 'socks5' into file-transfer

commit b154dcd80af232b2a3a9d8f39fadd684019f543f
Merge: 5cebf7a c16a08e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-03 13:32:13 +0000

    Merge branch 'master' into socks5
    
    Conflicts:
    
    	NEWS

commit c16a08e5faec2b748a0361c6e0cb490697c64330
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-03 10:25:39 +0000

    upgrade NEWS

commit 3ce73207eaf00ead5633ab8f26778c30bd1c97dd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-03 13:23:02 +0000

    file-transfer-channel: use Gibber transports

commit ab27a0a161b827e6c4cf64be7a9801c2becbc326
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-03 10:22:09 +0000

    bytestream-multiple: forward write-blocked signal

commit fd4214f61d8d627649ed073f41c509931dcdef0d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-03 10:22:09 +0000

    bytestream-multiple: forward write-blocked signal

commit 17ce7fd67588cadad568244db2ee97ca3b2a8e63
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-27 18:06:57 +0000

    Raise an error if tpfs misuses CodecsUpdated
    
    (or, indeed, Ready, SetLocalCodecs, SupportedCodecs.)

commit a39d851564dcd3b7133ed03c351bfe23e53b78bd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-27 15:43:22 +0000

    Notice and send changes to local codec parameters

commit 14a1cbc61e05fa81892ff4ca20d129af84a4a8e3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-27 15:42:42 +0000

    Send a parameter along with initial local codecs

commit cdab14ea400bc595ab691c10dafe473626805b88
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-27 14:45:45 +0000

    Only send codecs whose clockrate or channels have changed.

commit f669c6c6ed52b6af0b91ebdd699efaaff1f3f35d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-27 13:04:11 +0000

    Add list to hold changed local codecs.

commit 65add0a90921e3502ab635161ccadb39a8d3546b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-27 12:49:11 +0000

    Extract producing payload-type nodes
    
    (with some minor coding style cleanup)

commit 0dd2d745f90c19bca07712a8951304529365bcee
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-27 01:39:42 +0000

    Remove unused GET_PRIVATE macro

commit 7f3bafa3eb6a70f2d7b722245173916a142517f8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-27 01:21:33 +0000

    Update (not replace) remote codecs on transport-info
    
    The XEP says that clients SHOULD only send information about codecs
    whose parameters have changed in transport-info. So, we have to update
    Gabble's cache of remote codecs rather than just replacing it.
    
    This patch also checks whether the name associated with an id has
    changed, and if so NAKs the iq. If the remote end has sent information
    for a new payload-type, it's just ignored.
    
    The test had to be modified, because it was buggy:
     - it changed the codec names;
     - it sent all the codecs in the transport-info, rather than just the
       changes.

commit d2d0733e83115fadb7d1398ec31d95a5242eedff
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-27 01:16:33 +0000

    Extract building huge codec tuple in tests
    
    In passing, change the number of supported channels it uses from 0 to 1.

commit c4e629bd4d73bed6a353e88ae5959460dade4c8f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-27 00:33:32 +0000

    'profile' attribute hasn't existed for over six months

commit f2ed3568bd890787840ed28cbe4db64f358add18
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-27 00:02:10 +0000

    test-desc-info: expect the 'normal' SetRemoteCodecs
    
    This fixes a race where assertions that we intended to make about the
    SetRemoteCodecs caused by the other side sending description-info ended
    up being made about the unmodified codecs.

commit 50f13d93b121f1f61a7798dc989a93a7549e5dde
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-26 17:58:07 +0000

    Extract parsing <payload-type> from parse_description

commit f1f73e30bb82f6d2f468d06a5a918077913122c2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-26 17:43:51 +0000

    Factor extract_media_type out of parse_description

commit 58806f83d8e271148405dbfd995d3680642bd366
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-26 17:33:05 +0000

    Remove unused google_mode flag from parse_description

commit ed92a925ae306031787f059359deb1c31a3f9675
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-26 17:03:08 +0000

    Make CodecsUpdated fail until codecs have been provided

commit aceb9e1dd00e2b5deb7672fc4a73a70ac3342371
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-26 13:24:38 +0000

    Move intersection-related shortcircuiting out of pass_local_codecs
    
    This means CodecsUpdated doesn't have to "trick" it into actually doing
    something.

commit f10def5cfc84104735a6170f050759a60e960b49
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-26 12:41:09 +0000

    Don't unset updating_remote_codecs when s-e responds
    
    This would fail in the case where we get a second description-info
    before the streaming implementation has reacted to the first; if the
    second one is deemed distasteful, Error() would be called and then the
    stream would have been terminated, even though we want it to continue as
    per XEP-0167 §10.
    
    Also, remove FIXMEs about ack/nak-ing description-info: my reading of
    the XEP says we don't need to.

commit bae93360deee8478fd475ba83b4491c06acf0a28
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-25 20:48:09 +0000

    Add debugging output for changing stream directions

commit ad39a2751016bace8e274145f56c4f27dd120272
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-01-25 11:07:35 +0100

    JingleSession: allow description-info in certain session states

commit 809c2cc6ae5f962f7834119c74735c5f2308b505
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-01-25 11:07:00 +0100

    jingle tests: test codec update via description-info

commit 411c3222a7d22bbad560163a6e3d3596dcd3bb6b
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-01-25 10:36:14 +0100

    Jingle: handle incoming description-info

commit 04b907db15d3d7fbfceedf38d00602c1e15afe77
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-01-24 19:17:44 +0100

    On CodecsUpdated, send the update to peer in description-info

commit 058d93adf6b1274b19c4112c3eb9cabc703fbe33
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 18:00:07 +0000

    use new bytestream test API

commit a153848a8f6363fb87073938b69cb0338546fecf
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-02 17:56:05 +0000

    bump nano-version to 0.7.22.1

commit 6c037b9d2a5c37e1476c4a5c2f00819f4138082d
Merge: e28ac7f 5cebf7a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 17:48:14 +0000

    Merge branch 'socks5' into file-transfer

commit 5cebf7a8d31847bce7219d956cc4784977c168b2
Merge: f346a3d 94d0414
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 17:44:48 +0000

    Merge branch 'master' into socks5

commit f346a3d160ba61a36b23b473d1d1430708670b86
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 17:28:02 +0000

    call self.send_not_found if _socks5_connect returned False

commit 5e819bfefa0087c419916757abadfad56a44a915
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 17:18:49 +0000

    add BytestreamS5BWrongHash and BytestreamSIFallbackS5WrongHash

commit c870a7be089a987da62255a06bfb83e054e050bb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-02 17:09:02 +0000

    version 0.7.22

commit c55b7604eea192309075a31e59945e91f37c16e8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-02 17:08:09 +0000

    Release name and date.

commit 1ef760bbda7582ace07e5274edadeed98038f7cc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 17:04:00 +0000

     SOCKS5: don't close the bytestream is something did wrong during negotiation on the initiator side

commit c03446d615c6515080997868f592cf921ae33f3e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 16:55:47 +0000

    move S5B hosts to self.hosts

commit 7861b5e9f00bcd9ad63e117eb79c54efa756e12b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 16:47:32 +0000

    implement wait_bytestream_open in BytestreamS5BCannotConnect

commit 9e55e60707ec49309a8cbad95630fdcb8b30ec40
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 16:45:19 +0000

    add BytestreamS5BCannotConnect and use it in BytestreamSIFallbackS5CannotConnect

commit 04f1e97e53df720c323ecc0e3614643355461855
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-02 14:06:54 +0000

    Add more fixes to NEWS

commit 94d0414d22e1236a1776de0733a54b5afc9a05ed
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-02 16:13:12 +0000

    Use TUBE_TYPE_DBUS constant
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 5c8b08a102dbea7423ef8f0dfd39c1f561926c69
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-02 16:09:58 +0000

    Fix test race between stream and dbus event.
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 0caa7ef1f062154ff096d3efb2582717f86eca8a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-02 16:08:56 +0000

    Remove unnecessary and dangerous sync_stream
    
    This sometimes meant the event caused by sending the data was swallowed,
    breaking tests that expected something to happen after calling send_data
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 76e7065cac73f63d60a9e3eae25b546d97924ea8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 15:59:54 +0000

    enable jid checking as SOCKS5 is now fixed

commit 15c50031a978069eafc2d69c04afb06d3ea888d3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 15:43:58 +0000

    split _socks5_connect to smaller functions

commit 1554a599a3a6dc8dcc84a623cbed9ff2e85d6860
Merge: 19850fe a9588a2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 15:33:47 +0000

    Merge branch 'master' into socks5
    
    Conflicts:
    
    	tests/twisted/bytestream.py

commit a9588a279e9f7b5070b6ca57df95246d033e2aeb
Merge: b35a94c 00c647b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 15:27:05 +0000

    Merge branch 'refactor-accept-private-stream-tube+si-fallback-tests'
    
    Conflicts:
    
    	tests/twisted/tubes/offer-accept-private-stream-tube-si-fallback.py

commit 19850fe4a45f874618201dc98809cf4505dd0bc2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 15:17:56 +0000

    exec_tube_test: use a for and lambda

commit 00c647b06f46631926a4188691c34e27c099a491
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 15:00:29 +0000

    send_not_found: error code is 404

commit 1f7a4e3616460d62ceeb74aa6d348ebe39c00296
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 14:57:08 +0000

    use make_result_iq in create_si_reply

commit 3be239760ed5ad09ae67ffd7b0385fc13d7a3411
Merge: a1a2380 6701846
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 14:37:54 +0000

    Merge branch 'refactor-accept-private-stream-tube+si-fallback-tests' into socks5+refactor-accept-private-stream-tube+si-fallback-tests

commit 67018460a1b49dca7d28905bb36070faa50b2046
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 14:37:29 +0000

    offer-private-stream-tube: no need to run test with BytestreamSIFallback any more

commit a1a2380f264244cc7f0774d2355d4070c57cca66
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 14:35:46 +0000

    add BytestreamSIFallback abstract class

commit 75c0cc36579e55e432db5e60b797a2ebc847f06f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 14:29:38 +0000

    rename BytestreamSIFallback to BytestreamSIFallbackS5CannotConnect

commit b35a94cc9061e521405a9828aa3960d55ce17335
Merge: e7bc835 4929d46
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-02 14:21:37 +0000

    Merge commit 'cassidy/refactor-accept-private-stream-tube'
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit e7bc835355e52b7d7575cd23a4b22e960bc76328
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-01 18:24:49 +0000

    Make elements with namespace None not ''.
    
    They're actually different: under certain circumstances, Element(('',
    'badger')) will come out as <badger xmlns=''/> which is not what you
    wanted. Gabble doesn't notice because LM isn't an XML parser, but Haze
    did because libxml2 is.
    
    Reviewed-by: Dafydd Harries <dafydd.harries@collabora.co.uk>

commit 176955f13ada505341378eee6fba06daa41fb367
Merge: f60ab4d dfedb4a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 13:12:07 +0000

    Merge branch 'refactor-accept-private-stream-tube+si-fallback-tests' into socks5+refactor-accept-private-stream-tube+si-fallback-tests
    
    Conflicts:
    
    	NEWS
    	tests/twisted/tubes/accept-muc-stream-tube.py
    	tests/twisted/tubes/offer-muc-stream-tube.py
    
    Add optionnal 'to' argument to create_si_offer and create_si_reply so we
    can simulate the muc IQ behaviour.

commit dfedb4ab08105ed2f2c1493cc6dcca0191032ce5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 12:58:58 +0000

    fix check_error_stanza

commit ad12f06cf5cf911f082c47822cac89e1ce3ff9e6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 12:57:39 +0000

    accept-private-stream-tube: call sync_dbus to ensure that contact list channels have been announced

commit 5c3446301ac31cce540350df7d73578395494f2e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 12:53:48 +0000

    add send_not_found

commit aa1b86b1c7ca521709822e729edf48c1ab00c140
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 12:49:35 +0000

    add check_error_stanza

commit a7b890fad8f2f5b06d712c720032cee54125e307
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 12:47:01 +0000

    replace self.active by self.used

commit 3caf0019f7bebef8858017dc6b8563dab530fae9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 12:08:26 +0000

    remove offer-accept-private-stream-tube-si-fallback.py as it's now covered in {accept,offer}-private-stream-tube.py

commit fc2efdb3e3b871787aad4dc47fc5c689ad0f476d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 12:07:26 +0000

    add check_si_offer

commit 48871ae7cc4b512ed33c91c1a26e07672e2e7e08
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 12:00:55 +0000

    remove useless sample_parameters

commit d81daf13a1c47a10bc1215b82dc402e4ccea4c89
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 11:57:54 +0000

    run all tubes tests with BytestreamSIFallback too

commit 783cf468fa309dd8f38e75ad394ced1f2c121851
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 11:57:15 +0000

    expected event has to be catch earlier in BytestreamSIFallback.open_bytestream

commit 6b176fa281ee3ac8722697416d918ad3ac646872
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 11:46:19 +0000

    remove parse_si_offer

commit ce846bfbc41719021799d7a6b8d58e31c85b85e9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 11:43:11 +0000

    offer-private-dbus-tube: use create_from_si_offer

commit d5148bc07bc76ed7bb50b9db8cacb97a52245da6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 11:42:41 +0000

    accept-private-stream-tube: use create_from_si_offer

commit c3e9f4e497992feff57d50dde64b2e476bc2c0d6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 11:41:40 +0000

    accept-muc-stream-tube.py: use create_from_si_offer

commit ea58aaa677a89bcd11d7bf0d821f94fb8c43ee09
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 11:41:13 +0000

    add create_from_si_offer

commit ecc327157ab8aa86099eca39d7d093dd8f03b8bc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 11:17:55 +0000

    implement receiver side methods on the BytestreamSIFallback object

commit 03b4530fd4358f150392573a718ebbd9696a0452
Merge: a99e300 4929d46
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 11:06:27 +0000

    Merge branch 'refactor-accept-private-stream-tube' into refactor-accept-private-stream-tube+si-fallback-tests

commit 4929d46d3544dc9f7a69b61526dc8e0f03aac62b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 11:04:59 +0000

    tubes/accept-private-stream-tube.py: import constants as cs

commit 1931a255afc7b86b5caf20ae249cb2d5b360f950
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 11:04:06 +0000

    accept-private-stream-tube.py: use Bytestream objects and try to actually use the tube

commit f0ef558093d7496547ccc579c42baebf62d093af
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 10:49:48 +0000

    accept-private-stream-tube.py: use parse_si_offer

commit a99e3002ffbdb8fb2565ece5a411d67201fb72eb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 10:35:55 +0000

    add _create_si_offer

commit db7a64c432a9cc7709742246f190eca789ba2b32
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 10:33:27 +0000

    offer-private-stream-tube.py: test using BytestreamSIFallback too

commit 2549ab3d2562105cad84845684f3a5a5122d0e67
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-03-02 10:32:56 +0000

    add BytestreamSIFallback

commit feaad7f2f51e488d1593423b600b7d48b0d77c5e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-03-01 23:18:22 +0000

    Remove the content timer when the content is accepted

commit 0a107ff1584a66c992d875c3882469d37c2a60a2
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-03-01 22:48:12 +0000

    Correctly set the creator attribute

commit 7b541adad8e47748883313a4e2f77e4c2943c463
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-03-01 21:06:41 +0000

    Check that the creator attribute is set correctly

commit d5bcd9d04dde3346c4b6e4a7fea928919afee686
Merge: 762f79b d111516
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-01 20:19:15 +0000

    Merge branch 'trivia'
    
    Reviewed-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit d111516b60c3702f17db093e298b502f207f4ec1
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-01 16:03:05 +0000

    Add helper functions to join a MUC in tests.
    
    In passing, fixes a race in tubes/offer-muc-dbus-tube.py, which didn't
    wait for Gabble to ask to join the MUC before sending presences for the
    MUC's members.
    
    References fd.o #20405

commit 6199fea5d2e8f63d2c0c73bb682cb66ec1253f88
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-01 14:43:43 +0000

    Fix some conjugations in test comments

commit 6ff93a1da8ed40c3e8cd327394538db272e4e47c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-01 12:28:38 +0000

    Correct "#ifdef ENABLE_DEBUG" and G_*_DECLS nesting.

commit 2fae52dab469e80b4012da11b12dd66ff4800102
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-01 12:27:19 +0000

    Remove unused gibber macros.
    
    Synced from Salut

commit 2608f19d4944fb636c706f956ac7adac52f7d6bd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-01 12:08:55 +0000

    Not convinced that Jingle test improvements are significant :)

commit 762f79b77b2ba70633e7e27b47604abe9305c346
Merge: e8d4521 0dded84
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-01 14:40:19 +0000

    Merge commit 'cassidy/refactor-tube-tests'
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit e8d4521081a3182a031426859bf352bc4b47ad8d
Merge: 54605f1 5467d73
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-03-01 12:06:54 +0000

    Merge commit 'smcv/trivia'
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit 0dded8488b8161547945a692dcf603a1fdadfea0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-27 14:52:52 +0000

    use Bytestream.check_si_reply instead of parse_si_reply

commit e04e5a62c5f0e9acdef56123e5719e8d6f190406
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-27 14:44:57 +0000

    turn create_si_reply to a Bystream method

commit c82baf1cbe2cb0984a9329763019e3ea48f041df
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-27 14:37:05 +0000

    bytestream: remove create_si_offer

commit fe463d8fa14a27312af8dad2cc3904533ce22f16
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-27 14:36:49 +0000

    remove useless import

commit ae3be052f774d871a65197ad84efd65b69c4255f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-27 14:24:20 +0000

    accept-private-dbus-tube: rename bytestream objects

commit 4820ee1342b2635b2b83a175ff765fbdc00f3eb0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-27 14:20:54 +0000

    re-order tube tests

commit fb8ca7f766af82324aa5c0a6894d68700f56a9bf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-27 14:16:50 +0000

    remove offer-accept-private-dbus-stream-tube.py as its latest features has been moved to offer-private-dbus-tube

commit 588a81571717672691f4afac2555b3c896797a85
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-27 14:14:44 +0000

    offer-private-dbus-tube: check sending messages

commit 5467d73fd9bcf0247fd94bcfafba324a82da128f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-27 14:09:26 +0000

    More NEWS

commit eccb922a5e94fb64c45728b15961b424a749dcbf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-27 14:08:55 +0000

    rename offer-private-dbus-tube-ibb.py to offer-private-dbus-tube.py

commit a752b59c89bc13ed339bbda06c3b20ccf2d6e485
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-27 14:07:33 +0000

    offer-private-dbus-tube-ibb.py: use exec_tube_test

commit a2e01fe04db4ddcadb96ff7d38cf1f965a058603
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-27 14:04:52 +0000

    offer-private-dbus-tube-ibb.py: use BytestreamIBB

commit 7611e40b5642493d13db837c00a1e4739913360e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-27 14:00:30 +0000

    Here is the NEWS

commit 9d5fa62ac1715d333ed8da830b42999cfd1b6e89
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-27 13:58:55 +0000

    tests/twisted: provide the right CFLAGS for #include <lib/gibber/...>
    
    This fixes distcheck.

commit fa827da86a88470e54453e663f306cb791745255
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-27 13:58:15 +0000

    GabbleMucChannel: elide temporary variable, fixing --disable-debug
    
    This fixes distcheck.

commit 44bf8e9ee969c9cf76e5f71b9b463fbe9796adb7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-27 13:57:35 +0000

    GabbleJingleSession: wrap debug output in #ifdef ENABLE_DEBUG
    
    This fixes an unused variable warning when disabling debug, e.g. in
    distcheck.

commit 2bcf069e730b07647172b97a6df06c1b8883996c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-27 13:56:49 +0000

    conn-aliasing: nick_publish_msg_reply_cb: wrap debug code in #ifdef ENABLE_DEBUG
    
    This fixes unused variable warnings during distcheck.

commit 37aa510e1ab6be67e015f9f382920770b9166533
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-27 13:41:42 +0000

    move test accepting private dbus tube to accept-private-dbus-tube.py

commit 57e1ec2ce6eadebd314c3cdb7006c1cc6042befc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-27 13:27:45 +0000

    use path returned by set_up_echo

commit 2069652fa498811b45060dfbc826b5c0ee5cc66c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-27 13:21:24 +0000

    make set_up_echo return the path of the UNIX socket

commit 074188acee34262f7d0f90662651b78955f5c1cf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-27 13:14:38 +0000

    move test of offering private stream tube to its own test

commit 6d1353093613ed49b02190bc56990ed4a0ff3bc6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-27 13:01:38 +0000

    offer-accept-private-dbus-stream-tube: fix some comments

commit 37a4827168da9724249b1d9bcb08500f3111ad15
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-27 12:50:27 +0000

    remove offer-accept-private-dbus-stream-tube-socks5.py as offer-accept-private-dbus-stream-tube.py now test using SOCKS5 too

commit 056cc5876eca9716a88cad00b3dc14702977e4d2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-27 12:48:30 +0000

    offer-accept-private-dbus-stream-tube: sync_dbus to ensure all contact list channels have been announced

commit 5163b60ea0d1b84c5e6999c34216a6f4f9623767
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-27 12:43:00 +0000

    offer-accept-private-dbus-stream-tube.py: add bob_full_jid and self_full_jid

commit a8a8e2559c18a9e586ad4d74c55a4aef84e29598
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-27 12:41:08 +0000

    extensions: remove our copy of the Presence interface (no longer needed)

commit 1fd58b026b82ef5900b94e47d25094337e76b825
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-27 12:40:45 +0000

    gibber-debug.h: wrap macros in parentheses/G_STMT_START as appropriate
    
    This fixes compilation of non-debug builds by making
    "if (...) DEBUG (foo); else DEBUG (bar);" no longer provoke a warning.
    
    Also remove empty definition of NODE_DEBUG in non-debug builds (it no
    longer exists in debug builds).

commit 54605f10baaf1d42096f102fdfcce3799332e638
Merge: b6c75e7 6598ba7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-27 12:27:51 +0000

    Merge branch 'stun'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 4836f88f7350c807c978d789f52ed36dc8e9b915
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-27 12:25:45 +0000

    rename offer-accept-private-dbus-stream-tube-ibb.py to offer-accept-private-dbus-stream-tube.py

commit 4124df46eb36207e2c573e54ee02478a93b021f8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-27 12:24:35 +0000

    offer-accept-private-dbus-stream-tube-ibb.py: use exec_tube_test so we run the test using IBB and SOCKS5

commit a8a7ba0abe733151bbbd41ef4d8535023a7b352f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-27 12:20:57 +0000

    offer-accept-private-dbus-stream-tube-ibb.py: use BytestreamIBB

commit 83eaa7c2f99fec44c017e45700aca083c3d43846
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-27 12:20:21 +0000

    catch expected event in BytestreamIBB.open_bytestream

commit 56e7830f884293319b996b1f09f8d1dde1a323f5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-27 11:22:30 +0000

    offer-muc-stream-tube.py: use  bytestream.create_si_offer method

commit 1dac65a6c6d3725e693a6c1e429d5988f73c9ff0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-27 11:18:31 +0000

    add create_si_offer method on the Bytestream object

commit f60ab4df8a5733327e58df3156f2684269d3453d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-27 11:03:48 +0000

    add INITIATOR or TARGET in Socks5 states for more clarity

commit a73c43b14b6236dfa61395f29bec5e11bc0540eb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-27 10:52:59 +0000

    Revert "socks5_error: always fire the connection-error signal if the state was not connected"
    
    This reverts commit 062154c15d44dc9b371e3060d4f3b3e71c0ed01e.
    
    This patch is wrong. We shouldn't fire connection-error if there is
    still streamhosts to try. Furthermore, the initiator should wait
    for the iq error from the target before firing this signal.

commit b6c75e72808c7618144421d0bb1ed05a622c83f5
Author: Davyd Madeley <davyd@madeley.id.au>
Date:   2009-02-27 12:13:34 +0900

    Copy unnamed arg names from real telepathy-spec
    
    New parser enforces named args (which seems consistent with the real spec)

commit b8ec1c1d357ddba874ac22c0881e4820d653768e
Merge: f5ed7c5 9d33052
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-27 01:36:32 +0000

    Merge branch 'accept-incoming-stream'
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit e28ac7f680fb798a13392e19d66cf6d3ee808249
Merge: 6133c4e f1ce955
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-26 18:25:12 +0000

    Merge branch 'socks5' into file-transfer

commit f1ce9554043bafe957d0c1c6893b77d6f5a65f76
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-26 18:25:00 +0000

    add NEWS entry about SOCKS5 bug

commit d58b905c21642a27597b963b9e4acce7e812b0e2
Merge: 59f23bc f5ed7c5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-26 18:06:06 +0000

    Merge branch 'master' into socks5

commit f5ed7c5974034feeec5b5437bf66818d482fcaf3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-26 17:47:33 +0000

    start NEWS section for 0.7.22

commit 59f23bc97b0441b620565291e01ee6edb2a4f521
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-26 17:45:39 +0000

    socks5: add a timer when expecting the CONNECT reply so we don't stay blocked when connected to a bugged Gabble

commit 6133c4e42f61d5499ff37b16c0bda1abf517b409
Merge: ffc3ef6 7c41832
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-26 17:12:51 +0000

    Merge branch 'socks5' into file-transfer
    
    Conflicts:
    
    	tests/twisted/ns.py

commit 7c41832c1eeba9269fb4261c8c0d1ad9a2dd58a4
Merge: 062154c 8ccf323
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-26 17:06:15 +0000

    Merge branch 'master' into socks5

commit ffc3ef6b28326c47b4424efc3540f1bff4ed753b
Merge: 02e3b40 062154c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-26 15:13:50 +0000

    Merge branch 'socks5+muc-stream-tube-test' into file-transfer+socks5+muc-stream-tube-test

commit 062154c15d44dc9b371e3060d4f3b3e71c0ed01e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-26 15:12:08 +0000

    socks5_error: always fire the connection-error signal if the state was not connected

commit 82d6657416ad7afe716dffac80028da9ca712d2d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-26 13:46:56 +0000

    socks5: check if the connection is actually connected when the target pretends it is

commit 6598ba7e7746d769f620216d423ab13c5f10d444
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-26 13:54:49 +0000

    GabbleMediaChannel: Change create_stream_from_content to return void
    
    Its result wasn't actually used anywhere.

commit 02e3b40e26efc8fa0dcb43f365cdc88bed858f3e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-26 13:46:56 +0000

    socks5: check if the connection is actually connected when the target pretends it is

commit c1a2430cac86092490e07c950a711c5bdfaf4c3a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-26 13:37:29 +0000

    jingle/test-outgoing-call.py: assert that the stream was CreatedLocally

commit 7f7a8b065ef518126ba9775491e484b5667aee99
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-26 13:33:10 +0000

    GabbleMediaChannel: don't tell stream whether it was locally created - it can ask the content

commit 1e6721aa9475cddf2a267a899b2c0bb6c5f05708
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-26 13:31:52 +0000

    GabbleMediaStream: ask the content whether it was locally created

commit 50e394ef04e4123c08a8067a167a3e1af4d28a47
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-26 13:29:46 +0000

    GabbleMediaChannel: ask newly created stream for its media type, rather than working it out for ourselves

commit c84b41b780e06f3f2055a1534dbb9ebd72e8817d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-26 13:29:13 +0000

    GabbleMediaStream: add C accessor for media type

commit b5c2866742c654f66d838d98a760a9f055e5171d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-26 13:28:58 +0000

    GabbleMediaStream: ask the content what its media type is, rather than relying on Channel to do it

commit e65526d683fb041be06be7fb71ed6ef3f1b98f81
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-26 13:15:49 +0000

    Set direction for locally-created streams in MediaStream, not MediaChannel

commit 375e368f3138320ed4efe0dae028761461ff625b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-26 13:09:38 +0000

    GabbleMediaChannel: fix coding style, and don't leak name if content is not MediaRtp

commit ec5b7d7d5564497526cc7f23a253c31924d196f6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-26 12:56:34 +0000

    jingle/stun-server.py: assert that the stream has NATTraversal and CreatedLocally properties

commit 42d669939a108f6d1797eca3ba5d1b42ea88a134
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-26 12:56:13 +0000

    GabbleMediaStream: expose NATTraversal, CreatedLocally as D-Bus properties

commit a5d103d7ee0793a88b97e50b359b37dcf5c2ba25
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-26 12:55:52 +0000

    GabbleMediaStream: refactor Get() implementation

commit 53e3240c24029084ee5a6e28d4903117ec7db400
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-26 12:52:09 +0000

    GabbleMediaStream: add nat-traversal and created-locally properties

commit 9ed8a75ee32eab5821cdb29c9c66942d3ce24db2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-26 12:32:00 +0000

    jingle/stun-server.py: check that STUN servers pass through to Media.StreamHandler correctly

commit f29d237b1e470ef21fbc53d2b0e5802c37f01a8b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-26 12:09:26 +0000

    Implement STUNServers and RelayInfo D-Bus properties on GabbleMediaStream
    
    This version deliberately doesn't use the TpDBusPropertiesMixin, since
    that would require a patched version of telepathy-glib that knows about
    these properties.

commit 6a27fbe00e59d3b33b9fd2a560e71e28c8d9d810
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-26 12:03:35 +0000

    GabbleMediaStream: update copyright

commit 7eb00d53d8a4e90de40cf8198ac0c6172cb20244
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-26 12:01:19 +0000

    GabbleMediaStream: add (a stub version of) RelayInfo as a GObject property

commit c1eeb9b1b502a25cdbb3ab2d86d936d1b4484fdb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-26 12:00:55 +0000

    GabbleMediaStream: add STUN servers as a GObject property

commit 4f18ed4fbe6ceea1e3a539a3cfb6af93bf171b8c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-26 10:51:12 +0000

    GabbleMediaStream: add _new function

commit e2e7aea908118fa56fb5e398297d9ff72b81f818
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-26 12:34:55 +0000

    gabble_file_transfer_channel_offer_file: don't get the resource if we are sending to a muc jid

commit 8ccf32353ee76554b7e7db8a273f26db57204856
Merge: a6d1170 51bc17d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-26 11:59:04 +0000

    Merge branch 'master' into muc-stream-tube-test

commit 51bc17d6a9d9682b286189f2b4b69c949cddbae9
Merge: 29a1be3 1b87ad1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-26 11:58:38 +0000

    Merge branch 'tubes-test'

commit 28672c8447d7c3c0532ee831e5b7994067c2b0ac
Merge: 8cf2d25 1cd0786
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-26 11:50:00 +0000

    Merge branch 'socks5+muc-stream-tube-test' into file-transfer+socks5+muc-stream-tube-test
    
    Conflicts:
    
    	src/bytestream-socks5.c
    	src/tube-stream.c
    	tests/twisted/bytestream.py
    	tests/twisted/tubes/offer-accept-private-dbus-stream-tube-socks5.py

commit 1cd07868bd29d9fc75e21f94dd98205322eff00c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-26 11:15:15 +0000

    socks5: ensure to keep the bytestream alive in transport_handler

commit 1b87ad1f41e22469df0c81c64d521d454f377fc2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-26 10:55:02 +0000

    send_socks5_init: add invalid and not used streamhost

commit 75baa1d80d7fb71face8745ea847829acba043b5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 14:35:36 +0000

    remove debug print

commit 2589cce34865c5053e9c7b9ce0920ef3bea96847
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-26 10:49:48 +0000

    _socks5_expect_connection: wait for the connected and expected event at the same time

commit 9d3305209eb60179016f4b8119883815d1a70558
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-25 20:22:45 +0000

    Test accepting streams added after accepting call

commit ee0f7375648b5298cfcd07ba8c0573d4d92ab49e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-25 20:21:49 +0000

    Emit SetStreamSending(True) when accepting incoming streams.
    
    This makes accepting streams the other side initiates after the call's
    been accepted work.

commit df742bc4d09e78c04ed90335e71961a928357154
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-25 20:00:08 +0000

    Add get_video_codecs_dbus() to JingleTest2.

commit edbf3b4acbb460c3b1d08dbbb5dc9326f3c1f91c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-25 12:49:01 +0000

    Remove unused variable labelled "XXX shouldn't be used"

commit 4940c83ce72ba9e856a319dce9feac0679de9883
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-25 12:44:44 +0000

    Use constants.py and GetSelfHandle in test-content-complex

commit 33631c74430c29bf7479777396ef9308d3cfd38e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-25 12:44:24 +0000

    Remove double definition of StreamState constants

commit 1767cb8faed4860dff4bb8a060c196301915d78c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-25 12:27:20 +0000

    Test that call accepted => audio stream Playing

commit 5d2cd4238291f83128d57a0bad0dfca296f8fda6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 19:54:44 +0000

    jingle/stun-server.py: assert that the fallback STUN server is used if there is no override and no Google STUN server

commit 89fe28ff4da69b0644e67f4abc8a61a230a3fe07
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 19:54:19 +0000

    GabbleJingleFactory: additionally resolve and set up the fallback STUN server

commit 57b359af7672724af6bed3ff8271a311b935fdb9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 19:53:13 +0000

    Pass fallback-stun-server, fallback-stun-port through GabbleConnectionManager to GabbleConnection

commit e340f564e397ec3131fe51581c72d3e90ef4b880
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 19:29:10 +0000

    jingle/stun-server: make Gabble resolve the STUN server addresses

commit f01cc59ef19143d36c0d2f72e24ef334f2a1c273
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 19:08:42 +0000

    GabbleJingleFactory: Resolve STUN server hostname to address
    
    Based on code from Sjoerd Simons.

commit 8c19eb1114fac0a11d3fa6a6906a3a89a3a3f662
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 18:49:54 +0000

    GabbleJingleFactory: factor out take_stun_server

commit 762aac80787299424da9f6d722870e28dd41d6ef
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 18:49:30 +0000

    GabbleJingleFactory: default to the standard STUN port if unspecified

commit 9dd1a234abee76a106dbbdb37e4e0e4eef838575
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 18:33:40 +0000

    telepathy-gabble-debug: compile in a resolver whose results can be forced
    
    This lets us make tests that resolve hostnames to IPs without relying on
    working DNS.

commit 727fd8a07f89f61c99a222743c9e43c48b9d36db
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 18:30:48 +0000

    jingle/stun-server.py: Check that when fallback-stun-server is given, the STUN server from Google takes precedence

commit af0706ba35412b85a17aad3be1ca19c51d52715a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-02-19 10:54:20 +0000

    Add fallback-stun-{server,port} connection options

commit 1499c2b8812eb7d2253c491444befc12de902120
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-02-19 10:53:25 +0000

    Add fallback-stun-{server,port} properties

commit affb4c7945bd3674135d4825e9dfa5a82f566e11
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 17:27:20 +0000

    Test the stun-server and stun-port CM parameter, which act as an override

commit ce24cd026ff61683aebe8df1febdde41ce95df5e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 17:25:23 +0000

    Combine no-stun-server and stun-from-google tests

commit 474a4e26a246a387994425720b828ba518da0628
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 18:07:17 +0000

    configure.ac: move AC_USE_SYSTEM_EXTENSIONS nearer the top
    
    This macro should be run before any C compiler tests.

commit dbaf040044b7c75b150541f0cc3f4f9448ced483
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 17:04:41 +0000

    lib/gibber/Makefile.am: exempt asyncns from Telepathy coding style check

commit 32716b3af107efb02a70e4bb2d506f5099118ddf
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-02-19 10:52:32 +0000

    Add gibbers async resolver abstraction

commit 424ea10dcee3a58bc89afc01f324e4c320efa840
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 16:44:25 +0000

    GabbleJingleFactory: only set STUN server if (stun, port) pair looks reasonable

commit b9edb4351f81d2297549a413b0e554d72309c746
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 17:01:43 +0000

    Add recently added STUN tests to Makefile.am

commit 9244fb9485beede826fc3b2d8864cce021dddcc7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 18:38:48 +0000

    offer-muc-stream-tube.py: use the real jid when sending the SI offer

commit a9d247bf435cd3b646738892a8c5db617d1e9e40
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 18:38:20 +0000

    accept-muc-stream-tube.py: use the real jid when sending the SI reply

commit 14d3a6ce17caf26ac6c5b2858f9c66bfaa5b0b54
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 18:37:28 +0000

    bytestream-factory: get the nick from the muc instead of relying on the 'to' attribute

commit 234fccc611b047058fe76524e59467654caff28c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 18:36:49 +0000

    socks5: we are not the initiator when checking the CONNECT reply

commit b2b2602f4ad60d53121ba1a4a8eb5531468afd50
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 18:31:03 +0000

    socks5: use peer_jid and self_full_jid to compute the domain
    
    We shouldn't use the to attribute of the IQ as the jabber server will
    change it to our real jid if the IQ was send in the context of a muc

commit bd20825dac5c4a1c2850cde835925c6d3da48953
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 18:30:11 +0000

    muc-channel: add self-jid property

commit 11f056c9f50114ca784cef065b1cf4aa2a2a225f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 16:55:48 +0000

    pass self_jid to gabble_bytestream_factory_create_from_method

commit 0f718940e45ed9f6cde6f9a8e42834523f30032c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 16:54:14 +0000

    bytestream-multiple: add self-jid property

commit 375b19add6b3a44a6cc3311664cad578b97ca83d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 16:52:37 +0000

    socks5: add self-jid property

commit 29a1be38e05382870198f3ad2ec7b54578041e73
Merge: 2495925 1fd3429
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 16:45:45 +0000

    Merge branch 'swamp'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 5ca31761700575c711c5a07e520d4702265ed508
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 16:27:28 +0000

    offer-muc-stream-tube.py: target of the stream is the muc jid

commit 1fd34296aa05e01cc068e04356b8c57d9d22fbf7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 16:14:25 +0000

    jingle/stun-from-google.py: give Gabble a Google relay token and make sure it gets through to the channel properties

commit 68555b704d16a02714056457d280cc6405cc0e93
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 16:06:03 +0000

    jingle/stun-from-google.py: new test for discovering a STUN server using Google's jingleinfo extension

commit ac444d16eeac614eb2ba59d54b87b2d6474a144c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 16:05:32 +0000

    jingle/no-stun-server.py: new test for the "no relay info, no STUN server" case

commit 33b1d7c099842d2ce3378b6b7ec85914e1f586ec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 16:05:02 +0000

    gabbletest.py: add a stream that claims to implement Google extensions

commit 5584afa2a73c1384147f9ec6e8c60802eeaf8c15
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 16:04:45 +0000

    ns.py: add Google roster and jingleinfo namespaces

commit 513d5639382d95aa654657580fd021e322c54e25
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 16:04:31 +0000

    constants.py: add the semi-deprecated Telepathy Properties

commit 90754ff8859fa1664443efb4cd79a9afbc26f2b1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 13:40:33 +0000

    GabbleJingleFactory: make stun_server, stun_port private and add an accessor

commit 44226e74ba9f41d5b9d95dd6d4bb23dc5467231e
Merge: 09e24d3 a6d1170
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 15:52:40 +0000

    Merge branch 'muc-stream-tube-test' into socks5+muc-stream-tube-test

commit 09e24d351b5a1102438802c7ed5407b887aaf79c
Merge: f64e8f3 a8d493d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 15:52:21 +0000

    Merge branch 'tubes-test' into socks5+tubes-test
    
    Conflicts:
    
    	tests/twisted/bytestream.py
    	tests/twisted/tubes/offer-accept-private-dbus-stream-tube-socks5.py

commit a6d1170a1debe44814faf21f492853046ab43b11
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 15:32:24 +0000

    offer-muc-stream-tube: use exec_tube_test

commit 9d7f5fc26c8276b0ca619ec6df2e5e1ffaf810b1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 15:32:09 +0000

    accept-muc-stream-tube: use exec_tube_test

commit c2a5d5414f2fcde470f6fbd47ff2bc45c1a62c15
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 15:31:43 +0000

    tubetestutil: add exec_tube_test

commit 469aa5a4b8ddf5014a658a998e8a572083f8e6af
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 15:18:51 +0000

    rename accept-muc-stream-tube-ibb.py to accept-muc-stream-tube.py

commit 3630856a820331fa6eafc5d2c526ccc037e450f3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 15:17:12 +0000

    accept-muc-stream-tube-ibb: run test with SOCKS5 too

commit 0d4e71aede44ce0e849f017dd00e34355be47053
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 15:12:36 +0000

    accept-muc-stream-tube-ibb: use bytestream.send_data

commit 2e03ae5b02f0e5799d6a692b3e3906785338d997
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 15:12:26 +0000

    accept-muc-stream-tube-ibb: pass initiated property

commit abc3623c0dec75fdfe4a08104b19b13a6655e897
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 15:11:44 +0000

    offer-muc-stream-tube: pass initiated property

commit 6651dfc8dfcab72d3f0ff661ad2891cce8c57bad
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 15:11:24 +0000

    offer-accept-private-dbus-stream-tube-socks5: pass initiated property

commit 0e2dcba77a085e7a81bfbc330c7204bd5bb91cc3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 15:10:51 +0000

     bytestream: add a initiated property so we can properly send IBB data in both side

commit 702a972199682338c8647c77065025a8645b3812
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 14:59:33 +0000

    accept-muc-stream-tube-ibb: use BytestreamIBB

commit 0cf5f74a11b70897d3053460e8247aace5f0fa8c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 14:40:29 +0000

    accept-muc-stream-tube-ibb: use SI and IBB helper functions

commit 7ce115edd96dc9f02b09e4a5c56108127e553998
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 14:39:18 +0000

    offer-accept-private-dbus-stream-tube-ibb: create_si_reply returns the si node now

commit 921c980f7599f20da0bae8dce1f090134927e90c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 14:38:59 +0000

    offer-accept-private-dbus-stream-tube-socks5: create_si_reply returns the si node now

commit 88126e87fdaafc1a66456ac0e262c734efa5d0a5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 14:38:40 +0000

    create_si_reply: returns the si node too

commit b7f07549f4e40a9c52ffd484690812b5e1db7412
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 14:35:36 +0000

    remove debug print

commit 007aa764172a64fc36ed49931d5d9b80b3df1d2d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 14:20:31 +0000

    accept-muc-stream-tube-ibb: import constants as cs

commit 22e833eccae4dbaf86e4f6617b46a324d17f680f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 13:40:23 +0000

    GabbleJingleFactory: make relay token private and add an accessor

commit 472949f1ac75d3e667f7b7b2825d4bb3b88150e8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 13:56:52 +0000

    rename offer-muc-stream-tube-ibb.py to offer-muc-stream-tube.py

commit 917c0527e37108951e4f98360a98e719cd6f04f7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 13:46:39 +0000

    offer-muc-stream-tube-ibb.py: use BytestreamIBB

commit 461abf478bfa0a82ac1b1be1defb849ff17c0956
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 13:39:25 +0000

    offer-muc-stream-tube-ibb.py: import constants as cs

commit fe017893ecc511839a311d02e4d3963da0ea27b7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 13:33:34 +0000

    offer-muc-stream-tube-ibb: use IBB helper functions

commit 75d999c71d98631c7d80381ac54e663d3d53fe2a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 13:28:52 +0000

    GabbleJingleFactory: make get_stun_from_jingle private

commit 05a642814a973624fcd36b7f8a9a3a52080744c5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 12:53:44 +0000

    GabbleJingleContent: remove unused member 'factory'

commit 3be98b35da913f593d8a6b8e249521389d6e1c31
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 12:53:30 +0000

    GabbleJingleSession: comment a non-subclass-safe call to g_object_new

commit a8d493dbf4cc875269469c524e5716b53d929f60
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 12:47:35 +0000

    simplify BytestreamS5BPidgin by just overriding _send_connect_reply

commit 2790b7cb727f02c9b369e1380949bb7c67f7b757
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 12:44:16 +0000

    split _socks5_expect_connection to smaller private functions

commit a13a6b4ca271344d5e9a6d681d1ca35e4350debe
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 12:42:52 +0000

    Add and use gabble_jingle_transport_iface_new()

commit de715a1497e9dac3b0d83a037b6e01029113185f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 12:35:42 +0000

    GabbleJingleFactory: make tables of content-type and transport types private

commit 085f8c19d98eca08ce83052d80c4df9af25ddd0b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 12:35:16 +0000

    GabbleJingleSession: use proper accessor to find content-type GTypes

commit d9acd679c159312ba69e2048fe1636e023a5d84f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 12:34:37 +0000

    GabbleJingleContent: use proper accessors to find transport GTypes

commit b03016dd9782c29a0caa6d02c74254e4e32c607c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 12:33:02 +0000

    bytestream.py: change SOCKS5 helper function as BytestreamS5B private methods

commit 15065df2c764e482f18423e37c826ac60bf35a56
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 12:32:16 +0000

    offer-accept-private-dbus-stream-tube-socks5: no need to call listen_socks5 any more

commit 14424ead4ec87588abcdf58e948d3bb8c0e4f77b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 12:27:42 +0000

    GabbleJingleFactory: add methods to look up transports
    
    Also improve coding style (object whose method is implemented is named
    self, avoid use of C++ keyword "namespace", indentation) and when
    registering new transports/content-types, assert that they have the
    correct GObject interface/type.

commit 28ab3711b8d8c18c96d278b134a907ca6b3dd636
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 12:09:07 +0000

    bytestream.py: disable streamhost jid check for now

commit 42fb01dd28b6f12ed6c1c879ef0bf752d2065097
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 11:59:22 +0000

    offer-accept-private-dbus-stream-tube-socks5.py: use BytestreamS5B

commit c34e80e0f1115a03977e6f3a622eb1cba5b5318b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 11:58:58 +0000

    bytestream.py: open_bytestream takes an optional expected event arg

commit 909c0f7e9d97c16102ed91b1632c3733a26d0b1c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-25 11:40:10 +0000

    Add gabble_jingle_session_new()

commit 48e2b58e56995b4e2a772626c96b896934d76a97
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 11:05:12 +0000

    bytestream.py: add Bytestream objects

commit 8cf2d2584967b0713aa1e08ee2361a272073e070
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 11:07:22 +0000

    file_transfer_helper.py: Bytestreams objects have been moved to bytestream.py

commit 4d71224ce3107a09acc764c901b29eae57687b68
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 11:05:12 +0000

    bytestream.py: add Bytestream objects

commit f38676f1ea4c3c06d7b1df6b03e6bc3ea271328b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 11:01:28 +0000

    don't catch InitialOffsetDefined and FileTransferStateChanged in open_bytestream

commit 8cac3deddefc854188af0a1701c32f446be7d851
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 10:48:08 +0000

    use self.initiator and self.target instead of passing from/to args to bytestream methods

commit eea62b9bb7add47a9156841f7be087e28a6ea63f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 10:41:09 +0000

    file_transfer_helper: pass initiator and target when creating the bytestream

commit de41198eae059f9ece8395d3e98ac80184c3c7c4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-25 10:33:27 +0000

    file_transfer_helper.py: pass the stream-id when creating the bytestream object

commit 3ff29f431b453608cc4b68c941b4d894cb3c5f83
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-24 19:00:08 +0000

    GabbleMediaStream: remove connection property
    
    Same reasoning as media-session: it's construct-only and not set at
    construct time, therefore it must be dead.

commit 27bec26c61dad6330259e2d4ed66b889c924d149
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-24 18:59:29 +0000

    GabbleMediaStream: remove media-session property
    
    It's construct-only, and not set at construct time (only one function
    creates GabbleMediaStream instances), therefore it must be dead code.

commit df2c1bbb92f98fb66c8101aac3e1a8b78c065ff7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-24 18:51:37 +0000

    gabble_media_stream_constructor: assert that we have a GabbleJingleContent
    
    Invariant: every GabbleMediaStream has a GabbleJingleContent. In the only
    place that currently creates a GabbleMediaStream, this is true.

commit f64e8f3d8df8d8b47517fc42c7bbe16ee78c61e2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 17:18:19 +0000

    socks5_close_transport: always free the buffer if needed

commit 8a25b7b602e88a425a5b1305a02c97b93c65241e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 17:17:55 +0000

    fix coding style

commit 3590992bd01b91315da6758e6b3753bfcc81c1d2
Merge: 490cadb 2495925
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 16:40:22 +0000

    Merge branch 'master' into socks5

commit 490cadbb2020b8b1e88263a224c8c02d70e0497c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 16:35:22 +0000

    fix domain leak

commit 9886e2841d382d8e3b6ffbc97a639cff58cc2e69
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 16:31:35 +0000

    style fix

commit dac1f8f582ff496a9fd743282f7ab7f36e758ea9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 16:27:35 +0000

    socks5: reject connection if domain is wrong in CONNECT cmd

commit d7f011829f62de4fe91fabcba8e02e60b4db1b4e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 16:35:22 +0000

    fix domain leak

commit dcc8ae9f1997ee49b84af8e70dfdd5c7bc920350
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 16:31:35 +0000

    style fix

commit 68e8aad785df7aa1eea1e632c357ede64e5fdc11
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 16:28:04 +0000

    don't test bugged CONNECT cmd as we reject them now

commit 07f0c7e1cbed50b329daf6a017569193e3e47110
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 16:27:35 +0000

    socks5: reject connection if domain is wrong in CONNECT cmd

commit e88b27801e9e1d1ef63281d1fc1c4558a50a4f9e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 15:50:45 +0000

    socks5: accept CONNECT cmd which doesn't contain a valid domain

commit cdf70c9eb04acc1b7e55d67201a600da54a185bb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 15:26:00 +0000

    socks5: accept CONNECT reply which doesn't contain a valid domain
    
    This is needed to interop with Pidgin

commit 55ddf5af2d9d0f8640fde1c82052cdce55896bbd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 14:47:10 +0000

    socks5: display a debug msg if domain is wrong

commit 9e5e3af11f134d683c9e3d5841d1070e3276f8b8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 15:51:47 +0000

    file_transfer_helper.py: test bugged CONNECT cmd

commit 6ced8f4200b05c1e2d8372a870b701f7860e6460
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 15:50:45 +0000

    socks5: accept CONNECT cmd which doesn't contain a valid domain

commit f14d13bc39020fdc7804ec4ae7437dd4dce0b12d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 15:31:31 +0000

    add BytestreamS5BBugged to simulate Pidgin's buggy SOCKS5 implementation

commit f42c8f563d129b5fb5122215693a6939e827a63b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 15:26:00 +0000

    socks5: accept CONNECT reply which doesn't contain a valid domain
    
    This is needed to interop with Pidgin

commit 4c63f2d1b1815626a3eec0e95136a7ff7b63d680
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 14:47:10 +0000

    socks5: display a debug msg if domain is wrong

commit e2e4faefaa59350a8f997e28baf4e384692ef682
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 14:02:13 +0000

    socks5: expect the right CONNECT reply

commit 709aab611746adff1df0f49fd8c03457fe65ae59
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 13:58:25 +0000

    socks5_expect_connection: send right CONNECT reply

commit e0755a203aa57c8a791e3ca4a36c07551b1bfa47
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 13:14:11 +0000

    bytestream.py: socks5_connect: CONNECT reply is supposed to contain the domain

commit 76b86659dfee8ff700e2045194dcea4c03eee532
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 12:52:04 +0000

    socks5: CONNECT reply has to contain the atyp domain

commit 24be0de35ffb3b898ab0197e6fc2b30008cc3be1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 12:47:43 +0000

    socks5: factor out compute_domain

commit 2c973a126f41e37c121e55ab43a74126eba83680
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 11:18:47 +0000

    socks5: store self_full_jid in private struct

commit 0d29f8b20cf14730be4bf1f03bad2eb1da4b756a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 11:12:08 +0000

    socks5: add some DEBUG msg

commit 24959256cfc85c7b7b2b78ca3de8b5df8b4c17aa
Merge: 0eee2f5 2d6c9ea
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 14:09:20 +0000

    Merge branch 'negotiate-stream'

commit dbe68019d15dd1bf238ca86d6855eb783189b670
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 14:02:13 +0000

    socks5: expect the right CONNECT reply

commit 8dc86e8e1efe51457ac95d0ff3a9f660af2cc7d1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 13:58:25 +0000

    socks5_expect_connection: send right CONNECT reply

commit e0c0f3d0f21ca10b07bba0e7844610c3e3a7e4c1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 13:14:11 +0000

    bytestream.py: socks5_connect: CONNECT reply is supposed to contain the domain

commit 190c2c382dd7c3723a6226bbb0299740ff66757c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 13:13:08 +0000

    wait_bytestream_open: fix initiator/receiver

commit 715b7c469d41a774e23339706245cb68bbabd114
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 12:52:04 +0000

    socks5: CONNECT reply has to contain the atyp domain

commit ebd01d54acf791148e84ecb5abcfc8843b307391
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 12:47:43 +0000

    socks5: factor out compute_domain

commit 0eee2f5f244cb41a0355feec9ccf444938c31f0e
Merge: 90d4dbd 28aa9e1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-24 12:23:34 +0000

    Merge branch 'types'
    
    Conflicts:
    	configure.ac

commit 5c1fd8cee67938333f291734c6ddd1db91e03cc8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 11:18:47 +0000

    socks5: store self_full_jid in private struct

commit 202a13fac3ef0aa9dba31edc04b0b77cdb8427a7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 11:12:08 +0000

    socks5: add some DEBUG msg

commit 22fe58fd2bae321cbf8dedd50c2caa0c177ac28d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 10:22:58 +0000

    offer-accept-private-dbus-stream-tube-socks5.py: check streamhost jid attribute

commit 78bd90f6e902c6c285c930b0acbc745e1daf2728
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 10:22:29 +0000

    the jid param in streamhost has to be *our* own jid, not the contact one

commit 2f7b0ab0fcde94dafcfbf2f47c27e2b7ec60aa3a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 10:23:37 +0000

    file_transfer_helper.py: check streamhost jid attribute

commit 7476e9e43767c6e525c83d0d36ab0d0fb232a7e7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 10:22:58 +0000

    offer-accept-private-dbus-stream-tube-socks5.py: check streamhost jid attribute

commit 7196639825b733930cb702057e372251945168c6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-24 10:22:29 +0000

    the jid param in streamhost has to be *our* own jid, not the contact one

commit 4f53828af28d35e1ad330403c670c1bac8bb3c98
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 18:06:04 +0000

    handle_socks5_query_iq: assume mode is 'tcp' is not specified

commit e47d75c58f27a718dc119223cb4f856da9b5f1ad
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 18:06:04 +0000

    handle_socks5_query_iq: assume mode is 'tcp' is not specified

commit 5e46be5e6d74464ee7b613975235d74e70bd9122
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 15:56:48 +0000

    bytestream_negotiate_cb: change channel state if bytestream was refused

commit 941ae663e32d5ca79e605473737c6cde07b937dd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 15:56:23 +0000

    add test-send-file-to-unknown-contact.py to tests suite

commit 93123f44be78af99bbcad637e134207562a17daa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 15:55:55 +0000

    add test-send-file-to-unknown-contact.py

commit 93860c424016dfc1316dadcc11b9bc70dd60470f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 15:50:34 +0000

    add test-send-file-declined.py

commit 2d6c9ea2f4bbee1d894f09493cae2e49c18581d9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 15:32:21 +0000

    tube-stream: remove _extra_bytestream_negotiate_cb_data

commit e1a5358d257722017ae01d2e95d8c89a60967a79
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 15:27:25 +0000

    pass object arg to GabbleBytestreamFactoryNegotiateReplyFunc

commit ad980ad9b1651a8582ac4ce1e1928d3b09ad28de
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 15:25:14 +0000

    style fix

commit f03c348a4e7ee61c1ffbb6a179c269e2f583894f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 15:21:05 +0000

    tube-stream: pass object argument to gabble_bytestream_factory_negotiate_stream

commit a64ee54bcf99c1c25c571d19fc5f9046e039c2b6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 15:20:48 +0000

    tube-dbus: pass object argument to gabble_bytestream_factory_negotiate_stream

commit ab6ebe9deb822f07eb32c4083586110230735d1a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 15:20:22 +0000

    add object argument to gabble_bytestream_factory_negotiate_stream

commit f2a92318af4fd48a2680f0ddd46e24c5a088c403
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 15:21:23 +0000

    file-transfer: pass object argument to gabble_bytestream_factory_negotiate_stream

commit 0d24696966a01cf6775b89a3fcc89a6420718a95
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 15:21:05 +0000

    tube-stream: pass object argument to gabble_bytestream_factory_negotiate_stream

commit 66bdf5447ed8c22dc6e1e977ad19f90790c0d716
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 15:20:48 +0000

    tube-dbus: pass object argument to gabble_bytestream_factory_negotiate_stream

commit d067ffdb66ef65e7f75ccb413a3d1afe9642daf4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 15:20:22 +0000

    add object argument to gabble_bytestream_factory_negotiate_stream

commit ba7cfdb183f3f6054dfefb652ecf810f6e5f587b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 15:17:30 +0000

    add test-send-file-and-cancel-immediately.py to tests suite

commit d9a7e28a94f7081385302adc77363786470dd9e5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 15:17:07 +0000

    add test-send-file-and-cancel-immediately.py

commit e425d33400c839ba8814fd2229356f65fc2433b6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 12:45:43 +0000

    add test-receive-file-decline.py to tests suite

commit 547bd23a98b5af15f28141fb7be80c7bbc4d9093
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 12:44:53 +0000

    add test-receive-file-decline.py

commit aeba5f8b1b2039b76bd423997e8a8c8e1a743a8b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 12:44:37 +0000

    gabble_file_transfer_channel_close: close the bytestream

commit 8e21cbc080effe9bdb2be2a77ada0214a71d9a6c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 12:17:59 +0000

    add test-receive-file-and-sender-disconnect-while-transfering.py to tests suite

commit 8cfa636b22e2a8bba2238e1cd9bfaec897e65465
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 12:17:52 +0000

    add test-receive-file-and-sender-disconnect-while-transfering.py

commit f201f18dec7d4baaefbb8b2784e4941c83ca65aa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 12:16:32 +0000

    use exec_file_transfer_test in all the FT tests

commit 9e822f57dcea86ee4d6c59376026a71e23a8bec5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 12:16:15 +0000

    add file_transfer_helper.py

commit 5dfca26853ddfe0c253c4e2a3b06627a420141b6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 12:10:12 +0000

    test-receive-file-and-sender-disconnect-while-pending: check using SOCKS5 too

commit 25594bfb30ab6bfe36fa414ae59763504006944c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 12:09:38 +0000

    test-receive-file-and-sender-disconnect-while-pending: check FileTransferStateChanged args

commit 5b3d0d46780704378966c2666acc94baca1ec258
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 12:08:05 +0000

    connection_presences_updated_cb: change reason is remote stopped

commit 60f2eb5c25ff34385333a8d0749d5615280ff99f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 11:59:06 +0000

    add file-transfer/test-receive-file-and-sender-disconnect-while-pending.py to tests suite

commit a97b3cdf36fbdf735aa6f6afb78c8180394190dd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 11:58:53 +0000

    add file-transfer/test-receive-file-and-sender-disconnect-while-pending.py

commit a4df235603400fcf67e11a3f4ebf091e34e4a7c3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 11:58:33 +0000

    cancel FT if peer disconnects

commit 11497cedcfb9b05fa763c5976d6bd45146f89a24
Merge: 324d0ba 90d4dbd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 11:36:35 +0000

    Merge branch 'master' into file-transfer

commit 324d0baee368df4f014b1893301f3aecaeacbc8e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 11:17:43 +0000

    add test-receive-file-and-disconnect.py to tests suite

commit b90f6c75e7056eabae9c2d8678af7686185f418f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 11:17:34 +0000

    add test-receive-file-and-disconnect.py

commit 90d4dbdc5914aa9eac9cb5c5f674bfe9290c14c0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 11:08:02 +0000

    offer-accept-private-dbus-stream-tube-socks5: use send_socks5_reply

commit c73baa229b9980459c445117f3a3c2af1aecbe8b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 11:01:33 +0000

    bytestream.py: add send_socks5_reply

commit e758811a576e4ed19d428bae77238486b703c692
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 10:56:23 +0000

    socks5_init_reply_cb: display streamhost-used in debug msg

commit 020422f47afa632aaea20453f707a8951011af5e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 11:01:55 +0000

    file_transfer_helper: use send_socks5_reply

commit dc8ffe25a355fa500515bdc3792b66899aa80541
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 11:01:33 +0000

    bytestream.py: add send_socks5_reply

commit bcef890baecbb760d9ac2998957d3907d1fe8808
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 10:56:23 +0000

    socks5_init_reply_cb: display streamhost-used in debug msg

commit 221c48c17f639f4c47c3d71d33a753fb8bd417c6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-23 10:31:44 +0000

    file_transfer_helper.py: refactor get_file

commit d4a2dcea384da56aec175937fe84b3d88a68c605
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 18:02:27 +0000

    test sending side with SOCKS5 too

commit 991c3e75be1730d21de91637c982a94743dfdea5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 18:02:10 +0000

    file_transfer_helper.py: BytestreamS5B: implement sending side methods

commit 8515da2e8c9964b45e0f55b67aa3b418ecdad11d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 17:39:30 +0000

    file_transfer_helper.py: move bytestreams at the end of the file

commit 4f6feea4bb174127f99af7be4bae97f319b36e1d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 17:38:23 +0000

    store stream_id in bytestream object

commit fa80eaaf5600afee297fd5972013edb87b905af5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 17:34:22 +0000

    create a bytestream test object instead of making test inheriting the kind of bytestream needed

commit 514415b44e6c1d75bc413c75860ef9b1de642d4f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 16:31:31 +0000

    socks5: block reading once socks5 negotation is done if bytestream has been blocked

commit 1c282bcff1c7430b16d318c2e84198d205abf46c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 16:30:14 +0000

    gabble_bytestream_socks5_block_reading: check if transport is not NULL

commit b51db8caf6e1260fb42869ebdcd5a694274e3c3e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 16:32:40 +0000

    test-receive-file.py: test using ReceiveFileTestS5B as well

commit 0e493d2eed459c64b5c8581ebc8d8757500d0843
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 16:32:28 +0000

    add ReceiveFileTestS5B

commit 5c6e30ec9bb35e2a10cc5b86c1c7b04256a6e591
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 16:31:31 +0000

    socks5: block reading once socks5 negotation is done if bytestream has been blocked

commit 19dca4da304e3275c3d953eeb07725c14e07effd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 16:30:14 +0000

    gabble_bytestream_socks5_block_reading: check if transport is not NULL

commit 1dcf892d2a0591cdd9c659d9531ed3d8e5ee0199
Merge: 821ccef 41c6870
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 15:41:00 +0000

    Merge branch 'master' into file-transfer

commit 41c6870667a5b8542fff57ad7b24a2201b92af83
Merge: 9f14dae 56b6046
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 15:39:32 +0000

    Merge branch 'disconnect-bytestream'

commit 9f14dae202c04f8466fc7e223a5b9662b95d1c08
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 15:32:34 +0000

    offer-accept-private-dbus-stream-tube-socks5: send_socks5_init now taks port as numbers

commit be2052135aff4a3c9dbc5d45fcb16d397e92b430
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 15:32:14 +0000

    send_socks5_init: pass port as a number

commit 837fdcfb1739c1c94bd14b9477ea55b098b12a7b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 15:30:42 +0000

    use listen_socks5

commit 244bca24cea1da81383dd94fcf5a791db66ca043
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 15:30:20 +0000

    bytestream.py: add listen_socks5

commit 56b6046725ea798a307f2da120b859ee4d4be66f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 15:05:40 +0000

    bytestream-factory: use gabble_signal_connect_weak instead of manually disconnect signals

commit 821ccef2463b4ff09810d3f31518018c2d98dd2f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 15:05:40 +0000

    bytestream-factory: use gabble_signal_connect_weak instead of manually disconnect signals

commit e2b3f9fcda5babb687c34c13110201119524968d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 19:07:40 +0000

    gabble_bytestream_factory_dispose: disconnect signals on bytestreams

commit 0822f0d3a4c0825390d27895a7bd4f07cc916d21
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 14:43:56 +0000

    s/bufferize/buffer

commit 3c5cc547ca2bc18ddf995cd07f32ff98c6c7a39d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 13:48:05 +0000

    implement gabble_bytestream_ibb_block_reading

commit be20e2502af62331b32151a0e84f48ed76909ad9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 14:46:31 +0000

    fix a comment

commit a6d77cddf749169fac509421dbcdf02fa0a34353
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 14:43:56 +0000

    s/bufferize/buffer

commit a85362f9a5eac034964a3c9972d76cd90ed9bdff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 14:40:54 +0000

    factor out IBB specific test code to SendFileTestIBB

commit 18961473cc1a9fec65aea96b7cc0e535d2c9b531
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 14:28:48 +0000

    factor out IBB specific test code to ReceiveFileTestIBB

commit 946356e46eee44e97abc6dc7dab6b2a5a983de11
Merge: d1ee31f 70e88b1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 14:08:01 +0000

    Merge branch 'master' into file-transfer

commit d1ee31f930ea46d58574338d96ae28630fdd1006
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 14:02:16 +0000

    send part of the file before the client connect the socket

commit 2d3099612efb65a147ed6a458ee5d68c717305ac
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 14:01:37 +0000

    block the bytestream while the client is not connected to the socket

commit 0373af5d380c88bd8496ea95e31ffd47d3196fdc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 14:00:18 +0000

    gabble_file_transfer_channel_offer_file: don't set hash if NULL

commit 54837880892ad720d9fdbd90e9a8224517e47615
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 13:48:05 +0000

    implement gabble_bytestream_ibb_block_reading

commit 70e88b1339d37e18bce029dfcdd72f76b2990266
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-20 12:24:23 +0000

    Enable GIBBER_DEBUG for test suite
    
    Signed-off-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 09ee7c11e44cd364da0b6ab20d97d609fb462ee2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-20 12:22:23 +0000

    Fix byte ordering of port in GibberListener
    
    This fixes fd.o #20102.
    
    Signed-off-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 1b2e9c9806f0d5adda0cadf6b775b2f88c5d6f01
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 11:50:48 +0000

    file_transfer_helper.py: bytestream is now accepted directly when AcceptFile is called

commit 6f9a7befd6edc33414927560acdc13216041e14a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 11:49:57 +0000

    don't wait that the client connect to accept the bytestream

commit 28cd0840b45701699f3169cf961be41afe76895c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 11:27:40 +0000

    fix comment

commit ffca6328555e0212e165c15c9974ee381bc2b518
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 11:26:16 +0000

    check hash value

commit 0b7c03708c9211b5a253c6f8653ef98853532e72
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 11:19:11 +0000

    file_transfer_helper.py: remove useless imports

commit 3bd0d76816baaa3cf8bcf6d809cab2eb25f6aa26
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 11:18:04 +0000

    file_transfer_helper.py: check mime-type and hash attributes

commit 3e736144365a5d94f63603df3cd896816567def1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-20 11:17:40 +0000

    gabble_file_transfer_channel_offer_file: add mime-type and hash attributes

commit 35bb737ca4df10c5fc5a1d087073fc7766ddaffe
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-19 19:34:38 +0000

    Revert "Disable the tubes test that fails on my machine."
    
    This reverts commit 70bc5f3746e3082b54699393cf6242511eb6b6cd.

commit 6ed52587337bc09f3855eafd6d71d384ce4d2692
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-19 19:34:24 +0000

    Bump nano version to 0.7.21.1

commit 7a47ec9275b3e5127d3c94b93a448d401a717e6c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 19:23:48 +0000

    add first file transfer tests to test suite

commit 4bc4458f979fbe3b28a0bfcb81672fcfd67edece
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 19:23:30 +0000

    add test-send-file-wait-to-provide.py

commit 50c2ab6a4bf5ee874d781c4be025c4827fe3f8c2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 19:23:19 +0000

    add test-send-file-provide-immediately.py

commit d838210e80e702c89b3c1351a554ccf8ecdb661c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 19:23:10 +0000

    add test-receive-file.py

commit 76565618320b91b0b6227370205acb187a8fdbad
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 19:22:43 +0000

    add file_transfer_helper.py
    
    Use only IBB for now

commit fa697ba8726c7cd886c2ad3333acabe8b909c964
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-19 19:13:04 +0000

    Bump version to 0.7.21

commit 70bc5f3746e3082b54699393cf6242511eb6b6cd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-19 19:16:59 +0000

    Disable the tubes test that fails on my machine.
    
    I'll revert this after the release.

commit 5ba284aeea548fee967c0185d05158e3abb4a20e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-19 19:12:13 +0000

    Update NEWS

commit 8d6b339e9a7f5c9e0905500d6b16b7db0bdd7baa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 19:21:57 +0000

    bytestream_factory_iq_si_cb: hook SI file transfers

commit 1fdf5bb51bbcd5b203c4d5564978e837ee63b86b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 19:21:32 +0000

    connection: instantiate the file manager

commit a9b9b983e559d8d06c668061e1b04a54c6f981dc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 19:21:07 +0000

    build file-transfer-channel and ft-manager

commit d7d54d33bc9c54a168bba475b159a35ac285208a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 19:20:39 +0000

    Add ft-manager.[ch]

commit f2acdfb14fd2bf61d2c16ad39f06f765e7b07a5d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 19:18:25 +0000

    Add file-transfer-channel.[ch]
    
    Far from being perfect but seems to basically work.

commit b06cbd2ce6710f4d201b3f23952f15ab3bd3c8b6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 19:07:40 +0000

    gabble_bytestream_factory_dispose: disconnect signals on bytestreams

commit fb53b017f1a512812df965431cc72479a6c2a5dd
Merge: aada273 f705d1f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-19 19:00:29 +0000

    Merge branch 'jingle-accept-lp'
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>
    Signed-off-by: Sjoerd Simons <sjoerd.simons@collabora.co.uk>

commit aada27354c8cf0c2c50cb11c73edd4a7870bf2ec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-09 16:19:27 +0000

    NEWS: update
    
    Also add fd.o bug numbers for some old bugs.

commit f705d1fcf14c5a42acffbc70a35e39125a7d9664
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-19 18:21:28 +0000

    Use constants.py, and discover self-handle properly.
    
    Also fix a trivial FIXME, and don't bother sending an incorrect and
    irrelevant stanza.

commit 6c04539102ac56441cb8b0022b3831498590dd0f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-19 18:13:33 +0000

    Test pending local send are accepted with the call.

commit b29dab3f7ac38152966a959fd946e46e67ff82cd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-19 18:06:55 +0000

    Accept local pending sends when accepting a call
    
    This hasn't been done since the jingle refactoring, but was masked by
    the bug fixed in 45ff4fc8593a8 whereby streams were bidirectional by
    default.

commit ca6557a5fa67f35b24923418ff67a0215d3f8746
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 14:17:23 +0000

    bytestream-factory: factor out si_tube_received

commit 578220de741776d206d31afff17ebfc68be41dc9
Merge: f5e6b7f b07cf1d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 13:21:58 +0000

    Merge branch 'master' into file-transfer

commit b07cf1d58be1a6b94019d310102f797012f7e30f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 13:09:20 +0000

    offer-accept-private-dbus-stream-tube-ibb: use IBB functions from bytestream

commit e0194e98806a70605322817c57c8c4427dd4d87a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 13:08:38 +0000

    bytestream: add IBB

commit e9580b4883709bb090cca69a8d7b8d19151fca40
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 12:44:18 +0000

    offer-accept-private-dbus-stream-tube-ibb: use bytestream.py

commit 7bcb3dc552c673f137abbf26457271f344c0099a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 12:25:29 +0000

    offer-accept-private-dbus-stream-tube-socks5.py: use parse_si_offer

commit 6a3a575d8a58a1c1d17a523b3041afae1c1b94e7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 12:25:02 +0000

    bytestream.py: add parse_si_offer

commit 793618a48fb12c794dde591c03d4764e3edffad2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 12:18:29 +0000

    bytestream: re-order functions

commit 3d78d5fc75b65e5a171671ff9a9b110800463487
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 12:11:26 +0000

    tubes/offer-accept-private-dbus-stream-tube-socks5.py: use create_si_reply

commit 49af4ed37e02933af026057da0c9fb61c4508f1f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 12:11:11 +0000

    bytestream.py: add create_si_reply

commit 3c927435becc0ddef149f82dd4b8a9ee620a57a6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 12:05:18 +0000

    offer-accept-private-dbus-stream-tube-socks5: use parse_si_reply

commit d0d22e94421aedd9b8ad7a9e4002880878ee50a6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 12:04:59 +0000

    bytestream.py: add parse_si_reply

commit f6074de4f8204c2e33819917b34abc248f48eee6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 11:57:33 +0000

    offer-accept-private-dbus-stream-tube-socks5: use create_si_offer

commit dcf53df17c86a2f34380d74671b2afe4923de190
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 11:57:15 +0000

    bytestream.py: add create_si_offer

commit 691e979b00a6d3b165f081d6e8314041bad69994
Merge: 62abc6d 1c591a9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 11:58:49 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble

commit 1c591a9507c3eb7a6abe0d9c9f155b731b60b4b9
Merge: 19ab3cb 94128f9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-19 11:46:19 +0000

    Merge branch 'jingle-refcounting-crash'
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>
    Signed-off-by: Dafydd Harries <dafydd.harries@collabora.co.uk>

commit 94128f9fc28df5f24a4c17611543ea47b28118a9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-19 11:42:57 +0000

    Add _weak suffix to gabble_signal_connect

commit 62abc6d6532f942b48e53d1a5fb143c645495e10
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 11:39:08 +0000

    offer-accept-private-dbus-stream-tube-socks5: remove useless imports

commit b4fe1f333e343324e6636336a0509319bddf3d46
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 11:38:19 +0000

    use bytestream.py in offer-accept-private-dbus-stream-tube-socks5.py

commit bdf15e85b7ada8dc0e88612498108883037a31d5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 11:37:16 +0000

    add bytestream.py

commit 3ab411b1246cf7dc686215c9ec91164604fea299
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 11:27:03 +0000

    factor out expect_socks5_init

commit 43fecf46b1b4cdb5c97827592ddbc21d79d6aa8c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 11:12:13 +0000

    factor out expect_socks5_reply

commit 00eca2541884fc8e7315105f0803db1dfc82a113
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 11:08:47 +0000

    factor out send_socks5_init

commit d1c9a3438f80ef1157c15437ce30cdab417b7928
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-19 10:37:30 +0000

    Add a test for StreamHandler::Error crashing Gabble

commit 24f4ed44c99f53e7d90dc49a7fa3a5d99e6f2b89
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-19 10:36:10 +0000

    Disconnect signal handlers when MediaChannel is destroyed

commit 1f65a9676dafbd9faa9fb84e1e9beea09a55b6bf
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-19 10:35:24 +0000

    Add helper to weak-ref handler user_data

commit 78ec690e9b3815ca8aa90a93f7298b91c4e38251
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-19 01:03:24 +0000

    Remove a misleading comment about reference ownership
    
    We shouldn't be relying on this kind of thing. It turns out that it can
    temporarily be untrue anyway (because of things like emitting signals
    taking a temporary ref) and so relying on "i unreffed this, so all my
    signal handlers have been disconnected" is not a valid assumption.

commit 18697cef73c5da5416072d9750e07f3e7ab299aa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 10:39:22 +0000

    raise event on startedConnecting and clientConnectionLost

commit 6c0e653975470aa171805cc052b49ea5831812b8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 10:35:32 +0000

    factor out socks5_connect

commit 00a9204ca218bfea86cbade0a11298172bd6d7e8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 10:30:45 +0000

    factor out socks5_expect_connection

commit 19ab3cbedbbc990e493af8eb47a86ea9ef3b8167
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-19 10:16:06 +0000

    S5BProtocol use Event and not EventPattern

commit e087f0ad09f19b142567bd2ac90fcbe80ecf7ead
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-18 18:42:01 +0000

    Implement clientConnectionFailed on S5BFactory

commit b6b96b49687bfe2530de317c183351788b63f96f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-18 18:32:10 +0000

    Make sure we catch the right NewChannel(s) signals

commit 829fbd40a219328f83fd6da430429dad412c1348
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-18 18:17:02 +0000

    Remove another 'from constants import *'

commit 767520600f40334bce49175f99ac4aefe859bf11
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-18 18:02:58 +0000

    Fix trivial FIXMEs

commit 467a2fa544d8f425e4a61e1cdd04624cba0f4e0b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-18 17:57:15 +0000

    Split out testing offering tubes to incapable contact

commit 47c32dada3e20e5a727bc8a0b3ceb550101ce465
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-18 17:01:58 +0000

    Remove a 'from constants import *'
    
    Also remove a bunch of redundant checking, and clear up other test code.

commit 9ec8b29bfef2c33fedbef24237518e3e1792ae11
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-18 16:38:53 +0000

    Move duplicated NewChannels checking to tubetestutil

commit e21f7f2becddd0cafbd00a97b1905b7dad522479
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-18 16:31:05 +0000

    Move duplicated tube(s) property checking to tubetestutil

commit 32db9660f72dea0d1121613c2acac37f0dbdad10
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-18 16:09:20 +0000

    Move duplicated NewChannel checking to tubetestutil

commit f5e6b7fc90c38818ad341ba087c164fba25db57e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-18 15:57:30 +0000

    announce PRESENCE_CAP_SI_FILE_TRANSFER in our capa

commit 43804120dacd00ee1e38d86fa630b996fab3842c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-18 15:56:51 +0000

    add PRESENCE_CAP_SI_FILE_TRANSFER

commit 7b5877b3a2bbd885d89ebc5e72e4984943f5deea
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-18 15:55:54 +0000

    namespaces.h: add NS_FILE_TRANSFER

commit 1c33b18ef95fc905391bfcf547449914b83c082c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-18 15:50:19 +0000

    ns.py: add FILE_TRANSFER

commit fa315408cef6ed6a2f70d2c9215e6cb3ab02c970
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-18 10:59:54 +0000

    add file-transfer debug flag

commit 3b7e6a533124cfc129d93fa089c04d81de0f3cba
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-02-17 11:05:53 +0200

    src/muc-factory.c: Fix strict-aliasing warning
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit 77628e2c2afa6bf97dc6a90235dd4c0a59fa3faf
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-02-17 11:41:15 +0200

    Dispose in Jingle Content: reset the source id to zero after removing them
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit 7011e6cfdf29f2313feec0f765ed2c4b18e93f76
Merge: 7094f10 46cf8ff
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-17 12:13:29 +0000

    Merge branch 'idle-jingling'
    
    Reviewed-by: Senko Rasic <senko.rasic@collabora.co.uk>

commit 7094f10efd457a5bf4438f45988ca388015c5ed9
Merge: 89a7fac bc93a0a
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-02-17 13:08:40 +0100

    Merge branch 'local-bidirectional-streams-fix'

commit bc93a0a85de012dacf5a65bfefd68b20a4b03b6f
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-02-17 13:04:45 +0100

    make locally created streams bidirectional by default

commit 46cf8ff2185aa36ba71aeb05895efbea30c31f22
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-16 19:48:59 +0000

    Create initial streams at once, not in an idle.
    
    While it's true that by doing this from an idle they appear on the bus
    after the media channel has been announced, that's not actually very
    helpful: it doesn't mean the clients have had time to connect to the
    relevant signals. In any case, the client should be calling ListStreams
    on the media channel.

commit 54021cee0ad38536585fb84578e223bc24fb4380
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-16 19:45:47 +0000

    Terminate empty JingleSessions immediately, not in an idle
    
    I don't think the reason for delaying this given in (deleted) comment is
    valid. All that MediaStream does in response to 'content-removed' is to
    emit 'closed' if it hasn't already; when a JingleSession is terminated it
    closes all the associated MediaStreams anyway.

commit 9b91ef9d36b7560eacb1650494158c3318f31782
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-16 19:45:04 +0000

    Add FIXMEs for safe but unpleasant g_idle_add()s.

commit 89a7facd4613ef5471eee191a98eb30569bb27d7
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-02-10 14:15:07 +0200

    Jingle session: Assert earlier if the session object does not exist
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit a78c2982ae8d8931f9b45892931b33bb180a2abc
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-02-13 16:03:54 +0000

    Jingle content: Cancel pending g_idle_add in dispose
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>

commit 73bc407710f3b4c3a4ceecd77541cf76e2749302
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-13 16:02:58 +0000

    Coding style: reduce indentation

commit d1ae16c67486bd51b8130961599ec5ea922365ba
Merge: f1ff350 4d28b83
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-02-13 16:55:13 +0100

    Merge branch 'wrong-timer-assert-fix'

commit f1ff3508256092fc4e6dc16e7943b8f126744aa7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-13 13:19:50 +0000

    gabble_tubes_channel_tube_request: no need to get parameters from requested properties any more

commit ccbda64c76f4838dd081230550dcd2868a93f90e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-13 13:06:41 +0000

    upgrade NEWS

commit fe9c5b6d6f555c1b59e09c2a193f3300bdabe27f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-13 13:01:59 +0000

    tube-dbus: fix priv->parameters leak

commit 06595b4810cc4e4879503818bea5c9e195c2f2bd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-13 12:57:13 +0000

    gabble_bytestream_socks5_initiate: free list data

commit b6ddd83de7e2e79e59065d3cd5c63879a126e5c4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-13 12:53:08 +0000

    gabble_tubes_channel_tube_request: fix parameters leak

commit 4d28b831b3bba336ca90d555beecadbdeb75a918
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-02-12 16:56:14 +0100

    JingleContent: remove ack timer in dispose if it's still running

commit 5772bdb4997774618d4799483a0788c354cedc01
Merge: bdaf4c6 45ff4fc
Author: Senko Rasic <senko@tachyon.lan>
Date:   2009-02-12 12:41:50 +0100

    Merge branch 'incoming-stream-direction-fix'

commit 45ff4fc8593a828c643a40b7da3e50e464756524
Author: Senko Rasic <senko@tachyon.lan>
Date:   2009-02-11 14:54:29 +0100

    Media{Stream,Channel}: make stream directionality NONE initially so that the client has to request stream direction and approve local sending

commit bdaf4c6a47def7b4c0a29ecc347d7a23bdf23dff
Merge: ece2e85 3765364
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-11 13:45:22 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble

commit ece2e85b07b14c6507903b2ef01ef14612680d6c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-11 13:36:39 +0000

    add FIXME saying we should use tp_dbus_properties_mixin_add_properties

commit 516af3ccf19955ae1cf0e9e241338373002a3c6b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-11 12:59:34 +0000

    tube-stream: Parameters property has to be in channel-properties only in incoming tubes

commit 8d955c5bbce7ee0a36146a2ce06f32032682117c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-11 12:59:22 +0000

    tube-dbus: Parameters property has to be in channel-properties only in incoming tubes

commit 43d7482f0582d7d6712a5bc519b0db655c6ff634
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-11 12:32:18 +0000

    accept-muc-stream-tube-ibb: check if tube parameters are announced

commit d6b60b20ce1e2c1ccbb5e7ebf84dcbe221e7954b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-11 12:32:00 +0000

    accept-muc-dbus-tube: check if tube parameters are announced

commit 5ed04b58b4cdc09a4545930c7b5a6456cf1acc53
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-11 12:30:09 +0000

    tube-stream: add Parameters to channel-properties

commit 4dd5377d41e40f4451c2a0fc8f285ee0d7fc9e96
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-11 12:29:53 +0000

    tube-dbus: add Parameters to channel-properties

commit 5e0d1d46295767e7c9a28d6e44a9f4eabb8d00fb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-11 12:15:53 +0000

    test-caps-tubes: Parameters is not an allowed property any more

commit a20cc53c6044a0af28550b1d050e16592d1511dc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-11 12:15:35 +0000

    private-tubes-factory: Parameters is not an allowed property anymore

commit 373682619f6eace0a4586b6e8f52f13bb61ef705
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-11 12:06:52 +0000

    offer-muc-stream-tube-ibb: fix to use new tube API

commit 5db2fe1804a554cad75cc36a50a9507a041ff96b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-11 12:03:46 +0000

    ffer-private-dbus-tube-ibb: fix to use new tube API

commit 90dd620faa8cc8a53676551b00293330ac1d1018
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-11 11:56:56 +0000

    offer-muc-dbus-tube: fix to use new tube API

commit 1cfae7d55ee9de5a9225c4b05b76d01af745d819
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-11 11:56:26 +0000

    gabble_tube_dbus_offer_d_bus_tube: set parameters

commit b1e80e779cb81df308b30b48671f9f3afe6a5eb0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-11 11:56:16 +0000

    tube-dbus: Parameters property is now read only

commit 597bb2acc8b5355e8534ba3480200efcba703b5b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-11 11:55:46 +0000

    check_conn_properties: all missing tube(s) channel type

commit e9fdd6867e5946790039e4d050fdc9441258c7ea
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-11 11:47:13 +0000

    offer-accept-private-stream-tube-si-fallback: fix to use new tube API

commit 5beae903114a0394c529a48862b37a2b79c04459
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-11 11:42:10 +0000

    offer-accept-private-dbus-stream-tube-socks5: fix to use new tube API

commit 7afdad06204de6cbaa822436febaa3fd2cc5c37f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-11 11:41:52 +0000

    offer-accept-private-dbus-stream-tube-ibb: fix to use new tube API

commit 3ff50533901fdea9804262be1a813f51bebbbbdc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-11 11:39:56 +0000

    tubetestutil: Parameters is not an allowed property anymore

commit d492ef94c277aa0ae0c00bdc952a499238ce2121
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-11 11:39:36 +0000

    gabble_tube_stream_offer_stream_tube: set parameters

commit f4f0ca9cea5ab740a4cf005826a9b2bf26728b66
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-11 11:39:15 +0000

    tube-stream: Parameters property is now read only

commit 5ef7ad128d62ee98a214febe39f7de3dfafa7c0b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-10 18:14:34 +0000

    remove Parameters from gabble_tube_stream_channel_allowed_properties

commit 4576a0834e42a85f54f7020c8070c8d05b83e945
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-10 18:14:17 +0000

    gabble_tube_stream_offer_stream_tube now taks a parameters property

commit a9bc218b4f83c230675745bc1245e056c51b7832
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-10 18:13:53 +0000

    remove Parameters from gabble_tube_dbus_channel_allowed_properties

commit 8ce403b10856e60257d573f9f41e540a4d017764
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-10 18:13:37 +0000

    gabble_tube_dbus_offer_d_bus_tube now takes a parameters property

commit fe18d91618ea628d2e767bf14ba6a7c0e86c9981
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-10 18:06:38 +0000

    upgrade to latest tube DRAFT

commit 37653645b3494988cf5cc49e6e6e9bbec0371936
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-09 15:56:01 +0000

    Silence the generation of gabble-signals-marshal.list
    
    This rule fires every time, because if no source files have changed then
    gabble-signals-marshal.list doesn't change so Make still thinks it's
    old. The alternatives are to move the "build to temporary file and only
    mv if it's changed" thing to building gabble-signals-marshal.h (which
    would then run every time instead), or to touch the list even when it
    hasn't changed (which would cause the whole of gabble to be rebuilt
    whenever you change any source file).
    
    I assert that this is better than rebuilding the whole of gabble. :-)

commit 977eb713349929f8e4085f6593d93e1af0927c04
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-09 15:10:50 +0000

    Revert "touch signals-marshal.list if it's already up to date, so make doesn't try to build it again"
    
    This reverts commit e1a5774f857d769df529159e576e5c667e09a5c0.  It seems
    to make every source file that uses gabble's marshallers be rebuilt
    whenever you change any other source file, because Make always thinks
    the signals-marshal.h has changed.

commit bee45d9ea1ed03bf1c3491d2e60e7dda825b8cc3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-02-10 11:43:20 +0200

    Do not emit PresenceUpdate if the presence does not change, and do not leak resource

commit e7014782c8a986858d2e8b5eca0ef5669c2ec928
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-02-10 11:42:59 +0200

    Check if gabble_presence_cache_get() returns NULL

commit a6c59c05e9bf5b9a3bf7ca6484207984295034f2
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-02-10 11:28:10 +0200

    Check if gabble_presence_cache_get() returns NULL

commit f5a3b788e54de10399b29cbda21020d76a18b718
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-02-10 11:21:39 +0200

    Fix leak detected by coverity

commit e4b21c71c20643f0301c8b31a430c297eb4eac78
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-02-10 11:18:50 +0200

    Fix leak detected by coverity checks

commit 514c1023de8c5d10eb0f0991585e659feec18b90
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-02-10 11:03:34 +0200

    Fix "use after free" from coverity

commit f806b9828d3362cd4b479948754531b216212b0a
Merge: 5b5de1f 1babfb0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-09 14:44:48 +0000

    Merge branch 'type-safety-whats-that'
    
    Reviewed-by: Will Thompson <will.thompson@collabora.co.uk>

commit 1babfb09b0230c9d51598b6f7ca24221353d3a5c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-08 14:47:39 +0100

    connection-manager: use GUINT_TO_POINTER for unsigned param defaults

commit d9a0578a96d8d890e92a7fb51f23d4befe751870
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-08 14:47:17 +0100

    im-factory: use GUINT_TO_POINTER for handles

commit 1ba67e2ae42d8529395d07e319dc6f088e5b3395
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-08 14:47:01 +0100

    muc-factory: use GUINT_TO_POINTER for handles

commit 828ff4f49fd4d816a652950e2f477b2934fae1cc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-08 14:46:40 +0100

    roster: use GUINT_TO_POINTER for handles

commit 284fab1fa810dc50a6d5d9dfd127e88fc731cd0e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-08 14:46:18 +0100

    connection etc.: use GUINT_TO_POINTER for handles

commit ef78c14309b4900a669dc0fd71359034349f0c2f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-08 14:39:20 +0100

    fd.o#20003: GabbleJingle*: use GPOINTER_TO_SIZE for GTypes
    
    This fixes a crash when the GType is instantiated on certain 64-bit
    platforms. GType is defined to be the same size as gsize, which may
    be greater than the size of int. On some 64-bit platforms (including
    amd64 Linux?) the high bits of a GType are in practice zero anyway, so
    the truncation is wrong but harmless and we didn't see this crash; on
    other 64-bit platforms, we crash.

commit f620a7164317327aa99e6a1f6cc25bd4638c1203
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-08 14:34:24 +0100

    conn-aliasing: use GPOINTER_TO_UINT instead of TO_INT for handles

commit 90ad3314e55c3306868af90a6bd69715363e912d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-06 17:19:09 +0100

    GabbleMediaStream: signal connections are gulong, not gboolean
    
    This never deserved to work.

commit 5b5de1ff6bad2827b2a84948e093e846bd1423fb
Author: Dafydd Harries <daf@rhydd.org>
Date:   2009-02-06 17:13:17 +0100

    ignore twisted test temporary files

commit a08912e8b6f22a6d7eb269251aae6b0b9dd66a98
Author: Dafydd Harries <daf@rhydd.org>
Date:   2009-02-06 17:10:14 +0100

    remove superfluous include

commit 56bca95d3284eeacdf340207f20489d1d9f40fdb
Author: Dafydd Harries <daf@rhydd.org>
Date:   2009-02-06 17:09:00 +0100

    bump telepathy-glib dependency

commit 1a3729a2f5a0e1fd76814bd849369d5ece337329
Merge: f0d6e83 10a5b32
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-05 14:04:18 +0000

    Merge branch 'muc-dbus-tube-new-api'

commit 10a5b320fd1aadd36a4231c664c4065beeb2f976
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-05 13:58:34 +0000

    gabble_tube_dbus_channel_allowed_properties is static now

commit 17e91861b6ab7c5ac46ba920f8f9f705edaecb89
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-05 13:55:59 +0000

    add gabble_tube_stream_channel_get_allowed_properties function instead of defining the array in the header file

commit bb5ee734e3262de0dcb5916bbb0ebef1c301f48f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-05 13:52:01 +0000

    add gabble_tube_dbus_channel_get_allowed_properties function instead of defining the array in the header file

commit 3d3562471ba0b638585fc465d343782943c592fe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-05 13:29:16 +0000

    tube-dbus: revert changes implementing the group iface and delegate it to the text channel instead

commit d34666c85ff645b828a1b68cc446886b8484c20d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-05 11:34:49 +0000

    add accept-muc-dbus-tube.py to tests suite

commit d004bafe34024d54ac88825e6e536d5a7b7cf358
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-05 11:34:30 +0000

    add accept-muc-dbus-tube.py

commit 97b1223584602078270abb271160cd4318fffba0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-05 11:23:12 +0000

    offer-muc-dbus-tube: check DBusNames property

commit 5a1030b994123227728befc592d541497929a696
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-05 11:21:44 +0000

    offer-muc-dbus-tube: remove old comment

commit 3dfd0b980b170f842e2f83a1f9f6bf98e4aa4612
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-05 11:20:59 +0000

    gabble_tubes_channel_accept_d_bus_tube: remove update_tubes_presence and add_yourself_in_dbus_names as they are called in tube_opened

commit 86f7ab3eac978655c6f7f15a86e90af874a7a6a4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-05 11:20:12 +0000

    tubes-channel: call update_tubes_presence when the tube is open so we'll announce the tube we just accepted

commit 3ce77791ae0fb00bb5d8848a31bba840f4b1a3c1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-05 11:16:32 +0000

    tube-dbus: set offered to TRUE just before actually offering it
    
    So the tube will appear as open in the "tube_opened" callback.

commit 09d18a1d44416fa60746da99c463d0b536e8224a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-04 16:43:50 +0000

    gabble_tube_dbus_offer: don't fire the StateChanged signal as it will be once the bytestream is open

commit 9fc8136a2ad0051919214eab3bbb338d42e3b959
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-04 16:33:14 +0000

    tube-dbus: call add_yourself_in_dbus_names when the tube is open and not when it's offered

commit 10de248623d18e65d246402a37a34cfe81824cfe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-04 14:22:21 +0000

    upgrade NEWS

commit 7890e02a67d1c62d0bd71c5989968cdb72a308dc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-04 13:33:04 +0000

    offer-muc-dbus-tube.py: factor out check_tube_in_presence

commit 3352712e3ea6a29e4d3c4d027e1f9a026ff17c1d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-04 13:27:37 +0000

    gabble_tube_dbus_remove_name: remove handle from members

commit 34f46d5bdaa24047f611dbd8e8eaf7a57ef8a21c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-04 13:24:19 +0000

     offer-muc-dbus-tube: check if DBusNamesChanged is fired when a contact leave the tube

commit a434e4152a617e51b2510ae000820766d1a69534
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-04 13:23:44 +0000

    gabble_tube_dbus_remove_name: fire DBusNamesChanged signal

commit c5dd428d6af4d19f36be077733713958e049f900
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-04 13:20:01 +0000

    offer-muc-dbus-tube.py: factor out fire_signal_on_tube

commit 35725123b92ed34a90e08707e28ecf50d04cc275
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-04 12:30:26 +0000

    offer-muc-dbus-tube.py: wait we have offered the tube before getting our handle

commit 7325e621178db8f156ea51d772cb4189039d8bad
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-04 12:29:55 +0000

    tube-dbus: add tube participants as members

commit 248a98ade96fdc31c76298506dc6ca04df10904f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-04 11:25:24 +0000

    offer-muc-dbus-tube.py: check if DBusNamesChanged is fired when a user joins the tube

commit 601ad2d13868615ce74385d7f9fd51d36cb5074d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-04 10:45:25 +0000

    offer-muc-dbus-tube: test if DBusNamesChanged (new API) is fired when offering the tube

commit d0aba24bc340c4503e538f73e5da4a38d5dfa1b1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-04 10:43:07 +0000

    tube-dbus: actually implement the group mixin instead of using external
    delegation.
    
    We can't use tp_external_group_mixin_* as in the tubes channel as the
    tube group is a subset of the text/tubes ones.

commit f5dbf63d788b357b447aed85784cc4141ef7f6fe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-03 17:28:35 +0000

    gabble_tube_dbus_add_name: fire DBusNamesChanged (new API)

commit 154f0300e19166936d73793b98904455ec553cd5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-03 17:09:37 +0000

    create_new_tube: don't call update_tubes_presence anymore as tubes are not open at this stage

commit c1a17804b8280ce0aa5a3adcd6c4db41b83c49ee
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-03 17:07:14 +0000

    offer-muc-dbus-tube.py: ensure to catch the old DBusNamesChanged signal

commit e64f6f0ac1f848c3962a06abe223362077e274de
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-03 17:06:05 +0000

    tubes-channel: wait than the tube is offered before adding us to dbus names

commit a2e176d219c733ce67952e5f381cf9b0950638a1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-03 16:29:42 +0000

    offer-muc-dbus-tube.py: start to test new API

commit 6b1524db55a632eb133eb11538d9f06878abdbd0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-03 16:28:19 +0000

    gabble_tubes_channel_offer_d_bus_tube: call gabble_tube_dbus_offer with muc D-Bus tubes too

commit 6f0559df7ba67905be6837928152294308b1c325
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-03 16:57:38 +0000

    tube-dbus: create a local-pending muc-bytestream at tube creation.
    Open it when the tube is offered.

commit cf1fc9f904de78461bc4a9162a1700c879f116a3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-03 16:23:52 +0000

    muc-factory: handle D-Bus tube channel request

commit 9bd1307c26eb3985236ad311dd58961c9eb58b43
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-03 16:13:23 +0000

    muc-factory: add dbus tube channel to requestable channel classes

commit 2d7636efbfb296304b18362011efce744f0a0363
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-03 15:28:29 +0000

    private-tubes-factory: use gabble_tube_dbus_channel_allowed_properties instead of our own version of it

commit 30d78b5bf6a35bebaff002e12f68dabdf0295cbf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-03 15:28:00 +0000

    add gabble_tube_dbus_channel_allowed_properties

commit 13dc28d8f58d9aa045ef6d4ff39ef95aa57cdd96
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-03 15:09:35 +0000

    offer-muc-dbus-tube: use more constants from constants.py

commit f0d6e836b0e65d2c85e09167f8b6d11204fdd4f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-05 12:46:42 +0000

    tube-stream: add a muc property and use it to delegate our group interface

commit e129c32cfd7622c373179acdddec256ac6c802a0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-04 14:10:07 +0000

    offer-muc-stream-tube-ibb: check tube_chan.GetSelfHandle

commit 31a7e424d8e96368bfcf86ef26bc2cba35a37cfc
Merge: 9e89639 655e7d1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-05 12:31:56 +0000

    Merge commit 'wjt/test-cleanup'

commit 9e89639954b3e194e080f054f92efc5b17b06f68
Merge: 1493e4e d3e17b0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-05 10:56:27 +0000

    Merge branch 'wait-for-caps'
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>
    Signed-off-by: Senko Rasic <senko.rasic@collabora.co.uk>

commit d3e17b05c54718741e09bef5d6c801736bb08696
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-04 16:52:23 +0000

    Remove unused imports from wait-for-caps tests
    
    Also, misc tidying.

commit 3bec82e0ba2f96081441e74e3d236900173bf35e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-04 16:41:06 +0000

    Unrace test-wait-for-caps; test both outcomes instead
    
    Previously the test tried to ensure that RequestStreams had been
    received by Gabble before sending the contact's presence, but like in
    f861770 sending a spurious presence update doesn't actually guarantee
    that. So sometimes Gabble received RequestStreams before getting the
    presence, and sometimes afterwards (which in practice was still before
    the disco reply, although that wasn't guaranteed). Now, test both cases.

commit 211931634885d234afa25688b2d6eba6b1bdee68
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-04 14:33:07 +0000

    Use constants.py and ns.py in wait-for-caps tests

commit 4bd35da73db77805affc1c9c5d7223a6f3f8f58c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-04 14:25:10 +0000

    Remove unnecessary presence update in test
    
    This doesn't actually ensure that RequestStreams is processed. It
    ensures that Gabble's read everything from its xmpp socket, but we don't
    care about that. And all that we care about is that RequestStreams is
    processed before Disconnect, which it is because ordering.

commit a7abca4391ae4a33d065ad09476f526f076fea95
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-04 14:24:13 +0000

    Fix a race in wait-for-caps-incomplete

commit 2642f815fcd4ad6d022e320d895ed2b52ba6a47b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-04 14:11:38 +0000

    Check RequestStreams returns NotAvailable on Disconnection

commit c28870ae07c23d8a32cccf0c7b096cee5359adb5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-04 16:39:53 +0000

    Make sync_stream listen for its specific IQ
    
    Previously it accepted any disco#info IQ as proof that Gabble had
    processed the IQ it sent it, which is wrong.

commit 1493e4e447996321e273903bb390104663f1a1c9
Merge: 45c597a bfe2160
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-04 16:13:58 +0000

    Merge branch 'ref-initial-peer'
    
    Signed-off-by: Will Thompson <will.thompson@collabora.co.uk>
    Reviewed-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit bfe2160db90a237ae35bf52f536d85fadff6f9ea
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-04 15:33:00 +0000

    Ref initial peer's handle in media channels
    
    Previously, if you requested a media using CreateChannel and TargetID,
    the handle would actually fall out of scope as soon as CreateChannel
    returned, and incoherence would ensue.

commit 655e7d1cc3a16402d0178ad9c9282b36ed687e55
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-03 20:05:21 +0000

    Use tubetestutil.check_conn_properties

commit 38eee7f16b5bc79b4ed6ccdbbe9d0383c72a0142
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-03 20:02:40 +0000

    Use ns.py everywhere in tubes tests

commit 79e42fc8114d9caa6e3b3fb5e705da34821e1614
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-03 19:48:04 +0000

    Use set_up_echo from tubetestutil
    
    One version lowercased all text, one uppercased all text, and two did
    nothing. I chose to use the lowercasing version everywhere.

commit 9ccfc04e166be961d1113a3413cb9057d353c099
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-03 19:24:53 +0000

    Add Echo protocol to tubetestutil

commit 38dad29ebecb6d8091ed66da27285f7ee5496e70
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-03 19:42:29 +0000

    Don't import * from tubetestutil
    
    Instead, import it as t.

commit 45c597aec5fa206cac7e3143b97931c3d815a934
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-03 14:41:03 +0000

    Mention Messages in NEWS.
    
    (including the slight change in semantics for Sent on MUCs.)

commit 50c48774551a9a5181ac1dc74c64239826ed7b7d
Merge: ed497fd b5cd1ce
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-03 14:23:49 +0000

    Merge branch 'messages'

commit b5cd1ce6eaa431a2c8261228898fccb56efbd29c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-03 14:00:06 +0000

    Test that leaving MUCs works after name conflicts.

commit 223d919d01fe8f33bce78d31b76b844c5e3e220b
Merge: ddaeb5a 6c04b00
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-03 11:51:40 +0000

    Update branch messages to master
    
    Conflicts:
    	src/media-factory.c
    	src/text-mixin.c
    	tests/twisted/ns.py
    
    The first conflict was a function modified in messages and moved in
    master; resolved by making the corresponding change (adding an argument
    to a call to gabble_xmpp_error_from_node) in jingle-factory.c.
    
    The second conflict was a function modified in master and rewritten into
    message-util.c in messages; resolved by making the corresponding change
    (changing a g_warning to DEBUG) in message-util.c.
    
    The third conflict was trivial.

commit 28aa9e1223ef2fca75b6630e1f5331516d7a2774
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-03 11:56:44 +0000

    tube-stream.c: use a telepathy-glib hash type for a{uau}

commit e6d2129d257778f4e715daf66892415bb3cfed1b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-03 11:56:11 +0000

    olpc-view.h: define GABBLE_ARRAY_TYPE_HANDLE as DBUS_TYPE_G_UINT_ARRAY
    
    dbus-glib has a handy macro for arrays of guint so we might as well use it.

commit ccfeeea41aafd7394d0861cd989be77049820eda
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-03 11:55:20 +0000

    conn-location: remove suspicious GArray assumptions
    
    What dbus-glib wants is precisely a GArray of guint, so give it one of
    those. A GArray of an enum is not necessarily the same thing
    (in practice, we tend to assume that enums are the same size as ints,
    but ISO C does not guarantee this).

commit 7f4bde36f043e65d5a56158cb4ebcfc7d21099e2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-03 11:48:02 +0000

    conn-location: use the RichPresence type from telepathy-glib
    
    Also improve comments.

commit ed497fd5563f4a44967667dd1107eff9bef25244
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-03 11:26:12 +0000

    tube_closed_cb: add comment explaining current design

commit 62fca48a86cc59b6c5b2eb87fd6345974c28b57d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-03 11:20:20 +0000

    Depend on telepathy-glib 0.7.24 for rich presence data structures and extensible errors

commit 688fb0a7852282f2e708b769976247b93c447fb9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-03 11:11:11 +0000

    upgrade NEWS

commit 49ade696f36f924ec154ea0433b699506fa98d1f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-03 11:10:51 +0000

    remove old FIXME/TODO

commit f7268042119dd4e838ff0042c8e103553ebc78a9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-03 11:01:47 +0000

    improve FIXME comments

commit 331b8d962778cabdfe17c8e4bcf1f9bb5f20bc99
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-03 10:46:39 +0000

    gabble_tubes_channel_presence_updated: we can announce D-Bus tubes too now

commit 03a80bd8bcdd9ae03c907a24bc6a63fe93730f0f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-03 10:46:15 +0000

    offer-private-dbus-tube-ibb.py: check if the Closed and ChannelClosed signals are fired

commit e3c09ccd161474d807de08efaf62317cf3fa4ada
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-03 10:39:58 +0000

    tubes-channel: fire Closed and ChannelClosed signals with D-Bus tube too

commit 817afce184ba25878247172a4c80535bbe11dc57
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-03 10:13:36 +0000

    offer-accept-private-dbus-stream-tube-socks5: remove useless params of check_conn_properties (fix rebasing error)

commit 68c1aa1e3b0607a32171734afcc53487179d8124
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 17:22:51 +0000

    offer-private-dbus-tube-ibb.py: Status has been renamed to State

commit a29386fec589d2aa4a24baa411d5e2ee16e4093a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 17:22:27 +0000

    offer-accept-private-dbus-stream-tube-ibb: Status has been renamed to State

commit b66457fb7869bfc26099ee9341be5221d3dc0fa8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 17:22:05 +0000

    tube-dbus: Status has been renamed to State

commit a2d111e226897493a124e95b2e414b7dfb6b8cb5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 16:28:11 +0000

    tube-dbus: add TODO about DBusNamesChanged signal

commit 6998bcbd2de818c238a374ade374b39cc8cc64ed
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 10:47:46 +0000

    offer-private-dbus-tube-ibb.py: check ServiceName and DBusNames properties

commit d3759b9c5bc9c8e184c430d20e5592e220d198bd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 10:47:26 +0000

    tube-dbus: implement the DBusNames property

commit 0fc0aa9b38f8c32c1cd38bbba2f5148493a89b01
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 10:47:06 +0000

    tube-dbus: always create the dbus_names hash table as the property has to be implemented in muc tubes too

commit 0c9b76f4ceb9b9ba4ac2a94a75b7ef91a5832b27
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 10:33:02 +0000

    offer-private-dbus-tube-ibb.py: check ServiceName and DBusNames in channel-properties

commit 98193c14f196ced50129b082e2385c5a76daa7d0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 10:32:34 +0000

    constants.py: add DBUS_TUBE_DBUS_NAMES

commit 8613847cd6db561cfee4d79a984bfd73a0b1e52c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 10:28:25 +0000

    offer-private-dbus-tube-ibb.py: use contants.py

commit 28a862635dd975dd0d47ee94c13b3be2ad079410
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 10:17:26 +0000

    offer-private-dbus-tube-ibb.py: assert that Parameters and Status are not in channel-properties

commit 828645e6fb48d1b6988189c4bb3cbce1685bc7aa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 10:16:52 +0000

    tube-dbus: Status and Parameters are not immutable properties

commit 6d9080021a0d2720e79ffa8f5aef54c4f123a9c3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 10:14:14 +0000

    offer-private-dbus-tube-ibb: check Status and Parameters values

commit 966ea0b0f7bb5ef85ef117181790b45514da315d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-26 18:12:10 +0000

    offer-private-dbus-tube-ibb: check if the TubeChannelStateChanged is fired when tube becomes remote pending

commit 72ce742e2d1daf5f68ae9ba645d3e1a506c777bc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-26 18:11:43 +0000

    gabble_tube_dbus_offer: fire TubeChannelStateChanged

commit 7942ec1308798148bec730adfa82aa298ba61b72
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-26 17:51:31 +0000

    offer-accept-private-dbus-stream-tube-ibb.py: test to accept D-Bus tube using new API

commit 60cd58d794aaad2f55fba885765e53df7b43ef64
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-26 17:50:52 +0000

    tube-dbus: implement AcceptDBusTube

commit 6b0332492bd6df1158aa274e10744af56042307b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-26 17:43:38 +0000

    gabble_tubes_channel_tube_si_offered: emit NewChannel signal

commit 8d15fe8c505bb3201eb09502a577cafd7e3ebade
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-26 17:42:45 +0000

    gabble_tube_dbus_new: fix object path

commit 3f3c13e8edf8477cacf1f7f4c422e6c3ffde2325
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-26 17:02:20 +0000

    offer-accept-private-dbus-stream-tube-ibb: factor out contact_offer_dbus_tube

commit ec8e2c9ec179e9428baf564548a91a0884fe4752
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-26 16:48:56 +0000

    gabble_tube_dbus_accept: raise an error if create_dbus_server failed

commit 8bc15cca63748e028649b320ab4c53e27d9ee5df
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-26 16:45:29 +0000

    minor coding style fix

commit 66547db940909e8f7e12494573328c3d5f3171ac
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-26 16:45:02 +0000

    gabble_tube_dbus_offer: raise an error if create_dbus_server failed

commit 8067526fc3ec1592a53e826fa639531c665ecf69
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-26 15:28:15 +0000

    tube-dbus: emit TubeChannelStateChanged when tube is open

commit fd9ab526fb351c9ad20dc07db240bf87e7705239
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-26 15:05:40 +0000

    offer-private-dbus-tube-ibb: check that OfferDBusTube returns an address

commit 00d4449aad6000ef9f1ba521893ddb1a749e9fd9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-26 15:05:14 +0000

    offer-private-dbus-tube-ibb: move test function to the end of the file

commit 08e56c2354d5259fffc636034fd2c443b04f8648
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-26 15:00:47 +0000

    tube-dbus: add TODO

commit a1d28255d053880c6a921bf74299fcc2b5107dd8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-26 14:47:59 +0000

    merge gabble_tube_dbus_listen to tube_dbus_open

commit 97ca734c00c1d9fc1093f8c45e039f247cfad254
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-26 14:44:12 +0000

    call create_dbus_server in gabble_tube_dbus_accept so gabble_tubes_channel_accept_d_bus_tube doesn't have to call gabble_tube_dbus_listen anymore

commit 744a585cc0be0f2b8c08c21d40ddcd57854f024d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-26 14:38:24 +0000

    gabble_tube_dbus_offer: call create_dbus_server so the OfferDBusTube can return the tube address

commit 3cd5b54d283c36cd49430d6cebaaa714a33ee195
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-26 14:37:28 +0000

    tube-dbus: factor out create_dbus_server

commit 333cb3a1268f80b69c1e0eec09ddc354be7f3cd9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-19 17:36:05 +1100

    Update Tube and DBusTube specs to newer draft
    
    Also change OfferDBusTube implementation to return the DBus server's
    socket address.

commit ed3ba994ece721914aa99a3f48f7cfa8d1d35c2f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-19 16:19:46 +1100

    Check new tubes appear in ListTubes once you offer them.

commit 8293cd0ba8811701b5ae639ec215768f5e9649ee
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-19 16:16:25 +1100

    Allow tests to omit tube id when looking for old-style tubes

commit 893e608b32c1569eb96df5d21d4d0fd67d1b3c79
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-19 13:08:54 +1100

    Extract recipient end of a d-tube test into functions

commit 66edc0508a61375a73e8935f8cacc1a487a5af0c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-19 12:59:29 +1100

    Remove duplicated test assertion

commit 80fc3bc91036d1fe227b0f0b607af64fa56625e5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-19 12:14:44 +1100

    Send dtube offer from gabble_tube_dbus_open

commit f8422e31da9106ebba098de002879c6f210fc656
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-18 17:33:28 +1100

    Remove unnecessary struct from bytestream negotiation

commit 0e331be88d62f30ddc0333107a6281babb0164c5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-18 17:15:16 +1100

    Implementation Channel.Type.DBusTube.OfferDBusTube()

commit 6d4b38c1509c7c65ea183075730005c36386b9ac
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-18 09:23:52 +1100

    Test that C.T.DBusTube.OfferDT => NewTube and an IQ

commit 83fafc6c2d03d4035b78c84aea9aafd73cd5c382
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-18 09:17:09 +1100

    Break offer-private-dbus-tube-ibb into two functions

commit 1292c961498c50d3d57646cf60c7227d0c803288
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-18 09:15:08 +1100

    Remove an apparently unnecessary vcard iq ack

commit e4a38dbef06300b356c530e1562ded36da5ada82
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-18 09:10:41 +1100

    Ensure OfferDBusTube yields a RemotePending tube.

commit 45a59c09b4181f255cbee6549bbec0c3cf746433
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-18 09:09:39 +1100

    Ensure Tubes appears when a Tube appears
    
    This is not the only correct implementation; this is noted in the test.

commit 8fd9b9555c8306797c5c8fd2815b55abd0e49a78
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-18 03:22:06 +1100

    Don't include unoffered DTubes in ListTubes()

commit d442ec3f86987afd1f2a601ef0ea1637aabb2762
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-18 03:14:50 +1100

    Add a gabble_tube_dbus_offer stub

commit 5da1cd187c7cd9505685298df7e7b7c5f4384805
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-18 02:53:38 +1100

    Add an "offered" flag to TubeDBus

commit 2185df1e2d394e90140bc1c5fade6753029e8e5c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-18 02:21:14 +1100

    Give TubeDBus' state the type GabbleTubeChannelState

commit e170240a8818d2542786a1d49da6ddcc68ec3345
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-18 01:59:27 +1100

    Revert "tube-dbus: check if the tube has already be offered when getting its state"
    
    This reverts commit 8f219c19da25dd21cf59c1d126f09569a93216da.

commit 39f5c522e9ad4af4df3b29d82fe53d61e96b2a6f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-18 01:54:42 +1100

    Don't check that DBusTube is unsupported in a StreamTube test!

commit ba261481929a7143de523188f4417174897f7698
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-18 01:51:50 +1100

    Remove redundant invalid tube requests

commit 6ed810c01490fb0b0fa007973b42b342ef15cee6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-18 01:39:07 +1100

    Extract invalid tube request tests to a separate file

commit dd6aa78ebf783a981afc0742d2bdfe2c13da38af
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-18 01:27:01 +1100

    Remove unused parameters to check_conn_properties

commit 1349afab61f6b11061acf4903f3c47478ea8f278
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-18 01:19:58 +1100

    Extract check_conn_properties to tubetestutils

commit b781cc586a83345118f221f30787bdd8750c7b12
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-18 00:44:10 +1100

    Extract checking ListTubes() to a helper function

commit f416f32a8d0606cea793853f073732b7667e2d68
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-18 00:13:34 +1100

    Add old-style tube types and states to test constants

commit 4b9e939dd2e3762e297725d687b5cfc4658165b1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-16 12:38:36 +0000

    request-invalid-dbus-tube: we should test muc D-Bus tubes too

commit 845678c2ad37f7e4fd331f7b8a99d83c45156e09
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-16 12:37:58 +0000

    gabble_private_tubes_factory_requestotron: check if ServiceName is valid

commit a8f7594b08a647c333216d906afff600d6d3c46c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-16 12:37:32 +0000

    add request-invalid-dbus-tube.py to tests suite

commit cc8310602f54b7bde1c2aeedacf7397add983f80
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-16 12:36:54 +0000

    request-invalid-dbus-tube: remove debug print

commit 241f464129456b35e847960beacdad73bed0033d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-16 12:25:49 +0000

    rename test-muc-offer-dbus-private-tube.py to offer-private-dbus-tube-ibb.py

commit af2a2d4db9321baefb55ef74d5550916f814ee29
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-16 12:20:22 +0000

    tube-dbus: check if the tube has already be offered when getting its state

commit d7d7dfa4d76184ab0b5724b5fca3e5f769b410cd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-16 12:19:01 +0000

    test-muc-offer-dbus-private-tube.py: test new API

commit c26341cd989ae21bd14c372d17d3ea3b56499d39
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-09 16:36:58 +0000

    tube-dbus: implement exportable channel interface

commit f3024249e18c1588693b52e13f175936eac68446
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-09 16:36:04 +0000

    private-tubes-factory: re-enable new style D-Bus tubes

commit 1123004e1e0f4009d0856f2e555515992505b03b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-09 13:56:08 +0000

    test-muc-offer-dbus-private-tube.py: use ns.py

commit ac75fe320f92d81373b9ed88a253cbf49212984d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-09 13:55:46 +0000

    ns.py: add tube related NS

commit 7ce4d885660e6f7b4eb9df0d880f4061c594d16d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-09 13:45:37 +0000

    add test-muc-offer-dbus-private-tube.py to tests suite

commit 657d3a8b6f08d780fab4fe85d18e68e315bf163e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-09 13:45:23 +0000

    add test-muc-offer-dbus-private-tube.py

commit 92e3d31c4add10b7bd1c5611be3cb7cec76b8455
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-16 11:02:44 +0000

    add request-invalid-dbus-tube.py

commit 6c04b00967c6a1e7c6b616d2a63ced95c597e99a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-03 09:51:26 +0000

    update NEWS

commit 562d0861d7e70bc3148de6863d923ac464a939d2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-02 17:29:50 +0000

    create_new_tube: fix comment

commit 4317a66ee6e910b7c6a932d45b915b197b1f41a7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-02 17:25:44 +0000

    offer-muc-stream-tube-ibb.py: use make_muc_presence instead of our own version of it

commit c5f6ad37c8f7f68566146e1037585c044cae138c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-02 17:19:32 +0000

    muc-factory: split gabble_muc_factory_request into one fuction per channel type

commit c4f95caf23a711c5814e09a623847bbcb955ad6a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-02 17:01:45 +0000

    gabble_muc_factory_request: fix identation

commit 8220f277e552bb34e71889a04e1ac817551b1576
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-02 16:55:45 +0000

    offer-muc-stream-tube-ibb: check tubes and text channel properties

commit 07f29388f31ea201f5e770f002299054751c7144
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-02 16:55:14 +0000

    private-tubes-factory: set requested param when creating a tubes channel

commit 369bba5e51290e48bb3ebcb4cfef986d51767d76
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-02 16:54:57 +0000

    muc-factory: set requested param when creating a tubes channel

commit 771026e3b0f04cf1881a3c2acfda98cb7c7f1494
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-02 16:54:30 +0000

    tubes-channel: add requested param

commit 7350b74b44add49feaace6e0f67f9335f0739188
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-02 16:31:44 +0000

    gabble_muc_factory_request: announce tubes channel with the tube one if it has been created because of it

commit 977a4a0f71471801f2094081526280cf21aac42f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-02 16:18:11 +0000

    offer-muc-stream-tube-ibb: check Closed and ChannelClosed signals

commit af2bd1f8c64cf2302e15c937c2b82e42f0aa9551
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-02 16:17:55 +0000

    tubes-channel: tube_closed_cb: fire ChannelClosed signal when a muc stream tube is closed

commit b090a1bb031f0d91f1840941773a564399d1bbb9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-02 16:09:05 +0000

    private-tubes-factory: use gabble_tube_stream_channel_allowed_properties

commit 63bceddc08827fca50ad851f38631e6734193d7e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 17:26:42 +0000

    offer-muc-stream-tube-ibb.py: Status has been renamed to State

commit eb6a37ce0e7bba4ca9f8fd44cb9128b3d585eb1a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 17:26:18 +0000

    accept-muc-stream-tube-ibb: Status has been renamed to State

commit 197f42a681ffd60047216ea55cdc1f5360d0d0b8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-26 15:42:48 +0000

    gabble_tubes_channel_presence_updated: don't announce newly create D-Bus tube using the new API for now

commit aa081dd4096e9dbd5483279b71817d53e7e70d2e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-19 15:25:05 +0000

    remove gabble_private_tubes_factory_tube_created, we can call tp_channel_manager_emit_new_channel directly

commit 9c6b21d40ea601d7fb61dfa6da9957765e7fffb0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-19 15:22:49 +0000

    offer-muc-stream-tube-ibb.py: check if tube created using the old API are announced on the new API

commit b84b2632d360196280a61e0d0f0c1c03255d68f9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-19 15:22:12 +0000

    gabble_tubes_channel_offer_stream_tube: announce newly created tube channel

commit 836c3c950cbafa48e9f5fd1fa1b1803ccff3fec3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-19 15:11:14 +0000

    accept-muc-stream-tube-ibb: use constants.py

commit 063f9b84993255cf3de071379f942d7227eca04f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-19 15:08:44 +0000

    accept-muc-stream-tube-ibb.py: check new tube API

commit f8bc5adb53b9779f26953884fa45254fbb082832
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-19 15:08:15 +0000

    gabble_tubes_channel_presence_updated: emit newly create tube channel

commit e7e57019200d739f1026ec8d3b848ac5a214ddc5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-19 15:07:54 +0000

    constants.py: add PROPERTIES_IFACE and INTERFACES

commit e6dacc59d34a644f8538b245d169c7e35707840c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-19 14:42:48 +0000

    gabble_tube_stream_offer: remove useless args

commit c584f4298247988bba4444f8bc0a8000bf13a384
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-19 14:26:16 +0000

    offer-muc-stream-tube-ibb: use constants.py

commit 11fbb42f41c3efbf158358b67a3eff89e82469ec
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-19 13:56:25 +0000

    offer-muc-stream-tube-ibb: test tube offering using new API

commit 09dbc59d250fcb31ceb65d15e391121b3d72d345
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-19 13:55:24 +0000

    gabble_tube_stream_offer_stream_tube: call gabble_tube_stream_offer with muc stream tubes too

commit a882aa8c80086c838b7f779a40123e535f3e5b49
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-19 13:37:05 +0000

    tube-stream: gabble_tube_stream_offer change state to open when called on a muc stream tube

commit 38813e73e2807f6bd6250e492f6417ea52b13d4a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-19 13:35:11 +0000

    gabble_tube_stream_constructor: muc stream tubes don't have to be open when requested

commit 737af02363002cf3c1662a855cffa48b3a9d6cdc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-19 13:26:23 +0000

    gabble_tubes_channel_offer_stream_tube: we have to call gabble_tube_stream_offer with muc tubes too

commit 6eecaca75770d892a7a115af507d346f483a77e1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-19 12:59:47 +0000

    create_new_tube: don't call update_tubes_presence if the tube is not open yet

commit b833c1c3830b6570d3b96c175eb085ad69a5d8d3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-19 12:56:47 +0000

    tube_offered_cb: call update_tubes_presence as we now have to announce the tube

commit dd1e047ead7587066b2849569245220332fd60fd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-19 12:52:39 +0000

    constants.py: add socket address type and access control

commit b70db60686b3f614a4abcfb48a9a954dc705e72b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-19 12:17:00 +0000

    offer-muc-stream-tube-ibb: set_up_listener_socket returns the socket path

commit 5160abe74dfb3a4a0a3670c533c482fd42aadb42
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-19 11:42:43 +0000

    offer-muc-stream-tube-ibb: add an extra arg to set_up_listener_socket

commit 9e1b7e9f9064bca99686f24cd0df42dbaf5220bf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-19 11:01:50 +0000

    offer-muc-stream-tube-ibb.py: check channel announcements

commit 5350b21c725793e7cc189ae47be04305cd9b7e23
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-19 11:01:25 +0000

    offer-muc-stream-tube-ibb: factor out send_muc_presence

commit 2696e2f75f3ed3f066f327987175d3123287bc15
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-19 11:00:25 +0000

    muc-factory: announce tube channels

commit 0ac97d2015f40d4dfe71dc8a1dc964dd6cb9ceb0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-16 15:16:23 +0000

    offer-muc-stream-tube-ibb: start to test new API

commit 9133fbbf90ff0128e55dbc52606e944647ed800b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-16 15:15:52 +0000

    muc-factory: announce StreamTube as requestable channel and don't raise an error when one is requested

commit 988a6cd272b2b8eba1813e50b88372ee56211013
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-16 15:02:36 +0000

    private-tubes-factory: use gabble_tube_stream_channel_allowed_properties instead of our own copy of it

commit 0341d6720b3ce9f527e02a7239f6a93f3c012c54
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-16 15:01:17 +0000

    tube-stream.h: add gabble_tube_stream_channel_allowed_properties

commit 76f8c8b931aff1b382f1705ec96b197e4682f181
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-02 19:45:11 +0000

    Start 0.7.21 development

commit 2d6689f6fb96d5633b10af59306488399de1cb29
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-02 18:43:25 +0000

    tests/twisted: remove config.py in clean (fix distcheck)

commit 0540451ad76b089a823253c18d427b9ebdf624d0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-02 18:29:07 +0000

    Prepare release 0.7.20

commit 9fee7c6c1bca2de3a84b7b9e7e716f5c65c8add4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-02 18:04:23 +0000

    jingle/test-content-complex: Apply the same workaround as for dialects-outgoing

commit d502de8bcd0b69ec75eb4cfceeca5c978368f823
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-02 18:03:46 +0000

    Update bug URL for test-nonblocking-tls
    
    The Loudmouth bug tracker has moved.

commit a4d634629af563f50cebb0bb33174acfbccd3f5f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-02 17:51:40 +0000

    fd.o#19161: re-enable test-dialects-outgoing
    
    Now that I've worked around a race in the test and an obscure crash in
    the depths of Twisted, it seems this test can pass again.

commit d2e7ca81f617c8381055784ba9f67d421cdd565b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-02 17:50:40 +0000

    fd.o#19161: jingle/test-dialects-outgoing: run the four tests in separate event loops
    
    It seems these tests don't play nicely with exec_tests, which tries to
    share one stream between all the test functions - disconnecting causes
    bits of Twisted machinery to lose their references to each other, making
    tests after the first fail. I tried and failed to fix this in
    exec_tests(), so someone with more Twisted-fu should have a look.
    Meanwhile, let's work around the problem to avoid it blocking releases.
    Partially addresses fd.o#19161.

commit 45b52c0e06d5474db9df6e4ee5b7f27bea0b851d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-02 17:48:06 +0000

    fd.o#19161: jingletest2: expect vCard stream-iq on startup
    
    If we don't wait for it before testing, we might get it later when
    expecting a different stream-iq. Senko's code contains many assertions
    that a received stream-iq is exactly the one we wanted, which fail if
    they are given the vCard IQ instead.
    
    Partially addresses #19161.

commit 6cc03a67e75c5101887bfa2c09479d6eeeba0d51
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-02 15:44:59 +0000

    twisted/Makefile.am: regenerate config.py when Makefile is changed

commit 9838496b925232fe71102f0c071b6f9ae1522659
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-02 15:34:14 +0000

    upgrade NEWS

commit ce3b2e1e3bc837715aee0fd995fbc21038ed9a0d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-02 15:32:10 +0000

    gabble_private_tubes_factory_caps_diff: simplify pointer comparaisons

commit de29187fa78a3950767fbf00c13878d0fe062ffe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-02 15:27:24 +0000

    gabble_private_tubes_factory_get_contact_caps: fix typo in comment

commit bf49b8ce0b1fbaa4ab986cef70b633b7cc06c692
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 15:51:41 +0000

    test-caps-tubes: TargetID and Parameters are now announced as allowed properties

commit 2a05a570f4a9ccd46e3ac9ab240578274e61de01
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 15:51:07 +0000

    private-tubes-factory: add TargetID and Parameters to specialised tube channel class

commit e00b0e148485744d93cbc45363f6ec9e83b5da99
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 15:04:41 +0000

    test-caps-tubes.py: generic tubes caps are now announced

commit a5c0f686911ada9b00c9fc914209165d7875534f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 15:04:17 +0000

    private-tubes-factory.c: add generic tubes caps

commit cf1091d28916b342863e06bdb9a62a97fc63f51f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 12:45:17 +0000

    simplify gabble_private_tubes_factory_caps_diff as we did in Salut

commit d3c87f4a55b3c9a749a51b8869cb2ac37284b1f9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 12:21:41 +0000

    test-caps-tubes.py: no need to announce jingle caps

commit 8579b9b3aac615b3c4efe424337f0274c69902f4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 12:15:42 +0000

    test-caps-tubes: compute caps hash instead of hardcoding them

commit ea6185443d5472d3132216ced935ad06b823b90f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 12:00:58 +0000

    test-caps-tubes: use ns.py

commit c9244c6033776593178f2f75a5d416647998cd80
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 11:59:17 +0000

    ns.py: add CAPS, GOOGLE_P2P, JINGLE, JINGLE_AUDIO, TUBES

commit 70260e87404f7612afe71d03087fc18d0e574e9e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 11:44:56 +0000

    test-caps-tubes: check if the caps announced by Gabble matches the hash

commit 2a842de0f3de0b394ab35fd4d7ca9a66bf84e059
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 11:41:44 +0000

    gitignore config.py instead of gabbleconfig.py as this file doesn't exist anymore

commit 1e64dc388f6c2e44481b10750a5520c203908b75
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 11:39:49 +0000

    generate config.py as in Salut

commit dc09685bd9c01112848961cac55ee6ce8b762147
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 11:35:09 +0000

    add caps_helper to tests suite

commit e47a9239584e7cfaf80a89aa3db7ab76b4ed7334
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 11:34:59 +0000

    steal caps_helper from Salut

commit 6f57cdc359e134f9ecd90f5ac4f54e01f633caec
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 11:27:15 +0000

    test-caps-tubes.py: use constants.py

commit 5e5fa13161ba51985c53d9b73fad56301da5a21f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 11:26:59 +0000

    constants.py: add CHANNEL_TYPE_TEXT, CONN_IFACE_CONTACTS and CONN_IFACE_CONTACT_CAPA

commit 15d9e1724508f067c0637767ddb5ab8015123233
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-02-02 15:23:22 +0000

    NEWS: add entry about Closed/ChannelClosed signal with tubes

commit 7e6b391acb16abd1b0aa2afa510c6dd66a4921e7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 17:15:15 +0000

    offer-accept-private-dbus-stream-tube-ibb TUBE_STATUS has been renamed to TUBE_STATE

commit 97df0108cfcaf0a8fbacb9b4b8353937ebb51168
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 10:04:41 +0000

    offer-accept-private-dbus-stream-tube-ibb: check that status and parameters are NOT in channel-properties as they are not immutable

commit 77ea2ac9e7627d3681a00433c94452859f56cc29
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-26 18:16:07 +0000

    offer-accept-private-dbus-stream-tube-ibb: check if TubeChannelStateChanged is fired when tube becomes remote pending

commit 9236955aedee5069c4a2316d75f1c50dea34ce71
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-26 16:19:06 +0000

    accept-private-stream-tube: check if the Closed and ChannelClosed are fired

commit fef753ce49bcdcec15e68254fd0cd6cc1f63d04a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-26 16:17:40 +0000

    tube_closed_cb: fire the Closed and ChannelClosed signals

commit fde7983726d3963ae1f842d29137fe354f4d9357
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-26 15:52:45 +0000

    accept-private-stream-tube.py: use constants.py

commit 293f40e6b5757a98859b201c3ac65a1d6a30c48f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-26 15:50:14 +0000

    accept-private-stream-tube.py: use ns.py

commit af3b95fbfff161c5751eb97bb85dba3e1769544d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-26 15:50:00 +0000

    ns.py: add IBB, IS and tubes NS

commit 9ad6bff0bab21ac6c94410859a952c258889ab25
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-26 15:48:13 +0000

    accept-private-stream-tube: rename new_tubes_chan to new_tube_chan

commit ccce47a1e8bc3c1acb76dd5aa5bf95387c57fc3a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-26 15:46:57 +0000

    accept-private-stream-tube.py: rename new_tubes_iface to new_tube_iface

commit 4259e89737e6e16a0cc197fbec415034a197bec6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-02 14:59:52 +0000

    Fix previous release name :-)

commit d1711e8b3f33576f94bdf2449171f579c68d4bce
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-02 14:58:35 +0000

    Write some NEWS

commit 2aa5bcb2baa4bbe1c5a883d51855534c728b8fc8
Merge: 794f86f 705fab0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-02 14:50:12 +0000

    Merge commit 'wjt/muc-renaming'
    
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 794f86f383435edfccd1b04033158e2d5b931632
Merge: 6f41a4c 5509cbb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-02-02 14:37:18 +0000

    Merge commit 'wjt/trivia'
    
    Signed-off-by: Simon McVittie <simon.mcvittie@collabora.co.uk>

commit 5509cbb168f6be77cf80cfb5333bdf04c502b377
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-30 20:00:40 +0800

    Generate FIXME.out like telepathy-glib

commit 705fab0a3fd0ff603bc4025881329afa99f1670c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-01 19:21:29 +0000

    Only set MUC channels' state to JOINED once.
    
    Previously, the state was re-set every time you got a presence for yourself in
    a MUC.

commit a2e646628a782b9e443bf9eec1b84bc76faa8fe5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-01 19:14:54 +0000

    Handle the MUC renaming us on joining

commit 830a3a53581f69c6bfece19de13da57bc93a92ed
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-01 17:53:26 +0000

    Add a test for the MUC server renaming you when you join

commit fba079e75e2e9f36ff2ac8a143c4a7ef05bbbca6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-01 17:33:14 +0000

    Extract handling new MUC members to a function

commit e3f9e69c3cb800c91db86479e5aeb5e89dd73b29
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-01 17:29:42 +0000

    tp_intset_sized_new does not do what I thought it did.
    
    I was confusing it with g_array_sized_new and friends.

commit a0f99c55dbcff314c259bd1d248d9ac427bb166c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-01 17:04:22 +0000

    Clarify _gabble_muc_channel_member_presence_updated

commit 90b01a71792361731ecb67039d5463c35f8961f2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-01 16:58:57 +0000

    Extract handling other MUC presences to a function

commit be25cd52ed937ade45fa673a77137d70daa36849
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-01 16:39:17 +0000

    Extract handling 'unavailable' MUC presences in MUCs to a function

commit 1ed56846d6ce0cf920161d9822753d9c1b0bba98
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-01 16:07:52 +0000

    Extract handing MUC nick conflicts to a function

commit 03b3f3f7ea0a4718b0cf2ff454baec1c6d5da56b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-01 15:52:17 +0000

    Update MUC members when renaming to avoid nick conflict.

commit 422a56ad7b2bc1806187316af157e1ded20f50e6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-01 15:41:28 +0000

    Test a conflicting nick not actually being in the MUC.
    
    (You try to join as test and get a conflict. You try to join as test_ and
    succeed, but in the meantime test has left.)

commit a2ce7e39c7a024d5a831899ecb9258c325c1b6e2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-01 15:30:54 +0000

    Change MUC SelfHandle when appending _ to avoid conflicts.
    
    The channel didn't its group mixin that the handle had changed when it appended
    underscores. This led to a serious identity crisis.

commit df6cfc21d40b81fcc48e3e5a60db076f0dae1707
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-02-01 15:18:28 +0000

    Add a test for coping with MUC nickname conflicts.

commit 6f41a4c401ea4f8d8558d86531cdc651fb80caee
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-01-31 11:02:27 +0000

    Location test: some more test on the D-Bus property setter

commit 9b80a8c628581b5b1649260d9e8f2a652f361807
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-01-31 11:01:42 +0000

    Location property setter: do not check again what the mixin already checked, just use g_assert

commit bb5cdf2a23610d80ede06d4737ff78e7e2826866
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-01-31 10:20:26 +0000

    Location test: test if LocationAccessControlTypes is read-only correctly

commit 25d289986e1aeecf73b7dc6a9ec8766169cb73a3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-01-31 10:11:36 +0000

    Location: Fix type check for LocationAccessControl

commit 2e839a491342abe9625419d14804c85e12e3b169
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-01-31 09:56:18 +0000

    Location test: use dbus.PROPERTIES_IFACE instead of hardcoded string

commit 8e9e113c25a2e58c392b05d4ed6447e746c92828
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2009-01-25 22:39:15 +1100

    Timestamp is a signed type

commit 2f4c80b05922733dd31888e970685d59cf7ca4c0
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2009-01-25 22:37:07 +1100

    Simplify the conversion of XML to the GValue dictionary
    by removing _get_double and _get_string.

commit d9c39c25d417a8f783a94ead6335e77599f254e4
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2009-01-25 18:44:59 +1100

    Get rid of validate_contacts
    Having the dbus return in a subfunction, obfuscates the code

commit dd480e8708c1194085687b143e160bb398d6ede4
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2009-01-25 15:31:32 +1100

    Don't use strtod as it is locale dependant

commit 7823a28ed1bf9c8c9d14e7b914ad44767d6fb5fb
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2009-01-25 15:27:16 +1100

    Prevent crashing if set-location is called too early

commit c4bc067096fcd8cb6d7c1a39ec37ccae4782a219
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2009-01-21 17:37:59 +1100

    Missing else case

commit 82f27e8498a2282dbc4b26fbbe30890d6dc1a6e6
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2009-01-17 15:20:10 +0200

    Fix segfault

commit c257f2cd8e5348a932ed9e23c7924d0d6e4f2e66
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-01-14 22:05:44 +0000

    Location: test the D-Bus properties

commit a014fbd763cd67b23ca37395ec3cadf8072ed9bc
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-01-14 22:04:54 +0000

    Location: implement the D-Bus properties setter on the Location interface and returns the right error code

commit 31549c04257bfda5dfa927af834eb033aa69a33f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-01-14 20:58:23 +0000

    Location: don't use hardcoded value

commit 499db3a67a5f9aa44b7a5a448c6137987791da51
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2009-01-13 20:56:29 +0200

    The Telepathy API sends timestamps, where the XEP expects date strings

commit daaeb6ee559a17f8d56a6adc5dee065586c83ad2
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2009-01-13 00:41:17 +0200

    Implement a stub setter to prevent crashing on set
    fix a type in function names

commit 6dae899dcd895449b9d76adf173c4b5050b62540
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2009-01-12 23:24:47 +0200

    Enforce 80 chars

commit d703c5051bfb23801d299b93fd5bc5017ab5cd6e
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2009-01-12 23:19:01 +0200

    Use TpHandle instead of guint

commit 6a17325117ff236f51af2287d0d3703409f30388
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2009-01-12 23:16:41 +0200

    Remove commented code

commit 877a913d126b2709875968ad468d95e531a22715
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2009-01-12 23:15:34 +0200

    Respect 80 cols

commit 46d9502c744f4ad42a4912191b17b681c4f34eee
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2009-01-12 23:12:46 +0200

    Get rid of a one liner function

commit 5aafb50c17e93b15ce36b727bb7b6f35cb9be1f1
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2009-01-12 23:03:18 +0200

    Get right of a one liner function

commit 3d969cf8ecfe8da4499e8182e9a0fda4d52b450f
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2009-01-12 22:56:43 +0200

    Move include at the right place

commit b62be7b4bca44b8e16226acb6c724faefaaa6fcf
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-01-11 12:22:18 +0000

    Extensions: remove D-Bus types declared twice

commit 35286e271033ca5baf1af2c1a021251fb10d99e9
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-01-11 12:18:35 +0000

    Extensions: remove inclusion of non-existent files

commit 1a9bc6ab3a4beaa4b1160be155a8514e0945dc84
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-01-10 18:30:51 +0000

    test-location.py: Test the Location D-Bus properties

commit 5e1d1e2abe073720a84222299e6da6fbf7866538
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-01-10 18:23:32 +0000

    Location: Implements the D-Bus properties on the location interface correctly

commit 82cfcec3cf78277037fee2b0ffcbfee8cad395ce
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-01-02 13:29:50 +0000

    Revert "GabbleConnection: add GABBLE_IFACE_CONNECTION_INTERFACE_LOCATION in the implemented interfaces"
    
    This interface is implemented only if the server does PEP
    
    This reverts commit 1004c1154c643d61d7251141996c1037fee74225.

commit bc4e083951eb0272ba2d331fbf8cd72da195da3f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-01-02 13:09:34 +0000

    GabbleConnection: add GABBLE_IFACE_CONNECTION_INTERFACE_LOCATION in the implemented interfaces

commit abd6fb776d40246bac1a2aeef2da3c6148afe847
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2008-12-30 23:05:25 -0500

    Fix merge errors

commit ab531799240dc463a1e70e8dc135f644bcf6d9f4
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2008-12-30 21:34:57 -0500

    Send the string not the gvalue!

commit a236d1bc235ef8030fa0122a83f0669dfd6da6cf
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2008-12-30 12:57:30 -0500

    also free on error

commit d36a231be3f4cc27f4f960f74377ac35c8fc2980
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2008-12-30 12:49:09 -0500

    Remove commented lines that have been moved in the expect_many

commit 4aab18067da6f0d08f686a539f804defa693345b
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2008-12-30 12:45:18 -0500

    Unneeded initialisation

commit 1a6eef3b29fca6103c93184d6b6502fc64f891a7
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2008-12-30 12:41:07 -0500

    Fix a comment

commit b40ced301716923af47669b41907b6b8c8ad8c44
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2008-12-30 12:35:32 -0500

    TpHandle is a guint
    GUINT_TO_POINTER should be used

commit 06525e71a46b8369eb8025e7e2718a601f03e424
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2008-12-30 12:30:40 -0500

    Fix comments

commit 803054e9261f9c1221b0ec85d515f0c913bad8b9
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2008-12-30 12:26:18 -0500

    Unref leaked msg

commit 628d68417b717312e932b3ca19b9ef38c632b5e4
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2008-12-30 12:23:15 -0500

    Move declaration to deepest block

commit f5c0e47ae605397ddceb078e69d9289e38dea5e2
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2008-12-30 12:14:09 -0500

    Add debug message for unsupported key

commit f7ff5e647cbc746f3d27c0233a5c45c9022f93af
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2008-12-30 12:09:25 -0500

    lm_message_node_add_child already dup the key and value
    no need to dup it before

commit d008792fc3cb28e31cc76b471b633af7730ef443
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-12-30 16:33:31 +0000

    Location: don't free a non initialised variable

commit 8114afae2776a12bd4ea5e0744a7197b0dd1fe6b
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-12-30 16:28:39 +0000

    Location: Move the variable declaration near the block where they are used

commit 4b9756e0fbe2a73ae0d2e58891c923534b2ae155
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-12-30 16:28:09 +0000

    Location: fix compilation error (use of uninitialized variable)

commit fc64969e9d42382efdf73a56ecdc1ec127a495b0
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2008-12-30 01:02:44 -0500

    Apply Alban's peer review comments

commit 342de664db115177dc774bed13522c532c87f64c
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2008-12-12 14:01:28 -0500

    Formating and hash changes

commit 4b467e6b465652ba7f5ac8d3ff5cc5a798ab01cb
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2008-12-11 16:08:33 -0500

    Support location event notifications

commit 222f85dfcd3a934d2aad7a4791e4854dd8c1449c
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2008-12-10 17:15:50 -0500

    Have capabilities announced

commit 34ee1cb1a9dd284a743ee1a39a44acedf41aee5d
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2008-12-10 14:27:34 -0500

    Support all fields

commit 0d9fda1e4f9df262a74eb9ca34552068d2db960f
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2008-12-10 12:07:40 -0500

    More debug

commit df611f35a075f622c59cca1c35862194ede1a2c6
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2008-12-09 14:29:49 -0500

    Remove previous location before adding new location

commit 014c9500d47cde7e43529c21eefcb5a5ed873c2b
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2008-12-05 17:21:08 -0500

    Add error return

commit bfdd8af01492ba234b172bd17220860b46595190
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2008-12-05 16:22:01 -0500

    Improve tests

commit fc23097e2cc0668fd3ab3730c533d97e107766b8
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2008-12-05 16:21:55 -0500

    Implement cache check

commit 53b6222888cea80498f198ebd9faf28fd352e8c8
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2008-12-04 16:51:46 -0500

    Advertise geoloc capability

commit dbce6440c5b1cf5ee5835324009652b050211c2d
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2008-12-04 16:15:10 -0500

    Add location to PresenceCache

commit 331b15309b02a6bef28f409333f81d236892a69d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-26 17:24:21 +0000

    Location: Fix property G_TYPE

commit a479f1f8e02b88c10fcda3772555186323f21006
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-21 23:03:40 +0000

    Location: Test: check that the D-Bus properties are implemented

commit 8588c3335c5a5620dc07339e62592100060c26ec
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-21 23:02:13 +0000

    Location: Try to implement D-Bus properties of the Location interface

commit 5cab4862f2930940eea28bf23c2405c4fdd392a9
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-21 23:01:38 +0000

    Location: add debugs for the geolocation

commit e9d0024f7caaa6ac59961c79ffe81853eb922480
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-21 20:43:53 +0000

    Location: add spec Connection.Interface.Presence in extensions/ for Rich_Presence_Access_Control_Type

commit 6137db4da275bbce4560263e865cf62f893e3df1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-19 01:49:15 +0000

    Location: Update the twisted test with the new spec

commit ecaaa6fdcc718b0514653045d25ad7e11aa15052
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-19 01:46:18 +0000

    Location: Update code to the new spec

commit df58a6d6939dc555cf4a3487e1f6bc540078c97d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-19 01:33:46 +0000

    Location: Update to the new spec

commit d6d3f407f5fd84669dd111967fcb4a979291dfab
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-12 15:24:35 -0400

    Fix the test for geoloc

commit 3626b8f048b4659e32259cb9625a03b89e1d3284
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-12 15:24:05 -0400

    Add test-location.py in Makefile.am

commit 06e4f96e78929e8211f4e032b4b77e77e9919b22
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-12 14:53:44 -0400

    Move test to tests/twisted

commit 29127cc55758d3667042da8e70796a94ac6048f2
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-12 13:13:44 -0400

    Initialise GError

commit 7339d105c763e92c9d04e6735b023054c2dd845d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-12 13:12:45 -0400

    define namespace NS_GEOLOC

commit 67cc7d226425b4714ce5436df6709320f17daf56
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-12 13:12:32 -0400

    Let the node be Location for now

commit ee94747bac6d94af056b6b2fffc987f7e83661f9
Author: Dafydd Harries <daf@rhydd.org>
Date:   2008-10-12 18:03:17 +0100

    commit initial location interface implemenation

commit 809f8af833d90ca4f2279715c85f38cb2e12c00f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-12 12:57:05 -0400

    Add new types in extensions/ for localisation

commit c84f3352f958eac4d4c2d967731ebc14365b9e14
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-12 12:51:16 -0400

    Update extensions/Location.xml from tp-spec

commit bdbb0f778764684a0f40ce2cc0c0b978b929d209
Author: Dafydd Harries <daf@rhydd.org>
Date:   2008-10-12 17:22:13 +0100

    add draft location API as an extension

commit c4a77a1a35de1baa0fb8b50469f3aa94dddc6fba
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-01-31 10:42:21 +0000

    Tests: use dbus.PROPERTIES_IFACE instead of hardcoded string

commit 2947281c1efb1dcdb9a294a6c218a1fd074eba3c
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-01-29 16:44:16 +0100

    jingle/test-outgoing-call.py: assert that we've ended the call

commit d28487e51b0dfa3dd763ee88ddd162182a75ff41
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-01-29 16:43:37 +0100

    JingleSession: properly set actor when terminating the session

commit b641b75ebbfd9d86f984a27dc4cbdd75243edc3a
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-01-29 14:20:51 +0100

    conn-presence.c: disallow setting offline/error/unknown statuses, but don't hide it in GetStatuses()

commit 1ddd21aa431a61bf7df86c0567b55aa4f70a7e85
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-29 12:18:48 +0000

    start dev of 0.7.19.1

commit 272b70daae6f67bd800d2e8136f01a9f94951e88
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-29 11:29:36 +0000

    version 0.7.19

commit a290dbc66172242f8f86f990ba1a91c24e407b3c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-29 11:18:56 +0000

    update NEWS for 0.7.19

commit fca5346c8aadd821bb7fb19e0f4161a219dd39f6
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-01-29 12:49:27 +0100

    conn-presence: check that we allow setting a particular status

commit 08188078675c3e05fb04fe7242197cce86a64b48
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-01-29 12:58:49 +0100

    NEWS: mentioned refcount leak and offline presence crash fixes

commit 1ff8f2c9cb521d9774a079afc783b462d32cbf30
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-29 10:52:53 +0000

    NEWS: dev.sugarlabs.org #60 have been fixed by f91276ededfc019421000b4975b2da010aa96e2c

commit e808784effcfd8b8cca23056a937f5f2ed3094cb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-29 10:39:42 +0000

    remove trailing space in NEWS

commit 94508ccf3736e2e940b94efebb3918e3cb9b64fa
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-01-28 10:20:16 +0100

    JingleMediaRTP: remove session refcount leak

commit ae77c2f5c3713e38c91d1cd9daffaac1d82f273e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 17:09:28 +0000

    rename TUBE_STATUS to TUBE_STATE

commit b0ef17f22c153c8bd1b11acee259fbac06b652e3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 16:51:09 +0000

    offer-accept-private-dbus-stream-tube-socks5.py: Status property has been renamed to State

commit 621ed5abf8498e214c77e3f17aeb14c47baffac5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 16:50:41 +0000

    offer-accept-private-dbus-stream-tube-ibb.py: Status property has been renamed to State

commit ecdddd7f33ba4b1c4ecb754c8f9a6fbf3c490eb7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 16:50:17 +0000

    gabble_tube_stream_class_init: Status property has been renamed to State

commit f42c29aed06d8a012d1d73b79fa75a672f3698fa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 16:49:54 +0000

    sync tube new API draft with tp-spec master

commit 99b62587dffb2893812518a7b4065657d62a0528
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-27 16:43:12 +0000

    all.xml: add DBus_Unique_Name external type

commit 466d428a8ad82d1a2c1ee8cd9ceb7ce3f2b9d064
Merge: 77db359 04891ac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-01-27 14:12:08 +0000

    Merge branch 'invalidhandle'
    
    Signed-off-by: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>

commit 77db35924d2da9aab1ce58799494da8b417fe1bc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-22 15:40:28 +1100

    Don't include dtubes in tubes_foreach_channel.

commit 78350203d8d85fbf080a8a012383a32689519f47
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-21 18:26:16 +1100

    Add a test for ListChannels() crashing given a dtube

commit 9f8be82197d77a3d46e4d155e67bb3c9f8f9a516
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-01-20 19:14:43 +0000

    Document how to run tests with coverage
    
    Also correct the instruction to run "make check-all" - the Twisted tests
    haven't required that for a long time.

commit d07743ba9fc04869f9831da5ef237727e426f59b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-01-20 19:03:26 +0000

    gabbletest: don't wait for Gabble to exit
    
    with-session-bus.sh will now do this if using refdbg, which means that
    individual tests shouldn't need to.

commit 978f93ba348ef3b472edc7f3e3c6d60c8b44c951
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-01-20 19:00:46 +0000

    Insert "wait for exit" in a way that only enables it when using lcov or refdbg
    
    Based on comments from Guillaume.

commit 9842081653c93831bf509d2954b6cc99a63b3a52
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-01-20 18:04:58 +0000

    Use compiler.m4 (from Aranha via telepathy-glib) to control coverage/optimizations

commit 2f9f04960e8acc42e2f58a1fd7c39116ed36db91
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-01-16 10:49:47 +0000

    tests/twisted: after tests, sleep long enough for Gabble to exit cleanly
    
    If libdbus calls _exit() as a result of being disconnected from the session
    bus, Gabble won't write out coverage data. Libraries exiting
    considered harmful, etc.
    
    This doesn't slow tests down very much in practice, since we only invoke
    with-session-bus.sh once for the entire twisted directory.
    
    (This change requires copying in a newer with-session-bus.sh from
    telepathy-glib)

commit fb8a53ca392f276739a92de0b88727b262c7cca9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-01-16 10:47:39 +0000

    Add LCOV machinery

commit e9617286b23c53c21391640b329dd28352f20dff
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-01-16 10:46:15 +0000

    .gitignore: anchor paths at root of tree where appropriate

commit 85289b08f621bb3fbe39a76b834c39955ef9a1e5
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-01-20 13:28:18 +0100

    Add reference to the fixed fd.o bug #19524 to test and NEWS.

commit a4d1c64325b6a221f6d0f2b81d7b2cb3e52196d9
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-01-20 12:36:49 +0100

    roster.c: explain the handle ref for roster_edited_cb

commit 81be6cd099b5159dcfe9f2dc8c86f8e434324473
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-01-20 11:57:19 +0100

    test roster handle reffing by deleting roster items

commit d172f1b96de42da64fec4a0bd81af40166aee879
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-01-20 11:49:26 +0100

    roster.c: ref handles expected to be valid in later roster edit callback

commit 3ea6c9e0af2aed0ca38b9d4d38974db42caf42ba
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-01-20 13:08:10 +0100

    I accidentially the fd.o#

commit 1e243c01bade3476aff4c54e95a98a8d23fbe6d0
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-01-20 12:27:05 +0100

    fix typo in NEWS

commit 5de6335beecaa3d07b23aaaba946f706d571b845
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-01-20 12:24:20 +0100

    test-content-adding-removal.py: use constants instead of hardcoded numbers

commit 5101ef3d36d30161382474e492189a67e98ac057
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-01-20 12:13:17 +0100

    add reference to fixed fd.o#19327 to NEWS and test source

commit 8f00ca50a5d7b5e1624b4ed51fdc8c22664b3a7b
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-01-20 12:06:17 +0100

    jingletest.py: refactor create_content_node helper as a standalone method

commit a0eb85790ca784e02f34699de1c4b856120e9503
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-01-20 09:41:56 +0100

    JingleSession: ignore session-accept accepting streams we're in the middle of removing

commit 04891ac23408b733abf3a8bbb2fae4bfa053036e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2009-01-16 16:42:56 +0000

    gabble_normalize_room, gabble_normalize_contact: use InvalidHandle for errors
    
    As per recent spec changes.

commit 30d6b4d417ee2b437be26e4bc2c8a3b69d79263a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-16 10:47:59 +0000

    Connection_Interface_Contact_Capabilities.xml: update to latest draft

commit 107f86c8c20c4d7cc4c81db464ac20607bb31ba9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-16 11:03:07 +0000

    add DBusTube constants to constants.py

commit 9e4ea552da65f72d45d287c66efcfb646f6ed61f
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2009-01-13 23:23:15 +0100

    JingleSession: fix signature for new-content signal

commit 0744fcf53db7e8345a194aadc22a389c20c7ef0d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-13 17:32:04 +0000

    Fix a race between two expects by combining them.

commit ddaeb5abcf9f997af534c898e2c8cea7c2934c94
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-13 16:49:39 +0000

    Remove .DRAFT from Message iface in tests

commit f6786019aabeabf6e3ed0d1fb52c480f317bba80
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-13 16:44:02 +0000

    Remove an unused variable, simplifying logic

commit ce849f046596f0c71c4e593454858cc4ac8b83e0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-13 15:47:13 +0000

    offer-accept-private-dbus-stream-tube-ibb.py: use constants.py

commit 41024c3fd93e149107206c6a0248dd5d5917bf8b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-13 15:46:41 +0000

    add more constants

commit b568b7d4922912efad0d46bdbfb389250b57c1f9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-13 15:11:56 +0000

    steal constants.py from Salut

commit 2ae9df616988280be61a32def01d56a67f1546c8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2009-01-13 14:51:58 +0000

    Add a missing word in a comment

commit 08a8e3114ddf350394192654a909b674828befc1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-13 12:46:40 +0000

    offer-accept-private-dbus-stream-tube-ibb: make test clearer and fix properties checking

commit 46b1857350a84a99c2811a94f9bf0215c9ee5cb3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-13 12:46:01 +0000

    Status and Parameters don't have to be in channel-properties as they are mutables

commit 4079187646daa61107e5485dd9bfba4a2393ae80
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-13 10:54:11 +0000

    offer-muc-stream-tube-ibb: remove commented code and explain why we can't catch NewChannel signal anymore

commit bf1a7c4f622612945142eb50873aa9e903bff132
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-12 17:43:28 +0000

    offer-muc-stream-tube-ibb: text and tubes channels are now announced together

commit 77a39c58a6a7ebeadd8001be8abc754b5bf746e6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-12 17:43:02 +0000

    test-get-available-tubes.py: check that the tubes and text channels are announced together

commit d5866e5817f1f284708badbcddd7656281d53aaf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-12 17:42:33 +0000

    announce tubes and text channels together when the text one was created as a side effect of the tubes request

commit a199cb4fddf8e4087bfb3aded73953346bea839c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-12 16:37:50 +0000

    gabble_muc_factory_request: use tp_channel_manager_emit_new_channel directly instead of gabble_muc_factory_associate_request when announcing a newly created tubes channel

commit 39863df3228568e13a4644090f8e5e601a392727
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-12 16:34:30 +0000

    muc_factory_presence_cb: use tp_channel_manager_emit_new_channel directly instead of gabble_muc_factory_emit_new_channel as the text channel was already announced as ready so there is no pending queued requests associated with it

commit 05d2b2a90d4931ebfa9a13a8d7064649af174083
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-12 15:09:10 +0000

    muc-factory: factor out ensure_tubes_channel

commit 78089c134ee40cea745e1389dfa25dc00b26259c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-12 13:07:53 +0000

    tubes test have been renamed to {offer,accept}-{muc,private}-{dbus,stream}-tube-{streaming_method}.py

commit 9f2b4375f0fa8c77189dbd611772dd691294417d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-12 13:06:51 +0000

    rename test-muc-offer-stream-tube-ibb.py to offer-muc-stream-tube-ibb.py

commit bb20ccb6483b123e888654cbe0239fee3263a7ea
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-12 13:06:27 +0000

    rename test-muc-offer-dbus-tube.py to offer-muc-dbus-tube.py

commit c411de3a24840ca7c427eb3398a47d147d495d80
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-12 13:06:10 +0000

    rename test-si-fallback.py to offer-accept-private-stream-tube-si-fallback.py

commit 85d81694da1fc0b96049c185e4fac0ebbca73d05
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-12 13:05:48 +0000

    rename test-si-socks5-tubes.py to offer-accept-private-dbus-stream-tube-socks5.py

commit 8fa410954a943b7a9b128b2151266c6c3e6f2d50
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-12 13:05:30 +0000

    rename test-si-ibb-tubes.py to offer-accept-private-dbus-stream-tube-ibb.py

commit 3f49c96fb2a4707929d885423ebce64f275f7ca6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-12 13:05:09 +0000

    rename test-si-accept-tubes.py to accept-private-stream-tube.py

commit 2a4bac2b6aace43e6834ee2983f7dd5103927396
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-12 13:04:45 +0000

    rename test-muc-accept-stream-tube-ibb.py to accept-muc-stream-tube-ibb.py

commit baf1c2c2fca49da839ff5fd6bdaa3455ace2806b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-12 12:46:01 +0000

    tube-dbus: fix tube-offered signal definition

commit ed1b6eb223dcb3c53f51aa0f5d5ee46f4f79e1e1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-12 12:31:16 +0000

    test if the NewTube signal is correcty fired when using the new API

commit 045715e20539ce9ee895b3460c44456d8f6b73db
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-12 12:30:51 +0000

    tubes-channel: delay the NewTube signal until the tube has been offered as the old API doesn't have a not-offered state

commit 0f97ab149383d0523f3e3581551069e29a1d8508
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-12 12:29:58 +0000

    tube-dbus: add tube-offered signal

commit e49d12d948e1a7edcef5b5816ce1e651a5d74f8d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-12 12:29:37 +0000

    tube-stream: add tube-offered signal

commit 11402119593d7731b74d8fe5c4f580156d4a8464
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-12 11:47:03 +0000

    private-tubes-factory: rename priv->channels to priv->tubes_channels

commit 6e950160d75316b0d9f095dd0acd3234e18ebbb7
Merge: 77d9d39 5166e88
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-12 11:14:30 +0000

    Merge branch 'master' into old-new-tube-api

commit 77d9d3951dad2d5b9a8b5ab89e54cf9a04ef09ab
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-12 11:12:03 +0000

    test-si-ibb-tubes.py: check if the tube newly created channel is properly announced when we create a tube using the old API

commit d0c10f979a0a4c1ca68a27b20b5673d43a50847a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-12 11:11:22 +0000

    test-si-ibb-tubes.py: some cleaning

commit b050a5f296358227178b44b2fae79e0517accf69
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-12 11:08:24 +0000

    gabble_tubes_channel_offer_stream_tube: announce the newly created tube channel

commit 8f939a931e1aac22541d02a5d064207a21dfda62
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-12 11:07:03 +0000

    add gabble_private_tubes_factory_tube_created

commit 5166e88ed1bc112ef8ec8f2ee6d425aba836da93
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-01-10 18:49:47 +0000

    src/jingle-factory.c: fix leaks in lm stanza

commit 83d0aedefdcc706fbefa909a311c192cbe30c115
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-09 15:54:51 +0000

    test-si-ibb-tubes.py; check Status and Parameters

commit 4b06bbc0522d2a94114274c352e93577561777ab
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-09 15:54:14 +0000

    tube-stream: add Status and Parameters to channel properties

commit af2f8a6ad3bd6ead1f55c40dfd05a0c8ba2ba99f
Merge: c8b4411 25e7835
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-07 16:32:00 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble

commit c8b441130841e933e94fd9de503f78572e3e595e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-07 16:31:19 +0000

    start NEWS for the future release

commit f91276ededfc019421000b4975b2da010aa96e2c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-07 16:12:27 +0000

    gabble_bytestream_muc_set_property: g_signal_emit_by_name doesn't take a 0 argument

commit 64578362aaecf7354169a746c567cd383eb39d8d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-07 16:12:03 +0000

    add tubes/close-muc-with-closed-tube.py to test suite

commit 9f33791d66f4ff26806402d4a21c5b84fcaa7aa0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-07 16:11:49 +0000

    add tubes/close-muc-with-closed-tube.py

commit 25e7835581b2b41bf1450dce474692867e327084
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-01-07 15:17:56 +0000

    Add a random id to the stream opening instead of assuming buggy clients

commit 3c4ebd31daa7c45bfde2de00a097ea5be472149c
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-01-07 11:44:17 +0000

    Don't define things as const that aren't

commit ad29c2480ddd5dad97a9de183231797dde2be1c0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2009-01-07 11:43:44 +0000

    Don't free a GList using g_slist_free

commit 5d648757a2308868cff981fc4f63199339d63cc2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-06 18:18:36 +0000

    version 0.7.18

commit 124c9cf28caf9b7b55c4b7eee297b53afd28e729
Merge: 79425e0 102b010
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-06 18:11:25 +0000

    Merge branch 'release'

commit 79425e02137a3290936035d56c6bba81bb868cc7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-06 18:01:01 +0000

    add tubes/muctubeutil.py to EXTRA_DIST

commit 056f91cf6fedb18245f83ec426ccccf020ad8ca9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-06 17:57:41 +0000

    gibber-debug.c: build if debug is disabled

commit 102b01051881fac40eaeb944da238e2d699a5b41
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-06 17:16:53 +0000

    version 0.7.18

commit 04231a846971875afef25b3e5b6cb339bfae182e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-06 17:31:29 +0000

    upgrade NEWS for 0.7.18

commit 7e25a5f61b224e1de75defbf8483963427d2547c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-06 17:15:41 +0000

    disable test-dialects-outgoing.py for now as it's broken

commit b3159304a020201243544ead062b0af4814d70dd
Merge: 1b9abbd 5d48b18
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-06 16:38:42 +0000

    Merge branch 'bytestream-multi'

commit 1b9abbdcb5190ec36e01da1d20cd0adbd6971c2c
Merge: ed7a13c bf3c983
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-06 16:38:25 +0000

    Merge branch 'sock5'

commit ed7a13c4b2aee6631b174ad1377b7655f9c8e48b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-05 17:39:44 +0000

    gabble_bytestream_muc_receive: signal is data-received not data-receied

commit 5d48b181343776c08f27cf5398ada9d33210d731
Merge: 4e0cdcc bf3c983
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-05 11:50:39 +0000

    Merge branch 'sock5' into bytestream-multi

commit bf3c9830c5c2c670dec74b7945e5a8a287a52ef0
Merge: f7b0320 19d44d8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2009-01-05 11:03:43 +0000

    Merge branch 'master' into sock5

commit 19d44d84b4b327cb6d9b10317aa0b31c129225b8
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-12-29 15:53:50 +0000

    Don't crash on setting presence if there are open MUC Tubes
    
    The previous code iterated across all channels managed by
    GabbleMucFactory and cast them to GabbleMucChannel; if there are open
    tubes, the cast is invalid for them.

commit d4f07700fff255178e6f0e3f587e2be5573defe2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-12-25 11:15:58 +0000

    Regression test: don't crash when setting presence with open MUC Tubes

commit 02a8e024f401bee8aa1d0b7cee96a61d2258508a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-12-25 11:04:16 +0000

    tests/twisted/tubes: extract "get MUC Tubes" boilerplate

commit 3ae43d35f0d71381fbbe50f3e36441292cc2edf2
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2009-01-02 13:31:24 +0000

    Fix condition on GABBLE_CONNECTION_FEATURES_PEP

commit 4e0cdcc7e10ed1c1d1ef5963aa54cf0788f429ab
Merge: 969755c f7b0320
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-23 17:06:28 +0100

    Merge branch 'sock5' into si-fallback

commit f7b03208f323ee8e0d9bd8eae8139b135882158e
Merge: 66e7a13 db01f9c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-23 17:06:09 +0100

    Merge branch 'master' into sock5

commit db01f9c9c3f16adb4c9ab85e051cbc424862d2d0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-23 17:04:29 +0100

    new_connection_to_socket: fix transport leak

commit 969755c2ba2ecc649cdfe7e5c71ab9619de6750f
Merge: 99aa045 66e7a13
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-23 17:00:30 +0100

    Merge branch 'sock5' into si-fallback

commit 66e7a134a658b36e11dd538557c7d2d3f1d40ffa
Merge: 356057f 45ede60
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-23 16:58:54 +0100

    Merge branch 'master' into sock5

commit 356057f04ffa3ddb26da9f28e905a623f35c73b4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-23 16:50:11 +0100

    remove sock5 close stanza as there is no such think in the XEP

commit 99aa045eccdc9ffe7ac0f6025409f17c335ec7b5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-19 11:52:50 +0000

    gabble_bytestream_multiple_finalize: free the fallback_stream_methods list if needed

commit 45ede60f1ec3e6746557ab882607945a84846499
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-12-18 18:56:25 +0000

    GabbleConnection: advertise the interface GABBLE_IFACE_CONNECTION_INTERFACE_CONTACT_CAPABILITIES

commit f8f87527c8c966459229427dddf59a459bf7fcf6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-18 17:52:39 +0000

    bytestream_activate_next: free the stream method

commit 87fa6d70058067d5b562b8a763a0a341ba8643c9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-18 17:51:11 +0000

    bytestream_activate_next: use g_list_delete_link instead of g_list_remove_link as link has to be freed

commit a8011344c7e4777aa3af8a73d2b49656a5ef08e1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-18 17:03:41 +0000

    bytestream-multiple: signals are not defined in bytestream-iface

commit c5c587392105635db372487dc3fe6306419666fa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-18 17:03:00 +0000

    bytestream-socks5: re-emit connection-error signals

commit 9bd5e4d9ddc05bc89114e7a27b0eb939775e1dc9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-18 17:02:32 +0000

    add connection-error signal to bytestream-iface

commit 10faa72c524ed3c2ad1362f5124c89464ec9e364
Merge: 58cc78a 6f8331f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-18 16:55:18 +0000

    Merge branch 'sock5' into si-fallback
    
    Conflicts:
    
    	src/bytestream-ibb.c
    	src/bytestream-socks5.c

commit 6f8331f008a1d8cfc32ee19ce9f3b4f2bf5e79c8
Merge: 62e881c 0f1ce5a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-18 15:59:20 +0000

    Merge branch 'master' into sock5
    
    Conflicts:
    
    	src/tube-stream.c

commit 0f1ce5a8b0158c905ddee01803d9fa2857eaac36
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-18 15:53:09 +0000

    sync with current gibber

commit 4ad8cd7ddadee6c300f50baf6d295b1d5140cca6
Merge: b38478f 3ac69cb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-18 15:31:18 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble

commit b38478f4bae31c0691cb5b99c3a93b6d1d6c17b7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-18 13:51:38 +0000

    tube-stream: data_received_cb: unref the transport when early returning

commit 96e7f9a282783eac20986e571bb71cf86ceedfb0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-18 13:13:34 +0000

    tube-stream: data_received_cb ref the transport to keep it artificially alive if needed

commit caf0c7435408d2931a736f3b7ded8ac6fdd96136
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-18 12:13:52 +0000

    data_received_cb: early return if sending failed

commit 62e881c5dc1f0a12f5aee8586c413c573c22d12e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-18 13:13:34 +0000

    tube-stream: data_received_cb ref the transport to keep it artificially alive if needed

commit b72da142c67f82ea6ff0faf9364e164cf3feefbd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-18 13:07:39 +0000

    gabble_bytestream_socks5_send: check if transport was not set to NULL after writing

commit 176789229819438a44e1842767665afba2736bb6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-18 12:13:52 +0000

    data_received_cb: early return if sending failed

commit 698173bcebc155d709d8d72e288a3c93712e6be6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-18 11:55:23 +0000

    block_read was renamed to block_reading

commit 3ac69cb65a6cc09a643680c4f7dbcc0235316334
Merge: c97adae ab957c4
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-12-17 19:49:52 +0100

    Merge branch 'wait-for-caps'

commit c97adae7b781cc433260a99ea5b4bec11068bdbf
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-12-17 18:38:03 +0000

    Revert "Don't let stream die before getting initial codecs and candidates"
    
    This reverts commit 938112a82bd147210fd75cd64161f4ea5e013975; Senko has a
    better fix.

commit e84b38984d5549f1705f47f4acfa6bac73fcbb1b
Merge: 07abbeb cc0c086
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-17 17:45:15 +0000

    Merge branch 'sock5+transport' into sock5

commit 07abbeb7bf28cb445fc03038c86e296cfcae1701
Merge: b5be29e e5e64f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-17 17:45:05 +0000

    Merge branch 'master' into sock5

commit e5e64f0cf8d350aac999c05637356c25622c4436
Merge: 317eae6 03cd6c6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-17 17:38:17 +0000

    Merge branch 'master' into gibber-transport

commit 03cd6c69dc4dc163baa4d65dddc192aef4090c4d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-17 17:33:58 +0000

    tube_iface_props_setter: use the property setter

commit d6a8aad81871e8245f506c391b4bc78741a8b948
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-17 17:33:40 +0000

    gabble_tube_stream_set_property: destroy the previous parameters if needed

commit 2ed21c282a94482109d464ec670138d1241e4c0e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-17 17:25:17 +0000

    tube_iface_props_setter: destroy the previous parameters if needed

commit 1241312e546065ae970d9ddc780f7b455724681b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-17 16:56:46 +0000

    d_bus_names_changed_removed: don't leak arrays if handle_type == TP_HANDLE_TYPE_CONTACT

commit 6c25529f0120685dbedcf95734945f4e4d09a16a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-17 16:54:32 +0000

    always destroy parameters hash table created in extract_tube_information

commit 9f5556c7cbf7a024500273f4eb80ea97e17f5b9a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-17 16:48:04 +0000

    tubes-channel: no need to copy the tube parameters as the tube object already makes its own copy

commit 86733522eff64709dd3479c0cb1246e6e3a6c071
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-17 16:27:37 +0000

    gabble_tubes_channel_presence_updated: don't leak parameters hash table

commit 317eae63ed9f7fad866ed1d7323260172c6d3a3d
Merge: 8a3071e afddeb6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-17 16:17:48 +0000

    Merge branch 'master' into gibber-transport

commit 8a3071ea2b02924faef07631515c24507094cf22
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-17 16:09:09 +0000

    start_stream_initiation: add a FIXME

commit 1d32f66a437de93abbe131f7082b7dcb0bb07315
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-17 16:08:17 +0000

    data_received_cb: assert that the transport is not NULL

commit 9313027e33b19c61b78440ec5b007265af930417
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-17 16:07:24 +0000

    remove old TODO

commit 7085a37a53453c01dc97f67f69f604a774096cf3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-17 16:07:05 +0000

    start_stream_initiation: free data if salut_si_bytestream_manager_negotiate_stream failed

commit afddeb6574066b168585dc1c80bf9670fbc7c2d2
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-12-17 12:43:27 +0000

    Channel.Type.DBusTube.DRAFT disabled because it is not implemented.

commit 0a02cfab65cf1922016f77e45102e243290ccf42
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-17 12:36:19 +0000

    tube-stream: gabble_bytestream_iface_block_read was renamed to gabble_bytestream_iface_block_reading

commit bd3219aaa2ee0802385279514ececa8feb47debc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-17 12:36:07 +0000

    rename gabble_bytestream_iface_block_read to gabble_bytestream_iface_block_reading

commit dad6aee6f545af3f5128eb90255c356358edac4a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-12-17 12:34:36 +0000

    Test Channel.Type.DBusTube.DRAFT: this interface is not yet implemented, but Gabble must not crash when requesting a channel. Add a test.

commit cc0c086db13ff92015422bb76ab3933b477cfe63
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-16 17:50:10 +0000

    transport_handler: use G_GSIZE_FORMAT

commit ac5edf8daf2e2c9371cb21389e1eb28d72f2a6a8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-16 17:38:09 +0000

    bytestream-socks5: block receiving data when the sock5 stream is connected but not the bytestream

commit 8cd97a0ded0c16d58acede9caf4e0984b74fefbf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-16 17:30:23 +0000

    implement gabble_bytestream_socks5_block_read

commit 5938de86f9a3c565a4e25d273f78e6fb3f530e42
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-16 16:25:14 +0000

    socks5_handle_received_data: add a debug msg when the stream is connected

commit 104988477a787365750de2e9a06890d678419bf9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-16 16:24:00 +0000

    socks5_handle_received_data: stop to listen for connections once we have a connection sock5 stream

commit 92df87a87b96bb27eac4494fea8e5ea8847e6ec8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-16 16:19:33 +0000

    bytestream-socks5: use Gibber transports instead of GIOChannel

commit df7388bbf2dd43248c8779e6a27e6ab55c9bc55f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-16 15:27:38 +0000

    add GABBLE_BYTESTREAM_STATE_CLOSING state

commit 75f93001542796491837416c156829b137c28187
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-15 18:01:07 +0000

    bytestream-socks5: don't redefine signals

commit 8f353fc53d71797e0673f8a73a1b66d80a54ec36
Merge: b5be29e d87fd2b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-15 17:54:59 +0000

    Merge branch 'gibber-transport' into sock5+transport

commit d87fd2b27b57df9bae2fd5196c66f2e586221ead
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-15 17:51:20 +0000

    tube-stream: uncomment bytestream_write_blocked_cb callback

commit 14236f87623ef4b11bf4c13c7baca248dbd61b85
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-15 17:51:08 +0000

    bytestream-iface: add write-blocked signal

commit a6a9e20e4e8e9550484e8a025d737a8cebc02028
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-15 17:44:09 +0000

    bytestream-muc: don't redefine signals

commit e7e9b5c87dc0c41f001b57a9f2f1d9652049de8a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-15 17:43:58 +0000

    bytestream-ibb: don't redefine signals

commit a80286d621f616ba6964c20e64617d1710e6d9c5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-15 17:43:21 +0000

    bytestream-iface: define bytestream signals

commit 65ec6da74fae23abf1a8b921c9e545d9862d9e10
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-12-12 19:48:34 +0000

    Stream tube channel advertises the immutable channel properties, including thoses not on the Channel interface

commit bae8ea0293a05e870dcbf080b1e61d83994ba66c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-15 15:54:26 +0000

    tube-stream: uncomment gabble_bytestream_iface_block_read calls

commit 55430456876b5064e6ba08f03c3b5134f36c3fbc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-15 15:54:05 +0000

    add gabble_bytestream_iface_block_read as an optionnal abstract method

commit cfce9d18df3e1ae01d958cb8a8a18a72d3e52bff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-15 15:22:53 +0000

    test-si-accept-tubes.py: reply to SI iq

commit 6a75e892aadc1c7e1507d7d4c2c4d55a1a59fb13
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-15 15:21:33 +0000

    extra_bytestream_negotiate_cb: free the data structur if the bytestream was rejected

commit 516c28756a160a92627a5390ff079f7aeae53528
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-15 15:17:41 +0000

    use Gibber transports and listenner

commit e75b84466ebd9cc1ec52fefe0df6ab600bbea469
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-15 14:36:47 +0000

    build tests with libgibber

commit 675d43a53d566437bfa5088e6154ef00659a6fb1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-15 12:59:01 +0000

    sync with gibber master

commit b980221c4b7e73bf56d1cc99b88394474db02b4e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-15 11:31:28 +0000

    update gitignore

commit 45a07045c47ef7454854be43b43071bda7478a45
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-15 11:29:06 +0000

    link Gabble with libgibber

commit 6533297a3cfce71a5314293f20d22768f077a3fb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-15 11:28:46 +0000

    build lib/gibber

commit 60456b36fe2af3168bac0fd1c718ef92da6f7c92
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-15 11:28:11 +0000

    Import gibber transports and listerner

commit b132d3b18df08c8fa1f76ef7972d31ef35e738f6
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-12-14 18:17:39 +0000

    Bump version to 0.7.17

commit 9489c80b47db58418df840173ae683beb6e2be38
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-12-14 18:15:53 +0000

    NEWS for 0.7.17

commit af4e417e36c0de3541dd3b9de6aa8e0ab949f3c2
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-12-05 21:44:08 +0100

    jingle/test-incoming-call.py: make sure call is not autoaccepted

commit 67583babb084978275d98f3eb3b480e1ff580a04
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-12-05 20:37:06 +0100

    JingleSession: check that session was locally accepted

commit d0049920e231a370ca70f0329ee65feec07175de
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-12-14 16:58:33 +0000

    Update tube caps tests with new SHA1s for # URIs

commit a14377abf7d1909b6c608cb2dd0e7789a64a88b7
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-12-14 01:09:45 +0000

    Update tubes capability docs for new URI

commit 361575641a3132467e320a4484fea698ae3b935b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-12-13 17:38:51 +0000

    Use # to concatenate service name to tubes caps URI
    
    Tweak tubes features to be like:
     http://telepathy.freedesktop.org/xmpp/tubes/stream#rfb
    Rather than:
     http://telepathy.freedesktop.org/xmpp/tubes/stream/rfb
    
    So we can put something at the http:// URI that talks about the
    protocol.

commit ab3bc9c6afc55e0fdac638926ee43cfb135925b9
Merge: fce6ba1 9b35aec
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-12-14 00:38:44 +0000

    Merge branch 'master' into alban-xmpp-spec-tube-caps

commit b5be29ee06e3eb3d1d8e611ae58fc6f8323e8600
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-11 18:06:34 +0000

    socks5_channel_readable_cb: check g_io_channel_read_chars return value

commit dee19eb48ba08352b2b2fe27d96d4261fe1908a2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-11 18:06:08 +0000

    test-si-socks5-tubes.py: test if the world doesn't explode if a sock5 connection is closed

commit 846bc5884263fab1331fe05ceba7fdf326173c4d
Merge: 930198b 2c33597
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-11 16:48:22 +0000

    Merge branch 'master' into sock5

commit 9b35aece13ee90005320996d962e1c8347a06e3b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-12-11 16:30:40 +0000

    jingle/payload-types: remove debugging "print" statement

commit 8bf370724f92aef0783cb1d15f1c2a39ca9986c4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-12-11 16:30:25 +0000

    jingle/payload-types: define a MEDIA_STREAM_TYPE_AUDIO constant

commit 58cc78a2de7760ae6cc0de957f782e5d978983b7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-11 16:24:23 +0000

    gabble_bytestream_factory_make_stream_init_iq: each value has to be in its own option node

commit f2c539868909412a86ab17c17c3af7c5d7a8f0ac
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-11 16:24:05 +0000

    fix typo

commit 938112a82bd147210fd75cd64161f4ea5e013975
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-12-11 16:04:53 +0000

    Don't let stream die before getting initial codecs and candidates
    
    Constructing a GabbleMediaStream adds an idle callback to extract information
    from its JingleContent only once the creator of the MediaStream has had a
    chance to connect to its signals.  If the refcount of the MediaStream fell to
    zero before that callback fired, it would crash.  So, the callback should ref
    the stream.

commit 90a4466e35b2b20a28e0a321ef81f48478e64b47
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-12-11 12:54:13 +0000

    Send codec parameters as <parameter/> tags.
    
    Fixes fd.o bug #18918

commit 53b46bbbef5300418b3e6b5b0753c87f5d43f9bb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-12-11 12:53:58 +0000

    Add regression test for fd.o bug #18918

commit a8effdb85ca318d13c4e099a9704a29040094f2d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-12-09 15:41:24 +0000

    Remove useless macro around o->priv.

commit 9c5f6f60d9b19efdee9035b600ab6b8ed63221b1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-11 16:16:25 +0000

    bytestream_factory_iq_si_cb: add a debug msg

commit 4676f7afdaa4ce467e38ac03a3d3eaa0465c80c4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-11 16:04:36 +0000

    replace gabble_bytestream_multiple_count_stream_method by gabble_bytestream_multiple_has_stream_method

commit ffc72a649c276e7de677167e89467cde2b07b1e9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-11 15:03:16 +0000

    test-si-fallback.py: no need to use call_async if we wait directly for the return value

commit 7e8a19094cc16b0bc148ce219b17ce2bf4e6e72b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-11 14:58:59 +0000

    test-si-fallback.py: add some comments

commit 9a217e2ee07678622ff074b21e4f433746927d42
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-11 14:49:19 +0000

    bytestream_connection_error_cb: assert the state of the bytestream

commit 6ebb9e266bc9dfbb73937707093c8d024f580e52
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-11 14:18:54 +0000

    coding style fixes

commit 84c2bd9c49b0b35845ea38f39b2afb18dce7e553
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-11 12:52:45 +0000

    _GabbleBytestreamMultiplePrivate: improve fallback_stream_methods description

commit b8b48c4e94dd8ddbe5e36fc147776fc0e54635f9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-11 12:49:59 +0000

    si-multiple.xml: fix tag

commit 00a875cb27c34e71faed29f304a5a9ae8597255f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-11 12:43:09 +0000

    document si-multiple protocol

commit 57458dd0c16dc69ba7b38e7d84cc96d3a402b4fa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-11 11:16:49 +0000

    rename gabble_bytestream_multiple_nb_stream_method to gabble_bytestream_multiple_count_stream_method

commit 34de41346bcdef68206c20278778fb7dd2eac88d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-10 16:58:46 +0000

    bytestream-factory: most of the create bytestream methods don't have to be public

commit 08fe12c316772c677920baacf77e8c8db228ed34
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-10 16:48:43 +0000

    gabble_bytestream_factory_make_multi_accept_iq:  send multi stream methods in <si-multiple>

commit ce90e54dc0709d89df3e24e36cd7ea12daee3841
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-10 16:31:24 +0000

    streaminit_get_multiple_bytestream: look for multi stream methods in <si-multiple>

commit 5c0ffefb577e72f3e2b3ade9b91267d40051c889
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-10 16:00:16 +0000

    gabble_bytestream_factory_create_multiple: insert bytestream to multiple_bytestreams hash table

commit 6f1a50929559f0cafbe3308fae2ec62c647b7363
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-10 15:58:46 +0000

    gabble_bytestream_multiple_dispose: don't unref factory as we don't have a ref on it (which is sane as it does have a ref on the bytestream)

commit 01a53933eb253ec6934f5974332cb27e6fc39318
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-10 15:47:54 +0000

    bytestream_factory_iq_si_cb: check if the multi bytestreams contains at least one stream method

commit fee63d200beb7df937eccfe258e4697c3394709f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-10 15:46:02 +0000

    add gabble_bytestream_multiple_nb_stream_method

commit ec51ef3b96d53d1cedb2b08aa10a944b98a52db6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-10 15:34:13 +0000

    coding style fix

commit 87afdb292aa943b0f2069f54f76f08998bcdb42c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-10 15:32:02 +0000

    bytestream_factory_iq_si_cb: add some comments

commit 13be891aeb9de834ff0c3a5d790311c5a8d8a86b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-10 15:12:26 +0000

    reorder namespaces.h

commit 2c66c0ede79e2ea1b20c71eb5d9772059d4ce20d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-10 14:55:54 +0000

    coding style fix

commit fe9ba3df9df264566dca53a76b7722c90f0d7f0b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-10 14:54:51 +0000

    stream_method_supported: make function easier to read

commit 2c335975279f4482e280d4864dd5447cd68caef6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-10 14:07:50 +0000

    check_gadget_buddy: don't print debug message so we don't flood log with it each time we receive a presence

commit 2e7b72b164f3ef61f595783780e9429572170e39
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-10 11:29:21 +0000

    add generated m4 files to gitignore

commit 69b516a5688c7c498a92e382a1215652c830b7fd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-10 11:28:44 +0000

    muc-channel: fix DEBUG msg

commit cd7a11c02867b83168b1a5e95e1c848dafa72375
Merge: 5ec17d4 6b4966a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-10 11:28:10 +0000

    Merge branch 'master' into warning-crasher
    
    Conflicts:
    
    	src/media-stream.c

commit 6b4966a8c756b725f162b206e0e57d185e44c166
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-12-08 15:38:05 +0000

    Fix auto-accepting MUC invites when changing presence
    
    The patch to send our presence to the MUC when we go away/etc was broken
    because it sent a <presence> stanza to MUC channels we'd been invited to
    but not actually accepted yet, which automatically accepted the invites.
    This was cool because Empathy didn't actually have a way to accept the
    invite, but when I got back from lunch people were confused why I'd
    joined the chat with Away / Lunch and then not said anything. :)

commit 80ff9faf8dd5ef0994aeabfba535ed8310bb470b
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-07 21:57:57 +0000

    Remove a hack now that NewChannel is correctly emitted

commit 05ab21d6e85fb4fb83268f5623f94606b66871a5
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-07 21:50:28 +0000

    Improve some comments for corner cases

commit d566465675063a5a6608b88164c86cee61f40e6e
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-07 21:47:13 +0000

    Remove an outdated comment

commit 480fb6ff694ff76a5876fbcb7481ee945de89706
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-07 21:46:33 +0000

    Handle clients that send us unsupported stream methods

commit 1d0dca9e01aea6753c77404140cd8a94ab684503
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-07 21:34:22 +0000

    Remove a trailing space

commit 6499fa8aa71a49f496d37493d9fc9d6eb504ba1f
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-07 21:32:47 +0000

    Split a long line

commit 1f318fbae65446598753f294436ba9d059574251
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-07 21:30:55 +0000

    Rename gabble_bytestream_multiple_add_bytestream() to _add_stream_method()

commit d5fa8f382f16ed55ac4ea1bb3d6b168a19ebbd20
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-07 21:28:32 +0000

    Remove some leftover code to handle a removed property

commit ef6d07985341c3cab6ec64dcf72f6996e5e11bae
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-07 21:25:55 +0000

    Split some long lines

commit ed0e33ee7dbc0a797a4f8b92bb08cd5ffe6f7292
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-07 21:23:11 +0000

    Refactor streaminit_reply_cb() to be more readable

commit 0b4ce7b39a0e1e2ce3251efeee897a1952769736
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-07 21:00:02 +0000

    Remove the checks for the bytestream going from OPEN to INITIATING
    
    A bug in the SOCSK5 code allowed the bytestream to emit a
    connection-error signal when the stream was already OPEN, so the
    fallback code had to check for the state going to OPEN back to
    INITIATING (for a fallback stream).
    The checks are not useful anymore now that the bug is fixed.

commit 065d3b048ac8f84b26fab364ab5fee1066250942
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-07 20:59:25 +0000

    Remove the close-on-connection-error crack

commit b4c8c0c7fc6aa1f9f32b4fee024d01899d62ae72
Merge: 5a9c36e 930198b
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-07 20:47:29 +0000

    Merge branch 'socks5-bytestreams' into si-fallback

commit 930198b10311987eda910b3fca60aed534e5f127
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-07 20:46:42 +0000

    Update the IBB test from master

commit 5a9c36e2773abd64a561e45a10e62ae0fab54e2b
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-07 18:42:20 +0000

    Remove HAVE_DBUS_TUBES

commit 56ae544404157f6774c38202f39b8d37746686c8
Merge: 2991ad1 640eef6
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-07 18:31:55 +0000

    Merge branch 'socks5-bytestreams' into si-fallback

commit 640eef6a3a1a158f042b4324967a7eea0f94cb42
Merge: da7068c f8cf995
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-07 18:31:07 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble into socks5-bytestreams

commit 2991ad1e51743e155d9bcc90b9b9cbbca28ec71d
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-07 18:29:56 +0000

    Implement a different and saner way to have SI fallback

commit 6e00506552117fd3566f074ed14b4d8d1c6ea12c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-12-07 18:05:43 +0000

    Add tests/twisted/gabbleconfig.py to .gitignore.

commit fe89a500216dec57f24098551154f49c89a79b39
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-12-07 18:04:23 +0000

    Name the next release.

commit f8cf99589c5205ff11f47b11616405858316c9d2
Merge: b2e9757 1d060a2
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-12-05 16:29:12 +0000

    Merge branch 'master' into alban-enhanced-caps-with-complex-types

commit 1d060a217f21719780236b7d793898537b41cf07
Merge: 6b88a52 0900abe
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-12-05 16:25:03 +0000

    Merge branch 'python-tests'

commit b2e9757eee33fd74cc74d6a301145b2ac526b758
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-12-05 16:23:47 +0000

    configure.ac: requires dbus-glib 0.78 (released 04 Dec 2008). It fixs the bug #17329. It is needed for the contact capabilities interface.

commit 0900abec229667a1d12b2890c1f8bb016707c358
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-12-05 16:15:51 +0000

    Twisted tests: check python has dbus support, and dbus.mainloop.glib

commit b8c7374206ac718d1d41ab75df40f5932bab4280
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-12-05 15:48:13 +0000

    Don't enable twisted tests if we don't have at least python 2.5.

commit b90bd2c2bb5a399783ff0193f543facb2dde8f02
Merge: 11fdd81 89252dd
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-12-05 15:25:06 +0000

    Merge branch 'master' into alban-enhanced-caps-with-complex-types
    
    Conflicts:
    
    	src/connection.h

commit 6b88a52846991cc2e0455a5a08b835a5de26dafc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-05 15:05:57 +0000

    muc-factory: remove fixed FIXME

commit 2b165e5f60d79c82f415b9a25eaa6862490d058c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-05 14:59:28 +0000

    pass the requested property when creating muc-channel so text channels requested because of a tubes request have the right requested property (b.fd.o #18738)

commit ee5bf79f9ce0813ee04b52966d1ca1ca90a122cf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-05 14:25:56 +0000

    test-muc-offer-stream-tube-ibb.py: catch NewChannel signals

commit dbe867256cc820f30d6bc42664388d6629d5c16b
Merge: 37d5999 da7068c
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-05 12:56:31 +0000

    Merge branch 'socks5-bytestreams' into si-fallback
    
    Conflicts:
    
    	src/bytestream-socks5.c

commit da7068c1e53d8b3e0aa67e704deee7794908fa8c
Merge: 35dc2a1 89252dd
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-05 12:22:48 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble into socks5-bytestreams
    
    Conflicts:
    
    	configure.ac
    	tests/twisted/tubes/test-si-socks5-tubes.py

commit ab957c4c4400f97790eea22abf1a2fa40f1b45ca
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-12-05 12:31:49 +0100

    MediaStream: prevent idle callback for initial codecs/candidates after stream is disposed

commit 729242161e0b51416a6c92409c539653d1e260e1
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-12-05 12:30:04 +0100

    Twisted test for handling incomplete stream requests when channel is disposed

commit 4ea63396fd249537c7f4cfd58c4f860069c5a5f2
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-12-05 12:28:56 +0100

    MediaChannel: return DBus error for incomplete stream requests when channel is dispose

commit e6f1c4bdf904a47f2aaa4dcc217f288a8179b462
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-12-05 11:34:51 +0100

    MediaChannel: clean up incomplete delayed stream requests

commit a6ee31f74af7870f512daedd9ff1a420afad0ee5
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-12-05 09:32:49 +0100

    Remove unneeded wait for caps hack in other jingle tests

commit 88896d558a945a13246a19c3936d766170bb1a37
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-12-05 09:32:21 +0100

    Added test for waiting for capabilities in outgoing calls

commit 323ecc04fce334fe48640e4a6c386196107c9b2d
Merge: 483ca5a e672a2c
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-12-05 09:00:43 +0100

    Merge branch 'master' into wait-for-caps and fix merge errors
    
    Conflicts:
    
    	src/presence-cache.c

commit 89252dda5c729060db03b3af957c492d51a92a86
Merge: e672a2c 98ba9fa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-04 21:37:07 +0000

    Merge branch 'dbus-dep'

commit e672a2c22ba9bae664ef81e97a60e692dd44e0c3
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2008-12-04 15:00:07 -0500

    Fix typo: propeties

commit b71b7e83c44c7c26cb71930e81d57870f4dc3c42
Author: Pierre-Luc Beaudoin <pierre-luc.beaudoin@collabora.co.uk>
Date:   2008-12-04 15:03:34 -0500

    Remove a def defined twice

commit 35dc2a1d7c3718bd53154b6c1c58203824cc1500
Merge: bf00411 2d5c231
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-04 18:21:04 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble into socks5-bytestreams

commit bf00411e560f9c048a2b4bce679a94b9446ada6b
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-04 18:13:55 +0000

    Use a symbolic name for the length of the SOCKS5 CONNECT command

commit 4ad68e77f9dfa636ab1852b2b2168802931bd4ee
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-04 17:58:39 +0000

    Improve some comments and debug messages

commit 98ba9fa6d5d8078550d4d555d05fcc419e8c5a7b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-04 17:43:28 +0000

    test-si-tubes.py: remove debug print

commit bc35ab4d04a7e769880bb4ac3e656c0724870a94
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-04 17:42:45 +0000

    remove gabbleconfig.py.in

commit fb137f7c84e3c16103703c07f100d9742db4ca4a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-04 17:39:40 +0000

    remove HAVE_DBUS_TUBES checks from twisted tests

commit 8664456cb4285307386ceb5680b4651723cac634
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-04 17:39:21 +0000

    always run D-Bus tubes tests

commit 7121e86122314d9c356d336539febd4111836c9b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-04 17:38:56 +0000

    tubes-channel: always build D-Bus tube code

commit 9eea028c311fe57df3179287f2f534d0a89f0389
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-04 17:38:21 +0000

    always build tube-dbus

commit a0deb0fba1beb9920e31366417be4d79f9d3a994
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-12-04 17:37:58 +0000

    configure.ac: raise D-Bus dep to 1.1.0

commit ddc9bb11d4ad6dcefa746b7ff711bdf8f51a0d82
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-04 17:30:54 +0000

    Check the state to decide whether to try to connect to another streamhost

commit 483ca5a440d9e39bcbe6854077dda9615dc39ce5
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-12-04 16:15:46 +0100

    MediaChannel: delay RequestStreams if we're unsure about contacts' presence

commit 04315a55533f9b543dc0d2630cdca1b22e6cceab
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-12-04 16:12:53 +0100

    PresenceCache: define an "unsure" period 5 seconds after cache creation

commit 52cd8cedb627bfc8b85984246cb6fb724e0bfdfb
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-12-04 15:11:28 +0100

    MediaChannel: delay RequestStreams if caps discover for contact is in progress

commit 718415776616983d56d8101be1e9f7231a506907
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-12-04 15:10:21 +0100

    PresenceCache: emit new "capabilities-discovered" signal unconditionally when one caps disco is complete

commit 113ec852ac6e7850de2af030df8128ffb36e8cd8
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-12-04 15:09:05 +0100

    added helper function to determine whether there are pending disco request for caps for some handle

commit 2d5c2310295377b737652ce2ce40dd0fdcf32160
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-12-02 16:08:55 +0100

    Start 0.7.17 development

commit 4cc8385c370abdc4fdea510361743b5db750c7c6
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-12-02 16:04:49 +0100

    Prepare release 0.7.16

commit 2b5e0d57deb5115c4a76e2dbc794830d83d2d704
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-01 19:20:22 +0000

    Set the tube state to open only when the SOCKS5 connection is ready

commit d1e381a6f63d1c66d8aa6ac72ed868e5285f171a
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-01 19:19:35 +0000

    Don't expect TubeStateChanged before a connection has been established

commit 3c664b9ce918b34d157082bb1df62cb9761cee4f
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-12-01 20:01:05 +0100

    include jingletest2.py in the distribution tarball

commit bd03bf719bd7f0cbe5817b79b2ca975456862143
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-12-01 19:55:20 +0100

    media-channel.c:contact_is_media_capable: fix errors when compiling without DEBUG

commit 747b8eb2d15ad412c1c0dd254f9b49d4bb81717e
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-01 18:53:44 +0000

    Pass an error message to _gabble_connection_send_iq_error() in handle_socks5_query_iq()

commit f93d98c3bc3f52139811ba8eb98b1888540ba346
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-01 18:11:55 +0000

    Advertise SOCKS5 support

commit fd5f60a28b1b181a0a88714dd8a3bbf4fa15cc83
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-01 17:53:32 +0000

    NS_BYTESTREAMS was already defined

commit 0d2f9af03279865f0c1b2b193cdafc82f17e0e97
Merge: 3210adf dcafb9e
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-12-01 16:46:45 +0100

    Merge commit 'upstream/master'

commit 78eb91075061dd2de94f9a749abfb474465abe2c
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-01 15:15:55 +0000

    Initialize the table variable in remove_bytestream()

commit ea149a36ea82db8419558c2bd45924126acf09f7
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-01 15:08:08 +0000

    Call socks5_handle_received_data() until there is no more data to process

commit 5e5965a0050b6ed82e793c8eb1ee75616831dc88
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-01 14:58:23 +0000

    Add more comments and make code clearer

commit ce7309e58594b89a7dd7da1be53d357b0b9bbe11
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-01 13:07:34 +0000

    Make some DEBUG() messages clearer

commit 35ee7261136eda36cde204079107a88f7a7e3a74
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-01 12:51:22 +0000

    Use a backlog of 1 for listen() as we expect only a connection

commit ed469364bbfd78c47805c0f22ba9ac9fd09f31a0
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-01 12:49:10 +0000

    Use g_slice_new instead of g_new to allocate the Streamhost structs

commit 7729dc39515f6f05e54bdf92342444162f8c0ea2
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-01 12:48:01 +0000

    Use tp_strdiff instead of strcmp

commit cc8a2b02e96e217204601b41ab6d9686983b31e3
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-01 12:43:43 +0000

    Style fixes

commit e07ada18ea94981b2e61857f743d816c8272c21f
Merge: df4d5ab dcafb9e
Author: Marco Barisione <marco@barisione.org>
Date:   2008-12-01 11:47:42 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble into socks5-bytestreams

commit dcafb9e78aff56a861256a0b4b2f9d49605dd85c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-27 19:00:37 +0000

    GabbleMucFactory: add a comment to explain why we use a temporary variable

commit 2834ac31b787f239b02f27a0eade34363b049fea
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-27 18:57:07 +0000

    GabbleMediaFactory: fix a double free in _dispose

commit 305f182218bc6e29259046e43fe54e20556388cd
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-27 18:54:58 +0000

    GabbleRoomlistManager: add a comment to explain why we use a temporary variable

commit 2d5243ab0ca20ac3ba439323ea812eb0931119a0
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-27 18:52:01 +0000

    GabbleOlpcGadgetManager: fix a double free in _dispose

commit 823bfd834b7d88c2fd280a21fdc13bb4315e855c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-27 18:50:18 +0000

    GabbleImFactory: add a comment to explain why we use a temporary variable

commit e3489362e360074e4d0cbd7058ea0f741d85be0d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-27 18:48:29 +0000

    GabblePrivateTubesFactory: add a comment to explain why we use a temporary variable

commit 67cc69eb1f3f41e628a7f1db78ece7043de1e648
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-27 18:46:55 +0000

    GabbleRoster: fix double free on Disconnect

commit 11fdd8164e906f3dbe28588d8be418785b36bd99
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-27 13:37:40 +0000

    Caps: fix prototype for gabble_caps_channel_manager_update_capabilities

commit 37d59998d6378164017d0a046f7931d0c8fa8016
Merge: 257dfbd df4d5ab
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-21 19:08:14 +0000

    Merge branch 'socks5-bytestreams' into si-fallback
    
    Conflicts:
    
    	tests/twisted/Makefile.am

commit df4d5abc2458a028ec2c59b8c4a114c1c97378ac
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-21 19:04:08 +0000

    Style fixes

commit 463240cb12e6328e644b0c3a8bbdaf666bb064ba
Merge: d99a856 99d02ac
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-21 16:21:50 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble into socks5-bytestreams
    
    Conflicts:
    
    	tests/twisted/Makefile.am

commit 257dfbdcd10928f1d3b5442158f7d9259998c1ec
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-21 16:16:22 +0000

    Remove a useless return

commit b3f08d18d2c41b119b3443ffd5acba627e540f92
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-21 16:14:58 +0000

    Be sure to always close the active bytestream and not just the first one

commit 40ef2c35d81cc5378d7432394e07981e5aca5575
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-19 17:54:51 +0000

    Remove an unneeded g_object_unref()

commit 5d1e9353c7b72fb47a87ec4db81b0ef744901ae4
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-19 17:38:23 +0000

    Implement SI fallback

commit c4843b7a138113ea85b839fef5a3adc343560262
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-19 12:55:41 +0000

    Update test-caps-tubes.py because ContactCapabilitiesChanged is plurialized

commit e60de8c4f061f910d6307c45482331fd5a7c89f3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-18 20:43:57 +0000

    Caps: emit the plurialized version of CapChanged

commit e67d54b60ab3b8925b5aca4251013f5aa2047788
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-18 20:36:25 +0000

    Caps: Use the type Requestable Channel Class

commit 4b2bce1fca7d278e86ee804da2ff2547001fcc88
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-18 20:25:36 +0000

    Add Requestable_Channel_Class in the list of external types used

commit 1f19ee2427ea167cfad2ffd5d305e443c3887429
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-18 20:18:57 +0000

    Add new caps specs from spec meeting Mon 17 Nov 2008

commit 43f32e85786e3db622b82d931a987e7af86fcc92
Merge: 653b291 183766c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-18 20:18:09 +0000

    Merge branch 'tubes-new-spec' into alban-enhanced-caps-with-complex-types

commit 183766c57371b62e000c888eb9991e4d3fbfc39b
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-18 20:16:24 +0000

    Remove implementation of GetStreamTubeSocketAddress on org.freedesktop.Telepathy.Channel.Type.StreamTube

commit 1021fe7d22371c600b136ceb8dbd04e6814ddf2f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-18 20:10:02 +0000

    Add new tube specs from spec meeting Mon 17 Nov 2008

commit 4c5872440c637e550a94ec7c320e1adee104b436
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-11-18 16:40:33 +0000

    IM, MUC: include text/plain in SupportedContentTypes

commit 6a9297f28cf496352a457f251627c33876f98e59
Merge: 9c1db1a 99d02ac
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-11-18 16:00:24 +0000

    Merge branch 'master' into messages

commit 9c1db1a587751fc3896c594f47e65bd82849c5bd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-11-18 15:04:22 +0000

    ImChannel: add delivery reporting support flags

commit 9edf00eaebf6e85a093064770decd74f8eef2808
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-11-18 15:02:27 +0000

    MUC: add delivery reporting support flags

commit f365f7c6159b5e07d9634a2431ca66d98446a7ba
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-11-18 14:51:29 +0000

    IM, MUC: Emit MessageSendingFlags appropriately

commit 3210adff6637443fe265bd33d1ccc5aa29d0e783
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-11-14 16:29:58 +0100

    jingle_media_rtp_codec_free: fix whitespace

commit c79773cf6f59869f467a88b0b34c3f44bbaab8d9
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-11-14 16:26:38 +0100

    GabbleMediaStream: simplify code to ignore non-rtp components

commit f42012b3f480b658b9c714a3864848b1d84c6324
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-11-14 14:30:54 +0100

    jingle/test-incoming-call.py: use SupportedCodecs signal

commit be5e75aa0dab7e55d5e39c182ec1a6b035a55f79
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-11-14 14:29:48 +0100

    GabbleMediaChannel: don't require all possible jingle features for media caps

commit 1f29a13f8d09dfe702695d7bca7cd3dc3fb0b607
Merge: 51eb40a 99d02ac
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-11-14 13:21:19 +0100

    Merge commit 'upstream/master'

commit 51eb40a4090cd745043e129e6ea0d2e2c15df792
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-11-14 13:16:03 +0100

    test-dialects-incoming.py: deal with racy MembersChanged signal

commit 71ed7e1d3a1efc8d0d6d6a6723c73aa54d4fec19
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-11-14 13:14:54 +0100

    use SupportedCodecs signal in jingle tests

commit 5ec325468af7f4c626ff6abf945a0eae2d573da0
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-11-14 13:11:05 +0100

    GabbleMediaStream: let content parse initial codecs/candidates before asking for them

commit 632b9ccccb254a779e1175555ed1b78dfcbf0125
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-11-14 13:09:48 +0100

    GabbleJingleSession: session termination idempotence

commit acca2c7868de70c8d2a8ef45555e2bf768aa29db
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-11-14 13:08:39 +0100

    GabbleJingleSession: immediately set content properties so media stream can use them in content creation callback

commit 6d79d676f8c457dcb1cf0b02115bc8fb328779fb
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-11-14 13:07:44 +0100

    GabbleJingleContent: don't update content senders if they haven't changed

commit 0f4f64effefca6dbe90daef90b39344053e769a1
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-11-14 10:25:26 +0100

    workaround for Loudmouth not handling xml namespaces

commit 0dc85b00cdcd3e396abe9dcfec55e20e001ecf02
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-11-14 09:48:24 +0100

    jingle-session.c: refactor content creation code

commit b9ce26b657f59298f44728beaa41bc5991ee0f06
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-11-14 09:34:14 +0100

    support component numbering in jingle transports (still ignore everything except rtp for now)

commit dee311191be2527ff4134b456222553925ab45e4
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-11-14 10:00:56 +0100

    GabbleMediaStream: use SetSupportedCodecs when we're stream responder

commit 08c470d01ef6a7594e9b2168e23b389df40ef172
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-11-12 22:47:49 +0100

    media-stream.c: make update_sending a file-level function

commit 16cfc1c728fce490e9cde1c264231a77c36cec08
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-11-12 22:32:00 +0100

    jingle_media_rtp_codec_free: param hashtable is always there, destroy it unconditionally

commit 60232a3699ceb71c593c895a7362cac86521bc41
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-11-12 21:58:35 +0100

    gabble_media_factory_requestotron: remove unused variable conn

commit b646e92298d946682a9323de5b5c7706276efd98
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-11-12 21:40:12 +0100

    media-stream.c: remove dead code dealing with remote pending send

commit 2eed0f65cc9bac66d18fece113f0a12a3fe1a8e8
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-11-12 20:59:59 +0100

    gabble_media_stream_set_stream_state: debug log the invalid stream state request

commit 99d02aca906087861dfab9dd4dde252957d53386
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-12 15:41:30 +0000

    test-si-tubes.py: Better code for: Check that tube offers contains @to with the resource

commit f4dbdeadb62386856cb39e9c982b41b5eccbcf0e
Merge: 898f904 0d53c3e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-12 15:21:46 +0000

    Merge branch 'master' into bug18480

commit 898f9043494d8ae0ced7b0a6145e5c8cc0323654
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-12 15:20:43 +0000

    test-si-tubes.py: Check that tube offers contains @to with the resource

commit 7444a784e470bd93ab5efa9346779a75e68ddbf9
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-12 13:51:50 +0000

    tests/twisted/tubes/test-si-tubes.py: Offering a tube to someone who does not support tube does not work anymore.

commit db4b99680f4838154f4a7b868004c9b9b74345df
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-12 13:41:28 +0000

    src/tube-stream.c: When offering a 1-1 stream tube, set the full jid with the resource

commit d4d5a2f99eb5e1a2471662c09ff04aee865dde36
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-11-12 11:31:15 +0000

    MUC: ignore non-error, non-echos from the MUC
    
    (It's not clear that they ever contain useful information, and we previously
    suppressed them.)

commit 596a598c01074f83112414bf393b2597bb4e47ae
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-11-11 14:49:10 +0100

    refactor jingle candidate sending so they're sent for non-initial contents too

commit 00d7e3cfefdcb18c0d03e1e8a3f83ba6984eb631
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-11-11 14:44:18 +0100

    GabbleMediaStream: more stream direction handling fixes

commit eb77fc5717392cebbd1d287eb813a9b72affa639
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-11-11 14:36:26 +0100

    GabbleJingleContent: senders are optional instead of required attribute

commit 0d53c3ecdc32518270d8cafc228f6d7018946ff9
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-12 00:21:34 +0000

    Twisted tests: fix 'eavesdrop' parameter on the D-Bus test session

commit 7cea1ec279c2608727764dec65790f22b45af3d3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-11 23:01:08 +0000

    test-si-tubes.py: Fix comment

commit 2706f6897293862ca47699551bb5f7a798df64cf
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-11 20:03:37 +0000

    Test AcceptStreamTube: test bad parameters

commit a2ae0845009d79eca85fabfda823ca4b70bf2279
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-11 20:03:07 +0000

    AcceptStreamTube: handle bad parameters correctly

commit 96ad67c3b6e7b9b4b32da162475d04b0740a7f69
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-11 19:35:09 +0000

    src/tube-stream.c: Fix: set the address type correctly on the new tube iface

commit e40021e94fbc687d00a5279ff7ec1186b3df2c7d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-11 19:17:02 +0000

    AcceptStreamTube: test both unix sockets and IPv4 sockets

commit e9ab1c775c48a210b001e058589db1a1eaebd536
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-11 18:35:57 +0000

    test-si-accept-tubes.py: Remove dead code, clean up

commit abe38bf926ab4550d422e3713d0614acfc558ea9
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-11 18:22:22 +0000

    New test: Accept a 1-1 stream tube

commit f28a1b3f3f8f16d95d9e804ad5c6137f0387cf93
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-11 18:03:39 +0000

    GabbleTubesChannel: Emit the NewChannel{s,} signals when a stream tube is created as a result of receiving a tube offer from a contact

commit 9180779383eb14aee3422e24894a445b2f2ba5a0
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-11 15:59:46 +0000

    test-si-tubes.py: Test to offer a stream tube to a contact that does not advertise the tube capability

commit 1c2329dd5a3260a5e0ec1266dfdf2dfb849f24dd
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-11 15:20:49 +0000

    Stream tubes: Check access_control in gabble_tube_stream_check_params() for both OfferStreamTube and AcceptStreamTube in both old tube interface and new tube interface.

commit da04a2aadcfe2f310815adf90584d0485f54f8f0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-11-11 13:17:03 +0000

    Add a regression test for sending and receiving chat states

commit d0b73df900b8a6b15ff40a7e034233a16540fc51
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-11-11 13:12:59 +0000

    ImFactory: fix receiving chat states
    
    Previously, chat state nodes were ignored if the message *did not* contain an
    <error/>; the sense of the test was inverted

commit df74100c7af2dc24742d1de0ab56cd13bcd49923
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-11 12:45:49 +0000

    Revert "Stream tubes: AcceptStreamTube: only accept UNIX sockets."
    
    This reverts commit d0a66d6ff89010c0b78f2db42c7ce0fcd5e666a1.

commit d99a856c949f41b9a7e4912994be89a2f4523e56
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-11 11:43:42 +0000

    Some SOCSK5 tests were actually testing IBB

commit 653b2910ad26c10803a6067032bfc9514d988383
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-10 17:08:11 +0000

    src/private-tubes-factory.c: Fix: do not send the NewChannels signal twice

commit 8fff72c033b79408296430745b18bdeac67c7846
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-10 16:51:54 +0000

    src/private-tubes-factory.c: English: "either, or"

commit 3b48d6c8c59bea9100f86dd152414d365543bd5d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-10 16:50:57 +0000

    src/private-tubes-factory.c: Better English, again

commit d3bce54cd7ad2db173cafa4fc64b481424577264
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-10 16:49:36 +0000

    src/private-tubes-factory.c: Better english, thanks to Will

commit 6d7570da3c0a9455800eb7afb206fd8a6c19dd45
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-10 14:53:26 +0000

    src/connection.c: Use g_value_array_free to free enhanced capabilities

commit 3d36c67c1fd89bf17f31f60471885455fb5455f8
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-10 14:53:08 +0000

    src/connection.c: Use g_value_array_free to free capabilities

commit 76e37b75629cda586eab3fbfa2efef2e0824d95c
Merge: 2a39510 334a12f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-10 12:28:23 +0000

    Merge branch 'master' into alban-enhanced-caps-with-complex-types

commit d9eddaa5706001aced87e5c2af60a8b245cc484e
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-10 11:24:41 +0000

    Don't leak the channel that listens for incoming socks5 connections

commit c14b74055985f301c0c5221f597e4893f9bcb159
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-11-10 10:55:29 +0000

    text-text-no-body: xep 0085 says "every content message SHOULD contain an <active/> notification."

commit 4470d761b1ea22345f01a3267e4b0c60c4600003
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-11-10 10:54:23 +0000

    tests: add Chat State xmlns to ns.py

commit a70cd6a54dcc3315be40c6897081babca5d1e0fb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-11-07 19:05:40 +0000

    Muc: emit failed delivery reports rather than SendError

commit 9cea1adf4f91a68c75b3e308b66c12b77cffd8d6
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-07 18:50:20 +0000

    Move the duplicated SOCKS5 channel setup to a function

commit d135026dbc6f4127a47a842c5ee4bfbaf2cd5484
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-07 18:34:52 +0000

    Handle errors when listening on the SOCKS5 socket

commit 42669126b2d97e729a9fd38018d038bf4ca1ee12
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-11-07 18:29:58 +0000

    Map <not-authorized/> to Send_Error_Permission_Denied

commit dd88540ce55e2157c75cd1f964802c63adfe4963
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-07 18:24:07 +0000

    Don't fail if the streamhost suppports more than one auth method

commit 9d82a4774ba0b8a7b483a7ad4d9d16b5aacc89ba
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-07 18:01:11 +0000

    Remove a now useless assert

commit 7ded8b9f5eb1d441b2161fe706d4613d5e7d4f9f
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-07 17:59:20 +0000

    Free the buffers when the SOCKS5 GIOChannel is closed

commit c64dc321bfccd8bf35f57c0860218f5b97e61cab
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-07 17:55:25 +0000

    Don't the the GIOChannel is case of connection error

commit 6de94d54c30a2500c08da7b2308ca385d454cf48
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-07 17:50:15 +0000

    Don't define twice the same variable

commit 8c2553a43a6a40ef7fdc1633f7b1282387aa0052
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-07 17:40:57 +0000

    Handle errors on the SOCKS5 bytestream

commit 087693be39a5ed0608c14f968b8b937db6b9ee94
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-07 17:30:21 +0000

    Send a valid SOCKS5 connect command instead of dummy data

commit fe77f6fa27c805b9aa0cbbc55e799553a1aaa5b0
Merge: a646843 334a12f
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-07 16:58:58 +0100

    Merge commit 'upstream/master'

commit a64684335538c3f2529f756e268bd79dc2334c67
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-07 16:58:02 +0100

    GabbleMediaChannel: advertise jingle-v0.15 and jingle-v0.32 dialect support

commit 4bcdf1735901f7c31343081e0ca181f8f645bfc2
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-07 16:57:31 +0100

    JingleMediaRtp: use proper namespace for RTP

commit b107866913e972ecf5bb3e2cc55e8ecd6f220a61
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-07 12:53:57 +0100

    GabbleJingleSession: count streams being initiated by remote peer as "active" so we don't remove the session if only they are left.
    This happens when we want to reject some streams initiated by peers "session-initiate" action

commit c83eaf6cc3db5ba1f6145f33782b15b7269592c7
Merge: c3d2888 334a12f
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-07 11:33:17 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble into socks5-bytestreams
    
    Conflicts:
    
    	tests/twisted/tubes/test-si-socks5-tubes.py

commit 2af7bc06b8e56d0fe367eb1a95691c7f0a499b65
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-07 12:28:19 +0100

    GabbleMediaChannel: set media type when creating the stream

commit 9f8ebe31997986972ab049a6ea8be1f781775496
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-07 12:27:27 +0100

    GabbleJingleSession: fix check whether session contents are ready

commit c3d2888e71a4bd915ecbfc440bcead90f1088a79
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-07 10:49:19 +0000

    sha1_hex accepts a guint for the string length so don't pass -1

commit adc7977a0133b990584cf792949683932ff221ce
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-06 21:44:22 +0100

    allocate/free helpers for JingleCodec and JingleCandidate structs

commit 5ec17d486353ccfd2636874838c3ccd07d9bd3f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-11-06 17:25:33 +0000

    stop to use g_warning and use DEBUG instead

commit fcd03d84cb87df45743aac7a26f27cdfd83cbb92
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-11-06 17:16:35 +0000

    make warning crashers when running tests

commit 334a12f82a4dc02a0418469f7aed217d9835a8fc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-06 11:12:22 +0000

    Fix race condition in roster/ensure.py (fd.o #18404)

commit 22383483c0dee0c3ea85e4627198a23f6bb9c3e1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-06 10:19:35 +0000

    Start 0.7.16 development

commit 7db78d114a171c9e1b972b92359803c8c6e1837d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-06 09:53:36 +0000

    Prepare release 0.7.15

commit 413ef7e44b8c00ed94f0bea77173cb80abe5d8e8
Merge: 31246e1 4367222
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-06 09:40:19 +0000

    Merge branch 'trivia'

commit 31246e15627deb425d0f8c5a7fa6b73fa862e5f1
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-06 00:09:18 +0100

    gabble_media_stream_new_native_candidate(): properly scan transports and get candidate numbers

commit 8173aa14e28800f727601b4fb4e1f5e11e4ef484
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-11-06 01:41:09 +0000

    IMChannel: attach message-received to the right bit of delivery reports

commit 18d9528c75eb2ee92bd30f6a308c778603e6b2dc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-11-06 01:11:45 +0000

    IMChannel: report whether send errors are temporary or permanent

commit f8a646b03a10ae508942ffa6272d12e844f5f58d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-11-06 00:53:00 +0000

    parse_incoming_message: return TpDeliveryStatus based on error type

commit 8e0546224d718928d2f8c5922bb6a3886dca818c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-11-05 23:55:03 +0000

    gabble_xmpp_error_from_node: extract type attribute from <error>

commit 794a57d419dbcdb5e2a96415271e0a40324dff92
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-11-05 18:31:30 +0000

    ImChannel: emit failed delivery reports in response to incoming errors
    
    TpMessageMixin emits SendError on top of [Message]Received when such a
    delivery report is passed to _take_received().

commit a8088a4cf1e5c4e296bb94fcb5ad7f49a2870fc3
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-06 00:09:18 +0100

    gabble_media_stream_new_native_candidate(): properly scan transports and get candidate numbers

commit c9d7f246d6e7e1419830921cabb5fa3657f85106
Merge: 28d2e6b 8e1c9f8
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-05 23:42:56 +0100

    Merge commit 'upstream/master'
    
    Ported commit 169ca96800606c9dee18ffbbeff591d61315ff2f to the new jingle code
    Conflicts:
    
    	src/media-stream.c

commit 28d2e6bc63c335e3d2c273d0ff9324a6a481ca7d
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-05 21:40:36 +0100

    GabbleJingleSession: fix gtalk3 detection on "candidates" jingle action

commit 14052102666471bd5dadfc05caec180350e0815d
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-05 21:18:05 +0100

    GabbleMediaStream: hook up jingle "senders" and stream direction logic

commit 663a26eaae7435288c576f0b96ccd17462842612
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-05 21:17:22 +0100

    GabbleJingleContent: destroy timeout timer before content is disposed

commit c2060eacd6ed6423ebc012a2b1e51f3c71c4ffa2
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-05 20:10:09 +0000

    Testing sending another working <streamhost> but that should not be tried

commit f5870343ad099ad18a13a4445158cf9dd18a320e
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-05 20:07:12 +0000

    Test sending more than a single <streamhost>

commit 9d6794fe085652acb17641f95d8c492e4aabfaa8
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-05 20:38:46 +0100

    GabbleJingleContent: implemented timeout for content addition

commit 03b793bfc8ded00a10c9ea0299ebf42a16bb28b6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-11-05 18:28:42 +0000

    Use "content-type" message key rather than "type"
    
    This was changed in spec version 0.17.14

commit 6432ba5b72d09ddd24e5531d81eb361fd6ccdada
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-05 16:46:10 +0000

    Don't leak the streamhosts list

commit 8f177d3094f7f5925e605e35ad2e6dd254ebbb01
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-11-05 16:02:18 +0000

    Pass TpDeliveryReportSupportFlags=0 to tp_message_mixin_implement_sending

commit 0631e14a1dd62acf07da2678b230e96ea082f3dc
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-05 15:18:28 +0000

    Remove an outdated comment

commit 7e6003d52412c33813c24f6aea612e41693ee979
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-05 14:57:50 +0000

    Set the domain name when sending a SOCKS5 connect message

commit 43672228b9b1d4a9cf3fb8a85f3381d1df06f265
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-05 11:53:38 +0000

    GabbleMediaFactory: don't redundantly validate TargetHandle
    
    TpBaseConnection already checks it, so we don't need to do so again.

commit f44ae32398c0691a4c8de367eb49ef0bb067149d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-05 11:53:06 +0000

    GabbleMediaFactory: don't advertise anonymous channels as requestable
    
    Spec compliance: RequestableChannelClasses is only meant to contain
    channels requestable via CreateChannel/EnsureChannel, which for us
    means only channels with TargetHandleType == CONTACT.
    
    Given how many projects cargo-cult code from Gabble, it's good for
    our code to be exemplary here.

commit 1a284e4faf69c38a28198d99ba84ef53b543545a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-05 11:48:32 +0000

    GabbleMUCFactory: don't redundantly validate TargetHandle
    
    TpBaseConnection already checks it, so we don't need to do so again.

commit 46a7679cfaa475c0d69f8f6d0297431854ec5b90
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-05 11:48:21 +0000

    GabblePrivateTubesFactory: fix misleading error message
    
    Cut and paste error from GabbleIMFactory.

commit 67d5d0f8ae71e39858b3809f5c2504307c004b7c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-05 11:48:01 +0000

    GabblePrivateTubesFactory: don't redundantly validate TargetHandle
    
    TpBaseConnection already checks it, so we don't need to do so again.

commit b965bc333e8b533bf21a4448ddf68c399d233777
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-05 11:47:19 +0000

    GabbleOLPCGadgetManager: don't redundantly check TargetHandle
    
    TpBaseConnection already checks that the arguments are internally
    consistent, so it's sufficient to check TargetHandleType.

commit d1e95966d5a11d1260c28374b8cfc9bf1bf932b4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-05 11:47:02 +0000

    GabbleRoomlistManager: don't redundantly check TargetHandle
    
    TpBaseConnection already checks that the arguments are internally
    consistent, so it's sufficient to check TargetHandleType.

commit 9dbdc8ae3707acd0ba4977a5519215429be48791
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-05 11:46:15 +0000

    GabbleIMFactory: don't redundantly validate TargetHandle
    
    TpBaseConnection already did this.

commit d2b4ed33ba94aa605fcfaf4162dac4342c8b1383
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-05 12:45:24 +0100

    GabbleJingleSession: retransmit candidates if gtalk3 dialect is detected in the middle of the session

commit d1721b8c44f0e6aa66b7d7a9f2c3bdb66325f752
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-05 12:43:42 +0100

    GabbleJingleSession: removed stale fixmes

commit c4d5ba9489e5e783a9a09675e953a0d6c7767134
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-05 11:33:34 +0000

    GabbleTubeIface, GabbleTubeDBus, GabbleTubeStream: use G_PARAM_STATIC_STRINGS

commit ff9b82ba56a68602f75c8889e0f3a0e2fad20088
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-05 11:33:11 +0000

    GabbleOLPC*: use G_PARAM_STATIC_STRINGS

commit c92dd539270bb67d7d863e336413c46853ab9140
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-05 11:23:32 +0000

    GabbleTubeStream: add immutable Interfaces property to channel details

commit 9b376b3e75d2a29013565080b57e98b5b4c93d4d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-05 11:23:16 +0000

    GabbleTubesChannel: add immutable Interfaces property to channel details

commit df05f5b2cfcb49d2d3bf565373a1dc2763f7b030
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-05 11:23:00 +0000

    GabbleRosterChannel: add immutable Interfaces property to channel details

commit 865828bc514ab51445e2993c1d004c10a2645ad3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-05 11:22:46 +0000

    GabbleRoomlistChannel: add immutable Interfaces property to channel details

commit 44aa6863a33bc5d28b35c3cbe6761ca1078629d1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-05 11:22:30 +0000

    GabbleMucChannel: add immutable Interfaces property to channel details

commit 1afdd06a13289dfcd18ff3eebd5d535ce2a40acb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-05 11:22:11 +0000

    GabbleMediaChannel: add immutable Interfaces property to channel details

commit 3a81de7f142829c4b6eff8efa846e724bd991f03
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-05 11:21:53 +0000

    GabbleIMChannel: add immutable Interfaces property to channel details

commit 945ffcc5a7b48ed34a51cce6f8cb1f6e1e132ee7
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-04 22:35:59 +0100

    added jingle headers to Makefile.am sources and documented obsolete jingle namespaces

commit 8e1c9f8b11346bd91683fbd231669394fd5c4842
Author: Olivier Crête <olivier.crete@collabora.co.uk>
Date:   2008-11-04 15:08:01 -0500

    Get the right component

commit b6d25b6af85d4f1fce8434b7c46ea5a4e18650c2
Author: Olivier Crête <olivier.crete@collabora.co.uk>
Date:   2008-11-04 15:01:34 -0500

    Don't reject candidates > 1, just ignore them

commit 80e0881cbd981dec4937fef076c4efa14fb77940
Merge: 01d1aa2 904bb6b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-11-04 18:24:36 +0000

    Merge branch 'master' into messages-prime
    
    Conflicts:
    
    	src/im-channel.c
    	src/muc-channel.c
    
    (due to Destroyable and the Recovered and Scrollback flags having been
    implemented in parallel using the Text mixin)

commit bf8c4a829d7c41f182bfce1b45fb261f18cdae11
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-04 18:00:14 +0000

    Send <streamhost-used> when connected to a streamhost

commit 3b1c680f782dddc32593d41c9a97ccb101e3b79f
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-04 17:58:32 +0000

    Document lm_iq_message_make_result

commit e7176c6310267f3c883c2128867f558c7fa2f966
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-04 17:49:18 +0000

    Move _lm_iq_message_make_result to util.c and rename to lm_iq_message_make_result

commit e90f1a7d57695d47c5570a3a8e4bea17d47e2223
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-04 17:47:52 +0000

    Store event.properties['transport'] in a variable instead of always using the dict directly

commit 6bf7de8fbeaf379476c9a9bb754f1eb7376db576
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-04 17:43:43 +0000

    Verify that gabble sends a streamhost-used tag

commit 580dbd0b17c74000c104755c261b66f91b8fe529
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-04 18:31:49 +0100

    jingle-session.c:content_ready_cb() removed stale FIXME, content addition is properly handled

commit f61a33492b5f05948b1d26c18b959705c19c31ee
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-04 17:26:21 +0000

    Update glib-ginterface-gen.py from telepathy-glib (no significant changes)

commit 9362b01a5f4fc99084d54ffc5cb8dffe99c1a1b7
Merge: 088b165 a9d523d
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-04 18:25:07 +0100

    Merge commit 'upstream/master'

commit 088b165d4d1a90087ade419b4b978db42ec31070
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-04 18:23:59 +0100

    jingle tests: fixed race in one, and disabled other test due to race conditions

commit a9d523da53eb9730ac30e9de6e4edf06b5e4f31b
Merge: ce81797 89642f5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-04 17:22:00 +0000

    Merge branch 'trivia'

commit 89642f51ec1f4123de8cad90a12c89b07307b857
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-04 17:20:00 +0000

    Update tools/telepathy.am from telepathy-glib so it will upload the signature

commit e43f186238c1ccb7efc371aac818f2e99f87d1e5
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-04 17:58:49 +0100

    jingle code: comment improvements, added missing forward declaration

commit 57c97738a99505a356f090484abefc2c46952335
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-04 17:43:18 +0100

    removed unused JingleTransportIface produce method

commit 3159f3264b866cc751d9c7705f12425d16c16e35
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-04 17:37:20 +0100

    improving jingle code readability

commit 8e62349d60621e68780dbcb6d95793f4de68baa8
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-04 16:50:01 +0100

    media-stream.c: fixed two trivial bugs

commit 0abc600198a3114b813da9e8332833d6c882fe5c
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-04 13:51:41 +0100

    removed unused JingleContent "ready" property

commit ce81797b1e2626a6f6793ab998e71a81a78990d4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-04 12:49:23 +0000

    Start 0.7.15 development

commit 6d19e170ebf7b0e0c7cde188c1556a6e6a6e2bdc
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-04 12:42:12 +0000

    Add an empty S5BFactory.clientConnectionLost to make twisted happy

commit 747abddfc8efe13fb1c34c5d64e2193c10ae52c8
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-04 13:39:36 +0100

    media_stream_stream_state(): ignore illegal stream states

commit 298c88b9f6d199bd9fd1950686881432be394911
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-04 12:36:29 +0000

    Use getifaddrs to get the local IPs if available

commit 6199c8e04d52eb076096b7ca2186c5f91c2817e6
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-04 13:30:16 +0100

    properly pass extra codec params between jingle and telepathy

commit b6ac94607e5174ba06a1b8087e9b8ad5eb17871f
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-04 12:22:56 +0000

    Obtain the list of our addresses and send them instead of hard-coding localhost

commit 79275e9c7b7da81465210292d3129e447626f260
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-04 12:44:11 +0100

    use g_slice for allocating JingleCodec and JingleCandidate structs

commit 1865e79abaa4401d020e29917e05cd9dd316a22d
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-04 12:27:46 +0100

    media-stream.[ch]: dead code removal

commit d39a421cd74640db1e679754a273c134dfc7378f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-04 10:55:40 +0000

    Prepare version 0.7.14

commit 00271b0deedb2ba0698f492eef055981d6bab3c5
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-04 10:45:23 +0000

    Listen on a random free port instead of a hard-coded one

commit 6532d1150de4bf6d71b57664325f3403cfba0d42
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-04 10:41:12 +0000

    Update NEWS

commit 1ca8e5700351d3a905f6e05aeb67d47db20b9d96
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-30 15:19:49 +0000

    Remove redundant g_object_get call

commit 904bb6b1c1bf5b47ba62d0e1165a7af4f3725ee1
Merge: 22876b3 666ec38
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-04 10:22:45 +0000

    Merge branch 'compliance'

commit e56aae7443811c16c690e40edf80e0dfd58f02dd
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-04 10:51:24 +0100

    enabling twisted/jingle/test-incoming-call.py

commit 9043691cd74d790175dd01bcacb88042816e2297
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-04 10:46:41 +0100

    removed unused jingle-description-iface.[ch] files

commit 8d84d2205e74f42225f579929859cff6506859ab
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-04 10:45:29 +0100

    renamed Jingle capabilities and namespaces to make them more consistent

commit 19f84d1ffcb797c1fab656f51b9315ba63168a76
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-04 10:20:43 +0100

    reordered private headers and makefile sources in alphabetical order

commit 0069b41ce15b941eef9eb98c9059bd377954513a
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-04 09:56:53 +0100

    taking advantage of static typechecks for Jingle*Private

commit 2a395100c5f528ea81c3efd66d6c86abe81632da
Merge: a968f76 22876b3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-03 19:24:14 +0000

    Merge branch 'master' into alban-enhanced-caps-with-complex-types

commit 22876b36e5e3fc97dc11d9b4d36b0813a46e4e1c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-03 19:14:44 +0000

    Fix usage of gabble_tube_stream_close (see bug 16797)

commit e1d4d07834e4078dacdf624510e58a5c5b992ea9
Merge: 3a75959 d0a66d6
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-03 19:08:53 +0000

    Merge branch 'alban-request-tube-channel'

commit d0a66d6ff89010c0b78f2db42c7ce0fcd5e666a1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-03 18:49:16 +0000

    Stream tubes: AcceptStreamTube: only accept UNIX sockets.

commit 4753f4db7ad909febaed4809766c11f1d31badf3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-03 18:46:39 +0000

    src/tube-stream.c: Fix a leak in get_property for PROP_CHANNEL_PROPERTIES.

commit a067310bc5e9293072712c06b31bdfd0e7a97f6f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-11-03 18:41:41 +0000

    src/tube-stream.c: Fix a leak in get_property for PROP_SUPPORTED_SOCKET_TYPES.

commit 666ec3814101593a4c1f3887e0273a846e138497
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-03 18:25:22 +0000

    test-capabilities.py: adjust for telepathy-glib 0.7.18

commit 3756aaba5da0796bacbeffc2f67f8d4c46b9243c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-03 18:22:52 +0000

    text/destroy.py: expect the final Destroyable interface

commit 3cdd72a6423f9d4fe70ca45ec00a3249e7a99ee9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-03 18:22:38 +0000

    text/respawn.py: expect a rescued message to have the RESCUED flag

commit af6f015c06f99a55198ac12baadff929f53f49af
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-03 18:22:17 +0000

    test-muc-accept-stream-tube-ibb.py: fix a race
    
    Previously we assumed that the Tubes channel would always be
    signalled before the Text one. With telepathy-glib 0.7.18 this is
    no longer true.

commit 03e1c4b70ecc8d56960752133776f474f8fe5839
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-03 18:21:34 +0000

    tests/twisted/test-set-status-idempotence.py: adjust for telepathy-glib 0.7.18
    
    The library now complies with the spec, and returns contact-id for
    all GetContactAttribute calls, even if o.f.T.Connection was not
    explicitly requested.

commit 7475a6bba58d4667d4a925e86fa2cc1be6b56cae
Merge: 3925134 3a75959
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-03 18:07:20 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble into socks5-bytestreams

commit 175c050f9e516fbfef21720846779e703e5fe1f9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-03 17:57:07 +0000

    tests/twisted/roster: expect CreateChannel to return before NewChannel
    
    Spec 0.17.14 compliance in telepathy-glib 0.7.18

commit b60987e6f652677ed2b286c66e2e71c317238da1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-03 17:56:28 +0000

    tests/twisted/roster/ensure.py: expect that EnsureChannel returns before NewChannels is emitted
    
    Spec 0.17.14 compliance in telepathy-glib 0.7.18

commit 3925134184a6cfab99d79421347b6b076c9e31ea
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-03 17:24:14 +0000

    Remove a debug print of the data received from SOCKS5

commit 3e1fbcbcf9bbdef8291652ef58fa2a2affb6a4e0
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-03 17:23:42 +0000

    Rename the IBB test in the Makefile and add the SOCKS5 one

commit 0c70cf401cb1586874eb0d7e41527247776afab4
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-03 17:18:17 +0000

    Expect to receive SOCKS5 as the bytestrean method preferred by the CM

commit 8cfb49d8383948f3002bffe51f449ed4e61d06bd
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-03 17:16:17 +0000

    Add a test for SOCKS5 tubes

commit 5337cdf27393e6b47b33f85a3d8137958ebbbd30
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-03 17:02:29 +0000

    Rename the SI test as it also tests IBB

commit 63cb96afac15558a550a9c95bbf8cbef209b4789
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-03 16:08:56 +0000

    GabbleMUCChannel: set the SCROLLBACK flag on discussion history

commit 62210fc973847af0692d99b75c7b328b377c05ac
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-03 16:54:57 +0000

    Support streams opened by the remote host

commit 650513e6166461ee836014f1e91a65decb971db1
Author: Marco Barisione <marco@barisione.org>
Date:   2008-11-03 16:53:02 +0000

    List SOCKS5 bytestreams among the supported methods

commit 1c707be94ce1a708d7a9f46e8f0fd6fca75446e8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-03 16:07:13 +0000

    GabbleIMChannel: when rescuing a channel, set the rescued flag

commit 3aef23a97e6cb7416632502b3362f4a76296bc05
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-03 16:02:19 +0000

    Revert "extensions: add Destroyable draft"
    
    This reverts commit 2f9c9f689539c379a9c3754705b5e0eac9479e18.

commit 5d6e3545e6afe2d8eb5e7b70be290f9ea2346e79
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-03 16:01:36 +0000

    Require telepathy-glib 0.7.18 (for Destroyable)

commit 25dd050b2a01c4057d3154276506d69cea023f5f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-11-03 16:00:49 +0000

    GabbleIMChannel: implement the final version of Destroyable

commit a6710c81d82e0aaddd6b38f00f8ba55ec28ce88d
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-03 09:18:42 +0100

    simplified debugging messages in jingle code

commit 51323a39ed7f7d360fb5809d945c165988dd11da
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-03 09:02:26 +0100

    JingleSession: refactored parsing code into detection and parser part

commit a1ac264e9d67bb53c4529bf51152c8c68e351958
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-03 08:01:32 +0100

    JingleSession: use enum->string->enum functions instead of table lookup

commit 01d1aa2acbadc02bf43dfc2495f9ebc705bb5bd7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-11-02 17:57:10 +0000

    Note that delivery reports should be emitted whenever SendError is

commit 65bf93fd8c2beb11d3fb7ce3ca6deec6ab5d4721
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-11-02 17:46:35 +0000

    Muc: emit delivery reports in response to echos from the MUC

commit 8e301baaf3522b48c653fa18c6e8902fac4b39b5
Merge: 48e7dcf 3a75959
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-11-01 12:30:57 +0100

    Merge commit 'upstream/master' and fixed merge conflicts
    
    Conflicts:
    
    	tests/twisted/gabbletest.py

commit 48e7dcfd1d564a215e140a490243b275544b635d
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-31 22:10:07 +0100

    test-content-complex.py: test each dialect only once

commit c1dbf0180c60b38d6300c20c553ae6b16d4654fc
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-31 22:08:52 +0100

    new test for various content addition and removal scenarios

commit 7c75a9390bf95e2e3e897c318f5331d421da7932
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-31 22:05:48 +0100

    fix crash if content remove is acknowledged after session termination

commit 01bc22053d3c6a032c25f90cbff4a545dbe72b3d
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-31 20:46:37 +0100

    JingleMediaRtp: signal error if media type is unrecognized

commit f7b7363fa403f9a9bc9c110e91c476f9aa67c40e
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-31 20:45:57 +0100

    refactored and simplified content removal code

commit 0aba0cee128c020125e65b5181c7532d2c859a14
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-31 17:22:49 +0100

    in functions taking format string and arguments, explicitly specify format string

commit 3a75959dc4e72632c340ebf7ba0e7cd5467c50da
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-31 13:03:40 +0000

    docs/tubes.xml: Better explanation for closing 1-1 D-Bus tubes

commit e196ac87514367f370462bff30d8283ca8764c13
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-31 12:47:26 +0000

    docs/tubes.xml: How 1-1 D-Bus tubes are closed.

commit 03ddfea7107c05fd424e0ddc7d707c630db0c28d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-31 12:37:48 +0000

    Closing tubes: Replace "local" parameter by "!closed_remotely".

commit 1d773800f4599cdb5ef193a8ebf71a9ada136406
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-31 12:33:33 +0000

    src/tubes-channel.c: Better debug message when the tube ID already exists

commit 20aeb6b2532b5b620f10cd97de99a0f3f44157b9
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-31 12:23:57 +0000

    src/tubes-channel.c: Remove the FIXME, since it is fixed

commit c977a6dc0a36b98658d5f071fb16d89fbd3bc31c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-31 12:18:50 +0000

    src/tube-stream.c: coding style: add space

commit 500fb5bf2803361954dcfa9afd07947e90125ccc
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-31 10:05:02 +0100

    Updated gabble_jingle_session_send and callback prototypes to match the new code

commit 36a241dbd1e22f0a049118d6874117e4f066b668
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-31 10:02:22 +0100

    properly dispose of MediaStreams when content is removed or rejected

commit 69afdf2ac76300e3c3764c954efe34f57fa86e16
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-31 00:26:49 +0100

    change session timeout back to 60s and allow content-remove before session is accepted

commit 51544bf01747e5a3cf4c23bd077ce8b3eba6b32e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-30 21:22:34 +0000

    Fix bug #16797: do not send the tube close stanza from both ends. Only send it when the tube is closed due to the local user.

commit 34bb171b12b4c3f88783275046ee1f3f52236b30
Author: Marco Barisione <marco@barisione.org>
Date:   2008-10-30 15:15:21 +0000

    Add an initial implementation of SOCKS5 bytestreams

commit fd750101f49228f8d51227a0ae9b4f14a91aee02
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-30 11:34:57 +0000

    Add a test-case for Destroyable.Destroy()

commit 8f7234575a7a3d9589cbfef9fe9c5222999b1fe1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-30 11:33:48 +0000

    GabbleIMChannel: implement Destroyable

commit 2f9c9f689539c379a9c3754705b5e0eac9479e18
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-30 11:33:30 +0000

    extensions: add Destroyable draft

commit c2365bcfd0a738aaf91360e6282e87228ecf9882
Merge: 92036f8 675e409
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-29 14:16:54 +0000

    Merge branch 'alban-refdbg'

commit 675e4093f5165eb7efb7a4a284bb84976725acca
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-29 12:34:15 +0000

    Tests: refdbg: fix README and let the user use a different refdbg

commit 7f3f4fdcc64cd6ff428ef39901ad6824b69070cc
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-29 12:07:13 +0000

    tests/README: add an example how to use refdbg

commit 4e3569981be65a31061221731d2b7a4c1c4fa32b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-10-28 18:10:33 +0000

    muc_channel_receive: remove unused is_error flag

commit a968f760d0d9ea3858279490def0767434b54a82
Merge: 7f1dacd 9faed8a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-28 15:15:38 +0000

    Merge branch 'alban-request-tube-channel' into alban-enhanced-caps-with-complex-types

commit ce853e30fa0e654c22890773f38a21a3edf95087
Merge: 9f56ff8 96e93d9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-10-28 15:10:06 +0000

    Merge branch 'master' into messages

commit 9faed8a8675b5b466b4764c96c7bbabbf365aa41
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-28 15:07:57 +0000

    Set access control on o.f.T.Channel.Type.StreamTube.AcceptStreamTube.

commit 9f56ff81e18792867ca3d2dc85b7a322972d5d15
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-10-23 19:18:38 +0100

    message-util: simplify XMPP -> Telepathy enum functions

commit e3df74f1f08e61607e2a555ceedd485f40ef0b71
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-10-23 18:59:18 +0100

    _parse_incoming_message: extract XMPP -> telepathy enum conversions

commit 3efc89eb746326233d3793ec93ac2fae19eb57c6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-10-23 18:38:15 +0100

    message_util_parse_incoming_message: add documentation

commit f455c390cf481df37c160593170795d6b1498d38
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-10-22 13:58:21 +0100

    Remove GabbleTextMixin, which is now unused

commit 36a6e48d3ec3f18d4e8f883e6d40af1896f58156
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-10-22 13:24:34 +0100

    MediaFactory: remove unneeded #include "text-mixin.h"

commit 20ec0d38e535da7a157e0275225d122648c0cba0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-10-22 13:21:42 +0100

    Move gabble_text_mixin_parse_incoming_message to message-util, renaming accordingly

commit 913c742434ab9c310fd6b3843f39c0c19ca3166a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-10-23 12:20:26 +0100

    test-muc: sending and receiving using Messages

commit 4814bb2f2fe9dd8081a10b9eeef62eea4a8da1ba
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-10-22 12:49:52 +0100

    MucChannel: use TpMessageMixin rather than GabbleTextMixin

commit 277ad45cf5d9b2220acd98967adf25325f49c570
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-10-18 13:47:08 +0100

    ImChannel: Test timestamps of delayed messages with Messages interface

commit ca5ede7e846f1e5621d5464750a636708038deb3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-10-18 13:33:50 +0100

    ImChannel: Test sending and receiving using Messages interface

commit a0a0719b7661e1d1342a80d0a7d65d1e2dc8c760
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-10-17 16:21:46 +0100

    ImChannel: use TpMessageMixin rather than TpTextMixin

commit 06eeb401932b86075cca0c07b2cb38196a7dd34d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-10-16 22:01:19 +0100

    Add two functions based on gabble_text_mixin_send to send messages and chat states

commit bfc19c67077fa682d824573763ad400bab281b6e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-28 15:02:37 +0000

    Tube access control: fix again the error message according to what it does

commit c57ed7fddba8bbf6ea193266ad72ebb8abfef346
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-28 14:50:19 +0000

    Tubes: check for Localhost access control list only for Unix sockets

commit 92036f833d9cb6a7d496a864d696cae6bac6990e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-28 14:49:42 +0000

    version 0.7.13

commit bb9c166c0ed5b9b8d1f08e5a427f40fd2dd0f680
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-28 14:45:31 +0000

    version 0.7.13

commit df840d7534acfd76cc2032676714b12b42aec140
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-28 14:45:04 +0000

    Update NEWS for 0.7.13

commit f9fd999c649774360efb8ee85a180c9f2544f8d4
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-28 14:44:48 +0000

    src/tube-stream.c: Close the stream tube channel propertly when o.f.T.Channel.Close is called

commit 96e93d9a9205e66ce78ed657c75f954f41b3e2c6
Merge: ce70934 0c60528
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-28 14:33:25 +0000

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble

commit 7f1dacd36aeb753a2e41988f6333c164b1c51965
Merge: 2883f77 4f5474e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-28 14:30:26 +0000

    Merge branch 'alban-request-tube-channel' into alban-enhanced-caps-with-complex-types
    
    Conflicts:
    
    	extensions/Channel_Interface_Tube.xml

commit 0c605289189c7d9b9a439861c83d37388d4581ea
Merge: 119605c e9c43e0
Author: Dafydd Harries <daf@rhydd.org>
Date:   2008-10-28 13:35:13 +0000

    Merge branch 'tests'

commit 4f5474edae4d6f1de3064c6fdd0ca12db453ec71
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-28 13:11:25 +0000

    GabbleTubeStream: implements D-Bus property o.f.T.Channel.Type.StreamTube.SupportedSocketTypes. Add a basic test for it.

commit 7bcd71305b9aabc5881a78c64928d9f17813c61e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-28 12:57:43 +0000

    GabbleTubeStream implements the o.f.T.Channel.Interfaces property correctly

commit 6ef9c8eda65f79168063687d563c5f23fe86324d
Merge: eca4235 119605c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-28 11:20:42 +0000

    Merge branch 'master' into alban-request-tube-channel

commit 76948d58bc0838504a335e61cdb52bf08c8e9cc3
Merge: 7ecd3f7 119605c
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-27 22:30:29 +0100

    Merge commit 'upstream/master'

commit 7ecd3f7b36caf0e0024990f075843294e7cce76f
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-27 22:17:00 +0100

    Actually use the new Jingle dialect tests

commit e15168f9db97244bb5d2d9260b5dd5c948194c90
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-27 22:15:14 +0100

    Added tests for incoming and outgoing calls in all supported Jingle dialects

commit 95b437655d46dcd3865bb44fb44f5f7cd767d81d
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-27 22:14:40 +0100

    Added new API and helper methods for writing cross-dialect Jingle tests

commit 0422ef98116fb40c82455196cf62abf8edb46484
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-27 22:13:46 +0100

    Support for running multiple test functions inside one test

commit 51dda4b1cb2e2e35043ddfe3e68ec457df4530e7
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-27 22:11:25 +0100

    Support for waiting for events that might have already happened and predicate functions to decide if we have a match.

commit fa75d5e9e19ac446ca7ddefcd3edaf2dfcfa3e0b
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-27 21:54:37 +0100

    Update namespaces for the current Jingle version

commit eca423530823a44864e2f8bc60a199e526861128
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-27 19:45:58 +0000

    Tubes: better English in error messages

commit 353c7fb467fd9a5c29cce55fd240d5ab99af1cba
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-27 19:29:35 +0000

    src/tube-stream.c: remove spurious comment

commit d834a7cfd104ca6f81dc756f9e781fb5ac625d5e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-27 19:26:36 +0000

    src/tube-stream.c: Remove a debug

commit 9ed5c338e05c884d3da60b80232718aedd52852a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-27 17:57:52 +0000

    src/tube-stream.c: tubes always have an initiator. Add an assertion if not.

commit 5557afc5ce24c7d9f6def4af23ef582fdafaa50f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-27 17:48:11 +0000

    Tube, update to the new spec: remove "Initiator" property

commit 4d490455b8ac006f8a109a6b5153e1aeb3442f85
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-27 17:47:19 +0000

    test-si-tubes.py: Update tube test with the new spec: Use Channel.InitiatorHandle instead if Channel.Interface.Tube.Initiator

commit 7dc7ebc9f5ec99dcc49ef7e70b0c35326aad9474
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-27 17:43:16 +0000

    Update Telepathy specification in extensions/ from tubes and caps branches of telepathy-spec. "Initiator" has been removed because o.f.T.Channel already has InitiatorHandle.

commit ce70934c9165a149bc9a25be7fe1e1bfd9ef88a4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-27 16:44:37 +0000

    conn-olpc: add a FIXME

commit dea67fede902736ce0dc9dc34cd5a1115e98c215
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-27 16:41:14 +0000

    Invite Gadget to our activities only if we call Publish(True)

commit c8e93f5d7f96f95874237a596dd704c29fa474bc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-27 16:18:16 +0000

    factor out gadget_publish to olpc/util.py

commit 20a4edbca4c539f798f2c72692f65abcc4d776e5
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-27 16:38:56 +0000

    tests/twisted/tubes/test-si-tubes.py: When the test fails, assert instead of just stopping the test

commit 2bb17efcaf81dadfa4ddc7b8f1d8b709912c0fbc
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-27 16:33:41 +0000

    src/private-tubes-factory.c: Fix a leak: hash table for C.T.StreamTube was not destroyed

commit 1ebb4124ebdd2be92e3fbca9c1ba41104df61636
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-27 16:30:43 +0000

    src/tube-stream.c: Coding style: wrapping of function gabble_tube_stream_offer

commit 0a6072332d87d6896ea8e321da1834e504d27239
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-27 16:29:58 +0000

    src/tube-stream.c: Coding style: indentation of properties

commit 5ddb1804770692de9680ac18b3234da4c97ba65f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-27 16:28:11 +0000

    src/tube-stream.c: Coding style: indentation

commit 119605c0d458033ab07f24c401537b6eff63403f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-27 16:25:03 +0000

    remove extra blank line

commit cf226111eba3a12c51666e0a29a9ba26335cdceb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-27 15:30:18 +0000

    tube_dbus_open: use the DBusServer instead of the address to check if the server exists or not

commit a97d51fb74621ecf6be761cd91cbeecd16e3e57b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-27 15:26:35 +0000

    gabble_tube_dbus_listen: free and set to NULL the dbus_srv_addr and socket_path if dbus_server_listen failed

commit 8d3a22f6e74d20bf36088bf85ac479b24b51b1a3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-27 15:23:38 +0000

    tube_dbus_open: no need to check if there is already a D-Bus server as gabble_tube_dbus_listen will do it too

commit 7486a2cef1697ea1ffe0c0310610831574a022db
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-27 15:08:30 +0000

    gabble_tube_dbus_listen: prevent it to be executed twice

commit e35cd7c3312857169504e4c10f89ceba36edd2c8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-27 11:40:51 +0000

    fix typo in gadget-invite.py

commit e9c43e0dc8a12dad6e799f350333b78ae9a751f5
Author: Dafydd Harries <daf@rhydd.org>
Date:   2008-10-24 15:06:37 +0100

    test-muc.py: use MUC utility functions

commit 1b12df943ff3b542f40c07d834cf1b4e628af464
Author: Dafydd Harries <daf@rhydd.org>
Date:   2008-10-24 15:05:30 +0100

    add MUC utility functions to gabbletest.py

commit c15dc677f7942e2c1b4c6bd589c2eed9d67a9927
Author: Dafydd Harries <daf@rhydd.org>
Date:   2008-10-24 15:04:30 +0100

    add namespace for MUC owner to ns.py

commit 7ead98535ed3531416e636c6f88a9be41739756e
Author: Dafydd Harries <daf@rhydd.org>
Date:   2008-10-24 15:02:41 +0100

    remove superfluous blank lines

commit d3bb85bed600c7fc20033d4c17189ab8aa769dda
Author: Dafydd Harries <daf@rhydd.org>
Date:   2008-10-24 14:59:23 +0100

    test-muc.py: remove unused imports

commit 4960e445e5015b82689c00e45ed68e5d9222c636
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-24 14:34:42 +0100

    pass the item_node to _gabble_muc_channel_member_presence_updated

commit 34cf0bf3aac3fa7f4409a9fb8e945e909a1cf6be
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-24 14:11:44 +0100

    muc-channel: no need to check if the item node is present, muc-factory does it for us now

commit fb0dd8b5050c6f6accb76f81324f3e33fbb6abdb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-24 14:11:17 +0100

    muc-factory: discard muc presence without item node

commit 4045947413ded835cb6baea352f93ba29c2c743f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-24 14:02:07 +0100

    muc-channel: remove the gadget check as it's done in muc-factory now

commit b4074075fe4be643318f18dc3c11c816f9602640
Author: Dafydd Harries <daf@rhydd.org>
Date:   2008-10-24 13:44:02 +0100

    port test-text-no-body.py to new test API

commit aa78730ed377dde086ec02338bbf2d624d62bd6e
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-24 14:43:51 +0200

    allow multiple test runs inside one test script

commit 64966b056932ced336692b3f9acf147c9ef6cbdb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-24 13:23:00 +0100

    The presence-cache shouldn't handle Gadget's inspector muc presence

commit 2883f77e1264733f9b22ec44c12e458226971660
Merge: 593429c 8697f4f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-23 16:48:20 -0400

    Merge branch 'alban-request-tube-channel' into alban-enhanced-caps-with-complex-types
    
    Conflicts:
    
    	src/presence-cache.h

commit 8697f4f564f07fb6d7fc34de315cc5befc4b3d64
Merge: 9114fd8 299cf44
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-23 16:45:45 -0400

    Merge branch 'master' into alban-request-tube-channel

commit 593429c4db760773a29eb32d6f4b402dae10d7de
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-23 16:16:45 -0400

    Fix previous conflict

commit 575591ff8b763bfc28b3ddf886e1161d70299005
Merge: 8ea2ba6 9114fd8
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-23 16:16:29 -0400

    Merge branch 'alban-request-tube-channel' into alban-enhanced-caps-with-complex-types
    
    Conflicts:
    
    	extensions/Makefile.am
    	src/private-tubes-factory.c
    	src/tube-stream.c
    	src/tubes-channel.h

commit 9114fd8af48fd89d41eaa3854dbb38d022f4774c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-23 15:58:45 -0400

    tests/twisted/tubes/test-si-tubes.py: Update the test to the new spec (no FUTURE properties), factorise the code.

commit d08ffc45f2af7a31aea1b01d005b25d078b45cf4
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-19 17:18:33 +0100

    Remove .DRAFT from Requests interface name in a new test

commit be6364e04a5289ad4fa5bdc24318dee01289561c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-23 18:41:36 +0100

    Test test-si-tubes.py: better comment for the NewChannels signal (no change in the code)

commit fa60534e59ed2bf96f4515c458e62f71f9371973
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-23 15:38:00 -0400

    Tubes requestotron: Advertise the right RequestableChannelClasses for tubes, and strongly check properties in CreateChannel/RequestChannel.
    
    Conflicts:
    
    	src/private-tubes-factory.c

commit 2b640843bbe4e7b7ff8b30530018382482bacecf
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-23 15:24:46 -0400

    src/private-tubes-factory.c: Remove the old "channel factory" code. Now it is a channel manager thanks to TpChannelManager
    
    Conflicts:
    
    	src/private-tubes-factory.c

commit 299cf444560d0fe164797086da020cd92c75f258
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-23 15:48:12 +0100

    version 0.7.12

commit f8238fdbcb52957e636ebc21c70ed182374ac8dc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-23 14:06:11 +0100

    version 0.7.12

commit 1789e1de3c9fdee47e1c757cfd3af095ded7f4cf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-23 14:01:54 +0100

    version 0.7.12

commit 1784a10a45457b315ffc3c63af72bf08875d917c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-23 14:01:44 +0100

    upgrade NEWS for 0.7.12

commit d3075b1f714fc90c94e561656bda4bcb6abc466d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-23 13:37:18 +0100

    view-presence.py: fix a comment

commit 30e6e56d7d98434b7f306192d7025c5543ddf3e5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-23 12:18:37 +0100

    remove a trailing new line

commit 6fb53711039af39c7eacd9d4dcc40645b4058b8a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-23 12:17:19 +0100

    remove the old status msg if we change the presence because of OLPC views

commit f87dc8c93a0fd2d7537ed13e1eb23200bd638b16
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-22 15:27:41 +0100

    presence: use the presence aggregator to tweak presence according current views

commit 35e6b582205b4d5a11b9bec0e1546b6160057892
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-22 15:24:18 +0100

    view-presence: not offline presence should contain a resource

commit 6e2d73f05307a576f51a83ab785477ecdd4ac243
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-22 14:31:19 +0100

    presence: factor out aggregate_resources

commit 5d745a4c1c382396d35df1ec3a9ea8fc6876b91b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-20 11:19:29 +0100

    view-presence.py: use ns.py

commit 2bef5850a761843b5ea467fcafd5c07c7bf4f4b0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-17 18:28:00 +0100

    view-presence.py: add ressource to one presence stanza

commit 248164bde4a907f80dd1f65d6e9cff88c794a36e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-17 18:24:36 +0100

    :view-presence.py: test buddy in more than one view

commit 7c185faf24e4da06f3eee07b497712a9f22e7be2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-16 18:20:22 +0100

    call gabble_presence_cache_contacts_removed_from_olpc_view when view is closed

commit 28aa014a7d01c52fc8b34d9edbfeef71791e4e4b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-16 18:00:40 +0100

    view-presence: use elem() in send_presence

commit b01482c9732db3b8a90abe451babf7ea9b0d2467
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-16 17:50:56 +0100

    view-presence.py: factor out remove_buddy_from_view

commit a4944995d586cff6ff478923c9c78640a32a5891
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-15 18:33:10 +0100

    gabble_presence_cache_contacts_removed_from_olpc_view: discard presence if needed

commit 2090c96c26d60db3e9060b138f2b81b53d2a30ed
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-15 18:25:11 +0100

    check if we properly presence change from a buddy who is already in a view

commit ef8faf9c86e686a240a7d58ef9b326e75d5616f2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-15 18:09:09 +0100

    don't change presence when a buddy from who we received a presence is removed from a view

commit 15943f316b2fa217f726bd5448f171f9f0b754b6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-15 17:07:28 +0100

    view-presence.py: check that the presence isn't changed if we received a presence stanza

commit 02c174bcb40d6036684b614217ffda54c89d538b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-15 16:45:06 +0100

    use presence interfaces to announce view buddies as online (first naive implementation)

commit a42142f4f46b4abbbc765c45bb0adb1b5f08308b
Merge: 0043df2 b74b501
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-22 16:45:59 -0400

    Merge branch 'master' into alban-request-tube-channel
    
    Conflicts:
    
    	extensions/Makefile.am
    	src/private-tubes-factory.c
    	tests/twisted/tubes/test-si-tubes.py

commit fce6ba1a6a5e36e5d201efc28dc4ff0ca0d87212
Merge: d7a3f90 b74b501
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-22 15:52:02 -0400

    Merge branch 'master' into alban-xmpp-spec-tube-caps

commit b74b5012b8762b13761b24f75f616043ff1220f9
Merge: 47a667e be0bec5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-22 16:44:38 +0100

    Merge commit 'upstream/master'

commit 7241ed29190bea6c1f1ebc9169c66157fd761c4c
Merge: 75eeaad be0bec5
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-22 16:55:14 +0200

    Merge commit 'upstream/master'

commit 47a667ea7c0277fb8bdbc6b0e457b3cee0bd68da
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-22 15:40:39 +0100

    Prepare version 0.7.11

commit be0bec5e0bdf2d2388be40a685ab41df6aea0c0e
Merge: 051770c b04d0d5
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-22 09:08:01 -0400

    Merge branch 'master' into alban-bug13891

commit b04d0d5106af976549795d5964bc1c77c083942d
Merge: df6ad72 df39cd7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-22 12:44:54 +0100

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble

commit df6ad726504812972a152df97ed5c4bf2093864c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-22 12:44:04 +0100

    add ns.py to EXTRA_DIST

commit df39cd769a720cebd6d5b6e709247907f9b7a393
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-22 12:24:30 +0100

    conn-presence: construct_contact_statuses_cb: reindent and use tp_g_value_slice_new

commit f1640d01aa1795ad1762b0c62c5d683f78912f17
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-22 12:23:48 +0100

    conn-avatars: remove an unnecessary cast

commit 4cb9bc0eb48bc46ecd649aa444cbafb3ef38ecc7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-22 12:23:36 +0100

    conn-aliasing: remove an unnecessary cast

commit 1e63b1a50823c656cddf26fb85f8dea94d3d62ac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-22 12:23:27 +0100

    GetAliases: don't leak a hash table if handles are invalid

commit cc2a20e7c01bb4dce0281e90b89430d586002eaa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-14 18:17:36 +0100

    Copy telepathy.am from telepathy-glib

commit 715e018cf6fff5149e4009f5c593585ef369927e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-14 17:33:52 +0100

    Don't check for endianness - it was only used by the sha1 code we no longer ship
    
    Verified with `git grep ENDIAN`.

commit 93c51789e083b787a8802d98caf3db4786be132c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-22 12:33:23 +0100

    NEWS so far

commit 6e50fa0269dc1b02d2c3f4dbbdf6e543149dc996
Merge: 8a24c91 4231766
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-22 12:31:08 +0100

    Merge branch 'ns'

commit 8ea2ba6eecb69144ff53f228859027289e940123
Merge: 6736fcc 8a24c91
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-21 11:43:24 -0400

    Merge branch 'master' into alban-enhanced-caps-with-complex-types

commit 051770cc8dac058b4519b117304d0c1fac4be069
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-21 11:10:37 -0400

    tests/twisted/tubes/test-si-tubes.py: Regression test for Bug #13891

commit f4e737ebdbda23b3284c8bf4125b14b1913982ea
Merge: dd5efa0 8a24c91
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-21 10:51:58 -0400

    Merge branch 'master' into alban-bug13891

commit 8a24c91c688d0b1db96be3f00dc486fa07e332ee
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-10 12:34:04 +0100

    Update with-session-bus.sh from telepathy-glib
    
    This new version of with-session-bus.sh comes from the telepathy-glib git
    repository:
    
    |commit 9c6a27f7b1796abfd0e30ec0e38a7bdbf3aa3863
    |Author: Alban Crequy <alban.crequy@collabora.co.uk>
    |Date:   Wed Sep 10 11:42:17 2008 +0100
    |
    |    tools/with-session-bus.sh: Better explanation for usage
    |
    |commit 241d6e35c946bee2c8112f3f444fe9e2bfdaa9de
    |Author: Alban Crequy <alban.crequy@collabora.co.uk>
    |Date:   Tue Sep 9 18:13:39 2008 +0100
    |
    |    with-session-bus.sh: Fork dbus-monitor if requested
    |
    |    If $WITH_SESSION_BUS_FORK_DBUS_MONITOR is set, fork dbus-monitor:
    |      dbus-monitor $WITH_SESSION_BUS_FORK_DBUS_MONITOR_OPT

commit 75eeaadc0d8a61d44599ad06be34bbcac7f201e3
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-21 16:35:49 +0200

    JingleSession: don't require explicit content senders for older dialects

commit a22d2540250453841b95746f333e84c0b5e4c801
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-21 16:35:04 +0200

    JingleFactory: properly unregister message handler at disconnect

commit dab5836ad05c90149a8c6d8a7a39449b6aa69a08
Merge: f21b845 10d4222
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-21 15:24:55 +0200

    Merge commit 'senko/jingle'
    
    Conflicts:
    
    	src/connection.c
    	src/connection.h
    	src/media-channel.c
    	src/media-factory.c
    	src/media-session.c
    	tests/twisted/jingle/test-incoming-call.py

commit 10d4222dd53edf086f59fbe8b086913700bc51c3
Merge: 872f88b 30573b7
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-21 09:15:56 +0200

    Merge commit 'wjt/jingle' into jingle

commit 872f88baa9ac4666d02b0aefaf9809a7d59109bb
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-21 09:12:55 +0200

    code cleanup

commit 8e2e60ff491b245a4151d1bb44f157351649f7eb
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-21 09:12:06 +0200

    JingleTransportGoogle: store remote candidates for later

commit dd2280eb1b8b979e85c5e27a1e2e6058768e341e
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-21 09:11:43 +0200

    MediaFactory code cleanup

commit 2a356d5d17a333fba06046e15c275e364181c874
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-21 09:10:43 +0200

    Added missing content-reject action enum.

commit 9753aec97ac10301bce896d5bcdb8b86018e3a70
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-21 09:09:45 +0200

    Jingle twisted tests: added helper function for returning error to peer

commit 539db38c2df8031006c138ffc06a0c1a5d158a87
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-21 09:08:17 +0200

    MediaChannel code cleanup

commit cae95e2cb1fe9081aec96908722cbe1e73081b86
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-21 09:05:55 +0200

    MediaStream code cleanup, support for stream directions

commit 395ec06776338860ed6d3a8323890150a3c15c8a
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-21 09:04:19 +0200

    Actually commited half of the content-* related changes, thanks git

commit ec0a42eb2ed7ad403d827c5c10e15cd775d24a98
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-21 09:01:16 +0200

    Fixed content-add/accept/remove, prepared twisted test to check behaviour of Request/Remove streams.

commit 6736fcc525d7a2e27a0bfa66881ae3dede53dfdf
Merge: 16f7a8d f21b845
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-20 12:28:47 -0400

    Merge branch 'master' into alban-enhanced-caps-with-complex-types

commit f21b84558b31f16c6f3f1bf0b36755ab5b88a8c0
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-20 12:20:10 -0400

    Style: use if (ptr != NULL) instead of if (ptr).

commit 20fdb5b52cfd50e5a0af2dd7b1389c82b7e553da
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-20 12:12:41 -0400

    Add --disable-Werror in configure.ac, as done in tp-glib. Useful to disable the warning -Wno-unused-parameter.

commit 4231766e9556019f52602117e136a20011c60fbe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-20 13:18:58 +0100

    test-olpc-set-props-preload.py: use ns.py

commit 974d45f8c20aa68b0d9a701122aaaccd8bddfce2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-20 13:18:37 +0100

    test-olpc-bundle.py: use more ns.py namespaces

commit 5ab1fec3818081e65e7d502bf9041a984605d960
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-20 13:18:08 +0100

    olpc-muc-prop-change.py: use ns.py

commit 31f809a418c682109089de79caae86b2e989a39c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-20 13:17:51 +0100

    olpc-muc-invitation.py: use ns.ps

commit 40a094bd576cce4d973ac8e284e3ef7801196f8f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-20 13:17:30 +0100

    gadget-invite.py: use more ns.ps namespace

commit c125c9498d26edcb41f3f056d8b6981043c29de5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-20 13:16:32 +0100

    add MUC and MUC_USER to ns.py

commit 14d30e94b9784cf3dad5e994fa7de63ee91ac167
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-20 11:45:56 +0100

    util.py: use ns.py

commit ac3c438736256e75cdb7abd35a54229153a54c65
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-20 11:45:26 +0100

    test-olpc-bundle.py: use ns.py

commit 19ee908d9f7d2bc43776a47300224b14f0bf91b5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-20 11:45:15 +0100

    olpc-buddy-search.py: use ns.py

commit 4b9b6c17e964869fbb2b270b0c48b281ef9b526e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-20 11:45:01 +0100

    olpc-activity-search.py: use ns.py

commit 32a8050738e306904609fdd51b0f2a2114fc6d04
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-20 11:44:47 +0100

    gadget-restarted.py: use ns.py

commit 9541d6ca8d078d56bdd2a00ff6ed52d0d89ce2d6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-20 11:44:34 +0100

    gadget-publish.py: use ns.py

commit 03cb1b0f0f33b82e57f16ccdf2d360a6aa2e587f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-20 11:44:19 +0100

    gadget-invite.py: use ns.py

commit 4bc973d22c519e83a69af7bdeff20b35e037cfb2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-20 11:43:56 +0100

    current-activity.py: use ns.py

commit 972581e92f8c6630e3c4899ff40633f9f125b51f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-20 11:43:07 +0100

    ns.py: add STANZA and OLPC +notify ns

commit 29adfe9c98033d5b7c55d99fae310fa499e5ed29
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-20 11:21:12 +0100

    change-notifications.py: use ns.py

commit 03a1812b90f9eb2505d9bc84c7fc9a21ba975ba8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-20 11:18:45 +0100

    add twisted/ns.py

commit 16f7a8d516624356bdc19144903b814b90abd8eb
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-17 18:06:28 -0400

    Fix test: do not use a variable before its initialisation

commit c6fc8d6c6f7c2e0235a8176cc81e3904313f6f7f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-17 18:05:51 -0400

    Add the allowed property .TargetID in the channel classes Tubes and DBusTube

commit f2ff7025de6acde996925938ab4ac20bf5a8c7e7
Merge: f5494d0 a4a4577
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-17 17:54:00 -0400

    Merge branch 'alban-trivial' into alban-enhanced-caps-with-complex-types

commit a4a45774a359624a98857b3e2d93e10f9c51eec2
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-17 17:50:14 -0400

    Fix dbus_server_unref when a D-Bus tube is disposed.
    
    According to the documentation of dbus_server_listen:
     * To free the server, applications must call first
       dbus_server_disconnect() and then dbus_server_unref().
    
    libdbus enforce this by asserting if Gabble does not disconnect before
    unreffing.

commit f5494d060f8f5d22e1c569ae31be5cbd42883f81
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-17 16:05:42 -0400

    src/tube-stream.c: Move some properties from Channel.FUTURE to Channel because the future is today

commit e0181be928bcc83a44b17c2652f7f45e1e781ec8
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-17 15:50:42 -0400

    The new OLPC Gadget channel manager implements the GABBLE_TYPE_CAPS_CHANNEL_MANAGER

commit 956f207c43efcfc51d48d67488811a17849cc2cc
Merge: 8e388d7 595b855
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-17 15:43:36 -0400

    Merge commit '595b8556084bc5e2a271f1f8ebff106a47763813' into alban-enhanced-caps-with-complex-types

commit 595b8556084bc5e2a271f1f8ebff106a47763813
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-17 15:37:45 -0400

    sha1_bin: Fix a leak, and fix size on amd64

commit 8e388d74e69ae0190ad2986dcc45d61a4aeb6979
Merge: 1ccaf87 5cd2a90
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-17 15:20:56 -0400

    Merge branch 'master' into alban-enhanced-caps-with-complex-types
    
    Conflicts:
    
    	src/im-factory.c
    	src/media-factory.c
    	src/private-tubes-factory.c
    	tests/twisted/tubes/test-si-tubes.py

commit 1ccaf87c180f709329822bf988cd1ad539270b97
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-17 14:57:05 -0400

    Fix strict-aliasing warnings, and remove excessive usage of casts

commit 5cd2a90c449fd4938f9a997c858e20e765628b03
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-14 11:24:00 +0100

    olpc-buddy-search.py: check if the NewChannels and NewChannel signal are properly raised

commit 67e85ba276c1424452d2f422a775e86e1994ffb3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-13 17:31:51 +0100

    wrap a big line

commit bd6853684685cff1c86c38d2f77fb2f6fc8dd93a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-13 17:27:48 +0100

    Implement multi criterias activity view requests

commit ef898d62891b52765728f57f79a9d064969342ca
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-13 17:18:49 +0100

    remove debug print

commit ca0e709d50df8933206a79d40263b3354bca6d5a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-13 17:15:59 +0100

    Implement multi criterias buddy view requests

commit 4b3dc71155f5f6aebb5b32e12a388469b4de4e27
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-13 16:57:06 +0100

    always put the size attribute in view requests

commit 3a6adfcbcfe71d159494bfdf57b4500ce4b4315d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-13 16:49:50 +0100

    olpc-activity-search.py: remove fixed TODO

commit 0703553f1d1871268d5e2bf202ecaba068a14f20
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-13 16:47:49 +0100

    new activity random view protocol

commit ed5d9b6e30a1315b363f16c4b033ce20fe6716ae
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-13 16:39:26 +0100

    new buddy random view protocol

commit 7c88f7910e6746662ad8b884fbc95404b7aba29f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-16 11:02:44 +0100

    InitiatorHandle, InitiatorID and Requested are not in FUTUR anymore

commit 14a8472622d28ac8b267928dc3d8d18d3710bc32
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-14 18:47:32 +0100

    remove useless blank lines

commit bbe2198c93874c211665ed8146ce7dbe718afa3c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-14 18:33:17 +0100

    remove useless blank lines

commit a1b01b5f9d32aba90bde4c0b5e3d04a05fc03d5e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-14 16:13:16 +0100

    indentation fix

commit 83054a53b1109eaaa201fb0265a55ad8dc92c6cf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-14 16:11:18 +0100

    gadget-manager: remove gabble_olpc_gadget_manager_{request,create,ensure}_channel and use gabble_olpc_gadget_manager_handle_request directly

commit 01e28f3b024fcc5f3b85edd89d74348bab8ce20f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-14 15:39:46 +0100

    gadget-manager: fix debug flag

commit c8e06b79d3f34ccf1452946310ac6e6481351371
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-13 17:48:07 +0100

    conn-olpc: style tweak

commit 6260538df088532b0db290bae6e11f95af056fe4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-13 17:00:39 +0100

    fix view number in test comments

commit d357e0e2a8879e3b0378153853f9edb6c6e8eb0f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-10 11:40:10 +0100

    check if the right D-Bus error is raised when requesting a view channel without MaxSize property

commit db6a899e60df967173635be896ab5db3561421d1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-10 11:32:49 +0100

    olpc-view: return the right channel-type with GetChannelType

commit 6149acb89e7f7e2e59bdeec3266c008468326b87
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-10 11:31:36 +0100

    change node name of buddy/activity view to OLPC_Channel_Type_{Buddy,Activity}_View

commit b603870873ce286f29faef26954928c3fabdb0d6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-10 11:01:53 +0100

    clarifiy buddy/activity views description

commit cd7ef5ed6fc35bf195d74874584f26c3c6e80509
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-09 18:58:57 +0100

    add href links to the extensions HTML file

commit 5d5d4c0ed6855874a5bb7796a030d0f702099819
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-09 18:27:36 +0100

    olpc-view: unify param declaration style

commit 0af659304b116817f698c835a76defd7a7433a09
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-09 18:22:56 +0100

    wrap big lines

commit d806933e0a897f7b1d61af7c29d4f4ab180d3064
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-09 17:57:24 +0100

    {buddy,activity}-view: remove FIXME as, after checking, the current design make sense as all the XMPP parsing is done in conn-olpc

commit 116fa623a1ca8df11cf0998c591f30879f36db63
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-09 17:50:23 +0100

    gadget-manager: remove gabble_olpc_gadget_manager_constructed  as we don't use it

commit b4ee7bd65cced59d548b8cb38319accd792f331f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-09 17:45:21 +0100

    Raise a D-Bus error if Gadget is not available when requesting a view channel

commit 78d5733f52dd1b0b8487ece1f14009a669bbd93d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-09 17:31:44 +0100

    conn-olpc: remove check_gadget_buddy

commit 7961192f4a0e83dffd48a09790e4baad6f6514a7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-09 17:28:17 +0100

    conn-olpc: check_gadget_{buddy,activity}: no need to query disco to check if the service was discovered as now we are notified when it is and update conn->olpc_gadget_{buddy,activity} accordingly

commit b9320780ac43d66c4626f0adea392ce965a577cd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-09 17:20:40 +0100

    raise a D-Bus error if sending view request failed

commit c1dc0f7c3e2d33ac212983eb20997e9af2f3966b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-09 17:00:50 +0100

    ressurect the gadget-restarted test

commit 32e44eb262325060f6d4cc163a4ebbd8545c146f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-09 16:59:38 +0100

    add gabble_olpc_gadget_manager_close_all_views

commit 989c727707ec29a548d79c808f8c82c6b37352cf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-09 16:58:24 +0100

    add gabble_olpc_view_close public method

commit 68ed01198f3bb1f0ca20068dff9badf4348b2bdd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-09 16:35:10 +0100

    olpc-view: fix methods name

commit b947b24e511cbbcbafa5bef5ee668747588614cd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-09 16:02:46 +0100

    activity_disposed_cb: check if the olpc_activities_info hash tables was not already destroyed

commit 4953c4b2831658091d83160546fc117a351ffc9e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-09 16:00:43 +0100

    current-activity.py: fix view ID and re-enable the test

commit 2b2a1e863dac19c067837e5794ccfd17345d5cbf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-09 16:00:17 +0100

    gabble_olpc_gadget_manager_close_all: don't have to manually unref each channel, the hash table does it for us

commit dfcb8137f065454322d62fea39e98a5caecf0836
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-09 15:45:15 +0100

    olpc-activity-search: rename views according their actual id

commit 65e82029c9aa76ec9b4cd9d066a208bb0ce566aa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-09 15:31:33 +0100

    activity-view: fix GArray leak

commit 915a36a8464310c9ab176378be048646e70440e9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-09 14:35:05 +0100

    rename gabble_olpc_gadget_manager_find_buddy_properties_from_views to gabble_olpc_gadget_manager_find_buddy_properties

commit 0befcdd25b540900c6868ac541c5afac222a8180
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-09 14:30:55 +0100

    Re-implement activity views using the new API

commit aea5cae6e2464dde1c9f0cccf082df47493b1fbf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-09 14:28:56 +0100

    remove olpc_views from GabbleConnection

commit cf68d4715840d8853908d86f62ea29e5af7bd3bb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-09 14:26:28 +0100

    OLPC_Channel_Type_ActivityView.xm: the Participants property is au

commit ac6c2b875a3c3ba3c8cc785cce2e180678d9cb4a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-09 12:31:24 +0100

    use a public astract _send_request method instead of a private abstract _create_request as the reply callback is depend of the type of view

commit c5457eb26e9d0e7d35a54a3189617bba659db54e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-09 12:06:09 +0100

    move GABBLE_ARRAY_TYPE_HANDLE to olpc-view.h

commit 95f15e5a6e45c6df23b2fe00ab9cc2cafd2c20db
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-09 12:05:43 +0100

    define the ChannelType in the concrete view class

commit 59b2f68a1c7082d60af4048ff1a6a441b16695c3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-09 11:51:39 +0100

    conn-olpc: disco_item_found_cb: set conn->olpc_gadget_{buddy,activity}"

commit c5aee0482b5b54471868df4d1e8c4aec6cf0630e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-08 18:42:19 +0100

    gadget-mgr: rename properties arrays

commit 052a9ab16a4f3e15849bbdc1e3b8d0934a13e933
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-08 18:33:11 +0100

    gadget-mgr: factor out create_buddy_view_channel

commit f41a58117d600b75af04ecd313a09c31cad62272
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-08 18:11:14 +0100

    view: remove old comments

commit d8b81690fca9c4d69aca3dac693fb519cd361403
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-08 18:09:16 +0100

    buddy-view: free the properties and alias when finalizing

commit e3c5c007c9a9eaec0304d2e94528bc97de213e8e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-08 18:05:32 +0100

    buddy-view: no need to define manually the object path

commit e31dbbccae44ec8c44e448d0e5f7fcd324bd788b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-08 17:59:57 +0100

    gadget-manager: don't leak the channels hash table

commit 1283cc3576106032fb84d414ceb4b63944712152
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-08 17:48:45 +0100

    Implement channel-properties in buddy-view

commit b98bce3be7ebe69bdcab11a2c7b77b1edb31564b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-08 17:44:54 +0100

    olpc-buddy-search: check some properties returned by CreateChannel

commit 12f89fb69ed751e2d7f2d1cd7b8cd4701e5ef6aa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-08 17:11:09 +0100

    buddy-view: implement its D-Bus properties

commit 386aa7f9913a1e2c5ec082794b01028a72233e40
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-08 17:05:03 +0100

    olpc-buddy-search: check D-Bus properties

commit 9021be223ace39365ebd3cc86166053dafdbf095
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-08 16:35:01 +0100

    move most of the view code to a OlpcView abstract class

commit d50f82e0d641b9d9950df33a2de544d6f50c07fd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-08 13:33:40 +0100

    olpc-buddy-search.py: we should check the D-Bus properties

commit 145d79806361cbaa3975c6fc6ac63b71fb874c30
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-07 18:04:01 +0100

    olpc-buddy-search: rename views according their actual id

commit 8d7c6c3e8fede38a1c50e1621abf028471d47588
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-07 17:59:35 +0100

    olpc-buddy-search: remove debug output

commit 4f839bcbf5059a211033213cac54ca82ab25ee74
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-07 17:52:11 +0100

    Adapapt olpc-buddy-search to use the new view API

commit 276547cadbc42f8c9755fd098b1a53a4b984c617
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-07 17:50:26 +0100

    build buddy-view and gadget-manager

commit 4b2eaad767f67fa882264d54f362964cd7a39ab2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-07 17:49:57 +0100

    Turn view object into a channel. Move BuddyView code from conn-olpc to olpc-buddy-view

commit 10bb1001e2946b85bb8a3f014e04438a7c537111
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-07 17:46:09 +0100

    olpc-gadget-manager.c: add a FIXME saying we should check for Gadget when a view channel is requested

commit 8d80f419d9342ee65f9f19d45e414180330b191e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-07 17:44:02 +0100

    olpc-gadget-manager.c: check if MaxSize is not zero

commit 55713fd4a2324e6952c9dbd6149228071b178b92
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-07 16:48:00 +0100

    instantiate GabbleOlpcGadgetManager

commit e2c455f36876fc464ff392e3d7bdeffaf3c0fee8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-07 16:46:46 +0100

    add GabbleOlpcGadgetManager, the Gadget views channel manager

commit 5efbd239b58e2a84acdae1adc0f01fe8e2fc0155
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-07 16:35:48 +0100

    org.laptop.Telepathy.Channel.Interface.View: rename Size attribute to MaxSize

commit fb6c879ca6c18b5d5e5d731e5963df442b425c59
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-06 14:31:51 +0100

    rename olpc-view to olpc-buddy-view and comment broken code to make it build

commit 7e2487b92360ed863466f4e2d3caba191970e0c3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-03 17:27:02 +0100

    Disable view tests for now

commit 29560a679e34fafd06e52b6a908b96c885aade3a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-03 17:26:36 +0100

    Disable view code for now so Gabble can build

commit 9f89a3f10130b469e990e2ea81a69b55e7c3a895
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-03 17:00:06 +0100

    OLPC_Gadget.xml: remove all the Search/Request methods as now that's done using the requestotron

commit 1ae53be48f701a0da674de254fca5cd28e0faa56
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-03 16:38:47 +0100

    first draft of the requestotronification of the View API

commit 30573b7d2006b2eaa608110c4c8e41eaeefce84e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-10-15 19:13:29 +0100

    Coding style: if (foo != NULL) rather than if (foo) for pointer types

commit 632201d716fc0bb8b2361dbe6a041e5e90d843cd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-15 14:25:44 +0100

    Nano version 0.7.10.1

commit d7bbc30ad22f372bad323699ab4c5f449c85e32b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-10-15 14:16:33 +0100

    Coding style: no newline after return type in function declarations

commit 261a8cc1692e282c5cd6034034c10a2a3effbd9c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-10-15 14:05:42 +0100

    JingleFactory: remove unused {Content,Transport}Maker typedefs

commit cfd8b6548270a85957d19a2766b5ea03a7152fd3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-15 13:03:54 +0100

    Prepare release 0.7.10

commit ef02560717b106851685bbecfc52dce0edf3491e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-15 10:43:21 +0100

    Prepare NEWS

commit 754df3cf226415c737997f83b29f12ec87570cd9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-15 10:37:40 +0100

    GabbleMucChannel: use unsigned for boolean bitfields

commit 724b0dabce8ca42fdd40d9ffd97d89f68c9604ea
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-15 10:36:34 +0100

    GabbleMediaChannel: use unsigned for boolean bitfields

commit 56de600bfbdb30c0bbe946999a93ba87557eff7c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-15 10:36:17 +0100

    GabbleMediaStream: use unsigned for boolean bitfields
    
    It turns out gboolean is signed, so is unsafe to use in bitfields.

commit fbec3a940b77baf95a2b97ec2cb0ead844c1f3cb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-14 18:15:40 +0100

    Update to spec 0.17.13, moving various future Channel properties to the present
    
    This requires telepathy-glib 0.7.17, which I just released.

commit 5ccbeffaae28e61546b4ee56f2eb5e5ea9aecb16
Merge: acdd2f0 6c4b6ee
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-14 17:27:54 +0100

    Merge branch 'checksum'

commit acdd2f0293ef45d12a9977637c4144f62866ac3e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-14 15:40:39 +0100

    test-handles: accept InvalidHandle as well as historical InvalidArgument
    
    telepathy-glib used to raise InvalidArgument, but we've decided that was a bug.

commit d85f2a9b9ce89c719fdb834d1289ae76081f3a00
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-14 15:34:29 +0100

    Presence cache, register, request pipeline: use G_PARAM_STATIC_STRINGS

commit 1838901fbfee3cfd2734ecc56edd04a562069084
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-14 15:34:08 +0100

    GabbleBytestream*: use G_PARAM_STATIC_STRINGS

commit d3c79aca764119718ea2ef7ce4193d29a6da4c60
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-14 15:17:24 +0100

    GabbleMediaSession: use G_PARAM_STATIC_STRINGS

commit f0d90a6cd95ac57c293b7ef53182f61bc1807aff
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-14 15:17:11 +0100

    GabblePrivateTubesFactory: use G_PARAM_STATIC_STRINGS

commit d7fa7bc28a4ec262133935925ab642cd5f39066c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-14 15:15:19 +0100

    GabbleRoomlistChannel: use G_PARAM_STATIC_STRINGS

commit b4514c525a37b77451e1fb26df94f5be5e44696b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-14 15:15:04 +0100

    GabbleRoster, GabbleRosterChannel: use G_PARAM_STATIC_STRINGS

commit 7609450953787c269670bf6b37f872fe749ac362
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-14 15:14:48 +0100

    GabbleTubesChannel: use G_PARAM_STATIC_STRINGS

commit 1a6e068d3c642c49ae2a825e105f21fb8423e2a8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-14 15:14:34 +0100

    GabbleVCardManager: use G_PARAM_STATIC_STRINGS

commit 8c3adcc2be327fc6a3afd8d3e92c119391f9b3ad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-14 15:14:18 +0100

    GabbleMucChannel, GabbleMucFactory: use G_PARAM_STATIC_STRINGS

commit 3247206ac6ef8dcbb75cd1d5f35a8b0cc00a4738
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-14 15:12:16 +0100

    GabbleMediaChannel, GabbleMediaFactory: use G_PARAM_STATIC_STRINGS

commit effdb99230598b4df858168cc30527f9a68d86df
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-14 15:06:05 +0100

    GabbleImFactory: use G_PARAM_STATIC_STRINGS and reindent

commit f021e242893194d82bbd15d3f5ca93013c14d517
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-14 15:05:47 +0100

    GabbleIMChannel: use G_PARAM_STATIC_STRINGS

commit a028e9799aa6423995fc18c371483fa32d596f28
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-14 15:05:32 +0100

    GabbleDisco: use G_PARAM_STATIC_STRINGS

commit 7f96b0627cb9e9d0215e8dc4642582b23800aa16
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-14 15:51:48 +0200

    Simplified readiness-checking logic for contents, added support for content-add/accept, thus making the incoming/outgoing twisted tests work.

commit c8df361154fb570ea6a7260ea03682598728b5bc
Merge: 200043c 2750609
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-13 19:37:19 +0200

    Merge commit 'wjt/jingle' into jingle

commit 200043cee5f7261083c88107af72b727a56b4a70
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-13 19:33:22 +0200

    making calls/tests working again after content addition/removal refactorization

commit 27506099847b093434ab942916fed1fded0bbc76
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-10-13 18:12:38 +0100

    MediaStream: don't include media-session-enumtypes.h
    
    That file is no longer generated.

commit ab32f148d7f87587d2f5fa3571a6bd7f72b8e5da
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-10-13 17:40:53 +0100

    Fix a number of coding style violations.
    
    In particular:
     - trim trailing spaces;
     - function calls are written as foo () not foo();
     - casts and pointer types are written as (Foo *) foo rather than
       (Foo*)foo.

commit 731b4c20c0dd282430c73fe8100085c375cfa077
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-10-13 13:12:23 +0200

    bolted the new jingle engine onto gabble

commit 6c4b6ee204ed523a2f5b9d7b5f35f56e6a6aab35
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-13 11:53:30 +0100

    Remove our copies of libmd5-rfc and sha, along with their licenses and author credit
    
    We no longer need to ship these, since we can just use GChecksum.

commit 3085626830626b2c1915a04924e0a9252b6fab9d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-13 11:51:13 +0100

    Remove unnecessary inclusions of sha1/sha1.h

commit 8e161744c568d2674217d02183aec0d84a6c95d5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-13 11:45:27 +0100

    Remove MD5, SHA1 code from the build

commit 9ecf78fa3f3faeece49ad38c18b2b0c01747e2d8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-10-13 11:43:30 +0100

    Implement sha1_hex, sha1_bin in terms of GChecksum
    
    Now that we use GLib >= 2.16, we can do this. I've kept the utility
    wrappers because sha1_hex guarantees to return lower-case (unlike
    GChecksum), and sha1_bin is more convenient than what's in GLib.
    
    Also remove compatibility #define for G_PARAM_STATIC_STRINGS, because
    we now depend on a GLib version that has it.

commit 291e274f5fe4c3dbf5e4f405a59af88cfa3ce876
Merge: 3cee405 6ed9547
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-10 11:56:13 +0100

    Merge commit 'origin/master'

commit 3cee405a58573e2daa5a58be4ca59640703c6012
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-10 11:48:32 +0100

    remove debug print from jingle tests

commit 6ed95476c4e953334f8f59eac7bfe4fa2138c40a
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-10-10 11:33:05 +0100

    Remove TargetHandle from anonymous media channels' allowed properties
    
    Current specs forbid TargetHandle in requests with TargetHandleType:
    None

commit 696ff8ece9f5e45b9f24cf02b545082437c7a2c9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-10-10 11:29:22 +0100

    Add TargetID to allowed properties where it was missing

commit 7cea676b629f8302c12f5571ab2b5b2ae2789212
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-08 14:38:33 +0100

    Capabilities: Fix a leak

commit 6971f458ad0816e40807549202d8a4ffe58b72aa
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-08 11:30:59 +0100

    Stop using the workaround for bug #17329
    
    - Update the spec in extensions/:
    There was a bug in dbus-glib that prevent to use the right type:
    Instead of a{ua(a{sv}as)}, we used a(ua{sv}as) as a workaround.
    See http://bugs.freedesktop.org/show_bug.cgi?id=17329
    Now there is a fix, so we don't use the workaround anymore.
    
    - Update the implementation for the new spec
    
    - Update the unit test

commit 924abfeee339dbb497c73abac85754ee46ddda5b
Merge: 0872440 6a49b76
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-10-06 18:50:06 +0100

    Merge branch 'master' into alban-enhanced-caps-merging-attempt

commit 6a49b768eaa42b5dc0ceac875a4a9ecfc380c8d5
Merge: 0a6a0ad 49024ff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-06 16:40:58 +0100

    Merge branch 'fix-invite'

commit 0a6a0ad33028d6787d9430933a46624ac8129225
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-01 18:04:29 +0100

    gadget-invite.py: disconnect manually and reply to the PEP activity iq

commit 49024ff2b151fc63dd75dd0b98f566036b2836f3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-30 12:33:18 +0100

    conn-olpc: fix 2 references issues: add_activity_info_in_set doesn't return a new ref and we always have to ref the activity when inserting to olpc_current_act

commit 1f05130d095bad92b22654999de18a73dab57b84
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-30 11:10:48 +0100

    conn-olpc: revoke_invitations: ignore fake activities aka the ones without ID

commit 5ed9344aef3a8278b252a872836a80201f72030a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-30 11:09:57 +0100

    muc-channel: fire the closed signal when disposing if needed

commit 7f78a3583b8ca6d390b8f2cb035450ab8d66724a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-29 18:27:55 +0100

    unref activity ref when destroying pep and invited hash tables

commit e738c3bf173e32e6318d8f7bfd83621344088749
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-29 15:53:50 +0100

    olpc-muc-invitation.py: check if act_prop_iface.GetProperties returns the right properties

commit c2fa21247b2ede32dee9ac547062d8dddbe31d4f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-29 15:41:27 +0100

    olpc/olpc-muc-invitation.py: use a dict to store handles

commit cac00547b3e80d45363dee400137ae9fedcf7c70
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-29 15:31:40 +0100

    olpc/olpc-muc-invitation.py: add more signals checks

commit d8e2bda7c2d36d977a903a5376f90a69fa5f57cd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-10-01 14:55:45 +0100

    gadget-invite: be more restrictif on a stream-iq elem to be sure to catch the right one

commit 423ac01ab12105b80b7b856602cf346da214daa9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-30 17:35:42 +0100

    muc-channel: no need to fire the contact-join signal in channel_state_changed as that's already done in _gabble_muc_channel_member_presence_updated

commit 0872440a60baf94f66d706b4b93878b43a3f009a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-30 15:14:24 +0100

    Update extensions/Channel_Interface_Tube.xml

commit 82bdb734efa737e9339ff6f023850da18751f16b
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-30 14:43:25 +0100

    Use the "channel manager" terminology everywhere instead of "channel factory"

commit e40172c623ed0458faac01f8545a8edd7621d1bd
Merge: d1d2756 2a4dbfc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-30 14:33:24 +0100

    Merge branch 'tests'

commit 21749ae8b6101139321952561052159f511d73e7
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-30 14:31:18 +0100

    Add some documentation on gabble_presence_cache_{free,copy,update}_cache_entry

commit 36bb9091ee2cf7c78b0a3b1e56fbe02e28d4168c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-30 14:26:59 +0100

    Factorise code in gabble_free_enhanced_contact_capabilities (GPtrArray *)

commit 5690d5e3c7b549fa39a0cbda0329192c04f11813
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-30 14:05:48 +0100

    Every Channel Managers must now implement the GABBLE_CAPS_CHANNEL_MANAGER interface.

commit 2a4dbfcee2db6fa5a3e25da17edcc062f985c0dc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-30 14:01:03 +0100

    gabbletest: remove the second call of Disconnect() as it's useless

commit 610f3042dad72abd820c67481ec6aee9c9259993
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-30 12:40:12 +0100

    tests/README: explain how to use the different debugging tools with twisted tests

commit debfec0706df7d7296bc95ad58cee8ce8ec5c843
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-30 12:33:59 +0100

    gabbletest.py: wait before killing the bus if GABBLE_TEST_REFDBG set as refdbg needs the process to be clearly exited

commit 15a7282629270544a239751f062f1e2041480c5d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-29 18:25:26 +0100

    add refdbg.log to gitignore

commit ac19d9f77b844aabf17485466b2042c1601f7dd5
Merge: b4c4d84 d1d2756
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-30 10:58:24 +0100

    Merge branch 'master' into alban-enhanced-caps-merging-attempt
    
    Conflicts:
    
    	extensions/Makefile.am

commit d1d2756d86a69ea252f0efa0ff267b57acd98036
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-09-29 17:55:56 +0100

    Add a maintainer-upload-release Makefile target

commit 29cd72a33e1bac2a3520647c5f846fad54da85ee
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-09-29 17:54:55 +0100

    Start 0.7.10 development

commit 789a9f70e910d3d6a5254e0fbebadef043d0be5e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-09-29 14:48:09 +0100

    Prepare version 0.7.9

commit bc66f005c599ae4d3b450da805c477c03adfcf68
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-29 14:40:45 +0100

    tools/tp-glib.supp: don't hardcode /usr path to libdbus-1.so

commit 67a89249b19d6d7cc50a8bf4472fc4605c4f2e72
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-29 14:28:50 +0100

    tools/exec-with-log.sh.in: use abs_top_builddir

commit 13a304e627e5e1e77bc49f502e1e043e837e85db
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-29 13:32:40 +0100

    use libtool when executing telepathy-gabble-debug so we get the valgrind report as expected

commit 6712a764975d9c787feb92d286ea8bfbefba374e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-09-26 20:28:04 +0100

    Update NEWS with 0.7.9, the story so far

commit a363f22af1e00165c55c70bd8fbf1eb4b1c119e0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-09-26 20:27:34 +0100

    GabbleRosterChannel: fix compilation with --disable-debug and hence distcheck

commit f35fdde5f66c800dd58202429b8bb64260e69c14
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-09-26 20:26:24 +0100

    tests/twisted: distribute olpc/util.py, fixing distcheck

commit b55d7c920d1107f5d1a60b6607fd2fd97ca9c0d4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-09-26 20:26:08 +0100

    extensions: distribute the OLPC extensions' XML, fixing distcheck

commit d178b14eea760c81721de508af55273e8a3b5288
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-09-26 20:25:47 +0100

    Depend on telepathy-glib 0.7.16 and GLib 2.16
    
    We need tp-glib 0.7.16 for EnsureChannel, and it depends on GLib 2.16.
    Now that we need a new GLib anyway, drop compatibility code for GLib < 2.12

commit 4a3665c9942e171b860ba19ee76e7b184870780c
Merge: 2c97b3b 164e487
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-09-26 20:15:06 +0100

    Merge commit 'wjt/ensure'
    
    Conflicts:
    
    	tests/twisted/Makefile.am

commit b4c4d8409adfd03b84ac0a9c14717653575f55d5
Merge: 144baeb 2c97b3b
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-26 20:03:55 +0100

    Merge branch 'master' into alban-enhanced-caps-merging-attempt
    
    Conflicts:
    
    	extensions/all.xml
    	src/connection.c

commit 144baeb3471470315a7555f12febd9d3620288b8
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-26 19:37:48 +0100

    Fix a leak in gabble_connection_set_self_capabilities(). Thanks wjt who spotted it.

commit 2c97b3b81fcb36515f3f99319dd909ece80db46b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-26 16:49:51 +0100

    merge ActivityGadgetAvailable and BuddyGadgetAvailable D-Bus properties

commit 8e7a627f8d82923217265704292db393514512ed
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-26 16:43:45 +0100

    merge the ActivityGadgetDiscovered and BuddyGadgetDiscovered signals

commit 97469a34efaac37fcf4a65f6b81878c2566ebcbe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-26 16:17:32 +0100

    conn-olpc: add a FIXME explaining we should check the assumptions that are made about buddies and activities

commit fdcff5a38a1ccd326efc7d71fd6e335d29fffe9b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-26 15:52:22 +0100

    olpc/olpc-buddy-search.py: use close_view

commit 9cb2d8e7e23cc89c80993b9c55e31071091cfa87
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-26 15:48:26 +0100

    olpc/olpc-buddy-search.py: use create_gadget_message

commit 8c667321df4b1d439b543fe32c31818e5fcf9b04
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-26 13:32:52 +0100

    facor out create_gadget_message

commit d7153ccc628e3435b4a674d134b26d80f3f95ea7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-26 13:11:24 +0100

    olpc/olpc-buddy-search.py: use properties_to_xml

commit 84de8e4d508a582897e027bc6b5f38ffb2e1b3a2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-26 13:01:01 +0100

    olpc-activity-search.py: use properties_to_xml

commit e084978cb3c6c3bfabf965c5e2ccb854e3e695d7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-26 12:50:42 +0100

    olpc-activity-search.py: use parse_properties

commit 23fdc194c6d5f10d2c11d7322b0aecc6d1493b94
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-26 12:45:30 +0100

    add xpath_query and valid_types to OLPC's util.py test helper file so parse_properties can be actually used

commit 9cf94c36e6a174fe427558588fade44a2f547a8e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-26 12:30:49 +0100

    rewrite a comment for clarification

commit 13535ed8b26db15a4a5b7cab7fb38ee3295bd4f6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-26 12:24:04 +0100

    exec-with-log.sh.in: remove tabs

commit 272ec7627d160387bfbc23facbf7e8f6a376b9a3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-26 12:17:45 +0100

    OLPC tests: parenthesis multi lined import

commit 789873b3e8d472ea4eb513346426726f80d2d074
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-26 12:12:36 +0100

    conn-olpc: fix typos

commit 164e487b0bfe749db1c176973317dccf07bc437b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-25 18:34:47 +0100

    Implement EnsureChannel for Roster channels; add a test

commit e02785a3f0a607c0c59a211de08ab3bb4882b46d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-25 18:03:25 +0100

    Implement EnsureChannel for room lists; test that it works

commit 91d26ecb5ad713060bbd9f307d1fc3e9eb3249f5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-25 17:58:43 +0100

    Implement EnsureChannel for 1-1 tubes; add test

commit c2ba510621a3d64a4bc98ce9c27221a0b68e041e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-25 17:42:58 +0100

    Tube tests: check the Channel.Interface.Tube.Status property

commit b934503c1ee9d878bd19fdae3a36ff66ffa693b2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-25 17:40:00 +0100

    Correct test description for ensuring jingle channels

commit 5f82bcca505ce727e47c2cd922372bf34cc1746e
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-25 17:31:15 +0100

    Implement EnsureChannel for media calls, and add a corresponding test

commit b6a0c4988f75f0af5ec15920fcfcd1d84d8148b6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-25 15:55:40 +0100

    MediaChannel: add a peer property for the other person in the call (if known)
    
    This is distinct from initial-peer in that it can take non-0 values for
    anonymous channels once you call RequestStreams

commit 6835b21779892db29bb22e025d620e348f80d8f9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-25 14:21:24 +0100

    Add a test for Ensuring MUC channels.
    
    This test also checks that, if there are several pending requests when
    the new channel appears, at most one call to EnsureChannel receives
    Yours=True

commit 10777b41da6b28dc74698ad876c7993fde3b45a9
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-25 14:14:10 +0100

    Implement EnsureChannel for MUCs.

commit 93b4425542da09068bb3bf33c89f45c944fd5e74
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-24 16:22:43 +0100

    Rename Ensuring-text-channels test, add to twisted Makefile

commit 88f5b2788188e97b4ee42d21c29f6084ab1456ec
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-24 16:06:48 +0100

    IM channels: Test Create-then-Ensure as well as Ensure-then-Ensure

commit f23769f5fb3d357189d2c622da02fd813cc8550b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-24 15:38:08 +0100

    Refactor test for ensuring IM channels slightly

commit 9e14a4fddb58c09f9d03d58059d3f475eaf38bc5
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-24 15:21:36 +0100

    Add a test for Ensuring IM channels

commit 0600813c4eae38a41b10da0944cd024947444060
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-24 15:21:19 +0100

    Implement EnsureChannel for IM channels

commit 71a1f76146f752e8a007cf9a62a73e9785304587
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-24 11:28:23 +0100

    Connection: remove assertion that base->self_handle == 0
    
    This is unnecessary, was never guaranteed, and we'd like to make it not
    be the case in a future tp-glib.  See fd.o #17751

commit 9164cfa5e56c752dbd9bc7b39b75c76bc05cc19f
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-23 08:41:01 +0100

    Add cscope.out to .gitignore

commit 7c0e4eadbcc999387da5977d52156712ec3776d9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-19 17:07:41 +0100

    presence-cache: don't leak computed_hash

commit dbf3b885ad555c6e8204d12fc74ef3ad3d2ff3a0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-19 16:16:28 +0100

    tube-dbus: use the DBusServer and not the address when checking if dbus_server_listen succeeds or not

commit 7b451ecc0108884fa1235b5cfe35463e65624569
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2008-09-12 12:08:57 +0100

    Added a test to make sure aliases are saved to the roster on updating.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 5581028ecff07fa9e154a959736372c2e1bbd4a9
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2008-09-10 16:24:49 +0100

    Set a handle's alias in the roster so that vCards aren't fetched on every connect.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 696eb50f6589ce241d756ba52f08151166b1a610
Merge: 8eb489e 7d0652e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-25 11:14:33 +0100

    Merge branch 'master' into gadget-re-rebased
    
    Conflicts:
    
    	src/conn-olpc.c
    	src/connection.c

commit 87f15020f84a3ab1b28724ec2e05a488a142e4e6
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-24 12:36:58 +0100

    Tubes test: test channel properties: factorise the code

commit 31d366b44b96999e722f741348d68a1c9c385a7b
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-24 12:10:00 +0100

    Test tube requestotron: check RequestableChannelClasses, check that requests with unknown properties are rejected, and check that requests which missing properties are rejected too.

commit d06ea68d0e0186d380d24f9865012b6cdd4ba0dd
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-24 12:07:35 +0100

    Tubes requestotron: Advertise the right RequestableChannelClasses for tubes, and strongly check properties in CreateChannel/RequestChannel.

commit 7d0652e32f21e8682b4558759841b2bed20cb557
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-24 11:28:23 +0100

    Connection: remove assertion that base->self_handle == 0
    
    This is unnecessary, was never guaranteed, and we'd like to make it not
    be the case in a future tp-glib.  See fd.o #17751

commit de2f6ce796f486f326f2a3962df2f0759d566dcc
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-23 08:41:01 +0100

    Add cscope.out to .gitignore

commit 7b31b2323fd3242e4cd5411db2ec3a5bfc8123aa
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-09-24 09:40:28 +0200

    Continuing work on new jingle engine.

commit d4323f926eb4fff772c678d5cbc1077fc2d762e0
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-23 19:26:36 +0100

    test-si-tubes.py: Factorise code
    
     test-si-tubes.py |  126 ++++++++++++++++++++++++-------------------------------
     1 file changed, 55 insertions(+), 71 deletions(-)

commit ff64f3f26a9eee5d2721ba26ed641f39a46c294f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-23 18:42:32 +0100

    src/private-tubes-factory.c: Remove the old "channel factory" code. Now it is a channel manager thanks to TpChannelManager

commit f98662091871d7e59ce00c29d91e270617bc0448
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-23 18:41:36 +0100

    Test test-si-tubes.py: better comment for the NewChannels signal (no change in the code)

commit e74ed7796239a32fc9ea5f6075dabe344a8243b3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-23 15:27:59 +0100

    Test making outgoing calls using CreateChannel

commit aa1499c9bfbff2caf8b275e9dd0b87526197dc6b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-23 12:22:16 +0100

    MediaFactory: implement CreateChannel

commit 10ba609ada73ab2185f4a5f5ff4416f259d224f1
Merge: f4e1306 8054460
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-23 11:28:43 +0100

    Merge branch 'master' into alban-enhanced-caps-merging-attempt

commit 8054460868a54d6cca6d6e4d73fa2522ffdfeab8
Merge: 129896a 04ce81b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-23 11:01:53 +0100

    Merge requestotron branch up to commit '04ce81badac9bcbead189be03ae372a4649c9112'

commit c1d71d92fecf6404b4a1a656b75f015d01623146
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-23 10:56:42 +0100

    RequestChannel(SM, Contact, n != 0) yields a named channel now; update test

commit 0a3ad5198f55235fe48d17d8a049f37d572efccd
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-23 10:46:24 +0100

    Incoming calls now have non-0 TargetHandle; fix tests accordingly

commit 79b244a9749c17b4dd19936bc3dbc9aa43d05554
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-23 10:28:03 +0100

    MediaFactory: set initial-peer on new MediaChannel instances

commit d2977a9c373668da9024b462d1b5b8d779d3f23c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-23 10:27:17 +0100

    MediaChannel: add ::initial-peer, non-zero only if the peer was known at create-time

commit 04ce81badac9bcbead189be03ae372a4649c9112
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-22 18:20:06 +0100

    "Regression test for a bug" sounds better than "Exhibit a bug"

commit 1ba9977bc306064fbcd87eba6e274dbee50a2db6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-22 18:05:34 +0100

    Rename new tests to what they test, rather than the bug they demonstrated

commit f4e130653906587f21bd8f2b57432781a739f3ed
Merge: 172a017 53cf2b0
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-22 18:14:48 +0100

    Merge commit 'wjt/wjt-enhanced-caps-merged-again' into alban-enhanced-caps-merging-attempt

commit 172a017fb58d5bbb8d60ed754e1ec30b3addb048
Merge: d031ab0 33fd627
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-22 18:04:02 +0100

    Merge commit 'wjt/requestotron' into alban-enhanced-caps-merging-attempt

commit d031ab053b13692745fdc9206663bdf6ea2208d6
Merge: ffb437b 129896a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-22 17:54:57 +0100

    Merge branch 'master' into alban-enhanced-caps-merging-attempt

commit 129896a3bfdb4059accaa6241c390f02bc75f5ef
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-19 17:07:41 +0100

    presence-cache: don't leak computed_hash

commit 33fd627a47373e2e5ad3a7a22d53f7f759413305
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-19 17:29:46 +0100

    Don't leak a hash table on calls to GetAll('o.fd.T.Channel')

commit 53cf2b0af1924ab2794be5349168f6107789f80b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-19 17:18:55 +0100

    private tubes: include StreamTube.Service and Tube.Parameters in allowed

commit 5db8d8b1c2e87e8328b363d830dbcf37511ea232
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-19 17:18:33 +0100

    Remove .DRAFT from Requests interface name in a new test

commit 4a56e5804bdf78a6b693928a3c8d60cf1dc0015f
Merge: d74f367 fd3cf54
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-19 17:00:05 +0100

    Merge branch 'master' of git+ssh://git.collabora.co.uk/git/telepathy-gabble

commit c752ca83c17f9c977925dd7ce3c7b45a97504ae7
Merge: ffb437b afc3146
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-19 16:36:51 +0100

    Merge branch 'requestotron' into alban-enhanced-caps-merging-attempt

commit afc31469a2b4034534eb839bb3410ece5693693b
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-19 16:35:02 +0100

    Convert new roster test to use Requests.CreateChannel

commit d74f3676390ce8b068d08523e7fe81b565e12a6c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-09-19 16:16:28 +0100

    tube-dbus: use the DBusServer and not the address when checking if dbus_server_listen succeeds or not

commit c0658bbc3a5a4d7f6ef389ef6d2be2b4dc4472b3
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-19 13:48:32 +0100

    Initial NEWS entries for Requests

commit d4645446b330c32b283238704a012c85c9c165f6
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-19 13:48:15 +0100

    Depend on telepathy-glib 0.7.15 now it's been released.

commit 3cd35bd6d6ead0be37abe27af61fb22197ec7e19
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-18 19:07:16 +0100

    Roster: include request token with new-channels if the roster has already been received
    
    This fixes the bug exposed by
    tests/twisted/roster/request-never-answered-2.py

commit 3e65df0289ff2a656c026a5245a9140f968f0d38
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-18 19:02:52 +0100

    Add new tests and remove removed test from make check

commit 9d0edb3c9a937e6346d03482d8544ce7a411a0d2
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-18 18:58:36 +0100

    Add a test for the reverse of request-never-answered.py
    
    When the race in test-group-race.py had the wrong result, it triggered a
    bug in the requestotronned roster code.

commit d37037c2f18fce3765561a384ad8d58513ef8688
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-18 18:57:24 +0100

    Replace test-group-race with a test using the new test API
    
    In the process, fix a race condition in the test itself!

commit 9194777ca91fd8c227499e02f4f87af3a4a5c3ee
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-09-17 22:39:22 +0200

    Updated new jingle code to new file naming scheme without gabble- prefix

commit 565a5b196a1e006834446fbe4f57bd88636b68fe
Author: Senko Rasic <senko@phyrexia.lan>
Date:   2008-09-16 21:10:56 +0200

    first attempt at refactoring jingle signalling support into separate subsystem

commit e395af576278cc2b25f7507e85297066bd1c1f9d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-16 12:18:41 +0100

    Reject contact list requests containing unknown properties

commit 420d9b722dfd84ba631a600186805ab70bf9dbe0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-16 12:18:06 +0100

    Reject roomlist requests containing unknown properties

commit b0b6672433d9dbc868b8e652113aa73e1d863edb
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-16 12:17:45 +0100

    Reject 1-1 tubes requests containing unknown properties

commit 501cf16fc4c9729bf544b55f56f232c6158b5378
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-15 19:20:56 +0100

    Update extension XML to spec 0.17.11

commit 2691fc7cd429bfe3998ef7c39a8d1f0c20663567
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-15 19:03:06 +0100

    Remove DRAFT from Requests iface name in tests

commit ffb437b5d45039e2dc8e7d47cf4a125997675c7c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-15 16:40:44 +0100

    Update spec in extensions/: Contact capabilities

commit d06e2888960feb51a0c5daf6067701428bfe141c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-15 16:40:31 +0100

    Update spec in extensions/: tubes

commit c19b3b26eba77451576f2f21fdb4e65650d6c09d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-15 16:39:55 +0100

    Update spec in extensions/: Channel_Bundle and Channel_Future

commit 08459dd4d4a97743a73dd15589f5d30fa560e516
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-15 14:43:44 +0100

    src/private-tubes-factory.c: Better explanation for TubesCapabilities

commit d15a5ebfdf016da58b34e9620b51cf86fa449e60
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-15 13:18:03 +0100

    Update function names specific_cache -> cache_entry

commit ff71debb4fc9bfefad5ef30ef167873ed549cf9a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-15 13:02:14 +0100

    src/presence-cache.c: add documentation for CapabilityInfo::per_channel_factory_caps

commit 5e347236e8d56ea828db4c80256e6c6847101fdb
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-15 13:01:51 +0100

    src/connection.c: Fix a leak

commit f7d58bcc7b691b2130909c7c31781d8d8d33aafa
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-15 12:06:14 +0100

    connection.c: Fix bogus documentation

commit bf3a4804aa95cc202a833046e302242bd3bfa224
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-15 12:01:51 +0100

    connection.c: use TpHandle instead of guint

commit 0ab709c402f11c666919114f7c93e1f11ff54ab7
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-15 11:50:19 +0100

    Typo: s/enhenced/enhanced/

commit 750ee7b9a9801fa5d81295f546b24a046c50a54f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-12 15:18:38 +0100

    caps-channel-manager.c: add assert: update_capabilities cannot be called on channel manager that does not implement the caps interface

commit fe1c107eb10da544e84e21010d5adc54f296fab1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-12 12:36:36 +0100

    Use TpChannelManagerIter to iterate over channel managers.

commit 3646db92832a4d0c877128e1b1683aa74e88149a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-12 12:35:25 +0100

    struct _GabbleConnection: remove fields for requestotron, obsoleted by merging wjt/requestotron

commit fd3cf5450657797f55d8d09dfb7677ba1579fb25
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2008-09-12 12:08:57 +0100

    Added a test to make sure aliases are saved to the roster on updating.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 29513ffe39228422cdf3a39e0fbb05fdd915ef48
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-12 11:54:19 +0100

    Fix merge issues after merging wjt/requestotron

commit b80beaf86216ae83b77256171613f727a618b5d3
Merge: f4d0efc e6f08ae
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-12 11:53:34 +0100

    Merge commit 'wjt/requestotron' into alban-enhanced-caps-merging-attempt
    
    Conflicts:
    
    	src/Makefile.am
    	src/im-factory.c
    	src/private-tubes-factory.c

commit f4d0efcf4aaa382776e136dcf5256b6fdccf46ac
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-11 16:42:06 +0100

    Remove useless diffs that should not be in this branch

commit fefe0cf2c1ae02c3a46feb03358d444d3265c09b
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-11 16:07:07 +0100

    private-tubes-factory.c: Fix gabble_private_tubes_factory_update_caps: do not call tp_g_hash_table_update with source == target

commit c7f47c36389ad42a47987d164f0923d0ad4aaebf
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-11 15:30:50 +0100

    Proper cast to fix GLib-GObject-WARNING and im-factory.c implements GabbleCapsChannelManager correctly

commit 7024b72ca3b8bbdde97b28adb56ff97a95a57024
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-11 14:56:14 +0100

    Split GabbleChannelManager in 2 parts: GabbleChannelManager (will become TpChannelManager in tp-glib) and GabbleCapsChannelManager (will stay in tp-gabble)

commit f7c6faa3307a8519436f004550df287c6f76d2b6
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-11 13:40:08 +0100

    src/presence.c: coding style: remove trailing spaces

commit 34f4ae59554b4db180f2235d9941012b69eec26f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-11 13:39:02 +0100

    Fix warnings by using the right cast

commit ac0c0963c67b2ebf0e8e33e8379afdb195c682c3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-09 17:58:52 +0100

    Comment virtual methods on GabbleChannelManager iface

commit a42fe375fe5b1ec46941893118eaf6e26d2c72fc
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-08 13:48:34 +0100

    src/private-tubes-factory.c: fix a leak

commit 683b68b8226119c1d8d10ffe181af6dc4b785c12
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-05 15:45:28 +0100

    Update the spec in extensions/ to remove possible errors on GetContactCapabilities

commit 8e69567116086f50bb91853c98cb84a3a1c2c82c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-05 15:22:36 +0100

    Update the ContactCapabilities spec in extensions/, finish the implementation of caps advertisement, write a full twisted test

commit 202cc1ce43536eacfa740ee7e5b8c42f9d5492a4
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-04 14:58:03 +0100

    test-caps-tubes.py: Update test description with its content

commit 4d47989e6bce172cbdf0bf261e9a5c18fa340034
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-04 12:35:49 +0100

    Import AdvertiseContactCapabilities in extentions/

commit 13a369df3020791b8931860fdf03ae8a8e8c4fa3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-03 20:45:53 +0100

    Fully implement signal ContactCapabilitiesChanged. Update unit test.

commit 779f51c22cb3eb276f32a0bd67e89428f8900bc5
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-03 16:26:44 +0100

    Emit ContactCapabilitiesChanged, and update twisted test. The signal is still empty (to be done)

commit 6fdc2640bbf8c99c03a267c48d089e130da4d20e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-02 19:36:49 +0100

    Parse the caps stanza for tubes in the tube factory, using the channel manager uinterface

commit c832d29cce467ce38a593ca1dc74c3bc8e81e222
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-02 18:02:53 +0100

    Abstract enhanced capabilities in channel managers

commit e1a19635376baf0dfb5cfe953fc44c2a42df7ff4
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-02 13:56:06 +0100

    presence-cache.c: Fix the caps cache when the first received caps is void except tubes caps.

commit 55a3b62622b5bb8583167b3d227563de83f24a2a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-02 13:54:34 +0100

    test-caps-cache.py: Check that caps in the cache are persistent

commit b09545b70baddbdf68e64bd6ccb6c3529c7bb85d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-28 16:31:31 +0100

    test-caps-tubes.py: test the caps cache when it contains tubes

commit 28a7392a8b8c6e9080439436c6778f5ce5745d3e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-28 16:26:03 +0100

    Add signal ContactCapabilitiesChanged in extensions/

commit 9ba29a284af17a933599e61d3eac14b8c4e4b95b
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-28 15:21:43 +0100

    Test tube capabilities via Contacts.GetContactAttributes

commit 53ebe689fdc8c37f28b0da2f14158b459f6a1362
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-28 14:35:00 +0100

    More tests for tube capabilities: both D-Bus and stream tubes, and advertise several tube caps at the same time

commit a2e28cf5fd3148a2164b128aa2018d94cc08f26b
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-28 14:32:42 +0100

    Advertise D-Bus tube capabilities

commit 07064c1bd8685a0e16a37bf57b24dc37c8da6a82
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-28 12:54:48 +0100

    Add a basic test for stream tube capabilities

commit d1fef2ac3df239db9cfe4a38c0addf3db80b0ee9
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-28 12:50:23 +0100

    Fix stream tube capabilities

commit a60c175a20baee4e2761a108e1abd9401dbefed3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-27 18:23:07 +0100

    Tube factory implement its part of GetContactCapabilities, reading the Presence structure

commit 374d27e85b320e959e42cdba4ae2e61c634cc170
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-27 17:30:02 +0100

    Each channel factories add its own set of caps for a contact handle

commit 765d7ac5f06a455a71c22750da2f254cb385605a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-27 16:57:34 +0100

    Update the spec (GetContactCapabilities), avoid Bug #17329

commit d6b0dc603252edf01f526d1b77b8950c2cc72196
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-27 13:04:04 +0100

    Fix leak and comment in new capabilities API

commit 3bba299330732138f0054d634fe042c38b633b1d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-27 12:44:51 +0100

    Add tubes caps in GabblePresence and Resource

commit 3fe147aace4cfe1081ebf6c34a954d8dea3a2f08
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-25 18:06:04 +0100

    Parse and store received capabilities of tube caps

commit ac39607e0806ec03ae6b1acd3c517efab9a89bda
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-25 15:30:26 +0100

    Copyright update to 2008

commit 925aa467842d0b3598f0c6619dce4b7badd331ed
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-25 15:19:54 +0100

    Always returns text channels with Connection.Interface.ContactCapabilities.DRAFT

commit 5b2bf491c78d2726f85aeb2792b9090247ec7352
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-25 12:03:53 +0100

    Add empty implementation of GetContactCapabilities on Connection.Interface.ContactCapabilities.DRAFT. Also requestable with Connection.Interface.Contacts

commit 64d0e433f4e72c14c579a718e8f4e5fe8f776bf1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-25 11:03:30 +0100

    Add spec extension Connection_Interface_Contact_Capabilities.xml

commit 0043df23c6ceae5b5d0061021652e2f69f7eec28
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-11 13:23:08 +0100

    tube-stream.c: coding style: remove trailing space

commit 6407b8087badc7f08fbfe9fac3decaf8f5c3e738
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-11 13:22:37 +0100

    tube-stream.c: Fix warning: use g_return_val_if_fail with the right return value

commit f3d15720dc3c79f0c9cbd633aa5f39f3031901d0
Merge: 1151b7e 184aaca
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-09-11 12:40:45 +0100

    Merge branch 'master' into alban-request-tube-channel

commit e6f08aebc19cc38f82f2a8d5d655c69da0f161fe
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-11 11:19:25 +0100

    Connection: TpBaseConnection now implements Requests; don't implement it again.

commit 3c9e6bd556cd71fca46214ffd9eb659fd529b198
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-10 16:55:47 +0100

    MucFactory: reject requests containing unknown properties

commit f42bfbf5a2d2e7897d2470088eddc91a9218a7b7
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-10 16:34:50 +0100

    MediaFactory: include TargetID in allowed; reject unknown properties

commit a839057658453c673346ce4cdf3dd4db26070dd2
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2008-09-10 16:24:49 +0100

    Set a handle's alias in the roster so that vCards aren't fetched on every connect.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit 79fb2e584497c7f87b818ce2f4e1cdeda63467d0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-09 12:02:43 +0100

    ImFactory: Include TargetID in allowed properties

commit 780c08d614a03efb2ed6637b4b66933277a27fd0
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-09 11:58:34 +0100

    ImFactory: reject requests containing unknown properties

commit d8ae9656cac3d76433d88d3874bc9c26a4b85c5d
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-07 19:11:19 +0100

    Don't generate Conn.I.Requests bindings

commit 974b672658b4faedc7dd8437517c947fa711ab46
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-07 19:10:45 +0100

    Use Requests implementation from tp-glib; remove local copy.

commit 2ee4db9b0848569a3f824736006fd69a13b5964c
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-05 13:43:20 +0100

    Use TpChannelManager; remove GabbleChannelManager

commit 4d34d8c1b67b4c269e2049a7308c8259177d2e68
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-05 13:34:30 +0100

    Use TpExportableChannel; remove GabbleExportableChannel

commit 74843435b6a46fe17cf9da5317cc09e7dbad07ad
Author: Will Thompson <will.thompson@collabora.co.uk>
Date:   2008-09-05 13:33:38 +0100

    Requestotron: copy changes back from Salut before moving to tp-glib
    
    Confirms that the test suite still passes in light of slight changes to
    the API.

commit 184aaca6b4a93db403d327d65de00f18e6364222
Author: Will Thompson <will@willthompson.co.uk>
Date:   2008-09-04 09:00:14 +0100

    Bump nano version to 0.7.8.1

commit 8eb489e63e27d3b0f2f80ab78ae46196e164979b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-08-29 12:18:57 +0200

    Implement ActivityGadgetAvailable and BuddyGadgetAvailable D-Bus properties

commit 0186bef81681a8e9fbfef065c00bf6da063303ad
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-08-29 12:18:37 +0200

    OLPC_Gadget.xml: add ActivityGadgetAvailable and BuddyGadgetAvailable D-Bus properties

commit 32ed1ad052aa429d583ecaef2ca8614b42617df0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-08-08 11:35:16 +0000

    conn-olpc: add a comment explaining why we can't check gadget subscription
    
    20080808113516-7fe3f-7957fae71f4408cc88ee1a50c9f1a9525c52a8b9.gz

commit dfd0d3f39888be6c4ac99567d3dbbd4819fb525c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-08-07 13:04:07 +0000

    fix conflict with HEAD
    
    20080807130407-7fe3f-42b0663488138536316071612fb52bfc413fc6b3.gz

commit 03ff64d27c748d5c90d059fc145c177b38359d88
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-08-04 12:39:21 +0000

    conn-olpc: close open views when Gadget is restarted
    
    20080804123921-7fe3f-1fcbf800230a3a2a9621069e96b8ba8c778994a6.gz

commit 44cdce57ceb611f028d0e410ec8dd5f1831ea47c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-08-04 12:36:06 +0000

    conn-olpc: fire the Closed signal when views are closed
    
    20080804123606-7fe3f-5ac5b3c98aa77eac20a50b031f2f2d23eec3815c.gz

commit bf3aaed09aa2a1a6c696da215ab6d07aefdcb296
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-08-04 12:30:58 +0000

    OLPC_View.xml: add a Closed signal
    
    20080804123058-7fe3f-687d6435bbc18fcf98610f0676320fdc26658fb9.gz

commit 1a017f3d2d174e0a173aa6f218f69eca6525f27f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-08-04 12:00:22 +0000

    conn-olpc: factor out gabble_olpc_view_close
    
    20080804120022-7fe3f-d8534a9bd84e22b2d27a36846cb3938710fb8194.gz

commit 0fbe0173bffb4d800bcd3c011620f822e66afe4e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-08-01 13:54:57 +0000

    conn-olpc: send "subscribed" presence in response to "subscribe" presence instead of automatically send it when Publish is called
    
    20080801135457-7fe3f-6a5b34ad3ce5200e7037e9124090f33f404916e8.gz

commit 0ee7eb7fa340f765ed0eb6aebe6ec11cf5711d29
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-31 08:34:21 +0000

    olpc-muc-prop-change.py: remove accidently commited delay at the end of the test
    
    20080731083421-7fe3f-7281fc06916824e4c1893c0427f6df4acea02de4.gz

commit f6e6dae07637fadeadf7c9c00cd8edd2a0a29b1a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-30 11:07:25 +0000

    raise an error if SearchActivitiesByParticipant is called without participant
    
    20080730110725-7fe3f-4eab987556f5b305a22453898f52d709263f6069.gz

commit 92246a3390e9b044a650c0d8c7fe9ca2c22f3500
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-30 07:54:58 +0000

    conn-olpc: fix conflicts with the SimplePresence branch
    
    20080730075458-7fe3f-700a49eb54f123144d0f04e5434411d08d305d02.gz

commit 5a513db613bcdf5fd9a8d999b4dbb19025dddb73
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-30 07:45:23 +0000

    conn-olpc: fix unsubscribe to Gadget
    
    20080730074523-7fe3f-649ca3ab94316384ab3a279256b254b470cb82fa.gz

commit a248582de7929d15b581e98ecd66545a4d611cbc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-29 15:50:47 +0000

    n
    
    20080729155047-7fe3f-03d721723e6f29a7938a724adf8063cd88579e2b.gz

commit 99c8c549a33155a63405a586646b7a5069cd6ba6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-29 15:47:40 +0000

    olpc_buddy_info_set_activities: fix ID leaks
    
    20080729154740-7fe3f-6652cd3e07b904ee39815a67bab774337303ed84.gz

commit 87ecfa8c1bfd557b029819c235b17a67b187b1b2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-29 14:25:50 +0000

    move disposing of connection's OLPC structures to conn_olpc_activity_properties_dispose
    
    20080729142550-7fe3f-b20a4e034b6a7b715f7b5e4b3d0afb068df318ca.gz

commit 95f546c409ed8ac498f3cd2283f49cbdf43146bf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-29 14:00:49 +0000

    exec gabble with refdbg when tests are runned with GABBLE_TEST_REFDBG
    
    20080729140049-7fe3f-a3ea0bd5847dbd228ab84f00e69cac58377a3d73.gz

commit adfb30fa85da3064990e382075f35a3fbecdf71c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-29 10:55:28 +0000

    conn-olpc: populate_buddies_from_nodes only extract properties if buddies_properties is not NULL
    
    20080729105528-7fe3f-eb9ae24097c40b60727a6ae60773a29defc0713c.gz

commit 88bafd0c262a742f572f23a72a39950875de6406
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-29 10:19:55 +0000

    conn-olpc: properly free all the ressources allocated in populate_buddies_from_nodes
    
    20080729101955-7fe3f-35152badb328f8e440c7b243476aee5613b3fc5c.gz

commit 62a308e4b6429059fc9511a0c7bfee9cd146743d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-29 08:43:56 +0000

    conn-olpc: unpublish is broken, we should fix it
    
    20080729084356-7fe3f-19a7efa4a9c0aff68ea279a79dd87ffc056fd195.gz

commit 6ef2a73f4ea0e8d88f7bd7e6720c924ab89529c7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-29 08:43:18 +0000

    conn-olpc: extract_current_activity: don't ref the activity if we just created it
    
    20080729084318-7fe3f-388bd55e7af454f52229917874642aaac43bf885.gz

commit c584c5ec164b3a41a6849d8b39b18862c43349e1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-28 16:03:59 +0000

    conn-olpc: coding style tweaks
    
    20080728160359-7fe3f-ddfb831f04d8235e340bf24e0212ea8dd275611a.gz

commit c5582f5fe4abf8b11d4440821b02e3f28b127c20
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-28 15:59:12 +0000

    no need to call check_gadget_* when receiving a message stanza
    
    20080728155912-7fe3f-80f670c9121d2ea0766f604acaf43ff98694901c.gz

commit cc744ac03871c4b65e1168c0cb14b391fe307791
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-28 15:55:06 +0000

    conn-olpc: improve comments
    
    20080728155506-7fe3f-d6593f82a206be04ef36f12bc70f44b3a1b5e5b9.gz

commit 5c5ace674db1ff63046ee2e03768223a04e2ba53
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-28 15:41:00 +0000

    olpc-olpc: buddy_changed: no need to check twice if the view is not NULL
    
    20080728154100-7fe3f-9bd81fac42aa8147cfedb2ffbed04e7c575f1da4.gz

commit b999f17203cc6103e9531d75139445f64b9c8caa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-28 15:39:14 +0000

    no need to ensure the buddy handle when receiving a change stanza
    
    20080728153914-7fe3f-b8add3b12c133569107bcefa47f00813af68c13d.gz

commit c130a0a962be286c5d66e5078a9a61e944692f07
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-28 14:53:17 +0000

    gabble_olpc_view_buddies_left_activity: no need to check if removed is > 0 before calling gabble_olpc_view_remove_buddies
    
    20080728145317-7fe3f-8ebc64fe03667813df4b7b8be17195a28794d6d6.gz

commit de63dfaa6c0b9f11a924efcc172a1bbc79a76472
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-28 14:50:46 +0000

    olpc-view: fix typo in comment
    
    20080728145046-7fe3f-f3e97af00dd799eaffd4a5d2f2bf9b84bc7de207.gz

commit ba70cde262b90ed84fee1aa3d9e29dae48430cb6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-28 14:45:05 +0000

    check if the number of buddies/activities to add/remove is not zero
    
    20080728144505-7fe3f-f73498828c4bf9d7a7da9ca60f1f4f9e99f37242.gz

commit 56bdcacd8d6fcb2466b2e4fc2d63dde266d6b45d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-28 14:27:40 +0000

    olpc-view: move creation of all the hash tables to the constructor
    
    20080728142740-7fe3f-ceb1c50d05ad4049c277ad3a4ea62556f6a5b76d.gz

commit 40ee49171ad50881ca4b3fef730c239b453b2de5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-28 12:42:04 +0000

    olpc-activity: coding style tweaks
    
    20080728124204-7fe3f-d611ac4e9c002e71e0cb84b8d7e08638c425a482.gz

commit db1b90f463cdcc6aec74fa2a6342a5c8f5eb3d49
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-28 12:21:56 +0000

    roster-channel: remove _gabble_roster_channel_send_presence, call gabble_connection_send_presence directly
    
    20080728122156-7fe3f-74589d0c9ac8c224aeca02e6f214d27b21eb78f6.gz

commit ad88e0a78fc932c20d3722d3bed2044b666ed612
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-28 12:20:15 +0000

    connection: remove \n
    
    20080728122015-7fe3f-8630453ae9e8cbbbe1f4aee9ef7520cce37cb74c.gz

commit 9cb6d5b812c57b029930e78f1d0966cf11d83ab0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-24 13:03:53 +0000

    olpc-buddy-search: remove fixed FIXME
    
    20080724130353-7fe3f-9f985810546f79651d5c28765e087dc4c891cda2.gz

commit 27ebfa3a3f38269e7bc319a9a6ae578c9b65d984
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-24 12:50:51 +0000

    implement SearchBuddiesByAlias
    
    20080724125051-7fe3f-b82535e53fa57f35576080fb0712437e5a7efc15.gz

commit aeeffd2cd92cc2f9dd488a42b89ae7b450c5153b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-24 12:50:27 +0000

    OLPC_Gadget.xml: add SearchBuddiesByAlias
    
    20080724125027-7fe3f-3958deb79fa2abd439c5888b32baf6ef6d2729b6.gz

commit 977fedc6a02ca101d69ea532650fa3250e15679f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-23 15:48:05 +0000

    olpc-view: wrap big lines
    
    20080723154805-7fe3f-ec139b19cfdf8051f5edade011d76fcc9400af85.gz

commit 2cc4ee1db9159bb824ae92c72068d88c01deadc1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-23 15:34:50 +0000

    gabble_olpc_view_get_buddy_activities: explain in which case we could have a buddy marked as member of an unexisting activity
    
    20080723153450-7fe3f-eb473f5b06933139dee0d752980c01e622e880b7.gz

commit d44502065042a6bca72feaa1d19a3279701ae750
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-23 15:25:45 +0000

    emit the BuddyInfo.ActivitiesChanged signal after View.BuddiesChanged so client knows where these buddies come from
    
    20080723152545-7fe3f-4e1b5234d399e6cd8464a292bc4c229246176d08.gz

commit a78aae148ccf3ccd778e82712f91473a910b17a8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-23 13:58:04 +0000

    add activities to view *before* their participants so the BuddyInfo.ActivitiesChanged signal is fired with these activities too
    
    20080723135804-7fe3f-230960b1310f0c7437657ca215910181fb284f5e.gz

commit e5644ef747aa0e777b389c4538e0da2d745a5d56
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-22 13:19:17 +0000

    coding style fixes
    
    20080722131917-7fe3f-6d0dc41248bae51be9238ed7c0ebed8781971bbd.gz

commit 93a2e38a4a305a265be05e8dfbe2149d575f3090
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-22 13:11:59 +0000

    olpc-view: fix headers
    
    20080722131159-7fe3f-cfdd83187b454bee65d3817296dca21f2abddc28.gz

commit 608e21fb62f4d0a4fcc6e42a56658a9405653719
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-22 13:11:41 +0000

    olpc-activity: fix headers
    
    20080722131141-7fe3f-f941d0245ed2460ef3cb8697c21bdc251cac8b8c.gz

commit 44807dcd9d776a35c3f19d56f6eb1d090483c19e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-22 13:11:26 +0000

    fix conflicts with HEAD
    
    20080722131126-7fe3f-83a272c43cfb6f136a7d753215f3615a4adb9a9a.gz

commit fb3b141f41edf29f383bfb55ad8e034b7416bc7d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-22 12:58:46 +0000

    don't add Gadget's inspector to muc's members list
    
    20080722125846-7fe3f-1592f26b81a3d1690318f134ff461339563766ad.gz

commit b19febfcb015c67efa4546eee176854d334f046a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-17 12:52:06 +0000

    conn-olpc: view joined/left announcement protocol
    
    20080717125206-7fe3f-6fbf0cb4f6284a4f337d2dc23a2aa1ecf8444396.gz

commit ede26c4a3f94e235ddbbf2f479df04a17d0af588
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-17 08:32:39 +0000

    claims buddies left their activities when the view is closed
    
    20080717083239-7fe3f-fb2de1d7956fc9f0560fde2562fb2159e9d154c5.gz

commit b63c0e0b2bae41c88c944c09f5491a1743f3e360
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-17 08:01:46 +0000

    conn-olpc: remove fixed TODO
    
    20080717080146-7fe3f-02379bba2022b901839be383af10e9036a9e2fd4.gz

commit 90f97eab090fd3c0c20c9c0df6f8a0dab7b4173e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-04 13:12:03 +0000

    set the right node name in _make_pubsub_event_msg
    
    20080704131203-7fe3f-f0db29bab4108889c0618e97d66cc1e9d1c0129d.gz

commit f4e8475d9abd1dc543f4b702f0990ce68e7007a6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-03 13:39:53 +0000

    remove fixed FIXME
    
    20080703133953-7fe3f-b858630f14139aff66daf725741869a83111f8e4.gz

commit f97b6c1c81757d61a8f32b03a822e63956f24fc0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-03 13:33:56 +0000

    use "id" as attribute instead of the old misnamed "type" attribute in Gadget current-activity change message
    
    20080703133356-7fe3f-f000fd3241086f0d9ef57305826c59eb93547572.gz

commit ca68c2659a7c107ec678017e3272419bc5622f31
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-03 13:23:31 +0000

    olpc/util.py: _make_pubsub_event_msg: use elem() API
    
    20080703132331-7fe3f-8c4810fb03e763adbbf1b5c128e5fbb206a2b414.gz

commit 8fd813a661f8cd4e051c5abd2531d92fa22b33e5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-03 13:18:35 +0000

    olpc/util.py: check request structure in answer_to_current_act_pubsub_request
    
    20080703131835-7fe3f-5a254faa3a716551b27ba1c7d0a2869f701b7ab9.gz

commit 45c5da76d8e6f7936f525be9a57babed5ba4d861
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-03 13:07:44 +0000

    answer_error_to_pubsub_request: extract the node name from the request
    
    20080703130744-7fe3f-54405719657fc0825d6a58f007ac394f0f1cdcfb.gz

commit 97c837f870973a670b87c728bf80968b6f2739cb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-03 12:54:07 +0000

    olpc-activity-search.py: factor out close view code
    
    20080703125407-7fe3f-cdb08ea272965ab7e92f52c290ab5c83765b0235.gz

commit e2b2a216ba083516769d93c52a855dc661d0184d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-03 12:35:08 +0000

    factor out send_reply_to_activity_view_request
    
    20080703123508-7fe3f-fe22e91093094e78a3d8fb868cac3716717c0fe9.gz

commit d8b239692785c45cc33443407892bdcbef321eef
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-03 12:19:39 +0000

    olpc-activity-search.py: use answer_error_to_pubsub_request
    
    20080703121939-7fe3f-ed2070f8f5de11b4df626f7e3573fe88557e24e2.gz

commit bdf3b8cc145e0a12df82de6144faf0c4052ecda0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-03 12:08:24 +0000

    use request_random_activity_view in olpc-activity-search.py
    
    20080703120824-7fe3f-5644e957f660ae87ac2bcb389943585b10627f05.gz

commit 9cfa68bda295b1744fda957d7896a39d865df008
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-03 10:49:12 +0000

    factor out request_random_activity_view to olpc/util.py
    
    20080703104912-7fe3f-31aea7360cca23569cb6ccefac05d84918b8e60e.gz

commit 6ad122613e48f780dbecb3efc8607bba559cfd82
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-03 09:24:39 +0000

    factor out send_gadget_current_activity_changed_msg to olpc/util.py
    
    20080703092439-7fe3f-b79990ea4a3e9b3877842f83cbe9dc8fe8514ab0.gz

commit 5efd0ea24411815f4587353bbac4ff2adcd1be8e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-03 09:19:56 +0000

    gabbletest.py: special case the 'from_' attribute in elem()
    
    20080703091956-7fe3f-5a3150b84f0d23f95cb2c1b64af4155f7f22b586.gz

commit a5113814c138e137ea863446ba1cfd4052649b77
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-03 09:08:42 +0000

    factor out answer_error_to_pubsub_request to olpc/util.py
    
    20080703090842-7fe3f-cfd29033adddb90a4dc5f4f27f905392a4d81d27.gz

commit 520f28479d1752e045647252930217d8be11dee3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-02 15:52:45 +0000

    factor out answer_to_current_act_pubsub_request to olpc/util.py
    
    20080702155245-7fe3f-0dedd31ec2dda1c9659cd1f080176cea8895292c.gz

commit 3f245358f212b6591e3883196e6febd9d56b1d56
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-02 15:43:06 +0000

    change-notifications.py: check if that's the right contact in the PropertiesChanged signal args
    
    20080702154306-7fe3f-beebee377996afc1075e02a79014260ce02bcb48.gz

commit e82d2e498405aa2a4193b92a24b24040125b5ad9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-02 15:39:50 +0000

    factor out send_buddy_changed_current_act_msg to olpc/util.py
    
    20080702153950-7fe3f-063c40ffe28cbd04ffb027341640e55db2e3552d.gz

commit dcdcaecf47be15db42371322d3eaffd370377733
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-02 15:28:09 +0000

    olpc/util: add a comment explaining why we can't use the elem() API
    
    20080702152809-7fe3f-74af7dfa0c241fa94bec55ab5a054d47b50bfa6a.gz

commit 4f485cd479f0a8bf85b4846bab053cd36ca348e8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-02 15:27:00 +0000

    factor out send_buddy_changed_properties_msg to olpc/util.py
    
    20080702152700-7fe3f-881916fa5a33faf8e84925bea6e36ef23b2b67c4.gz

commit f0f83a987f08c626251908ca799c0eddc6224489
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-02 15:25:49 +0000

    olpc/util.py: backport parse_properties and properties_to_xml from Gadget
    
    20080702152549-7fe3f-e5e43e0639cdd6d7c9683dcd93447cf0467296ef.gz

commit 0a0d468482a0dcadb9e2b0e2ccddb0ef18975d03
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-02 09:59:10 +0000

    renma olpc/olpc_test_helper to olpc/util.py
    
    20080702095910-7fe3f-24d2fa6a9a1ba98ba1d31d9cdc382a2cf601d1a2.gz

commit 60307f6165b9da8429f168b93cdc8833b10295db
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-02 09:50:20 +0000

    olpc_test_helper: use elem() to create disco reply stanza
    
    20080702095020-7fe3f-5a9e7fac4777c5618b22aaaded3bbd2d7097c9ea.gz

commit e7f3a6569ffcee364841aad1004e24bddd23b1ce
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-02 09:49:37 +0000

    gabbletest: backport elem() API from Gadget
    
    20080702094937-7fe3f-7dd04f15ca9a32e10ad5ac6996d2bb575888b50f.gz

commit 85c558d9ac5eae5446113fd13c30d4581247461c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-02 09:18:19 +0000

    factor out announce_gadget to olpc_test_helper
    
    20080702091819-7fe3f-dd70a4dfe2a838f0a304e9a22718952eaebcb26e.gz

commit 3008599d1cff9d7b7f5641cb3239b3429973f54d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-02 08:28:42 +0000

    implement a current-activity-cache
    
    20080702082842-7fe3f-611278a0234cc73ac7b1775686a2ce7737aa8d6c.gz

commit bb23f51e6618addadbda894d4742cab10b720df9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-02 08:24:06 +0000

    change-notifications.py: remove current-activity test. We'll create a new test file containing all the current-activity related tests
    
    20080702082406-7fe3f-1c23f09c05eb591b120276a203694217e43b3eb2.gz

commit 21badd11733c1ab5589e613f8620f6ec6f38602c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-01 14:36:28 +0000

    conn-olpc: extract_current_activity now returns GabbleOlpcActivity object
    
    20080701143628-7fe3f-33ba386922f6953f8adf146b477ad0ca083884e2.gz

commit 6036dfee528f15d4d81a7527455b44bafaeeaa46
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-01 12:00:10 +0000

    big cleanup and simplification of olpc-activity-search
    
    20080701120010-7fe3f-4901a61bb2d034f55e755acab524f2647c57fa2f.gz

commit 170b7edb056582f83e3a7036e5f710c88962e2f1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-01 09:59:01 +0000

    conn-olpc: remove fixed FIXME
    
    20080701095901-7fe3f-0fa4e3f68d099590824eaf3518f72a8830fe4dd1.gz

commit c328d0c67e31fc48fbc38be02b5f6998a5545b34
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-01 09:56:19 +0000

    fire BuddyInfo.ActivitiesChanged when activity views are changed
    
    20080701095619-7fe3f-865efb2cc381f65c4ccd1739106ae651f32ba357.gz

commit 6eab2451cb0ae96afe36990ccf4adac594b44ba5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-01 08:12:35 +0000

    olpc-activity-search.py: remove a fixed FIXME
    
    20080701081235-7fe3f-23c628977c23bdee071e57d38b18b3e2103a7301.gz

commit 68b39e2caf60ad114401b603446178bf95af5ac7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-30 15:58:09 +0000

    olpc-activity-search.py: test if buddy are not removed from the view when they are still in one activity
    
    20080630155809-7fe3f-d1e7760c14860addaa7742723516fa32d15576a9.gz

commit 28fb9895f81776d78765779778971a928e36ecb4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-30 15:43:11 +0000

    olpc-activity-search.py: add a participant to activity4
    
    20080630154311-7fe3f-872ad20c295d1338fdc25e2308bac3368f7cf502.gz

commit eb33e44296763371474015beee699cd46784893a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-30 15:32:25 +0000

    olpc-activity-search.py: add a participant to activity1
    
    20080630153225-7fe3f-8492ec6e5edbc962c890d3999f407b429a927daf.gz

commit d2f9f406fb028085632ae3f4d0d08c1bb0aa75fb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-30 15:17:20 +0000

    olpc-activity-search.py: factor out check_view
    
    20080630151720-7fe3f-7fc3b25111099e1ee62bedc1d4943136535fc321.gz

commit 7fe9968c492359b8c0eab2fa68cdb596ba004729
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-30 15:10:11 +0000

    olpc-activity-search.py: test cleanup and do more activities/buddies tests on views
    
    20080630151011-7fe3f-9c68cdb7e34d9f58273e9e336985965ab14b6546.gz

commit cf2dd4f0f59352e0426264fe66eadd3ad7822e0d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-30 14:10:45 +0000

    olpc-activity-search.py: improve documentation of the tests
    
    20080630141045-7fe3f-0163db1fa69578c568a4745f8740d20ebfbfd8ce.gz

commit 6e87887045d186c7aa22cd7e28960029b8227e78
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-30 13:55:48 +0000

    manage "buddy left activity" message from Gadget
    
    20080630135548-7fe3f-b34938fa72a053f844b21ef8996589449eebbae8.gz

commit 52db0e9cff8e0c94f5059dcfaae7190c8fb70f61
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-30 13:04:56 +0000

    activity_membership_change: associate buddies with the activity when adding them to the view
    
    20080630130456-7fe3f-38f430de5d10cb820545f47551f079f04761dff3.gz

commit 3a5f16a82b73a6010e58d98845df04c8a51c94c9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-30 12:55:53 +0000

    add_buddies_to_view_from_node: early return if there isn't buddy to add
    
    20080630125553-7fe3f-88c2abff6de6d9ec421b7f6206562c08d601fd5b.gz

commit d31dddb6f62d19901f9f8089b4f0160378a424e8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-30 12:31:16 +0000

    add FIXME about BuddyInfo.ActivitiesChanged
    
    20080630123116-7fe3f-197a4372ddb447096e602186f0e2eb0be64a3b4f.gz

commit 4cd5ff97f01eecc21f2736715666f101d900f5fe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-30 12:11:21 +0000

    olpc-activity-search.py: check if the BuddyInfo.PropertiesChanged signal is fired when buddies join activities
    
    20080630121121-7fe3f-c17fd99bd1483bd4b92b75cec33d3fac36726450.gz

commit a74cf4ecd46372f20fa93b62ae75a3039eb4ec61
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-30 11:54:08 +0000

    conn-olpc: use add_buddies_to_view_from_node to manage joined buddies
    
    20080630115408-7fe3f-7fe3345021f6cf7d08d99c2095dc5da7d52dae85.gz

commit bf8705d9ab5045b8be3f7331657e581c64662921
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-27 22:59:07 +0000

    start to implement joined message stanza
    
    20080627225907-7fe3f-051b7f3d56f42273adc1c551639dc837df0f7e52.gz

commit a8f1b1ed01ade45474027fe7dc4f89ac9eee9a43
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-27 14:58:16 +0000

    conn-olpc: remove fixed FIXME
    
    20080627145816-7fe3f-156ef4a1959ab38f0f2d900d475b4d12237e7f4d.gz

commit 2cd92ed135365c504440ce764fa22bf6a6804d3a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-27 14:20:16 +0000

    olpc-activity-search.py: check if GetProperties return the right properties
    
    20080627142016-7fe3f-26c7267260b442cfd93ca119dbed124410309ecc.gz

commit 9b42240cb1489f14f9b036e38675150206b10604
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-27 14:10:31 +0000

    olpc-activity-search.py: test gadget activity properties change messages
    
    20080627141031-7fe3f-0edba7e3a4036404e685b127e79a472976cc5f81.gz

commit 4520d559c7d66bf2d5a95acb8511e3f7f73470ff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-27 13:36:52 +0000

    remove gadget tests from change-notifications.py. They have to be done in olpc-buddy-search and olpc-activity-search
    
    20080627133652-7fe3f-32632f8ec5110f6ea5e3e633ec4975c9b9d6bd80.gz

commit 92031541fc889a2fbc01e77c53b73d0919f3daf6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-27 13:36:13 +0000

    update properties stored in view according change messages
    
    20080627133613-7fe3f-03ef550868268d8d5c6717d32941e79e721f0967.gz

commit eb54e7b85c1a5602bc0de5f0ed9844b14bc3f0eb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-27 10:52:57 +0000

    use active views to find buddies activities when PEP query failed
    
    20080627105257-7fe3f-9aacafc3f67799061c4c7d529ec5600ddcd08ed1.gz

commit 3faa77ae0075b3d361e2b0ed2b5d326ee3ee6996
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-27 10:48:15 +0000

    olpc-view: add gabble_olpc_view_get_buddy_activities
    
    20080627104815-7fe3f-6ffd4bf0b2dd5451bb996bf544c38e7f9beba2f0.gz

commit 82003a8c8d7b5de878d03ad2d2c139840b259b31
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-24 13:18:14 +0000

    coding style fixes
    
    20080624131814-7fe3f-b6894f1dce0006e605b8070551282079f8605d7f.gz

commit f8091cff601b52371943cb6b9c7a1a95f7bfd76a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-12 15:34:53 +0000

    conn-olpc: add a FIXME about buddy views properties
    
    20080612153453-7fe3f-6095f4786fd740f33c489e6bb4c3ce5fb3db7a79.gz

commit 25f986995a412721996e974c6a3cd53370e905c9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-12 15:22:27 +0000

    olpc-activity-search: add a disabled test on BuddyInfo.GetActivities
    
    20080612152227-7fe3f-557f42752c6fef50575cb4d113a5964dcfed5fc1.gz

commit 2f6cc3236d40b46a72b31217480e388077b2bf92
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-12 13:50:27 +0000

    conn-olpc: add TODO about missing type of messages
    
    20080612135027-7fe3f-0d2ccb929a7657ccaaf45b5abed779c5cdd991a6.gz

commit c849eb96839feb8887d7bf380fe48726fc7e93a4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-12 13:28:54 +0000

    remove buddies from view when they left all their activities
    
    20080612132854-7fe3f-5bb85d1be15bc5214785a00c11a9d9f40ae0c59f.gz

commit b2007f08026cd5061d825fa1cfba3c6689cb760d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-12 12:17:32 +0000

    remove activity from existing views
    
    20080612121732-7fe3f-2bac629d1a74703830b0262a50bd714b1de390c2.gz

commit a73804e7b7df7e1c04a3d2b27a1b0856606d4dc8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-12 11:07:45 +0000

    olpc-activity-search.py: change activity returned in view 0
    
    20080612110745-7fe3f-da8379d4f2398b6fdc4a8d8f215467dc76974073.gz

commit c14068c876dd64a2ff415c8e66454ab592895727
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-12 11:04:17 +0000

    olpc-activity-search.py: change activity returned in view3
    
    20080612110417-7fe3f-1bcfba246fb92f70b60583cc82955c9bd791c502.gz

commit 7752cac990a7c2a73e912fd6e86db93f95acd442
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-12 11:01:35 +0000

    olpc-activity-search.py: add some comments
    
    20080612110135-7fe3f-b2ee08262858fcdd2acb45026b16aea887b1e366.gz

commit 440cae40b4b0a7fc55f66b39f5cd6f740b84905a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-12 10:11:47 +0000

    add activities to existing views
    
    20080612101147-7fe3f-1751a8e101d01c4666c62643c9def1370afe9e13.gz

commit 670fe97ee271b5e38a6e45c2105643e5b6b594e7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-12 09:23:41 +0000

    olpc-activity-search.py: wrap big lines
    
    20080612092341-7fe3f-51434bc1cc52fb8ce36c5000d791e8d5973074f7.gz

commit 94ef70a3058fa7e2fca797c492e9352acf222e35
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-12 09:20:04 +0000

    olpc-buddy-search.py: wrap long lines
    
    20080612092004-7fe3f-8e6cda3ed5611c30d54fe63ce2b805d652adf552.gz

commit 032d262a3cee4b2bf4881df6f73bc98c6ce4959e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-12 09:10:23 +0000

    conn-olpc: merge create_activity_view and create_buddy_view
    
    20080612091023-7fe3f-e3e7fde84d4ed34a24b79997f7486d930db928da.gz

commit 5d97a641b71829520df243fc6dafb435665fb7fd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-12 09:06:21 +0000

    conn-olpc: we don't need 2 view closed cb anymore
    
    20080612090621-7fe3f-ac544568c516abd72f41e734a07608cc2600285f.gz

commit caf3a11c53e2f511d808f78f1c9e726e0dc51179
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-11 15:35:17 +0000

    emit the BuddyInfo.PropertiesChanged signal after buddies have been added to the view so client are already aware of them
    
    20080611153517-7fe3f-d28d0436e2cd2e0b4c16985349f3b2d4e3bbabf4.gz

commit c16d429660b39e37b597e092090f65e90de91609
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-11 08:57:35 +0000

    use 'id' as attribute and not 'activity' to set activity's id in view replies
    
    20080611085735-7fe3f-94bf688222accca7ca15540e8dd62f8e90cd60cf.gz

commit 0a2c646feb2d7676f94c885804d93ca4cdcdf87a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-10 14:02:03 +0000

    change View spec to return the ID and the room of activities instead of just the handle
    
    20080610140203-7fe3f-6808301f7ebe86de0f274c28b1b9db038fa90ca5.gz

commit 41b3e90840502ad2b514ba440e22f7eb5ee52386
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-10 13:24:34 +0000

    olpc-view: store GabbleOlpcActivity objects instead of just the handles
    
    20080610132434-7fe3f-57a3de10a639aec98fd70d242445ae656af2981c.gz

commit 92f8e4c02ac83eb7d5d3e8b1ba9807f6060ad323
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-10 12:41:18 +0000

    conn-olpc: use GabbleOlpcActivity instead of ActivityInfo
    
    20080610124118-7fe3f-413868127d81ff6ad0649ca908f369fa6da3641c.gz

commit 5e996f6d3671f7fc288dc10fb2ca5cdeb54c41b1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-10 12:40:59 +0000

    add olpc-activity
    
    20080610124059-7fe3f-8809b150e150b33c0e2d812ab3a8ef8a70b26d3a.gz

commit 43cac86a73644ea08cc479462d1ed8d60055df34
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-09 14:36:53 +0000

    add activity attribute to view/queries reply
    
    20080609143653-7fe3f-2ee82a1499b214addd7276fcc64c8b86ac40356a.gz

commit 5ba28f0843c3683b1852b13640dc5b6e1c942abd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-09 13:41:54 +0000

    conn-olpc: use the auto-generated activity struct instead of our own
    
    20080609134154-7fe3f-2c8e9a8f31b5d0bdddab01dd89ac273335200a6f.gz

commit 8bcd3a0441f40417dae12b812a0db33196546cb5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-09 13:40:26 +0000

    add an Activity tp:struct type
    
    20080609134026-7fe3f-1a4b2e936f92aff819325694773fef5cdfe4a182.gz

commit bd4a8f304df72ec4532d26017567f4cec5708566
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-06 12:47:24 +0000

    add members to activity views
    
    20080606124724-7fe3f-243aa8ca19b9c6624d713f12a0dcd59d8dca0ee3.gz

commit d5048c95a852a99a17c8e3919074d1f1e50518d0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-06 12:23:20 +0000

    conn-olpc: factor out populate_buddies_from_nodes
    
    20080606122320-7fe3f-1288a8815f83006de783259b2893a17a32f4ab3d.gz

commit 9aa94dae5a40a9ae741f0a966df3e72a08dcbe12
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-06 09:30:53 +0000

    OLPC_Gadget.xml: update search methods description as their is only one type of view object now
    
    20080606093053-7fe3f-9f23d1daee3a6c322457ca391a60cfa2e27a6a82.gz

commit 6c66baba8cb54d747d3b35949a74207bf0cb435f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-06 08:46:22 +0000

    remove olpc-activity-view
    
    20080606084622-7fe3f-8bec2da61afaf80bc2974edc8cce51d2c748b0ac.gz

commit 897f2dafdf47a5700b3dc38063bd041c38476aab
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-06 08:45:35 +0000

    move view-activity features to view
    
    20080606084535-7fe3f-1e368eac686f3027f0185e7ecc175aabe97f1028.gz

commit 2346ee5d46835ccd808fcdedacde6900af9ec336
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-06 07:48:37 +0000

    coding style fix
    
    20080606074837-7fe3f-c4be2cb4b1a9592106e5f604bcaf989f4c667187.gz

commit 626350f3e1303ec8e474601dad71486e7fadf608
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-05 15:50:06 +0000

    re-implement buddy view features to the generic view object
    
    20080605155006-7fe3f-078a07e5b7a64e2d5d7709161b2fff296f18142e.gz

commit f737592b636071cb8e3e5624d7091f0564e2874e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-05 14:10:39 +0000

    merge Buddy and Activity views
    
    20080605141039-7fe3f-d02d479418a7777a47fd67f6a2dba17f580062e6.gz

commit 676d2ba476125f72a09ec33377701d79bfd375a8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-05 13:50:10 +0000

    add Changed signal and GetActivities method to Activity views
    
    20080605135010-7fe3f-65e0c5e85e6ab1e4986713cc3dd8f6ce950c1d76.gz

commit e48d8887875e4b3137feed709e1ac9140b815033
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-04 10:12:59 +0000

    tp_handle_set_to_array doesn't guarantee any order so we shouldn't rely on it when mapping buddies and their properties
    
    20080604101259-7fe3f-33cd78d6beda7556feda60cf539a0da7cd24626d.gz

commit 3059ea70ddcc99aae37c1fc4fb21dc6f59431029
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-02 09:39:56 +0000

    conn-olpc: use gabble_connection_send_presence to send presence to gadget
    
    20080602093956-7fe3f-95b4a0789bf6dc4d4f8beda8b9c61520650eb4af.gz

commit c5c73a546bd76e12655ba6f5b1de90c3481bf7d1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-06-02 09:38:17 +0000

    factor out _gabble_roster_channel_send_presence to gabble_connection_send_presence
    
    20080602093817-7fe3f-706cefe70e92516c7f424391f011bf3ffbd11454.gz

commit 67c5b251c438ac117f93dfc3300926cb765b5927
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-29 11:58:30 +0000

    invite gadget when an activity becomes public
    
    20080529115830-7fe3f-eef4147b23e6112d217c5350485c1828482acfe5.gz

commit 9dd7a9bc7e439a7841e5dd1deb0ee540354bd5a9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-29 11:40:32 +0000

    conn-olpc: the pre-invite signal now give us a jid instead of a handle
    
    20080529114032-7fe3f-39e9bab87df9b96d22bc9b3fbf894c46ebf14e56.gz

commit b7d45daa7e269441377e453d049f5e4ca0fff1a3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-29 11:39:09 +0000

    muc-channel: gabble_muc_channel_send_invite is now public and take a handle as argument instead of a jid
    
    20080529113909-7fe3f-9dbe54bbe9964d87ab9950f9223f8291a5e72e51.gz

commit c31b9d491cb3cbc9300153acc2694e9f6923ac57
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-29 09:52:48 +0000

    muc-channel: factor out gabble_muc_channel_send_invite
    
    20080529095248-7fe3f-a2d412857ddfe910dd7964a91309c43763269edd.gz

commit 8a7e1a58affc4fceced480e38677206ecffe6b12
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-28 13:52:19 +0000

    gadget-publish.py: remove sync_stream
    
    20080528135219-7fe3f-090afa036a2a3458497fa659a97a162d5d2375d3.gz

commit f7ac75821e6bdca86f2196c1ee5ab53adc902f6f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-28 13:41:26 +0000

    conn-olpc: unsubscribe from Gadget presence when Publish(False) is called
    
    20080528134126-7fe3f-67e5a341b582c7a53d2965ebf2ae413f8fec4b47.gz

commit f1d78ac2f8b3849a81559c916d2de2f655611f1f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-28 13:40:21 +0000

    OLPC_Buddy_Info.xml: set the xhtml ns when needed
    
    20080528134021-7fe3f-f7745f30cecab79caedf6c609518c355e3d4b701.gz

commit e8a60a2e415182e004807e66ffb9a8bb5853b2c9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-27 11:54:47 +0000

    ugly and incomplete implementation of Publish
    
    20080527115447-7fe3f-fae01ff09b0c9a49c65d1c611b2d333d9e25f170.gz

commit 683c7267497241e6da45a1227f0f08976e5fdca4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-26 13:52:51 +0000

    gadget-publish.py: wait for the BuddyGadgetDiscovered signal
    
    20080526135251-7fe3f-db1e6506bb2629d44404ecb1264f995c4c234f55.gz

commit d14e0baf11f33dcc0461900594359f9956277966
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-26 13:52:17 +0000

    gabble-connection: always add the gadget iface so client can wait for gadget discovered signals
    
    20080526135217-7fe3f-3e2814556220b5603782e69ea2d8be19a86a0795.gz

commit ba34d6de40fef5f23432c3c5b8d0b020b44fc7ba
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-26 13:27:57 +0000

    conn-olpc: fire BuddyGadgetDiscovered and ActivityGadgetDiscovered when gadget is discovered
    
    20080526132757-7fe3f-a7070cc8c7ea2b1493e1a6baca3ddee8f3a8abfa.gz

commit 6f7bef275c7c96c272ebf27cf04ced47e0e7c042
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-26 13:03:31 +0000

    remove a debug g_print
    
    20080526130331-7fe3f-e49f48449ad0f951e253b8c6c4ac3d56ba8710f0.gz

commit 4b7706398c45643ef41121d65f42bb7d3025b4a2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-26 13:02:59 +0000

    OLPC_Gadget.xml: add BuddyGadgetDiscovered and ActivityGadgetDiscovered
    
    20080526130259-7fe3f-c06f9041cc20308ee4290c7072167755d8aec97f.gz

commit 938c558ae75f785c839075980dcd9a6b1caec421
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-26 12:39:03 +0000

    disco.c: add item-found signal
    
    20080526123903-7fe3f-683d9d82a7e31f02a77bcc90794f6bf95e14fa3e.gz

commit 2a36d49996f089cc24be0df0a74d1536b35356b9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-26 09:49:01 +0000

    unref ActivityInfo when the view is closed
    
    20080526094901-7fe3f-9a5acba28085855eb32f41e8db58325d0109b316.gz

commit 65196dd2ec90e4f91ec6358cce1371d2b70c2707
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-26 09:34:32 +0000

    store ActivityInfo for activities in views
    
    20080526093432-7fe3f-2655c0fe857f72fda82e36043ee7bea5f44f4685.gz

commit d4e2ff646a88e18d6ce94ac8c994fedbe8ddaa92
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-23 14:12:37 +0000

    BuddyInfo.GetProperties now find properties from views
    
    20080523141237-7fe3f-f2617d768bed6c01ea5db9900bfd77dc3eb44df0.gz

commit 14c8e0e97be7ab5590e9ec7ddf43648824cb7039
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-23 12:36:12 +0000

    add skeleton for Gadget.Publish() method
    
    20080523123612-7fe3f-658255c11af706fc0092b3e820b1ac057ae2222d.gz

commit 74c31260d72148ea2b806e2044cad8e6da1afacb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-23 12:13:39 +0000

    move Gadget interface before views
    
    20080523121339-7fe3f-44376b2231aff413340919a6ce80ab3ab32aaf49.gz

commit 924f81e239045dd8801da25f4c860947dff5fec4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-23 10:26:05 +0000

    change buddies queries to use <view> instead of <query>
    
    20080523102605-7fe3f-77af5c8dad4f6ddc0ca48c54749fd84eb575f321.gz

commit e879e8ba9bd283ce6d541b2d702bb09340bacf2a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-23 10:18:53 +0000

    change activities queries to use <view> instead of <query>
    
    20080523101853-7fe3f-c48df9714bce4b9ac99f7e705ad459f0acf0287d.gz

commit af9c43dd500b77078c9b506ec09c284a234e6abf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-23 09:48:32 +0000

    add OLPC_Gadget.xml
    
    20080523094832-7fe3f-c8f195df6beed9e36b60e634f74d6dbacf6cb615.gz

commit c5a999f943944d17dd9cf50c58efe37ab564ce68
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-23 09:02:26 +0000

    merge org.laptop.Telepathy.Buddy and org.laptop.Telepathy.Activity to org.laptop.Telepathy.Gadget
    
    20080523090226-7fe3f-b0a499bf081ae3e8e72be9d31f7fe88e56e076b2.gz

commit cc7ab957ecbdeba90d41eb9db1a87717fd331d66
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-22 13:33:51 +0000

    add Activity and Buddy iface to the connection object
    
    20080522133351-7fe3f-136e4a004f482d9f31b606eeb438b175c4d88915.gz

commit da1261aa993f0c9cd6b3b094959e3d3bd6d768b5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-22 11:05:40 +0000

    remove buddies from existing views
    
    20080522110540-7fe3f-5e73e2f0fabff8540ad4b3b8a09ce5a5c86280cc.gz

commit 9a3835d96ddfcb59ebd32c6f51665023ad1985db
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-22 10:56:32 +0000

    olpc-buddy-search.py: be sure the view contains the right members
    
    20080522105632-7fe3f-91c7f08696e6f8eb554521a603dac7585d32430b.gz

commit 55ee3a75e42e2f69c1acfe5fcf12bb93450d635c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-22 10:51:04 +0000

    add buddies to existing views
    
    20080522105104-7fe3f-e276a95ffecc3c691ad952ba2afd7819ddf9fd16.gz

commit 50b689cf582884c86cfc1947cb1247552da5e2fe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-22 10:06:28 +0000

    conn-olpc: remove debug print
    
    20080522100628-7fe3f-4221ce88eb3867149e4873579d25853dc75bf105.gz

commit 5715c97eb8c73c4e4ef9769fd411abe2873f713e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-22 08:29:59 +0000

    olpc-activity-search.py: use sync_stream instead of our own crack
    
    20080522082959-7fe3f-7264349e4aec48bb25fdfaceff6581d91d8b1c3a.gz

commit 052b841ccc27f7e4ebe1b502ac7ef97521540176
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-21 14:34:00 +0000

    implement  org.laptop.Telepathy.Activity.SearchByParticipants()
    
    20080521143400-7fe3f-f4fc29f09daf3d2813b98ade5f3df7910be36489.gz

commit 4c502e11787da574d836a15e9eb396b5e383e1a9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-21 14:33:51 +0000

    coding style fix
    
    20080521143351-7fe3f-b8bfc7f7df085b5f5a14646f4dfcc76899d7e836.gz

commit 7e415559cf1de3670a7fbf5bf9efacc4f2cf2c90
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-21 14:33:12 +0000

    OLPC_Activity.xml: SearchByParticipants arg is au not a(u)
    
    20080521143312-7fe3f-930926ed954817b553674de594ba80ab8c4082c1.gz

commit 278c0e46cb6d39342d8e2913c90a0c68f3906298
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-21 13:44:09 +0000

    implement  org.laptop.Telepathy.Activity.SearchByProperties()
    
    20080521134409-7fe3f-97d30a6611879c0d88e97cb6f053dddbe3e279b4.gz

commit 212a02d83ba56e4e1a306140ad9c57db3bfc8952
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-21 13:21:59 +0000

    add olpc/olpc-activity-search.py
    
    20080521132159-7fe3f-6a97f73333e913420a4b2d1650b57feb332b01c4.gz

commit 6b6fbc6a1765e60b22fc23cd1fc9d6d87070a3ba
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-21 13:14:07 +0000

    implement org.laptop.Telepathy.Activity .RequestRandom
    
    20080521131407-7fe3f-b8ab3483449bba455c0cffb69199b71726733dfc.gz

commit e560e2210ae30c8f410e43a301c388f6ecfc846c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-21 13:12:41 +0000

    build olpc-activity-view
    
    20080521131241-7fe3f-beaeee2a7badca1056929f71b53b0e7bc39287ab.gz

commit 275da3495d1070374baa126ddec16f1d3574ce57
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-21 13:12:02 +0000

    add olpc-activity-view.[ch]
    
    20080521131202-7fe3f-c5dfcfd9a5207f2932b9e2c448719c6c647e42a3.gz

commit 3908b719120458ffa841e5686c742355c017a9a6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-21 13:09:56 +0000

    OLPC_Activity_View.xml: we can't use the group interface as it can contains only contact handles
    
    20080521130956-7fe3f-4c60b8c437a2819b24159f1ab501804270716356.gz

commit d44ea60550997a148b1f4be69f82986ffe9b9096
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-21 10:19:41 +0000

    add OLPC_Activity.xml and OLPC_Activity_View.xml to extensions
    
    20080521101941-7fe3f-9bb9c8a7037c57def95ca6c0ff334427686698aa.gz

commit 3d8e81ad8d6c7dd32c892fb55c32b51ff711ef6c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-21 09:50:37 +0000

    olpc-buddy-search.py: reorder 2 events
    
    20080521095037-7fe3f-80edadbfe49cd570fc992e5ee316efb892387944.gz

commit 8e30184a14a83916bd6d1c27003c0f37121d1d90
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-21 09:47:15 +0000

    implement org.laptop.Telepathy.Buddy.SearchByProperties()
    
    20080521094715-7fe3f-1dcbfc25e4baa22225aa648899374bbe787f0c6c.gz

commit 7fa82a551f6c3eb12b74fe59e0bdda1f75ae1206
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-20 14:49:13 +0000

    Implement org.laptop.Telepathy.Buddy.RequestRandom()
    
    20080520144913-7fe3f-cc6962fade582d41f5ae7dd5a48b5eb72c46e5fb.gz

commit a354d8b7319d13985616e8355790af6df8c7659c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-20 14:48:48 +0000

    build olpc-buddy-view
    
    20080520144848-7fe3f-6f00717b639cd7a941521e421a814a9aea189193.gz

commit 86ebfa0b4cc9be0dcd6504b611d3bf0e0a4e7e67
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-20 14:48:33 +0000

    add olpc-buddy-view.[ch]
    
    20080520144833-7fe3f-47ac1922c67f1f2c9a33070ecc8223ff1627f207.gz

commit 49d870dc16031b9fec24411c131e5675ae6e804b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-20 14:47:53 +0000

    add OLPC_Buddy.xml and OLPC_Buddy_View.xml to extensions
    
    20080520144753-7fe3f-244242b4aafe86bc27a25fec43c6d1ec6c6230d5.gz

commit 438c5f469a83f9449661899f988e1e2b7b0fba7e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-19 09:21:08 +0000

    rename olpc-buddy-prop-change.py to change-notifications.py
    
    20080519092108-7fe3f-adffdc12dee0e8b57a3da9d9da08e0d201af948e.gz

commit ec7811f9cea38073f1d77fd7d624b53ffdd43aa5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-19 09:12:55 +0000

    olpc-buddy-prop-change.py: change messages are of type 'notice'
    
    20080519091255-7fe3f-d3647fea606b892c1026188ccf304382481424a3.gz

commit b450307aac46de956e90b4b0b41698b05f375c19
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-04-15 10:37:43 +0000

    fix conflict in tests/Makefile.am
    
    20080415103743-7fe3f-0db83f97b24ff7d29f0f1e84e54f488d60bccd48.gz

commit 6bc084d35ad8b0864c24ffbee86997456b3deed5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-04-15 10:35:13 +0000

    conn-olpc: fix gabble_disco_service_find as arguments were swapped
    
    20080415103513-7fe3f-f6dae534efa8f151ea0a4f8810a66fbea92af750.gz

commit 108d6dc1c2d04c2b5d0473271e1077f267fb9140
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-04-15 10:34:56 +0000

    add gadget tests to tests set
    
    20080415103456-7fe3f-d5b780df7733d3f87c1d512e1347b9099802ebf5.gz

commit 28b579e5c92bd7d9697924eee608abefea19b53d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-04-15 10:34:12 +0000

    move gadget tests to twisted/olpc
    
    20080415103412-7fe3f-4be6aaf545fb922a55a5683dbf143c350e6bb3ec.gz

commit 85d58c1e6e2ee7eae46ca46e25ef7338b23eac89
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-14 14:51:20 +0000

    olpc-buddy-search.py: fix from in search reply
    
    20071214145120-7fe3f-5c11732e3c38db955020f2c70e401ddb6baec5b0.gz

commit fa95af814b6f3ad906a7917738e602084184af85
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-14 14:31:06 +0000

    olpc-buddy-prop-change.py: use disco to discover gadget's jid
    
    20071214143106-7fe3f-8d685c607340e6957fc033c63be8b14235472bb5.gz

commit 15320661867c9083f01a7b661d82f913a156a5f3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-14 14:27:26 +0000

    conn-olpc: conn_olpc_msg_cb: don't hardcode gadget's jid
    
    20071214142726-7fe3f-5c6e19b0dd2a6e7fbccd20b2fda0fe175e8bb029.gz

commit cef963b5cc7646554816bd76187b4f6a0e5cad7a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-14 13:49:09 +0000

    olpc-buddy-search.py: send disco info about Gadget so we don't hardcode service's jid anymore
    
    20071214134909-7fe3f-263ef4bebc24d2423cb727352b96acdf27ed8dcb.gz

commit 8b75a4d9439fd46a3456971307eefa8023f4cd73
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-14 13:47:18 +0000

    conn-olpc: use disco to find Gadget JID when sending buddy search request
    
    20071214134718-7fe3f-77b22001f371f7aa0213722033243af2c9ba7dae.gz

commit 591cae975e34fe01a984eae25f072a3d608472f6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-12 15:56:44 +0000

    olpc-buddy-prop-change.py: updated to use new test API
    
    20071212155644-7fe3f-439f5f6c157acc921eb9f73ccc823e63574bac68.gz

commit 147c834ae3a6c202a9b0b2dff8e15490abcc5095
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-12 15:40:38 +0000

    olpc-buddy-search.py: update to use new test API
    
    20071212154038-7fe3f-15522bb646fb79cdd5b0fb839b954cd9e03809c5.gz

commit 4e548cb4115131bcad1ebab5ea24cde325af9861
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-12 14:33:23 +0000

    add tests/olpc-buddy-search.py
    
    20071212143323-7fe3f-ff98aef6dc5656441c35be70124d8b9dc92f4d25.gz

commit 8c2d5c3e2af903338533f0366cc909ff3f9440cb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-12 14:30:55 +0000

    conn-olpc: use buddy search when requesting buddy properties if PEP node failed
    
    20071212143055-7fe3f-65f6a81cfd8ef26be9d2ff7b1fa38f2542692ff3.gz

commit dce0a4ed95c723de231c3b23302b2ab5ca759028
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-12 11:18:09 +0000

    conn-olpc: check_query_reply_msg: allow context to be NULL if we don't want to return a D-Bus error
    
    20071212111809-7fe3f-92ea9dc5c5c0494ec68c750111f11f5a96c9b480.gz

commit 628cb952ebfd0dfb7e91c8336297653473dc6750
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-07 17:01:51 +0000

    olpc-buddy-prop-change.py: test activity properties notifications from the indexer
    
    20071207170151-7fe3f-a9c4aa6ef62c3132e0db7eef680a252732b77d6a.gz

commit 4d30e4cca6c37ca9595dea02ca250c30b7d088be
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-07 17:01:03 +0000

    conn-olpc: add support for activity properties changes message received from the indexer
    
    20071207170103-7fe3f-bcc17025f508f80033739a6cb9b6392b029f6fe1.gz

commit 298868420677c7364376365e408600dc8b73ec4e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-07 13:32:10 +0000

    olpc-buddy-prop-change.py: test current-activity changes notifications
    
    20071207133210-7fe3f-6a7462c0637f280de15b0a2594514382c8c9c041.gz

commit 18293021e5d30c907e8ed78e2eeeb793ab0e77a7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-07 13:26:31 +0000

    conn-olpc: add support for current-activity changes message received from the indexer
    
    20071207132631-7fe3f-7030633113c49aafb43ce9b86c2b26aebd8c40c3.gz

commit bac496a4a29e85b1ddea7a89baefc405339634b0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-06 16:48:05 +0000

    add olpc-buddy-prop-change.py to the tests set
    
    20071206164805-7fe3f-0c8600e693434288a46f8e5076323ad1d021cd5b.gz

commit 6f2062dcf06aa457dd22d036507e0b5f09e07270
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-06 16:47:21 +0000

    add tests/olpc-buddy-prop-change.py
    
    20071206164721-7fe3f-1ef168e8b0b15a08f178ffe746eb63bda5960614.gz

commit c0f9db6c970fc808bf293dae7d678431d2a61369
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-06 16:44:39 +0000

    conn-olpc: add support for buddy properties changes message received from the indexer
    
    20071206164439-7fe3f-e9481a249ad82bf6d4b58a7236ad39c87cbc31d3.gz

commit 6f642c3ebc8a96a42806574ca3da2616c1f66020
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-06 16:42:45 +0000

    namespaces.h: add NS_OLPC_BUDDY and NS_OLPC_ACTIVITY
    
    20071206164245-7fe3f-54435c54e2e9c3fdf80e5f78bd9f5d812f3d8a7a.gz

commit 08136cc466c5a84b28df535ac9835d3f4a9ff60e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-06 15:36:57 +0000

    add conn_olpc_msg_cb message handler
    
    20071206153657-7fe3f-9afd3a78dfd71b5fc4c073134fab080902b0b965.gz

commit f4dc7c4ae69b85bb259b02cc2eb9c5b0bddf3ba1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-06 15:20:36 +0000

    gabble-connection: rename msg_cb to pubsub_msg_cb
    
    20071206152036-7fe3f-1625e88ee9d4e29e01fff8a3ca33dbbdf6270633.gz

commit 1151b7e04a7919b404a7aa1ce5b08dc4baf1cd84
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-28 16:19:34 +0100

    test-si-tubes.py: update to the new spec
    
    Update required after this commit has been merged in the tube branch:
    
    > commit 49293950b98b3f52aa8a0fb264455829a8653fd0
    > Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
    > Date:   Thu Aug 21 17:44:06 2008 +0100
    >
    >     Update to the 0.17.9 draft of the Requests API.
    >
    >     For now, the GabbleChannelManager API still works the old way, with
    >     foreach_channel_class producing a GHashTable and two GStrvs; the
    >     glue in conn-requests.c maps this to the new API by merging the two
    >     GStrvs into a single D-Bus 'as'.

commit d39f2185b17bb9bc3f90a246d60cdc4b762b3712
Merge: 079d40c 98e1b36
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-28 14:41:00 +0100

    Merge branch 'master' into alban-request-tube-channel

commit 98e1b36dc701a5296c1f6e25cec4f4ea963a8bfa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-26 18:17:13 +0100

    Remove unused variable

commit 079d40cddfe7f34ff542a418b83bae2d41c22076
Merge: 90772f6 8cc1dbd
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-25 10:54:28 +0100

    Merge branch 'master' into alban-request-tube-channel

commit 49293950b98b3f52aa8a0fb264455829a8653fd0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-21 17:44:06 +0100

    Update to the 0.17.9 draft of the Requests API.
    
    For now, the GabbleChannelManager API still works the old way, with
    foreach_channel_class producing a GHashTable and two GStrvs; the
    glue in conn-requests.c maps this to the new API by merging the two
    GStrvs into a single D-Bus 'as'.

commit 90772f61524b757279d2b2ad97d00bde645850e5
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-21 17:11:32 +0100

    Sync tests/twisted/text/respawn.py with branch master: it should not have been changed in this branch (alban-request-tube-channel)

commit 8cc1dbd7cea54a4d81ec29a967f4a63b2b5802ee
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-21 16:47:59 +0100

    GabbleRoster: tidy up destruction, disconnect from status-changed

commit 6aaf98bc311e462eb7cde42ca8dc83cd4a6aa408
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-21 16:47:38 +0100

    GabbleMediaFactory: tidy up destruction, disconnect from status-changed

commit 410a64ed7847d1bdf7b242be4d8e628693989ac0
Merge: d45f48b 848de0a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-21 16:41:53 +0100

    Merge commit 'origin/master' into alban-request-tube-channel

commit d45f48b9902b319226aaa409ee10a6a6add289c1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-21 16:38:02 +0100

    Fix "Parameters" property on Channel.Type.StreamTube
    
    src/tube-stream.c: Implement a custom Set implementation for the
    "Parameters" property
    
    src/tubes-channel.c: OfferStreamTube on Channel.Type.StreamTube gives
    the right "Parameters" property
    
    tests/twisted/tubes/test-si-tubes.py: check that the "Parameters"
    property is correctly given, can be changed, but not after the tube is
    offered.

commit 636abbf915844b6308d81b3aff71617d249ad642
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-20 13:26:33 +0100

    Update Jingle test to expect TargetID to be in the present, not the future

commit c0861827b85c5d14a2359951bbacd48ee28dfc59
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-04 19:40:29 +0000

    jingle/test-outgoing-call.py: assert that NewChannels is emitted
    
    
    20080804194029-53eee-019324cc688d7ffdfd5f646b6cd5301e499c5443.gz

commit 0e43fe3ae8fe7cb882badd3832ad38c24d0f55e5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-01 17:53:22 +0000

    GabbleMediaFactory: stop being a TpChannelFactoryIface
    
    
    20080801175322-53eee-397dd3d527c1c193aa0093d3b04b89f17aaf72fd.gz

commit 7cf6f6f82ac6f9cee82a914c7863cddc325721d7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-01 17:48:55 +0000

    GabbleConnection: use GabbleMediaFactory as a GabbleChannelManager
    
    
    20080801174855-53eee-4751bd12eff623b35b3b372fc08bf1a2ede556df.gz

commit 0c5331736824a47197ac76206d8b8e2845868d01
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-01 17:48:26 +0000

    GabbleMediaFactory: add basic GabbleChannelManager implementation (CreateChannel does nothing)
    
    
    20080801174826-53eee-7e7ffbefc1a515699174d6e4cbadd6f27ae7e59c.gz

commit 848de0a8c9ee1d6f3bc55011092243a8fcd07d82
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-21 16:13:38 +0100

    _gabble_roster_foreach_channel_helper: fix indentation

commit b06050032cfb33eb122470abf4a4279dad256840
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-01 16:07:15 +0000

    GabbleRoster: don't be a TpChannelFactoryIface
    
    Amended from 20080801160715-53eee-a393a16fc718c4ddf9e6e1ab9c7e2e8b548cecff.gz

commit cff9c0c0da3a4ce89a824528a7db7a62256a53f6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-01 15:50:47 +0000

    roster/test-roster.py: add a basic test for Requests.NewChannels
    
    
    20080801155047-53eee-8cf15205887315f326deba3779c4279328331974.gz

commit 691336ba1b09070caca5e55858ec2b9e12d0d18b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-01 15:50:36 +0000

    GabbleConnection: treat the roster as a GabbleChannelManager
    
    
    20080801155036-53eee-66d1ecedf35a9f7cbe6906a413b23584ae26833d.gz

commit a476130d68b32ca8f352e104a1445c63ae67672a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-01 15:48:45 +0000

    GabbleRoster: implement GabbleExportableChannel
    
    
    20080801154845-53eee-518ff9bd0ff8266e27632f74b8be7edeb328672d.gz

commit 1eb942a1479a6bc906effbb795d2e2b58cd5af56
Merge: 2ae8ce8 ea8b503
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-21 14:15:00 +0100

    Merge branch 'master' into requestotron/1-1-tubes

commit 2ae8ce883e231ec349cd267c1c82d2e25f04f167
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-21 14:13:19 +0100

    GabbleRoomlistManager: disconnect from status-changed signal when appropriate

commit 9bf5c157b8831aa76bc3c71b9b263fb40ce97bf1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-21 14:12:56 +0100

    GabblePrivateTubesFactory: disconnect from status-changed during cleanup, centralize cleanup code, and make it more robust against multiple calls

commit 920c3da4711e24599b95ce3ed9a4f132340217b1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-21 14:11:56 +0100

    GabbleMucFactory: centralize cleanup code into close_all, and disconnect from status-changed there too

commit ea8b503268b89cea6ad8aa52b64ecaf4529e804e
Merge: c898c4c 94b859e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-21 14:00:51 +0100

    Merge branch 'trivia'

commit c898c4c387e5974243d867bf6a1428805fa9211d
Merge: 85ff202 7b8abe8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-21 13:58:52 +0100

    Merge commit '7b8abe8f2cb1c2ae4eeea642e0990f642aa6d766'

commit 94b859ef94b97ebfab9fa560ee34ffd2b43c98f0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-21 13:56:08 +0100

    Copy valgrind options and suppressions from telepathy-glib

commit 7b8abe8f2cb1c2ae4eeea642e0990f642aa6d766
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-21 13:46:06 +0100

    muc/roomlist.py: remove race condition from beginning of test
    
    If the disco#items IQ on the TCP socket won the race with StatusChanged
    on the D-Bus socket, then the test would fail.

commit d3e287f11dc891af735e5e299286841b73fe801c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-21 13:43:56 +0100

    tube-stream: Implement the "parameters" property correctly

commit 7341c60e632f9218ce4509f87f265eba985edb1a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-21 13:41:55 +0100

    src/tube-stream.c: Remove uneeded variable

commit 1a9e192913fbc1094a33d99ca2c33466000edb65
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-21 13:41:42 +0100

    Concatenate the logs for all Twisted tests, clearing them at the beginning of the run

commit 85ff202fc668009196847a17d9782e41f819df9d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-21 12:46:13 +0100

    Remove half-finished check which caused use of uninitialized memory.
    
    The intention was to check for TargetHandle != 0 whenever
    TargetHandleType != NONE. However, this isn't useful to do until
    TargetID is supported (since it's a possible replacement for
    TargetHandle), and the implementation wasn't finished anyway. Great
    embarrasment all round.

commit 15f1b7933d1b457664ccfe0f85a7cae973e45412
Merge: 476fd03 6a89b3f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-20 19:32:14 +0100

    Merge branch 'master' into requestotron/1-1-tubes

commit 6a89b3f2f94f79a607a1fd4cf667c692f76824e0
Merge: 5190c7b 6d52ca7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-20 18:41:13 +0100

    Merge commit 'origin/requestotron/im'

commit d87d80ea0c2249d088ac278709b37d3bedaa4eb5
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-20 18:38:04 +0100

    test-si-tubes.py: send data in a stream tube with the new tube API.

commit d143e38a03efe5e1e7b820ef24f16cb7e7433f73
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-20 18:36:20 +0100

    src/tube-stream.c: Emit TubeChannelStateChanged correctly and store address details in the GabbleStreamTube object

commit 5190c7bf2b68fa5763ec5604af37adad90fa632f
Merge: 37ea35e c44b5a9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-20 17:40:04 +0100

    Merge branch 'master' into requestotron/requestables

commit c44b5a956c8a009db317305dfdbf2cd360e6e3fa
Merge: 1f9ef1c 69469b9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-20 17:37:54 +0100

    Merge branch 'requestotron/dualmode'

commit ffcec7b95f74f83be43a2944cc16c805afeb7c22
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-20 16:49:41 +0100

    Check D-Bus property of Channel.Type.StreamTube object on interfaces Channel and Channel.FUTURE

commit 69469b933d3bf10d4c1c12ff44c71fcaf73086ac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-20 16:36:03 +0100

    GabbleImFactory: consolidate cleanup into gabble_im_factory_close_all.
    
    Also include disconnection of the status-changed signal in the cleanup
    (the comment explaining why it was unnecessary was wrong, and while it
    *was* unnecessary, the reasons were subtle enough that it seems better
    to be clear).

commit 0645077c6b26280325f670c23042e33cc68e720a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-20 16:32:25 +0100

    Implements OfferStreamTube on org.freedesktop.Telepathy.Channel.Type.StreamTube

commit 05c42a64d656df8a8455608687ec9dc1b8ee6ba1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-20 16:31:47 +0100

    Remove debugs

commit 42071f7660e53bb63e4d378467a1ae61eae47fb4
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-20 15:50:18 +0100

    test-si-tubes.py: Fix test: do not assume the new tube is the first in the ListChannels list.

commit 0ee0f734ef53dac3d01087b1c2538f5a24b4a326
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-20 14:26:39 +0100

    Fix conflict resolution:
    
    This conflict resolution was broken. Fix.
    
    |commit 6c841525009d56a49f736d3d21691ab0f7318b23
    |Merge: 51c888a... 4a6d168...
    |Author: Alban Crequy <alban.crequy@collabora.co.uk>
    |Date:   Wed Aug 20 12:21:16 2008 +0100
    |
    |    Merge commit 'smcv/requestotron/1-1-tubes' into alban-request-tube-channel
    |
    |    Conflicts:
    |
    |        src/channel-manager.h
    |        src/connection.c
    |        src/private-tubes-factory.c
    |        tests/twisted/text/respawn.py
    |        tests/twisted/tubes/test-si-tubes.py

commit 2ee04f1c9326184f73dbc596f8ae4e0a6e489684
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-20 14:12:31 +0100

    gabble_channel_manager_emit_request_failed, ..._printf: fix documentation

commit d1fb253fc84ab10b9827dbb0742eb1e348dd9c3c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-20 14:10:11 +0100

    gabble_channel_manager_emit_channel_closed: fix documentation

commit 2c2952a2f99da1d8abcff6d8349bff31d55097ab
Merge: 34456a5 476fd03
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-20 14:02:55 +0100

    Merge commit 'smcv/requestotron/1-1-tubes' into alban-request-tube-channel
    
    Conflicts:
    
    	tests/twisted/tubes/test-si-tubes.py

commit 34456a57dbc3290bf1db4ae11b68f76dc7184a88
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-20 13:21:53 +0100

    Temporary debugs

commit fe5ba8c1070703a7a9d76a1b243b1f554cd4b26c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-20 13:20:58 +0100

    Update 1-1 Tubes test to expect TargetID to be in the present, not the future

commit 814218863adf64c7687b7ade5336308a5540efd1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-20 13:07:54 +0100

    Update RoomList tests to expect TargetID to be in the present, not the future

commit 1e6a2e977dc1351e1b52f2c6899c17f0a9b95c2d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-20 12:56:27 +0100

    Update tests added in this branch to not expect TargetID to be in the future

commit 476fd03d77ec8de4ec144098ee6cfad4b0c85868
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-20 13:20:58 +0100

    Update 1-1 Tubes test to expect TargetID to be in the present, not the future

commit 0e6dda4ad5dd283350c2b52734b57ec3026011db
Merge: 3842f85 bbedbdf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-20 13:10:48 +0100

    Merge branch 'requestotron/muc' into requestotron/1-1-tubes
    
    Conflicts:
    
    	src/connection.c

commit bbedbdf23ea0bf8187943d3d8af1055c53d27683
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-20 13:07:54 +0100

    Update RoomList tests to expect TargetID to be in the present, not the future

commit b450db6d0fec529bcb502db7eedbfe1cc07da5e9
Merge: 408f22b 37ea35e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-20 13:04:31 +0100

    Merge branch 'requestotron/requestables' into requestotron/muc

commit 6d52ca7b4a9e77a035868a52e48f271d9c349b74
Merge: b03cd35 37ea35e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-20 13:01:57 +0100

    Merge branch 'requestotron/requestables' into requestotron/im

commit 1bc27f0c599c7fbfe05fd34312dcca20b5374d01
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-20 13:01:37 +0100

    test-si-tubes.py: TargetID is now present, not future

commit 9fcb3a7b65e15a9d6d52f4db990e7c5223da1e8d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-20 13:00:57 +0100

    src/tube-stream.c: TargetID is now present, not future

commit 37ea35edf74463e83fdc779f492533fffa492ff1
Merge: 4e0ebab 5b5d110
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-20 12:58:09 +0100

    Merge branch 'requestotron/dualmode' into requestotron/requestables

commit 5b5d1100a2a874bf833c00af3039b9bd844a00d8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-20 12:56:27 +0100

    Update tests added in this branch to not expect TargetID to be in the future

commit 808947d21d7cf15834eec21f3d1eb4f85a03f7dc
Merge: 4b86bfe 408f22b
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-20 12:35:41 +0100

    Merge commit 'smcv/requestotron/muc' into alban-request-tube-channel

commit 4b86bfe2238eac24e91da4924afb56af56ea47f7
Merge: cace605 3842f85
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-20 12:35:29 +0100

    Merge commit 'smcv/requestotron/1-1-tubes' into alban-request-tube-channel

commit 3842f85c981dfbf1a4d88f8a34c2d8cbc39f2a94
Merge: 4a6d168 4e0ebab
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-20 12:33:26 +0100

    Merge branch 'requestotron/requestables' into requestotron/1-1-tubes

commit 408f22b0deeb67a6a1091c59b5a98c9ddafaca8a
Merge: 2692ccc 4e0ebab
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-20 12:33:11 +0100

    Merge branch 'requestotron/requestables' into requestotron/muc

commit b03cd3597ec985d1eede2805945a44acfd7d9795
Merge: d284529 4e0ebab
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-20 12:33:04 +0100

    Merge branch 'requestotron/requestables' into requestotron/im

commit 4e0ebab8d473410472de0571b118a4182a2cce3b
Merge: ef5811d 2fdbead
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-20 12:32:47 +0100

    Merge branch 'requestotron/dualmode' into requestotron/requestables

commit 2fdbeadf720ee683d62de4a4975c4e489ea082d1
Merge: be42c24 e70499c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-20 12:32:31 +0100

    Merge commit 'origin/master' into requestotron/dualmode

commit 1f9ef1c010b3bb8292e9ab6fbe22ca92fae8339c
Merge: 9fc4d03 e70499c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-20 12:32:14 +0100

    Merge commit 'origin/master' into requestotron/conn-requests

commit cace6054f21f6913cc5ca18e752d7f04835bfaaa
Merge: 6c84152 2692ccc
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-20 12:23:27 +0100

    Merge commit 'smcv/requestotron/muc' into alban-request-tube-channel
    
    Conflicts:
    
    	src/connection.c

commit 6c841525009d56a49f736d3d21691ab0f7318b23
Merge: 51c888a 4a6d168
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-20 12:21:16 +0100

    Merge commit 'smcv/requestotron/1-1-tubes' into alban-request-tube-channel
    
    Conflicts:
    
    	src/channel-manager.h
    	src/connection.c
    	src/private-tubes-factory.c
    	tests/twisted/text/respawn.py
    	tests/twisted/tubes/test-si-tubes.py

commit 51c888ab27286298c9ff7493df71a58513da0455
Merge: e84c6a7 e70499c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-20 11:17:52 +0100

    Merge branch 'master' into alban-request-tube-channel

commit e84c6a77784053cc1bc2638981c500be132b9728
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-20 11:15:33 +0100

    Channel.Type.{Stream|DBus}Tube are requestable with the new requestotron.
    
    - GabblePrivateTubesFactory is a Channel Factory for both
      Channel.Type.Tubes and the new Channel.Type.{Stream|DBus}Tube
      objects.
    
    - GabbleTubeStream implements the Channel.FUTURE properties
    
    - GabbleTubesChannel object has an helper function
      gabble_tubes_channel_tube_request for the factory. The function
      creates the tube channel with the new API.
    
    - The unit test test-si-tubes.py request a stream tube channel
      with the new API.

commit e70499cd81a477c0ac71f9a37162f5b29b5b1a77
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-19 19:50:45 +0100

    Prepare release 0.7.8

commit d405c318bfdde3331de3ef495c90bd3d77c0c744
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-19 19:40:13 +0100

    Document GABBLE_LOGFILE=+gabble.log in man page.
    
    This is really a telepathy-glib feature, but we now depend on a new
    enough telepathy-glib that we can guarantee it'll work.

commit 304a4611d29137a9cdb4a7a230883753f6557845
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-19 19:22:09 +0100

    NEWS: write news entries so far

commit 69eeec40f58944bb3e433cc1f238a6de69630572
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-19 19:21:53 +0100

    README: Talk about git, not darcs

commit 06f899434820e13fa1843aabb6623a646ed77f29
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-19 19:21:18 +0100

    Update xep.xsl from xmpp.org (r2166)

commit beb2c8f9ece82e8022b6301f8294fbda3e57e0a2
Merge: 683580f 93eed77
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-19 18:52:47 +0100

    Merge branch 'targetid'

commit 683580fe3869c69eda2c75ef79f60554581f3997
Merge: 570c706 d588f2c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-19 18:51:15 +0100

    Merge commit 'sjoerd/inspectotron'

commit 93eed7744315ff0f5a67640dde0da749292d13ce
Merge: ea0c16c 570c706
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-19 16:56:01 +0100

    Merge branch 'master' into targetid

commit 570c7063a917d5f7f34fbbe6863de736e458ca9f
Merge: dd00bd9 27d8e6f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-19 16:55:30 +0100

    Merge branch 'trivia'

commit 27d8e6fcac57bf336c4d5ae699f7d5813be98a43
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-19 16:52:56 +0100

    Remove empty .git-darcs-dir files
    
    These are a remnant of the Darcs to Git conversion process, used to
    ensure that directories exist in Git even if empty. Our directories are
    all non-empty anyway.

commit ea0c16c143464e824ff9a953058d5adffd157787
Merge: 608cc44 dd00bd9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-19 16:52:33 +0100

    Merge branch 'master' into targetid

commit 608cc44c527ffa151e7d0b595d7e70dbf4bfaf62
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-19 14:06:11 +0100

    Bump telepathy-glib dependency to 0.7.14

commit dd12d3cb25319519aaaa91116fb3ccc050f3dd7c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-18 21:12:31 +0100

    Update Channel.FUTURE to spec 0.17.9, and add ChannelBundle
    
    This removes the remains of the Channel.FUTURE.TargetID property, but
    adds the Channel.FUTURE.Bundle property.

commit 1f3c276355f2fafc224fffe0c930cd0b10215f65
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-18 21:08:50 +0100

    Move TargetID from the future into the present.
    
    As of last Friday's telepathy-spec 0.17.9, TargetID is part of Channel.
    
    (Also adjust the regression tests for this change.)

commit 75c13b9d28d416789fd5b9f98531f5e0151574ec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-18 21:07:05 +0100

    configure.ac: require telepathy-glib 0.7.13.1, for spec 0.17.9
    
    This should be bumped to 0.7.14 before we release Gabble, but that
    release hasn't yet happened.

commit dd00bd965ea2e5e7306d1bd07e24162aaf844a09
Merge: c5d21e0 a2304d6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-18 20:13:29 +0100

    Merge commit 'alban/alban-trivial'

commit d588f2c11f9a9201debe91fee2566e75b104a709
Merge: 015fa72 c5d21e0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-08-18 19:05:11 +0100

    Fix conflicts

commit 015fa725919a9398fbf817f28cc4027a551e7294
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-08-14 17:29:47 +0000

    GabbleConnection: Comment that a 0 handle when requesting capabilities is obsolete
    
    20080814172947-93b9a-640ebd91b89ce390a18b3fa016ff7ba09ed9d0b0.gz

commit ec90e9e39873d2ac758950a934593859dfe4f4fd
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-08-14 17:22:51 +0000

    conn-aliasing: Make the function identation style consistent
    
    20080814172251-93b9a-b5106ff112000bcd814e697d55f62d2c26225fc7.gz

commit f2ca4c0ba15912e116e0cd668b2934f935e26b1c
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-08-14 17:12:56 +0000

    conn-aliasing: Fix the ordering  of the includes
    
    20080814171256-93b9a-9a17144190792ecbad1712d805ef404573c2f5de.gz

commit b43332ef3db8835990a0d51bf8c6f341126db496
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-08-14 17:12:36 +0000

    test-capabilities: Add a missing assert on one of the checks
    
    20080814171236-93b9a-452aafb0b47af9a7879f7347dbeba61bbd8b9bbe.gz

commit 43ac91b3e59e816d480004c8b7272e5a360331f5
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-08-14 16:59:51 +0000

    Use tne final register_with_contacts_mixin instead of register_with_contacts_iface naming
    
    20080814165951-93b9a-f6caa92603864dfb56b9b75639633122c7973f69.gz

commit 6cd9ce6ef64df0dcdf4c483b8023f59e050e75d2
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-08-13 19:02:23 +0000

    test-set-status-idempotence: Test that the simple presence signals and the contacts interface relay the same signals
    
    20080813190223-93b9a-290c4c14e551067a3213fc6482af04c91f2fb0dd.gz

commit f81210880a5dbbd14f5214588d9691fd797e63af
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-08-13 16:35:55 +0000

    Fix small bugs found by make check
    
    20080813163555-93b9a-ed61ef4ef390214592c31e41c90e04bf8682c540.gz

commit cebc974a5a626d1c99625cbdc43f9b606e157ef1
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-08-13 16:35:34 +0000

    Update the tests for the latest Contacts spec version
    
    20080813163534-93b9a-0ad8a5b186f02f01a0edf170c11e8f0e6192b35a.gz

commit e8ad6563c56d9d30d8910c0fb540a0b7e8c8b0af
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-08-13 16:35:07 +0000

    Update for the last tp-glib contacts api changes
    
    20080813163507-93b9a-71f02f1090a75472a31a903b5ee97efbd5779ed2.gz

commit dcb1d9314fffe2ca83b60110c11b768534e0e9b1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-18 18:11:13 +0100

    Add support StreamTube properties. Complex type properties as parameters still TBD.

commit a28866f39303d2e0da687fadafa9858eb1b4f337
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-18 16:34:13 +0100

    Add the property Service on stream tube channels, and add a unit test for it

commit f205b33ce7371168731272180d2550b68cc36d24
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-18 16:08:02 +0100

    tests/twisted/tubes/test-si-tubes.py: Prepare the test to check properties

commit 9e7a27497a4e98e8e4530311913e3a746730bc72
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-18 15:54:58 +0100

    tests/twisted/tubes/test-si-tubes.py: Fix the test for Channel.Type.StreamTube.DRAFT

commit 4a6d16808fb68afc6904a2fcfb2bb05d90f9d894
Merge: 8b9bed0 ef5811d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-18 15:43:28 +0100

    Merge branch 'requestotron/requestables' into requestotron/1-1-tubes

commit b913e3dca20f36d131001463f5589273440b4227
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-18 15:35:45 +0100

    Go through all tube channels in ListChannels: the old ones (Channel.Type.Tubes) and the new ones (Channel.Type.{Stream|DBus}Tube)

commit 2692cccd3989367ba405fd93d997def016fda3c7
Merge: 27f4c62 ef5811d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-18 15:00:44 +0100

    Merge branch 'requestotron/requestables' into requestotron/muc

commit d2845295f4ae7360bd761e10abee11a4f63a01a7
Merge: 924375b ef5811d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-18 14:59:13 +0100

    Merge branch 'requestotron/requestables' into requestotron/im

commit ef5811d3fb157316ec18aab231c254dd214a7ad3
Merge: c32db1b be42c24
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-18 14:56:41 +0100

    Merge branch 'requestotron/dualmode' into requestotron/requestables

commit be42c24d750b921e89d467373f07c793c5b65647
Merge: fd8e584 9fc4d03
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-18 14:38:16 +0100

    Merge branch 'requestotron/conn-requests' into requestotron/dualmode

commit 9fc4d03b89e67715c5816eeced67f3a010a9acbb
Merge: b22ab67 c5d21e0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-18 14:34:27 +0100

    Merge commit 'origin/master' into requestotron/conn-requests
    
    Conflicts:
    
    	_boring
    	src/Makefile.am
    	src/connection.c
    	src/connection.h

commit 3528f3312685de5194d52f7dff028cc767932823
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-18 14:13:59 +0100

    Import changes in the spec as an extension and update the code for it

commit 960afc1d8527faacfb96d80c7e69b299fdf8061f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-15 18:27:21 +0000

    Add a test for org.freedesktop.Telepathy.Channel.Type.StreamTube
    
    
    20080815182721-a41c0-b1b59d993e50586cf9049a1ee31176f4c4bf976e.gz

commit 48532f9a8cd0cca5084ee331a8110ad22327208e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-15 18:26:36 +0000

    Let private-tubes-factory be a factory for Stream|DBusTube.
    
    
    20080815182636-a41c0-48429a6c25049def0fcab14b6c646a12928218d5.gz

commit bb91b792810ace85b4eb992df82119eb90876321
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-15 14:19:32 +0000

    Fix the conflict after merging gabble-smcv-muc in my branch gabble-alban-request-tube-channel
    
    
    20080815141932-a41c0-9a17c461642f8d88f3529096eb7a5591c716cb44.gz

commit 4128b10261afd30c812918e47be45b505afecf47
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-05 15:51:57 +0000

    GabbleMucFactory: don't implement TpChannelFactoryIface
    
    
    20080805155157-53eee-4a06251f63f756c80c28c72519dda868dc613cb4.gz

commit 1ea2951c678d69724a1b9f949ab3eac8e51fa7b2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-05 15:51:30 +0000

    conn-olpc: assume that conn->muc_factory is a GabbleChannelManager, not a TpChannelFactoryIface
    
    
    20080805155130-53eee-e84527e4a3b4f917722f9f10cd6064d1fd1057e2.gz

commit 02b50583f35d33ea32d90925b6ec3c30a56bba34
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-05 15:37:51 +0000

    GabbleConnection: remove another occurence of assuming the MUC factory is a TpChannelFactoryIface
    
    
    20080805153751-53eee-468ee5e3c40fae46fc2aab16076a5024249a6e49.gz

commit 7d740931d75d14419808b282384acc72ffcd6bd4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-05 15:37:37 +0000

    channel-manager.h: remove unnecessary inclusion of <telepathy-glib/channel-factory-iface.h>
    
    
    20080805153737-53eee-2767780e72da8dcc5bc637a1169d9ff5fdade40d.gz

commit fdf36a50edda59f7c3b8cc673549c81ec070cb1c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-05 15:00:19 +0000

    GabbleMucFactory: correctly fail requests when joining a MUC fails
    
    
    20080805150019-53eee-bc38baec7e2553a9ad530a21f6f15ce4e19ffb1f.gz

commit e17b1cfb0703de8371f716d85f0c03dc76f72be3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-05 14:50:14 +0000

    GabbleConnection: use GabbleMucFactory as a GabbleChannelManager
    
    
    20080805145014-53eee-5f188c0b2be3d6e0dd8419036eadb6151b56a931.gz

commit 19ba761951b903122600fc00df1f48e7c43ae2f2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-05 14:48:28 +0000

    GabbleMucFactory: implement GabbleChannelManager
    
    
    20080805144828-53eee-b2c51c880d6398e96ad12733e1d08a325007a20d.gz

commit 0dc556da5ab76b9d29b5887c767548a046750a52
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-05 14:27:19 +0000

    muc/roomlist.py: add tests for using the Requests API on room lists
    
    
    20080805142719-53eee-261b09dcf199d66b7ffeda95d5746f9f2faa54d2.gz

commit 74c02124b3305703470db8f89413e2831970d8c6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-05 14:26:52 +0000

    GabbleMucFactory: stop managing RoomList channels
    
    
    20080805142652-53eee-0797b9d2e4c461031c1d3ef31e6acd80128dd51b.gz

commit c7247b02d8aeb661035a56904e0154ae2369ebf5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-05 14:26:37 +0000

    GabbleConnection: use the new GabbleRoomlistManager
    
    
    20080805142637-53eee-7d36d720da98e9d2ec5c49715f226998db66dafd.gz

commit cde30b44ffa3ae0d3c3659cd50d026033b8b74d2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-05 14:26:25 +0000

    GabbleRoomlistManager: add new channel manager for room lists only
    
    
    20080805142625-53eee-af1bc69d457df5d3e1aa1f0d093c6813a70fc4a7.gz

commit 88949072fad39e81b1ee1bb7b40a36065cf2f04d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-05 14:04:51 +0000

    GabbleRoomlistChannel: set priv->closed before emitting closed, so we don't indicate that we're about to respawn
    
    
    20080805140451-53eee-de9a2b5705617289393a940bcdcdfe2d38a550cc.gz

commit 395ef45524d817830a2ba47ba58d6195df39f315
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-31 19:20:02 +0000

    tubes/test-si-tubes: exercise NewChannel and NewChannels signals
    
    
    20080731192002-53eee-5eb6be0aa07847b9300066fc1d252a5bbc52ade1.gz

commit 32552bfe31e9a31819f657ab6af1bdbe1927a187
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-31 19:19:48 +0000

    Use GabblePrivateTubesFactory as a ChannelManager
    
    
    20080731191948-53eee-56af9766eef7c9a7517d2dbcfa1cccb806df25cf.gz

commit 619930f1b653995d260700f079c28cbd03292adf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-31 19:17:15 +0000

    GabblePrivateTubesFactory: implement GabbleChannelManager
    
    
    20080731191715-53eee-92ec3b350351652ad4f28820e8764eec90093abf.gz

commit 68d73ccfcb1e56736233e5332b58d78d8d4c6358
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 18:35:11 +0000

    text/initiate-requestotron.py: assert that the Channels and RequestableChannelClasses properties work correctly
    
    
    20080730183511-53eee-71d9f011f1abc53d195bb0b2f27213b35d93550e.gz

commit 63bd24993888351720014cc6513fecda9076c1d8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 18:34:57 +0000

    GabbleConnection: hook up Requests properties
    
    
    20080730183457-53eee-e7019c0feff376bd424bcba6c9600d51f27e336e.gz

commit be10de0389a8a65725125803eba83e08388ff90c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 18:34:24 +0000

    GabbleIMFactory: implement foreach_channel_class
    
    
    20080730183424-53eee-b0e6d8cd77a4ff14bd4ff1dd194cdd037440d01c.gz

commit 22303f43352d02bc6fe18fc1b577e7f900621d1c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 17:37:29 +0000

    conn-requests: use foreach_channel_class
    
    
    20080730173729-53eee-eb70fd5faece7243b5545ca44d31c7d513f094f8.gz

commit ae2f984a91db6f41848cf8f312a561ab81bc8fb0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 16:55:02 +0000

    GabbleChannelManager: add foreach_channel_class
    
    
    20080730165502-53eee-eafb03fdd4199c5b902077c84e8a15fe918b6b7b.gz

commit f51be90b5dd9a4150998076b8e9f2ce64e6b7756
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 15:46:24 +0000

    conn-requests: add a stub implementation of RequestableChannelClasses
    
    
    20080730154624-53eee-a10779cdfed409c3b1b5337495806e2be016a5fa.gz

commit f6b0e43415b2cb7461bafda0a9fe27b49bad5d97
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 15:45:59 +0000

    conn-requests: comment why the magic number for channels is (number of managers + number of factories) * 2
    
    
    20080730154559-53eee-de557a08024b7173ff108378f5255879cf9e7e5e.gz

commit 2d4f34d9f9e8890004d2b49cfa6f38b59bfc2434
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 15:45:45 +0000

    text/initiate.py: improve output if assertions fail
    
    
    20080730154545-53eee-47b7a9bc0e97614e924f039361a538ed95676ba0.gz

commit fed5df7d0fea6a52dd9cfd41385bae7dca31b402
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 15:45:20 +0000

    conn-requests: stop assuming that every GabbleExportableChannel is a TpChannelIface
    
    
    20080730154520-53eee-6153b5e9227736c496015135c44d155fc941494a.gz

commit bd59019769c8cb01d91678e4c4aa207053295827
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 15:33:23 +0000

    conn-requests: add some more sanity checks when CreateChannel is called
    
    
    20080730153323-53eee-38f95eedc187ebf89ee615bbe5023f5a95836f8a.gz

commit 9d8b078c5b57ab0cdb3216012878d6ef173d65b9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 15:07:28 +0000

    conn-requests: manager_request_already_satisfied_cb: no need to assume that the channel implements TpChannelIface - GabbleExportableChannel has object-path too
    
    
    20080730150728-53eee-e5e42985e235b5cbf978b74331a4d72436412a0e.gz

commit 77aec323e5249fd54ed8a5dcd0750e7e57126ded
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 14:18:30 +0000

    GabbleImFactory: implement request_channel instead of ensure_channel
    
    
    20080730141830-53eee-fbeb60c1ecf35a4115416d21213b8d4bf373be1e.gz

commit ec582d33e74caa1e17b1ff344bd0a22ad1d4f823
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 14:17:45 +0000

    conn-requests: knock out EnsureChannel functionality, explicitly use RequestChannel
    
    
    20080730141745-53eee-8c6c58f539cbd97e507774fd6c53463f24ac46a1.gz

commit 3de46ab8681df237d1f0cbb7164bf76ec4ab88ad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 14:17:33 +0000

    GabbleChannelManager: add a placeholder priv pointer
    
    
    20080730141733-53eee-c7decd422c11845069d8d63aeb14335ecc39d913.gz

commit cbdec96572e03a7c2946ee6637da4418aee6e617
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 14:16:07 +0000

    GabbleChannelManager: explicitly have RequestChannel in the API.
    
    
    For some channel factories we want RequestChannel to have different semantics
    regarding parameters accepted, etc., for backwards compatibility (in particular
    media channels).
    
    20080730141607-53eee-f90f3cd0168901249cd49455fa720960083b894f.gz

commit b19f181009eccca02247b91279feddb4b5f2c316
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 21:06:27 +0000

    Add a simple test for requesting a channel using the requestotron API
    
    
    20080729210627-53eee-ac909c1c314c5917ec2716e922eeda845ca71f96.gz

commit 72989f2d5ce01bca4516656d8666d79b7cf5a48e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 21:05:51 +0000

    conn-requests: fix CreateChannel implementation, and implement EnsureChannel while I'm at it
    
    
    20080729210551-53eee-949154d435a3cc121bf28cfb70228766f8288e9b.gz

commit 7ef7eb25ec1beff2f95df00cecf55840a24cf34b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 12:56:41 +0000

    text/respawn.py: do some cursory testing of the Requests signals
    
    
    20080725125641-53eee-43d390831743cdc61c2cd8d12dd9a6dad8df5e9f.gz

commit ddc700807248eee13f4c3b614b7a20a2d78d3368
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 20:32:15 +0000

    conn-requests: implement CreateChannel
    
    
    20080729203215-53eee-17d069516f7057d7323f7a4efcf2df183b306782.gz

commit c26170ce2354078d40e36f2ba06893e9b62cc42a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 20:12:44 +0000

    conn-requests: add a stub for EnsureChannel too
    
    
    20080729201244-53eee-0b0b97d65cbc7b80f5ab12ec9cae567101f6485d.gz

commit 3fa0d9ac8245614c37f25f538f0e289be1329d0a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 20:09:34 +0000

    conn-requests: expect GabbleChannelManager::new-channels to contain a GHashTable
    
    
    20080729200934-53eee-7d2bf220da11824fe95b8f0c170f8b45f887d2fd.gz

commit 1eecd466da63d5ed4652791bbd016123168e84c9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 20:08:47 +0000

    GabbleChannelManager: change new-channels to take a GHashTable (GabbleExportableChannel => GSList of request token)
    
    
    20080729200847-53eee-38c021f2742680a3963c25c072894f98c6806170.gz

commit 4ac40fd61561a0f49a483fd14e730716daf1aaa7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 19:53:37 +0000

    GabbleConnection: move the GabbleImFactory from the factories list to the managers list, so its new API is used
    
    
    20080729195337-53eee-3d2675cefffa157fcd817c35dba17c11d03f4a65.gz

commit b1aa8276475ff1ea11bfc9f7bfbccb408026fc32
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 19:53:13 +0000

    conn-requests: allow GabbleChannelManager instances to satisfy RequestChannel requests
    
    
    20080729195313-53eee-d22a7f746cbafe14d26edb9192258627d63d7472.gz

commit ccadd69b6c7869e3ec38adf9624bb1da3be200a8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 19:52:16 +0000

    conn-requests: connect to the various signals on GabbleChannelManager instances
    
    
    20080729195216-53eee-ff071d157aa12f958a33648c2ced27d7153e0947.gz

commit 4edf8f3cd4b9ac727324f4a1779ba3a2ce689d7f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 19:51:59 +0000

    conn-requests: factor out fail_request()
    
    
    20080729195159-53eee-96dddd63d2e4b24c3f42d6cdaaadacd2f801c4ea.gz

commit 845122aaf987245513a035784fcbada4552f0767
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 19:51:39 +0000

    conn-requests: factor out satisfy_request()
    
    
    20080729195139-53eee-b5b048263c10684c8a29840a28ba94fc6fed3272.gz

commit 6f19bf3eb26a5b08405a2673fa1c7c9fb617c15f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 18:53:09 +0000

    GabbleImFactory: implement CreateChannel and EnsureChannel (untested)
    
    
    20080729185309-53eee-e0904cb5774acd3e68a1e1d9df28f30f6494b936.gz

commit db0c271da6b1d8c26aff89171b471783a976c8b9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 18:39:49 +0000

    GabbleImFactory: add stub implementations of CreateChannel, EnsureChannel
    
    
    20080729183949-53eee-c3337fd408b9fbf23722a68cb8be49fb30846588.gz

commit 0554b248b4eab416aa5c36742ebc6396108a8af5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 18:38:53 +0000

    GabbleChannelManager: add create_channel, ensure_channel methods
    
    
    20080729183853-53eee-cffd01c49336fa34ec042883b7d77dec6b686530.gz

commit 2338ab56e666cccdc0a86914c26457e2c2d1b11e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 18:20:42 +0000

    GabbleImFactory: update to new GabbleChannelManager API
    
    
    20080729182042-53eee-5e6559e4d98fc2371e34f2baa4b4379a3bbf3c0a.gz

commit 0577323829a67f465e5771bd4b2ba74d6921c800
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 18:19:03 +0000

    GabbleChannelManager: include the requests that were satisfied in the arguments of new-channels, and replace request-succeeded with request-already-satisfied to cover the remaining case
    
    
    20080729181903-53eee-1ead36bf4748757c2251de5565466a66646ea2cc.gz

commit 4e7469a671ac375ddbc793b725d7f1d78170085e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 20:07:49 +0000

    Register request-failed signal correctly (I lose at GObject boilerplate)
    
    
    20080728200749-53eee-dab8597fd5b2e0fc5e8342a5dca4ee9b3367ce33.gz

commit d3ca3eda848c63eb5b0741243d45874a682f7707
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 17:28:12 +0000

    conn-requests: fix indentation
    
    
    20080728172812-53eee-9fa426ec7318b666f4bd8e5587be5c1e5e896dc1.gz

commit 967a65e813bdef4357f47ef4ea512e44a3fe591f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 16:42:28 +0000

    GabbleImFactory: reduce dependence on TpChannelFactoryIface
    
    
    20080728164228-53eee-8bd8550fd38f7a29a15a4d064d3543fa1f070d65.gz

commit 7d25974d4b9a64b2ca242ffc5121cd34eda32973
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 15:40:33 +0000

    GabbleImFactory: instead of using TpChannelFactoryIface's connecting/connected/disconnected callbacks, just bind to status-changed directly
    
    
    20080728154033-53eee-74ad32313b22bfb16d87e73e999ab0524a392e7c.gz

commit 658ab9e0ec19c29afbc44c438ab1fd4c161d18d1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 17:26:41 +0000

    conn-requests: add placeholder for iterating over channel managers when connecting to signals
    
    
    20080729172641-53eee-009ee9cacef64b136db5a13edcc597dfa056f330.gz

commit c6d9073418bf746bbbbbd99c4a26951b9bec7b82
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 17:26:23 +0000

    conn-requests: add placeholder for iterating over channel managers when implementing RequestChannel
    
    
    20080729172623-53eee-102749032bc75835d532e652681c32f4cf1d4caf.gz

commit 0363a30cc0e5fcc689ab35015599d65a96285da8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 17:25:51 +0000

    conn-requests: indicate why it is correct to refrain from calling close_all, disconnected, connecting, connected on channel managers
    
    
    20080729172551-53eee-0c0f1cfa335050e2e238e91a1bbb1ff7ecb51799.gz

commit 5455b221d54ff0c91539dd912515087c5c3695b7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 17:25:01 +0000

    conn-requests: when listing channels using the old API, assume that all channels owned by managers implement TpChannelIface, and list them too
    
    
    20080729172501-53eee-cb30166bdf1dc84987b28fb225757e45cb4d7ecc.gz

commit 051d83aa8d3b4500d1b9dda181add3dd6eb0ff41
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 17:24:46 +0000

    conn-requests: When implementing Channels D-Bus property, list channels owned by managers as well as factories
    
    
    20080729172446-53eee-dc4951c35937e140d86bbe6895e0ff59a26a5ef6.gz

commit 903f52cfffda3737373560f5d551da23cc3f0033
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 16:35:57 +0000

    conn-requests: only list channels owned by channel factories, for now
    
    
    20080729163557-53eee-cc781e7399c651836ea3e5e717b0e8127d0d795e.gz

commit 7eb064618aed167500b9c35822c8a6e81786f9cf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 16:35:20 +0000

    conn-requests: don't bind to channel-closed on channel managers for now
    
    
    20080729163520-53eee-bdd9eab39db1ddc9c17dec267d5a38679bbd0747.gz

commit 3773ccc803e190652a5245c5f53a70333d2c7c0a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 17:04:44 +0000

    conn-requests: assert that every channel manager implements GabbleChannelManager
    
    
    20080728170444-53eee-ba6b4ba61b1cc3c44cf6264a614027b7f19bebbe.gz

commit 827f6c58497d0aff9b6482b0a29372f65ba861be
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 12:42:34 +0000

    conn-requests: emit NewChannels and ChannelClosed signals.
    
    
    If the channel manager is a GabbleChannelManager, we assume it will emit
    channel-closed. If it's just a TpChannelFactoryIface, we act as though it had
    emitted channel-closed in response to each closed signal - this causes the
    signal ordering to be wrong in the case of a respawning channel, so factories
    for respawning channels will have to implement GabbleChannelManager.
    
    20080725124234-53eee-d65e8cba944f2f20a8ca0b0d1da90406475d29ca.gz

commit beab64f827b352b30c3b97822557e3051f962604
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 17:29:13 +0000

    conn-requests: use GabbleChannelManager API for foreach
    
    
    20080728172913-53eee-947a09355be1707913e6b0bf98db52e1867e5343.gz

commit 6c7eb92b1829b330bcdd2663859c9b6f291a2882
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 15:16:34 +0000

    GabbleIMFactory: implement GabbleChannelManager so far (foreach and signal emission only)
    
    
    20080728151634-53eee-e23bad4597126ac1d4c7d5d4dda6c7a6f81bebe4.gz

commit e12c2f7704f4dcb941fe3bd3a45af9f4c2fe9514
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 12:56:24 +0000

    Add a property getter for Requests.Channels
    
    
    20080725125624-53eee-7576c2677548d5c3c7ab428204bea5c2cf2f9254.gz

commit 9b478d80f6a9b16e42ce2cdb871411d883c948d9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 20:18:23 +0000

    GabbleChannelManager: remove spurious extra parameter to request-failed
    
    
    20080728201823-53eee-703149d808789d2f0e03d03b84a19de77a0178d2.gz

commit 54337dfa6f1615bfbe2660108debef7cabf488bd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 20:17:37 +0000

    GabbleChannelManager: GABBLE_TYPE_EXPORTABLE_CHANNEL is not a value type, use G_TYPE_OBJECT
    
    
    20080728201737-53eee-c8051e109b26a0c2db7cb673ee70081fa2c756cb.gz

commit b2b2ffc8f9b6bbfd311fe680c147a84eac04ddb7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 15:15:48 +0000

    GabbleChannelManager: rethink signal API, add signal emission helpers, add virtual method foreach_channel
    
    
    20080728151548-53eee-0bd5d0b60ab70534ac34164d693a779d570ddf7a.gz

commit c627b13c85573580e46617e91ea0e8fdd1306c52
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 14:57:04 +0000

    Implement request signalling in a less awkward way, with a separate signal
    
    
    20080725145704-53eee-13df484a3db363338aa18d64b7a329b967e5e6bd.gz

commit 891a3e6c7f62c192d838cc24732e7bc94a97785d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 13:22:27 +0000

    GabbleChannelManager, GabbleImFactory: make GabbleChannelManager implementations responsible for tracking which requests would be satisfied by which channels
    
    
    Anything else doesn't really look viable.
    
    20080725132227-53eee-a415f248e4f71df035d307f9fd73dc0a02bc5554.gz

commit 0129365c28dcdccc72d559926807a6e36e876861
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 13:16:50 +0000

    GabbleImFactory: also emit new-channels when a channel satisfies a request
    
    
    20080725131650-53eee-c8c436e223fba853e9414219fcef8a8baefb36c5.gz

commit 482e39723cdd028acfa1d8f05afec9335624c34b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 12:42:12 +0000

    GabbleImFactory: implement GabbleChannelManager
    
    
    20080725124212-53eee-3914dd080040e8125d38e5e0a474d30899072e9d.gz

commit bde26124a270c1e39d9fb861d796823998a53eac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 13:22:09 +0000

    Start to sketch the API of GabbleChannelManager
    
    
    20080725132209-53eee-39aa79f6d7d160255f3757d0740524ccbdf366e8.gz

commit 5e38df6f422d1291dc337ba6f16c0d6bce735b6f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 12:41:49 +0000

    GabbleChannelManager: add channel-closed signal
    
    
    20080725124149-53eee-3b99becea6239c82244b3347355e7e2dabee9af8.gz

commit 14f70ac264105f9afd29ce1c24b51aaaef79b82b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 12:41:37 +0000

    GabbleChannelManager: remove unnecessary include
    
    
    20080725124137-53eee-612db042f62b0fe1a09bf2303960485482294344.gz

commit c7c178df0af0bfedd5de379374e59c5cef60172c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 11:53:35 +0000

    GabbleChannelManager: add a new-channels signal
    
    
    20080725115335-53eee-cc3c03294260db4c44875967f86a89808c8d579e.gz

commit 6c713237448896e3e0096f2bab29ac029891db5f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 16:17:05 +0000

    conn-requests: segregate channel factories and channel managers
    
    
    20080729161705-53eee-75cf89c369ac890be7054418b01b368739b8e895.gz

commit ba9c76809e2804b3d45dd1081ba1212e65d8ac25
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 16:12:57 +0000

    conn-requests: add method member to ChannelRequest
    
    
    20080729161257-53eee-d9b3da89db1aec59eb7e5c773051285460961194.gz

commit e647f3ec3a1e03fa388944db0d1d4adfe7ca9aa7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 10:05:36 +0000

    Add GObject boilerplate for a GabbleChannelManager interface
    
    
    20080725100536-53eee-81026e4cfe4b6d0b8704a342c140b8fdf395e590.gz

commit 0d8953344195ad0d875b185249b3fde9b11927cf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 12:06:49 +0000

    Reimplement RequestChannel and ListChannels
    
    
    Instead of taking the ones from TpBaseConnection, we now use an internal
    implementation so we have complete control over the request process, so that
    the Requests interface can be implemented on top of it.
    
    This code should move back to telepathy-glib once it's stable.
    
    20080725120649-53eee-386efddc780ff08349112c1d0ddfa6416bb87636.gz

commit 29fd18678a4b4df6dde5aff901a05f5d14d5e572
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-14 15:56:50 +0000

    Implements D-Bus method AcceptStreamTube on org.freedesktop.Telepathy.Channel.Type.StreamTube
    
    
    20080814155650-a41c0-44c96fad5b19d4dba21ad8cd42fcb66c2ac59fc4.gz

commit 3aea1b87e64e01a6a366bbb851f7176231c1ea12
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-14 14:53:44 +0000

    Implements D-Bus method GetStreamTubeSocketAddress on org.freedesktop.Telepathy.Channel.Type.StreamTube
    
    
    20080814145344-a41c0-295ef250face270db66aaa79b940d3bf3307611a.gz

commit 5044b0535ffd2024fee8c1919d36de8592808a41
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-14 14:28:29 +0000

    Move publish_tube_in_node in tube-iface because it will be used both by GabbleTubesChannel and GabbleTubeStream/GabbleTubeDBus. Move send_new_stream_tube_msg in tube-stream.c. OfferStreamTube in Channel.Type.StreamTube will be implemented with it.
    
    
    20080814142829-a41c0-deddf9425b6bc971219ca64b80cd33d975e5ee37.gz

commit 9014990bae3e1b5b33f813b0c604d55272666617
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-13 17:48:06 +0000

    GabbleTubeStream exposes the Channel.Type.StreamTube object. Some methods not yet implemented.
    
    
    20080813174806-a41c0-34a93595855b4d286162505940c380fab21ffb2a.gz

commit 369ae719c0af0ff31f2f60339c2f340c11aca54b
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-13 17:35:56 +0000

    Rename signal names of StreamTubes and DBusTubes to avoid collisions when GabbleTubeDBus and GabbleTubeStream will implement TP_TYPE_SVC_CHANNEL
    
    
    20080813173556-a41c0-f5e150e6ece74e95aed4b323531c40cb810ebc39.gz

commit 5ca29b985cb53f77316858dbd3327ef87595b1d1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-12 13:45:15 +0000

    Add new tube spec as an extension
    
    
    20080812134515-a41c0-15e1c32481e89e018c89afe9dd9f468d4cc92fdf.gz

commit c5d21e0af230f63babe100f042e3cffbcfce8552
Author: Jonny Lamb <jonny.lamb@collabora.co.uk>
Date:   2008-08-16 14:24:29 +0100

    Updated gitignore.
    
    Signed-off-by: Jonny Lamb <jonny.lamb@collabora.co.uk>

commit a2304d6f8664a4dec48330ffcd184303b445faf8
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-15 19:43:43 +0100

    D-Bus signature for INT16 is 'n', not 'h'

commit 8446850029110327be1aa428e393ce238816db08
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-15 17:50:35 +0100

    Set autogen.sh executable, use git in dist-hook, replace _boring with .gitignore

commit ebcaf44d83264a505cb266c882d13602108af30f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-08-12 15:54:10 +0000

    Implement GetAliases
    
    
    20080812155410-b58c9-890dd148221b52f77588bf20f64cbc6ffb100f2a.gz

commit 60078d012ca3ac876db44797c53b3fe1d65b9790
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-08-12 10:17:15 +0000

    Connection: s/_get_contact_attributes/_fill_contact_attributes for more consistency
    
    
    20080812101715-b58c9-9ef601b4dcd325bc28c4b27ff64e99b9c021b2c0.gz

commit 6dc6465e5cd79e95fc107a225ee29cbe1927727f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-08-12 10:16:49 +0000

    conn-avatars: s/_get_contact_attributes/_fill_contact_attributes for more consistency
    
    
    20080812101649-b58c9-115474b07c62590b0a102565f699adb20f542d39.gz

commit 9a2bc30435340cf2b13df9d5cf3218520f74c710
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-08-12 10:16:36 +0000

    conn-aliasing: s/_get_contact_attributes/_fill_contact_attributes for more consistency
    
    
    20080812101636-b58c9-24c8893cdcf89d1483e2fc47e7d10c8b0729ffba.gz

commit 094dde52068acba49751475f8f42888e33c45fc1
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-08-12 10:16:10 +0000

    conn-aliasing: Fix typo
    
    
    20080812101610-b58c9-ac5115574ca324b5f253305911f242a9ea03d9b3.gz

commit dd5efa0eb7c68817170e488c6dfad56d378422df
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-08 18:08:48 +0000

    Fix Bug #13891: listen for D-Bus connection from the local application before returning from the AcceptDBusTube method call
    
    
    20080808180848-a41c0-daef0909c8153077b122dc7c67dbe242cdb0fcf0.gz

commit bad11b6419d7b1441a5c4091c772d20a46a7fcff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-08-07 09:14:10 +0000

    use tp_debug_divert_messages instead of our own copy of it
    
    
    20080807091410-7fe3f-2277c77b008b24567d8886fb93eb521b58a6d833.gz

commit 0877b14c3326e2914d2d8d0608aa54f6314d14a6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-08-07 09:14:10 +0000

    use tp_debug_divert_messages instead of our own copy of it
    
    
    20080807091410-7fe3f-2277c77b008b24567d8886fb93eb521b58a6d833.gz

commit d7a3f9096cceccdab1c0c432b81e9159dbc9f204
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-08-06 15:28:55 +0000

    docs/tubes.xml: tube capabilities
    
    
    20080806152855-a41c0-1f8730b964237a1eae969399e9e41570458a1809.gz

commit 87f166b6999115bc4a4d23c3523c5ab5d16fa403
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-08-05 16:56:58 +0000

    "dnd" should be TP_CONNECTION_PRESENCE_TYPE_BUSY
    
    
    20080805165658-418b8-b19546b8bb135d066266949220b600f9c0f5518d.gz

commit df6dd951ddcb4cd9944aa3614f055c20072f8a7f
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-08-05 16:56:58 +0000

    "dnd" should be TP_CONNECTION_PRESENCE_TYPE_BUSY
    
    
    20080805165658-418b8-b19546b8bb135d066266949220b600f9c0f5518d.gz

commit 27f4c62b46d4f0e9cdfe1ea2e3cf2a926baa7662
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-05 15:51:57 +0000

    GabbleMucFactory: don't implement TpChannelFactoryIface
    
    
    20080805155157-53eee-4a06251f63f756c80c28c72519dda868dc613cb4.gz

commit b9df8fdb005b1059a30623e76f470e4719cc119a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-05 15:51:30 +0000

    conn-olpc: assume that conn->muc_factory is a GabbleChannelManager, not a TpChannelFactoryIface
    
    
    20080805155130-53eee-e84527e4a3b4f917722f9f10cd6064d1fd1057e2.gz

commit aeb6c094b3ca20c4d7705282aa05f47705148d16
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-05 15:37:51 +0000

    GabbleConnection: remove another occurence of assuming the MUC factory is a TpChannelFactoryIface
    
    
    20080805153751-53eee-468ee5e3c40fae46fc2aab16076a5024249a6e49.gz

commit 160832dfe457fe500bde0f4bfd278cbef39ee144
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-05 15:37:37 +0000

    channel-manager.h: remove unnecessary inclusion of <telepathy-glib/channel-factory-iface.h>
    
    
    20080805153737-53eee-2767780e72da8dcc5bc637a1169d9ff5fdade40d.gz

commit 328ff10052f68d0680d16969ec5ecfe99e09d1cb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-05 15:00:19 +0000

    GabbleMucFactory: correctly fail requests when joining a MUC fails
    
    
    20080805150019-53eee-bc38baec7e2553a9ad530a21f6f15ce4e19ffb1f.gz

commit c36a6def2df251caaf155d00448d3a19eb51bad6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-05 14:50:14 +0000

    GabbleConnection: use GabbleMucFactory as a GabbleChannelManager
    
    
    20080805145014-53eee-5f188c0b2be3d6e0dd8419036eadb6151b56a931.gz

commit 71f656f09cbea0afabf6d4060bc3f7fe6f67887a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-05 14:48:28 +0000

    GabbleMucFactory: implement GabbleChannelManager
    
    
    20080805144828-53eee-b2c51c880d6398e96ad12733e1d08a325007a20d.gz

commit e2e720360d83dc5ee1c649ff1a6fcac42163ad71
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-05 14:27:19 +0000

    muc/roomlist.py: add tests for using the Requests API on room lists
    
    
    20080805142719-53eee-261b09dcf199d66b7ffeda95d5746f9f2faa54d2.gz

commit 97488290f7f42419cfeeca86d94d85b1ce8d3c28
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-05 14:26:52 +0000

    GabbleMucFactory: stop managing RoomList channels
    
    
    20080805142652-53eee-0797b9d2e4c461031c1d3ef31e6acd80128dd51b.gz

commit 79e167b22bb6f9f8d24d11e10a9fa6d55db14eb0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-05 14:26:37 +0000

    GabbleConnection: use the new GabbleRoomlistManager
    
    
    20080805142637-53eee-7d36d720da98e9d2ec5c49715f226998db66dafd.gz

commit f3eb8232e84825ba4620c1e055eba10e76289499
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-05 14:26:25 +0000

    GabbleRoomlistManager: add new channel manager for room lists only
    
    
    20080805142625-53eee-af1bc69d457df5d3e1aa1f0d093c6813a70fc4a7.gz

commit 40662541d6748759dacadcba9728c1415213f5b4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-05 14:04:51 +0000

    GabbleRoomlistChannel: set priv->closed before emitting closed, so we don't indicate that we're about to respawn
    
    
    20080805140451-53eee-de9a2b5705617289393a940bcdcdfe2d38a550cc.gz

commit 8b9bed0466e7719ca294c43159ec8e4abf458e4f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-31 19:20:02 +0000

    tubes/test-si-tubes: exercise NewChannel and NewChannels signals
    
    
    20080731192002-53eee-5eb6be0aa07847b9300066fc1d252a5bbc52ade1.gz

commit 6b39778fe98bf7d6ad22bbf544bafa6d13ba147e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-31 19:19:48 +0000

    Use GabblePrivateTubesFactory as a ChannelManager
    
    
    20080731191948-53eee-56af9766eef7c9a7517d2dbcfa1cccb806df25cf.gz

commit b0b42aba2bdedc08bb575c5468db287baf930f03
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-31 19:17:15 +0000

    GabblePrivateTubesFactory: implement GabbleChannelManager
    
    
    20080731191715-53eee-92ec3b350351652ad4f28820e8764eec90093abf.gz

commit de6cb653d14a54b05566e4ad9d9678a71d88cc45
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-31 19:14:08 +0000

    When failing a test due to an exception, print it
    
    
    20080731191408-53eee-6eb52b1cfdf7ea3486546db6cfc7ec10de1d9de8.gz

commit 911fa03ae420bcff3cd1ec937769dc08fb7580b8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-31 19:14:08 +0000

    When failing a test due to an exception, print it
    
    
    20080731191408-53eee-6eb52b1cfdf7ea3486546db6cfc7ec10de1d9de8.gz

commit 924375b2dc4809a101cdad80082cb13e590fb898
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-31 18:50:33 +0000

    Don't assert that GabbleIMChannel is a TpChannelIface
    
    
    20080731185033-53eee-2209e152b6fc87f0fa405eb34686f8ce9d795334.gz

commit c3944dc93ab14084addb7bd9c6554bf2bac0afad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-31 18:42:12 +0000

    GabbleImFactory: don't implement TpChannelFactoryIface
    
    
    20080731184212-53eee-b35a39ea359b36507b0b2d9b6338c879d38a4bfc.gz

commit de9d8bfe257663d118b0f238ea7aedfe63ea802c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 18:35:55 +0000

    gabbletest: make it possible for tests to fail again
    
    
    20080730183555-53eee-105e1f87820b59bb5d91f36877b19e77414c2dee.gz

commit 520fb2b78c8421ef832f112f4f5e168fb68a8a55
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-08-05 12:09:58 +0000

    test-si-tubes: don't early return so the rest of the test is actually executed
    
    
    20080805120958-7fe3f-dc1fcc02bedf9813b40e49c386de5fcb00a8a724.gz

commit e1822ccff37608fac888ac2534d5ba0001be4053
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-08-05 11:10:25 +0000

    test-disco: don't early return so the rest of the test is actually executed
    
    
    20080805111025-7fe3f-5e646df68d65b91450908ec0041e5733996cabcf.gz

commit e69b48e5b86ab452c5e911f729fd8219faefd5c2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-04 19:47:24 +0000

    presence/presence.py: Remove unnecessary assertions copied from test-roster
    
    
    20080804194724-53eee-496a97f2ce71e25d4fb93dd97e930977e3e69daf.gz

commit 23643414afd7f4512d87b44efcd0c2dea7ae529f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-04 11:33:18 +0000

    Add a simple smoke-test for SimplePresence
    
    
    20080804113318-53eee-c470ebdcf276c8d1860f7399e3c9539296c35053.gz

commit b0e134bdd394dd85fc8767199ce6907be20647ca
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-04 18:57:46 +0000

    Use pedantically correct marshaller for a GArray, because GObject 2.17 actually checks for this :-(
    
    
    20080804185746-53eee-639d869c8a7d6ea7832ae9d5883b2c7dd181b74e.gz

commit 7269db4a0ee9e6f0ceb9379e0dae58deed7199a5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-08-04 08:33:15 +0000

    register: use DEBUG instead of g_debug
    
    
    20080804083315-7fe3f-e78240def4057e1579abd6c1ee3d3d21f4ba170f.gz

commit 5d1dc04930834f48cbc238c20389299024d9ab8f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-08-04 08:28:15 +0000

    util: use DEBUG instead of g_debug
    
    
    20080804082815-7fe3f-e619ec80b634c5a2fbda169b01fb73315bfe65f7.gz

commit aa8d10e5cee7126e5bfc8337a32cc8ad64f4222c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-08-04 08:25:04 +0000

    muc-channel: use DEBUG instead of g_debug
    
    
    20080804082504-7fe3f-5982ccd671e1b7b2bd1a6392332dead2b1778e57.gz

commit 4e966e09b510301dd319c7cc1b9645a276775513
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-08-04 08:24:03 +0000

    connection: use DEBUG instead of g_debug
    
    
    20080804082403-7fe3f-6e167e7a0943912f89662b288432c77a31613d51.gz

commit 2e68257597f9aef13b71c1b8c386da6866ff2747
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 18:35:55 +0000

    gabbletest: make it possible for tests to fail again
    
    
    20080730183555-53eee-105e1f87820b59bb5d91f36877b19e77414c2dee.gz

commit ea76d8930dbdc4459e357c3f5ddc918fc1aee2a3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-08-05 12:09:58 +0000

    test-si-tubes: don't early return so the rest of the test is actually executed
    
    
    20080805120958-7fe3f-dc1fcc02bedf9813b40e49c386de5fcb00a8a724.gz

commit 9bd41935f091e2eb77bc7b21c1dba0dff4499f97
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-08-05 11:10:25 +0000

    test-disco: don't early return so the rest of the test is actually executed
    
    
    20080805111025-7fe3f-5e646df68d65b91450908ec0041e5733996cabcf.gz

commit a6a3967087834ac0a58ec6e0703529ae2573a655
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-04 19:47:24 +0000

    presence/presence.py: Remove unnecessary assertions copied from test-roster
    
    
    20080804194724-53eee-496a97f2ce71e25d4fb93dd97e930977e3e69daf.gz

commit e502196a57ab735573e2484efc61377b2b691050
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-04 11:33:18 +0000

    Add a simple smoke-test for SimplePresence
    
    
    20080804113318-53eee-c470ebdcf276c8d1860f7399e3c9539296c35053.gz

commit d463349b3cd3eecba036da5d9f38cd034e14e780
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-08-04 18:57:46 +0000

    Use pedantically correct marshaller for a GArray, because GObject 2.17 actually checks for this :-(
    
    
    20080804185746-53eee-639d869c8a7d6ea7832ae9d5883b2c7dd181b74e.gz

commit 93435333e03863851fbc1e7429cba854fd82b44f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-08-04 08:33:15 +0000

    register: use DEBUG instead of g_debug
    
    
    20080804083315-7fe3f-e78240def4057e1579abd6c1ee3d3d21f4ba170f.gz

commit 18895c3a4545df585ef37375e5e5ec4aef83f859
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-08-04 08:28:15 +0000

    util: use DEBUG instead of g_debug
    
    
    20080804082815-7fe3f-e619ec80b634c5a2fbda169b01fb73315bfe65f7.gz

commit 3d67d195c8b50994b8acbad65b0bbaa6351bf65a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-08-04 08:25:04 +0000

    muc-channel: use DEBUG instead of g_debug
    
    
    20080804082504-7fe3f-5982ccd671e1b7b2bd1a6392332dead2b1778e57.gz

commit 7e4b41ab26dca27ef25e94310f5bda2d11ec66a7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-08-04 08:24:03 +0000

    connection: use DEBUG instead of g_debug
    
    
    20080804082403-7fe3f-6e167e7a0943912f89662b288432c77a31613d51.gz

commit c32db1b850892a8496e2e5d9d7ae7d777983dd4c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 18:35:11 +0000

    text/initiate-requestotron.py: assert that the Channels and RequestableChannelClasses properties work correctly
    
    
    20080730183511-53eee-71d9f011f1abc53d195bb0b2f27213b35d93550e.gz

commit c1f095fda296b1ce307ec57da865a483cee26887
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 18:34:57 +0000

    GabbleConnection: hook up Requests properties
    
    
    20080730183457-53eee-e7019c0feff376bd424bcba6c9600d51f27e336e.gz

commit fdff60f093a7cb2c99abe1abcc52ee8f982b0651
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 18:34:24 +0000

    GabbleIMFactory: implement foreach_channel_class
    
    
    20080730183424-53eee-b0e6d8cd77a4ff14bd4ff1dd194cdd037440d01c.gz

commit 29efc6c7524f5233e6211c5c269c69c1491ebe66
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 17:37:29 +0000

    conn-requests: use foreach_channel_class
    
    
    20080730173729-53eee-eb70fd5faece7243b5545ca44d31c7d513f094f8.gz

commit 2fa633956ed8f99c49e25466f93c96ca599cc5f6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 16:55:02 +0000

    GabbleChannelManager: add foreach_channel_class
    
    
    20080730165502-53eee-eafb03fdd4199c5b902077c84e8a15fe918b6b7b.gz

commit 19562ae15861261ac022fefa468c6bba7fec1155
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 15:46:24 +0000

    conn-requests: add a stub implementation of RequestableChannelClasses
    
    
    20080730154624-53eee-a10779cdfed409c3b1b5337495806e2be016a5fa.gz

commit fd8e5840d74c25a1c31a1c0e45042367d55f176d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 15:45:59 +0000

    conn-requests: comment why the magic number for channels is (number of managers + number of factories) * 2
    
    
    20080730154559-53eee-de557a08024b7173ff108378f5255879cf9e7e5e.gz

commit f8b6b389ab7343d879df82f1fa6cbcc7a97a864d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 15:45:45 +0000

    text/initiate.py: improve output if assertions fail
    
    
    20080730154545-53eee-47b7a9bc0e97614e924f039361a538ed95676ba0.gz

commit c08b2842a639c58a80767bf08e7385885d514be0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 15:45:20 +0000

    conn-requests: stop assuming that every GabbleExportableChannel is a TpChannelIface
    
    
    20080730154520-53eee-6153b5e9227736c496015135c44d155fc941494a.gz

commit 1c5622af147f5d6226d903da554a7ac738ca7f43
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 15:33:23 +0000

    conn-requests: add some more sanity checks when CreateChannel is called
    
    
    20080730153323-53eee-38f95eedc187ebf89ee615bbe5023f5a95836f8a.gz

commit dd8d5b9a3c497d6787f2f4042e5a6d8038fdb20f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 15:07:28 +0000

    conn-requests: manager_request_already_satisfied_cb: no need to assume that the channel implements TpChannelIface - GabbleExportableChannel has object-path too
    
    
    20080730150728-53eee-e5e42985e235b5cbf978b74331a4d72436412a0e.gz

commit 66de78b6f3e549af3d7a3383d4c52e3b8255cbf0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 14:18:30 +0000

    GabbleImFactory: implement request_channel instead of ensure_channel
    
    
    20080730141830-53eee-fbeb60c1ecf35a4115416d21213b8d4bf373be1e.gz

commit 448ebb189cc7c079eb37c7149467bfdc47e95e7c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 14:17:45 +0000

    conn-requests: knock out EnsureChannel functionality, explicitly use RequestChannel
    
    
    20080730141745-53eee-8c6c58f539cbd97e507774fd6c53463f24ac46a1.gz

commit 794d34dcecd0f7cb9e96751193b9500808e7f22a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 14:17:33 +0000

    GabbleChannelManager: add a placeholder priv pointer
    
    
    20080730141733-53eee-c7decd422c11845069d8d63aeb14335ecc39d913.gz

commit 93feda60e2eb970dd56e18184844bd541b424a5c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 14:16:07 +0000

    GabbleChannelManager: explicitly have RequestChannel in the API.
    
    
    For some channel factories we want RequestChannel to have different semantics
    regarding parameters accepted, etc., for backwards compatibility (in particular
    media channels).
    
    20080730141607-53eee-f90f3cd0168901249cd49455fa720960083b894f.gz

commit abf8e7483b48d50a7ecea90a893078dc45b4511e
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-07-30 14:08:20 +0000

    Test that the capabilities signals and the inspectotron results match
    
    
    20080730140820-b58c9-06bf402282744a5725ce4b3e466ed21cc4a821bb.gz

commit 54c400e3641dd6983bb79d99833417ff96378344
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-07-30 14:07:01 +0000

    Add Contacts to the standard inferfaces
    
    
    20080730140701-b58c9-7d16d20bb0bc9d284b400abbeb827977af4dffeb.gz

commit ac2857dc78a4c935e2909e668ad4f540f8767a4d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 21:06:27 +0000

    Add a simple test for requesting a channel using the requestotron API
    
    
    20080729210627-53eee-ac909c1c314c5917ec2716e922eeda845ca71f96.gz

commit d9819b04d362cb0e3e4ea0f294b6ae52178587a8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 21:05:51 +0000

    conn-requests: fix CreateChannel implementation, and implement EnsureChannel while I'm at it
    
    
    20080729210551-53eee-949154d435a3cc121bf28cfb70228766f8288e9b.gz

commit b22ab67bdd311cf1a007bb925e1b64463134252a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 16:17:05 +0000

    conn-requests: segregate channel factories and channel managers
    
    
    20080729161705-53eee-75cf89c369ac890be7054418b01b368739b8e895.gz

commit f797d04a13777ef6add7f9382dfa26d82ac15b28
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 16:12:57 +0000

    conn-requests: add method member to ChannelRequest
    
    
    20080729161257-53eee-d9b3da89db1aec59eb7e5c773051285460961194.gz

commit 1ee29bbac5291b7c2ce1362422ff59a793bc9e29
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-07-29 15:14:14 +0000

    Add support for capabilities in the Contacts interface
    
    
    20080729151414-b58c9-83680204eb5d718c112d3a33703f7795048b363e.gz

commit 5dfc69e9f526a169279f53410b459c33764fb2ff
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-07-29 11:37:17 +0000

    Implement avatars in the Contacts interface
    
    
    20080729113717-b58c9-48d70e94ffa57623cdbd9f9f2cf6ffc2bda1493b.gz

commit 38fda73329f1310424158fd801e4b077749ebeca
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-07-29 10:31:09 +0000

    Add aliasing support for the Contacts interface
    
    
    20080729103109-b58c9-b2dad2c56f6578d952e7a877244bb811832c5f3f.gz

commit f28aa30ed3558455ca0f9280029ee26fe0f50b1f
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-28 17:22:49 +0000

    Register the base connection with the Contacts mixin
    
    
    20080728172249-93b9a-f6555a6fff6c1d233c4155f423ace6440f4f8a7f.gz

commit a70965c22416ed6ef204c77df9a9edd46b978891
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 16:47:33 +0000

    GabbleMediaFactory: reduce dependence on TpChannelFactoryIface for close_all
    
    
    20080728164733-53eee-a75cd4c413c9a75237b607b695b117db80b52d8d.gz

commit 02a35fa39188b8a4e3de584933770adfaaac72bc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 14:48:52 +0000

    GabbleTubesChannel: remove vestigial property-setter for channel-properties
    
    
    20080729144852-53eee-a47fd6f93c56247410dd710c8b94c051b6385546.gz

commit e5398d9a8100d1c145fb761416c6ab35c78658ff
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 14:48:47 +0000

    GabbleRosterChannel: remove vestigial property-setter for channel-properties
    
    
    20080729144847-53eee-643cd0e1d7e178a54e7bc07549a1ed3219e5ef3d.gz

commit 5514b82f4ba2e0501cb8f6347828740fc2f112e2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 14:48:41 +0000

    GabbleRoomlistChannel: remove vestigial property-setter for channel-properties
    
    
    20080729144841-53eee-3ead3216e0a455b020756e785171916f491eacd6.gz

commit 52173b2346b197a7fe0306913bd4896214721c18
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 14:48:35 +0000

    GabbleMucChannel : remove vestigial property-setter for channel-properties
    
    
    20080729144835-53eee-f701a51f8565cc23d967b2c87a6f157e3977e0ae.gz

commit 4d25b762480ba2809484410adcd91bf60ae766ff
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 14:48:18 +0000

    GabbleIMChannel: remove vestigial property-setter for channel-properties
    
    
    20080729144818-53eee-b4e3e98cd723e1ee13ac49f51ce3afef297084d5.gz

commit ed25b2abf22cc92dfc6de7fc3b8300497b1db15c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 14:47:15 +0000

    GabbleExportableChannel: decide that channel-properties is read-only
    
    
    The channel manager is going to have to parse the properties in the request
    anyway, so I don't think it's a great loss for it to pass all construct-time
    properties separately.
    
    20080729144715-53eee-a871a8be1845f7748d5b3d03469dcc8ed4b048bd.gz

commit b5d8468ef7d20dc60ccea2faaf9a222a0c83e2f4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 16:47:48 +0000

    GabblePrivateTubesFactory: reduce dependence on the channel factory interface
    
    
    20080728164748-53eee-2d1dff8df70fb877603448b6e5a0843f5d4a1cd7.gz

commit 0f2a0da650af1fad6a112d5f7f60aefcbb27f5b1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 16:47:33 +0000

    GabbleMediaFactory: reduce dependence on TpChannelFactoryIface for close_all
    
    
    20080728164733-53eee-a75cd4c413c9a75237b607b695b117db80b52d8d.gz

commit a8da4ecb383473cf2d34bdb972f3552354b68c26
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 14:48:52 +0000

    GabbleTubesChannel: remove vestigial property-setter for channel-properties
    
    
    20080729144852-53eee-a47fd6f93c56247410dd710c8b94c051b6385546.gz

commit 8372dca8ff358e0e3670b3ba48b7a095a8beb4d2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 14:48:47 +0000

    GabbleRosterChannel: remove vestigial property-setter for channel-properties
    
    
    20080729144847-53eee-643cd0e1d7e178a54e7bc07549a1ed3219e5ef3d.gz

commit b0bfd227482afb14185a4f3233ed5ee250cc12e2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 14:48:41 +0000

    GabbleRoomlistChannel: remove vestigial property-setter for channel-properties
    
    
    20080729144841-53eee-3ead3216e0a455b020756e785171916f491eacd6.gz

commit 24d383286a4a065068dbae1f997968e69aa8cbe0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 14:48:35 +0000

    GabbleMucChannel : remove vestigial property-setter for channel-properties
    
    
    20080729144835-53eee-f701a51f8565cc23d967b2c87a6f157e3977e0ae.gz

commit 95c179d592a8dbb45ac2c0b92bbbce4a1047c66b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 14:48:18 +0000

    GabbleIMChannel: remove vestigial property-setter for channel-properties
    
    
    20080729144818-53eee-b4e3e98cd723e1ee13ac49f51ce3afef297084d5.gz

commit ada9338ead69f46532eac91d1182dd932d412ae3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 14:47:15 +0000

    GabbleExportableChannel: decide that channel-properties is read-only
    
    
    The channel manager is going to have to parse the properties in the request
    anyway, so I don't think it's a great loss for it to pass all construct-time
    properties separately.
    
    20080729144715-53eee-a871a8be1845f7748d5b3d03469dcc8ed4b048bd.gz

commit 85dd82f8d498b0717e7fd19c31a321b6dd6e8a2c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 16:47:48 +0000

    GabblePrivateTubesFactory: reduce dependence on the channel factory interface
    
    
    20080728164748-53eee-2d1dff8df70fb877603448b6e5a0843f5d4a1cd7.gz

commit 74d738dd04a465eee36cbb1079c026b1c09fb9f8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 16:42:52 +0000

    GabbleMucFactory: reduce dependence on TpChannelFactoryIface for close_all
    
    
    20080728164252-53eee-8a48ac86c3423c9a0c4ee526d918f52c1c53b6ba.gz

commit e15813f05015a7c159dc6c24cdb9e0599e4e1d90
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 16:42:52 +0000

    GabbleMucFactory: reduce dependence on TpChannelFactoryIface for close_all
    
    
    20080728164252-53eee-8a48ac86c3423c9a0c4ee526d918f52c1c53b6ba.gz

commit edaada6cae64a62eac90cdb9a24b75b1888a2399
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-28 16:39:29 +0000

    Add support for the Contacts interface
    
    
    20080728163929-93b9a-196f5df4b207c0bee6c3ddd5897d00af45a338d9.gz

commit 3f080752de1a35d95c4ba74569d890afc7f6de7e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 16:34:37 +0000

    GabbleRoster: reduce association between this and TpChannelFactoryIface
    
    
    20080728163437-53eee-e8b7a329fdf6ca0a05522b1f25c3fa54d79c67f6.gz

commit 93f287c278603f26bc61c7e847c180377121b67c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 16:34:37 +0000

    GabbleRoster: reduce association between this and TpChannelFactoryIface
    
    
    20080728163437-53eee-e8b7a329fdf6ca0a05522b1f25c3fa54d79c67f6.gz

commit 9a9280e9845d5cd64840adcf8b83e4678c6b372e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 16:28:22 +0000

    GabbleMucFactory: use TpBaseConnection::status-changed rather than connected/connecting/disconnected callbacks
    
    
    20080728162822-53eee-21f2c31b66bdaf94e961874616bc02242b26ff97.gz

commit c4b133effedb623f7e10797736b378fe5bb28fbb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 16:28:22 +0000

    GabbleMucFactory: use TpBaseConnection::status-changed rather than connected/connecting/disconnected callbacks
    
    
    20080728162822-53eee-21f2c31b66bdaf94e961874616bc02242b26ff97.gz

commit efbc0fa4d3d79bc231431d434fa634dc55f2f093
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 16:19:45 +0000

    GabbleRoster: use status-changed signal instead of connecting, connected, disconnected
    
    
    20080728161945-53eee-a558db9a45e9ffb4eb3bacd27c39fd7ef6021e03.gz

commit 4aaf26a8a559464049a9b8cd56b021015cffdda0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 16:19:45 +0000

    GabbleRoster: use status-changed signal instead of connecting, connected, disconnected
    
    
    20080728161945-53eee-a558db9a45e9ffb4eb3bacd27c39fd7ef6021e03.gz

commit 6609c225f0731fe488f94e481a94f76b6656d6ad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 16:10:27 +0000

    GabbleMediaFactory: stop using the connected, connecting, disconnected callbacks
    
    
    20080728161027-53eee-eca7d5143f3e78fce8d561aab4bb7dc999e4701b.gz

commit da08cd11e477c2af73afea6340b05eb235b27a48
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 10:30:57 +0000

    GabbleMucChannel: merge with Rob (include both exportable-channel.h and presence.h)
    
    
    20080729103057-53eee-b2aab34b693f38e684e483487d7f6857065edbcf.gz

commit 9114adfaac6bbbe53095c6673b8730fb3e67e0d5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 16:10:27 +0000

    GabbleMediaFactory: stop using the connected, connecting, disconnected callbacks
    
    
    20080728161027-53eee-eca7d5143f3e78fce8d561aab4bb7dc999e4701b.gz

commit 566fe820bb17c4ac92ac6282bed4120791f79aef
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 10:30:57 +0000

    GabbleMucChannel: merge with Rob (include both exportable-channel.h and presence.h)
    
    
    20080729103057-53eee-b2aab34b693f38e684e483487d7f6857065edbcf.gz

commit 79757f1bfea9871a35da8f580960026b0a9503b4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 15:10:47 +0000

    GabbleTubesChannel: implement GabbleExportableChannel
    
    
    20080725151047-53eee-eb91762fe7499d04ff07cb21faf95eff16994b12.gz

commit 85f86cee0288366bf919f0cb4db0d72e5cf36a95
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 15:10:47 +0000

    GabbleTubesChannel: implement GabbleExportableChannel
    
    
    20080725151047-53eee-eb91762fe7499d04ff07cb21faf95eff16994b12.gz

commit c8f7818427e5fea12f85998abc113ffca4d1576c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 15:10:34 +0000

    GabbleRosterChannel: implement GabbleExportableChannel
    
    
    20080725151034-53eee-3fadd96247ddeaa2ed7c16571027e7cd7bcad913.gz

commit 7c413c3019996ae200a7f61786a0f1ce20d505f9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 15:10:34 +0000

    GabbleRosterChannel: implement GabbleExportableChannel
    
    
    20080725151034-53eee-3fadd96247ddeaa2ed7c16571027e7cd7bcad913.gz

commit d01f5284cdc1e68fc9bed3cddb9705ef1361bad7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 15:10:20 +0000

    GabbleRoomlistChannel: implement GabbleExportableChannel
    
    
    20080725151020-53eee-070f94fd80795d8f27669181017a703ee5b78b5e.gz

commit e009901401dc10530c3461f00c04fadb9d56ef5f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 15:10:20 +0000

    GabbleRoomlistChannel: implement GabbleExportableChannel
    
    
    20080725151020-53eee-070f94fd80795d8f27669181017a703ee5b78b5e.gz

commit 819522c960aa72a104285c465cebfcfad7449617
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 15:10:08 +0000

    GabbleMucChannel: implement GabbleExportableChannel
    
    
    20080725151008-53eee-6760cece093403a1319e2a1fc1a7835a308a5d5c.gz

commit 00a2354db20403bf9af7df95e15d8d5ad07ea5b6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 15:10:08 +0000

    GabbleMucChannel: implement GabbleExportableChannel
    
    
    20080725151008-53eee-6760cece093403a1319e2a1fc1a7835a308a5d5c.gz

commit 7481b42d14a814150710abffbe3f50be111eab93
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 15:09:54 +0000

    GabbleMediaChannel: implement GabbleExportableChannel
    
    
    20080725150954-53eee-c66f19f7f48389a1209800ba4d26c5ae95ac88d2.gz

commit 2ce2ca9328463340330e96bf31f716e130319473
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 15:09:54 +0000

    GabbleMediaChannel: implement GabbleExportableChannel
    
    
    20080725150954-53eee-c66f19f7f48389a1209800ba4d26c5ae95ac88d2.gz

commit ffaeef2a0ac20a4e8cc3ced77af795f59a541b81
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 15:09:18 +0000

    GabbleExportableChannel: add convenience API for implementors to use
    
    
    20080725150918-53eee-d15367cc045b44cc502232c030a69a8082974e25.gz

commit 57d350ae027aed6d0a10bb2a29b0132854e9cf8a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 15:09:18 +0000

    GabbleExportableChannel: add convenience API for implementors to use
    
    
    20080725150918-53eee-d15367cc045b44cc502232c030a69a8082974e25.gz

commit 6fa1ee249dbcd7ec6ac29bec09044e393de729e4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 12:56:41 +0000

    text/respawn.py: do some cursory testing of the Requests signals
    
    
    20080725125641-53eee-43d390831743cdc61c2cd8d12dd9a6dad8df5e9f.gz

commit aa3fb5ca93649d1257198dc56ac04dbfe39d28c8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 20:32:15 +0000

    conn-requests: implement CreateChannel
    
    
    20080729203215-53eee-17d069516f7057d7323f7a4efcf2df183b306782.gz

commit df8f73816c63c312e707db0c38d6874948758dac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 20:12:44 +0000

    conn-requests: add a stub for EnsureChannel too
    
    
    20080729201244-53eee-0b0b97d65cbc7b80f5ab12ec9cae567101f6485d.gz

commit 821710820e9347137c35121267d0393198b75af2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 20:09:34 +0000

    conn-requests: expect GabbleChannelManager::new-channels to contain a GHashTable
    
    
    20080729200934-53eee-7d2bf220da11824fe95b8f0c170f8b45f887d2fd.gz

commit 43efcff3f4382a2eeaf2c999d95c38309ca1335f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 20:08:47 +0000

    GabbleChannelManager: change new-channels to take a GHashTable (GabbleExportableChannel => GSList of request token)
    
    
    20080729200847-53eee-38c021f2742680a3963c25c072894f98c6806170.gz

commit 577ccb7433d11f3a6fe875ac8ca1eb80a3fbed0d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 19:53:37 +0000

    GabbleConnection: move the GabbleImFactory from the factories list to the managers list, so its new API is used
    
    
    20080729195337-53eee-3d2675cefffa157fcd817c35dba17c11d03f4a65.gz

commit 46dc94c919ecb18b51f32850ce9f63ff6641ab38
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 19:53:13 +0000

    conn-requests: allow GabbleChannelManager instances to satisfy RequestChannel requests
    
    
    20080729195313-53eee-d22a7f746cbafe14d26edb9192258627d63d7472.gz

commit 442b5cb35e410f619c1f16289e4c90192e3c0413
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 19:52:16 +0000

    conn-requests: connect to the various signals on GabbleChannelManager instances
    
    
    20080729195216-53eee-ff071d157aa12f958a33648c2ced27d7153e0947.gz

commit 78904ca72c99a779e378925ef6803c328341cee8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 19:51:59 +0000

    conn-requests: factor out fail_request()
    
    
    20080729195159-53eee-96dddd63d2e4b24c3f42d6cdaaadacd2f801c4ea.gz

commit 7d41b2f18d91611307a893b7652863682602a06f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 19:51:39 +0000

    conn-requests: factor out satisfy_request()
    
    
    20080729195139-53eee-b5b048263c10684c8a29840a28ba94fc6fed3272.gz

commit db1b73c2799ebe683be15d20ffa8a087d5a0f551
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 18:53:09 +0000

    GabbleImFactory: implement CreateChannel and EnsureChannel (untested)
    
    
    20080729185309-53eee-e0904cb5774acd3e68a1e1d9df28f30f6494b936.gz

commit 615142e7902e125820e9859d6cdfa06c19fb2613
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 18:39:49 +0000

    GabbleImFactory: add stub implementations of CreateChannel, EnsureChannel
    
    
    20080729183949-53eee-c3337fd408b9fbf23722a68cb8be49fb30846588.gz

commit fc217ee2f15d5a80fd3529549c21d7a46aa8a873
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 18:38:53 +0000

    GabbleChannelManager: add create_channel, ensure_channel methods
    
    
    20080729183853-53eee-cffd01c49336fa34ec042883b7d77dec6b686530.gz

commit daa46126548ed4021a063cdc323aaae806c4c56b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 18:20:42 +0000

    GabbleImFactory: update to new GabbleChannelManager API
    
    
    20080729182042-53eee-5e6559e4d98fc2371e34f2baa4b4379a3bbf3c0a.gz

commit 02682c933161a548933a50c194d111e602cdf42f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 18:19:03 +0000

    GabbleChannelManager: include the requests that were satisfied in the arguments of new-channels, and replace request-succeeded with request-already-satisfied to cover the remaining case
    
    
    20080729181903-53eee-1ead36bf4748757c2251de5565466a66646ea2cc.gz

commit f06a23dea0f27c3535009a7908547f0fc58636dc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 20:07:49 +0000

    Register request-failed signal correctly (I lose at GObject boilerplate)
    
    
    20080728200749-53eee-dab8597fd5b2e0fc5e8342a5dca4ee9b3367ce33.gz

commit be3c30260f8bf9304127a00a6ed5fcae4933ae84
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 17:28:12 +0000

    conn-requests: fix indentation
    
    
    20080728172812-53eee-9fa426ec7318b666f4bd8e5587be5c1e5e896dc1.gz

commit f13fe0d75a8286577437ee2890fc1168e2722bc8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 16:42:28 +0000

    GabbleImFactory: reduce dependence on TpChannelFactoryIface
    
    
    20080728164228-53eee-8bd8550fd38f7a29a15a4d064d3543fa1f070d65.gz

commit ca0b69a16270234cd10b00d7caf4ad6dca53f09e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 15:40:33 +0000

    GabbleImFactory: instead of using TpChannelFactoryIface's connecting/connected/disconnected callbacks, just bind to status-changed directly
    
    
    20080728154033-53eee-74ad32313b22bfb16d87e73e999ab0524a392e7c.gz

commit dd77fffe95e80b15d03d07ba1f2b0cc4bc006822
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 17:26:41 +0000

    conn-requests: add placeholder for iterating over channel managers when connecting to signals
    
    
    20080729172641-53eee-009ee9cacef64b136db5a13edcc597dfa056f330.gz

commit 83e9d3e8001ab3e5b1cd16ddc49f255aa48ba8bd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 17:26:23 +0000

    conn-requests: add placeholder for iterating over channel managers when implementing RequestChannel
    
    
    20080729172623-53eee-102749032bc75835d532e652681c32f4cf1d4caf.gz

commit 1606edd30dc629dc504cc2a3960c4e7092905d56
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 17:25:51 +0000

    conn-requests: indicate why it is correct to refrain from calling close_all, disconnected, connecting, connected on channel managers
    
    
    20080729172551-53eee-0c0f1cfa335050e2e238e91a1bbb1ff7ecb51799.gz

commit 0cce50210e9260405f49b2b03b03c16bdd0fffeb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 17:25:01 +0000

    conn-requests: when listing channels using the old API, assume that all channels owned by managers implement TpChannelIface, and list them too
    
    
    20080729172501-53eee-cb30166bdf1dc84987b28fb225757e45cb4d7ecc.gz

commit a30a4971a5dc744fdc6c72b60cf615e071c439ff
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 17:24:46 +0000

    conn-requests: When implementing Channels D-Bus property, list channels owned by managers as well as factories
    
    
    20080729172446-53eee-dc4951c35937e140d86bbe6895e0ff59a26a5ef6.gz

commit b00d353378f788aa4bdbda0c6b3e6a3b1b762ebe
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 16:35:57 +0000

    conn-requests: only list channels owned by channel factories, for now
    
    
    20080729163557-53eee-cc781e7399c651836ea3e5e717b0e8127d0d795e.gz

commit 82301be4c9ea7c25cb9b603cbdda41354fe1bc29
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 16:35:20 +0000

    conn-requests: don't bind to channel-closed on channel managers for now
    
    
    20080729163520-53eee-bdd9eab39db1ddc9c17dec267d5a38679bbd0747.gz

commit bfac19bf859dc5c08b780a4e8aa41a1d8951e9d1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 17:04:44 +0000

    conn-requests: assert that every channel manager implements GabbleChannelManager
    
    
    20080728170444-53eee-ba6b4ba61b1cc3c44cf6264a614027b7f19bebbe.gz

commit f036e8f627ef12329b8ecb40958b4f36ef2c6771
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 12:42:34 +0000

    conn-requests: emit NewChannels and ChannelClosed signals.
    
    
    If the channel manager is a GabbleChannelManager, we assume it will emit
    channel-closed. If it's just a TpChannelFactoryIface, we act as though it had
    emitted channel-closed in response to each closed signal - this causes the
    signal ordering to be wrong in the case of a respawning channel, so factories
    for respawning channels will have to implement GabbleChannelManager.
    
    20080725124234-53eee-d65e8cba944f2f20a8ca0b0d1da90406475d29ca.gz

commit 1f89f68c00d4c497211efe6faedb35caabd82e90
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 17:29:13 +0000

    conn-requests: use GabbleChannelManager API for foreach
    
    
    20080728172913-53eee-947a09355be1707913e6b0bf98db52e1867e5343.gz

commit 8c59b895c1651eff97ab9ac57ce9541b5d4ff83b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 15:16:34 +0000

    GabbleIMFactory: implement GabbleChannelManager so far (foreach and signal emission only)
    
    
    20080728151634-53eee-e23bad4597126ac1d4c7d5d4dda6c7a6f81bebe4.gz

commit bc33b1b6b672e7706a0ed668a84073198e6bef5f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 12:56:24 +0000

    Add a property getter for Requests.Channels
    
    
    20080725125624-53eee-7576c2677548d5c3c7ab428204bea5c2cf2f9254.gz

commit 95f39052dbf03c20eae48b657bfea7af9dda65be
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 20:18:23 +0000

    GabbleChannelManager: remove spurious extra parameter to request-failed
    
    
    20080728201823-53eee-703149d808789d2f0e03d03b84a19de77a0178d2.gz

commit f9228610586a5ebc4e86f65dcdbd5ff97325486d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 20:17:37 +0000

    GabbleChannelManager: GABBLE_TYPE_EXPORTABLE_CHANNEL is not a value type, use G_TYPE_OBJECT
    
    
    20080728201737-53eee-c8051e109b26a0c2db7cb673ee70081fa2c756cb.gz

commit b8924e01cc0c8443e2740c0ebe78cfa07712dbac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 15:15:48 +0000

    GabbleChannelManager: rethink signal API, add signal emission helpers, add virtual method foreach_channel
    
    
    20080728151548-53eee-0bd5d0b60ab70534ac34164d693a779d570ddf7a.gz

commit 7477163be7a7b14f556de913fdaf475433384426
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 14:57:04 +0000

    Implement request signalling in a less awkward way, with a separate signal
    
    
    20080725145704-53eee-13df484a3db363338aa18d64b7a329b967e5e6bd.gz

commit 1b4ee6e35c9a649dfe6c9ed31dd5b9298bedfb62
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 13:22:27 +0000

    GabbleChannelManager, GabbleImFactory: make GabbleChannelManager implementations responsible for tracking which requests would be satisfied by which channels
    
    
    Anything else doesn't really look viable.
    
    20080725132227-53eee-a415f248e4f71df035d307f9fd73dc0a02bc5554.gz

commit 0cfaa472bb2870ad7878e45ade24cbf747d650ac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 13:16:50 +0000

    GabbleImFactory: also emit new-channels when a channel satisfies a request
    
    
    20080725131650-53eee-c8c436e223fba853e9414219fcef8a8baefb36c5.gz

commit 54bb8285ee7dbf6c09bf9e8d32796f914e3da22e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 12:42:12 +0000

    GabbleImFactory: implement GabbleChannelManager
    
    
    20080725124212-53eee-3914dd080040e8125d38e5e0a474d30899072e9d.gz

commit f05811b825eca189f5d84f05d127cdb9831c51c6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 13:22:09 +0000

    Start to sketch the API of GabbleChannelManager
    
    
    20080725132209-53eee-39aa79f6d7d160255f3757d0740524ccbdf366e8.gz

commit 2a6bbefd0995829903d40db5681a5d24e7b5cc6d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 12:41:49 +0000

    GabbleChannelManager: add channel-closed signal
    
    
    20080725124149-53eee-3b99becea6239c82244b3347355e7e2dabee9af8.gz

commit db82c940b1b559a74383cfe3fed6d48d984d663a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 12:41:37 +0000

    GabbleChannelManager: remove unnecessary include
    
    
    20080725124137-53eee-612db042f62b0fe1a09bf2303960485482294344.gz

commit d6df3a4e8e441fe1cbee5968781c2b1f31abdb3e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 11:53:35 +0000

    GabbleChannelManager: add a new-channels signal
    
    
    20080725115335-53eee-cc3c03294260db4c44875967f86a89808c8d579e.gz

commit d71ae88b12158fefde0bfb33ef8482fe0f1e1ca9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 10:05:36 +0000

    Add GObject boilerplate for a GabbleChannelManager interface
    
    
    20080725100536-53eee-81026e4cfe4b6d0b8704a342c140b8fdf395e590.gz

commit 7b67382dd37c135f53115748a10fb73479474f38
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 12:06:49 +0000

    Reimplement RequestChannel and ListChannels
    
    
    Instead of taking the ones from TpBaseConnection, we now use an internal
    implementation so we have complete control over the request process, so that
    the Requests interface can be implemented on top of it.
    
    This code should move back to telepathy-glib once it's stable.
    
    20080725120649-53eee-386efddc780ff08349112c1d0ddfa6416bb87636.gz

commit c36bd2ef8f3e23cf869685563613f3ebc7c65db5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-24 18:39:08 +0000

    GabbleIMChannel: implement GabbleExportableChannel; GabbleImFactory: use that fact
    
    
    20080724183908-53eee-ffd455284d9cdddc33f6ee20bf88115a5d63dcf6.gz

commit 2e2e5ccb37ef079521a3479712e391a01df390ca
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-24 18:39:08 +0000

    GabbleIMChannel: implement GabbleExportableChannel; GabbleImFactory: use that fact
    
    
    20080724183908-53eee-ffd455284d9cdddc33f6ee20bf88115a5d63dcf6.gz

commit 0f0ed1b9b52fda15b72bb1798820065b4c963ad6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-24 18:36:00 +0000

    GabbleExportableChannel: rely on TpSvcChannel for the closed signal
    
    
    20080724183600-53eee-d3ff20787a821b0c7e10e4423697e4dbb72d700c.gz

commit cca120df424a5b783f563210ea08d940f23212da
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-24 18:36:00 +0000

    GabbleExportableChannel: rely on TpSvcChannel for the closed signal
    
    
    20080724183600-53eee-d3ff20787a821b0c7e10e4423697e4dbb72d700c.gz

commit 9de62b60dcb84065c16605a1da59b89669137517
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-24 17:27:00 +0000

    Add a straw-man API for requestotron-capable channels
    
    
    20080724172700-53eee-04e4eed48957dd258db10b6b571f766e90fd7290.gz

commit 6e2c96ddf7fe0beae881245e96712ab864b8fc9b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-31 15:18:51 +0000

    Nano version
    
    
    20080731151851-53eee-e63577fd9547284681d17e37688d389fdeb56d06.gz

commit 27d9bb960b5e3a7dc57d1199ff1551a1d123b6d4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-31 11:22:40 +0000

    Prepare release
    
    
    20080731112240-53eee-399760c467d806a1d652e799ba73cbfc145a8ed7.gz

commit 0c67e08958b8de183ebb58f9426c8831e12d2323
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-31 11:03:23 +0000

    Bump version to 0.7.7
    
    
    20080731110323-53eee-bf85291fdab877724c187439676067f9cd1bbc50.gz

commit c527a6efec33d70238c03858f87e1f1f49dcf0a3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-31 11:02:24 +0000

    Bump GLib, GObject, libdbus, dbus-glib dependencies to match those in telepathy-glib (since we effectively need those anyway)
    
    
    20080731110224-53eee-a63b30848f63920b9fad78601701c149741329c9.gz

commit 33a5332877b423b5a0c52135d1acd8b72de24582
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-31 11:01:43 +0000

    Require automake 1.9 - same reasoning as for telepathy-glib, we don't want to waste time on supporting an ancient version
    
    
    20080731110143-53eee-c503f706b212aafbf1667e0d132a0c861b4cbc95.gz

commit e47bfe39526d6853c8df7974a5fdc30c48524a6d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-31 10:58:56 +0000

    Add Guillaume's recent bugfix to NEWS
    
    
    20080731105856-53eee-0c525e5421654c54d008bb5eb52bf72677b535e0.gz

commit acd457e04deecee54a8079a7ed34a2951268e0b0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-31 09:25:58 +0000

    NEWS: we need tp-glib 0.7.13, not .10
    
    
    20080731092558-53eee-b9b5b04a3e7ecb9c622c367aa26596f18dfb7bcb.gz

commit 9da9b782ab62e8f357848bc50754ea9132bcef4d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 16:36:06 +0000

    Add NEWS so far for Gabble 0.7.7
    
    
    20080730163606-53eee-f4416e047cff0d520e2b7135f244fe5a32ee391f.gz

commit 88ae46fd1655f239e7504d0bc2bdfbd2ee4c0dee
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-31 10:40:32 +0000

    vcard-manager: cache_entry_complete_requests: copy the pending_requests list and iterate on it
    
    
    20080731104032-7fe3f-ee3f7a869a6500421f770013cbd2c76303ec759a.gz

commit 0cf369dc3dbbcd5fd4dd95d0327580288afe9e8c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-31 10:14:24 +0000

    vcard-manager: cache_entry_complete_requests: copy the next element from the pending requests list so we can safely rely on it to check if the list is empty"
    
    
    20080731101424-7fe3f-65aba9d458385c13a2453dcf3d74ca5e8252f81c.gz

commit 9de659fd50c49f4f0733e606239c5f52b81d63b2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-31 09:59:56 +0000

    vcard-manager: cache_entry_complete_requests: stop to iterate if the entry was removed from the cache (fd.o #16918)
    
    
    20080731095956-7fe3f-d40a0db23931700f9ef19db5e8c79efe5c7f87a7.gz

commit 719ba939c900aa61d8c61555e8786d1aa8c1d99a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-07-30 14:16:46 +0000

    Nicer code as per dafs comments
    
    
    20080730141646-b58c9-9d56abc927f579b531136bbc9facc50bcdbbbe48.gz

commit 7ed50cbef9f553ee62088c2cc99c575991d1e605
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-07-30 13:24:35 +0000

    Don't assign things if not using the information
    
    
    20080730132435-b58c9-b6562fc252d712919ff0d0784b730b5ad385c99e.gz

commit fc8e3be07bac167abd02417eec08005906d5d169
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-07-30 13:18:05 +0000

    Ensure we clean up after a raised assertion too
    
    
    20080730131805-b58c9-0044280ffe37363c76a647f9c0db62e148f64a08.gz

commit d92e876d34e381cfeefa532b354a4c1d3fb77868
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-07-30 12:53:31 +0000

    Don't do assignments if we're not using the values
    
    
    20080730125331-b58c9-cf7984cf7b9c7f8f743e64082e3928c6b4200720.gz

commit 4f212d2b6c58c0995271c1dacc2274f95ff7e1a7
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-07-30 12:24:38 +0000

    Update coding style and use addBoth instead of addCallbacks, as per dafs review
    
    
    20080730122438-b58c9-f7777124d8feb005c49645348871c8511b6ace29.gz

commit fe30253db56f489d1060620edad5a7a10e23eef0
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-07-30 12:21:19 +0000

    Test both SimplePresence and Presence
    
    
    20080730122119-b58c9-eeee8a4c63db2a063a5cc206828b4dc0c2af45c5.gz

commit 4a26b0b302d522626231bf59e9524b27c74398ac
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-07-30 10:54:58 +0000

    Clean up after a test has run
    
    
    20080730105458-b58c9-02de7b8a4823bc95211a72b82dad2bb52988514a.gz

commit dc7284c18a0928aacab36d719958ba4c3beb12f4
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-07-30 09:58:56 +0000

    Test that we get signals from both Presence and SimplePresence
    
    
    20080730095856-b58c9-9484ab1fae96846e27ebe5fc173e5a4fc82c3111.gz

commit 53546344b0ccb082681fd612755dca4df569fd99
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-07-30 09:58:30 +0000

    Test that we get signals from both Presence and SimplePresence
    
    
    20080730095830-b58c9-c4c793f5fcb0adef90b75ac00cba5130713ca347.gz

commit 019c389fbf1c40ab3fba78efdc17887219aa55a7
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-07-30 09:58:06 +0000

    Test that we get signals from both Presence and SimplePresence
    
    
    20080730095806-b58c9-6834c052d425b4b58c80edee4ebbdd7f3474d76d.gz

commit 88917a86d25d2e9984642c658b55dfa95c019be6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-24 17:27:00 +0000

    Add a straw-man API for requestotron-capable channels
    
    
    20080724172700-53eee-04e4eed48957dd258db10b6b571f766e90fd7290.gz

commit 0aa64fe5e43685bdce77eb231f0e329782ac4ded
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-31 15:18:51 +0000

    Nano version
    
    
    20080731151851-53eee-e63577fd9547284681d17e37688d389fdeb56d06.gz

commit 4edbd0392ad88ff74b6fa4c546ae3c2ddcca9e2b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-31 11:22:40 +0000

    Prepare release
    
    
    20080731112240-53eee-399760c467d806a1d652e799ba73cbfc145a8ed7.gz

commit 5eeeef3b4192887c2c1036544502bb04e69b54d7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-31 11:03:23 +0000

    Bump version to 0.7.7
    
    
    20080731110323-53eee-bf85291fdab877724c187439676067f9cd1bbc50.gz

commit e0e933b0d5815ad32a6521e2ddd77ecde313bc98
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-31 11:02:24 +0000

    Bump GLib, GObject, libdbus, dbus-glib dependencies to match those in telepathy-glib (since we effectively need those anyway)
    
    
    20080731110224-53eee-a63b30848f63920b9fad78601701c149741329c9.gz

commit 3d6e07393b5a9376aba3971a546a71bbe0d08c87
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-31 11:01:43 +0000

    Require automake 1.9 - same reasoning as for telepathy-glib, we don't want to waste time on supporting an ancient version
    
    
    20080731110143-53eee-c503f706b212aafbf1667e0d132a0c861b4cbc95.gz

commit 129f16f6c85e504bdc2b7ad3513a4660739767ea
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-31 10:58:56 +0000

    Add Guillaume's recent bugfix to NEWS
    
    
    20080731105856-53eee-0c525e5421654c54d008bb5eb52bf72677b535e0.gz

commit e715f4a1d80e8604293dd76ee14c6c7939b7aa72
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-31 09:25:58 +0000

    NEWS: we need tp-glib 0.7.13, not .10
    
    
    20080731092558-53eee-b9b5b04a3e7ecb9c622c367aa26596f18dfb7bcb.gz

commit df8780df516493061102b8659f8c79b35d17a8b8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-30 16:36:06 +0000

    Add NEWS so far for Gabble 0.7.7
    
    
    20080730163606-53eee-f4416e047cff0d520e2b7135f244fe5a32ee391f.gz

commit 71a1825363d6f32b6e0c93bab1a4f0026e54ab73
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-31 10:40:32 +0000

    vcard-manager: cache_entry_complete_requests: copy the pending_requests list and iterate on it
    
    
    20080731104032-7fe3f-ee3f7a869a6500421f770013cbd2c76303ec759a.gz

commit f76ccccc82f2935db9b0e3bd3f5d1bd824d49def
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-31 10:14:24 +0000

    vcard-manager: cache_entry_complete_requests: copy the next element from the pending requests list so we can safely rely on it to check if the list is empty"
    
    
    20080731101424-7fe3f-65aba9d458385c13a2453dcf3d74ca5e8252f81c.gz

commit 6b216a967084dd05fc326ff5858e5f22b176a77f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-31 09:59:56 +0000

    vcard-manager: cache_entry_complete_requests: stop to iterate if the entry was removed from the cache (fd.o #16918)
    
    
    20080731095956-7fe3f-d40a0db23931700f9ef19db5e8c79efe5c7f87a7.gz

commit 385834358f9548ba636a8a526c47a9e69c9245b6
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-07-30 14:16:46 +0000

    Nicer code as per dafs comments
    
    
    20080730141646-b58c9-9d56abc927f579b531136bbc9facc50bcdbbbe48.gz

commit 71307e44b36c0c5ca7a70f680f3d293f63fb4d44
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-07-30 13:24:35 +0000

    Don't assign things if not using the information
    
    
    20080730132435-b58c9-b6562fc252d712919ff0d0784b730b5ad385c99e.gz

commit 2793b5d6efb083b884b94154cc4c8c7829fcecd1
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-07-30 13:18:05 +0000

    Ensure we clean up after a raised assertion too
    
    
    20080730131805-b58c9-0044280ffe37363c76a647f9c0db62e148f64a08.gz

commit 061e607edffce88f4a5a3d83c45db0fe6a23e0bc
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-07-30 12:53:31 +0000

    Don't do assignments if we're not using the values
    
    
    20080730125331-b58c9-cf7984cf7b9c7f8f743e64082e3928c6b4200720.gz

commit 1768dd3a94fc569a88b7775c9fb56beb1da65b12
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-07-30 12:24:38 +0000

    Update coding style and use addBoth instead of addCallbacks, as per dafs review
    
    
    20080730122438-b58c9-f7777124d8feb005c49645348871c8511b6ace29.gz

commit b8a5dbda45b136b2851a5ea2cbfc8262110c9651
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-07-30 12:21:19 +0000

    Test both SimplePresence and Presence
    
    
    20080730122119-b58c9-eeee8a4c63db2a063a5cc206828b4dc0c2af45c5.gz

commit 6d63211b67a6e8e62528f51e0f9b4715ce9d163a
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-07-30 10:54:58 +0000

    Clean up after a test has run
    
    
    20080730105458-b58c9-02de7b8a4823bc95211a72b82dad2bb52988514a.gz

commit 18798d0d558867d5c264ba90228a714634282f83
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-07-30 09:58:56 +0000

    Test that we get signals from both Presence and SimplePresence
    
    
    20080730095856-b58c9-9484ab1fae96846e27ebe5fc173e5a4fc82c3111.gz

commit af199d9bc59bb318168a197d4a96849323e84150
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-07-30 09:58:30 +0000

    Test that we get signals from both Presence and SimplePresence
    
    
    20080730095830-b58c9-c4c793f5fcb0adef90b75ac00cba5130713ca347.gz

commit 1e28ee004944b6922420a0ff940f15ce84702391
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-07-30 09:58:06 +0000

    Test that we get signals from both Presence and SimplePresence
    
    
    20080730095806-b58c9-6834c052d425b4b58c80edee4ebbdd7f3474d76d.gz

commit bc9ce046495f28071b3210908aeef244fc7f0c67
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-24 13:16:02 +0000

    Fix conflicts
    
    
    20080724131602-93b9a-4e515d6049c3a8ae82a387b4ac61f06c9f1b4894.gz

commit c5ca7c233eea96a5a490ada5a6c284e8c9f66938
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-24 13:16:02 +0000

    Fix conflicts
    
    
    20080724131602-93b9a-4e515d6049c3a8ae82a387b4ac61f06c9f1b4894.gz

commit ebe2a150a4f7e38eae1046fd006ee967a1fe8872
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-24 12:53:51 +0000

    Small code layout fix
    
    
    20080724125351-93b9a-8e37942e24485e3b553e3897dbdfa82183e47a4c.gz

commit 997ab2021421bd7b5b398912a718c45d317cbb8f
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-24 12:53:51 +0000

    Small code layout fix
    
    
    20080724125351-93b9a-8e37942e24485e3b553e3897dbdfa82183e47a4c.gz

commit fa9633adb19f9150a3852425158e106ff0a96464
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-24 12:53:40 +0000

    don't emit presences-updated when no presences are updated
    
    
    20080724125340-93b9a-1da995d007934976e209d8e4dd78c3398bfe45a5.gz

commit 7a8f3a2754e55e385428c4c23bfe56ba49f58288
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-24 12:53:40 +0000

    don't emit presences-updated when no presences are updated
    
    
    20080724125340-93b9a-1da995d007934976e209d8e4dd78c3398bfe45a5.gz

commit e8e3c9a9e1c910a3c816d44eb83d4f2698bda539
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-24 12:52:56 +0000

    More clear debug message
    
    
    20080724125256-93b9a-a4e11f73a550762aec0cd7138aeecd69a76e61ae.gz

commit 01b299c5277187cca79350874e83761d089329bc
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-24 12:52:56 +0000

    More clear debug message
    
    
    20080724125256-93b9a-a4e11f73a550762aec0cd7138aeecd69a76e61ae.gz

commit 2755a3a2d4850eff8bead56e5e60165b6b94a8f6
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-24 12:52:37 +0000

    Use DBUS_TYPE_G_UINT_ARRAY instead of G_POINTER in presences-updated
    
    
    20080724125237-93b9a-6ea2bb5cb3a2a009a1b1407de4d8673bb5b2858d.gz

commit 45857191e701607fdade7a0ce140159ba38b74bf
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-24 12:52:37 +0000

    Use DBUS_TYPE_G_UINT_ARRAY instead of G_POINTER in presences-updated
    
    
    20080724125237-93b9a-6ea2bb5cb3a2a009a1b1407de4d8673bb5b2858d.gz

commit ca1a3e5be1aaae9a412b7565d9b468d1777782b7
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-24 11:48:27 +0000

    Flush olpc info when a contact becomes unavailable
    
    
    20080724114827-93b9a-47d6c814584e56f37c3acc8461049e6854656c32.gz

commit c145c7e195922357889ee543cb4c9db519e08479
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-24 11:48:27 +0000

    Flush olpc info when a contact becomes unavailable
    
    
    20080724114827-93b9a-47d6c814584e56f37c3acc8461049e6854656c32.gz

commit 2f1383ede095898f66d8f9155a6adfbfc10b5f9c
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-24 11:44:40 +0000

    Use GABBLE_PRESENCE_LAST_UNAVAILABLE instead of checking for specific presences
    
    
    20080724114440-93b9a-5e4d172d98c8ae984850eedc3615a4e322c3eaef.gz

commit dbe71a5d6413d81f93148f148189ce01c7d7a630
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-24 11:44:40 +0000

    Use GABBLE_PRESENCE_LAST_UNAVAILABLE instead of checking for specific presences
    
    
    20080724114440-93b9a-5e4d172d98c8ae984850eedc3615a4e322c3eaef.gz

commit ae032d89ae5318ab970319b0c0fbcf27cfebe30e
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-24 11:43:34 +0000

    Use GABBLE_PRESENCE_LAST_UNAVAILABLE to mark the last presence that's unavailable
    
    
    20080724114334-93b9a-8f7147ea30632391ae4c82a9522e0bda620a3a25.gz

commit 44ecbf361dd1da6ed05e70454f3f446c39c9831f
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-24 11:43:34 +0000

    Use GABBLE_PRESENCE_LAST_UNAVAILABLE to mark the last presence that's unavailable
    
    
    20080724114334-93b9a-8f7147ea30632391ae4c82a9522e0bda620a3a25.gz

commit 821a039b41def94ddf859df647c987412c000c6b
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-23 18:24:28 +0000

    Update to the new tp-glib simple presence function naming scheme
    
    
    20080723182428-93b9a-b7540eac371af06cc0307eea47adca69a3dbb106.gz

commit ed69b21a0a0888160d495315f657caeaedac7627
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-23 18:24:28 +0000

    Update to the new tp-glib simple presence function naming scheme
    
    
    20080723182428-93b9a-b7540eac371af06cc0307eea47adca69a3dbb106.gz

commit 454671306f62ed845e37b4e98d2dc3d6423bf897
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-21 15:24:35 +0000

    Cope with the internal presence type enum being changed
    
    
    20080721152435-93b9a-3ea7aa5239381337b3baa68769f81e41d8dbc67c.gz

commit c778a4798348bfa495e92b425aee38b3277db67a
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-21 15:24:35 +0000

    Cope with the internal presence type enum being changed
    
    
    20080721152435-93b9a-3ea7aa5239381337b3baa68769f81e41d8dbc67c.gz

commit 8eef5c9cfe6c5515f618654aad03d1cc9c28e488
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-21 15:23:10 +0000

    Fix coding style bug
    
    
    20080721152310-93b9a-385e87854893d550f6fb973be959cf7ebaabeb3f.gz

commit 4896500b34cebacd7b0c52be0ec3b758a9c9cf3d
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-21 15:23:10 +0000

    Fix coding style bug
    
    
    20080721152310-93b9a-385e87854893d550f6fb973be959cf7ebaabeb3f.gz

commit aa93d42707d7492824c6f9d5719d29ffbb52f19c
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-21 15:10:58 +0000

    Hook conn-olpc the new presences-updated signal
    
    
    20080721151058-93b9a-f7481c15e127ee4ded5966b83547caa1ce4a803f.gz

commit 7ca57e79eb6dbdbc9ff27146651c4dcdd5ddf4d5
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-21 15:10:58 +0000

    Hook conn-olpc the new presences-updated signal
    
    
    20080721151058-93b9a-f7481c15e127ee4ded5966b83547caa1ce4a803f.gz

commit 780bf95ba31f9cf7ff8c53b9a3ebd3247eae37ea
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-21 14:59:49 +0000

    Change presence to unknown for all muc members when leaving the muc
    
    
    20080721145949-93b9a-6ec116e988fabdf00e27c7423316fa814975a98f.gz

commit 264f801cc72d65fcfb1fea53de2c0081aeb74b98
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-21 14:59:49 +0000

    Change presence to unknown for all muc members when leaving the muc
    
    
    20080721145949-93b9a-6ec116e988fabdf00e27c7423316fa814975a98f.gz

commit f2992ebc4b2d1db4bbeaf5d64c27c84778c47790
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-21 14:55:32 +0000

    Hook to the new presences-updated signal
    
    
    20080721145532-93b9a-6937ac112b47b97e1bd9194235ab8d202bf7d344.gz

commit f8328e902be16555f7e635d5a128ea12818d6d64
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-21 14:55:32 +0000

    Hook to the new presences-updated signal
    
    
    20080721145532-93b9a-6937ac112b47b97e1bd9194235ab8d202bf7d344.gz

commit 27ab003468a32ab03183e51b87baa327c08f6733
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-21 14:47:33 +0000

    Make it possible to update the presence cache of multiple handles at the same time
    
    
    20080721144733-93b9a-4fa09a592fe065d4de9c4f0318c758cdab9d82e2.gz

commit 9e02090e7150a437c548b75b43debe705546d5da
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-21 14:47:33 +0000

    Make it possible to update the presence cache of multiple handles at the same time
    
    
    20080721144733-93b9a-4fa09a592fe065d4de9c4f0318c758cdab9d82e2.gz

commit f182f2b20878c69806f4c7fecbc68c1c9b79dee4
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-21 13:21:48 +0000

    Set status to error on errors and to either unknown or offline depending if we have a roster subscription
    
    
    20080721132148-93b9a-c4b708b76a851213e5404bcaf484f67b9e99c21b.gz

commit 49ad98a735b1dc95d3d0cf3c213fcbfeed9c360a
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-21 13:21:48 +0000

    Set status to error on errors and to either unknown or offline depending if we have a roster subscription
    
    
    20080721132148-93b9a-c4b708b76a851213e5404bcaf484f67b9e99c21b.gz

commit 7c3aa05a43e39f8c037af1e781504a0e024dd57b
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-21 13:18:52 +0000

    Remove resources and capabilities that gone into either unknown, offline or error
    
    
    20080721131852-93b9a-d8f36f77de01e2480466587931a63777754c749d.gz

commit ccbb3cdde2443b22d136958c6b25691752a91fd5
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-21 13:18:52 +0000

    Remove resources and capabilities that gone into either unknown, offline or error
    
    
    20080721131852-93b9a-d8f36f77de01e2480466587931a63777754c749d.gz

commit fb18c0501cf92fcc1b39daaf1ddcdef0cdb91732
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-21 13:15:42 +0000

    If handles are not in the presence cache set them as unknown or offline depending on whether we have a roster  subscription
    
    
    20080721131542-93b9a-b42b572a45401dfdfe54bb31e95e23d38bb2b338.gz

commit 0b01246abc2cb01321e7909953faee1ab445bb2c
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-21 13:15:42 +0000

    If handles are not in the presence cache set them as unknown or offline depending on whether we have a roster  subscription
    
    
    20080721131542-93b9a-b42b572a45401dfdfe54bb31e95e23d38bb2b338.gz

commit 7fa4c95c1add87113a3387f230ba00911f84a02a
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-21 13:14:19 +0000

    Add unknown and error status types
    
    
    20080721131419-93b9a-9835ec3cb79bcd0d96ad9a65f1da0af1855d9688.gz

commit 5ff806923b0d4b6c55c61a9f48f5c7145193b687
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-21 13:14:19 +0000

    Add unknown and error status types
    
    
    20080721131419-93b9a-9835ec3cb79bcd0d96ad9a65f1da0af1855d9688.gz

commit 304c31f9342fd417efcf1866bb861448f531cd16
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-18 19:10:19 +0000

    Don't use non-existing C operators
    
    
    20080718191019-93b9a-e1f505a9870d3703a2cf0de0a3e18c51980dce3f.gz

commit d9544ddd1779d10894a768436cfb4c0d7f2315c1
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-07-18 19:10:19 +0000

    Don't use non-existing C operators
    
    
    20080718191019-93b9a-e1f505a9870d3703a2cf0de0a3e18c51980dce3f.gz

commit be70e511a60779ed3909117f666e9592086f555a
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-06-16 13:56:32 +0000

    Implement SimplePresence
    
    
    20080616135632-93b9a-41c4521c70e43987b338f7f0c396b41a684a7bbf.gz

commit a6e563f2b2fa7d810f4fe75c34e26d08b6fac3c7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 17:59:57 +0000

    GabbleMucFactory: document disco_requests
    
    
    20080728175957-53eee-33e5618753aca5a4bcd3c09a0322f9ecfa57d201.gz

commit 165c2c00b0b482c7273d81170f9e0db59d86dbf2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 16:23:20 +0000

    GabblePrivateTubesFactory: remove useless connecting/connected/disconnected callbacks
    
    
    20080728162320-53eee-95692f5b48963faf8d03536b513fd5fea45cbae2.gz

commit 4dbd8c52d88d93ba21fa45efafdc9fe699d7f1e7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 15:40:20 +0000

    GabbleImFactory: remove unnecessary forward-declaration
    
    
    20080728154020-53eee-d0c41891e21da35d72403dcb6d3e4b9f4cfcd0dc.gz

commit adf4e9c714d510ea31c802320369e9534a821889
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-24 17:21:21 +0000

    GabbleIMChannel: use tp_text_mixin_has_pending_messages (requires telepathy-glib 0.7.13)
    
    
    20080724172121-53eee-8d1041ac7c79ae2de4a55e39e6e1df27a1554b66.gz

commit 17e50e9fcf465101bc7198349c6900d261b4e54b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 13:17:40 +0000

    Require telepathy-glib 0.7.13 (for Requests-related functions)
    
    
    20080729131740-53eee-39a243245987d2e78a6c2575f863e30ba1fdda29.gz

commit 8d6a711189b44b90d331c2cc7fda5e5b50873d68
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-07-29 11:12:41 +0000

    Add assert to args checking and use nicer variable names
    
    
    20080729111241-b58c9-4fe3b09b587e72abf110758b25c9636dd5733d07.gz

commit d9239852e3ed83c9347d3a1687f1174525b4aca8
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-07-29 10:23:03 +0000

    port test-set-status-idempotence to the new test API
    
    
    20080729102303-b58c9-b789671b2808086fdd054917550c37c5273baa94.gz

commit 4d8af3d68ab01d2248c7c82ccc9a0fc4faaa886c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 03:53:58 +0000

    push out new MUC presences when the global presence is changed
    
    
    20080727035358-418b8-d648ede14a4f76af7d1556677413bcf34ca30dc2.gz

commit b348a6f9fb6ae285cff60c924b5b9bd99c0d985b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 03:32:15 +0000

    test that closing the MUC results in sending unavailable presence to it
    
    
    20080727033215-418b8-289918ab63bd3104200c59bdf3e10799765c4ba8.gz

commit 3f8c476558acb9117f1c421caf5277758e112788
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 03:26:58 +0000

    generate MUC presence messages using the real connection-wide presence
    
    With a pedantic interpretation, this is arguable a spec violation because it
    exposes your presence to handles who are not on your "publish" list. However, I
    think that given other protocols (essentially, anything but XMPP) exist where
    joining a chat will always expose your presence, I don't think it's reasonable
    for clients or users to rely on this additional exposure not happening anyway.
    Consider the absurdity of expecting that you can be invisible even when you've
    joined a group chat. If someone wants the XMPP-specific semantics badly, we can
    add a RoomPresence interface or somesuch, and they can set a property in order
    to publish a per-room presence.
    
    20080727032658-418b8-171a0e74e3910f331a49d333491376e1e73ec9f2.gz

commit b9582dfe2d37b6f3f6ffee048d3370c62b14f18d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 03:18:32 +0000

    fix MUC test to actually finish the function
    
    
    20080727031832-418b8-6b0ecb57ba3699a967ceab350cfa9485bc5faaec.gz

commit 5b8ec1328610f34d9a435bc0cb13b26aa81008b6
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 02:34:41 +0000

    add a "to" argument to gabble_presence_as_message, as you can't change the recipient of an LmMessage after it's been created
    
    
    20080727023441-418b8-32e10597064f33e4994ba5be32e092a4136e9ddc.gz

commit 76512771eb52612aa668cbaef2950c1cb4ae030b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 02:27:41 +0000

    remove resource argument from gabble_presence_as_message entirely, as it's only ever useful on your self_presence which only has one resource
    
    
    20080727022741-418b8-166eb619558dc4ec5ad64c1bc1c9eec8c76283aa.gz

commit a5e84d50172a0b0937c93270365400ddced46d2a
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 02:18:15 +0000

    make gabble_presence_as_message accept NULL as a shorthand for "first resource", as self_presence only has one resource
    
    
    20080727021815-418b8-aefea37a7b26e3baa99e12eb7a5146f40b8106cd.gz

commit 4e816a1ef5f00b841141d4bfcdec6e17281e2c45
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 01:12:03 +0000

    remove needless assertions (including removing the ability to cause an assertion error by sending an old-style MUC invite with no body)
    
    
    20080727011203-418b8-b1d6ec84a5a94eeaf9e56ee8abcffb46fd2a5d31.gz

commit 712d1c771ef18842457785972924204cf8b24197
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 00:57:30 +0000

    add test for MUC alias coming from our connection alias
    
    
    20080727005730-418b8-e5dcbddac8cf09cdb9f439070c35760e4456bb3b.gz

commit f397c4ece6efefcc36ce2567242496bb93f03831
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 00:44:30 +0000

    make create_room_identity return self_handle directly
    
    
    20080727004430-418b8-c00dcfa62df21c31893466886a30c422e11dbb76.gz

commit 481caf6669b321893b4c71f41ab904cfc4be699b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 00:32:41 +0000

    build MUC self_jid with the alias for our self_handle, not just the local part of the JID (note it's guaranteed not to be NULL, as _get_cached_alias falls back to the local part of the JID anyway)
    
    
    20080727003241-418b8-2fd067153296de634c2e929f8adcaec85e7026fa.gz

commit 49c600e2ec86af7331abf2decdf099621aedcc68
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 00:19:33 +0000

    invert sense of the if (priv->invited)
    
    
    20080727001933-418b8-ebe152e1540229f191ac074d964b1f67382cb903.gz

commit 2b590ba719d6d0e0b358417fa556a31da7cc4a9c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 00:18:49 +0000

    inline _handle_invited function into the constructor
    
    
    20080727001849-418b8-d2f53d0ffa827f4f3a5988110071179486e4d97c.gz

commit 245a631fb91e4ab954185ac9e986e7ee90bdbaa7
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 00:06:49 +0000

    when we're invited, mark the channel as ready in the constructor (emitting a signal is pointless before the constructor has returned)
    
    
    20080727000649-418b8-9102892e630d39bcd79d2d1d16881e242d465774.gz

commit 62465dc465027d3bd8fb98e7d474cb15b34f02b2
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 00:04:58 +0000

    store MUC state booleans in bit fields
    
    
    20080727000458-418b8-ca579ad0d48756a99804f201d0ce8fe1057f5160.gz

commit 79519d86cec761484c1b9306c811f2a050c2f60c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 00:04:32 +0000

    rename ready_emitted to ready
    
    
    20080727000432-418b8-3474d1db2079a5f8836f7e32304160acea5b9b39.gz

commit e16d62943b219e5959634faa0c20ed816f11d7f1
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 00:01:05 +0000

    rename MUC "invite-self" property to "invited" with the inverse sense, because I have no idea what "invite-self" is meant to mean
    
    
    20080727000105-418b8-90d6353dc24ae944cd5b87715dc16f9c3534cd85.gz

commit 16774e6d9017d458cd98fdef53f622a0a714d6ca
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-26 23:55:07 +0000

    don't queue MUC invite reasons as a text message, we've got the LocalPendingMembers property
    
    
    20080726235507-418b8-a9ea8222a6fda83777783eea398c4e723fbba5b3.gz

commit 998e1d31a0b26448b6c290b772b3264c4a80cc60
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-26 23:52:41 +0000

    remove unused code (the function is only ever called after assert priv->initiator != 0)
    
    
    20080726235241-418b8-b9a3f84949d002484380d256dbd499de0044d0a4.gz

commit 6cac95bbe432f54ff1a849260588f2256b453cb1
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-26 23:51:15 +0000

    set self_jid directly from create_room_identity (and a nice assertion which uncovered the double-setting bug)
    
    
    20080726235115-418b8-42b3f61facbe01672b836dbe833f3fc4817b6f4c.gz

commit 5154944ad592f34b0b091650b6632d573d51156f
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-26 23:46:03 +0000

    fix repeated creation (and leaking) of self_jid when invited to a MUC
    
    
    20080726234603-418b8-34208096c5effb1d2fc61c5d2279f91a22bec933.gz

commit 9774d76b2e5914fad4916e79ae9f2f6b581e55b2
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-26 23:00:05 +0000

    rename contact_handle_to_room_identity to create_room_identity and remove needless self_handle argument
    
    
    20080726230005-418b8-1eb5e98484eb82b152d8fcc954fb6231809eced0.gz

commit 6e07cfdbed3d2ea2765a14c7b61ff6f63645eac9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-29 10:10:37 +0000

    connection: add missing blank line
    
    
    20080729101037-7fe3f-8e2eaf2c263dc5a16cf1090d1c5cc0a70330ae06.gz

commit 0a259a0a33447e121941e40df98302a127e85647
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-29 08:38:13 +0000

    increase calls stack size when running test with valgrind
    
    
    20080729083813-7fe3f-d1ead5468d3c0454521019614944feca9a113e26.gz

commit eb1a96d2a13e1eb55b1718993152cc5eadde8e71
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-29 08:29:19 +0000

    connection: fix SSL leak when we are not using old-ssl
    
    
    20080729082919-7fe3f-c986babb748af9325236eadd5a41eb816300c89c.gz

commit 17c5c2ee22783d28dd0e998c63b6941881c18d23
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 09:50:58 +0000

    GabbleRosterChannel: remove FIXME comments, Sjoerd thinks the current implementation is fine
    
    
    20080725095058-53eee-ff9b1ae44c396a4186ecc92dbf3cd3ed25ec4b8e.gz

commit e331205459202a0a97d86f7c73c1808d9e1f0b4d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-24 18:33:11 +0000

    GabblePrivateTubesFactory: also replace g_return_val_if_fail with g_assert here
    
    
    20080724183311-53eee-d1c3557e643ac086e0b6e281a3df596f32b803ff.gz

commit 569c1b7d19894cb98f1de8f523254607af1b1988
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-24 17:58:09 +0000

    Revert g_return_val_if_fail in GabbleMediaFactory internals to a g_assert, having it return NULL is no more helpful
    
    
    20080724175809-53eee-53a2f19a69a1d4c3c5dff61df84ac53c33d3796a.gz

commit d2bcd1667938817831f6e534d27365741156c2fb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-24 17:57:40 +0000

    Remove unnecessary check that media channel has nonzero creator - we already asserted that in the constructor
    
    
    20080724175740-53eee-44adad2cb5790791296a48bd0429bc77753beccc.gz

commit 55b895720e97e6fd603ba69728ff868f00fb1c1c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-24 14:57:20 +0000

    Add a regression test for respawning text channels
    
    
    20080724145720-53eee-b6cc808c3d273a50a8154596c0614942063b38a4.gz

commit 8d7cf7c56eac5a07714bca63153f4bad28fd4cec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-24 14:42:16 +0000

    Implement the "respawning" behaviour for IM channels with pending messages remaining
    
    
    20080724144216-53eee-d2efd8bc914582f1b5c7e9b89ff810fb21e7e51b.gz

commit 50f05ae3aecb27fe72b38f28fab6dd9439ecb32e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-24 14:41:33 +0000

    GabbleImFactory: simplify priv access
    
    
    20080724144133-53eee-e9108e43683cfc3311d76588538c1cfc2e32d31f.gz

commit eb3f721a9cd717c56d06a7e9c91869a7e9fe72f4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-24 10:18:14 +0000

    Update Channel.FUTURE, and actually remember to add Connection.Interface.Requests XML
    
    
    20080724101814-53eee-1e6758b2fd7eeb31424e697ec87c48013afb9ecb.gz

commit ffae8d7eca55c8f0e6f7ddd4b07645967b5b7e23
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:33:17 +0000

    Test the Requested property for Tubes
    
    
    20080722163317-53eee-df22e4ad8a1f6abe629809be20680f0b81595c7e.gz

commit 6f4c44d472e2958e91841b37743e5fc940a2a441
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:33:09 +0000

    Test the Requested property for IM channels
    
    
    20080722163309-53eee-fe716ed31df1fa13fc7778c0ea0500468ef9e088.gz

commit 3a1e211d2f311435eddd62bf59cff01de065f22a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:33:01 +0000

    Test the Requested property for roster channels
    
    
    20080722163301-53eee-cd53326cbefee17a77bbec11ed1481315f17e6e1.gz

commit 6ecd582eeea854a90d5778efff4ef19ff216f58f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:32:49 +0000

    Test the Requested property for MUCs
    
    
    20080722163249-53eee-7e9c4b66966453b365c1bd572348dc064fdb38b9.gz

commit e6356461dd1c6628e78af2dcfc947b0d2abfd240
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:32:37 +0000

    muc/roomlist.py: exercise the Requested property
    
    
    20080722163237-53eee-5cf61f90f8e370640e6713742942bf9ef12c4e41.gz

commit 305f2dfe447d86e57f8604cde0d1b08deb66eb90
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:32:16 +0000

    tests/twisted/jingle/: exercise the Requested property
    
    
    20080722163216-53eee-c720207242565dc3ccfca6d90eba224d8083e40a.gz

commit 7992bc83c8c2426a7454ad06a110ca5a6db684fc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:32:02 +0000

    GabbleTubesChannel: add the Requested property
    
    
    20080722163202-53eee-1f2af74c966e695a744d0db238a59fc6bf3f88c8.gz

commit 250ee4370adb005cdbf49dde2f8a69aac61b8625
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:31:45 +0000

    GabbleRosterChannel: add the Requested property (trivial implementation)
    
    
    20080722163145-53eee-65be6b5811c1a393549f063f2bfa37088467d579.gz

commit 8e849dc4b83155b603024b3ace6d0e53ce2ab9b3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:31:33 +0000

    GabbleRoomlistChannel: add the Requested property
    
    
    20080722163133-53eee-38b218cfaf8944f24b0970c9ae6abb4a6b50fe02.gz

commit 94b2e7c903132ecad547d0d069dd5ad5b9a949a0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:31:18 +0000

    GabbleMucChannel: add the Requested property
    
    
    20080722163118-53eee-2082d2b6124096b8fbc5ab6c7ad338fc7f9d26a3.gz

commit 7c9f973967579d8316dd042136016dbebbb30269
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:31:05 +0000

    GabbleMediaChannel: add the Requested property
    
    
    20080722163105-53eee-dd25207349f5dce5395f6024b52d56b8cc55e1d3.gz

commit cd49cd06019102354a8dbf35251f1eb173b0eb43
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:30:45 +0000

    GabbleIMChannel: add a Requested property
    
    
    20080722163045-53eee-374a3c6f9ffb17b3b7f62c1a6895d609c1a67751.gz

commit 3d05b7ae880fee43b1cd71d62dfc33fa39f27670
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:15:35 +0000

    Add Requests interface in extensions/, and update Channel.FUTURE to the -requestotron branch
    
    
    20080722161535-53eee-8225109792ca1d908ccfbee42d5446ff32eb9d32.gz

commit 2391cf4246e6cb05c8d85275d6e4a89a6fd5820b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:12:57 +0000

    Allow undefined (external) interfaces in extensions
    
    
    20080722161257-53eee-92d43a0b50bcd290b7e1a735d77c694f85ac2349.gz

commit 4698d55a04cae2af865735f8e58646a8d944f2a4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 14:44:11 +0000

    tubes/test-si-tubes.py: exercise TargetID/Initiator* for tubes initiated by us
    
    
    20080722144411-53eee-6a39236dd02c02dd8e925340d70ff886ddf99aaa.gz

commit eca213e2b612fd28e5fb39c665c57a8874d5f127
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 14:42:18 +0000

    tubes/test-muc-offer-dbus-tube.py: exercise TargetID/Initiator* for Tubes channel initiated by us
    
    
    20080722144218-53eee-ec3880d41c98d833dabb841da2346956b2d22a28.gz

commit 8e91962bdb284052ac8617f82b4883c910eba17b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 14:41:46 +0000

    tubes/test-muc-accept-stream-tube-ibb.py: exercise TargetID/Initiator* for tube initiated by others
    
    
    20080722144146-53eee-2717e391f22a2eb4af87955e7285a89a9c7617f3.gz

commit 1e196d0d435956a7d7f816f22deda8baf52c1408
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 14:25:27 +0000

    GabbleTubesChannel: take an initiator handle, and also export TargetID and InitiatorID
    
    
    The initiator of a Tubes channel is (currently) defined to be
    * the local user, if it was requested; or
    * the remote user, if it is 1-1; or
    * 0, otherwise (we saw it in someone's presence in a MUC)
    
    20080722142527-53eee-f1b75a0bad494364b813aab55a10955388a65dba.gz

commit b76247d934be9124a08a43a7e37c0b2a827c3960
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 14:16:46 +0000

    GabbleMediaFactory: assert that the channel has a creator
    
    
    20080722141646-53eee-029457b4f2c643b88f6f4bd2a6501b89a9205fee.gz

commit e0b0609ab7675037dfb77385c979e6eb07238496
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 14:16:31 +0000

    GabbleMediaFactory: coding style/naming consistency
    
    
    20080722141631-53eee-03e5574ed197b41868a509564181c2b914f3691e.gz

commit 46f95efef7f5ee132137ba60107ce6660730214e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 14:15:51 +0000

    GabbleMediaChannel: ref priv->creator
    
    
    20080722141551-53eee-25d121026a963d62499c69d70affecabf5e4b24a.gz

commit 7371f98fd52c24076431d17845a1d106b26093fc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 14:03:32 +0000

    GabbleMucChannel: assert that there is an initiator
    
    
    20080722140332-53eee-b88f8b4d3139af0c1119794fcb4e885cfa0189f8.gz

commit 951f4d963dd023d586b6ea160205fc1fcf045489
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 13:59:57 +0000

    GabbleIMChannel: assert that there is an initiator
    
    
    20080722135957-53eee-958fee9db2f254d7ced64a3459d369465d0ca5f3.gz

commit 2d0144b579eb94f0bdd0b7fd668edd8612c0b17f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 10:51:14 +0000

    GabbleRosterChannel: implement a simplistic version of future properties
    
    
    For now, the initiator is always set to 0, even if the user actually requested
    the channel.
    
    20080722105114-53eee-5ba11d2e726192783e7497fbdeb150d388b7e672.gz

commit 8aa8fb26efff4311053e122037dea4bd5baa309d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 10:50:34 +0000

    roster/test-roster.py, roster/test-roster-subscribe.py: exercise future properties
    
    
    20080722105034-53eee-7833ae92bb25c66a45f8c49bb12aa5791aa44d64.gz

commit ff25e567df4a19f4dba3d1e42d2bae58b377b7d5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 19:44:04 +0000

    Fix end of call in test for call rejection
    
    
    20080721194404-53eee-70bee3c1764f269811268d2b2a936e5312f7cc80.gz

commit d0eada1ac8a6d3c4c1e093296cfc0d9cb1f4fa98
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 19:42:17 +0000

    Add basic support for future properties in room lists
    
    
    20080721194217-53eee-0c2e3febdcf578339f574248ece90c0208fdae26.gz

commit 6b7832a4725b2eae839dfb110a653addc538b04f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 19:31:36 +0000

    Split out incoming call rejection into a separate test so we have an active regression test for the FUTURE properties
    
    
    20080721193136-53eee-bd4ce4d2aaf58a874299d41c0cb0938e91dbee98.gz

commit 73daf1f4a749b2905391cb2ba127c28f8a760720
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 19:22:57 +0000

    jingle/test-incoming-call.py: exercise channel properties in a basic way
    
    
    This test is disabled, but the basic functionality has been verified.
    
    20080721192257-53eee-3d81185633ff85f6280ada80e9405b637b1783b0.gz

commit 8acb69bec215ab4a017db0de636bda8c0e70c4f0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 19:18:09 +0000

    Make test-incoming-call.py a little more race-resistant
    
    
    20080721191809-53eee-1fbfaa609ea7fca19df23cbd47f0a5000a33e6b7.gz

commit 729f77a38aa91cf412af7cc5356a0b5e7a8fe52e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 19:17:32 +0000

    jingle/test-outgoing-call*.py: exercise future properties
    
    
    20080721191732-53eee-069be7f7b04d6fd0742415b7fde9aa267b7bbedb.gz

commit 91e834885454cf6bfb2f13c034662cf4d411de8e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 19:13:21 +0000

    GabbleMediaChannel: export TargetID, InitiatorID, InitiatorHandle D-Bus properties
    
    
    20080721191321-53eee-a8096ebd838f2ef87272b00185be32cd178e6d2e.gz

commit 0c6dfbf961b5033c11df162c2b3b4e0963a530f2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 19:13:07 +0000

    muc/test-muc.py: exercise future channel properties
    
    
    20080721191307-53eee-bf74edfe7f96fb3ff275e24755464f9f648d2a1c.gz

commit ac06f3291bb3eaf16ca19f20a3448c54560ed915
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 19:12:48 +0000

    muc/test-muc-invitation.py: exercise future channel properties
    
    
    20080721191248-53eee-f693e059c74dd9a8e4415123192a1cd9ee562f0a.gz

commit bcf56e68fb353553eda68c787dad64f46d406eda
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 18:30:02 +0000

    Resolve conflict with daf
    
    
    20080721183002-53eee-019206d68a857e18961c396b252a0eff4602ee29.gz

commit c94df4fbc4618c6f4ed37a7a9468641de2d84115
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 18:01:05 +0000

    Loosen assumptions in muc-factory about what channels will be ready when
    
    
    20080721180105-53eee-a1221611b8a2e33efc0496ff1fb708172d06c4d8.gz

commit 0c003f2d7e472838b51202c60e95161f55e630f3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 17:58:46 +0000

    Pass invitations into MUC channels as a construct-time property instead of calling a function afterwards
    
    
    20080721175846-53eee-1d4713876b7bdb30f981e11b774f0df262339c59.gz

commit 4d22ee5e2bc2184ea87d3613ad1c1f8346ac9761
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 16:59:37 +0000

    GabbleMucChannel: add InitiatorID, InitiatorHandle, TargetID properties
    
    
    20080721165937-53eee-13e3151e59ddc7f63a0e976fc4847603d3c297f7.gz

commit 866ecc20db85188b1e72adcf186d123e91103527
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 15:25:59 +0000

    GabbleMucChannel: order headers according to coding style
    
    
    20080721152559-53eee-d5d3d048a7831609a4e29a59b4c5cbb61eaeeca7.gz

commit 160066f0d67ff6667a26767d283716ccd9d0f242
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 16:56:41 +0000

    GabbleMucFactory: move responsibility for handling invitations inside new_muc_channel
    
    
    20080721165641-53eee-dfd322f0ab1fe372c6051848bd3800881c5c6661.gz

commit 0da08a23af226a9a06543a9bd140af4221ab1aff
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-24 11:18:26 +0000

    Now the tests use #include "src/foo.h", adjust the CFLAGS to pick up the headers correctly in out-of-tree builds (fixes distcheck)
    
    
    20080724111826-53eee-d3ed7aa151fe3bf99628b3ede190fb1eaea3d646.gz

commit 5c30a1c1e49d56f2fc6c6b379f469593afe6a446
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:23:46 +0000

    GabbleVCardManagerPrivate: simplify priv access
    
    
    20080722182346-53eee-f7f9f3bf7eed11e310e3f4a59e3f5a4504d7dbe4.gz

commit 8a0d83152779f069549535ce8e0b115be44258ec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:23:37 +0000

    GabbleTubesChannel: simplify priv access
    
    
    20080722182337-53eee-9b41bb10f10f87ed548b3e457d9da46de8188bae.gz

commit bed9265fbf34596bde0d7fad932371917aa31d82
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:23:27 +0000

    GabbleTubeStream: simplify priv access
    
    
    20080722182327-53eee-236cece54edb3bd27fcf6acd4b05a95c109268a6.gz

commit f1a1d11a0f7476c980b8b95a01288b1fcbaed634
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:23:16 +0000

    GabbleTubeDBus: simplify priv access
    
    
    20080722182316-53eee-39250d5456d1b7b2005927f06a61b22b052f1dec.gz

commit 07c79db4c369b075221782268834bec7807e2d05
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:23:07 +0000

    GabbleRoster: simplify priv access
    
    
    20080722182307-53eee-d8aa42518893ec274ed431e4bc442fe9919d4a57.gz

commit 982820169c41435386f1e6dbc7da594e767a7d1b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:22:55 +0000

    GabbleRosterChannel: simplify priv access
    
    
    20080722182255-53eee-dcb1ab95c7bbfbf9a826606423ae980f932b767a.gz

commit c32964e0276b30ef17c8518503f5c5d7ac2d8dec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:22:44 +0000

    GabbleRoomlistChannel: simplify priv access
    
    
    20080722182244-53eee-b0b6ceede6b53291829d16481017cc7156eb36de.gz

commit 6ff0778c4484aa327edb3c99dbf04a07de3ce665
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:22:32 +0000

    GabbleRequestPipeline: simplify priv access
    
    
    20080722182232-53eee-26f7007ee236f85c03cd7b567074cb7a1f752466.gz

commit 584e6bec35d5e03a05ebec5194936a0d25d77d46
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:22:17 +0000

    GabblePrivateTubesFactory: simplify priv access
    
    
    20080722182217-53eee-af41409097946fe5c7a2bdd0f06efe8942aac83a.gz

commit ce65c86f1dcf9a330ee05b1888c4adb4c1e7398e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:22:07 +0000

    GabblePresence: simplify priv access
    
    
    20080722182207-53eee-f81f220f82f4ca2648f92e8e82222d7de7a65715.gz

commit cbd99e13ceef67ec52dce1db1035b80c164de510
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:21:57 +0000

    GabblePresenceCache: simplify priv access
    
    
    20080722182157-53eee-effa75d032082c3880d45c3912505d2436f51af0.gz

commit 8267668a4667afcb094e8d976df41acc1a7199de
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:21:46 +0000

    GabbleMucChannel: simplify priv access
    
    
    20080722182146-53eee-f70b8af90a02eaf826e4505119f40825ab46adbf.gz

commit b89536a2e6d4920106214be8e342afd7addd7d86
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:21:36 +0000

    GabbleMediaStream: simplify priv access
    
    
    20080722182136-53eee-3dda92593ecf3bf23b7df43077d7b4e7718dc20f.gz

commit 0068b8b730bab696e13ad8527147ee16a56d92bc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:21:25 +0000

    GabbleMediaSession: simplify priv access
    
    
    20080722182125-53eee-41fdc9bb10193b54cd8887dda36fc357df3343f8.gz

commit 3d9f546f8c402b02820a869dab91628054184b7c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:21:15 +0000

    GabbleIMChannel: simplify priv access
    
    
    20080722182115-53eee-2354f61ac070d8599593414218790a339ab4707f.gz

commit d0ae2168f43be3f1b19930b4249f7b63aad6fd74
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:21:04 +0000

    GabbleDisco: simplify priv access
    
    
    20080722182104-53eee-a73f8eee6790136d42a99b19f76224b878aec7fd.gz

commit f7f499eeb873b3de69ba4a93d5fc1ba9a411fdee
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:20:41 +0000

    GabbleConnectionManager: make priv consistent with those in telepathy-glib (it's actually unused)
    
    
    20080722182041-53eee-bf8ddf54d7777836ccae16dca8fefba3bf40c627.gz

commit 39e97ccbe652f3693f4d0d39ddc70b329d1af0e6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:20:27 +0000

    GabbleBytestreamMuc: simplify priv access
    
    
    20080722182027-53eee-e5e00aeb768f1598d943cd424ba5a97a8acdb117.gz

commit 2319a4b79ad6b2a4dffcb7087790beaba5bdc60b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:20:12 +0000

    _GabbleBytestreamIBB: simplify priv access
    
    
    20080722182012-53eee-423530bc257586ba51e59eae7cb4b4c210a7f7df.gz

commit f7964425928a007e37934bf356a10702bfabbce0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:19:47 +0000

    GabbleBytestreamFactoryPrivate: simplify priv access
    
    
    20080722181947-53eee-18343458e42b388485fe036a6a3c943f99d9f575.gz

commit 9c2de98d516cfa4e64d3be9840b5457da2577a05
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:05:16 +0000

    GabbleConnection: simplify access to the priv pointer
    
    
    20080722180516-53eee-74e6b2f58ab322232d344b698f0e50c6f03828f6.gz

commit 6765bb354c91c3da8c4989dbe922816661e30873
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 17:06:53 +0000

    Tubes: use telepathy-glib GTypes
    
    
    20080722170653-53eee-dbd53c8e3d0be80713f0d396eb40e39f90903fbd.gz

commit d3f4139c4b1e27cd7cba6e26b079129994c1fb47
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 17:06:40 +0000

    conn-aliasing: use telepathy-glib GTypes
    
    
    20080722170640-53eee-93fe19d084c5f91e66cadee37a1630d18944a270.gz

commit f7b3f6bba8045eb922bc33e631a4b5f47383c49b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-23 10:52:07 +0000

    test-avatar-tokens.py: port to new test API
    
    
    20080723105207-c9803-e8e10e8d743f707c579da4b2e888fa7186bfdadd.gz

commit e2be81c616c6605ea7a8cd04785c530cce625062
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:56:22 +0000

    GabbleConnection: use telepathy-glib GTypes here too
    
    
    20080722165622-53eee-51b258cf4e6049e6a069a83186d51b93de32f2c1.gz

commit daa68d43fb759789dff94e6782bd110756c82526
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:56:02 +0000

    roster/ tests: use presence_type= to expect only those presence messages
    
    
    20080722165602-53eee-d390ff7bc107aa2be000da921b06809b9445484c.gz

commit 0b689929da8bcd5e968d50a148d298c744874ff6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:55:44 +0000

    roster/ tests: use "while True" instead of "while 1"
    
    
    20080722165544-53eee-2f0c8bc72b10ad0c5e7eff6bf7d5df912a78cd36.gz

commit aa32e01db0f8611ad0f27274b0c6a161c75c3a23
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 11:13:22 +0000

    Port roster/test-google-roster.py to new API
    
    
    20080722111322-53eee-3b77fc63cf7a15a5290dec06ad5dd220569dc46d.gz

commit 579f2c792c13a3650bfae55fb4b0b2925719b4b8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 10:52:00 +0000

    roster/test-roster-subscribe.py: port to new test API
    
    
    20080722105200-53eee-2645bbffa9d50db63c82843d396def8011c375d1.gz

commit cfce4cd88bcff3b0a44d8a97b7a5e30a6aa8d92b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 10:42:08 +0000

    Twisted tests: stop using ProxyObject._named_service, it isn't API and never has been
    
    
    20080722104208-53eee-3d2d7e4231a1066a4bcce599dc86ba31f9790a95.gz

commit 8d278295ae2cfb0db33532593d091aedea38ae81
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 18:59:56 +0000

    GabbleMediaStream: use telepathy-glib GTypes
    
    
    20080721185956-53eee-3a181ee4a075ee101d3b67a5550193908a616363.gz

commit 95f25f84b7ea4393db0e52b347cf9bb9831b68ed
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 18:59:46 +0000

    GabbleMediaChannel: now that we need a new telepathy-glib anyway, use the telepathy-glib GTypes
    
    
    20080721185946-53eee-c3f3a216585ab652629862f0e325c64e3f1a99bf.gz

commit c909697f5fdbf671bd5d86130c430369e80e116a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 18:59:31 +0000

    GabbleRoomlistChannel: use telepathy-glib's GTypes
    
    
    20080721185931-53eee-90e70f848ad187d55ac3fa62aadd53c3ab45e33e.gz

commit fd11fd76ef0760d7c0ab9de67a66b544020f8d3e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 17:42:58 +0000

    muc/test-muc-invitation.py: port to new test API
    
    
    20080721174258-53eee-30c366b8b74f1b6a916120c14bbafc92b036a066.gz

commit 1374826dac4dce52d381faac0f605f06a368fcdf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 17:42:28 +0000

    olpc/olpc-muc-invitation.py: avoid a race (stream presence vs AddMembers returning)
    
    
    20080721174228-53eee-de320e8ee08ed102e7c228f76090990e051d66dd.gz

commit d18899db3b9fdb0a112848891f51c4cf28605e55
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-21 18:09:29 +0000

    remove unused inclusions of extensions.h
    
    
    20080721180929-c9803-e028818d0dd73c5095a88ee80bc0d97a4dba0056.gz

commit aff45a25ac85a62522cba61d694a7d74a79331ca
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-21 18:06:24 +0000

    tidy up libc/glib includes
    
    
    20080721180624-c9803-3bdb4a3eabe9b65b5ad3d11f48dcbefde393a7c9.gz

commit b40ee5a18b1a9e6911e6433640b1952532de50bc
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-21 18:03:37 +0000

    tidy up include style
    
    
    20080721180337-c9803-09001e2492d16522e85e4d9514462a24cd34adff.gz

commit 1017d1be0bef2e209403e058fbb98d2192172e18
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 19:56:30 +0000

    ignore .loT files, whatever they are
    
    
    20080714195630-c9803-cdb69ed122f9c42a859a7682bbeac6f15e2dc756.gz

commit e1a5774f857d769df529159e576e5c667e09a5c0
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-21 17:17:04 +0000

    touch signals-marshal.list if it's already up to date, so make doesn't try to build it again
    
    
    20080721171704-c9803-fca76a0fe73ac65ae261ff1e64bcd64a47cfef4a.gz

commit 57f73a1dbb02512e5d5f4e7f337c07a2171da3fd
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-21 16:55:14 +0000

    debug.h: hoist glib include above G_BEGIN_DECLS
    
    
    20080721165514-c9803-4a4b62710c1c40b7ec05d9e42be685bd2d8bfcd8.gz

commit b67c13d01ea68aefdec4023529222b070d3ca9dc
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-21 16:54:05 +0000

    types.h: include "config.h" not <config.h>
    
    
    20080721165405-c9803-1e40a4072c63f8d7186f14325cef68c3106ac483.gz

commit 193ff13b869c44add9a005f26ce2262818f84489
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-21 16:52:45 +0000

    make tests include config.h too
    
    
    20080721165245-c9803-a6eb9391da3cc07b2aee0953fde816df974554a7.gz

commit 77a32d815f85fba2b115417885800dd543f7d9d8
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-21 16:39:56 +0000

    remove debug prints from handle test
    
    
    20080721163956-c9803-7bd00aaa6b079a9ffb7c0b226dfbdb7d6b2b2368.gz

commit 0354b1c811961930c6b7058dd67f451ef4d9686f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-21 15:29:26 +0000

    make config.h the first include in every file
    
    
    20080721152926-c9803-6bb7abb0109a14e3b908ed2c9b6810a4b2606a28.gz

commit e4c550f7881c35c84dd267a2a0835fd82b02c0cb
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-21 16:27:25 +0000

    define G_PARAM_STATIC_STRINGS if not already defined
    
    
    20080721162725-c9803-113db2dc1a2a81302ab7cd4b16663aba47765e94.gz

commit e37e5576bad892100501fae4b87fe51a9b598235
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-18 17:52:05 +0000

    connection.c: tidy up connection property declarations
    
    
    20080718175205-c9803-5960a78791c1ba31d32f6dfc1a067468d8e9a6e5.gz

commit 5845c94ee2241624acd0acfcfdaf0a6dd403b878
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 14:58:11 +0000

    text/initiate.py: new test to check that we can initiate 1-1 text channels
    
    
    20080721145811-53eee-3050c4d6d624e4236c3b654f6edad81a80e940f5.gz

commit 70e8669b6e05d85d539de1245a550afa17c8e0e0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 14:54:41 +0000

    test-text.py: exercise InitiatorHandle, InitiatorID
    
    
    20080721145441-53eee-53fb25fe7a0cc011fb749bd009e7f77279627685.gz

commit cd45f7279aa165f6c77ae3349b69d5064cc2f1f1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 14:54:24 +0000

    test-text.py: assert that suppress_handler is False on incoming channels
    
    
    20080721145424-53eee-9bb212982cc0967c1cc8bf7ebcaf8b00186d648f.gz

commit d7ff24b94ac82a8aca070615a46843aa3c52eb7f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 14:54:07 +0000

    test-text.py: verify that it all works even if the initiator sends us their full-JID
    
    
    20080721145407-53eee-fd74fd948cdce13b2e942b3640328d4cf6b1223b.gz

commit d3edd9130677915b07f7aa15899cc0ae5ac1a719
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 14:40:30 +0000

    GabbleImFactory: pass initiator-handle when creating a GabbleIMChannel
    
    
    20080721144030-53eee-d0109ffd6e83ea847bc9f36d5433a87130391d46.gz

commit 941cba7ec81fd1b3d0c14e888bab0665dfd8d9dd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 14:40:15 +0000

    GabbleImFactory: keep track of who initiated the channel
    
    
    20080721144015-53eee-2e3a577566a80fb80fc276f0cd9a0491d0c21d6e.gz

commit 19305f594fe5a6b56342cef6ea3e115d48d36e51
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 14:39:28 +0000

    GabbleIMChannel: track initiator handle
    
    
    20080721143928-53eee-be3fe21cbaada851736ea69b9e9cf02b2eaec806.gz

commit 75060bcfbaef66b757ce479477f10a23abda2dc1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 14:37:36 +0000

    Rewrap long line
    
    
    20080721143736-53eee-c3343d52721fab2c5836079ad7959fd43cd21edb.gz

commit 54d5096d16d18799a5f7989bbb28e8115d556dc9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 14:27:03 +0000

    test-text.py: Exercise TargetID property
    
    
    20080721142703-53eee-ca49e614e6191561bcce46258f7a0df2641a0d98.gz

commit 2175c53c058c75117b51684221e65c715af4f66d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 14:25:55 +0000

    GabbleIMChannel: implement FUTURE.TargetID
    
    
    20080721142555-53eee-ae5df80639903816accca537dbe198c86078914e.gz

commit af5a306b91cced0d34d576bbc2ca68dd1b7bf744
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 14:04:30 +0000

    Add Channel.FUTURE pseudo-interface as an extension
    
    
    20080721140430-53eee-9317d73921af9f39c8245af8dbb61a2e070bde5d.gz

commit 2e75df661bc1939bac274f07d48b614cfe954b2f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 14:07:10 +0000

    GabbleIMChannel: order includes according to coding style
    
    
    20080721140710-53eee-4a2554192e218e7eee2c4ee629583dfa20bae879.gz

commit 1a92cb8d2c13f3e864e61b98db4d3358d47c7769
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 14:03:07 +0000

    Update doc-generator.xsl from telepathy-spec HEAD
    
    
    20080721140307-53eee-6a0557489561b371e7623dd2c73fe27994bcb5e8.gz

commit 6da382dcab8bdf090c499cbcf82e6172b1fc61e5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 13:58:58 +0000

    Update code-gen tools from telepathy-glib 0.7.12
    
    
    20080721135858-53eee-e543608d57731a947b8617c9446e02daa8ea6f22.gz

commit 840b9d157369f41d86803193ba37bf1731caced5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 13:52:56 +0000

    Update xep.xsl to r2040
    
    
    20080721135256-53eee-dab1d1a9b1f6239412527bd636530192b80cff9b.gz

commit 2a0761aecefcaef5de642bd9c89d3abc383daa79
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 13:29:56 +0000

    Remove tab in check-c-style.sh
    
    
    20080721132956-53eee-7fd748c43c6a9df70f0e6441c3b821e2fe8e1b87.gz

commit 8f50e97a03dd1eb2d0cf6eae4297a12d75308f96
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 13:18:54 +0000

    check-c-style.sh: be strict about formatting of casts and pointer types
    
    
    20080721131854-53eee-9eb995b5a0a4e610900b5c0201169a7a9b3312ec.gz

commit 7035166c8608034d0ad4cd4dde250b54f375ed29
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 13:16:28 +0000

    More coding style nits re: casts
    
    
    20080721131628-53eee-79be88afb4a9d9d84cb424e389a17586db8ca1e0.gz

commit 532a16ddfd71cc42f4a054514957c4da4ff90d62
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 13:16:06 +0000

    tubes-channel: coding style nits: casts should look like (TpBaseConnection *) priv->conn
    
    
    20080721131606-53eee-5c55fcbe2e96bc437f2f27c19e7a0158d0d19e31.gz

commit 8d86a9375d7720d787aa11e6d0f55bcaf1d3acaa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 13:15:02 +0000

    conn-olpc.c: make all casts and pointer types look like (foo *) bar
    
    
    20080721131502-53eee-0325f0e19eb16a9732da7c67331663840eda48ed.gz

commit 66907e603225fb66e0e6e32acbc651c52d1fe854
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-18 20:28:14 +0000

    enure pointer casts have a space after them
    
    
    20080718202814-c9803-6a9dba64677bfbca45459e03a3acaf09268fe050.gz

commit f6f4f04dde0c2ec5b3cb4996a42e011f8b132291
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 12:52:23 +0000

    rename test-gabble-presence to test-presence
    
    
    20080714125223-c9803-e14004ce94fe1ae7642907e0f5523a5904bb2186.gz

commit 8562f9c88d430044bb045953efc6af58de80d209
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 12:50:15 +0000

    tidy up test includes
    
    
    20080714125015-c9803-acacc316904effa3073fe1942a4f23f3f739a5ee.gz

commit afb63b0be4490cfbff88af814f279df85041917c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 12:42:53 +0000

    src/Makefile.am: put source file lists in correct order
    
    
    20080714124253-c9803-2432c6069041208ff38bcef2ae9eb4ed168fd1a2.gz

commit 30248138d1dd011a109b263d38c30222f2378494
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 12:07:12 +0000

    remove gabble- prefix from generated gabble-media-session-enumtypes.*
    
    
    20080714120712-c9803-3263415bf3dd0bdfe334910e30a1e06e40ec29e8.gz

commit 600907230af87c7de205c4b457917effcc741cd1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:38 +0000

    rename gabble-roster-channel.c to roster-channel.c
    
    
    20080714115838-c9803-b82f2f0fb4634f9430ca1a81b5ed7e1ea246ccfd.gz

commit 064889081df2a8e1630ed438a5bdb3c44736d4c0
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:38 +0000

    rename gabble-roomlist-channel.c to roomlist-channel.c
    
    
    20080714115838-c9803-3f3f0e9f6e32da66c47c29b78ab8ac859df17efd.gz

commit c29da40c7e17e8b5cd189108440a2c1ef22a0245
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:37 +0000

    rename gabble-register.c to register.c
    
    
    20080714115837-c9803-b36112555b3f4618ceec8c6facea1d2dd835a993.gz

commit bcdbd3686024b8b6d5d660652b59d3bdddb98580
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:36 +0000

    rename gabble-muc-channel.c to muc-channel.c
    
    
    20080714115836-c9803-8c51126e67012de333917560299d2b0372e1f25d.gz

commit eaf513ef4bcbc76b970ff071dc792d1da37882e0
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:35 +0000

    rename gabble-media-stream.c to media-stream.c
    
    
    20080714115835-c9803-0a4791ee635a50c65a7370d74724441b91f78bcf.gz

commit 624735b1fc0dbec02f0c08312f88ed96b8ccde09
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:35 +0000

    rename gabble-media-session.c to media-session.c
    
    
    20080714115835-c9803-d8d7f9467a1da82d7b731f9201be900ae78bbfa5.gz

commit f89de14a113559c2c2253b94a99027910c4783f1
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:34 +0000

    rename gabble-media-channel.c to media-channel.c
    
    
    20080714115834-c9803-d4d622d4f2e0b8b2f97748166a4961b5e1d36518.gz

commit bb928e807257e818ae711646ed50cdd4ed48b112
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:32 +0000

    rename gabble-im-channel.c to im-channel.c
    
    
    20080714115832-c9803-18b8ff93d77e0120c1e1a49f86cfa32f6f3ce936.gz

commit 5ebaec9b3bad56a741173ee7edf50ba9965e3b6e
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:32 +0000

    rename gabble-error.c to error.c
    
    
    20080714115832-c9803-6977c5b97dc072f856d7b4b67f1f14852a888761.gz

commit f3da60bbcb6c0af78ac760a3a9dad249dae3a2ec
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:31 +0000

    rename gabble-connection-manager.c to connection-manager.c
    
    
    20080714115831-c9803-0d202f26e1a036bf7803eaa2bc8cbc9855f5c1ca.gz

commit 1f1f7b0d4975bf6bc3eab7dd9b19dae1e6ceb526
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:30 +0000

    rename gabble-connection.c to connection.c
    
    
    20080714115830-c9803-c7efbff10cfc04b5d49398ae335e4b27dc2c122f.gz

commit c902650d54933d39bbe21e8a77471cc2f6ce33f0
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:30 +0000

    rename gabble-types.h to types.h
    
    
    20080714115830-c9803-7d733e4f99dd33ecb482dd00188ccb38f34c14a6.gz

commit 82d8baded2195de1774ca7e7545a76180e37d96c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:29 +0000

    rename gabble-roster-channel.h to roster-channel.h
    
    
    20080714115829-c9803-a8a686a809ace1f96474510cc4187d6943fac4e5.gz

commit bb2f899b514f265dd552f5a9a13e876a100f1506
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:27 +0000

    rename gabble-roomlist-channel.h to roomlist-channel.h
    
    
    20080714115827-c9803-a9a7f479bf6a2c1596189c64855d1e2d3cc94ba4.gz

commit e11173861af800d9d8cd0e7ee6b29228c113a1a6
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:25 +0000

    rename gabble-register.h to register.h
    
    
    20080714115825-c9803-37d40d361f6b9d2bcbfd379dce8fee1aa76ecdf7.gz

commit 34cec31e783c4e15afbdf5dd0c204e9bfcfe7d4b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:22 +0000

    rename gabble-muc-channel.h to muc-channel.h
    
    
    20080714115822-c9803-3b750d4b9607d8551f84e2d6a41a34aaaaf09b63.gz

commit b783fd441c4bc1b1fc4daeb9dd34a508616b9e95
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:20 +0000

    rename gabble-media-stream.h to media-stream.h
    
    
    20080714115820-c9803-849df37880f87f24356333f7e6f1be9ed5f89314.gz

commit 2a4a4d559effc70de2383f3f71dc8f7bada81fb3
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:17 +0000

    rename gabble-media-session.h to media-session.h
    
    
    20080714115817-c9803-0ea97d887f52df557246d41914d4b7a2988df9f5.gz

commit 823ab65e3648863b77f520b00886548ff4c11651
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:14 +0000

    rename gabble-media-channel.h to media-channel.h
    
    
    20080714115814-c9803-8e596dfd10670fcf633db3d77757a648771d0bb8.gz

commit 26fc4018e160e785bfb4a8c8cc0129d1e5c99944
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:11 +0000

    rename gabble-im-channel.h to im-channel.h
    
    
    20080714115811-c9803-008bc2f72851b17888dd9391e61d02ceb43af6a5.gz

commit 7ebc3f536fa31f0d8f2032d15bb71044ef365ace
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:09 +0000

    rename gabble-error.h to error.h
    
    
    20080714115809-c9803-b865ce9eca9b78a5e776e544677e40490d7d225d.gz

commit d83f63eeeb05f6fb995525370fef4dd5fe0aa867
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:06 +0000

    rename gabble-connection-manager.h to connection-manager.h
    
    
    20080714115806-c9803-f201bea0260e5e0dd87ce25367288db3358ec090.gz

commit b0a2ee7e9fc758952bf48117566cd064376066a9
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:04 +0000

    rename gabble-connection.h to connection.h
    
    
    20080714115804-c9803-1409d186eb2b363c7dab712f3fc046972cdf7c7d.gz

commit 5b1a979deafdb1a2a5e07179d4397fea99ef5681
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-01 18:30:20 +0000

    test-muc.py: remove redundant call to dbus.SessionBus
    
    
    20080701183020-53eee-5e7e5663527f930bd96d9162f8518c1d32329e41.gz

commit 77182f9bcee9678fe09a59bea19d89fbcf935ac6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-01 18:29:58 +0000

    test-muc.py: unwrap lines that used to be too long, but are now < 80 characters
    
    
    20080701182958-53eee-4679e874888212527fdc431270a7e94ae14b94e5.gz

commit d7b0eea2241ac652ac10cd2643a1c34fc84c4cbb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-01 18:29:40 +0000

    Add _gen/gtypes-body.h to CLEANFILES (indirectly), fixing distcheck
    
    
    20080701182940-53eee-493d0541a599392e2f93c032a1885b7f6e0326f6.gz

commit 6b86bce0e89f103cce59a73e28c874e48ad6d5e8
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-06-16 13:56:32 +0000

    Implement SimplePresence
    
    
    20080616135632-93b9a-41c4521c70e43987b338f7f0c396b41a684a7bbf.gz

commit 7a5efaf3f1810adf75e1f866d519b504d04efc71
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 17:59:57 +0000

    GabbleMucFactory: document disco_requests
    
    
    20080728175957-53eee-33e5618753aca5a4bcd3c09a0322f9ecfa57d201.gz

commit f184276b52ce0eac9996bab3646df61925a5fdce
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 16:23:20 +0000

    GabblePrivateTubesFactory: remove useless connecting/connected/disconnected callbacks
    
    
    20080728162320-53eee-95692f5b48963faf8d03536b513fd5fea45cbae2.gz

commit 70f5383278e98c9d44c722113e15282eed04b9e0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-28 15:40:20 +0000

    GabbleImFactory: remove unnecessary forward-declaration
    
    
    20080728154020-53eee-d0c41891e21da35d72403dcb6d3e4b9f4cfcd0dc.gz

commit dc37ec90c8736d8f326a0c4a73561d76241d36b2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-24 17:21:21 +0000

    GabbleIMChannel: use tp_text_mixin_has_pending_messages (requires telepathy-glib 0.7.13)
    
    
    20080724172121-53eee-8d1041ac7c79ae2de4a55e39e6e1df27a1554b66.gz

commit f432f77955ecbbc312a3d91669f6e95198a1856d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-29 13:17:40 +0000

    Require telepathy-glib 0.7.13 (for Requests-related functions)
    
    
    20080729131740-53eee-39a243245987d2e78a6c2575f863e30ba1fdda29.gz

commit 76538aa3c580b9de4f518c6fbc66f48b17a7f4e3
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-07-29 11:12:41 +0000

    Add assert to args checking and use nicer variable names
    
    
    20080729111241-b58c9-4fe3b09b587e72abf110758b25c9636dd5733d07.gz

commit 57fac22fd2acb26b4dc6d6c05daf6b91f3ced69f
Author: Sjoerd Simons <sjoerd.simons@collabora.co.uk>
Date:   2008-07-29 10:23:03 +0000

    port test-set-status-idempotence to the new test API
    
    
    20080729102303-b58c9-b789671b2808086fdd054917550c37c5273baa94.gz

commit eebfff082368a82647d8dcda2d4bacdaff2670bb
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 03:53:58 +0000

    push out new MUC presences when the global presence is changed
    
    
    20080727035358-418b8-d648ede14a4f76af7d1556677413bcf34ca30dc2.gz

commit f7afa1df8195496718917f7a2402ec555adf4104
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 03:32:15 +0000

    test that closing the MUC results in sending unavailable presence to it
    
    
    20080727033215-418b8-289918ab63bd3104200c59bdf3e10799765c4ba8.gz

commit 013e9865bed703f1b5c372e80950ecbb7e6b48ea
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 03:26:58 +0000

    generate MUC presence messages using the real connection-wide presence
    
    With a pedantic interpretation, this is arguable a spec violation because it
    exposes your presence to handles who are not on your "publish" list. However, I
    think that given other protocols (essentially, anything but XMPP) exist where
    joining a chat will always expose your presence, I don't think it's reasonable
    for clients or users to rely on this additional exposure not happening anyway.
    Consider the absurdity of expecting that you can be invisible even when you've
    joined a group chat. If someone wants the XMPP-specific semantics badly, we can
    add a RoomPresence interface or somesuch, and they can set a property in order
    to publish a per-room presence.
    
    20080727032658-418b8-171a0e74e3910f331a49d333491376e1e73ec9f2.gz

commit 5d329af29ea57a46bde699016c80740f31df67e0
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 03:18:32 +0000

    fix MUC test to actually finish the function
    
    
    20080727031832-418b8-6b0ecb57ba3699a967ceab350cfa9485bc5faaec.gz

commit 1d3c24ca525c4dd7fc92dad1c85d1a95c88e4687
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 02:34:41 +0000

    add a "to" argument to gabble_presence_as_message, as you can't change the recipient of an LmMessage after it's been created
    
    
    20080727023441-418b8-32e10597064f33e4994ba5be32e092a4136e9ddc.gz

commit 8edc74308a5e9740debb34947eec5cef1fdee163
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 02:27:41 +0000

    remove resource argument from gabble_presence_as_message entirely, as it's only ever useful on your self_presence which only has one resource
    
    
    20080727022741-418b8-166eb619558dc4ec5ad64c1bc1c9eec8c76283aa.gz

commit 8997826236015d49d1d3a1db45242cb4bdb9fbc9
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 02:18:15 +0000

    make gabble_presence_as_message accept NULL as a shorthand for "first resource", as self_presence only has one resource
    
    
    20080727021815-418b8-aefea37a7b26e3baa99e12eb7a5146f40b8106cd.gz

commit e421737e13de75d15bfb75a479448ec9eb5889cd
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 01:12:03 +0000

    remove needless assertions (including removing the ability to cause an assertion error by sending an old-style MUC invite with no body)
    
    
    20080727011203-418b8-b1d6ec84a5a94eeaf9e56ee8abcffb46fd2a5d31.gz

commit 8744198f9cd2cf0cd44fe843b1d42485dcf1f8f1
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 00:57:30 +0000

    add test for MUC alias coming from our connection alias
    
    
    20080727005730-418b8-e5dcbddac8cf09cdb9f439070c35760e4456bb3b.gz

commit 467d51a8e196e8e473b83b7efb24c9c69a5d962f
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 00:44:30 +0000

    make create_room_identity return self_handle directly
    
    
    20080727004430-418b8-c00dcfa62df21c31893466886a30c422e11dbb76.gz

commit 8660bd9b8a4ac6f594048888bb4eca2d53579fd7
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 00:32:41 +0000

    build MUC self_jid with the alias for our self_handle, not just the local part of the JID (note it's guaranteed not to be NULL, as _get_cached_alias falls back to the local part of the JID anyway)
    
    
    20080727003241-418b8-2fd067153296de634c2e929f8adcaec85e7026fa.gz

commit 3ba546108be3273ccba319f99aea0a3a577ad995
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 00:19:33 +0000

    invert sense of the if (priv->invited)
    
    
    20080727001933-418b8-ebe152e1540229f191ac074d964b1f67382cb903.gz

commit 38e44455750e0932b500056458534a00fbdd1b57
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 00:18:49 +0000

    inline _handle_invited function into the constructor
    
    
    20080727001849-418b8-d2f53d0ffa827f4f3a5988110071179486e4d97c.gz

commit b48c84fad96360a7ed3a54075e793a0e92116357
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 00:06:49 +0000

    when we're invited, mark the channel as ready in the constructor (emitting a signal is pointless before the constructor has returned)
    
    
    20080727000649-418b8-9102892e630d39bcd79d2d1d16881e242d465774.gz

commit 60406d82f33827667d7e692b70476467fe46042e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 00:04:58 +0000

    store MUC state booleans in bit fields
    
    
    20080727000458-418b8-ca579ad0d48756a99804f201d0ce8fe1057f5160.gz

commit 0f286d117d1d28f87851b83a720e0e2a354ffc81
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 00:04:32 +0000

    rename ready_emitted to ready
    
    
    20080727000432-418b8-3474d1db2079a5f8836f7e32304160acea5b9b39.gz

commit d6b10c3ae87226a247368b194664d472671db57b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-27 00:01:05 +0000

    rename MUC "invite-self" property to "invited" with the inverse sense, because I have no idea what "invite-self" is meant to mean
    
    
    20080727000105-418b8-90d6353dc24ae944cd5b87715dc16f9c3534cd85.gz

commit 7d7121977e25ce474b10df622f7964df57eef4f1
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-26 23:55:07 +0000

    don't queue MUC invite reasons as a text message, we've got the LocalPendingMembers property
    
    
    20080726235507-418b8-a9ea8222a6fda83777783eea398c4e723fbba5b3.gz

commit cd6bf6ae49d62cd85347d637019c5282ccbe8179
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-26 23:52:41 +0000

    remove unused code (the function is only ever called after assert priv->initiator != 0)
    
    
    20080726235241-418b8-b9a3f84949d002484380d256dbd499de0044d0a4.gz

commit 26f68cfcb3a7b28281ed1fc59f70e71a5769de99
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-26 23:51:15 +0000

    set self_jid directly from create_room_identity (and a nice assertion which uncovered the double-setting bug)
    
    
    20080726235115-418b8-42b3f61facbe01672b836dbe833f3fc4817b6f4c.gz

commit ac7339ca4711e69887888f14b5444fdaa34efb7a
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-26 23:46:03 +0000

    fix repeated creation (and leaking) of self_jid when invited to a MUC
    
    
    20080726234603-418b8-34208096c5effb1d2fc61c5d2279f91a22bec933.gz

commit d5a4714525eacdc197896b08f453e2a350e106ce
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-07-26 23:00:05 +0000

    rename contact_handle_to_room_identity to create_room_identity and remove needless self_handle argument
    
    
    20080726230005-418b8-1eb5e98484eb82b152d8fcc954fb6231809eced0.gz

commit 2d521a150422d390d44f7d707b43a5b6961eea99
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-29 10:10:37 +0000

    connection: add missing blank line
    
    
    20080729101037-7fe3f-8e2eaf2c263dc5a16cf1090d1c5cc0a70330ae06.gz

commit 958fe861d3be9411db277785c161d3af72367eac
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-29 08:38:13 +0000

    increase calls stack size when running test with valgrind
    
    
    20080729083813-7fe3f-d1ead5468d3c0454521019614944feca9a113e26.gz

commit 6d519deea1780222f6e02ced488b5fdd168b0f3c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-29 08:29:19 +0000

    connection: fix SSL leak when we are not using old-ssl
    
    
    20080729082919-7fe3f-c986babb748af9325236eadd5a41eb816300c89c.gz

commit 6228ee000d9bd30037a1029ff9311695e042dbdc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-25 09:50:58 +0000

    GabbleRosterChannel: remove FIXME comments, Sjoerd thinks the current implementation is fine
    
    
    20080725095058-53eee-ff9b1ae44c396a4186ecc92dbf3cd3ed25ec4b8e.gz

commit 9bb2049c49a4d6b2a60fa57954d83e343a749fdc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-24 18:33:11 +0000

    GabblePrivateTubesFactory: also replace g_return_val_if_fail with g_assert here
    
    
    20080724183311-53eee-d1c3557e643ac086e0b6e281a3df596f32b803ff.gz

commit d9f9eb20f814c4b948c486e79256a6bf37950dc6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-24 17:58:09 +0000

    Revert g_return_val_if_fail in GabbleMediaFactory internals to a g_assert, having it return NULL is no more helpful
    
    
    20080724175809-53eee-53a2f19a69a1d4c3c5dff61df84ac53c33d3796a.gz

commit 2ffd959749297dcd021709e6620680a1623f929f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-24 17:57:40 +0000

    Remove unnecessary check that media channel has nonzero creator - we already asserted that in the constructor
    
    
    20080724175740-53eee-44adad2cb5790791296a48bd0429bc77753beccc.gz

commit ca596dd5eb38ec9dc8ae887ddee70d940fe32103
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-24 14:57:20 +0000

    Add a regression test for respawning text channels
    
    
    20080724145720-53eee-b6cc808c3d273a50a8154596c0614942063b38a4.gz

commit bff8a2bf0c204eb438b69e51d7205437e9237d37
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-24 14:42:16 +0000

    Implement the "respawning" behaviour for IM channels with pending messages remaining
    
    
    20080724144216-53eee-d2efd8bc914582f1b5c7e9b89ff810fb21e7e51b.gz

commit 309e0061168eb20bd65f2728765560e00e249ba9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-24 14:41:33 +0000

    GabbleImFactory: simplify priv access
    
    
    20080724144133-53eee-e9108e43683cfc3311d76588538c1cfc2e32d31f.gz

commit 09794b455a607be1127b7cc8676dfab2cb3542b4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-24 10:18:14 +0000

    Update Channel.FUTURE, and actually remember to add Connection.Interface.Requests XML
    
    
    20080724101814-53eee-1e6758b2fd7eeb31424e697ec87c48013afb9ecb.gz

commit 67d04f41cdb254fdebaf2ce31829cc68e0be2b2e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:33:17 +0000

    Test the Requested property for Tubes
    
    
    20080722163317-53eee-df22e4ad8a1f6abe629809be20680f0b81595c7e.gz

commit ca55f4b01252a0faaa30f7608dacf0b11d41ad49
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:33:09 +0000

    Test the Requested property for IM channels
    
    
    20080722163309-53eee-fe716ed31df1fa13fc7778c0ea0500468ef9e088.gz

commit 670ce44aef378f49713ce3622149cb7b9a838608
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:33:01 +0000

    Test the Requested property for roster channels
    
    
    20080722163301-53eee-cd53326cbefee17a77bbec11ed1481315f17e6e1.gz

commit 668228b2d068a71cf45d68c31084778d12d9b57c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:32:49 +0000

    Test the Requested property for MUCs
    
    
    20080722163249-53eee-7e9c4b66966453b365c1bd572348dc064fdb38b9.gz

commit 2d3029f8e43af0b5513d231c91b16838cd7963f5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:32:37 +0000

    muc/roomlist.py: exercise the Requested property
    
    
    20080722163237-53eee-5cf61f90f8e370640e6713742942bf9ef12c4e41.gz

commit 4102af5e73afe0c7fef8473958993f9bc10d4242
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:32:16 +0000

    tests/twisted/jingle/: exercise the Requested property
    
    
    20080722163216-53eee-c720207242565dc3ccfca6d90eba224d8083e40a.gz

commit a5ee1ab61c3eefc6613b9397a9d1c99491132f3d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:32:02 +0000

    GabbleTubesChannel: add the Requested property
    
    
    20080722163202-53eee-1f2af74c966e695a744d0db238a59fc6bf3f88c8.gz

commit 0184a3b27faf2d481dc778cc1eedcab433d58265
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:31:45 +0000

    GabbleRosterChannel: add the Requested property (trivial implementation)
    
    
    20080722163145-53eee-65be6b5811c1a393549f063f2bfa37088467d579.gz

commit f7f53efde50b38fc0d8605f6bcdb2085280bbc9d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:31:33 +0000

    GabbleRoomlistChannel: add the Requested property
    
    
    20080722163133-53eee-38b218cfaf8944f24b0970c9ae6abb4a6b50fe02.gz

commit 7efd9d7d857ae8b772a7324c214a509c7bee1614
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:31:18 +0000

    GabbleMucChannel: add the Requested property
    
    
    20080722163118-53eee-2082d2b6124096b8fbc5ab6c7ad338fc7f9d26a3.gz

commit a6be8280368eba38721ca03c36447d7a37dbb9b1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:31:05 +0000

    GabbleMediaChannel: add the Requested property
    
    
    20080722163105-53eee-dd25207349f5dce5395f6024b52d56b8cc55e1d3.gz

commit e8dc3e06bc4f40a1bc6d07017d486ce24b8c4328
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:30:45 +0000

    GabbleIMChannel: add a Requested property
    
    
    20080722163045-53eee-374a3c6f9ffb17b3b7f62c1a6895d609c1a67751.gz

commit bfbdf13c9d83b2c557fcf69141d47ef20de61554
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:15:35 +0000

    Add Requests interface in extensions/, and update Channel.FUTURE to the -requestotron branch
    
    
    20080722161535-53eee-8225109792ca1d908ccfbee42d5446ff32eb9d32.gz

commit 9f266a4f3df714dc40401e67e0b6380f9026515f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:12:57 +0000

    Allow undefined (external) interfaces in extensions
    
    
    20080722161257-53eee-92d43a0b50bcd290b7e1a735d77c694f85ac2349.gz

commit 9be360bdd7b91ca1c3e90a17398d93f2bf4b0225
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 14:44:11 +0000

    tubes/test-si-tubes.py: exercise TargetID/Initiator* for tubes initiated by us
    
    
    20080722144411-53eee-6a39236dd02c02dd8e925340d70ff886ddf99aaa.gz

commit ad97845a1b15f9c455e33be9190263442aa3a3d9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 14:42:18 +0000

    tubes/test-muc-offer-dbus-tube.py: exercise TargetID/Initiator* for Tubes channel initiated by us
    
    
    20080722144218-53eee-ec3880d41c98d833dabb841da2346956b2d22a28.gz

commit 0921adcbe8c7924d3034505f0ef865a65ac05b4e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 14:41:46 +0000

    tubes/test-muc-accept-stream-tube-ibb.py: exercise TargetID/Initiator* for tube initiated by others
    
    
    20080722144146-53eee-2717e391f22a2eb4af87955e7285a89a9c7617f3.gz

commit 53eb6db32579969974c25352801cc35eff5bedeb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 14:25:27 +0000

    GabbleTubesChannel: take an initiator handle, and also export TargetID and InitiatorID
    
    
    The initiator of a Tubes channel is (currently) defined to be
    * the local user, if it was requested; or
    * the remote user, if it is 1-1; or
    * 0, otherwise (we saw it in someone's presence in a MUC)
    
    20080722142527-53eee-f1b75a0bad494364b813aab55a10955388a65dba.gz

commit 195cd611cfe8f39075a4a9383ee2cd60472e6674
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 14:16:46 +0000

    GabbleMediaFactory: assert that the channel has a creator
    
    
    20080722141646-53eee-029457b4f2c643b88f6f4bd2a6501b89a9205fee.gz

commit ba3420233a005b20957721df5c536183e75eef92
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 14:16:31 +0000

    GabbleMediaFactory: coding style/naming consistency
    
    
    20080722141631-53eee-03e5574ed197b41868a509564181c2b914f3691e.gz

commit 909f46faaebba9a5072caf9e76b7a276c2922514
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 14:15:51 +0000

    GabbleMediaChannel: ref priv->creator
    
    
    20080722141551-53eee-25d121026a963d62499c69d70affecabf5e4b24a.gz

commit 8a33fa62f834c80b434f731d93d1754224eb5fe5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 14:03:32 +0000

    GabbleMucChannel: assert that there is an initiator
    
    
    20080722140332-53eee-b88f8b4d3139af0c1119794fcb4e885cfa0189f8.gz

commit f440f7269c8101ab2a7c7129449b47b6f2ed0320
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 13:59:57 +0000

    GabbleIMChannel: assert that there is an initiator
    
    
    20080722135957-53eee-958fee9db2f254d7ced64a3459d369465d0ca5f3.gz

commit d15e0fbb264b643c4fcf2295d97af3fbdc8a4a1c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 10:51:14 +0000

    GabbleRosterChannel: implement a simplistic version of future properties
    
    
    For now, the initiator is always set to 0, even if the user actually requested
    the channel.
    
    20080722105114-53eee-5ba11d2e726192783e7497fbdeb150d388b7e672.gz

commit 4e73df714ff75f65588cb30b2823af5e21bdcd50
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 10:50:34 +0000

    roster/test-roster.py, roster/test-roster-subscribe.py: exercise future properties
    
    
    20080722105034-53eee-7833ae92bb25c66a45f8c49bb12aa5791aa44d64.gz

commit 5620a7d9ca5618e44ce4ce96d819bbaa1d665dba
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 19:44:04 +0000

    Fix end of call in test for call rejection
    
    
    20080721194404-53eee-70bee3c1764f269811268d2b2a936e5312f7cc80.gz

commit 2266b72703ae31d6863f70232cfd71e7dfdf1a41
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 19:42:17 +0000

    Add basic support for future properties in room lists
    
    
    20080721194217-53eee-0c2e3febdcf578339f574248ece90c0208fdae26.gz

commit 8e0560fec4efd723f451df3abd71f393ac3c3b77
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 19:31:36 +0000

    Split out incoming call rejection into a separate test so we have an active regression test for the FUTURE properties
    
    
    20080721193136-53eee-bd4ce4d2aaf58a874299d41c0cb0938e91dbee98.gz

commit e19ba062eacd5465c23aeac018cbc2b1266c2e7e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 19:22:57 +0000

    jingle/test-incoming-call.py: exercise channel properties in a basic way
    
    
    This test is disabled, but the basic functionality has been verified.
    
    20080721192257-53eee-3d81185633ff85f6280ada80e9405b637b1783b0.gz

commit 6a7cff02eba1be17a3222869ae425007812c5347
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 19:18:09 +0000

    Make test-incoming-call.py a little more race-resistant
    
    
    20080721191809-53eee-1fbfaa609ea7fca19df23cbd47f0a5000a33e6b7.gz

commit bf7ab0c65be4b153e6e7669f45324a723b7bb3ab
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 19:17:32 +0000

    jingle/test-outgoing-call*.py: exercise future properties
    
    
    20080721191732-53eee-069be7f7b04d6fd0742415b7fde9aa267b7bbedb.gz

commit 3d5b5f002d85a77e9ada2778ea46a140b9c01e11
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 19:13:21 +0000

    GabbleMediaChannel: export TargetID, InitiatorID, InitiatorHandle D-Bus properties
    
    
    20080721191321-53eee-a8096ebd838f2ef87272b00185be32cd178e6d2e.gz

commit 0ec06f37d0492d12f4b60f8dd49328d4caf2a926
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 19:13:07 +0000

    muc/test-muc.py: exercise future channel properties
    
    
    20080721191307-53eee-bf74edfe7f96fb3ff275e24755464f9f648d2a1c.gz

commit f249a9afeebe26fdf12d9050447759ee4880e1bb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 19:12:48 +0000

    muc/test-muc-invitation.py: exercise future channel properties
    
    
    20080721191248-53eee-f693e059c74dd9a8e4415123192a1cd9ee562f0a.gz

commit 6d3667f18654eecf10af752bf053f328185769c5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 18:30:02 +0000

    Resolve conflict with daf
    
    
    20080721183002-53eee-019206d68a857e18961c396b252a0eff4602ee29.gz

commit d57ac97d026b449044de3b0e833d317cdc4c9711
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 18:01:05 +0000

    Loosen assumptions in muc-factory about what channels will be ready when
    
    
    20080721180105-53eee-a1221611b8a2e33efc0496ff1fb708172d06c4d8.gz

commit dd69127968c11160b7f3b53f3042b0d9bdb89dc4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 17:58:46 +0000

    Pass invitations into MUC channels as a construct-time property instead of calling a function afterwards
    
    
    20080721175846-53eee-1d4713876b7bdb30f981e11b774f0df262339c59.gz

commit b9a001a9bd462d91680fa19fad9e1162da472970
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 16:59:37 +0000

    GabbleMucChannel: add InitiatorID, InitiatorHandle, TargetID properties
    
    
    20080721165937-53eee-13e3151e59ddc7f63a0e976fc4847603d3c297f7.gz

commit 137eb00f38a487b5c352c4102b190c85cc0c84d0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 15:25:59 +0000

    GabbleMucChannel: order headers according to coding style
    
    
    20080721152559-53eee-d5d3d048a7831609a4e29a59b4c5cbb61eaeeca7.gz

commit d71515624e29c58adbed7fafe2e431c8af0bb61a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 16:56:41 +0000

    GabbleMucFactory: move responsibility for handling invitations inside new_muc_channel
    
    
    20080721165641-53eee-dfd322f0ab1fe372c6051848bd3800881c5c6661.gz

commit b4e477bddbe2ec20f553c34b159f31aad005b00b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-24 11:18:26 +0000

    Now the tests use #include "src/foo.h", adjust the CFLAGS to pick up the headers correctly in out-of-tree builds (fixes distcheck)
    
    
    20080724111826-53eee-d3ed7aa151fe3bf99628b3ede190fb1eaea3d646.gz

commit 5bf692e39ac99d643f7a0dbe402d75c28fec46e8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:23:46 +0000

    GabbleVCardManagerPrivate: simplify priv access
    
    
    20080722182346-53eee-f7f9f3bf7eed11e310e3f4a59e3f5a4504d7dbe4.gz

commit 924257b1d416f3b294312c8a83f7d4fe3490faea
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:23:37 +0000

    GabbleTubesChannel: simplify priv access
    
    
    20080722182337-53eee-9b41bb10f10f87ed548b3e457d9da46de8188bae.gz

commit b6fdbbf8f3ec63372a9368a62d85f32f7096ca14
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:23:27 +0000

    GabbleTubeStream: simplify priv access
    
    
    20080722182327-53eee-236cece54edb3bd27fcf6acd4b05a95c109268a6.gz

commit d7336b9b82d688aa7a295681819d31179579097a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:23:16 +0000

    GabbleTubeDBus: simplify priv access
    
    
    20080722182316-53eee-39250d5456d1b7b2005927f06a61b22b052f1dec.gz

commit af7e496e6d64afe34d205e5b7d9152278782f2bb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:23:07 +0000

    GabbleRoster: simplify priv access
    
    
    20080722182307-53eee-d8aa42518893ec274ed431e4bc442fe9919d4a57.gz

commit 712b7c86f73c010854f3cf5f2ff4411960755377
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:22:55 +0000

    GabbleRosterChannel: simplify priv access
    
    
    20080722182255-53eee-dcb1ab95c7bbfbf9a826606423ae980f932b767a.gz

commit c1f9020cbffe43618fcec323550d62831b94049e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:22:44 +0000

    GabbleRoomlistChannel: simplify priv access
    
    
    20080722182244-53eee-b0b6ceede6b53291829d16481017cc7156eb36de.gz

commit 3b2f57effc71a65782b63b4950bdbbb704727076
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:22:32 +0000

    GabbleRequestPipeline: simplify priv access
    
    
    20080722182232-53eee-26f7007ee236f85c03cd7b567074cb7a1f752466.gz

commit dc8308735a04a9182a8428bc52da980e389f938f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:22:17 +0000

    GabblePrivateTubesFactory: simplify priv access
    
    
    20080722182217-53eee-af41409097946fe5c7a2bdd0f06efe8942aac83a.gz

commit f6d70d60b6e332826faf961d6880605eae2a50a3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:22:07 +0000

    GabblePresence: simplify priv access
    
    
    20080722182207-53eee-f81f220f82f4ca2648f92e8e82222d7de7a65715.gz

commit f82c8e7e34b6edee234d921d9f6dbc98419199c7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:21:57 +0000

    GabblePresenceCache: simplify priv access
    
    
    20080722182157-53eee-effa75d032082c3880d45c3912505d2436f51af0.gz

commit 6175e6218aa0b101c41eb557d4c8b77f6f82cc1c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:21:46 +0000

    GabbleMucChannel: simplify priv access
    
    
    20080722182146-53eee-f70b8af90a02eaf826e4505119f40825ab46adbf.gz

commit 1293c4c6700b5713658a55c721cf127ba1896981
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:21:36 +0000

    GabbleMediaStream: simplify priv access
    
    
    20080722182136-53eee-3dda92593ecf3bf23b7df43077d7b4e7718dc20f.gz

commit 5b2c6f100cd659f4c01553081a8498ef75b3b1d4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:21:25 +0000

    GabbleMediaSession: simplify priv access
    
    
    20080722182125-53eee-41fdc9bb10193b54cd8887dda36fc357df3343f8.gz

commit 19995974e3637369c61376b0ff01fb20b2ded51a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:21:15 +0000

    GabbleIMChannel: simplify priv access
    
    
    20080722182115-53eee-2354f61ac070d8599593414218790a339ab4707f.gz

commit 6bc06ae45af4854a95b4ecbc0451b1bca73e0963
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:21:04 +0000

    GabbleDisco: simplify priv access
    
    
    20080722182104-53eee-a73f8eee6790136d42a99b19f76224b878aec7fd.gz

commit b7e0aebc4de7a8561d83a3d99420a715592775e9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:20:41 +0000

    GabbleConnectionManager: make priv consistent with those in telepathy-glib (it's actually unused)
    
    
    20080722182041-53eee-bf8ddf54d7777836ccae16dca8fefba3bf40c627.gz

commit c8ee20f99218031b87f367bbe8f728cfba3d9587
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:20:27 +0000

    GabbleBytestreamMuc: simplify priv access
    
    
    20080722182027-53eee-e5e00aeb768f1598d943cd424ba5a97a8acdb117.gz

commit c5a632925933d94ff1ec044cc16c20f4d837609d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:20:12 +0000

    _GabbleBytestreamIBB: simplify priv access
    
    
    20080722182012-53eee-423530bc257586ba51e59eae7cb4b4c210a7f7df.gz

commit 0f4e31da16e59bd2fb5699e8029a31357635d183
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:19:47 +0000

    GabbleBytestreamFactoryPrivate: simplify priv access
    
    
    20080722181947-53eee-18343458e42b388485fe036a6a3c943f99d9f575.gz

commit adbcc4797f5154b73fdf6111746b542d3156d13c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 18:05:16 +0000

    GabbleConnection: simplify access to the priv pointer
    
    
    20080722180516-53eee-74e6b2f58ab322232d344b698f0e50c6f03828f6.gz

commit 2a4601dfdc15f065f1a8192286ca9ba5b9a76ea7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 17:06:53 +0000

    Tubes: use telepathy-glib GTypes
    
    
    20080722170653-53eee-dbd53c8e3d0be80713f0d396eb40e39f90903fbd.gz

commit 890b753a3912c3bdbaa05ede06b6310486d12c42
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 17:06:40 +0000

    conn-aliasing: use telepathy-glib GTypes
    
    
    20080722170640-53eee-93fe19d084c5f91e66cadee37a1630d18944a270.gz

commit f7cb58b861e73e607bece8a1838306c9acf9ce70
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-23 10:52:07 +0000

    test-avatar-tokens.py: port to new test API
    
    
    20080723105207-c9803-e8e10e8d743f707c579da4b2e888fa7186bfdadd.gz

commit 58940d7213187cc59ef717ad27a5b439a5cf44dd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:56:22 +0000

    GabbleConnection: use telepathy-glib GTypes here too
    
    
    20080722165622-53eee-51b258cf4e6049e6a069a83186d51b93de32f2c1.gz

commit 473101377f83adf04ab44555e28ff99c88f27a13
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:56:02 +0000

    roster/ tests: use presence_type= to expect only those presence messages
    
    
    20080722165602-53eee-d390ff7bc107aa2be000da921b06809b9445484c.gz

commit d85026e9eff475af83cd5066a1cfa9fe3f3e1819
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 16:55:44 +0000

    roster/ tests: use "while True" instead of "while 1"
    
    
    20080722165544-53eee-2f0c8bc72b10ad0c5e7eff6bf7d5df912a78cd36.gz

commit 555e7a648079cac882b7616e10445ac4841f3aec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 11:13:22 +0000

    Port roster/test-google-roster.py to new API
    
    
    20080722111322-53eee-3b77fc63cf7a15a5290dec06ad5dd220569dc46d.gz

commit 075588b4db85333eb819461f647fbfc71671112d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 10:52:00 +0000

    roster/test-roster-subscribe.py: port to new test API
    
    
    20080722105200-53eee-2645bbffa9d50db63c82843d396def8011c375d1.gz

commit db1f496a17beea5f4aacd98de8cd1c2931d24835
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-22 10:42:08 +0000

    Twisted tests: stop using ProxyObject._named_service, it isn't API and never has been
    
    
    20080722104208-53eee-3d2d7e4231a1066a4bcce599dc86ba31f9790a95.gz

commit 20eaf438297bc74ec3dc7973634ae8174e889063
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 18:59:56 +0000

    GabbleMediaStream: use telepathy-glib GTypes
    
    
    20080721185956-53eee-3a181ee4a075ee101d3b67a5550193908a616363.gz

commit 943f04e26381be64cf15ec6756354af97520e3d5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 18:59:46 +0000

    GabbleMediaChannel: now that we need a new telepathy-glib anyway, use the telepathy-glib GTypes
    
    
    20080721185946-53eee-c3f3a216585ab652629862f0e325c64e3f1a99bf.gz

commit f3cccbe84296054f3e20ab24a39939e1a6e2160b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 18:59:31 +0000

    GabbleRoomlistChannel: use telepathy-glib's GTypes
    
    
    20080721185931-53eee-90e70f848ad187d55ac3fa62aadd53c3ab45e33e.gz

commit 1735866963bf42394a001cae00fd390ae147ebbf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 17:42:58 +0000

    muc/test-muc-invitation.py: port to new test API
    
    
    20080721174258-53eee-30c366b8b74f1b6a916120c14bbafc92b036a066.gz

commit e2938d8c746c858cac41220e974196e27317b236
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 17:42:28 +0000

    olpc/olpc-muc-invitation.py: avoid a race (stream presence vs AddMembers returning)
    
    
    20080721174228-53eee-de320e8ee08ed102e7c228f76090990e051d66dd.gz

commit 618c1927d8b3609c174328f4885ee967641dc312
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-21 18:09:29 +0000

    remove unused inclusions of extensions.h
    
    
    20080721180929-c9803-e028818d0dd73c5095a88ee80bc0d97a4dba0056.gz

commit 05c25ece947c09a92b952d788e379566ad987079
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-21 18:06:24 +0000

    tidy up libc/glib includes
    
    
    20080721180624-c9803-3bdb4a3eabe9b65b5ad3d11f48dcbefde393a7c9.gz

commit 6bf0f9c2a71e802416b69a6e8d728298596a510c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-21 18:03:37 +0000

    tidy up include style
    
    
    20080721180337-c9803-09001e2492d16522e85e4d9514462a24cd34adff.gz

commit fdebf8dbb94b05dbde1f735377c67262210e7341
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 19:56:30 +0000

    ignore .loT files, whatever they are
    
    
    20080714195630-c9803-cdb69ed122f9c42a859a7682bbeac6f15e2dc756.gz

commit 354336a032acfe8cc0680691daf27d2d63671d50
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-21 17:17:04 +0000

    touch signals-marshal.list if it's already up to date, so make doesn't try to build it again
    
    
    20080721171704-c9803-fca76a0fe73ac65ae261ff1e64bcd64a47cfef4a.gz

commit 001cf18903dbacc79f373eb65eade826e506ff81
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-21 16:55:14 +0000

    debug.h: hoist glib include above G_BEGIN_DECLS
    
    
    20080721165514-c9803-4a4b62710c1c40b7ec05d9e42be685bd2d8bfcd8.gz

commit 30939bf9f8557d8314cb13f23785bd98e58e40b3
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-21 16:54:05 +0000

    types.h: include "config.h" not <config.h>
    
    
    20080721165405-c9803-1e40a4072c63f8d7186f14325cef68c3106ac483.gz

commit 79c0c66091bcc6138147e6db047b699a9b15ab0f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-21 16:52:45 +0000

    make tests include config.h too
    
    
    20080721165245-c9803-a6eb9391da3cc07b2aee0953fde816df974554a7.gz

commit b078600fc6c4fc95f60af2746360493781d93fd6
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-21 16:39:56 +0000

    remove debug prints from handle test
    
    
    20080721163956-c9803-7bd00aaa6b079a9ffb7c0b226dfbdb7d6b2b2368.gz

commit e545b1a388c32e4f680e004327cda404f3fa7728
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-21 15:29:26 +0000

    make config.h the first include in every file
    
    
    20080721152926-c9803-6bb7abb0109a14e3b908ed2c9b6810a4b2606a28.gz

commit b2137de386b0559a312e71d22f97ba49c57ce878
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-21 16:27:25 +0000

    define G_PARAM_STATIC_STRINGS if not already defined
    
    
    20080721162725-c9803-113db2dc1a2a81302ab7cd4b16663aba47765e94.gz

commit 57b757f7026a753d0c8634cf096510fd27c37fff
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-18 17:52:05 +0000

    connection.c: tidy up connection property declarations
    
    
    20080718175205-c9803-5960a78791c1ba31d32f6dfc1a067468d8e9a6e5.gz

commit 23510718b210725368be1b3fb7e157f317de60fa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 14:58:11 +0000

    text/initiate.py: new test to check that we can initiate 1-1 text channels
    
    
    20080721145811-53eee-3050c4d6d624e4236c3b654f6edad81a80e940f5.gz

commit 4830f1673ebaeeca83e3f64ab9705f19234623fc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 14:54:41 +0000

    test-text.py: exercise InitiatorHandle, InitiatorID
    
    
    20080721145441-53eee-53fb25fe7a0cc011fb749bd009e7f77279627685.gz

commit c7e24b901effe1c07d2ce20eae18d197c26ba6fa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 14:54:24 +0000

    test-text.py: assert that suppress_handler is False on incoming channels
    
    
    20080721145424-53eee-9bb212982cc0967c1cc8bf7ebcaf8b00186d648f.gz

commit 5f66e4b5949404a8cd9a0667206de3665f3bcd69
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 14:54:07 +0000

    test-text.py: verify that it all works even if the initiator sends us their full-JID
    
    
    20080721145407-53eee-fd74fd948cdce13b2e942b3640328d4cf6b1223b.gz

commit d33021aa9d3266eb4bab9d94e12a8866ec80187d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 14:40:30 +0000

    GabbleImFactory: pass initiator-handle when creating a GabbleIMChannel
    
    
    20080721144030-53eee-d0109ffd6e83ea847bc9f36d5433a87130391d46.gz

commit fcb842c4007b305fb2f13941c06c5fa095864eb2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 14:40:15 +0000

    GabbleImFactory: keep track of who initiated the channel
    
    
    20080721144015-53eee-2e3a577566a80fb80fc276f0cd9a0491d0c21d6e.gz

commit bee48396916e51780df10a6e05c6f8c35c306148
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 14:39:28 +0000

    GabbleIMChannel: track initiator handle
    
    
    20080721143928-53eee-be3fe21cbaada851736ea69b9e9cf02b2eaec806.gz

commit e8f7513d5c8f48cdfe0b59270a597f46057c38e9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 14:37:36 +0000

    Rewrap long line
    
    
    20080721143736-53eee-c3343d52721fab2c5836079ad7959fd43cd21edb.gz

commit e0ac677b45ff093020e894a67138e29d74308963
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 14:27:03 +0000

    test-text.py: Exercise TargetID property
    
    
    20080721142703-53eee-ca49e614e6191561bcce46258f7a0df2641a0d98.gz

commit 6958a73d328868cc0664b535eb7007347f1363f2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 14:25:55 +0000

    GabbleIMChannel: implement FUTURE.TargetID
    
    
    20080721142555-53eee-ae5df80639903816accca537dbe198c86078914e.gz

commit e77de399f98a9a50d52b159ae607bbaf26c3166b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 14:04:30 +0000

    Add Channel.FUTURE pseudo-interface as an extension
    
    
    20080721140430-53eee-9317d73921af9f39c8245af8dbb61a2e070bde5d.gz

commit 4178356186d5dac1bee2a718c5148cd6ab4ea397
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 14:07:10 +0000

    GabbleIMChannel: order includes according to coding style
    
    
    20080721140710-53eee-4a2554192e218e7eee2c4ee629583dfa20bae879.gz

commit 49ef7fba21616512455d295a2c041f7256d96757
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 14:03:07 +0000

    Update doc-generator.xsl from telepathy-spec HEAD
    
    
    20080721140307-53eee-6a0557489561b371e7623dd2c73fe27994bcb5e8.gz

commit 62f87b469af61168bebd5e128784140042393863
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 13:58:58 +0000

    Update code-gen tools from telepathy-glib 0.7.12
    
    
    20080721135858-53eee-e543608d57731a947b8617c9446e02daa8ea6f22.gz

commit f6541affe996d10bd1c76dde014a7d3819287f77
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 13:52:56 +0000

    Update xep.xsl to r2040
    
    
    20080721135256-53eee-dab1d1a9b1f6239412527bd636530192b80cff9b.gz

commit 63f27a9ba37491d36ff317fba450125828742ff7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 13:29:56 +0000

    Remove tab in check-c-style.sh
    
    
    20080721132956-53eee-7fd748c43c6a9df70f0e6441c3b821e2fe8e1b87.gz

commit c4f6ec54140508cef132c7796c147bee4333dfa6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 13:18:54 +0000

    check-c-style.sh: be strict about formatting of casts and pointer types
    
    
    20080721131854-53eee-9eb995b5a0a4e610900b5c0201169a7a9b3312ec.gz

commit dfa7249418c6d1174330f26b79b6d99c08451891
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 13:16:28 +0000

    More coding style nits re: casts
    
    
    20080721131628-53eee-79be88afb4a9d9d84cb424e389a17586db8ca1e0.gz

commit 76ecac4aa6cea656da0e0807ac93eced1d145e84
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 13:16:06 +0000

    tubes-channel: coding style nits: casts should look like (TpBaseConnection *) priv->conn
    
    
    20080721131606-53eee-5c55fcbe2e96bc437f2f27c19e7a0158d0d19e31.gz

commit cb193702f1827d8713b7fcfdbe04c1cdf1686aaf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-21 13:15:02 +0000

    conn-olpc.c: make all casts and pointer types look like (foo *) bar
    
    
    20080721131502-53eee-0325f0e19eb16a9732da7c67331663840eda48ed.gz

commit a2b83ed8dcee98f3570d9cec4fc7bc93b85e17a5
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-18 20:28:14 +0000

    enure pointer casts have a space after them
    
    
    20080718202814-c9803-6a9dba64677bfbca45459e03a3acaf09268fe050.gz

commit b45ef9692a6df1704e7477204d5b074845fbdc45
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 12:52:23 +0000

    rename test-gabble-presence to test-presence
    
    
    20080714125223-c9803-e14004ce94fe1ae7642907e0f5523a5904bb2186.gz

commit 010714206d5ca0043d68c40325cf4e3f5284637c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 12:50:15 +0000

    tidy up test includes
    
    
    20080714125015-c9803-acacc316904effa3073fe1942a4f23f3f739a5ee.gz

commit 87ffb56ca54e071fd8af747139885f20e9b93257
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 12:42:53 +0000

    src/Makefile.am: put source file lists in correct order
    
    
    20080714124253-c9803-2432c6069041208ff38bcef2ae9eb4ed168fd1a2.gz

commit cb8ce8ef4f10c3e1f9fbfc635dfc4fe32b4a7d69
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 12:07:12 +0000

    remove gabble- prefix from generated gabble-media-session-enumtypes.*
    
    
    20080714120712-c9803-3263415bf3dd0bdfe334910e30a1e06e40ec29e8.gz

commit 677f21c6ce21bc0bff502614ef9825e2790d5211
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:38 +0000

    rename gabble-roster-channel.c to roster-channel.c
    
    
    20080714115838-c9803-b82f2f0fb4634f9430ca1a81b5ed7e1ea246ccfd.gz

commit 93db86c0e86a6a778f1c08f04c79ac40013bd819
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:38 +0000

    rename gabble-roomlist-channel.c to roomlist-channel.c
    
    
    20080714115838-c9803-3f3f0e9f6e32da66c47c29b78ab8ac859df17efd.gz

commit 79b340890417610ccc42732cd1e95be2e7e73648
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:37 +0000

    rename gabble-register.c to register.c
    
    
    20080714115837-c9803-b36112555b3f4618ceec8c6facea1d2dd835a993.gz

commit 38a841a1fed7acbcaeef29221b458e6ee0384dd2
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:36 +0000

    rename gabble-muc-channel.c to muc-channel.c
    
    
    20080714115836-c9803-8c51126e67012de333917560299d2b0372e1f25d.gz

commit 6eb32dd7a7472994f3124153a30db358e6b64d9b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:35 +0000

    rename gabble-media-stream.c to media-stream.c
    
    
    20080714115835-c9803-0a4791ee635a50c65a7370d74724441b91f78bcf.gz

commit 8f02ee0ab930b1c0876f1db7da91f97418d51d48
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:35 +0000

    rename gabble-media-session.c to media-session.c
    
    
    20080714115835-c9803-d8d7f9467a1da82d7b731f9201be900ae78bbfa5.gz

commit c7acc8649513236ff0050e823e6d4def22237fc3
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:34 +0000

    rename gabble-media-channel.c to media-channel.c
    
    
    20080714115834-c9803-d4d622d4f2e0b8b2f97748166a4961b5e1d36518.gz

commit 6416e1b7c8b34c33c2f71dc41a0a7bd44acabc01
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:32 +0000

    rename gabble-im-channel.c to im-channel.c
    
    
    20080714115832-c9803-18b8ff93d77e0120c1e1a49f86cfa32f6f3ce936.gz

commit fb89d551869abc6140bdb8b3207635bf790e7cfe
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:32 +0000

    rename gabble-error.c to error.c
    
    
    20080714115832-c9803-6977c5b97dc072f856d7b4b67f1f14852a888761.gz

commit e3e5c6883af4a502171a14bc4ec9546dcff0f9fd
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:31 +0000

    rename gabble-connection-manager.c to connection-manager.c
    
    
    20080714115831-c9803-0d202f26e1a036bf7803eaa2bc8cbc9855f5c1ca.gz

commit a41a86c1699cd9cf7a30f75850464ecee80810cb
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:30 +0000

    rename gabble-connection.c to connection.c
    
    
    20080714115830-c9803-c7efbff10cfc04b5d49398ae335e4b27dc2c122f.gz

commit 8cf74ca202fe1c0f9a8d08060a789d1096cec7ac
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:30 +0000

    rename gabble-types.h to types.h
    
    
    20080714115830-c9803-7d733e4f99dd33ecb482dd00188ccb38f34c14a6.gz

commit 3b35d718e9b761423cf89d3e70890c8fc7ee3e45
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:29 +0000

    rename gabble-roster-channel.h to roster-channel.h
    
    
    20080714115829-c9803-a8a686a809ace1f96474510cc4187d6943fac4e5.gz

commit 9102c2b2c78e2b038e021a89485f13a3ca3ecc8b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:27 +0000

    rename gabble-roomlist-channel.h to roomlist-channel.h
    
    
    20080714115827-c9803-a9a7f479bf6a2c1596189c64855d1e2d3cc94ba4.gz

commit d0f1f89df2106a0e979adec10c133c67653fee56
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:25 +0000

    rename gabble-register.h to register.h
    
    
    20080714115825-c9803-37d40d361f6b9d2bcbfd379dce8fee1aa76ecdf7.gz

commit 5d753295b7f1a3b2d8677703cdd1359bfe80735e
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:22 +0000

    rename gabble-muc-channel.h to muc-channel.h
    
    
    20080714115822-c9803-3b750d4b9607d8551f84e2d6a41a34aaaaf09b63.gz

commit a8909febc8e6cc741e5e14355367c03b23e6667d
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:20 +0000

    rename gabble-media-stream.h to media-stream.h
    
    
    20080714115820-c9803-849df37880f87f24356333f7e6f1be9ed5f89314.gz

commit 5fdd0601ef6ede4e6fe6980f483f977f421802e7
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:17 +0000

    rename gabble-media-session.h to media-session.h
    
    
    20080714115817-c9803-0ea97d887f52df557246d41914d4b7a2988df9f5.gz

commit 3b42aabd179a41be50959ba1fd5bd9bab40d7113
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:14 +0000

    rename gabble-media-channel.h to media-channel.h
    
    
    20080714115814-c9803-8e596dfd10670fcf633db3d77757a648771d0bb8.gz

commit 73f3a3fa466ff815a1b71bc59e8149101e8688e7
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:11 +0000

    rename gabble-im-channel.h to im-channel.h
    
    
    20080714115811-c9803-008bc2f72851b17888dd9391e61d02ceb43af6a5.gz

commit 0b99e464763287602707653ca9e9a21ce1b3bf88
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:09 +0000

    rename gabble-error.h to error.h
    
    
    20080714115809-c9803-b865ce9eca9b78a5e776e544677e40490d7d225d.gz

commit 930dc84252bce272aab8b26d29130b9f3a83400e
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:06 +0000

    rename gabble-connection-manager.h to connection-manager.h
    
    
    20080714115806-c9803-f201bea0260e5e0dd87ce25367288db3358ec090.gz

commit 6190c56cbdcc78389ea96c5d48ec4585ba0140e9
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-07-14 11:58:04 +0000

    rename gabble-connection.h to connection.h
    
    
    20080714115804-c9803-1409d186eb2b363c7dab712f3fc046972cdf7c7d.gz

commit 7f50cae11164d28fbf527e98bd84a1b2e38a0e95
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-01 18:30:20 +0000

    test-muc.py: remove redundant call to dbus.SessionBus
    
    
    20080701183020-53eee-5e7e5663527f930bd96d9162f8518c1d32329e41.gz

commit ba6fe9b1fc30a794c1f0f93d757f42d1b496e2a1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-01 18:29:58 +0000

    test-muc.py: unwrap lines that used to be too long, but are now < 80 characters
    
    
    20080701182958-53eee-4679e874888212527fdc431270a7e94ae14b94e5.gz

commit c73b34a20161f64e8ce252a4b2517b837c1093b2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-07-01 18:29:40 +0000

    Add _gen/gtypes-body.h to CLEANFILES (indirectly), fixing distcheck
    
    
    20080701182940-53eee-493d0541a599392e2f93c032a1885b7f6e0326f6.gz

commit b5d082585b4c30365a0c6a6c78b16c643f7b8989
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 16:41:43 +0000

    Add a trivial test for RoomList channels (it doesn't actually list any rooms, just exercises the properties)
    
    
    20080606164143-53eee-a6e59f3f3610477c2f31f657442103bb0b0416da.gz

commit 44873718217fc97089a8d727e0150388efd6a4a4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 16:41:43 +0000

    Add a trivial test for RoomList channels (it doesn't actually list any rooms, just exercises the properties)
    
    
    20080606164143-53eee-a6e59f3f3610477c2f31f657442103bb0b0416da.gz

commit 643642f85ed03754599199828887314aa7af7f24
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 16:40:15 +0000

    GabbleRoomlistChannel: actually implement D-Bus properties
    
    
    20080606164015-53eee-48b291c6fd9b94220dfa4c8fbc3ad19df527a965.gz

commit 9d445a10658fd0d1c836620818f5beb1b33468a0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 16:40:15 +0000

    GabbleRoomlistChannel: actually implement D-Bus properties
    
    
    20080606164015-53eee-48b291c6fd9b94220dfa4c8fbc3ad19df527a965.gz

commit ad80c9514f913ab64c4ca10f50bf96decd6eb9e6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 16:17:36 +0000

    GabbleRoomlistChannel: add RoomList.Server D-Bus property
    
    
    20080606161736-53eee-39edd911f3b666068f537a04bb3d7f20eaf9fe9b.gz

commit 6d90e1c6accb300b07b46515f0877202514e3870
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 16:17:36 +0000

    GabbleRoomlistChannel: add RoomList.Server D-Bus property
    
    
    20080606161736-53eee-39edd911f3b666068f537a04bb3d7f20eaf9fe9b.gz

commit a99ca1624d19a7f7c135ec9689acd49039283bfd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 16:16:54 +0000

    test-muc.py: port to new tests API
    
    
    20080606161654-53eee-de2511da09bbb0f5509ae8a460e0d02549c1bdf7.gz

commit 3c7b08b97bc98e40f7b64cede3cba8ecbb5bcf84
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 16:16:54 +0000

    test-muc.py: port to new tests API
    
    
    20080606161654-53eee-de2511da09bbb0f5509ae8a460e0d02549c1bdf7.gz

commit f67217d174371660826d9ac94dc3ccdcfa4a907a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 16:06:18 +0000

    GabbleRoomlistChannel: make the conference-server property readable
    
    
    20080606160618-53eee-b3b359555860741c3ec8ba458d455b57e5ed6b94.gz

commit 84af3040c9f65fadc55d1c744e0b38a9ca9bc351
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 16:06:18 +0000

    GabbleRoomlistChannel: make the conference-server property readable
    
    
    20080606160618-53eee-b3b359555860741c3ec8ba458d455b57e5ed6b94.gz

commit 5f4ebaf3b4179f44c0ff0c4d3fb8c1331e19faed
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 13:01:38 +0000

    test-si-tubes.py: exercise Channel properties in 1-1 Tubes channels
    
    
    20080606130138-53eee-b2c461ab7577974394d549bea96ff927a882478a.gz

commit befd85fd7ce63b6fb1701ef0a58fed21a9a2d147
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 13:01:38 +0000

    test-si-tubes.py: exercise Channel properties in 1-1 Tubes channels
    
    
    20080606130138-53eee-b2c461ab7577974394d549bea96ff927a882478a.gz

commit 8c9026ae7daa47b7eea9e2c30b907a821529e8b6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 13:01:33 +0000

    test-muc-offer-dbus-tube.py: exercise Channel, Group properties in MUC Tubes channels
    
    
    20080606130133-53eee-ecc9962472144399f47ad9586888191b0a8dad72.gz

commit bcc13fdb0fd812011555029d037cbcee4903ff02
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 13:01:33 +0000

    test-muc-offer-dbus-tube.py: exercise Channel, Group properties in MUC Tubes channels
    
    
    20080606130133-53eee-ecc9962472144399f47ad9586888191b0a8dad72.gz

commit 4d01aec70f35c091bcfd60b11a7d0b521f64a4f8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 13:00:47 +0000

    test-text: exercise Channel properties in IM channels
    
    
    20080606130047-53eee-1fc1af6ac03989529903fb9d3264b0a7902d9bdc.gz

commit 6f4fd479c295ffc2a8d352d9724d80d151801aa3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 13:00:47 +0000

    test-text: exercise Channel properties in IM channels
    
    
    20080606130047-53eee-1fc1af6ac03989529903fb9d3264b0a7902d9bdc.gz

commit 38f082028fe6dc288f0162af295395c282d25e16
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 13:00:20 +0000

    GabbleTubesChannel: implement spec 0.17.6 and 0.17.7 Group and Channel properties
    
    
    20080606130020-53eee-d345304b31ccee221f3239a77a4818785cf5a917.gz

commit cc314bad317fb76fdc38fe43f583a3490620e78b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 13:00:20 +0000

    GabbleTubesChannel: implement spec 0.17.6 and 0.17.7 Group and Channel properties
    
    
    20080606130020-53eee-d345304b31ccee221f3239a77a4818785cf5a917.gz

commit 29f5f4fa775825279cf382c373ba02b503e30185
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 13:00:04 +0000

    GabbleRoomlistChannel: implement spec 0.17.7 properties
    
    
    20080606130004-53eee-db0b72516b2657b1545cb899233e9ffe94150a7a.gz

commit f2570ef31f24e6c51170e3d3f09728f603590adc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 13:00:04 +0000

    GabbleRoomlistChannel: implement spec 0.17.7 properties
    
    
    20080606130004-53eee-db0b72516b2657b1545cb899233e9ffe94150a7a.gz

commit 11c5b797932b90f68e433117a4e5e900d9f96c22
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 12:59:45 +0000

    GabbleIMChannel: implement spec 0.17.7 properties
    
    
    20080606125945-53eee-6152c604702c615ec52d40169919240661796bc5.gz

commit 38e8c16e15dd09936517bffa468c6f08ae3b1800
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 12:59:45 +0000

    GabbleIMChannel: implement spec 0.17.7 properties
    
    
    20080606125945-53eee-6152c604702c615ec52d40169919240661796bc5.gz

commit 9a780e3ac68feb203b7dd0af603b6b966187ca92
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 11:28:31 +0000

    GabbleRoomlistChannel: re-order #includes
    
    
    20080606112831-53eee-ddbf580369f5d3ffebdd987c7a8000724c45fcc0.gz

commit dfffa3a6cad48013dae24f6d15e9cd1bd9bb4065
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 11:28:31 +0000

    GabbleRoomlistChannel: re-order #includes
    
    
    20080606112831-53eee-ddbf580369f5d3ffebdd987c7a8000724c45fcc0.gz

commit d1c9467640e5cde9dfc73ac96d3f859a136a7ba6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 11:00:12 +0000

    test-roster: exercise D-Bus properties in a basic way
    
    
    20080606110012-53eee-96146f8747c177576b02da653b789faa11512e63.gz

commit b1814a40f972bfe00f7ba52fb97cfcb380a274d1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 11:00:12 +0000

    test-roster: exercise D-Bus properties in a basic way
    
    
    20080606110012-53eee-96146f8747c177576b02da653b789faa11512e63.gz

commit bf1a514759b5101f45fe1d87dab204b07ea99857
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 10:59:48 +0000

    Exercise properties in a basic way in test-outgoing-call.py
    
    
    20080606105948-53eee-4d68c8624240e7345d031a5c72f0fade1e29fd43.gz

commit c830bead87cd3b4e81687c24186bc0413290133f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 10:59:48 +0000

    Exercise properties in a basic way in test-outgoing-call.py
    
    
    20080606105948-53eee-4d68c8624240e7345d031a5c72f0fade1e29fd43.gz

commit 10dbbe5a256e51a4f10d8c78fd31687ee87d5305
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 10:41:13 +0000

    GabbleRosterChannel: implement basic Channel properties from spec 0.17.7
    
    
    20080606104113-53eee-bed0faa5815d1bc0a47757f01bf67792bc7156ec.gz

commit 8facd4dd54078bf2363bd58977162923d6e30443
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 10:41:13 +0000

    GabbleRosterChannel: implement basic Channel properties from spec 0.17.7
    
    
    20080606104113-53eee-bed0faa5815d1bc0a47757f01bf67792bc7156ec.gz

commit 8b08206915de5faaecf68d59b820fc8eb9076224
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 10:40:35 +0000

    GabbleMediaChannel: implement basic Channel properties from spec 0.17.7
    
    
    20080606104035-53eee-f8539af8433ec914728d008acc760019856f8001.gz

commit 1dc0c71878421a7ff8b096f3cccca34c3db4188e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 10:40:35 +0000

    GabbleMediaChannel: implement basic Channel properties from spec 0.17.7
    
    
    20080606104035-53eee-f8539af8433ec914728d008acc760019856f8001.gz

commit 9a2cb2fd15b000a560b77daf2887c62d7321a1b7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 10:29:15 +0000

    GabbleRoomlistChannel: re-indent property param specs and give them static strings
    
    
    20080606102915-53eee-ba51379f5d858662d632c6595f11f81e67214fa9.gz

commit 675360caf05f9091466ab86116fb41d65d3acaae
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 10:29:15 +0000

    GabbleRoomlistChannel: re-indent property param specs and give them static strings
    
    
    20080606102915-53eee-ba51379f5d858662d632c6595f11f81e67214fa9.gz

commit 4cccd27c2011202818da29e9dee57cf7ae7d07d7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 10:28:16 +0000

    GabbleIMChannel: reindent property param-spec and give it static strings
    
    
    20080606102816-53eee-afd1864f98f6ed2e1d0a221d042e8a7b29844564.gz

commit 6eb2626bfc1c829a18b7d765c9240a7c16b1bdc4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 10:28:16 +0000

    GabbleIMChannel: reindent property param-spec and give it static strings
    
    
    20080606102816-53eee-afd1864f98f6ed2e1d0a221d042e8a7b29844564.gz

commit 6e0846c0894826e49b1a255a6b0592fe447040c2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 10:27:31 +0000

    GabbleRosterChannel: reindent property param-spec and give it static nick, name, blurb
    
    
    20080606102731-53eee-5b1278fe8be4c68e10897b086804b6e00ba6c1cf.gz

commit 41606e6662105ca281229b2e24abd903a3c36163
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 10:27:31 +0000

    GabbleRosterChannel: reindent property param-spec and give it static nick, name, blurb
    
    
    20080606102731-53eee-5b1278fe8be4c68e10897b086804b6e00ba6c1cf.gz

commit 5f71b655a845d6f07fb98be98401549747e236f2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 10:26:31 +0000

    GabbleMediaChannel: reindent property param-specs and consistently give them static nick|name|blurb
    
    
    20080606102631-53eee-e5c63f352fe3714b637ecea3f97cceb4e2f25ae3.gz

commit 03219a67a4cba3c3297ae59e3072f7c1b0b67184
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 10:26:31 +0000

    GabbleMediaChannel: reindent property param-specs and consistently give them static nick|name|blurb
    
    
    20080606102631-53eee-e5c63f352fe3714b637ecea3f97cceb4e2f25ae3.gz

commit 8707836d8df21e23383c84e12026113a605a2456
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 10:21:03 +0000

    GabbleTubesChannel: expose interfaces as GObject property
    
    
    20080606102103-53eee-7fbab6bb06b034637522e614a206876cd1d27f36.gz

commit bdbe7035ce2c709971e4205f101d0de682fc7b80
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 10:21:03 +0000

    GabbleTubesChannel: expose interfaces as GObject property
    
    
    20080606102103-53eee-7fbab6bb06b034637522e614a206876cd1d27f36.gz

commit 3fc76f5e7ff2f8980a2cf63516eb546731890a8f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 10:12:20 +0000

    GabbleRoomlistChannel: expose interfaces as a GObject property
    
    
    20080606101220-53eee-3ed30b72e6989b82cd8a3e4560a4ba18c70421de.gz

commit 555a9522b28af99a7c7ca31ccb69a447eb8ffc63
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 10:12:20 +0000

    GabbleRoomlistChannel: expose interfaces as a GObject property
    
    
    20080606101220-53eee-3ed30b72e6989b82cd8a3e4560a4ba18c70421de.gz

commit 62da6f8ee4f91af6cb1d996822cd510f7778f2c4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 10:10:21 +0000

    GabbleIMChannel: expose interfaces as a GObject property
    
    
    20080606101021-53eee-52193b96b158e1d1780ed423552816d88fa352f3.gz

commit d102aca2d47b26d35d593a656d69123a406f506a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 10:10:21 +0000

    GabbleIMChannel: expose interfaces as a GObject property
    
    
    20080606101021-53eee-52193b96b158e1d1780ed423552816d88fa352f3.gz

commit 670e3a5bef46491df231f8152aba94f41d6da974
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 10:02:07 +0000

    GabbleRosterChannel: expose interfaces as a GObject property
    
    
    20080606100207-53eee-0c7d0cd74be111bb23d765a4ea9322ca7f8a5570.gz

commit b279e93751299597aefc6b94949ed2beddb9431d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 10:02:07 +0000

    GabbleRosterChannel: expose interfaces as a GObject property
    
    
    20080606100207-53eee-0c7d0cd74be111bb23d765a4ea9322ca7f8a5570.gz

commit ec811965de4a0caaa40ca00897d8cd524fe65200
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 09:57:32 +0000

    GabbleMediaChannel: expose 'interfaces' as a GObject property
    
    
    20080606095732-53eee-d5afcc8e685eaf715b1cfaaa45be3f66805a88cc.gz

commit 1b0f4abce6f9621e16df5e8b0cbc20a116851a78
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 09:57:32 +0000

    GabbleMediaChannel: expose 'interfaces' as a GObject property
    
    
    20080606095732-53eee-d5afcc8e685eaf715b1cfaaa45be3f66805a88cc.gz

commit 8fc5b21cdab69e9f73aaf2b7af3c12a0bbec84d0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 09:37:19 +0000

    test-muc: exercise Properties
    
    
    20080606093719-53eee-abc9a299db26f55f0eb539ef12f8371facec5eb6.gz

commit 0086d7ce9fb5e900b4baba1ad830c6e212a0e14e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 09:37:19 +0000

    test-muc: exercise Properties
    
    
    20080606093719-53eee-abc9a299db26f55f0eb539ef12f8371facec5eb6.gz

commit 622b310953033e5afab32fdce210952ec890a9da
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 08:57:24 +0000

    GabbleMucChannel: implement basic Channel properties from spec 0.17.7
    
    
    20080606085724-53eee-f8c7307a60acdaadce5e15bd8ccdb0269f3a958e.gz

commit 43a0249fc4a58637aa783fd840d912f947ba67c8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 08:57:24 +0000

    GabbleMucChannel: implement basic Channel properties from spec 0.17.7
    
    
    20080606085724-53eee-f8c7307a60acdaadce5e15bd8ccdb0269f3a958e.gz

commit f0ff37f857a5d1d38dc46e031edfd931572f621c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 08:55:12 +0000

    GabbleMucChannel: consistently give all properties static name, nick and blurb flags
    
    
    20080606085512-53eee-472543591cd05162df6eb5aceb98bcca6a288c61.gz

commit 2054e5a2f1032b22b2efc50d3788706541eb2927
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 08:55:12 +0000

    GabbleMucChannel: consistently give all properties static name, nick and blurb flags
    
    
    20080606085512-53eee-472543591cd05162df6eb5aceb98bcca6a288c61.gz

commit 8650cc4c1211c6fba133d972b27dcce992e28d2f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 08:54:01 +0000

    GabbleMucChannel: make 'interfaces' a GObject property
    
    
    20080606085401-53eee-03bcb054a8902e4d26608193a434d340bf97df4a.gz

commit f2d10b0a925c4dadb4ea49b8383e8e042d6d5525
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-01 09:17:02 +0000

    servicetest.py: add the interface to dbus-signal events
    
    
    20080701091702-7fe3f-fc5a552110f8d606e8d4389b7ed8e4962b950a0a.gz

commit f0c8ea2710eba0e45cfbf080b2119e9608e9ff94
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 08:54:01 +0000

    GabbleMucChannel: make 'interfaces' a GObject property
    
    
    20080606085401-53eee-03bcb054a8902e4d26608193a434d340bf97df4a.gz

commit 7439bbf2b569bacf78408dfd44759e9d2e16c2ae
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-07-01 09:17:02 +0000

    servicetest.py: add the interface to dbus-signal events
    
    
    20080701091702-7fe3f-fc5a552110f8d606e8d4389b7ed8e4962b950a0a.gz

commit e84f0be0e7d57dee11f5c9e7c615a9c9fac95320
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-28 18:26:00 +0000

    Remove some debugs that were added in the xep0115 branch
    
    
    20080528182600-a41c0-3712ed0e338b725b16bb3b7484dfe958bdbe9998.gz

commit eff7f4459fadb407f9d1224fc9e74e957ad12028
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-09 13:31:20 +0000

    Actually add GLib interfaces generator XSL
    
    
    20080609133120-53eee-e18006efcec630c20a1b64a317a5315ff8a397df.gz

commit fa58009de499700a0423bdc84788e30bc7476313
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-09 13:01:36 +0000

    extensions/: generate fully up-to-date extensions, including GTypes and interface quarks
    
    
    20080609130136-53eee-c51eb58a63073d91c1cc1917a5375a97028d1bc4.gz

commit 8fd2db0a831af0508f75c5fbfb30db3d879c0141
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-09 13:00:30 +0000

    tools: add glib-interfaces-*-generator.xsl
    
    
    20080609130030-53eee-a15c4f334681f602f1f1ce6a76b8a3cbad4123da.gz

commit f7aea199419923d99b87980ccac31731805985a4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-09 12:45:32 +0000

    Update libglibcodegen.py from telepathy-glib; add libtpcodegen (new dependency) and glib-gtypes-generator.py
    
    
    20080609124532-53eee-dc3c7a9e80b283f3710ec33984369af99f7a4a27.gz

commit c168c97a76f932276715dd301f36ccf6127e87e7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-09 12:41:50 +0000

    doc-generator.xsl: update from telepathy-glib
    
    
    20080609124150-53eee-f89242064de4ed92eee303e382dd5d62ea88be50.gz

commit 5e9706f997d23c9fa4c60385c1041ef3e6b9205a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 16:41:28 +0000

    _boring: add tests/twisted/gabbleconfig.py and telepathy-gabble-debug
    
    
    20080606164128-53eee-c615bf6f97d0bf31c20ea29fbfc2437a1f92653c.gz

commit e34168078042e7e1bcef926264c0174228b2f753
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 16:02:13 +0000

    Add a comment explaining what's going on with MUC joins if we don't get the name we asked for
    
    
    20080606160213-53eee-1c6f924c1e97037463559e4767b314fc97235d84.gz

commit 156027a00d9034e7a46d654c9516a491455eadb7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 15:01:07 +0000

    Require released version 0.7.10 of telepathy-glib
    
    
    20080606150107-53eee-a2061feea68d227eb230b9d422b41d6bfea5b658.gz

commit fcbe2030ace87e3d84bf60f650d18fe7e20f1103
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 10:23:31 +0000

    GabbleRosterChannel: remove pointless guard against multiple initialization - class_init() only runs once
    
    
    20080606102331-53eee-02262e45e03c4cf5cf80115aba0061cba415a186.gz

commit 41095cf28f55759345a8ab9a745ad96a433f2008
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 10:22:54 +0000

    GabbleMediaChannel: remove pointless guard against multiple initialization - class_init() only runs once
    
    
    20080606102254-53eee-ed136088bd743ad1d725a45ab9f726050d78a0e4.gz

commit 72b726702927d6e47aed772bef06e934f9d94bfc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 08:54:28 +0000

    GabbleMucChannel: remove pointless guard against multiple initialization - class_init can only run once anyway
    
    
    20080606085428-53eee-e082aa41c394246cfc57af7d678ed712638990f2.gz

commit 7a8095edfa76d367176d539b127b7005fb06780d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-28 18:26:00 +0000

    Remove some debugs that were added in the xep0115 branch
    
    
    20080528182600-a41c0-3712ed0e338b725b16bb3b7484dfe958bdbe9998.gz

commit 3841d5c2e092ae0b0685fc720febf780ce983b27
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-09 13:31:20 +0000

    Actually add GLib interfaces generator XSL
    
    
    20080609133120-53eee-e18006efcec630c20a1b64a317a5315ff8a397df.gz

commit 980c1d39e35230c69c7b84fc3f20151946700d47
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-09 13:01:36 +0000

    extensions/: generate fully up-to-date extensions, including GTypes and interface quarks
    
    
    20080609130136-53eee-c51eb58a63073d91c1cc1917a5375a97028d1bc4.gz

commit d4f50e66d02af95f35bc88e7d058302b82fb9ab5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-09 13:00:30 +0000

    tools: add glib-interfaces-*-generator.xsl
    
    
    20080609130030-53eee-a15c4f334681f602f1f1ce6a76b8a3cbad4123da.gz

commit fceb97bfdf6629dd70c372ef7d8bc0ddbe1c5295
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-09 12:45:32 +0000

    Update libglibcodegen.py from telepathy-glib; add libtpcodegen (new dependency) and glib-gtypes-generator.py
    
    
    20080609124532-53eee-dc3c7a9e80b283f3710ec33984369af99f7a4a27.gz

commit 66ff96aa629c4056ee30d8655bc523ded8603272
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-09 12:41:50 +0000

    doc-generator.xsl: update from telepathy-glib
    
    
    20080609124150-53eee-f89242064de4ed92eee303e382dd5d62ea88be50.gz

commit 532538695ae7c5f8e3ad0059cbcf2588787d5328
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 16:41:28 +0000

    _boring: add tests/twisted/gabbleconfig.py and telepathy-gabble-debug
    
    
    20080606164128-53eee-c615bf6f97d0bf31c20ea29fbfc2437a1f92653c.gz

commit 394713fd656055512991afd7faf77af84e655170
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 16:02:13 +0000

    Add a comment explaining what's going on with MUC joins if we don't get the name we asked for
    
    
    20080606160213-53eee-1c6f924c1e97037463559e4767b314fc97235d84.gz

commit 74ecb8e7850e854a050cf1eb04de12efb8c5ca87
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 15:01:07 +0000

    Require released version 0.7.10 of telepathy-glib
    
    
    20080606150107-53eee-a2061feea68d227eb230b9d422b41d6bfea5b658.gz

commit f251058fdd29f74e0289a666d2d3f6346226135e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 10:23:31 +0000

    GabbleRosterChannel: remove pointless guard against multiple initialization - class_init() only runs once
    
    
    20080606102331-53eee-02262e45e03c4cf5cf80115aba0061cba415a186.gz

commit db9178594dd39816504515617a05450d2174a075
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 10:22:54 +0000

    GabbleMediaChannel: remove pointless guard against multiple initialization - class_init() only runs once
    
    
    20080606102254-53eee-ed136088bd743ad1d725a45ab9f726050d78a0e4.gz

commit 860791b1421735c58c738ab7f3a2aecdb4753773
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-06-06 08:54:28 +0000

    GabbleMucChannel: remove pointless guard against multiple initialization - class_init can only run once anyway
    
    
    20080606085428-53eee-e082aa41c394246cfc57af7d678ed712638990f2.gz

commit cafda774492ed17a1f19abd675ee498c8fae525b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-27 12:19:31 +0000

    GabbleRosterChannel: use less strange API to hook up D-Bus properties
    
    
    20080527121931-53eee-1e36d3cb6322693e4dd4f84144d381e887a03b44.gz

commit 92b255dd79dfce24625bf3b07eb0363d51b804d1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-27 12:19:31 +0000

    GabbleRosterChannel: use less strange API to hook up D-Bus properties
    
    
    20080527121931-53eee-1e36d3cb6322693e4dd4f84144d381e887a03b44.gz

commit a5ec7fac8ebfcecc97d416b1f8592150e4423bad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-27 12:19:16 +0000

    GabbleMUCChannel: use less strange API to hook up D-Bus properties
    
    
    20080527121916-53eee-01c45417fa09fa5e6dd726ea01ddbe1b8f7ca75c.gz

commit f98836e0d9e34a07d13c9373432b9ad270817cf0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-27 12:19:16 +0000

    GabbleMUCChannel: use less strange API to hook up D-Bus properties
    
    
    20080527121916-53eee-01c45417fa09fa5e6dd726ea01ddbe1b8f7ca75c.gz

commit 8e2876337e607f7e222f7e0426cca55b3a2b34c1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-27 12:18:55 +0000

    GabbleMediaChannel: use less strange API to hook up D-Bus properties
    
    
    20080527121855-53eee-b6b5b4e55628ce7e1952bd517fa427b68f5022a5.gz

commit dd7a97b6f76b5b8414860b6adba112f0fdf39358
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-27 12:18:55 +0000

    GabbleMediaChannel: use less strange API to hook up D-Bus properties
    
    
    20080527121855-53eee-b6b5b4e55628ce7e1952bd517fa427b68f5022a5.gz

commit c2ea1d9d4a0969ecea0e67abbdb419ffff589fbf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 18:01:41 +0000

    GabbleRosterChannel: avoid initializing static data twice if we're subclassed
    
    
    20080526180141-53eee-9d2d3e789e0bd5008e166d0ba2260ff98c663fca.gz

commit 7b1324d4c6745bf8bf52bbb7d4603080708bf4c7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 18:01:41 +0000

    GabbleRosterChannel: avoid initializing static data twice if we're subclassed
    
    
    20080526180141-53eee-9d2d3e789e0bd5008e166d0ba2260ff98c663fca.gz

commit 0fdeec83f3efcb88f4b8cad487792cbe65e9cab6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 18:01:28 +0000

    GabbleMucChannel: avoid initializing static data twice if we're subclassed
    
    
    20080526180128-53eee-8afe65986ee88743e914e4fb4e0d38ba5dc330c7.gz

commit d248be9c2757b4f3716aab155e36ccc2272231b2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 18:01:28 +0000

    GabbleMucChannel: avoid initializing static data twice if we're subclassed
    
    
    20080526180128-53eee-8afe65986ee88743e914e4fb4e0d38ba5dc330c7.gz

commit aac0821ed915a7327392ac757e131f3d4300d68c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 18:01:12 +0000

    GabbleMediaChannel: avoid initializing static data twice
    
    
    20080526180112-53eee-26435cbae4173481b167aa17938239ead6eabddb.gz

commit 26d890a4cc09fb251be92d5e46d511d1b47db470
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 18:01:12 +0000

    GabbleMediaChannel: avoid initializing static data twice
    
    
    20080526180112-53eee-26435cbae4173481b167aa17938239ead6eabddb.gz

commit 60aef2696879669803ec1b2c8253d3e117555262
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 17:44:09 +0000

    GabbleRosterChannel: make it clearer exactly what is being passed to tp_group_mixin_init_dbus_properties
    
    
    20080526174409-53eee-e54193ff57243da6d19e6ef3d64ed7666a14fc3c.gz

commit 95e81dda949bb3785dd1df37eef468540f83b296
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 17:44:09 +0000

    GabbleRosterChannel: make it clearer exactly what is being passed to tp_group_mixin_init_dbus_properties
    
    
    20080526174409-53eee-e54193ff57243da6d19e6ef3d64ed7666a14fc3c.gz

commit 46b2887fdfbe335a83afe2a49b2222c75f6e370a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 17:43:55 +0000

    GabbleMucChannel: make it clearer exactly what is being passed to tp_group_mixin_init_dbus_properties
    
    
    20080526174355-53eee-254df983ac317e4f76836d613864e66ba6219e34.gz

commit 42c468d25eaf5798fe6a52b3402fd53da0baf2fb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 17:43:55 +0000

    GabbleMucChannel: make it clearer exactly what is being passed to tp_group_mixin_init_dbus_properties
    
    
    20080526174355-53eee-254df983ac317e4f76836d613864e66ba6219e34.gz

commit 7a283f9b5166796518ebe8fe2592a77934c51152
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 17:43:41 +0000

    GabbleMediaChannel: make it clearer exactly what is being passed to tp_group_mixin_init_dbus_properties
    
    
    20080526174341-53eee-88b8a0f43c39bc066f3ac66eb279e2099cf8031d.gz

commit 7c3a5e347c61f33fb6d7a1febba0ad7922173305
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 17:43:41 +0000

    GabbleMediaChannel: make it clearer exactly what is being passed to tp_group_mixin_init_dbus_properties
    
    
    20080526174341-53eee-88b8a0f43c39bc066f3ac66eb279e2099cf8031d.gz

commit 961023a9d234ee048e27e884e8f265f1fe8e6f2d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 16:28:59 +0000

    test-muc-ownership: expect the local self-handle to be owned by the global self-handle
    
    
    20080526162859-53eee-a7804a48fee26e9846684f7e42161cccc3cae901.gz

commit 146828243f553be55b02ed484242f50533604840
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 16:28:59 +0000

    test-muc-ownership: expect the local self-handle to be owned by the global self-handle
    
    
    20080526162859-53eee-a7804a48fee26e9846684f7e42161cccc3cae901.gz

commit 88cdff024834170fea5f8933ecc5d5c5126e2d03
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 16:26:41 +0000

    Consider the self handle to be owned by the connection's self handle, even if the MUC service doesn't explicitly say so
    
    
    20080526162641-53eee-f976b373b5d036a03fbd97be58fd55d1a560471a.gz

commit dac5f85b0a47eab23f6069ffa9e07ce21c71c6b8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 16:26:41 +0000

    Consider the self handle to be owned by the connection's self handle, even if the MUC service doesn't explicitly say so
    
    
    20080526162641-53eee-f976b373b5d036a03fbd97be58fd55d1a560471a.gz

commit c670b52687d3bef0ee3e64b282032cf42f34c56d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 16:24:18 +0000

    Don't clear HANDLE_OWNERS_NOT_AVAILABLE just because our own handle in a MUC has an owner
    
    
    20080526162418-53eee-60cb5cf4378c706ee83720b5f1723ef4b44ec496.gz

commit 69695f0db8c2c56d57ec2ebf1a9425edba71b8b7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 16:24:18 +0000

    Don't clear HANDLE_OWNERS_NOT_AVAILABLE just because our own handle in a MUC has an owner
    
    
    20080526162418-53eee-60cb5cf4378c706ee83720b5f1723ef4b44ec496.gz

commit 73a39ac5ce6b77cc0700b8d95b608584856d6b47
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 16:11:55 +0000

    tests/twisted/olpc/olpc-muc-invitation.py: remove race condition between stream-presence and MembersChanged
    
    
    20080526161155-53eee-b03ec4723549fb41076181ade880863f7390dbb7.gz

commit 25731b0db436ca9c3e39b4611372eceb180780fe
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 16:11:55 +0000

    tests/twisted/olpc/olpc-muc-invitation.py: remove race condition between stream-presence and MembersChanged
    
    
    20080526161155-53eee-b03ec4723549fb41076181ade880863f7390dbb7.gz

commit f07d57841d196b0eec5ce3f28fc4a02236f55a1d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 16:11:39 +0000

    test-muc-ownership: exercise D-Bus properties
    
    
    20080526161139-53eee-27c212e016f84409063ee1e6875b948a3389f779.gz

commit 3ffaa3cec7f61fb2936806b3b7248145f9d36565
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 16:11:39 +0000

    test-muc-ownership: exercise D-Bus properties
    
    
    20080526161139-53eee-27c212e016f84409063ee1e6875b948a3389f779.gz

commit cb4752c102ddaa11be24b60081ce32e0c749fa73
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 15:58:46 +0000

    Use actual dbus-python API to call GetHandleOwners in test-muc-ownership
    
    
    20080526155846-53eee-c94f241b295b8e783d64aa534a7fbbaa786b9074.gz

commit 58c93b3136dd0bb6b05058e4c68a6f2c0c7e2a33
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 15:58:46 +0000

    Use actual dbus-python API to call GetHandleOwners in test-muc-ownership
    
    
    20080526155846-53eee-c94f241b295b8e783d64aa534a7fbbaa786b9074.gz

commit 2b3e9ee4ce3f5b47089a1952c326594f0b4c8c02
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 15:57:16 +0000

    test-muc-ownership.py: exercise HandleOwnersChanged
    
    
    20080526155716-53eee-822c7d095886fed92f7d2de477ea8c3f6253b7be.gz

commit 980ecd90656e7fcea8764ac9d22591cd2a013d3c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 15:57:16 +0000

    test-muc-ownership.py: exercise HandleOwnersChanged
    
    
    20080526155716-53eee-822c7d095886fed92f7d2de477ea8c3f6253b7be.gz

commit 84d910b6e0a4737079ac53f1bd8034a4cfffca28
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 15:49:49 +0000

    Port test-muc-ownership.py to the new API
    
    
    20080526154949-53eee-81848e849407b185e46a174fa008adb5c73ef173.gz

commit 400a21d9c655fe6c35cda2ba65a071fe8a9a49bd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 15:49:49 +0000

    Port test-muc-ownership.py to the new API
    
    
    20080526154949-53eee-81848e849407b185e46a174fa008adb5c73ef173.gz

commit 07669a019fe8ab0e2f25c89f17bdf207fa9b79af
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 15:31:38 +0000

    GabbleMucFactory: don't leak the room handle when processing an invitation
    
    
    20080526153138-53eee-7321be9a37a50c42be2037ee15b354068aeacd2f.gz

commit 82055a3886370b5a621ef525bdde52266ca5285f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 15:31:38 +0000

    GabbleMucFactory: don't leak the room handle when processing an invitation
    
    
    20080526153138-53eee-7321be9a37a50c42be2037ee15b354068aeacd2f.gz

commit 4919ebb7dcf6b7c49ac57dc2cab6ef7b8eab453d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 15:24:41 +0000

    In Gabble MUC channels, aggregate initial handle ownership as well as initial handles
    
    
    20080526152441-53eee-8e8e7d21642777eeef7e35f53d861a82f63a48ae.gz

commit 15b2c634581880bd34145260ad6651df18eb1e7d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 15:24:41 +0000

    In Gabble MUC channels, aggregate initial handle ownership as well as initial handles
    
    
    20080526152441-53eee-8e8e7d21642777eeef7e35f53d861a82f63a48ae.gz

commit 9bc6c8ae1e3bdebaacc87c8ee78b35c31bf4e821
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 15:03:20 +0000

    olpc-muc-prop-change: be independent of relative ordering of stream-presence and MembersChanged
    
    
    20080526150320-53eee-d4e803ac94bc96f442501468772ac1d46cc21e17.gz

commit 0b77d763f57d8e2bf1dd31b6e60eec86086a1798
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 15:03:20 +0000

    olpc-muc-prop-change: be independent of relative ordering of stream-presence and MembersChanged
    
    
    20080526150320-53eee-d4e803ac94bc96f442501468772ac1d46cc21e17.gz

commit 5fdc366057f3020dc5a54012d8d9af9b09c751ea
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 15:02:31 +0000

    Remove two unnecessary refs to the self-handle per MUC channel
    
    Note that this will probably assert if the group mixin does not ref the
    self-handle itself (this functionality was added after 0.7.8).
    
    20080526150231-53eee-8e09e7afa4c78353cd71cc4d2c946211fbc06007.gz

commit 675915cefb1f6ee9256b30a0dcefb4cd74993a91
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 15:02:31 +0000

    Remove two unnecessary refs to the self-handle per MUC channel
    
    Note that this will probably assert if the group mixin does not ref the
    self-handle itself (this functionality was added after 0.7.8).
    
    20080526150231-53eee-8e09e7afa4c78353cd71cc4d2c946211fbc06007.gz

commit 865d759923ce181ddd7663eb682727f265f55bc3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 13:23:57 +0000

    Use make -C in tests/README
    
    
    20080526132357-53eee-0f80aacf5022dbf16c2a638b189e0e32970c11f9.gz

commit ce383dda8c395173a409062df3433a3a8a1f218c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 13:23:57 +0000

    Use make -C in tests/README
    
    
    20080526132357-53eee-0f80aacf5022dbf16c2a638b189e0e32970c11f9.gz

commit 98e816f8c992a80cea2e820ccf51c810f41d5494
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 12:16:19 +0000

    Annotate why we are not adding an owner for the inviter handle
    
    
    20080526121619-53eee-de258f202451403c2475cbc5c2b495ac1f8ecc35.gz

commit 12fac015878052dab824f7e62f7203e809be0e18
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 12:16:19 +0000

    Annotate why we are not adding an owner for the inviter handle
    
    
    20080526121619-53eee-de258f202451403c2475cbc5c2b495ac1f8ecc35.gz

commit 28d921b41a8033d1d909a448f5772c2853d9f195
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 11:47:53 +0000

    gabble_muc_channel_add_member: clarify code where we're adding ourselves to remote pending while removing the inviter JID from the members
    
    
    20080526114753-53eee-7d06e85c863c4cf899ee4e10a762367b6719d87f.gz

commit d5525527c2a9f07175a5d5d0a032bd2885f159e0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 11:47:53 +0000

    gabble_muc_channel_add_member: clarify code where we're adding ourselves to remote pending while removing the inviter JID from the members
    
    
    20080526114753-53eee-7d06e85c863c4cf899ee4e10a762367b6719d87f.gz

commit 9fd3c6a04025afa05eed09a442a4837b6392573f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 11:44:20 +0000

    Add our own handle owner when joining a MUC channel
    
    
    20080526114420-53eee-068223186d13ada995cc0bf2313f753e692bf853.gz

commit e1103697beda456e321ab8ed34a65eaa98d21280
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 11:44:20 +0000

    Add our own handle owner when joining a MUC channel
    
    
    20080526114420-53eee-068223186d13ada995cc0bf2313f753e692bf853.gz

commit e29fb112607722ece5b4d12c84869413fac62d38
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 11:41:59 +0000

    Add self-handle owner before adding ourselves to local-pending set
    
    
    20080526114159-53eee-eb694d1d8ddcbf6f93b1e7407d1618d2dbd6d794.gz

commit e015a0dff3ebb84a5b9b919ff503827d660716d0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 11:41:59 +0000

    Add self-handle owner before adding ourselves to local-pending set
    
    
    20080526114159-53eee-eb694d1d8ddcbf6f93b1e7407d1618d2dbd6d794.gz

commit a84fbcf05f4a5b1231cf0072c1df55fa64d81182
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 11:39:59 +0000

    Unconditionally add handle owners when adding members due to presence
    
    Note that telepathy-glib <= 0.7.8 will assert if we add handle owners that are
    zero, so this change requires the version with Group properties.
    
    20080526113959-53eee-520a7c57775481118087a025de5cc8f7f512228a.gz

commit 30e7cc2930d9106b1d9a1216a92b9ebc510a0202
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 11:39:59 +0000

    Unconditionally add handle owners when adding members due to presence
    
    Note that telepathy-glib <= 0.7.8 will assert if we add handle owners that are
    zero, so this change requires the version with Group properties.
    
    20080526113959-53eee-520a7c57775481118087a025de5cc8f7f512228a.gz

commit 97063d72e75126bb933b0161ed23616466aa1b71
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 11:39:21 +0000

    Before adding ourselves to a requested MUC channel, add our handle-owner
    
    
    20080526113921-53eee-b094d999b41d61686bc17eecf9ed09cc5fa55e31.gz

commit aa6548cd966e9ae80a501d5d758bd611753c8cfc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 11:39:21 +0000

    Before adding ourselves to a requested MUC channel, add our handle-owner
    
    
    20080526113921-53eee-b094d999b41d61686bc17eecf9ed09cc5fa55e31.gz

commit 03b6e1b4d17aedfd23d43bc3c65d76da26814785
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 11:38:50 +0000

    Add basic support for Group properties to MUC channel
    
    
    20080526113850-53eee-44e4f7459e3b458bc91c9bf3ee9833bd1fa2a972.gz

commit 57bb7dc1e56328b70875d892e7e48096a5fe4007
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 11:38:50 +0000

    Add basic support for Group properties to MUC channel
    
    
    20080526113850-53eee-44e4f7459e3b458bc91c9bf3ee9833bd1fa2a972.gz

commit 22674c9895a0f47ddb60360c47a0eae9d4662ff9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 11:38:03 +0000

    Implement Group properties on roster channels
    
    
    20080526113803-53eee-3dadae1e38508bc3f86ad5b6fdff7d3733709874.gz

commit 1d01da4d3db5f06cbee7e2b7c6ad89b42c8da882
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 11:38:03 +0000

    Implement Group properties on roster channels
    
    
    20080526113803-53eee-3dadae1e38508bc3f86ad5b6fdff7d3733709874.gz

commit 221855980ac56403854990394fc04fb8749715d0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 11:37:02 +0000

    Implement Group properties on StreamedMedia channels
    
    
    20080526113702-53eee-a36ec2c9b886d8e2ee74df6ea51a4cf6f5ba6a07.gz

commit 59a13064d71e38134b405da51ce7eee4e412cb9e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 11:37:02 +0000

    Implement Group properties on StreamedMedia channels
    
    
    20080526113702-53eee-a36ec2c9b886d8e2ee74df6ea51a4cf6f5ba6a07.gz

commit 155d0df1ba4a1f95beb65a8b32463a9a9b924b39
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 11:36:46 +0000

    Require telepathy-glib 0.7.8.1 devel version (for properties-based Group)
    
    
    20080526113646-53eee-1a0de38178fccaa227adc61049171a886aad5e45.gz

commit f279e5c7253589fcbce1785cf3c4bc977fafee24
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-06-04 10:25:01 +0000

    test-nonblocking-tls.py: Fix message
    
    
    20080604102501-a41c0-7247e3117e165b2be38f9888857ef551ee6bbed7.gz

commit 8f3bd7b9b54d805bf3ecb09fba58ff79311c05ca
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-06-03 17:01:56 +0000

    Connect tests: moved in connect/ directory, separate the blocking-tls test and the connect-twice test
    
    
    20080603170156-a41c0-ecfdd43e0c78e4ef65846e838c6ef72bb1b34670.gz

commit 1c348a3295c3b72a1cb04788cdf7f13a61a87536
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-06-03 16:35:27 +0000

    test-connect-twice.py: disabled
    
    
    20080603163527-a41c0-54371ef3f82f128a0758b1f1754e5614af9b1654.gz

commit ff530472fe6655eb417e3eae905849fc6a2f9d0d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-06-03 16:31:44 +0000

    Twisted tests: Move BlockForeverTlsAuthenticator from gabbletest.py to test-connect-twice.py
    
    
    20080603163144-a41c0-f47cf9a30662004b58047606520ec588343ef971.gz

commit b120737fcc8e8e1e17c3faa98035500f8f842cf5
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-06-03 15:49:40 +0000

    Rename TlsAuthenticator to BlockForeverTlsAuthenticator
    
    
    20080603154940-a41c0-9dc625768a6d08a324a7dde8b4afcc3fc3642b91.gz

commit a2fd90d8228184c04061079b6e39ad3b15608308
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-06-03 15:18:31 +0000

    Twisted test: regression test for bug fd.org #14341
    
    
    20080603151831-a41c0-30eb1e2ed010431c8a621541d5e33b356e335d19.gz

commit 8b49e12c883af4ed9f93ce6925d5cc86f0e79be7
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-06-03 15:17:38 +0000

    Twisted tests: add TlsAuthenticator that blocks after the <proceed/>
    
    
    20080603151738-a41c0-02ed1e8a9b5feb8f74371bc451b9ab306454ac8b.gz

commit 3a4ef55c92045c0d92ea9a6c6c2490811b50c7c9
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-06-03 14:10:07 +0000

    Twisted test: Fix streamStarted() in XmppAuthenticator
    
    
    20080603141007-a41c0-eea80f3cded68d612d05155af8aff7ef5792f2a4.gz

commit 9b3784467df2a679ccf5d8de65ab98199ca5661a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-06-03 10:58:45 +0000

    Twisted test connect2.py renamed to connect-twice.py
    
    
    20080603105845-a41c0-84b2b1034d1b08a55bd969ec033c9d7b881e3d33.gz

commit ca7224b5116e45cb3cf1d8200d3c233441508ab8
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-06-02 18:41:45 +0000

    Twisted tests: check that Gabble can manage 2 Jabber connection at the same time
    
    
    20080602184145-a41c0-11f6fd9dc39636b4d6362215c0c1bdce99fd4f82.gz

commit 71a9da420490454945fe0012a964fae2f0d0f402
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-06-02 18:40:37 +0000

    Twisted test: let the port of the jabber server be parametrable
    
    
    20080602184037-a41c0-e7ded86a66aa6e682665833a9d3c6c6bc3f3e6eb.gz

commit fe6334b188a5ac51fa69d77e009023a0319367ce
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-05-30 12:29:53 +0000

    tube-stream: Fix off by one error in unix socket path initialization
    
    
    20080530122953-93b9a-155592c3c2f2ce79ef7da7e7c07b522f0bb5ef48.gz

commit e30241e860702ed9f2af215d2d4249ac4574544c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-29 12:10:24 +0000

    test-olpc-set-props-preload.py: assert pubsub stanzas are of the right type
    
    
    20080529121024-7fe3f-88c962cf1a5f04a817561835a42be2e875e1df8c.gz

commit dfe91ef5e3cf7af737701ddeacd21af701b0cc87
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-29 11:06:57 +0000

    fix test-olpc-set-props-preload.py
    
    
    20080529110657-7fe3f-fdb9b4910462d519028d1af39ae107e379416aac.gz

commit d3cf147420fc4ca8b38acb3cbea45b7c5aafa0f9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-29 10:22:16 +0000

    fix olpc-muc-prop-change.py
    
    
    20080529102216-7fe3f-a372fc8b17490a743e9e4f6f1f5f8d824af2fdf2.gz

commit 11e988e1674e4de75bc2b06fe05c87e2aae82b39
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-29 10:19:14 +0000

    fix olpc-muc-invitation.py. return False doesn't make the test fail as with the old API
    
    
    20080529101914-7fe3f-ef54d2f0278085dcac2b1e38954743ce9aa65a41.gz

commit a1eddd9078c02ca8f59cdc8974f2d71f0f7f16fa
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-28 16:35:28 +0000

    src/caps-hash.c: split the too long caps_hash_compute_from_lm_node function: use helper function _parse_dataform()
    
    
    20080528163528-a41c0-f19bbff26caf2bc3b234f979238e4f9bb4743591.gz

commit dd005de8a835bcfc219628dad1c38f331bd699ba
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-28 16:10:34 +0000

    Twisted tests: rename dbus_sync to sync_dbus
    
    
    20080528161034-a41c0-97cd17e3c6e3cdd814c5f12f544447e1ae7f428a.gz

commit 64aeb9d54a7707ab6a115280eb0ffc41f650d1c5
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-28 10:58:13 +0000

    Twisted tests: move dbus_sync to servicetest.py
    
    
    20080528105813-a41c0-efe2a7fa4a28940998b2aba0ca856e330c092584.gz

commit 89da118866c57c1751041ce62da8b5c57a34c2fc
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-28 10:52:23 +0000

    Twisted tests: Use False and True instead of 0 and 1 in Python
    
    
    20080528105223-a41c0-e1976c68c87a16960c84dcf03aeb3f72c723eb8f.gz

commit 4da04f7983125337f956ecf264f027e1f4678daa
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-28 10:26:33 +0000

    Better comment: the hash algorithm is indicated in the original presence stanza
    
    
    20080528102633-a41c0-7a27b6c6ed9020167668f69a46f7e0ee0b9cec30.gz

commit 4bf9a29d0abe57b46792cfdd28685772a65e3ad8
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-28 10:13:30 +0000

    Rename _extract_cap_bundles to _parse_cap_bundles
    
    
    20080528101330-a41c0-7617b05d9c20431079850159f68c47d15285fcef.gz

commit 08d2089cdd2a3f31c119a196d0df3ef1639f5eb5
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-28 10:09:54 +0000

    Use tp_strdiff instead of g_str_equal
    
    
    20080528100954-a41c0-48cba4667be642bdbae1c0b75f716f06a1225035.gz

commit b933ac84d30902545ec1712323801ff943b020ef
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-28 10:03:19 +0000

    src/caps-hash.c: do not leak str when computing the hash of the verification string
    
    
    20080528100319-a41c0-61faf9a666b32fb96af202626727081286aefc10.gz

commit 8f84d527330f9ff8003cac3bb6427c196b8de4d5
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-28 10:02:03 +0000

    Merge conflict resolved: delete file tests/twisted/test-caps-update.py
    
    
    20080528100203-a41c0-2d27d04cf85497f2cd93a7d845fabced17c0e616.gz

commit e7d7159aed15c5e18c3513ff46b0a68bae50af98
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-26 11:36:46 +0000

    Require telepathy-glib 0.7.8.1 devel version (for properties-based Group)
    
    
    20080526113646-53eee-1a0de38178fccaa227adc61049171a886aad5e45.gz

commit 0a5ab42263c508cb46e59dfeab00b6b3c2591120
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-06-04 10:25:01 +0000

    test-nonblocking-tls.py: Fix message
    
    
    20080604102501-a41c0-7247e3117e165b2be38f9888857ef551ee6bbed7.gz

commit 9a5885a253aaf3057e121d0a234b5b6af2776d81
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-06-03 17:01:56 +0000

    Connect tests: moved in connect/ directory, separate the blocking-tls test and the connect-twice test
    
    
    20080603170156-a41c0-ecfdd43e0c78e4ef65846e838c6ef72bb1b34670.gz

commit 39f862eec7c9fb1bc24511e03448d45790a2f8fa
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-06-03 16:35:27 +0000

    test-connect-twice.py: disabled
    
    
    20080603163527-a41c0-54371ef3f82f128a0758b1f1754e5614af9b1654.gz

commit 1496ccbd3056895df0519ff15ec8c118cad5ffab
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-06-03 16:31:44 +0000

    Twisted tests: Move BlockForeverTlsAuthenticator from gabbletest.py to test-connect-twice.py
    
    
    20080603163144-a41c0-f47cf9a30662004b58047606520ec588343ef971.gz

commit c246e177bc2fe47e52850515bc4aad7d666de7d1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-06-03 15:49:40 +0000

    Rename TlsAuthenticator to BlockForeverTlsAuthenticator
    
    
    20080603154940-a41c0-9dc625768a6d08a324a7dde8b4afcc3fc3642b91.gz

commit 6f2fbd4c7cd1672a98e9f18216c7fa7cee757152
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-06-03 15:18:31 +0000

    Twisted test: regression test for bug fd.org #14341
    
    
    20080603151831-a41c0-30eb1e2ed010431c8a621541d5e33b356e335d19.gz

commit f1a2352675f986b6fba59acab38f2c19e4f17750
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-06-03 15:17:38 +0000

    Twisted tests: add TlsAuthenticator that blocks after the <proceed/>
    
    
    20080603151738-a41c0-02ed1e8a9b5feb8f74371bc451b9ab306454ac8b.gz

commit 681e803404cf472db8f01c11327f3679d172eefb
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-06-03 14:10:07 +0000

    Twisted test: Fix streamStarted() in XmppAuthenticator
    
    
    20080603141007-a41c0-eea80f3cded68d612d05155af8aff7ef5792f2a4.gz

commit b2fa2fc83df4253537cba268da2289bb32bef718
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-06-03 10:58:45 +0000

    Twisted test connect2.py renamed to connect-twice.py
    
    
    20080603105845-a41c0-84b2b1034d1b08a55bd969ec033c9d7b881e3d33.gz

commit 319f5bb53fab2ad04666d555990da23ff4a0ad5f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-06-02 18:41:45 +0000

    Twisted tests: check that Gabble can manage 2 Jabber connection at the same time
    
    
    20080602184145-a41c0-11f6fd9dc39636b4d6362215c0c1bdce99fd4f82.gz

commit 23ad43654ddded0ebc1ec03b4732837a59b2ffb3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-06-02 18:40:37 +0000

    Twisted test: let the port of the jabber server be parametrable
    
    
    20080602184037-a41c0-e7ded86a66aa6e682665833a9d3c6c6bc3f3e6eb.gz

commit 48326074bdde7b64ef1c1af1587b848b38939a8f
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-05-30 12:29:53 +0000

    tube-stream: Fix off by one error in unix socket path initialization
    
    
    20080530122953-93b9a-155592c3c2f2ce79ef7da7e7c07b522f0bb5ef48.gz

commit 81c167de927f258856c6614512d2379b00f22267
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-29 12:10:24 +0000

    test-olpc-set-props-preload.py: assert pubsub stanzas are of the right type
    
    
    20080529121024-7fe3f-88c962cf1a5f04a817561835a42be2e875e1df8c.gz

commit 55547c88fc7935b654186ad7671e16f97c68b012
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-29 11:06:57 +0000

    fix test-olpc-set-props-preload.py
    
    
    20080529110657-7fe3f-fdb9b4910462d519028d1af39ae107e379416aac.gz

commit fcc28e475dbb0ee31761ec12db90239f6c3f24ed
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-29 10:22:16 +0000

    fix olpc-muc-prop-change.py
    
    
    20080529102216-7fe3f-a372fc8b17490a743e9e4f6f1f5f8d824af2fdf2.gz

commit 9e5d377fc2b4389a8f2107839494f3e926d8c8a5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-29 10:19:14 +0000

    fix olpc-muc-invitation.py. return False doesn't make the test fail as with the old API
    
    
    20080529101914-7fe3f-ef54d2f0278085dcac2b1e38954743ce9aa65a41.gz

commit 91fb30b111ccae08766f6497912e0edc18affa71
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-28 16:35:28 +0000

    src/caps-hash.c: split the too long caps_hash_compute_from_lm_node function: use helper function _parse_dataform()
    
    
    20080528163528-a41c0-f19bbff26caf2bc3b234f979238e4f9bb4743591.gz

commit 4fa25483f3887d49859fb3e7d13670939e0509ef
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-28 16:10:34 +0000

    Twisted tests: rename dbus_sync to sync_dbus
    
    
    20080528161034-a41c0-97cd17e3c6e3cdd814c5f12f544447e1ae7f428a.gz

commit 1d11ee8651acbd909747b61d6185e49975420a6a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-28 10:58:13 +0000

    Twisted tests: move dbus_sync to servicetest.py
    
    
    20080528105813-a41c0-efe2a7fa4a28940998b2aba0ca856e330c092584.gz

commit c53badb0aa1fd5a414e1da44e29006b8afdd622d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-28 10:52:23 +0000

    Twisted tests: Use False and True instead of 0 and 1 in Python
    
    
    20080528105223-a41c0-e1976c68c87a16960c84dcf03aeb3f72c723eb8f.gz

commit ea1f925d5310d6e9ee6e861a313aa9c9bfe9f115
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-28 10:26:33 +0000

    Better comment: the hash algorithm is indicated in the original presence stanza
    
    
    20080528102633-a41c0-7a27b6c6ed9020167668f69a46f7e0ee0b9cec30.gz

commit 596720a66882d2cf99aaaf571582bd626fe99fa1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-28 10:13:30 +0000

    Rename _extract_cap_bundles to _parse_cap_bundles
    
    
    20080528101330-a41c0-7617b05d9c20431079850159f68c47d15285fcef.gz

commit 3fda4288584e0fea4a6042c13c1d1a57aed5f443
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-28 10:09:54 +0000

    Use tp_strdiff instead of g_str_equal
    
    
    20080528100954-a41c0-48cba4667be642bdbae1c0b75f716f06a1225035.gz

commit 7592b1342d1e74cc527d9aff00009cde8b88846e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-28 10:03:19 +0000

    src/caps-hash.c: do not leak str when computing the hash of the verification string
    
    
    20080528100319-a41c0-61faf9a666b32fb96af202626727081286aefc10.gz

commit 40222a4d61cd65263c4154f05a83ddcc5d38676d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-28 10:02:03 +0000

    Merge conflict resolved: delete file tests/twisted/test-caps-update.py
    
    
    20080528100203-a41c0-2d27d04cf85497f2cd93a7d845fabced17c0e616.gz

commit 2dbe5b406220e8a8ead94c51d6d96c0f4a6da4e7
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-21 18:22:45 +0000

    Remove bundles strings, use a 3-state enum for caps type
    
    
    20080521182245-a41c0-b657e309f86c8bb4fd8ea76219ba305a2d72b51b.gz

commit fae2b782d37907927a097d072a664df43c2dfb7f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-21 18:22:45 +0000

    Remove bundles strings, use a 3-state enum for caps type
    
    
    20080521182245-a41c0-b657e309f86c8bb4fd8ea76219ba305a2d72b51b.gz

commit 68e11077039a7fa6e06415f66ceb55114ca6b18f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-21 18:20:28 +0000

    Fix jingle test: do not assume Gabble has cache for bundles
    
    
    20080521182028-a41c0-552492d27a35439916a6b2de39f574abf4878b1e.gz

commit 15e23cd71303da3d880b5ead898349e684255a00
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-21 18:20:28 +0000

    Fix jingle test: do not assume Gabble has cache for bundles
    
    
    20080521182028-a41c0-552492d27a35439916a6b2de39f574abf4878b1e.gz

commit 5486fa9d7cdf0a4ed9dae4a472148808743b9f8e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-21 15:52:25 +0000

    Remove print in test suite
    
    
    20080521155225-a41c0-00878e1f06fe1555e095db31ce850e4ea62d63f4.gz

commit 6a9aceef33230a36b5d98eb1dae68884f57de53a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-21 15:52:25 +0000

    Remove print in test suite
    
    
    20080521155225-a41c0-00878e1f06fe1555e095db31ce850e4ea62d63f4.gz

commit f50839cf13c08b9482014734021f535853ead3c3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-21 15:44:59 +0000

    Fix checking the absence of signal
    
    
    20080521154459-a41c0-f991a07ec11cccc2643f0a79737e6c1bd5eb8bf2.gz

commit f41d3ce873056f629afb8c019a720622faf9c45d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-21 15:44:59 +0000

    Fix checking the absence of signal
    
    
    20080521154459-a41c0-f991a07ec11cccc2643f0a79737e6c1bd5eb8bf2.gz

commit 9dfef6b602ddd7c45ad68d6b1c30b918d0b2a6c5
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-21 15:41:48 +0000

    Remove print in test suite
    
    
    20080521154148-a41c0-ed9635ff2dd81424876681b2f2c097650b026f98.gz

commit 35991f5ff1879137d750311b3ec68a305456fea3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-21 15:41:48 +0000

    Remove print in test suite
    
    
    20080521154148-a41c0-ed9635ff2dd81424876681b2f2c097650b026f98.gz

commit 81c29a3e028b81be755c08e843040eb3c8a2cd19
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-21 14:47:45 +0000

    Use !tp_strdiff instead of g_str_equal
    
    
    g_str_equal(suffix, caps_hash) is never executed when suffix is NULL. However,
    the code is more readable when using !tp_strdiff().
    
    
    20080521144745-a41c0-3fc48cb714e9862a0837d4a9e8510bfb350b4d1e.gz

commit 9bc477711526b3b43213a2d802bcdbc47422e16a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-21 14:47:45 +0000

    Use !tp_strdiff instead of g_str_equal
    
    
    g_str_equal(suffix, caps_hash) is never executed when suffix is NULL. However,
    the code is more readable when using !tp_strdiff().
    
    
    20080521144745-a41c0-3fc48cb714e9862a0837d4a9e8510bfb350b4d1e.gz

commit 42717009e812e8139c387ed67406b213d5de6bb0
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-14 19:29:30 +0000

    Fix comment: do not say settings cap for a handle when we are setting caps for another handle
    
    
    20080514192930-a41c0-568f31c881e24beb0d9cea93f0db90d303bbf76f.gz

commit f45dc19d6e9f3e43f29fd26b61d472122cde115a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-14 19:29:30 +0000

    Fix comment: do not say settings cap for a handle when we are setting caps for another handle
    
    
    20080514192930-a41c0-568f31c881e24beb0d9cea93f0db90d303bbf76f.gz

commit 4e8feb2411048ad27fabbfdc6919620d7cf2a471
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-14 19:22:40 +0000

    New test for caps: the "can they DoS us?" use-case
    
    
    20080514192240-a41c0-3049939e8d7edeefe31e727077edba52ea7d0c21.gz

commit 2bfcc641fecd478dbe8212e8ae189a46cfdd40a6
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-14 19:22:40 +0000

    New test for caps: the "can they DoS us?" use-case
    
    
    20080514192240-a41c0-3049939e8d7edeefe31e727077edba52ea7d0c21.gz

commit 02cadcea1026a47b0feaec50d940681b4b76b274
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-14 14:44:07 +0000

    When receiving a broken verification string, send the request to another contact if there is one
    
    
    20080514144407-a41c0-bc6becb724c20c5fe0640f518d25609b37340dde.gz

commit c6283e87a65ba7bb17456541624e07d2a2aeb139
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-14 14:44:07 +0000

    When receiving a broken verification string, send the request to another contact if there is one
    
    
    20080514144407-a41c0-bc6becb724c20c5fe0640f518d25609b37340dde.gz

commit 3d8a90aea3c2c299377a746961fe626d7b0d1868
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-12 16:00:42 +0000

    Debugs
    
    
    20080512160042-a41c0-84e8502c182dcc22056693478060d9b7a44fa002.gz

commit e776020ca31bd8b5e9792dcb7f91f1ac34637127
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-14 14:52:52 +0000

    When asserting on the absence of D-Bus signal, call synchronously a dummy D-Bus method to be sure to get the signal if any (avoid races)
    
    
    20080514145252-a41c0-2fb2288fd740c4b3f4918cf8e3ba5395c18677bd.gz

commit 82f9c15228e11c57f6b5fc6b59ab9f7774918572
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-14 14:52:02 +0000

    Remove useless assertion on caps_changed_flag
    
    
    20080514145202-a41c0-0e86b49647a47acd2a7b77d83c4022ea4cb5b663.gz

commit dc9c9939da44457d6d9b74aadb3854d95a5dd8bb
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-14 11:56:27 +0000

    Remove debugs that I did not mean to record
    
    
    20080514115627-a41c0-3be91cf584e3cc6200819f48a2b17b3596865632.gz

commit 42d3e14d2e504d34e02b21396f1411d83b151909
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-14 11:56:11 +0000

    Fix comment about CAPABILITY_BUNDLE_ENOUGH_TRUST
    
    
    20080514115611-a41c0-f988e16f02dd352bbcb2070ad5e4ef328417f5aa.gz

commit 94358be5de5662fc6003a398ed8aa83ba1d33292
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-14 11:54:31 +0000

    Do not advertise bundle since we use the verification string, except for voice-v1 for compatibility with Gabble 0.2 and Google Talk
    
    
    20080514115431-a41c0-6c1de1fcbaeec9656e32d77bfc52a955b78182e2.gz

commit 7eef7fe9dc2a4a5afd2a829d7e5d9f928c84b6f9
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-14 10:47:38 +0000

    Add comment about the Google Talk voice-v1 bundle
    
    
    20080514104738-a41c0-a910e77d3b40740bc4a08206d3e9c2ef3fb67eb1.gz

commit 7ee6dc1ba081cecce954241abecca3a575c49455
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-13 11:15:45 +0000

    Coding style
    
    
    20080513111545-a41c0-25bdb2365502875f4c82a374be7f7d3124f6240f.gz

commit e551a65ceba19ec290bed18820bd7a0ddd5bf411
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-13 11:15:39 +0000

    Use tp_strdiff
    
    
    20080513111539-a41c0-6e2ae98a7be129ae33bbfee9d09f12f6da666986.gz

commit 0339223f8504d7ebe2e03de778f65eb58a2e35cb
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-13 11:11:18 +0000

    80 columns
    
    
    20080513111118-a41c0-634c123cbd83aaa62b26066d89002b32b5ec3ed5.gz

commit 960fcef04346f140c2cf8c361f75dd03f7a3c7e2
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-13 11:00:05 +0000

    Use g_slice_free instead of g_slice_free1
    
    
    20080513110005-a41c0-c680f190f682f3425bde38aab8bb7683ff2a79ec.gz

commit 30a59942af66e668b5d0b541c8cb544079aa3078
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-13 10:57:26 +0000

    comment on GPtrArray. Case field_name
    
    
    20080513105726-a41c0-7588f5d67da549d0fc338fe9a485585c9974cc6d.gz

commit 3142b61286103b060952763afaa3760a5fb2c2b5
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-13 10:39:05 +0000

    Use typedef and CamelCase for all types
    
    
    20080513103905-a41c0-0bf6dbbe7d0750e01c16fe0f54c559e7aac36cb8.gz

commit 88a6b6cfed62a05b79b4e6a0b5e3bb580fb98727
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-13 10:35:19 +0000

    Remove unneeded casts
    
    
    20080513103519-a41c0-218ca503148eb3ceee1d44a037c2d6caa5e80ed1.gz

commit 3dc6c5b22c731aa0d643f79029c9698a6840c571
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-13 10:29:33 +0000

    Coding style and simplification (review from smcv)
    
    
    20080513102933-a41c0-bc468d2c5c99f8ebd19e5848503ea77493fc4806.gz

commit 19329b8cd3aeeecb706a2920e18361ee0d8e6a06
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-12 17:23:06 +0000

    Fix: also cache the caps set when there is a verification string
    
    
    20080512172306-a41c0-b75025aad5d4afa7df9d1c2e6256e1043e287296.gz

commit 6fa10d6085cd9c76432e59a60924f0289dc05988
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-12 17:10:36 +0000

    Add test on caps cache
    
    
    20080512171036-a41c0-1a9a28d60c657f7da28f6d48b59fc3c4f0e41f88.gz

commit cc425198afe5a901afe6caa0861088b05d156c74
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-12 16:32:24 +0000

    Check the hash containing a XEP-0128 dataform
    
    
    20080512163224-a41c0-220ecacaf73c438412f0df7f6d5c2cef297794a7.gz

commit 215332cab38ca03f2bf2e8a46bad986d906830f7
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-12 16:14:49 +0000

    Coding style: remove unneeded spaces
    
    
    20080512161449-a41c0-ebba8d354207f65edb69e3b9dd3c694deb9dde4b.gz

commit 9325740757b058b8291d81259e0a00f0511a1726
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-12 16:00:42 +0000

    Debugs
    
    
    20080512160042-a41c0-84e8502c182dcc22056693478060d9b7a44fa002.gz

commit b696424577dcbd8eafd95cd9a52f3d6162b8e317
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-14 14:52:52 +0000

    When asserting on the absence of D-Bus signal, call synchronously a dummy D-Bus method to be sure to get the signal if any (avoid races)
    
    
    20080514145252-a41c0-2fb2288fd740c4b3f4918cf8e3ba5395c18677bd.gz

commit 403645de3c37f68455b28f94eef88f5685d6dfad
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-14 14:52:02 +0000

    Remove useless assertion on caps_changed_flag
    
    
    20080514145202-a41c0-0e86b49647a47acd2a7b77d83c4022ea4cb5b663.gz

commit a2316ff94b469e24b467063c95023162f904de17
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-14 11:56:27 +0000

    Remove debugs that I did not mean to record
    
    
    20080514115627-a41c0-3be91cf584e3cc6200819f48a2b17b3596865632.gz

commit c7d517b0bf9bf2d6278d2edb1830aad2549366de
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-14 11:56:11 +0000

    Fix comment about CAPABILITY_BUNDLE_ENOUGH_TRUST
    
    
    20080514115611-a41c0-f988e16f02dd352bbcb2070ad5e4ef328417f5aa.gz

commit 0a8dce2a2b4f7c95cd322fb96471b3c1db77077d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-14 11:54:31 +0000

    Do not advertise bundle since we use the verification string, except for voice-v1 for compatibility with Gabble 0.2 and Google Talk
    
    
    20080514115431-a41c0-6c1de1fcbaeec9656e32d77bfc52a955b78182e2.gz

commit d85942352b305996d05de76a265fbd36c30d5fee
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-14 10:47:38 +0000

    Add comment about the Google Talk voice-v1 bundle
    
    
    20080514104738-a41c0-a910e77d3b40740bc4a08206d3e9c2ef3fb67eb1.gz

commit 5b457814d44fb856332106e68cb98758942c84be
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-13 11:15:45 +0000

    Coding style
    
    
    20080513111545-a41c0-25bdb2365502875f4c82a374be7f7d3124f6240f.gz

commit 0b7075b4efd27acccedf1f6e98056cd5ef53d079
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-13 11:15:39 +0000

    Use tp_strdiff
    
    
    20080513111539-a41c0-6e2ae98a7be129ae33bbfee9d09f12f6da666986.gz

commit bb8bc78f601218f60a215dfd52ca773326bea241
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-13 11:11:18 +0000

    80 columns
    
    
    20080513111118-a41c0-634c123cbd83aaa62b26066d89002b32b5ec3ed5.gz

commit 6efa2555bba487b150a8e96f4a2ccf5a58170d41
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-13 11:00:05 +0000

    Use g_slice_free instead of g_slice_free1
    
    
    20080513110005-a41c0-c680f190f682f3425bde38aab8bb7683ff2a79ec.gz

commit 4bd9bda7b3c82bcc59935664820d49c0691e5b67
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-13 10:57:26 +0000

    comment on GPtrArray. Case field_name
    
    
    20080513105726-a41c0-7588f5d67da549d0fc338fe9a485585c9974cc6d.gz

commit 1534f16586dea46ce3b9a7d7efa62bf0c6f65a4f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-13 10:39:05 +0000

    Use typedef and CamelCase for all types
    
    
    20080513103905-a41c0-0bf6dbbe7d0750e01c16fe0f54c559e7aac36cb8.gz

commit 07f4e35b812807e9e189b9bd4ecda6dc8df8e0a6
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-13 10:35:19 +0000

    Remove unneeded casts
    
    
    20080513103519-a41c0-218ca503148eb3ceee1d44a037c2d6caa5e80ed1.gz

commit 4e4a27f0bc90685efd865c3f037265d131a825e2
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-13 10:29:33 +0000

    Coding style and simplification (review from smcv)
    
    
    20080513102933-a41c0-bc468d2c5c99f8ebd19e5848503ea77493fc4806.gz

commit 4a58490320cdc180166ed875ddc9b3c47968823e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-12 17:23:06 +0000

    Fix: also cache the caps set when there is a verification string
    
    
    20080512172306-a41c0-b75025aad5d4afa7df9d1c2e6256e1043e287296.gz

commit e0313ba86878f7f4cdc0964e963dbc5904973372
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-12 17:10:36 +0000

    Add test on caps cache
    
    
    20080512171036-a41c0-1a9a28d60c657f7da28f6d48b59fc3c4f0e41f88.gz

commit 2f565f543653186339a8c7eaeaa10ed83608b4bc
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-12 16:32:24 +0000

    Check the hash containing a XEP-0128 dataform
    
    
    20080512163224-a41c0-220ecacaf73c438412f0df7f6d5c2cef297794a7.gz

commit 88aae0c864453012fb083ef64231f81d5f8c898f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-12 16:14:49 +0000

    Coding style: remove unneeded spaces
    
    
    20080512161449-a41c0-ebba8d354207f65edb69e3b9dd3c694deb9dde4b.gz

commit 1eb9857b65108e29dd47c4e033fc2248d5b18c74
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-12 16:00:13 +0000

    Since I moved functions in caps-hash.c, change functions prefix to caps_hash
    
    
    20080512160013-a41c0-45eff4f7701fa08e16c12899d373aa92d6f4b07e.gz

commit 38eb9abf38291e05b5f9054710acf68c65046f20
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-12 16:00:13 +0000

    Since I moved functions in caps-hash.c, change functions prefix to caps_hash
    
    
    20080512160013-a41c0-45eff4f7701fa08e16c12899d373aa92d6f4b07e.gz

commit 920611a26afc5fe238ead1ed450797877fc19995
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-12 15:42:33 +0000

    Add comment on identity
    
    
    20080512154233-a41c0-8ff7994b9d5cc475d9f22fa66541edc1052e1f68.gz

commit 5104a0ec93be972338cabef4ad77d2b3c0584bc3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-12 15:42:33 +0000

    Add comment on identity
    
    
    20080512154233-a41c0-8ff7994b9d5cc475d9f22fa66541edc1052e1f68.gz

commit 0cb2432205bc6a5d0687ce5e2dd130a936f384ce
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-12 15:36:15 +0000

    Only sha-1 is implemented. Check that the received algorithm name is implemented
    
    
    20080512153615-a41c0-f8c0c58d64468bfbe7b7af56b1323c12b5945d7b.gz

commit e25c9d0f5317e3db77a61235c217d103e09b5679
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-12 15:36:15 +0000

    Only sha-1 is implemented. Check that the received algorithm name is implemented
    
    
    20080512153615-a41c0-f8c0c58d64468bfbe7b7af56b1323c12b5945d7b.gz

commit cbd22d65d4fb8aa9270947148a97c7144a5e3aea
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-12 14:54:00 +0000

    Fix parsing of dataforms (do not include "FORM_TYPE" in the verification string)
    
    
    20080512145400-a41c0-660a00c26d4db52702a3be80d41ae5da3258258f.gz

commit 6bafad5a9f7abb9775d92160e1e8db80b7b9d28d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-12 14:54:00 +0000

    Fix parsing of dataforms (do not include "FORM_TYPE" in the verification string)
    
    
    20080512145400-a41c0-660a00c26d4db52702a3be80d41ae5da3258258f.gz

commit 555fca0b45891a8dfa2e36df15b621b66e8b70de
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-09 18:54:10 +0000

    Fix the dataform parsing
    
    
    20080509185410-a41c0-4a9ad48758b047fceccee802a6aba211d055a528.gz

commit fbefdc331ebc3a8457ab0b8b49c322c2b7be93d6
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-09 18:54:10 +0000

    Fix the dataform parsing
    
    
    20080509185410-a41c0-4a9ad48758b047fceccee802a6aba211d055a528.gz

commit e4af8244b7ae2923f1915af17051b7d528eda0b2
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-09 17:10:01 +0000

    Move hash functions in a new file caps-hash.[ch]
    
    
    20080509171001-a41c0-717a00624ff62250c40a772840f88419b64df9dc.gz

commit ae0857382af1cdbbdad4882b7de6e20a8ce1b95e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-09 17:10:01 +0000

    Move hash functions in a new file caps-hash.[ch]
    
    
    20080509171001-a41c0-717a00624ff62250c40a772840f88419b64df9dc.gz

commit 953ca6b98f2be6191e058f7225ba194a7b889870
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-09 16:24:50 +0000

    Free temporary structures after hashing caps
    
    
    20080509162450-a41c0-75f8061bb2dc0af8a693122861c24b0c330ba84f.gz

commit 7fbcfb8495beb93fb032a144938a7c0063778378
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-09 16:24:50 +0000

    Free temporary structures after hashing caps
    
    
    20080509162450-a41c0-75f8061bb2dc0af8a693122861c24b0c330ba84f.gz

commit 0e64c201a482126d670b26d3abe0dd94a12362c9
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-09 14:34:57 +0000

    Makefile.am: fix conflicts with twisted tests changes
    
    
    20080509143457-a41c0-488311bde7035157e1600522d5098ea9f012f0f5.gz

commit 5014e6829403189dcc2f83ffaf0b912d1d82847c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-09 14:34:57 +0000

    Makefile.am: fix conflicts with twisted tests changes
    
    
    20080509143457-a41c0-488311bde7035157e1600522d5098ea9f012f0f5.gz

commit 59da38b16da4709983ef3dfeb5e1dbece0795db0
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-09 12:18:31 +0000

    test-caps-hash.py: new test for XEP-0115
    
    
    20080509121831-a41c0-6d3d9d04b40565e8f67a511b26c9f70c35f64f3f.gz

commit 08c3bab28eea3fb94c9c94cd49dfc1748548eb99
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-09 12:18:31 +0000

    test-caps-hash.py: new test for XEP-0115
    
    
    20080509121831-a41c0-6d3d9d04b40565e8f67a511b26c9f70c35f64f3f.gz

commit 6cc652c68cd9c3907337a69d47dc7605c853714c
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-08 17:19:42 +0000

    Implement hash for dataforms
    
    
    20080508171942-a41c0-c9e04d3daa788ae871a0c48c7b7c0fdceadd05e8.gz

commit 815cbc81cccc3fabe48ec187a28add9b29b91409
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-08 17:19:42 +0000

    Implement hash for dataforms
    
    
    20080508171942-a41c0-c9e04d3daa788ae871a0c48c7b7c0fdceadd05e8.gz

commit bc166775868d25fc6bddeba7750514624eff1feb
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-08 17:18:18 +0000

    Use g_str_equal. '==' does not work in C !
    
    
    20080508171818-a41c0-19033abd7235f1471ae2eb74aec191b5cda099f3.gz

commit 3221f3e4587bf8abf6d72c8982eb51bb8dd0b5b3
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-08 17:18:18 +0000

    Use g_str_equal. '==' does not work in C !
    
    
    20080508171818-a41c0-19033abd7235f1471ae2eb74aec191b5cda099f3.gz

commit cd129efb3011449d7939dca6f5a941b9dda7cd1e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-08 17:17:52 +0000

    Do not use freed string hash and ver
    
    
    20080508171752-a41c0-778eded49459bfd76a547e9f48c7477e5eacd305.gz

commit ddd20e3e3ce88e504f34d7e1e6710feb4df162c4
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-08 17:17:52 +0000

    Do not use freed string hash and ver
    
    
    20080508171752-a41c0-778eded49459bfd76a547e9f48c7477e5eacd305.gz

commit b55d09a3342c015c153297efcdefe238d3158403
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-08 10:13:09 +0000

    Fix loop
    
    
    20080508101309-a41c0-7f1a4ca32ef36287676009f1a9adaab14ece525d.gz

commit a0e50342b1d30e30c6af7d1b42a459b3e54bf2ed
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-08 10:13:09 +0000

    Fix loop
    
    
    20080508101309-a41c0-7f1a4ca32ef36287676009f1a9adaab14ece525d.gz

commit be83e5b5edf767c730b1fe4908c1f9168253b73a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-08 09:28:35 +0000

    Fix waiter->ver
    
    
    20080508092835-a41c0-d36693bf0eb22642a3e74f050f9e80a2ee238e4d.gz

commit 07202476adffaaf84312ae284c1bbd914d23d519
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-08 09:28:35 +0000

    Fix waiter->ver
    
    
    20080508092835-a41c0-d36693bf0eb22642a3e74f050f9e80a2ee238e4d.gz

commit 20b8e605d2851c00f20e91c6d198e6f16741e59d
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-07 15:24:37 +0000

    Check hash when we receive a caps from a contact
    
    
    20080507152437-a41c0-9ce1a77b5d372f2fa744a59b5aa74c939f514f5c.gz

commit 82484245e0100d6098309171d523171fd8a3ed61
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-07 15:24:37 +0000

    Check hash when we receive a caps from a contact
    
    
    20080507152437-a41c0-9ce1a77b5d372f2fa744a59b5aa74c939f514f5c.gz

commit 6da6bee8757bc4a6a139b21eae6f00f64128918b
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-07 10:37:18 +0000

    Use PACKAGE_STRING instead of hardcoded string
    
    
    20080507103718-a41c0-fee2de3e8e803e7aa03cb0321a8dd805cb010e56.gz

commit ea7ef8d13c2774505a70054f7e0b7171df02eff5
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-07 10:37:18 +0000

    Use PACKAGE_STRING instead of hardcoded string
    
    
    20080507103718-a41c0-fee2de3e8e803e7aa03cb0321a8dd805cb010e56.gz

commit 0647fd204c439ed862b8c32c9b4478e6e2398797
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-07 10:36:26 +0000

    Move gabble_presence_get_xep0115_hash() in presence.c
    
    
    20080507103626-a41c0-88682f5a72c410a72ed595722412f031ec3544d9.gz

commit 9e0ca1fbb73e87f7ee7ece0bc67d29d9bbfc4664
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-07 10:36:26 +0000

    Move gabble_presence_get_xep0115_hash() in presence.c
    
    
    20080507103626-a41c0-88682f5a72c410a72ed595722412f031ec3544d9.gz

commit 8003023c429dd31ec4f517b98ae43dd73bd106fb
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-06 15:29:26 +0000

    Reply to disco requests from XEP-0115, both version 1.3 and version 1.5
    
    
    20080506152926-a41c0-c4ff4abb3c07986622b51113d541f71eb5c5910a.gz

commit ed48ca02de135dc9ec1b2552c62993c8b52f20b8
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-06 15:29:26 +0000

    Reply to disco requests from XEP-0115, both version 1.3 and version 1.5
    
    
    20080506152926-a41c0-c4ff4abb3c07986622b51113d541f71eb5c5910a.gz

commit 5c2cfbf754edf65c4a0cb7ac360bfcbc48683f24
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-06 14:44:18 +0000

    Remove bogus comment
    
    
    20080506144418-a41c0-397e0a6179ad441a5b00215417d9ce0b7bb2d36e.gz

commit a8f45270df134cc8c96058b6944f2e9a4e43c1b4
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-06 14:44:18 +0000

    Remove bogus comment
    
    
    20080506144418-a41c0-397e0a6179ad441a5b00215417d9ce0b7bb2d36e.gz

commit 10a2ef23c5ea772ababefa68cd33923a72887709
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-06 14:41:58 +0000

    Coding style
    
    
    20080506144158-a41c0-1af53b24c91d0ba4178d451b90a3be8682da5383.gz

commit bd6d123f58344708a38ca6531d1307f4f640bae0
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-06 14:41:58 +0000

    Coding style
    
    
    20080506144158-a41c0-1af53b24c91d0ba4178d451b90a3be8682da5383.gz

commit a289a5ba7646667b0fc50a200707783c5d6bd0ed
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-06 14:12:11 +0000

    Revert deletion of 'ext' attribute in presence stanza: we need it for backward compatibility
    
    
    20080506141211-a41c0-95989c88681567b7358fe3323737b449428e0840.gz

commit eb0c4d644858047856f97715de230cf6e572c274
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-06 14:12:11 +0000

    Revert deletion of 'ext' attribute in presence stanza: we need it for backward compatibility
    
    
    20080506141211-a41c0-95989c88681567b7358fe3323737b449428e0840.gz

commit 4c4da79e5e5c1405befd604d472d152f5142b0b7
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-06 14:11:38 +0000

    Add comment on backward compatibility on feature bundle "voice-v1"
    
    
    20080506141138-a41c0-70697c5d88304d2d1e2d572225370a13711676d3.gz

commit 0805f0b9426de0832ca7090caa5d6a362a5564a8
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-06 14:11:38 +0000

    Add comment on backward compatibility on feature bundle "voice-v1"
    
    
    20080506141138-a41c0-70697c5d88304d2d1e2d572225370a13711676d3.gz

commit 5e60bc61ecfaf186391a430519d395f0f18e6d8a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-06 12:28:06 +0000

    Fix hash generation
    
    
    20080506122806-a41c0-7572286075f24fc40be3e35169595be9e646aa86.gz

commit 402e67af0f79d75ad503a77c4a4229b994721205
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-06 12:28:06 +0000

    Fix hash generation
    
    
    20080506122806-a41c0-7572286075f24fc40be3e35169595be9e646aa86.gz

commit c3324445bbe06e91a1c465a6689dbf5195106300
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-05 14:07:54 +0000

    Implement the hash as required by XEP-0115
    
    
    20080505140754-a41c0-9cb9dcb147ff8989bf2facfbc642dc7ea5bf8c80.gz

commit c3673c9e656e03868749a6a80f6ef3fbd75f2296
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-05 14:07:54 +0000

    Implement the hash as required by XEP-0115
    
    
    20080505140754-a41c0-9cb9dcb147ff8989bf2facfbc642dc7ea5bf8c80.gz

commit 6c7172ebca23fb1a08c8cebb454359bfae01b718
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-05 11:49:21 +0000

    XEP-0115: send an hash and reply to disco#hash iq queries
    
    
    20080505114921-a41c0-3cfe6538beb3c6eb9039465e006d930d7df9f00d.gz

commit 0637f67fd2d3c97f5d420b4d0b725800a5365a80
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-05-07 04:40:40 +0000

    gabbletest.py: split prepare_test into make_connection and make_stream
    
    
    20080507044040-c9803-6ea156e11016990eb67b85b9a9e2751baac3d12a.gz

commit 59d3e9e7ca5195c2cbb3709992203548790a70ae
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-05-07 04:38:43 +0000

    port test-caps-update.py to new test API
    
    
    20080507043843-c9803-4696871227c05cb35b364f56f67ab712ea9d6dc9.gz

commit 4dbc6d51d65b2b874d883fb52d6075ef52f47949
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-05-07 03:56:31 +0000

    servicetest.py: rename prepare_test to make_connection
    
    
    20080507035631-c9803-d190929dfc9275cf2003ed5e2a97c47a4bf3e7ad.gz

commit 5c6e7bc351eb10eab6ef5727c8ff0fad7e7d0a1b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-05-07 02:48:05 +0000

    port test-vcard-cache.py to new test API
    
    
    20080507024805-c9803-02b19f700e799f585cb1b1a54a85d0d0777d26aa.gz

commit 235516a5bcca02cb21c85e11513720e360dcee8b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-05-07 02:32:16 +0000

    gabbletest.py: rearrange code
    
    
    20080507023216-c9803-74114315c363b6772829372831a986d27700af70.gz

commit 97f448eef0611cb86b0456bef30cc1a3919c58ea
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-05-06 23:25:13 +0000

    gabbletest.py: simplify verbosity logic
    
    
    20080506232513-c9803-adbe8919bdad46e19d109ea586a356c231a1674b.gz

commit e899cbd91d0edb0dc8a7aa6da5c8176407917ead
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-05-06 23:23:45 +0000

    gabbletest.py/servicetest.py: pass in bus to prepare_test rather than creating it there
    
    
    20080506232345-c9803-3e9cf25493b7c76ba11dd8876affbd2d80e36fa9.gz

commit a4485737741baa433591c1e20ca97ad7fb2a0f47
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-05-06 21:04:05 +0000

    gabbletest.py: factor out colouring code
    
    
    20080506210405-c9803-c74a393e2a8458bba3698ef93244bdca680fcd95.gz

commit f651e97a977937fb32b1b8ecb7ed21f2984488e1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-22 14:44:46 +0000

    Fix README about individual C tests and tests under valgrind
    
    
    20080522144446-a41c0-b7d4c1fd34c62a874d936a0347466e5603ddc7ce.gz

commit 9b0d4bc4b96b6a00432dc57789cda1855ab0c12e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-22 14:09:24 +0000

    Fix test commands in the README file
    
    
    20080522140924-a41c0-75c078876b834d3e97705126f140d601625e0d88.gz

commit 82a1f8b9282a2849569527284e167a20685837c4
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-21 17:40:00 +0000

    Fix race in tests: do not request a channel before Gabble receive the caps
    
    
    20080521174000-a41c0-6890d3421577c30998884358f8394be776d08ba2.gz

commit 8ff1a4c3a4829519a2f7d1cb3a498d43c233a863
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-05-07 02:27:11 +0000

    gabbletest.py: add sync_stream function to allow forcing processing of sent stanzas
    
    
    20080507022711-c9803-c1661ece9b5493301293a96c9d96d3ab69ebdc3b.gz

commit df630b99d0b67a66c0cfd48d3ed157edf926cf74
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-14 10:54:37 +0000

    version 0.7.6
    
    
    20080514105437-7fe3f-f76d483d54e2ca867a111a7d1bcabddf1071195d.gz

commit 58caa6d6d7d51f320a19f0707c653dd9aca52942
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-14 10:47:56 +0000

    improve NEWS about 0.7.6
    
    
    20080514104756-7fe3f-de4a99cd0b438e6ef7a3fb6d34a469945c3711e4.gz

commit 9534ca5678f9414ecff3541fa54ff9eb76f7029d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-14 10:43:29 +0000

    version 0.7.6
    
    
    20080514104329-7fe3f-72344335c46250f605534b14822a795594428308.gz

commit c5c1625c603a1964cd56941bb8f954a047a3a3dc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-14 10:41:24 +0000

    write NEWS for 0.7.6
    
    
    20080514104124-7fe3f-901094811a0226059e90c326360f95321a0cb6c0.gz

commit c7a207e0bb00a20e01916ae0ddef0d6a15289705
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-12 11:32:34 +0000

    test-incoming-call.py: use sets when checking members
    
    
    20080512113234-7fe3f-63aab58bf62917d029d53f76df9528fa85bcd41b.gz

commit b40f76e653a0da50c0d12999241b8eef635a7209
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-12 11:29:38 +0000

    gabble-media-channel: use mixin->members directly
    
    
    20080512112938-7fe3f-192bd65bbe37a152303bb9493d1bd05ad5bfa988.gz

commit dc45ddc0eebf651a93210d360f3c498bc1b6f6f8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-12 11:24:11 +0000

    gabble-media-channel: esthetic trivial tweak
    
    
    20080512112411-7fe3f-ea29b6eed2ba30a0dc694c914f0454306bd41491.gz

commit 16a19bc53d413e85d5c61a8e98cb54389cda3b22
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-12 11:09:10 +0000

    gabble-media-channel: don't move peer to remote-pending if he's already in members (Close fd.o #15791)
    
    
    20080512110910-7fe3f-11a05052b4bc7b4410338a6c3991db68a2b5c054.gz

commit f1d043225fc7fd11b45ffe1172dc585090f04900
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-12 11:06:38 +0000

    test-incoming-call.py: add a regression test for fd.o #15791
    
    
    20080512110638-7fe3f-bea52474bc9f3d1d15600b27be0f3d4eaa705740.gz

commit 6c5d1a078f47ee00d8f09a6b4db923128223ce01
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-12 11:00:49 +0000

    gabble-media-channel.c: move comment as now we don't always add the peer to the members list
    
    
    20080512110049-7fe3f-365631bbc5c3659d2138819376eea02aa8dc1a48.gz

commit 0deb6210c877b08c1b3fe9509b97d25ea5f8fb21
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-12 10:44:40 +0000

    test-incoming-call.py: check if we are moved the members when accepting the call
    
    
    20080512104440-7fe3f-a2e0ede72d07805a8e59e6d9d6cc753673a98e1e.gz

commit b809c8c27933038f6937782f256a2b421b39524d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-12 10:43:59 +0000

    test-incoming-call.py: check if the caller is properly moved to members
    
    
    20080512104359-7fe3f-42d9a6955de5ad23af830ce0785fab1d01f85c53.gz

commit 3511cb64457f27f6e43dd9b061e46ea952e07cd3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-12 10:42:58 +0000

    test-incoming-call.py: Gabble now sets the caller as actor in MembersChanged when our self handle is moving to local-pending
    
    
    20080512104258-7fe3f-0c9440c4950b9aa420df12f55fa5f1f29dda69e9.gz

commit 61371ae5dd337d4e77f992815fe5c27fc7232c4a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-09 15:16:27 +0000

    Alter PYTHONPATH so gabbleconfig.py is picked up correctly in out-of-tree builds, fixing distcheck
    
    
    20080509151627-53eee-ab037d0eccab37b238e1aa3405c1bdcbf6d1d735.gz

commit 4207d5138084304c9e53eb0f0d43c5d72c602ea7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-09 12:37:09 +0000

    Now that we depend on telepathy-glib >= 0.7.6 anyway, we might as well implement CallState. However, omit it from GetInterfaces() to avoid making clients think we have a proper implementation
    
    
    20080509123709-53eee-774f7ed592265396e659a5e67475a7e1e04e04cf.gz

commit 788c686326d0930a46b22fcc90a5bc66b2d45ebe
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-09 12:31:32 +0000

    Fix generation of extensions/extensions.html (fd.o #15422)
    
    
    20080509123132-53eee-7e4a20596a10ebb0f120e608355c57bcf5496f3d.gz

commit 9199f171b8c702aaa557a95cc596a46b83e41629
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-09 12:23:25 +0000

    Remove Channel_Interface_Hold from extensions/
    
    
    20080509122325-53eee-2c67dbe30c8c4182cf06afb6a224dd001300beb9.gz

commit 3d5e98238b5621a3a67db906ccda1c6dba78530a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-09 12:22:16 +0000

    GabbleMediaChannel: use telepathy-glib's version of the Hold API
    
    
    20080509122216-53eee-c6854c4f50600811e0175c490e870e7adbfc0148.gz

commit c4825c53877abc723d3dc814f69dad6bf6330a14
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-09 12:22:06 +0000

    Require telepathy-glib 0.7.8 (for Hold)
    
    
    20080509122206-53eee-b438fd0da81525669848349ed40a63ebbdce8890.gz

commit e9e948bed4964163583790b422aecfe0167fc528
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-08 08:57:48 +0000

    Update Hold API docs from telepathy-spec 0.17.3.1
    
    
    20080508085748-53eee-1178baec38694b13f5307992dbed04363859a249.gz

commit 87241ce14a9cc90ad0e8924550e38403e751a3b1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-07 16:05:36 +0000

    Adapt check-coding-style hook
    
    
    20080507160536-53eee-2cc37e3a34fda74d3e319a4f6206f807d3e1c550.gz

commit b481375c912a66e67d44d0729c655c00234ff43e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-07 15:55:02 +0000

    Allow unstable extension interfaces (for Hold)
    
    
    20080507155502-53eee-8af837ca46ec637a93d64d186a712cb580d6cb7e.gz

commit a1fa3e3824f903db8bdee87519c831b154c5c64f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-07 15:53:51 +0000

    Require telepathy-glib 0.7.3 due to updated code-gen tools
    
    
    20080507155351-53eee-57fa379af60bad7a707934a0757e5e69524928c0.gz

commit ce7c6f7be5c55999d8a93b22ec5df83c684e293a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-07 15:52:31 +0000

    Update code-gen tools from telepathy-glib
    
    
    20080507155231-53eee-ce404ef66ef46faab6ae2c46cc2f7efdd40f6263.gz

commit 7cd808417a5f6256e95340850bc292b5d819a94c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-09 12:14:14 +0000

    Don't claim support for the CallStates interface unless we're actually compiling it (it's effectively #if 0 at the moment)
    
    
    20080509121414-53eee-d9520544a20f28d4248c00752c98ea5002071c37.gz

commit e865a90bac494669e8fb490b58466b1d601295ab
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-07 15:34:50 +0000

    Rephrase comment to avoid needing #if 0
    
    
    20080507153450-53eee-4374c795a9bc49ab879695016baf2916a768f01c.gz

commit 97048dc6a6301e99de12ee10823dd303e0b01d9f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-07 15:31:58 +0000

    Rephrase comment about why we're not strictly following XEP-0153, to avoid having #if 0'd code
    
    
    20080507153158-53eee-aec58f9a69b519eaf353111da812cd4d505342e5.gz

commit 51ebcd38ec12eace9bb0473cd42d134c30ac7f85
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-05-08 18:39:56 +0000

    re-order test-capabilities.py to test that we go from none -> video + audio -> audio -> none correctly
    
    
    20080508183956-418b8-a22cb658d43ce19cf0b0e3e96e5cc41c271e40f4.gz

commit a8b6d341de535678f899400267b22ca2635ee1f2
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-05-08 18:39:37 +0000

    store disco query node attributes in the event objects in the test suite
    
    
    20080508183937-418b8-b1fecc4f87785dbd3939c926766cecf526f9b3e1.gz

commit d7ae8c1f0188f506182ccae64d3cddf6bab5068e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-05-08 11:41:59 +0000

    remove test-caps-update.py as it is redundant in light of test-capabilities.py's new/existing checks for CapabilitiesChanged, and fails due to assuming a 1:1 correspondence between having just the jingle audio/video transports and being audio/video callable. these capabilities now depend on the jingle transports as well as gabble's intrinsic jingle and google p2p features.
    
    
    20080508114159-418b8-9b9a7c7633f7476d175886f1870257dc0bd86f57.gz

commit fb475e01c57c16edff0e22f813b2ec38e90813c5
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-05-08 11:41:20 +0000

    update test-capabilities to test that adding a new capability later (adding video in this case) causes another CapabilitiesChanged signal
    
    
    20080508114120-418b8-014da69857d9ed9d5685c7055fb5ccccd3aad28c.gz

commit 8ca5a110b3ddce559f765fd6a6d67ff16f22806d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-05-08 11:07:50 +0000

    fix test-capabilities.py - add google p2p transport to the capabilities so that audio calling is possible
    
    
    20080508110750-418b8-ac0a0f3a850a7ba3eaafbd55496f150804fde58a.gz

commit b225e783b44d30a05f8bd24c17c6924846dbd314
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-05-06 13:15:58 +0000

    actually exclude dbus tube tests if they're not supported
    
    
    20080506131558-01440-4575693dec730e57860b7b206aab34ed91ee5d2c.gz

commit a30abf610f3edde194a8aa0c118ca7bfa4604a07
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-05-06 13:14:44 +0000

    don't explicitly wait for CONNECTED, so we don't have to deal signal delivery races (2/2)
    
    
    20080506131444-01440-223d50fc8e45e0f72b15c6d69be35c7475f818a8.gz

commit b3e0969862a5f374d0cc64c150203ef2114149d1
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-05-06 13:11:50 +0000

    deal with possible races in signal delivery (1/2)
    
    
    20080506131150-01440-3ee46f0547e0cb47cd997f640675a61dd5c96cf3.gz

commit 144c67b26cee0f05c3e5ee366597a5abaa781fda
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-05-06 13:10:40 +0000

    don't shadow param name
    
    
    20080506131040-01440-e75d684862999563fd3ce1bcbaea73d6976329ad.gz

commit 47ec33515cbbc7b5c3de54f12584474c2f7b2156
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-05-06 13:09:45 +0000

    test dbus tubes only if they're supported
    
    
    20080506130945-01440-e2e9c63ec58094ec32c42aa6af401fa5323e449a.gz

commit 14bbc0e4de38b0db0d3f99984085fb83b96f4637
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-06 14:36:41 +0000

    In Twisted tests, use the correct version of Python
    
    
    20080506143641-53eee-49c72bb134c4df78e38b370f0a1868e1167b4e23.gz

commit 3023211d99e56ce930bfb391b92db34bc2f52cdd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-06 14:36:24 +0000

    Check for a Python suitable for running the tests separately
    
    
    20080506143624-53eee-2d5c04182bc20dd7dfe2d2342f1f6a2a3dd849c6.gz

commit 7af77fbfcc493250c3183d8e8d73ee4918c9a172
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-06 14:35:58 +0000

    Add a comment explaining why we look for an *old* version of Python by preference
    
    
    20080506143558-53eee-ddb74fe4f4344c80e11419130e011c730f05579e.gz

commit d7684ad26e2ad13a213f37d670f90930dc5e0d67
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-05-06 19:29:51 +0000

    remove #if 0'd hacky _presence_node_has_google_voice function which has been unused from 0.3.x days
    
    
    20080506192951-418b8-6e4083d52f016b0fcbe0e5c871d097740f8bdaaf.gz

commit f8fda52c93c4e76c73652ee2811d2cef5aa57d13
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-05-06 12:32:26 +0000

    correct _gabble_media_channel_typeflags_to_caps and _gabble_media_channel_caps_to_typeflags to match the semantics of _gabble_media_session_request_streams when deciding what stream types are available.
    
    Specifically, a) we must have GTalk-P2P transport available in order to place
    /any/ calls because it is the only transport we can signal atm, b) any 3rd
    party with Google voice capability is always audio callable, and c) to make
    Jingle audio/video calls to 3rd parties, they must also support Jingle and
    GTalk-P2P. Fixes #15656.
    
    20080506123226-418b8-67895899d5e05e7b1689db970bc2974c8457dd98.gz

commit d7a0057b7fe4aa8fec2a526713bf8fc1cd58d57e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-05-06 12:31:18 +0000

    add a note to _gabble_media_session_request_streams reminding people to also check that _gabble_media_channel_typeflags_to_caps and _gabble_media_channel_caps_to_typeflags are kept up to date
    
    
    20080506123118-418b8-b5708ae5318baf6a7bb2a9fa36db375309129c39.gz

commit da5a413bd8028ec578a71f15f0fa682739dfb4ab
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-05-06 12:16:52 +0000

    avoid duplicating the required PRESENCE_CAP_* for a person to be callable
    
    by calling _gabble_media_channel_caps_to_typeflags instead (this just applies
    to the trivial checking in AddMembers, only relevant when using the
    pre-0.17.2 spec method of adding the member before requesting streams is being
    used)
    
    20080506121652-418b8-5d31be253bb22c2a846e33359648ac6aa4bde433.gz

commit 8b904404bbe2307e020a32df1b988adeae13c503
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-05 12:21:38 +0000

    Nano version 0.7.5.1
    
    
    20080505122138-53eee-be55bf529837944079029146ac4933f9c0fc6b58.gz

commit 2d8bcf42f44cab41c388319b93d5326524137891
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-05 11:49:21 +0000

    XEP-0115: send an hash and reply to disco#hash iq queries
    
    
    20080505114921-a41c0-3cfe6538beb3c6eb9039465e006d930d7df9f00d.gz

commit 0f2037a1c383c3022cc854731c0a85d9939482a8
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-05-07 04:40:40 +0000

    gabbletest.py: split prepare_test into make_connection and make_stream
    
    
    20080507044040-c9803-6ea156e11016990eb67b85b9a9e2751baac3d12a.gz

commit 1e136ed48269e84e8eb1d6c146f072fa3659ab42
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-05-07 04:38:43 +0000

    port test-caps-update.py to new test API
    
    
    20080507043843-c9803-4696871227c05cb35b364f56f67ab712ea9d6dc9.gz

commit 688b0e31f917fc5738d5d48e0858857348b6a447
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-05-07 03:56:31 +0000

    servicetest.py: rename prepare_test to make_connection
    
    
    20080507035631-c9803-d190929dfc9275cf2003ed5e2a97c47a4bf3e7ad.gz

commit ac58a6d7405af7f46fec5985fc81c606b86d02be
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-05-07 02:48:05 +0000

    port test-vcard-cache.py to new test API
    
    
    20080507024805-c9803-02b19f700e799f585cb1b1a54a85d0d0777d26aa.gz

commit 28b62ba6244dd591accb2ba6532e3c238d13faab
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-05-07 02:32:16 +0000

    gabbletest.py: rearrange code
    
    
    20080507023216-c9803-74114315c363b6772829372831a986d27700af70.gz

commit dd94ef04e5ce2b6a6d2a75b8882327f0e857dd73
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-05-06 23:25:13 +0000

    gabbletest.py: simplify verbosity logic
    
    
    20080506232513-c9803-adbe8919bdad46e19d109ea586a356c231a1674b.gz

commit af0c9152c1ccf31043dd0ed5bc9666fae0e13dbe
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-05-06 23:23:45 +0000

    gabbletest.py/servicetest.py: pass in bus to prepare_test rather than creating it there
    
    
    20080506232345-c9803-3e9cf25493b7c76ba11dd8876affbd2d80e36fa9.gz

commit 1cef39ddc1d8e80f8c484cff66b770a9f2911a1b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-05-06 21:04:05 +0000

    gabbletest.py: factor out colouring code
    
    
    20080506210405-c9803-c74a393e2a8458bba3698ef93244bdca680fcd95.gz

commit 832ceb1627a3a839e3baa6f2b6717e0c0c522a02
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-22 14:44:46 +0000

    Fix README about individual C tests and tests under valgrind
    
    
    20080522144446-a41c0-b7d4c1fd34c62a874d936a0347466e5603ddc7ce.gz

commit 4d141cb624af964d09875ac592a2b64a511f8c8f
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-22 14:09:24 +0000

    Fix test commands in the README file
    
    
    20080522140924-a41c0-75c078876b834d3e97705126f140d601625e0d88.gz

commit e5e343cb0360a80bdf545c1ae0aee8ef9940e208
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-21 17:40:00 +0000

    Fix race in tests: do not request a channel before Gabble receive the caps
    
    
    20080521174000-a41c0-6890d3421577c30998884358f8394be776d08ba2.gz

commit 83a5e114799e3e7ba9e611643f828944fd2b0c16
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-05-07 02:27:11 +0000

    gabbletest.py: add sync_stream function to allow forcing processing of sent stanzas
    
    
    20080507022711-c9803-c1661ece9b5493301293a96c9d96d3ab69ebdc3b.gz

commit 7c01d36c95191b31c93aeadc2c7a4ac30e3d5647
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-14 10:54:37 +0000

    version 0.7.6
    
    
    20080514105437-7fe3f-f76d483d54e2ca867a111a7d1bcabddf1071195d.gz

commit ae915c302417d6b6d1668886054e6a9ae71c2694
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-14 10:47:56 +0000

    improve NEWS about 0.7.6
    
    
    20080514104756-7fe3f-de4a99cd0b438e6ef7a3fb6d34a469945c3711e4.gz

commit 913e4d612f43f78ae40b8294c6154b77aadb4f27
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-14 10:43:29 +0000

    version 0.7.6
    
    
    20080514104329-7fe3f-72344335c46250f605534b14822a795594428308.gz

commit 4aa192fe54b084705a42ce1cb4de8f68ba35cee5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-14 10:41:24 +0000

    write NEWS for 0.7.6
    
    
    20080514104124-7fe3f-901094811a0226059e90c326360f95321a0cb6c0.gz

commit a676d93f9842a547319667765f9e6ee9f8530433
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-12 11:32:34 +0000

    test-incoming-call.py: use sets when checking members
    
    
    20080512113234-7fe3f-63aab58bf62917d029d53f76df9528fa85bcd41b.gz

commit 1a7184072109d65f24c9f891039cc1fdbbf730f8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-12 11:29:38 +0000

    gabble-media-channel: use mixin->members directly
    
    
    20080512112938-7fe3f-192bd65bbe37a152303bb9493d1bd05ad5bfa988.gz

commit 81f58fb333caf63d371e3b3e694b3e6924bf543c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-12 11:24:11 +0000

    gabble-media-channel: esthetic trivial tweak
    
    
    20080512112411-7fe3f-ea29b6eed2ba30a0dc694c914f0454306bd41491.gz

commit 8525fb6d3527592507c266df60bd0cde6d652321
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-12 11:09:10 +0000

    gabble-media-channel: don't move peer to remote-pending if he's already in members (Close fd.o #15791)
    
    
    20080512110910-7fe3f-11a05052b4bc7b4410338a6c3991db68a2b5c054.gz

commit 2a1296bbe99283722bb668a9fc2c565e56f7193b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-12 11:06:38 +0000

    test-incoming-call.py: add a regression test for fd.o #15791
    
    
    20080512110638-7fe3f-bea52474bc9f3d1d15600b27be0f3d4eaa705740.gz

commit 068d032c5038bdf449693db4a7d4ca5b04f68317
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-12 11:00:49 +0000

    gabble-media-channel.c: move comment as now we don't always add the peer to the members list
    
    
    20080512110049-7fe3f-365631bbc5c3659d2138819376eea02aa8dc1a48.gz

commit b500f66c71f77c06fdc9fde23b612b3b7fc655f4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-12 10:44:40 +0000

    test-incoming-call.py: check if we are moved the members when accepting the call
    
    
    20080512104440-7fe3f-a2e0ede72d07805a8e59e6d9d6cc753673a98e1e.gz

commit 54e91d8d952cbb4e8f1494a131668a81ad857a50
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-12 10:43:59 +0000

    test-incoming-call.py: check if the caller is properly moved to members
    
    
    20080512104359-7fe3f-42d9a6955de5ad23af830ce0785fab1d01f85c53.gz

commit c40e9f125d01ea5a540e474f99a0a905d63226b0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-12 10:42:58 +0000

    test-incoming-call.py: Gabble now sets the caller as actor in MembersChanged when our self handle is moving to local-pending
    
    
    20080512104258-7fe3f-0c9440c4950b9aa420df12f55fa5f1f29dda69e9.gz

commit 18b92294a45d941877a2890b865bf320f3ddf634
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-09 15:16:27 +0000

    Alter PYTHONPATH so gabbleconfig.py is picked up correctly in out-of-tree builds, fixing distcheck
    
    
    20080509151627-53eee-ab037d0eccab37b238e1aa3405c1bdcbf6d1d735.gz

commit ebab18b48d2e65e8827951c8d0a4f9eed13e29f8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-09 12:37:09 +0000

    Now that we depend on telepathy-glib >= 0.7.6 anyway, we might as well implement CallState. However, omit it from GetInterfaces() to avoid making clients think we have a proper implementation
    
    
    20080509123709-53eee-774f7ed592265396e659a5e67475a7e1e04e04cf.gz

commit 0d2ce27688e4ff3a9211c4d261898745751acda4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-09 12:31:32 +0000

    Fix generation of extensions/extensions.html (fd.o #15422)
    
    
    20080509123132-53eee-7e4a20596a10ebb0f120e608355c57bcf5496f3d.gz

commit 8b6a768e48c9080929fecb759946e040b89d012a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-09 12:23:25 +0000

    Remove Channel_Interface_Hold from extensions/
    
    
    20080509122325-53eee-2c67dbe30c8c4182cf06afb6a224dd001300beb9.gz

commit a6687980bfd2817806673362e7931cd11a43ae95
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-09 12:22:16 +0000

    GabbleMediaChannel: use telepathy-glib's version of the Hold API
    
    
    20080509122216-53eee-c6854c4f50600811e0175c490e870e7adbfc0148.gz

commit a7deb841cbcec8c1fe321dd23616dcf3232fc7d8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-09 12:22:06 +0000

    Require telepathy-glib 0.7.8 (for Hold)
    
    
    20080509122206-53eee-b438fd0da81525669848349ed40a63ebbdce8890.gz

commit 0e8250d0c6982fbe9f2926724597441fc51833c7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-08 08:57:48 +0000

    Update Hold API docs from telepathy-spec 0.17.3.1
    
    
    20080508085748-53eee-1178baec38694b13f5307992dbed04363859a249.gz

commit b9c8d50a0bd97c1b5f770483626a370a50c91b3a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-07 16:05:36 +0000

    Adapt check-coding-style hook
    
    
    20080507160536-53eee-2cc37e3a34fda74d3e319a4f6206f807d3e1c550.gz

commit 2a0a24d5228b1d367a2fb6913c52d8fc170bed1e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-07 15:55:02 +0000

    Allow unstable extension interfaces (for Hold)
    
    
    20080507155502-53eee-8af837ca46ec637a93d64d186a712cb580d6cb7e.gz

commit 8e6d6e993aa635adbc68ce793d7cc4a09bb17a65
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-07 15:53:51 +0000

    Require telepathy-glib 0.7.3 due to updated code-gen tools
    
    
    20080507155351-53eee-57fa379af60bad7a707934a0757e5e69524928c0.gz

commit df80b8c9097b00a228dedaa4cb26a473b934b64e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-07 15:52:31 +0000

    Update code-gen tools from telepathy-glib
    
    
    20080507155231-53eee-ce404ef66ef46faab6ae2c46cc2f7efdd40f6263.gz

commit 77e96e2b01abf3fdc0b72e665d6eceefbb3352f3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-09 12:14:14 +0000

    Don't claim support for the CallStates interface unless we're actually compiling it (it's effectively #if 0 at the moment)
    
    
    20080509121414-53eee-d9520544a20f28d4248c00752c98ea5002071c37.gz

commit 677187954cd91c601bd45a598e853639b9841f27
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-07 15:34:50 +0000

    Rephrase comment to avoid needing #if 0
    
    
    20080507153450-53eee-4374c795a9bc49ab879695016baf2916a768f01c.gz

commit 96d8168548542cff7ef0a1e91c4a5dc6d716f57c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-07 15:31:58 +0000

    Rephrase comment about why we're not strictly following XEP-0153, to avoid having #if 0'd code
    
    
    20080507153158-53eee-aec58f9a69b519eaf353111da812cd4d505342e5.gz

commit 1b53a80d4b09b6ce7164c73be562f9a12fae148a
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-05-08 18:39:56 +0000

    re-order test-capabilities.py to test that we go from none -> video + audio -> audio -> none correctly
    
    
    20080508183956-418b8-a22cb658d43ce19cf0b0e3e96e5cc41c271e40f4.gz

commit d634c406fb23d455de16cebff845e55fdfaa6b09
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-05-08 18:39:37 +0000

    store disco query node attributes in the event objects in the test suite
    
    
    20080508183937-418b8-b1fecc4f87785dbd3939c926766cecf526f9b3e1.gz

commit ffb7179264796f1da7c44eb6589d349c9bbc698d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-05-08 11:41:59 +0000

    remove test-caps-update.py as it is redundant in light of test-capabilities.py's new/existing checks for CapabilitiesChanged, and fails due to assuming a 1:1 correspondence between having just the jingle audio/video transports and being audio/video callable. these capabilities now depend on the jingle transports as well as gabble's intrinsic jingle and google p2p features.
    
    
    20080508114159-418b8-9b9a7c7633f7476d175886f1870257dc0bd86f57.gz

commit e5201e81cb79a79c95c1850cb2191da50708ee33
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-05-08 11:41:20 +0000

    update test-capabilities to test that adding a new capability later (adding video in this case) causes another CapabilitiesChanged signal
    
    
    20080508114120-418b8-014da69857d9ed9d5685c7055fb5ccccd3aad28c.gz

commit 5cce0199bd58c0e71770856770fd1d096bcf536b
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-05-08 11:07:50 +0000

    fix test-capabilities.py - add google p2p transport to the capabilities so that audio calling is possible
    
    
    20080508110750-418b8-ac0a0f3a850a7ba3eaafbd55496f150804fde58a.gz

commit ee2f87931e9323198206555c420e9c2465717dca
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-05-06 13:15:58 +0000

    actually exclude dbus tube tests if they're not supported
    
    
    20080506131558-01440-4575693dec730e57860b7b206aab34ed91ee5d2c.gz

commit 4d2cc8ecbb04807179592ad45e20af3b1bd84698
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-05-06 13:14:44 +0000

    don't explicitly wait for CONNECTED, so we don't have to deal signal delivery races (2/2)
    
    
    20080506131444-01440-223d50fc8e45e0f72b15c6d69be35c7475f818a8.gz

commit fb981fcae7e874565c47c0c43a6f35fcb67b6185
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-05-06 13:11:50 +0000

    deal with possible races in signal delivery (1/2)
    
    
    20080506131150-01440-3ee46f0547e0cb47cd997f640675a61dd5c96cf3.gz

commit 5e53e702e4431d126f3e0907151d42f119a1a827
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-05-06 13:10:40 +0000

    don't shadow param name
    
    
    20080506131040-01440-e75d684862999563fd3ce1bcbaea73d6976329ad.gz

commit 59dafb29f09cfcacc41fcb4c5e12a3aa91848dc0
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-05-06 13:09:45 +0000

    test dbus tubes only if they're supported
    
    
    20080506130945-01440-e2e9c63ec58094ec32c42aa6af401fa5323e449a.gz

commit acccc6eab95752c10005d601d2c45100d51816f9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-06 14:36:41 +0000

    In Twisted tests, use the correct version of Python
    
    
    20080506143641-53eee-49c72bb134c4df78e38b370f0a1868e1167b4e23.gz

commit 7f6ef9f2ca7fb64db2c4dd9b3a694ced92f788ea
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-06 14:36:24 +0000

    Check for a Python suitable for running the tests separately
    
    
    20080506143624-53eee-2d5c04182bc20dd7dfe2d2342f1f6a2a3dd849c6.gz

commit 2113d34e54964b59589c418cef6e04d18fc65a55
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-06 14:35:58 +0000

    Add a comment explaining why we look for an *old* version of Python by preference
    
    
    20080506143558-53eee-ddb74fe4f4344c80e11419130e011c730f05579e.gz

commit d924d89c49095a5f60a1a78b353eb6bfde6218f8
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-05-06 19:29:51 +0000

    remove #if 0'd hacky _presence_node_has_google_voice function which has been unused from 0.3.x days
    
    
    20080506192951-418b8-6e4083d52f016b0fcbe0e5c871d097740f8bdaaf.gz

commit f9e7ef86ed5ca5d8d3309fec7ba816dfe3190172
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-05-06 12:32:26 +0000

    correct _gabble_media_channel_typeflags_to_caps and _gabble_media_channel_caps_to_typeflags to match the semantics of _gabble_media_session_request_streams when deciding what stream types are available.
    
    Specifically, a) we must have GTalk-P2P transport available in order to place
    /any/ calls because it is the only transport we can signal atm, b) any 3rd
    party with Google voice capability is always audio callable, and c) to make
    Jingle audio/video calls to 3rd parties, they must also support Jingle and
    GTalk-P2P. Fixes #15656.
    
    20080506123226-418b8-67895899d5e05e7b1689db970bc2974c8457dd98.gz

commit 3e415d6616702e1f599c9aa0d1d9a54a7e962c60
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-05-06 12:31:18 +0000

    add a note to _gabble_media_session_request_streams reminding people to also check that _gabble_media_channel_typeflags_to_caps and _gabble_media_channel_caps_to_typeflags are kept up to date
    
    
    20080506123118-418b8-b5708ae5318baf6a7bb2a9fa36db375309129c39.gz

commit bdae6c5750fabb6df8ee8c2ae341a42a0300411c
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-05-06 12:16:52 +0000

    avoid duplicating the required PRESENCE_CAP_* for a person to be callable
    
    by calling _gabble_media_channel_caps_to_typeflags instead (this just applies
    to the trivial checking in AddMembers, only relevant when using the
    pre-0.17.2 spec method of adding the member before requesting streams is being
    used)
    
    20080506121652-418b8-5d31be253bb22c2a846e33359648ac6aa4bde433.gz

commit aa1901af5a1dbf52ff7a3f5fc8b09c67d1ba4413
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-05 12:21:38 +0000

    Nano version 0.7.5.1
    
    
    20080505122138-53eee-be55bf529837944079029146ac4933f9c0fc6b58.gz

commit 3cad0515231a9e88ec2b8f73a7899541b3abd062
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-05 11:33:40 +0000

    Update NEWS, configure.ac for 0.7.5
    
    
    20080505113340-53eee-fd8e4a52d4ba3a60c07e860ac10eec296efc8604.gz

commit 1b8511eda3660aea48352284cdfa0a27cbf37376
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-05 11:33:40 +0000

    Update NEWS, configure.ac for 0.7.5
    
    
    20080505113340-53eee-fd8e4a52d4ba3a60c07e860ac10eec296efc8604.gz

commit b820ee2e81000a6ffbd1d0fab674ac622b3768f5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-05 11:28:36 +0000

    Update NEWS
    
    
    20080505112836-53eee-bf9047326ae4aba315e7e124d9d33f40e761955a.gz

commit c49beb44d114dce0bc443524b1bb2add1bd77783
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-05 11:28:36 +0000

    Update NEWS
    
    
    20080505112836-53eee-bf9047326ae4aba315e7e124d9d33f40e761955a.gz

commit 90a7bd0b0ff4ec4c04eb6826a6ada72900f7c33c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-05 09:42:45 +0000

    Amend NEWS to indicate that #15095 wasn't actually fixed in 0.7.4
    
    
    20080505094245-53eee-7ce87ce46e569bd864598d614ff55c0ecc4c9fbd.gz

commit 1e6a90670d6b7efce2d6e43a32e7c2f3e17f24fa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-05 09:42:45 +0000

    Amend NEWS to indicate that #15095 wasn't actually fixed in 0.7.4
    
    
    20080505094245-53eee-7ce87ce46e569bd864598d614ff55c0ecc4c9fbd.gz

commit 0edd3d22dc1bd028b0aa51ca98a5139fabe3c1f1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-02 10:47:13 +0000

    test-olpc-set-props-preload.py: port to new test API
    
    
    20080502104713-7fe3f-0fa5f73ccdd0f2f2461a87b7448589fe69ada4f5.gz

commit efab267d76c252013cf4bb54f8b11a8832594ee7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-02 10:47:13 +0000

    test-olpc-set-props-preload.py: port to new test API
    
    
    20080502104713-7fe3f-0fa5f73ccdd0f2f2461a87b7448589fe69ada4f5.gz

commit 29dcb89f3d03671327f9bcbc4111672fe7cb9b98
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-02 10:18:47 +0000

    olpc-muc-prop-change.py: port to new test API
    
    
    20080502101847-7fe3f-bf9fc52258e04de34ba8c196b66bd6e5087d6ce6.gz

commit 96152742713d1517c4095f1a739630bd99b5033f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-02 10:18:47 +0000

    olpc-muc-prop-change.py: port to new test API
    
    
    20080502101847-7fe3f-bf9fc52258e04de34ba8c196b66bd6e5087d6ce6.gz

commit f4d9ae6862a4f1946e7ced11c5054b4c559a991a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-02 10:01:38 +0000

    olpc-muc-invitation.py: port to new test API
    
    
    20080502100138-7fe3f-f04d122ca95a6c0fba8443e479702e2467d3d273.gz

commit b01b6dd5ec3e94c5af4d58364cfd2be2ebe0fee0
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-05-03 19:06:25 +0000

    port test-capabilities.py to new test API
    
    
    20080503190625-c9803-371b57ae7be44465f139a30778a8687a394b85a4.gz

commit be3ff19a131b01168e1435e829cbb77465aab1b2
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-05-03 19:01:28 +0000

    gabbletest.py: if root element is passed to streamStarted, copy ID from it to xmlstream session ID for compatibility with Twisted Words 8.0
    
    
    20080503190128-c9803-23c7613bda17cb257a365d23cc26bf3932a6bc3f.gz

commit e95d6cf63949610177169e106b48ee9e95816937
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-05-03 00:11:23 +0000

    port test-register.py to new test API
    
    
    20080503001123-c9803-7bd054a19b4327ca70de447356a5cd7a23f689e5.gz

commit e8ad2838dce77552de337496499a9582ced6c97d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-05-02 10:01:38 +0000

    olpc-muc-invitation.py: port to new test API
    
    
    20080502100138-7fe3f-f04d122ca95a6c0fba8443e479702e2467d3d273.gz

commit db877507099be844e871584444704eb2bb1651ed
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-05-03 19:06:25 +0000

    port test-capabilities.py to new test API
    
    
    20080503190625-c9803-371b57ae7be44465f139a30778a8687a394b85a4.gz

commit 3b2eea853e3adabb1c0f5b6e25a67cf946eaa08e
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-05-03 19:01:28 +0000

    gabbletest.py: if root element is passed to streamStarted, copy ID from it to xmlstream session ID for compatibility with Twisted Words 8.0
    
    
    20080503190128-c9803-23c7613bda17cb257a365d23cc26bf3932a6bc3f.gz

commit d11fab72ad47cadef9c84347d0ddf8ed38c4c8dc
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-05-03 00:11:23 +0000

    port test-register.py to new test API
    
    
    20080503001123-c9803-7bd054a19b4327ca70de447356a5cd7a23f689e5.gz

commit 87b41f5eefd14d318db0c6cff13ce0f479e7953a
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-01-07 13:19:56 +0000

    port test-connect-fail.py to new test API
    
    
    20080107131956-c9803-ff738e5f14baadd489015e27b4a36e7bd4bc19b8.gz

commit 2ad0f0236033199ac9993b44ef02b33b2b090f81
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-05-02 17:04:03 +0000

    ignore second argument passed to streamStarted, for compatibility with Twisted Words 8.0
    
    
    20080502170403-c9803-5126ab783b25a116f074abe11200e2cea49c33b0.gz

commit bc582b06e861b2bfa93d884cf90f2dcf7a97ff15
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-05 09:10:46 +0000

    Remove dead code
    
    
    20080505091046-a41c0-7dcfec1deb6755b0d3fd9788305df7a897fda9bd.gz

commit 8f5c36e70d08fde8cb408a39f4799e17250e109e
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-05 09:10:15 +0000

    Add comment on private-tubes-factory.h
    
    
    20080505091015-a41c0-6aced7d54cf428f36d5570af08b17a24dcc622be.gz

commit 19c8a2e6f3aad15d74a9f74ff05239f38f7dab5b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-02 14:20:18 +0000

    Don't assume that htmldir will be defined (it was added in autoconf 2.59c, which is not in Maemo)
    
    
    20080502142018-53eee-c3e171165a1aaaaad933797b005f32f1e9a42058.gz

commit 169ca96800606c9dee18ffbbeff591d61315ff2f
Author: Olivier Crete <olivier.crete@collabora.co.uk>
Date:   2008-05-01 23:29:41 +0000

    Ignore non-1 components for now
    
    
    20080501232941-3e2dc-87590a9e055ae1c7afe5707b935d0feabb83a9b2.gz

commit 9b939189c7514a588ea0fb374d8ed2c541848a67
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-01 18:17:14 +0000

    Nano version
    
    
    20080501181714-53eee-45f0ab6f530668548b99c7b269bbc0133d3eb537.gz

commit a1f41e7d638402aee9bfe109045abc263b39bde8
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-04-25 16:36:18 +0000

    Fix Bug 15095 by allowing a MUC presence stanza to be catched by the GabblePresenceCache callback
    
    
    20080425163618-a41c0-1f7775a39c9344f03098f856afe67c9ead5dcdef.gz

commit 80c0b8555c236894704a357eae707f5bd26f3879
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-01 18:10:23 +0000

    Prepare release 0.7.4
    
    
    20080501181023-53eee-66e7fd8d0e1d157e12da161ae47796b7e5b52f0f.gz

commit 3038ad5ec4ac9197f842295a796788467b2cb8f9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-01 18:04:47 +0000

    Release weak ref before calling into user code in GabbleDisco, to avoid crashes if the user code causes the weakly reffed object to be destroyed
    
    
    20080501180447-53eee-0ced607caecb1143a9f95c8fe4292d86dc5ec6ee.gz

commit 8b1838c171d73e26dd1c1625e4d68c4beaa2c507
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-01 17:31:53 +0000

    GabbleDisco: temporarily ref the disco object while calling out to user code
    
    
    20080501173153-53eee-48e86d834e19bce2deae9c1c58fa47bdf665c12d.gz

commit df50d776c86fbc198de437884f9ae023442b2f9d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-01 17:31:36 +0000

    tests/twisted/Makefile.am: consider it to be a failure if Gabble dumps core
    
    
    20080501173136-53eee-458c09915720cbad169d1d43455eafeaa789c907.gz

commit d009e94e7aad710648b2489422f4da5de030cd16
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-01 17:19:28 +0000

    Update NEWS
    
    
    20080501171928-53eee-83164e8c2bc853d4dc2f93327f02dc97b565c7ce.gz

commit 212a20bd21b4b9c23b471aa1eb2d7a1485992631
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-01 16:53:00 +0000

    Add regression test for fd.o #15198
    
    
    20080501165300-53eee-599ce44459f5848dc12bf1e60a0bd950294e902a.gz

commit 528a3908009416b203d184f701de77978b87b87a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-01 16:43:58 +0000

    After returning an error from gabble_connection_get_capabilities, don't happily carry on regardless (fd.o #15198)
    
    
    20080501164358-53eee-683a93a370cac7d84eb6b8bdd8c441181be00d75.gz

commit 5804e377ed533c84f3e6c2de15db1ec693bab3c7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-01 16:34:29 +0000

    When adding ourselves to the local-pending set for an incoming call, make the actor the handle of the caller (fd.o #14806)
    
    
    20080501163429-53eee-8f9032ccbd76c08b32845e22f4e724ebc0a0f893.gz

commit 95823b01d8133c80b068230da70f0bc278d180f6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-01 14:24:18 +0000

    Improve reference to spec in NEWS
    
    
    20080501142418-53eee-47debf2952cd89aa2318a1d5c5f154e171df2a64.gz

commit 1bdf24fa27469bd7c816a346ee4571365e530dc4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-01 14:20:54 +0000

    Update NEWS
    
    
    20080501142054-53eee-d42a5af10da572030cc0fdb2eeaca347fa1745dd.gz

commit 2700b060bd8232ac3e5448274fb03b9543c51e57
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 17:17:20 +0000

    test-outgoing-call.py: add a hackish workaround for fd.o#15769 so we don't need to fix it right now
    
    
    20080430171720-53eee-9c0ce3b9e74d604d8c494d3d1da302e78821569f.gz

commit d87a3a6bd864b041d32ee3666afaeff47f1f5c98
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 16:23:48 +0000

    test-outgoing-call.py: Don't expect to see a NewSessionHandler until we RequestStreams
    
    
    20080430162348-53eee-91ba72d5ce4419e69de513b96ba8c2f632361711.gz

commit 56c4578866a70980d7900c23360ed122b80cf3c9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 16:04:36 +0000

    test-outgoing-call.py: don't add the peer to the group interface, but instead let them appear when called
    
    
    20080430160436-53eee-d930f355ade10e5d3bd51ea104f9a5e5de1ef39a.gz

commit ddf5d226125ec69fe6fa5a3cc766d2bbba900a50
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 16:03:38 +0000

    test-outgoing-call-deprecated2.py: instead of requesting a call to foo@bar.com, request a new blank channel and invite foo@bar.com
    
    
    20080430160338-53eee-6d28e665185a6bd66d5505b7644f8b062c406c0b.gz

commit 8a503b6f216ff8b850dfd5aa38b34334a3665a20
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 16:02:31 +0000

    Duplicate tests/twisted/jingle/test-outgoing-call-deprecated.py again, it turns out to have been more deprecated than I thought
    
    
    20080430160231-53eee-7bfbba4ad23d1654dc3d50ef36184dab365cc478.gz

commit 1591aeb098a21f62989067c46745ebcaf8c63b12
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 16:01:40 +0000

    Duplicate test-outgoing-call.py as test-outgoing-call-deprecated.py
    
    
    20080430160140-53eee-6ed4f66cbce210ad40b288ced8132f4e41728af6.gz

commit 650a1df1fbe563c499c91d056ae5a9a14f99689f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 16:00:26 +0000

    In regression tests, correctly request streams to the other guy, not to ourselves
    
    
    20080430160026-53eee-d78b3e2b8fcf1acebb39537b23cf4c2d55662a20.gz

commit 89a324a56095150158a61292d52f1246c4ef844c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 15:49:36 +0000

    GabbleMediaChannel: when session state changes to indicate we have contacted the peer, stuff them into remote-pending if they're not already there
    
    
    20080430154936-53eee-2d7aa01544e874bfe391180351a112118829755d.gz

commit 148c42e1b8d58c31ce84f3c85a3f82de103e19a6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 15:49:26 +0000

    Fix variable name
    
    
    20080430154926-53eee-8a1ffc74c87a8f8dce8a6cfd6c38c1a5ac650855.gz

commit a31befa1b0ed1fdceffe57119404f7c6d0da62ed
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 15:41:39 +0000

    gabble_media_channel_request_streams: don't restrict to only creating streams to a member of the channel (fd.o #14602)
    
    
    20080430154139-53eee-e683b55932e3561aeab7f642ea0c8131b1f9054e.gz

commit 85f4bf8835c3b2b3f1cd47eb6491a0a993979e07
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 15:39:59 +0000

    gabble_media_channel_request_streams: lazily create a session if necessary (also simplify error handling)
    
    
    20080430153959-53eee-dd8be2453c6882a1880e7cb8b27d75eb60562889.gz

commit d569540a79108e12b9a653c10516f72f4d2179a6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 15:32:22 +0000

    GabbleMediaSession: ref the peer handle for the duration. We can't rely on it being reffed by the channel's group interface any more, with telepathy-spec 0.17.3 semantics
    
    
    20080430153222-53eee-1f2bdc70acbce3bda9be817dcf49b8e00fd2b7e4.gz

commit 8f38052b1e11f021c456b73fe26344387e9bd570
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 15:24:55 +0000

    Allow adding a member to a Media channel if and only if either it has no session, or it has a session and they are the peer
    
    
    20080430152455-53eee-2c9f014685ab6c5d191950c4aecfa378d36632b8.gz

commit fdaa3ecd840fd90c79593bbf4cc73edc4b458991
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 15:19:28 +0000

    Move responsibility for checking VoIP capabilities into create_session()
    
    
    20080430151928-53eee-81bab7f32516ddd27b20d0fe418c06954093b8b3.gz

commit 49e56420816c86f00767d420e46ebbfe810c16a9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 15:13:18 +0000

    In _gabble_media_channel_dispatch_session_action, assert that we're not about to cause create_session() to get confused
    
    
    20080430151318-53eee-bd593255b5a8aed05860daf707a890cd1de3ecd7.gz

commit 9a8ed44a994d7c90f0c3082c81db89a2bfcf4f0a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 15:12:43 +0000

    Have create_session() return a GError; for the moment, assert that it always succeeds
    
    
    20080430151243-53eee-c1d749f549a7757522d0232a6a70163a0eeba738.gz

commit acc0b789fb5737986716a03b3575889dba37616d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 15:12:30 +0000

    Whitespace
    
    
    20080430151230-53eee-5362b80efed78859d6303b6688ebc365a840cf39.gz

commit 14ad0776023e3e5e81232891bad1560c6418fbc3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 17:46:23 +0000

    ./tests/twisted/vcard/test-muc-alias.py: adjust for #14467 being fixed
    
    
    20080430174623-53eee-2350be998c53808ea72e7722593ab76a12c8c14d.gz

commit 5712757c34c0690a11631a63ea410eabcb1a02da
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 17:45:57 +0000

    tests/twisted/tubes/test-muc-*: adjust for #14467 being fixed
    
    
    20080430174557-53eee-b2409a400057d4e58a45d88f59a3a4f15cf0b124.gz

commit d1749f768d4ef3bd3e1bf0ca888a3b0140dc0861
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 17:44:57 +0000

    test-get-available-tubes.py: adjust for #14467 having been fixed
    
    
    20080430174457-53eee-147c7204d62a9a4ddf18a348a4192da3f9fd3ffa.gz

commit e5bc867d100bef6433bb97a2279a447a3f909d0b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 17:40:13 +0000

    Adjust sequence of events in test-muc-ownership.py to assert that group membership is aggregated
    
    
    20080430174013-53eee-6d13c52a9d343b778d9314a9c53cee0b6a9a1e8a.gz

commit 49f97fda338131ad0d58817d088ff944e88ffbe7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 17:32:37 +0000

    Amend muc/test-muc.py to match Alban's fix for fd.o #14467
    
    
    20080430173237-53eee-1833bf9b961ebd6f1d9aabd73ee84f90263caefd.gz

commit f4af381d5d271e5762361cd9449ae84d53ae6086
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-28 18:02:16 +0000

    Reference Debian #446259 as well as fd.o #12791
    
    
    20080428180216-53eee-222ef3a1910ad25a1485c354e60a03ada7996a86.gz

commit 3292afa8625156ca274bccbd039b8ce1a88aee76
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-28 17:57:28 +0000

    Update NEWS with merged changes since 0.7.3
    
    
    20080428175728-53eee-7c3dcda6112f6aff3f9f522db8859a953cb13c6e.gz

commit 13e7cae7d7111a9270bb4d3e158ea1234c64a9a3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-28 16:53:42 +0000

    Amend #12791 regression test to test with what the submitter actually had on their roster, as well as with a garbled roster that the server shouldn't have sent us
    
    
    20080428165342-53eee-2f71e379a51013bdeeb90c5f6077a423f7926aa1.gz

commit 7efe4aec0214e0fae2ec15f9b198f8e9b3c31042
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-28 16:53:23 +0000

    Skip roster <item>s that contain '/' (fd.o #12791)
    
    
    20080428165323-53eee-e9ccb4093493d76266121f5bd4494c22df973752.gz

commit cf716cb10183955b7534683d39a74900a6751a5e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-28 16:37:05 +0000

    Add fd.o #12791 regression test back as a separate file
    
    
    20080428163705-53eee-961c527cac0f951f14e682682bd2cac67604449c.gz

commit 5bbcf164d50b9de4688bfb2275dcb321b2acf9dd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-28 16:36:35 +0000

    ./tests/twisted/roster/groups.py: revert addition of #12791 regression test
    
    
    20080428163635-53eee-dfdab263cd49a93baa1664186b39a9f937a90413.gz

commit 683737dcbf7d776f8cc7d828f59707631521c1f3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-23 14:30:54 +0000

    roster: ref handles when they are put in a GroupMembershipUpdate (hopefully fixes fd.o #12791)
    
    
    20080423143054-53eee-17a4c68002214507cd30bc2ed5046b5401f8b5c2.gz

commit fdfda5d1e2453acd338037f3b38a03b0c16c5c29
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-23 14:29:31 +0000

    roster/groups test: include amy's <item> in the roster twice, removing a group the second time (this causes the same crash as fd.o #12791, although it doesn't seem very likely to be the real cause)
    
    
    20080423142931-53eee-8a066770d706e537bed390e5897f2afba673b5bc.gz

commit 62dc2124f7d32d3d568aea64eff8a93a125d1c84
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-23 14:29:10 +0000

    roster/groups test: if assertions fail, print more useful info
    
    
    20080423142910-53eee-58f7dac044c2a51c1e991cab445925d3865e9bd1.gz

commit 1cda42fa848e2093c1f572262cbf843d88df43ad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-23 13:36:03 +0000

    roster: amend comments for GroupMembershipUpdate/GroupsUpdateContext to indicate where things are borrowed from
    
    
    20080423133603-53eee-e8612a4b2aabf07bb6b038e32f6fed8edefcae51.gz

commit 9ef957caa9cbd7f3bcc5c16adee0557619b955d5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-23 13:19:41 +0000

    Add a comment to ./tests/twisted/roster/groups.py explaining how fragile it is
    
    
    20080423131941-53eee-b0143cd6c0badec6334b54c460a87dc9aa2bf128.gz

commit 5d7980ec8fe15d25e176de2d1e70368bc1a9ce42
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-23 13:17:43 +0000

    _gabble_roster_item_update: eliminate unnecessary temporary, old_groups
    
    
    old_groups is slightly misleadingly named - it's a direct pointer to the intset
    underlying item->groups, so its contents change whenever item->groups does.
    (In practice we only used it once, before making any changes.)
    
    20080423131743-53eee-0b3aeadd3136517c2ae4267c440ed2146d1c1110.gz

commit 3ba7c75b1b91229e7e3d62f9e50c261c9434b3c1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-23 11:36:47 +0000

    Add a regression test for roster groups
    
    
    20080423113647-53eee-88f64055934cb5c54613267847ca237a2798143a.gz

commit e251b5857ba420caaa21381d412c9600519131ad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-23 10:35:10 +0000

    roster: misc stylistic fixes
    
    
    20080423103510-53eee-f628702a67f0a3fa2dc63eb0f18f2cdeb7c0c959.gz

commit 5baf8219d640366a8340ff9ac3ecf23750ed4a81
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-23 10:31:34 +0000

    roster: Annotate GroupsUpdateContext, GroupMembershipUpdate with ownership
    
    
    20080423103134-53eee-aafc845df529968b8d450f6858ccdf1e8923135d.gz

commit 46a77835e0a8984f7f618fcc70d9c324488ce0b6
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-04-25 14:48:30 +0000

    Better comment about aggregation
    
    
    20080425144830-a41c0-f0a5b7d305fa59c10dc0f9bd825564a68caff1a0.gz

commit 98f5ddcaadc10274d883c94634b8e0a5b9d459a0
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-04-25 14:25:20 +0000

    Coding style, rename variable to initial_members_aggregator, delete the boolean
    
    
    20080425142520-a41c0-b65fc8d87ca5c7d2b1cbf89fec8941980063e0c5.gz

commit 5f1790a3f25385b6ebe2e39d059e98fd1eabb40b
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-04-25 12:19:56 +0000

    Use TpHandleSet instead of TpIntSet
    
    
    20080425121956-a41c0-4922473622d203d4fd3173455f1e3c5dd4f51df0.gz

commit 7a23349136fdc4a7dc9ebd9d523c12d357fd3bc4
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-03-05 13:20:43 +0000

    Fix indentation
    
    
    20080305132043-a41c0-2cfb2cf197b10ac44f6b95c4f3d6d4868b3d749b.gz

commit dbb638bcbe8b33c74ee502df654f62802913e1c1
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-02-12 14:42:37 +0000

    MembersChanged aggregation when joining MUC
    
    
    20080212144237-a41c0-c5913d5e4b4fe5d64cb71ef0144329a49d64be50.gz

commit c7790ffdda54287cc8580ee25c3b19f837a3afd4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-23 11:32:02 +0000

    docs/Makefile.am: projects.ccu is now people.ccu
    
    
    20080423113202-53eee-dce6f41cb26f1aaf8cf3dea240c59fab8b04bab4.gz

commit 7cb88bca76e5b1d087a1039d287b8e06cbebe71f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-23 11:04:38 +0000

    Update xep.xsl to r1806. Stop pasting in the revision number, it's error-prone if there is a <?xml?> declaration
    
    
    20080423110438-53eee-738b73568ac255cb914c64a3282240d926026e7d.gz

commit 0afbab740623755b895ed014859fc3a154be783c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-22 17:39:50 +0000

    Update xep.xsl to r1803 with an even more lenient license
    
    
    20080422173950-53eee-db392a98e76b5e8e79f96c72a442303eaadea09a.gz

commit 44aaae51d33a1572487dde99d520a7d5d152e217
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-22 17:20:57 +0000

    Put HTML docs in $(htmldir)
    
    
    20080422172057-53eee-d5c5f03a579fe14d45e69066e2ba69c5481f460c.gz

commit 31a0e792a6aae71067e0a03739754656f71df9a9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-22 17:18:13 +0000

    COPYING: explain the status of tools/xep.xsl
    
    
    20080422171813-53eee-d5f0d14e17815f29b257a7b1925fe846bb4f92fd.gz

commit 352bbbea9cfd292befb14027f3505d3e13cdf706
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-22 17:10:17 +0000

    Build documentation by default
    
    
    20080422171017-53eee-1e0c406098af0f7f2683b1e3846fcae63aade0bd.gz

commit 0fce1384aaeceb9a3cfa8cf689cb8f30c428b5f2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-22 17:09:13 +0000

    Add xep.xsl from xmpp.org, and a maintainer-only Makefile target to resync it
    
    
    20080422170913-53eee-854e0a2288b5fbeb0762067d22a2a5cebc04d43c.gz

commit bcd4e5fe95963b2260f3450ab0a0ee60e0c05fe4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-22 11:05:21 +0000

    autogen.sh: fix bashism "&>"
    
    
    20080422110521-53eee-a00444208729568b1d0d4595fcece5fcb1bd51fc.gz

commit deb375380738ab53954d931cbc2cc80a9367e1a6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-21 17:43:17 +0000

    Remove ls-interfaces.xsl from tools/ (no longer used or needed)
    
    
    20080421174317-53eee-86ab2c84d00744f76cd6fbaa9e4b7ca8888c380b.gz

commit ef5400f7927f7f47d69644e7c96898d9b53d09f9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-21 16:45:44 +0000

    Add INSTALL to _boring
    
    
    20080421164544-53eee-674bb73ee3273da1e3e458c9437da2c324977c63.gz

commit 400acf958854eb3705e836efccca5e674f4eb945
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-21 16:44:30 +0000

    Remove unnecessary rule from data/Makefile.am
    
    
    20080421164430-53eee-349d469cec9837443d5b33110b6a6e16c9154184.gz

commit 881c56dfcf520435a62c1746d2a99603932246ae
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-21 16:44:14 +0000

    Use slightly nicer sed syntax in data/Makefile.am
    
    
    20080421164414-53eee-b4337a60b2edec387a416a14cc93b17562269963.gz

commit 11dba415f817f232cca23f950d2307d91ae928b1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-21 16:43:50 +0000

    Add comments explaining why the .service.in file has a shorter name than you might expect
    
    
    20080421164350-53eee-d2954a4e3fa188b06027bcbbb6c893779b2dfad0.gz

commit cfd35bf592be06b5368ee96c8a42e08af3e2e741
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-17 14:30:11 +0000

    Prefer to use automake-1.8, to check that our build will still work in Scratchbox
    
    
    20080417143011-53eee-4038a4fc6ce74d79b8474708fcc39769a16209df.gz

commit 24d30d6222a20a92ccf3f54ced4ab6a88b843cd7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-17 14:29:55 +0000

    Remove INSTALL from Darcs, autogen.sh will make one for us
    
    
    20080417142955-53eee-2eddf4e302ffad0d91f0a8869a6cbd88e1d98d30.gz

commit d8897cbbfcb4fcedeb883478a44ba940636d718e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-17 14:29:24 +0000

    tests/twisted/tools/: also rename .service.in file here
    
    
    20080417142924-53eee-043783277a1bf1657f9432e2c4c9bf56e857fc1d.gz

commit f31a723bea33eac8c84146590066b041700e383c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-11 17:37:21 +0000

    Turn off tar-ustar in configure.ac - it's not supported by automake 1.8, as used on Maemo
    
    
    20080411173721-53eee-69507f2d4c35d91cf6eced5d107fd4567a7cee8c.gz

commit 9406792f32e5a0c2df9fadf72d0961f2c166b7b9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-17 13:54:29 +0000

    Don't ship as-ac-expand.m4, we no longer need it
    
    
    20080417135429-53eee-30022f9c383404be3c03f18a241671bb4ae09c84.gz

commit ad4963bbd5d959c6316c43aa91f5c8f22293e1ec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-17 13:53:27 +0000

    Don't AC_DEFINE, AC_SUBST or AS_AC_EXPAND the D-Bus services directory - there's no point, and AS_AC_EXPAND is Bad And Wrong
    
    
    20080417135327-53eee-18c43f9193afa15ae32ef13dd0733431fb2327b7.gz

commit 7a82db888f516660784492bc9e37c43518971edf
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-17 13:49:50 +0000

    Simplify data/Makefile.am and rename .service.in filename to be shorter.
    
    
    Shortening the filename should mean we no longer need to use tar-ustar,
    since we're much less likely to hit the old 99-character tarball filename
    limit, even if we do a datestamped prerelease like
    `make dist distdir=telepathy-gabble-0.7.3.1-prerelease-20080416` (prereleases
    for laptop.org were the original motivation for using tar-ustar).
    
    20080417134950-53eee-6c79c938c35e9b4dbe60348636f38a0fb64d1574.gz

commit 25549f4e68e734141272d46e77466ad715d1925a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-04-21 13:48:42 +0000

    tests/twisted/Makefile.am: sort TWISTED_TESTS
    
    
    20080421134842-7fe3f-aaa5092f16625120dd4996a94571144399aed779.gz

commit 3eaf4dc9b608ad4d9cea5034f26f8830562e2f71
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-04-21 13:43:08 +0000

    connection: lower-case disco_reply_timeout and make it static
    
    
    20080421134308-7fe3f-79648e882ad796640e7c464709a6cb9f781316b0.gz

commit 0a0e3bc7e14334ba8ed5dec640aaf11f9888b217
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-04-21 13:29:38 +0000

    test-disco-no-reply.py: no need to extend the timeout anymore as Gabble will timeout after 3 seconds
    
    
    20080421132938-7fe3f-f270a3dc5d0521c5f18e9c46ab5b75e2d639f705.gz

commit 92679182836897b9002ee3e6e9146a65293a0fc4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-04-21 13:28:49 +0000

    run a tweaked version of Gabble with tests
    
    
    20080421132849-7fe3f-811a0d4aecb3eade992caa36d03a1cc299f20ed3.gz

commit 753602a69bf6665e1152e3570aa064a5104718e7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-04-21 13:26:29 +0000

    libtoolize main (renamed gabble_main) and call it from main.c
    
    
    20080421132629-7fe3f-99224c959991c70346c7edddb227f452e6046f0a.gz

commit 5b42ca7b83ee9020e9fe911b3db08b43244ce9a5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-04-21 13:12:09 +0000

    gabble-connection: allow to tweak the timeout of the disco reply (should be used only for tests)
    
    
    20080421131209-7fe3f-47872568a540f61a1684a4e77fac19550e561241.gz

commit d896230e507a1fd4efe7e3012da4050bb419f1eb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-04-21 13:04:29 +0000

    slow tests was a bad idea. All tests should be run by default
    
    
    20080421130429-7fe3f-e43bbd67303e4daea5e37c3818d6f74b19a32393.gz

commit d8da524f68883b4d0a65d1ffd1392154e1ecc5ea
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-04-16 15:03:02 +0000

    gabble_debug_set_log_file_from_env: trunc the file when opening
    
    
    20080416150302-7fe3f-d7cbe22efc5807ff23de8a00b84e4400c0f2eb0b.gz

commit b31b1fa55fecb889e04c67c58d3bc5b064b51bbb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-04-14 15:51:18 +0000

    we don't need AC_DEFINE and AC_SUBST for --enable-slow-tests
    
    
    20080414155118-7fe3f-9740aec2d533d73733dc54a3a6eef92dd1b89828.gz

commit 3c98dece1aa5dde5ed21c29a85338bbb800eb00a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-04-14 15:34:37 +0000

    run slow tests only if build with --enable-slow-tests
    
    
    20080414153437-7fe3f-9cec3ba32870abbb55ed90865ec3ae374f30d7a5.gz

commit adbee31c1f2961c0a64f736f3168091a53d53267
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-04-14 15:19:26 +0000

    move test-disco-no-reply.py to the slow directory
    
    
    20080414151926-7fe3f-afec60336b8645fc0bd30ea18bfcb8ece627795c.gz

commit d3ee8aa573617d93a4c45f279479a326dc2a5e54
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-04-14 12:54:52 +0000

    add test-disco-no-reply.py to tests set
    
    
    20080414125452-7fe3f-3f1ebb0efc717277b57d82d63d9efd04fbf1a920.gz

commit 6cfc7b2e3ada61d2f94837c0cadd42b3bb42b550
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-04-14 12:54:34 +0000

    add test-disco-no-reply.py (re-recorded)
    
    
    20080414125434-7fe3f-6562112521e7560cfb0900823b588f4f2fd7521d.gz

commit 0f65ee7802167ed831caed4e9a3d1e8c490a7868
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-04-14 12:45:56 +0000

    gabble-connection: disconnect the connection if we don't receive a reply to the discovery request
    
    
    20080414124556-7fe3f-d0901d4052c6e18eba4cb95a64256cb61a814c1a.gz

commit 34871ca2855fa273e2ed6d17516d6d4b56203803
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-04-14 12:32:01 +0000

    allow user to define his own event timeout
    
    
    20080414123201-7fe3f-14342aeff9fad0e62ad999533fc8b0b4be7a0f77.gz

commit 2103d9b67be7e6b24749f221c31f73963f127430
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-04-14 12:22:22 +0000

    gabbletest.py: allow user to pass his own protocol to exec_test
    
    
    20080414122222-7fe3f-f074025fb04b75dc7e849c17d897413d237aa9d7.gz

commit 2825f9200a69810acb42ad476373d3fe01fcad94
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-03-04 21:58:41 +0000

    fix function comment
    
    
    20080304215841-01440-86860ee3a9389175bd45b2cd3baf26f7117bbc4e.gz

commit 1c8129fad6f2b097d58aefd02afa4dd949944db6
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-03-06 21:59:22 +0000

    when blocking gtalk contacts, discard their presence
    
    
    20080306215922-01440-4927d34d5cb14eb282aee260e5303c5fb647104c.gz

commit 980559a914999149c1da7ccf800edbc3b0b822fb
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-03-11 14:54:40 +0000

    don't try to gracefully avoid a bug if it's there; assert what can't happen, and fix the bug if and when it happens
    
    
    20080311145440-01440-9d98013f425c24723c49ea134d2673f5a858085d.gz

commit ddd093a38bcc3e72981a9d5fcab065d6961b1010
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-03-11 12:34:52 +0000

    _got_self_avatar_for_get_known_avatar_tokens: in the corner case of us starting disconnect right after GetKnownAvatarTokens call but before our own token is known, don't report bogus handle 0 to the user
    
    
    20080311123452-01440-fc38af01af76c87bcd21da49438fbb89cdc869ac.gz

commit 0bee4b6a5e3200de631f4f5dcb3a701d7724524a
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-04-15 14:43:24 +0000

    Fix Copyright
    
    
    20080415144324-a41c0-2c13eaa8e990d46d0a3232bcaa95baf6943c04f8.gz

commit 0bf5d247096639d4faacdc2e7af4c84cb2bd7996
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-04-15 11:01:17 +0000

    Coding style
    
    
    20080415110117-a41c0-d1af40fd4c30dc7db4bc003a5e419104d63b2811.gz

commit 8351ec0c173aacc1721b9dc71fae01661fe04ebc
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-04-15 10:52:12 +0000

    Only limit the queue size with MAX_QUEUE_SIZE bytes. No limit on number of D-Bus messages
    
    
    20080415105212-a41c0-34edda876a2ce0212d98f8cadb0be132d3fe816e.gz

commit 5e75245b2bc5b1faabd41209118975de2f0e0bf6
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-04-15 10:45:37 +0000

    Free priv->dbus_msg_queue in _dispose
    
    
    20080415104537-a41c0-5a167a81a6cddbac449447e0fa6537a4ca4b12e5.gz

commit d33291d457d6569cdd3a2932a318babdb18cbbec
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-04-15 10:45:17 +0000

    Code style
    
    
    20080415104517-a41c0-a7b78226e5040576fcf926a169c862d86bb44e20.gz

commit 3be42b6c43f3120e9a0e93cae83f063d06138310
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-04-14 17:46:23 +0000

    Bug #14343: limit the queue to 16 messages and 4MB
    
    
    20080414174623-a41c0-0dcf6bc6b09be15e07bf176f040176217ee3e7d1.gz

commit 81d32d93095ccf7b0663e6590f9bbf4d07068bea
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-04-14 16:47:49 +0000

    Fix coding style
    
    
    20080414164749-a41c0-a60fac3fa81d1b38c5fffa6fa6495f22793ac1b1.gz

commit 41f5fe676d36c4fb76cd67b34a880a1f45cdde11
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-04-14 16:27:27 +0000

    print debug message "deliver" only if we deliver the message to the application
    
    
    20080414162727-a41c0-8f0cc1d0da49af396311a52124e380087054e9e4.gz

commit 8d6cc8a00136b19e3dd80bee70da8111ddd3ebec
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-04-14 16:16:35 +0000

    Bug #14343: Do not queue more than 16 messages
    
    
    20080414161635-a41c0-2892355560196332edff16127fc96f5ca6208663.gz

commit ccdf6328c2c25ed6dcb986fb4c21e3aee7d361cf
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-04-14 16:15:19 +0000

    Bug #14343: Use GSList instead of GList. Do not leak the list.
    
    
    20080414161519-a41c0-4285971956c0e2a39371b2a6af9060328316a166.gz

commit 689eac83933f802be351c24795ccf42f9dc4c414
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-04-11 15:38:40 +0000

    Fix race in Bug #14343
    
    
    20080411153840-a41c0-1791295ea0041d8ffb9f2a011a995ef0d72d95b2.gz

commit 847b52dbdf59085241223f99bd850a9f70c63ac1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-04-14 11:35:49 +0000

    re-enable tests which aren't in any sub directory
    
    
    20080414113549-7fe3f-f2e0d31426386857926bac666674900b137066ea.gz

commit c5337322f2f4992c2863c4f365638a268cac4d4a
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   2008-04-12 09:30:59 +0000

    When removing a media stream before the initiate is sent, send it if possible
    
    
    20080412093059-93b9a-4f214a41549e24b3eb656d9028acbd9c808a6031.gz

commit 8f862847a14bed1b225e0f74f472696345f1dba6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-11 14:57:36 +0000

    Nano version 0.7.3.1
    
    
    20080411145736-53eee-b76fffe1c64fdd48a3c65b27310aac9366e9070c.gz

commit 26d99ed6e71c162eaf0188a696d7ee9885d8bab8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-11 14:25:55 +0000

    tests/twisted/tools/Makefile.am: clean up correctly
    
    
    20080411142555-53eee-a3ced66d12ef37c5d831f62924de38f09346b7d5.gz

commit e454d74eee3dc5efcc6950b0f67315652e46b24d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-11 14:25:40 +0000

    tests/twisted/Makefile.am: distribute library code
    
    
    20080411142540-53eee-3db97fa0c71328eab2f13c43e156027f31bee24e.gz

commit 9666d68d3bd08e4932d0b8413b3cbc02ef507de6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-11 14:25:29 +0000

    _boring: update for new test infrastructure
    
    
    20080411142529-53eee-dcadeea5472a559824fd8c12f363cce8783a7b9b.gz

commit 3aa9d4e8e194815783945f47171b43cc89b8d2f1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-11 14:17:39 +0000

    tests/twisted/Makefile.am: actually distribute the tests
    
    
    20080411141739-53eee-41e25ef4caf01f4b0a59159706626eea09496dc5.gz

commit e345c064984b8853005a067091082c2fc5620c4d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-11 14:14:46 +0000

    tests/twisted/Makefile.am: expect with-session-bus.sh in $(srcdir)
    
    
    20080411141446-53eee-6ba6003c468dec414c3e32d178ba2ca88b2f2574.gz

commit 11a7afbe6087d9afa84a145948bd94e4c54d6150
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-11 14:13:20 +0000

    Distribute with-session-bus.sh
    
    
    20080411141320-53eee-ed1af0482cab6f057b9cc85fc89acc3f0d2f7c8b.gz

commit 1e4b81196b1b9e8b7f02644ef085621d912e1626
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-11 14:05:27 +0000

    tests/twisted: recurse into tools
    
    
    20080411140527-53eee-cda503c017895d0e308c5f07a332c4a8bf84b901.gz

commit bf3905355876f85099c4f63f1ac9359a78fe56c5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-11 14:00:48 +0000

    Prepare to release version 0.7.3
    
    
    20080411140048-53eee-72e6a8a9a76adf3758def75183d5479a6672196b.gz

commit fddd754f6e8e8ff9d8d6c4c902d9d23b443f1360
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-04-11 02:01:02 +0000

    correct comment
    
    
    20080411020102-418b8-15c6d8fe6f5dde1b72aed38dfc6682ef349b9dd4.gz

commit fa50d73c94e0251059c9b8567839ed03e4842c7f
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-04-11 00:44:44 +0000

    fix thinko with going to HELD when channel's streams are all UNHELD
    
    
    20080411004444-418b8-7944ff956663afa5dee274730474cb07cfb8f325.gz

commit a6581c50fb711317696646a793fac1a733f27a08
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-04 17:29:24 +0000

    Update jingle/hold-av.py to new Hold draft
    
    
    20080404172924-53eee-6d1f07d4d66ca6d51206adb99bed6786e58f041e.gz

commit 16bf2ea9e9ddfd0e58f596473ba10e7dd55d26e3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-04 17:21:26 +0000

    jingle/hold-audio.py: update to new Hold draft, and include a test case for a failed attempt to unhold
    
    
    20080404172126-53eee-5d82dff92b5a8ed06a28cf88ef9bbcecd1500345.gz

commit fbb51e719f56198809c874124814168399558075
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-04 17:21:12 +0000

    jingle/hold-audio.py: add some useful constants for the new Hold draft
    
    
    20080404172112-53eee-c37111eb83b18dcfe022a5a513e440b1536163b7.gz

commit b38523ab814e35ff3453b7d460adb50b42ffa3f1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-04 17:20:57 +0000

    GabbleMediaChannel: update to new Hold draft
    
    
    20080404172057-53eee-b2cf8c3b008bdbaf2e0e403d7f9315acdfa50933.gz

commit 449e657af4dfadd7b3a141768fbc28186aea6f47
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-04 15:57:01 +0000

    Update Hold spec from tp-spec-smcv-hold branch
    
    
    20080404155701-53eee-559a6234f52a0513112bf2805bb97cdd6f1650bf.gz

commit f24c36874a49272c9900e3155b1328b1e340c9cb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-03 16:44:37 +0000

    #ifdef out the CallState interface so we don't need to depend on tp-glib 0.7.6
    
    Our stub implementation is a bit misleading anyway (it might make people think
    we will actually ever signal a non-empty call state).
    
    20080403164437-53eee-5bc9c5760a68740eb6781eb267ca7028fb1341a0.gz

commit 4dbc8c78320b23d9c373b94bd91fa32618a0561d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-03 16:44:00 +0000

    Use our private copy of the draft Hold spec rather than assuming telepathy-glib will have it
    
    
    20080403164400-53eee-9bab15cea55a8e9c2cd1f0b1ff318ab06267daff.gz

commit 672d865044bc1efdecfed79648526acf8c0d40a2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-03 16:42:33 +0000

    extensions/Makefile.am: make everything depend on Makefile.am so if we change the rules, files will be regenerated correctly
    
    
    20080403164233-53eee-8f3a8ab97ecece6b0ee6822ee20ce2be245258bd.gz

commit 5b9939813dc2505e244f864d6c69503188684954
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-03 16:41:40 +0000

    Add the current (spec 0.17.3) draft of the Hold interface as an extension
    
    
    20080403164140-53eee-8d84c595bc7df71eb309a4e479ef447cd9c7ae06.gz

commit 6853e55599b6b5dc744492eeb71cf3e62d20243a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-01 19:22:40 +0000

    Add hold-av test to Makefile.am
    
    
    20080401192240-53eee-974e5619462652aa4e7e683f890c584f28a4cb0a.gz

commit af070bc4e0e891682d2389baa1452e7984239b7c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-01 19:13:06 +0000

    Reverse debug strings for timeout acquiring/releasing resources so they're the right way round
    
    
    20080401191306-53eee-fa5cf83cb9cc6e12a1e8206b587d837cb9665070.gz

commit d91deab503a4700473f3a3ddf2a7f738df03da38
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-03-31 10:21:14 +0000

    hold-av: add tests equivalent to hold-audio
    
    
    20080331102114-53eee-f3c1cc59cd69f3866075a8c7eb61bda1b347153b.gz

commit 1b1adfb26fa2e94a14a57dfdc2e6545e7d5f2a81
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-03-31 10:21:11 +0000

    hold-av: remove excess debug
    
    
    20080331102111-53eee-7afa5db50f44068b6be26f679159ff9356b87df8.gz

commit 95cceb4090e5287db755e0dbd04cd1925639ccb0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-03-31 10:19:46 +0000

    GabbleMediaChannel: fix alteration of priv->hold_state when moving from semi-held to unheld state
    
    
    20080331101946-53eee-98b2c661214218a574ab24cd3b3b424668e5f01e.gz

commit 3abca2c84e5b38bc36948399668e3feea56d4919
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-03-31 10:19:22 +0000

    GabbleMediaChannel: add some more debug for hold
    
    
    20080331101922-53eee-03ec728d984ad0ed2ec8235b77c0966c8e6d260f.gz

commit 82b2d7f2258773167a242428c23b13d586b264a4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-03-27 20:04:37 +0000

    Add basic support for testing video calls
    
    
    20080327200437-53eee-6e1be0dd1a6e7594d5205c739dd60bf521ed1c7b.gz

commit 4e0159c1e0c00cf9ad8cc75b49c6f0de698f4295
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-03-27 20:04:13 +0000

    Add a partial test for Hold in an audio + video situation
    
    
    20080327200413-53eee-07bf2a98bd7b8ed088481af6b27c606dbbb099fe.gz

commit e01977b1636da86a7559f927ee0955f70168b685
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-03-27 19:46:51 +0000

    GabbleMediaChannel: implement local hold/unhold functionality
    
    This version hasn't been tested with multiple streams, and doesn't actually do
    any XMPP signalling (our implemented version of Jingle is too old).
    
    20080327194651-53eee-d94888f9bc6bd575c7d7aa4639bcf05fccbe8d20.gz

commit 25ec554636e066649f821fc56210d515631b51f8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-03-27 19:45:06 +0000

    GabbleMediaStream: hook up Hold-related API, and add property, signal and gabble_media_stream_hold method so channel can integrate with it
    
    
    20080327194506-53eee-976f507efc4ff72b3499b1a1f7a3783299fbc836.gz

commit ec48fd7bd29497819eee9b4b0936e350353d91d1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-03-27 19:44:11 +0000

    Add a regression test for holding a one-stream audio call
    
    
    20080327194411-53eee-f56bbb606fbef3d1080199d62a11afc3e5c242b9.gz

commit e5173c87fb2bba8f7aebe74da3d651008136a250
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-03-27 15:40:24 +0000

    GabbleMediaChannel: simplify priv access
    
    
    20080327154024-53eee-4447b787b7575475bc52677a11151ba324334bd4.gz

commit 34d6a98cd6544515242bb1c79165f20e1b5fe363
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-03-26 18:04:41 +0000

    Return from RequestHold correctly
    
    
    20080326180441-53eee-e0036111927584501e5c33de55ab86977a02a13f.gz

commit e793f0c8d93a7d3b3ed1657bceb95d0ba889e6b3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-03-26 13:29:41 +0000

    GabbleMediaChannel: correct misleading comments in GetHoldState, RequestHold stubs
    
    
    20080326132941-53eee-2b482087e989bf3726ee7d11412a3aad3309ba02.gz

commit 7f87dcdc9e06e652ec24be6ae7b48af05ca84c53
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-03-25 18:38:28 +0000

    Add stub implementations of Hold and CallState interfaces
    
    
    20080325183828-53eee-f634cb8e943157ea3e5444f31ffa69323d5b035a.gz

commit 357cc7fbe100d1cf259885eef9b94e9b176ad05e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-10 11:05:29 +0000

    _gabble_connection_connect: Wrap "else" body in {} to be consistent with "if" body
    
    
    20080410110529-53eee-a44f67e92606aea4e7f797a8118721da77c12636.gz

commit 27ea2c90a32a21bb6ac899e4253dbdcc410e4450
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-09 12:51:26 +0000

    Don't #ifdef Loudmouth >= 1.3.2 features, just enable them, now we have a hard dependency
    
    
    20080409125126-53eee-1111fc07c3cd25b15772213627898d8ee0093d83.gz

commit f9f54480bff480ac2d593adcaa122fb2dca69967
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-09 12:51:09 +0000

    Add hard dependency on Loudmouth 1.3.2
    
    
    20080409125109-53eee-dff3b7ec6b691ff7fab10ddc2c16dedbeb40f21f.gz

commit 6a5c4af07a29b20240a1de80fbb87faae4ee4b8c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-04 12:18:09 +0000

    Minor coding style fix in main()
    
    
    20080404121809-53eee-837cafb6c24470f3bb90ed9e93643365369333ae.gz

commit c3481f8d24cab2f3140615662588a3620ccd3c19
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-04 12:17:51 +0000

    Fix one remaining use of HAVE_TP_DEBUG_SET_FLAGS
    
    
    20080404121751-53eee-9e897c233fb1527ae2280598026b2aee74ce8749.gz

commit f01c356d21a939df39289693e380579656768981
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-04 12:14:47 +0000

    Stop supporting telepathy-glib < 0.7.0
    
    
    20080404121447-53eee-01b6139c530b14e4c0958833af2467edcca1422b.gz

commit 8acd0d32191298a9e5111c3fc1722d51319ff963
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-04 12:30:29 +0000

    tests/twisted/jingle/test-incoming-call.py: disable, not reliable
    
    
    20080404123029-53eee-08cc709992ee74f99230c8c30ea9b357daabba98.gz

commit 9bb55d6b762f17b48dcae1d71b77b1c7ab62a0a9
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-04-02 13:17:30 +0000

    rearranged coding style check injection and fixed typo in exec-with-log.sh.in
    
    
    20080402131730-01440-73fc63c0753045f5c6d3e574845ae6285d060b9e.gz

commit 852789c86b9503aebb51dc528c7ebaed7ae73f9f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-03-27 19:43:42 +0000

    Fix up invocation of Twisted tests
    
    
    20080327194342-53eee-6e23afe819300705ddf3b57d23cd57c9669b6f23.gz

commit b64c8481a10e2efdffd41063f8bebf5b5d7c27b8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-03-27 17:44:47 +0000

    Knock out vCard torture test
    
    
    20080327174447-53eee-c51af9c7fafd727fc008f5c57a3c371ebbb2b64d.gz

commit acf01dbc046d6837d388f335cc4e76a73876710e
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-03-27 17:47:40 +0000

    fixes in configure.ac and Makefile.am's related to twisted tests
    
    
    20080327174740-01440-fe0b13c11c0876ba7d6db87ac26f3ea91e862985.gz

commit bc3f12d7348fb427febf27309852e90ba5e04853
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-03-25 16:47:19 +0000

    improved autoconf-fu for twisted tests
    
    
    20080325164719-01440-6cb5bed19736a8513b1d40444514b0babfd55535.gz

commit 7a2578640dfc32a5e90564eff2a1b1fe6c61c6aa
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-03-25 15:04:21 +0000

    twisted tests are executed in make check only if twisted support is found on the system
    
    
    20080325150421-01440-dc2c7082861f5a93dc2ad659287b004b1943a5fd.gz

commit e009a31c545c9074d9e12e43a586405901f43910
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-03-25 14:50:59 +0000

    removed run-with-tmp-session-bus.sh, we use the tp-glib's version (already in tools/)
    
    
    20080325145059-01440-abdc338e16b1eb8a7df569eda6f47eff3e96a733.gz

commit a9f3968d0f89621ca6d6a891e2ce76e344cfdb31
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-03-25 14:49:31 +0000

    when doing twisted checks, use tools from tools/ subdirectory
    
    
    20080325144931-01440-1351d1423c6c016eefdb8b748fbe9e663732d06c.gz

commit d6abe938473b1b61d4f209712b1c74fb2856148b
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-03-25 14:09:55 +0000

    moved utilities for running twisted tests to tests/twisted/tools
    
    
    20080325140955-01440-56f47b00581c936bfcd15dac3eb26057734e78c5.gz

commit e3b1c7205d114732aee578a30719e4f7b36a8b6b
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-03-25 13:53:40 +0000

    simplifying tests/twisted/Makefile.am, changing it to use with-session-bus.sh script
    
    
    20080325135340-01440-3d9c361d574e9484c5940fa5627f8075b3dd9210.gz

commit 9ebe5e9c378542b7280640978e84b9495b8ba355
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-03-25 13:07:19 +0000

    copied with-session-bus.sh from telepathy-glib sources
    
    
    20080325130719-01440-9660de30c0a567c6cabcb1d2beed548536f11abc.gz

commit 69a0bcd536f018924b8a6d74cec493e13ec13076
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-03-20 05:34:58 +0000

    fixed typo
    
    
    20080320053458-01440-df32c031ea98cf0d571b1b4d696a9d0af8ccedba.gz

commit 65b6991012c53c6f86e83ca55bc9e33d4e164ad5
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-03-20 05:32:41 +0000

    properly recurse into tests/twisted for make all/clean
    
    
    20080320053241-01440-357c08b135ca0e0101567b24d616cbe6a5974548.gz

commit c08d7d271db32667482a83493480193627e408a7
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-03-20 05:19:14 +0000

    added simple tests for incoming calls, successfull outgoing calls and rejected outgoing calls
    
    
    20080320051914-01440-73ed0c947334e419921ef3b5dc54539467cffeaf.gz

commit 093fce0bd0ba8d3f841d40e4c742b16e78da35e9
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-03-20 05:00:21 +0000

    added support for jingle testing
    
    
    20080320050021-01440-8d137cb0c2977055cf159a386aa24469460ad767.gz

commit 15b2ec21015db21557a601e20c0d7f24300b94a8
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-03-20 04:57:35 +0000

    test code reorganization, step 2: modify makefiles to reflect the new directory structure
    
    
    20080320045735-01440-7f07fda83b5f581235a5421858829f5ec1911a71.gz

commit f202cf08e9769833d39ce7657292e7ee52455b12
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-03-20 03:58:09 +0000

    added tests/twisted/Makefile.am
    
    
    20080320035809-01440-f62a3e75b1346bab6dcc4590bd3342ede53dcd48.gz

commit 785c9fac046a443f1f7342d1cef55c8651d90359
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-03-20 03:51:13 +0000

    test code reorganization, step 1: move related twisted tests into separate subdirectories
    
    
    20080320035113-01440-2be20d697ae6374895b4958b2556fbc1f0f32743.gz

commit 573f668da4d97f93a436621d73a32f6918336444
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-03-05 23:35:45 +0000

    gabble_connection_advertise_capabilities: fix previous commit that rename local variable iface to channel_type
    
    
    20080305233545-a41c0-e913ba8005dc92f4c8f866b6c2ec66dc3222c68a.gz

commit c6d538df72604e36f39c3ddbea47e747457e759c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 13:10:02 +0000

    Fix minor coding-style nit
    
    
    20080222131002-53eee-a82f4e84d3de97af6201cdd017de16519d319f96.gz

commit 99af3664d5f39f5e7f2151967d4f06186e71f7b0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 13:07:10 +0000

    GabbleMucChannel properties_disco_cb: remove unnecessary access to priv
    
    
    20080222130710-53eee-781977cdf1ff3e116cf12f543881365fb62d0aa6.gz

commit ddcef4f04febd132fd9e6ecf14236fc612b8149d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 13:04:54 +0000

    vcard-manager patch_vcard_foreach: remove unnecessary storage of the return from a function called for its side-effects
    
    
    20080222130454-53eee-bf2bb7ddd49edadfa48202e0976df93940bc7577.gz

commit 7986249093500ef2f94f48aa3d09029f03d5e6f1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 13:03:43 +0000

    lm_message_node_add_build_va: remove unreachable code
    
    
    20080222130343-53eee-0d6e137eaa0257bc2eaa5b6912441ba1f7fb35f3.gz

commit 6c4c9e1ffe1a08e977e88fb531462611c7030460
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 13:02:48 +0000

    GabbleVCardManager delete_request: remove unnecessary call to tp_base_connection_get_handles
    
    
    20080222130248-53eee-f17c3781970141bf99cc0f5b902be4acb0766679.gz

commit fb21d7b4cf7528233951459cd3a6caca0085158b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 13:02:09 +0000

    gabble_roster_handle_remove_from_group: Remove unnecessary call to tp_handle_inspect
    
    
    20080222130209-53eee-c4f958658b09138fb19665624e3790a0f54ba95b.gz

commit eaf6fb2a1475ced44bd8938e93178ccbec45428e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:57:32 +0000

    _gabble_media_session_remove_streams: Remove unnecessary store of result of a function called for its side-effects
    
    
    20080222125732-53eee-7c9b329addef322d19866c925d5ffef3bdc5b55a.gz

commit 890d4f16570eb2f88c29e588fa3fa6947adc04d6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:56:17 +0000

    GabbleMediaFactory: remove no-op constructor
    
    
    20080222125617-53eee-b73e5cc8e0f302db2bcd34bea835bf72d2fee76f.gz

commit a45436cd714505cb68b38b18762741360137a951
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:55:20 +0000

    Make gabble_disco_dispose, gabble_disco_finalize explicitly static
    
    
    20080222125520-53eee-559fb9f16ccca852ebcd52c3eab32c4992b9fb38.gz

commit 932addfb3346edcd9ac77b82eee2dcc46253bd3a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:51:03 +0000

    Compile with -Wdeclaration-after-statement -Wshadow -Wstrict-prototypes -Wmissing-prototypes -Wmissing-declarations, if available
    
    
    20080222125103-53eee-7abe8ba29223e391760c86350bd1708bbe69e21e.gz

commit 5d390ed0c4aa7c70086c30786cc9723e09c60dd8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:48:28 +0000

    Don't produce _gabble_media_session_debug unless ENABLE_DEBUG
    
    
    20080222124828-53eee-11e93cbed4f666dbb3a514ae53e6e1d7237916b5.gz

commit 2ceb20482babc823b86e081d93c096d1a751b6a6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:37:42 +0000

    Remove empty statement from GABBLE_ROSTER_GET_PRIVATE
    
    
    20080222123742-53eee-4415472efcb7fed4f0fc2312eedb6b9488ea7fdc.gz

commit 74170a016edca3a2095720a966d75df99206d0b8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:37:08 +0000

    Remove empty statement from accessor macro
    
    
    20080222123708-53eee-54f826f26020894e6061069f4a5940ab7a9e0ae8.gz

commit a27329ef9927840b3457fe6eb61a8e56e0b80279
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:34:28 +0000

    gabble_media_factory_iface_close_all: fix mixed code/declarations
    
    
    20080222123428-53eee-a9421d4498606bfbd7b78b90419cfc86309e2f20.gz

commit 08ae199bbc9c0777dd405e8e0a9eb30dc55e619f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:33:49 +0000

    gabble_disco_conn_status_changed_cb: fix mixed code/declarations
    
    
    20080222123349-53eee-aad511f34a2e4bc2ede1ec36640301fc86fd9d2f.gz

commit 1766631b743e786c80490f69eaf247d0399d26f9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:32:10 +0000

    Remove empty statement in definition of GABBLE_DISCO_GET_PRIVATE that caused -Wdeclaration-after-statement warnings
    
    
    20080222123210-53eee-88bcec1324f6e250b6c4920203d52d014ef0e40a.gz

commit 3436eb4527234bc468c4f2812850c4462b394592
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:28:41 +0000

    test-handles: make test_handles static
    
    
    20080222122841-53eee-f7060eb6388a8f9f0f2833541ce4501354cb77e6.gz

commit ca9dad3605b910a1e6a49a73b48423813fba66cb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:28:07 +0000

    vcard-manager get_error_from_pipeline_reply: make static
    
    
    20080222122807-53eee-5ecfde1c2b65b2bff76e3eacbc7abec2bcb43dd4.gz

commit 1d1061edc3cdd8bc23adedd13b2039b8dfb58652
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:27:42 +0000

    lm_message_node_add_build_va: don't shadow argument with local variable
    
    
    20080222122742-53eee-757da80322daabce744379e5a4b5e72878d11774.gz

commit 5598cad0a2d7ec55248c9a39347c6e26487e31a1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:27:14 +0000

    gabble_tubes_channel_get_available_stream_tube_types: rename access to access_control to avoid shadowing access(3)
    
    
    20080222122714-53eee-257094a1c638e6ea97d64a9f63c8187caf781425.gz

commit 6efa0cd7e2c40809fc4990b0e2012696ea574ee5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:26:56 +0000

    gabble_tubes_channel_accept_stream_tube: if accepting fails, don't leak the GError
    
    
    20080222122656-53eee-235775b5790a7637600fcd2280c0602727043ecb.gz

commit 18eced88f442bb93b4096073e08b3affe88ec3dd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:25:55 +0000

    gabble_tubes_channel_accept_stream_tube: remove redundant GError* variable
    
    
    20080222122555-53eee-bc3f044299a989793e7cf74f53b13754aa121290.gz

commit e5150fd7ddcea2c0198dcb95385658ae3b684fac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:25:24 +0000

    gabble_tubes_channel_accept_d_bus_tube: if virtual accept method fails, don't leak the GError
    
    
    20080222122524-53eee-f52e63c0ce1a9920d7fd80a2014b9977b80cc260.gz

commit 2763ce6297312a92aa10fd7acaf0d92b73023783
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:23:46 +0000

    tubes-channel: avoid shadowing GError *error with GError e
    
    
    20080222122346-53eee-58f8bdbe5546d877e58bdaa15a6d9941ca918160.gz

commit 0a2d1a0bff1adf4cfcd33e13960316369d352b7a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:16:57 +0000

    tubes-channel tube_msg_close: remove redundant GError variable
    
    
    20080222121657-53eee-dd2a87caa294a46c031917dbad9699e1b5f19774.gz

commit 8ec06db5ce70c497bacf93bfd97a1e1227ae8a17
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:16:38 +0000

    gabble_tubes_channel_presence_updated: remove redundant variables
    
    
    20080222121638-53eee-afc2263cca6cdfe72cd522dce14824746d1b9510.gz

commit d1e91806267292099dd8e02836678e9daa71551c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:16:07 +0000

    gabble_tubes_channel_presence_updated: skip to next <tube> if tube ID is bad
    
    
    20080222121607-53eee-58c3d33c7f550c2fa801848068010ba3fabdc2b7.gz

commit da64f986ab04d819f7ecc51668a2b6ec8f851f6e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:15:18 +0000

    tube-channel: make create_new_tube, tube_msg_close static
    
    
    20080222121518-53eee-0c6c5f89526749f616dd73b2a82699bd5066e5ba.gz

commit 29474ef208d99e65809a20eed5e8934a45d79055
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:14:57 +0000

    tube-stream check_unix_params: rename socket to socket_address to avoid shadowing socket(2)
    
    
    20080222121457-53eee-3d4a87771de6013d3e70d1e0eca5309a1da75b9c.gz

commit f1568e421457cb059c916cbc9180fa24600a86e3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:14:36 +0000

    tube-stream: make data_to_read_on_socket_cb, listen_cb static
    
    
    20080222121436-53eee-cf49f43feb0c699b9b520f27fb676b7d4da0b012.gz

commit 5bcb719f2cb15f26cc3984e1cc4d5aab21bd19b6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:12:43 +0000

    gabble_tube_dbus_dispose: avoid redundant call to tp_base_connection_get_handles
    
    
    20080222121243-53eee-cab918e016952aeda39bb5b5da10029c928bd046.gz

commit 09fc7f7c45b7c12444e7e1349d04b1af4237e3f0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:12:17 +0000

    gabble_presence_update: avoid shadowing
    
    
    20080222121217-53eee-7becdfca60aa20d59607bf1ee80f04ae49b2575c.gz

commit 60e50ea5f45f2e09ebe5f8cbb91b8a3020d683a9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:11:55 +0000

    presence-cache _caps_disco_cb: avoid shadowing
    
    
    20080222121155-53eee-8973bb668c7c8c9f21043550e2a7dc6088ce5339.gz

commit 119d99c6ca345dc669b3d863174914cc12f20f21
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:11:32 +0000

    media-factory jingle_info_iq_callback: make static
    
    
    20080222121132-53eee-d4ef0ce343129ff30f853baf57c8e7020f05d205.gz

commit b7e725e163a50c2661f257ba19c4bff8af05d92b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:11:07 +0000

    gabble-muc-channel: when error is a boolean, rename it to is_error to avoid shadowing a GError
    
    
    20080222121107-53eee-b857f665f3d677f2ef42aa7b779c07a14e34f05d.gz

commit 332e844fb3319dc3b4c3ae0755f9e11cba2c0c1f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:10:49 +0000

    change_password_flags: rename remove to del to avoid shadowing remove(3)
    
    
    20080222121049-53eee-56a5068990182cb67a2f5dc54a3c2d4d654caa7c.gz

commit 9547d213314bb090c021200b318437cdfc3e9407
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:09:42 +0000

    gabble-media-session _add_ready_new_streams: add a couple more assertions to make it clearer (or less murky) why the code isn't as buggy as it looks
    
    
    20080222120942-53eee-28439e7c20feb5b8d59b20621e8f9734aec5ce6f.gz

commit b7971fdb3fd5156cb92118f1b9527965ee610d5a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:08:54 +0000

    gabble-media-session: make _add_ready_new_streams static
    
    
    20080222120854-53eee-c2f1657150e5b17f1ce8646f7002174b2c5b09e7.gz

commit 933e908a946ccf1a122e21295111990a60eabd1d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:08:13 +0000

    room_jid_verify: rename parameter index to i to avoid shadowing index(3)
    
    
    20080222120813-53eee-64f4ee4d855b42b6dc6c81b1ceb0e695956bd168.gz

commit b637e7b365f5e6bbf2743b9b0ce21b3f2fe775a8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:06:01 +0000

    gabble_connection_advertise_capabilities: rename local variable iface to channel_type, to be more descriptive and avoid shadowing a parameter
    
    
    20080222120601-53eee-6334779886bd1187058e5c99353ecd186912c92c.gz

commit d9e8294b39e7b975d6d4ebf114d61581b7611a30
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:04:15 +0000

    gabble_connection_advertise_capabilities: rename remove parameter to del to avoid shadowing remove(3)
    
    
    20080222120415-53eee-e35618721f05ea9a7ddd5572537d9f5aeaf3f111.gz

commit 4f26ae4f3bb46da0b532e22c285e1c63642037b2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:03:34 +0000

    _emit_capabilities_changed: rename variables for clarity and to avoid shadowing
    
    
    20080222120334-53eee-ea662a3c9e3a337cfefa54ecf67507d2c5a96cce.gz

commit 9792e11beded4d51e7a05a2151440daaa324fb71
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:03:26 +0000

    connection_iq_disco_cb: fix shadowing for clarity
    
    
    20080222120326-53eee-94230cbcab9d99681a2aef8ec3bd388616334bfd.gz

commit 4eba6d7c593899c577082001c07b126cb5b0fe80
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 12:02:11 +0000

    gabble_disco_dispose: remove unnecessary call to tp_get_bus_proxy()
    
    
    20080222120211-53eee-860918d20021951e202c99ac853f5265c5b794a3.gz

commit fd0cf51ccd1ddcbf3cb5943d0c7636321caed27c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 11:50:36 +0000

    src/Makefile.am: generate gabble-signals-marshal.c in a way that works with -Wmissing-declarations -Wmissing-prototypes.
    
    Also remove a couple of unused rules.
    
    20080222115036-53eee-57e860ae0ed3a16bd268d131bf5aa35f87db272f.gz

commit 3b27d8ec9eb153f134c750905fa1ccc9feadcd58
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 11:48:39 +0000

    debug.h: give gabble_debug_set_flags_from_env a proper declaration
    
    
    20080222114839-53eee-9eaa779d429dd9f1fb02fd657ff7da0bb377b9b7.gz

commit f706a2c4ae72ec00f4f2b8b6d0d27b29eddbc58e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 11:48:10 +0000

    conn-presence set_own_status_cb: avoid confusing shadowing
    
    
    20080222114810-53eee-04890c9b982104249139e41ab22827182a767d64.gz

commit 98720a2874299c84e424e8e529c2445e925c42ed
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 11:46:05 +0000

    olpc_buddy_info_set_activities: remove redundant declaration of GError *error
    
    
    20080222114605-53eee-748a3ca6f0bf57744f9ae6fc91ba2a91b70aa5d5.gz

commit c1d6dd25fa9e189e3dfb7ff7b29fad9c7c62afce
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 11:45:38 +0000

    conn-olpc: remove redundant call to tp_base_connection_get_handles (already called at function scope)
    
    
    20080222114538-53eee-839117752a4d2f5b02701fcb47e0434957835bb7.gz

commit 82cf46c57c8047d03658bfe57a3c66500514d8b1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 11:45:22 +0000

    conn-olpc: make quark-generating functions static
    
    
    20080222114522-53eee-bce6ae49ae98796d370b6186891fbd93890284b7.gz

commit 5fae8ae2845f2e665b6d817c28495fb8abf26178
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 11:45:00 +0000

    conn-avatars: make gabble_connection_clear_avatar static
    
    
    20080222114500-53eee-8fca2d1269d08b1f88d9a6949ecbcfd786df8622.gz

commit a51a6e9dc81431f0e845b9d04e4c06c53fb6be6c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 11:44:22 +0000

    capabilities.h: fix indentation, make capabilities_get_initial_caps a proper declaration by s/()/(void)/
    
    
    20080222114422-53eee-93d620c98a97728d5681f55a3d5954697fc035f7.gz

commit dec2a450cc5a5dd9ce4fb298551b8273461f2f8b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 11:44:02 +0000

    bytestream-factory: make bytestream_id_* static
    
    
    20080222114402-53eee-bf456c31085acc80d7b5a8ed8bab492013490362.gz

commit 8be12063335d0211395a5af1bffb3b672e87d075
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-22 11:42:08 +0000

    extensions/Makefile.am: generate signals-marshal.c in a way that works with -Wmissing-declarations -Wmissing-prototypes
    
    
    20080222114208-53eee-a5b558971fa148d092e78eb608b46645d7c12637.gz

commit 37dd4cf8014b0a7c59c13f0315ee00705302c586
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-02-22 15:25:35 +0000

    refactor Ready function to avoid goto
    
    
    20080222152535-418b8-1eb29ad7bb2cfd0dd30b0295525493810ce0e460.gz

commit a09fa0712475e7e613f2adddede1e089ae2cb9aa
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-02-22 15:00:57 +0000

    don't emit NewStreamHandler signals multiple times if Ready is called multiple times on the SessionHandler
    
    
    20080222150057-418b8-00fa54b373e33c44b135945c9f70f21bac8b8040.gz

commit 933a03544ac1ac671eef2cff07692b1d79760d18
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-02-18 18:25:27 +0000

    fix hardcoded address type in GetStreamTubeAddress
    
    
    20080218182527-418b8-be33fdac9a6a49980661d67ab51bdeac4558cb6f.gz

commit a9c188bca238f3a841e0966520519f3b7c72ee5e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-18 15:38:24 +0000

    Now that README explicitly says we require GNU make, turn off Automake portability warnings (fd.o #14020)
    
    
    20080218153824-53eee-857a2a4a4a376b93cc60b5db3158852c4c463096.gz

commit bf3b22c06dfb3916fa3375b59d2745f147573856
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-02-18 15:38:20 +0000

    Fill in README
    
    
    20080218153820-53eee-92b8ffafcc8a8f66dac01d7487b03d87f679ae2b.gz

commit 6c511c3017e7556c342e2c20ce3434cd6d931df2
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-01-07 13:19:56 +0000

    port test-connect-fail.py to new test API
    
    
    20080107131956-c9803-ff738e5f14baadd489015e27b4a36e7bd4bc19b8.gz

commit fa2a245e15d418e8a9209b73e6857ebfc47455a9
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-05-02 17:04:03 +0000

    ignore second argument passed to streamStarted, for compatibility with Twisted Words 8.0
    
    
    20080502170403-c9803-5126ab783b25a116f074abe11200e2cea49c33b0.gz

commit defb15b454b23bad6fa686831fbc74637f625715
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-05 09:10:46 +0000

    Remove dead code
    
    
    20080505091046-a41c0-7dcfec1deb6755b0d3fd9788305df7a897fda9bd.gz

commit d0b68f586865b2a838ab74d2a15e2f8062642dc8
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-05-05 09:10:15 +0000

    Add comment on private-tubes-factory.h
    
    
    20080505091015-a41c0-6aced7d54cf428f36d5570af08b17a24dcc622be.gz

commit 163938b5bdee8c78727d662dad6c0d4499f5f0f1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-02 14:20:18 +0000

    Don't assume that htmldir will be defined (it was added in autoconf 2.59c, which is not in Maemo)
    
    
    20080502142018-53eee-c3e171165a1aaaaad933797b005f32f1e9a42058.gz

commit 3a02482ec5aaffbd47c4b742ca0f4cccd7e2671e
Author: Olivier Crete <olivier.crete@collabora.co.uk>
Date:   2008-05-01 23:29:41 +0000

    Ignore non-1 components for now
    
    
    20080501232941-3e2dc-87590a9e055ae1c7afe5707b935d0feabb83a9b2.gz

commit b8cd17a40456b2f0e88460ed74abe7200caa00ad
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-01 18:17:14 +0000

    Nano version
    
    
    20080501181714-53eee-45f0ab6f530668548b99c7b269bbc0133d3eb537.gz

commit 509eca34c4e01d0e4fa7be49e80bbbcc769cf891
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-01 18:10:23 +0000

    Prepare release 0.7.4
    
    
    20080501181023-53eee-66e7fd8d0e1d157e12da161ae47796b7e5b52f0f.gz

commit 384db5a93d265ba422bbd0b0441f7a2c7e2fd0d0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-01 18:04:47 +0000

    Release weak ref before calling into user code in GabbleDisco, to avoid crashes if the user code causes the weakly reffed object to be destroyed
    
    
    20080501180447-53eee-0ced607caecb1143a9f95c8fe4292d86dc5ec6ee.gz

commit 40e1269331e940eaf5b4ae017a2131ff39fde6dc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-01 17:31:53 +0000

    GabbleDisco: temporarily ref the disco object while calling out to user code
    
    
    20080501173153-53eee-48e86d834e19bce2deae9c1c58fa47bdf665c12d.gz

commit d0ee9b9737b8f187ab2341f0addc21110dc5650d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-01 17:31:36 +0000

    tests/twisted/Makefile.am: consider it to be a failure if Gabble dumps core
    
    
    20080501173136-53eee-458c09915720cbad169d1d43455eafeaa789c907.gz

commit 75d9780d4c07c7d1f3e303421eac225ad6ad17bc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-01 17:19:28 +0000

    Update NEWS
    
    
    20080501171928-53eee-83164e8c2bc853d4dc2f93327f02dc97b565c7ce.gz

commit 4c709da80430a595971d85a90968b476cfe45bdc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-01 16:53:00 +0000

    Add regression test for fd.o #15198
    
    
    20080501165300-53eee-599ce44459f5848dc12bf1e60a0bd950294e902a.gz

commit bc39c83385703aecf45bfa5e1043066b25e47723
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-01 16:43:58 +0000

    After returning an error from gabble_connection_get_capabilities, don't happily carry on regardless (fd.o #15198)
    
    
    20080501164358-53eee-683a93a370cac7d84eb6b8bdd8c441181be00d75.gz

commit 1db81a9bf58bebb8b6ed81e44b2f1ba19c74c2c0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-01 16:34:29 +0000

    When adding ourselves to the local-pending set for an incoming call, make the actor the handle of the caller (fd.o #14806)
    
    
    20080501163429-53eee-8f9032ccbd76c08b32845e22f4e724ebc0a0f893.gz

commit f133ea9add37bbc3f1efe1911bec9637b5e75cb6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-01 14:24:18 +0000

    Improve reference to spec in NEWS
    
    
    20080501142418-53eee-47debf2952cd89aa2318a1d5c5f154e171df2a64.gz

commit 98601c999058830d344cc3f56bb05d7cefe4497f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-05-01 14:20:54 +0000

    Update NEWS
    
    
    20080501142054-53eee-d42a5af10da572030cc0fdb2eeaca347fa1745dd.gz

commit a7f9d4ca0f187897e5ff86452474ff58dcd41a26
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 17:17:20 +0000

    test-outgoing-call.py: add a hackish workaround for fd.o#15769 so we don't need to fix it right now
    
    
    20080430171720-53eee-9c0ce3b9e74d604d8c494d3d1da302e78821569f.gz

commit 1153f3ac6d2047cb518a99d4259c5d8aba635d48
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 16:23:48 +0000

    test-outgoing-call.py: Don't expect to see a NewSessionHandler until we RequestStreams
    
    
    20080430162348-53eee-91ba72d5ce4419e69de513b96ba8c2f632361711.gz

commit 05bea03ccdb995bec444b87e78be6363b7073d44
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 16:04:36 +0000

    test-outgoing-call.py: don't add the peer to the group interface, but instead let them appear when called
    
    
    20080430160436-53eee-d930f355ade10e5d3bd51ea104f9a5e5de1ef39a.gz

commit f1559f9aeafe2ecce982f71fc43b9974f0168ee1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 16:03:38 +0000

    test-outgoing-call-deprecated2.py: instead of requesting a call to foo@bar.com, request a new blank channel and invite foo@bar.com
    
    
    20080430160338-53eee-6d28e665185a6bd66d5505b7644f8b062c406c0b.gz

commit b3394022cd1c0f3cad5b966254eaa06fccabb7ea
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 16:02:31 +0000

    Duplicate tests/twisted/jingle/test-outgoing-call-deprecated.py again, it turns out to have been more deprecated than I thought
    
    
    20080430160231-53eee-7bfbba4ad23d1654dc3d50ef36184dab365cc478.gz

commit 4808b84c55b5545a5b23a2234753b621f3ed6fbb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 16:01:40 +0000

    Duplicate test-outgoing-call.py as test-outgoing-call-deprecated.py
    
    
    20080430160140-53eee-6ed4f66cbce210ad40b288ced8132f4e41728af6.gz

commit f1ba37205d85cdb55ed130e3dd87201b02e9c2fd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 16:00:26 +0000

    In regression tests, correctly request streams to the other guy, not to ourselves
    
    
    20080430160026-53eee-d78b3e2b8fcf1acebb39537b23cf4c2d55662a20.gz

commit fd0fae17f8b58d81b8474714201044ce3112da7f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 15:49:36 +0000

    GabbleMediaChannel: when session state changes to indicate we have contacted the peer, stuff them into remote-pending if they're not already there
    
    
    20080430154936-53eee-2d7aa01544e874bfe391180351a112118829755d.gz

commit cc79381385fa996bdb858606ad01741733ce61be
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 15:49:26 +0000

    Fix variable name
    
    
    20080430154926-53eee-8a1ffc74c87a8f8dce8a6cfd6c38c1a5ac650855.gz

commit 16f5749234c89f5356df2c8dee913d0f40e8ab98
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 15:41:39 +0000

    gabble_media_channel_request_streams: don't restrict to only creating streams to a member of the channel (fd.o #14602)
    
    
    20080430154139-53eee-e683b55932e3561aeab7f642ea0c8131b1f9054e.gz

commit c85575d17ebcb8a59ecbc10ef1ad6f628bf6eb7c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 15:39:59 +0000

    gabble_media_channel_request_streams: lazily create a session if necessary (also simplify error handling)
    
    
    20080430153959-53eee-dd8be2453c6882a1880e7cb8b27d75eb60562889.gz

commit d92f9a33f3dac2f7c43bfb6f49992fcbf4c25c4a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 15:32:22 +0000

    GabbleMediaSession: ref the peer handle for the duration. We can't rely on it being reffed by the channel's group interface any more, with telepathy-spec 0.17.3 semantics
    
    
    20080430153222-53eee-1f2bdc70acbce3bda9be817dcf49b8e00fd2b7e4.gz

commit edfab76d3b3e64d7115b5fe42de379d7a9cd11d2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 15:24:55 +0000

    Allow adding a member to a Media channel if and only if either it has no session, or it has a session and they are the peer
    
    
    20080430152455-53eee-2c9f014685ab6c5d191950c4aecfa378d36632b8.gz

commit ae023d00ca8f9a68a18d3923b7e917cb79f2732c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 15:19:28 +0000

    Move responsibility for checking VoIP capabilities into create_session()
    
    
    20080430151928-53eee-81bab7f32516ddd27b20d0fe418c06954093b8b3.gz

commit 32f0b8105bcf973883569409d415130f8cfa1323
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 15:13:18 +0000

    In _gabble_media_channel_dispatch_session_action, assert that we're not about to cause create_session() to get confused
    
    
    20080430151318-53eee-bd593255b5a8aed05860daf707a890cd1de3ecd7.gz

commit 9554d815423b9d289f7b32174fc81aae5bd2b4dc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 15:12:43 +0000

    Have create_session() return a GError; for the moment, assert that it always succeeds
    
    
    20080430151243-53eee-c1d749f549a7757522d0232a6a70163a0eeba738.gz

commit a19b7773d8d5a00d774880d06d5bc78d5987ba52
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 15:12:30 +0000

    Whitespace
    
    
    20080430151230-53eee-5362b80efed78859d6303b6688ebc365a840cf39.gz

commit d4fee4b85e569b39d0ac955dc370e9752a150d83
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 17:46:23 +0000

    ./tests/twisted/vcard/test-muc-alias.py: adjust for #14467 being fixed
    
    
    20080430174623-53eee-2350be998c53808ea72e7722593ab76a12c8c14d.gz

commit 20d2dc4617611eb0da548307ad5129b30beff323
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 17:45:57 +0000

    tests/twisted/tubes/test-muc-*: adjust for #14467 being fixed
    
    
    20080430174557-53eee-b2409a400057d4e58a45d88f59a3a4f15cf0b124.gz

commit 963269af4202e1da878a2901e0b53fe6652c791d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 17:44:57 +0000

    test-get-available-tubes.py: adjust for #14467 having been fixed
    
    
    20080430174457-53eee-147c7204d62a9a4ddf18a348a4192da3f9fd3ffa.gz

commit d071d72c03b100bfe186961bc6a3bd71d5651a87
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 17:40:13 +0000

    Adjust sequence of events in test-muc-ownership.py to assert that group membership is aggregated
    
    
    20080430174013-53eee-6d13c52a9d343b778d9314a9c53cee0b6a9a1e8a.gz

commit 4f3525e567be23e4494e69e1b05fb63c74409ada
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-30 17:32:37 +0000

    Amend muc/test-muc.py to match Alban's fix for fd.o #14467
    
    
    20080430173237-53eee-1833bf9b961ebd6f1d9aabd73ee84f90263caefd.gz

commit afd33c4ece588cd43f5e48471026cfbcb0df840b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-28 18:02:16 +0000

    Reference Debian #446259 as well as fd.o #12791
    
    
    20080428180216-53eee-222ef3a1910ad25a1485c354e60a03ada7996a86.gz

commit 57999c2048a8c10b0cc893543841f26bcaae2f0e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-28 17:57:28 +0000

    Update NEWS with merged changes since 0.7.3
    
    
    20080428175728-53eee-7c3dcda6112f6aff3f9f522db8859a953cb13c6e.gz

commit 29e789e98c0c7ac8c3b40a2a6a08b820eecf1917
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-28 16:53:42 +0000

    Amend #12791 regression test to test with what the submitter actually had on their roster, as well as with a garbled roster that the server shouldn't have sent us
    
    
    20080428165342-53eee-2f71e379a51013bdeeb90c5f6077a423f7926aa1.gz

commit b4bbd99bdfc655def2bb5a68e3aa1361ceec38f2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-28 16:53:23 +0000

    Skip roster <item>s that contain '/' (fd.o #12791)
    
    
    20080428165323-53eee-e9ccb4093493d76266121f5bd4494c22df973752.gz

commit 644db8066468d9e14703d68359b3bee9978d921a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-28 16:37:05 +0000

    Add fd.o #12791 regression test back as a separate file
    
    
    20080428163705-53eee-961c527cac0f951f14e682682bd2cac67604449c.gz

commit 33936e508e6ba21957f25aa3d96daba3e258abf3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-28 16:36:35 +0000

    ./tests/twisted/roster/groups.py: revert addition of #12791 regression test
    
    
    20080428163635-53eee-dfdab263cd49a93baa1664186b39a9f937a90413.gz

commit 55cd8fda2cd2e626e755202e04e613068b988521
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-23 14:30:54 +0000

    roster: ref handles when they are put in a GroupMembershipUpdate (hopefully fixes fd.o #12791)
    
    
    20080423143054-53eee-17a4c68002214507cd30bc2ed5046b5401f8b5c2.gz

commit 46e7b1890145f919b3adcd247b581d1983f3dcb1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-23 14:29:31 +0000

    roster/groups test: include amy's <item> in the roster twice, removing a group the second time (this causes the same crash as fd.o #12791, although it doesn't seem very likely to be the real cause)
    
    
    20080423142931-53eee-8a066770d706e537bed390e5897f2afba673b5bc.gz

commit 424df4157d89af187d63e640ba487eff365aee24
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-23 14:29:10 +0000

    roster/groups test: if assertions fail, print more useful info
    
    
    20080423142910-53eee-58f7dac044c2a51c1e991cab445925d3865e9bd1.gz

commit 23d2ddd5e30e3b2260ae3578489e882b8654f856
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-23 13:36:03 +0000

    roster: amend comments for GroupMembershipUpdate/GroupsUpdateContext to indicate where things are borrowed from
    
    
    20080423133603-53eee-e8612a4b2aabf07bb6b038e32f6fed8edefcae51.gz

commit 2d85fdb07aa4d86a68bb3554cb5dddae30f474a4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-23 13:19:41 +0000

    Add a comment to ./tests/twisted/roster/groups.py explaining how fragile it is
    
    
    20080423131941-53eee-b0143cd6c0badec6334b54c460a87dc9aa2bf128.gz

commit 9eb5d000c26620b1e966a0009a0de042602d318f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-23 13:17:43 +0000

    _gabble_roster_item_update: eliminate unnecessary temporary, old_groups
    
    
    old_groups is slightly misleadingly named - it's a direct pointer to the intset
    underlying item->groups, so its contents change whenever item->groups does.
    (In practice we only used it once, before making any changes.)
    
    20080423131743-53eee-0b3aeadd3136517c2ae4267c440ed2146d1c1110.gz

commit c158c82e696f8448b18c9ed6fd322660427c3665
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-23 11:36:47 +0000

    Add a regression test for roster groups
    
    
    20080423113647-53eee-88f64055934cb5c54613267847ca237a2798143a.gz

commit a24ca4d67452d287dcfb3f2558766dbd861dbfbd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-23 10:35:10 +0000

    roster: misc stylistic fixes
    
    
    20080423103510-53eee-f628702a67f0a3fa2dc63eb0f18f2cdeb7c0c959.gz

commit 8af9b5426808a7484721fa30ad03ae66cdd91652
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-04-23 10:31:34 +0000

    roster: Annotate GroupsUpdateContext, GroupMembershipUpdate with ownership
    
    
    20080423103134-53eee-aafc845df529968b8d450f6858ccdf1e8923135d.gz

commit 9df928546d56d7ecfb66e480d61579c38bcc27c4
Author: Alban Crequy <alban.crequy@collabora.co.uk>
Date:   2008-04-25 16:36:18 +0000

    Fix Bug 15095 by allowing a MUC presence stanza to be catched by the GabblePresenceCache callback
    
    
    20080425163618-a41c0-1f7775a39c9344f03098f856afe67c9ead5dcdef.gz

commit d55886dcf9cb6100d265a2cc645ecba331f2978b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-01-07 13:16:38 +0000

    port test-avatar-async.py to new test API
    
    
    20080107131638-c9803-c90de3d641b8e825cd279344033546005ac0b561.gz

commit 1477e6ae45e12e94d2ebae889e5f4b654edd0e66
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2008-01-07 13:15:15 +0000

    port test-disco.py to new test API
    
    
    20080107131515-c9803-55ceb4b710f899c4855fa5cdbc021f6152ceecd7.gz

commit b04c022ed4ef83acb7614c1cfd3c52727f3a430b
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-12-26 16:57:37 +0000

    port test-avatar.py to new test API
    
    
    20071226165737-c9803-25ec39eddc772fbf9b27ffe6bc92bfc853f9e5c9.gz

commit 716c4e666b7d89b4ae053b48bea9b819f2e3b070
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-12-26 16:35:29 +0000

    port test-roster.py to new test API
    
    
    20071226163529-c9803-b82f1edef3436043c84a3b03e2a466cf989eaa8c.gz

commit 6c7b334624f8fdb27f361215e358c66c159615bb
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-12-26 16:24:04 +0000

    port test-text-delayed.py to new test API
    
    
    20071226162404-c9803-764c3f7199e9c7908799455b9628d606827e2427.gz

commit 68d644f441468105527dc4009fa148d170c99137
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-12-26 16:16:19 +0000

    port test-text.py to new test API
    
    
    20071226161619-c9803-350370e83ef1d8248277aac0be2b03261424ca74.gz

commit 1c75dd9a82f9b1ea42d84ba20596439d193b1d37
Author: Marco Barisione <marco@barisione.org>
Date:   2008-02-12 12:49:02 +0000

    src/Makefile.am: use POSIX character classes instead of ranges
    
    
    20080212124902-f1355-c618575b0194de8fd8f9eb2b11786afe7494fa42.gz

commit 2b237ba9d8b83473d6af590f66d8c5c9a30baec3
Author: Marco Barisione <marco@barisione.org>
Date:   2008-02-12 12:22:38 +0000

    src/Makefile.am: allow digits in type names while generating marshallers
    
    
    20080212122238-f1355-e041ff3458dd5d8c5c950244e1c5f25cf05a9cae.gz

commit 2c597d92fcd3b99b098f76f250f0f54f050d7dc3
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-01-20 13:40:02 +0000

    test-avatar-retrieved.py: check that AvatarRetrieved signal is emitted only once for each contact
    
    
    20080120134002-01440-72ebc06f0d264aa3b52d267161afdc1c5edf3bc0.gz

commit e4b426a01120e48e4bd26e4d34443f5f32cec121
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-01-20 13:37:48 +0000

    conn-avatars.c: emit only one AvatarRetrieved per contact, no matter how many pending requests we had
    
    
    20080120133748-01440-5a014d794b042f04b081694505f091eb6a13171d.gz

commit 0634bf61a29706fb5f245201f6c6921c77781951
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-01-19 23:11:36 +0000

    _gabble_connection_connect: fixed misleading SRV debug message
    
    
    20080119231136-01440-52362244f359a4edf93e2685e9b7da50bb7ebda8.gz

commit 216655299d79e7b27cf55b03273507c7649e8c9f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-01-09 16:45:45 +0000

    tube-dbus: get_tube_state: replace g_assert_not_reached by g_return_val_if_reached
    
    
    20080109164545-7fe3f-e9687265a26c5dd7f8eb99e60c502ead7cfd7a6b.gz

commit fc8c8e5bc0ad5c6fecd69cf5829f74688d5d1319
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-01-07 10:00:43 +0000

    tube-dbus: get_tube_state: add a g_return_val_if_reached to make facist gcc happy
    
    
    20080107100043-7fe3f-ce28372a96ed941c02bc90547084839b22360af6.gz

commit 0afe5c8cc8c35263ecfdde10634bdb41b5546a3a
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-01-17 21:40:50 +0000

    Development version 0.7.2.11
    
    
    20080117214050-01440-d3609e1044ea7e1db619caf00e3db979239164fc.gz

commit 22ca74a781a8964c2fc136df9dff4d97ada2cc71
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2008-01-17 14:05:20 +0000

    version 0.7.2
    
    
    20080117140520-01440-5c7e878c56139287922b6116a146a29969b6bb75.gz

commit fa32638fd4d126efaaeaa2db57fc448b936c4925
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-01-11 13:47:26 +0000

    correct comment; we don't set the port in this case
    
    
    20080111134726-418b8-205bc81d3c59fc7f6e254f770887c62776319d1f.gz

commit 10f188610667dc0c4bb9a2a5a1fb3d36f1c6b853
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-01-10 22:01:26 +0000

    remove the H263 N800 hack; in light of RFC 4629, the behaviour of not enabling any H263 annexes unless specifically negotiated is in fact entirely correct, and this behaviour is now implemented in recent versions of Farsight when negotiating the H263-1998 payloading
    
    
    20080110220126-418b8-d2d3de9515c0979e5bd31963d316eb585a073ed5.gz

commit 43ddd11dfd70f76957ed0754e056cf2a887d5dc8
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-01-10 21:46:25 +0000

    remove code to enable h263-n800-hack when calling old OS2006 N800s
    
    
    20080110214625-418b8-e27a71b3bb7ae98cf112a2702839a1442eb16bc7.gz

commit 9ce21e44b7eaa7ca4e5f1860aa23bfc4b0d09b38
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-01-10 21:42:30 +0000

    remove code to detect the N800's OS2006 version of Gabble
    
    
    20080110214230-418b8-f62f9bb1c72f548bb606e14af7ccbd8395d08250.gz

commit c30f770c1adf3a3c7800a6915e05128cecd30b3e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-01-10 21:38:37 +0000

    remove Nokia Instant Video specific device registration code
    
    
    20080110213837-418b8-eb378c278436453fc708f885a59bacd5228bcf7d.gz

commit f6c4f0cabf10c5c33555bfec2c83ab3dfd1426ec
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-01-10 21:37:39 +0000

    remove 'auth-mac' and 'auth-btid' properties, specific to long-dead Nokia Instant Video Call service
    
    
    20080110213739-418b8-6e4e5150431b9e14a03c2a5ad7790f58cae86e85.gz

commit 8ded55251085527f93a1e96bbd6089c43205651d
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-01-10 20:12:18 +0000

    don't pass the port in at all if it's not specified, it defaults to 5222 inside loudmouth
    
    
    20080110201218-418b8-108c3143f0a188d4068f3dab693cd104d043e0bc.gz

commit ae2a9e3a6aae5e6ebc6bccd44ba72b1cb7537c17
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-01-09 13:32:21 +0000

    if a "server" or "port" parameter are specified, disable SRV lookups and use the given values (falling back to the JID domain for the server, or 5222 for the port, if only one or the other is specified)
    
    
    20080109133221-418b8-b4f6c5ce0125de63c41d3f9ac3237297fc9ca406.gz

commit 845965a4e7ffdde018c55900132097ed907504b9
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-01-09 13:16:07 +0000

    remove default value for "port" parameter
    
    
    20080109131607-418b8-759ed518434a3af4169d08ab6e9d8c72507a4311.gz

commit 9075bfdcc105665af3dfa8d792ad32730d98cb2a
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-01-02 16:48:24 +0000

    if we don't have SRV support in loudmouth, don't defend against the server mysteriously being set anyway
    
    
    20080102164824-418b8-64835720d364a5a880dc2a907ccee2e5002c2c8a.gz

commit 6a52ca9884550e07e4610907c733a80591d3d878
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2008-01-02 16:48:07 +0000

    restore old behaviour of taking the server from the JID when old SSL is used, disabling any LM srv lookup code, otherwise the port number will be ignored when making an old SSL connection (fixes fd.o #13816)
    
    
    20080102164807-418b8-cb5202634f09588561b26fdebac2f0865ac05ba1.gz

commit f0da91adafe5ced124cfabb8fe66546abe77a6e8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-01-03 16:22:34 +0000

    Also fix fd.o #13896 for Tubes channels (separated to make backporting easier)
    
    
    20080103162234-53eee-1c493f335da54b93de7d5653d17661ccd0c9427c.gz

commit d5610111cc81f67aea616e649da5166a3c494c00
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2008-01-03 16:21:54 +0000

    Cope with TpChannelIface channel-type property becoming writeable in telepathy-glib > 0.7.0, avoiding warnings when channels are constructed (fd.o #13896).
    
    If telepathy-glib is <= 0.7.0, the added code will never execute, but is
    harmless.
    
    20080103162154-53eee-c3e2cbf7bab827e33bea37ad837da8fcaacd57f9.gz

commit 03c805dbec3ee339b3a64aa15450fb5b8db049b7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-20 12:18:13 +0000

    tubes-channel: use g_return_val_if_reached instead of g_assert_not_reached to make some compiler happy (fd #13752)
    
    
    20071220121813-7fe3f-a01dfb19f5179170cc1350342287f8357879991e.gz

commit dddab4b617ce0f8168cdb0421118cea3449f98ac
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-20 12:16:57 +0000

    tube-stream: use g_return_val_if_reached instead of g_assert_not_reached to make some compiler happy (fd #13752)
    
    
    20071220121657-7fe3f-88640fe04c7e4228692c58328e279ede328af41a.gz

commit db50085f94373a2d845249b5cc6d35e7bbd8b880
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-01-02 12:38:21 +0000

    test-si-tubes.py: remove unused import
    
    
    20080102123821-7fe3f-326cd2b963696b59ff7ceb8cbc9cceffe9dc017c.gz

commit f278562ef32203af73a5083f3ca3167727d7ea8e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-01-02 12:38:07 +0000

    test-muc-offer-stream-tube-ibb.py: remove unused imports
    
    
    20080102123807-7fe3f-7375b24054102e974b84d19006a7322a851b1984.gz

commit 0cf5246e9c8b494a4ebc485ac99eed62899a806a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-01-02 12:37:52 +0000

    test-muc-offer-dbus-tube.py: remove unused imports
    
    
    20080102123752-7fe3f-cd6b97b0cdb301e5cd2d3c74318164aaabec1739.gz

commit e668b49efc72ddb3806238ddcb1e95ae4e67a1fe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-01-02 12:30:34 +0000

    test-muc-accept-stream-tube-ibb.py: remove unused imports
    
    
    20080102123034-7fe3f-460633138faf4a166758499b4d99d33b77496407.gz

commit a44f4b9080475f107210ac7d766e378968b0e4fa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-01-02 12:28:54 +0000

    test-get-available-tubes.py: remove unused imports
    
    
    20080102122854-7fe3f-a7bbd6784fdad0be20c2672a0693939e690dfe99.gz

commit 3a810bfdbd9646458236531926980aec788b0f6d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-01-02 12:27:35 +0000

    servicetest.py: remove unused dbus import
    
    
    20080102122735-7fe3f-b84d8497ef01b77ca106fa38093bb4e6ce642958.gz

commit a50dd570b0eadf1b87a41455cbe2ef9a50327eea
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-01-02 12:25:32 +0000

    servicetest.py: define EventProtocolClientFactory using multi inheritance
    
    
    20080102122532-7fe3f-896fc76f77595a28b9376ae63936afe5539667cd.gz

commit e807a249076474fbe7c8050671628c565bbfe9a0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-01-02 12:11:03 +0000

    test-muc-accept-stream-tube-ibb.py: remove useless debug test
    
    
    20080102121103-7fe3f-c9830473d3896fa10b7c58101828bf8741d72a55.gz

commit 82b2c6a19459b3cb1c8b4ce55875d2f39a51f00a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-01-02 12:09:53 +0000

    test-muc-accept-stream-tube-ibb.py: remove useless ClientCreator instantiation
    
    
    20080102120953-7fe3f-577914d4e7e96800982ba010c5efb3af8b685035.gz

commit 688ba7a65cb54a9cabedad0d57d9f554a1d25244
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-01-02 12:05:54 +0000

    tubes-channel: add the bug number about AcceptDBusTube broken with 1-1 tube
    
    
    20080102120554-7fe3f-cb32d6dd41bb3d7e2c820674c099edeee5a68079.gz

commit 9442b7e3b26292eb27fa730ec9d19344b2c1cd37
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-01-02 11:59:18 +0000

    test-get-available-tubes.py: remove useless import
    
    
    20080102115918-7fe3f-d0ef846571d04af0cb500b487bbd834bf1384354.gz

commit 6239700ade9af1de8f1d4938efba49ab46aef6fb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2008-01-02 11:51:44 +0000

    bytestream-ibb: add more information in debug output when the stream is accepted
    
    
    20080102115144-7fe3f-370d81e6af3c5d5ec4758738237b007a25a5e236.gz

commit 0cd2374b6cb20026ea289fdcd3860f50af5eae8e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-27 18:52:57 +0000

    rename tube_conn parameter of watch_tube_signals to "tube"
    
    
    20071227185257-7fe3f-9f03de3860ec7500cd316162f2fc4c6556d01050.gz

commit d6c535452458c86b01cb69b330bd2ea976b6a210
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-27 18:49:56 +0000

    test-si-tubes: use watch_tube_signals instead of our own copy of it
    
    
    20071227184956-7fe3f-ab48963f86ccd70c74ff9eb54ce73f46d2a0e6b2.gz

commit 6e42597c4c7ce248607e96e016e1d9013787c394
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-27 18:48:59 +0000

    servicetest.py: add watch_tube_signals function
    
    
    20071227184859-7fe3f-45f18f74595735d5ff421dd48427ac20593e1846.gz

commit b6cd94bc74f5db75bbd086e87424d5cc01021b59
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-27 18:47:15 +0000

    test-si-tubes.py: make test actually works
    
    
    20071227184715-7fe3f-7016652fc69f030cba8e61c018867de8bc347e47.gz

commit 694d94d8094f4ab1461f0f35ddadb5382701a52b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-27 18:36:13 +0000

    test-muc-offer-dbus-tube.py: add few more assertions
    
    
    20071227183613-7fe3f-6d7fb9b960d46916bbcad8a9f35f1d4b770beb73.gz

commit 7b9fa91fd0e6ee21afe1ebc6d8cc3296c4a7369b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-27 18:26:01 +0000

    test-get-available-tubes.py: remove debug print
    
    
    20071227182601-7fe3f-3e6fcafa47b0aa550617ee9cea79995e1be5a6c5.gz

commit ba3068321db20f5992faec637b418ef5e30d9463
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-27 18:25:22 +0000

    test-muc-offer-stream-tube-ibb.py: use EventProtocolFactory
    
    
    20071227182522-7fe3f-e56526758262a954a0d31398adac6928ec1d41d6.gz

commit b244bbcb45bb727c7d17ec1333655399e026f773
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-27 18:20:55 +0000

    servicetest.py: add EventProtocolFactory
    
    
    20071227182055-7fe3f-9a454a9a22a11e3eaf0c5627064e09bd2fd0a04c.gz

commit 6308edf0c20fd916ebcc1e0dd8ba31fe5f125eb7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-27 17:24:54 +0000

    rename EventProtocolFactory to EventProtocolClientFactory
    
    
    20071227172454-7fe3f-9efc0c20396a4b36c8a0a40f6ed1d73d553accea.gz

commit 03da435ffb94fbfafcb9b59d936a4465b9e713e6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-27 17:12:10 +0000

    add test-get-available-tubes.py to tests suite
    
    
    20071227171210-7fe3f-aaa70b23330a93135ae9f3d266608c59ddeca362.gz

commit 35e55f4ca083f10e5c8015ed444135020d24b57d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-27 17:11:55 +0000

    add test-get-available-tubes.py
    
    
    20071227171155-7fe3f-783d62a9a5407014956e1b200a8328b42265dc02.gz

commit 68aab5e9fb45f24ce5b869080abef4f8c7486d78
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-27 14:50:13 +0000

    test-muc-accept-stream-tube-ibb.py: be sure "socket-data" event is about the right protocol object
    
    
    20071227145013-7fe3f-27e7143cbe4b9e1f81a1f9b4d960a30c4b23ce79.gz

commit d73eeca78a72741a0b3cfabb6562fd6e43d310bc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-27 14:49:30 +0000

    test-muc-accept-stream-tube-ibb.py: remove now useless gotProtocol callback
    
    
    20071227144930-7fe3f-1a7eec7da8e675eed4b90a1c7c1664f8f990d199.gz

commit 3e3fa479741e081cc43ce925809097a8cfa27834
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-27 14:48:20 +0000

    add socket-connected event so we can properly wait for our socket to be connected
    
    
    20071227144820-7fe3f-09e3187935a3207b213bfb70db968d1c7d3df668.gz

commit fd81f98ebb5ee3c7b2e9084ca9db07cb1b2a4a7a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-27 14:35:46 +0000

    move sendMessage method to EventProtocol::sendData
    
    
    20071227143546-7fe3f-fa2a0129ff918d1d9d818db1e95ef776b1082cf8.gz

commit fb843eba45074fb3ebdcc6b965b9a217c9d574ae
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-27 14:31:37 +0000

    test-muc-accept-stream-tube-ibb.py: move protocol.queue initiation to the got_protocol cb
    
    
    20071227143137-7fe3f-1255f15e7038f845a62173d46c1e2a1b05bc8729.gz

commit 3273298d2593c5342096f4bd98e2360dad4cd93f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-27 13:00:45 +0000

    test-muc-accept-stream-tube-ibb.py: check if we received the right data on the socket
    
    
    20071227130045-7fe3f-b07bae55452ffcb6dd9cdcf51c8a166dee025742.gz

commit 0567940b2a1ebec841db09e8e153551b59db5397
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-27 12:59:39 +0000

    servicetest.py: add EventProtocol class that raise Event when data are received from a protocol (useful for stream tubes tests)
    
    
    20071227125939-7fe3f-bb069a96b2ab89f052c6a52088ca81f5641b86dd.gz

commit f2e762cc5edf62bf362ec7f849d03197fe6a341a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-27 10:52:33 +0000

    add test-muc-accept-stream-tube-ibb.py to tests suite
    
    
    20071227105233-7fe3f-43e3c3c489cd5214fbd6fb745b0739846e9c31e8.gz

commit d810a0d9970ed3e30e52a573d23b7c663a57c9ec
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-27 10:52:15 +0000

    add test-muc-accept-stream-tube-ibb.py
    
    
    20071227105215-7fe3f-e0b711b814c030dfb68d85d5b43e463d087cb679.gz

commit 2ccf24c8db3b5c0ce01bbd32cd9b9771958c7a4f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-26 15:50:29 +0000

    gabbletest.py: enable verbose output when using the new API and CHECK_TWISTED_VERBOSE is defined
    
    
    20071226155029-7fe3f-b6d9d325814f4a9dd70b51d6bc361f94167b3534.gz

commit bfcc162855d7f86cfc9b70784143be0cd8c40bd5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-26 15:27:56 +0000

    tests/Makefile.am: update after test-muc-tubes.py split
    
    
    20071226152756-7fe3f-35fdd669ba899ca7b0a2f1d76966a4159aed2d5e.gz

commit 3f2000732ea4ff522980c44ed93d1a26467f8fb5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-26 15:27:04 +0000

    add test-muc-offer-dbus-tube.py
    
    
    20071226152704-7fe3f-1f45d19026ff8c76cb13925d92d12d43ce915a8c.gz

commit 32cb2d539e642663700b2393630a98f344912e47
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-26 14:51:55 +0000

    test-muc-offer-stream-tube-ibb.py: remove D-Bus tube test
    
    
    20071226145155-7fe3f-fc82edd1d69dc6c59da94ef6b74da23f5732ee82.gz

commit 624fa670c76f51a3109e85911f214083a0b4b862
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-26 14:27:39 +0000

    rename test-muc-tubes.py to test-muc-offer-stream-tube-ibb.py
    
    
    20071226142739-7fe3f-594796a050a45a3190a7d78b1e23e426699032da.gz

commit 4b6216c55602ce63f4fa75680d46a393518bf361
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-20 17:41:49 +0000

    test-si-tubes: various cleanup and improvements
    
    
    20071220174149-7fe3f-555b6f32da59c24b385e468c90b680c8ef601416.gz

commit af102c08d8dd2d36fcbc8f970ac52bfadfcd6fd3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-20 17:13:35 +0000

    test-si-tubes.py: port to new test API
    
    
    20071220171335-7fe3f-6d1a476344827d1477cf55b5f33b6b65284d54be.gz

commit fcef0d412109d9fcc1e757a778ef9acf49a08952
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-20 16:18:52 +0000

    test-muc-tubes: use message_type keyword instead of an assertion
    
    
    20071220161852-7fe3f-148ca9bf2f0e941883c4cf08b2d7b31ce5dd857c.gz

commit 6c6752736c7886b49bf7594b2777a7afd08735f9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-20 16:17:59 +0000

    gabbletest.py: add message_type attribute to stream-message
    
    
    20071220161759-7fe3f-501208bdf99834f72f0e8510aee3675f8fe1790e.gz

commit f2bd518479777fab66457753c51bf893bd4e4448
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-20 16:15:11 +0000

    test-muc-tubes: more test cleanup
    
    
    20071220161511-7fe3f-e83df2fe66705b32a59bd83a91d483130f6b94dd.gz

commit ab62e51458bd17c589d73aac8f1698c2323a9516
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-20 16:00:27 +0000

    gabbletest.py: use make_stream_event when installing stream-message observer
    
    
    20071220160027-7fe3f-a22a9566a027c6113c0f1f0a193fe293aab8c0cc.gz

commit c852a14ee515adce465ca2714bb00ebdf2abc101
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-20 15:54:59 +0000

    test-muc-tubes: replace some assertions by expect keywords
    
    
    20071220155459-7fe3f-f429c031b84cdbecf42e825ffc79b522d9192c0e.gz

commit bc1ae991771cc7b72cd0d498858805394bcbcbde
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-20 15:17:42 +0000

    test-muc-tubes.py: port to new test API
    
    
    20071220151742-7fe3f-cfbd479f784330cb304f96f659bc10dc4c0b302f.gz

commit 0d1b009ba101501f306443a1966e5097281dd08f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-19 15:04:46 +0000

    bytestream-muc: implement "protocol" properties
    
    
    20071219150446-7fe3f-f69a3aa3572c3d77ee095b008df8c501b39245d7.gz

commit ea504e147537e6b4239590b605283bc1e959c7de
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-19 15:04:28 +0000

    bytestream-ibb: implement "protocol" properties
    
    
    20071219150428-7fe3f-ddc5b54c49a85e54225cd86d3cf45a6ebfe638e5.gz

commit 71645572a1c880bfb547b0654ff3805f8f351461
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-19 15:04:05 +0000

    bytestream-iface: add "protocol" properties
    
    
    20071219150405-7fe3f-69ceb57ae87f5b705b9530fd12de33218b45203a.gz

commit a1aa225ed500b025f8e818c41b7e088d65859e31
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-19 14:52:43 +0000

    bytestream-muc: stop to implement gabble_bytestream_iface_get_protocol
    
    
    20071219145243-7fe3f-4c743935339144b43863605f319f892385543f32.gz

commit 430a32c81639d4a0648897fa6bf68f6c75584aa6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-19 14:52:33 +0000

    bytestream-ibb: stop to implement gabble_bytestream_iface_get_protocol
    
    
    20071219145233-7fe3f-f49f71508a180bf8ddf4c6c147460d63021374f5.gz

commit 58fde7999348d64b9bf4a6eafb463d5b8b0bbc45
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-19 14:52:07 +0000

    bytestream-iface: remove gabble_bytestream_iface_get_protocol
    
    
    20071219145207-7fe3f-f71e91f32fe08494f29dbfad19a25121a928512b.gz

commit 969df0bb0cd2cb1a16cf84be95bac0e6b7f7cc12
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-19 14:06:20 +0000

    tube-stream: use new gabble_bytestream_iface_accept API
    
    
    20071219140620-7fe3f-d06744ae22e6c79f9614b435bdda64be62f0f8dc.gz

commit 2f2976798e311c4dba95125047989dfda0ccdd84
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-19 14:06:06 +0000

    tube-dbus: use new gabble_bytestream_iface_accept API
    
    
    20071219140606-7fe3f-68ba7ae10129a10665e5a0edd202cd451abd9d6f.gz

commit 4473638ddce480397054b7ceac57db1bef2f08c2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-19 14:04:41 +0000

    bytestream-muc: implement new gabble_bytestream_iface_accept interface
    
    
    20071219140441-7fe3f-c0286202890392e79c0c2f75864f91f319a8bc12.gz

commit 2d91472d2f7b9450c9e96359776e9588ccb46d61
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-19 14:04:19 +0000

    bytestream-ibb: implement new gabble_bytestream_iface_accept API
    
    
    20071219140419-7fe3f-abd09bbfee63c9ebb5b7f7019cbc6c12293b14dc.gz

commit dadb77f8430c4134d976a08df18d3461fa18001a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-19 14:02:24 +0000

    bytestream-iface: gabble_bytestream_iface_accept now take a function ptr instead of the whole stanza (as in Salut)
    
    
    20071219140224-7fe3f-952294ac55cb89029fc0e8bed622a59fbddce473.gz

commit 3b60cfaaee6aea45d0d084b2232008d0324e3b28
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-19 13:48:45 +0000

    test-si-tubes.py: test joiner side of 1-1 D-Bus tubes
    
    
    20071219134845-7fe3f-2dde2a72655feec2e8975c76dddc8f53ee449eeb.gz

commit 7b70517658812f563baceb89fc7a5800cec3fc73
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-19 13:45:55 +0000

    tube-dbus: add a <tube> node to SI reply
    
    
    20071219134555-7fe3f-31fed57ab2508cdb438870c71ce1e3f866d3aeb1.gz

commit 3d84913891106806774ff411acbf599524ff3af7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-19 13:38:08 +0000

    tubes-channel: add a FIXME about AcceptDBusTube broken with 1-1 tubes
    
    
    20071219133808-7fe3f-66e516bd4d3362d8864064721b7238e224481906.gz

commit 93d85606f901f0fe91c2bbd553132b8d5307f33d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-18 17:18:40 +0000

    test-muc-stanza: check SI reply stanza
    
    
    20071218171840-7fe3f-17a14cffd8b4d37a234984a538f68267fefbf399.gz

commit a081e4a0312877379a7d7f6340eef125d7e5d132
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-18 17:06:12 +0000

    test-si-tubes: check SI reply stanza
    
    
    20071218170612-7fe3f-72824915915c41197b47d7f8e25c62770e653848.gz

commit 549cd921fe9c8dac95039c414f0c1fc1e0c130d7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-18 15:32:28 +0000

    namespaces.h: add NS_OOB
    
    
    20071218153228-7fe3f-5f615fe6169da17ff3779a77ba8d1291b1968894.gz

commit a41e85563612592123208c1589aae3e1e24c44ff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-18 15:20:38 +0000

    bytestream-ibb.c: debug flag have to "bytestream" not "tubes"
    
    
    20071218152038-7fe3f-e480b03a8c6a7d91d4b7b46a117c73243b277da5.gz

commit fd66a01cc4cdee9e1d3cbd071ac69fbfb6faad46
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-13 10:41:28 +0000

    rename OLPC bundle to "olpc1"
    
    
    20071213104128-7fe3f-54d6284e3c67163089b44aa87a420a899119cc3c.gz

commit 7f83d2039c54aa0412260f65cb55eb3bc98109b9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-13 10:32:14 +0000

    _gabble_connection_signal_own_presence: add a comment about the hash table used as a set
    
    
    20071213103214-7fe3f-6e38dd8691d0c2b8ae85d72c97dd7b590fab010d.gz

commit 0445a53a16ab968be579aa102ba72b581406a706
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-12 17:32:54 +0000

    _gabble_connection_signal_own_presence: use a GString instead of multi string allocation
    
    
    20071212173254-7fe3f-c17cce09bcca51b4dc9dd40cbe392b3a53cba130.gz

commit 57305ece1ac06891bbf0b7aad9a61dd45eb891fa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-12 15:26:42 +0000

    test-olpc-bundle.py: remove unused import
    
    
    20071212152642-7fe3f-7d441f95728ec2c0ab4c7b50c3bfa185a344b963.gz

commit 270a845644cbae9df17f4cb2e302b920f89e15e9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-12 15:23:55 +0000

    test-olpc-bundle.py: updated to use new test API
    
    
    20071212152355-7fe3f-8544c98cba3f685f25f30c9557f9a4a06fdd06d2.gz

commit 7a0edce72429d2a1f9e1544fe677894d89214daf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-07 10:43:16 +0000

    gabble-connection: use a hash table instead of a IntSet to store bundles
    
    
    20071207104316-7fe3f-f72b6f9ec2f9032fee51b677c9f69b7857737d25.gz

commit 9f6bfa36b034ae9e3948530977be2f1d79e1b7d2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-06 12:36:26 +0000

    add test-olpc-bundle.py to tests set
    
    
    20071206123626-7fe3f-72bf9faa80769cd3618c6e5d29c053313ceff9ce.gz

commit f68f5af3a212ad1febec4385ddefdd9c9a72ea3e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-06 12:36:15 +0000

    add test-olpc-bundle.py
    
    
    20071206123615-7fe3f-441b4173e61143e298b37c61633cfe81c7dda811.gz

commit f69336bc752bf8ff1d36feaf0ca4ccaa1e658c96
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-06 12:11:36 +0000

    gabble-connection: ensure we don't set more than one time each bundle in our presence
    
    
    20071206121136-7fe3f-c9a452c1002dc9f0b07e0b3ba02ad6bfc040706d.gz

commit 9dfa001830d723781e65bfcbb9cf8b44e6c0c1f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-06 11:38:54 +0000

    presence-cache: set the PRESENCE_CAP_OLPC when seeing OLPC PEP notify NS
    
    
    20071206113854-7fe3f-f39d8143bd34c78acc61c3ebcae75a3d9e79c027.gz

commit 53ed2da4968e18ef4af68d86355dc40cf771e18d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-06 10:36:41 +0000

    ensure we have set the PRESENCE_CAP_OLPC when we use the OLPC interface
    
    
    20071206103641-7fe3f-bbb8aaf05bf27f57dccf347a36cbc326d51dc80e.gz

commit 41d1168a3aebda1b2b0997081014f9cf68109a5c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-06 10:32:34 +0000

    add gabble_connection_ensure_capabilities
    
    
    20071206103234-7fe3f-af460e1fe6872d8ec3e362f5810285394f962d55.gz

commit 5d5ef67d3a0dd7a3f1c9d6653b4365940bfc536b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-06 10:30:57 +0000

    move OLPC notify ns to the "olpc" bundle
    
    
    20071206103057-7fe3f-1610f41bc414fb096c106b408c2270dd367c3f4a.gz

commit cb10a17dedc8886ce482c8f57c3e80736bb79340
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-12-06 10:27:54 +0000

    move GabblePresenceCapabilities from presence.h to gabble-types.h as we'll need it in gabble-connection.h
    
    
    20071206102754-7fe3f-191144a8d11f9f25a7ad12d9dc436774c5966d5a.gz

commit 7b649eb9cf5df835f21c21d67f1498e2f56bc44e
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2007-12-11 00:54:40 +0000

    elide un-necessary boolean from gabble_disco_find_service
    
    
    20071211005440-418b8-ce73df189b3feb83a1bfdf73b4f14ac8ebd24c83.gz

commit b1decd7485b48f01e785e8cca872c3349f757c91
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2007-12-11 00:50:13 +0000

    when handling the attributes of disco <identity> elements in code, always put category before text because this is the hierachically sensible order (category -> type -> name) which they are referred to in the XEPs, schemas, debug messages, etc. otherwise people might get the arguments to gabble_disco_find_service in the wrong order or something (its called in one place - the call was right, but the function was wrong... :D)
    
    
    20071211005013-418b8-4a24f999e64f741fffab2d188b8812bc4a3220d2.gz

commit 14ca0de18414bfc9fbfbaa07a666eb147c07caa1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-12-04 11:14:28 +0000

    Remove tools that are no longer needed
    
    
    20071204111428-53eee-f35eaeab46042356b8cb8ed293969d2bfd59a569.gz

commit 4668f7cd43a9e7ad729a22c824d6dda7d87febca
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-12-04 11:01:01 +0000

    Stop checking for dbus-binding-tool, we no longer run it (much rejoicing)
    
    
    20071204110101-53eee-813661d0b0c0de9422f0195cc875e7c0119bda5d.gz

commit 536687eec2f8204155ba9e5b297afeb5f30c8a73
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-12-04 10:52:25 +0000

    Simplify extensions/Makefile.am with new tools
    
    
    20071204105225-53eee-a893c8a3f191145c1e268ddc96c228128f04c17e.gz

commit de35b7035b303c1aeae37a10b500ea567c0d5b9b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-12-04 10:51:47 +0000

    Add missing identity.xsl
    
    
    20071204105147-53eee-badb100ea3ab4252a3f4a0aa7e961376806f9d22.gz

commit df6df6e8ca01cf3e8b7b1b14ebee024bfe951710
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-12-04 10:50:58 +0000

    Remove genginterface (no longer needed)
    
    
    20071204105058-53eee-f6e17ca08270843ab6ec18f3d2c732e6f7f77b03.gz

commit 8864d11897352f55dd000a90534ade3cb6ca7ed7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-12-04 10:50:04 +0000

    Also add glib-signals-marshal-gen.py from telepathy-glib
    
    
    20071204105004-53eee-25de5fad0a463893b2770fd907add4365f8b63a6.gz

commit 4234af34f0c5f8c20f437ea58e80c13d184ab6d1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-12-04 10:42:26 +0000

    Add libglibcodegen.py and glib-ginterfaces-generator.py (from telepathy-glib)
    
    
    20071204104226-53eee-a44737aa6163ff52319f0e71bbbf55f2c2d014cf.gz

commit 8e241c1571f2d4a0f6c9d7a55baebf10a115ca47
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-12-04 10:39:57 +0000

    _boring: Ignore all test executables
    
    
    20071204103957-53eee-51da18081144832e2f00e152ad80c9e2c64950d4.gz

commit 71e6807de7f96addf2338f87a34674f0abff4c2c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-12-04 10:37:37 +0000

    Sync check-coding-style.mk etc. from telepathy-glib (add check-misc.sh, adjust for being in tools/ dir)
    
    
    20071204103737-53eee-1b97603f0b88b1dfcaffdf49366637475ba12cd3.gz

commit 3e85a441be6bf2135b6a38cda737a7fff08774d8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-12-04 10:35:17 +0000

    Sync XSLT from telepathy-glib (use new FSF address, Lesser rather than Library GPL, irrelevant XSLT tweaks to make c-*-generator cope with different document structures)
    
    
    20071204103517-53eee-2001c1d37672373484db78aec5f269308d35c6ff.gz

commit 22a8e1051147904d2e028b6f0886437386292dd3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-12-04 10:33:31 +0000

    Add a rule to tools/Makefile.am to update the tools from ../telepathy-glib when run manually
    
    
    20071204103331-53eee-6d926a0bad7bff6e5f9434b6e53a7c3e44f061ea.gz

commit edb62c8475a47cb83ea8ee628f8280050f092e05
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-12-04 10:25:17 +0000

    darcs mv check-* tools/ ; adjust src/Makefile.am, tests/Makefile.am, tools/Makefile.am, Makefile.am accordingly
    
    
    20071204102517-53eee-9ffd2adb59a5b4018c97c2ba8d85c6bd93812f97.gz

commit 1c7eb2faf81ea8c00062f80b0f055e8443308081
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-12-04 10:22:42 +0000

    darcs mv extensions/tools tools ; adjust Makefile.am, cnfigure.ac, autogen.sh, extensions/Makefile.am, tools/update-spec-gen-am.sh appropriately
    
    
    20071204102242-53eee-ce5e80ebda9864c4b980d84a822d023d3ee82023.gz

commit 7c7d3056b25aacf100d3e9991f4292955b57f0e6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-11-30 13:11:11 +0000

    muc-channel: remove useless string buffer crack to get val_str from a boolean
    
    
    20071130131111-7fe3f-12f243108d83a509cc16151a7e5d3c1bacf5af4b.gz

commit e9fd4a7344da73f7edd6615e0e4b80f0ee1ec239
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-11-30 13:06:40 +0000

    test-muc-properties.py: set password-required property so we test a boolean setting too
    
    
    20071130130640-7fe3f-344c5740d273f1227486084b3fd0e5c7a284bc14.gz

commit 8e61a7696faf67604e7c22e5f89335368a1adc49
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-11-30 12:58:10 +0000

    muc-channel: remove useless test when copying muc settings
    
    
    20071130125810-7fe3f-3340c6bbe81603574a25983741bcc1f2039a77b2.gz

commit 21190c79cf1769ba877759044ca4de15207715a3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-11-30 12:01:27 +0000

    muc-channel: move value_node declaration
    
    
    20071130120127-7fe3f-d27035eb040a10bf24b64a6887b029f8c01f5538.gz

commit 9eba60acf7d48553d54676888cf22c33cdc10800
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-11-30 11:53:12 +0000

    muc-channel: copy all the <value> nodes if we don't know about a setting
    
    
    20071130115312-7fe3f-982dbe7da2698f05705aa34022654d1fb7065191.gz

commit f90a1003e9696bcdc2060b289ab6f52b07000213
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-11-29 15:52:08 +0000

    muc-channel: handle multi values muc setting
    
    
    20071129155208-7fe3f-5f23448f2a558b10123b0787b280fd7f30f0d313.gz

commit c439b646c1ff9f0df67a2bb12ecdb47e2bc4d8f3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-11-29 15:32:15 +0000

    test-muc-properties.py: add a multi values setting in server reply. Exhibit a bug as Gabble currently doesn't properly handle them
    
    
    20071129153215-7fe3f-17b9262ed1170e7a6bb3373c6058bf53500753a1.gz

commit a782857d7d05e87c12b83e7d9ad1181df11a47d6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-11-28 16:02:07 +0000

    conn-olpc: explicitely ignore echoed PEP notifications. Ejabberd doesn't send them but Openfire does
    
    
    20071128160207-7fe3f-6e45553ab0fdfbaf5165fa3d873ff1ac80ecfc93.gz

commit b14424574063bccb45c208064024846391080d7f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-11-28 12:32:43 +0000

    test-group-race.py: assert we got the NewChannel signal
    
    
    20071128123243-7fe3f-1d71f601cc78a970f2dfca11f31d910482f47d0b.gz

commit 793e5c7b421eb5b4baa6774afc04f1a4a772d1e7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-11-28 11:50:34 +0000

    roster.c: always create the requested channel so the request is not lost if the roster wasn't received yet
    
    
    20071128115034-7fe3f-0ec72633185abc46cef8839fe65c11c60292a695.gz

commit 3340f55b49da59cd37db97a4c11321797e9851a1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-11-28 11:50:08 +0000

    add tests/test-group-race.py exhibiting a group race bug
    
    
    20071128115008-7fe3f-4fcbc840f93f5d6e15d6ceb1dd02f4db0dcfc06f.gz

commit 4f039fb142d60f04734e140993cf6f510a07fd32
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-11-16 10:34:17 +0000

    conn-olpc: wrap a big line
    
    
    20071116103417-7fe3f-14aa7a336f27ed3d126e03e06d1c9f39d3d4cd81.gz

commit e66ece1c7623e2be74702cb82e9b9849a6feba72
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2007-11-28 01:44:51 +0000

    correct the LGPL 2.1 boilerplate (s/Library/Lesser/ and update FSF address)
    
    
    20071128014451-418b8-0a295801dc2f0c0aa3cf89509a62ed332015357a.gz

commit aa7f39c8ba10e3f1d6d6d67947c6887700570d83
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2007-11-28 01:44:16 +0000

    correct default MUC bytestream block size to 45k before base64 encoding, so we're unlikely to produce stanzas greater than 64k in size
    
    
    20071128014416-418b8-410a1157e053bc61f47e3eaee0dcc4a3733479c1.gz

commit 55e64976d2ea5ae8a6f415ff80dcd4e1f907c534
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-11-23 12:36:33 +0000

    Annotate check for g_hash_table_remove_all too
    
    
    20071123123633-53eee-dda5dbf4a6d157075fee075f8c2709ee5536a1b5.gz

commit fd71bf6350574590c5830b9f8a1b027d9b07491b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-11-23 12:33:56 +0000

    Annotate checks for functions with the version at which we can remove them
    
    
    20071123123356-53eee-f783d2b68472bfde97a3524d542f3482e02b7038.gz

commit 37babc9bb1be01e52aabc9b02b6e45b845b1b1fc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-11-23 12:30:04 +0000

    Use tp_g_hash_table_update from telepathy-glib, if available
    
    
    20071123123004-53eee-1f13209baa15754683d2e5482daf143dca2501b9.gz

commit 379022fc89864a07cee822651f37cdc64aeb4993
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-11-23 12:13:19 +0000

    servicetest: catch KeyboardInterrupt and treat as an error, even in Python 2.5
    
    
    20071123121319-53eee-eb4a8d780b52fa8f77e7de9c0bddfa5524756fff.gz

commit 726ed90d7835f40e974e78f72a5a985d6041215f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-11-23 12:12:28 +0000

    servicetest: catch SystemExit and use it to end the test (even in Python 2.4) - fixes test-google-roster on 2.4
    
    
    20071123121228-53eee-2c67bcf41605e95b33068457fcb307ac48d1ba1b.gz

commit 8e48acde0a6f9cb10c3a9e708429a711a826e7f7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-11-12 20:12:17 +0000

    Development version 0.7.1.1
    
    
    20071112201217-53eee-060bcfcf56610a5f617812e3bb47eb7c1243375c.gz

commit b3008faa3ff4cfab60a39a80fafaef97f8fed92f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-11-12 20:08:26 +0000

    Version 0.7.1
    
    
    20071112200826-53eee-f6aff01b2f7683a0cd3700c3f7d6ff87e4fb1234.gz

commit 6bf0f046050ec30c044bd7ec11cf41f1420d9d9a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-11-12 19:57:42 +0000

    Minimal patch for correct detection of loudmouth >= 1.3.2 - PKG_CHECK_MODULES doesn't work like that
    
    
    20071112195742-53eee-834d038d3b92e6b1c4caef76f01dbaaeb77d4725.gz

commit 3f0402b81ad4f9cc3dcfaae3e69d02e5d38a31c5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-11-12 09:46:14 +0000

    Use tp_debug_set_flags() if available, to separate 'persist' from the rest of the debug flags
    
    
    20071112094614-53eee-5e3c08b897af1a87c8744ee879d861dde29929e9.gz

commit b7e83103541793e13a749fdf70c422937ca36d60
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2007-11-07 16:20:52 +0000

    Implement require-encryption param for RequestConnection
    
    
    20071107162052-01440-86506ec3d0e840145556c15f023263864ef2ec35.gz

commit ee34b4c6d144ec4039b641e986f0992068a40eed
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2007-11-07 16:20:12 +0000

    configure.ac: properly detect Loudmouth 1.3.2 version
    
    
    20071107162012-01440-6dc9aba3457db7175b85ec3b57679e8710751add.gz

commit d960ad39782072dd659c0612761ddd93a0d007a4
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2007-11-07 16:19:17 +0000

    configure.ac: require Loudmouth version 1.1.1
    
    
    20071107161917-01440-4ccba0e34b5b530ed75533559403fe83a3a50c68.gz

commit b575e65f3cfd0814ab800754e5176e98dc1ce0a5
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2007-10-31 15:45:15 +0000

    Use standard LM _get_full_jid() instead of made-up _get_effective_jid()
    
    
    20071031154515-01440-4dc79e86f6caa4f23d692f61b40a6bed9015ce8a.gz

commit cf9e9504dc539e8b8726576099d1f8f06c015b0e
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2007-10-30 00:01:40 +0000

    Enable optional usage of Loudmouth 1.3.2 features (SRV, SASL, StartTLS)
    
    
    20071030000140-01440-bb724c041f57b9cc2b4e66677c499e8a1065de8e.gz

commit 6ff1a68a9ec925dbf45dff4c3d1f09bf7a3bd2ec
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-11-07 15:03:54 +0000

    Development version 0.7.0.1
    
    
    20071107150354-53eee-2f18267e24acbffa5ed5ac0147e22743ab4b908f.gz

commit ec90bbcda41a10a4a458a24e3325f0528fa162e8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-11-07 11:56:24 +0000

    Version 0.7.0
    
    
    20071107115624-53eee-27f2a851e8a464a9411abb1c708993e34ad74811.gz

commit fc4719056fa750fd55b606dc23dc778a708d2492
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-11-06 17:13:31 +0000

    Correctly add activities to buddies' activity sets even if the buddy already had an activity set (laptop.org #4694)
    
    
    20071106171331-53eee-ccea0e6c3b59eea5abb33406577ec5a71573a31d.gz

commit ae9af48c4856a7bb331fe364b35f93f282c38caa
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-11-06 17:07:42 +0000

    Fix comments at the top of the OLPC tests
    
    
    20071106170742-53eee-f7d1290e61803cd6a6cd481aaa16b7948eddc17d.gz

commit 81179ff336601958f8be485ad4f267517efc64f8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-11-02 17:29:11 +0000

    docs/: bring olpc.xml up to date with latest Salut changes
    
    
    20071102172911-53eee-6086f8e6c1982aa91b1cbe72cbf462d4ba16ec59.gz

commit bf4efcfe09ed0b11c9e1a70aff74791780ffc047
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-10-16 13:37:42 +0000

    Explicitly indicate the protocol for each tube
    
    
    20071016133742-53eee-2633109282283b75f2af28c40c8d3eeea193411e.gz

commit d0db83fceb67f1324c492dd196bfd6632470eb43
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-10-26 17:16:23 +0000

    Fix initial PEP reset conflict with HEAD, but properly this time
    
    
    20071026171623-53eee-d100acae5c494888c84dfd4cd39d90a7f2d80ce6.gz

commit bb60e45903150d20d59b5bcf5806a859fd026313
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-10-26 17:10:09 +0000

    Fix conflict with HEAD - ignoring replies we don't care about, vs. we now check all PEP replies
    
    
    20071026171009-53eee-adb1b055e9c83d03d6164c13e1b8898b2de18dda.gz

commit 86450d53ae2829e96c283831fd89f43f66a5262c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-10-17 16:09:38 +0000

    Document existing practice for Salut: re-inviting works by sending an updated invitation, rather than using a pseudo-invitation
    
    
    20071017160938-53eee-445c6c16e4110cb6ea2ae8bad8ca0b518c0d6730.gz

commit 9ed57be3b60c34ce1142c9e043c23d07786989ba
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-10-17 15:27:37 +0000

    Add a hint regarding how to get xep.xsl
    
    
    20071017152737-53eee-628bc68402f939fc4400094de80a4cd6b36b7766.gz

commit baa68535459c73c1b0b09422a92276f7445b74da
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-10-17 15:27:15 +0000

    Add OLPC activities protocol to docs/
    
    
    20071017152715-53eee-3a28adfd8b1eec5efc80c1226349e6bf8d08ecd1.gz

commit b3db3e3a9cc0a8219c492bd65de1c1b17e612186
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-10-16 13:37:42 +0000

    Explicitly indicate the protocol for each tube
    
    
    20071016133742-53eee-ab4cc5378ad4187f324c79b3589c3d60211fd5f2.gz

commit 4408e4a2cd8daf077075cdcd3bb4868f051eb442
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-10-16 13:26:07 +0000

    Recommend putting the .local hostname in the OOB negotiation for link-local MUC tubes
    
    
    20071016132607-53eee-15cd140769a3f29b05e321907cdd0638068eca9a.gz

commit f64bf605edfc7be96a8147192f3fd5795daaa9ff
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-10-16 11:13:52 +0000

    Document link-local MUC usage too
    
    
    20071016111352-53eee-c38a191e165250bff9269984dcb10c7c6e5e10fd.gz

commit 4d87201d538ae1715c3d3477cb5851087acdf3b0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-26 15:38:40 +0000

    Add test-muc-invitation.py to tests/Makefile.am [re-recorded]
    
    
    20070926153840-53eee-94a1b755e3b56580cdf0e65a8981f524fbf4431a.gz

commit 361dfc1e493e2aa1719d8fd08e30817aaf377d7a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-26 15:38:30 +0000

    Add olpc-muc-{invitation,prop-change}.py to tests/Makefile.am [re-recorded]
    
    
    20070926153830-53eee-f8be029e4ef437ae3643852367026caecadb30cd.gz

commit 2ed36e44c80e4b2d059c77fcda741656200f9876
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-26 15:37:57 +0000

    Add tests/test-muc-invitation.py [re-recorded]
    
    
    20070926153757-53eee-95bb388d3b87297ed3726a0ae40c9122b9e9e04e.gz

commit 8918291a8b16e85426f66c6ead11cac9c72922f9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-26 15:37:38 +0000

    Add tests/olpc-muc-prop-change [re-recorded]
    
    
    20070926153738-53eee-2e2cc882c90fcf40ecd748835ee82c39d857fe74.gz

commit 174f9ba35a489b1580d7864ad39b2a003e5be8ae
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-26 15:37:25 +0000

    Add tests/olpc-muc-invitation.py [re-recorded]
    
    
    20070926153725-53eee-7e2adc164ecfa80966af7f92ab7cc7d97b12f756.gz

commit d9aa216673c3f4d8c4bb493230efd0adb7eb34b2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-26 15:34:32 +0000

    emit ActivityPropertiesChanged when user change activity properties [re-recorded]
    
    Conflicts with -trial3a and -activities branches.
    Original header:
    Wed Aug 29 14:59:13 BST 2007  Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
    
    20070926153432-53eee-4a50978a396a0768f00620ff70b67e4d131dd110.gz

commit 2b99f569e3dd15028befea42df79d4d6a5615af9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-26 15:27:43 +0000

    Remove obsolete comment [re-recorded, conflicts with trial3a and -activities branches]
    
    
    20070926152743-53eee-1eae857e0dbc4faed57cc9f34dbad1757ec475d5.gz

commit 63c855b4871694b2840a6090a43b83ac4025b3be
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-26 15:22:33 +0000

    Resolve conflict: remove gabble_muc_factory_find_channel, again (thdarcs)
    
    
    20070926152233-53eee-e7ccd4bc0783325087bf8860d4b4817cc5ac537e.gz

commit 729a8bb61bb4e67789b74be983a03c7e2cbecbad
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-20 13:25:52 +0000

    conn-olpc: muc contact-join signal now use global self handle
    
    
    20070920132552-7fe3f-7aace5ae1abd9af2eee480ab6b5ccc75b12c65f7.gz

commit 8373eb5c1fe8d3c0d43f604df17a5cc70e3e9107
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-20 13:25:05 +0000

    gabble-muc-channel: use global self handle instead of muc specific self handle when emitting the contact-join signal
    
    
    20070920132505-7fe3f-da4caedd9f534c248225a0e65683ac59fcd984b0.gz

commit 90295a956edef565ed933b55df0b8dd61f9d2709
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-20 11:01:51 +0000

    conn-olpc: emit BuddyInfo::ActivitiesChanged in remove_invite_foreach
    
    
    20070920110151-7fe3f-a4a95c94c22ac4c00a8e6251efaf35f3fa6dfba5.gz

commit 37c24b29a080f86859db0f9422c5316f349613ef
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-17 12:45:30 +0000

    conn-olpc: add comments in remove_invite_foreach
    
    
    20070917124530-7fe3f-d73367ccb418fb4125e48d5bae87a742323b0ab9.gz

commit 58919ad41be3d4baf2cb3c4894464c5853820e77
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-17 09:33:56 +0000

    conn-olpc: add debug output when revoking invitations
    
    
    20070917093356-7fe3f-505c9d189298de3116406c447c10dac1e443d56c.gz

commit 92ab68996c85752333157a5eaca2761e1408e75b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-17 08:54:13 +0000

    emit BuddyInfo::ActivitiesChanged when we receive an uninvite message
    
    
    20070917085413-7fe3f-93c8729c27b8471a6db7157cc7a8675c75c6780f.gz

commit 16d25357c7792a8a687343b1f8bf188c228afd0e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-17 08:34:20 +0000

    conn-olpc: wait we have really joined the muc before forget about the invites
    
    
    20070917083420-7fe3f-ead2b41505f2ef97423e23b44e7c8af07da951fb.gz

commit 64734a22d78f30af3efcd4c62878e14a4a627555
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-17 07:53:39 +0000

    muc-channel: emit the "contact-join" when the local user has joined the channel too
    
    
    20070917075339-7fe3f-071f684b15973df876972ad736da65eb131f32cd.gz

commit 6cc84c0ec895549ee41ab38ab66c983ba11ab636
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-14 15:54:50 +0000

    conn-olpc: Start to implement activity uninvite (not working yet)
    
    
    20070914155450-7fe3f-72d6b95a124b23cffbebb6f510907cbe9cdd0ce2.gz

commit 0c705e496e512272d58ecc6eb9532959495b7558
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-14 14:27:13 +0000

    conn-olpc: when we join an activity, forget about all its invites
    
    
    20070914142713-7fe3f-7c66005fedc4f795ce0259183f2ac8adce4e4000.gz

commit cb204abcfbdc192c3dec78cef1764f4e41b1bed6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-13 12:32:40 +0000

    When current activity changes to nothing, still emit the signal
    
    
    20070913123240-53eee-bdb59dd7157d7475fef3baf120cbe069ad141c9a.gz

commit 5f36564ffceee8e27acb1ee19c1b0d6dcd57744c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-13 12:32:21 +0000

    improve debug output for current activity changes
    
    
    20070913123221-53eee-5d6a6caf3752a000f1d1970bd43973cc420ac77e.gz

commit 97dd883ba7f623f540aad642da55d610fc16de67
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-13 12:31:55 +0000

    GetCurrentActivity: remove code that made no sense and would never run
    
    
    20070913123155-53eee-c27eb43214830db17b6027ac4f629c3879798df6.gz

commit de6c0995d26703d9fb4b26e1377b7061e13816c1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-13 12:31:35 +0000

    extract_current_activity: return FALSE if room name is ""
    
    
    20070913123135-53eee-ad28de7e68f61aa124ce6485ecabc0cc7cad2aea.gz

commit 831f8e225245f028078e5265d86fe4241a9d41dd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-29 14:53:00 +0000

    conn-olpc: fix activities array leak
    
    
    20070829145300-7fe3f-646f36cedaffcde8b94364dca64c5fc022fae058.gz

commit dffe2e56c21ef3cfc60c17d7a8f4f7b309f7188f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-29 14:14:52 +0000

    get_activities_reply_cb: raise a D-Bus error if pubsub reply is bugged
    
    
    20070829141452-7fe3f-598f8573bc3a298b191b90360b1606a9bcdbba0e.gz

commit a127b702c6225c704ecc430afee2ebe840b438b8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-29 13:37:00 +0000

    conn_olpc_process_activity_properties_message: return when ignoring echoed activity properties message
    
    
    20070829133700-7fe3f-14b0b2e808289aeb74782ece39dc931a684782d0.gz

commit 2820c8cac6d291329ed8cd760a3266c9a3ed0ae3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-29 13:34:22 +0000

    conn-olpc: replace 3 lm_message_node_set_attribute calls by lm_message_node_set_attributes
    
    
    20070829133422-7fe3f-de3c7a406d5a2c35838fad90cfd5a5fd6b4e0154.gz

commit 7714d7b016586d06a62759ef2e0d9ef416be0a02
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-29 13:32:29 +0000

    s/activities_list/activities_set
    
    
    20070829133229-7fe3f-e83ce9398341c01fa9dba1bd6f5068e66cb9abcf.gz

commit 15bb31e40e233f739229524edcbff9460b8d093e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-29 13:24:10 +0000

    conn-olpc: remove ActivityInfoChangeCallback as it's not used
    
    
    20070829132410-7fe3f-2558cf8314d1e747e44018c9a2aa3e63cf064e2e.gz

commit 21519aadc8b5eac1b00bfda588a097a2f04a25b5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-29 13:22:50 +0000

    OLPC activities are private by default
    
    
    20070829132250-7fe3f-2b63377f447535355bddefeffe4f220fca361470.gz

commit e4c4b41d1e101dd6feed3c9b8d67f997b15fd55b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-29 13:13:32 +0000

    use upload_activities_pep in olpc_buddy_info_set_activities so only public activities are send
    
    
    20070829131332-7fe3f-60a60efb128483d2e40e7ed33e658b250c7dd01d.gz

commit 510d65cb80073a5c223001c2bb84515847c2cc93
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-29 12:58:29 +0000

    s/conctact/contact
    
    
    20070829125829-7fe3f-931e6fed8766191892911c79feaa645abfc04d86.gz

commit 1a4860510f7f4b45c086fcaae57672ec5f7d87b1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-24 14:20:55 +0000

    set properties changes muc message type="groupchat" to make server happy
    
    
    20070824142055-7fe3f-28990feda1729ecd7dff91667fe3a556f8b1b5af.gz

commit d27347f1a85b3ca69bf5965d18745de45e6b18f3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-24 12:33:00 +0000

    always add the invitee handle in the set when catching the pre-invite signal
    
    
    20070824123300-7fe3f-257cb1804c6a9c16aa7b1b90be77e96fe855c928.gz

commit ea7780412d06d5ca3f31be36913a7aebfec49055
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-23 15:10:51 +0000

    conn-olpc: add boolean check in check_prop_in_old_properties so we can know if the privacy status of the activity was changed
    
    
    20070823151051-7fe3f-20554957d5d1d23ddb4e7ea6e4fc445591283779.gz

commit 9208a66fcd70a9b96f5f23556ad8e5ee63fdd9d9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-23 14:26:17 +0000

    Don't crash when a contact with no advertised activities goes offline
    
    
    20070823142617-53eee-22fd0b19b1479004638cc8afaad486badf3d07c6.gz

commit cb09e43e33f0fe7f71378e3b356c5e4a6fd8fd7f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-23 13:48:47 +0000

    Get MUC channel self-handle correctly
    
    
    20070823134847-53eee-bb6404b724a3d48e73af3e141284f4ff8b979345.gz

commit d208000a9159836292ca55fe95353a296b2439b1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-22 14:55:20 +0000

    Only re-send pseudo-invitations if activity properties actually changed
    
    
    20070822145520-53eee-d2625223fe3bd8fa8bd63bbe8964ce856ac266fe.gz

commit b52c0a316aa6d6f02e0f359934d31b4b483f34c7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-22 14:55:06 +0000

    Ignore echoed activity properties messages in MUCs
    
    
    20070822145506-53eee-58b3a7c5b0e5e6ce87f154e0e8a44f972aa45de6.gz

commit 84dc47a6e8789a50235598d9a5410e31eeca3699
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-22 13:53:15 +0000

    Refresh invitations when someone else changes activity properties too
    
    
    20070822135315-53eee-fcf9dc2e1fbdb63cd87b6182d2b36f9754aa01af.gz

commit 9373dac02340ed645422ee652e62aa5eb6624da1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-22 13:44:56 +0000

    Send re-invitations to people we already invited when we change activity properties
    
    
    20070822134456-53eee-9aa418bd7b392ba7cc5f624ce463835412f620cb.gz

commit 48c751ca0553795dbcbec159a134c537b5b28108
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-22 11:07:07 +0000

    Drop now-unused set_activity_properties helper function
    
    
    20070822110707-53eee-85883aabfcbaa8d86b6091f8c884532b0d207e6b.gz

commit 82b6b6a262f36218f2900fd3786a7d8a4376d2f9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-22 11:06:03 +0000

    In activity properties PEP uploads, only include things in our advertised activities list
    
    
    20070822110603-53eee-6b56154958495b91e158a454809790a0d60ef60c.gz

commit 1341b2906e2e424304e771f1216228eee5b1d064
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-22 11:05:32 +0000

    When resetting PEP on initial connection, use upload_activities_pep() and upload_activity_properties_pep()
    
    
    20070822110532-53eee-5fcbc2d3fc01b090c8c72a80e6addc2ce4bf3000.gz

commit f1a73c66141ec252fba6a19e7383e47f1d7c7ed7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-22 10:11:43 +0000

    When we leave a public activity, delete it from our PEP
    
    
    20070822101143-53eee-64faa23e5047b46d5214188099a25b0015b1abf6.gz

commit 906166a925bdb81e4bdee73838e186448cbbc932
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-21 17:23:07 +0000

    Emit ActivitiesChanged when someone invites us. Alter our PEP activities list if someone else changes activity privacy
    
    
    20070821172307-53eee-8a30781ff7645b23f7252c4892de2baa0523a4b0.gz

commit 6ea70e07c21bd7ae1496f7e02f21f27889c8306c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-21 16:31:36 +0000

    Emit ActivitiesChanged(handle, []) when someone goes offline
    
    
    20070821163136-53eee-2b719c0f011fb91985309583e0f2b7a29eb8f06b.gz

commit e36705d215464478f4abdae4e66700357f88cf98
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-21 16:30:01 +0000

    Avoid advertising private activities in PEP
    
    
    20070821163001-53eee-d7a74883964fc757f72b88e89f2758b3ed1503e4.gz

commit 682c8f01377efc72ee022f63e77589fbf90f9b19
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-21 15:35:34 +0000

    In activity SetProperties implementation, add missing return in error path
    
    
    20070821153534-53eee-9b28cb38bc12d7d756c4649b5d78841da94e2601.gz

commit 8caddbaa646d9b5353358fdb9f1dd68795d0684f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-21 11:42:04 +0000

    Notify MUCs when we change the activity properties
    
    
    20070821114204-53eee-eae321df1fb96624d9a7a99780b3546c7f1013e5.gz

commit 42660905852a1461c70a84756b20c6c6d7bc38e3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-21 11:41:42 +0000

    Don't leak outgoing message when sending SetProperties() PEP
    
    
    20070821114142-53eee-cd23870dd5f5f3c465f763f2cd84124d23612f5f.gz

commit 0b00a315c38bec2a942f79bb3c0769b8e11b3ac1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-21 11:05:00 +0000

    Allow activity property changes to be signalled via broadcasts in MUCs (same format as the pseudo-invitation, except @room is optional and ignored)
    
    
    20070821110500-53eee-cd0db1de4cfea7d78921a10707a1e272adfddf59.gz

commit 0e45e2862898e5fd435207e9e8e36e34d9428e6f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-21 11:04:35 +0000

    Expose GabbleMucState enum in gabble-muc-channel.h so the state property can be interpreted correctly
    
    
    20070821110435-53eee-485826770b8b53e67d8f75f2a92d397225567c9c.gz

commit 1a1ce1834fbaad7efe30d0b2b894bff3bb9299c2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-21 10:59:51 +0000

    Simplify removal of closed channels from activity property records
    
    
    20070821105951-53eee-a3704e41e0fe23aeae1140fa295f333c17b89e9e.gz

commit 991bf961ecbb7e7df5b347cdcc9097cc0ed3d058
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-21 10:58:42 +0000

    Only put public activities in PEP activity-properties node
    
    
    20070821105842-53eee-2e2a5e627b2fce0b90bdb7638eeaf39744ecb8fd.gz

commit 14313881277fcee4cbe1ae4992603ac41b59bbe1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-20 17:19:35 +0000

    conn-olpc: Use handle sets rather than linked lists of ActivityInfo
    
    
    20070820171935-53eee-7927cfff52da266223407dc0ff6a0355da20cbb9.gz

commit 120b96375ef6ca854a043c5002f7f4e64e06772f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-20 16:15:12 +0000

    Harvest activity info from pseudo-invitation messages
    
    
    20070820161512-53eee-b715de050997c34ab28aa5c0b33d8b1d1d687387.gz

commit fb8b04395ed0d0a459be649ca310f4ed5f9166a8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-20 16:13:33 +0000

    Put private (invited) activities in the return from GetActivities()
    
    
    20070820161333-53eee-478e0ae3ef09f18d5f1ce9c43f1d34820d755838.gz

commit 9d4b3598eff79033fe5ea9d86cddbf10d469baf5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-20 16:11:27 +0000

    Split olpc_contacts_activities into olpc_pep_activities and olpc_invited_activities
    
    
    20070820161127-53eee-9ed0416e5badcc0c757f56f07bf116a8da5fd50a.gz

commit 5454cb6dbd0c985aff70378d3997372307e30c84
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-20 16:11:06 +0000

    Debug improvements in extract_activities()
    
    
    20070820161106-53eee-9b0e3a3a7a1ea04cee86b17b0b65f3ef7bcbd4be.gz

commit 31b2e32776b4bb022407f103534393a74d9c3299
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-20 16:06:38 +0000

    Don't return early if pubsub reply has no <activities> - we still want to put any invited activities in the GetActivities() reply
    
    
    20070820160638-53eee-8fc0e5b501b649d9c2e267d83639af3632b6eb5c.gz

commit 8a66a4e9fca332da11bdeab0aa352f382bbb70b4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-20 13:02:07 +0000

    Include the activity ID in activity properties.
    
    This may mean we can get rid of the split between activities and activity
    properties in PEP eventually.
    
    20070820130207-53eee-acdd4a18c4cc5e88d7c2f21ccf85bd8643b0e258.gz

commit 5f4cac375e7279870a6f796f31d9134830d579a0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-20 13:00:26 +0000

    Pick up activity IDs from SetActivities() and the corresponding PEP node
    
    
    20070820130026-53eee-8ce72d99a9543d3b5d34c6381aee3b5487244ad6.gz

commit 12fd8b053a1c6e9386f508e0df3524d4ce9b6338
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-20 12:12:40 +0000

    Refactor out activity_info_contribute_properties
    
    
    20070820121240-53eee-26ca0c055dd181f986a4b86bb37e3db28d6951c2.gz

commit 9a7c4c4e681802714e7a1871efa5df5d726820e4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-17 12:08:42 +0000

    Merge -tubes and -invites versions of gabble_muc_factory_find_text_channel
    
    
    20070817120842-53eee-e22390339a8eee47953da57013189ef8371b71b9.gz

commit d36f305fbcf4718849a81a3fedbb611a35a6f45b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-14 19:53:33 +0000

    Add gabble_muc_factory_find_text_channel (for use by conn-olpc, mostly)
    
    
    20070814195333-53eee-68c909ff75aaee8379ac67e3bdc27657e4685b6b.gz

commit fcaff794ae9ff7069b6669c103d247ecc81e6c45
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-03 17:44:23 +0000

    Resolve conflict between -tubes-muc and -trial3a
    
    
    20070903174423-53eee-cd3309c58e793bcdbec0967e8dfd1564566053e0.gz

commit e5710506beb781bbf76e9a2cfdcc013bdd46e5f5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-28 18:22:47 +0000

    use gabble_muc_factory_find_text_channel instead of gabble_muc_factory_find_channel
    
    
    20070828182247-7fe3f-d8b8454908a037d372ece4de8004b45fb9e49e29.gz

commit cd9be6048e338387ac0484aae65264637d342479
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-14 11:52:58 +0000

    Merge -tubes fixes with -activities
    
    
    20070914115258-53eee-1120f637254cb5cffbb8f7fddf573963a77772e1.gz

commit 33a0436ff9ee454cdcca1aedb0f7199bdce979ac
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-24 13:20:45 +0000

    stop sending invitations refresh after contact have joined the room
    
    
    20070824132045-7fe3f-687a81223928a1990376f981cc11d77402ade1e2.gz

commit 1918933fd2fa8919df0e871dd16184c18c4f155c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-20 12:14:41 +0000

    Hook up signals etc. needed for invitations. Send a pseudo-invitation with activity properties before sending each invitation
    
    
    20070820121441-53eee-bd99fff51a7c3348e245be47f9de86863fdcce05.gz

commit 03ddc11687fb27ca482200c151e082b8d63c8545
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-17 16:06:18 +0000

    gabble-muc-channel: Emit a signal just before sending invitations
    
    
    20070817160618-53eee-65cc97eceba454ba4b2735af9ae3e947e43bf215.gz

commit 5b4b1d20c56faaf3d2982746adb5033b695a2f39
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2007-10-18 11:51:13 +0000

    conn-avatars.c: properly propagate error in update_own_avatar_sha1
    
    
    20071018115113-01440-5d3684bbba2a8cb2b480dc65250690a576bfe2d7.gz

commit b60a3d5f2f27d527faaf3c92948c06c9eeaa592d
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2007-10-18 10:43:35 +0000

    debug.c: enable request pipeline debug flag
    
    
    20071018104335-01440-ef148b58e7ededc8c3e75ca83cd065c86415ebc9.gz

commit ef1c3bb636b52e397c5daab8ec5090e890bd0d8d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-11-05 11:09:56 +0000

    Add telepathy-gabble.8 man page
    
    
    20071105110956-53eee-5decc76bbd5c74fd9a15e8427e75be796670ef03.gz

commit b3ece2d3560aae48cbe9b8a492a580893e5083d8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-11-02 17:46:38 +0000

    Merge two patches both called "muc-factory: fix text_needed_for_tubes leak"
    
    
    20071102174638-53eee-75406817a2eaabe02513a17a64dba3bf9c4044f1.gz

commit 416e6b81d93efe9ddc1e3f8470ecc18d4d3b711b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-29 14:48:52 +0000

    muc-factory: fix text_needed_for_tubes leak
    
    
    20070829144852-7fe3f-6bee9c666ddd37a7226d8003a7597484bc740ffe.gz

commit 769493f772178ad11e7804e3f14ecd87f4d97a64
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-20 16:09:14 +0000

    Use tp_strdiff for clarity
    
    
    20070820160914-53eee-3905413801db5fef5f2a31724f846a2c42779ee4.gz

commit 7deffe43acf6b7e3d16fa76d16bb13cc72ff8fa4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-20 16:04:42 +0000

    Don't segfault on <activities> replies with no @from
    
    
    20070820160442-53eee-d15ee2869bd837316cdeeee1190618297f5d1e99.gz

commit cdca9e6106b63e6a00b3a442862f5b3608831b25
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-14 20:05:50 +0000

    If we get OLPC activity properties containing unknown types, err on the side of emitting unnecessary rather than insufficient signals
    
    
    20070814200550-53eee-738f1538599b3a4aabd9db36d9d7a00a5f77f173.gz

commit a5bcb8c76ca242813bcc52597ef2473bf602ca3e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-17 13:05:47 +0000

    Trivial: no need for strlen() to check for zero length
    
    
    20070817130547-53eee-06a7ca6d5c1c2da71dff809fbafdb6c3f4b1daea.gz

commit 849115b0e6533fc2b83f450301f77114e3891c6e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-14 19:49:16 +0000

    conn-olpc: give ActivityInfo a conn member, enabling it to be self-freeing
    
    
    20070814194916-53eee-079aa36d1120e1f9d81be29dbe2beb9dc4171258.gz

commit 1bfbb8ce903d062f59a051295bb918f17ab69a33
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-14 14:58:02 +0000

    gabble-muc-channel: re-order #includes
    
    
    20070814145802-53eee-4c4e63cfd4aa63ee7a09c1d9efbd1e223c01e629.gz

commit bf58cce9a95fdd2e2f5febfd0daa808269285a14
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-10-12 14:04:39 +0000

    Use ustar (POSIX 1998) tarballs to allow >99 character filenames
    
    
    20071012140439-53eee-36367a3e2aa582004c0f0dde7c9a67349c3e065f.gz

commit 1f0cec92a5c035cac9d73e9965e1f278752c9583
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2007-10-29 10:44:40 +0000

    gabble_media_session_error(): access temporary array instead of just cleared private member
    
    
    20071029104440-01440-47b5f3a33bede5e8761f5a516ed6f1d5fb2dd230.gz

commit 53d3887290c26ba52c31e82e19e68d90bf5a645a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-10-26 11:00:17 +0000

    Install telepathy-gabble in libexecdir, adjust .service accordingly
    
    
    20071026110017-53eee-cc8dc001ab35e3adb265ba37ac03ae18e9eb5c5d.gz

commit 15278c1f09a33c0fc4d4f72520a757ca0fd6d577
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-10-15 15:48:38 +0000

    port test-set-alias.py to new test API
    
    
    20071015154838-c9803-3d471d27a5ab562aedaaed2f93573c40d7777295.gz

commit 16632cc27b48972181bf0ab50b8d13bc75826b61
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-10-15 15:10:43 +0000

    port test-alias-pep.py to new test API
    
    
    20071015151043-c9803-ad02eaa8ef39280271af1547bd431adb92cd7fa6.gz

commit 69fe7f97a10d866408e3fc45ba42cf903239b21f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-10-15 13:21:06 +0000

    servicetest.py: wrap connection proxy in interface helper
    
    
    20071015132106-c9803-bc1383d4a66c2fcf2358a1d68e842ff1ffadb35d.gz

commit 195536224b7c8a2c29d4cd390fc6830d1a80feb8
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-10-15 12:52:55 +0000

    gabbletest.py: cope with IQ not having a "to" attribute
    
    
    20071015125255-c9803-b999b088e262f0e5a5d4c3d43e63f9fccdd90add.gz

commit 9a0cb51fa9be121b5d6ac6bd717a552ee0c26f21
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-10-15 12:52:03 +0000

    gabbletest.py: add exec_test()
    
    
    20071015125203-c9803-d1ba70d4f744fd47c39b047f234cd9e9fb54646a.gz

commit 847b0576d6cd837e8de1a3fcf8da7d6be5e5578c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-10-15 12:45:38 +0000

    port test-alias-empty-vcard.py
    
    
    20071015124538-c9803-dcd4a7203fb1956ee59d5a4369ab759c2cb5bed7.gz

commit 3d76b7c28c6fce31918c5a0faa7fe7b5671994b6
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-10-15 12:45:04 +0000

    port test-alias.py to new test API
    
    
    20071015124504-c9803-9729338b715dc7cef7ce94ed80c3c1be6b8d2309.gz

commit 4191bd6d9628c816d2fbcd85ee39fd3e258c26ab
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-10-15 12:19:41 +0000

    port test-connect.py to new test API
    
    
    20071015121941-c9803-b7703ceb1595413b7afce9fe10b6312cd55a2d5d.gz

commit 8939c26277df29cb3b4d65221926f28c518923c2
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-09-25 16:00:42 +0000

    make exec-with-log.sh executable after generating it
    
    
    20070925160042-c9803-938a2bd677915d0af55759cc2ca02ce90b65f62b.gz

commit fcab2f7853313b510db245eb72f35422955de7cd
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-09-25 15:59:58 +0000

    don't make sed commands quiet when generating test support files
    
    
    20070925155958-c9803-2a83e842d9743349064544199259ec4482af2427.gz

commit bc75f2545d8ecc07bbed12ead80baeaf1e6092ee
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-09-25 15:34:43 +0000

    fix logging in EventQueue.demand()
    
    
    20070925153443-c9803-ccc180a561c0ec437a56c173f2b99c49341e7df6.gz

commit 4651284412999c1dc9c7287483576d6ed28d1576
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-09-24 14:47:39 +0000

    make IteratingEventQueue.handle_event a synonym for .append, so that it can be passed to call_async
    
    
    20070924144739-c9803-9544fdae7f3959aeed3a0e0ac5dff12de31ed281.gz

commit ece644d37adefb7c245ca6555cd357fdba566208
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-09-24 12:15:22 +0000

    servicetest.py: unwrap D-Bus method return values
    
    
    20070924121522-c9803-5cab0a008d1fa30a26c6a0fa288eebd22728d9af.gz

commit 4c0038c98915910f38e3acacffe9bac579dba694
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-09-24 11:44:39 +0000

    tests/Makefile.am: add test-google-roster.py to TWISTED_TESTS
    
    
    20070924114439-c9803-46c07ab0a1bb303c716bbd977af02cf11cf3901f.gz

commit ba706fa4f08aee7f6f1b03413471201a60190876
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-09-24 11:38:35 +0000

    make_result_iq(): copy query element's name into result stanza
    
    
    20070924113835-c9803-19756568f463a2ed22ed169deabc4282ae13dd81.gz

commit 3ccc93486f4aa10860e7b1239f92655cdfafd600
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-09-21 15:27:56 +0000

    gabbletest.py: add presence_type property to steam-presence events
    
    
    20070921152756-c9803-180893a9f9f7417feb47a1cb8fb52576ab3f1942.gz

commit 74e9a74d950c6353a2ada136681d30ee27f236af
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-09-21 15:10:18 +0000

    gabbletest.py: generalise IQ event's query property to any subelement; add query_name property
    
    
    20070921151018-c9803-d17380d51eec96170db8bd20ad38ef5961c8cf43.gz

commit 22e7829a9437dfaf040b0efd7314b9243d788a1c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-09-20 15:55:51 +0000

    make prepare_test functions return tuples instead of hashes
    
    
    20070920155551-c9803-192d6852fbc3180decc8de9569cfa4883c79435c.gz

commit 5c0173fd7ac1001bce24a834a19c26aaf5309c8d
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-09-20 15:40:08 +0000

    use t.i.p.Factory with pre-instantiated stream instead of own XmlStreamFactory
    
    
    20070920154008-c9803-5394efd52180266011b4599cf558ad343bbed06c.gz

commit ae6b2c878e8b2fadee03d27e7b52edce36f36604
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-09-20 14:23:39 +0000

    servicetest.py: don't include CM in test data
    
    
    20070920142339-c9803-a00775e8a44e753c9112e97e4f0039fda5c0afd6.gz

commit 228d73b356309d3c8421119759504e9be44c8d7f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-09-19 21:12:06 +0000

    servicetest.py: run tests if invoked
    
    
    20070919211206-c9803-82fff21d92dff64906781c4dc4a5b86f66d031a0.gz

commit 4fcabbff8c8799dd4f83b6067f1994e57e933b0a
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-09-19 21:08:39 +0000

    add EventQueue and supporting code
    
    
    20070919210839-c9803-24ce3eab33cc3c00939fa7c6ce2ea2311b254658.gz

commit 1b1e56abb344b326e3033e2415238bd1bd0c5aed
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-09-19 21:06:47 +0000

    fold servicetest.run_test into gabbletest.go as it doesn't do much
    
    
    20070919210647-c9803-2db5e47c913c245adbf10f59f9b728f78c3f0b20.gz

commit d5b9088ec4edf7f91b878ab916ad256cf566e9e6
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-09-19 20:44:08 +0000

    servicetest.py: refactor event formatting
    
    
    20070919204408-c9803-4665f04efa7ddb2793e32e07007f5e6d57b24cac.gz

commit e6d0a8c18e50e30399ee9e5f9161cf75f80caf6a
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-09-19 20:23:47 +0000

    refactor gabbletest.go()
    
    
    20070919202347-c9803-a6250493af6aabf713a30d1f2340c7b9191fa8a6.gz

commit 1d51425337882e7001e50460fd621f7d4427b6b8
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-09-19 20:17:23 +0000

    make BaseXmlStream take function instead of handler object
    
    
    20070919201723-c9803-31c8a34f2e9bdee37434fcde592cc49d54d4ec4c.gz

commit 4090273b4514399a17718d4a2d4ab0f77f47dace
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-09-19 20:00:11 +0000

    servicetest.py: make prepare_test take handler function and return data
    
    
    20070919200011-c9803-2ba64f4d240eab5f34a95fb857c0c33d68d0402c.gz

commit b6662f84fb060f1e7ac6be64fa3ecd9680d120da
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-09-19 19:52:31 +0000

    servicetest.py: factor out event handler loading
    
    
    20070919195231-c9803-1080ee182de6d107f8023d24db14df57b52859b0.gz

commit 2484f135cd61bd767b3f8fadf6ded96a752c2dc3
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-09-19 19:36:39 +0000

    gabbletest.py: remove factory from test data as it's useless
    
    
    20070919193639-c9803-621f4f76ebe323200495abfdfe205b1f70699385.gz

commit ea889e26594864f4e9be88afeb66c43e4e62c9da
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-25 16:00:13 +0000

    gabble-media-session: pass NULL as reply_func to _send_with_reply instead of using our own ignore_reply_cb
    
    
    20071025160013-7fe3f-e0f60a86f52bf3d1734c5e5d7fd1aa2db3f46d7a.gz

commit 3036933f733622e3002e9d57dfea905e2c421f06
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-25 15:57:42 +0000

    bytestream-ibb: pass NULL as reply_func to _send_with_reply instead of using our own ignored_reply_cb
    
    
    20071025155742-7fe3f-35dcb914b620d1a6140d0b8c15e5c575ad1d7d64.gz

commit b52e1c72204314b44568771b3aee159b87acca5b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-25 15:56:01 +0000

    conn-olpc: pass NULL as reply_func to _send_with_reply instead of using our own ignored_reply_cb
    
    
    20071025155601-7fe3f-71de10c3032c94ca4145f2d8c262d3022096ee07.gz

commit 68537e717f2f1e05a4c7f63826f59423b00ed372
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-25 15:55:00 +0000

    gabble-connection: allow reply_func to be NULL in _gabble_connection_send_with_reply
    
    
    20071025155500-7fe3f-331d36664890191a63cd646eb156412b17243687.gz

commit 5491b6cefd6d2255204aff3da0b39a07675589f3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-25 15:27:13 +0000

    bytestream-ibb: use _gabble_connection_send_with_reply when sending the IBB close IQ so connection_iq_unknown_cb is not called
    
    
    20071025152713-7fe3f-926d2304296aa7c96630416cf550ee39de445c97.gz

commit e75a2ea1d1e7172ba38533a93f744fb93333ee9b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-25 15:02:51 +0000

    conn-olpc: always use _gabble_connection_send_with_reply so connection_iq_unknown_cb is not called
    
    
    20071025150251-7fe3f-737345b8f3eaa96e0757f26620db2c14980b80a4.gz

commit dc5c34eb30ae3750be4b5d0bc063cf7984b5d5c0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-18 13:23:12 +0000

    muc-factory: remove useless double instructions
    
    
    20071018132312-7fe3f-cbe3926074b90c627d14d1790073598711ec5964.gz

commit 6eb6cf75401077ef2db59a6885d2e6003c81a540
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-18 13:20:26 +0000

    muc-factory: fix text_needed_for_tubes leak
    
    
    20071018132026-7fe3f-8e97ef02bfa3841bd29f0a85426291b4ab15528d.gz

commit 3e5a0e9e0f53579c1a63421f38b13fc2209c0d7b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-18 13:14:01 +0000

    tube-stream: close_each_extra_bytestream: Don't remove element from priv->fd_to_bytestream hash table when we are iterating over it. Fix a memory corruption bug
    
    
    20071018131401-7fe3f-5bb26d71c54dea9ea73bf4ba1569e647b6966575.gz

commit ce931332aa8003a67be87bc275ada5afe3178544
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-18 12:20:44 +0000

    add parentheses around the expansion of GABBLE_XMPP_ERROR
    
    
    20071018122044-7fe3f-1d0a2bf56d4e693d56359d38d3b25043b6352a69.gz

commit 78f1f75f93a4641588965a33dd421c29bd0ad29a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-18 12:19:29 +0000

    drop INVALID_XMPP_ERROR. Use XMPP_ERROR_UNDEFINED_CONDITION instead
    
    
    20071018121929-7fe3f-587e4cecbbb71a30e3c5a41d89ff11e1c56e9e6c.gz

commit 2c86ddb242c5a384b11f99b430f2b399df640544
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-18 12:10:24 +0000

    gabble-error: update copyright and drop @author
    
    
    20071018121024-7fe3f-fcfb8b9ab51be8633fb015f0e62cbe1eec9faf26.gz

commit 78c83f85027d4712550aa44b9f8ad330e44b1f93
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-18 12:09:38 +0000

    gabble_xmpp_error_to_node shouldn't accept XMPP_ERROR_UNDEFINED_CONDITION
    
    
    20071018120938-7fe3f-d999989472731f8d43fd226302afdfda66371f31.gz

commit e6c28c4ed64151ddfbe90b111f990616ed99d66f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-18 12:08:25 +0000

    gabble-error: use the NS when looking for the error child
    
    
    20071018120825-7fe3f-3c16b747212ff9e27c212f0f9e1aaf1b05c215b6.gz

commit b64e90ddb8e60ca42cfd450658e5f5ca09c5e3d0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-18 12:06:35 +0000

    move XMPP_ERROR_UNDEFINED_CONDITION to index 0 of xmpp_errors
    
    
    20071018120635-7fe3f-ca3428ffb19c46f0fc61dd67d7a96f813f51752d.gz

commit a5aed96ffdb2901bbe8a80eb3d78283be5f13096
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-18 12:02:22 +0000

    use XMPP_ERROR_UNDEFINED_CONDITION instead of XMPP_ERROR_UNKNOWN
    
    
    20071018120222-7fe3f-12d0baacf43efac7e68158dbb2a58de634973182.gz

commit 742b32319630ad270fc688932e68937bdd231d62
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-18 12:00:13 +0000

    rename XMPP_ERROR_JINGLE_UNKOWN_SESSION to XMPP_ERROR_JINGLE_UNKNOWN_SESSION
    
    
    20071018120013-7fe3f-cef51a3e6dd28704c485aaaf4f4ec8d235cf06cc.gz

commit bd43e0fb622a994fc55904fe949e67ca700ceb8f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-18 11:58:26 +0000

    gabble-error: set NS to GIBBER_XMPP_NS_STANZAS instead of NULL
    
    
    20071018115826-7fe3f-c927e1b37e7b54f1fe4f7153ac9bf3fa35d9a8e9.gz

commit b9589b0d6c673f11ab6c3efd45e1cad68831d53f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-17 14:17:43 +0000

    remove gabble_xmpp_error_to_g_error as we don't use it anymore
    
    
    20071017141743-7fe3f-e5d3ab78811c6e153042a3f5c86946d5df1b1c72.gz

commit 18e4c7be5dc2046454253bbd271bd0818acdd458
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-17 14:13:18 +0000

    use gabble_message_get_xmpp_error instead of gabble_xmpp_error_to_g_error and gabble_xmpp_error_from_node
    
    
    20071017141318-7fe3f-d436324f452a170f884feb3ea95dad342b0137d2.gz

commit 1e9d06de043fe207e6c8a9736eb79a48589f1be9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-17 13:54:32 +0000

    gabble-error: use the NUM_XMPP_ERRORS when iterate
    
    
    20071017135432-7fe3f-5fce3e6f4b2d59c8f86d3d0e21070d75b466ad9f.gz

commit 9e5ef464ce140c44e818e853f0bbce0023aa2cad
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-17 13:51:15 +0000

    gabble-error: make NUM_XMPP_ERRORS > XMPP_ERROR_UNKNOWN so it is *really* the number of "defined" errors
    
    
    20071017135115-7fe3f-3b3d959d66f778c0b65cf6024b6458f2f38417d1.gz

commit 7594414753d8641103ea422faf308f8ee6d48e4a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-17 13:24:26 +0000

    gabble-error: gibber_xmpp_error_from_node iterate errors backward so highest priority error will be choiced first
    
    
    20071017132426-7fe3f-0a7228d7b2f86450ad707976439ddfc161523187.gz

commit 58eda41701ecbbf5d601a558c25a4defc0e2c4ab
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-17 12:46:03 +0000

    gabble-error: fix assertion in gabble_message_get_xmpp_error
    
    
    20071017124603-7fe3f-f69c679173caba8e85e9c2ec2b7dabb495209564.gz

commit 7ac3eb4f019e1ac6017caef34c148c32fe0ade0b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-16 12:49:28 +0000

    tubes-channel: check if we have to publish the tube *before* adding the <tube> markup
    
    
    20071016124928-7fe3f-49acd595e43db5269fdc3df6162d26e92aa65190.gz

commit c8cf925992975fb357c5219abbfc48718a8597ee
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-16 10:51:07 +0000

    tubes-channel: fix a leak when we don't announce a stream tube because we didn't initiate it
    
    
    20071016105107-7fe3f-6610a99cb1504cf3769787e27da593fb21decd05.gz

commit 51a4755d87d6ff128079d2ae876f95f8287dc26d
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2007-10-10 08:54:04 +0000

    RequestPipeline, VCardManager: increased pipeline bandwidth, timeouts and cache entry ttl
    
    
    20071010085404-01440-83c7bd987fc539423057f9d80970cffb3ee5c5f7.gz

commit f06aad0e244f83bd456596a9b8711b0ccebe6dc4
Author: Senko Rasic <senko.rasic@collabora.co.uk>
Date:   2007-10-05 13:46:07 +0000

    GabbleVCardManager: destroy pending edits if GET request for our VCard failed
    
    
    20071005134607-01440-4d62f8dc72ff92a5731adc5d3ccdad0164abeafd.gz

commit d26e051aa304e382d473b08a66e79646b59b4361
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-10-11 16:11:58 +0000

    tube-stream: Use "%"G_GSIZE_FORMAT instead of "%zu" to print size_t quantities
    
    
    20071011161158-53eee-a7b0216867d37ab1bb817efe7fcea8fcca53309b.gz

commit c5dc76090cd0538373d342868f6ffa27929a824f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-07 20:54:40 +0000

    tube-stream: fix an indentation bug
    
    
    20071007205440-7fe3f-e2ab63567296707985417137cf8b9257d6c19bc5.gz

commit d6fa70a7f1808a357bd258abd0673004eb53fe8a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-07 16:27:40 +0000

    tube-stream: fix a crasher when disposing a not accepted tube
    
    
    20071007162740-7fe3f-688887358307bce75f6293fdf34ada2c87dc23b0.gz

commit 98455e1b0cd2e783a98205e67dd0cdcd867cf852
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 23:48:21 +0000

    tube-stream: use %zu instead of %d in the "unix path is too long" message
    
    
    20071005234821-7fe3f-c8f82d6340437ebbe3c70a088f33a73a130a8a2f.gz

commit b437b4e01c9ecc4dc6b2daed5f13abf36f1f80b9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 23:43:37 +0000

    add IPV6 sockets to GetAvailableStreamTubeTypes
    
    
    20071005234337-7fe3f-7277f3366857b5d0e6a84310009ade4edad524cd.gz

commit 1e0ddfca6b6c1e5637dc51f96b15129c8fd8b436
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 22:45:49 +0000

    tube-stream: add support to accept IPv6 sockets
    
    
    20071005224549-7fe3f-c8c35c95b04d1c43bc6af52a2593b938a8c40723.gz

commit d3aa378e5ac31da946c24e4e0f38799515177b52
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 22:26:04 +0000

    tube-stream: add suport to offer IPv6 sockets
    
    
    20071005222604-7fe3f-effce9b66a74fef6de2d5cbc667fe08f03a33596.gz

commit 28a626fe7b0b892ce1f48b49e091abc51fc2f21c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 22:16:48 +0000

    tube-stream: check access_control param for IP sockets
    
    
    20071005221648-7fe3f-5b76e9a87eb969c9f27c4b1284e4ff45f82320b1.gz

commit b557d29e72742f7eb6b35be3e50fb1a3736f8d2d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 22:12:28 +0000

    tube-stream: refactor gabble_tube_stream_check_params to use a switch
    
    
    20071005221228-7fe3f-0d2ba38817baab72b52b390e11299bccd370fb34.gz

commit 5f1e66f9e5d423d7cfc9e60438e1cf041187f020
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 22:06:15 +0000

    gabble_tube_stream_check_params: check ipv6 params
    
    
    20071005220615-7fe3f-b05c8e8c2c4ff094d6ec765f53be8af94ad281d3.gz

commit b369eab768c8ab3b6e2ee9a9087bd2b2ab6b2822
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 21:31:32 +0000

    tube-stream: uncomment ipv4 address type checking
    
    
    20071005213132-7fe3f-3bcb7bfef87c6be7428f05a3e0604a3e080a2005.gz

commit 3c9540ec4a0024b190c11f78b4e85e48f904ee4c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 18:12:56 +0000

    tube-stream: use the right host <-> network conversion functions
    
    
    20071005181256-7fe3f-9ab2d5e8d33b831f45a9a490d8e897947aed16ef.gz

commit 4ad6819af9c975a09dbc0c5e29f4f9a48e6a38a6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 18:06:19 +0000

    tube-stream: new_connection_to_socket: don't pass the port number to getaddrinfo (save a g_strdup_printf)
    
    
    20071005180619-7fe3f-3e34807ad8c0790d68acf1bfad0fd7bc14017653.gz

commit f8911e114e22cf9e42d2f7f59a37e2e1a2c1059b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 17:56:48 +0000

    tube-stream: don't define UNIX_PATH_MAX
    
    
    20071005175648-7fe3f-5d615d9998c6815e440ba8d8e66298fc9c1bd871.gz

commit 390c4dff7847f01215f71f259c61288c538b77c4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 17:50:48 +0000

    tube-stream: use our SockAddr union in listen_cb instead of sockaddr_storage
    
    
    20071005175048-7fe3f-f92ee2f411c157c04aa405e0a5d5d19e55770fe4.gz

commit 73ed498c7bba5d1ef37bd5b192982ae1cb512d47
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 17:41:59 +0000

    tube-stream: gabble_tube_stream_check_params: don't allow null bytes in Unix socket path
    
    
    20071005174159-7fe3f-3e66630488c849f95897ec57fdde26f7d31d425f.gz

commit bf8ee7125678d95efc17f73c389914cb91f626de
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-04 20:42:30 +0000

    tube-stream: use sockaddr_storage instead of sockaddr_un in listen_cb
    
    
    20071004204230-7fe3f-21930393553b7981748496c72d76237016110d65.gz

commit f841ef8b69655f25da12a4111a626b3672443ffb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-04 20:11:36 +0000

    tube-stream: new_connection_to_socket: use a variable to store the length of the sockaddr struct that will be used by connect (if not, UNIX sockets doesn't work anymore)
    
    
    20071004201136-7fe3f-75bb32165504bff51b4d24ab909b1116c7f40bdb.gz

commit 72263e93ec4b2032edd17a2d4c536acce9aa30c8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-04 19:21:10 +0000

    tube-stream: tube_stream_open: fix a overflow and save a g_strdup_printf
    
    
    20071004192110-7fe3f-83963ecb94260f45ec35809b3a27534e5015da23.gz

commit af79d983617ee881a825c9b74762c070b156056c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-04 19:13:03 +0000

    tube-stream: use a union for sockaddr in new_connection_to_socket
    
    
    20071004191303-7fe3f-d46ca73aac9029a86b5b48c1c56a63a766c4774b.gz

commit ea066eb1f360dc5820904a17e95d13461cd65426
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-04 17:30:52 +0000

    tube-stream: gabble_tube_stream_check_params: check Unix socket path length
    
    
    20071004173052-7fe3f-4021ec9439abf6e25bba2ceeac9f4bc78a8b0fa6.gz

commit 31352da6ac1a5139d0247854f378e186d8cfa6b3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-04 17:26:40 +0000

     tube-stream: new_connection_to_socket protect from overflow and be sure the sun_path is ended by a zero byte
    
    
    20071004172640-7fe3f-1e1658b57ff431cf6ab79a951cbf02ab07e2eb47.gz

commit f158603c032402e2bdbda7f58a18fe64c653826d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-04 16:14:23 +0000

    tube-stream: remove the port from gabble_tube_stream_check_params
    
    
    20071004161423-7fe3f-d5eaad9ae6ab83fc8fc332f36fe1f0412bfcf620.gz

commit 1f24ba8f608e01781d983535d5923ade8e0ff1de
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-04 16:11:28 +0000

    tube-stream: simplify tube_stream_open: drop getaddrinfo and set port to 0 to let the OS automatically choose one
    
    
    20071004161128-7fe3f-1a7482fb38448e4c1babff45fb88eb228f1c4dd9.gz

commit 89efd695c6fc8672fc96c8498bffdc43ad0f7d50
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-02 16:56:40 +0000

    tube-stream: add a GError argument too tube_stream_open
    
    
    20071002165640-7fe3f-4c342f2c939bc2d1dbf4831bb1084deb9fa413ed.gz

commit 0089bece0b6c15675827177140dfe49059c01ddb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-02 16:44:15 +0000

    tubes-channel: return a D-Bus error if gabble_tube_iface_accept fails
    
    
    20071002164415-7fe3f-c5669cc928cff569d47dcfc4d0f2c06c424aa441.gz

commit df8f504e2c96cca3868bb99f85a6a873c9e288af
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-02 16:40:28 +0000

    gabble_tube_iface_accept: return a bool and take a GError** as argument
    
    
    20071002164028-7fe3f-5456d1d265d7cbb83433541d872c3099997ea94f.gz

commit 3b3b7a68c191cc99f1ffc703ae8cbd10f1c61fa4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-02 16:15:41 +0000

    tube-stream: don't open the tube if tube_stream_open failed
    
    
    20071002161541-7fe3f-b8092a7706666d98eb8383022b0f640f4cecd476.gz

commit f99cf28c6bc9b51636c5edb7d544c74b0ff91d58
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-02 16:02:54 +0000

    tube-stream: coding style fix
    
    
    20071002160254-7fe3f-71469c9985194887ab091df00cbb642a3908d3b2.gz

commit 6f596ac228f64672d6a586fbe182223468a68673
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-02 15:59:14 +0000

    add IPV4 socket type in GetAvailableStreamTubeTypes result
    
    
    20071002155914-7fe3f-82bf73c0b66ca6f1a7270780c47ca9255215c8b0.gz

commit bd2d63643bfd0bc6575b80b440b7177ac16b2ced
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-02 15:52:06 +0000

    tube-stream: implement inet socket on the not initiator side
    
    
    20071002155206-7fe3f-ea05cb060ef8851ab3298fe95b2dce169d7f334c.gz

commit eaa873b511a2748b6798db059e09615fc05b37f2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-02 14:36:12 +0000

    tube-stream: fix getaddrinfo error handling
    
    
    20071002143612-7fe3f-05ba6034a5d3ac9605cb369e412c76922f231fca.gz

commit 6a130d8ab87b871448731d1b0b02e615fb5337a8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-02 14:22:31 +0000

    tube-stream: allow to export a inet socket
    
    
    20071002142231-7fe3f-476b20fd0449374350a42ded7cbc6163ebf6148f.gz

commit e5072fabb684bec3ec0b97781ef69e8ea8677e44
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-02 13:46:16 +0000

    tube-stream: gabble_tube_stream_check_params add ipv4 support
    
    
    20071002134616-7fe3f-e5434df02e04e25bcf664b15c03b6b9f18dc8340.gz

commit 0b645f6d059f2291eabbe6ffaa1b185479bd87cb
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2007-10-11 00:11:01 +0000

    fix crash if the user's own avatar is in invalid base64
    
    
    20071011001101-418b8-2f91bef075f1fc0a5d68112fe08ebc42344f39b4.gz

commit 52f237b1def0946051afcf321351b62baf31a449
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2007-10-08 15:35:18 +0000

    don't build dbus unique name test if we're building without dbus tubes
    
    
    20071008153518-418b8-1091567ab3d6ab460c13ab8098ff8e9e69728284.gz

commit e1cdf96bc7201e713b554832f9a0c1072f4092b9
Author: Robert McQueen <robert.mcqueen@collabora.co.uk>
Date:   2007-10-08 15:34:56 +0000

    fix tubes-channel.c to build without support for dbus tubes
    
    
    20071008153456-418b8-3874d02fbbdda77e50865624a9439f3d8a1607aa.gz

commit 664de91fbbacf5b65eb7498333e6d27368ae7716
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-07 16:23:25 +0000

    bytestream-ibb: remove init of block_size as it will be done by the property constructor
    
    
    20071007162325-7fe3f-43c0c4b93a2bc0c1f5c9db9c5048d5b01580d87d.gz

commit 96a85c07bcf60d7e0e1061950880aa2c859877ba
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-06 16:35:05 +0000

    sha1_bin 3rd argument have to be "guchar" instead of "gchar"
    
    
    20071006163505-7fe3f-b346d3135d86643f2956236032ad7d63b2c78d86.gz

commit 27155be81cc43eb0e4d8ffb0e9ced4df042f17c3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-06 16:05:42 +0000

    tubes-channel.c: fix 2 trivial space bugs
    
    
    20071006160542-7fe3f-88fd1e30f3d2e570df0b01b81123542838dbe1ff.gz

commit 54524269b13dac73e1467279d09674ea20f41aec
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 23:37:25 +0000

    gabble-muc-channel.c: add 3rd argument to create_presence_message so we can get a pointer to <x> if we want
    
    
    20071005233725-7fe3f-2d0c7047fec4bf1d423ca6dd1ce50d3ab49ea469.gz

commit 33b8df8aa118dc2c3aa5f0e3710f31925af9105a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 23:31:46 +0000

    tube-dbus: identation fix
    
    
    20071005233146-7fe3f-7479f703a572a5ced867ff797390bbdacd655d80.gz

commit 80733d6d6b5a1cc6cde83adebc341d83789b5931
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 23:24:51 +0000

    private-tubes-factory.c: identation fix
    
    
    20071005232451-7fe3f-8e1493d2f105de686f06f40e03178e10e734a2ff.gz

commit 71c805107ca79664e72b3a61d6e9eac0982ce8e4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 23:21:30 +0000

    muc-factory: indentation fix
    
    
    20071005232130-7fe3f-e6bc5a841a49dff115fbd55f825cf9e7c18f5ab1.gz

commit 745dce886e01665c227f8aa220521117ae85fd1c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 22:59:27 +0000

    use "%zu" as format when printing gsize (thanks to Alban Crequy)
    
    
    20071005225927-7fe3f-9b90616b60ee402c0150752acc6c7939a4b08398.gz

commit 49dfcf7257e315206c47cfa09a5d20349819e10a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 20:51:33 +0000

    simplify gabble_tubes_channel_init
    
    
    20071005205133-7fe3f-76ed75240c9cf72cb0ac160a8fa504f631243816.gz

commit 66fe369a6e96a4cf711af36f1d5de421cee1e2d8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 20:50:34 +0000

    simplify gabble_tube_dbus_init
    
    
    20071005205034-7fe3f-9b08ccd9e12dee593b92ff8d9742c9a23e66b0d4.gz

commit 6750a408f92195fa50235325ab302e6bb7aa1ac9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 20:48:51 +0000

    bytestream-muc: add dispose_has_run
    
    
    20071005204851-7fe3f-bfd1f2147b565e0e245b482e32edc03a2c27a3a1.gz

commit 51e9184efaa22b64b6ee41cc495ce42c191d09ff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 20:45:52 +0000

    simplify gabble_bytestream_factory_init
    
    
    20071005204552-7fe3f-7e6ce51e9fe4e7dbb7bb3612ab80148d4792fe01.gz

commit 1f7b320e67898d82cd17f6a71712dd068f17ab71
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 20:45:09 +0000

    bytestream-ibb: add dispose_has_run
    
    
    20071005204509-7fe3f-a9e20c40c110b91954f721985a8c970818e0f9be.gz

commit dad5f9ed5bb3d772c51bdb871fb2720caa54b684
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 20:29:23 +0000

    simplify gabble_bytestream_ibb_init
    
    
    20071005202923-7fe3f-4dbddc17711586efbe0a02d87b0b6bbe3334c63b.gz

commit 11d32ddf04d8e7c7e76352e31d1f0abbe3ca429f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 20:26:46 +0000

    fix declaration style in few tubes related headers
    
    
    20071005202646-7fe3f-0bef40c13dc8e591afc2e039e2890f54e67d08a4.gz

commit c7b1eaf9350a08941760b3092c7301b0382a2bb1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 20:23:02 +0000

    bytestream-ibb: gabble_bytestream_ibb_accept: use g_object_set to change the state the the state-changed signal is emitted
    
    
    20071005202302-7fe3f-f498bb3cae5973360a84daac9e5f43b6c1fcd97b.gz

commit 71fd9a83fbd73152110025c8d6923a83eb14dd88
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 20:10:02 +0000

    bytestream-muc: check if base64_decode doesn't return NULL
    
    
    20071005201002-7fe3f-fdb1605d8e0b8f67d259862a1da4fff574618194.gz

commit ab87d75aa0cf5352a73860f877b9e57b34b92270
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 20:07:20 +0000

    bytestream-ibb: check if base64_decode doesn't return NULL
    
    
    20071005200720-7fe3f-eafc506df2f674491ce1eb63d47b9d42782515c3.gz

commit 44a1a50b56d4547ed902886bfb02a39454fe8d84
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 20:02:53 +0000

    bytestream-ibb: set the G_PARAM_CONSTRUCT flag to the block-size property so it will be properly initialized
    
    
    20071005200253-7fe3f-845c79b06023b49aedfbb29b4bd216a3fe4af5dc.gz

commit 57f2815eb6e81a01e1a058b722acbdf1c5eeba99
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 19:56:08 +0000

    bytestream-ibb: set default param string value to NULL instead of ""
    
    
    20071005195608-7fe3f-d89e7ed2b78b3f221062f867083058ed755a780a.gz

commit ec179767cdad0777accb8f9fd6b4164c7ae0c8f0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 19:36:26 +0000

    bytestream-factory: make SI reply parsing more robust
    
    
    20071005193626-7fe3f-58c16ad5e220be8370344963ae9864708e3a234c.gz

commit 769cc8860101a41a3747fcea6744a1c0d53641b0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 19:12:05 +0000

    bytestream-factory: fix a typo + header declaration style
    
    
    20071005191205-7fe3f-a86bb081a58c59dad58bfbad6be9185d799cecec.gz

commit 1d15854885269bd51fbaeb5398e325988a7ce05b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 18:58:03 +0000

    bytestream-factory.c: identation fix
    
    
    20071005185803-7fe3f-c948f582fb833edc3c1eeb73504ef1ae45cdd577.gz

commit a631b34640543bf82223f52a9efd74ba02c65490
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 18:55:35 +0000

    bytestream-factory: be sure to don't use _gabble_connection_send_iq_error in reply to a non-iq stanza
    
    
    20071005185535-7fe3f-9b82530cda5d16751c1d36312664a029989679bf.gz

commit 834b73db05451df2c46e76936e7b9410c3532f15
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-05 18:53:09 +0000

    bytestream-factory.c: use _gabble_connection_send_iq_error and _gabble_connection_acknowledge_set_iq in handle_ibb_close_iq
    
    
    20071005185309-7fe3f-306b0624370054f5e557898bd81df5b72c08fd87.gz

commit cba1aec1eaff6abce71b94542dc65b674fb31518
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-04 19:56:32 +0000

    bytestream-factory: fix crash if bytestream is NULL in streaminit_reply_cb
    
    
    20071004195632-7fe3f-5db1fa51ce5d6a95effa8c6bc8013d9d263034f2.gz

commit 69eaf6c36aa8339dab571febcf212673f28c1add
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-02 11:08:21 +0000

    tube-stream: close the tube if an error occurs in tube_stream_open
    
    
    20071002110821-7fe3f-69b58e19bb3ce4289d2136f6e60a01194a9e270b.gz

commit 78f670aced86590144195f4c6dbe7bb4e4271e58
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-02 11:03:35 +0000

    tube-stream: unlink the socket if we created one
    
    
    20071002110335-7fe3f-02e2973db293a2e437fef58609e487bd79923268.gz

commit ad346499433531236a1dd927a96b6ebd06ca143c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-01 14:07:06 +0000

    private-tubes-factory: update the FIXME in gabble_private_tubes_factory_handle_si_tube_request
    
    
    20071001140706-7fe3f-7f87838db53b5ae6e0149b04a2cb174c1506827d.gz

commit 865dab3e168b296e64b95cc0ea85297cd3cd3b15
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-01 13:42:50 +0000

    gabble-connection: rename tubes_factory to private_tubes_factory
    
    
    20071001134250-7fe3f-472a7ce3986385dddda081f8e06c91798ad9d719.gz

commit 3a3df4dd76c1c85fe6403a2f2e5c1abafb6b0d42
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-01 13:37:33 +0000

    private-tubes-factory.c: wrap lines that became too long after the rename
    
    
    20071001133733-7fe3f-6094930f8322103f12d01656483cb66c80e6a18f.gz

commit 6c92b563f7eca9df302fc0fb5fd7b60350eff66c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-01 13:32:50 +0000

    rename GabbleTubesFactory to GabblePrivateTubesFactory
    
    
    20071001133250-7fe3f-5ce296148b20a656b196801c627d4185d2cae899.gz

commit 96602aabcb2ee2f3e43018fb3b7792a318e0fa57
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-01 13:20:51 +0000

    mv tubes-factory.[ch] private-tubes-factory.[ch]
    
    
    20071001132051-7fe3f-f2d75ac3efcb9a6f4e24b2c9f87935a0c057f67c.gz

commit 0f963ee83a279bb42940552b0b5b717e2851b57a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-10-01 12:39:50 +0000

    bytestream-ibb: close the bytestream if sending stanza failed
    
    
    20071001123950-7fe3f-8b30db3b9429438864290972fbb5e0d073c2361d.gz

commit 39b6e39478812e92ce15309a312383bebc570e47
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-28 15:52:46 +0000

    test-si-tubes.py: remove deprecated FIXME
    
    
    20070928155246-7fe3f-60878002b38ae9ea73f1037bb526ef0632ea7807.gz

commit eb9c8370067bf030e5a8282b3f72336e713aa351
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-28 15:49:58 +0000

    test-muc-tubes.py and test-si-tubes.py: assert presence and tube offer doesn't contain an initiator attribute
    
    
    20070928154958-7fe3f-e444ae831d95d7757bed7b122deb8e93431bedef.gz

commit aec18efd226f8c5ec399b733146310a2058f1a2d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-28 15:29:53 +0000

    add AMP info in tubes close message too
    
    
    20070928152953-7fe3f-ae481a37195ec4518ec13465cd035dcdb08679c6.gz

commit ad2d8e6b6481af140a727f200dd05a90bbc51d1b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-28 15:25:34 +0000

    tubes-channel: add AMP info to 1-1 stream tube offers
    
    
    20070928152534-7fe3f-0183894dd5e5594d1f60b6bc62430bf92eabca32.gz

commit 9822c8f4ba992ebd4d223dd030f1c0be56b19446
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-28 15:11:29 +0000

    tests/test-si-tubes.py: update to fit new 1-1 stream tubes protocol
    
    
    20070928151129-7fe3f-08914fd07ba834dfec0d825e1c7785a4b9c293dd.gz

commit 8173eb1b40777a51face7a031aff7f27a5f6a6d8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-28 14:33:05 +0000

    tests/test-muc-tubes.py: the initiator was removed from stream tubes presence
    
    
    20070928143305-7fe3f-256d1df360db997f7c0365a6d4cba0d7806d0e11.gz

commit 4c5b23dcdd2180eafec58d1b4d433ee236f2cbb9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-28 13:02:01 +0000

    tubes-channel: tube_msg_offered: close both tubes if we receive an offer with an existing tube id
    
    
    20070928130201-7fe3f-5e42120d2ae4fa4cb7b470595a90a345b6017196.gz

commit 5ee28351c34f9962af4caa21755ef744901846cc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-28 12:58:47 +0000

    tubes-channel: tube_msg_offered: send close message if we receive a bugged tube message
    
    
    20070928125847-7fe3f-7b03a56c16b9fdafe3f2e36a9b1dd8828883dd83.gz

commit b9dea43c76e5a7fa88ed4e472d85ed819a6bba85
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-28 12:27:19 +0000

    tube-stream: close the tube when disposing it to be send the close message when the tubes channel is closed
    
    
    20070928122719-7fe3f-1162c938808fa16f9f70a2150845b50073e0e993.gz

commit 9bc026d9cd831ceaa376ecf87c68f9bc2353bbd2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-28 12:00:56 +0000

    handle stream tubes close message
    
    
    20070928120056-7fe3f-40ee82461b6aa82d79231e35df8889a1cae3afa0.gz

commit e3bc237e69e5504c7b40af9a3d78d3a20c0b50bd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-28 12:00:12 +0000

    tube-stream: send the close message when closing the tube
    
    
    20070928120012-7fe3f-3b1b43860ad4ffa76b100348e34af5f984c6dd93.gz

commit a1bdbc24a55d48e9654071aaaf14c45bf1aefa18
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-28 11:19:03 +0000

    tube-stream: move tube state from remote pending to open when we receive the new first connection
    
    
    20070928111903-7fe3f-9c763b662ec05d2f3ccc31571286f5b556b92ca8.gz

commit cb7ea907e38ad27f373656908af706abd151dee7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-28 10:49:23 +0000

    tube-stream: remove the default-bytestream
    
    
    20070928104923-7fe3f-33ff518747aaafe8c729b18ee504a955b0142079.gz

commit 83dcc4b26eb42ac9c0ebd6afd1d64fb3a1401597
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-28 10:37:27 +0000

    remove the "bytestream" property from tube-iface as tube-stream won't have a "default bytestream" anymore
    
    
    20070928103727-7fe3f-2b1fdf67293699af5a87bedc18a869fee0186376.gz

commit 858e0ca8f3048f71cd9bc9e1d7dcc3239885d050
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-28 10:27:46 +0000

    tubes-channel: doesn't allow to create stream tubes using SI
    
    
    20070928102746-7fe3f-63b9d90ba36f93e2ebddd14d89384bd000ae6815.gz

commit fb7cdef777edbca7d5e3bb154fe76a78a138f790
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-28 10:19:40 +0000

    create stream tubes when we receive a tubes <message>
    
    
    20070928101940-7fe3f-1a40445d051063815c0758972d85947438cc7519.gz

commit 53585839d245ff37d2e09506b965ec6185535c82
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-28 09:59:18 +0000

    tubes-factory: fix tubes_factory_msg_tube_cb declaration style
    
    
    20070928095918-7fe3f-97a7a2c97d6a34f0c5adf8e03da26ce097d6b5f4.gz

commit bb96700b66c26526bb07623af7aaf878b29283bc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-28 09:53:17 +0000

    tubes-factory: add a LM handler to handle tubes related messages
    
    
    20070928095317-7fe3f-ac3d3d3f212af59835ebd67a03fbcdedc9dd318f.gz

commit 32e4a100f42097e199683711ab01ef938780d313
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-28 09:06:46 +0000

    rename gabble_tubes_channel_tube_offered to gabble_tubes_channel_tube_si_offered
    
    
    20070928090646-7fe3f-72b67f6c8ab4d1214e20a9a1d30c4dafab7ddff5.gz

commit 93bb4b2152d2d88c8b86f1292285c134de0082fc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-28 09:03:07 +0000

    tubes-channel: send message instead of SI when offering a new 1-1 stream tube
    
    
    20070928090307-7fe3f-b252c28f0f93e9e07cbd9af11ac08109b5cec6b7.gz

commit 7ee20f4f51cddb146f13d474ba73ac479ea04937
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-27 16:26:46 +0000

    gabble_tubes_channel_presence_updated: add comment above continue when parsing <tubes> children
    
    
    20070927162646-7fe3f-7c12050903e0931a725e54b7c4fbfdd1b406ed64.gz

commit c0ae192525844d9f2aa0d1e0470a8cbd50d11edd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-27 16:21:20 +0000

    tubes-channel: move break outside case's block for better style
    
    
    20070927162120-7fe3f-e10af736c471356f315292c22acdeeffdbb6deec.gz

commit b62f02ad84433eeddaa6366e61577f4e3c322954
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-27 15:55:33 +0000

    tubes-channel: add forgotton break
    
    
    20070927155533-7fe3f-72070a4e1f47850bcfca1f74f63f2bb0ae62f1a0.gz

commit 26533d4c8294c39abd520a4709b9bb4cf92f6769
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-27 15:46:34 +0000

    tubes-channel: use switch instead of if/else in publish_tube_in_node and gabble_tubes_channel_presence_updated
    
    
    20070927154634-7fe3f-10e4839b80c66674fd048377b8a5cf6230da4b1c.gz

commit 2ab5f4947b37c447ceb478694d46793254019c99
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-27 15:34:14 +0000

    tubes-channel: fix initiator handle reffing after calling extract_tube_information
    
    
    20070927153414-7fe3f-be2da47f9bbd210f27f1a617bc937f5f78cc86de.gz

commit 1979b5c729e165a87fe93fadb2e74b93232eca8a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-27 14:44:06 +0000

    tubes-channel: properly deal with tubes node without initiator attribute
    
    
    20070927144406-7fe3f-ec9c6a8607be77277cef8429412874648709f3b6.gz

commit 3f0603e785cc02ffac0350591813efb526fa57c7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-27 14:02:16 +0000

    tubes-channel: publish_tube_in_node: drop the "initiator" attribute for stream tubes
    
    
    20070927140216-7fe3f-a695e2ffb7dbd48f7d3e410306238560fcc8cf94.gz

commit aad1c9a850fa9e159417c104434e970294739970
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-27 13:52:54 +0000

    tubes-channel: only announce in our presence stream tubes we initiated.
    
    
    20070927135254-7fe3f-b74919aa3441a51fd8418638a55434bf1ad17990.gz

commit 96021a48ab0654b5379c6f61acd12f157cbc1566
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-28 12:26:03 +0000

    Don't bother using g_strdup_printf just to get "1" or "0" from a boolean. Add a comment explaining why we're not using the XML Schema canonical representation, which is "true"/"false".
    
    
    20070928122603-53eee-682eff9825a8f48690fe3ec8d60938bae4ab56cd.gz

commit a0d171f815cb1500779873ff6fc29338fb06fdbb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-28 12:25:32 +0000

    tubes.xml: when defining <parameters>, explain in terms of XML Schema
    
    
    20070928122532-53eee-ca110df60f4e173eb08aee927404abce43fbc3b9.gz

commit 1184a7f4e85d1cd27c9815e9410c33f6d12e6097
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-28 12:16:20 +0000

    Accept "true" or "false" as values for bool parameters, to align with XML Schema xs:boolean and XEP-0004 Data Forms
    
    
    20070928121620-53eee-690e9abea9ec03a6cf4f0c32a619d4a47028edff.gz

commit 201215fbba71a660c1002be9e06c3c42cd4196e4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-29 13:21:30 +0000

    lm_message_node_extract_properties: only accept "1" and "0" as boolean property value
    
    
    20070829132130-7fe3f-bf02c947e770f018cf891ccb75669092184d6304.gz

commit 1c4420306a69cab811a6d3a3846753c4fcaa3bf1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-17 16:05:24 +0000

    Use more appropriate functions to deal with uints. Support boolean properties
    
    
    20070817160524-53eee-d141a14082be7df075ded874c6588c274fa15168.gz

commit 98cb227d2b0ba39c2daf4ed2f97d6c0454c2079a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-28 12:11:30 +0000

    tubes.xml: Tubes XMLNS does not contain /protocol/. Also remove spurious initiator attributes
    
    
    20070928121130-53eee-95d7c36d78cf91b7d4debc8dd8e1264df2f1be26.gz

commit b0205fb4735c4c98380f94c016430ec809c15306
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-27 19:04:16 +0000

    Allow both initiator and non-initiator to close 1-1 stream tubes
    
    
    20070927190416-53eee-723935da3fdc087372ffcb49222717872ffc1871.gz

commit e616039cbcb0cb8111657ea10dacb108d3592b44
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-27 13:53:47 +0000

    tubes.xml: add <close/> to XML schema
    
    
    20070927135347-53eee-c786dee62e384cbe16067d7145456f3ec293735d.gz

commit e460ca3d215e2b1586d469488b12298329c06e81
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-27 13:53:25 +0000

    tubes.xml: change schema to make initiator required for MUC D-Bus tubes only
    
    
    20070927135325-53eee-bbba2cee7f1f98eca46887873ee9ab280f1344cd.gz

commit 0b9e2fe2f2b6e66f80ae6c255be191bcf2379aab
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-27 13:52:08 +0000

    tubes.xml: Use a <message>-based protocol to offer and un-offer 1-1 stream tubes, instead of having the weird default bytestream
    
    
    20070927135208-53eee-54e6058e431a1f87cf77e0be5a2cce1445f6b760.gz

commit 0d995a746085d8268d326f7eb975bf1186178014
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-27 13:51:47 +0000

    Fix example in tubes.xml - closing tag for <iq> is not </presence>!
    
    
    20070927135147-53eee-9fa45b032d355cdc1fe92ea57540500f28a527f1.gz

commit fd06d4da8116c5c06513863185de37f7e399e6fc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-27 13:51:35 +0000

    Tube IDs must be numeric... fix example
    
    
    20070927135135-53eee-e6adf27ad858b2f24a61d1c836bcf14b8ef9b104.gz

commit 9544b0f0a1e43284202f3603b40908a460f5e3b4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-27 13:49:27 +0000

    Don't put initiator in MUC stream tube info
    
    
    20070927134927-53eee-192aec40606af62d9d96e615465de930b4eb177c.gz

commit deceb58f5873c018f37b9d7f18b980e470f1ea18
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-27 13:40:23 +0000

    tubes.xml: Don't copy stream tubes into MUC presence, they're useless once the initiator leaves
    
    
    20070927134023-53eee-71e0376808c6d0422b68dfeba1debb00c6f29929.gz

commit 7bdf4f75cfb5b6bccdc824381f8615f320e91a36
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-26 15:23:53 +0000

    Move test-muc-tubes to correct sort order in tests/Makefile.am
    
    
    20070926152353-53eee-e2b64a6075004c9ffe15cc3fe798292c0d89a7cb.gz

commit b6f727172e473fccc072fbb579185ca2efd11afd
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-25 19:04:06 +0000

    Update and merge with HEAD and current -tubes
    
    
    20070925190406-53eee-b69e3407bba0d7dd619bec9299dfd2ba70e0d4d8.gz

commit 071ae39dff25b48bd1b58447c3a2377e3a1b5c7a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-20 15:15:12 +0000

    Remove test for obsolete tubes API
    
    
    20070920151512-53eee-d8c7e73850dec6a24ba65a19deb1517a8aa84cea.gz

commit cbc672f62dc2ab0a85ca716ebcc8c2abf34d347a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-20 15:14:36 +0000

    Use GetDBusTubeAddress in tests, not GetDBusServerAddress
    
    
    20070920151436-53eee-293c3ef950b4c0a7d97799f1915732c2b043d0ad.gz

commit 56facde3c92cc65fef7d625b52e9a0ca7e271a7e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-20 15:14:29 +0000

    Don't test the old tubes API
    
    
    20070920151429-53eee-5f021a4fdfd5d7ae64f32ac206fa7bd72dadbcdc.gz

commit 8d795e7c303f151e047adb7c00e9d23e9e07a7c6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-20 15:07:47 +0000

    Fix up tube-related constants
    
    
    20070920150747-53eee-ec25c889a78ad11f093eb1c47c577bd3752484d7.gz

commit 069ead0235fdad83f089394592527344603635fb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-20 13:52:25 +0000

    Remove our copy of the Tubes spec
    
    
    20070920135225-53eee-b4893ed8c01a85695944a09facd84ac28c04fdea.gz

commit 2fcc1c4e8e460fa9a8439395b68400007f30c798
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-20 13:51:30 +0000

    Compile against telepathy-glib's version of the Tubes spec
    
    
    20070920135130-53eee-c6c25f083373811a65c721b14ce3ca599bc86b8a.gz

commit 7c24a6d7775205f44f8c07b45bceaffded67c231
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-20 13:34:42 +0000

    Remove old deprecated API from Tubes channel (https://dev.laptop.org/ticket/3654)
    
    
    20070920133442-53eee-bf8d201a26fa69ae7770bfa11cc73af0269d9047.gz

commit 5e9f9618dd5e8377add008c8355370c4b33d6c16
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-26 13:06:39 +0000

    Move support for declining SIs with a reason to the bytestream interface, by adding a NULLable GError* to the close() method
    
    
    20070926130639-53eee-22831ebd47aba20cb0e36e2926a8aae886a44f28.gz

commit b80b6101818f300d1e9c5ed7597bfbb7201ee283
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-25 18:54:29 +0000

    Also remove now-unused variables
    
    
    20070925185429-53eee-27acfd68e03d5ee0748134166c63170ef4b46dff.gz

commit 20202322b81bc807c2551bf55f5c96b26fa99e2e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-25 18:39:05 +0000

    Remove now-unnecessary inspection of 1-1 D-Bus tube acceptance message to find the dbus-name (in the new protocol there's no such thing)
    
    
    20070925183905-53eee-0e1a55f8c3f98104feec7c3e9f0041afaa5d6d8d.gz

commit c76042f284913afaa63ac027564eb53a4512f64a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-25 17:57:44 +0000

    Treat tube IDs as unsigned 32-bit integers everywhere
    
    
    20070925175744-53eee-ba9cef42b7e0bdb706eaed63e230e75420828913.gz

commit 854437ca6a86ed340ced8c05b97ad307f5cfa460
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-25 17:13:25 +0000

    Make gabble_tubes_channel_tube_offered guarantee to handle the bytestream (possibly by declining it)
    
    
    20070925171325-53eee-6992702fd430ee281ce226b93c18d5c61580cb34.gz

commit c41791e59726868f78420266568f973cd2fef78e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-25 17:13:08 +0000

    Make gabble_tubes_channel_bytestream_offered decline SI tubes internally
    
    
    20070925171308-53eee-a522c23527b64a8344b36604ae5c5103a706c219.gz

commit 99af5d481a18af8a7d11b33a5286db51b268b9ac
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-25 17:08:02 +0000

    test-si-tubes: assert that dbus-name is not emitted for D-Bus tubes in 1-1 context
    
    
    20070925170802-53eee-4120f2531d3fcc4e739cc9b4d016abf88e66e363.gz

commit 112d7073a9eea7d669fbac85afa7624732c7cac8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-25 16:51:14 +0000

    Correct cut & paste error: _handle_si_tube_request should add a tube, not a bytestream
    
    
    20070925165114-53eee-03e821a11bf632f5f771fdc52df6a8749b13b4eb.gz

commit 8e72a662e15706c9ac4cea6612946da37b9815b2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-25 16:43:53 +0000

    Fix syntax
    
    
    20070925164353-53eee-59020a130783f86a5c70283b7585a9a1b1954c8d.gz

commit 75460bfc5be28a8f1e13a6af9fea4298376fc42c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-25 16:42:18 +0000

    Guarantee that gabble_tubes_factory_handle_si_stream_request and gabble_tubes_factory_handle_si_tube_request always handle the request (if only by declining the bytestream)
    
    
    20070925164218-53eee-9397e82aa54c51944142b9b9bd84264215bde260.gz

commit f886074e7f0981fbd57a246f9beb9ec3d2c9dd4c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-25 16:41:45 +0000

    Guarantee that gabble_muc_factory_handle_si_stream_request always handles the SI (declining if necessary)
    
    
    20070925164145-53eee-52318405e5820265a5b70e2982dce998b8070269.gz

commit 88630698d580fd8eb1a0dd078ae05f70ce2b1b44
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-25 16:25:14 +0000

    Note that gabble_bytestream_ibb_decline should eventually become a method in some sort of GabbleSIBytestreamIface
    
    
    20070925162514-53eee-de09fa68aca35bf715b474632e014344e3cc56c7.gz

commit 3814b79e25976a1178664a80a1fef15bab30e7e8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-25 16:22:57 +0000

    Decline <muc-stream> if received in a non-MUC context
    
    
    20070925162257-53eee-d35aea5206c1bcfe4954252ff4f7880ebf60ebf1.gz

commit 87b4310145c924b45695a368219c89d4f6947778
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-25 16:22:46 +0000

    Properly decline IBB bytestreams on error
    
    
    20070925162246-53eee-5b98117f2e7119edc679ccafa7370fb8dff68208.gz

commit 70fa2a0822c2e6464f642c2abbac345a7ee0da5d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-25 16:05:04 +0000

    Make gabble_bytestream_ibb_decline take the XMPP error in parameters
    
    
    20070925160504-53eee-0d8072af319a1d48341211ff64bc302342704f2b.gz

commit 26f4123fcb0a95a9a54f5710a3470fbe04911ba6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-25 16:02:51 +0000

    Make gabble_bytestream_ibb_decline also close the bytestream. Make it extern
    
    
    20070925160251-53eee-4783ce2dd221646f5b52a059ca5f9b729ffa3339.gz

commit ecf641ed5c45db00a5af58b309183fb24ad07078
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-25 16:01:20 +0000

    Construct SI decline IQ using gabble_xmpp_error_to_node
    
    
    20070925160120-53eee-6f5ea9cbe43eef10c52043b96dcba769eed419fe.gz

commit e5dead0a652879bb606ffa6d27ddfaa7eb77f3b6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-25 16:00:23 +0000

    Inline gabble_bytestream_factory_make_decline_iq into its only caller
    
    
    20070925160023-53eee-4a12388f248b7c227ca4adaea2091cee7cac0169.gz

commit 103401eea7d604444b0d4d3370bb5da7ed4cee63
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-25 15:58:45 +0000

    Make gabble_bytestream_ibb_decline assert that the state is LOCAL_PENDING
    
    
    20070925155845-53eee-289c3f026495360b6bd1218e2de0193d238cfe1f.gz

commit 6c37f82692a092a42cfac25ba136063aef3baed3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-25 15:57:33 +0000

    Add comments indicating that my "corrections" to bytestream rejection handling were in fact wrong
    
    
    20070925155733-53eee-bde70219c3e7808bc3a808da4f70812aa5d21349.gz

commit 013dcec97709a9e7bd1bdcce81d986266213ae95
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-25 14:47:08 +0000

    Trivial comment tweak
    
    
    20070925144708-53eee-dd395a12dc26b70f78dd7d96263d4194df00413e.gz

commit 63ac55b28624bbe6ac81476df8793d9ceb2a1480
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-25 17:47:11 +0000

    tubes.xml schema: tube IDs are unsigned 32-bit integers (xs:unsignedInt)
    
    
    20070925174711-53eee-a37705cecd8217371af2d14e88309e746104d780.gz

commit ebc941da6204070eb62417102c5315270b1f0104
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-25 13:57:34 +0000

    tubes proto-XEP: include test cases for the unique name algorithm
    
    
    20070925135734-53eee-2f89b4e1d68237121815132b878c800682aec633.gz

commit 7f21ad2b6a7cd0a75643c354efa2c5c8c7e52afb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-25 13:39:07 +0000

    Tubes proto-XEP: make it completely clear that we're not using sha1_hex() or equivalent
    
    
    20070925133907-53eee-a89a07913fbda66a4391bd098e13a094eddc025b.gz

commit 70874d802a528a7031b2269503c44c18fe84f1bc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-25 12:42:45 +0000

    Add current drafts of tubes-over-XMPP to the docs directory
    
    
    20070925124245-53eee-7b46de69bcfa0e01a0df6a727921d70277edc74e.gz

commit 9776c3a3c7442a1952b4aa61845ecf1b0362b57f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-25 12:42:23 +0000

    Add a docs directory
    
    
    20070925124223-53eee-4d631c952d383012ea6cb87a25cca361cc826aea.gz

commit 33e9996b3177dffb8402d9ca5c73a48b50807631
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-25 17:37:23 +0000

    Merge gabble_connection_dispose with HEAD for the n'th time
    
    
    20070925173723-53eee-dfc57af1a1055f130ef2d75914ee02ac7d3a215c.gz

commit 65d4b243c4176e2bd368b3221c99e5063b1aa883
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-25 16:20:01 +0000

    tube-dbus: check D-Bus validity if it starts with ":2."
    
    
    20070925162001-7fe3f-83c336a86dd1e8a2631d6288dbf56ee95f3c8092.gz

commit 1beb22ab67c62ed471014f07d94dcc8ee794d723
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-25 16:02:38 +0000

    tubes-channel: only emit the DBusNamesChanged signal only if the mapping was effectively changed
    
    
    20070925160238-7fe3f-3202c6d3d9087585d82ebf75354f9062fa92a25c.gz

commit 27f4664e20aac1a1482baab81adfd2436c55505b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-25 15:58:12 +0000

    tube-dbus: ensure dbus-names is used by muc tubes only
    
    
    20070925155812-7fe3f-e1b36be5ed995bd0a4e9059c04a570838f9ef272.gz

commit 442e4de5facf00bb06d66c0dc1a669fefc6f2290
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-25 15:47:20 +0000

    tubes-channel: Don't modify D-Bus name mapping in 1-1 tubes
    
    
    20070925154720-7fe3f-232984bf03b8ea1b9fb445f5e53c694ccda19981.gz

commit c25a8a4e021a7aef1b3e501ddd8cbd253281c4f2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-25 15:22:26 +0000

    tube-dbus: generate and use the D-Bus local name only for muc tubes
    
    
    20070925152226-7fe3f-6302f4ff709d6ff83aef6189b2dfc32484d9085c.gz

commit 0c42c2c6f06e87b3f5981839fcde941926950500
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-25 15:14:12 +0000

    tube-dbus: use _gabble_generate_dbus_unique_name for muc tubes
    
    
    20070925151412-7fe3f-0bfcd575ef003218092cf2cae6621b7203a57953.gz

commit 6b44d3ceb453627f7582cebeabce96227814e438
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-25 15:12:12 +0000

    tube-dbus: fix a leak and remove useless GString
    
    
    20070925151212-7fe3f-35d890d865506291f0e3e8778c61dfa94a848872.gz

commit d080322a25abf016fdc3cd9bc85e5c21a2c58293
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-25 14:33:19 +0000

    gabble_tube_dbus_add_name now returns TRUE if the name was properly added
    
    
    20070925143319-7fe3f-ef98b7eb610680b5a9f16a6d90497d8f018cfdf0.gz

commit f8130ad88c48e28c6e1c9f69d9ad9697bc2a1977
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-25 14:00:46 +0000

    add and build tests/test-dtube-unique-names.c
    
    
    20070925140046-7fe3f-1dce1fe52c5afda11ea1cad256dfb141434227a6.gz

commit a71b19fef2c506949ee5a1206b8e9d56094e857d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-25 13:59:08 +0000

    tube-dbus: add _gabble_generate_dbus_unique_name function
    
    
    20070925135908-7fe3f-5beba79e4ba98f8379165277cf7b67c2bab32d58.gz

commit 4725771b9b8fc395a129c94a2610b37a292a207c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-25 13:58:37 +0000

    util: add sha1_bin function
    
    
    20070925135837-7fe3f-460b50598476908aaec1c517b64b07c28059da9e.gz

commit 45b286865862880995cc859daf8ef5e1f17624c0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-25 12:24:40 +0000

    add a "split_lines" argument to base64_encode
    
    
    20070925122440-7fe3f-7a1dfa5ed82a34a14c3c7316b010908c28a9aaeb.gz

commit 12e12c374202e7c2d3ae9c4027ff8959b74a2d14
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-25 11:15:26 +0000

    fix tubes functions declarations style in headers
    
    
    20070925111526-7fe3f-35d56b4ded3a9109206e9111aa203a8310e420fc.gz

commit 2ca4b08407bb281cde3389558aace3cef43e43ff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-25 10:30:06 +0000

    update tubes tests due to XMPP protocol changes
    
    
    20070925103006-7fe3f-8402c996a85aed959cb5e482f8aa36d9202ee367.gz

commit 3f7e5acb3e2ddb0b9fc9d9f63a35e6a64bb5d1bf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-25 10:20:54 +0000

    implement new stream tubes extra bytestream protocol. Use <stream> and <muc-stream> instead of <tube>
    
    
    20070925102054-7fe3f-fdf040637a688b41340bcf5b1d54b65109a4394f.gz

commit 55fce8b19c13b09fc8f0920c20a8cc51065dca24
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-25 08:13:44 +0000

    remove the "offering" attribute in tubes SI request
    
    
    20070925081344-7fe3f-d00dba993257b39ada38d9bf22450bf0f3404288.gz

commit aa056abcd9c5814c8a5acbf9ace6bd6b68933d2c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-24 15:04:02 +0000

    update tubes test to fit new tubes SI profile NS
    
    
    20070924150402-7fe3f-b80da7c88fee5bddedc08a0667ae879d02ca8a48.gz

commit 07655cec90ac56b6266ac82acfc60eef25885b5c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-24 14:57:05 +0000

    drop NS_SI_TUBES and NS_SI_TUBES_OLD namespaces and use NS_TUBES as SI profile namespace
    
    
    20070924145705-7fe3f-5d950d80b1a138c07380d3e76fcba320ff7b6131.gz

commit b762345830c8646693383eaa3f3243c17e10f421
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-24 12:44:20 +0000

    bytestream-muc: add "complete" as default frag value
    
    
    20070924124420-7fe3f-46871e372a6268405370a48d2856d5343143ef8a.gz

commit ab7e949d4aa425640aa23eb22bcdc81ab7f5e48b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-24 12:22:37 +0000

    tube-stream: no need to explicitely cast gpointer to GValue*
    
    
    20070924122237-7fe3f-28de6d75d5e746147f162243434b0cba16cfd658.gz

commit c40822f555a3259be58f89cde5361f52e7e24b14
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-24 12:18:43 +0000

    tube-stream: remove one deprecated commented line
    
    
    20070924121843-7fe3f-a4b83763ea86f3180af8a2c792cb893a2beaf506.gz

commit 76111bb71f0b3b0422cd94ff90e2cdb57d177b7b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-24 12:16:55 +0000

    tube-dbus: use priv->self_handle so we'll use the muc jid for muc tubes
    
    
    20070924121655-7fe3f-2fdc7641621e57be3cf81f3c854ba5afb9f09a88.gz

commit 13815aa999bf70db6c2d39d3c6e1487245e49e7d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-24 11:24:38 +0000

    add stream-tube access-control and access-control-param properties
    
    
    20070924112438-7fe3f-47853d9df02b56a5b97f344b7ec4edb21bf5f5a1.gz

commit 06c18983035ee4844ab6aa40105606c963239b38
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-24 10:50:34 +0000

    rename gabble_tube_stream_check_address  to gabble_tube_stream_check_params so we can check access control too
    
    
    20070924105034-7fe3f-604bac23e79bab72e5681795926486c00f407bd0.gz

commit 114021ca0cd7a2e8589569cbfadeb2d63f74087d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-24 10:10:08 +0000

    move stream tube address checks from tubes-channel to tube-stream
    
    
    20070924101008-7fe3f-a68ce237c7a0f9971a8d4ab0cc7aff5a2f5e48c4.gz

commit c5cd57844a487efb73eff618d2b0cd308676e670
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-24 09:14:59 +0000

    tube-stream: remove get_unix_socket_path as we don't really need it
    
    
    20070924091459-7fe3f-ffd4689b026a03f5780b4a63545f5e52178d13da.gz

commit cee8463d386a46ccd263c11fc50d8dc1a1abd37a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-24 08:42:16 +0000

    Add "address" and "address-type" properties to GabbleTubeStream as that's what we use in latest spec
    
    
    20070924084216-7fe3f-946922df8bbd330e5817619e0a53e3bb1149cc04.gz

commit b96ecb0ceff9f2b567078d8d1c2ca32606c52442
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-21 09:11:13 +0000

    tube-dbus: use the jid to generate the local D-Bus name so we shouldn't clash with other bus names
    
    
    20070921091113-7fe3f-c809b5af8128cd36bda42182decdc77ab18c90cd.gz

commit 6bc877a26a706f98bab9390bfe28ab2104f5384c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-20 11:10:32 +0000

    bytestream-ibb: fix debug message
    
    
    20070920111032-7fe3f-56a293fe3840594adf7a7824e50fcb787cd5cb73.gz

commit c2bd5aafee936073b80b24be677ef6c70d8d279e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-19 13:21:29 +0000

    bytestream-ibb: implement stanza fragementation
    
    
    20070919132129-7fe3f-ae9c9a9eec79adbce14e11a5be501c7e137d56dc.gz

commit 6a7a69b0981535f2209fb94a96a6be330f7b0c41
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-19 12:38:19 +0000

    bytestream-ibb: don't hardcode block-size in open IQ
    
    
    20070919123819-7fe3f-fb8dda21a42408a19f631d6ed7d84068412446ba.gz

commit 279a30789e5032d23b5d394732e19ee7ca76e422
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-19 12:31:05 +0000

    handle_ibb_open_iq: parse block-size from IBB open stanza
    
    
    20070919123105-7fe3f-1e984e076f55ee87cbb98e9d960331306850ae27.gz

commit ed37dd04e94f4ab50d4031fdadb8738f98ff93c7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-19 12:30:05 +0000

    bytestream-ibb: add a block-size property
    
    
    20070919123005-7fe3f-290675b90a65c966916423894834f0b2c62a60d6.gz

commit 488d51ad7993a218bd9ec0b585a9984032975e38
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-14 16:03:50 +0000

    test-si-tubes: test that we can receive (possibly fragmented) messages over D-Bus-over-IBB
    
    
    20070914160350-53eee-75ea6e2f66d43b3c01c1479078fc549aa5d6a198.gz

commit fbc4e9b98145cfc92dc9b3fae85fede80bfe3fc7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-14 16:03:22 +0000

    Fix D-Bus-over-IBB message reassembly
    
    
    20070914160322-53eee-15f662ab837f8718a61223ec18eeca4967c0cead.gz

commit 9f4a28bf2914d8c3c7aa1a40e4343240a7f2689a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-14 16:03:05 +0000

    Assert that the reassembly buffer does, in fact, exist
    
    
    20070914160305-53eee-51d9a45f530ba45d10d21a3b979182485c1609ce.gz

commit 015c4e496813c8d4986d09d4274b639db27ddb71
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-14 15:42:02 +0000

    Don't bother checking source or destination addresses for peer-to-peer D-Bus tubes, only for MUC D-Bus tubes
    
    
    20070914154202-53eee-b703f0b93044ea39656f4f888368ba3a94c01311.gz

commit 10678fe5468e2c1513d9b7ded45c5232d21a5fd3
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-14 15:02:46 +0000

    Allocate the reassembly buffer
    
    
    20070914150246-53eee-6c18edc095a76d5ab38fb5d96df25a7227281b0c.gz

commit 8823e1b9ff5d0c4feccb63cfe9f4b95d0429f4eb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-14 13:01:47 +0000

    Use libdbus #defines for protocol constants
    
    
    20070914130147-53eee-ad8594122a5f9628c8878969b0be9d869bdc525d.gz

commit 4df2b2f3e1d7a66cf22af32aa6192f4fff02241a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-14 12:53:09 +0000

    Merge with Guillaume
    
    
    20070914125309-53eee-f2a4d2bce8e32ce5f1c563f870d98317c0641a58.gz

commit 8d6275ba676feb46353840a6a226f99aa061ad2e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-13 16:23:32 +0000

    Reassemble D-Bus messages in IBB tubes, even if IBB message boundaries don't align with D-Bus message boundaries
    
    
    20070913162332-53eee-a03f70a6b506d9423d8acd0608484e15d51ffab0.gz

commit 9638746863bc44c9cb16e41c23eb06f7709109cb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-14 13:18:05 +0000

    gabble_tube_dbus_add_name: check if handle/name wasn't previoulsy added in hash table before inserting
    
    
    20070914131805-7fe3f-ec7b0e7ca9266ec1d676a6966c0aaaeb49f2016f.gz

commit c810e3af488421d2f54cc3b70aade86cfaa1bd59
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-14 13:11:53 +0000

    tube-dbus: make dbus_name_to_handle use dbus_names's copy of the "name" string
    
    
    20070914131153-7fe3f-e847dec9e181a1eda3f02cba0c7fef14edf664e3.gz

commit dc1d0a703a21965b27c7a20688ee61bf8c9a9b78
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-14 12:57:28 +0000

    tube-dbus: rename DBUS_SERVER_LISTEN_MAX_TRY to SERVER_LISTEN_MAX_TRIES
    
    
    20070914125728-7fe3f-e26baad7b015cc1eb62041e355ecd2ab9161d917.gz

commit e55c496e8e6664fa8b7157adbb8bd6ce2181eae7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-14 12:28:27 +0000

    print the D-Bus error name too
    
    
    20070914122827-7fe3f-eaef347a369dd3e9effa8486ecf6db884ebccf3c.gz

commit 8e778b71cebe1b57969289efa267730510784ec7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-14 12:15:11 +0000

    tube-dbus: fix DBusError usage
    
    
    20070914121511-7fe3f-52593b60ec0d362094822f501653f27d5a3fa6e0.gz

commit 4d891f147e1bc5b87b480e30009b08d05fc4a8fa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-14 11:00:28 +0000

    tube-dbus: store the path of the UNIX socket instead of parsing the D-Bus server address to find it
    
    
    20070914110028-7fe3f-624bcafcc92bef878d38276f2855f4e2d0200676.gz

commit c29d1b40ae74667763eedf0582e3cfb8220a5335
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-14 10:49:34 +0000

    tube-dbus: rename dbus_names_reverted to dbus_name_to_handle
    
    
    20070914104934-7fe3f-4ab97859b2904b9073497592d33d1abda7b41d7c.gz

commit 6a4ce936f6b64b170568267a4df7625c6450a8e2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-14 10:03:32 +0000

    tube-dbus: retry with a different address if dbus_server_listen fails. Close the tube if we finally give up
    
    
    20070914100332-7fe3f-9301fb0f82d400d22042bf196dbe00da9746401a.gz

commit d58fca21b4b6d2eb9baf88a00e523da3772fe671
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-14 09:38:54 +0000

    tube-dbus: keep a dbus_names reverted mapping so avoid a O(n) lookup each time we receive a not broadcasted D-Bus message
    
    
    20070914093854-7fe3f-428bdca844ed29340e28f7f816b8318a1c8ea8e7.gz

commit 156cc1da83b7a43e61d18d2c70b43c57e7b82d1a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-14 09:19:09 +0000

    add gabble_tube_dbus_handle_in_names public method
    
    
    20070914091909-7fe3f-a72c2e7ce9627628f3bd441de33d4f637b34c8ce.gz

commit 4c00a66ea546b82f5674d7997f5a8a2916fda407
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-14 09:01:27 +0000

    add gabble_tube_dbus_add_name and gabble_tube_dbus_remove_name public methods so tubes-channel doesn't have to directly modify the hash table
    
    
    20070914090127-7fe3f-3a658b82fb78fedb7298fae3d7c8ec9d2c132a62.gz

commit b0408796b3e37e72c0c21812c5d3fc424fff3b58
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-14 08:24:05 +0000

    tube-dbus: unlink the unix socket when disposing
    
    
    20070914082405-7fe3f-27665f0d7dc59050d09397ec02a8b3b21b15a58e.gz

commit e1387e977a104ef854f1252f997406432919016d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-14 08:04:07 +0000

    tube-dbus: use g_get_tmp_dir() instead of /tmp hardcoding
    
    
    20070914080407-7fe3f-7c49531405f5a597941e1fb54c6208fb95cf8803.gz

commit 300f1900353f1ba816fc2324ddc5342c2c0f13d1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-13 16:22:00 +0000

    Don't leak D-Bus errors; improve debug messages
    
    
    20070913162200-53eee-26d95b40c7077685bea8fd20eade6839247b4b26.gz

commit 2030a779eaf9602a48ef9d1051e85e26fe92555b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-13 15:24:23 +0000

    tube-dbus.c: add FIXME comments to keep track of issues
    
    
    20070913152423-53eee-6ea842a138d21f4776f1d8cc7daf1c6a59071c5b.gz

commit e30c5abea5fe3bde729c0cf7708f93f100cc9fea
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-13 15:23:42 +0000

    Explain in a comment how to do the necessary minimal parsing on D-Bus messages
    
    
    20070913152342-53eee-b58dd549797d99dd2e02058b5e414f251de977fa.gz

commit 31236984648009b756565ec92ed1d8d083151b2d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-13 15:15:00 +0000

    tube-dbus: don't discard echoed broadcast messages - the reference dbus-daemon doesn't
    
    
    Before merging this patch into OLPC builds, activities that use signals will
    need auditing to make sure they won't get confused by their own echoed signals.
    
    20070913151500-53eee-0dd24e28229533410aa6015cc422865d5e8b2cfb.gz

commit c1928cedd6796445385fd934040649d4fe95bbeb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-13 15:13:57 +0000

    tube-dbus: data_received_cb takes any GabbleBytestreamIface now, not just the GabbleBytestreamIBB implementation
    
    
    20070913151357-53eee-b8ea410ca0dce19937e72d3c9b29e70a0abbcd9f.gz

commit 4ea7bf402a7b27601908e2a6e6342642afc2717e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-13 15:39:59 +0000

    add FIXME about private-tubes renaming
    
    
    20070913153959-7fe3f-5ebcf52926aad6c3b00782e8c7a09a847e4023cd.gz

commit 76965daa95db074509e567ba222183fb30627848
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-13 15:24:58 +0000

    tubes-factory: raise "not available" error instead of "invalid handle" when trying to open a channel to our self handle
    
    
    20070913152458-7fe3f-e66eb22c26663464c70e681c1909b54132b7fbbc.gz

commit 0df57b4fc7292fef2ebde119be7b7a1ccf399758
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-13 15:03:45 +0000

    tubes-channel: emit the "pre-presence" signal just before sending the stanza so other components see something more closer to the final msg
    
    
    20070913150345-7fe3f-181cf4dfd1cb2fd0fe8896fe13a09840c125cc25.gz

commit 9f3ce6bed3ebfeb4291500b0a66d65d7f98356cf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-13 15:00:14 +0000

    gabble_bytestream_muc_send_to: check if the contact's jid contains a '/' right after the muc jid
    
    
    20070913150014-7fe3f-5cccef02cec6b7bb9bf72346bba4eb30af166d24.gz

commit 510defdd0bd58c10b29499931bc780003d681f55
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-13 14:42:36 +0000

    tubes-channel: disconnect the pre-presence signal when disposing
    
    
    20070913144236-7fe3f-4140f983039ebaef77ed0a23268d764885de163c.gz

commit f1ebe9ab2046a6919bdd8f13861df64502e047b3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-13 14:26:32 +0000

    tubes-channel: use the muc-channel to send presences
    
    
    20070913142632-7fe3f-7028c898ce4178b0d026a533d73a17504e4fb7ca.gz

commit 190f5ca9a465bd6d460f379d2ae1ee1e29f2188d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-13 14:16:45 +0000

    add a gabble_muc_channel_send_presence public method and a pre-presence signal so other components can extend the presence
    
    
    20070913141645-7fe3f-412e6f2f7fca30690b373e427b791b8f22f7045d.gz

commit 82c22fe1d27a16c7fec046fad37e2e8a71d31d0b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-13 14:09:42 +0000

    bytestream-muc.c:check if contact is potentially member of the muc using his jid
    
    
    20070913140942-7fe3f-c99224c14b2cb1cad5e4cef3eed985550db4dbbf.gz

commit 1d0eab2fa8af1149088166c575f377acfa3fbc25
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-13 12:01:58 +0000

    tube-dbus: filter_cb: rename the data arg to user_data to avoid confusion with the data variable declared in an if block
    
    
    20070913120158-7fe3f-7bf2af3b5378ea3e309d79cfeb515419ee48cce6.gz

commit e0ce93c2d67b6a05d4720ea8b34c67186b92a0d2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-06 13:01:28 +0000

    Merge gabble-connection.c: PEP aliasing vs. tubes
    
    
    20070906130128-53eee-edf01902a184306abc01d622e8406615781b023b.gz

commit b79de20a43353d5aa48825c7efc0d83330c6769e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-04 18:13:57 +0000

    test-muc-tubes.py: Port to new tubes API and protocol. Re order events to have test always working (hopefully!)
    
    
    20070904181357-7fe3f-ce6eaf790db5d06407a405ea85ceb2e437e76bfe.gz

commit 6079a266581ca606292fc78ea34415c801f1c4cd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-04 18:11:14 +0000

    test-si-tubes.py: port to new stream tubes API
    
    
    20070904181114-7fe3f-0dd66d3d9fb6dcf6df06633d83573a80820cee42.gz

commit 3c88ba7a2ae4215d737a165040ab811cda06bcc2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-04 13:22:52 +0000

    test-muc-tubes-oldapi.py: updated to use new MUC bytestream
    
    
    20070904132252-7fe3f-ac3c101fab859b63427a2560debff924392cc65a.gz

commit e66d1fc7d3394b61cc07567d56c83a94350567ed
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-03 12:55:58 +0000

    factor out tubes properties to tube-iface
    
    
    20070903125558-7fe3f-c7a2de30b29c027e700da89d271546a1e52db89b.gz

commit 3125a1379125793512e13eadf4b72991dcbfc2ee
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-03 11:48:34 +0000

    move stream-init-id property to bytestream-iface as it's private bytestream specific
    
    
    20070903114834-7fe3f-38349a3000f83a9f2d61d9bc993728c41be8b210.gz

commit 6f9cb4eb6187d9cc6a9edb721f8eb099d6d2ce8e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-03 11:47:34 +0000

    use tube's handle type instead of the stream-init-id to check if we need to answer to a SI request
    
    
    20070903114734-7fe3f-d563fe451caa59c9c27e4b0cc0d8cd1a0d1cb010.gz

commit dc194f1cf3cbadcb7c5bbb22c86268fe697fbc3b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-03 11:33:44 +0000

    move "peer-resource" property to bytestream-ibb as it's private bytestream specific
    
    
    20070903113344-7fe3f-677cf828c3cf438d221d891bc6298cb70355316b.gz

commit 0ead9c6cb15fecf112034e92f4fa4f0101c3d2a1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-09-03 10:38:06 +0000

    move bytestream properties definition to bytestream-iface
    
    
    20070903103806-7fe3f-12188193ae2eeaec38bc6ebc5496577a113735d8.gz

commit 24806a5939532a8c352a150154c360f1633f918a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-31 12:13:42 +0000

    use lm_message_build '*' vararg to get the data node
    
    
    20070831121342-7fe3f-7d96c34af361539f064d8e561541fc4e2f6b3afd.gz

commit 893a4d9b70aad1eb253c2712bd9b80bc5433ef58
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-31 11:53:09 +0000

    bytestream-muc: ref priv->peer_handle and don't dup priv->peer_jid
    
    
    20070831115309-7fe3f-9ebc747c9466d871955bfb1a327bb6625512e3b7.gz

commit 1363cfd5653938a3c2f1b3955e3f1d18019fc6f6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-31 11:52:36 +0000

    bytestream-ibb: ref priv->peer_handle
    
    
    20070831115236-7fe3f-cb69278ae860473313baf986fe95c54bd98f5781.gz

commit fb8542ece2cbee26cae434e1ffd02aa980c1709f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-31 11:38:35 +0000

    bytestream-muc: better priv->buffer comment
    
    
    20070831113835-7fe3f-b5e78f736f9769b6df11e6314a8b3a979b417ab4.gz

commit 72b400b0dfdde7ef3a6f428d3546b45c575ef65e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-31 11:36:14 +0000

    fix copyright
    
    
    20070831113614-7fe3f-2f4ef0476fdb4bdb2a7b43d99422201bd5815064.gz

commit 29035e42fb501dd3be4f816f107add7e2d6e93bf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-31 11:32:36 +0000

    rename gabble_bytestream_iface_initiation to gabble_bytestream_iface_initiate
    
    
    20070831113236-7fe3f-8e307c1fee987256419c399cb13f086b21a9dfb0.gz

commit ffcd4c8297d226533f03375874e727ee2527d864
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-31 11:27:17 +0000

    remove a deprecated comment in bytestream-ibb.c
    
    
    20070831112717-7fe3f-d64c14459edced60781cbf3b68d75abe3944643d.gz

commit 9ba076e1823b79660f16088df70794bdd3a91afa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-31 11:26:45 +0000

    gabble_bytestream_iface_send now takes a const gchar *
    
    
    20070831112645-7fe3f-97e9cf39b72a22339f1ac65a4f4924761bed8439.gz

commit 277b3344ac4dd3a906b3c09cc8ea5d8d0bc492cf
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-31 11:23:24 +0000

    rename LAST_GABBLE_BYTESTREAM_STATE to NUM_GABBLE_BYTESTREAM_STATES
    
    
    20070831112324-7fe3f-452721e7c081618bb345359e709c0048a7f0875f.gz

commit b72a56dadcbe3cab741dd4d7827ee25babb9301c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-31 09:34:42 +0000

    bytestream-muc: implement fragmentation
    
    
    20070831093442-7fe3f-dc899a97ef3ff5419da00e9211529e67e5ce1dc9.gz

commit 70b9cac849f4b4293192918ac1eee5feb85e5c64
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-30 15:50:02 +0000

    drop gabble_bytestream_ibb_send_to as it doesn't make sense anymore
    
    
    20070830155002-7fe3f-6b572f41b2eafac26401119308fb8f04ba65cf0b.gz

commit 63f3f8ddd29009a69525facc405a384d6ea67cfb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-30 15:49:13 +0000

    tube-dbus: check for BytestreamMuc to use send_to
    
    
    20070830154913-7fe3f-987c7231225a73c8a815259e5958e9f39aa99a45.gz

commit d1788145dcfb3fe6a0f583e3f12264ce0029f893
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-30 15:38:54 +0000

    bytestream-factory: add BytestreamMuc support
    
    
    20070830153854-7fe3f-09a5f84f1990f1baf0cd323266dccc2853571b50.gz

commit d6ca28f919933b0e02e8427558244823e7041f1e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-30 15:38:05 +0000

    bytestream-ibb: drop muc support
    
    
    20070830153805-7fe3f-e4e5091066805ebb7826809403b2ba70e72544eb.gz

commit 5363d968f411f7bb3a68fe42384e147b618d7e1f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-30 15:36:40 +0000

    tube-dbus: use GabbleBytestreamMuc instead of GabbleBytestreamIBB for muc D-Bus tubes
    
    
    20070830153640-7fe3f-a5ac9685c4003ef87903abff5bbf9b8a82c90bce.gz

commit b68c0eb48a859c13d6907c709d9f366c7e158480
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-30 15:35:51 +0000

    add NS_MUC_BYTESTREAM
    
    
    20070830153551-7fe3f-2ec0870645882070a4d0ba72cd4883df400a9fc2.gz

commit c4adcbd25f4a1f13644295967453cc085cecb30a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-30 15:35:38 +0000

    build bytestream-muc
    
    
    20070830153538-7fe3f-0ddc9700f788e81692526a93082bdb52163aec18.gz

commit 6815ce5830117ca71387f930af3cc250f12da36d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-30 15:35:16 +0000

    add bytestream-muc.[ch]
    
    
    20070830153516-7fe3f-c74c5b3129624b7feb2bcaad189da6f67c640066.gz

commit 07cc83be589a58124b4fb4798a0986b2bbd27a5c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-30 14:19:18 +0000

    bytestream-ibb: fix typo
    
    
    20070830141918-7fe3f-c09b32c4268bdc36ba3dd7fd7acea55f3b2f99c2.gz

commit 2894e7349821393df0cfd2cdb9c0c71357f698a5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-30 13:13:51 +0000

    drop gabble_bytestream_iface_make_accept_iq and use gabble_bytestream_iface_get_protocol to create the SI request (as in Salut)
    
    
    20070830131351-7fe3f-7061d48387ccd9815ac59f8d6bf096e245d587b9.gz

commit 1140e4e99623920c680dd4fbe68a6d2eaf43dad7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-30 12:36:46 +0000

    tubes-factory: port to use the bytestream interface
    
    
    20070830123646-7fe3f-f814d62d2f9499da08c5fb7e9dd63abf8d3e7ec7.gz

commit 9491848a198bfeebbf041cd68957401927303261
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-30 12:36:35 +0000

    tubes-channel: port to use the bytestream interface
    
    
    20070830123635-7fe3f-853df634ed1698ab57adeb44cfa4cc9da90a7f00.gz

commit bb6c7224489ef60fec203eaf7bc7b259b7419766
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-30 12:36:25 +0000

    tube-stream: port to use the bytestream interface
    
    
    20070830123625-7fe3f-373abef652a09ccbfd034ae5480bdefec98834e4.gz

commit 60f9795698e9f25abdef99c0f1f227ee5ee47bd7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-30 12:35:48 +0000

    tube-dbus: port to use the bytestream interface
    
    
    20070830123548-7fe3f-29014b9d883c469cc1f6527d681368500744d405.gz

commit eb14d27d4fe1f8854486c1ee91f684cdde12fdc8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-30 12:35:31 +0000

    tube-iface: port to use the bytestream interface
    
    
    20070830123531-7fe3f-79433198939678aa2e8464a9028bbb79af9f16ff.gz

commit a2166e2dbb082358defa50fcbcd17a6c75c566aa
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-30 12:33:51 +0000

    muc-factory: port to use the bytestream interface
    
    
    20070830123351-7fe3f-96873fc32b1beed6bb3ee8edff1f82517e08c264.gz

commit ba821fb104100e2ad7eec0678b2722349b23b27a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-30 12:33:22 +0000

    bytestream-factory: port to use the bytestream interface
    
    
    20070830123322-7fe3f-050d2a2f77ceb26f70bfcf6969edb4fa474899bb.gz

commit f609e37524d6da7624a6394ebaae6bb5ae4b6fca
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-30 12:32:44 +0000

    abstract GabbleBystreamIBB using GabbleBystreamIface
    
    
    20070830123244-7fe3f-6b9f0e5c9a4debecfa36434defa10e65c24eab5c.gz

commit 2076e83ee0f465239c5c3de2d691a97e29c1890e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-30 12:32:19 +0000

    build bytestream-iface
    
    
    20070830123219-7fe3f-49d71f5fe7c934f4dec0d2e7d46f7a76098b7dc8.gz

commit 7d154d80a7f14c80bb6b69313004d1f5b52c00e4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-30 12:31:49 +0000

    add bytestream-iface.[ch]
    
    
    20070830123149-7fe3f-0b3a19db2397271a7a1a69c77d69bd3dd7ff0697.gz

commit 824b6fdc733ab8f26868beea0a8112a8f5d60633
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-30 18:33:25 +0000

    bytestream-factory: streaminit_reply_cb: don't use 'success' uninitialized
    
    
    20070830183325-53eee-55e9c8a165978b0143b555ba0b60e1f57825af1f.gz

commit 4c3d5769de67eff08e8809a002514769ada3b49f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-30 16:28:56 +0000

    Merge tests/Makefile.am HEAD<->tubes (test-muc-alias vs test-muc-tubes)
    
    
    20070830162856-53eee-e42cf395560fc0df878511c11009ba32974b04f8.gz

commit 76afd9d3600d1a0ab0c3f19ab9f16b5a59fc30dc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-28 17:06:28 +0000

    Unix socket address have to be 'ay' as said in the spec
    
    
    20070828170628-7fe3f-c2b7fb5be7a48a1c32073b5c9fce889c250571a2.gz

commit 48152c81f2f17f7835b5ede7690cbb2d63c798d7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-28 16:33:51 +0000

    re-implement deprecated OfferTube, AcceptTube and GetDBusServerAddress to be backward compatible
    
    
    20070828163351-7fe3f-7e8157e2a160167b7fb98f7a46c2ae29a9a6cf9e.gz

commit fb658db0c809d02df9c22aaa57d25875a2f29c02
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-28 16:18:46 +0000

    implement GetAvailableStreamTubeTypes
    
    
    20070828161846-7fe3f-b93e1f7604692deff73108183666161c129e4679.gz

commit 3dbc5a4f775e6692d041d48788c8407e1f2eea80
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-28 15:59:02 +0000

    update tubes-channel implementation to fit tubes spec 0.5.15
    
    
    20070828155902-7fe3f-e15fc0e5f1e66e6a1b7a0945d2b36bd7ad24a490.gz

commit 971e3c69b56eb749f6fdcc8193f149e30258f584
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-28 15:48:39 +0000

    update ./extensions/Channel_Type_Tubes.xml to fit spec 0.15.5
    
    
    20070828154839-7fe3f-a60f1d4930e50ab7426c12961d0456c103d58ecb.gz

commit 2bc279c7b9c8368c582ce74e826920a2e200142b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-28 15:19:57 +0000

    when handling IBB data, check if we have a muc channel having the room handle
    
    
    20070828151957-7fe3f-3c059b6724dbed9f77d868fffb949a61011e6e0c.gz

commit 1d56e3f43f05cb4d58cba0d0ce386fb88954ce21
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-27 13:57:08 +0000

    update tubes to fit latest API
    
    
    20070827135708-7fe3f-7609018a07321e893347ba217e8bc39b058a91ee.gz

commit 0606c40110855bda9514f58eeeb068ad8b3b2f31
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-27 12:38:33 +0000

    Channel_Type_Tubes.xml: re-add OfferTube for backward compatibility
    
    
    20070827123833-7fe3f-4993f83b5bb3eb1a82d110887a1035cd2fde3eac.gz

commit edc840168399dd6de6c86e5e3562204078689f1f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-27 11:42:20 +0000

    update extensions/Channel_Type_Tubes.xml
    
    
    20070827114220-7fe3f-a0795f3923e45a576af8bd46a15d2f9a3731695b.gz

commit 22d2e750125a6bf3d0d1476f1036538136ada991
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-27 11:30:32 +0000

    bytestream-factory: when handling IBB data, always look for the bytestream in ibb_bytestreams if we didn't find it previously as datas coming from a muc contact can also be in a private bytestreams (as in muc stream tubes)
    
    
    20070827113032-7fe3f-fb056d70fcdc2de838349d584ae2181edae7a9dc.gz

commit f97cda01d6226285437d6046cfa1173907674eb0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-27 11:18:25 +0000

    add the jid in the debug output when creating a new IBB bytestream
    
    
    20070827111825-7fe3f-217fdfd2e34097383dffb914686630f43d489b62.gz

commit a46212ed30a7ab72cef0265211e0c355d236531c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-27 10:50:36 +0000

    tube-stream: move the tube markup from <iq> to <si>
    
    
    20070827105036-7fe3f-032f69a169ed01dd1618a69c1957ccee627e9e1e.gz

commit bd441b244d85998efa469253102510f2a0ba233f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-27 10:26:11 +0000

    when handling IBB stanza, use the room handle instead of the groupchat subtype as we use private muc messages when it's possible to save bandwith
    
    
    20070827102611-7fe3f-5512d5b8f6f6114de0961ad1e88de4c3938e3076.gz

commit 034b7773d2e526ae42616e85f295651e263ead11
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-16 16:00:58 +0000

    Fix thinko in assertion
    
    
    20070816160058-53eee-367fb0b56334f619857632c1de2ea63b7a0526e3.gz

commit 002017a5aedd406d5c7b126b0b7dd5ab4dff86ba
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-16 15:15:59 +0000

    gabble_tubes_channel_tube_offered: assert that the message is an IQ with type="set"
    
    
    20070816151559-53eee-37eb3b6535c48273f54ca98141e38e5b40f987e0.gz

commit e6eb176b44a7ff26cc526f4119bd6183b36eac3a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-16 13:03:08 +0000

    Upgrade invalid handle passed to gabble_muc_factory_handle_si_request to be an assertion failure
    
    
    20070816130308-53eee-739fe885c41a5870c2d56a124964ef45c4f78236.gz

commit 7f85e7ff4ac83dadc8ca5527631129057c8a0d57
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-16 12:55:26 +0000

    Return an IQ error if an SI request happens and nobody cared
    
    
    20070816125526-53eee-7126605730120511ee6e78d2b29bace9583b617e.gz

commit a96ee72abd7f31b73b2bf972a73b3e65c937b4c0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-16 12:50:10 +0000

    Make it explicit that gabble_tubes_channel_tube_offered expects and asserts that the message is a SI request
    
    
    20070816125010-53eee-8fc2f322e3559d34c69403c62cb2973ab5a5a3c2.gz

commit af93a62a20514edb76f598f7579d9094af5d19d1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-16 11:49:19 +0000

    Stop using old tubes namespace
    
    
    20070816114919-53eee-951d1e624669b5221044419486aa4fad2aff8315.gz

commit 6b5e6b4186ab580a29480ae0b95fbff3c5ebf808
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-15 17:23:00 +0000

    bytestream-factory: In streaminit_reply_cb, close the stream on errors
    
    
    20070815172300-53eee-30a8fe61e0a2bd107deb25abc0d88fe75434f019.gz

commit 39ad2a8c30ec91df9ed2ecdab5f8b55ea4cd964a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-15 16:59:25 +0000

    bytestream-ibb: in gabble_bytestream_ibb_receive don't bother checking correctness of sender - caller should already have done that
    
    
    20070815165925-53eee-f28501997c524d988e09c75ecbe1c5df7874af16.gz

commit fe60b4c87e92585346a45d383c2e27f5190e82f7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-15 16:49:31 +0000

    bytestream-factory: dispatch IBB according to (handle type, JID, stream ID) tuples rather than just by stream ID
    
    
    20070815164931-53eee-8ac911ecae154cee33d146630380219641d46a0f.gz

commit cfb9629245f12625e25fda290c9d7fd007415cf7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-15 15:57:08 +0000

    Give GabbleBytestreamIBB a readable property peer-jid
    
    
    20070815155708-53eee-8fb21e9b2440aedee8149e838d67601b60568c0b.gz

commit 177fed96904153cff8b687356eaa4db90c7afc7a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-15 14:38:01 +0000

    tube-dbus: gabble_bytestream_ibb_make_accept_iq can't return NULL unless sanity check fails, so make non-NULL an assertion
    
    
    20070815143801-53eee-4489e0dc90138dcd85889bb378e476c54e572c5c.gz

commit ac513e3612cb0cbf0751b9a559b6531387eaf275
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-15 14:37:35 +0000

    tube-dbus: trivial grammatical fix "not intended to this" -> "not intended for this"
    
    
    20070815143735-53eee-f8942b2c3a3d8a88f41a88fd666c9e47b5428d45.gz

commit fe5ae6c4de418c482f34f6033ee3aec5dd799fb4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-15 14:37:11 +0000

    bytestream-ibb: gabble_bytestream_ibb_make_accept_iq: use g_return_val_if_fail for sanity checks
    
    
    20070815143711-53eee-876b8a1d9a2f6816989d918bce1a1a7652a17767.gz

commit 174447f869037f3e369937a0e6f5f13cca1b21b6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-15 14:36:55 +0000

    bytestream-ibb: re-order #includes
    
    
    20070815143655-53eee-2f9d1110a1eb13975c9db081e72a5d1caf4b7131.gz

commit d99ff578a18f53d087f9151569e19e177f7dda8c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-15 11:16:21 +0000

    Add a test case for the old tubes API (as used by OLPC Trial-2)
    
    
    20070815111621-53eee-46f43c8f863eda45a6329f44616ac64a02cd60cb.gz

commit a031bb28cf0707ce5eda349fa17f53cfb632afc8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-15 10:31:11 +0000

    Implement the old OfferTube method so this Gabble can be used with old versions of Sugar
    
    
    20070815103111-53eee-81e2d6d34d1157ac0eebd01959fd606e92b62b20.gz

commit de22a33a4593fcd0fdc296af66cb29b88acfd93c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-15 09:49:09 +0000

    Add note to OfferTube indicating that it's deprecated
    
    
    20070815094909-53eee-7175a10b93a01b9f334c515916e33028452d2075.gz

commit a9a14043dab9c646b2a2e24a16d36d16abd4a9f0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-15 09:46:05 +0000

    Add backwards-compatible version of OfferTube to tubes spec copy
    
    
    20070815094605-53eee-1a1004399334059d7408bca6ff569a1592190bab.gz

commit f5660351bdd24b4b9e5f5d745301ab8bce2bfc08
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-14 11:53:25 +0000

    test-si-tubes: oops, use self_handle instead of tubes_self_handle for global self handle
    
    
    20070814115325-53eee-a8a528defa651b8781ef3df98552a13fc35320e5.gz

commit d25c929ae12492887053913de97b9c04ccc8f94a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-13 19:29:40 +0000

    Merge tests into one for SI and one for MUC
    
    
    20070813192940-53eee-18a69efa864e57ce15d2c97dc6dd7a6ec7dd964c.gz

commit 21ff03e7d8a570f14eca628ff54bdcdec546dd3a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-13 18:58:09 +0000

    Fix declaration of TWISTED_TESTS
    
    
    20070813185809-53eee-82f3acef51c6fe4b47ba029f271797b268738f6e.gz

commit dccde2e25ab0ca91442e3e01dd339d040e38dd33
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-13 18:57:09 +0000

    Add stream tests to Makefile.am
    
    
    20070813185709-53eee-26615a685eea58131721a1e36e443b3583b224cb.gz

commit 3e448a2bcc80a01a58a996a4b9fcbb59d90333d2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-13 18:56:15 +0000

    Add a simple test for Stream tubes in a MUC context
    
    
    20070813185615-53eee-56ee9999f1b79c3b4d2bd1a597b1a858c115d583.gz

commit 09741d1062576007463194c930e1278c0cdf2266
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-13 18:46:14 +0000

    Add a simple test for offering stream tubes
    
    
    20070813184614-53eee-d5b75137d0fdf78bfb14585c6155535f4e069f5b.gz

commit 3489b239a26763fdf7257e73ae1883e7acdaa8ab
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-13 18:45:40 +0000

    tubes-factory: gabble_tubes_factory_handle_si_request: don't accept invalid handles
    
    
    20070813184540-53eee-ec4ea1ca43bb873b5a65c16652a35f09bbacec30.gz

commit 224e257b8654d15979491fb49043ed7a6c1d1ca8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-13 18:44:12 +0000

    Fix addition of streams to SI tubes: accept either NS_SI_TUBES or NS_SI_TUBES_OLD, rather than requiring the protocol to be both (which is impossible)
    
    
    20070813184412-53eee-07a931b7310cc2766fd80d26238ed755fc2174c3.gz

commit c3b1a2772112188aeed18ab56099fae4580db232
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-13 16:16:39 +0000

    Add simple test cases for offering D-Bus tubes in MUC and SI modes
    
    
    20070813161639-53eee-6365059eabddf0d8a2a5903c7daa2bde04799a47.gz

commit 749d3510faa09f39f536887e5cc830905c6c65a2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-10 18:33:26 +0000

    bytestream-factory, bytestream-ibb: make sure we reply with *something* to all IBB IQs, even errors
    
    
    20070810183326-53eee-e8c703a318e268858be34704fb2f9d74de5196bd.gz

commit 47f400067d524d31a1a6d12294a56eeeb0c28f13
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-10 15:43:12 +0000

    tubes-factory: make comment less misleading
    
    
    20070810154312-53eee-84b4cc09738eb1236be41abeecd8f52de42b5ccf.gz

commit 91ba51c21163a4684ea3cfceb3616dd43d352f1a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-10 15:43:08 +0000

    gabble-muc-channel, muc-factory: declare gabble_muc_factory_find_channel in a more appropriate place. Also reindent gabble_muc_factory_handle_si_request declaration
    
    
    20070810154308-53eee-c06005d3d5314840cee0548718f679070c52fda0.gz

commit 8b7305b7f2f622e8bb4177b24ff78601fd8e3385
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-10 15:37:41 +0000

    tube-dbus dispose: move assignment to dispose_has_run to the top. Don't check for NULL before calling g_free
    
    
    20070810153741-53eee-abaeff07829b64b787af418a1ed44062bb0aae0e.gz

commit d3c51d2d0d8600ddbb659740e5bb4c6d2aae0913
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-10 15:35:51 +0000

    tubes-factory: use GUINT_TO_POINTER for handles, not GINT_TO_POINTER
    
    
    20070810153551-53eee-01361c3fbbffde7b8b15ca87c3a8621d8933bcb6.gz

commit 3d3821378a60de5ed3a1acc6c261ccee45ab59c6
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-10 15:34:52 +0000

    Replace ungrammatical variable "readed" with "num_read"
    
    
    20070810153452-53eee-1d6cd8c7d5d058a08b9dfeb9244a17ee6c09602b.gz

commit 531a2f144b13f91f95801bdf75f8a45fdf7cfc19
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-09 17:43:02 +0000

    Make it explicit that gabble_muc_factory_handle_si_request takes a ROOM handle
    
    
    20070809174302-53eee-6d2ae14840ae5c4a5307c9f6270496f277be00b2.gz

commit 980848c8afa4748cec61caaac0a032c3c5a7e5ff
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-09 14:41:32 +0000

    gabble-connection: re-indent g_object_new arguments
    
    
    20070809144132-53eee-46e13905895e8d88666836e9f5ec5701ebd7498a.gz

commit 764817361c6c1dff7d04bd0df5fa398c8d0e82b9
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-09 14:41:16 +0000

    gabble-connection: re-order #includes
    
    
    20070809144116-53eee-f1df4643025d5bdaa86db47028c64b8718666a48.gz

commit 0c06a0dcc4a281f3f3c896938cd6d2f0fe633d16
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-09 14:38:51 +0000

    Make it clearer which references are just borrowed from TpBaseConnection
    
    
    20070809143851-53eee-70fc70f7eed3caafeb2f72109ff72617ab126d88.gz

commit e555669dfa77dd174fef32755f8f2c9282f03f98
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-09 14:30:56 +0000

    Cope with SI IQ having feature negotiation fields that aren't stream-method
    
    
    20070809143056-53eee-cd725b677ae02a96e2ca59bb7e6d835c143a7fca.gz

commit 6d9998a3ca52cd662a7fc5d9da96788df784ec09
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-09 14:06:17 +0000

    Don't set mime-type in outgoing SI IQs - the default is application/octet-stream anyway, and if we ever implement file transfer it'll want to change the MIME type before sending.
    
    
    20070809140617-53eee-387b399ad15dadea2b97fb6dcad13fc34ae34df5.gz

commit 54443b45877afe9e7a77f657767e59b4c2ef6758
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-09 14:02:21 +0000

    Amend comment to observe that "binary/octect-stream" is not, in fact, a MIME type
    
    
    20070809140221-53eee-f08c165e776035e31153551624e3ab1bb90ca2ed.gz

commit f9fd5ba18681c43089e0a0b608717a73d9a7e2b1
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-09 13:50:32 +0000

    When handling IBB "open" IQs, return error messages where appropriate (final part of Rob's patch)
    
    
    20070809135032-53eee-4e3006d3b78d4cdf8cca855667e4739f26e6228f.gz

commit 46cd6a0bd2e39db79482031bbcf43ea2b134359e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-09 13:49:54 +0000

    Don't bother checking in streaminit_parse_request for things that have already been checked (part of Rob's patch)
    
    
    20070809134954-53eee-8ccf2edb4cbaf6ad036dfd1659b923148f58a2ea.gz

commit 4e8b3d7577fd0b4c77008197c4e2951ab1675414
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-09 13:39:23 +0000

    Fix some bits of Rob's patch where the underlying code has changed since the patch was made
    
    
    20070809133923-53eee-f58488e1542e5c4b77c4016ecb55ef448bce7460.gz

commit 5af331f5bd9dea23ef4273428c58c87eeb881921
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-09 11:42:47 +0000

    Get rid of now-unused -make_profile_not_understood_iq and -make_no_valid_stream_iq (part of patch from Rob)
    
    
    20070809114247-53eee-e40db536126cd40f9e0d833b99c006f83698fa1d.gz

commit 37bc22c0b3a16debca475ceec5cf2e6335feebed
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-09 11:40:02 +0000

    Refactor bytestream_factory_iq_si_cb to make sure we send back errors when appropriate (patch from Rob McQueen)
    
    
    20070809114002-53eee-7a887727e61ffab320885ffe721fe80be7f996e4.gz

commit 361c24c210a57ffb3e6c0800d38b1d52072dac71
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-09 11:34:12 +0000

    Use tp_strdiff instead of strcmp, for clarity (part of patch from Rob McQueen)
    
    
    20070809113412-53eee-ff49bbb62eed8c7e1d10a3d799f7381275c03c85.gz

commit 8987215029f624b16a36692fe3020715936e3c91
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-09 11:26:57 +0000

    Use _gabble_connection_send_iq_error instead of make_no_valid_stream_iq (part of patch from Rob McQueen)
    
    
    20070809112657-53eee-d9945a5c53bd9b6ca1ab6c86ff4889325aae88b3.gz

commit 77686be80c187647243185afdadc7ec40bb28ec5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-09 11:22:55 +0000

    formatting/trivia (patch from Rob McQueen)
    
    
    20070809112255-53eee-8cc82d76deccbfaf50da54713935a0af8cf5a8ab.gz

commit a5c668bcf1e84515f9d5e7e7733e3b18d3097bb4
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-09 11:19:28 +0000

    Add SI:no-valid-streams and SI:bad-profile XMPP errors (patch from Rob McQueen)
    
    
    20070809111928-53eee-bd094dd93f966308bc68c1354e843f8d4eede951.gz

commit fb0cf6351c62d0e883b0f24beb10da17cdb2b1f7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-09 11:16:23 +0000

    configure.ac: apply and adapt Rob's patch to improve the diagnostic message when not building D-Bus tubes
    
    
    20070809111623-53eee-b183ba081f023049c9c5f374f7c2e6bf7c0fc883.gz

commit fba97f77e288f9131136fa0216e41fa168edcc61
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-09 11:08:50 +0000

    util.h: Remove declarations of LM API
    
    
    20070809110850-53eee-ee2688141a537366651d49b3cd9d7db74bff61f1.gz

commit 0f3efea4ee90bd3ecd0f0dcf5fc60988940cd6e7
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-09 11:06:47 +0000

    Implement gabble_muc_factory_find_channel with g_hash_table_lookup rather than unnecessarily being O(n)!
    
    
    20070809110647-53eee-13f460305bcb2ff60833bdd94af96f10f518f898.gz

commit 3476b530a5b41110a09c1f42f1c26cd7ca3f1063
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-09 11:01:34 +0000

    Remove FIXME: we've concluded that closing the tubes channel shouldn't force the text channel to close
    
    
    20070809110134-53eee-e391e66957e5d55ddd1744002eb317a00156510b.gz

commit af04a3a29d73e590ef56c2f78ee478a4634b7a03
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-09 10:59:58 +0000

    muc-factory.c: re-order #includes
    
    
    20070809105958-53eee-5522bf71327c4b654f880ade45594a6ffb195c2a.gz

commit e1f19ff29198f76d5399e86a51be2659eeb0b263
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-08 18:56:50 +0000

    Use in-tree copy of Tubes spec to generate interfaces.
    
    This changes e.g. TpSvcFoo to GabbleSvcFoo.
    The version of the Tubes spec used is what the Gabble -tubes branch implements,
    which turns out to be Guillaume's proposed spec as of 5th June.
    
    20070808185650-53eee-098a4d49f970d6e0389092b1992ebcf92c62b9fb.gz

commit 1f61c97039e12d8423aba1cbeb9b9ecd384e9472
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-08 18:49:02 +0000

    tubes-channel: avoid unused variable with --disable-debug
    
    
    20070808184902-53eee-72bb2f07c75cd68d56169b5013bc260266a00d1f.gz

commit 13ee9b80ef96f73986e0e2fa4791062af1526b50
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-08 18:12:26 +0000

    Stop using tp-glib-unstable
    
    
    20070808181226-53eee-f169a695b3fa720f1fa626818ab442a1d8f129bf.gz

commit 026f3a5a5ea36b44469c6e5e35c1a3f87d7072bc
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-06 16:37:59 +0000

    Resolve conflict in gabble-types.h: bytestream and tubes factories vs req pipeline
    
    
    20070806163759-53eee-03422c9ecf9476201ed22fe1b516f0176117602e.gz

commit 354466a2af35a123b03db18890a321e3cf1e7b7d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-08-06 16:37:47 +0000

    Resolve conflict in gabble-connection.h header inclusion
    
    
    20070806163747-53eee-7675f690367985fca2267bcb5645efe69ff08c35.gz

commit f9c4bbff1947bc858d043886d73c0327e27d9225
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-01 12:26:02 +0000

    tube-dbus.c: use a switch instead of if/else (backported from Salut)
    
    
    20070801122602-7fe3f-0c4f0eb0bca258009f31033c651368900755c16c.gz

commit 3271d949a62e8c20a6b6fd659c4489775d693c5f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-01 12:21:07 +0000

    allow GetDBusNames on non open tubes
    
    
    20070801122107-7fe3f-c5e442164c19b16cb300a8267d21f9fe3a709d77.gz

commit 5dbf84cda1d87437089fecf077c650103677a0ac
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-01 11:16:04 +0000

    tubes-channel.c: create_new_tube new returns the tube created so we don't have to lookup it in the hash table (backport from Salut)
    
    
    20070801111604-7fe3f-3630371e341710523110ff9b65988be1ea23465d.gz

commit d2f73da7d6ab925ea238dcbbfa93f868022bc60a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-08-01 11:13:46 +0000

    set the bytestream during the tube's construction. Fix state bug in create_new_tube as the requested state was wrong because the wasn't yet set. (Patch backported from Salut)
    
    
    20070801111346-7fe3f-3bcda87e721a7cbb9bbb7044bca76f3ea7d49cc1.gz

commit 14f37acb4422c6523b5fc289e9d94aef65991989
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-07-27 10:14:47 +0000

    tubes-factory.c: add a XXX in gabble_tubes_factory_handle_si_request
    
    
    20070727101447-7fe3f-eff1f698a46c67a6c63e06378b246626dfc962c5.gz

commit 90508314141521e879f6ced9e2e0e305900d28eb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-07-27 09:50:56 +0000

    tubes-channel.c: fix typo in gabble_tubes_channel_tube_offered debug output
    
    
    20070727095056-7fe3f-a995d474969f9734346284ca1f7eb27e53db1c2c.gz

commit 608c99c6963e3f24825b150cef32ccbb6cd018f7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-07-26 08:43:25 +0000

    gabble_bytestream_factory_negotiate_stream: free the data structure if _gabble_connection_send_with_reply failed as the cb can't be called then
    
    
    20070726084325-7fe3f-daf49a56c7ddaa4e943e7d2757fc849790f0a92f.gz

commit 25f5f99e19096b8956573114f1660646b4c7264e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-07-25 17:28:22 +0000

    fix SI request stanza bug. According to the XEP the <tube> markup have to be a child of <si> and not the <iq>
    
    
    20070725172822-7fe3f-39027ce0f51e087aabc0f63698375361843c5b1d.gz

commit 97eff5a6b842f106723e9fdb02d6960c3f67483b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-07-25 12:36:35 +0000

    Emit DBusNamesChanged for all its D-Bus tube when a contact left the muc
    
    
    20070725123635-7fe3f-f0631b9d717a1d8479e56227f292226b94ac656f.gz

commit 77bd761b9101f56417621683c51921e3f6ff2e45
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-07-24 10:00:03 +0000

    fix conflict with HEAD: remove src/gabble-signals-marshal.list as we dont't need it anymore
    
    
    20070724100003-7fe3f-c3bf8f6ddf2bc42e7f9e4cc6545a06e1ea65ba86.gz

commit a1688ad069ca49105b9be96bfa1c4e09af06481a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-07-17 17:01:05 +0000

    remove HAVE_TUBES variable as tubes support is now always build thanks to stream tubes
    
    
    20070717170105-7fe3f-7d1b675576db47886131a6df0a1b7adf20bf2793.gz

commit 6962c950b020625dded51c50372b0358a0eb7489
Author: Mads Chr. Olesen <shiyee@shiyee.dk>
Date:   2007-07-17 16:27:07 +0000

    Compile fixes for compiling without d-bus tubes support
    
    
    20070717162707-f3554-091ea11fa643bc1fb8841d1c16f1360274556eff.gz

commit 392c339d1cb851bbdb56571d053f1703105f7e53
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-07-02 18:41:03 +0000

    Merge null conflict in tests/Makefile.am
    
    
    20070702184103-53eee-c867636dccb1a6b33d5355c7fc56c4f44e2b13a3.gz

commit 6626fba0f07cd89eacceca7cd3d470ee482c268b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-07-02 18:40:12 +0000

    Merge -olpc-rollup with -tubes: src/util.h
    
    
    20070702184012-53eee-f6522d6b93a206338dd9cd64ffb7f07a4127efed.gz

commit c3806300230b4fd01b759c5b27f5e1bc344dba52
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-31 17:59:25 +0000

    Fix conflicts with HEAD
    
    
    20070531175925-53eee-5146946067c3b760a93be2ad120f61cfde318289.gz

commit b7469b8271439816565e78850c4336c1c49b666a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-07-02 18:31:55 +0000

    Merge conflict in src/presence.h, again: GabblePresenceCapabilities
    
    
    20070702183155-53eee-48a939e79f95cb0d2f7d46b7f965c13f54652840.gz

commit 7bc9a570c730912731f431422c25114754672c4d
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-12 15:13:20 +0000

    Merge presence.h between Gabble OLPC rollup and Gabble HEAD
    
    
    20070612151320-53eee-bcfee6fb0523e4ce17f17ab58a49e8c05da16217.gz

commit 27fdeb7bd1c575e8019d0d2ee642c759befd2e62
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-28 14:30:16 +0000

    fix typo in bytestream factory comment
    
    
    20070628143016-7fe3f-4ee7623d3fe2e9a32ed5823714968c06f0eb7820.gz

commit c89faaf5693199503a6a02bced79a3a77ec41602
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-27 10:22:54 +0000

    tubes-channel: set the initiator in publish_tube_in_node and not in publish_tubes_in_node
    
    
    20070627102254-7fe3f-0b2be89944717718a51796c09975758a62ffe0b7.gz

commit 314c7c32b98b4be91d31d9d588d2ee98aaea333c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-27 10:06:03 +0000

    simplify gabble_bytestream_factory_generate_stream_id
    
    
    20070627100603-7fe3f-fefe27cf7e5094f00452603c1402d68c2ad07f52.gz

commit fe174de965bea57cc2842c24cdcb08039bcda53b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-27 10:00:04 +0000

    update_tubes_presence returns a boolean so caller can know if it worked fine
    
    
    20070627100004-7fe3f-59a4cc4e037e0bf59ff88750e2f962f7f5eba21b.gz

commit a4e5975f59f082c48d846bcd1f3927acb8c0677b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-27 09:43:18 +0000

    tube-dbus: we really have to check if destination != NULL to manage broadcasted messages
    
    
    20070627094318-7fe3f-70918e1d2b24874760738c6a2795d7c10907108d.gz

commit a0fd8e43350d9ccdd874e76171cb9808bbddc0c3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-27 09:37:25 +0000

    publish_tube_in_node: set stream-id instead of stream_id as attribute to be more consistent
    
    
    20070627093725-7fe3f-c4ba0337a624eb919c684ed726ca09eab3088555.gz

commit 4847d5521c4a2bb13b139cc3163c761aafa922b0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-27 09:29:31 +0000

    extract_tube_information have to check the value of this initiator_handle and not the pointer
    
    
    20070627092931-7fe3f-3e09af97c149faafa01664e6ac7395a73a2e48e7.gz

commit 3c8612947e0a073c593630698e352df3c775ed67
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-27 09:26:32 +0000

    tubes-channel: extract_tube_information: check if tube id is numeric
    
    
    20070627092632-7fe3f-83513689b460cd99869f46eea1d382d68d2d712e.gz

commit 0a4ab787d882a9a7f5948748280018851bf18c97
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-27 09:07:20 +0000

    tubes: unknow -> unknown
    
    
    20070627090720-7fe3f-23588f7e7794c936cd788d7cca7f035ba6e2963f.gz

commit 2a0350bb7b62e129a05d0a15481e823ccb2efb8b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-27 08:42:23 +0000

    intented -> intended
    
    
    20070627084223-7fe3f-2dbd97babb252ebd471df850e8eda75492f70635.gz

commit 28fa7675c09f4c056a22cefa3dfbfe743851bd4c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-27 08:40:37 +0000

    tube-dbus.c: remove useless dbus_message_get_destination extra calls
    
    
    20070627084037-7fe3f-56fc05c321f004e7682fcf76af5b02d4e148058e.gz

commit f3368662a2a61a526d25bc9cd8f177f2435dc8ca
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-27 08:32:57 +0000

    set bytestream state in a variable to avoid double gabble_bytestream_factory_create_ibb call
    
    
    20070627083257-7fe3f-aa213e2c161e12e17e4caf77f712fbefba07808b.gz

commit b3c99a980f54b4cd000656ecb9a30e462e7f82e8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-26 15:11:33 +0000

    tube-dbus.c: pass the contact_repo to unref_handle_foreach instead of the tube object
    
    
    20070626151133-7fe3f-2fbc8de8fd9dde4377bb78ad27718150084aaae2.gz

commit a1956b049f8fe92ed8aff92902b12a1d6feceb87
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-25 17:34:58 +0000

    tube-dbus: discard echo messages
    
    
    20070625173458-7fe3f-32bf46aba5d1cd986177385d4adfd4ed829f6490.gz

commit f75fa37a114186f7007bb86e3cb13fd640d34107
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-14 11:10:33 +0000

    bytestream-ibb.c: don't extract the msg type when parsing IBB stanza as we don't use it
    
    
    20070614111033-7fe3f-543cbd1ec9111eb97bb770df97dbcc5a6ff3c000.gz

commit 64c19f5a10784828b9903577726c23665f044118
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-11 09:45:02 +0000

    set BystreamIBBState in the Gabble namespace as it's a public enum
    
    
    20070611094502-7fe3f-71e85f1c428919f9be719c0e39f07e82fa491d09.gz

commit ce5c0ca6ef59c9767e9f5ca62e2c1e6d6635a838
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-11 09:17:07 +0000

    fix typo in bytestream-ibb.h header
    
    
    20070611091707-7fe3f-0f432557836906b3d879ca2c2363d42366a39c3d.gz

commit 54ec4c26fd5b38da9345136fda20c2871c5387db
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-11 07:16:22 +0000

    tp-glib-unstable is now a hard dependency as we don't build tubes support conditionnaly anymore
    
    
    20070611071622-7fe3f-7a6ae6c342f15820f70171540b3b0644ec6f1836.gz

commit 5fbc0a34cbb1cdc31b4b06746b27767d590426c3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-08 16:19:51 +0000

    gabble_tubes_channel_get_d_bus_server_address use GabbleTubeIface* instead of GabbleTubeDBus*
    
    
    20070608161951-7fe3f-a05e00a07c56eeecdcefea0a8efe3b3dfc5b7744.gz

commit 2a9073b13cdbabb32f4944538e8468746667bf4e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-08 14:01:27 +0000

    rename TP_CHANNEL_TUBE_TYPE to GABBLE_CHANNEL_TUBE_TYPE to avoid namespace clash when this type will be generated in tp-glib
    
    
    20070608140127-7fe3f-1825540f8ed571309f686683645e4371a2a3f3d5.gz

commit a83fe668a097e84578098f0738edd3e357cb14a2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-08 13:50:25 +0000

    fix a coding style bug
    
    
    20070608135025-7fe3f-6ab2ba73e6dac27202058cd184287541dfeecbc8.gz

commit 294bbdec009571444da73c4988e93265e103e651
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-08 12:15:24 +0000

    tubes-channel: unref the handle in dispose and not finalize
    
    
    20070608121524-7fe3f-b016182afa81bb59a76331ab176307a4d2aa930e.gz

commit baea4c2ce03665b585b497afd471dbdb884096eb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-08 12:01:50 +0000

    tubes-channel: ref the channel handle
    
    
    20070608120150-7fe3f-2e3f3dc9f5c81694f29db8da9fc9f86f02361366.gz

commit 4e713465559aab952f9a5e38e7fe870d086f264b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-07 13:51:03 +0000

    tubes-channel: return TP_CHANNEL_FACTORY_REQUEST_STATUS_INVALID_HANDLE instead of TP_CHANNEL_FACTORY_REQUEST_STATUS_ERROR if handle is invalid and check if handle == our self handle
    
    
    20070607135103-7fe3f-a30e73f220a4f8f57f761eba5664588a687a663f.gz

commit c991481abc673dcc9a56a15c9b27c05c07c2848d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-05 12:47:16 +0000

    tube-stream: bytestream_negotiate_cb -> extra_bytestream_negotiate_cb
    
    
    20070605124716-7fe3f-58a18bef36754063ac7f0a2f56a6b6f73e627063.gz

commit 759af15576574445dadb714eee31dae5cdd0f9b1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-05 11:59:10 +0000

    tube-stream: remove the watcher if we don't find the bytestream in data_to_read_on_socket_cb
    
    
    20070605115910-7fe3f-586c15b8999cde27fe0930bb374cbad7cc0b6556.gz

commit 536026fbf2fcb007d6358b258b5d513765d4b649
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-05 11:53:16 +0000

    fix typo in a comment
    
    
    20070605115316-7fe3f-4880fbd5e4b6c8846589ea7045de206c57dad4e6.gz

commit 82822b7913e05490f88535a11839a80c9320a706
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-05 10:01:27 +0000

    properly initiate the 3rd argument of accept
    
    
    20070605100127-7fe3f-4108617ab638e5f9c43b168baa0c6ef57caaff54.gz

commit 47c6d481cf8e7b7e929f2b4284a05acfddfd83ae
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-05 08:28:03 +0000

    trailing space
    
    
    20070605082803-7fe3f-df798dda82a66ff067cc4d17c5519b1181d41a97.gz

commit 368c61cb628a96bbb1bded344c936b6a8cd831d7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-04 17:54:23 +0000

    properly manage private and muc SI requests
    
    
    20070604175423-7fe3f-d8a6d7327602cefce0f12ea93d7ce0877ffc8798.gz

commit 0e028189e28150eb3c425d6a7929cd3a284add09
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-04 17:41:23 +0000

    muc-factory: add gabble_muc_factory_handle_si_request to handle extra bytestream SI request
    
    
    20070604174123-7fe3f-352a3f50d876988f874fe662627d042e466de312.gz

commit 25152c9fcb5de9336ad3d6c9268557fb69162b12
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-04 17:34:13 +0000

    gabble_tubes_factory_handle_si_request returns a boolean saying if the bystream was properly handled
    
    
    20070604173413-7fe3f-9a2273c9115f7c724479289e34c2a6ebac6ba148.gz

commit 63482ebcb2fba409938730c39876c8503f9858b0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-04 17:32:33 +0000

    don't create D-Bus tube if its SI request doesn't contain the D-Bus name of its initiator
    
    
    20070604173233-7fe3f-01eb9e49a6b83c5a75e81b9f43d745f4f3bba040.gz

commit 8d9e79a7b8c0d0226503e9bd3c8cc4ad7ad0e02a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-04 17:25:03 +0000

    gabble_tubes_channel_tube_offered returns boolean saying if the SI request was correctly handled
    
    
    20070604172503-7fe3f-531d8f89e07a2754d40c794fbb00a7e7f2c6c132.gz

commit a8503075cb026e646cf8204319e1001bb431bd4a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-04 16:42:12 +0000

    tubes-factory: remove muc tube specific code as muc tubes are managed in muc-factory now
    
    
    20070604164212-7fe3f-a5a4147159e7170f6c7f2705394638670c42c61b.gz

commit d9d7b6a9b9ddfe683e1e93d4051cb431e565181d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-04 16:05:28 +0000

    fix conflict with -tubes due to -tubes-smcv merge
    
    
    20070604160528-7fe3f-54b49618c3ccee347b9c46f27f6fa24f7ca553b8.gz

commit 218f3238822b9b124f4975603701c72c47bd55db
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-04 14:39:01 +0000

    tubes-channel: fix leaks when receiving extra bytestream SI
    
    
    20070604143901-7fe3f-49fd637786b03c3b6e3b2b8fc29daae16fef154f.gz

commit 6c91777db191a14e26a732e05b67bd750b7313e6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-04 14:04:53 +0000

    emit StreamUnixSocketNewConnection
    
    
    20070604140453-7fe3f-01be68ca1a51d4f2ecedaeb53d39c2506a2aaf94.gz

commit e6ed8fa31bad23a298730b5848cac3e612fee52f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-04 12:52:33 +0000

    set stream-init-id and peer-ressource construct only parameters as we use peer-ressource in the constructor
    
    
    20070604125233-7fe3f-53a821f03e4fbed31388496c2d89a62ad8ff80ee.gz

commit a70b6b703b048b844b82c1c83d33441e692a97a1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-04 10:44:41 +0000

    tubes-factory: use room_handle instead of contact handle to find tubes channel when we receive a SI request from a muc jid
    
    
    20070604104441-7fe3f-a23d7e0db9c3b658f5e66b33c6117d06be9a5639.gz

commit 06ee74e4ac414b95a549f6d3d0bb71b0a0fb505b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-04 08:25:05 +0000

    bytestream-factory: doesn't extract peer_ressource if we deal with a muc contact
    
    
    20070604082505-7fe3f-33512c9a30cb4c7b1abe7a46e4dac8e7998d9cbe.gz

commit 6754f432128b0b2127191b991903a75c734b51a0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-01 15:48:35 +0000

    bytestream IBB: store the jid of the peer so we don't have to compute it each time we send a message
    
    
    20070601154835-7fe3f-2b47cb6449f3688737dacb5436d861667b6448db.gz

commit a06aa85fce8580c5ffc6fc7d27144f237054dab3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-01 15:05:22 +0000

    check if gabble_bytestream_ibb_make_accept_iq returns NULL to avoid crash
    
    
    20070601150522-7fe3f-873a67eecfcdbefa7a7463a709297db33ad033e5.gz

commit 015444f4986ab6c4ec65fad9f718f1518a35ff6e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-01 13:54:47 +0000

    update to new draft spec. Stream tube are now stream unix tube
    
    
    20070601135447-7fe3f-999185bda5699b3597fd4385a0d1421e35707bb9.gz

commit 1d1e0dbb89242152e304df0f41cfb8104122fb28
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-01 12:37:25 +0000

    add debug msg when we add a new bystream
    
    
    20070601123725-7fe3f-56972a2547bce9caafeb3a1040090a1eeafa1b4f.gz

commit f0b116854d8bbccae180a1c73b4c448976f80756
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-01 12:34:06 +0000

    add a "offering" attribute in tube SI request so we can know if contact is offering a new tube or requesting a new bystream for a existing tube
    
    
    20070601123406-7fe3f-ac5f834968097d2ed2baf5e1506c5b2f31fb18fa.gz

commit 72abe5349da8ae4502ada985755e0107f2f17302
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-01 11:12:35 +0000

    change tubes NS_SI_TUBES to match telepathy NS but still use the old one to don't break compatibility
    
    
    20070601111235-7fe3f-ee4c422bb2c451c88b6e9f12076d4bf383d6da98.gz

commit 60b7e9f1fade4f0bbf49a031845b263c08baea50
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-01 10:57:27 +0000

    tube-stream: don't use presence/resource when sending SI requests in the muc tube case
    
    
    20070601105727-7fe3f-6ea55f4019d4f37bc52e788800b061a8472227d7.gz

commit e4ccda965ef7259e75707c5c2daccdff71805445
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-31 15:45:52 +0000

    stream-tubes: don't use the default bytestream to find tube's state
    
    
    20070531154552-7fe3f-2577fd31d27acc27b50c21833d3f5f6ea0e5bd71.gz

commit 383a825688cd7780f54cbe7111b635b8ac7d3cf2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-31 14:23:49 +0000

    remove gabble_tube_iface_get_stream_id as all tube type doesn't have only one stream ID
    
    
    20070531142349-7fe3f-c5158c58e6847f13f3de2f073e6ce6f4805a5782.gz

commit 59363f853dbcc8615e579483fe0f99346f2f62a5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-31 14:17:08 +0000

    tubes-channel: remove stream_id_to_tube_id becomed useless now tube have globally unique ID
    
    
    20070531141708-7fe3f-0bfc2ce5829d6a3034265877dcdac92bcdfc2080.gz

commit f0308aa1b31d492be770b59d6563be7d00447481
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-31 14:16:31 +0000

    add debug output when adding/removing tubes
    
    
    20070531141631-7fe3f-a980eefedee7514f497ac1e74d3421cb957f9779.gz

commit 7fafb539865ac4d2f474f81fa214a04b7648df0b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-31 14:13:32 +0000

    fix stupid mistake I added when refactored bytestream_negotiate_cb
    
    
    20070531141332-7fe3f-fd0208b96a8e47c4ab261b7922239f260155cc50.gz

commit 4f67969d4a2d4bf9a5d0176caf9759effec48e87
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-31 13:44:01 +0000

    add missing whitespace in a debug output
    
    
    20070531134401-7fe3f-5c498ef6edfc667908f06a6ab721179a86b96eaf.gz

commit e4169821a5287e15b45ab659e8831cc8532de565
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-31 12:37:24 +0000

    update_tubes_presence use now priv->tubes instead of priv->stream_id_to_tube_id to iterate on tubes
    
    
    20070531123724-7fe3f-4e7f620ca93dd3186fe08257340bf3007426fc06.gz

commit f9a014f6ada34803425409bb0bbe96a5b0ed6dc4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-31 12:30:21 +0000

    tubes-channel: remove next_tube_id becomed useless now tube ID are global
    
    
    20070531123021-7fe3f-79d94ce681281f2e59f51e356ee23a5d292cc179.gz

commit 6edcea587d9351465a2042f9d490e32f75d4a919
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-31 12:28:44 +0000

    only the the stream_id in MUC presence for D-Bus tube
    
    
    20070531122844-7fe3f-85a693d38186bb9369d6a427fa21e6b44981ae67.gz

commit 8d24181e94c11a54011c3d4c0b434d786fcbb9b4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-31 12:16:54 +0000

    add a comment explaining when gabble_tubes_channel_presence_updated is called
    
    
    20070531121654-7fe3f-a4c7229b5492ba98a2a7004096a761e3b6c3149a.gz

commit 4abddf4448437f57e551944a52fc929223dcdf21
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-31 12:10:08 +0000

    don't set the stream ID in the tube section of the SI request as this ID is already in the SI section
    
    
    20070531121008-7fe3f-8a11c91f56ce9610b58e72eb5264b63a8cf7bfb8.gz

commit 71bba1ef79f48da4007fe561a6fb17eb4f53b61a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-31 12:01:36 +0000

    add a comment explaining when gabble_tubes_channel_tube_offered is called and fix a typo in DEBUG msg
    
    
    20070531120136-7fe3f-1cdc1a9a42f7de77d587d20255abc3b6faa155b5.gz

commit 93dca76792ce3b7838cf7cadf31f123a14df97a0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-31 11:51:40 +0000

    publish_tube_in_node don't have to set the stream_id to the XML message
    
    
    20070531115140-7fe3f-9d2b0af54bd4a3a70054eb193997a8e71fa65b65.gz

commit a010ada4497f8ff80aaed0f500a652a5b2f2b28f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-31 11:38:25 +0000

    tubes-channel: get tube ID from tube's property instead of use stream_id_to_tube_id
    
    
    20070531113825-7fe3f-dd019a0cd80c00a8f189e1fbd9bb5170a0e318bd.gz

commit 7b0726cf172de814fa19e1c6c1d2bb30285727da
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-31 11:32:28 +0000

    tubes-channel: add a comment in bytestream_negotiate_cb
    
    
    20070531113228-7fe3f-45784cb121fcd9b10eaca0433d091d94c3cb60cc.gz

commit f5669bc898604e547a2d3f68ac2310147210cfc4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-31 11:28:22 +0000

    tubes-channel: early return in bytestream_negotiate_cb if the bytestream was refused
    
    
    20070531112822-7fe3f-97681f84ba390519470dc49d32b2afbaadc2c66b.gz

commit 946a962b3e0139ed20d1543e7a6648081fbaafb0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-31 11:25:23 +0000

    tubes-channel: pass a struct containing the self pointer and the tube as data pointer to negotiate_stream
    
    
    20070531112523-7fe3f-2f36c155f47f2f6512cb50a0cf746333ec7fdf51.gz

commit ecb198e522a91ea7c5299d504e679b3a2ae8a14a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-31 10:59:20 +0000

    tube-stream: remove watcher source when closing the tube because they ref the IO channel
    
    
    20070531105920-7fe3f-b0b9ec73713fa8e3b7c0033404a678a5be5008ab.gz

commit f3950881e390833aa3a5ffd9a94a33b318b14d7e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-31 10:15:18 +0000

    close all extra bystreams when closing a stream tube
    
    
    20070531101518-7fe3f-2c7a002b2d6e1bb7364a26c01a37585337288edf.gz

commit e5b5ee0aac73e9d8bf3065259c7db20cbd5a79c2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-30 16:16:47 +0000

    use stream-id property in gabble_tube_dbus_get_stream_id instead of fetching it from bytestream
    
    
    20070530161647-7fe3f-683ac72232fd294b5fd938fc058729f25f475625.gz

commit 948e576599e62f328559db73e0b4c1825415c91a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-30 16:04:00 +0000

    remove trailing \n in debug messages
    
    
    20070530160400-7fe3f-c9fc199539a619fd1834331ffcb2a30cc78683e5.gz

commit 2f9c314064be3c962cf5e9ac3767d6fe07768926
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-30 15:51:03 +0000

    add 2 debug outputs
    
    
    20070530155103-7fe3f-dbabcd776a84d33688b246cde5d5ebf5323bdf00.gz

commit 1077000524ecc035e0832e37582bd5c484a127df
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-30 14:47:59 +0000

    tubes-channel: properly ref default_bytestream
    
    
    20070530144759-7fe3f-329769e5f0b37717a0a7e0f58d3a89c92719b4a5.gz

commit cd91e559bdccd5b2f3928a183f823238af23ff44
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-30 14:40:36 +0000

    tube-dbus: properly ref the bytestream
    
    
    20070530144036-7fe3f-d449a9ca90cd4750ed608f6a090a97a0613efea3.gz

commit 1bb80da0b731292197d41c8117546541dca3f943
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-30 14:34:22 +0000

    free stream_id in tube-dbus destructor
    
    
    20070530143422-7fe3f-eb4bcb2bc5662dadcf671d4c953a747d4a827c2d.gz

commit e814256670370b1a555085517e1cb86239d2f5dd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-30 14:29:46 +0000

    no need to call get_stream_id in publish_tubes_in_node as we already have it as the hash table key
    
    
    20070530142946-7fe3f-e440fe6a19801aba3022e29a5e54762a3fa9fbef.gz

commit 6e44d23e63d1b5fde83a649dc58b1c36c9649bc0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-30 14:24:45 +0000

    check if tube is NULL in publish_tubes_in_node to avoid crash
    
    
    20070530142445-7fe3f-cceba9a0ad06f8c228d1b7d86da42bfaf7c68ab3.gz

commit 964b40e13c120e26f857c1286fa201f9a0498f53
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-30 13:51:15 +0000

    tubes-channel: don't handle tube closed signal if we are closing the channel
    
    
    20070530135115-7fe3f-5518d51b3b66b0f6a88759b417ea4d95de221f0f.gz

commit e9233e7a4347dbeb80f88f53bca303fc6f88fa4f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-30 12:19:23 +0000

    tube-stream: fix args coding style in functions definitions
    
    
    20070530121923-7fe3f-f0eb800b570c82a06e01b007e8ae3ca988eac462.gz

commit 15ab91b7172c8d0c1eb84064ca35db9e5a618ef5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-30 12:12:14 +0000

    close the socket if start SI failed
    
    
    20070530121214-7fe3f-a8a5e77fa0b4f71c8752ff3a6464f31da589b8f9.gz

commit 68c8f4ec62ffad0f409567910bebdc1c91031af0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-30 10:38:45 +0000

    close IO channels when freeing them
    
    
    20070530103845-7fe3f-19f76e95af893e3c44caa4067ca2bfe13836a424.gz

commit 11a9afeaf9c90ba2556b8643e1b5879b62d0b596
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-30 10:09:37 +0000

    better errors handling when reading data from socket
    
    
    20070530100937-7fe3f-b20dfb2f2b1367e310117570c763aec3cfa0e716.gz

commit 88b4acf2911d93fd32e4b31e725a4af9f381756a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-30 09:41:19 +0000

    tube-stream: always wait extra bytestream is open before watching data from the socket
    
    
    20070530094119-7fe3f-1bbbf061966b101bcd71517a01250a29b43b7b37.gz

commit 75027905328fce581f3f15a6cf6e4d21830d9a0c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-30 09:29:09 +0000

    tube-stream: rename socket_recv_data_cb to data_to_read_on_socket_cb
    
    
    20070530092909-7fe3f-71c403ba0283fca1999471497598f8e479355ecc.gz

commit 02438b58f0c1abace8f1f0c56934816c072df58d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-29 16:30:12 +0000

    tube-stream: start to implement multi bytestreams support
    
    
    20070529163012-7fe3f-190ef43c3d5cc284987f3a459762de926c1ad2ed.gz

commit 9e44a7bd82371b3b54bca8e60f6add447f984f30
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-29 16:29:36 +0000

    call gabble_tube_iface_add_bytestream when receiving a SI request using a existing tube id
    
    
    20070529162936-7fe3f-46f3c24ed08378faf51b3961b55b644e9b0236d4.gz

commit 08c6c67683affbf26a856a9edf8dac37289e5a28
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-29 16:28:33 +0000

    add few debug output
    
    
    20070529162833-7fe3f-ddb0d5fd2b7d8622a96ccd26bf965d4da78041ab.gz

commit 17abce8b75ae503b1ce18111f672429d35c3ef84
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-29 12:59:10 +0000

    tube-stream: implement add_bytestream method
    
    
    20070529125910-7fe3f-a19a7d47231ee835305371a5374a81eb9bbf938a.gz

commit 2b188fdfccdc6c41fd25a28143f16ec25800652a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-29 12:58:46 +0000

    tube-dbus.c: implement add_bytestream method
    
    
    20070529125846-7fe3f-6c74ebb8822c443001b2933439278a5d330e513f.gz

commit 380c20adf53bafcafa8144db9ccf8ad466f329f8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-29 12:57:47 +0000

    tube-iface: new add_bytestream method
    
    
    20070529125747-7fe3f-15c9e5ed132ea10f61dcde0a2020b9ae3e0dfe62.gz

commit c4f0b746564acda8680c34c53398013658405283
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-29 12:32:13 +0000

    tubes-iface.h: fix typo
    
    
    20070529123213-7fe3f-45b1eb1453309100697924318df2fd75571f7624.gz

commit 8e250d7ebc589131ff97f83a11de0fc16ab8d237
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-29 12:27:02 +0000

    tubes-channel: limit the size of tube ID to G_MAXINT as atoi returns int values
    
    
    20070529122702-7fe3f-7ef358de3f6cb9dd93c3b44e0272c5738a2696ec.gz

commit b99de330e88829d1551eccb4375e82399d2b1a38
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-29 11:01:25 +0000

    tubes-channel.c: check if tube id is NULL and a DEBUG output
    
    
    20070529110125-7fe3f-cf744feb28b53a30c90bb0322fba9cbce42f9820.gz

commit a287462602566f02be35046e947f8516a5476c5c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-29 10:07:32 +0000

    tube-stream: don't use default bytestream to write/read datas
    
    
    20070529100732-7fe3f-f75e511f74b32767b9b01061fc3da405416b8b1c.gz

commit da4ab6e27f433fd4275ae113e2823bf89f4ad75f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-28 19:55:40 +0000

    remove find_tube_id becoming useless now we have globally unique id
    
    
    20070528195540-7fe3f-b473af63d53a22894d7b4b430caa8f1d3ba10138.gz

commit 9ccee4b4f9f497119c7eb0f08a8362ef1763160c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-28 17:52:02 +0000

    make the unique id a unsigned and use it instead it instead of the locally unique id
    
    
    20070528175202-7fe3f-b9faca47de3ca15ffc5a0da145018dc5804f1226.gz

commit 325ea17a162916facbbeeb3f1ad9b698c711a52f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-28 16:22:45 +0000

    gabble_bytestream_factory_generate_stream_id: use %u instead of %d as the random number is unsigned
    
    
    20070528162245-7fe3f-ec8f71db8539f473ebf87f5c296a3070b1755d06.gz

commit debe9e4d7acf8ba34a38254cf6105f15fe19265c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-28 15:46:35 +0000

    tube-stream: rename bytestream to default_bytestream
    
    
    20070528154635-7fe3f-9771871aadba45c924dcc9862570309c06133e19.gz

commit 55e63623317806b967affb1a7df54cd1923a79f9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-28 14:54:54 +0000

    tubes-channel: store tube unique id
    
    
    20070528145454-7fe3f-20481cb2b801451e77dbbe98a80af05de60bb221.gz

commit 90c92859f27e8fd9a439e82cfd9cc76bc06bf162
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-28 13:46:39 +0000

    set and extract tube ID to/from XML
    
    
    20070528134639-7fe3f-a264264ef0fd0bda321d1beec4443f2ca4a8328b.gz

commit 765b87ded6a2bb8884d6c0bdd4df320278713d29
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-28 13:10:37 +0000

    stream tube: add unique id property
    
    
    20070528131037-7fe3f-463bf74b6d338c3bc34997d03373a9dd9111cf2c.gz

commit 91a899f8fce0c7f4e77a22203a9136d898e11f36
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-28 13:07:22 +0000

    D-Bus tube: add unique-id property
    
    
    20070528130722-7fe3f-e883df29aaa677d2a540531019bfdb1f6766970e.gz

commit ab2ffa751b988923d1cd1ebb54911ac576ba8e6b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-28 10:47:34 +0000

    s/listenning/listening
    
    
    20070528104734-7fe3f-5f02604faa9da950a3f4a8577e4b919330682069.gz

commit 70f60d08b01123a7953628f2f9a438e889550234
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-28 10:46:41 +0000

    check if file exists and if it's a socket when calling OfferStreamTube
    
    
    20070528104641-7fe3f-d095b03abc3aeff374b43541ea1f4e7de5e2a84a.gz

commit 123b32702ca5d497aad061ddf221029a7d5600c5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-28 10:02:49 +0000

    remove one trailing space so make check is happy
    
    
    20070528100249-7fe3f-1e1dbf8fb1818162c882087cb7cd588693f77819.gz

commit 6b3d053dc65e21a651897a6253c3fada5e84e7bc
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-28 09:55:00 +0000

    don't create muc bytestream when offering a stream tube
    
    
    20070528095500-7fe3f-eb028707567d3dc2479c68bbcb1cd7b0da997b52.gz

commit 072d4739f360f3a885756060e991ac0572c89633
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-28 09:49:42 +0000

    D-Bus tube now creates its muc bytestream during its construction and not in tubes-channel because all tube type doesn't have a muc bytestream by default
    
    
    20070528094942-7fe3f-1677385b44a2cf15cd3d54064a64e1a432f3fb1f.gz

commit c9e1795f0e36bf95e1e862f059979902d222130b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-28 09:17:00 +0000

    set the stream-id property when creating a D-Bus tube
    
    
    20070528091700-7fe3f-ef7b60136fecaec4b8001a91d7b0d0b7d075d824.gz

commit 1429a48e941067e91ef331d50ce53d54fd95135d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-25 15:49:11 +0000

    tube-dbus: add stream-id property
    
    
    20070525154911-7fe3f-6de514baa101348f6644e3692b40f479c91dfc7f.gz

commit dbfd9651871ed4c1f9415b531075bc34c3529e41
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-25 15:40:10 +0000

    use gabble_tube_*_new functions instead of g_object_new
    
    
    20070525154010-7fe3f-fe17aff1b262e0f6292585c1fb45ae6249bd1adb.gz

commit 25bbcace08ea997adc2a6135084e8b53780ba67b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-25 15:31:10 +0000

    gabble_tube_dbus_new: fix properties alignement
    
    
    20070525153110-7fe3f-6c5f37621abf9f0d7d4321d3fc67ace7fb2be84f.gz

commit fd7041a67947ec65d027b479891fd8d1908f9721
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-25 15:26:24 +0000

    add gabble_tube_stream_new
    
    
    20070525152624-7fe3f-a932ad100e464682779c0f1ae20818722a4465a1.gz

commit 89d14bedcfd06553e408863bd61ded6410279b2c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-25 14:43:08 +0000

    add gabble_tube_dbus_new
    
    
    20070525144308-7fe3f-c1485db47b471ef597be780518b2b953310e2d2c.gz

commit 547db41a590f52535dac408c53b68d59547504f2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-25 14:28:00 +0000

    set tube self-handle property when creating a tube
    
    
    20070525142800-7fe3f-3c7576b9ebda5494e1def2a2470d1939a16809ec.gz

commit c09de23d9085b50c9ce68df201476aafe946489b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-25 14:27:37 +0000

    tube-stream: add self-handle property
    
    
    20070525142737-7fe3f-3aabfe8863f2050d0d9d065aa441af2cb868cdc7.gz

commit 01264bb617243b06ad2c02dcb8259cde79f1f311
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-25 14:23:28 +0000

    tube-dbus: add self-handle property
    
    
    20070525142328-7fe3f-6944e6d6c900b435d5a59ac8a99d481abfbeda73.gz

commit 4392080cae4a262c6a0da0f9ac693553529bda71
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-25 13:39:47 +0000

    set listen backlog parameter to 5
    
    
    20070525133947-7fe3f-32b57793d4c467c3ebbf07ce84cdf19fc485df35.gz

commit 6d639bb371e6d6295ce87349f07f47175ae7a2f2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-25 09:58:43 +0000

    fix conflicts with -tubes
    
    
    20070525095843-7fe3f-bea098181eba7a3418d102537d24649afd75b857.gz

commit f1d412c4dba4bd8998304d37c24bf50811c150df
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-24 13:38:36 +0000

    call update_tubes_presence in tube_closed_cb
    
    
    20070524133836-7fe3f-78ba018573a81316a2e50d1b22b2b6ec785016ac.gz

commit 89bdcf474b3eeb319167eaa9de42c1c757163464
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-24 13:25:59 +0000

    automatically reject D-Bus tubes offer if D-Bus tubes support is not built
    
    
    20070524132559-7fe3f-a943d3a529a98d4bf06f9956a366e88e5a32f9d1.gz

commit 7dda8941bcd270eaa535ff51fa3e1d27552a7558
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-24 13:22:06 +0000

    s/#if/#ifdef
    
    
    20070524132206-7fe3f-c0018f1415715259b6e2b4ed3aab353d9390026d.gz

commit 8552c9fb9a4c7cb5222f94efa288140b628d73ec
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-24 13:03:27 +0000

    when parsing muc presence, don't create d-bus tube if HAVE_DBUS_TUBE is not defined
    
    
    20070524130327-7fe3f-bb86f2072b82b99c5aafa1ad2f96e0aec8bd6064.gz

commit 68f6b37b48c85058507b13cd2d0b770af77ba733
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-24 12:47:42 +0000

    gabble_tube_stream_close: always emit the closed signal even if it doesn't have a bytestream
    
    
    20070524124742-7fe3f-a7e63990930631c2b9a78963c0287f54834fc3dc.gz

commit 2753c3b07255e689ea80a07b7e15273ac0309a40
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-24 11:29:38 +0000

    tubes-channel.c: move close_tube code to tube_closed_cb
    
    
    20070524112938-7fe3f-1e63f9e7b6602d37da7adab1ad719392d8a1eb41.gz

commit a335aa82fad65ee27f47eb73a21d88ce172d576c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-24 09:11:40 +0000

    return errors when trying to offer a tube to a contact who doesn't support tubes
    
    
    20070524091140-7fe3f-0cda12a7d077cd2606204a5b2dc4daa3511394fe.gz

commit 6926961da8a8aa5b9b9fe91b27f5fceb8c52e121
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-23 16:26:31 +0000

    set the socket's path when offering a new stream tube
    
    
    20070523162631-7fe3f-daec1aeca40643a20e1607cf39b5478d8419bd9a.gz

commit 6d30fd3a0f83b0519f140532d6e86ecc67cb759b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-23 14:49:16 +0000

    implement GetStreamSocketAddress
    
    
    20070523144916-7fe3f-08bb7823cc603dd0abdd339036848b2ec74a0a19.gz

commit 8fac85dcab9d220f21971e0f06f6b323cd458d36
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-23 14:38:52 +0000

    gabble_tubes_channel_get_d_bus_names: use GabbleTubeIface* instead of GObject*
    
    
    20070523143852-7fe3f-5344549b8785f58acfcb94e24322e41e56d6fe10.gz

commit e78bb88cef2170a786a577821987362c65515fa1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-23 14:16:17 +0000

    implement OfferStreamTube
    
    
    20070523141617-7fe3f-68431c25eb1af68ecc3287cddb5dfe5d29a628a1.gz

commit 213b1d8efbc42dd7c4bf0bfa04b1312c58e6a0d0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-23 13:58:45 +0000

    factor out stream initation code from gabble_tubes_channel_offer_d_bus_tube
    
    
    20070523135845-7fe3f-81ca05be7d6fd27608457a9f8cedd4e08223c547.gz

commit 7fadef8b826f408e5a4bdea6164f0786fe6dcaf1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-23 12:30:02 +0000

    replace OfferTube by OfferDBusTube (new API)
    
    
    20070523123002-7fe3f-1ac20aed7bc42ef288fe034603bd216464dff3d6.gz

commit 3cb4d48b3098487c5d1e9bedce03e86fa2cdcb89
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-22 16:43:47 +0000

    set handle and handle-type properties when creating a new tube
    
    
    20070522164347-7fe3f-71a5a2b01b2c43ad49b72295b50fb3ab7bb70cb4.gz

commit 392f7e3c32c6d6661e955647eabc68a8b1cf01c6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-22 16:34:58 +0000

    tube-dbus.c: fix bad naming of handle and handle type properties
    
    
    20070522163458-7fe3f-e86d6548c715b65d0209819ccff3a258783eb1dd.gz

commit f9ff1cb1f20f7592ce38a4aa83b65073e171d6ff
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-22 16:34:22 +0000

    properly install handle and handle types properties
    
    
    20070522163422-7fe3f-242a4f0a64861030f12021ea0f45bbec49e4c7a8.gz

commit 8ccf79e960a432ac04b2415d7b08c53d872822a3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-22 16:15:10 +0000

    stream-tube.c: add handle and handle types properties
    
    
    20070522161510-7fe3f-c0c40c515073618526602475811a6cbab1cb9b5e.gz

commit e517ba043d340dd1f6ebab421706933f36b4098d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-22 16:12:59 +0000

    tube-dbus.c: add handle and handle type properties
    
    
    20070522161259-7fe3f-55c7d2d731f7e3d6d9c957e9822f7e4c36523634.gz

commit 95d2a05bdd5f3552e79cf98b91a84a0ab1e8612c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-22 13:56:28 +0000

    fix some coding style issues
    
    
    20070522135628-7fe3f-fc11b4573990f53c4d2a10c56a8e3a45fa19b88a.gz

commit cd8a21fea934400dc063b8cceb4d095ee8b9b542
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-22 13:43:05 +0000

    now we have another tube type implemented, we have to build tubes support and just disable D-Bus tube if D-Bus version is too old
    
    
    20070522134305-7fe3f-fdeca4daf06b08c71d4a190f0acb0c9c61ecb957.gz

commit 350a91e83d36018118d9fc41930d70cdc76e70fd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-22 10:35:26 +0000

    interface bytestream and local socket
    
    
    20070522103526-7fe3f-b56678a9a261c1afea8521a69f0cac5056fcaf03.gz

commit eba891ac774681236ed6172973076550563f8e04
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-21 16:44:02 +0000

    create sockets whe opening the stream tube
    
    
    20070521164402-7fe3f-8193131208d466c4dfe50d79c0ec64ec53c379c9.gz

commit f5191e2ed948aa91a159dfb465bf744f167653e5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-21 09:50:25 +0000

    add 2 tests to check tube type before excute dbus-tube specific code
    
    
    20070521095025-7fe3f-1f9d2b70154d2e3d7a9b4f13be62ea27362d1bb0.gz

commit 6be479cbdf4f6e66cc16c8bc243e416c9dd88543
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-21 09:35:30 +0000

    add missing break when publishing stream tubes in muc presence
    
    
    20070521093530-7fe3f-d579308c91467f988ea7d7e1f69a4422c9ef1390.gz

commit f6888fac1b6c4ea8b19b0b7795ee7dd0e4b57acd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-18 12:40:10 +0000

    make tubes-channel stream tube aware
    
    
    20070518124010-7fe3f-6019e9c120f538f1cdbda36c5549954181d7e69e.gz

commit f11bd736e5f506b2e45b1c22d3632c7304ed68d6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-21 09:22:36 +0000

    build tube-stream.c
    
    
    20070521092236-7fe3f-bdf5345d80a4170a5237a4b0594b427ad4dbe1f3.gz

commit bb2818781b218e9e77596fc007d8a445727417fe
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-21 09:21:29 +0000

    add tube-stream.[ch]
    
    
    20070521092129-7fe3f-a18108b4c8deba53ca7563c86a845d241b94794e.gz

commit b46c9561779bb44ec1b6607f1e3e678e82992db4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-21 09:20:21 +0000

    documents tube implementation of GabbleTubeIface
    
    
    20070521092021-7fe3f-c630a2305ec2f786a35f0f3395f0ba3e6e2db8e1.gz

commit a0c45ec1f63403aae1765a6c1b6641528e82bf36
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-18 16:28:54 +0000

    modify tube-dbus.[ch] to implement GabbleTubeIface
    
    
    20070518162854-7fe3f-c20e6b193413a01065151c905897ad8a85ae9063.gz

commit 3ff936c4f02a123deeaa93de1537920035546386
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-18 16:28:09 +0000

    build tube-iface.c
    
    
    20070518162809-7fe3f-6aa13f0cdd6767c08ad4f4bd7bcc5892b35dc972.gz

commit 8141928d8039c4b9688f3c1c88c3b6580382f153
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-18 16:27:17 +0000

    tube-iface.[ch]
    
    
    20070518162717-7fe3f-056132f975f44a546bca183ba5164daa61ff9d9f.gz

commit 0402ce5be876696b38c7c716fb963e79b3d192a3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-08 23:23:22 +0000

    fix conflict with head
    
    
    20070608232322-7fe3f-9aabd1d8927df41bbb887db6be06f37300bd1d82.gz

commit ea5e798d597a8e63b31185c9f1b2e9c590516149
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-04 15:31:09 +0000

    Coding style tweaks
    
    
    20070604153109-53eee-3e96077de7eceebd75f74b5f1e3a3a8ffa44293b.gz

commit d6e717019482f2cd3d7c36fe1a6aaf997f3e72f3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-06-04 15:12:50 +0000

    fix a conflict between telepathy-gabble-tubes and gabble-olpc-smcv
    
    
    20070604151250-7fe3f-e266f3a8c4c7763c3e24e46a41ebd718f3813c79.gz

commit cb0015911402867f03b835029867e0f75c0183b8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-01 16:45:47 +0000

    muc-factory: use gabble_get_room_handle_from_jid()
    
    
    20070601164547-53eee-b26131112fb3837d1d4ac42eb4997af3224722d9.gz

commit bcd72fa17cc7952f3903f0630451cf82cdf64423
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-01 11:57:39 +0000

    Signal creation of tubes channel if the corresponding MUC was already ready
    
    
    20070601115739-53eee-0f8725c36a55689671c4238075244aab5f4a80f1.gz

commit 9d9d179f178fe01760ff321c580e6de8efcef85c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-01 11:49:15 +0000

    Install the MUC property
    
    
    20070601114915-53eee-aa445465a604798ee9d4fd09d1828f9bcf8ccd58.gz

commit 9dd7e5692acca7b7bc201462a0d7555f2cf8629a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-01 11:36:21 +0000

    Update to newer external group mixin API (now the tubes channel will emit MembersChanged)
    
    
    20070601113621-53eee-0e6f6808dfcd103f55daba8019f0373b975d8415.gz

commit c1cad8371f6a92ed67ad0cc8036ccc5a93780b03
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-06-01 11:36:16 +0000

    Whitespace
    
    
    20070601113616-53eee-566ebffc9408c9a04bbef1d2d535e6f1e7deb69c.gz

commit 8f81dee6a26674210b76c7413d03d225fd09422e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-31 18:21:32 +0000

    If a tubes channel has a MUC attached, give it the groups interface
    
    
    20070531182132-53eee-207d8a6f8eab1c64cec857b4a867db763f75dd13.gz

commit 0fa1fe1d9c0c277a5451a338db76b713b19fef8c
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-31 18:17:54 +0000

    Let tubes channel implement the group interface, using new tp_external_group_mixin functionality in telepathy-glib
    
    
    20070531181754-53eee-c00f1dc6746a866be8d1548a8a63752a2c8f956b.gz

commit 1d06ee84baa8eda00b44d8cfe6b99964bbee6f84
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-31 13:39:16 +0000

    Close tubes channels when their corresponding text channel closes
    
    
    20070531133916-53eee-5ccb7a2d58b570879c0870d94ba6588e60f9f9ff.gz

commit f25fd2244efe972060fef171199397d4020eab84
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-31 13:39:11 +0000

    Instead of self-handle, Tubes channels have a muc property
    
    
    20070531133911-53eee-0b68705426341d9aaaa6e1c309d7941cb30de23d.gz

commit e484b3a38b7f821d414041b3aa6f89be63b10ebb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-31 12:05:41 +0000

    Make the MUC factory responsible for MUC tubes channels.
    
    The tubes factory only handles one-to-one SI tubes now.
    
    20070531120541-53eee-6a8b0571f81032eca3a97141865bb48686543683.gz

commit 5a6321ecb65878e196046bed7a598a7e602c7213
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-29 10:49:36 +0000

    fix gabble_tubes_factory_handle_si_request coding style definition
    
    
    20070529104936-7fe3f-0b51e265ed1a2fdf77647880c83d534c9acf65cf.gz

commit 619bf3fb55d23cc8b6eaf69ac1e0a3bbe56006cb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-24 13:13:13 +0000

    add a comment explaining why we call gabble_bytestream_ibb_decline when closing the stream
    
    
    20070524131313-7fe3f-ed70b1776d3ae97942e98e3876a0598b2022c139.gz

commit b0758897525a02279c7707af1310fccb94ec7180
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-24 11:25:15 +0000

    bytestream IBB: check if bytestream is already closed before closing it
    
    
    20070524112515-7fe3f-65ee2e440151aab3baaaa688546fdc6f9fdb6813.gz

commit 77f258b969c95c448f60592d036b639db10a7f9d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-24 11:02:47 +0000

    tube-dbus: gabble_tube_dbus_close always emit the closed signal even if it doesn't have a bytestream
    
    
    20070524110247-7fe3f-4dd99833a9fd16f0b226bd781067d9782e1c675f.gz

commit 912117f5d94574cf3b9e7e29a5287881f43c2ea0
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-24 10:49:38 +0000

    bytestream IBB doesn't emit the the state-changed signal if the its state wasn't effectively changed
    
    
    20070524104938-7fe3f-9441822d4dfd64563f36e1429e9f96f1df421f53.gz

commit 1a676b40f67baa0f5d5d8232e94126027bdacab5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-22 15:33:09 +0000

    rename gabble_tubes_factory_handle_request  to gabble_tubes_factory_handle_si_request
    
    
    20070522153309-7fe3f-a571073692326406622a60ba4cd2bb75fdff0d90.gz

commit 5d1edcb38c0f42fee5061d3c5c03a5166d2b1b3b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-25 09:43:09 +0000

    fix a leak when parsing IBB iq stanza
    
    
    20070525094309-7fe3f-b9ffd2ea00e735f990f95895628b4cd9a9a6fa8c.gz

commit 33d77ac20f3b1f408e3474bff2950fcaf9bec413
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-25 09:41:53 +0000

    fix leaks when initating IBB bytestreams
    
    
    20070525094153-7fe3f-c663ee72889b2e306b51b88a32693effd8db6f55.gz

commit 1a17ba3aa8559a4b351e4f4ba92b886f807f4dc2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-25 09:38:17 +0000

    fix a leak when responding to IBB close stanza
    
    
    20070525093817-7fe3f-d6c1b90deb1424a2bba406a0628babaac4598485.gz

commit 5ced5e807ef4bdb9349de949b6b6fa6a01b2fbf2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-25 09:36:47 +0000

    fix a leak when accepting a tube
    
    
    20070525093647-7fe3f-062bb807d323962eb82d038e4465f44d9c2c350d.gz

commit e0981028fcfee6efc9e7060fc9f149193a9dddd2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-24 09:23:41 +0000

    fix NS_SI alignement
    
    
    20070524092341-7fe3f-631d31becf2cd4b44efe493b3a39e0ce8eeeeb02.gz

commit 4d1d7b6879e943f064a6819f8115f2726a384ebb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-23 14:55:49 +0000

    fix args alignement
    
    
    20070523145549-7fe3f-36aeaac7010dd217b38f989c77cf298e0fc33038.gz

commit 121d599e152e8fa290b5ffd38e8a2c53204846be
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-23 11:56:18 +0000

    raise TP_ERROR_NOT_AVAILABLE in GetDBusNames and GetDBusServerAddress if the tube is not open as said in the spec
    
    
    20070523115618-7fe3f-0e942859b62d86b3943706534fb5dec0e3e3724f.gz

commit 2ea1e55aa83190891643099761864e1981e0ae8b
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-22 13:49:47 +0000

    use tp_g_value_slice_free instead of your own function
    
    
    20070522134947-7fe3f-7de4decf8750050350a6e4ea4d8dca197ab50bfa.gz

commit a8ea8180f5ed059b99ac5151cdff186d33cbf17f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-21 12:54:14 +0000

    destroy the tube if the negotiation of its stream failed
    
    
    20070521125414-7fe3f-907232c557b4816075829d692357d9c52a12d01b.gz

commit cd56e79fade65097a5a4bf8b5d2f81e94bfd91c9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-18 12:15:34 +0000

    remove TUBE_PARAMETERS_TYPE as we don't use it anymore
    
    
    20070518121534-7fe3f-154eb2e7860e797e70d4febfa6cc5386a1c9d7ef.gz

commit 19e95212d7b0a14cd00ab958726f0275212d798e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-18 11:50:28 +0000

    fix coding style typo
    
    
    20070518115028-7fe3f-c7f03559eb8955a0d7293edf7d5dea6568d384ec.gz

commit 22f700b92c612a65277cb51fddc1417d937ebd17
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-18 11:04:13 +0000

    Check for dbus_message_marshal in the libdbus we'll be using, not the system libdbus (if different)
    
    
    20070518110413-53eee-2087d597f749043b1f39a5ebc32f67b02e4db859.gz

commit c93560be707c8b74edd9d4bff05b03e11ade851c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-11 12:59:24 +0000

    avoid empty block if we build with --disable-debug
    
    
    20070511125924-7fe3f-fe557244962571750531d1faa6730dc2086048ef.gz

commit 46bf9b7929ae45871e94140687ff86292477bb7d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-09 15:48:19 +0000

    don't include tubes-factory.h if we don't build tubes
    
    
    20070509154819-7fe3f-7c1b07f06556ed9c913f8b112b72411b903ab30d.gz

commit a6d2d86970c6f78907b94a02401f73178a687bcd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-08 10:11:31 +0000

    fix typo
    
    
    20070508101131-7fe3f-62c0d84ab6d0978cd6bd376701c9c1c0e067a0bd.gz

commit 1607426248e8b30b406de89055d95b5de289ce99
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-02 16:25:11 +0000

    use gabble_bytestream_ibb_send in gabble_bytestream_ibb_send_to when used with a private bytestream
    
    
    20070502162511-7fe3f-f410f78332eb15944810577613a39b96985b30aa.gz

commit 55c82553f0cf4e573e116790cbb9e2121953b278
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-02 15:58:47 +0000

    IBB send to the full jid as said in the XEP
    
    
    20070502155847-7fe3f-b39f7be684a7b771fe1e1a4845e5fb84468591e4.gz

commit 205de39bf255673fd1920b65815467ebb1a81f09
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-02 12:44:12 +0000

    catch sending errors when sending IBB open stanza
    
    
    20070502124412-7fe3f-dc29b6362a6809463a67bb102e970fee5bd2c6c8.gz

commit 2ade13d0c9729a3f99b7d459cf86ec4ff5dd03e5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-02 11:06:38 +0000

    we don't need to explicitely call gabble_tube_dbus_accept if we create an already open tube
    
    
    20070502110638-7fe3f-d0ebd6e199f69f6a2f7e2f43f9b3890132533767.gz

commit 322e4721ca127e93a5c9f350ca452c78583eabe1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-02 10:59:16 +0000

    split the acceptance of a tube and its opening
    
    
    20070502105916-7fe3f-19af0a17a05c0de1f2e2de13c610e6eeee6c87ed.gz

commit 3ee27477ee9a9ffa04289b5e54841722333c57df
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-02 09:38:02 +0000

    muc tubes have to be local pending while user doesn't accept it
    
    
    20070502093802-7fe3f-333088317f74edf04c95c5d8c6c8158b74b8561f.gz

commit 687f243f15b8e7d57a2ecef01c918b6841a286c4
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-01 17:38:01 +0000

    don't emit TubeStateChanged while the stream is not fully initiated
    
    
    20070501173801-7fe3f-d29c539ba37c2bd27b3262ee5473a41eb54a7bc9.gz

commit ab2b859ba87d8c294e205fed2b8eed30e065cb41
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-01 17:24:14 +0000

    we don't need a state-changed signal in D-Bus tube as tube can only become opened or closed after its creation
    
    
    20070501172414-7fe3f-3caaf5b11325fb304f07a710cb0708d7c596758d.gz

commit 7a87175b3e7b020e87a97c659275aa414dad4bc2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-01 17:10:36 +0000

    stream_id from gabble_tube_dbus_get_stream_id have to be freed
    
    
    20070501171036-7fe3f-268537404ef160a1801fbe1300a347fd31d8f6f8.gz

commit ad026b1996081cb40476c31848b72a75a1bc3004
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-01 17:04:15 +0000

    TubeDbus emit signals when its state change so tubes-channel can emit D-Bus signal to inform user of this changes
    
    
    20070501170415-7fe3f-91139feaa04ec7aa835c57cf4366baffa75b70e8.gz

commit f1f7175cc09e95e93e15b8d4b1f4019e07ab3813
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-01 16:18:06 +0000

    perform IBB initiations after the SI was accepted
    
    
    20070501161806-7fe3f-e6aa291941f9f895509d4e97611277fe4def8b1f.gz

commit 6a60e5f90e80af0f48753b35b93dafc3de00d81e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-01 14:26:01 +0000

    remove double declaration of gabble_bytestream_ibb_close
    
    
    20070501142601-7fe3f-4685c1bfdc7d5e2c7584603b76ec574f931e712d.gz

commit d8d06da3aeaa1ccaefbad27e7f5b416f302738c8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-01 13:49:23 +0000

    don't explicitely store the tube state but use bytestream's states to find it. So we avoid redundancy or incoherence between these 2 states type
    
    
    20070501134923-7fe3f-0c3265fbd852d15f496eec557995c2ef26ec8bdd.gz

commit b811fa8311f2db3cf81a1baf21975cbde3151e96
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-01 12:49:36 +0000

    returns REMOVE_MESSAGE if IBB close iq stanza are malformed
    
    
    20070501124936-7fe3f-00a48dfd8b2f0bb133375565a2204e9ed3d43251.gz

commit 33e90c17580494826759140563d05033bbc536f3
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-01 12:45:29 +0000

    use parse_ibb_data in IQ IBB cb as we can receive data through IQ stanza too
    
    
    20070501124529-7fe3f-3e517aa397f4d458500fe81fb453ded4fb8fd5d7.gz

commit f6b4bc5446302ef048e490dd95b0bc4d4b625876
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-01 12:41:30 +0000

    add some debug messages in tube-dbus
    
    
    20070501124130-7fe3f-89230b37278010829a93c521d10589da9b8577bc.gz

commit b4468e9930f19c7838a1dbdc3ac15963da5779a5
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-01 12:34:53 +0000

    factor out IBB msg data parsing
    
    
    20070501123453-7fe3f-ca92006d8533640f6ff7e046d7e6b09b82fc3c18.gz

commit 004244c1c3ddb4e73f2bcfe1b130ddbf4276950c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-01 09:37:23 +0000

    check if stream id is not null when parsing IBB msg data
    
    
    20070501093723-7fe3f-8838329c4f9e5b4b109c4c522e0581661a313d91.gz

commit 12def4575b49e69e03630f7898b8bff5269bd21d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-01 09:35:15 +0000

    close an IBB bytestream when we receive the close msg
    
    
    20070501093515-7fe3f-215751d9a67db35f40d288d7934f370df769f63d.gz

commit 8ea450df98084b9e1db502933f3be0f1c5c50209
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-30 16:37:08 +0000

    send IBB close message when closing an open stream
    
    
    20070430163708-7fe3f-e958cd02702a5aafc5055cbf4c9cfc78fe9d8004.gz

commit d72869fc16185d11fa8cca1afde27886820645f6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-30 16:24:10 +0000

    catch state-changed signal in dbus-tube
    
    
    20070430162410-7fe3f-b5b00799c4ec17a7b53778838698163063234ae7.gz

commit 1dbdb100a81a4523880a38489c5d6cf1352de686
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-30 16:15:39 +0000

    prevent to change tube's bytestream during its lifetime
    
    
    20070430161539-7fe3f-457fe56eb5cade74c06a3c82f8369fa2efe39abf.gz

commit 45f64d5d133d974bda72ba99c2106a2c2e4adc75
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-30 15:27:37 +0000

    close IBB bytestream when dispose it
    
    
    20070430152737-7fe3f-8082eca0729f8df54a66cc86caa13dceacfbc0c4.gz

commit 826b753f9c2a5f21b967566c712895260110dad7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-30 15:25:15 +0000

    BytestreamIBB: use the property setter to emit the state-changed signal
    
    
    20070430152515-7fe3f-6eb62740c735e00c5a3982d3f5f8a35d3b191ea6.gz

commit 22c28598d92dd8d30f3a673a953c8dd49e70b116
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-30 15:11:51 +0000

    BytestreamIBB replace the "closed" signal by "status-changed"
    
    
    20070430151151-7fe3f-8b94bb4c7d0c39dfd16a984cb4f1fe01c7e56309.gz

commit c6e7b94b06ce96256d3917dc38504d9ee629d565
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-30 13:11:09 +0000

    set his dbus name in SI reply so we can properly update dbus-names in private tubes
    
    
    20070430131109-7fe3f-91693e088659abb1ac63481e1f988e8a666308e7.gz

commit 54e964a0e2958e310f9c290a4c42acb3aab35568
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-30 10:59:47 +0000

    update dbus-names and emit DBusNamesChanged when we receive a tube SI request
    
    
    20070430105947-7fe3f-ab2bd8d14cbc462f0ef489a00ae8a462f673db99.gz

commit 0557154c53225bbdf9b8618b27b95a9b542b6d59
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-30 09:24:22 +0000

    BytestreamIBB: use a "state" property instead of just an "open" boolean
    
    
    20070430092422-7fe3f-66f0b360dd0af7379219e96674bf474d434e900e.gz

commit c180ef898fbb38b51d8e35e8fd48c5c343e3757d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-17 17:48:06 +0000

    fix conflicts with -tubes-cassidy
    
    
    20070517174806-7fe3f-b136899e17b8cbdab828ad032148f64b95c7e6ce.gz

commit 98ec95705124a845f90857185e21f2f2d2043b1d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-01 08:29:40 +0000

    remove double empty lines
    
    
    20070501082940-7fe3f-ecad76948639566084c713bb1a38819997c04907.gz

commit ea36b5ba22cf2c38ee17126506893f84d56cd978
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-30 10:10:40 +0000

    add_yourself_in_dbus_names: don't unref the name as we keep a ref on it in the hash table
    
    
    20070430101040-7fe3f-22d04dce2ef1d5f608b7dfc605f228793fc00207.gz

commit eaeb86d5c2ce06e5ca0a070f1d880525bc2f350f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-30 10:02:41 +0000

    always emit the DBusNamesChanged when adding himself dbus names
    
    
    20070430100241-7fe3f-c06ecc718a0d7c01069299bbf8ca8a37cb13c7c1.gz

commit 3c957ac361b30770bac1a92a9020cbd62caae939
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-27 13:22:16 +0000

    esthetic trivial changes
    
    
    20070427132216-7fe3f-49612069a5b407774d03beae08fe74fca764f5a6.gz

commit bfc8eb8e570578940249049d2100c9aaf4fe9540
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-27 12:08:50 +0000

    include self header first and fix header inclusion problems
    
    
    20070427120850-7fe3f-1ed4e3a14aab0b6a3c3c8e6ceb06633aeb8bb533.gz

commit 4ca9c8d3de2a8048ebaad77ff7de9cdb3100fbd6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-27 11:17:28 +0000

    remove file transfer NS/cap/debug as we don't implement it yet
    
    
    20070427111728-7fe3f-9270c51f112bdb699e0d9b54d9e2e4c297027e2a.gz

commit ab04006d3ea6096bd2feabc78024bae1dc25e5d1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-27 11:10:05 +0000

    some cosmetic changes
    
    
    20070427111005-7fe3f-17159e71abef172adb290119b8e59537f1e91597.gz

commit 0ac2de8b92c10a7a168fd6b079d716731222fbe2
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-27 10:52:26 +0000

    properly reject the stream if there isn't any supported stream method
    
    
    20070427105226-7fe3f-f2fc5ecee6da8afeb6006f24568597913ac09fd0.gz

commit 9db2d5d6491f5dbc90474f005b46c94813ca025c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-27 10:36:57 +0000

    properly reject the stream if we don't support its profile
    
    
    20070427103657-7fe3f-0e51e11ec37ccdfdd5e4a1a05b127fa9e7249d93.gz

commit 6603f9485b3aa0344a5968b7091db63d13f4b11a
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-27 10:17:09 +0000

    always send the close signal in gabble_bytestream_ibb_close
    
    
    20070427101709-7fe3f-edf7bf237c346e5954a9d070081a4b4893859e77.gz

commit f43e61e9064a3b8df62710226ec42c0b556bfb60
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-27 09:45:32 +0000

    rename and document SI functions
    
    
    20070427094532-7fe3f-051fa2b4ab2f623b3ef341710c04bf5ab68bd2fb.gz

commit d2951e8a7da1693b7df7350db82ff8134d0affd7
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-27 09:14:22 +0000

    use early returns when parsing stream methods to limit nesting
    
    
    20070427091422-7fe3f-ad0f33d4e9e9dbb9f94156e1e69fa3aaa48de155.gz

commit 2d61498812e3564007b0539284f0741513f079cb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-27 09:04:00 +0000

    rename LmMessageHandler* too
    
    
    20070427090400-7fe3f-dd19a0ce4cba2330b6738b89090805faeb9d360b.gz

commit 44fb3a0b9cce8fc1fa292ac67cc0310b3b63f03f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-27 08:58:47 +0000

    better naming/comments of lm cb
    
    
    20070427085847-7fe3f-132a0a2196656209637c325cf428886bd1c9c809.gz

commit 4eb43cb2b8e997638914a5ddab59f2cb4ca2395d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-27 08:51:55 +0000

    remove a trailing space
    
    
    20070427085155-7fe3f-a31e1a8cb46d3e94c80a4949a27d594fda469c3c.gz

commit 9ecd8a6137cdbd609ee0d8b29415d45374e9506f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-26 15:44:57 +0000

    move SI accept stream init code to bytestream factory
    
    
    20070426154457-7fe3f-de0d5ee9d3965638824f6a381cf1193fdefe433a.gz

commit 3b9a0d78396751b1288f72b42c57d9e0e2f6a97f
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-26 15:30:37 +0000

    move SI decline message code to bytestream factory
    
    
    20070426153037-7fe3f-ef31d62344fb2c2a8c3b0dcba6726435a37a52db.gz

commit da40d1123bc6acc26081d67f6b2fa6a9a67928f8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-26 15:21:07 +0000

    fix functions declarations style in header files
    
    
    20070426152107-7fe3f-c8c25724394a3205234c969ccd0a6fb477dcbe74.gz

commit 904a8e3ee464edbbadd62e8bc45d37e0b4c6cf47
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-26 15:00:49 +0000

    set gabble_bytestream_ibb_decline as static as it's the job of the close method to decline the bytestream if needed
    
    
    20070426150049-7fe3f-27c10bd94ea56eeb350de808e346812ef865bace.gz

commit 034e0efca3aab4d3c8d029fc767e6cbc7c74fa57
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-26 13:33:33 +0000

    use lm_message_build in gabble_bytestream_ibb_decline
    
    
    20070426133333-7fe3f-961bdcd6a145e2cabff154b0dd4ffd9b15e9a2eb.gz

commit b0d145fb3726576f27f5e46d43330dcbeb060848
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-26 13:17:58 +0000

    use lm_message_build in gabble_bytestream_ibb_accept
    
    
    20070426131758-7fe3f-3210638973f58bf5f941a57903584734a167c2b6.gz

commit 07ab304ebc9408e870b78fe940c90f64fd857101
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-26 12:56:06 +0000

    use lm_message_build in IBB send_data_to
    
    
    20070426125606-7fe3f-7cd9a800c4d0d6e4e63594c0571b013729e58c17.gz

commit b9c5a98087fa26e617bb9cf13a3bd6959e45c609
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-26 11:51:42 +0000

    use lm_message_build in gabble_bytestream_factory_make_stream_init_message
    
    
    20070426115142-7fe3f-174a179df8afb32fc351e9892f5a7cd244b70d8a.gz

commit 20045e737dfc6b77d1ebd50f5ad8826ed29c9ff8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-26 11:19:03 +0000

    we don't need to give the peer_handle as argument to gabble_bytestream_factory_negotiate_stream
    
    
    20070426111903-7fe3f-98bd428cd79b8cd2d6c66ca025f9a4fc76c331d8.gz

commit a01f04a24482c018b843a9509cf4d850563e0bcb
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-26 11:03:30 +0000

    remove lm_message_node_{new,free,ref,unref}
    
    
    20070426110330-7fe3f-e740d6d216d1bc3c1a5b292a74c9d5f502a828ce.gz

commit efdac3c988ca8a64f59eeed1e643883968c8dada
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-26 10:59:22 +0000

    factor out the SI msg creation from negotiate_stream so we can avoid to do insane stuffs with LmMessageNode
    
    
    20070426105922-7fe3f-4e6871ce8932f2e1ba69e9bded28f39a13eda9a8.gz

commit 4c50f5395fc56be94887c21e4d341c38c64665cd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-24 11:50:21 +0000

    remove base64.h include in tubes-channel.c
    
    
    20070424115021-7fe3f-bb259d6f03b858f18d6e629c33cfe19f04fd75bd.gz

commit 549ecddd06c83bfa58bb62df692cf0dbaefb74d1
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-24 11:41:02 +0000

    tubes-channel.c: use new mapping XML <--> HashTable functions from util.c
    
    
    20070424114102-7fe3f-671304b47a8c24f42c098bb29e36aa157b9ec136.gz

commit 9c7c54d06a08f801927981eb730399e8f48801c9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-24 12:54:56 +0000

    properly destroy and decline the stream if the tube offer is buggy
    
    
    20070424125456-7fe3f-7af401b47adbf3d0e64e5e7697fa7866f5c70853.gz

commit 8b9721d0250b3cb966e43294c2719e3048572f85
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-24 12:28:41 +0000

    catch send errors when trying to negotiate a stream
    
    
    20070424122841-7fe3f-fdda23971526dae657211fb7abd46c801b0571b3.gz

commit f20a759f0b86680f3b3a65ff0893242ae9a92153
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-05-17 17:39:41 +0000

    fix conflicts with HEAD
    
    
    20070517173941-7fe3f-8dec4f007da40f83c48df4f769e9fd0d224434df.gz

commit e21dba06f503900f5e9d947b00924673acf2d793
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-11 10:57:33 +0000

    Assert that D-Bus tubes have an initiator and a connection
    
    
    20070511105733-53eee-a559aafa690fe35c373fafdbb3fb90028d36c650.gz

commit a8e3cb73f807dfe51cb16a924b297a04ef162f4b
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-10 17:52:08 +0000

    GabbleTubesChannel: add debug when people join and leave tubes
    
    
    20070510175208-53eee-4069b13d05a0e447a6dc19658636b5b9f05c37cb.gz

commit fc315029ffaf82c11711dd0c39f2ae287c209f6e
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-10 17:44:35 +0000

    GabbleTubesChannel: have extract_tube_information create the handle if necessary.
    
    This fixes the following failure:
    * you join a tubes channel
    * there is a tube whose initiator is A, also containing B
    * you receive B's MUC presence before A's
    * the initiator listed in B's MUC presence is A, who isn't in the handle repo
      yet, so the lookup fails and the tube (along with the announcement of B's
      bus name ":1.bbbbbbbb" in it) is ignored
    * you see the tube listed in A's MUC presence and decide to join it
    * you will now reject messages from B because they have sender name
      ":1.bbbbbbbb", but when B is looked up in the GHashTable of valid senders,
      the result is NULL
    
    20070510174435-53eee-f7887cab678b464889c3bb87c0b997f0f85b1209.gz

commit ae8b79d9c361205174277e8b115725780f06884f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-10 17:42:26 +0000

    GabbleTubeDBus: when someone spoofs their sender address, be more helpful in the debug message
    
    
    20070510174226-53eee-ad0e7a6d06c70c78fa5dadaf446475610b50dd37.gz

commit 80164b47f832a5235d87ef1972c077768e35dfc8
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-05-10 17:41:57 +0000

    GabbleTubeDBus: reference the initiator handle rather than borrowing it and hoping it doesn't go away
    
    
    20070510174157-53eee-25d3acf865a875989545f2420581861d19c859a8.gz

commit c09b23e2adfc938b2892b2c913bf40578a6df7ca
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-26 09:35:28 +0000

    instanciate tubes and bytestream factories (re recorded)
    
    
    20070426093528-7fe3f-468ec58461e021bf623062da0843c86d320e549f.gz

commit 8add6de25fbd6c7cfd695ce0bfcfcc74b4e40bf9
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-26 09:16:36 +0000

    fix conflicts in capabilities and debug
    
    
    20070426091636-7fe3f-c5b170a577dbc35fd4a7d85e372cb2892ee44bab.gz

commit bb7e6ba739b5879b3ae8992ddd6294917500c087
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-04-23 19:03:34 +0000

    D-Bus tube: don't ignore messages with no destination address
    
    
    20070423190334-c9803-65947d145dce325a58cabc30d67a61c1a88091d0.gz

commit f41c56808296bfb6bb618667bc1bbc9128a87e4f
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-04-23 19:02:34 +0000

    D-Bus tube: don't try to look up a destination JID for messages with no destination D-Bus address
    
    
    20070423190234-c9803-11fd5cce187badac1e4be6003a30e9230ad6c192.gz

commit 9c373f4e006f19b78032939379e0ae7ea4e065fe
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-04-23 17:28:34 +0000

    use channel self handle instead of connection self handle when offering tube
    
    
    20070423172834-c9803-745d59d3deb89bc40c56108895366a42f4d8cba3.gz

commit e49aefa3f7fc97781fa34816720e0bf3d6cd3e02
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-23 09:17:07 +0000

    coding styles trivial fix
    
    
    20070423091707-7fe3f-965d14302c6a041326749d29c13b7f1d9fff609e.gz

commit 57357f6a000d9b87688d2ad214448a65d5deeae3
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-04-23 13:19:22 +0000

    don't use AM_LDFLAGS for stuff which should be in *_LDADD
    
    I wish there were an AM_LDADD.
    
    20070423131922-c9803-1bd254070858b88a7dba945ec43e568217f87ca3.gz

commit 8fbb46804db73e57eb65987c45a71e6a7cd5cf6d
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-23 08:36:17 +0000

    remove useless test in configure.ac
    
    
    20070423083617-7fe3f-3c76399a4817736239df2486dd131fee08cb2e3e.gz

commit 4521418a5f6156ac76506b66337caff585b2b1db
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-20 17:33:59 +0000

    Add telepathy-glib-unstable as a soft dependency
    
    
    20070420173359-7fe3f-e92653e73534c63ed7d1d03ddbc5847c32288640.gz

commit 2ddf9eee45769fb304f257ed264cf2d1bb7eaf09
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-20 16:04:50 +0000

    build tubes support if we find dbus_message_marshal in libdbus.so
    
    
    20070420160450-7fe3f-28645de820820985f66c52b961c9cbd41c5eebc5.gz

commit dde12a8f5d5a6d8dd9ebe1198860cffe42d21369
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-20 15:28:10 +0000

    implement gabble_muc_factory_find_channel
    
    
    20070420152810-7fe3f-54c9a361810c4d3f808f15ef19a740b1ac5c3df2.gz

commit 3bc38eb5a1e18419ce5aaff0c9c5d61e708c2d96
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-20 14:20:32 +0000

    include svc-unstable.h
    
    
    20070420142032-7fe3f-a1a34f39b18c563b94036691f2aee59331303c56.gz

commit 7b5f6aacae987635f56c48b04723498364002bc6
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-20 13:46:24 +0000

    doesn't include handles.h
    
    
    20070420134624-7fe3f-67cefd601e400b8844ffb5b1279a56052c999e31.gz

commit b70cea7aca5f53b78de23c3d8f6591d52c33ad50
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-20 13:41:43 +0000

    build bytestream-factory and bytestream-ibb
    
    
    20070420134143-7fe3f-c4cbda93916dc2df80ab8643a7a181db1bd4668f.gz

commit 7c4326936b0a5384e44a6352f66a77dbcc7c40cd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-20 13:38:56 +0000

    add 2 new marshals
    
    
    20070420133856-7fe3f-d6a24f20f756ce9297176ea9e71f095d9c93e79c.gz

commit 78341841f440f65046a04f3a7afe6c1e9fb63777
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-20 13:29:07 +0000

    add some lm_message_node utility functions
    
    
    20070420132907-7fe3f-e86a2348b4cec8699ed9b6e25736b7382607009e.gz

commit 489bc318e6c90bba30ba32bde33f98cef2e94ab8
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-20 13:23:19 +0000

    add tubes and bytestream debug flags
    
    
    20070420132319-7fe3f-a82dab4aae0364706b03dd9ec8e741d7a27e460a.gz

commit 76eebae22af28784c6374491404f86e789980fbd
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-20 13:20:44 +0000

    add tubes/SI caps
    
    
    20070420132044-7fe3f-73156ddf604c6bfd733a95d4ef49f373eb8adac1.gz

commit ff800b9237c2d4e1297b68602ce18380564be561
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-20 13:15:44 +0000

    add tubes/SI related namespaces
    
    
    20070420131544-7fe3f-d06418b286eef0003f36529719831f35431183f2.gz

commit 17c6a2b54735013871f30ea5986583be78285a46
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-20 13:09:03 +0000

    add tubes-factory.[ch]
    
    
    20070420130903-7fe3f-da04d21fc9115b330ab24216c669e621f54afe99.gz

commit 6c4a6487e163d69465c20e90f480db6666ce672e
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-20 13:08:08 +0000

    add tube-dbus.[ch]
    
    
    20070420130808-7fe3f-ad043a778427393b08de3bc08dcd5ad7ef5c4875.gz

commit 499389a4532184afacd0d8ad23b91c2f3f5dad8c
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-20 13:07:29 +0000

    add tubes-channel.[ch]
    
    
    20070420130729-7fe3f-920f39da7ac0d295b1ad01c388e510b871c5948a.gz

commit 64c15ad8cf223e89d8b1d3a7b5f0b3a7e021eaac
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-20 13:06:08 +0000

    add bytestream-ibb.[ch]
    
    
    20070420130608-7fe3f-dcef80433d9dd599bebdc4c45e7e3ea368d9d011.gz

commit a08e7e6b13c4869d8fdd412909970c9c5fee3419
Author: Guillaume Desmottes <guillaume.desmottes@collabora.co.uk>
Date:   2007-04-20 13:03:15 +0000

    add bytestream-factory.[ch]
    
    
    20070420130315-7fe3f-61e300d381c510e665a3c1a8c7c0df32177dc7bc.gz

commit a71982fb658acb075d5e1243226d2db3e3def482
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-10-04 16:18:52 +0000

    Re-sync from telepathy-glib (trivial)
    
    
    20071004161852-53eee-a1bc3bcc12cbc3aec2d9e6a49474a8c1920f000e.gz

commit 6789b1721604ed2c3083c78da184d921907cf95a
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-10-04 11:55:23 +0000

    Sync doc-generator.xsl from telepathy-spec (add <a name=...> around signal, method headings)
    
    
    20071004115523-53eee-3e4f1dbd896c41c3fe4a85b824d5f765b9b8c6a5.gz

commit a557a7d637cbef9c64517b0b4f33a2cd8fd22a92
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-10-04 11:54:55 +0000

    Sync ls-interfaces.xsl, spec-to-introspect.xsl from telepathy-spec (comment-only changes)
    
    
    20071004115455-53eee-ef275efaf3a6901df38156f6ff478594556290d9.gz

commit cdf630d918a01f470f83f14c98a8c553ffc12ae2
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-10-04 11:54:33 +0000

    Sync tools from telepathy-glib (comment-only changes)
    
    
    20071004115433-53eee-9a5e0649a33e4db6717bec3fd1a25c68ea246707.gz

commit 467873d2fdc6afb0b15d76c65d95d6127472127c
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-10-02 17:31:59 +0000

    add timestamps to debug messages if GABBLE_TIMING env variable is set
    
    
    20071002173159-c9803-c2a694a7fd08dde10532c21b0b971f141e370edc.gz

commit b59302527783cabe4dab5cf0277d18bf358c7ba5
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-28 16:28:37 +0000

    Fix coding style in test-parse-message.c to fix `make check`
    
    
    20070928162837-53eee-35489093decc6753f94514787f4da53fffad3477.gz

commit 7b1b542f34ecb8cb7577e8eab2ea9730f88dc14f
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-28 16:26:01 +0000

    Replace g_hash_table_remove_all() in a more reliable way (if detection fails for some reason, don't fail to compile)
    
    
    20070928162601-53eee-23615e5f00db05887677717d796a36968d645ada.gz

commit 907102e47b7ff1e817cc27593354982164a992cb
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-28 16:20:35 +0000

    conn-olpc: include config.h for HAS_G_HASH_TABLE_REMOVE_ALL
    
    
    20070928162035-53eee-8024fc0f2ff823144077d709fcc451fd14aca72e.gz

commit 0a6389accb36a89d731c28a549607a66f62afad0
Author: Simon McVittie <simon.mcvittie@collabora.co.uk>
Date:   2007-09-28 15:22:15 +0000

    Bump version to 0.6.999.1 so we get -Werror
    
    
    20070928152215-53eee-041bb284f93da2fe68909ad9350bc9118edaf8da.gz

commit 6e3db26c3bd173418345f5caf1a97f571109a626
Author: Dafydd Harries <dafydd.harries@collabora.co.uk>
Date:   2007-09-28 09:05:18 +0000

    version 0.6.999
    
    
    20070928090518-c9803-a1b9748247c7e4f4b6648f21718d6da1b17f6607.gz
